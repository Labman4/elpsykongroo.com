var lce=Object.defineProperty;var uce=(t,e,n)=>e in t?lce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nt=(t,e,n)=>(uce(t,typeof e!="symbol"?e+"":e,n),n);var T_=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};function cce(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zO(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Qi={},Qg=[],Zr=()=>{},dW=()=>!1,iE=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),HO=t=>t.startsWith("onUpdate:"),aa=Object.assign,jO=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},dce=Object.prototype.hasOwnProperty,Kr=(t,e)=>dce.call(t,e),nn=Array.isArray,Jg=t=>j1(t)==="[object Map]",sE=t=>j1(t)==="[object Set]",vT=t=>j1(t)==="[object Date]",kn=t=>typeof t=="function",Kn=t=>typeof t=="string",xc=t=>typeof t=="symbol",fr=t=>t!==null&&typeof t=="object",GO=t=>(fr(t)||kn(t))&&kn(t.then)&&kn(t.catch),fW=Object.prototype.toString,j1=t=>fW.call(t),fce=t=>j1(t).slice(8,-1),Ab=t=>j1(t)==="[object Object]",aE=t=>Kn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,N2=zO(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),oE=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},hce=/-\w/g,au=oE(t=>t.replace(hce,e=>e.slice(1).toUpperCase())),pce=/\B([A-Z])/g,Gf=oE(t=>t.replace(pce,"-$1").toLowerCase()),G1=oE(t=>t.charAt(0).toUpperCase()+t.slice(1)),F2=oE(t=>t?`on${G1(t)}`:""),fp=(t,e)=>!Object.is(t,e),yS=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},hW=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},WO=t=>{const e=parseFloat(t);return isNaN(e)?t:e},mce=t=>{const e=Kn(t)?Number(t):NaN;return isNaN(e)?t:e};let lN;const lE=()=>lN||(lN=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dr(t){if(nn(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Kn(r)?_ce(r):dr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Kn(t)||fr(t))return t}const gce=/;(?![^(]*\))/g,vce=/:([^]+)/,yce=/\/\*[^]*?\*\//g;function _ce(t){const e={};return t.replace(yce,"").split(gce).forEach(n=>{if(n){const r=n.split(vce);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ce(t){let e="";if(Kn(t))e=t;else if(nn(t))for(let n=0;n<t.length;n++){const r=Ce(t[n]);r&&(e+=r+" ")}else if(fr(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function v3(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Kn(e)&&(t.class=Ce(e)),n&&(t.style=dr(n)),t}const bce="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xce=zO(bce);function pW(t){return!!t||t===""}function wce(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=kv(t[r],e[r]);return n}function kv(t,e){if(t===e)return!0;let n=vT(t),r=vT(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=xc(t),r=xc(e),n||r)return t===e;if(n=nn(t),r=nn(e),n||r)return n&&r?wce(t,e):!1;if(n=fr(t),r=fr(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!kv(t[a],e[a]))return!1}}return String(t)===String(e)}function mW(t,e){return t.findIndex(n=>kv(n,e))}const gW=t=>!!(t&&t.__v_isRef===!0),yn=t=>Kn(t)?t:t==null?"":nn(t)||fr(t)&&(t.toString===fW||!kn(t.toString))?gW(t)?yn(t.value):JSON.stringify(t,vW,2):String(t),vW=(t,e)=>gW(e)?vW(t,e.value):Jg(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[y3(r,s)+" =>"]=i,n),{})}:sE(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>y3(n))}:xc(e)?y3(e):fr(e)&&!nn(e)&&!Ab(e)?String(e):e,y3=(t,e="")=>{var n;return xc(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let So;class yW{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=So,!e&&So&&(this.index=(So.scopes||(So.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=So;try{return So=this,e()}finally{So=n}}}on(){++this._on===1&&(this.prevScope=So,So=this)}off(){this._on>0&&--this._on===0&&(So=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function qO(t){return new yW(t)}function XO(){return So}function YO(t,e=!1){So&&So.cleanups.push(t)}let os;const _3=new WeakSet;class _W{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,So&&So.active&&So.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_3.has(this)&&(_3.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xW(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,uN(this),wW(this);const e=os,n=fc;os=this,fc=!0;try{return this.fn()}finally{SW(this),os=e,fc=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)QO(e);this.deps=this.depsTail=void 0,uN(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_3.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vk(this)&&this.run()}get dirty(){return Vk(this)}}let bW=0,B2,U2;function xW(t,e=!1){if(t.flags|=8,e){t.next=U2,U2=t;return}t.next=B2,B2=t}function KO(){bW++}function ZO(){if(--bW>0)return;if(U2){let e=U2;for(U2=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;B2;){let e=B2;for(B2=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function wW(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function SW(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),QO(r),Sce(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Vk(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(TW(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function TW(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Pb)||(t.globalVersion=Pb,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Vk(t))))return;t.flags|=2;const e=t.dep,n=os,r=fc;os=t,fc=!0;try{wW(t);const i=t.fn(t._value);(e.version===0||fp(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{os=n,fc=r,SW(t),t.flags&=-3}}function QO(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)QO(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Sce(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let fc=!0;const CW=[];function Lf(){CW.push(fc),fc=!1}function $f(){const t=CW.pop();fc=t===void 0?!0:t}function uN(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=os;os=void 0;try{e()}finally{os=n}}}let Pb=0;class Tce{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class uE{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!os||!fc||os===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==os)n=this.activeLink=new Tce(os,this),os.deps?(n.prevDep=os.depsTail,os.depsTail.nextDep=n,os.depsTail=n):os.deps=os.depsTail=n,EW(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=os.depsTail,n.nextDep=void 0,os.depsTail.nextDep=n,os.depsTail=n,os.deps===n&&(os.deps=r)}return n}trigger(e){this.version++,Pb++,this.notify(e)}notify(e){KO();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ZO()}}}function EW(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)EW(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const yT=new WeakMap,im=Symbol(""),zk=Symbol(""),kb=Symbol("");function Co(t,e,n){if(fc&&os){let r=yT.get(t);r||yT.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new uE),i.map=r,i.key=n),i.track()}}function _f(t,e,n,r,i,s){const a=yT.get(t);if(!a){Pb++;return}const o=l=>{l&&l.trigger()};if(KO(),e==="clear")a.forEach(o);else{const l=nn(t),u=l&&aE(n);if(l&&n==="length"){const d=Number(r);a.forEach((f,h)=>{(h==="length"||h===kb||!xc(h)&&h>=d)&&o(f)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),u&&o(a.get(kb)),e){case"add":l?u&&o(a.get("length")):(o(a.get(im)),Jg(t)&&o(a.get(zk)));break;case"delete":l||(o(a.get(im)),Jg(t)&&o(a.get(zk)));break;case"set":Jg(t)&&o(a.get(im));break}}ZO()}function Cce(t,e){const n=yT.get(t);return n&&n.get(e)}function fg(t){const e=Jr(t);return e===t?e:(Co(e,"iterate",kb),iu(t)?e:e.map(wc))}function cE(t){return Co(t=Jr(t),"iterate",kb),t}function jh(t,e){return Nf(t)?kf(t)?Dv(wc(e)):Dv(e):wc(e)}const Ece={__proto__:null,[Symbol.iterator](){return b3(this,Symbol.iterator,t=>jh(this,t))},concat(...t){return fg(this).concat(...t.map(e=>nn(e)?fg(e):e))},entries(){return b3(this,"entries",t=>(t[1]=jh(this,t[1]),t))},every(t,e){return tf(this,"every",t,e,void 0,arguments)},filter(t,e){return tf(this,"filter",t,e,n=>n.map(r=>jh(this,r)),arguments)},find(t,e){return tf(this,"find",t,e,n=>jh(this,n),arguments)},findIndex(t,e){return tf(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return tf(this,"findLast",t,e,n=>jh(this,n),arguments)},findLastIndex(t,e){return tf(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return tf(this,"forEach",t,e,void 0,arguments)},includes(...t){return x3(this,"includes",t)},indexOf(...t){return x3(this,"indexOf",t)},join(t){return fg(this).join(t)},lastIndexOf(...t){return x3(this,"lastIndexOf",t)},map(t,e){return tf(this,"map",t,e,void 0,arguments)},pop(){return C_(this,"pop")},push(...t){return C_(this,"push",t)},reduce(t,...e){return cN(this,"reduce",t,e)},reduceRight(t,...e){return cN(this,"reduceRight",t,e)},shift(){return C_(this,"shift")},some(t,e){return tf(this,"some",t,e,void 0,arguments)},splice(...t){return C_(this,"splice",t)},toReversed(){return fg(this).toReversed()},toSorted(t){return fg(this).toSorted(t)},toSpliced(...t){return fg(this).toSpliced(...t)},unshift(...t){return C_(this,"unshift",t)},values(){return b3(this,"values",t=>jh(this,t))}};function b3(t,e,n){const r=cE(t),i=r[e]();return r!==t&&!iu(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=n(s.value)),s}),i}const Ace=Array.prototype;function tf(t,e,n,r,i,s){const a=cE(t),o=a!==t&&!iu(t),l=a[e];if(l!==Ace[e]){const f=l.apply(t,s);return o?wc(f):f}let u=n;a!==t&&(o?u=function(f,h){return n.call(this,jh(t,f),h,t)}:n.length>2&&(u=function(f,h){return n.call(this,f,h,t)}));const d=l.call(a,u,r);return o&&i?i(d):d}function cN(t,e,n,r){const i=cE(t);let s=n;return i!==t&&(iu(t)?n.length>3&&(s=function(a,o,l){return n.call(this,a,o,l,t)}):s=function(a,o,l){return n.call(this,a,jh(t,o),l,t)}),i[e](s,...r)}function x3(t,e,n){const r=Jr(t);Co(r,"iterate",kb);const i=r[e](...n);return(i===-1||i===!1)&&ky(n[0])?(n[0]=Jr(n[0]),r[e](...n)):i}function C_(t,e,n=[]){Lf(),KO();const r=Jr(t)[e].apply(t,n);return ZO(),$f(),r}const Pce=zO("__proto__,__v_isRef,__isVue"),AW=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(xc));function kce(t){xc(t)||(t=String(t));const e=Jr(this);return Co(e,"has",t),e.hasOwnProperty(t)}class PW{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Bce:RW:s?IW:DW).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=nn(e);if(!i){let l;if(a&&(l=Ece[n]))return l;if(n==="hasOwnProperty")return kce}const o=Reflect.get(e,n,tr(e)?e:r);if((xc(n)?AW.has(n):Pce(n))||(i||Co(e,"get",n),s))return o;if(tr(o)){const l=a&&aE(n)?o:o.value;return i&&fr(l)?wp(l):l}return fr(o)?i?wp(o):lr(o):o}}class kW extends PW{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];const a=nn(e)&&aE(n);if(!this._isShallow){const u=Nf(s);if(!iu(r)&&!Nf(r)&&(s=Jr(s),r=Jr(r)),!a&&tr(s)&&!tr(r))return u||(s.value=r),!0}const o=a?Number(n)<e.length:Kr(e,n),l=Reflect.set(e,n,r,tr(e)?e:i);return e===Jr(i)&&(o?fp(r,s)&&_f(e,"set",n,r):_f(e,"add",n,r)),l}deleteProperty(e,n){const r=Kr(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&_f(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!xc(n)||!AW.has(n))&&Co(e,"has",n),r}ownKeys(e){return Co(e,"iterate",nn(e)?"length":im),Reflect.ownKeys(e)}}class Dce extends PW{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Ice=new kW,Rce=new Dce,Oce=new kW(!0);const Hk=t=>t,Vx=t=>Reflect.getPrototypeOf(t);function Mce(t,e,n){return function(...r){const i=this.__v_raw,s=Jr(i),a=Jg(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...r),d=n?Hk:e?Dv:wc;return!e&&Co(s,"iterate",l?zk:im),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:o?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function zx(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Lce(t,e){const n={get(i){const s=this.__v_raw,a=Jr(s),o=Jr(i);t||(fp(i,o)&&Co(a,"get",i),Co(a,"get",o));const{has:l}=Vx(a),u=e?Hk:t?Dv:wc;if(l.call(a,i))return u(s.get(i));if(l.call(a,o))return u(s.get(o));s!==a&&s.get(i)},get size(){const i=this.__v_raw;return!t&&Co(Jr(i),"iterate",im),i.size},has(i){const s=this.__v_raw,a=Jr(s),o=Jr(i);return t||(fp(i,o)&&Co(a,"has",i),Co(a,"has",o)),i===o?s.has(i):s.has(i)||s.has(o)},forEach(i,s){const a=this,o=a.__v_raw,l=Jr(o),u=e?Hk:t?Dv:wc;return!t&&Co(l,"iterate",im),o.forEach((d,f)=>i.call(s,u(d),u(f),a))}};return aa(n,t?{add:zx("add"),set:zx("set"),delete:zx("delete"),clear:zx("clear")}:{add(i){!e&&!iu(i)&&!Nf(i)&&(i=Jr(i));const s=Jr(this);return Vx(s).has.call(s,i)||(s.add(i),_f(s,"add",i,i)),this},set(i,s){!e&&!iu(s)&&!Nf(s)&&(s=Jr(s));const a=Jr(this),{has:o,get:l}=Vx(a);let u=o.call(a,i);u||(i=Jr(i),u=o.call(a,i));const d=l.call(a,i);return a.set(i,s),u?fp(s,d)&&_f(a,"set",i,s):_f(a,"add",i,s),this},delete(i){const s=Jr(this),{has:a,get:o}=Vx(s);let l=a.call(s,i);l||(i=Jr(i),l=a.call(s,i)),o&&o.call(s,i);const u=s.delete(i);return l&&_f(s,"delete",i,void 0),u},clear(){const i=Jr(this),s=i.size!==0,a=i.clear();return s&&_f(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Mce(i,t,e)}),n}function JO(t,e){const n=Lce(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Kr(n,i)&&i in r?n:r,i,s)}const $ce={get:JO(!1,!1)},Nce={get:JO(!1,!0)},Fce={get:JO(!0,!1)};const DW=new WeakMap,IW=new WeakMap,RW=new WeakMap,Bce=new WeakMap;function Uce(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vce(t){return t.__v_skip||!Object.isExtensible(t)?0:Uce(fce(t))}function lr(t){return Nf(t)?t:eM(t,!1,Ice,$ce,DW)}function dE(t){return eM(t,!1,Oce,Nce,IW)}function wp(t){return eM(t,!0,Rce,Fce,RW)}function eM(t,e,n,r,i){if(!fr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=Vce(t);if(s===0)return t;const a=i.get(t);if(a)return a;const o=new Proxy(t,s===2?r:n);return i.set(t,o),o}function kf(t){return Nf(t)?kf(t.__v_raw):!!(t&&t.__v_isReactive)}function Nf(t){return!!(t&&t.__v_isReadonly)}function iu(t){return!!(t&&t.__v_isShallow)}function ky(t){return t?!!t.__v_raw:!1}function Jr(t){const e=t&&t.__v_raw;return e?Jr(e):t}function Sp(t){return!Kr(t,"__v_skip")&&Object.isExtensible(t)&&hW(t,"__v_skip",!0),t}const wc=t=>fr(t)?lr(t):t,Dv=t=>fr(t)?wp(t):t;function tr(t){return t?t.__v_isRef===!0:!1}function ye(t){return OW(t,!1)}function qa(t){return OW(t,!0)}function OW(t,e){return tr(t)?t:new zce(t,e)}class zce{constructor(e,n){this.dep=new uE,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Jr(e),this._value=n?e:wc(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||iu(e)||Nf(e);e=r?e:Jr(e),fp(e,n)&&(this._rawValue=e,this._value=r?e:wc(e),this.dep.trigger())}}function _S(t){t.dep&&t.dep.trigger()}function b(t){return tr(t)?t.value:t}const Hce={get:(t,e,n)=>e==="__v_raw"?t:b(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return tr(i)&&!tr(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function MW(t){return kf(t)?t:new Proxy(t,Hce)}class jce{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new uE,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Gce(t){return new jce(t)}function cu(t){const e=nn(t)?new Array(t.length):{};for(const n in t)e[n]=LW(t,n);return e}class Wce{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=Jr(e);let i=!0,s=e;if(!nn(e)||!aE(String(n)))do i=!ky(s)||iu(s);while(i&&(s=s.__v_raw));this._shallow=i}get value(){let e=this._object[this._key];return this._shallow&&(e=b(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&tr(this._raw[this._key])){const n=this._object[this._key];if(tr(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return Cce(this._raw,this._key)}}class qce{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function _s(t,e,n){return tr(t)?t:kn(t)?new qce(t):fr(t)&&arguments.length>1?LW(t,e,n):ye(t)}function LW(t,e,n){return new Wce(t,e,n)}class Xce{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new uE(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pb-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&os!==this)return xW(this,!0),!0}get value(){const e=this.dep.track();return TW(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Yce(t,e,n=!1){let r,i;return kn(t)?r=t:(r=t.get,i=t.set),new Xce(r,i,n)}const Hx={},_T=new WeakMap;let A0;function Kce(t,e=!1,n=A0){if(n){let r=_T.get(n);r||_T.set(n,r=[]),r.push(t)}}function Zce(t,e,n=Qi){const{immediate:r,deep:i,once:s,scheduler:a,augmentJob:o,call:l}=n,u=A=>i?A:iu(A)||i===!1||i===0?bf(A,1):bf(A);let d,f,h,g,v=!1,p=!1;if(tr(t)?(f=()=>t.value,v=iu(t)):kf(t)?(f=()=>u(t),v=!0):nn(t)?(p=!0,v=t.some(A=>kf(A)||iu(A)),f=()=>t.map(A=>{if(tr(A))return A.value;if(kf(A))return u(A);if(kn(A))return l?l(A,2):A()})):kn(t)?e?f=l?()=>l(t,2):t:f=()=>{if(h){Lf();try{h()}finally{$f()}}const A=A0;A0=d;try{return l?l(t,3,[g]):t(g)}finally{A0=A}}:f=Zr,e&&i){const A=f,P=i===!0?1/0:i;f=()=>bf(A(),P)}const _=XO(),S=()=>{d.stop(),_&&_.active&&jO(_.effects,d)};if(s&&e){const A=e;e=(...P)=>{A(...P),S()}}let C=p?new Array(t.length).fill(Hx):Hx;const T=A=>{if(!(!(d.flags&1)||!d.dirty&&!A))if(e){const P=d.run();if(i||v||(p?P.some((D,R)=>fp(D,C[R])):fp(P,C))){h&&h();const D=A0;A0=d;try{const R=[P,C===Hx?void 0:p&&C[0]===Hx?[]:C,g];C=P,l?l(e,3,R):e(...R)}finally{A0=D}}}else d.run()};return o&&o(T),d=new _W(f),d.scheduler=a?()=>a(T,!1):T,g=A=>Kce(A,!1,d),h=d.onStop=()=>{const A=_T.get(d);if(A){if(l)l(A,4);else for(const P of A)P();_T.delete(d)}},e?r?T(!0):C=d.run():a?a(T.bind(null,!0),!0):d.run(),S.pause=d.pause.bind(d),S.resume=d.resume.bind(d),S.stop=S,S}function bf(t,e=1/0,n){if(e<=0||!fr(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,tr(t))bf(t.value,e,n);else if(nn(t))for(let r=0;r<t.length;r++)bf(t[r],e,n);else if(sE(t)||Jg(t))t.forEach(r=>{bf(r,e,n)});else if(Ab(t)){for(const r in t)bf(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&bf(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function W1(t,e,n,r){try{return r?t(...r):t()}catch(i){fE(i,e,n)}}function Sc(t,e,n,r){if(kn(t)){const i=W1(t,e,n,r);return i&&GO(i)&&i.catch(s=>{fE(s,e,n)}),i}if(nn(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Sc(t[s],e,n,r));return i}}function fE(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Qi;if(e){let o=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const d=o.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,l,u)===!1)return}o=o.parent}if(s){Lf(),W1(s,null,10,[t,l,u]),$f();return}}Qce(t,n,i,r,a)}function Qce(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Jo=[];let ad=-1;const ev=[];let Gh=null,Fg=0;const $W=Promise.resolve();let bT=null;function Vn(t){const e=bT||$W;return t?e.then(this?t.bind(this):t):e}function Jce(t){let e=ad+1,n=Jo.length;for(;e<n;){const r=e+n>>>1,i=Jo[r],s=Db(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function tM(t){if(!(t.flags&1)){const e=Db(t),n=Jo[Jo.length-1];!n||!(t.flags&2)&&e>=Db(n)?Jo.push(t):Jo.splice(Jce(e),0,t),t.flags|=1,NW()}}function NW(){bT||(bT=$W.then(BW))}function ede(t){nn(t)?ev.push(...t):Gh&&t.id===-1?Gh.splice(Fg+1,0,t):t.flags&1||(ev.push(t),t.flags|=1),NW()}function dN(t,e,n=ad+1){for(;n<Jo.length;n++){const r=Jo[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Jo.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function FW(t){if(ev.length){const e=[...new Set(ev)].sort((n,r)=>Db(n)-Db(r));if(ev.length=0,Gh){Gh.push(...e);return}for(Gh=e,Fg=0;Fg<Gh.length;Fg++){const n=Gh[Fg];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Gh=null,Fg=0}}const Db=t=>t.id==null?t.flags&2?-1:1/0:t.id;function BW(t){const e=Zr;try{for(ad=0;ad<Jo.length;ad++){const n=Jo[ad];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),W1(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;ad<Jo.length;ad++){const n=Jo[ad];n&&(n.flags&=-2)}ad=-1,Jo.length=0,FW(),bT=null,(Jo.length||ev.length)&&BW()}}let so=null,UW=null;function xT(t){const e=so;return so=t,UW=t&&t.type.__scopeId||null,e}function ie(t,e=so,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&TT(-1);const s=xT(e);let a;try{a=t(...i)}finally{xT(s),r._d&&TT(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Dr(t,e){if(so===null)return t;const n=vE(so),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,o,l=Qi]=e[i];s&&(kn(s)&&(s={mounted:s,updated:s}),s.deep&&bf(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function c0(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(Lf(),Sc(l,n,8,[t.el,o,t,e]),$f())}}function pi(t,e){if(Eo){let n=Eo.provides;const r=Eo.parent&&Eo.parent.provides;r===n&&(n=Eo.provides=Object.create(r)),n[t]=e}}function In(t,e,n=!1){const r=Ar();if(r||sm){let i=sm?sm._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&kn(e)?e.call(r&&r.proxy):e}}function tde(){return!!(Ar()||sm)}const nde=Symbol.for("v-scx"),rde=()=>In(nde);function Tp(t,e){return nM(t,null,e)}function Zt(t,e,n){return nM(t,e,n)}function nM(t,e,n=Qi){const{immediate:r,deep:i,flush:s,once:a}=n,o=aa({},n),l=e&&r||!e&&s!=="post";let u;if(Mb){if(s==="sync"){const g=rde();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Zr,g.resume=Zr,g.pause=Zr,g}}const d=Eo;o.call=(g,v,p)=>Sc(g,d,v,p);let f=!1;s==="post"?o.scheduler=g=>{Yo(g,d&&d.suspense)}:s!=="sync"&&(f=!0,o.scheduler=(g,v)=>{v?g():tM(g)}),o.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const h=Zce(t,e,o);return Mb&&(u?u.push(h):l&&h()),h}function ide(t,e,n){const r=this.proxy,i=Kn(t)?t.includes(".")?VW(r,t):()=>r[t]:t.bind(r,r);let s;kn(e)?s=e:(s=e.handler,n=e);const a=q1(this),o=nM(i,s.bind(r),n);return a(),o}function VW(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const zW=Symbol("_vte"),HW=t=>t.__isTeleport,V2=t=>t&&(t.disabled||t.disabled===""),fN=t=>t&&(t.defer||t.defer===""),hN=t=>typeof SVGElement<"u"&&t instanceof SVGElement,pN=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,jk=(t,e)=>{const n=t&&t.to;return Kn(n)?e?e(n):null:n},jW={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,a,o,l,u){const{mc:d,pc:f,pbc:h,o:{insert:g,querySelector:v,createText:p,createComment:_}}=u,S=V2(e.props);let{shapeFlag:C,children:T,dynamicChildren:A}=e;if(t==null){const P=e.el=p(""),D=e.anchor=p("");g(P,n,r),g(D,n,r);const R=(U,Y)=>{C&16&&d(T,U,Y,i,s,a,o,l)},N=()=>{const U=e.target=jk(e.props,v),Y=GW(U,e,p,g);U&&(a!=="svg"&&hN(U)?a="svg":a!=="mathml"&&pN(U)&&(a="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(U),S||(R(U,Y),bS(e,!1)))};S&&(R(n,D),bS(e,!0)),fN(e.props)?(e.el.__isMounted=!1,Yo(()=>{N(),delete e.el.__isMounted},s)):N()}else{if(fN(e.props)&&t.el.__isMounted===!1){Yo(()=>{jW.process(t,e,n,r,i,s,a,o,l,u)},s);return}e.el=t.el,e.targetStart=t.targetStart;const P=e.anchor=t.anchor,D=e.target=t.target,R=e.targetAnchor=t.targetAnchor,N=V2(t.props),U=N?n:D,Y=N?P:R;if(a==="svg"||hN(D)?a="svg":(a==="mathml"||pN(D))&&(a="mathml"),A?(h(t.dynamicChildren,A,U,i,s,a,o),cM(t,e,!0)):l||f(t,e,U,Y,i,s,a,o,!1),S)N?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):jx(e,n,P,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const H=e.target=jk(e.props,v);H&&jx(e,H,null,u,0)}else N&&jx(e,D,R,u,1);bS(e,S)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:a,children:o,anchor:l,targetStart:u,targetAnchor:d,target:f,props:h}=t;if(f&&(i(u),i(d)),s&&i(l),a&16){const g=s||!V2(h);for(let v=0;v<o.length;v++){const p=o[v];r(p,e,n,g,!!p.dynamicChildren)}}},move:jx,hydrate:sde};function jx(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:d}=t,f=s===2;if(f&&r(a,e,n),(!f||V2(d))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);f&&r(o,e,n)}function sde(t,e,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:u,createText:d}},f){function h(p,_,S,C){_.anchor=f(a(p),_,o(p),n,r,i,s),_.targetStart=S,_.targetAnchor=C}const g=e.target=jk(e.props,l),v=V2(e.props);if(g){const p=g._lpa||g.firstChild;if(e.shapeFlag&16)if(v)h(t,e,p,p&&a(p));else{e.anchor=a(t);let _=p;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")e.targetStart=_;else if(_.data==="teleport anchor"){e.targetAnchor=_,g._lpa=e.targetAnchor&&a(e.targetAnchor);break}}_=a(_)}e.targetAnchor||GW(g,e,d,u),f(p&&a(p),e,g,n,r,i,s)}bS(e,v)}else v&&e.shapeFlag&16&&h(t,e,t,a(t));return e.anchor&&a(e.anchor)}const ade=jW;function bS(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function GW(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[zW]=s,t&&(r(i,t),r(s,t)),s}const vf=Symbol("_leaveCb"),Gx=Symbol("_enterCb");function WW(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zr(()=>{t.isMounted=!0}),Ri(()=>{t.isUnmounting=!0}),t}const vu=[Function,Array],qW={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:vu,onEnter:vu,onAfterEnter:vu,onEnterCancelled:vu,onBeforeLeave:vu,onLeave:vu,onAfterLeave:vu,onLeaveCancelled:vu,onBeforeAppear:vu,onAppear:vu,onAfterAppear:vu,onAppearCancelled:vu},XW=t=>{const e=t.subTree;return e.component?XW(e.component):e},ode={name:"BaseTransition",props:qW,setup(t,{slots:e}){const n=Ar(),r=WW();return()=>{const i=e.default&&rM(e.default(),!0);if(!i||!i.length)return;const s=YW(i),a=Jr(t),{mode:o}=a;if(r.isLeaving)return w3(s);const l=mN(s);if(!l)return w3(s);let u=Ib(l,a,r,n,f=>u=f);l.type!==Rs&&_m(l,u);let d=n.subTree&&mN(n.subTree);if(d&&d.type!==Rs&&!z0(d,l)&&XW(n).type!==Rs){let f=Ib(d,a,r,n);if(_m(d,f),o==="out-in"&&l.type!==Rs)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,d=void 0},w3(s);o==="in-out"&&l.type!==Rs?f.delayLeave=(h,g,v)=>{const p=KW(r,d);p[String(d.key)]=d,h[vf]=()=>{g(),h[vf]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{v(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return s}}};function YW(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Rs){e=n;break}}return e}const lde=ode;function KW(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Ib(t,e,n,r,i){const{appear:s,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:h,onLeave:g,onAfterLeave:v,onLeaveCancelled:p,onBeforeAppear:_,onAppear:S,onAfterAppear:C,onAppearCancelled:T}=e,A=String(t.key),P=KW(n,t),D=(U,Y)=>{U&&Sc(U,r,9,Y)},R=(U,Y)=>{const H=Y[1];D(U,Y),nn(U)?U.every(j=>j.length<=1)&&H():U.length<=1&&H()},N={mode:a,persisted:o,beforeEnter(U){let Y=l;if(!n.isMounted)if(s)Y=_||l;else return;U[vf]&&U[vf](!0);const H=P[A];H&&z0(t,H)&&H.el[vf]&&H.el[vf](),D(Y,[U])},enter(U){let Y=u,H=d,j=f;if(!n.isMounted)if(s)Y=S||u,H=C||d,j=T||f;else return;let X=!1;const W=U[Gx]=F=>{X||(X=!0,F?D(j,[U]):D(H,[U]),N.delayedLeave&&N.delayedLeave(),U[Gx]=void 0)};Y?R(Y,[U,W]):W()},leave(U,Y){const H=String(t.key);if(U[Gx]&&U[Gx](!0),n.isUnmounting)return Y();D(h,[U]);let j=!1;const X=U[vf]=W=>{j||(j=!0,Y(),W?D(p,[U]):D(v,[U]),U[vf]=void 0,P[H]===t&&delete P[H])};P[H]=t,g?R(g,[U,X]):X()},clone(U){const Y=Ib(U,e,n,r,i);return i&&i(Y),Y}};return N}function w3(t){if(hE(t))return t=Ff(t),t.children=null,t}function mN(t){if(!hE(t))return HW(t.type)&&t.children?YW(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&kn(n.default))return n.default()}}function _m(t,e){t.shapeFlag&6&&t.component?(t.transition=e,_m(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function rM(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Tn?(a.patchFlag&128&&i++,r=r.concat(rM(a.children,e,o))):(e||a.type!==Rs)&&r.push(o!=null?Ff(a,{key:o}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function kt(t,e){return kn(t)?(()=>aa({name:t.name},e,{setup:t}))():t}function ZW(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const wT=new WeakMap;function z2(t,e,n,r,i=!1){if(nn(t)){t.forEach((v,p)=>z2(v,e&&(nn(e)?e[p]:e),n,r,i));return}if(tv(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&z2(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?vE(r.component):r.el,a=i?null:s,{i:o,r:l}=t,u=e&&e.r,d=o.refs===Qi?o.refs={}:o.refs,f=o.setupState,h=Jr(f),g=f===Qi?dW:v=>Kr(h,v);if(u!=null&&u!==l){if(gN(e),Kn(u))d[u]=null,g(u)&&(f[u]=null);else if(tr(u)){u.value=null;const v=e;v.k&&(d[v.k]=null)}}if(kn(l))W1(l,o,12,[a,d]);else{const v=Kn(l),p=tr(l);if(v||p){const _=()=>{if(t.f){const S=v?g(l)?f[l]:d[l]:l.value;if(i)nn(S)&&jO(S,s);else if(nn(S))S.includes(s)||S.push(s);else if(v)d[l]=[s],g(l)&&(f[l]=d[l]);else{const C=[s];l.value=C,t.k&&(d[t.k]=C)}}else v?(d[l]=a,g(l)&&(f[l]=a)):p&&(l.value=a,t.k&&(d[t.k]=a))};if(a){const S=()=>{_(),wT.delete(t)};S.id=-1,wT.set(t,S),Yo(S,n)}else gN(t),_()}}}function gN(t){const e=wT.get(t);e&&(e.flags|=8,wT.delete(t))}lE().requestIdleCallback;lE().cancelIdleCallback;const tv=t=>!!t.type.__asyncLoader,hE=t=>t.type.__isKeepAlive;function QW(t,e){eq(t,"a",e)}function JW(t,e){eq(t,"da",e)}function eq(t,e,n=Eo){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(pE(e,r,n),n){let i=n.parent;for(;i&&i.parent;)hE(i.parent.vnode)&&ude(r,e,n,i),i=i.parent}}function ude(t,e,n,r){const i=pE(e,t,r,!0);Hp(()=>{jO(r[e],i)},n)}function pE(t,e,n=Eo,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{Lf();const o=q1(n),l=Sc(e,n,t,a);return o(),$f(),l});return r?i.unshift(s):i.push(s),s}}const Wf=t=>(e,n=Eo)=>{(!Mb||t==="sp")&&pE(t,(...r)=>e(...r),n)},mE=Wf("bm"),zr=Wf("m"),iM=Wf("bu"),zp=Wf("u"),Ri=Wf("bum"),Hp=Wf("um"),cde=Wf("sp"),dde=Wf("rtg"),fde=Wf("rtc");function hde(t,e=Eo){pE("ec",t,e)}const sM="components",pde="directives";function us(t,e){return aM(sM,t,!0,e)||t}const tq=Symbol.for("v-ndc");function ti(t){return Kn(t)?aM(sM,t,!1)||t:t||tq}function nq(t){return aM(pde,t)}function aM(t,e,n=!0,r=!1){const i=so||Eo;if(i){const s=i.type;if(t===sM){const o=Kde(s,!1);if(o&&(o===e||o===au(e)||o===G1(au(e))))return s}const a=vN(i[t]||s[t],e)||vN(i.appContext[t],e);return!a&&r?s:a}}function vN(t,e){return t&&(t[e]||t[au(e)]||t[G1(au(e))])}function li(t,e,n,r){let i;const s=n&&n[r],a=nn(t);if(a||Kn(t)){const o=a&&kf(t);let l=!1,u=!1;o&&(l=!iu(t),u=Nf(t),t=cE(t)),i=new Array(t.length);for(let d=0,f=t.length;d<f;d++)i[d]=e(l?u?Dv(wc(t[d])):wc(t[d]):t[d],d,void 0,s&&s[d])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(fr(t))if(t[Symbol.iterator])i=Array.from(t,(o,l)=>e(o,l,void 0,s&&s[l]));else{const o=Object.keys(t);i=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const d=o[l];i[l]=e(t[d],d,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function Rb(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(nn(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function Ot(t,e,n={},r,i){if(so.ce||so.parent&&tv(so.parent)&&so.parent.ce){const u=Object.keys(n).length>0;return e!=="default"&&(n.name=e),ge(),Tt(Tn,null,[V("slot",n,r&&r())],u?-2:64)}let s=t[e];s&&s._c&&(s._d=!1),ge();const a=s&&rq(s(n)),o=n.key||a&&a.key,l=Tt(Tn,{key:(o&&!xc(o)?o:`_${e}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function rq(t){return t.some(e=>ia(e)?!(e.type===Rs||e.type===Tn&&!rq(e.children)):!0)?t:null}function mde(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:F2(r)]=t[r];return n}const Gk=t=>t?xq(t)?vE(t):Gk(t.parent):null,H2=aa(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Gk(t.parent),$root:t=>Gk(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>oM(t),$forceUpdate:t=>t.f||(t.f=()=>{tM(t.update)}),$nextTick:t=>t.n||(t.n=Vn.bind(t.proxy)),$watch:t=>ide.bind(t)}),S3=(t,e)=>t!==Qi&&!t.__isScriptSetup&&Kr(t,e),gde={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=t;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(S3(r,e))return a[e]=1,r[e];if(i!==Qi&&Kr(i,e))return a[e]=2,i[e];if(Kr(s,e))return a[e]=3,s[e];if(n!==Qi&&Kr(n,e))return a[e]=4,n[e];Wk&&(a[e]=0)}}const u=H2[e];let d,f;if(u)return e==="$attrs"&&Co(t.attrs,"get",""),u(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(n!==Qi&&Kr(n,e))return a[e]=4,n[e];if(f=l.config.globalProperties,Kr(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return S3(i,e)?(i[e]=n,!0):r!==Qi&&Kr(r,e)?(r[e]=n,!0):Kr(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,props:s,type:a}},o){let l;return!!(n[o]||t!==Qi&&o[0]!=="$"&&Kr(t,o)||S3(e,o)||Kr(s,o)||Kr(r,o)||Kr(H2,o)||Kr(i.config.globalProperties,o)||(l=a.__cssModules)&&l[o])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Kr(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function cl(){return iq().slots}function Dy(){return iq().attrs}function iq(t){const e=Ar();return e.setupContext||(e.setupContext=Sq(e))}function yN(t){return nn(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Wk=!0;function vde(t){const e=oM(t),n=t.proxy,r=t.ctx;Wk=!1,e.beforeCreate&&_N(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:d,beforeMount:f,mounted:h,beforeUpdate:g,updated:v,activated:p,deactivated:_,beforeDestroy:S,beforeUnmount:C,destroyed:T,unmounted:A,render:P,renderTracked:D,renderTriggered:R,errorCaptured:N,serverPrefetch:U,expose:Y,inheritAttrs:H,components:j,directives:X,filters:W}=e;if(u&&yde(u,r,null),a)for(const G in a){const K=a[G];kn(K)&&(r[G]=K.bind(n))}if(i){const G=i.call(n,n);fr(G)&&(t.data=lr(G))}if(Wk=!0,s)for(const G in s){const K=s[G],ee=kn(K)?K.bind(n,n):kn(K.get)?K.get.bind(n,n):Zr,de=!kn(K)&&kn(K.set)?K.set.bind(n):Zr,ue=he({get:ee,set:de});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>ue.value,set:me=>ue.value=me})}if(o)for(const G in o)sq(o[G],r,n,G);if(l){const G=kn(l)?l.call(n):l;Reflect.ownKeys(G).forEach(K=>{pi(K,G[K])})}d&&_N(d,t,"c");function te(G,K){nn(K)?K.forEach(ee=>G(ee.bind(n))):K&&G(K.bind(n))}if(te(mE,f),te(zr,h),te(iM,g),te(zp,v),te(QW,p),te(JW,_),te(hde,N),te(fde,D),te(dde,R),te(Ri,C),te(Hp,A),te(cde,U),nn(Y))if(Y.length){const G=t.exposed||(t.exposed={});Y.forEach(K=>{Object.defineProperty(G,K,{get:()=>n[K],set:ee=>n[K]=ee,enumerable:!0})})}else t.exposed||(t.exposed={});P&&t.render===Zr&&(t.render=P),H!=null&&(t.inheritAttrs=H),j&&(t.components=j),X&&(t.directives=X),U&&ZW(t)}function yde(t,e,n=Zr){nn(t)&&(t=qk(t));for(const r in t){const i=t[r];let s;fr(i)?"default"in i?s=In(i.from||r,i.default,!0):s=In(i.from||r):s=In(i),tr(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function _N(t,e,n){Sc(nn(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function sq(t,e,n,r){let i=r.includes(".")?VW(n,r):()=>n[r];if(Kn(t)){const s=e[t];kn(s)&&Zt(i,s)}else if(kn(t))Zt(i,t.bind(n));else if(fr(t))if(nn(t))t.forEach(s=>sq(s,e,n,r));else{const s=kn(t.handler)?t.handler.bind(n):e[t.handler];kn(s)&&Zt(i,s,t)}}function oM(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>ST(l,u,a,!0)),ST(l,e,a)),fr(e)&&s.set(e,l),l}function ST(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&ST(t,s,n,!0),i&&i.forEach(a=>ST(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const o=_de[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const _de={data:bN,props:xN,emits:xN,methods:d2,computed:d2,beforeCreate:Wo,created:Wo,beforeMount:Wo,mounted:Wo,beforeUpdate:Wo,updated:Wo,beforeDestroy:Wo,beforeUnmount:Wo,destroyed:Wo,unmounted:Wo,activated:Wo,deactivated:Wo,errorCaptured:Wo,serverPrefetch:Wo,components:d2,directives:d2,watch:xde,provide:bN,inject:bde};function bN(t,e){return e?t?function(){return aa(kn(t)?t.call(this,this):t,kn(e)?e.call(this,this):e)}:e:t}function bde(t,e){return d2(qk(t),qk(e))}function qk(t){if(nn(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Wo(t,e){return t?[...new Set([].concat(t,e))]:e}function d2(t,e){return t?aa(Object.create(null),t,e):e}function xN(t,e){return t?nn(t)&&nn(e)?[...new Set([...t,...e])]:aa(Object.create(null),yN(t),yN(e??{})):e}function xde(t,e){if(!t)return e;if(!e)return t;const n=aa(Object.create(null),t);for(const r in e)n[r]=Wo(t[r],e[r]);return n}function aq(){return{app:null,config:{isNativeTag:dW,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wde=0;function Sde(t,e){return function(r,i=null){kn(r)||(r=aa({},r)),i!=null&&!fr(i)&&(i=null);const s=aq(),a=new WeakSet,o=[];let l=!1;const u=s.app={_uid:wde++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Tq,get config(){return s.config},set config(d){},use(d,...f){return a.has(d)||(d&&kn(d.install)?(a.add(d),d.install(u,...f)):kn(d)&&(a.add(d),d(u,...f))),u},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),u},component(d,f){return f?(s.components[d]=f,u):s.components[d]},directive(d,f){return f?(s.directives[d]=f,u):s.directives[d]},mount(d,f,h){if(!l){const g=u._ceVNode||V(r,i);return g.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),f&&e?e(g,d):t(g,d,h),l=!0,u._container=d,d.__vue_app__=u,vE(g.component)}},onUnmount(d){o.push(d)},unmount(){l&&(Sc(o,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,f){return s.provides[d]=f,u},runWithContext(d){const f=sm;sm=u;try{return d()}finally{sm=f}}};return u}}let sm=null;const Tde=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${au(e)}Modifiers`]||t[`${Gf(e)}Modifiers`];function Cde(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Qi;let i=n;const s=e.startsWith("update:"),a=s&&Tde(r,e.slice(7));a&&(a.trim&&(i=n.map(d=>Kn(d)?d.trim():d)),a.number&&(i=n.map(WO)));let o,l=r[o=F2(e)]||r[o=F2(au(e))];!l&&s&&(l=r[o=F2(Gf(e))]),l&&Sc(l,t,6,i);const u=r[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Sc(u,t,6,i)}}const Ede=new WeakMap;function oq(t,e,n=!1){const r=n?Ede:e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!kn(t)){const l=u=>{const d=oq(u,e,!0);d&&(o=!0,aa(a,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(fr(t)&&r.set(t,null),null):(nn(s)?s.forEach(l=>a[l]=null):aa(a,s),fr(t)&&r.set(t,a),a)}function gE(t,e){return!t||!iE(e)?!1:(e=e.slice(2).replace(/Once$/,""),Kr(t,e[0].toLowerCase()+e.slice(1))||Kr(t,Gf(e))||Kr(t,e))}function T3(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:d,props:f,data:h,setupState:g,ctx:v,inheritAttrs:p}=t,_=xT(t);let S,C;try{if(n.shapeFlag&4){const A=i||r,P=A;S=fd(u.call(P,A,d,f,g,h,v)),C=o}else{const A=e;S=fd(A.length>1?A(f,{attrs:o,slots:a,emit:l}):A(f,null)),C=e.props?o:Ade(o)}}catch(A){j2.length=0,fE(A,t,1),S=V(Rs)}let T=S;if(C&&p!==!1){const A=Object.keys(C),{shapeFlag:P}=T;A.length&&P&7&&(s&&A.some(HO)&&(C=Pde(C,s)),T=Ff(T,C,!1,!0))}return n.dirs&&(T=Ff(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&_m(T,n.transition),S=T,xT(_),S}const Ade=t=>{let e;for(const n in t)(n==="class"||n==="style"||iE(n))&&((e||(e={}))[n]=t[n]);return e},Pde=(t,e)=>{const n={};for(const r in t)(!HO(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function kde(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?wN(r,a,u):!!a;if(l&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(a[h]!==r[h]&&!gE(u,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?wN(r,a,u):!0:!!a;return!1}function wN(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!gE(n,s))return!0}return!1}function Dde({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const lq={},uq=()=>Object.create(lq),cq=t=>Object.getPrototypeOf(t)===lq;function Ide(t,e,n,r=!1){const i={},s=uq();t.propsDefaults=Object.create(null),dq(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:dE(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Rde(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=Jr(i),[l]=t.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(gE(t.emitsOptions,h))continue;const g=e[h];if(l)if(Kr(s,h))g!==s[h]&&(s[h]=g,u=!0);else{const v=au(h);i[v]=Xk(l,o,v,g,t,!1)}else g!==s[h]&&(s[h]=g,u=!0)}}}else{dq(t,e,i,s)&&(u=!0);let d;for(const f in o)(!e||!Kr(e,f)&&((d=Gf(f))===f||!Kr(e,d)))&&(l?n&&(n[f]!==void 0||n[d]!==void 0)&&(i[f]=Xk(l,o,f,void 0,t,!0)):delete i[f]);if(s!==o)for(const f in s)(!e||!Kr(e,f))&&(delete s[f],u=!0)}u&&_f(t.attrs,"set","")}function dq(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(N2(l))continue;const u=e[l];let d;i&&Kr(i,d=au(l))?!s||!s.includes(d)?n[d]=u:(o||(o={}))[d]=u:gE(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(s){const l=Jr(n),u=o||Qi;for(let d=0;d<s.length;d++){const f=s[d];n[f]=Xk(i,l,f,u[f],t,!Kr(u,f))}}return a}function Xk(t,e,n,r,i,s){const a=t[n];if(a!=null){const o=Kr(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&kn(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const d=q1(i);r=u[n]=l.call(null,e),d()}}else r=l;i.ce&&i.ce._setProp(n,r)}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===Gf(n))&&(r=!0))}return r}const Ode=new WeakMap;function fq(t,e,n=!1){const r=n?Ode:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!kn(t)){const d=f=>{l=!0;const[h,g]=fq(f,e,!0);aa(a,h),g&&o.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return fr(t)&&r.set(t,Qg),Qg;if(nn(s))for(let d=0;d<s.length;d++){const f=au(s[d]);SN(f)&&(a[f]=Qi)}else if(s)for(const d in s){const f=au(d);if(SN(f)){const h=s[d],g=a[f]=nn(h)||kn(h)?{type:h}:aa({},h),v=g.type;let p=!1,_=!0;if(nn(v))for(let S=0;S<v.length;++S){const C=v[S],T=kn(C)&&C.name;if(T==="Boolean"){p=!0;break}else T==="String"&&(_=!1)}else p=kn(v)&&v.name==="Boolean";g[0]=p,g[1]=_,(p||Kr(g,"default"))&&o.push(f)}}const u=[a,o];return fr(t)&&r.set(t,u),u}function SN(t){return t[0]!=="$"&&!N2(t)}const lM=t=>t==="_"||t==="_ctx"||t==="$stable",uM=t=>nn(t)?t.map(fd):[fd(t)],Mde=(t,e,n)=>{if(e._n)return e;const r=ie((...i)=>uM(e(...i)),n);return r._c=!1,r},hq=(t,e,n)=>{const r=t._ctx;for(const i in t){if(lM(i))continue;const s=t[i];if(kn(s))e[i]=Mde(i,s,r);else if(s!=null){const a=uM(s);e[i]=()=>a}}},pq=(t,e)=>{const n=uM(e);t.slots.default=()=>n},mq=(t,e,n)=>{for(const r in e)(n||!lM(r))&&(t[r]=e[r])},Lde=(t,e,n)=>{const r=t.slots=uq();if(t.vnode.shapeFlag&32){const i=e._;i?(mq(r,e,n),n&&hW(r,"_",i,!0)):hq(e,r)}else e&&pq(t,e)},$de=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=Qi;if(r.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:mq(i,e,n):(s=!e.$stable,hq(e,i)),a=e}else e&&(pq(t,e),a={default:1});if(s)for(const o in i)!lM(o)&&a[o]==null&&delete i[o]},Yo=Vde;function Nde(t){return Fde(t)}function Fde(t,e){const n=lE();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:d,parentNode:f,nextSibling:h,setScopeId:g=Zr,insertStaticContent:v}=t,p=(ae,Re,rt,Ye=null,it=null,St=null,Lt=void 0,xt=null,sn=!!Re.dynamicChildren)=>{if(ae===Re)return;ae&&!z0(ae,Re)&&(Ye=Ie(ae),me(ae,it,St,!0),ae=null),Re.patchFlag===-2&&(sn=!1,Re.dynamicChildren=null);const{type:zt,ref:ft,shapeFlag:tn}=Re;switch(zt){case Iy:_(ae,Re,rt,Ye);break;case Rs:S(ae,Re,rt,Ye);break;case E3:ae==null&&C(Re,rt,Ye,Lt);break;case Tn:j(ae,Re,rt,Ye,it,St,Lt,xt,sn);break;default:tn&1?P(ae,Re,rt,Ye,it,St,Lt,xt,sn):tn&6?X(ae,Re,rt,Ye,it,St,Lt,xt,sn):(tn&64||tn&128)&&zt.process(ae,Re,rt,Ye,it,St,Lt,xt,sn,Ze)}ft!=null&&it?z2(ft,ae&&ae.ref,St,Re||ae,!Re):ft==null&&ae&&ae.ref!=null&&z2(ae.ref,null,St,ae,!0)},_=(ae,Re,rt,Ye)=>{if(ae==null)r(Re.el=o(Re.children),rt,Ye);else{const it=Re.el=ae.el;Re.children!==ae.children&&u(it,Re.children)}},S=(ae,Re,rt,Ye)=>{ae==null?r(Re.el=l(Re.children||""),rt,Ye):Re.el=ae.el},C=(ae,Re,rt,Ye)=>{[ae.el,ae.anchor]=v(ae.children,Re,rt,Ye,ae.el,ae.anchor)},T=({el:ae,anchor:Re},rt,Ye)=>{let it;for(;ae&&ae!==Re;)it=h(ae),r(ae,rt,Ye),ae=it;r(Re,rt,Ye)},A=({el:ae,anchor:Re})=>{let rt;for(;ae&&ae!==Re;)rt=h(ae),i(ae),ae=rt;i(Re)},P=(ae,Re,rt,Ye,it,St,Lt,xt,sn)=>{if(Re.type==="svg"?Lt="svg":Re.type==="math"&&(Lt="mathml"),ae==null)D(Re,rt,Ye,it,St,Lt,xt,sn);else{const zt=ae.el&&ae.el._isVueCE?ae.el:null;try{zt&&zt._beginPatch(),U(ae,Re,it,St,Lt,xt,sn)}finally{zt&&zt._endPatch()}}},D=(ae,Re,rt,Ye,it,St,Lt,xt)=>{let sn,zt;const{props:ft,shapeFlag:tn,transition:_n,dirs:qt}=ae;if(sn=ae.el=a(ae.type,St,ft&&ft.is,ft),tn&8?d(sn,ae.children):tn&16&&N(ae.children,sn,null,Ye,it,C3(ae,St),Lt,xt),qt&&c0(ae,null,Ye,"created"),R(sn,ae,ae.scopeId,Lt,Ye),ft){for(const Ct in ft)Ct!=="value"&&!N2(Ct)&&s(sn,Ct,null,ft[Ct],St,Ye);"value"in ft&&s(sn,"value",null,ft.value,St),(zt=ft.onVnodeBeforeMount)&&Yc(zt,Ye,ae)}qt&&c0(ae,null,Ye,"beforeMount");const Pt=Bde(it,_n);Pt&&_n.beforeEnter(sn),r(sn,Re,rt),((zt=ft&&ft.onVnodeMounted)||Pt||qt)&&Yo(()=>{zt&&Yc(zt,Ye,ae),Pt&&_n.enter(sn),qt&&c0(ae,null,Ye,"mounted")},it)},R=(ae,Re,rt,Ye,it)=>{if(rt&&g(ae,rt),Ye)for(let St=0;St<Ye.length;St++)g(ae,Ye[St]);if(it){let St=it.subTree;if(Re===St||yq(St.type)&&(St.ssContent===Re||St.ssFallback===Re)){const Lt=it.vnode;R(ae,Lt,Lt.scopeId,Lt.slotScopeIds,it.parent)}}},N=(ae,Re,rt,Ye,it,St,Lt,xt,sn=0)=>{for(let zt=sn;zt<ae.length;zt++){const ft=ae[zt]=xt?Wh(ae[zt]):fd(ae[zt]);p(null,ft,Re,rt,Ye,it,St,Lt,xt)}},U=(ae,Re,rt,Ye,it,St,Lt)=>{const xt=Re.el=ae.el;let{patchFlag:sn,dynamicChildren:zt,dirs:ft}=Re;sn|=ae.patchFlag&16;const tn=ae.props||Qi,_n=Re.props||Qi;let qt;if(rt&&d0(rt,!1),(qt=_n.onVnodeBeforeUpdate)&&Yc(qt,rt,Re,ae),ft&&c0(Re,ae,rt,"beforeUpdate"),rt&&d0(rt,!0),(tn.innerHTML&&_n.innerHTML==null||tn.textContent&&_n.textContent==null)&&d(xt,""),zt?Y(ae.dynamicChildren,zt,xt,rt,Ye,C3(Re,it),St):Lt||K(ae,Re,xt,null,rt,Ye,C3(Re,it),St,!1),sn>0){if(sn&16)H(xt,tn,_n,rt,it);else if(sn&2&&tn.class!==_n.class&&s(xt,"class",null,_n.class,it),sn&4&&s(xt,"style",tn.style,_n.style,it),sn&8){const Pt=Re.dynamicProps;for(let Ct=0;Ct<Pt.length;Ct++){const Kt=Pt[Ct],$t=tn[Kt],Te=_n[Kt];(Te!==$t||Kt==="value")&&s(xt,Kt,$t,Te,it,rt)}}sn&1&&ae.children!==Re.children&&d(xt,Re.children)}else!Lt&&zt==null&&H(xt,tn,_n,rt,it);((qt=_n.onVnodeUpdated)||ft)&&Yo(()=>{qt&&Yc(qt,rt,Re,ae),ft&&c0(Re,ae,rt,"updated")},Ye)},Y=(ae,Re,rt,Ye,it,St,Lt)=>{for(let xt=0;xt<Re.length;xt++){const sn=ae[xt],zt=Re[xt],ft=sn.el&&(sn.type===Tn||!z0(sn,zt)||sn.shapeFlag&198)?f(sn.el):rt;p(sn,zt,ft,null,Ye,it,St,Lt,!0)}},H=(ae,Re,rt,Ye,it)=>{if(Re!==rt){if(Re!==Qi)for(const St in Re)!N2(St)&&!(St in rt)&&s(ae,St,Re[St],null,it,Ye);for(const St in rt){if(N2(St))continue;const Lt=rt[St],xt=Re[St];Lt!==xt&&St!=="value"&&s(ae,St,xt,Lt,it,Ye)}"value"in rt&&s(ae,"value",Re.value,rt.value,it)}},j=(ae,Re,rt,Ye,it,St,Lt,xt,sn)=>{const zt=Re.el=ae?ae.el:o(""),ft=Re.anchor=ae?ae.anchor:o("");let{patchFlag:tn,dynamicChildren:_n,slotScopeIds:qt}=Re;qt&&(xt=xt?xt.concat(qt):qt),ae==null?(r(zt,rt,Ye),r(ft,rt,Ye),N(Re.children||[],rt,ft,it,St,Lt,xt,sn)):tn>0&&tn&64&&_n&&ae.dynamicChildren&&ae.dynamicChildren.length===_n.length?(Y(ae.dynamicChildren,_n,rt,it,St,Lt,xt),(Re.key!=null||it&&Re===it.subTree)&&cM(ae,Re,!0)):K(ae,Re,rt,ft,it,St,Lt,xt,sn)},X=(ae,Re,rt,Ye,it,St,Lt,xt,sn)=>{Re.slotScopeIds=xt,ae==null?Re.shapeFlag&512?it.ctx.activate(Re,rt,Ye,Lt,sn):W(Re,rt,Ye,it,St,Lt,sn):F(ae,Re,sn)},W=(ae,Re,rt,Ye,it,St,Lt)=>{const xt=ae.component=Wde(ae,Ye,it);if(hE(ae)&&(xt.ctx.renderer=Ze),qde(xt,!1,Lt),xt.asyncDep){if(it&&it.registerDep(xt,te,Lt),!ae.el){const sn=xt.subTree=V(Rs);S(null,sn,Re,rt),ae.placeholder=sn.el}}else te(xt,ae,Re,rt,it,St,Lt)},F=(ae,Re,rt)=>{const Ye=Re.component=ae.component;if(kde(ae,Re,rt))if(Ye.asyncDep&&!Ye.asyncResolved){G(Ye,Re,rt);return}else Ye.next=Re,Ye.update();else Re.el=ae.el,Ye.vnode=Re},te=(ae,Re,rt,Ye,it,St,Lt)=>{const xt=()=>{if(ae.isMounted){let{next:tn,bu:_n,u:qt,parent:Pt,vnode:Ct}=ae;{const Nt=gq(ae);if(Nt){tn&&(tn.el=Ct.el,G(ae,tn,Lt)),Nt.asyncDep.then(()=>{ae.isUnmounted||xt()});return}}let Kt=tn,$t;d0(ae,!1),tn?(tn.el=Ct.el,G(ae,tn,Lt)):tn=Ct,_n&&yS(_n),($t=tn.props&&tn.props.onVnodeBeforeUpdate)&&Yc($t,Pt,tn,Ct),d0(ae,!0);const Te=T3(ae),vt=ae.subTree;ae.subTree=Te,p(vt,Te,f(vt.el),Ie(vt),ae,it,St),tn.el=Te.el,Kt===null&&Dde(ae,Te.el),qt&&Yo(qt,it),($t=tn.props&&tn.props.onVnodeUpdated)&&Yo(()=>Yc($t,Pt,tn,Ct),it)}else{let tn;const{el:_n,props:qt}=Re,{bm:Pt,m:Ct,parent:Kt,root:$t,type:Te}=ae,vt=tv(Re);if(d0(ae,!1),Pt&&yS(Pt),!vt&&(tn=qt&&qt.onVnodeBeforeMount)&&Yc(tn,Kt,Re),d0(ae,!0),_n&&ht){const Nt=()=>{ae.subTree=T3(ae),ht(_n,ae.subTree,ae,it,null)};vt&&Te.__asyncHydrate?Te.__asyncHydrate(_n,ae,Nt):Nt()}else{$t.ce&&$t.ce._def.shadowRoot!==!1&&$t.ce._injectChildStyle(Te);const Nt=ae.subTree=T3(ae);p(null,Nt,rt,Ye,ae,it,St),Re.el=Nt.el}if(Ct&&Yo(Ct,it),!vt&&(tn=qt&&qt.onVnodeMounted)){const Nt=Re;Yo(()=>Yc(tn,Kt,Nt),it)}(Re.shapeFlag&256||Kt&&tv(Kt.vnode)&&Kt.vnode.shapeFlag&256)&&ae.a&&Yo(ae.a,it),ae.isMounted=!0,Re=rt=Ye=null}};ae.scope.on();const sn=ae.effect=new _W(xt);ae.scope.off();const zt=ae.update=sn.run.bind(sn),ft=ae.job=sn.runIfDirty.bind(sn);ft.i=ae,ft.id=ae.uid,sn.scheduler=()=>tM(ft),d0(ae,!0),zt()},G=(ae,Re,rt)=>{Re.component=ae;const Ye=ae.vnode.props;ae.vnode=Re,ae.next=null,Rde(ae,Re.props,Ye,rt),$de(ae,Re.children,rt),Lf(),dN(ae),$f()},K=(ae,Re,rt,Ye,it,St,Lt,xt,sn=!1)=>{const zt=ae&&ae.children,ft=ae?ae.shapeFlag:0,tn=Re.children,{patchFlag:_n,shapeFlag:qt}=Re;if(_n>0){if(_n&128){de(zt,tn,rt,Ye,it,St,Lt,xt,sn);return}else if(_n&256){ee(zt,tn,rt,Ye,it,St,Lt,xt,sn);return}}qt&8?(ft&16&&$e(zt,it,St),tn!==zt&&d(rt,tn)):ft&16?qt&16?de(zt,tn,rt,Ye,it,St,Lt,xt,sn):$e(zt,it,St,!0):(ft&8&&d(rt,""),qt&16&&N(tn,rt,Ye,it,St,Lt,xt,sn))},ee=(ae,Re,rt,Ye,it,St,Lt,xt,sn)=>{ae=ae||Qg,Re=Re||Qg;const zt=ae.length,ft=Re.length,tn=Math.min(zt,ft);let _n;for(_n=0;_n<tn;_n++){const qt=Re[_n]=sn?Wh(Re[_n]):fd(Re[_n]);p(ae[_n],qt,rt,null,it,St,Lt,xt,sn)}zt>ft?$e(ae,it,St,!0,!1,tn):N(Re,rt,Ye,it,St,Lt,xt,sn,tn)},de=(ae,Re,rt,Ye,it,St,Lt,xt,sn)=>{let zt=0;const ft=Re.length;let tn=ae.length-1,_n=ft-1;for(;zt<=tn&&zt<=_n;){const qt=ae[zt],Pt=Re[zt]=sn?Wh(Re[zt]):fd(Re[zt]);if(z0(qt,Pt))p(qt,Pt,rt,null,it,St,Lt,xt,sn);else break;zt++}for(;zt<=tn&&zt<=_n;){const qt=ae[tn],Pt=Re[_n]=sn?Wh(Re[_n]):fd(Re[_n]);if(z0(qt,Pt))p(qt,Pt,rt,null,it,St,Lt,xt,sn);else break;tn--,_n--}if(zt>tn){if(zt<=_n){const qt=_n+1,Pt=qt<ft?Re[qt].el:Ye;for(;zt<=_n;)p(null,Re[zt]=sn?Wh(Re[zt]):fd(Re[zt]),rt,Pt,it,St,Lt,xt,sn),zt++}}else if(zt>_n)for(;zt<=tn;)me(ae[zt],it,St,!0),zt++;else{const qt=zt,Pt=zt,Ct=new Map;for(zt=Pt;zt<=_n;zt++){const tt=Re[zt]=sn?Wh(Re[zt]):fd(Re[zt]);tt.key!=null&&Ct.set(tt.key,zt)}let Kt,$t=0;const Te=_n-Pt+1;let vt=!1,Nt=0;const Ne=new Array(Te);for(zt=0;zt<Te;zt++)Ne[zt]=0;for(zt=qt;zt<=tn;zt++){const tt=ae[zt];if($t>=Te){me(tt,it,St,!0);continue}let xe;if(tt.key!=null)xe=Ct.get(tt.key);else for(Kt=Pt;Kt<=_n;Kt++)if(Ne[Kt-Pt]===0&&z0(tt,Re[Kt])){xe=Kt;break}xe===void 0?me(tt,it,St,!0):(Ne[xe-Pt]=zt+1,xe>=Nt?Nt=xe:vt=!0,p(tt,Re[xe],rt,null,it,St,Lt,xt,sn),$t++)}const De=vt?Ude(Ne):Qg;for(Kt=De.length-1,zt=Te-1;zt>=0;zt--){const tt=Pt+zt,xe=Re[tt],Gt=Re[tt+1],c=tt+1<ft?Gt.el||vq(Gt):Ye;Ne[zt]===0?p(null,xe,rt,c,it,St,Lt,xt,sn):vt&&(Kt<0||zt!==De[Kt]?ue(xe,rt,c,2):Kt--)}}},ue=(ae,Re,rt,Ye,it=null)=>{const{el:St,type:Lt,transition:xt,children:sn,shapeFlag:zt}=ae;if(zt&6){ue(ae.component.subTree,Re,rt,Ye);return}if(zt&128){ae.suspense.move(Re,rt,Ye);return}if(zt&64){Lt.move(ae,Re,rt,Ze);return}if(Lt===Tn){r(St,Re,rt);for(let tn=0;tn<sn.length;tn++)ue(sn[tn],Re,rt,Ye);r(ae.anchor,Re,rt);return}if(Lt===E3){T(ae,Re,rt);return}if(Ye!==2&&zt&1&&xt)if(Ye===0)xt.beforeEnter(St),r(St,Re,rt),Yo(()=>xt.enter(St),it);else{const{leave:tn,delayLeave:_n,afterLeave:qt}=xt,Pt=()=>{ae.ctx.isUnmounted?i(St):r(St,Re,rt)},Ct=()=>{St._isLeaving&&St[vf](!0),tn(St,()=>{Pt(),qt&&qt()})};_n?_n(St,Pt,Ct):Ct()}else r(St,Re,rt)},me=(ae,Re,rt,Ye=!1,it=!1)=>{const{type:St,props:Lt,ref:xt,children:sn,dynamicChildren:zt,shapeFlag:ft,patchFlag:tn,dirs:_n,cacheIndex:qt}=ae;if(tn===-2&&(it=!1),xt!=null&&(Lf(),z2(xt,null,rt,ae,!0),$f()),qt!=null&&(Re.renderCache[qt]=void 0),ft&256){Re.ctx.deactivate(ae);return}const Pt=ft&1&&_n,Ct=!tv(ae);let Kt;if(Ct&&(Kt=Lt&&Lt.onVnodeBeforeUnmount)&&Yc(Kt,Re,ae),ft&6)Ge(ae.component,rt,Ye);else{if(ft&128){ae.suspense.unmount(rt,Ye);return}Pt&&c0(ae,null,Re,"beforeUnmount"),ft&64?ae.type.remove(ae,Re,rt,Ze,Ye):zt&&!zt.hasOnce&&(St!==Tn||tn>0&&tn&64)?$e(zt,Re,rt,!1,!0):(St===Tn&&tn&384||!it&&ft&16)&&$e(sn,Re,rt),Ye&&Ee(ae)}(Ct&&(Kt=Lt&&Lt.onVnodeUnmounted)||Pt)&&Yo(()=>{Kt&&Yc(Kt,Re,ae),Pt&&c0(ae,null,Re,"unmounted")},rt)},Ee=ae=>{const{type:Re,el:rt,anchor:Ye,transition:it}=ae;if(Re===Tn){Oe(rt,Ye);return}if(Re===E3){A(ae);return}const St=()=>{i(rt),it&&!it.persisted&&it.afterLeave&&it.afterLeave()};if(ae.shapeFlag&1&&it&&!it.persisted){const{leave:Lt,delayLeave:xt}=it,sn=()=>Lt(rt,St);xt?xt(ae.el,St,sn):sn()}else St()},Oe=(ae,Re)=>{let rt;for(;ae!==Re;)rt=h(ae),i(ae),ae=rt;i(Re)},Ge=(ae,Re,rt)=>{const{bum:Ye,scope:it,job:St,subTree:Lt,um:xt,m:sn,a:zt}=ae;TN(sn),TN(zt),Ye&&yS(Ye),it.stop(),St&&(St.flags|=8,me(Lt,ae,Re,rt)),xt&&Yo(xt,Re),Yo(()=>{ae.isUnmounted=!0},Re)},$e=(ae,Re,rt,Ye=!1,it=!1,St=0)=>{for(let Lt=St;Lt<ae.length;Lt++)me(ae[Lt],Re,rt,Ye,it)},Ie=ae=>{if(ae.shapeFlag&6)return Ie(ae.component.subTree);if(ae.shapeFlag&128)return ae.suspense.next();const Re=h(ae.anchor||ae.el),rt=Re&&Re[zW];return rt?h(rt):Re};let Ke=!1;const Xe=(ae,Re,rt)=>{let Ye;ae==null?Re._vnode&&(me(Re._vnode,null,null,!0),Ye=Re._vnode.component):p(Re._vnode||null,ae,Re,null,null,null,rt),Re._vnode=ae,Ke||(Ke=!0,dN(Ye),FW(),Ke=!1)},Ze={p,um:me,m:ue,r:Ee,mt:W,mc:N,pc:K,pbc:Y,n:Ie,o:t};let bt,ht;return e&&([bt,ht]=e(Ze)),{render:Xe,hydrate:bt,createApp:Sde(Xe,bt)}}function C3({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function d0({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Bde(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function cM(t,e,n=!1){const r=t.children,i=e.children;if(nn(r)&&nn(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=Wh(i[s]),o.el=a.el),!n&&o.patchFlag!==-2&&cM(a,o)),o.type===Iy&&(o.patchFlag!==-1?o.el=a.el:o.__elIndex=s+(t.type===Tn?1:0)),o.type===Rs&&!o.el&&(o.el=a.el)}}function Ude(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<u?s=o+1:a=o;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}function gq(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:gq(e)}function TN(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function vq(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?vq(e.subTree):null}const yq=t=>t.__isSuspense;function Vde(t,e){e&&e.pendingBranch?nn(t)?e.effects.push(...t):e.effects.push(t):ede(t)}const Tn=Symbol.for("v-fgt"),Iy=Symbol.for("v-txt"),Rs=Symbol.for("v-cmt"),E3=Symbol.for("v-stc"),j2=[];let nu=null;function ge(t=!1){j2.push(nu=t?null:[])}function zde(){j2.pop(),nu=j2[j2.length-1]||null}let Ob=1;function TT(t,e=!1){Ob+=t,t<0&&nu&&e&&(nu.hasOnce=!0)}function _q(t){return t.dynamicChildren=Ob>0?nu||Qg:null,zde(),Ob>0&&nu&&nu.push(t),t}function Fe(t,e,n,r,i,s){return _q(Ve(t,e,n,r,i,s,!0))}function Tt(t,e,n,r,i){return _q(V(t,e,n,r,i,!0))}function ia(t){return t?t.__v_isVNode===!0:!1}function z0(t,e){return t.type===e.type&&t.key===e.key}const bq=({key:t})=>t??null,xS=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Kn(t)||tr(t)||kn(t)?{i:so,r:t,k:e,f:!!n}:t:null);function Ve(t,e=null,n=null,r=0,i=null,s=t===Tn?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&bq(e),ref:e&&xS(e),scopeId:UW,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:so};return o?(dM(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Kn(n)?8:16),Ob>0&&!a&&nu&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&nu.push(l),l}const V=Hde;function Hde(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===tq)&&(t=Rs),ia(t)){const o=Ff(t,e,!0);return n&&dM(o,n),Ob>0&&!s&&nu&&(o.shapeFlag&6?nu[nu.indexOf(t)]=o:nu.push(o)),o.patchFlag=-2,o}if(Zde(t)&&(t=t.__vccOpts),e){e=wS(e);let{class:o,style:l}=e;o&&!Kn(o)&&(e.class=Ce(o)),fr(l)&&(ky(l)&&!nn(l)&&(l=aa({},l)),e.style=dr(l))}const a=Kn(t)?1:yq(t)?128:HW(t)?64:fr(t)?4:kn(t)?2:0;return Ve(t,e,n,r,i,a,s,!0)}function wS(t){return t?ky(t)||cq(t)?aa({},t):t:null}function Ff(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:a,children:o,transition:l}=t,u=e?Fi(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&bq(u),ref:e&&e.ref?n&&s?nn(s)?s.concat(xS(e)):[s,xS(e)]:xS(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Tn?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ff(t.ssContent),ssFallback:t.ssFallback&&Ff(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&_m(d,l.clone(d)),d}function Rt(t=" ",e=0){return V(Iy,null,t,e)}function gt(t="",e=!1){return e?(ge(),Tt(Rs,null,t)):V(Rs,null,t)}function fd(t){return t==null||typeof t=="boolean"?V(Rs):nn(t)?V(Tn,null,t.slice()):ia(t)?Wh(t):V(Iy,null,String(t))}function Wh(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ff(t)}function dM(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(nn(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),dM(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!cq(e)?e._ctx=so:i===3&&so&&(so.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else kn(e)?(e={default:e,_ctx:so},n=32):(e=String(e),r&64?(n=16,e=[Rt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Fi(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Ce([e.class,r.class]));else if(i==="style")e.style=dr([e.style,r.style]);else if(iE(i)){const s=e[i],a=r[i];a&&s!==a&&!(nn(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function Yc(t,e,n,r=null){Sc(t,e,7,[n,r])}const jde=aq();let Gde=0;function Wde(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||jde,s={uid:Gde++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yW(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fq(r,i),emitsOptions:oq(r,i),emit:null,emitted:null,propsDefaults:Qi,inheritAttrs:r.inheritAttrs,ctx:Qi,data:Qi,props:Qi,attrs:Qi,slots:Qi,refs:Qi,setupState:Qi,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Cde.bind(null,s),t.ce&&t.ce(s),s}let Eo=null;const Ar=()=>Eo||so;let CT,Yk;{const t=lE(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};CT=e("__VUE_INSTANCE_SETTERS__",n=>Eo=n),Yk=e("__VUE_SSR_SETTERS__",n=>Mb=n)}const q1=t=>{const e=Eo;return CT(t),t.scope.on(),()=>{t.scope.off(),CT(e)}},CN=()=>{Eo&&Eo.scope.off(),CT(null)};function xq(t){return t.vnode.shapeFlag&4}let Mb=!1;function qde(t,e=!1,n=!1){e&&Yk(e);const{props:r,children:i}=t.vnode,s=xq(t);Ide(t,r,s,e),Lde(t,i,n||e);const a=s?Xde(t,e):void 0;return e&&Yk(!1),a}function Xde(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,gde);const{setup:r}=n;if(r){Lf();const i=t.setupContext=r.length>1?Sq(t):null,s=q1(t),a=W1(r,t,0,[t.props,i]),o=GO(a);if($f(),s(),(o||t.sp)&&!tv(t)&&ZW(t),o){if(a.then(CN,CN),e)return a.then(l=>{EN(t,l,e)}).catch(l=>{fE(l,t,0)});t.asyncDep=a}else EN(t,a,e)}else wq(t,e)}function EN(t,e,n){kn(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:fr(e)&&(t.setupState=MW(e)),wq(t,n)}let AN;function wq(t,e,n){const r=t.type;if(!t.render){if(!e&&AN&&!r.render){const i=r.template||oM(t).template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=r,u=aa(aa({isCustomElement:s,delimiters:o},a),l);r.render=AN(i,u)}}t.render=r.render||Zr}{const i=q1(t);Lf();try{vde(t)}finally{$f(),i()}}}const Yde={get(t,e){return Co(t,"get",""),t[e]}};function Sq(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Yde),slots:t.slots,emit:t.emit,expose:e}}function vE(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(MW(Sp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in H2)return H2[n](t)},has(e,n){return n in e||n in H2}})):t.proxy}function Kde(t,e=!0){return kn(t)?t.displayName||t.name:t.name||e&&t.__name}function Zde(t){return kn(t)&&"__vccOpts"in t}const he=(t,e)=>Yce(t,e,Mb);function En(t,e,n){try{TT(-1);const r=arguments.length;return r===2?fr(e)&&!nn(e)?ia(e)?V(t,null,[e]):V(t,e):V(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ia(n)&&(n=[n]),V(t,e,n))}finally{TT(1)}}const Tq="3.5.26",Qde=Zr;/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Kk;const PN=typeof window<"u"&&window.trustedTypes;if(PN)try{Kk=PN.createPolicy("vue",{createHTML:t=>t})}catch{}const Cq=Kk?t=>Kk.createHTML(t):t=>t,Jde="http://www.w3.org/2000/svg",efe="http://www.w3.org/1998/Math/MathML",ff=typeof document<"u"?document:null,kN=ff&&ff.createElement("template"),tfe={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ff.createElementNS(Jde,t):e==="mathml"?ff.createElementNS(efe,t):n?ff.createElement(t,{is:n}):ff.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ff.createTextNode(t),createComment:t=>ff.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ff.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{kN.innerHTML=Cq(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const o=kN.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Sh="transition",E_="animation",Iv=Symbol("_vtc"),Eq={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Aq=aa({},qW,Eq),nfe=t=>(t.displayName="Transition",t.props=Aq,t),$l=nfe((t,{slots:e})=>En(lde,Pq(t),e)),f0=(t,e=[])=>{nn(t)?t.forEach(n=>n(...e)):t&&t(...e)},DN=t=>t?nn(t)?t.some(e=>e.length>1):t.length>1:!1;function Pq(t){const e={};for(const j in t)j in Eq||(e[j]=t[j]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:d=o,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,v=rfe(i),p=v&&v[0],_=v&&v[1],{onBeforeEnter:S,onEnter:C,onEnterCancelled:T,onLeave:A,onLeaveCancelled:P,onBeforeAppear:D=S,onAppear:R=C,onAppearCancelled:N=T}=e,U=(j,X,W,F)=>{j._enterCancelled=F,Nh(j,X?d:o),Nh(j,X?u:a),W&&W()},Y=(j,X)=>{j._isLeaving=!1,Nh(j,f),Nh(j,g),Nh(j,h),X&&X()},H=j=>(X,W)=>{const F=j?R:C,te=()=>U(X,j,W);f0(F,[X,te]),IN(()=>{Nh(X,j?l:s),rd(X,j?d:o),DN(F)||RN(X,r,p,te)})};return aa(e,{onBeforeEnter(j){f0(S,[j]),rd(j,s),rd(j,a)},onBeforeAppear(j){f0(D,[j]),rd(j,l),rd(j,u)},onEnter:H(!1),onAppear:H(!0),onLeave(j,X){j._isLeaving=!0;const W=()=>Y(j,X);rd(j,f),j._enterCancelled?(rd(j,h),Zk(j)):(Zk(j),rd(j,h)),IN(()=>{j._isLeaving&&(Nh(j,f),rd(j,g),DN(A)||RN(j,r,_,W))}),f0(A,[j,W])},onEnterCancelled(j){U(j,!1,void 0,!0),f0(T,[j])},onAppearCancelled(j){U(j,!0,void 0,!0),f0(N,[j])},onLeaveCancelled(j){Y(j),f0(P,[j])}})}function rfe(t){if(t==null)return null;if(fr(t))return[A3(t.enter),A3(t.leave)];{const e=A3(t);return[e,e]}}function A3(t){return mce(t)}function rd(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Iv]||(t[Iv]=new Set)).add(e)}function Nh(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Iv];n&&(n.delete(e),n.size||(t[Iv]=void 0))}function IN(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ife=0;function RN(t,e,n,r){const i=t._endId=++ife,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=kq(t,e);if(!a)return r();const u=a+"end";let d=0;const f=()=>{t.removeEventListener(u,h),s()},h=g=>{g.target===t&&++d>=l&&f()};setTimeout(()=>{d<l&&f()},o+1),t.addEventListener(u,h)}function kq(t,e){const n=window.getComputedStyle(t),r=v=>(n[v]||"").split(", "),i=r(`${Sh}Delay`),s=r(`${Sh}Duration`),a=ON(i,s),o=r(`${E_}Delay`),l=r(`${E_}Duration`),u=ON(o,l);let d=null,f=0,h=0;e===Sh?a>0&&(d=Sh,f=a,h=s.length):e===E_?u>0&&(d=E_,f=u,h=l.length):(f=Math.max(a,u),d=f>0?a>u?Sh:E_:null,h=d?d===Sh?s.length:l.length:0);const g=d===Sh&&/\b(?:transform|all)(?:,|$)/.test(r(`${Sh}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:g}}function ON(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>MN(n)+MN(t[r])))}function MN(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Zk(t){return(t?t.ownerDocument:document).body.offsetHeight}function sfe(t,e,n){const r=t[Iv];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ET=Symbol("_vod"),Dq=Symbol("_vsh"),Ei={name:"show",beforeMount(t,{value:e},{transition:n}){t[ET]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):A_(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),A_(t,!0),r.enter(t)):r.leave(t,()=>{A_(t,!1)}):A_(t,e))},beforeUnmount(t,{value:e}){A_(t,e)}};function A_(t,e){t.style.display=e?t[ET]:"none",t[Dq]=!e}const afe=Symbol(""),ofe=/(?:^|;)\s*display\s*:/;function lfe(t,e,n){const r=t.style,i=Kn(n);let s=!1;if(n&&!i){if(e)if(Kn(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&SS(r,o,"")}else for(const a in e)n[a]==null&&SS(r,a,"");for(const a in n)a==="display"&&(s=!0),SS(r,a,n[a])}else if(i){if(e!==n){const a=r[afe];a&&(n+=";"+a),r.cssText=n,s=ofe.test(n)}}else e&&t.removeAttribute("style");ET in t&&(t[ET]=s?r.display:"",t[Dq]&&(r.display="none"))}const LN=/\s*!important$/;function SS(t,e,n){if(nn(n))n.forEach(r=>SS(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=ufe(t,e);LN.test(n)?t.setProperty(Gf(r),n.replace(LN,""),"important"):t[r]=n}}const $N=["Webkit","Moz","ms"],P3={};function ufe(t,e){const n=P3[e];if(n)return n;let r=au(e);if(r!=="filter"&&r in t)return P3[e]=r;r=G1(r);for(let i=0;i<$N.length;i++){const s=$N[i]+r;if(s in t)return P3[e]=s}return e}const NN="http://www.w3.org/1999/xlink";function FN(t,e,n,r,i,s=xce(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(NN,e.slice(6,e.length)):t.setAttributeNS(NN,e,n):n==null||s&&!pW(n)?t.removeAttribute(e):t.setAttribute(e,s?"":xc(n)?String(n):n)}function BN(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Cq(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=pW(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(i||e)}function Zh(t,e,n,r){t.addEventListener(e,n,r)}function cfe(t,e,n,r){t.removeEventListener(e,n,r)}const UN=Symbol("_vei");function dfe(t,e,n,r,i=null){const s=t[UN]||(t[UN]={}),a=s[e];if(r&&a)a.value=r;else{const[o,l]=ffe(e);if(r){const u=s[e]=mfe(r,i);Zh(t,o,u,l)}else a&&(cfe(t,o,a,l),s[e]=void 0)}}const VN=/(?:Once|Passive|Capture)$/;function ffe(t){let e;if(VN.test(t)){e={};let r;for(;r=t.match(VN);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gf(t.slice(2)),e]}let k3=0;const hfe=Promise.resolve(),pfe=()=>k3||(hfe.then(()=>k3=0),k3=Date.now());function mfe(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Sc(gfe(r,n.value),e,5,[r])};return n.value=t,n.attached=pfe(),n}function gfe(t,e){if(nn(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const zN=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,vfe=(t,e,n,r,i,s)=>{const a=i==="svg";e==="class"?sfe(t,r,a):e==="style"?lfe(t,n,r):iE(e)?HO(e)||dfe(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):yfe(t,e,r,a))?(BN(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&FN(t,e,r,a,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Kn(r))?BN(t,au(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),FN(t,e,r,a))};function yfe(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&zN(e)&&kn(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return zN(e)&&Kn(n)?!1:e in t}const Iq=new WeakMap,Rq=new WeakMap,AT=Symbol("_moveCb"),HN=Symbol("_enterCb"),_fe=t=>(delete t.props.mode,t),bfe=_fe({name:"TransitionGroup",props:aa({},Aq,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Ar(),r=WW();let i,s;return zp(()=>{if(!i.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!Tfe(i[0].el,n.vnode.el,a)){i=[];return}i.forEach(xfe),i.forEach(wfe);const o=i.filter(Sfe);Zk(n.vnode.el),o.forEach(l=>{const u=l.el,d=u.style;rd(u,a),d.transform=d.webkitTransform=d.transitionDuration="";const f=u[AT]=h=>{h&&h.target!==u||(!h||h.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",f),u[AT]=null,Nh(u,a))};u.addEventListener("transitionend",f)}),i=[]}),()=>{const a=Jr(t),o=Pq(a);let l=a.tag||Tn;if(i=[],s)for(let u=0;u<s.length;u++){const d=s[u];d.el&&d.el instanceof Element&&(i.push(d),_m(d,Ib(d,o,r,n)),Iq.set(d,{left:d.el.offsetLeft,top:d.el.offsetTop}))}s=e.default?rM(e.default()):[];for(let u=0;u<s.length;u++){const d=s[u];d.key!=null&&_m(d,Ib(d,o,r,n))}return V(l,null,s)}}}),Oq=bfe;function xfe(t){const e=t.el;e[AT]&&e[AT](),e[HN]&&e[HN]()}function wfe(t){Rq.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop})}function Sfe(t){const e=Iq.get(t),n=Rq.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function Tfe(t,e,n){const r=t.cloneNode(),i=t[Iv];i&&i.forEach(o=>{o.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:a}=kq(r);return s.removeChild(r),a}const Rv=t=>{const e=t.props["onUpdate:modelValue"]||!1;return nn(e)?n=>yS(e,n):e};function Cfe(t){t.target.composing=!0}function jN(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Df=Symbol("_assign");function GN(t,e,n){return e&&(t=t.trim()),n&&(t=WO(t)),t}const Mq={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Df]=Rv(i);const s=r||i.props&&i.props.type==="number";Zh(t,e?"change":"input",a=>{a.target.composing||t[Df](GN(t.value,n,s))}),(n||s)&&Zh(t,"change",()=>{t.value=GN(t.value,n,s)}),e||(Zh(t,"compositionstart",Cfe),Zh(t,"compositionend",jN),Zh(t,"change",jN))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},a){if(t[Df]=Rv(a),t.composing)return;const o=(s||t.type==="number")&&!/^0\d/.test(t.value)?WO(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},Lq={deep:!0,created(t,e,n){t[Df]=Rv(n),Zh(t,"change",()=>{const r=t._modelValue,i=Nq(t),s=t.checked,a=t[Df];if(nn(r)){const o=mW(r,i),l=o!==-1;if(s&&!l)a(r.concat(i));else if(!s&&l){const u=[...r];u.splice(o,1),a(u)}}else if(sE(r)){const o=new Set(r);s?o.add(i):o.delete(i),a(o)}else a(Fq(t,s))})},mounted:WN,beforeUpdate(t,e,n){t[Df]=Rv(n),WN(t,e,n)}};function WN(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if(nn(e))i=mW(e,r.props.value)>-1;else if(sE(e))i=e.has(r.props.value);else{if(e===n)return;i=kv(e,Fq(t,!0))}t.checked!==i&&(t.checked=i)}const $q={created(t,{value:e},n){t.checked=kv(e,n.props.value),t[Df]=Rv(n),Zh(t,"change",()=>{t[Df](Nq(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Df]=Rv(r),e!==n&&(t.checked=kv(e,r.props.value))}};function Nq(t){return"_value"in t?t._value:t.value}function Fq(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Efe=["ctrl","shift","alt","meta"],Afe={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Efe.some(n=>t[`${n}Key`]&&!e.includes(n))},Cr=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<e.length;a++){const o=Afe[e[a]];if(o&&o(i,e))return}return t(i,...s)})},Pfe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ts=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Gf(i.key);if(e.some(a=>a===s||Pfe[a]===s))return t(i)})},kfe=aa({patchProp:vfe},tfe);let qN;function Bq(){return qN||(qN=Nde(kfe))}const Cp=(...t)=>{Bq().render(...t)},Uq=(...t)=>{const e=Bq().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Ife(r);if(!i)return;const s=e._component;!kn(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=n(i,!1,Dfe(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function Dfe(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ife(t){return Kn(t)?document.querySelector(t):t}const Vq=Symbol(),G2="el",Rfe="is-",h0=(t,e,n,r,i)=>{let s=`${t}-${e}`;return n&&(s+=`-${n}`),r&&(s+=`__${r}`),i&&(s+=`--${i}`),s},zq=Symbol("namespaceContextKey"),fM=t=>{const e=t||(Ar()?In(zq,ye(G2)):ye(G2));return he(()=>b(e)||G2)},gn=(t,e)=>{const n=fM(e);return{namespace:n,b:(p="")=>h0(n.value,t,p,"",""),e:p=>p?h0(n.value,t,"",p,""):"",m:p=>p?h0(n.value,t,"","",p):"",be:(p,_)=>p&&_?h0(n.value,t,p,_,""):"",em:(p,_)=>p&&_?h0(n.value,t,"",p,_):"",bm:(p,_)=>p&&_?h0(n.value,t,p,"",_):"",bem:(p,_,S)=>p&&_&&S?h0(n.value,t,p,_,S):"",is:(p,..._)=>{const S=_.length>=1?_[0]:!0;return p&&S?`${Rfe}${p}`:""},cssVar:p=>{const _={};for(const S in p)p[S]&&(_[`--${n.value}-${S}`]=p[S]);return _},cssVarName:p=>`--${n.value}-${p}`,cssVarBlock:p=>{const _={};for(const S in p)p[S]&&(_[`--${n.value}-${t}-${S}`]=p[S]);return _},cssVarBlockName:p=>`--${n.value}-${t}-${p}`}};var Ofe=typeof global=="object"&&global&&global.Object===Object&&global;const Hq=Ofe;var Mfe=typeof self=="object"&&self&&self.Object===Object&&self,Lfe=Hq||Mfe||Function("return this")();const Dc=Lfe;var $fe=Dc.Symbol;const Vu=$fe;var jq=Object.prototype,Nfe=jq.hasOwnProperty,Ffe=jq.toString,P_=Vu?Vu.toStringTag:void 0;function Bfe(t){var e=Nfe.call(t,P_),n=t[P_];try{t[P_]=void 0;var r=!0}catch{}var i=Ffe.call(t);return r&&(e?t[P_]=n:delete t[P_]),i}var Ufe=Object.prototype,Vfe=Ufe.toString;function zfe(t){return Vfe.call(t)}var Hfe="[object Null]",jfe="[object Undefined]",XN=Vu?Vu.toStringTag:void 0;function zm(t){return t==null?t===void 0?jfe:Hfe:XN&&XN in Object(t)?Bfe(t):zfe(t)}function Id(t){return t!=null&&typeof t=="object"}var Gfe="[object Symbol]";function yE(t){return typeof t=="symbol"||Id(t)&&zm(t)==Gfe}function hM(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Wfe=Array.isArray;const al=Wfe;var qfe=1/0,YN=Vu?Vu.prototype:void 0,KN=YN?YN.toString:void 0;function Gq(t){if(typeof t=="string")return t;if(al(t))return hM(t,Gq)+"";if(yE(t))return KN?KN.call(t):"";var e=t+"";return e=="0"&&1/t==-qfe?"-0":e}var Xfe=/\s/;function Yfe(t){for(var e=t.length;e--&&Xfe.test(t.charAt(e)););return e}var Kfe=/^\s+/;function Zfe(t){return t&&t.slice(0,Yfe(t)+1).replace(Kfe,"")}function ol(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ZN=0/0,Qfe=/^[-+]0x[0-9a-f]+$/i,Jfe=/^0b[01]+$/i,ehe=/^0o[0-7]+$/i,the=parseInt;function nv(t){if(typeof t=="number")return t;if(yE(t))return ZN;if(ol(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ol(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Zfe(t);var n=Jfe.test(t);return n||ehe.test(t)?the(t.slice(2),n?2:8):Qfe.test(t)?ZN:+t}var QN=1/0,nhe=17976931348623157e292;function rhe(t){if(!t)return t===0?t:0;if(t=nv(t),t===QN||t===-QN){var e=t<0?-1:1;return e*nhe}return t===t?t:0}function ihe(t){var e=rhe(t),n=e%1;return e===e?n?e-n:e:0}function pM(t){return t}var she="[object AsyncFunction]",ahe="[object Function]",ohe="[object GeneratorFunction]",lhe="[object Proxy]";function mM(t){if(!ol(t))return!1;var e=zm(t);return e==ahe||e==ohe||e==she||e==lhe}var uhe=Dc["__core-js_shared__"];const D3=uhe;var JN=function(){var t=/[^.]+$/.exec(D3&&D3.keys&&D3.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function che(t){return!!JN&&JN in t}var dhe=Function.prototype,fhe=dhe.toString;function Hm(t){if(t!=null){try{return fhe.call(t)}catch{}try{return t+""}catch{}}return""}var hhe=/[\\^$.*+?()[\]{}|]/g,phe=/^\[object .+?Constructor\]$/,mhe=Function.prototype,ghe=Object.prototype,vhe=mhe.toString,yhe=ghe.hasOwnProperty,_he=RegExp("^"+vhe.call(yhe).replace(hhe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bhe(t){if(!ol(t)||che(t))return!1;var e=mM(t)?_he:phe;return e.test(Hm(t))}function xhe(t,e){return t==null?void 0:t[e]}function jm(t,e){var n=xhe(t,e);return bhe(n)?n:void 0}var whe=jm(Dc,"WeakMap");const Qk=whe;var eF=Object.create,She=function(){function t(){}return function(e){if(!ol(e))return{};if(eF)return eF(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const The=She;function Che(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Wq(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Ehe=800,Ahe=16,Phe=Date.now;function khe(t){var e=0,n=0;return function(){var r=Phe(),i=Ahe-(r-n);if(n=r,i>0){if(++e>=Ehe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Dhe(t){return function(){return t}}var Ihe=function(){try{var t=jm(Object,"defineProperty");return t({},"",{}),t}catch{}}();const PT=Ihe;var Rhe=PT?function(t,e){return PT(t,"toString",{configurable:!0,enumerable:!1,value:Dhe(e),writable:!0})}:pM;const Ohe=Rhe;var Mhe=khe(Ohe);const qq=Mhe;function Lhe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function $he(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var Nhe=9007199254740991,Fhe=/^(?:0|[1-9]\d*)$/;function _E(t,e){var n=typeof t;return e=e??Nhe,!!e&&(n=="number"||n!="symbol"&&Fhe.test(t))&&t>-1&&t%1==0&&t<e}function gM(t,e,n){e=="__proto__"&&PT?PT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function X1(t,e){return t===e||t!==t&&e!==e}var Bhe=Object.prototype,Uhe=Bhe.hasOwnProperty;function vM(t,e,n){var r=t[e];(!(Uhe.call(t,e)&&X1(r,n))||n===void 0&&!(e in t))&&gM(t,e,n)}function Ry(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=r?r(n[o],t[o],o,n,t):void 0;l===void 0&&(l=t[o]),i?gM(n,o,l):vM(n,o,l)}return n}var tF=Math.max;function Xq(t,e,n){return e=tF(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=tF(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),Che(t,this,o)}}function Vhe(t,e){return qq(Xq(t,e,pM),t+"")}var zhe=9007199254740991;function yM(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zhe}function Oy(t){return t!=null&&yM(t.length)&&!mM(t)}function Hhe(t,e,n){if(!ol(n))return!1;var r=typeof e;return(r=="number"?Oy(n)&&_E(e,n.length):r=="string"&&e in n)?X1(n[e],t):!1}function jhe(t){return Vhe(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,a&&Hhe(n[0],n[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var o=n[r];o&&t(e,o,r,s)}return e})}var Ghe=Object.prototype;function _M(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ghe;return t===n}function Whe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var qhe="[object Arguments]";function nF(t){return Id(t)&&zm(t)==qhe}var Yq=Object.prototype,Xhe=Yq.hasOwnProperty,Yhe=Yq.propertyIsEnumerable,Khe=nF(function(){return arguments}())?nF:function(t){return Id(t)&&Xhe.call(t,"callee")&&!Yhe.call(t,"callee")};const Lb=Khe;function Zhe(){return!1}var Kq=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rF=Kq&&typeof module=="object"&&module&&!module.nodeType&&module,Qhe=rF&&rF.exports===Kq,iF=Qhe?Dc.Buffer:void 0,Jhe=iF?iF.isBuffer:void 0,epe=Jhe||Zhe;const $b=epe;var tpe="[object Arguments]",npe="[object Array]",rpe="[object Boolean]",ipe="[object Date]",spe="[object Error]",ape="[object Function]",ope="[object Map]",lpe="[object Number]",upe="[object Object]",cpe="[object RegExp]",dpe="[object Set]",fpe="[object String]",hpe="[object WeakMap]",ppe="[object ArrayBuffer]",mpe="[object DataView]",gpe="[object Float32Array]",vpe="[object Float64Array]",ype="[object Int8Array]",_pe="[object Int16Array]",bpe="[object Int32Array]",xpe="[object Uint8Array]",wpe="[object Uint8ClampedArray]",Spe="[object Uint16Array]",Tpe="[object Uint32Array]",gs={};gs[gpe]=gs[vpe]=gs[ype]=gs[_pe]=gs[bpe]=gs[xpe]=gs[wpe]=gs[Spe]=gs[Tpe]=!0;gs[tpe]=gs[npe]=gs[ppe]=gs[rpe]=gs[mpe]=gs[ipe]=gs[spe]=gs[ape]=gs[ope]=gs[lpe]=gs[upe]=gs[cpe]=gs[dpe]=gs[fpe]=gs[hpe]=!1;function Cpe(t){return Id(t)&&yM(t.length)&&!!gs[zm(t)]}function bM(t){return function(e){return t(e)}}var Zq=typeof exports=="object"&&exports&&!exports.nodeType&&exports,W2=Zq&&typeof module=="object"&&module&&!module.nodeType&&module,Epe=W2&&W2.exports===Zq,I3=Epe&&Hq.process,Ape=function(){try{var t=W2&&W2.require&&W2.require("util").types;return t||I3&&I3.binding&&I3.binding("util")}catch{}}();const Ov=Ape;var sF=Ov&&Ov.isTypedArray,Ppe=sF?bM(sF):Cpe;const xM=Ppe;var kpe=Object.prototype,Dpe=kpe.hasOwnProperty;function Qq(t,e){var n=al(t),r=!n&&Lb(t),i=!n&&!r&&$b(t),s=!n&&!r&&!i&&xM(t),a=n||r||i||s,o=a?Whe(t.length,String):[],l=o.length;for(var u in t)(e||Dpe.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||_E(u,l)))&&o.push(u);return o}function Jq(t,e){return function(n){return t(e(n))}}var Ipe=Jq(Object.keys,Object);const Rpe=Ipe;var Ope=Object.prototype,Mpe=Ope.hasOwnProperty;function Lpe(t){if(!_M(t))return Rpe(t);var e=[];for(var n in Object(t))Mpe.call(t,n)&&n!="constructor"&&e.push(n);return e}function Y1(t){return Oy(t)?Qq(t):Lpe(t)}function $pe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Npe=Object.prototype,Fpe=Npe.hasOwnProperty;function Bpe(t){if(!ol(t))return $pe(t);var e=_M(t),n=[];for(var r in t)r=="constructor"&&(e||!Fpe.call(t,r))||n.push(r);return n}function K1(t){return Oy(t)?Qq(t,!0):Bpe(t)}var Upe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vpe=/^\w*$/;function wM(t,e){if(al(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||yE(t)?!0:Vpe.test(t)||!Upe.test(t)||e!=null&&t in Object(e)}var zpe=jm(Object,"create");const Nb=zpe;function Hpe(){this.__data__=Nb?Nb(null):{},this.size=0}function jpe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Gpe="__lodash_hash_undefined__",Wpe=Object.prototype,qpe=Wpe.hasOwnProperty;function Xpe(t){var e=this.__data__;if(Nb){var n=e[t];return n===Gpe?void 0:n}return qpe.call(e,t)?e[t]:void 0}var Ype=Object.prototype,Kpe=Ype.hasOwnProperty;function Zpe(t){var e=this.__data__;return Nb?e[t]!==void 0:Kpe.call(e,t)}var Qpe="__lodash_hash_undefined__";function Jpe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Nb&&e===void 0?Qpe:e,this}function bm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bm.prototype.clear=Hpe;bm.prototype.delete=jpe;bm.prototype.get=Xpe;bm.prototype.has=Zpe;bm.prototype.set=Jpe;function e0e(){this.__data__=[],this.size=0}function bE(t,e){for(var n=t.length;n--;)if(X1(t[n][0],e))return n;return-1}var t0e=Array.prototype,n0e=t0e.splice;function r0e(t){var e=this.__data__,n=bE(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():n0e.call(e,n,1),--this.size,!0}function i0e(t){var e=this.__data__,n=bE(e,t);return n<0?void 0:e[n][1]}function s0e(t){return bE(this.__data__,t)>-1}function a0e(t,e){var n=this.__data__,r=bE(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function qf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qf.prototype.clear=e0e;qf.prototype.delete=r0e;qf.prototype.get=i0e;qf.prototype.has=s0e;qf.prototype.set=a0e;var o0e=jm(Dc,"Map");const Fb=o0e;function l0e(){this.size=0,this.__data__={hash:new bm,map:new(Fb||qf),string:new bm}}function u0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function xE(t,e){var n=t.__data__;return u0e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function c0e(t){var e=xE(this,t).delete(t);return this.size-=e?1:0,e}function d0e(t){return xE(this,t).get(t)}function f0e(t){return xE(this,t).has(t)}function h0e(t,e){var n=xE(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Xf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xf.prototype.clear=l0e;Xf.prototype.delete=c0e;Xf.prototype.get=d0e;Xf.prototype.has=f0e;Xf.prototype.set=h0e;var p0e="Expected a function";function SM(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(p0e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(SM.Cache||Xf),n}SM.Cache=Xf;var m0e=500;function g0e(t){var e=SM(t,function(r){return n.size===m0e&&n.clear(),r}),n=e.cache;return e}var v0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y0e=/\\(\\)?/g,_0e=g0e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(v0e,function(n,r,i,s){e.push(i?s.replace(y0e,"$1"):r||n)}),e});const b0e=_0e;function x0e(t){return t==null?"":Gq(t)}function My(t,e){return al(t)?t:wM(t,e)?[t]:b0e(x0e(t))}var w0e=1/0;function Ly(t){if(typeof t=="string"||yE(t))return t;var e=t+"";return e=="0"&&1/t==-w0e?"-0":e}function wE(t,e){e=My(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Ly(e[n++])];return n&&n==r?t:void 0}function rl(t,e,n){var r=t==null?void 0:wE(t,e);return r===void 0?n:r}function TM(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var aF=Vu?Vu.isConcatSpreadable:void 0;function S0e(t){return al(t)||Lb(t)||!!(aF&&t&&t[aF])}function SE(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=S0e),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?SE(o,e-1,n,r,i):TM(i,o):r||(i[i.length]=o)}return i}function eX(t){var e=t==null?0:t.length;return e?SE(t,1):[]}function tX(t){return qq(Xq(t,void 0,eX),t+"")}var T0e=Jq(Object.getPrototypeOf,Object);const CM=T0e;var C0e="[object Object]",E0e=Function.prototype,A0e=Object.prototype,nX=E0e.toString,P0e=A0e.hasOwnProperty,k0e=nX.call(Object);function rX(t){if(!Id(t)||zm(t)!=C0e)return!1;var e=CM(t);if(e===null)return!0;var n=P0e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&nX.call(n)==k0e}function D0e(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function Zl(){if(!arguments.length)return[];var t=arguments[0];return al(t)?t:[t]}function I0e(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function iX(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=nv(n),n=n===n?n:0),e!==void 0&&(e=nv(e),e=e===e?e:0),I0e(nv(t),e,n)}function R0e(){this.__data__=new qf,this.size=0}function O0e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function M0e(t){return this.__data__.get(t)}function L0e(t){return this.__data__.has(t)}var $0e=200;function N0e(t,e){var n=this.__data__;if(n instanceof qf){var r=n.__data__;if(!Fb||r.length<$0e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xf(r)}return n.set(t,e),this.size=n.size,this}function hc(t){var e=this.__data__=new qf(t);this.size=e.size}hc.prototype.clear=R0e;hc.prototype.delete=O0e;hc.prototype.get=M0e;hc.prototype.has=L0e;hc.prototype.set=N0e;function F0e(t,e){return t&&Ry(e,Y1(e),t)}function B0e(t,e){return t&&Ry(e,K1(e),t)}var sX=typeof exports=="object"&&exports&&!exports.nodeType&&exports,oF=sX&&typeof module=="object"&&module&&!module.nodeType&&module,U0e=oF&&oF.exports===sX,lF=U0e?Dc.Buffer:void 0,uF=lF?lF.allocUnsafe:void 0;function aX(t,e){if(e)return t.slice();var n=t.length,r=uF?uF(n):new t.constructor(n);return t.copy(r),r}function V0e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}function oX(){return[]}var z0e=Object.prototype,H0e=z0e.propertyIsEnumerable,cF=Object.getOwnPropertySymbols,j0e=cF?function(t){return t==null?[]:(t=Object(t),V0e(cF(t),function(e){return H0e.call(t,e)}))}:oX;const EM=j0e;function G0e(t,e){return Ry(t,EM(t),e)}var W0e=Object.getOwnPropertySymbols,q0e=W0e?function(t){for(var e=[];t;)TM(e,EM(t)),t=CM(t);return e}:oX;const lX=q0e;function X0e(t,e){return Ry(t,lX(t),e)}function uX(t,e,n){var r=e(t);return al(t)?r:TM(r,n(t))}function Jk(t){return uX(t,Y1,EM)}function cX(t){return uX(t,K1,lX)}var Y0e=jm(Dc,"DataView");const eD=Y0e;var K0e=jm(Dc,"Promise");const tD=K0e;var Z0e=jm(Dc,"Set");const nD=Z0e;var dF="[object Map]",Q0e="[object Object]",fF="[object Promise]",hF="[object Set]",pF="[object WeakMap]",mF="[object DataView]",J0e=Hm(eD),eme=Hm(Fb),tme=Hm(tD),nme=Hm(nD),rme=Hm(Qk),P0=zm;(eD&&P0(new eD(new ArrayBuffer(1)))!=mF||Fb&&P0(new Fb)!=dF||tD&&P0(tD.resolve())!=fF||nD&&P0(new nD)!=hF||Qk&&P0(new Qk)!=pF)&&(P0=function(t){var e=zm(t),n=e==Q0e?t.constructor:void 0,r=n?Hm(n):"";if(r)switch(r){case J0e:return mF;case eme:return dF;case tme:return fF;case nme:return hF;case rme:return pF}return e});const Bb=P0;var ime=Object.prototype,sme=ime.hasOwnProperty;function ame(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&sme.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var ome=Dc.Uint8Array;const kT=ome;function AM(t){var e=new t.constructor(t.byteLength);return new kT(e).set(new kT(t)),e}function lme(t,e){var n=e?AM(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var ume=/\w*$/;function cme(t){var e=new t.constructor(t.source,ume.exec(t));return e.lastIndex=t.lastIndex,e}var gF=Vu?Vu.prototype:void 0,vF=gF?gF.valueOf:void 0;function dme(t){return vF?Object(vF.call(t)):{}}function dX(t,e){var n=e?AM(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var fme="[object Boolean]",hme="[object Date]",pme="[object Map]",mme="[object Number]",gme="[object RegExp]",vme="[object Set]",yme="[object String]",_me="[object Symbol]",bme="[object ArrayBuffer]",xme="[object DataView]",wme="[object Float32Array]",Sme="[object Float64Array]",Tme="[object Int8Array]",Cme="[object Int16Array]",Eme="[object Int32Array]",Ame="[object Uint8Array]",Pme="[object Uint8ClampedArray]",kme="[object Uint16Array]",Dme="[object Uint32Array]";function Ime(t,e,n){var r=t.constructor;switch(e){case bme:return AM(t);case fme:case hme:return new r(+t);case xme:return lme(t,n);case wme:case Sme:case Tme:case Cme:case Eme:case Ame:case Pme:case kme:case Dme:return dX(t,n);case pme:return new r;case mme:case yme:return new r(t);case gme:return cme(t);case vme:return new r;case _me:return dme(t)}}function fX(t){return typeof t.constructor=="function"&&!_M(t)?The(CM(t)):{}}var Rme="[object Map]";function Ome(t){return Id(t)&&Bb(t)==Rme}var yF=Ov&&Ov.isMap,Mme=yF?bM(yF):Ome;const Lme=Mme;var $me="[object Set]";function Nme(t){return Id(t)&&Bb(t)==$me}var _F=Ov&&Ov.isSet,Fme=_F?bM(_F):Nme;const Bme=Fme;var Ume=1,Vme=2,zme=4,hX="[object Arguments]",Hme="[object Array]",jme="[object Boolean]",Gme="[object Date]",Wme="[object Error]",pX="[object Function]",qme="[object GeneratorFunction]",Xme="[object Map]",Yme="[object Number]",mX="[object Object]",Kme="[object RegExp]",Zme="[object Set]",Qme="[object String]",Jme="[object Symbol]",ege="[object WeakMap]",tge="[object ArrayBuffer]",nge="[object DataView]",rge="[object Float32Array]",ige="[object Float64Array]",sge="[object Int8Array]",age="[object Int16Array]",oge="[object Int32Array]",lge="[object Uint8Array]",uge="[object Uint8ClampedArray]",cge="[object Uint16Array]",dge="[object Uint32Array]",ss={};ss[hX]=ss[Hme]=ss[tge]=ss[nge]=ss[jme]=ss[Gme]=ss[rge]=ss[ige]=ss[sge]=ss[age]=ss[oge]=ss[Xme]=ss[Yme]=ss[mX]=ss[Kme]=ss[Zme]=ss[Qme]=ss[Jme]=ss[lge]=ss[uge]=ss[cge]=ss[dge]=!0;ss[Wme]=ss[pX]=ss[ege]=!1;function rv(t,e,n,r,i,s){var a,o=e&Ume,l=e&Vme,u=e&zme;if(n&&(a=i?n(t,r,i,s):n(t)),a!==void 0)return a;if(!ol(t))return t;var d=al(t);if(d){if(a=ame(t),!o)return Wq(t,a)}else{var f=Bb(t),h=f==pX||f==qme;if($b(t))return aX(t,o);if(f==mX||f==hX||h&&!i){if(a=l||h?{}:fX(t),!o)return l?X0e(t,B0e(a,t)):G0e(t,F0e(a,t))}else{if(!ss[f])return i?t:{};a=Ime(t,f,o)}}s||(s=new hc);var g=s.get(t);if(g)return g;s.set(t,a),Bme(t)?t.forEach(function(_){a.add(rv(_,e,n,_,t,s))}):Lme(t)&&t.forEach(function(_,S){a.set(S,rv(_,e,n,S,t,s))});var v=u?l?cX:Jk:l?K1:Y1,p=d?void 0:v(t);return Lhe(p||t,function(_,S){p&&(S=_,_=t[S]),vM(a,S,rv(_,e,n,S,t,s))}),a}var fge=4;function bF(t){return rv(t,fge)}var hge=1,pge=4;function DT(t){return rv(t,hge|pge)}var mge="__lodash_hash_undefined__";function gge(t){return this.__data__.set(t,mge),this}function vge(t){return this.__data__.has(t)}function IT(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Xf;++e<n;)this.add(t[e])}IT.prototype.add=IT.prototype.push=gge;IT.prototype.has=vge;function yge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function _ge(t,e){return t.has(e)}var bge=1,xge=2;function gX(t,e,n,r,i,s){var a=n&bge,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,g=n&xge?new IT:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var v=t[f],p=e[f];if(r)var _=a?r(p,v,f,e,t,s):r(v,p,f,t,e,s);if(_!==void 0){if(_)continue;h=!1;break}if(g){if(!yge(e,function(S,C){if(!_ge(g,C)&&(v===S||i(v,S,n,r,s)))return g.push(C)})){h=!1;break}}else if(!(v===p||i(v,p,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}function wge(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function Sge(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Tge=1,Cge=2,Ege="[object Boolean]",Age="[object Date]",Pge="[object Error]",kge="[object Map]",Dge="[object Number]",Ige="[object RegExp]",Rge="[object Set]",Oge="[object String]",Mge="[object Symbol]",Lge="[object ArrayBuffer]",$ge="[object DataView]",xF=Vu?Vu.prototype:void 0,R3=xF?xF.valueOf:void 0;function Nge(t,e,n,r,i,s,a){switch(n){case $ge:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Lge:return!(t.byteLength!=e.byteLength||!s(new kT(t),new kT(e)));case Ege:case Age:case Dge:return X1(+t,+e);case Pge:return t.name==e.name&&t.message==e.message;case Ige:case Oge:return t==e+"";case kge:var o=wge;case Rge:var l=r&Tge;if(o||(o=Sge),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=Cge,a.set(t,e);var d=gX(o(t),o(e),r,i,s,a);return a.delete(t),d;case Mge:if(R3)return R3.call(t)==R3.call(e)}return!1}var Fge=1,Bge=Object.prototype,Uge=Bge.hasOwnProperty;function Vge(t,e,n,r,i,s){var a=n&Fge,o=Jk(t),l=o.length,u=Jk(e),d=u.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=o[f];if(!(a?h in e:Uge.call(e,h)))return!1}var g=s.get(t),v=s.get(e);if(g&&v)return g==e&&v==t;var p=!0;s.set(t,e),s.set(e,t);for(var _=a;++f<l;){h=o[f];var S=t[h],C=e[h];if(r)var T=a?r(C,S,h,e,t,s):r(S,C,h,t,e,s);if(!(T===void 0?S===C||i(S,C,n,r,s):T)){p=!1;break}_||(_=h=="constructor")}if(p&&!_){var A=t.constructor,P=e.constructor;A!=P&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof P=="function"&&P instanceof P)&&(p=!1)}return s.delete(t),s.delete(e),p}var zge=1,wF="[object Arguments]",SF="[object Array]",Wx="[object Object]",Hge=Object.prototype,TF=Hge.hasOwnProperty;function jge(t,e,n,r,i,s){var a=al(t),o=al(e),l=a?SF:Bb(t),u=o?SF:Bb(e);l=l==wF?Wx:l,u=u==wF?Wx:u;var d=l==Wx,f=u==Wx,h=l==u;if(h&&$b(t)){if(!$b(e))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new hc),a||xM(t)?gX(t,e,n,r,i,s):Nge(t,e,l,n,r,i,s);if(!(n&zge)){var g=d&&TF.call(t,"__wrapped__"),v=f&&TF.call(e,"__wrapped__");if(g||v){var p=g?t.value():t,_=v?e.value():e;return s||(s=new hc),i(p,_,n,r,s)}}return h?(s||(s=new hc),Vge(t,e,n,r,i,s)):!1}function TE(t,e,n,r,i){return t===e?!0:t==null||e==null||!Id(t)&&!Id(e)?t!==t&&e!==e:jge(t,e,n,r,TE,i)}var Gge=1,Wge=2;function qge(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],u=t[l],d=o[1];if(a&&o[2]){if(u===void 0&&!(l in t))return!1}else{var f=new hc;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?TE(d,u,Gge|Wge,r,f):h))return!1}}return!0}function vX(t){return t===t&&!ol(t)}function Xge(t){for(var e=Y1(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,vX(i)]}return e}function yX(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Yge(t){var e=Xge(t);return e.length==1&&e[0][2]?yX(e[0][0],e[0][1]):function(n){return n===t||qge(n,t,e)}}function Kge(t,e){return t!=null&&e in Object(t)}function Zge(t,e,n){e=My(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=Ly(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&yM(i)&&_E(a,i)&&(al(t)||Lb(t)))}function _X(t,e){return t!=null&&Zge(t,e,Kge)}var Qge=1,Jge=2;function eve(t,e){return wM(t)&&vX(e)?yX(Ly(t),e):function(n){var r=rl(n,t);return r===void 0&&r===e?_X(n,t):TE(e,r,Qge|Jge)}}function tve(t){return function(e){return e==null?void 0:e[t]}}function nve(t){return function(e){return wE(e,t)}}function rve(t){return wM(t)?tve(Ly(t)):nve(t)}function bX(t){return typeof t=="function"?t:t==null?pM:typeof t=="object"?al(t)?eve(t[0],t[1]):Yge(t):rve(t)}function ive(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var sve=ive();const xX=sve;function ave(t,e){return t&&xX(t,e,Y1)}function ove(t,e){return function(n,r){if(n==null)return n;if(!Oy(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var lve=ove(ave);const uve=lve;var cve=function(){return Dc.Date.now()};const O3=cve;var dve="Expected a function",fve=Math.max,hve=Math.min;function Mv(t,e,n){var r,i,s,a,o,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(dve);e=nv(e)||0,ol(n)&&(d=!!n.leading,f="maxWait"in n,s=f?fve(nv(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function g(D){var R=r,N=i;return r=i=void 0,u=D,a=t.apply(N,R),a}function v(D){return u=D,o=setTimeout(S,e),d?g(D):a}function p(D){var R=D-l,N=D-u,U=e-R;return f?hve(U,s-N):U}function _(D){var R=D-l,N=D-u;return l===void 0||R>=e||R<0||f&&N>=s}function S(){var D=O3();if(_(D))return C(D);o=setTimeout(S,p(D))}function C(D){return o=void 0,h&&r?g(D):(r=i=void 0,a)}function T(){o!==void 0&&clearTimeout(o),u=0,r=l=i=o=void 0}function A(){return o===void 0?a:C(O3())}function P(){var D=O3(),R=_(D);if(r=arguments,i=this,l=D,R){if(o===void 0)return v(l);if(f)return clearTimeout(o),o=setTimeout(S,e),g(l)}return o===void 0&&(o=setTimeout(S,e)),a}return P.cancel=T,P.flush=A,P}function rD(t,e,n){(n!==void 0&&!X1(t[e],n)||n===void 0&&!(e in t))&&gM(t,e,n)}function pve(t){return Id(t)&&Oy(t)}function iD(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function mve(t){return Ry(t,K1(t))}function gve(t,e,n,r,i,s,a){var o=iD(t,n),l=iD(e,n),u=a.get(l);if(u){rD(t,n,u);return}var d=s?s(o,l,n+"",t,e,a):void 0,f=d===void 0;if(f){var h=al(l),g=!h&&$b(l),v=!h&&!g&&xM(l);d=l,h||g||v?al(o)?d=o:pve(o)?d=Wq(o):g?(f=!1,d=aX(l,!0)):v?(f=!1,d=dX(l,!0)):d=[]:rX(l)||Lb(l)?(d=o,Lb(o)?d=mve(o):(!ol(o)||mM(o))&&(d=fX(l))):f=!1}f&&(a.set(l,d),i(d,l,r,s,a),a.delete(l)),rD(t,n,d)}function wX(t,e,n,r,i){t!==e&&xX(e,function(s,a){if(i||(i=new hc),ol(s))gve(t,e,a,n,wX,r,i);else{var o=r?r(iD(t,a),s,a+"",t,e,i):void 0;o===void 0&&(o=s),rD(t,a,o)}},K1)}function vve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var yve=Math.max,_ve=Math.min;function bve(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=r-1;return n!==void 0&&(i=ihe(n),i=n<0?yve(r+i,0):_ve(i,r-1)),$he(t,bX(e),i,!0)}function xve(t,e){var n=-1,r=Oy(t)?Array(t.length):[];return uve(t,function(i,s,a){r[++n]=e(i,s,a)}),r}function wve(t,e){var n=al(t)?hM:xve;return n(t,bX(e))}function SX(t,e){return SE(wve(t,e),1)}var Sve=1/0;function Tve(t){var e=t==null?0:t.length;return e?SE(t,Sve):[]}function Ub(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function Cve(t,e){return e.length<2?t:wE(t,D0e(e,0,-1))}function na(t,e){return TE(t,e)}function Tc(t){return t==null}function Z1(t){return t===null}function Eve(t){return t===void 0}var Ave=jhe(function(t,e,n){wX(t,e,n)});const TX=Ave;var Pve=Object.prototype,kve=Pve.hasOwnProperty;function Dve(t,e){e=My(e,t);var n=-1,r=e.length;if(!r)return!0;for(var i=t==null||typeof t!="object"&&typeof t!="function";++n<r;){var s=e[n];if(typeof s=="string"){if(s==="__proto__"&&!kve.call(t,"__proto__"))return!1;if(s==="constructor"&&n+1<r&&typeof e[n+1]=="string"&&e[n+1]==="prototype"){if(i&&n===0)continue;return!1}}}var a=Cve(t,e);return a==null||delete a[Ly(vve(e))]}function Ive(t){return rX(t)?void 0:t}var Rve=1,Ove=2,Mve=4,Lve=tX(function(t,e){var n={};if(t==null)return n;var r=!1;e=hM(e,function(s){return s=My(s,t),r||(r=s.length>1),s}),Ry(t,cX(t),n),r&&(n=rv(n,Rve|Ove|Mve,Ive));for(var i=e.length;i--;)Dve(n,e[i]);return n});const CE=Lve;function CX(t,e,n,r){if(!ol(t))return t;e=My(e,t);for(var i=-1,s=e.length,a=s-1,o=t;o!=null&&++i<s;){var l=Ly(e[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var d=o[l];u=r?r(d,l,o):void 0,u===void 0&&(u=ol(d)?d:_E(e[i+1])?[]:{})}vM(o,l,u),o=o[l]}return t}function $ve(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var a=e[r],o=wE(t,a);n(o,a)&&CX(s,My(a,t),o)}return s}function Nve(t,e){return $ve(t,e,function(n,r){return _X(t,r)})}var Fve=tX(function(t,e){return t==null?{}:Nve(t,e)});const EX=Fve;function Bve(t,e,n){return t==null?t:CX(t,e,n)}var Uve="Expected a function";function qx(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Uve);return ol(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Mv(t,e,{leading:r,maxWait:e,trailing:i})}const Ni=t=>t===void 0,ta=t=>typeof t=="boolean",Lr=t=>typeof t=="number",Ql=t=>!t&&t!==0||nn(t)&&t.length===0||fr(t)&&!Object.keys(t).length,Pl=t=>typeof Element>"u"?!1:t instanceof Element,Pu=t=>Tc(t),Vve=t=>Kn(t)?!Number.isNaN(Number(t)):!1,zve=t=>t===window;var Hve=!1;function AX(t,e){var n;const r=qa();return Tp(()=>{r.value=t()},{...e,flush:(n=e==null?void 0:e.flush)!=null?n:"sync"}),wp(r)}function Gm(t){return XO()?(YO(t),!0):!1}function ko(t){return typeof t=="function"?t():b(t)}const Vr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const jve=t=>typeof t<"u",PX=t=>t!=null,Gve=Object.prototype.toString,Wve=t=>Gve.call(t)==="[object Object]",kX=(t,e,n)=>Math.min(n,Math.max(e,t)),Lu=()=>{},sD=qve();function qve(){var t,e;return Vr&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function PM(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}const DX=t=>t();function Xve(t,e={}){let n,r,i=Lu;const s=o=>{clearTimeout(o),i(),i=Lu};return o=>{const l=ko(t),u=ko(e.maxWait);return n&&s(n),l<=0||u!==void 0&&u<=0?(r&&(s(r),r=null),Promise.resolve(o())):new Promise((d,f)=>{i=e.rejectOnCancel?f:d,u&&!r&&(r=setTimeout(()=>{n&&s(n),r=null,d(o())},u)),n=setTimeout(()=>{r&&s(r),r=null,d(o())},l)})}}function Yve(...t){let e=0,n,r=!0,i=Lu,s,a,o,l,u;!tr(t[0])&&typeof t[0]=="object"?{delay:a,trailing:o=!0,leading:l=!0,rejectOnCancel:u=!1}=t[0]:[a,o=!0,l=!0,u=!1]=t;const d=()=>{n&&(clearTimeout(n),n=void 0,i(),i=Lu)};return h=>{const g=ko(a),v=Date.now()-e,p=()=>s=h();return d(),g<=0?(e=Date.now(),p()):(v>g&&(l||!r)?(e=Date.now(),p()):o&&(s=new Promise((_,S)=>{i=u?S:_,n=setTimeout(()=>{e=Date.now(),r=!0,_(p()),d()},Math.max(0,g-v))})),!l&&!n&&(n=setTimeout(()=>r=!0,g)),r=!1,s)}}function Kve(t=DX){const e=ye(!0);function n(){e.value=!1}function r(){e.value=!0}const i=(...s)=>{e.value&&t(...s)};return{isActive:wp(e),pause:n,resume:r,eventFilter:i}}function Zve(t){return t||Ar()}function Qve(...t){if(t.length!==1)return _s(...t);const e=t[0];return typeof e=="function"?wp(Gce(()=>({get:e,set:Lu}))):ye(e)}function kM(t,e=200,n={}){return PM(Xve(e,n),t)}function Jve(t,e=200,n={}){const r=ye(t.value),i=kM(()=>{r.value=t.value},e,n);return Zt(t,()=>i()),r}function eye(t,e=200,n=!1,r=!0,i=!1){return PM(Yve(e,n,r,i),t)}function tye(t,e,n={}){const{eventFilter:r=DX,...i}=n;return Zt(t,PM(r,e),i)}function nye(t,e,n={}){const{eventFilter:r,...i}=n,{eventFilter:s,pause:a,resume:o,isActive:l}=Kve(r);return{stop:tye(t,e,{...i,eventFilter:s}),pause:a,resume:o,isActive:l}}function EE(t,e=!0,n){Zve()?zr(t,n):e?t():Vn(t)}function Lv(t,e,n={}){const{immediate:r=!0}=n,i=ye(!1);let s=null;function a(){s&&(clearTimeout(s),s=null)}function o(){i.value=!1,a()}function l(...u){a(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,t(...u)},ko(e))}return r&&(i.value=!0,Vr&&l()),Gm(o),{isPending:wp(i),start:l,stop:o}}function rye(t=!1,e={}){const{truthyValue:n=!0,falsyValue:r=!1}=e,i=tr(t),s=ye(t);function a(o){if(arguments.length)return s.value=o,s.value;{const l=ko(n);return s.value=s.value===l?ko(r):l,s.value}}return i?a:[s,a]}function ra(t){var e;const n=ko(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Ll=Vr?window:void 0,iye=Vr?window.document:void 0;function Hi(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=Ll):[e,n,r,i]=t,!e)return Lu;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],a=()=>{s.forEach(d=>d()),s.length=0},o=(d,f,h,g)=>(d.addEventListener(f,h,g),()=>d.removeEventListener(f,h,g)),l=Zt(()=>[ra(e),ko(i)],([d,f])=>{if(a(),!d)return;const h=Wve(f)?{...f}:f;s.push(...n.flatMap(g=>r.map(v=>o(d,g,v,h))))},{immediate:!0,flush:"post"}),u=()=>{l(),a()};return Gm(u),u}let CF=!1;function IX(t,e,n={}){const{window:r=Ll,ignore:i=[],capture:s=!0,detectIframe:a=!1}=n;if(!r)return Lu;sD&&!CF&&(CF=!0,Array.from(r.document.body.children).forEach(h=>h.addEventListener("click",Lu)),r.document.documentElement.addEventListener("click",Lu));let o=!0;const l=h=>i.some(g=>{if(typeof g=="string")return Array.from(r.document.querySelectorAll(g)).some(v=>v===h.target||h.composedPath().includes(v));{const v=ra(g);return v&&(h.target===v||h.composedPath().includes(v))}}),d=[Hi(r,"click",h=>{const g=ra(t);if(!(!g||g===h.target||h.composedPath().includes(g))){if(h.detail===0&&(o=!l(h)),!o){o=!0;return}e(h)}},{passive:!0,capture:s}),Hi(r,"pointerdown",h=>{const g=ra(t);o=!l(h)&&!!(g&&!h.composedPath().includes(g))},{passive:!0}),a&&Hi(r,"blur",h=>{setTimeout(()=>{var g;const v=ra(t);((g=r.document.activeElement)==null?void 0:g.tagName)==="IFRAME"&&!(v!=null&&v.contains(r.document.activeElement))&&e(h)},0)})].filter(Boolean);return()=>d.forEach(h=>h())}function sye(){const t=ye(!1),e=Ar();return e&&zr(()=>{t.value=!0},e),t}function AE(t){const e=sye();return he(()=>(e.value,!!t()))}function RX(t,e,n={}){const{window:r=Ll,...i}=n;let s;const a=AE(()=>r&&"MutationObserver"in r),o=()=>{s&&(s.disconnect(),s=void 0)},l=he(()=>{const h=ko(t),g=(Array.isArray(h)?h:[h]).map(ra).filter(PX);return new Set(g)}),u=Zt(()=>l.value,h=>{o(),a.value&&h.size&&(s=new MutationObserver(e),h.forEach(g=>s.observe(g,i)))},{immediate:!0,flush:"post"}),d=()=>s==null?void 0:s.takeRecords(),f=()=>{o(),u()};return Gm(f),{isSupported:a,stop:f,takeRecords:d}}function OX(t,e={}){const{window:n=Ll}=e,r=AE(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=ye(!1),a=u=>{s.value=u.matches},o=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",a):i.removeListener(a))},l=Tp(()=>{r.value&&(o(),i=n.matchMedia(ko(t)),"addEventListener"in i?i.addEventListener("change",a):i.addListener(a),s.value=i.matches)});return Gm(()=>{l(),o(),i=void 0}),s}function aye(t){return JSON.parse(JSON.stringify(t))}const Xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yx="__vueuse_ssr_handlers__",oye=lye();function lye(){return Yx in Xx||(Xx[Yx]=Xx[Yx]||{}),Xx[Yx]}function MX(t,e){return oye[t]||e}function uye(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const cye={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},EF="vueuse-storage";function dye(t,e,n,r={}){var i;const{flush:s="pre",deep:a=!0,listenToStorageChanges:o=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:d,window:f=Ll,eventFilter:h,onError:g=Y=>{console.error(Y)},initOnMounted:v}=r,p=(d?qa:ye)(typeof e=="function"?e():e);if(!n)try{n=MX("getDefaultStorage",()=>{var Y;return(Y=Ll)==null?void 0:Y.localStorage})()}catch(Y){g(Y)}if(!n)return p;const _=ko(e),S=uye(_),C=(i=r.serializer)!=null?i:cye[S],{pause:T,resume:A}=nye(p,()=>D(p.value),{flush:s,deep:a,eventFilter:h});f&&o&&EE(()=>{Hi(f,"storage",N),Hi(f,EF,U),v&&N()}),v||N();function P(Y,H){f&&f.dispatchEvent(new CustomEvent(EF,{detail:{key:t,oldValue:Y,newValue:H,storageArea:n}}))}function D(Y){try{const H=n.getItem(t);if(Y==null)P(H,null),n.removeItem(t);else{const j=C.write(Y);H!==j&&(n.setItem(t,j),P(H,j))}}catch(H){g(H)}}function R(Y){const H=Y?Y.newValue:n.getItem(t);if(H==null)return l&&_!=null&&n.setItem(t,C.write(_)),_;if(!Y&&u){const j=C.read(H);return typeof u=="function"?u(j,_):S==="object"&&!Array.isArray(j)?{..._,...j}:j}else return typeof H!="string"?H:C.read(H)}function N(Y){if(!(Y&&Y.storageArea!==n)){if(Y&&Y.key==null){p.value=_;return}if(!(Y&&Y.key!==t)){T();try{(Y==null?void 0:Y.newValue)!==C.write(p.value)&&(p.value=R(Y))}catch(H){g(H)}finally{Y?Vn(A):A()}}}}function U(Y){N(Y.detail)}return p}function LX(t){return OX("(prefers-color-scheme: dark)",t)}function fye(t={}){const{selector:e="html",attribute:n="class",initialValue:r="auto",window:i=Ll,storage:s,storageKey:a="vueuse-color-scheme",listenToStorageChanges:o=!0,storageRef:l,emitAuto:u,disableTransition:d=!0}=t,f={auto:"",light:"light",dark:"dark",...t.modes||{}},h=LX({window:i}),g=he(()=>h.value?"dark":"light"),v=l||(a==null?Qve(r):dye(a,r,s,{window:i,listenToStorageChanges:o})),p=he(()=>v.value==="auto"?g.value:v.value),_=MX("updateHTMLAttrs",(A,P,D)=>{const R=typeof A=="string"?i==null?void 0:i.document.querySelector(A):ra(A);if(!R)return;let N;if(d){N=i.document.createElement("style");const U="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";N.appendChild(document.createTextNode(U)),i.document.head.appendChild(N)}if(P==="class"){const U=D.split(/\s/g);Object.values(f).flatMap(Y=>(Y||"").split(/\s/g)).filter(Boolean).forEach(Y=>{U.includes(Y)?R.classList.add(Y):R.classList.remove(Y)})}else R.setAttribute(P,D);d&&(i.getComputedStyle(N).opacity,document.head.removeChild(N))});function S(A){var P;_(e,n,(P=f[A])!=null?P:A)}function C(A){t.onChanged?t.onChanged(A,S):S(A)}Zt(p,C,{flush:"post",immediate:!0}),EE(()=>C(p.value));const T=he({get(){return u?v.value:p.value},set(A){v.value=A}});try{return Object.assign(T,{store:v,system:g,state:p})}catch{return T}}function hye(t,e,n={}){const{window:r=Ll,initialValue:i="",observe:s=!1}=n,a=ye(i),o=he(()=>{var u;return ra(e)||((u=r==null?void 0:r.document)==null?void 0:u.documentElement)});function l(){var u;const d=ko(t),f=ko(o);if(f&&r){const h=(u=r.getComputedStyle(f).getPropertyValue(d))==null?void 0:u.trim();a.value=h||i}}return s&&RX(o,l,{attributeFilter:["style","class"],window:r}),Zt([o,()=>ko(t)],l,{immediate:!0}),Zt(a,u=>{var d;(d=o.value)!=null&&d.style&&o.value.style.setProperty(ko(t),u)}),a}function pye(t={}){const{valueDark:e="dark",valueLight:n="",window:r=Ll}=t,i=fye({...t,onChanged:(o,l)=>{var u;t.onChanged?(u=t.onChanged)==null||u.call(t,o==="dark",l,o):l(o)},modes:{dark:e,light:n}}),s=he(()=>i.system?i.system.value:LX({window:r}).value?"dark":"light");return he({get(){return i.value==="dark"},set(o){const l=o?"dark":"light";s.value===l?i.value="auto":i.value=l}})}function mye(t={}){const{document:e=iye}=t;if(!e)return ye("visible");const n=ye(e.visibilityState);return Hi(e,"visibilitychange",()=>{n.value=e.visibilityState}),n}function ma(t,e,n={}){const{window:r=Ll,...i}=n;let s;const a=AE(()=>r&&"ResizeObserver"in r),o=()=>{s&&(s.disconnect(),s=void 0)},l=he(()=>Array.isArray(t)?t.map(f=>ra(f)):[ra(t)]),u=Zt(l,f=>{if(o(),a.value&&r){s=new ResizeObserver(e);for(const h of f)h&&s.observe(h,i)}},{immediate:!0,flush:"post"}),d=()=>{o(),u()};return Gm(d),{isSupported:a,stop:d}}function AF(t,e={width:0,height:0},n={}){const{window:r=Ll,box:i="content-box"}=n,s=he(()=>{var f,h;return(h=(f=ra(t))==null?void 0:f.namespaceURI)==null?void 0:h.includes("svg")}),a=ye(e.width),o=ye(e.height),{stop:l}=ma(t,([f])=>{const h=i==="border-box"?f.borderBoxSize:i==="content-box"?f.contentBoxSize:f.devicePixelContentBoxSize;if(r&&s.value){const g=ra(t);if(g){const v=g.getBoundingClientRect();a.value=v.width,o.value=v.height}}else if(h){const g=Array.isArray(h)?h:[h];a.value=g.reduce((v,{inlineSize:p})=>v+p,0),o.value=g.reduce((v,{blockSize:p})=>v+p,0)}else a.value=f.contentRect.width,o.value=f.contentRect.height},n);EE(()=>{const f=ra(t);f&&(a.value="offsetWidth"in f?f.offsetWidth:e.width,o.value="offsetHeight"in f?f.offsetHeight:e.height)});const u=Zt(()=>ra(t),f=>{a.value=f?e.width:0,o.value=f?e.height:0});function d(){l(),u()}return{width:a,height:o,stop:d}}function gye(t,e,n={}){const{root:r,rootMargin:i="0px",threshold:s=.1,window:a=Ll,immediate:o=!0}=n,l=AE(()=>a&&"IntersectionObserver"in a),u=he(()=>{const v=ko(t);return(Array.isArray(v)?v:[v]).map(ra).filter(PX)});let d=Lu;const f=ye(o),h=l.value?Zt(()=>[u.value,ra(r),f.value],([v,p])=>{if(d(),!f.value||!v.length)return;const _=new IntersectionObserver(e,{root:ra(p),rootMargin:i,threshold:s});v.forEach(S=>S&&_.observe(S)),d=()=>{_.disconnect(),d=Lu}},{immediate:o,flush:"post"}):Lu,g=()=>{d(),h(),f.value=!1};return Gm(g),{isSupported:l,isActive:f,pause(){d(),f.value=!1},resume(){f.value=!0},stop:g}}function vye(t,e,n,r={}){var i,s,a;const{clone:o=!1,passive:l=!1,eventName:u,deep:d=!1,defaultValue:f,shouldEmit:h}=r,g=Ar(),v=n||(g==null?void 0:g.emit)||((i=g==null?void 0:g.$emit)==null?void 0:i.bind(g))||((a=(s=g==null?void 0:g.proxy)==null?void 0:s.$emit)==null?void 0:a.bind(g==null?void 0:g.proxy));let p=u;e||(e="modelValue"),p=p||`update:${e.toString()}`;const _=T=>o?typeof o=="function"?o(T):aye(T):T,S=()=>jve(t[e])?_(t[e]):f,C=T=>{h?h(T)&&v(p,T):v(p,T)};if(l){const T=S(),A=ye(T);let P=!1;return Zt(()=>t[e],D=>{P||(P=!0,A.value=_(D),Vn(()=>P=!1))}),Zt(A,D=>{!P&&(D!==t[e]||d)&&C(D)},{deep:d}),A}else return he({get(){return S()},set(T){C(T)}})}function yye(t={}){const{window:e=Ll}=t;if(!e)return ye(!1);const n=ye(e.document.hasFocus());return Hi(e,"blur",()=>{n.value=!1}),Hi(e,"focus",()=>{n.value=!0}),n}function _ye(t={}){const{window:e=Ll,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:s=!0}=t,a=ye(n),o=ye(r),l=()=>{e&&(s?(a.value=e.innerWidth,o.value=e.innerHeight):(a.value=e.document.documentElement.clientWidth,o.value=e.document.documentElement.clientHeight))};if(l(),EE(l),Hi("resize",l,{passive:!0}),i){const u=OX("(orientation: portrait)");Zt(u,()=>l())}return{width:a,height:o}}class bye extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function ll(t,e){throw new bye(`[${t}] ${e}`)}const PF={current:0},kF=ye(0),$X=2e3,DF=Symbol("elZIndexContextKey"),NX=Symbol("zIndexContextKey"),PE=t=>{const e=Ar()?In(DF,PF):PF,n=t||(Ar()?In(NX,void 0):void 0),r=he(()=>{const a=b(n);return Lr(a)?a:$X}),i=he(()=>r.value+kF.value),s=()=>(e.current++,kF.value=e.current,i.value);return!Vr&&In(DF),{initialZIndex:r,currentZIndex:i,nextZIndex:s}};var xye={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value",alphaDescription:"alpha {alpha}, current color is {color}",hueLabel:"pick hue value",hueDescription:"hue {hue}, current color is {color}",svLabel:"pick saturation and brightness value",svDescription:"saturation {saturation}, brightness {brightness}, current color is {color}",predefineDescription:"select {value} as the color"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum",selectAllLabel:"Select all rows",selectRowLabel:"Select this row",expandRowLabel:"Expand this row",collapseRowLabel:"Collapse this row",sortLabel:"Sort by {column}",filterLabel:"Filter by {column}"},tag:{close:"Close this tag"},tour:{next:"Next",previous:"Previous",finish:"Finish",close:"Close this dialog"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const wye=t=>(e,n)=>Sye(e,n,b(t)),Sye=(t,e,n)=>rl(n,t,t).replace(/\{(\w+)\}/g,(r,i)=>{var s;return`${(s=e==null?void 0:e[i])!=null?s:`{${i}}`}`}),Tye=t=>{const e=he(()=>b(t).name),n=tr(t)?t:ye(t);return{lang:e,locale:n,t:wye(t)}},FX=Symbol("localeContextKey"),mi=t=>{const e=t||In(FX,ye());return Tye(he(()=>e.value||xye))},BX="__epPropKey",Dt=t=>t,Cye=t=>fr(t)&&!!t[BX],kE=(t,e)=>{if(!fr(t)||Cye(t))return t;const{values:n,required:r,default:i,type:s,validator:a}=t,l={type:s,required:!!r,validator:n||a?u=>{let d=!1,f=[];if(n&&(f=Array.from(n),Kr(t,"default")&&f.push(i),d||(d=f.includes(u))),a&&(d||(d=a(u))),!d&&f.length>0){const h=[...new Set(f)].map(g=>JSON.stringify(g)).join(", ");Qde(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${h}], got value ${JSON.stringify(u)}.`)}return d}:void 0,[BX]:!0};return Kr(t,"default")&&(l.default=i),l},On=t=>Ub(Object.entries(t).map(([e,n])=>[e,kE(n,e)])),jp=["","default","small","large"],Ic=kE({type:String,values:jp,required:!1}),UX=Symbol("size"),VX=()=>{const t=In(UX,{});return he(()=>b(t.size)||"")},zX=Symbol("emptyValuesContextKey"),Eye=["",void 0,null],Aye=void 0,DM=On({emptyValues:Array,valueOnClear:{type:Dt([String,Number,Boolean,Function]),default:void 0,validator:t=>(t=kn(t)?t():t,nn(t)?t.every(e=>!e):!t)}}),IM=(t,e)=>{const n=Ar()?In(zX,ye({})):ye({}),r=he(()=>t.emptyValues||n.value.emptyValues||Eye),i=he(()=>kn(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:kn(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:Aye),s=a=>{let o=!0;return nn(a)?o=r.value.some(l=>na(a,l)):o=r.value.includes(a),o};return s(i.value),{emptyValues:r,valueOnClear:i,isEmptyValue:s}},aD=t=>Object.keys(t),Pye=t=>Object.entries(t),q2=(t,e,n)=>({get value(){return rl(t,e,n)},set value(r){Bve(t,e,r)}}),RT=ye();function Q1(t,e=void 0){const n=Ar()?In(Vq,RT):RT;return t?he(()=>{var r,i;return(i=(r=n.value)==null?void 0:r[t])!=null?i:e}):n}function DE(t,e){const n=Q1(),r=gn(t,he(()=>{var o;return((o=n.value)==null?void 0:o.namespace)||G2})),i=mi(he(()=>{var o;return(o=n.value)==null?void 0:o.locale})),s=PE(he(()=>{var o;return((o=n.value)==null?void 0:o.zIndex)||$X})),a=he(()=>{var o;return b(e)||((o=n.value)==null?void 0:o.size)||""});return kye(he(()=>b(n)||{})),{ns:r,locale:i,zIndex:s,size:a}}const kye=(t,e,n=!1)=>{var r;const i=!!Ar(),s=i?Q1():void 0,a=(r=e==null?void 0:e.provide)!=null?r:i?pi:void 0;if(!a)return;const o=he(()=>{const l=b(t);return s!=null&&s.value?Dye(s.value,l):l});return a(Vq,o),a(FX,he(()=>o.value.locale)),a(zq,he(()=>o.value.namespace)),a(NX,he(()=>o.value.zIndex)),a(UX,{size:he(()=>o.value.size||"")}),a(zX,he(()=>({emptyValues:o.value.emptyValues,valueOnClear:o.value.valueOnClear}))),(n||!RT.value)&&(RT.value=o.value),o},Dye=(t,e)=>{const n=[...new Set([...aD(t),...aD(e)])],r={};for(const i of n)r[i]=e[i]!==void 0?e[i]:t[i];return r},RM=On({to:{type:Dt([String,Object]),required:!0},disabled:Boolean});var Nn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const Iye=kt({__name:"teleport",props:RM,setup(t){return(e,n)=>e.disabled?Ot(e.$slots,"default",{key:0}):(ge(),Tt(ade,{key:1,to:e.to},[Ot(e.$slots,"default")],8,["to"]))}});var Rye=Nn(Iye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/teleport/src/teleport.vue"]]);const _i=(t,e)=>{if(t.install=n=>{for(const r of[t,...Object.values(e??{})])n.component(r.name,r)},e)for(const[n,r]of Object.entries(e))t[n]=r;return t},HX=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),Ya=t=>(t.install=Zr,t),IE=_i(Rye),Ti="update:modelValue",bs="change",M3="input",OM=t=>Vr?window.requestAnimationFrame(t):setTimeout(t,16),Oye=t=>Vr?window.cancelAnimationFrame(t):clearTimeout(t),jX=(t="")=>t.split(" ").filter(e=>!!e.trim()),Sd=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},uc=(t,e)=>{!t||!e.trim()||t.classList.add(...jX(e))},su=(t,e)=>{!t||!e.trim()||t.classList.remove(...jX(e))},Qh=(t,e)=>{var n;if(!Vr||!t||!e)return"";let r=au(e);r==="float"&&(r="cssFloat");try{const i=t.style[r];if(i)return i;const s=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return s?s[r]:""}catch{return t.style[r]}};function zu(t,e="px"){if(!t&&t!==0)return"";if(Lr(t)||Vve(t))return`${t}${e}`;if(Kn(t))return t}const Mye=(t,e)=>{if(!Vr)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=Qh(t,n);return["scroll","auto","overlay"].some(i=>r.includes(i))},Lye=(t,e)=>{if(!Vr)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(Mye(n,e))return n;n=n.parentNode}return n};let Kx;const $ye=t=>{var e;if(!Vr)return 0;if(Kx!==void 0)return Kx;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",n.appendChild(i);const s=i.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),Kx=r-s,Kx};function GX(t,e){if(!Vr)return;if(!e){t.scrollTop=0;return}const n=[];let r=e.offsetParent;for(;r!==null&&t!==r&&t.contains(r);)n.push(r),r=r.offsetParent;const i=e.offsetTop+n.reduce((l,u)=>l+u.offsetTop,0),s=i+e.offsetHeight,a=t.scrollTop,o=a+t.clientHeight;i<a?t.scrollTop=i:s>o&&(t.scrollTop=s-t.clientHeight)}const Nye=On({size:{type:Dt([Number,String])},color:{type:String}}),Fye=kt({name:"ElIcon",inheritAttrs:!1,__name:"icon",props:Nye,setup(t){const e=t,n=gn("icon"),r=he(()=>{const{size:i,color:s}=e,a=zu(i);return!a&&!s?{}:{fontSize:a,"--color":s}});return(i,s)=>(ge(),Fe("i",Fi({class:b(n).b(),style:r.value},i.$attrs),[Ot(i.$slots,"default")],16))}});var Bye=Nn(Fye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const Bn=_i(Bye);/*! Element Plus Icons Vue v2.3.2 */var Uye=kt({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.59 30.59 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.59 30.59 0 0 0-42.752 0z"})]))}}),J1=Uye,Vye=kt({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.59 30.59 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.59 30.59 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0"})]))}}),xm=Vye,zye=kt({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M340.864 149.312a30.59 30.59 0 0 0 0 42.752L652.736 512 340.864 831.872a30.59 30.59 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),$u=zye,Hye=kt({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),WX=Hye,jye=kt({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),Gye=jye,Wye=kt({name:"ChatLineRound",__name:"chat-line-round",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.06 461.06 0 0 1-206.912-48.384l-175.616 58.56z"}),Ve("path",{fill:"currentColor",d:"M352 576h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m32-192h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32"})]))}}),qye=Wye,Xye=kt({name:"Check",__name:"check",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),RE=Xye,Yye=kt({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Ve("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752z"})]))}}),MM=Yye,Kye=kt({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),qX=Kye,Zye=kt({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Ve("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),$y=Zye,Qye=kt({name:"Clock",__name:"clock",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Ve("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Ve("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),Jye=Qye,e_e=kt({name:"Close",__name:"close",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Rd=e_e,t_e=kt({name:"Coin",__name:"coin",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"m161.92 580.736 29.888 58.88C171.328 659.776 160 681.728 160 704c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 615.808 928 657.664 928 704c0 129.728-188.544 224-416 224S96 833.728 96 704c0-46.592 24.32-88.576 65.92-123.264"}),Ve("path",{fill:"currentColor",d:"m161.92 388.736 29.888 58.88C171.328 467.84 160 489.792 160 512c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 423.808 928 465.664 928 512c0 129.728-188.544 224-416 224S96 641.728 96 512c0-46.592 24.32-88.576 65.92-123.264"}),Ve("path",{fill:"currentColor",d:"M512 544c-227.456 0-416-94.272-416-224S284.544 96 512 96s416 94.272 416 224-188.544 224-416 224m0-64c196.672 0 352-77.696 352-160S708.672 160 512 160s-352 77.696-352 160 155.328 160 352 160"})]))}}),IF=t_e,n_e=kt({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672zm256 0a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672z"})]))}}),Ep=n_e,r_e=kt({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L764.736 512 452.864 192a30.59 30.59 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L508.736 512 196.864 192a30.59 30.59 0 0 1 0-42.688"})]))}}),Ap=r_e,i_e=kt({name:"Delete",__name:"delete",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),s_e=i_e,a_e=kt({name:"Document",__name:"document",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),o_e=a_e,l_e=kt({name:"Expand",__name:"expand",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M128 192h768v128H128zm0 256h512v128H128zm0 256h768v128H128zm576-352 192 160-192 128z"})]))}}),u_e=l_e,c_e=kt({name:"Fold",__name:"fold",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M896 192H128v128h768zm0 256H384v128h512zm0 256H128v128h768zM320 384 128 512l192 128z"})]))}}),d_e=c_e,f_e=kt({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),h_e=f_e,p_e=kt({name:"Hide",__name:"hide",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4s-12.8-9.6-22.4-9.6-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176S0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4 12.8 9.6 22.4 9.6 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4m-646.4 528Q115.2 579.2 76.8 512q43.2-72 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4m140.8-96Q352 555.2 352 512c0-44.8 16-83.2 48-112s67.2-48 112-48c28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6q-43.2 72-153.6 172.8c-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176S1024 528 1024 512s-48.001-73.6-134.401-176"}),Ve("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112s-67.2 48-112 48"})]))}}),m_e=p_e,g_e=kt({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.99 12.99 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),oD=g_e,v_e=kt({name:"Iphone",__name:"iphone",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96zm304-144a48 48 0 1 1-96 0 48 48 0 0 1 96 0"})]))}}),y_e=v_e,__e=kt({name:"Loading",__name:"loading",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"})]))}}),wm=__e,b_e=kt({name:"Menu",__name:"menu",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z"})]))}}),x_e=b_e,w_e=kt({name:"MessageBox",__name:"message-box",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M288 384h448v64H288zm96-128h256v64H384zM131.456 512H384v128h256V512h252.544L721.856 192H302.144zM896 576H704v128H320V576H128v256h768zM275.776 128h472.448a32 32 0 0 1 28.608 17.664l179.84 359.552A32 32 0 0 1 960 519.552V864a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V519.552a32 32 0 0 1 3.392-14.336l179.776-359.552A32 32 0 0 1 275.776 128"})]))}}),S_e=w_e,T_e=kt({name:"Message",__name:"message",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M128 224v512a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V224zm0-64h768a64 64 0 0 1 64 64v512a128 128 0 0 1-128 128H192A128 128 0 0 1 64 736V224a64 64 0 0 1 64-64"}),Ve("path",{fill:"currentColor",d:"M904 224 656.512 506.88a192 192 0 0 1-289.024 0L120 224zm-698.944 0 210.56 240.704a128 128 0 0 0 192.704 0L818.944 224z"})]))}}),RF=T_e,C_e=kt({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),OF=C_e,E_e=kt({name:"More",__name:"more",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),A_e=E_e,P_e=kt({name:"Operation",__name:"operation",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64z"})]))}}),k_e=P_e,D_e=kt({name:"Platform",__name:"platform",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M448 832v-64h128v64h192v64H256v-64zM128 704V128h768v576z"})]))}}),I_e=D_e,R_e=kt({name:"Plus",__name:"plus",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),XX=R_e,O_e=kt({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),M_e=O_e,L_e=kt({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88"})]))}}),$_e=L_e,N_e=kt({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118m-361.412 0a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118M512 361.412a30.12 30.12 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.12 30.12 0 0 0 512 361.412M512 512a30.12 30.12 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.12 30.12 0 0 0 512 512"})]))}}),F_e=N_e,B_e=kt({name:"Search",__name:"search",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),U_e=B_e,V_e=kt({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),YX=V_e,z_e=kt({name:"SwitchButton",__name:"switch-button",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128"}),Ve("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32"})]))}}),H_e=z_e,j_e=kt({name:"Timer",__name:"timer",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M512 896a320 320 0 1 0 0-640 320 320 0 0 0 0 640m0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768"}),Ve("path",{fill:"currentColor",d:"M512 320a32 32 0 0 1 32 32l-.512 224a32 32 0 1 1-64 0L480 352a32 32 0 0 1 32-32"}),Ve("path",{fill:"currentColor",d:"M448 576a64 64 0 1 0 128 0 64 64 0 1 0-128 0m96-448v128h-64V128h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64z"})]))}}),G_e=j_e,W_e=kt({name:"UploadFilled",__name:"upload-filled",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.81 239.81 0 0 1 512 192a239.87 239.87 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6z"})]))}}),q_e=W_e,X_e=kt({name:"UserFilled",__name:"user-filled",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0m544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"})]))}}),Y_e=X_e,K_e=kt({name:"View",__name:"view",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288m0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.19 160.19 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),Z_e=K_e,Q_e=kt({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.43 58.43 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.43 58.43 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),LM=Q_e,J_e=kt({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),KX=J_e,e2e=kt({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(ge(),Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ve("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),t2e=e2e;const $s=Dt([String,Object,Function]),n2e={Close:Rd},ZX={Close:Rd,SuccessFilled:YX,InfoFilled:oD,WarningFilled:LM,CircleCloseFilled:qX},$v={primary:oD,success:YX,warning:LM,error:qX,info:oD},QX={validating:wm,success:MM,error:$y},JX=()=>Vr&&/firefox/i.test(window.navigator.userAgent),r2e=()=>Vr&&/android/i.test(window.navigator.userAgent);let pl;const i2e={height:"0",visibility:"hidden",overflow:JX()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},s2e=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],MF=t=>{const e=Number.parseFloat(t);return Number.isNaN(e)?t:e};function a2e(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:s2e.map(a=>[a,e.getPropertyValue(a)]),paddingSize:r,borderSize:i,boxSizing:n}}function LF(t,e=1,n){var r,i;pl||(pl=document.createElement("textarea"),((r=t.parentNode)!=null?r:document.body).appendChild(pl));const{paddingSize:s,borderSize:a,boxSizing:o,contextStyle:l}=a2e(t);l.forEach(([h,g])=>pl==null?void 0:pl.style.setProperty(h,g)),Object.entries(i2e).forEach(([h,g])=>pl==null?void 0:pl.style.setProperty(h,g,"important")),pl.value=t.value||t.placeholder||"";let u=pl.scrollHeight;const d={};o==="border-box"?u=u+a:o==="content-box"&&(u=u-s),pl.value="";const f=pl.scrollHeight-s;if(Lr(e)){let h=f*e;o==="border-box"&&(h=h+s+a),u=Math.max(h,u),d.minHeight=`${h}px`}if(Lr(n)){let h=f*n;o==="border-box"&&(h=h+s+a),u=Math.min(h,u)}return d.height=`${u}px`,(i=pl.parentNode)==null||i.removeChild(pl),pl=void 0,d}const Aa=t=>t,o2e=On({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Yf=t=>EX(o2e,t),l2e=On({id:{type:String,default:void 0},size:Ic,disabled:{type:Boolean,default:void 0},modelValue:{type:Dt([String,Number,Object]),default:""},modelModifiers:{type:Dt(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:Dt(String),default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Dt([Boolean,Object]),default:!1},autocomplete:{type:Dt(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:$s,default:$y},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:["inside","outside"],default:"inside"},suffixIcon:{type:$s},prefixIcon:{type:$s},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Dt([Object,Array,String]),default:()=>Aa({})},autofocus:Boolean,rows:{type:Number,default:2},...Yf(["ariaLabel"]),inputmode:{type:Dt(String),default:void 0},name:String}),u2e={[Ti]:t=>Kn(t),input:t=>Kn(t),change:(t,e)=>Kn(t)&&(e instanceof Event||e===void 0),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},c2e=["class","style"],d2e=/^on[A-Z]/,$M=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,r=he(()=>((n==null?void 0:n.value)||[]).concat(c2e)),i=Ar();return he(i?()=>{var s;return Ub(Object.entries((s=i.proxy)==null?void 0:s.$attrs).filter(([a])=>!r.value.includes(a)&&!(e&&d2e.test(a))))}:()=>({}))},$F={prefix:Math.floor(Math.random()*1e4),current:0},f2e=Symbol("elIdInjection"),eY=()=>Ar()?In(f2e,$F):$F,Cc=t=>{const e=eY(),n=fM();return AX(()=>b(t)||`${n.value}-id-${e.prefix}-${e.current++}`)},Wm=Symbol("formContextKey"),Sm=Symbol("formItemContextKey"),Rc=()=>{const t=In(Wm,void 0),e=In(Sm,void 0);return{form:t,formItem:e}},Ny=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=ye(!1)),r||(r=ye(!1));const i=Ar(),s=()=>{let u=i==null?void 0:i.parent;for(;u;){if(u.type.name==="ElFormItem")return!1;if(u.type.name==="ElLabelWrap")return!0;u=u.parent}return!1},a=ye();let o;const l=he(()=>{var u;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((u=e.inputIds)==null?void 0:u.length)<=1)});return zr(()=>{o=Zt([_s(t,"id"),n],([u,d])=>{const f=u??(d?void 0:Cc().value);f!==a.value&&(e!=null&&e.removeInputId&&!s()&&(a.value&&e.removeInputId(a.value),!(r!=null&&r.value)&&!d&&f&&e.addInputId(f)),a.value=f)},{immediate:!0})}),Hp(()=>{o&&o(),e!=null&&e.removeInputId&&a.value&&e.removeInputId(a.value)}),{isLabeledByFormItem:l,inputId:a}},tY=t=>{const e=Ar();return he(()=>{var n,r;return(r=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:r[t]})},Hu=(t,e={})=>{const n=ye(void 0),r=e.prop?n:tY("size"),i=e.global?n:VX(),s=e.form?{size:void 0}:In(Wm,void 0),a=e.formItem?{size:void 0}:In(Sm,void 0);return he(()=>r.value||b(t)||(a==null?void 0:a.size)||(s==null?void 0:s.size)||i.value||"")},uo=t=>{const e=tY("disabled"),n=In(Wm,void 0);return he(()=>{var r,i,s;return(s=(i=(r=e.value)!=null?r:b(t))!=null?i:n==null?void 0:n.disabled)!=null?s:!1})},h2e='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',NF=t=>typeof Element>"u"?!1:t instanceof Element,p2e=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,FF=t=>Array.from(t.querySelectorAll(h2e)).filter(e=>Vb(e)&&p2e(e)),Vb=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},TS=function(t,e,...n){let r;e.includes("mouse")||e.includes("click")?r="MouseEvents":e.includes("key")?r="KeyboardEvent":r="HTMLEvents";const i=document.createEvent(r);return i.initEvent(e,...n),t.dispatchEvent(i),t},nY=t=>!t.getAttribute("aria-owns"),rY=(t,e,n)=>{const{parentNode:r}=t;if(!r)return null;const i=r.querySelectorAll(n),s=Array.prototype.indexOf.call(i,t);return i[s+e]||null},ex=(t,e)=>{if(!t||!t.focus)return;let n=!1;NF(t)&&!Vb(t)&&!t.getAttribute("tabindex")&&(t.setAttribute("tabindex","-1"),n=!0),t.focus(e),NF(t)&&n&&t.removeAttribute("tabindex")},CS=t=>{t&&(ex(t),!nY(t)&&t.click())};function tx(t,{disabled:e,beforeFocus:n,afterFocus:r,beforeBlur:i,afterBlur:s}={}){const a=Ar(),{emit:o}=a,l=qa(),u=ye(!1),d=g=>{const v=kn(n)?n(g):!1;b(e)||u.value||v||(u.value=!0,o("focus",g),r==null||r())},f=g=>{var v;const p=kn(i)?i(g):!1;b(e)||g.relatedTarget&&((v=l.value)!=null&&v.contains(g.relatedTarget))||p||(u.value=!1,o("blur",g),s==null||s())},h=g=>{var v,p;b(e)||Vb(g.target)||(v=l.value)!=null&&v.contains(document.activeElement)&&l.value!==document.activeElement||(p=t.value)==null||p.focus()};return Zt([l,()=>b(e)],([g,v])=>{g&&(v?g.removeAttribute("tabindex"):g.setAttribute("tabindex","-1"))}),Hi(l,"focus",d,!0),Hi(l,"blur",f,!0),Hi(l,"click",h,!0),{isFocused:u,wrapperRef:l,handleFocus:d,handleBlur:f}}const m2e=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function NM({afterComposition:t,emit:e}){const n=ye(!1),r=o=>{e==null||e("compositionstart",o),n.value=!0},i=o=>{var l;e==null||e("compositionupdate",o);const u=(l=o.target)==null?void 0:l.value,d=u[u.length-1]||"";n.value=!m2e(d)},s=o=>{e==null||e("compositionend",o),n.value&&(n.value=!1,Vn(()=>t(o)))};return{isComposing:n,handleComposition:o=>{o.type==="compositionend"?s(o):i(o)},handleCompositionStart:r,handleCompositionUpdate:i,handleCompositionEnd:s}}function g2e(t){let e;function n(){if(t.value==null)return;const{selectionStart:i,selectionEnd:s,value:a}=t.value;if(i==null||s==null)return;const o=a.slice(0,Math.max(0,i)),l=a.slice(Math.max(0,s));e={selectionStart:i,selectionEnd:s,value:a,beforeTxt:o,afterTxt:l}}function r(){if(t.value==null||e==null)return;const{value:i}=t.value,{beforeTxt:s,afterTxt:a,selectionStart:o}=e;if(s==null||a==null||o==null)return;let l=i.length;if(i.endsWith(a))l=i.length-a.length;else if(i.startsWith(s))l=s.length;else{const u=s[o-1],d=i.indexOf(u,o-1);d!==-1&&(l=d+1)}t.value.setSelectionRange(l,l)}return[n,r]}const v2e=["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode"],y2e=["id","name","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role"],_2e="ElInput",b2e=kt({name:_2e,inheritAttrs:!1,__name:"input",props:l2e,emits:u2e,setup(t,{expose:e,emit:n}){const r=t,i=n,s=Dy(),a=$M(),o=cl(),l=he(()=>[r.type==="textarea"?_.b():p.b(),p.m(g.value),p.is("disabled",v.value),p.is("exceed",Ee.value),{[p.b("group")]:o.prepend||o.append,[p.m("prefix")]:o.prefix||r.prefixIcon,[p.m("suffix")]:o.suffix||r.suffixIcon||r.clearable||r.showPassword,[p.bm("suffix","password-clear")]:ee.value&&de.value,[p.b("hidden")]:r.type==="hidden"},s.class]),u=he(()=>[p.e("wrapper"),p.is("focus",U.value)]),{form:d,formItem:f}=Rc(),{inputId:h}=Ny(r,{formItemContext:f}),g=Hu(),v=uo(),p=gn("input"),_=gn("textarea"),S=qa(),C=qa(),T=ye(!1),A=ye(!1),P=ye(),D=qa(r.inputStyle),R=he(()=>S.value||C.value),{wrapperRef:N,isFocused:U,handleFocus:Y,handleBlur:H}=tx(R,{disabled:v,afterBlur(){var Pt;r.validateEvent&&((Pt=f==null?void 0:f.validate)==null||Pt.call(f,"blur").catch(Ct=>void 0))}}),j=he(()=>{var Pt;return(Pt=d==null?void 0:d.statusIcon)!=null?Pt:!1}),X=he(()=>(f==null?void 0:f.validateState)||""),W=he(()=>X.value&&QX[X.value]),F=he(()=>A.value?Z_e:m_e),te=he(()=>[s.style]),G=he(()=>[r.inputStyle,D.value,{resize:r.resize}]),K=he(()=>Tc(r.modelValue)?"":String(r.modelValue)),ee=he(()=>r.clearable&&!v.value&&!r.readonly&&!!K.value&&(U.value||T.value)),de=he(()=>r.showPassword&&!v.value&&!!K.value),ue=he(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!v.value&&!r.readonly&&!r.showPassword),me=he(()=>K.value.length),Ee=he(()=>!!ue.value&&me.value>Number(r.maxlength)),Oe=he(()=>!!o.suffix||!!r.suffixIcon||ee.value||r.showPassword||ue.value||!!X.value&&j.value),Ge=he(()=>!!Object.keys(r.modelModifiers).length),[$e,Ie]=g2e(S);ma(C,Pt=>{if(Ze(),!ue.value||r.resize!=="both"&&r.resize!=="horizontal")return;const Ct=Pt[0],{width:Kt}=Ct.contentRect;P.value={right:`calc(100% - ${Kt+22-10}px)`}});const Ke=()=>{const{type:Pt,autosize:Ct}=r;if(!(!Vr||Pt!=="textarea"||!C.value))if(Ct){const Kt=fr(Ct)?Ct.minRows:void 0,$t=fr(Ct)?Ct.maxRows:void 0,Te=LF(C.value,Kt,$t);D.value={overflowY:"hidden",...Te},Vn(()=>{C.value.offsetHeight,D.value=Te})}else D.value={minHeight:LF(C.value).minHeight}},Ze=(Pt=>{let Ct=!1;return()=>{var Kt;if(Ct||!r.autosize)return;((Kt=C.value)==null?void 0:Kt.offsetParent)===null||(setTimeout(Pt),Ct=!0)}})(Ke),bt=()=>{const Pt=R.value,Ct=r.formatter?r.formatter(K.value):K.value;!Pt||Pt.value===Ct||r.type==="file"||(Pt.value=Ct)},ht=Pt=>{const{trim:Ct,number:Kt}=r.modelModifiers;return Ct&&(Pt=Pt.trim()),Kt&&(Pt=`${MF(Pt)}`),r.formatter&&r.parser&&(Pt=r.parser(Pt)),Pt},ae=async Pt=>{if(rt.value)return;const{lazy:Ct}=r.modelModifiers;let{value:Kt}=Pt.target;if(Ct){i(M3,Kt);return}if(Kt=ht(Kt),String(Kt)===K.value){r.formatter&&bt();return}$e(),i(Ti,Kt),i(M3,Kt),await Vn(),(r.formatter&&r.parser||!Ge.value)&&bt(),Ie()},Re=async Pt=>{let{value:Ct}=Pt.target;Ct=ht(Ct),r.modelModifiers.lazy&&i(Ti,Ct),i(bs,Ct,Pt),await Vn(),bt()},{isComposing:rt,handleCompositionStart:Ye,handleCompositionUpdate:it,handleCompositionEnd:St}=NM({emit:i,afterComposition:ae}),Lt=()=>{A.value=!A.value},xt=()=>{var Pt;return(Pt=R.value)==null?void 0:Pt.focus()},sn=()=>{var Pt;return(Pt=R.value)==null?void 0:Pt.blur()},zt=Pt=>{T.value=!1,i("mouseleave",Pt)},ft=Pt=>{T.value=!0,i("mouseenter",Pt)},tn=Pt=>{i("keydown",Pt)},_n=()=>{var Pt;(Pt=R.value)==null||Pt.select()},qt=()=>{i(Ti,""),i(bs,""),i("clear"),i(M3,"")};return Zt(()=>r.modelValue,()=>{var Pt;Vn(()=>Ke()),r.validateEvent&&((Pt=f==null?void 0:f.validate)==null||Pt.call(f,"change").catch(Ct=>void 0))}),Zt(K,Pt=>{if(!R.value)return;const{trim:Ct,number:Kt}=r.modelModifiers,$t=R.value.value,Te=(Kt||r.type==="number")&&!/^0\d/.test($t)?`${MF($t)}`:$t;Te!==Pt&&(document.activeElement===R.value&&R.value.type!=="range"&&Ct&&Te.trim()===Pt||bt())}),Zt(()=>r.type,async()=>{await Vn(),bt(),Ke()}),zr(()=>{!r.formatter&&r.parser,bt(),Vn(Ke)}),e({input:S,textarea:C,ref:R,textareaStyle:G,autosize:_s(r,"autosize"),isComposing:rt,focus:xt,blur:sn,select:_n,clear:qt,resizeTextarea:Ke}),(Pt,Ct)=>(ge(),Fe("div",{class:Ce([l.value,{[b(p).bm("group","append")]:Pt.$slots.append,[b(p).bm("group","prepend")]:Pt.$slots.prepend}]),style:dr(te.value),onMouseenter:ft,onMouseleave:zt},[gt(" input "),Pt.type!=="textarea"?(ge(),Fe(Tn,{key:0},[gt(" prepend slot "),Pt.$slots.prepend?(ge(),Fe("div",{key:0,class:Ce(b(p).be("group","prepend"))},[Ot(Pt.$slots,"prepend")],2)):gt("v-if",!0),Ve("div",{ref_key:"wrapperRef",ref:N,class:Ce(u.value)},[gt(" prefix slot "),Pt.$slots.prefix||Pt.prefixIcon?(ge(),Fe("span",{key:0,class:Ce(b(p).e("prefix"))},[Ve("span",{class:Ce(b(p).e("prefix-inner"))},[Ot(Pt.$slots,"prefix"),Pt.prefixIcon?(ge(),Tt(b(Bn),{key:0,class:Ce(b(p).e("icon"))},{default:ie(()=>[(ge(),Tt(ti(Pt.prefixIcon)))]),_:1},8,["class"])):gt("v-if",!0)],2)],2)):gt("v-if",!0),Ve("input",Fi({id:b(h),ref_key:"input",ref:S,class:b(p).e("inner")},b(a),{name:Pt.name,minlength:Pt.minlength,maxlength:Pt.maxlength,type:Pt.showPassword?A.value?"text":"password":Pt.type,disabled:b(v),readonly:Pt.readonly,autocomplete:Pt.autocomplete,tabindex:Pt.tabindex,"aria-label":Pt.ariaLabel,placeholder:Pt.placeholder,style:Pt.inputStyle,form:Pt.form,autofocus:Pt.autofocus,role:Pt.containerRole,inputmode:Pt.inputmode,onCompositionstart:Ct[0]||(Ct[0]=(...Kt)=>b(Ye)&&b(Ye)(...Kt)),onCompositionupdate:Ct[1]||(Ct[1]=(...Kt)=>b(it)&&b(it)(...Kt)),onCompositionend:Ct[2]||(Ct[2]=(...Kt)=>b(St)&&b(St)(...Kt)),onInput:ae,onChange:Re,onKeydown:tn}),null,16,v2e),gt(" suffix slot "),Oe.value?(ge(),Fe("span",{key:1,class:Ce(b(p).e("suffix"))},[Ve("span",{class:Ce(b(p).e("suffix-inner"))},[!ee.value||!de.value||!ue.value?(ge(),Fe(Tn,{key:0},[Ot(Pt.$slots,"suffix"),Pt.suffixIcon?(ge(),Tt(b(Bn),{key:0,class:Ce(b(p).e("icon"))},{default:ie(()=>[(ge(),Tt(ti(Pt.suffixIcon)))]),_:1},8,["class"])):gt("v-if",!0)],64)):gt("v-if",!0),ee.value?(ge(),Tt(b(Bn),{key:1,class:Ce([b(p).e("icon"),b(p).e("clear")]),onMousedown:Cr(b(Zr),["prevent"]),onClick:qt},{default:ie(()=>[(ge(),Tt(ti(Pt.clearIcon)))]),_:1},8,["class","onMousedown"])):gt("v-if",!0),de.value?(ge(),Tt(b(Bn),{key:2,class:Ce([b(p).e("icon"),b(p).e("password")]),onClick:Lt,onMousedown:Cr(b(Zr),["prevent"]),onMouseup:Cr(b(Zr),["prevent"])},{default:ie(()=>[(ge(),Tt(ti(F.value)))]),_:1},8,["class","onMousedown","onMouseup"])):gt("v-if",!0),ue.value?(ge(),Fe("span",{key:3,class:Ce([b(p).e("count"),b(p).is("outside",Pt.wordLimitPosition==="outside")])},[Ve("span",{class:Ce(b(p).e("count-inner"))},yn(me.value)+" / "+yn(Pt.maxlength),3)],2)):gt("v-if",!0),X.value&&W.value&&j.value?(ge(),Tt(b(Bn),{key:4,class:Ce([b(p).e("icon"),b(p).e("validateIcon"),b(p).is("loading",X.value==="validating")])},{default:ie(()=>[(ge(),Tt(ti(W.value)))]),_:1},8,["class"])):gt("v-if",!0)],2)],2)):gt("v-if",!0)],2),gt(" append slot "),Pt.$slots.append?(ge(),Fe("div",{key:1,class:Ce(b(p).be("group","append"))},[Ot(Pt.$slots,"append")],2)):gt("v-if",!0)],64)):(ge(),Fe(Tn,{key:1},[gt(" textarea "),Ve("textarea",Fi({id:b(h),ref_key:"textarea",ref:C,class:[b(_).e("inner"),b(p).is("focus",b(U))]},b(a),{name:Pt.name,minlength:Pt.minlength,maxlength:Pt.maxlength,tabindex:Pt.tabindex,disabled:b(v),readonly:Pt.readonly,autocomplete:Pt.autocomplete,style:G.value,"aria-label":Pt.ariaLabel,placeholder:Pt.placeholder,form:Pt.form,autofocus:Pt.autofocus,rows:Pt.rows,role:Pt.containerRole,onCompositionstart:Ct[3]||(Ct[3]=(...Kt)=>b(Ye)&&b(Ye)(...Kt)),onCompositionupdate:Ct[4]||(Ct[4]=(...Kt)=>b(it)&&b(it)(...Kt)),onCompositionend:Ct[5]||(Ct[5]=(...Kt)=>b(St)&&b(St)(...Kt)),onInput:ae,onFocus:Ct[6]||(Ct[6]=(...Kt)=>b(Y)&&b(Y)(...Kt)),onBlur:Ct[7]||(Ct[7]=(...Kt)=>b(H)&&b(H)(...Kt)),onChange:Re,onKeydown:tn}),null,16,y2e),ue.value?(ge(),Fe("span",{key:0,style:dr(P.value),class:Ce([b(p).e("count"),b(p).is("outside",Pt.wordLimitPosition==="outside")])},yn(me.value)+" / "+yn(Pt.maxlength),7)):gt("v-if",!0)],64))],38))}});var x2e=Nn(b2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const ns=_i(x2e),hg=4,w2e={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},S2e=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),FM=Symbol("scrollbarContextKey"),T2e=On({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),C2e="Thumb",E2e=kt({__name:"thumb",props:T2e,setup(t){const e=t,n=In(FM),r=gn("scrollbar");n||ll(C2e,"can not inject scrollbar context");const i=ye(),s=ye(),a=ye({}),o=ye(!1);let l=!1,u=!1,d=0,f=0,h=Vr?document.onselectstart:null;const g=he(()=>w2e[e.vertical?"vertical":"horizontal"]),v=he(()=>S2e({size:e.size,move:e.move,bar:g.value})),p=he(()=>i.value[g.value.offset]**2/n.wrapElement[g.value.scrollSize]/e.ratio/s.value[g.value.offset]),_=N=>{var U;if(N.stopPropagation(),N.ctrlKey||[1,2].includes(N.button))return;(U=window.getSelection())==null||U.removeAllRanges(),C(N);const Y=N.currentTarget;Y&&(a.value[g.value.axis]=Y[g.value.offset]-(N[g.value.client]-Y.getBoundingClientRect()[g.value.direction]))},S=N=>{if(!s.value||!i.value||!n.wrapElement)return;const U=Math.abs(N.target.getBoundingClientRect()[g.value.direction]-N[g.value.client]),Y=s.value[g.value.offset]/2,H=(U-Y)*100*p.value/i.value[g.value.offset];n.wrapElement[g.value.scroll]=H*n.wrapElement[g.value.scrollSize]/100},C=N=>{N.stopImmediatePropagation(),l=!0,d=n.wrapElement.scrollHeight,f=n.wrapElement.scrollWidth,document.addEventListener("mousemove",T),document.addEventListener("mouseup",A),h=document.onselectstart,document.onselectstart=()=>!1},T=N=>{if(!i.value||!s.value||l===!1)return;const U=a.value[g.value.axis];if(!U)return;const Y=(i.value.getBoundingClientRect()[g.value.direction]-N[g.value.client])*-1,H=s.value[g.value.offset]-U,j=(Y-H)*100*p.value/i.value[g.value.offset];g.value.scroll==="scrollLeft"?n.wrapElement[g.value.scroll]=j*f/100:n.wrapElement[g.value.scroll]=j*d/100},A=()=>{l=!1,a.value[g.value.axis]=0,document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",A),R(),u&&(o.value=!1)},P=()=>{u=!1,o.value=!!e.size},D=()=>{u=!0,o.value=l};Ri(()=>{R(),document.removeEventListener("mouseup",A)});const R=()=>{document.onselectstart!==h&&(document.onselectstart=h)};return Hi(_s(n,"scrollbarElement"),"mousemove",P),Hi(_s(n,"scrollbarElement"),"mouseleave",D),(N,U)=>(ge(),Tt($l,{name:b(r).b("fade"),persisted:""},{default:ie(()=>[Dr(Ve("div",{ref_key:"instance",ref:i,class:Ce([b(r).e("bar"),b(r).is(g.value.key)]),onMousedown:S,onClick:U[0]||(U[0]=Cr(()=>{},["stop"]))},[Ve("div",{ref_key:"thumb",ref:s,class:Ce(b(r).e("thumb")),style:dr(v.value),onMousedown:_},null,38)],34),[[Ei,N.always||o.value]])]),_:1},8,["name"]))}});var BF=Nn(E2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const A2e=On({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),P2e=kt({__name:"bar",props:A2e,setup(t,{expose:e}){const n=t,r=In(FM),i=ye(0),s=ye(0),a=ye(""),o=ye(""),l=ye(1),u=ye(1);return e({handleScroll:h=>{if(h){const g=h.offsetHeight-hg,v=h.offsetWidth-hg;s.value=h.scrollTop*100/g*l.value,i.value=h.scrollLeft*100/v*u.value}},update:()=>{const h=r==null?void 0:r.wrapElement;if(!h)return;const g=h.offsetHeight-hg,v=h.offsetWidth-hg,p=g**2/h.scrollHeight,_=v**2/h.scrollWidth,S=Math.max(p,n.minSize),C=Math.max(_,n.minSize);l.value=p/(g-p)/(S/(g-S)),u.value=_/(v-_)/(C/(v-C)),o.value=S+hg<g?`${S}px`:"",a.value=C+hg<v?`${C}px`:""}}),(h,g)=>(ge(),Fe(Tn,null,[V(BF,{move:i.value,ratio:u.value,size:a.value,always:h.always},null,8,["move","ratio","size","always"]),V(BF,{move:s.value,ratio:l.value,size:o.value,vertical:"",always:h.always},null,8,["move","ratio","size","always"])],64))}});var k2e=Nn(P2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const D2e=On({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:Dt([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Yf(["ariaLabel","ariaOrientation"])}),iY={"end-reached":t=>["left","right","top","bottom"].includes(t),scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(Lr)},I2e=["tabindex"],R2e="ElScrollbar",O2e=kt({name:R2e,__name:"scrollbar",props:D2e,emits:iY,setup(t,{expose:e,emit:n}){const r=t,i=n,s=gn("scrollbar");let a,o,l,u=0,d=0,f="";const h={bottom:!1,top:!1,right:!1,left:!1},g=ye(),v=ye(),p=ye(),_=ye(),S=he(()=>{const j={},X=zu(r.height),W=zu(r.maxHeight);return X&&(j.height=X),W&&(j.maxHeight=W),[r.wrapStyle,j]}),C=he(()=>[r.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!r.native}]),T=he(()=>[s.e("view"),r.viewClass]),A=j=>{var X;return(X=h[j])!=null?X:!1},P={top:"bottom",bottom:"top",left:"right",right:"left"},D=j=>{const X=P[f];if(!X)return;const W=j[f],F=j[X];W&&!h[f]&&(h[f]=!0),!F&&h[X]&&(h[X]=!1)},R=()=>{var j;if(v.value){(j=_.value)==null||j.handleScroll(v.value);const X=u,W=d;u=v.value.scrollTop,d=v.value.scrollLeft;const F={bottom:u+v.value.clientHeight>=v.value.scrollHeight-r.distance,top:u<=r.distance&&X!==0,right:d+v.value.clientWidth>=v.value.scrollWidth-r.distance&&W!==d,left:d<=r.distance&&W!==0};if(i("scroll",{scrollTop:u,scrollLeft:d}),X!==u&&(f=u>X?"bottom":"top"),W!==d&&(f=d>W?"right":"left"),r.distance>0){if(A(f))return;D(F)}F[f]&&i("end-reached",f)}};function N(j,X){fr(j)?v.value.scrollTo(j):Lr(j)&&Lr(X)&&v.value.scrollTo(j,X)}const U=j=>{Lr(j)&&(v.value.scrollTop=j)},Y=j=>{Lr(j)&&(v.value.scrollLeft=j)},H=()=>{var j;(j=_.value)==null||j.update(),h[f]=!1};return Zt(()=>r.noresize,j=>{j?(a==null||a(),o==null||o(),l==null||l()):({stop:a}=ma(p,H),{stop:o}=ma(v,H),l=Hi("resize",H))},{immediate:!0}),Zt(()=>[r.maxHeight,r.height],()=>{r.native||Vn(()=>{var j;H(),v.value&&((j=_.value)==null||j.handleScroll(v.value))})}),pi(FM,lr({scrollbarElement:g,wrapElement:v})),QW(()=>{v.value&&(v.value.scrollTop=u,v.value.scrollLeft=d)}),zr(()=>{r.native||Vn(()=>{H()})}),zp(()=>H()),e({wrapRef:v,update:H,scrollTo:N,setScrollTop:U,setScrollLeft:Y,handleScroll:R}),(j,X)=>(ge(),Fe("div",{ref_key:"scrollbarRef",ref:g,class:Ce(b(s).b())},[Ve("div",{ref_key:"wrapRef",ref:v,class:Ce(C.value),style:dr(S.value),tabindex:j.tabindex,onScroll:R},[(ge(),Tt(ti(j.tag),{id:j.id,ref_key:"resizeRef",ref:p,class:Ce(T.value),style:dr(j.viewStyle),role:j.role,"aria-label":j.ariaLabel,"aria-orientation":j.ariaOrientation},{default:ie(()=>[Ot(j.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,I2e),j.native?gt("v-if",!0):(ge(),Tt(k2e,{key:0,ref_key:"barRef",ref:_,always:j.always,"min-size":j.minSize},null,8,["always","min-size"]))],2))}});var M2e=Nn(O2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const Pp=_i(M2e),BM=Symbol("popper"),sY=Symbol("popperContent"),L2e=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],aY=On({role:{type:String,values:L2e,default:"tooltip"}}),$2e=kt({name:"ElPopper",inheritAttrs:!1,__name:"popper",props:aY,setup(t,{expose:e}){const n=t,r=ye(),i=ye(),s=ye(),a=ye(),o=he(()=>n.role),l={triggerRef:r,popperInstanceRef:i,contentRef:s,referenceRef:a,role:o};return e(l),pi(BM,l),(u,d)=>Ot(u.$slots,"default")}});var N2e=Nn($2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const F2e=kt({name:"ElPopperArrow",inheritAttrs:!1,__name:"arrow",setup(t,{expose:e}){const n=gn("popper"),{arrowRef:r,arrowStyle:i}=In(sY,void 0);return Ri(()=>{r.value=void 0}),e({arrowRef:r}),(s,a)=>(ge(),Fe("span",{ref_key:"arrowRef",ref:r,class:Ce(b(n).e("arrow")),style:dr(b(i)),"data-popper-arrow":""},null,6))}});var B2e=Nn(F2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const oY=On({virtualRef:{type:Dt(Object)},virtualTriggering:Boolean,onMouseenter:{type:Dt(Function)},onMouseleave:{type:Dt(Function)},onClick:{type:Dt(Function)},onKeydown:{type:Dt(Function)},onFocus:{type:Dt(Function)},onBlur:{type:Dt(Function)},onContextmenu:{type:Dt(Function)},id:String,open:Boolean}),lY=Symbol("elForwardRef"),U2e=t=>{pi(lY,{setForwardRef:n=>{t.value=n}})},V2e=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),z2e="ElOnlyChild",H2e=kt({name:z2e,setup(t,{slots:e,attrs:n}){var r;const i=In(lY),s=V2e((r=i==null?void 0:i.setForwardRef)!=null?r:Zr);return()=>{var a;const o=(a=e.default)==null?void 0:a.call(e,n);if(!o)return null;const[l,u]=uY(o);return l?Dr(Ff(l,n),[[s]]):null}}});function uY(t){if(!t)return[null,0];const e=t,n=e.filter(r=>r.type!==Rs).length;for(const r of e){if(fr(r))switch(r.type){case Rs:continue;case Iy:case"svg":return[UF(r),n];case Tn:return uY(r.children);default:return[r,n]}return[UF(r),n]}return[null,0]}function UF(t){const e=gn("only-child");return V("span",{class:e.e("content")},[t])}const j2e=kt({name:"ElPopperTrigger",inheritAttrs:!1,__name:"trigger",props:oY,setup(t,{expose:e}){const n=t,{role:r,triggerRef:i}=In(BM,void 0);U2e(i);const s=he(()=>o.value?n.id:void 0),a=he(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),o=he(()=>{if(r&&r.value!=="tooltip")return r.value}),l=he(()=>o.value?`${n.open}`:void 0);let u;const d=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return zr(()=>{Zt(()=>n.virtualRef,f=>{f&&(i.value=ra(f))},{immediate:!0}),Zt(i,(f,h)=>{u==null||u(),u=void 0,Pl(h)&&d.forEach(g=>{const v=n[g];v&&h.removeEventListener(g.slice(2).toLowerCase(),v,["onFocus","onBlur"].includes(g))}),Pl(f)&&(d.forEach(g=>{const v=n[g];v&&f.addEventListener(g.slice(2).toLowerCase(),v,["onFocus","onBlur"].includes(g))}),Vb(f)&&(u=Zt([s,a,o,l],g=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((v,p)=>{Tc(g[p])?f.removeAttribute(v):f.setAttribute(v,g[p])})},{immediate:!0}))),Pl(h)&&Vb(h)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(g=>h.removeAttribute(g))},{immediate:!0})}),Ri(()=>{if(u==null||u(),u=void 0,i.value&&Pl(i.value)){const f=i.value;d.forEach(h=>{const g=n[h];g&&f.removeEventListener(h.slice(2).toLowerCase(),g,["onFocus","onBlur"].includes(h))}),i.value=void 0}}),e({triggerRef:i}),(f,h)=>f.virtualTriggering?gt("v-if",!0):(ge(),Tt(b(H2e),Fi({key:0},f.$attrs,{"aria-controls":s.value,"aria-describedby":a.value,"aria-expanded":l.value,"aria-haspopup":o.value}),{default:ie(()=>[Ot(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var G2e=Nn(j2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const L3="focus-trap.focus-after-trapped",$3="focus-trap.focus-after-released",W2e="focus-trap.focusout-prevented",VF={cancelable:!0,bubbles:!1},q2e={cancelable:!0,bubbles:!1},zF="focusAfterTrapped",HF="focusAfterReleased",cY=Symbol("elFocusTrap"),UM=ye(),OE=ye(0),VM=ye(0);let Zx=0;const dY=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},jF=(t,e)=>{for(const n of t)if(!X2e(n,e))return n},X2e=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},Y2e=t=>{const e=dY(t),n=jF(e,t),r=jF(e.reverse(),t);return[n,r]},K2e=t=>t instanceof HTMLInputElement&&"select"in t,Fh=(t,e)=>{if(t){const n=document.activeElement;ex(t,{preventScroll:!0}),VM.value=window.performance.now(),t!==n&&K2e(t)&&e&&t.select()}};function GF(t,e){const n=[...t],r=t.indexOf(e);return r!==-1&&n.splice(r,1),n}const Z2e=()=>{let t=[];return{push:r=>{const i=t[0];i&&r!==i&&i.pause(),t=GF(t,r),t.unshift(r)},remove:r=>{var i,s;t=GF(t,r),(s=(i=t[0])==null?void 0:i.resume)==null||s.call(i)}}},Q2e=(t,e=!1)=>{const n=document.activeElement;for(const r of t)if(Fh(r,e),document.activeElement!==n)return},WF=Z2e(),J2e=()=>OE.value>VM.value,Qx=()=>{UM.value="pointer",OE.value=window.performance.now()},qF=()=>{UM.value="keyboard",OE.value=window.performance.now()},ebe=()=>(zr(()=>{Zx===0&&(document.addEventListener("mousedown",Qx),document.addEventListener("touchstart",Qx),document.addEventListener("keydown",qF)),Zx++}),Ri(()=>{Zx--,Zx<=0&&(document.removeEventListener("mousedown",Qx),document.removeEventListener("touchstart",Qx),document.removeEventListener("keydown",qF))}),{focusReason:UM,lastUserFocusTimestamp:OE,lastAutomatedFocusTimestamp:VM}),Jx=t=>new CustomEvent(W2e,{...q2e,detail:t}),Pn={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},hf=(t,e,{checkForDefaultPrevented:n=!0}={})=>i=>{const s=t==null?void 0:t(i);if(n===!1||!s)return e==null?void 0:e(i)},oa=t=>{if(t.code&&t.code!=="Unidentified")return t.code;const e=tbe(t);if(e){if(Object.values(Pn).includes(e))return e;switch(e){case" ":return Pn.space;default:return""}}return""},tbe=t=>{let e=t.key&&t.key!=="Unidentified"?t.key:"";if(!e&&t.type==="keyup"&&r2e()){const n=t.target;e=n.value.charAt(n.selectionStart-1)}return e};let Bg=[];const XF=t=>{oa(t)===Pn.esc&&Bg.forEach(n=>n(t))},nbe=t=>{zr(()=>{Bg.length===0&&document.addEventListener("keydown",XF),Vr&&Bg.push(t)}),Ri(()=>{Bg=Bg.filter(e=>e!==t),Bg.length===0&&Vr&&document.removeEventListener("keydown",XF)})},rbe=kt({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[zF,HF,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=ye();let r,i;const{focusReason:s}=ebe();nbe(v=>{t.trapped&&!a.paused&&e("release-requested",v)});const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},o=v=>{if(!t.loop&&!t.trapped||a.paused)return;const{altKey:p,ctrlKey:_,metaKey:S,currentTarget:C,shiftKey:T}=v,{loop:A}=t,D=oa(v)===Pn.tab&&!p&&!_&&!S,R=document.activeElement;if(D&&R){const N=C,[U,Y]=Y2e(N);if(U&&Y){if(!T&&R===Y){const j=Jx({focusReason:s.value});e("focusout-prevented",j),j.defaultPrevented||(v.preventDefault(),A&&Fh(U,!0))}else if(T&&[U,N].includes(R)){const j=Jx({focusReason:s.value});e("focusout-prevented",j),j.defaultPrevented||(v.preventDefault(),A&&Fh(Y,!0))}}else if(R===N){const j=Jx({focusReason:s.value});e("focusout-prevented",j),j.defaultPrevented||v.preventDefault()}}};pi(cY,{focusTrapRef:n,onKeydown:o}),Zt(()=>t.focusTrapEl,v=>{v&&(n.value=v)},{immediate:!0}),Zt([n],([v],[p])=>{v&&(v.addEventListener("keydown",o),v.addEventListener("focusin",d),v.addEventListener("focusout",f)),p&&(p.removeEventListener("keydown",o),p.removeEventListener("focusin",d),p.removeEventListener("focusout",f))});const l=v=>{e(zF,v)},u=v=>e(HF,v),d=v=>{const p=b(n);if(!p)return;const _=v.target,S=v.relatedTarget,C=_&&p.contains(_);t.trapped||S&&p.contains(S)||(r=S),C&&e("focusin",v),!a.paused&&t.trapped&&(C?i=_:Fh(i,!0))},f=v=>{const p=b(n);if(!(a.paused||!p))if(t.trapped){const _=v.relatedTarget;!Tc(_)&&!p.contains(_)&&setTimeout(()=>{if(!a.paused&&t.trapped){const S=Jx({focusReason:s.value});e("focusout-prevented",S),S.defaultPrevented||Fh(i,!0)}},0)}else{const _=v.target;_&&p.contains(_)||e("focusout",v)}};async function h(){await Vn();const v=b(n);if(v){WF.push(a);const p=v.contains(document.activeElement)?r:document.activeElement;if(r=p,!v.contains(p)){const S=new Event(L3,VF);v.addEventListener(L3,l),v.dispatchEvent(S),S.defaultPrevented||Vn(()=>{let C=t.focusStartEl;Kn(C)||(Fh(C),document.activeElement!==C&&(C="first")),C==="first"&&Q2e(dY(v),!0),(document.activeElement===p||C==="container")&&Fh(v)})}}}function g(){const v=b(n);if(v){v.removeEventListener(L3,l);const p=new CustomEvent($3,{...VF,detail:{focusReason:s.value}});v.addEventListener($3,u),v.dispatchEvent(p),!p.defaultPrevented&&(s.value=="keyboard"||!J2e()||v.contains(document.activeElement))&&Fh(r??document.body),v.removeEventListener($3,u),WF.remove(a),r=null,i=null}}return zr(()=>{t.trapped&&h(),Zt(()=>t.trapped,v=>{v?h():g()})}),Ri(()=>{t.trapped&&g(),n.value&&(n.value.removeEventListener("keydown",o),n.value.removeEventListener("focusin",d),n.value.removeEventListener("focusout",f),n.value=void 0),r=null,i=null}),{onKeydown:o}}});function ibe(t,e,n,r,i,s){return Ot(t.$slots,"default",{handleKeydown:t.onKeydown})}var nx=Nn(rbe,[["render",ibe],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]),Il="top",ju="bottom",Gu="right",Rl="left",zM="auto",rx=[Il,ju,Gu,Rl],Nv="start",zb="end",sbe="clippingParents",fY="viewport",k_="popper",abe="reference",YF=rx.reduce(function(t,e){return t.concat([e+"-"+Nv,e+"-"+zb])},[]),Fy=[].concat(rx,[zM]).reduce(function(t,e){return t.concat([e,e+"-"+Nv,e+"-"+zb])},[]),obe="beforeRead",lbe="read",ube="afterRead",cbe="beforeMain",dbe="main",fbe="afterMain",hbe="beforeWrite",pbe="write",mbe="afterWrite",gbe=[obe,lbe,ube,cbe,dbe,fbe,hbe,pbe,mbe];function Od(t){return t?(t.nodeName||"").toLowerCase():null}function Oc(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Fv(t){var e=Oc(t).Element;return t instanceof e||t instanceof Element}function Nu(t){var e=Oc(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function HM(t){if(typeof ShadowRoot>"u")return!1;var e=Oc(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function vbe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Nu(s)||!Od(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function ybe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),o=a.reduce(function(l,u){return l[u]="",l},{});!Nu(i)||!Od(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var hY={name:"applyStyles",enabled:!0,phase:"write",fn:vbe,effect:ybe,requires:["computeStyles"]};function Td(t){return t.split("-")[0]}var am=Math.max,OT=Math.min,Bv=Math.round;function Uv(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(Nu(t)&&e){var s=t.offsetHeight,a=t.offsetWidth;a>0&&(r=Bv(n.width)/a||1),s>0&&(i=Bv(n.height)/s||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function jM(t){var e=Uv(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function pY(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&HM(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Bf(t){return Oc(t).getComputedStyle(t)}function _be(t){return["table","td","th"].indexOf(Od(t))>=0}function Gp(t){return((Fv(t)?t.ownerDocument:t.document)||window.document).documentElement}function ME(t){return Od(t)==="html"?t:t.assignedSlot||t.parentNode||(HM(t)?t.host:null)||Gp(t)}function KF(t){return!Nu(t)||Bf(t).position==="fixed"?null:t.offsetParent}function bbe(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Nu(t)){var r=Bf(t);if(r.position==="fixed")return null}var i=ME(t);for(HM(i)&&(i=i.host);Nu(i)&&["html","body"].indexOf(Od(i))<0;){var s=Bf(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function ix(t){for(var e=Oc(t),n=KF(t);n&&_be(n)&&Bf(n).position==="static";)n=KF(n);return n&&(Od(n)==="html"||Od(n)==="body"&&Bf(n).position==="static")?e:n||bbe(t)||e}function GM(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function X2(t,e,n){return am(t,OT(e,n))}function xbe(t,e,n){var r=X2(t,e,n);return r>n?n:r}function mY(){return{top:0,right:0,bottom:0,left:0}}function gY(t){return Object.assign({},mY(),t)}function vY(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var wbe=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,gY(typeof t!="number"?t:vY(t,rx))};function Sbe(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,o=Td(n.placement),l=GM(o),u=[Rl,Gu].indexOf(o)>=0,d=u?"height":"width";if(!(!s||!a)){var f=wbe(i.padding,n),h=jM(s),g=l==="y"?Il:Rl,v=l==="y"?ju:Gu,p=n.rects.reference[d]+n.rects.reference[l]-a[l]-n.rects.popper[d],_=a[l]-n.rects.reference[l],S=ix(s),C=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,T=p/2-_/2,A=f[g],P=C-h[d]-f[v],D=C/2-h[d]/2+T,R=X2(A,D,P),N=l;n.modifiersData[r]=(e={},e[N]=R,e.centerOffset=R-D,e)}}function Tbe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!pY(e.elements.popper,i)||(e.elements.arrow=i))}var Cbe={name:"arrow",enabled:!0,phase:"main",fn:Sbe,effect:Tbe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vv(t){return t.split("-")[1]}var Ebe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Abe(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Bv(e*i)/i||0,y:Bv(n*i)/i||0}}function ZF(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,f=t.isFixed,h=a.x,g=h===void 0?0:h,v=a.y,p=v===void 0?0:v,_=typeof d=="function"?d({x:g,y:p}):{x:g,y:p};g=_.x,p=_.y;var S=a.hasOwnProperty("x"),C=a.hasOwnProperty("y"),T=Rl,A=Il,P=window;if(u){var D=ix(n),R="clientHeight",N="clientWidth";if(D===Oc(n)&&(D=Gp(n),Bf(D).position!=="static"&&o==="absolute"&&(R="scrollHeight",N="scrollWidth")),D=D,i===Il||(i===Rl||i===Gu)&&s===zb){A=ju;var U=f&&D===P&&P.visualViewport?P.visualViewport.height:D[R];p-=U-r.height,p*=l?1:-1}if(i===Rl||(i===Il||i===ju)&&s===zb){T=Gu;var Y=f&&D===P&&P.visualViewport?P.visualViewport.width:D[N];g-=Y-r.width,g*=l?1:-1}}var H=Object.assign({position:o},u&&Ebe),j=d===!0?Abe({x:g,y:p}):{x:g,y:p};if(g=j.x,p=j.y,l){var X;return Object.assign({},H,(X={},X[A]=C?"0":"",X[T]=S?"0":"",X.transform=(P.devicePixelRatio||1)<=1?"translate("+g+"px, "+p+"px)":"translate3d("+g+"px, "+p+"px, 0)",X))}return Object.assign({},H,(e={},e[A]=C?p+"px":"",e[T]=S?g+"px":"",e.transform="",e))}function Pbe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,o=n.roundOffsets,l=o===void 0?!0:o,u={placement:Td(e.placement),variation:Vv(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ZF(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ZF(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var yY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Pbe,data:{}},ew={passive:!0};function kbe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,o=a===void 0?!0:a,l=Oc(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",n.update,ew)}),o&&l.addEventListener("resize",n.update,ew),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",n.update,ew)}),o&&l.removeEventListener("resize",n.update,ew)}}var _Y={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:kbe,data:{}},Dbe={left:"right",right:"left",bottom:"top",top:"bottom"};function ES(t){return t.replace(/left|right|bottom|top/g,function(e){return Dbe[e]})}var Ibe={start:"end",end:"start"};function QF(t){return t.replace(/start|end/g,function(e){return Ibe[e]})}function WM(t){var e=Oc(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function qM(t){return Uv(Gp(t)).left+WM(t).scrollLeft}function Rbe(t){var e=Oc(t),n=Gp(t),r=e.visualViewport,i=n.clientWidth,s=n.clientHeight,a=0,o=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,o=r.offsetTop)),{width:i,height:s,x:a+qM(t),y:o}}function Obe(t){var e,n=Gp(t),r=WM(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=am(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=am(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+qM(t),l=-r.scrollTop;return Bf(i||n).direction==="rtl"&&(o+=am(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function XM(t){var e=Bf(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function bY(t){return["html","body","#document"].indexOf(Od(t))>=0?t.ownerDocument.body:Nu(t)&&XM(t)?t:bY(ME(t))}function Y2(t,e){var n;e===void 0&&(e=[]);var r=bY(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Oc(r),a=i?[s].concat(s.visualViewport||[],XM(r)?r:[]):r,o=e.concat(a);return i?o:o.concat(Y2(ME(a)))}function lD(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Mbe(t){var e=Uv(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function JF(t,e){return e===fY?lD(Rbe(t)):Fv(e)?Mbe(e):lD(Obe(Gp(t)))}function Lbe(t){var e=Y2(ME(t)),n=["absolute","fixed"].indexOf(Bf(t).position)>=0,r=n&&Nu(t)?ix(t):t;return Fv(r)?e.filter(function(i){return Fv(i)&&pY(i,r)&&Od(i)!=="body"}):[]}function $be(t,e,n){var r=e==="clippingParents"?Lbe(t):[].concat(e),i=[].concat(r,[n]),s=i[0],a=i.reduce(function(o,l){var u=JF(t,l);return o.top=am(u.top,o.top),o.right=OT(u.right,o.right),o.bottom=OT(u.bottom,o.bottom),o.left=am(u.left,o.left),o},JF(t,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function xY(t){var e=t.reference,n=t.element,r=t.placement,i=r?Td(r):null,s=r?Vv(r):null,a=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,l;switch(i){case Il:l={x:a,y:e.y-n.height};break;case ju:l={x:a,y:e.y+e.height};break;case Gu:l={x:e.x+e.width,y:o};break;case Rl:l={x:e.x-n.width,y:o};break;default:l={x:e.x,y:e.y}}var u=i?GM(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case Nv:l[u]=l[u]-(e[d]/2-n[d]/2);break;case zb:l[u]=l[u]+(e[d]/2-n[d]/2);break}}return l}function Hb(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.boundary,a=s===void 0?sbe:s,o=n.rootBoundary,l=o===void 0?fY:o,u=n.elementContext,d=u===void 0?k_:u,f=n.altBoundary,h=f===void 0?!1:f,g=n.padding,v=g===void 0?0:g,p=gY(typeof v!="number"?v:vY(v,rx)),_=d===k_?abe:k_,S=t.rects.popper,C=t.elements[h?_:d],T=$be(Fv(C)?C:C.contextElement||Gp(t.elements.popper),a,l),A=Uv(t.elements.reference),P=xY({reference:A,element:S,strategy:"absolute",placement:i}),D=lD(Object.assign({},S,P)),R=d===k_?D:A,N={top:T.top-R.top+p.top,bottom:R.bottom-T.bottom+p.bottom,left:T.left-R.left+p.left,right:R.right-T.right+p.right},U=t.modifiersData.offset;if(d===k_&&U){var Y=U[i];Object.keys(N).forEach(function(H){var j=[Gu,ju].indexOf(H)>=0?1:-1,X=[Il,ju].indexOf(H)>=0?"y":"x";N[H]+=Y[X]*j})}return N}function Nbe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Fy:l,d=Vv(r),f=d?o?YF:YF.filter(function(v){return Vv(v)===d}):rx,h=f.filter(function(v){return u.indexOf(v)>=0});h.length===0&&(h=f);var g=h.reduce(function(v,p){return v[p]=Hb(t,{placement:p,boundary:i,rootBoundary:s,padding:a})[Td(p)],v},{});return Object.keys(g).sort(function(v,p){return g[v]-g[p]})}function Fbe(t){if(Td(t)===zM)return[];var e=ES(t);return[QF(t),e,QF(e)]}function Bbe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!0:a,l=n.fallbackPlacements,u=n.padding,d=n.boundary,f=n.rootBoundary,h=n.altBoundary,g=n.flipVariations,v=g===void 0?!0:g,p=n.allowedAutoPlacements,_=e.options.placement,S=Td(_),C=S===_,T=l||(C||!v?[ES(_)]:Fbe(_)),A=[_].concat(T).reduce(function(Oe,Ge){return Oe.concat(Td(Ge)===zM?Nbe(e,{placement:Ge,boundary:d,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:p}):Ge)},[]),P=e.rects.reference,D=e.rects.popper,R=new Map,N=!0,U=A[0],Y=0;Y<A.length;Y++){var H=A[Y],j=Td(H),X=Vv(H)===Nv,W=[Il,ju].indexOf(j)>=0,F=W?"width":"height",te=Hb(e,{placement:H,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),G=W?X?Gu:Rl:X?ju:Il;P[F]>D[F]&&(G=ES(G));var K=ES(G),ee=[];if(s&&ee.push(te[j]<=0),o&&ee.push(te[G]<=0,te[K]<=0),ee.every(function(Oe){return Oe})){U=H,N=!1;break}R.set(H,ee)}if(N)for(var de=v?3:1,ue=function(Oe){var Ge=A.find(function($e){var Ie=R.get($e);if(Ie)return Ie.slice(0,Oe).every(function(Ke){return Ke})});if(Ge)return U=Ge,"break"},me=de;me>0;me--){var Ee=ue(me);if(Ee==="break")break}e.placement!==U&&(e.modifiersData[r]._skip=!0,e.placement=U,e.reset=!0)}}var Ube={name:"flip",enabled:!0,phase:"main",fn:Bbe,requiresIfExists:["offset"],data:{_skip:!1}};function eB(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function tB(t){return[Il,Gu,ju,Rl].some(function(e){return t[e]>=0})}function Vbe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Hb(e,{elementContext:"reference"}),o=Hb(e,{altBoundary:!0}),l=eB(a,r),u=eB(o,i,s),d=tB(l),f=tB(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}var zbe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Vbe};function Hbe(t,e,n){var r=Td(t),i=[Rl,Il].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[Rl,Gu].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}function jbe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,a=Fy.reduce(function(d,f){return d[f]=Hbe(f,e.rects,s),d},{}),o=a[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=a}var Gbe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jbe};function Wbe(t){var e=t.state,n=t.name;e.modifiersData[n]=xY({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var wY={name:"popperOffsets",enabled:!0,phase:"read",fn:Wbe,data:{}};function qbe(t){return t==="x"?"y":"x"}function Xbe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!1:a,l=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.padding,h=n.tether,g=h===void 0?!0:h,v=n.tetherOffset,p=v===void 0?0:v,_=Hb(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),S=Td(e.placement),C=Vv(e.placement),T=!C,A=GM(S),P=qbe(A),D=e.modifiersData.popperOffsets,R=e.rects.reference,N=e.rects.popper,U=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,Y=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(D){if(s){var X,W=A==="y"?Il:Rl,F=A==="y"?ju:Gu,te=A==="y"?"height":"width",G=D[A],K=G+_[W],ee=G-_[F],de=g?-N[te]/2:0,ue=C===Nv?R[te]:N[te],me=C===Nv?-N[te]:-R[te],Ee=e.elements.arrow,Oe=g&&Ee?jM(Ee):{width:0,height:0},Ge=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:mY(),$e=Ge[W],Ie=Ge[F],Ke=X2(0,R[te],Oe[te]),Xe=T?R[te]/2-de-Ke-$e-Y.mainAxis:ue-Ke-$e-Y.mainAxis,Ze=T?-R[te]/2+de+Ke+Ie+Y.mainAxis:me+Ke+Ie+Y.mainAxis,bt=e.elements.arrow&&ix(e.elements.arrow),ht=bt?A==="y"?bt.clientTop||0:bt.clientLeft||0:0,ae=(X=H==null?void 0:H[A])!=null?X:0,Re=G+Xe-ae-ht,rt=G+Ze-ae,Ye=X2(g?OT(K,Re):K,G,g?am(ee,rt):ee);D[A]=Ye,j[A]=Ye-G}if(o){var it,St=A==="x"?Il:Rl,Lt=A==="x"?ju:Gu,xt=D[P],sn=P==="y"?"height":"width",zt=xt+_[St],ft=xt-_[Lt],tn=[Il,Rl].indexOf(S)!==-1,_n=(it=H==null?void 0:H[P])!=null?it:0,qt=tn?zt:xt-R[sn]-N[sn]-_n+Y.altAxis,Pt=tn?xt+R[sn]+N[sn]-_n-Y.altAxis:ft,Ct=g&&tn?xbe(qt,xt,Pt):X2(g?qt:zt,xt,g?Pt:ft);D[P]=Ct,j[P]=Ct-xt}e.modifiersData[r]=j}}var Ybe={name:"preventOverflow",enabled:!0,phase:"main",fn:Xbe,requiresIfExists:["offset"]};function Kbe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Zbe(t){return t===Oc(t)||!Nu(t)?WM(t):Kbe(t)}function Qbe(t){var e=t.getBoundingClientRect(),n=Bv(e.width)/t.offsetWidth||1,r=Bv(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Jbe(t,e,n){n===void 0&&(n=!1);var r=Nu(e),i=Nu(e)&&Qbe(e),s=Gp(e),a=Uv(t,i),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Od(e)!=="body"||XM(s))&&(o=Zbe(e)),Nu(e)?(l=Uv(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=qM(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function e1e(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!n.has(o)){var l=e.get(o);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function t1e(t){var e=e1e(t);return gbe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function n1e(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function r1e(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var nB={placement:"bottom",modifiers:[],strategy:"absolute"};function rB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function YM(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?nB:i;return function(a,o,l){l===void 0&&(l=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},nB,s),modifiersData:{},elements:{reference:a,popper:o},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(p){var _=typeof p=="function"?p(u.options):p;v(),u.options=Object.assign({},s,u.options,_),u.scrollParents={reference:Fv(a)?Y2(a):a.contextElement?Y2(a.contextElement):[],popper:Y2(o)};var S=t1e(r1e([].concat(r,u.options.modifiers)));return u.orderedModifiers=S.filter(function(C){return C.enabled}),g(),h.update()},forceUpdate:function(){if(!f){var p=u.elements,_=p.reference,S=p.popper;if(rB(_,S)){u.rects={reference:Jbe(_,ix(S),u.options.strategy==="fixed"),popper:jM(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(N){return u.modifiersData[N.name]=Object.assign({},N.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var T=u.orderedModifiers[C],A=T.fn,P=T.options,D=P===void 0?{}:P,R=T.name;typeof A=="function"&&(u=A({state:u,options:D,name:R,instance:h})||u)}}}},update:n1e(function(){return new Promise(function(p){h.forceUpdate(),p(u)})}),destroy:function(){v(),f=!0}};if(!rB(a,o))return h;h.setOptions(l).then(function(p){!f&&l.onFirstUpdate&&l.onFirstUpdate(p)});function g(){u.orderedModifiers.forEach(function(p){var _=p.name,S=p.options,C=S===void 0?{}:S,T=p.effect;if(typeof T=="function"){var A=T({state:u,name:_,instance:h,options:C}),P=function(){};d.push(A||P)}})}function v(){d.forEach(function(p){return p()}),d=[]}return h}}YM();var i1e=[_Y,wY,yY,hY];YM({defaultModifiers:i1e});var s1e=[_Y,wY,yY,hY,Gbe,Ube,Ybe,Cbe,zbe],a1e=YM({defaultModifiers:s1e});const SY=On({arrowOffset:{type:Number,default:5}}),o1e=["fixed","absolute"],l1e=On({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Dt(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Fy,default:"bottom"},popperOptions:{type:Dt(Object),default:()=>({})},strategy:{type:String,values:o1e,default:"absolute"}}),TY=On({...l1e,...SY,id:String,style:{type:Dt([String,Array,Object])},className:{type:Dt([String,Array,Object])},effect:{type:Dt(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:Boolean,trapping:Boolean,popperClass:{type:Dt([String,Array,Object])},popperStyle:{type:Dt([String,Array,Object])},referenceEl:{type:Dt(Object)},triggerTargetEl:{type:Dt(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Yf(["ariaLabel"]),loop:Boolean}),u1e={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},c1e=(t,e)=>{const n=ye(!1),r=ye(),i=()=>{e("focus")},s=u=>{var d;((d=u.detail)==null?void 0:d.focusReason)!=="pointer"&&(r.value="first",e("blur"))},a=u=>{t.visible&&!n.value&&(u.target&&(r.value=u.target),n.value=!0)},o=u=>{t.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),n.value=!1)},l=()=>{n.value=!1,e("close")};return Ri(()=>{r.value=void 0}),{focusStartRef:r,trapped:n,onFocusAfterReleased:s,onFocusAfterTrapped:i,onFocusInTrap:a,onFocusoutPrevented:o,onReleaseRequested:l}},d1e=(t,e=[])=>{const{placement:n,strategy:r,popperOptions:i}=t,s={placement:n,strategy:r,...i,modifiers:[...h1e(t),...e]};return p1e(s,i==null?void 0:i.modifiers),s},f1e=t=>{if(Vr)return ra(t)};function h1e(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:r}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:0,bottom:0,left:0,right:0}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function p1e(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const m1e=(t,e,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=g1e(l);Object.assign(a.value,u)},requires:["computeStyles"]},i=he(()=>{const{onFirstUpdate:l,placement:u,strategy:d,modifiers:f}=b(n);return{onFirstUpdate:l,placement:u||"bottom",strategy:d||"absolute",modifiers:[...f||[],r,{name:"applyStyles",enabled:!1}]}}),s=qa(),a=ye({styles:{popper:{position:b(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=()=>{s.value&&(s.value.destroy(),s.value=void 0)};return Zt(i,l=>{const u=b(s);u&&u.setOptions(l)},{deep:!0}),Zt([t,e],([l,u])=>{o(),!(!l||!u)&&(s.value=a1e(l,u,b(i)))}),Ri(()=>{o()}),{state:he(()=>{var l;return{...((l=b(s))==null?void 0:l.state)||{}}}),styles:he(()=>b(a).styles),attributes:he(()=>b(a).attributes),update:()=>{var l;return(l=b(s))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=b(s))==null?void 0:l.forceUpdate()},instanceRef:he(()=>b(s))}};function g1e(t){const e=Object.keys(t.elements),n=Ub(e.map(i=>[i,t.styles[i]||{}])),r=Ub(e.map(i=>[i,t.attributes[i]]));return{styles:n,attributes:r}}const v1e=0,y1e=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:r,role:i}=In(BM,void 0),s=ye(),a=he(()=>t.arrowOffset),o=he(()=>({name:"eventListeners",enabled:!!t.visible})),l=he(()=>{var S;const C=b(s),T=(S=b(a))!=null?S:v1e;return{name:"arrow",enabled:!Eve(C),options:{element:C,padding:T}}}),u=he(()=>({onFirstUpdate:()=>{v()},...d1e(t,[b(l),b(o)])})),d=he(()=>f1e(t.referenceEl)||b(r)),{attributes:f,state:h,styles:g,update:v,forceUpdate:p,instanceRef:_}=m1e(d,n,u);return Zt(_,S=>e.value=S,{flush:"sync"}),zr(()=>{Zt(()=>{var S,C;return(C=(S=b(d))==null?void 0:S.getBoundingClientRect)==null?void 0:C.call(S)},()=>{v()})}),Ri(()=>{e.value=void 0}),{attributes:f,arrowRef:s,contentRef:n,instanceRef:_,state:h,styles:g,role:i,forceUpdate:p,update:v}},_1e=(t,{attributes:e,styles:n,role:r})=>{const{nextZIndex:i}=PE(),s=gn("popper"),a=he(()=>b(e).popper),o=ye(Lr(t.zIndex)?t.zIndex:i()),l=he(()=>[s.b(),s.is("pure",t.pure),s.is(t.effect),t.popperClass]),u=he(()=>[{zIndex:b(o)},b(n).popper,t.popperStyle||{}]),d=he(()=>r.value==="dialog"?"false":void 0),f=he(()=>b(n).arrow||{});return{ariaModal:d,arrowStyle:f,contentAttrs:a,contentClass:l,contentStyle:u,contentZIndex:o,updateZIndex:()=>{o.value=Lr(t.zIndex)?t.zIndex:i()}}},b1e=kt({name:"ElPopperContent",__name:"content",props:TY,emits:u1e,setup(t,{expose:e,emit:n}){const r=n,i=t,{focusStartRef:s,trapped:a,onFocusAfterReleased:o,onFocusAfterTrapped:l,onFocusInTrap:u,onFocusoutPrevented:d,onReleaseRequested:f}=c1e(i,r),{attributes:h,arrowRef:g,contentRef:v,styles:p,instanceRef:_,role:S,update:C}=y1e(i),{ariaModal:T,arrowStyle:A,contentAttrs:P,contentClass:D,contentStyle:R,updateZIndex:N}=_1e(i,{styles:p,attributes:h,role:S}),U=In(Sm,void 0);pi(sY,{arrowStyle:A,arrowRef:g}),U&&pi(Sm,{...U,addInputId:Zr,removeInputId:Zr});let Y;const H=(X=!0)=>{C(),X&&N()},j=()=>{H(!1),i.visible&&i.focusOnShow?a.value=!0:i.visible===!1&&(a.value=!1)};return zr(()=>{Zt(()=>i.triggerTargetEl,(X,W)=>{Y==null||Y(),Y=void 0;const F=b(X||v.value),te=b(W||v.value);Pl(F)&&(Y=Zt([S,()=>i.ariaLabel,T,()=>i.id],G=>{["role","aria-label","aria-modal","id"].forEach((K,ee)=>{Tc(G[ee])?F.removeAttribute(K):F.setAttribute(K,G[ee])})},{immediate:!0})),te!==F&&Pl(te)&&["role","aria-label","aria-modal","id"].forEach(G=>{te.removeAttribute(G)})},{immediate:!0}),Zt(()=>i.visible,j,{immediate:!0})}),Ri(()=>{Y==null||Y(),Y=void 0,v.value=void 0}),e({popperContentRef:v,popperInstanceRef:_,updatePopper:H,contentStyle:R}),(X,W)=>(ge(),Fe("div",Fi({ref_key:"contentRef",ref:v},b(P),{style:b(R),class:b(D),tabindex:"-1",onMouseenter:W[0]||(W[0]=F=>X.$emit("mouseenter",F)),onMouseleave:W[1]||(W[1]=F=>X.$emit("mouseleave",F))}),[V(b(nx),{loop:X.loop,trapped:b(a),"trap-on-focus-in":!0,"focus-trap-el":b(v),"focus-start-el":b(s),onFocusAfterTrapped:b(l),onFocusAfterReleased:b(o),onFocusin:b(u),onFocusoutPrevented:b(d),onReleaseRequested:b(f)},{default:ie(()=>[Ot(X.$slots,"default")]),_:3},8,["loop","trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var x1e=Nn(b1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const w1e=_i(N2e),KM=Symbol("elTooltip");function iB(){let t;const e=(r,i)=>{n(),t=window.setTimeout(r,i)},n=()=>window.clearTimeout(t);return Gm(()=>n()),{registerTimeout:e,cancelTimeout:n}}const S1e=On({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),T1e=({showAfter:t,hideAfter:e,autoClose:n,open:r,close:i})=>{const{registerTimeout:s}=iB(),{registerTimeout:a,cancelTimeout:o}=iB();return{onOpen:(d,f=b(t))=>{s(()=>{r(d);const h=b(n);Lr(h)&&h>0&&a(()=>{i(d)},h)},f)},onClose:(d,f=b(e))=>{o(),s(()=>{i(d)},f)}}},Cd=On({...S1e,...TY,appendTo:{type:RM.to.type},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Dt(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Yf(["ariaLabel"])}),CY=On({...oY,disabled:Boolean,trigger:{type:Dt([String,Array]),default:"hover"},triggerKeys:{type:Dt(Array),default:()=>[Pn.enter,Pn.numpadEnter,Pn.space]},focusOnTarget:Boolean}),C1e=kE({type:Dt(Boolean),default:null}),E1e=kE({type:Dt(Function)}),EY=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,r=[e],i={[t]:C1e,[n]:E1e};return{useModelToggle:({indicator:a,toggleReason:o,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:d,onHide:f})=>{const h=Ar(),{emit:g}=h,v=h.props,p=he(()=>kn(v[n])),_=he(()=>v[t]===null),S=R=>{a.value!==!0&&(a.value=!0,o&&(o.value=R),kn(d)&&d(R))},C=R=>{a.value!==!1&&(a.value=!1,o&&(o.value=R),kn(f)&&f(R))},T=R=>{if(v.disabled===!0||kn(u)&&!u())return;const N=p.value&&Vr;N&&g(e,!0),(_.value||!N)&&S(R)},A=R=>{if(v.disabled===!0||!Vr)return;const N=p.value&&Vr;N&&g(e,!1),(_.value||!N)&&C(R)},P=R=>{ta(R)&&(v.disabled&&R?p.value&&g(e,!1):a.value!==R&&(R?S():C()))},D=()=>{a.value?A():T()};return Zt(()=>v[t],P),l&&h.appContext.config.globalProperties.$route!==void 0&&Zt(()=>({...h.proxy.$route}),()=>{l.value&&a.value&&A()}),zr(()=>{P(v[t])}),{hide:A,show:T,toggle:D,hasUpdateHandler:p}},useModelToggleProps:i,useModelToggleEmits:r}};EY("modelValue");const{useModelToggleProps:A1e,useModelToggleEmits:P1e,useModelToggle:k1e}=EY("visible"),D1e=On({...aY,...A1e,...Cd,...CY,...SY,showArrow:{type:Boolean,default:!0}}),I1e=[...P1e,"before-show","before-hide","show","hide","open","close"],uD=(t,e)=>nn(t)?t.includes(e):t===e,pg=(t,e,n)=>r=>{uD(b(t),e)&&n(r)},R1e=kt({name:"ElTooltipTrigger",__name:"trigger",props:CY,setup(t,{expose:e}){const n=t,r=gn("tooltip"),{controlled:i,id:s,open:a,onOpen:o,onClose:l,onToggle:u}=In(KM,void 0),d=ye(null),f=()=>{if(b(i)||n.disabled)return!0},h=_s(n,"trigger"),g=hf(f,pg(h,"hover",A=>{o(A),n.focusOnTarget&&A.target&&Vn(()=>{ex(A.target,{preventScroll:!0})})})),v=hf(f,pg(h,"hover",l)),p=hf(f,pg(h,"click",A=>{A.button===0&&u(A)})),_=hf(f,pg(h,"focus",o)),S=hf(f,pg(h,"focus",l)),C=hf(f,pg(h,"contextmenu",A=>{A.preventDefault(),u(A)})),T=hf(f,A=>{const P=oa(A);n.triggerKeys.includes(P)&&(A.preventDefault(),u(A))});return e({triggerRef:d}),(A,P)=>(ge(),Tt(b(G2e),{id:b(s),"virtual-ref":A.virtualRef,open:b(a),"virtual-triggering":A.virtualTriggering,class:Ce(b(r).e("trigger")),onBlur:b(S),onClick:b(p),onContextmenu:b(C),onFocus:b(_),onMouseenter:b(g),onMouseleave:b(v),onKeydown:b(T)},{default:ie(()=>[Ot(A.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var O1e=Nn(R1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const AY=()=>{const t=fM(),e=eY(),n=he(()=>`${t.value}-popper-container-${e.prefix}`),r=he(()=>`#${n.value}`);return{id:n,selector:r}},M1e=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},L1e=()=>{const{id:t,selector:e}=AY();return mE(()=>{Vr&&(document.body.querySelector(e.value)||M1e(t.value))}),{id:t,selector:e}},sB=t=>[...new Set(t)],D_=t=>nn(t)?t[0]:t,Ao=t=>!t&&t!==0?[]:nn(t)?t:[t],$1e=kt({name:"ElTooltipContent",inheritAttrs:!1,__name:"content",props:Cd,setup(t,{expose:e}){const n=t,{selector:r}=AY(),i=gn("tooltip"),s=ye(),a=AX(()=>{var K;return(K=s.value)==null?void 0:K.popperContentRef});let o;const{controlled:l,id:u,open:d,trigger:f,onClose:h,onOpen:g,onShow:v,onHide:p,onBeforeShow:_,onBeforeHide:S}=In(KM,void 0),C=he(()=>n.transition||`${i.namespace.value}-fade-in-linear`),T=he(()=>n.persistent);Ri(()=>{o==null||o()});const A=he(()=>b(T)?!0:b(d)),P=he(()=>n.disabled?!1:b(d)),D=he(()=>n.appendTo||r.value),R=he(()=>{var K;return(K=n.style)!=null?K:{}}),N=ye(!0),U=()=>{p(),G()&&ex(document.body,{preventScroll:!0}),N.value=!0},Y=()=>{if(b(l))return!0},H=hf(Y,()=>{n.enterable&&uD(b(f),"hover")&&g()}),j=hf(Y,()=>{uD(b(f),"hover")&&h()}),X=()=>{var K,ee;(ee=(K=s.value)==null?void 0:K.updatePopper)==null||ee.call(K),_==null||_()},W=()=>{S==null||S()},F=()=>{v()},te=()=>{n.virtualTriggering||h()},G=K=>{var ee;const de=(ee=s.value)==null?void 0:ee.popperContentRef,ue=(K==null?void 0:K.relatedTarget)||document.activeElement;return de==null?void 0:de.contains(ue)};return Zt(()=>b(d),K=>{K?(N.value=!1,o=IX(a,()=>{if(b(l))return;Ao(b(f)).every(de=>de!=="hover"&&de!=="focus")&&h()},{detectIframe:!0})):o==null||o()},{flush:"post"}),Zt(()=>n.content,()=>{var K,ee;(ee=(K=s.value)==null?void 0:K.updatePopper)==null||ee.call(K)}),e({contentRef:s,isFocusInsideContent:G}),(K,ee)=>(ge(),Tt(b(IE),{disabled:!K.teleported,to:D.value},{default:ie(()=>[A.value||!N.value?(ge(),Tt($l,{key:0,name:C.value,appear:!T.value,onAfterLeave:U,onBeforeEnter:X,onAfterEnter:F,onBeforeLeave:W,persisted:""},{default:ie(()=>[Dr(V(b(x1e),Fi({id:b(u),ref_key:"contentRef",ref:s},K.$attrs,{"aria-label":K.ariaLabel,"aria-hidden":N.value,"boundaries-padding":K.boundariesPadding,"fallback-placements":K.fallbackPlacements,"gpu-acceleration":K.gpuAcceleration,offset:K.offset,placement:K.placement,"popper-options":K.popperOptions,"arrow-offset":K.arrowOffset,strategy:K.strategy,effect:K.effect,enterable:K.enterable,pure:K.pure,"popper-class":K.popperClass,"popper-style":[K.popperStyle,R.value],"reference-el":K.referenceEl,"trigger-target-el":K.triggerTargetEl,visible:P.value,"z-index":K.zIndex,loop:K.loop,onMouseenter:b(H),onMouseleave:b(j),onBlur:te,onClose:b(h)}),{default:ie(()=>[Ot(K.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","arrow-offset","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","loop","onMouseenter","onMouseleave","onClose"]),[[Ei,P.value]])]),_:3},8,["name","appear"])):gt("v-if",!0)]),_:3},8,["disabled","to"]))}});var N1e=Nn($1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const F1e=["innerHTML"],B1e={key:1},U1e=kt({name:"ElTooltip",__name:"tooltip",props:D1e,emits:I1e,setup(t,{expose:e,emit:n}){const r=t,i=n;L1e();const s=gn("tooltip"),a=Cc(),o=ye(),l=ye(),u=()=>{var A;const P=b(o);P&&((A=P.popperInstanceRef)==null||A.update())},d=ye(!1),f=ye(),{show:h,hide:g,hasUpdateHandler:v}=k1e({indicator:d,toggleReason:f}),{onOpen:p,onClose:_}=T1e({showAfter:_s(r,"showAfter"),hideAfter:_s(r,"hideAfter"),autoClose:_s(r,"autoClose"),open:h,close:g}),S=he(()=>ta(r.visible)&&!v.value),C=he(()=>[s.b(),r.popperClass]);pi(KM,{controlled:S,id:a,open:wp(d),trigger:_s(r,"trigger"),onOpen:p,onClose:_,onToggle:A=>{b(d)?_(A):p(A)},onShow:()=>{i("show",f.value)},onHide:()=>{i("hide",f.value)},onBeforeShow:()=>{i("before-show",f.value)},onBeforeHide:()=>{i("before-hide",f.value)},updatePopper:u}),Zt(()=>r.disabled,A=>{A&&d.value&&(d.value=!1)});const T=A=>{var P;return(P=l.value)==null?void 0:P.isFocusInsideContent(A)};return JW(()=>d.value&&g()),Ri(()=>{f.value=void 0}),e({popperRef:o,contentRef:l,isFocusInsideContent:T,updatePopper:u,onOpen:p,onClose:_,hide:g}),(A,P)=>(ge(),Tt(b(w1e),{ref_key:"popperRef",ref:o,role:A.role},{default:ie(()=>[V(O1e,{disabled:A.disabled,trigger:A.trigger,"trigger-keys":A.triggerKeys,"virtual-ref":A.virtualRef,"virtual-triggering":A.virtualTriggering,"focus-on-target":A.focusOnTarget},{default:ie(()=>[A.$slots.default?Ot(A.$slots,"default",{key:0}):gt("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering","focus-on-target"]),V(N1e,{ref_key:"contentRef",ref:l,"aria-label":A.ariaLabel,"boundaries-padding":A.boundariesPadding,content:A.content,disabled:A.disabled,effect:A.effect,enterable:A.enterable,"fallback-placements":A.fallbackPlacements,"hide-after":A.hideAfter,"gpu-acceleration":A.gpuAcceleration,offset:A.offset,persistent:A.persistent,"popper-class":C.value,"popper-style":A.popperStyle,placement:A.placement,"popper-options":A.popperOptions,"arrow-offset":A.arrowOffset,pure:A.pure,"raw-content":A.rawContent,"reference-el":A.referenceEl,"trigger-target-el":A.triggerTargetEl,"show-after":A.showAfter,strategy:A.strategy,teleported:A.teleported,transition:A.transition,"virtual-triggering":A.virtualTriggering,"z-index":A.zIndex,"append-to":A.appendTo,loop:A.loop},{default:ie(()=>[Ot(A.$slots,"content",{},()=>[A.rawContent?(ge(),Fe("span",{key:0,innerHTML:A.content},null,8,F1e)):(ge(),Fe("span",B1e,yn(A.content),1))]),A.showArrow?(ge(),Tt(b(B2e),{key:0})):gt("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","arrow-offset","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to","loop"])]),_:3},8,["role"]))}});var V1e=Nn(U1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const kp=_i(V1e),z1e=On({size:{type:[Number,String],values:jp,default:"",validator:t=>Lr(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:$s},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Dt(String),default:"cover"}}),H1e={error:t=>t instanceof Event},j1e=["src","alt","srcset"],G1e=kt({name:"ElAvatar",__name:"avatar",props:z1e,emits:H1e,setup(t,{emit:e}){const n=t,r=e,i=gn("avatar"),s=ye(!1),a=he(()=>{const{size:d,icon:f,shape:h}=n,g=[i.b()];return Kn(d)&&g.push(i.m(d)),f&&g.push(i.m("icon")),h&&g.push(i.m(h)),g}),o=he(()=>{const{size:d}=n;return Lr(d)?i.cssVarBlock({size:zu(d)}):void 0}),l=he(()=>({objectFit:n.fit}));Zt(()=>n.src,()=>s.value=!1);function u(d){s.value=!0,r("error",d)}return(d,f)=>(ge(),Fe("span",{class:Ce(a.value),style:dr(o.value)},[(d.src||d.srcSet)&&!s.value?(ge(),Fe("img",{key:0,src:d.src,alt:d.alt,srcset:d.srcSet,style:dr(l.value),onError:u},null,44,j1e)):d.icon?(ge(),Tt(b(Bn),{key:1},{default:ie(()=>[(ge(),Tt(ti(d.icon)))]),_:1})):Ot(d.$slots,"default",{key:2})],6))}});var W1e=Nn(G1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const q1e=_i(W1e),X1e=On({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:Dt([String,Object,Array])},offset:{type:Dt(Array),default:[0,0]},badgeClass:{type:String}}),Y1e=kt({name:"ElBadge",__name:"badge",props:X1e,setup(t,{expose:e}){const n=t,r=gn("badge"),i=he(()=>n.isDot?"":Lr(n.value)&&Lr(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),s=he(()=>{var a;return[{backgroundColor:n.color,marginRight:zu(-n.offset[0]),marginTop:zu(n.offset[1])},(a=n.badgeStyle)!=null?a:{}]});return e({content:i}),(a,o)=>(ge(),Fe("div",{class:Ce(b(r).b())},[Ot(a.$slots,"default"),V($l,{name:`${b(r).namespace.value}-zoom-in-center`,persisted:""},{default:ie(()=>[Dr(Ve("sup",{class:Ce([b(r).e("content"),b(r).em("content",a.type),b(r).is("fixed",!!a.$slots.default),b(r).is("dot",a.isDot),b(r).is("hide-zero",!a.showZero&&a.value===0),a.badgeClass]),style:dr(s.value)},[Ot(a.$slots,"content",{value:i.value},()=>[Rt(yn(i.value),1)])],6),[[Ei,!a.hidden&&(i.value||a.isDot||a.$slots.content)]])]),_:3},8,["name"])],2))}});var K1e=Nn(Y1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const PY=_i(K1e),kY=Symbol("buttonGroupContextKey"),hp=({from:t,replacement:e,scope:n,version:r,ref:i,type:s="API"},a)=>{Zt(()=>b(a),o=>{},{immediate:!0})},Z1e=(t,e)=>{hp({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},he(()=>t.type==="text"));const n=In(kY,void 0),r=Q1("button"),{form:i}=Rc(),s=Hu(he(()=>n==null?void 0:n.size)),a=uo(),o=ye(),l=cl(),u=he(()=>{var S;return t.type||(n==null?void 0:n.type)||((S=r.value)==null?void 0:S.type)||""}),d=he(()=>{var S,C,T;return(T=(C=t.autoInsertSpace)!=null?C:(S=r.value)==null?void 0:S.autoInsertSpace)!=null?T:!1}),f=he(()=>{var S,C,T;return(T=(C=t.plain)!=null?C:(S=r.value)==null?void 0:S.plain)!=null?T:!1}),h=he(()=>{var S,C,T;return(T=(C=t.round)!=null?C:(S=r.value)==null?void 0:S.round)!=null?T:!1}),g=he(()=>{var S,C,T;return(T=(C=t.text)!=null?C:(S=r.value)==null?void 0:S.text)!=null?T:!1}),v=he(()=>t.tag==="button"?{ariaDisabled:a.value||t.loading,disabled:a.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),p=he(()=>{var S;const C=(S=l.default)==null?void 0:S.call(l);if(d.value&&(C==null?void 0:C.length)===1){const T=C[0];if((T==null?void 0:T.type)===Iy){const A=T.children;return/^\p{Unified_Ideograph}{2}$/u.test(A.trim())}}return!1});return{_disabled:a,_size:s,_type:u,_ref:o,_props:v,_plain:f,_round:h,_text:g,shouldAddSpace:p,handleClick:S=>{if(a.value||t.loading){S.stopPropagation();return}t.nativeType==="reset"&&(i==null||i.resetFields()),e("click",S)}}},Q1e=["default","primary","success","warning","info","danger","text",""],J1e=["button","submit","reset"],cD=On({size:Ic,disabled:{type:Boolean,default:void 0},type:{type:String,values:Q1e,default:""},icon:{type:$s},nativeType:{type:String,values:J1e,default:"button"},loading:Boolean,loadingIcon:{type:$s,default:()=>wm},plain:{type:Boolean,default:void 0},text:{type:Boolean,default:void 0},link:Boolean,bg:Boolean,autofocus:Boolean,round:{type:Boolean,default:void 0},circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Dt([String,Object]),default:"button"}}),exe={click:t=>t instanceof MouseEvent};function lo(t,e){txe(t)&&(t="100%");var n=nxe(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function tw(t){return Math.min(1,Math.max(0,t))}function txe(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function nxe(t){return typeof t=="string"&&t.indexOf("%")!==-1}function DY(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function nw(t){return t<=1?"".concat(Number(t)*100,"%"):t}function X0(t){return t.length===1?"0"+t:String(t)}function rxe(t,e,n){return{r:lo(t,255)*255,g:lo(e,255)*255,b:lo(n,255)*255}}function aB(t,e,n){t=lo(t,255),e=lo(e,255),n=lo(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,a=0,o=(r+i)/2;if(r===i)a=0,s=0;else{var l=r-i;switch(a=o>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:a,l:o}}function N3(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ixe(t,e,n){var r,i,s;if(t=lo(t,360),e=lo(e,100),n=lo(n,100),e===0)i=n,s=n,r=n;else{var a=n<.5?n*(1+e):n+e-n*e,o=2*n-a;r=N3(o,a,t+1/3),i=N3(o,a,t),s=N3(o,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function oB(t,e,n){t=lo(t,255),e=lo(e,255),n=lo(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,a=r,o=r-i,l=r===0?0:o/r;if(r===i)s=0;else{switch(r){case t:s=(e-n)/o+(e<n?6:0);break;case e:s=(n-t)/o+2;break;case n:s=(t-e)/o+4;break}s/=6}return{h:s,s:l,v:a}}function sxe(t,e,n){t=lo(t,360)*6,e=lo(e,100),n=lo(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),a=n*(1-i*e),o=n*(1-(1-i)*e),l=r%6,u=[n,a,s,s,o,n][l],d=[o,n,n,a,s,s][l],f=[s,s,o,n,n,a][l];return{r:u*255,g:d*255,b:f*255}}function lB(t,e,n,r){var i=[X0(Math.round(t).toString(16)),X0(Math.round(e).toString(16)),X0(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function axe(t,e,n,r,i){var s=[X0(Math.round(t).toString(16)),X0(Math.round(e).toString(16)),X0(Math.round(n).toString(16)),X0(oxe(r))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function oxe(t){return Math.round(parseFloat(t)*255).toString(16)}function uB(t){return Xl(t)/255}function Xl(t){return parseInt(t,16)}function lxe(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var dD={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function uxe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,a=!1,o=!1;return typeof t=="string"&&(t=fxe(t)),typeof t=="object"&&(nf(t.r)&&nf(t.g)&&nf(t.b)?(e=rxe(t.r,t.g,t.b),a=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):nf(t.h)&&nf(t.s)&&nf(t.v)?(r=nw(t.s),i=nw(t.v),e=sxe(t.h,r,i),a=!0,o="hsv"):nf(t.h)&&nf(t.s)&&nf(t.l)&&(r=nw(t.s),s=nw(t.l),e=ixe(t.h,r,s),a=!0,o="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=DY(n),{ok:a,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var cxe="[-\\+]?\\d+%?",dxe="[-\\+]?\\d*\\.\\d+%?",rp="(?:".concat(dxe,")|(?:").concat(cxe,")"),F3="[\\s|\\(]+(".concat(rp,")[,|\\s]+(").concat(rp,")[,|\\s]+(").concat(rp,")\\s*\\)?"),B3="[\\s|\\(]+(".concat(rp,")[,|\\s]+(").concat(rp,")[,|\\s]+(").concat(rp,")[,|\\s]+(").concat(rp,")\\s*\\)?"),sc={CSS_UNIT:new RegExp(rp),rgb:new RegExp("rgb"+F3),rgba:new RegExp("rgba"+B3),hsl:new RegExp("hsl"+F3),hsla:new RegExp("hsla"+B3),hsv:new RegExp("hsv"+F3),hsva:new RegExp("hsva"+B3),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function fxe(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(dD[t])t=dD[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=sc.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=sc.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=sc.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=sc.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=sc.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=sc.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=sc.hex8.exec(t),n?{r:Xl(n[1]),g:Xl(n[2]),b:Xl(n[3]),a:uB(n[4]),format:e?"name":"hex8"}:(n=sc.hex6.exec(t),n?{r:Xl(n[1]),g:Xl(n[2]),b:Xl(n[3]),format:e?"name":"hex"}:(n=sc.hex4.exec(t),n?{r:Xl(n[1]+n[1]),g:Xl(n[2]+n[2]),b:Xl(n[3]+n[3]),a:uB(n[4]+n[4]),format:e?"name":"hex8"}:(n=sc.hex3.exec(t),n?{r:Xl(n[1]+n[1]),g:Xl(n[2]+n[2]),b:Xl(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function nf(t){return!!sc.CSS_UNIT.exec(String(t))}var IY=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=lxe(e)),this.originalInput=e;var i=uxe(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,s=e.r/255,a=e.g/255,o=e.b/255;return s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=DY(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=oB(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=oB(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=aB(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=aB(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),lB(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),axe(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(lo(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(lo(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+lB(this.r,this.g,this.b,!1),n=0,r=Object.entries(dD);n<r.length;n++){var i=r[n],s=i[0],a=i[1];if(e===a)return s}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,s=!n&&i&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=tw(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=tw(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=tw(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=tw(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),s=n/100,a={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return new t(a)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,s=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(new t(r));return s},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,s=n.v,a=[],o=1/e;e--;)a.push(new t({h:r,s:i,v:s})),s=(s+o)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],s=360/e,a=1;a<e;a++)i.push(new t({h:(r+a*s)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function Th(t,e=20){return t.mix("#141414",e).toString()}function hxe(t){const e=uo(),n=gn("button");return he(()=>{let r={},i=t.color;if(i){const s=i.match(/var\((.*?)\)/);s&&(i=window.getComputedStyle(window.document.documentElement).getPropertyValue(s[1]));const a=new IY(i),o=t.dark?a.tint(20).toString():Th(a,20);if(t.plain)r=n.cssVarBlock({"bg-color":t.dark?Th(a,90):a.tint(90).toString(),"text-color":i,"border-color":t.dark?Th(a,50):a.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":o,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(r[n.cssVarBlockName("disabled-bg-color")]=t.dark?Th(a,90):a.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=t.dark?Th(a,50):a.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=t.dark?Th(a,80):a.tint(80).toString());else{const l=t.dark?Th(a,30):a.tint(30).toString(),u=a.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":i,"text-color":u,"border-color":i,"hover-bg-color":l,"hover-text-color":u,"hover-border-color":l,"active-bg-color":o,"active-border-color":o}),e.value){const d=t.dark?Th(a,50):a.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=d,r[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=d}}}return r})}const pxe=kt({name:"ElButton",__name:"button",props:cD,emits:exe,setup(t,{expose:e,emit:n}){const r=t,i=n,s=hxe(r),a=gn("button"),{_ref:o,_size:l,_type:u,_disabled:d,_props:f,_plain:h,_round:g,_text:v,shouldAddSpace:p,handleClick:_}=Z1e(r,i),S=he(()=>[a.b(),a.m(u.value),a.m(l.value),a.is("disabled",d.value),a.is("loading",r.loading),a.is("plain",h.value),a.is("round",g.value),a.is("circle",r.circle),a.is("text",v.value),a.is("link",r.link),a.is("has-bg",r.bg)]);return e({ref:o,size:l,type:u,disabled:d,shouldAddSpace:p}),(C,T)=>(ge(),Tt(ti(C.tag),Fi({ref_key:"_ref",ref:o},b(f),{class:S.value,style:b(s),onClick:b(_)}),{default:ie(()=>[C.loading?(ge(),Fe(Tn,{key:0},[C.$slots.loading?Ot(C.$slots,"loading",{key:0}):(ge(),Tt(b(Bn),{key:1,class:Ce(b(a).is("loading"))},{default:ie(()=>[(ge(),Tt(ti(C.loadingIcon)))]),_:1},8,["class"]))],64)):C.icon||C.$slots.icon?(ge(),Tt(b(Bn),{key:1},{default:ie(()=>[C.icon?(ge(),Tt(ti(C.icon),{key:0})):Ot(C.$slots,"icon",{key:1})]),_:3})):gt("v-if",!0),C.$slots.default?(ge(),Fe("span",{key:2,class:Ce({[b(a).em("text","expand")]:b(p)})},[Ot(C.$slots,"default")],2)):gt("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var mxe=Nn(pxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const gxe={size:cD.size,type:cD.type,direction:{type:Dt(String),values:["horizontal","vertical"],default:"horizontal"}},vxe=kt({name:"ElButtonGroup",__name:"button-group",props:gxe,setup(t){const e=t;pi(kY,lr({size:_s(e,"size"),type:_s(e,"type")}));const n=gn("button");return(r,i)=>(ge(),Fe("div",{class:Ce([b(n).b("group"),b(n).bm("group",e.direction)])},[Ot(r.$slots,"default")],2))}});var RY=Nn(vxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const qr=_i(mxe,{ButtonGroup:RY});Ya(RY);var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ra(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function OY(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var MY={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Da,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",u="day",d="week",f="month",h="quarter",g="year",v="date",p="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(W){var F=["th","st","nd","rd"],te=W%100;return"["+W+(F[(te-20)%10]||F[te]||F[0])+"]"}},T=function(W,F,te){var G=String(W);return!G||G.length>=F?W:""+Array(F+1-G.length).join(te)+W},A={s:T,z:function(W){var F=-W.utcOffset(),te=Math.abs(F),G=Math.floor(te/60),K=te%60;return(F<=0?"+":"-")+T(G,2,"0")+":"+T(K,2,"0")},m:function W(F,te){if(F.date()<te.date())return-W(te,F);var G=12*(te.year()-F.year())+(te.month()-F.month()),K=F.clone().add(G,f),ee=te-K<0,de=F.clone().add(G+(ee?-1:1),f);return+(-(G+(te-K)/(ee?K-de:de-K))||0)},a:function(W){return W<0?Math.ceil(W)||0:Math.floor(W)},p:function(W){return{M:f,y:g,w:d,d:u,D:v,h:l,m:o,s:a,ms:s,Q:h}[W]||String(W||"").toLowerCase().replace(/s$/,"")},u:function(W){return W===void 0}},P="en",D={};D[P]=C;var R="$isDayjsObject",N=function(W){return W instanceof j||!(!W||!W[R])},U=function W(F,te,G){var K;if(!F)return P;if(typeof F=="string"){var ee=F.toLowerCase();D[ee]&&(K=ee),te&&(D[ee]=te,K=ee);var de=F.split("-");if(!K&&de.length>1)return W(de[0])}else{var ue=F.name;D[ue]=F,K=ue}return!G&&K&&(P=K),K||!G&&P},Y=function(W,F){if(N(W))return W.clone();var te=typeof F=="object"?F:{};return te.date=W,te.args=arguments,new j(te)},H=A;H.l=U,H.i=N,H.w=function(W,F){return Y(W,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var j=function(){function W(te){this.$L=U(te.locale,null,!0),this.parse(te),this.$x=this.$x||te.x||{},this[R]=!0}var F=W.prototype;return F.parse=function(te){this.$d=function(G){var K=G.date,ee=G.utc;if(K===null)return new Date(NaN);if(H.u(K))return new Date;if(K instanceof Date)return new Date(K);if(typeof K=="string"&&!/Z$/i.test(K)){var de=K.match(_);if(de){var ue=de[2]-1||0,me=(de[7]||"0").substring(0,3);return ee?new Date(Date.UTC(de[1],ue,de[3]||1,de[4]||0,de[5]||0,de[6]||0,me)):new Date(de[1],ue,de[3]||1,de[4]||0,de[5]||0,de[6]||0,me)}}return new Date(K)}(te),this.init()},F.init=function(){var te=this.$d;this.$y=te.getFullYear(),this.$M=te.getMonth(),this.$D=te.getDate(),this.$W=te.getDay(),this.$H=te.getHours(),this.$m=te.getMinutes(),this.$s=te.getSeconds(),this.$ms=te.getMilliseconds()},F.$utils=function(){return H},F.isValid=function(){return this.$d.toString()!==p},F.isSame=function(te,G){var K=Y(te);return this.startOf(G)<=K&&K<=this.endOf(G)},F.isAfter=function(te,G){return Y(te)<this.startOf(G)},F.isBefore=function(te,G){return this.endOf(G)<Y(te)},F.$g=function(te,G,K){return H.u(te)?this[G]:this.set(K,te)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(te,G){var K=this,ee=!!H.u(G)||G,de=H.p(te),ue=function(Xe,Ze){var bt=H.w(K.$u?Date.UTC(K.$y,Ze,Xe):new Date(K.$y,Ze,Xe),K);return ee?bt:bt.endOf(u)},me=function(Xe,Ze){return H.w(K.toDate()[Xe].apply(K.toDate("s"),(ee?[0,0,0,0]:[23,59,59,999]).slice(Ze)),K)},Ee=this.$W,Oe=this.$M,Ge=this.$D,$e="set"+(this.$u?"UTC":"");switch(de){case g:return ee?ue(1,0):ue(31,11);case f:return ee?ue(1,Oe):ue(0,Oe+1);case d:var Ie=this.$locale().weekStart||0,Ke=(Ee<Ie?Ee+7:Ee)-Ie;return ue(ee?Ge-Ke:Ge+(6-Ke),Oe);case u:case v:return me($e+"Hours",0);case l:return me($e+"Minutes",1);case o:return me($e+"Seconds",2);case a:return me($e+"Milliseconds",3);default:return this.clone()}},F.endOf=function(te){return this.startOf(te,!1)},F.$set=function(te,G){var K,ee=H.p(te),de="set"+(this.$u?"UTC":""),ue=(K={},K[u]=de+"Date",K[v]=de+"Date",K[f]=de+"Month",K[g]=de+"FullYear",K[l]=de+"Hours",K[o]=de+"Minutes",K[a]=de+"Seconds",K[s]=de+"Milliseconds",K)[ee],me=ee===u?this.$D+(G-this.$W):G;if(ee===f||ee===g){var Ee=this.clone().set(v,1);Ee.$d[ue](me),Ee.init(),this.$d=Ee.set(v,Math.min(this.$D,Ee.daysInMonth())).$d}else ue&&this.$d[ue](me);return this.init(),this},F.set=function(te,G){return this.clone().$set(te,G)},F.get=function(te){return this[H.p(te)]()},F.add=function(te,G){var K,ee=this;te=Number(te);var de=H.p(G),ue=function(Oe){var Ge=Y(ee);return H.w(Ge.date(Ge.date()+Math.round(Oe*te)),ee)};if(de===f)return this.set(f,this.$M+te);if(de===g)return this.set(g,this.$y+te);if(de===u)return ue(1);if(de===d)return ue(7);var me=(K={},K[o]=r,K[l]=i,K[a]=n,K)[de]||1,Ee=this.$d.getTime()+te*me;return H.w(Ee,this)},F.subtract=function(te,G){return this.add(-1*te,G)},F.format=function(te){var G=this,K=this.$locale();if(!this.isValid())return K.invalidDate||p;var ee=te||"YYYY-MM-DDTHH:mm:ssZ",de=H.z(this),ue=this.$H,me=this.$m,Ee=this.$M,Oe=K.weekdays,Ge=K.months,$e=K.meridiem,Ie=function(Ze,bt,ht,ae){return Ze&&(Ze[bt]||Ze(G,ee))||ht[bt].slice(0,ae)},Ke=function(Ze){return H.s(ue%12||12,Ze,"0")},Xe=$e||function(Ze,bt,ht){var ae=Ze<12?"AM":"PM";return ht?ae.toLowerCase():ae};return ee.replace(S,function(Ze,bt){return bt||function(ht){switch(ht){case"YY":return String(G.$y).slice(-2);case"YYYY":return H.s(G.$y,4,"0");case"M":return Ee+1;case"MM":return H.s(Ee+1,2,"0");case"MMM":return Ie(K.monthsShort,Ee,Ge,3);case"MMMM":return Ie(Ge,Ee);case"D":return G.$D;case"DD":return H.s(G.$D,2,"0");case"d":return String(G.$W);case"dd":return Ie(K.weekdaysMin,G.$W,Oe,2);case"ddd":return Ie(K.weekdaysShort,G.$W,Oe,3);case"dddd":return Oe[G.$W];case"H":return String(ue);case"HH":return H.s(ue,2,"0");case"h":return Ke(1);case"hh":return Ke(2);case"a":return Xe(ue,me,!0);case"A":return Xe(ue,me,!1);case"m":return String(me);case"mm":return H.s(me,2,"0");case"s":return String(G.$s);case"ss":return H.s(G.$s,2,"0");case"SSS":return H.s(G.$ms,3,"0");case"Z":return de}return null}(Ze)||de.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(te,G,K){var ee,de=this,ue=H.p(G),me=Y(te),Ee=(me.utcOffset()-this.utcOffset())*r,Oe=this-me,Ge=function(){return H.m(de,me)};switch(ue){case g:ee=Ge()/12;break;case f:ee=Ge();break;case h:ee=Ge()/3;break;case d:ee=(Oe-Ee)/6048e5;break;case u:ee=(Oe-Ee)/864e5;break;case l:ee=Oe/i;break;case o:ee=Oe/r;break;case a:ee=Oe/n;break;default:ee=Oe}return K?ee:H.a(ee)},F.daysInMonth=function(){return this.endOf(f).$D},F.$locale=function(){return D[this.$L]},F.locale=function(te,G){if(!te)return this.$L;var K=this.clone(),ee=U(te,G,!0);return ee&&(K.$L=ee),K},F.clone=function(){return H.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},W}(),X=j.prototype;return Y.prototype=X,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",u],["$M",f],["$y",g],["$D",v]].forEach(function(W){X[W[1]]=function(F){return this.$g(F,W[0],W[1])}}),Y.extend=function(W,F){return W.$i||(W(F,j,Y),W.$i=!0),Y},Y.locale=U,Y.isDayjs=N,Y.unix=function(W){return Y(1e3*W)},Y.en=D[P],Y.Ls=D,Y.p={},Y})})(MY);var yxe=MY.exports;const Wn=Ra(yxe),U3=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],LY=t=>Array.from(Array.from({length:t}).keys()),$Y=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),NY=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),cB=function(t,e){const n=vT(t),r=vT(e);return n&&r?t.getTime()===e.getTime():!n&&!r?t===e:!1},FY=function(t,e){const n=nn(t),r=nn(e);return n&&r?t.length!==e.length?!1:t.every((i,s)=>cB(i,e[s])):!n&&!r?cB(t,e):!1},dB=function(t,e,n){const r=Ql(e)||e==="x"?Wn(t).locale(n):Wn(t,e).locale(n);return r.isValid()?r:void 0},fB=function(t,e,n){return Ql(e)?t:e==="x"?+t:Wn(t).locale(n).format(e)},V3=(t,e)=>{var n;const r=[],i=e==null?void 0:e();for(let s=0;s<t;s++)r.push((n=i==null?void 0:i.includes(s))!=null?n:!1);return r},AS=t=>nn(t)?t.map(e=>e.toDate()):t.toDate();var BY={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Da,function(){return function(n,r,i){var s=r.prototype,a=function(f){return f&&(f.indexOf?f:f.s)},o=function(f,h,g,v,p){var _=f.name?f:f.$locale(),S=a(_[h]),C=a(_[g]),T=S||C.map(function(P){return P.slice(0,v)});if(!p)return T;var A=_.weekStart;return T.map(function(P,D){return T[(D+(A||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(f,h){return f.formats[h]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,p,_){return p||_.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):o(f,"months")},monthsShort:function(h){return h?h.format("MMM"):o(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):o(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):o(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):o(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return d.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return o(l(),"months")},i.monthsShort=function(){return o(l(),"monthsShort","months",3)},i.weekdays=function(f){return o(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return o(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return o(l(),"weekdaysMin","weekdays",2,f)}}})})(BY);var _xe=BY.exports;const bxe=Ra(_xe),xxe=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],wxe=On({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Dt([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:void 0}}),Sxe=kt({name:"ElCard",__name:"card",props:wxe,setup(t){const e=Q1("card"),n=gn("card");return(r,i)=>{var s;return ge(),Fe("div",{class:Ce([b(n).b(),b(n).is(`${r.shadow||((s=b(e))==null?void 0:s.shadow)||"always"}-shadow`)])},[r.$slots.header||r.header?(ge(),Fe("div",{key:0,class:Ce([b(n).e("header"),r.headerClass])},[Ot(r.$slots,"header",{},()=>[Rt(yn(r.header),1)])],2)):gt("v-if",!0),Ve("div",{class:Ce([b(n).e("body"),r.bodyClass]),style:dr(r.bodyStyle)},[Ot(r.$slots,"default")],6),r.$slots.footer||r.footer?(ge(),Fe("div",{key:1,class:Ce([b(n).e("footer"),r.footerClass])},[Ot(r.$slots,"footer",{},()=>[Rt(yn(r.footer),1)])],2)):gt("v-if",!0)],2)}}});var Txe=Nn(Sxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const Cxe=_i(Txe);var PS=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(PS||{});const ip=t=>{const e=nn(t)?t:[t],n=[];return e.forEach(r=>{var i;nn(r)?n.push(...ip(r)):ia(r)&&((i=r.component)!=null&&i.subTree)?n.push(r,...ip(r.component.subTree)):ia(r)&&nn(r.children)?n.push(...ip(r.children)):ia(r)&&r.shapeFlag===2?n.push(...ip(r.type())):n.push(r)}),n},Exe=(t,e,n)=>ip(t.subTree).filter(s=>{var a;return ia(s)&&((a=s.type)==null?void 0:a.name)===e&&!!s.component}).map(s=>s.component.uid).map(s=>n[s]).filter(s=>!!s),Axe=(t,e)=>{const n=qa({}),r=qa([]),i=new WeakMap,s=d=>{n.value[d.uid]=d,_S(n),zr(()=>{const f=d.getVnode().el,h=f.parentNode;if(!i.has(h)){i.set(h,[]);const g=h.insertBefore.bind(h);h.insertBefore=(v,p)=>(i.get(h).some(S=>v===S||p===S)&&_S(n),g(v,p))}i.get(h).push(f)})},a=d=>{delete n.value[d.uid],_S(n);const f=d.getVnode().el,h=f.parentNode,g=i.get(h),v=g.indexOf(f);g.splice(v,1)},o=()=>{r.value=Exe(t,e,n.value)},l=d=>d.render();return{children:r,addChild:s,removeChild:a,ChildrenSorter:kt({setup(d,{slots:f}){return()=>(o(),f.default?En(l,{render:f.default}):null)}})}},UY={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:{type:Boolean,default:void 0},checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:Ic,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},ariaLabel:String,...Yf(["ariaControls"])},VY={[Ti]:t=>Kn(t)||Lr(t)||ta(t),change:t=>Kn(t)||Lr(t)||ta(t)},By=Symbol("checkboxGroupContextKey"),Pxe=({model:t,isChecked:e})=>{const n=In(By,void 0),r=In(Wm,void 0),i=he(()=>{var a,o;const l=(a=n==null?void 0:n.max)==null?void 0:a.value,u=(o=n==null?void 0:n.min)==null?void 0:o.value;return!Ni(l)&&t.value.length>=l&&!e.value||!Ni(u)&&t.value.length<=u&&e.value});return{isDisabled:uo(he(()=>{var a,o;return n===void 0?(a=r==null?void 0:r.disabled)!=null?a:i.value:((o=n.disabled)==null?void 0:o.value)||i.value})),isLimitDisabled:i}},kxe=(t,{model:e,isLimitExceeded:n,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:s})=>{const a=In(By,void 0),{formItem:o}=Rc(),{emit:l}=Ar();function u(v){var p,_,S,C;return[!0,t.trueValue,t.trueLabel].includes(v)?(_=(p=t.trueValue)!=null?p:t.trueLabel)!=null?_:!0:(C=(S=t.falseValue)!=null?S:t.falseLabel)!=null?C:!1}function d(v,p){l(bs,u(v),p)}function f(v){if(n.value)return;const p=v.target;l(bs,u(p.checked),v)}async function h(v){n.value||!r.value&&!i.value&&s.value&&(v.composedPath().some(S=>S.tagName==="LABEL")||(e.value=u([!1,t.falseValue,t.falseLabel].includes(e.value)),await Vn(),d(e.value,v)))}const g=he(()=>(a==null?void 0:a.validateEvent)||t.validateEvent);return Zt(()=>t.modelValue,()=>{g.value&&(o==null||o.validate("change").catch(v=>void 0))}),{handleChange:f,onClickRoot:h}},Dxe=t=>{const e=ye(!1),{emit:n}=Ar(),r=In(By,void 0),i=he(()=>Ni(r)===!1),s=ye(!1),a=he({get(){var o,l;return i.value?(o=r==null?void 0:r.modelValue)==null?void 0:o.value:(l=t.modelValue)!=null?l:e.value},set(o){var l,u;i.value&&nn(o)?(s.value=((l=r==null?void 0:r.max)==null?void 0:l.value)!==void 0&&o.length>(r==null?void 0:r.max.value)&&o.length>a.value.length,s.value===!1&&((u=r==null?void 0:r.changeEvent)==null||u.call(r,o))):(n(Ti,o),e.value=o)}});return{model:a,isGroup:i,isLimitExceeded:s}},Ixe=(t,e,{model:n})=>{const r=In(By,void 0),i=ye(!1),s=he(()=>Pu(t.value)?t.label:t.value),a=he(()=>{const d=n.value;return ta(d)?d:nn(d)?fr(s.value)?d.map(Jr).some(f=>na(f,s.value)):d.map(Jr).includes(s.value):d!=null?d===t.trueValue||d===t.trueLabel:!!d}),o=Hu(he(()=>{var d;return(d=r==null?void 0:r.size)==null?void 0:d.value}),{prop:!0}),l=Hu(he(()=>{var d;return(d=r==null?void 0:r.size)==null?void 0:d.value})),u=he(()=>!!e.default||!Pu(s.value));return{checkboxButtonSize:o,isChecked:a,isFocused:i,checkboxSize:l,hasOwnLabel:u,actualValue:s}},zY=(t,e)=>{const{formItem:n}=Rc(),{model:r,isGroup:i,isLimitExceeded:s}=Dxe(t),{isFocused:a,isChecked:o,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:d,actualValue:f}=Ixe(t,e,{model:r}),{isDisabled:h}=Pxe({model:r,isChecked:o}),{inputId:g,isLabeledByFormItem:v}=Ny(t,{formItemContext:n,disableIdGeneration:d,disableIdManagement:i}),{handleChange:p,onClickRoot:_}=kxe(t,{model:r,isLimitExceeded:s,hasOwnLabel:d,isDisabled:h,isLabeledByFormItem:v});return(()=>{function C(){var T,A;nn(r.value)&&!r.value.includes(f.value)?r.value.push(f.value):r.value=(A=(T=t.trueValue)!=null?T:t.trueLabel)!=null?A:!0}t.checked&&C()})(),hp({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},he(()=>i.value&&Pu(t.value))),hp({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},he(()=>!!t.trueLabel)),hp({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},he(()=>!!t.falseLabel)),{inputId:g,isLabeledByFormItem:v,isChecked:o,isDisabled:h,isFocused:a,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:d,model:r,actualValue:f,handleChange:p,onClickRoot:_}},Rxe=["id","indeterminate","name","tabindex","disabled"],Oxe=kt({name:"ElCheckbox",__name:"checkbox",props:UY,emits:VY,setup(t){const e=t,n=cl(),{inputId:r,isLabeledByFormItem:i,isChecked:s,isDisabled:a,isFocused:o,checkboxSize:l,hasOwnLabel:u,model:d,actualValue:f,handleChange:h,onClickRoot:g}=zY(e,n),v=he(()=>{var C,T,A,P;return e.trueValue||e.falseValue||e.trueLabel||e.falseLabel?{"true-value":(T=(C=e.trueValue)!=null?C:e.trueLabel)!=null?T:!0,"false-value":(P=(A=e.falseValue)!=null?A:e.falseLabel)!=null?P:!1}:{value:f.value}}),p=gn("checkbox"),_=he(()=>[p.b(),p.m(l.value),p.is("disabled",a.value),p.is("bordered",e.border),p.is("checked",s.value)]),S=he(()=>[p.e("input"),p.is("disabled",a.value),p.is("checked",s.value),p.is("indeterminate",e.indeterminate),p.is("focus",o.value)]);return(C,T)=>(ge(),Tt(ti(!b(u)&&b(i)?"span":"label"),{for:!b(u)&&b(i)?null:b(r),class:Ce(_.value),"aria-controls":C.indeterminate?C.ariaControls:null,"aria-checked":C.indeterminate?"mixed":void 0,"aria-label":C.ariaLabel,onClick:b(g)},{default:ie(()=>[Ve("span",{class:Ce(S.value)},[Dr(Ve("input",Fi({id:b(r),"onUpdate:modelValue":T[0]||(T[0]=A=>tr(d)?d.value=A:null),class:b(p).e("original"),type:"checkbox",indeterminate:C.indeterminate,name:C.name,tabindex:C.tabindex,disabled:b(a)},v.value,{onChange:T[1]||(T[1]=(...A)=>b(h)&&b(h)(...A)),onFocus:T[2]||(T[2]=A=>o.value=!0),onBlur:T[3]||(T[3]=A=>o.value=!1),onClick:T[4]||(T[4]=Cr(()=>{},["stop"]))}),null,16,Rxe),[[Lq,b(d)]]),Ve("span",{class:Ce(b(p).e("inner"))},null,2)],2),b(u)?(ge(),Fe("span",{key:0,class:Ce(b(p).e("label"))},[Ot(C.$slots,"default"),C.$slots.default?gt("v-if",!0):(ge(),Fe(Tn,{key:0},[Rt(yn(C.label),1)],64))],2)):gt("v-if",!0)]),_:3},8,["for","class","aria-controls","aria-checked","aria-label","onClick"]))}});var HY=Nn(Oxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Mxe=["name","tabindex","disabled"],Lxe=kt({name:"ElCheckboxButton",__name:"checkbox-button",props:UY,emits:VY,setup(t){const e=t,n=cl(),{isFocused:r,isChecked:i,isDisabled:s,checkboxButtonSize:a,model:o,actualValue:l,handleChange:u}=zY(e,n),d=he(()=>{var p,_,S,C;return e.trueValue||e.falseValue||e.trueLabel||e.falseLabel?{"true-value":(_=(p=e.trueValue)!=null?p:e.trueLabel)!=null?_:!0,"false-value":(C=(S=e.falseValue)!=null?S:e.falseLabel)!=null?C:!1}:{value:l.value}}),f=In(By,void 0),h=gn("checkbox"),g=he(()=>{var p,_,S,C;const T=(_=(p=f==null?void 0:f.fill)==null?void 0:p.value)!=null?_:"";return{backgroundColor:T,borderColor:T,color:(C=(S=f==null?void 0:f.textColor)==null?void 0:S.value)!=null?C:"",boxShadow:T?`-1px 0 0 0 ${T}`:void 0}}),v=he(()=>[h.b("button"),h.bm("button",a.value),h.is("disabled",s.value),h.is("checked",i.value),h.is("focus",r.value)]);return(p,_)=>(ge(),Fe("label",{class:Ce(v.value)},[Dr(Ve("input",Fi({"onUpdate:modelValue":_[0]||(_[0]=S=>tr(o)?o.value=S:null),class:b(h).be("button","original"),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:b(s)},d.value,{onChange:_[1]||(_[1]=(...S)=>b(u)&&b(u)(...S)),onFocus:_[2]||(_[2]=S=>r.value=!0),onBlur:_[3]||(_[3]=S=>r.value=!1),onClick:_[4]||(_[4]=Cr(()=>{},["stop"]))}),null,16,Mxe),[[Lq,b(o)]]),p.$slots.default||p.label?(ge(),Fe("span",{key:0,class:Ce(b(h).be("button","inner")),style:dr(b(i)?g.value:void 0)},[Ot(p.$slots,"default",{},()=>[Rt(yn(p.label),1)])],6)):gt("v-if",!0)],2))}});var ZM=Nn(Lxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const $xe=On({modelValue:{type:Dt(Array),default:()=>[]},disabled:{type:Boolean,default:void 0},min:Number,max:Number,size:Ic,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:Dt(Array)},props:{type:Dt(Object),default:()=>jY},type:{type:String,values:["checkbox","button"],default:"checkbox"},...Yf(["ariaLabel"])}),Nxe={[Ti]:t=>nn(t),change:t=>nn(t)},jY={label:"label",value:"value",disabled:"disabled"},Fxe=kt({name:"ElCheckboxGroup",__name:"checkbox-group",props:$xe,emits:Nxe,setup(t,{emit:e}){const n=t,r=e,i=gn("checkbox"),s=uo(),{formItem:a}=Rc(),{inputId:o,isLabeledByFormItem:l}=Ny(n,{formItemContext:a}),u=async v=>{r(Ti,v),await Vn(),r(bs,v)},d=he({get(){return n.modelValue},set(v){u(v)}}),f=he(()=>({...jY,...n.props})),h=v=>{const{label:p,value:_,disabled:S}=f.value,C={label:v[p],value:v[_],disabled:v[S]};return{...CE(v,[p,_,S]),...C}},g=he(()=>n.type==="button"?ZM:HY);return pi(By,{...EX(cu(n),["size","min","max","validateEvent","fill","textColor"]),disabled:s,modelValue:d,changeEvent:u}),Zt(()=>n.modelValue,(v,p)=>{n.validateEvent&&!na(v,p)&&(a==null||a.validate("change").catch(_=>void 0))}),(v,p)=>{var _;return ge(),Tt(ti(v.tag),{id:b(o),class:Ce(b(i).b("group")),role:"group","aria-label":b(l)?void 0:v.ariaLabel||"checkbox-group","aria-labelledby":b(l)?(_=b(a))==null?void 0:_.labelId:void 0},{default:ie(()=>[Ot(v.$slots,"default",{},()=>[(ge(!0),Fe(Tn,null,li(v.options,(S,C)=>(ge(),Tt(ti(g.value),Fi({key:C},{ref_for:!0},h(S)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var GY=Nn(Fxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Ec=_i(HY,{CheckboxButton:ZM,CheckboxGroup:GY});Ya(ZM);const QM=Ya(GY),WY=On({modelValue:{type:[String,Number,Boolean],default:void 0},size:Ic,disabled:{type:Boolean,default:void 0},label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),Bxe=On({...WY,border:Boolean}),qY={[Ti]:t=>Kn(t)||Lr(t)||ta(t),[bs]:t=>Kn(t)||Lr(t)||ta(t)},XY=Symbol("radioGroupKey"),YY=(t,e)=>{const n=ye(),r=In(XY,void 0),i=he(()=>!!r),s=he(()=>Pu(t.value)?t.label:t.value),a=he({get(){return i.value?r.modelValue:t.modelValue},set(f){i.value?r.changeEvent(f):e&&e(Ti,f),n.value.checked=t.modelValue===s.value}}),o=Hu(he(()=>r==null?void 0:r.size)),l=uo(he(()=>r==null?void 0:r.disabled)),u=ye(!1),d=he(()=>l.value||i.value&&a.value!==s.value?-1:0);return hp({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},he(()=>i.value&&Pu(t.value))),{radioRef:n,isGroup:i,radioGroup:r,focus:u,size:o,disabled:l,tabIndex:d,modelValue:a,actualValue:s}},Uxe=["value","name","disabled","checked"],Vxe=kt({name:"ElRadio",__name:"radio",props:Bxe,emits:qY,setup(t,{emit:e}){const n=t,r=e,i=gn("radio"),{radioRef:s,radioGroup:a,focus:o,size:l,disabled:u,modelValue:d,actualValue:f}=YY(n,r);function h(){Vn(()=>r(bs,d.value))}return(g,v)=>{var p;return ge(),Fe("label",{class:Ce([b(i).b(),b(i).is("disabled",b(u)),b(i).is("focus",b(o)),b(i).is("bordered",g.border),b(i).is("checked",b(d)===b(f)),b(i).m(b(l))])},[Ve("span",{class:Ce([b(i).e("input"),b(i).is("disabled",b(u)),b(i).is("checked",b(d)===b(f))])},[Dr(Ve("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":v[0]||(v[0]=_=>tr(d)?d.value=_:null),class:Ce(b(i).e("original")),value:b(f),name:g.name||((p=b(a))==null?void 0:p.name),disabled:b(u),checked:b(d)===b(f),type:"radio",onFocus:v[1]||(v[1]=_=>o.value=!0),onBlur:v[2]||(v[2]=_=>o.value=!1),onChange:h,onClick:v[3]||(v[3]=Cr(()=>{},["stop"]))},null,42,Uxe),[[$q,b(d)]]),Ve("span",{class:Ce(b(i).e("inner"))},null,2)],2),Ve("span",{class:Ce(b(i).e("label")),onKeydown:v[4]||(v[4]=Cr(()=>{},["stop"]))},[Ot(g.$slots,"default",{},()=>[Rt(yn(g.label),1)])],34)],2)}}});var KY=Nn(Vxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const zxe=On({...WY}),Hxe=["value","name","disabled"],jxe=kt({name:"ElRadioButton",__name:"radio-button",props:zxe,setup(t){const e=t,n=gn("radio"),{radioRef:r,focus:i,size:s,disabled:a,modelValue:o,radioGroup:l,actualValue:u}=YY(e),d=he(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(f,h)=>{var g;return ge(),Fe("label",{class:Ce([b(n).b("button"),b(n).is("active",b(o)===b(u)),b(n).is("disabled",b(a)),b(n).is("focus",b(i)),b(n).bm("button",b(s))])},[Dr(Ve("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":h[0]||(h[0]=v=>tr(o)?o.value=v:null),class:Ce(b(n).be("button","original-radio")),value:b(u),type:"radio",name:f.name||((g=b(l))==null?void 0:g.name),disabled:b(a),onFocus:h[1]||(h[1]=v=>i.value=!0),onBlur:h[2]||(h[2]=v=>i.value=!1),onClick:h[3]||(h[3]=Cr(()=>{},["stop"]))},null,42,Hxe),[[$q,b(o)]]),Ve("span",{class:Ce(b(n).be("button","inner")),style:dr(b(o)===b(u)?d.value:{}),onKeydown:h[4]||(h[4]=Cr(()=>{},["stop"]))},[Ot(f.$slots,"default",{},()=>[Rt(yn(f.label),1)])],38)],2)}}});var JM=Nn(jxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const Gxe=On({id:{type:String,default:void 0},size:Ic,disabled:{type:Boolean,default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},options:{type:Dt(Array)},props:{type:Dt(Object),default:()=>ZY},type:{type:String,values:["radio","button"],default:"radio"},...Yf(["ariaLabel"])}),Wxe=qY,ZY={label:"label",value:"value",disabled:"disabled"},qxe=["id","aria-label","aria-labelledby"],Xxe=kt({name:"ElRadioGroup",__name:"radio-group",props:Gxe,emits:Wxe,setup(t,{emit:e}){const n=t,r=e,i=gn("radio"),s=Cc(),a=ye(),{formItem:o}=Rc(),{inputId:l,isLabeledByFormItem:u}=Ny(n,{formItemContext:o}),d=p=>{r(Ti,p),Vn(()=>r(bs,p))};zr(()=>{const p=a.value.querySelectorAll("[type=radio]"),_=p[0];!Array.from(p).some(S=>S.checked)&&_&&(_.tabIndex=0)});const f=he(()=>n.name||s.value),h=he(()=>({...ZY,...n.props})),g=p=>{const{label:_,value:S,disabled:C}=h.value,T={label:p[_],value:p[S],disabled:p[C]};return{...CE(p,[_,S,C]),...T}},v=he(()=>n.type==="button"?JM:KY);return pi(XY,lr({...cu(n),changeEvent:d,name:f})),Zt(()=>n.modelValue,(p,_)=>{n.validateEvent&&!na(p,_)&&(o==null||o.validate("change").catch(S=>void 0))}),(p,_)=>(ge(),Fe("div",{id:b(l),ref_key:"radioGroupRef",ref:a,class:Ce(b(i).b("group")),role:"radiogroup","aria-label":b(u)?void 0:p.ariaLabel||"radio-group","aria-labelledby":b(u)?b(o).labelId:void 0},[Ot(p.$slots,"default",{},()=>[(ge(!0),Fe(Tn,null,li(p.options,(S,C)=>(ge(),Tt(ti(v.value),Fi({key:C},{ref_for:!0},g(S)),null,16))),128))])],10,qxe))}});var QY=Nn(Xxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const e8=_i(KY,{RadioButton:JM,RadioGroup:QY}),JY=Ya(QY);Ya(JM);const LE=Symbol();function Yxe(t){return!!(nn(t)?t.every(({type:e})=>e===Rs):(t==null?void 0:t.type)===Rs)}var Kxe=kt({name:"NodeContent",props:{node:{type:Object,required:!0}},setup(t){const e=gn("cascader-node"),{renderLabelFn:n}=In(LE),{node:r}=t,{data:i,label:s}=r,a=()=>{const o=n==null?void 0:n({node:r,data:i});return Yxe(o)?s:o??s};return()=>V("span",{class:e.e("label")},[a()])}});const Zxe=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],Qxe=kt({name:"ElCascaderNode",__name:"node",props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=t,r=e,i=In(LE),s=gn("cascader-node"),a=he(()=>i.isHoverMenu),o=he(()=>i.config.multiple),l=he(()=>i.config.checkStrictly),u=he(()=>i.config.showPrefix),d=he(()=>{var U;return(U=i.checkedNodes[0])==null?void 0:U.uid}),f=he(()=>n.node.isDisabled),h=he(()=>n.node.isLeaf),g=he(()=>l.value&&!h.value||!f.value),v=he(()=>_(i.expandingNode)),p=he(()=>l.value&&i.checkedNodes.some(_)),_=U=>{var Y;const{level:H,uid:j}=n.node;return((Y=U==null?void 0:U.pathNodes[H-1])==null?void 0:Y.uid)===j},S=()=>{v.value||i.expandNode(n.node)},C=U=>{const{node:Y}=n;U!==Y.checked&&i.handleCheckChange(Y,U)},T=()=>{i.lazyLoad(n.node,()=>{h.value||S()})},A=U=>{a.value&&(P(),!h.value&&r("expand",U))},P=()=>{const{node:U}=n;!g.value||U.loading||(U.loaded?S():T())},D=()=>{h.value&&!f.value&&!l.value&&!o.value?N(!0):(i.config.checkOnClickNode&&(o.value||l.value)||h.value&&i.config.checkOnClickLeaf)&&!f.value?R(!n.node.checked):a.value||P()},R=U=>{l.value?(C(U),n.node.loaded&&S()):N(U)},N=U=>{n.node.loaded?(C(U),!l.value&&S()):T()};return(U,Y)=>(ge(),Fe("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!h.value,"aria-owns":h.value?void 0:t.menuId,"aria-expanded":v.value,tabindex:g.value?-1:void 0,class:Ce([b(s).b(),b(s).is("selectable",l.value),b(s).is("active",t.node.checked),b(s).is("disabled",!g.value),v.value&&"in-active-path",p.value&&"in-checked-path"]),onMouseenter:A,onFocus:A,onClick:D},[gt(" prefix "),o.value&&u.value?(ge(),Tt(b(Ec),{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:f.value,onClick:Y[0]||(Y[0]=Cr(()=>{},["stop"])),"onUpdate:modelValue":R},null,8,["model-value","indeterminate","disabled"])):l.value&&u.value?(ge(),Tt(b(e8),{key:1,"model-value":d.value,label:t.node.uid,disabled:f.value,"onUpdate:modelValue":R,onClick:Y[1]||(Y[1]=Cr(()=>{},["stop"]))},{default:ie(()=>[gt(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Y[2]||(Y[2]=Ve("span",null,null,-1))]),_:1},8,["model-value","label","disabled"])):h.value&&t.node.checked?(ge(),Tt(b(Bn),{key:2,class:Ce(b(s).e("prefix"))},{default:ie(()=>[V(b(RE))]),_:1},8,["class"])):gt("v-if",!0),gt(" content "),V(b(Kxe),{node:t.node},null,8,["node"]),gt(" postfix "),h.value?gt("v-if",!0):(ge(),Fe(Tn,{key:3},[t.node.loading?(ge(),Tt(b(Bn),{key:0,class:Ce([b(s).is("loading"),b(s).e("postfix")])},{default:ie(()=>[V(b(wm))]),_:1},8,["class"])):(ge(),Tt(b(Bn),{key:1,class:Ce(["arrow-right",b(s).e("postfix")])},{default:ie(()=>[V(b($u))]),_:1},8,["class"]))],64))],42,Zxe))}});var Jxe=Nn(Qxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const ewe=kt({name:"ElCascaderMenu",__name:"menu",props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=t,n=Ar(),r=gn("cascader-menu"),{t:i}=mi(),s=Cc();let a,o;const l=In(LE),u=ye(),d=he(()=>!e.nodes.length),f=he(()=>!l.initialLoaded),h=he(()=>`${s.value}-${e.index}`),g=S=>{a=S.target},v=S=>{var C;if(!(!l.isHoverMenu||!a||!u.value))if(a.contains(S.target)){p();const T=n.vnode.el,{left:A}=T.getBoundingClientRect(),{offsetWidth:P,offsetHeight:D}=T,R=S.clientX-A,N=a.offsetTop,U=N+a.offsetHeight,Y=((C=T.querySelector(`.${r.e("wrap")}`))==null?void 0:C.scrollTop)||0;u.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${R} ${N} L${P} ${Y} V${N} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${R} ${U} L${P} ${D+Y} V${U} Z" />
        `}else o||(o=window.setTimeout(_,l.config.hoverThreshold))},p=()=>{o&&(clearTimeout(o),o=void 0)},_=()=>{u.value&&(u.value.innerHTML="",p())};return(S,C)=>(ge(),Tt(b(Pp),{key:h.value,tag:"ul",role:"menu",class:Ce(b(r).b()),"wrap-class":b(r).e("wrap"),"view-class":[b(r).e("list"),b(r).is("empty",d.value)],onMousemove:v,onMouseleave:_},{default:ie(()=>{var T;return[(ge(!0),Fe(Tn,null,li(t.nodes,A=>(ge(),Tt(Jxe,{key:A.uid,node:A,"menu-id":h.value,onExpand:g},null,8,["node","menu-id"]))),128)),f.value?(ge(),Fe("div",{key:0,class:Ce(b(r).e("empty-text"))},[V(b(Bn),{size:"14",class:Ce(b(r).is("loading"))},{default:ie(()=>[V(b(wm))]),_:1},8,["class"]),Rt(" "+yn(b(i)("el.cascader.loading")),1)],2)):d.value?(ge(),Fe("div",{key:1,class:Ce(b(r).e("empty-text"))},[Ot(S.$slots,"empty",{},()=>[Rt(yn(b(i)("el.cascader.noData")),1)])],2)):(T=b(l))!=null&&T.isHoverMenu?(ge(),Fe(Tn,{key:2},[gt(" eslint-disable-next-line vue/html-self-closing "),(ge(),Fe("svg",{ref_key:"hoverZone",ref:u,class:Ce(b(r).e("hover-zone"))},null,2))],2112)):gt("v-if",!0)]}),_:3},8,["class","wrap-class","view-class"]))}});var twe=Nn(ewe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let nwe=0;const rwe=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let fD=class hD{constructor(e,n,r,i=!1){this.data=e,this.config=n,this.parent=r,this.root=i,this.uid=nwe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:s,label:a,children:o}=n,l=e[o],u=rwe(this);this.level=i?0:r?r.level+1:1,this.value=e[s],this.label=e[a],this.pathNodes=u,this.pathValues=u.map(d=>d.value),this.pathLabels=u.map(d=>d.label),this.childrenData=l,this.children=(l||[]).map(d=>new hD(d,n,this)),this.loaded=!n.lazy||this.isLeaf||!Ql(l),this.text=""}get isDisabled(){const{data:e,parent:n,config:r}=this,{disabled:i,checkStrictly:s}=r;return(kn(i)?i(e,this):!!e[i])||!s&&!!(n!=null&&n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:r,loaded:i}=this,{lazy:s,leaf:a}=n,o=kn(a)?a(e,this):e[a];return Ni(o)?s&&!i?!1:!(nn(r)&&r.length):!!o}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:r}=this,i=new hD(e,this.config,this);return nn(n)?n.push(e):this.childrenData=[e],r.push(i),i}calcText(e,n){const r=e?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(e){this.children.forEach(n=>{var r;n&&(n.broadcast(e),(r=n.onParentCheck)==null||r.call(n,e))})}emit(){var e;const{parent:n}=this;n&&((e=n.onChildCheck)==null||e.call(n),n.emit())}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(i=>!i.isDisabled),r=n.length?n.every(i=>i.checked):!1;this.setCheckState(r)}setCheckState(e){const n=this.children.length,r=this.children.reduce((i,s)=>{const a=s.checked?1:s.indeterminate?.5:0;return i+a},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&e,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=e:(this.broadcast(e),this.setCheckState(e),this.emit())}};const pD=(t,e)=>t.reduce((n,r)=>(r.isLeaf?n.push(r):(!e&&n.push(r),n=n.concat(pD(r.children,e))),n),[]);class hB{constructor(e,n){this.config=n;const r=(e||[]).map(i=>new fD(i,this.config));this.nodes=r,this.allNodes=pD(r,!1),this.leafNodes=pD(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const r=n?n.appendChild(e):new fD(e,this.config);n||this.nodes.push(r),this.appendAllNodesAndLeafNodes(r)}appendNodes(e,n){e.length>0?e.forEach(r=>this.appendNode(r,n)):n&&n.isLeaf&&this.leafNodes.push(n)}appendAllNodesAndLeafNodes(e){this.allNodes.push(e),e.isLeaf&&this.leafNodes.push(e),e.children&&e.children.forEach(n=>{this.appendAllNodesAndLeafNodes(n)})}getNodeByValue(e,n=!1){return Pu(e)?null:this.getFlattedNodes(n).find(i=>na(i.value,e)||na(i.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:r,level:i})=>na(e.value,r)&&e.level===i)||null}}const eK=On({modelValue:{type:Dt([Number,String,Array,Object])},options:{type:Dt(Array),default:()=>[]},props:{type:Dt(Object),default:()=>({})}}),iwe={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Zr,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500,checkOnClickNode:!1,checkOnClickLeaf:!0,showPrefix:!0},swe=On({...eK,border:{type:Boolean,default:!0},renderLabel:{type:Function}}),pB=t=>!0,awe={[Ti]:pB,[bs]:pB,close:()=>!0,"expand-change":t=>t},owe=t=>he(()=>({...iwe,...t.props})),mB=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},lwe=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():nY(t)&&t.click()},uwe=(t,e)=>{const n=e.slice(0),r=n.map(s=>s.uid),i=t.reduce((s,a)=>{const o=r.indexOf(a.uid);return o>-1&&(s.push(a),n.splice(o,1),r.splice(o,1)),s},[]);return i.push(...n),i},cwe=kt({name:"ElCascaderPanel",__name:"index",props:swe,emits:awe,setup(t,{expose:e,emit:n}){const r=t,i=n;let s=!1;const a=gn("cascader"),o=owe(r),l=cl();let u;const d=ye(!0),f=ye(!1),h=ye([]),g=ye(),v=ye([]),p=ye(),_=ye([]),S=he(()=>o.value.expandTrigger==="hover"),C=he(()=>r.renderLabel||l.default),T=()=>{const{options:G}=r,K=o.value;s=!1,u=new hB(G,K),v.value=[u.getNodes()],K.lazy&&Ql(r.options)?(d.value=!1,A(void 0,ee=>{ee&&(u=new hB(ee,K),v.value=[u.getNodes()]),d.value=!0,j(!1,!0)})):j(!1,!0)},A=(G,K)=>{const ee=o.value;G=G||new fD({},ee,void 0,!0),G.loading=!0;const de=me=>{const Ee=G,Oe=Ee.root?null:Ee;Ee.loading=!1,Ee.loaded=!0,Ee.childrenData=Ee.childrenData||[],me&&(u==null||u.appendNodes(me,Oe)),me&&(K==null||K(me)),G.level===0&&(f.value=!0)},ue=()=>{G.loading=!1,G.loaded=!1,G.level===0&&(d.value=!0)};ee.lazyLoad(G,de,ue)},P=(G,K)=>{var ee;const{level:de}=G,ue=v.value.slice(0,de);let me;G.isLeaf?me=G.pathNodes[de-2]:(me=G,ue.push(G.children)),((ee=p.value)==null?void 0:ee.uid)!==(me==null?void 0:me.uid)&&(p.value=G,v.value=ue,!K&&i("expand-change",(G==null?void 0:G.pathValues)||[]))},D=(G,K,ee=!0)=>{const{checkStrictly:de,multiple:ue}=o.value,me=_.value[0];s=!0,!ue&&(me==null||me.doCheck(!1)),G.doCheck(K),H(),ee&&!ue&&!de&&i("close"),!ee&&!ue&&R(G)},R=G=>{G&&(G=G.parent,R(G),G&&P(G))},N=G=>u==null?void 0:u.getFlattedNodes(G),U=G=>{var K;return(K=N(G))==null?void 0:K.filter(({checked:ee})=>ee!==!1)},Y=()=>{_.value.forEach(G=>G.doCheck(!1)),H(),v.value=v.value.slice(0,1),p.value=void 0,i("expand-change",[])},H=()=>{var G;const{checkStrictly:K,multiple:ee}=o.value,de=_.value,ue=U(!K),me=uwe(de,ue),Ee=me.map(Oe=>Oe.valueByOption);_.value=me,g.value=ee?Ee:(G=Ee[0])!=null?G:null},j=(G=!1,K=!1)=>{const{modelValue:ee}=r,{lazy:de,multiple:ue,checkStrictly:me}=o.value,Ee=!me;if(!(!d.value||s||!K&&na(ee,g.value)))if(de&&!G){const Ge=sB(Tve(Ao(ee))).map($e=>u==null?void 0:u.getNodeByValue($e)).filter($e=>!!$e&&!$e.loaded&&!$e.loading);Ge.length?Ge.forEach($e=>{A($e,()=>j(!1,K))}):j(!0,K)}else{const Oe=ue?Ao(ee):[ee],Ge=sB(Oe.map($e=>u==null?void 0:u.getNodeByValue($e,Ee)));X(Ge,K),g.value=DT(ee??void 0)}},X=(G,K=!0)=>{const{checkStrictly:ee}=o.value,de=_.value,ue=G.filter(Oe=>!!Oe&&(ee||Oe.isLeaf)),me=u==null?void 0:u.getSameNode(p.value),Ee=K&&me||ue[0];Ee?Ee.pathNodes.forEach(Oe=>P(Oe,!0)):p.value=void 0,de.forEach(Oe=>Oe.doCheck(!1)),lr(ue).forEach(Oe=>Oe.doCheck(!0)),_.value=ue,Vn(W)},W=()=>{Vr&&h.value.forEach(G=>{const K=G==null?void 0:G.$el;if(K){const ee=K.querySelector(`.${a.namespace.value}-scrollbar__wrap`),de=K.querySelector(`.${a.b("node")}.${a.is("active")}:last-child`)||K.querySelector(`.${a.b("node")}.in-active-path`);GX(ee,de)}})},F=G=>{const K=G.target,ee=oa(G);switch(ee){case Pn.up:case Pn.down:{G.preventDefault();const de=ee===Pn.up?-1:1;CS(rY(K,de,`.${a.b("node")}[tabindex="-1"]`));break}case Pn.left:{G.preventDefault();const de=h.value[mB(K)-1],ue=de==null?void 0:de.$el.querySelector(`.${a.b("node")}[aria-expanded="true"]`);CS(ue);break}case Pn.right:{G.preventDefault();const de=h.value[mB(K)+1],ue=de==null?void 0:de.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`);CS(ue);break}case Pn.enter:case Pn.numpadEnter:lwe(K);break}};pi(LE,lr({config:o,expandingNode:p,checkedNodes:_,isHoverMenu:S,initialLoaded:d,renderLabelFn:C,lazyLoad:A,expandNode:P,handleCheckChange:D})),Zt(o,(G,K)=>{na(G,K)||T()},{immediate:!0}),Zt(()=>r.options,T,{deep:!0}),Zt(()=>r.modelValue,()=>{s=!1,j()},{deep:!0}),Zt(()=>g.value,G=>{na(G,r.modelValue)||(i(Ti,G),i(bs,G))});const te=()=>{f.value||T()};return iM(()=>h.value=[]),zr(()=>!Ql(r.modelValue)&&j()),e({menuList:h,menus:v,checkedNodes:_,handleKeyDown:F,handleCheckChange:D,getFlattedNodes:N,getCheckedNodes:U,clearCheckedNodes:Y,calculateCheckedValue:H,scrollToExpandingNode:W,loadLazyRootNodes:te}),(G,K)=>(ge(),Fe("div",{class:Ce([b(a).b("panel"),b(a).is("bordered",G.border)]),onKeydown:F},[(ge(!0),Fe(Tn,null,li(v.value,(ee,de)=>(ge(),Tt(twe,{key:de,ref_for:!0,ref:ue=>h.value[de]=ue,index:de,nodes:[...ee]},{empty:ie(()=>[Ot(G.$slots,"empty")]),_:3},8,["index","nodes"]))),128))],34))}});var dwe=Nn(cwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);const fwe=_i(dwe),jb=On({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:jp},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),hwe={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},pwe=["aria-label"],mwe=["aria-label"],gwe=kt({name:"ElTag",__name:"tag",props:jb,emits:hwe,setup(t,{emit:e}){const n=t,r=e,i=Hu(),{t:s}=mi(),a=gn("tag"),o=he(()=>{const{type:f,hit:h,effect:g,closable:v,round:p}=n;return[a.b(),a.is("closable",v),a.m(f||"primary"),a.m(i.value),a.m(g),a.is("hit",h),a.is("round",p)]}),l=f=>{r("close",f)},u=f=>{r("click",f)},d=f=>{var h,g,v;(v=(g=(h=f==null?void 0:f.component)==null?void 0:h.subTree)==null?void 0:g.component)!=null&&v.bum&&(f.component.subTree.component.bum=null)};return(f,h)=>f.disableTransitions?(ge(),Fe("span",{key:0,class:Ce(o.value),style:dr({backgroundColor:f.color}),onClick:u},[Ve("span",{class:Ce(b(a).e("content"))},[Ot(f.$slots,"default")],2),f.closable?(ge(),Fe("button",{key:0,"aria-label":b(s)("el.tag.close"),class:Ce(b(a).e("close")),type:"button",onClick:Cr(l,["stop"])},[V(b(Bn),null,{default:ie(()=>[V(b(Rd))]),_:1})],10,pwe)):gt("v-if",!0)],6)):(ge(),Tt($l,{key:1,name:`${b(a).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:d},{default:ie(()=>[Ve("span",{class:Ce(o.value),style:dr({backgroundColor:f.color}),onClick:u},[Ve("span",{class:Ce(b(a).e("content"))},[Ot(f.$slots,"default")],2),f.closable?(ge(),Fe("button",{key:0,"aria-label":b(s)("el.tag.close"),class:Ce(b(a).e("close")),type:"button",onClick:Cr(l,["stop"])},[V(b(Bn),null,{default:ie(()=>[V(b(Rd))]),_:1})],10,mwe)):gt("v-if",!0)],6)]),_:3},8,["name"]))}});var vwe=Nn(gwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const kS=_i(vwe),ywe=On({...eK,size:Ic,placeholder:String,disabled:{type:Boolean,default:void 0},clearable:Boolean,clearIcon:{type:$s,default:$y},filterable:Boolean,filterMethod:{type:Dt(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:Boolean,maxCollapseTagsTooltipHeight:{type:[String,Number]},debounce:{type:Number,default:300},beforeFilter:{type:Dt(Function),default:()=>!0},placement:{type:Dt(String),values:Fy,default:"bottom-start"},fallbackPlacements:{type:Dt(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:Cd.popperClass,popperStyle:Cd.popperStyle,teleported:Cd.teleported,effect:{type:Dt(String),default:"light"},tagType:{...jb.type,default:"info"},tagEffect:{...jb.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},showCheckedStrategy:{type:String,values:["parent","child"],default:"child"},checkOnClickNode:Boolean,showPrefix:{type:Boolean,default:!0},...DM}),gB=t=>!0,_we={[Ti]:gB,[bs]:gB,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,visibleChange:t=>ta(t),expandChange:t=>!!t,removeTag:t=>!!t},Bh=new Map;if(Vr){let t;document.addEventListener("mousedown",e=>t=e),document.addEventListener("mouseup",e=>{if(t){for(const n of Bh.values())for(const{documentHandler:r}of n)r(e,t);t=void 0}})}function vB(t,e){let n=[];return nn(e.arg)?n=e.arg:Pl(e.arg)&&n.push(e.arg),function(r,i){const s=e.instance.popperRef,a=r.target,o=i==null?void 0:i.target,l=!e||!e.instance,u=!a||!o,d=t.contains(a)||t.contains(o),f=t===a,h=n.length&&n.some(v=>v==null?void 0:v.contains(a))||n.length&&n.includes(o),g=s&&(s.contains(a)||s.contains(o));l||u||d||f||h||g||e.value(r,i)}}const zv={beforeMount(t,e){Bh.has(t)||Bh.set(t,[]),Bh.get(t).push({documentHandler:vB(t,e),bindingFn:e.value})},updated(t,e){Bh.has(t)||Bh.set(t,[]);const n=Bh.get(t),r=n.findIndex(s=>s.bindingFn===e.oldValue),i={documentHandler:vB(t,e),bindingFn:e.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(t){Bh.delete(t)}},bwe=["placeholder"],xwe=["onClick"],wwe=kt({name:"ElCascader",__name:"cascader",props:ywe,emits:_we,setup(t,{expose:e,emit:n}){const r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:at})=>{const{modifiersData:se,placement:w}=at;["right","left","bottom","top"].includes(w)||se.arrow&&(se.arrow.x=35)},requires:["arrow"]}]},i=t,s=n,a=Dy();let o=0,l=0;const u=gn("cascader"),d=gn("input"),{t:f}=mi(),{formItem:h}=Rc(),g=uo(),{valueOnClear:v}=IM(i),{isComposing:p,handleComposition:_}=NM({afterComposition(at){var se;const w=(se=at.target)==null?void 0:se.value;xe(w)}}),S=ye(),C=ye(),T=ye(),A=ye(),P=ye(),D=ye(),R=ye(!1),N=ye(!1),U=ye(!1),Y=ye(""),H=ye(""),j=ye([]),X=ye([]),W=he(()=>i.props.multiple?i.collapseTags?j.value.slice(0,i.maxCollapseTags):j.value:[]),F=he(()=>i.props.multiple?i.collapseTags?j.value.slice(i.maxCollapseTags):[]:[]),te=he(()=>a.style),G=he(()=>{var at;return(at=i.placeholder)!=null?at:f("el.cascader.placeholder")}),K=he(()=>H.value||j.value.length>0||p.value?"":G.value),ee=Hu(),de=he(()=>ee.value==="small"?"small":"default"),ue=he(()=>!!i.props.multiple),me=he(()=>!i.filterable||ue.value),Ee=he(()=>ue.value?H.value:Y.value),Oe=he(()=>{var at;return((at=P.value)==null?void 0:at.checkedNodes)||[]}),{wrapperRef:Ge,isFocused:$e,handleBlur:Ie}=tx(T,{disabled:g,beforeBlur(at){var se,w;return((se=S.value)==null?void 0:se.isFocusInsideContent(at))||((w=C.value)==null?void 0:w.isFocusInsideContent(at))},afterBlur(){var at;i.validateEvent&&((at=h==null?void 0:h.validate)==null||at.call(h,"blur").catch(se=>void 0))}}),Ke=he(()=>!i.clearable||g.value||U.value||!N.value&&!$e.value?!1:!!Oe.value.length),Xe=he(()=>{const{showAllLevels:at,separator:se}=i,w=Oe.value;return w.length?ue.value?"":w[0].calcText(at,se):""}),Ze=he(()=>(h==null?void 0:h.validateState)||""),bt=he({get(){return DT(i.modelValue)},set(at){const se=at??v.value;s(Ti,se),s(bs,se),i.validateEvent&&(h==null||h.validate("change").catch(w=>void 0))}}),ht=he(()=>[u.b(),u.m(ee.value),u.is("disabled",g.value),a.class]),ae=he(()=>[d.e("icon"),"icon-arrow-down",u.is("reverse",R.value)]),Re=he(()=>u.is("focus",$e.value)),rt=he(()=>{var at,se;return(se=(at=S.value)==null?void 0:at.popperRef)==null?void 0:se.contentRef}),Ye=at=>{if($e.value){const se=new FocusEvent("blur",at);Ie(se)}it(!1)},it=at=>{var se,w;g.value||(at=at??!R.value,at!==R.value&&(R.value=at,(w=(se=T.value)==null?void 0:se.input)==null||w.setAttribute("aria-expanded",`${at}`),at?(St(),P.value&&Vn(P.value.scrollToExpandingNode)):i.filterable&&Te(),s("visibleChange",at)))},St=()=>{Vn(()=>{var at;(at=S.value)==null||at.updatePopper()})},Lt=()=>{U.value=!1},xt=at=>{const{showAllLevels:se,separator:w}=i;return{node:at,key:at.uid,text:at.calcText(se,w),hitState:!1,closable:!g.value&&!at.isDisabled}},sn=at=>{var se;const w=at.node;w.doCheck(!1),(se=P.value)==null||se.calculateCheckedValue(),s("removeTag",w.valueByOption)},zt=()=>{switch(i.showCheckedStrategy){case"child":return Oe.value;case"parent":{const at=Pt(!1),se=at.map(k=>k.value);return at.filter(k=>!k.parent||!se.includes(k.parent.value))}default:return[]}},ft=()=>{if(!ue.value)return;const at=zt(),se=[];at.forEach(w=>se.push(xt(w))),j.value=se},tn=()=>{var at,se;const{filterMethod:w,showAllLevels:k,separator:z}=i,fe=(se=(at=P.value)==null?void 0:at.getFlattedNodes(!i.props.checkStrictly))==null?void 0:se.filter(le=>le.isDisabled?!1:(le.calcText(k,z),w(le,Ee.value)));ue.value&&j.value.forEach(le=>{le.hitState=!1}),U.value=!0,X.value=fe,St()},_n=()=>{var at;let se;U.value&&D.value?se=D.value.$el.querySelector(`.${u.e("suggestion-item")}`):se=(at=P.value)==null?void 0:at.$el.querySelector(`.${u.b("node")}[tabindex="-1"]`),se&&(se.focus(),!U.value&&se.click())},qt=()=>{var at,se;const w=(at=T.value)==null?void 0:at.input,k=A.value,z=(se=D.value)==null?void 0:se.$el;if(!(!Vr||!w)){if(z){const fe=z.querySelector(`.${u.e("suggestion-list")}`);fe.style.minWidth=`${w.offsetWidth}px`}if(k){const{offsetHeight:fe}=k,le=j.value.length>0?`${Math.max(fe,o)-2}px`:`${o}px`;w.style.height=le,St()}}},Pt=at=>{var se;return(se=P.value)==null?void 0:se.getCheckedNodes(at)},Ct=at=>{St(),s("expandChange",at)},Kt=at=>{if(p.value)return;switch(oa(at)){case Pn.enter:case Pn.numpadEnter:it();break;case Pn.down:it(!0),Vn(_n),at.preventDefault();break;case Pn.esc:R.value===!0&&(at.preventDefault(),at.stopPropagation(),it(!1));break;case Pn.tab:it(!1);break}},$t=()=>{var at;(at=P.value)==null||at.clearCheckedNodes(),!R.value&&i.filterable&&Te(),it(!1),s("clear")},Te=()=>{const{value:at}=Xe;Y.value=at,H.value=at},vt=at=>{var se,w;const{checked:k}=at;ue.value?(se=P.value)==null||se.handleCheckChange(at,!k,!1):(!k&&((w=P.value)==null||w.handleCheckChange(at,!0,!1)),it(!1))},Nt=at=>{const se=at.target,w=oa(at);switch(w){case Pn.up:case Pn.down:{at.preventDefault();const k=w===Pn.up?-1:1;CS(rY(se,k,`.${u.e("suggestion-item")}[tabindex="-1"]`));break}case Pn.enter:case Pn.numpadEnter:se.click();break}},Ne=()=>{const at=j.value[j.value.length-1];l=H.value?0:l+1,!(!at||!l||i.collapseTags&&j.value.length>1)&&(at.hitState?sn(at):at.hitState=!0)},De=he(()=>i.debounce),tt=kM(()=>{const{value:at}=Ee;if(!at)return;const se=i.beforeFilter(at);GO(se)?se.then(tn).catch(()=>{}):se!==!1?tn():Lt()},De),xe=(at,se)=>{!R.value&&it(!0),!(se!=null&&se.isComposing)&&(at?tt():Lt())},Gt=at=>Number.parseFloat(hye(d.cssVarName("input-height"),at).value)-2,c=()=>{var at;(at=T.value)==null||at.focus()},xn=()=>{var at;(at=T.value)==null||at.blur()};return Zt(U,St),Zt([Oe,g,()=>i.collapseTags,()=>i.maxCollapseTags],ft),Zt(j,()=>{Vn(()=>qt())}),Zt(ee,async()=>{await Vn();const at=T.value.input;o=Gt(at)||o,qt()}),Zt(Xe,Te,{immediate:!0}),Zt(()=>R.value,at=>{var se;at&&i.props.lazy&&i.props.lazyLoad&&((se=P.value)==null||se.loadLazyRootNodes())}),zr(()=>{const at=T.value.input,se=Gt(at);o=at.offsetHeight||se,ma(at,qt)}),e({getCheckedNodes:Pt,cascaderPanelRef:P,togglePopperVisible:it,contentRef:rt,presentText:Xe,focus:c,blur:xn}),(at,se)=>(ge(),Tt(b(kp),{ref_key:"tooltipRef",ref:S,visible:R.value,teleported:at.teleported,"popper-class":[b(u).e("dropdown"),at.popperClass],"popper-style":at.popperStyle,"popper-options":r,"fallback-placements":at.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:at.placement,transition:`${b(u).namespace.value}-zoom-in-top`,effect:at.effect,pure:"",persistent:at.persistent,onHide:Lt},{default:ie(()=>[Dr((ge(),Fe("div",{ref_key:"wrapperRef",ref:Ge,class:Ce(ht.value),style:dr(te.value),onClick:se[8]||(se[8]=()=>it(me.value?void 0:!0)),onKeydown:Kt,onMouseenter:se[9]||(se[9]=w=>N.value=!0),onMouseleave:se[10]||(se[10]=w=>N.value=!1)},[V(b(ns),{ref_key:"inputRef",ref:T,modelValue:Y.value,"onUpdate:modelValue":se[1]||(se[1]=w=>Y.value=w),placeholder:K.value,readonly:me.value,disabled:b(g),"validate-event":!1,size:b(ee),class:Ce(Re.value),tabindex:ue.value&&at.filterable&&!b(g)?-1:void 0,onCompositionstart:b(_),onCompositionupdate:b(_),onCompositionend:b(_),onInput:xe},Rb({suffix:ie(()=>[Ke.value?(ge(),Tt(b(Bn),{key:"clear",class:Ce([b(d).e("icon"),"icon-circle-close"]),onClick:Cr($t,["stop"])},{default:ie(()=>[(ge(),Tt(ti(at.clearIcon)))]),_:1},8,["class"])):(ge(),Tt(b(Bn),{key:"arrow-down",class:Ce(ae.value),onClick:se[0]||(se[0]=Cr(w=>it(),["stop"]))},{default:ie(()=>[V(b(J1))]),_:1},8,["class"]))]),_:2},[at.$slots.prefix?{name:"prefix",fn:ie(()=>[Ot(at.$slots,"prefix")]),key:"0"}:void 0]),1032,["modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),ue.value?(ge(),Fe("div",{key:0,ref_key:"tagWrapper",ref:A,class:Ce([b(u).e("tags"),b(u).is("validate",!!Ze.value)])},[Ot(at.$slots,"tag",{data:j.value,deleteTag:sn},()=>[(ge(!0),Fe(Tn,null,li(W.value,w=>(ge(),Tt(b(kS),{key:w.key,type:at.tagType,size:de.value,effect:at.tagEffect,hit:w.hitState,closable:w.closable,"disable-transitions":"",onClose:k=>sn(w)},{default:ie(()=>[Ve("span",null,yn(w.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128))]),at.collapseTags&&j.value.length>at.maxCollapseTags?(ge(),Tt(b(kp),{key:0,ref_key:"tagTooltipRef",ref:C,disabled:R.value||!at.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom","popper-class":at.popperClass,"popper-style":at.popperStyle,effect:at.effect,persistent:at.persistent},{default:ie(()=>[V(b(kS),{closable:!1,size:de.value,type:at.tagType,effect:at.tagEffect,"disable-transitions":""},{default:ie(()=>[Ve("span",{class:Ce(b(u).e("tags-text"))}," + "+yn(j.value.length-at.maxCollapseTags),3)]),_:1},8,["size","type","effect"])]),content:ie(()=>[V(b(Pp),{"max-height":at.maxCollapseTagsTooltipHeight},{default:ie(()=>[Ve("div",{class:Ce(b(u).e("collapse-tags"))},[(ge(!0),Fe(Tn,null,li(F.value,(w,k)=>(ge(),Fe("div",{key:k,class:Ce(b(u).e("collapse-tag"))},[(ge(),Tt(b(kS),{key:w.key,class:"in-tooltip",type:at.tagType,size:de.value,effect:at.tagEffect,hit:w.hitState,closable:w.closable,"disable-transitions":"",onClose:z=>sn(w)},{default:ie(()=>[Ve("span",null,yn(w.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:1},8,["max-height"])]),_:1},8,["disabled","popper-class","popper-style","effect","persistent"])):gt("v-if",!0),at.filterable&&!b(g)?Dr((ge(),Fe("input",{key:1,"onUpdate:modelValue":se[2]||(se[2]=w=>H.value=w),type:"text",class:Ce(b(u).e("search-input")),placeholder:Xe.value?"":G.value,onInput:se[3]||(se[3]=w=>xe(H.value,w)),onClick:se[4]||(se[4]=Cr(w=>it(!0),["stop"])),onKeydown:ts(Ne,["delete"]),onCompositionstart:se[5]||(se[5]=(...w)=>b(_)&&b(_)(...w)),onCompositionupdate:se[6]||(se[6]=(...w)=>b(_)&&b(_)(...w)),onCompositionend:se[7]||(se[7]=(...w)=>b(_)&&b(_)(...w))},null,42,bwe)),[[Mq,H.value]]):gt("v-if",!0)],2)):gt("v-if",!0)],38)),[[b(zv),Ye,rt.value]])]),content:ie(()=>[at.$slots.header?(ge(),Fe("div",{key:0,class:Ce(b(u).e("header")),onClick:se[11]||(se[11]=Cr(()=>{},["stop"]))},[Ot(at.$slots,"header")],2)):gt("v-if",!0),Dr(V(b(fwe),{ref_key:"cascaderPanelRef",ref:P,modelValue:bt.value,"onUpdate:modelValue":se[12]||(se[12]=w=>bt.value=w),options:at.options,props:i.props,border:!1,"render-label":at.$slots.default,onExpandChange:Ct,onClose:se[13]||(se[13]=w=>at.$nextTick(()=>it(!1)))},{empty:ie(()=>[Ot(at.$slots,"empty")]),_:3},8,["modelValue","options","props","render-label"]),[[Ei,!U.value]]),at.filterable?Dr((ge(),Tt(b(Pp),{key:1,ref_key:"suggestionPanel",ref:D,tag:"ul",class:Ce(b(u).e("suggestion-panel")),"view-class":b(u).e("suggestion-list"),onKeydown:Nt},{default:ie(()=>[X.value.length?(ge(!0),Fe(Tn,{key:0},li(X.value,w=>(ge(),Fe("li",{key:w.uid,class:Ce([b(u).e("suggestion-item"),b(u).is("checked",w.checked)]),tabindex:-1,onClick:k=>vt(w)},[Ot(at.$slots,"suggestion-item",{item:w},()=>[Ve("span",null,yn(w.text),1),w.checked?(ge(),Tt(b(Bn),{key:0},{default:ie(()=>[V(b(RE))]),_:1})):gt("v-if",!0)])],10,xwe))),128)):Ot(at.$slots,"empty",{key:1},()=>[Ve("li",{class:Ce(b(u).e("empty-text"))},yn(b(f)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Ei,U.value]]):gt("v-if",!0),at.$slots.footer?(ge(),Fe("div",{key:2,class:Ce(b(u).e("footer")),onClick:se[14]||(se[14]=Cr(()=>{},["stop"]))},[Ot(at.$slots,"footer")],2)):gt("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-style","fallback-placements","placement","transition","effect","persistent"]))}});var Swe=Nn(wwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]);const Twe=_i(Swe),Cwe=On({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Dt([Number,Object]),default:()=>Aa({})},sm:{type:Dt([Number,Object]),default:()=>Aa({})},md:{type:Dt([Number,Object]),default:()=>Aa({})},lg:{type:Dt([Number,Object]),default:()=>Aa({})},xl:{type:Dt([Number,Object]),default:()=>Aa({})}}),tK=Symbol("rowContextKey"),Ewe=kt({name:"ElCol",__name:"col",props:Cwe,setup(t){const e=t,{gutter:n}=In(tK,{gutter:he(()=>0)}),r=gn("col"),i=he(()=>{const a={};return n.value&&(a.paddingLeft=a.paddingRight=`${n.value/2}px`),a}),s=he(()=>{const a=[];return["span","offset","pull","push"].forEach(u=>{const d=e[u];Lr(d)&&(u==="span"?a.push(r.b(`${e[u]}`)):d>0&&a.push(r.b(`${u}-${e[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{Lr(e[u])?a.push(r.b(`${u}-${e[u]}`)):fr(e[u])&&Object.entries(e[u]).forEach(([d,f])=>{a.push(d!=="span"?r.b(`${u}-${d}-${f}`):r.b(`${u}-${f}`))})}),n.value&&a.push(r.is("guttered")),[r.b(),a]});return(a,o)=>(ge(),Tt(ti(a.tag),{class:Ce(s.value),style:dr(i.value)},{default:ie(()=>[Ot(a.$slots,"default")]),_:3},8,["class","style"]))}});var Awe=Nn(Ewe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const nK=_i(Awe),Pwe=kt({name:"ElCollapseTransition",__name:"collapse-transition",setup(t){const e=gn("collapse-transition"),n=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},r={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){n(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){n(i)},leaveCancelled(i){n(i)}};return(i,s)=>(ge(),Tt($l,Fi({name:b(e).b()},mde(r)),{default:ie(()=>[Ot(i.$slots,"default")]),_:3},16,["name"]))}});var kwe=Nn(Pwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);const Dwe=_i(kwe),Zo={placement:"top"},Iwe=kt({name:"ElContainer",__name:"container",props:On({direction:{type:String,values:["horizontal","vertical"]}}),setup(t){const e=t,n=cl(),r=gn("container"),i=he(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(a=>{const o=a.type.name;return o==="ElHeader"||o==="ElFooter"}):!1);return(s,a)=>(ge(),Fe("section",{class:Ce([b(r).b(),b(r).is("vertical",i.value)])},[Ot(s.$slots,"default")],2))}});var Rwe=Nn(Iwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const Owe=kt({name:"ElAside",__name:"aside",props:{width:{type:String,default:null}},setup(t){const e=t,n=gn("aside"),r=he(()=>e.width?n.cssVarBlock({width:e.width}):{});return(i,s)=>(ge(),Fe("aside",{class:Ce(b(n).b()),style:dr(r.value)},[Ot(i.$slots,"default")],6))}});var rK=Nn(Owe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const Mwe=kt({name:"ElFooter",__name:"footer",props:{height:{type:String,default:null}},setup(t){const e=t,n=gn("footer"),r=he(()=>e.height?n.cssVarBlock({height:e.height}):{});return(i,s)=>(ge(),Fe("footer",{class:Ce(b(n).b()),style:dr(r.value)},[Ot(i.$slots,"default")],6))}});var iK=Nn(Mwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const Lwe=kt({name:"ElHeader",__name:"header",props:{height:{type:String,default:null}},setup(t){const e=t,n=gn("header"),r=he(()=>e.height?n.cssVarBlock({height:e.height}):{});return(i,s)=>(ge(),Fe("header",{class:Ce(b(n).b()),style:dr(r.value)},[Ot(i.$slots,"default")],6))}});var sK=Nn(Lwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const $we=kt({name:"ElMain",__name:"main",setup(t){const e=gn("main");return(n,r)=>(ge(),Fe("main",{class:Ce(b(e).b())},[Ot(n.$slots,"default")],2))}});var aK=Nn($we,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const Nwe=_i(Rwe,{Aside:rK,Footer:iK,Header:sK,Main:aK});Ya(rK);Ya(iK);Ya(sK);const Fwe=Ya(aK);var oK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Da,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,s=/\d\d/,a=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,l={},u=function(_){return(_=+_)+(_>68?1900:2e3)},d=function(_){return function(S){this[_]=+S}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(_){(this.zone||(this.zone={})).offset=function(S){if(!S||S==="Z")return 0;var C=S.match(/([+-]|\d\d)/g),T=60*C[1]+(+C[2]||0);return T===0?0:C[0]==="+"?-T:T}(_)}],h=function(_){var S=l[_];return S&&(S.indexOf?S:S.s.concat(S.f))},g=function(_,S){var C,T=l.meridiem;if(T){for(var A=1;A<=24;A+=1)if(_.indexOf(T(A,0,S))>-1){C=A>12;break}}else C=_===(S?"pm":"PM");return C},v={A:[o,function(_){this.afternoon=g(_,!1)}],a:[o,function(_){this.afternoon=g(_,!0)}],Q:[i,function(_){this.month=3*(_-1)+1}],S:[i,function(_){this.milliseconds=100*+_}],SS:[s,function(_){this.milliseconds=10*+_}],SSS:[/\d{3}/,function(_){this.milliseconds=+_}],s:[a,d("seconds")],ss:[a,d("seconds")],m:[a,d("minutes")],mm:[a,d("minutes")],H:[a,d("hours")],h:[a,d("hours")],HH:[a,d("hours")],hh:[a,d("hours")],D:[a,d("day")],DD:[s,d("day")],Do:[o,function(_){var S=l.ordinal,C=_.match(/\d+/);if(this.day=C[0],S)for(var T=1;T<=31;T+=1)S(T).replace(/\[|\]/g,"")===_&&(this.day=T)}],w:[a,d("week")],ww:[s,d("week")],M:[a,d("month")],MM:[s,d("month")],MMM:[o,function(_){var S=h("months"),C=(h("monthsShort")||S.map(function(T){return T.slice(0,3)})).indexOf(_)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[o,function(_){var S=h("months").indexOf(_)+1;if(S<1)throw new Error;this.month=S%12||S}],Y:[/[+-]?\d+/,d("year")],YY:[s,function(_){this.year=u(_)}],YYYY:[/\d{4}/,d("year")],Z:f,ZZ:f};function p(_){var S,C;S=_,C=l&&l.formats;for(var T=(_=S.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Y,H,j){var X=j&&j.toUpperCase();return H||C[j]||n[j]||C[X].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(W,F,te){return F||te.slice(1)})})).match(r),A=T.length,P=0;P<A;P+=1){var D=T[P],R=v[D],N=R&&R[0],U=R&&R[1];T[P]=U?{regex:N,parser:U}:D.replace(/^\[|\]$/g,"")}return function(Y){for(var H={},j=0,X=0;j<A;j+=1){var W=T[j];if(typeof W=="string")X+=W.length;else{var F=W.regex,te=W.parser,G=Y.slice(X),K=F.exec(G)[0];te.call(H,K),Y=Y.replace(K,"")}}return function(ee){var de=ee.afternoon;if(de!==void 0){var ue=ee.hours;de?ue<12&&(ee.hours+=12):ue===12&&(ee.hours=0),delete ee.afternoon}}(H),H}}return function(_,S,C){C.p.customParseFormat=!0,_&&_.parseTwoDigitYear&&(u=_.parseTwoDigitYear);var T=S.prototype,A=T.parse;T.parse=function(P){var D=P.date,R=P.utc,N=P.args;this.$u=R;var U=N[1];if(typeof U=="string"){var Y=N[2]===!0,H=N[3]===!0,j=Y||H,X=N[2];H&&(X=N[2]),l=this.$locale(),!Y&&X&&(l=C.Ls[X]),this.$d=function(G,K,ee,de){try{if(["x","X"].indexOf(K)>-1)return new Date((K==="X"?1e3:1)*G);var ue=p(K)(G),me=ue.year,Ee=ue.month,Oe=ue.day,Ge=ue.hours,$e=ue.minutes,Ie=ue.seconds,Ke=ue.milliseconds,Xe=ue.zone,Ze=ue.week,bt=new Date,ht=Oe||(me||Ee?1:bt.getDate()),ae=me||bt.getFullYear(),Re=0;me&&!Ee||(Re=Ee>0?Ee-1:bt.getMonth());var rt,Ye=Ge||0,it=$e||0,St=Ie||0,Lt=Ke||0;return Xe?new Date(Date.UTC(ae,Re,ht,Ye,it,St,Lt+60*Xe.offset*1e3)):ee?new Date(Date.UTC(ae,Re,ht,Ye,it,St,Lt)):(rt=new Date(ae,Re,ht,Ye,it,St,Lt),Ze&&(rt=de(rt).week(Ze).toDate()),rt)}catch{return new Date("")}}(D,U,R,C),this.init(),X&&X!==!0&&(this.$L=this.locale(X).$L),j&&D!=this.format(U)&&(this.$d=new Date("")),l={}}else if(U instanceof Array)for(var W=U.length,F=1;F<=W;F+=1){N[1]=U[F-1];var te=C.apply(this,N);if(te.isValid()){this.$d=te.$d,this.$L=te.$L,this.init();break}F===W&&(this.$d=new Date(""))}else A.call(this,P)}}})})(oK);var Bwe=oK.exports;const Uwe=Ra(Bwe),yB=["hours","minutes","seconds"],Md="EP_PICKER_BASE",lK="ElPopperOptions",uK=Symbol("commonPickerContextKey"),Gb="HH:mm:ss",Jh="YYYY-MM-DD",Vwe={date:Jh,dates:Jh,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${Jh} ${Gb}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:Jh,datetimerange:`${Jh} ${Gb}`},cK=(t,e)=>{const{lang:n}=mi(),r=ye(!1),i=ye(!1),s=ye(null),a=he(()=>{const{modelValue:v}=t;return!v||nn(v)&&!v.filter(Boolean).length}),o=v=>{if(!FY(t.modelValue,v)){let p;nn(v)?p=v.map(S=>fB(S,t.valueFormat,n.value)):v&&(p=fB(v,t.valueFormat,n.value)),e(Ti,v&&p,n.value)}},l=he(()=>{var v;let p;if(a.value?u.value.getDefaultValue&&(p=u.value.getDefaultValue()):nn(t.modelValue)?p=t.modelValue.map(_=>dB(_,t.valueFormat,n.value)):p=dB((v=t.modelValue)!=null?v:"",t.valueFormat,n.value),u.value.getRangeAvailableTime){const _=u.value.getRangeAvailableTime(p);na(_,p)||(p=_,a.value||o(AS(p)))}return nn(p)&&p.some(_=>!_)&&(p=[]),p}),u=ye({});return{parsedValue:l,pickerActualVisible:i,pickerOptions:u,pickerVisible:r,userInput:s,valueIsEmpty:a,emitInput:o,onCalendarChange:v=>{e("calendar-change",v)},onPanelChange:(v,p,_)=>{e("panel-change",v,p,_)},onPick:(v="",p=!1)=>{r.value=p;let _;nn(v)?_=v.map(S=>S.toDate()):_=v&&v.toDate(),s.value=null,o(_)},onSetPickerOption:v=>{u.value[v[0]]=v[1],u.value.panelReady=!0}}},t8=On({disabledHours:{type:Dt(Function)},disabledMinutes:{type:Dt(Function)},disabledSeconds:{type:Dt(Function)}}),zwe=On({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),dK=On({automaticDropdown:{type:Boolean,default:!0},id:{type:Dt([Array,String])},name:{type:Dt([Array,String])},popperClass:Cd.popperClass,popperStyle:Cd.popperStyle,format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Dt([String,Object]),default:$y},editable:{type:Boolean,default:!0},prefixIcon:{type:Dt([String,Object]),default:""},size:Ic,readonly:Boolean,disabled:{type:Boolean,default:void 0},placeholder:{type:String,default:""},popperOptions:{type:Dt(Object),default:()=>({})},modelValue:{type:Dt([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Dt([Date,Array])},defaultTime:{type:Dt([Date,Array])},isRange:Boolean,...t8,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:Dt([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:Dt(String),values:Fy,default:"bottom"},fallbackPlacements:{type:Dt(Array),default:["bottom","top","right","left"]},...DM,...Yf(["ariaLabel"]),showNow:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean}),Hwe=On({id:{type:Dt(Array)},name:{type:Dt(Array)},modelValue:{type:Dt([Array,String])},startPlaceholder:String,endPlaceholder:String,disabled:Boolean}),jwe=["id","name","placeholder","value","disabled"],Gwe=["id","name","placeholder","value","disabled"],Wwe=kt({name:"PickerRangeTrigger",inheritAttrs:!1,__name:"picker-range-trigger",props:Hwe,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(t,{expose:e,emit:n}){const r=t,i=n,{formItem:s}=Rc(),{inputId:a}=Ny(lr({id:he(()=>{var N;return(N=r.id)==null?void 0:N[0]})}),{formItemContext:s}),o=$M(),l=gn("date"),u=gn("range"),d=ye(),f=ye(),{wrapperRef:h,isFocused:g}=tx(d,{disabled:he(()=>r.disabled)}),v=N=>{i("click",N)},p=N=>{i("mouseenter",N)},_=N=>{i("mouseleave",N)},S=N=>{i("touchstart",N)},C=N=>{i("startInput",N)},T=N=>{i("endInput",N)},A=N=>{i("startChange",N)},P=N=>{i("endChange",N)};return e({focus:()=>{var N;(N=d.value)==null||N.focus()},blur:()=>{var N,U;(N=d.value)==null||N.blur(),(U=f.value)==null||U.blur()}}),(N,U)=>(ge(),Fe("div",{ref_key:"wrapperRef",ref:h,class:Ce([b(l).is("active",b(g)),N.$attrs.class]),style:dr(N.$attrs.style),onClick:v,onMouseenter:p,onMouseleave:_,onTouchstartPassive:S},[Ot(N.$slots,"prefix"),Ve("input",Fi(b(o),{id:b(a),ref_key:"inputRef",ref:d,name:N.name&&N.name[0],placeholder:N.startPlaceholder,value:N.modelValue&&N.modelValue[0],class:b(u).b("input"),disabled:N.disabled,onInput:C,onChange:A}),null,16,jwe),Ot(N.$slots,"range-separator"),Ve("input",Fi(b(o),{id:N.id&&N.id[1],ref_key:"endInputRef",ref:f,name:N.name&&N.name[1],placeholder:N.endPlaceholder,value:N.modelValue&&N.modelValue[1],class:b(u).b("input"),disabled:N.disabled,onInput:T,onChange:P}),null,16,Gwe),Ot(N.$slots,"suffix")],38))}});var qwe=Nn(Wwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker-range-trigger.vue"]]);const Xwe=kt({name:"Picker",__name:"picker",props:dK,emits:[Ti,bs,"focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=Dy(),a=gn("date"),o=gn("input"),l=gn("range"),{formItem:u}=Rc(),d=In(lK,{}),f=IM(r,null),h=ye(),g=ye(),v=ye(null);let p=!1;const _=uo(),S=cK(r,i),{parsedValue:C,pickerActualVisible:T,userInput:A,pickerVisible:P,pickerOptions:D,valueIsEmpty:R,emitInput:N,onPick:U,onSetPickerOption:Y,onCalendarChange:H,onPanelChange:j}=S,{isFocused:X,handleFocus:W,handleBlur:F}=tx(g,{disabled:_,beforeFocus(){return r.readonly},afterFocus(){r.automaticDropdown&&(P.value=!0)},beforeBlur(xe){var Gt;return!p&&((Gt=h.value)==null?void 0:Gt.isFocusInsideContent(xe))},afterBlur(){_n(),P.value=!1,p=!1,r.validateEvent&&(u==null||u.validate("blur").catch(xe=>void 0))}}),te=ye(!1),G=he(()=>[a.b("editor"),a.bm("editor",r.type),o.e("wrapper"),a.is("disabled",_.value),a.is("active",P.value),l.b("editor"),zt?l.bm("editor",zt.value):"",s.class]),K=he(()=>[o.e("icon"),l.e("close-icon"),rt.value?"":l.em("close-icon","hidden")]);Zt(P,xe=>{xe?Vn(()=>{xe&&(v.value=r.modelValue)}):(A.value=null,Vn(()=>{ee(r.modelValue)}))});const ee=(xe,Gt)=>{(Gt||!FY(xe,v.value))&&(i(bs,xe),Gt&&(v.value=xe),r.validateEvent&&(u==null||u.validate("change").catch(c=>void 0)))},de=xe=>{i("keydown",xe)},ue=he(()=>g.value?Array.from(g.value.$el.querySelectorAll("input")):[]),me=(xe,Gt,c)=>{const xn=ue.value;xn.length&&(!c||c==="min"?(xn[0].setSelectionRange(xe,Gt),xn[0].focus()):c==="max"&&(xn[1].setSelectionRange(xe,Gt),xn[1].focus()))},Ee=()=>{T.value=!0},Oe=()=>{i("visible-change",!0)},Ge=()=>{T.value=!1,P.value=!1,i("visible-change",!1)},$e=()=>{P.value=!0},Ie=()=>{P.value=!1},Ke=he(()=>{const xe=Pt(C.value);return nn(A.value)?[A.value[0]||xe&&xe[0]||"",A.value[1]||xe&&xe[1]||""]:A.value!==null?A.value:!Ze.value&&R.value||!P.value&&R.value?"":xe?bt.value||ht.value||ae.value?xe.join(", "):xe:""}),Xe=he(()=>r.type.includes("time")),Ze=he(()=>r.type.startsWith("time")),bt=he(()=>r.type==="dates"),ht=he(()=>r.type==="months"),ae=he(()=>r.type==="years"),Re=he(()=>r.prefixIcon||(Xe.value?Jye:Gye)),rt=he(()=>r.clearable&&!_.value&&!r.readonly&&!R.value&&(te.value||X.value)),Ye=xe=>{r.readonly||_.value||(rt.value&&(xe.stopPropagation(),D.value.handleClear?D.value.handleClear():N(f.valueOnClear.value),ee(f.valueOnClear.value,!0),Ge()),i("clear"))},it=async xe=>{var Gt;r.readonly||_.value||(((Gt=xe.target)==null?void 0:Gt.tagName)!=="INPUT"||X.value||!r.automaticDropdown)&&(P.value=!0)},St=()=>{r.readonly||_.value||!R.value&&r.clearable&&(te.value=!0)},Lt=()=>{te.value=!1},xt=xe=>{var Gt;r.readonly||_.value||(((Gt=xe.touches[0].target)==null?void 0:Gt.tagName)!=="INPUT"||X.value||!r.automaticDropdown)&&(P.value=!0)},sn=he(()=>r.type.includes("range")),zt=Hu(),ft=he(()=>{var xe,Gt;return(Gt=(xe=b(h))==null?void 0:xe.popperRef)==null?void 0:Gt.contentRef}),tn=IX(g,xe=>{const Gt=b(ft),c=ra(g);Gt&&(xe.target===Gt||xe.composedPath().includes(Gt))||xe.target===c||c&&xe.composedPath().includes(c)||(P.value=!1)});Ri(()=>{tn==null||tn()});const _n=()=>{if(A.value){const xe=qt(Ke.value);xe&&(Ct(xe)&&N(AS(xe)),A.value=null)}A.value===""&&(N(f.valueOnClear.value),ee(f.valueOnClear.value,!0),A.value=null)},qt=xe=>xe?D.value.parseUserInput(xe):null,Pt=xe=>xe?nn(xe)?xe.map(c=>c.format(r.format)):xe.format(r.format):null,Ct=xe=>D.value.isValidValue(xe),Kt=async xe=>{if(r.readonly||_.value)return;const Gt=oa(xe);if(de(xe),Gt===Pn.esc){P.value===!0&&(P.value=!1,xe.preventDefault(),xe.stopPropagation());return}if(Gt===Pn.down&&(D.value.handleFocusPicker&&(xe.preventDefault(),xe.stopPropagation()),P.value===!1&&(P.value=!0,await Vn()),D.value.handleFocusPicker)){D.value.handleFocusPicker();return}if(Gt===Pn.tab){p=!0;return}if(Gt===Pn.enter||Gt===Pn.numpadEnter){P.value?(A.value===null||A.value===""||Ct(qt(Ke.value)))&&(_n(),P.value=!1):P.value=!0,xe.preventDefault(),xe.stopPropagation();return}if(A.value){xe.stopPropagation();return}D.value.handleKeydownInput&&D.value.handleKeydownInput(xe)},$t=xe=>{A.value=xe,P.value||(P.value=!0)},Te=xe=>{const Gt=xe.target;A.value?A.value=[Gt.value,A.value[1]]:A.value=[Gt.value,null]},vt=xe=>{const Gt=xe.target;A.value?A.value=[A.value[0],Gt.value]:A.value=[null,Gt.value]},Nt=()=>{var xe;const Gt=A.value,c=qt(Gt&&Gt[0]),xn=b(C);if(c&&c.isValid()){A.value=[Pt(c),((xe=Ke.value)==null?void 0:xe[1])||null];const at=[c,xn&&(xn[1]||null)];Ct(at)&&(N(AS(at)),A.value=null)}},Ne=()=>{var xe;const Gt=b(A),c=qt(Gt&&Gt[1]),xn=b(C);if(c&&c.isValid()){A.value=[((xe=b(Ke))==null?void 0:xe[0])||null,Pt(c)];const at=[xn&&xn[0],c];Ct(at)&&(N(AS(at)),A.value=null)}},De=()=>{var xe;(xe=g.value)==null||xe.focus()},tt=()=>{var xe;(xe=g.value)==null||xe.blur()};return pi(Md,{props:r,emptyValues:f}),pi(uK,S),e({focus:De,blur:tt,handleOpen:$e,handleClose:Ie,onPick:U}),(xe,Gt)=>(ge(),Tt(b(kp),Fi({ref_key:"refPopper",ref:h,visible:b(P),effect:"light",pure:"",trigger:"click"},xe.$attrs,{role:"dialog",teleported:"",transition:`${b(a).namespace.value}-zoom-in-top`,"popper-class":[`${b(a).namespace.value}-picker__popper`,xe.popperClass],"popper-style":xe.popperStyle,"popper-options":b(d),"fallback-placements":xe.fallbackPlacements,"gpu-acceleration":!1,placement:xe.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:Ee,onShow:Oe,onHide:Ge}),{default:ie(()=>[sn.value?(ge(),Tt(qwe,{key:1,id:xe.id,ref_key:"inputRef",ref:g,"model-value":Ke.value,name:xe.name,disabled:b(_),readonly:!xe.editable||xe.readonly,"start-placeholder":xe.startPlaceholder,"end-placeholder":xe.endPlaceholder,class:Ce(G.value),style:dr(xe.$attrs.style),"aria-label":xe.ariaLabel,tabindex:xe.tabindex,autocomplete:"off",role:"combobox",onClick:it,onFocus:b(W),onBlur:b(F),onStartInput:Te,onStartChange:Nt,onEndInput:vt,onEndChange:Ne,onMousedown:it,onMouseenter:St,onMouseleave:Lt,onTouchstartPassive:xt,onKeydown:Kt},{prefix:ie(()=>[Re.value?(ge(),Tt(b(Bn),{key:0,class:Ce([b(o).e("icon"),b(l).e("icon")])},{default:ie(()=>[(ge(),Tt(ti(Re.value)))]),_:1},8,["class"])):gt("v-if",!0)]),"range-separator":ie(()=>[Ot(xe.$slots,"range-separator",{},()=>[Ve("span",{class:Ce(b(l).b("separator"))},yn(xe.rangeSeparator),3)])]),suffix:ie(()=>[xe.clearIcon?(ge(),Tt(b(Bn),{key:0,class:Ce(K.value),onMousedown:Cr(b(Zr),["prevent"]),onClick:Ye},{default:ie(()=>[(ge(),Tt(ti(xe.clearIcon)))]),_:1},8,["class","onMousedown"])):gt("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(ge(),Tt(b(ns),{key:0,id:xe.id,ref_key:"inputRef",ref:g,"container-role":"combobox","model-value":Ke.value,name:xe.name,size:b(zt),disabled:b(_),placeholder:xe.placeholder,class:Ce([b(a).b("editor"),b(a).bm("editor",xe.type),b(a).is("focus",b(P)),xe.$attrs.class]),style:dr(xe.$attrs.style),readonly:!xe.editable||xe.readonly||bt.value||ht.value||ae.value||xe.type==="week","aria-label":xe.ariaLabel,tabindex:xe.tabindex,"validate-event":!1,onInput:$t,onFocus:b(W),onBlur:b(F),onKeydown:Kt,onChange:_n,onMousedown:it,onMouseenter:St,onMouseleave:Lt,onTouchstartPassive:xt,onClick:Gt[0]||(Gt[0]=Cr(()=>{},["stop"]))},{prefix:ie(()=>[Re.value?(ge(),Tt(b(Bn),{key:0,class:Ce(b(o).e("icon")),onMousedown:Cr(it,["prevent"]),onTouchstartPassive:xt},{default:ie(()=>[(ge(),Tt(ti(Re.value)))]),_:1},8,["class"])):gt("v-if",!0)]),suffix:ie(()=>[rt.value&&xe.clearIcon?(ge(),Tt(b(Bn),{key:0,class:Ce(`${b(o).e("icon")} clear-icon`),onMousedown:Cr(b(Zr),["prevent"]),onClick:Ye},{default:ie(()=>[(ge(),Tt(ti(xe.clearIcon)))]),_:1},8,["class","onMousedown"])):gt("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur"]))]),content:ie(()=>[Ot(xe.$slots,"default",{visible:b(P),actualVisible:b(T),parsedValue:b(C),format:xe.format,dateFormat:xe.dateFormat,timeFormat:xe.timeFormat,unlinkPanels:xe.unlinkPanels,type:xe.type,defaultValue:xe.defaultValue,showNow:xe.showNow,showConfirm:xe.showConfirm,showFooter:xe.showFooter,showWeekNumber:xe.showWeekNumber,onPick:Gt[1]||(Gt[1]=(...c)=>b(U)&&b(U)(...c)),onSelectRange:me,onSetPickerOption:Gt[2]||(Gt[2]=(...c)=>b(Y)&&b(Y)(...c)),onCalendarChange:Gt[3]||(Gt[3]=(...c)=>b(H)&&b(H)(...c)),onPanelChange:Gt[4]||(Gt[4]=(...c)=>b(j)&&b(j)(...c)),onMousedown:Gt[5]||(Gt[5]=Cr(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-style","popper-options","fallback-placements","placement"]))}});var Ywe=Nn(Xwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Kwe=On({...zwe,datetimeRole:String,parsedValue:{type:Dt(Object)}}),Zwe=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const r=(a,o,l,u)=>{const d={hour:t,minute:e,second:n};let f=a;return["hour","minute","second"].forEach(h=>{if(d[h]){let g;const v=d[h];switch(h){case"minute":{g=v(f.hour(),o,u);break}case"second":{g=v(f.hour(),f.minute(),o,u);break}default:{g=v(o,u);break}}if(g!=null&&g.length&&!g.includes(f[h]())){const p=l?0:g.length-1;f=f[h](g[p])}}}),f},i={};return{timePickerOptions:i,getAvailableTime:r,onSetOption:([a,o])=>{i[a]=o}}},z3=t=>{const e=(r,i)=>r||i,n=r=>r!==!0;return t.map(e).filter(n)},fK=(t,e,n)=>({getHoursList:(a,o)=>V3(24,t&&(()=>t==null?void 0:t(a,o))),getMinutesList:(a,o,l)=>V3(60,e&&(()=>e==null?void 0:e(a,o,l))),getSecondsList:(a,o,l,u)=>V3(60,n&&(()=>n==null?void 0:n(a,o,l,u)))}),Qwe=(t,e,n)=>{const{getHoursList:r,getMinutesList:i,getSecondsList:s}=fK(t,e,n);return{getAvailableHours:(u,d)=>z3(r(u,d)),getAvailableMinutes:(u,d,f)=>z3(i(u,d,f)),getAvailableSeconds:(u,d,f,h)=>z3(s(u,d,f,h))}},Jwe=t=>{const e=ye(t.parsedValue);return Zt(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},eSe=On({role:{type:String,required:!0},spinnerDate:{type:Dt(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Dt(String),default:""},...t8}),tSe=100,nSe=600,rw="_RepeatClick",_B={beforeMount(t,e){const n=e.value,{interval:r=tSe,delay:i=nSe}=kn(n)?{}:n;let s,a;const o=()=>kn(n)?n():n.handler(),l=()=>{a&&(clearTimeout(a),a=void 0),s&&(clearInterval(s),s=void 0)},u=d=>{d.button===0&&(l(),o(),document.addEventListener("mouseup",l,{once:!0}),a=setTimeout(()=>{s=setInterval(()=>{o()},r)},i))};t[rw]={start:u,clear:l},t.addEventListener("mousedown",u)},unmounted(t){if(!t[rw])return;const{start:e,clear:n}=t[rw];e&&t.removeEventListener("mousedown",e),n&&(n(),document.removeEventListener("mouseup",n)),t[rw]=null}},rSe=["onClick"],iSe=["onMouseenter"],sSe=kt({__name:"basic-time-spinner",props:eSe,emits:[bs,"select-range","set-option"],setup(t,{emit:e}){const n=t,r=In(Md),{isRange:i,format:s}=r.props,a=e,o=gn("time"),{getHoursList:l,getMinutesList:u,getSecondsList:d}=fK(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let f=!1;const h=ye(),g=ye(),v=ye(),p=ye(),_={hours:g,minutes:v,seconds:p},S=he(()=>n.showSeconds?yB:yB.slice(0,2)),C=he(()=>{const{spinnerDate:Ee}=n,Oe=Ee.hour(),Ge=Ee.minute(),$e=Ee.second();return{hours:Oe,minutes:Ge,seconds:$e}}),T=he(()=>{const{hours:Ee,minutes:Oe}=b(C),{role:Ge,spinnerDate:$e}=n,Ie=i?void 0:$e;return{hours:l(Ge,Ie),minutes:u(Ee,Ge,Ie),seconds:d(Ee,Oe,Ge,Ie)}}),A=he(()=>{const{hours:Ee,minutes:Oe,seconds:Ge}=b(C);return{hours:U3(Ee,23),minutes:U3(Oe,59),seconds:U3(Ge,59)}}),P=Mv(Ee=>{f=!1,N(Ee)},200),D=Ee=>{if(!!!n.amPmMode)return"";const Ge=n.amPmMode==="A";let $e=Ee<12?" am":" pm";return Ge&&($e=$e.toUpperCase()),$e},R=Ee=>{let Oe=[0,0];const Ge=s||Gb,$e=Ge.indexOf("HH"),Ie=Ge.indexOf("mm"),Ke=Ge.indexOf("ss");switch(Ee){case"hours":$e!==-1&&(Oe=[$e,$e+2]);break;case"minutes":Ie!==-1&&(Oe=[Ie,Ie+2]);break;case"seconds":Ke!==-1&&(Oe=[Ke,Ke+2]);break}const[Xe,Ze]=Oe;a("select-range",Xe,Ze),h.value=Ee},N=Ee=>{H(Ee,b(C)[Ee])},U=()=>{N("hours"),N("minutes"),N("seconds")},Y=Ee=>Ee.querySelector(`.${o.namespace.value}-scrollbar__wrap`),H=(Ee,Oe)=>{if(n.arrowControl)return;const Ge=b(_[Ee]);Ge&&Ge.$el&&(Y(Ge.$el).scrollTop=Math.max(0,Oe*j(Ee)))},j=Ee=>{const Oe=b(_[Ee]),Ge=Oe==null?void 0:Oe.$el.querySelector("li");return Ge&&Number.parseFloat(Qh(Ge,"height"))||0},X=()=>{F(1)},W=()=>{F(-1)},F=Ee=>{h.value||R("hours");const Oe=h.value,Ge=b(C)[Oe],$e=h.value==="hours"?24:60,Ie=te(Oe,Ge,Ee,$e);G(Oe,Ie),H(Oe,Ie),Vn(()=>R(Oe))},te=(Ee,Oe,Ge,$e)=>{let Ie=(Oe+Ge+$e)%$e;const Ke=b(T)[Ee];for(;Ke[Ie]&&Ie!==Oe;)Ie=(Ie+Ge+$e)%$e;return Ie},G=(Ee,Oe)=>{if(b(T)[Ee][Oe])return;const{hours:Ie,minutes:Ke,seconds:Xe}=b(C);let Ze;switch(Ee){case"hours":Ze=n.spinnerDate.hour(Oe).minute(Ke).second(Xe);break;case"minutes":Ze=n.spinnerDate.hour(Ie).minute(Oe).second(Xe);break;case"seconds":Ze=n.spinnerDate.hour(Ie).minute(Ke).second(Oe);break}a(bs,Ze)},K=(Ee,{value:Oe,disabled:Ge})=>{Ge||(G(Ee,Oe),R(Ee),H(Ee,Oe))},ee=Ee=>{const Oe=b(_[Ee]);if(!Oe)return;f=!0,P(Ee);const Ge=Math.min(Math.round((Y(Oe.$el).scrollTop-(de(Ee)*.5-10)/j(Ee)+3)/j(Ee)),Ee==="hours"?23:59);G(Ee,Ge)},de=Ee=>b(_[Ee]).$el.offsetHeight,ue=()=>{const Ee=Oe=>{const Ge=b(_[Oe]);Ge&&Ge.$el&&(Y(Ge.$el).onscroll=()=>{ee(Oe)})};Ee("hours"),Ee("minutes"),Ee("seconds")};zr(()=>{Vn(()=>{!n.arrowControl&&ue(),U(),n.role==="start"&&R("hours")})});const me=(Ee,Oe)=>{_[Oe].value=Ee??void 0};return a("set-option",[`${n.role}_scrollDown`,F]),a("set-option",[`${n.role}_emitSelectRange`,R]),Zt(()=>n.spinnerDate,()=>{f||U()}),(Ee,Oe)=>(ge(),Fe("div",{class:Ce([b(o).b("spinner"),{"has-seconds":Ee.showSeconds}])},[Ee.arrowControl?gt("v-if",!0):(ge(!0),Fe(Tn,{key:0},li(S.value,Ge=>(ge(),Tt(b(Pp),{key:Ge,ref_for:!0,ref:$e=>me($e,Ge),class:Ce(b(o).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":b(o).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:$e=>R(Ge),onMousemove:$e=>N(Ge)},{default:ie(()=>[(ge(!0),Fe(Tn,null,li(T.value[Ge],($e,Ie)=>(ge(),Fe("li",{key:Ie,class:Ce([b(o).be("spinner","item"),b(o).is("active",Ie===C.value[Ge]),b(o).is("disabled",$e)]),onClick:Ke=>K(Ge,{value:Ie,disabled:$e})},[Ge==="hours"?(ge(),Fe(Tn,{key:0},[Rt(yn(("0"+(Ee.amPmMode?Ie%12||12:Ie)).slice(-2))+yn(D(Ie)),1)],64)):(ge(),Fe(Tn,{key:1},[Rt(yn(("0"+Ie).slice(-2)),1)],64))],10,rSe))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),Ee.arrowControl?(ge(!0),Fe(Tn,{key:1},li(S.value,Ge=>(ge(),Fe("div",{key:Ge,class:Ce([b(o).be("spinner","wrapper"),b(o).is("arrow")]),onMouseenter:$e=>R(Ge)},[Dr((ge(),Tt(b(Bn),{class:Ce(["arrow-up",b(o).be("spinner","arrow")])},{default:ie(()=>[V(b(WX))]),_:1},8,["class"])),[[b(_B),W]]),Dr((ge(),Tt(b(Bn),{class:Ce(["arrow-down",b(o).be("spinner","arrow")])},{default:ie(()=>[V(b(J1))]),_:1},8,["class"])),[[b(_B),X]]),Ve("ul",{class:Ce(b(o).be("spinner","list"))},[(ge(!0),Fe(Tn,null,li(A.value[Ge],($e,Ie)=>(ge(),Fe("li",{key:Ie,class:Ce([b(o).be("spinner","item"),b(o).is("active",$e===C.value[Ge]),b(o).is("disabled",T.value[Ge][$e])])},[b(Lr)($e)?(ge(),Fe(Tn,{key:0},[Ge==="hours"?(ge(),Fe(Tn,{key:0},[Rt(yn(("0"+(Ee.amPmMode?$e%12||12:$e)).slice(-2))+yn(D($e)),1)],64)):(ge(),Fe(Tn,{key:1},[Rt(yn(("0"+$e).slice(-2)),1)],64))],64)):gt("v-if",!0)],2))),128))],2)],42,iSe))),128)):gt("v-if",!0)],2))}});var aSe=Nn(sSe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const oSe=kt({__name:"panel-time-pick",props:Kwe,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=e,i=In(Md),{arrowControl:s,disabledHours:a,disabledMinutes:o,disabledSeconds:l,defaultValue:u}=i.props,{getAvailableHours:d,getAvailableMinutes:f,getAvailableSeconds:h}=Qwe(a,o,l),g=gn("time"),{t:v,lang:p}=mi(),_=ye([0,2]),S=Jwe(n),C=he(()=>Ni(n.actualVisible)?`${g.namespace.value}-zoom-in-top`:""),T=he(()=>n.format.includes("ss")),A=he(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),P=K=>{const ee=Wn(K).locale(p.value),de=F(ee);return ee.isSame(de)},D=()=>{const K=S.value;r("pick",K,!1),Vn(()=>{S.value=K})},R=(K=!1,ee=!1)=>{ee||r("pick",n.parsedValue,K)},N=K=>{if(!n.visible)return;const ee=F(K).millisecond(0);r("pick",ee,!0)},U=(K,ee)=>{r("select-range",K,ee),_.value=[K,ee]},Y=K=>{const ee=n.format,de=ee.indexOf("HH"),ue=ee.indexOf("mm"),me=ee.indexOf("ss"),Ee=[],Oe=[];de!==-1&&(Ee.push(de),Oe.push("hours")),ue!==-1&&(Ee.push(ue),Oe.push("minutes")),me!==-1&&T.value&&(Ee.push(me),Oe.push("seconds"));const $e=(Ee.indexOf(_.value[0])+K+Ee.length)%Ee.length;j.start_emitSelectRange(Oe[$e])},H=K=>{const ee=oa(K),{left:de,right:ue,up:me,down:Ee}=Pn;if([de,ue].includes(ee)){Y(ee===de?-1:1),K.preventDefault();return}if([me,Ee].includes(ee)){const Oe=ee===me?-1:1;j.start_scrollDown(Oe),K.preventDefault();return}},{timePickerOptions:j,onSetOption:X,getAvailableTime:W}=Zwe({getAvailableHours:d,getAvailableMinutes:f,getAvailableSeconds:h}),F=K=>W(K,n.datetimeRole||"",!0),te=K=>K?Wn(K,n.format).locale(p.value):null,G=()=>Wn(u).locale(p.value);return r("set-picker-option",["isValidValue",P]),r("set-picker-option",["parseUserInput",te]),r("set-picker-option",["handleKeydownInput",H]),r("set-picker-option",["getRangeAvailableTime",F]),r("set-picker-option",["getDefaultValue",G]),(K,ee)=>(ge(),Tt($l,{name:C.value},{default:ie(()=>[K.actualVisible||K.visible?(ge(),Fe("div",{key:0,class:Ce(b(g).b("panel"))},[Ve("div",{class:Ce([b(g).be("panel","content"),{"has-seconds":T.value}])},[V(aSe,{ref:"spinner",role:K.datetimeRole||"start","arrow-control":b(s),"show-seconds":T.value,"am-pm-mode":A.value,"spinner-date":K.parsedValue,"disabled-hours":b(a),"disabled-minutes":b(o),"disabled-seconds":b(l),onChange:N,onSetOption:b(X),onSelectRange:U},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Ve("div",{class:Ce(b(g).be("panel","footer"))},[Ve("button",{type:"button",class:Ce([b(g).be("panel","btn"),"cancel"]),onClick:D},yn(b(v)("el.datepicker.cancel")),3),Ve("button",{type:"button",class:Ce([b(g).be("panel","btn"),"confirm"]),onClick:ee[0]||(ee[0]=de=>R())},yn(b(v)("el.datepicker.confirm")),3)],2)],2)):gt("v-if",!0)]),_:1},8,["name"]))}});var mD=Nn(oSe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),hK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Da,function(){return function(n,r){var i=r.prototype,s=i.format;i.format=function(a){var o=this,l=this.$locale();if(!this.isValid())return s.bind(this)(a);var u=this.$utils(),d=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return u.s(o.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(o.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(o.$H===0?24:o.$H),f==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return f}});return s.bind(this)(d)}}})})(hK);var lSe=hK.exports;const uSe=Ra(lSe);var pK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Da,function(){var n="week",r="year";return function(i,s,a){var o=s.prototype;o.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var d=a(this).startOf(r).add(1,r).date(u),f=a(this).endOf(n);if(d.isBefore(f))return 1}var h=a(this).startOf(r).date(u).startOf(n).subtract(1,"millisecond"),g=this.diff(h,n,!0);return g<0?a(this).startOf("week").week():Math.ceil(g)},o.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(pK);var cSe=pK.exports;const dSe=Ra(cSe);var mK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Da,function(){return function(n,r){r.prototype.weekYear=function(){var i=this.month(),s=this.week(),a=this.year();return s===1&&i===11?a+1:i===0&&s>=52?a-1:a}}})})(mK);var fSe=mK.exports;const hSe=Ra(fSe);var gK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Da,function(){return function(n,r,i){r.prototype.dayOfYear=function(s){var a=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return s==null?a:this.add(s-a,"day")}}})})(gK);var pSe=gK.exports;const mSe=Ra(pSe);var vK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Da,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(vK);var gSe=vK.exports;const vSe=Ra(gSe);var yK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Da,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(yK);var ySe=yK.exports;const _Se=Ra(ySe),bSe=On({valueFormat:String,dateFormat:String,timeFormat:String,disabled:{type:Boolean,default:void 0},modelValue:{type:Dt([Date,Array,String,Number]),default:""},defaultValue:{type:Dt([Date,Array])},defaultTime:{type:Dt([Date,Array])},isRange:Boolean,...t8,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,unlinkPanels:Boolean,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:Boolean,showWeekNumber:Boolean,type:{type:Dt(String),default:"date"},clearable:{type:Boolean,default:!0},border:{type:Boolean,default:!0},editable:{type:Boolean,default:!0}}),n8=Symbol("rootPickerContextKey"),sx="ElIsDefaultFormat",xSe=["date","dates","year","years","month","months","week","range"],r8=On({cellClassName:{type:Dt(Function)},disabledDate:{type:Dt(Function)},date:{type:Dt(Object),required:!0},minDate:{type:Dt(Object)},maxDate:{type:Dt(Object)},parsedValue:{type:Dt([Object,Array])},rangeState:{type:Dt(Object),default:()=>({endDate:null,selecting:!1})},disabled:Boolean}),_K=On({type:{type:Dt(String),required:!0,values:xxe},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean,border:Boolean,disabled:Boolean,editable:{type:Boolean,default:!0}}),i8=On({unlinkPanels:Boolean,visible:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},border:Boolean,disabled:Boolean,parsedValue:{type:Dt(Array)}}),s8=t=>({type:String,values:xSe,default:t}),wSe=On({..._K,parsedValue:{type:Dt([Object,Array])},visible:{type:Boolean,default:!0},format:{type:String,default:""}}),Wb=t=>{if(!nn(t))return!1;const[e,n]=t;return Wn.isDayjs(e)&&Wn.isDayjs(n)&&Wn(e).isValid()&&Wn(n).isValid()&&e.isSameOrBefore(n)},$E=(t,{lang:e,step:n=1,unit:r,unlinkPanels:i})=>{let s;if(nn(t)){let[a,o]=t.map(l=>Wn(l).locale(e));return i||(o=a.add(n,r)),[a,o]}else t?s=Wn(t):s=Wn();return s=s.locale(e),[s,s.add(n,r)]},SSe=(t,e,{columnIndexOffset:n,startDate:r,nextEndDate:i,now:s,unit:a,relativeDateGetter:o,setCellMetadata:l,setRowMetadata:u})=>{for(let d=0;d<t.row;d++){const f=e[d];for(let h=0;h<t.column;h++){let g=f[h+n];g||(g={row:d,column:h,type:"normal",inRange:!1,start:!1,end:!1});const v=d*t.column+h,p=o(v);g.dayjs=p,g.date=p.toDate(),g.timestamp=p.valueOf(),g.type="normal",g.inRange=!!(r&&p.isSameOrAfter(r,a)&&i&&p.isSameOrBefore(i,a))||!!(r&&p.isSameOrBefore(r,a)&&i&&p.isSameOrAfter(i,a)),r!=null&&r.isSameOrAfter(i)?(g.start=!!i&&p.isSame(i,a),g.end=r&&p.isSame(r,a)):(g.start=!!r&&p.isSame(r,a),g.end=!!i&&p.isSame(i,a)),p.isSame(s,a)&&(g.type="today"),l==null||l(g,{rowIndex:d,columnIndex:h}),f[h+n]=g}u==null||u(f)}},MT=(t,e,n,r)=>{const i=Wn().locale(r).startOf("month").month(n).year(e).hour(t.hour()).minute(t.minute()).second(t.second()),s=i.daysInMonth();return LY(s).map(a=>i.add(a,"day").toDate())},Hv=(t,e,n,r,i)=>{const s=Wn().year(e).month(n).startOf("month").hour(t.hour()).minute(t.minute()).second(t.second()),a=MT(t,e,n,r).find(o=>!(i!=null&&i(o)));return a?Wn(a).locale(r):s.locale(r)},LT=(t,e,n)=>{const r=t.year();if(!(n!=null&&n(t.toDate())))return t.locale(e);const i=t.month();if(!MT(t,r,i,e).every(n))return Hv(t,r,i,e,n);for(let s=0;s<12;s++)if(!MT(t,r,s,e).every(n))return Hv(t,r,s,e,n);return t},jv=(t,e,n,r)=>{if(nn(t))return t.map(i=>jv(i,e,n,r));if(Kn(t)){const i=r!=null&&r.value?Wn(t):Wn(t,e);if(!i.isValid())return i}return Wn(t,e).locale(n)},TSe=On({...r8,showWeekNumber:Boolean,selectionMode:s8("date")}),CSe=["changerange","pick","select"],$T=(t="")=>["normal","today"].includes(t),ESe=(t,e)=>{const{lang:n}=mi(),r=ye(),i=ye(),s=ye(),a=ye(),o=ye([[],[],[],[],[],[]]);let l=!1;const u=t.date.$locale().weekStart||7,d=t.date.locale("en").localeData().weekdaysShort().map(ee=>ee.toLowerCase()),f=he(()=>u>3?7-u:-u),h=he(()=>{const ee=t.date.startOf("month");return ee.subtract(ee.day()||7,"day")}),g=he(()=>d.concat(d).slice(u,u+7)),v=he(()=>eX(b(A)).some(ee=>ee.isCurrent)),p=he(()=>{const ee=t.date.startOf("month"),de=ee.day()||7,ue=ee.daysInMonth(),me=ee.subtract(1,"month").daysInMonth();return{startOfMonthDay:de,dateCountOfMonth:ue,dateCountOfLastMonth:me}}),_=he(()=>t.selectionMode==="dates"?Ao(t.parsedValue):[]),S=(ee,{count:de,rowIndex:ue,columnIndex:me})=>{const{startOfMonthDay:Ee,dateCountOfMonth:Oe,dateCountOfLastMonth:Ge}=b(p),$e=b(f);if(ue>=0&&ue<=1){const Ie=Ee+$e<0?7+Ee+$e:Ee+$e;if(me+ue*7>=Ie)return ee.text=de,!0;ee.text=Ge-(Ie-me%7)+1+ue*7,ee.type="prev-month"}else return de<=Oe?ee.text=de:(ee.text=de-Oe,ee.type="next-month"),!0;return!1},C=(ee,{columnIndex:de,rowIndex:ue},me)=>{const{disabledDate:Ee,cellClassName:Oe}=t,Ge=b(_),$e=S(ee,{count:me,rowIndex:ue,columnIndex:de}),Ie=ee.dayjs.toDate();return ee.selected=Ge.find(Ke=>Ke.isSame(ee.dayjs,"day")),ee.isSelected=!!ee.selected,ee.isCurrent=D(ee),ee.disabled=Ee==null?void 0:Ee(Ie),ee.customClass=Oe==null?void 0:Oe(Ie),$e},T=ee=>{if(t.selectionMode==="week"){const[de,ue]=t.showWeekNumber?[1,7]:[0,6],me=K(ee[de+1]);ee[de].inRange=me,ee[de].start=me,ee[ue].inRange=me,ee[ue].end=me}},A=he(()=>{const{minDate:ee,maxDate:de,rangeState:ue,showWeekNumber:me}=t,Ee=b(f),Oe=b(o),Ge="day";let $e=1;if(SSe({row:6,column:7},Oe,{startDate:ee,columnIndexOffset:me?1:0,nextEndDate:ue.endDate||de||ue.selecting&&ee||null,now:Wn().locale(b(n)).startOf(Ge),unit:Ge,relativeDateGetter:Ie=>b(h).add(Ie-Ee,Ge),setCellMetadata:(...Ie)=>{C(...Ie,$e)&&($e+=1)},setRowMetadata:T}),me)for(let Ie=0;Ie<6;Ie++)Oe[Ie][1].dayjs&&(Oe[Ie][0]={type:"week",text:Oe[Ie][1].dayjs.week()});return Oe});Zt(()=>t.date,async()=>{var ee;(ee=b(r))!=null&&ee.contains(document.activeElement)&&(await Vn(),await P())});const P=async()=>{var ee;return(ee=b(i))==null?void 0:ee.focus()},D=ee=>t.selectionMode==="date"&&$T(ee.type)&&R(ee,t.parsedValue),R=(ee,de)=>de?Wn(de).locale(b(n)).isSame(t.date.date(Number(ee.text)),"day"):!1,N=(ee,de)=>{const ue=ee*7+(de-(t.showWeekNumber?1:0))-b(f);return b(h).add(ue,"day")},U=ee=>{var de;if(!t.rangeState.selecting)return;let ue=ee.target;if(ue.tagName==="SPAN"&&(ue=(de=ue.parentNode)==null?void 0:de.parentNode),ue.tagName==="DIV"&&(ue=ue.parentNode),ue.tagName!=="TD")return;const me=ue.parentNode.rowIndex-1,Ee=ue.cellIndex;b(A)[me][Ee].disabled||(me!==b(s)||Ee!==b(a))&&(s.value=me,a.value=Ee,e("changerange",{selecting:!0,endDate:N(me,Ee)}))},Y=ee=>!b(v)&&(ee==null?void 0:ee.text)===1&&$T(ee.type)||ee.isCurrent,H=ee=>{l||b(v)||t.selectionMode!=="date"||G(ee,!0)},j=ee=>{ee.target.closest("td")&&(l=!0)},X=ee=>{ee.target.closest("td")&&(l=!1)},W=ee=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:ee,maxDate:null}),e("select",!0)):(ee>=t.minDate?e("pick",{minDate:t.minDate,maxDate:ee}):e("pick",{minDate:ee,maxDate:t.minDate}),e("select",!1))},F=ee=>{const de=ee.week(),ue=`${ee.year()}w${de}`;e("pick",{year:ee.year(),week:de,value:ue,date:ee.startOf("week")})},te=(ee,de)=>{const ue=de?Ao(t.parsedValue).filter(me=>(me==null?void 0:me.valueOf())!==ee.valueOf()):Ao(t.parsedValue).concat([ee]);e("pick",ue)},G=(ee,de=!1)=>{if(t.disabled)return;const ue=ee.target.closest("td");if(!ue)return;const me=ue.parentNode.rowIndex-1,Ee=ue.cellIndex,Oe=b(A)[me][Ee];if(Oe.disabled||Oe.type==="week")return;const Ge=N(me,Ee);switch(t.selectionMode){case"range":{W(Ge);break}case"date":{e("pick",Ge,de);break}case"week":{F(Ge);break}case"dates":{te(Ge,!!Oe.selected);break}}},K=ee=>{if(t.selectionMode!=="week")return!1;let de=t.date.startOf("day");if(ee.type==="prev-month"&&(de=de.subtract(1,"month")),ee.type==="next-month"&&(de=de.add(1,"month")),de=de.date(Number.parseInt(ee.text,10)),t.parsedValue&&!nn(t.parsedValue)){const ue=(t.parsedValue.day()-u+7)%7-1;return t.parsedValue.subtract(ue,"day").isSame(de,"day")}return!1};return{WEEKS:g,rows:A,tbodyRef:r,currentCellRef:i,focus:P,isCurrent:D,isWeekActive:K,isSelectedCell:Y,handlePickDate:G,handleMouseUp:X,handleMouseDown:j,handleMouseMove:U,handleFocus:H}},ASe=(t,{isCurrent:e,isWeekActive:n})=>{const r=gn("date-table"),{t:i}=mi(),s=he(()=>[r.b(),r.is("week-mode",t.selectionMode==="week"&&!t.disabled)]),a=he(()=>i("el.datepicker.dateTablePrompt")),o=u=>{const d=[];return $T(u.type)&&!u.disabled?(d.push("available"),u.type==="today"&&d.push("today")):d.push(u.type),e(u)&&d.push("current"),u.inRange&&($T(u.type)||t.selectionMode==="week")&&(d.push("in-range"),u.start&&d.push("start-date"),u.end&&d.push("end-date")),(u.disabled||t.disabled)&&d.push("disabled"),u.selected&&d.push("selected"),u.customClass&&d.push(u.customClass),d.join(" ")},l=u=>[r.e("row"),{current:n(u)}];return{tableKls:s,tableLabel:a,weekHeaderClass:r.e("week-header"),getCellClasses:o,getRowKls:l,t:i}},PSe=On({cell:{type:Dt(Object)}});var a8=kt({name:"ElDatePickerCell",props:PSe,setup(t){const e=gn("date-table-cell"),{slots:n}=In(n8);return()=>{const{cell:r}=t;return Ot(n,"default",{...r},()=>{var i;return[V("div",{class:e.b()},[V("span",{class:e.e("text")},[(i=r==null?void 0:r.renderText)!=null?i:r==null?void 0:r.text])])]})}}});const kSe=["aria-label"],DSe=["aria-label"],ISe=["aria-current","aria-selected","tabindex","aria-disabled"],RSe=kt({__name:"basic-date-table",props:TSe,emits:CSe,setup(t,{expose:e,emit:n}){const r=t,i=n,{WEEKS:s,rows:a,tbodyRef:o,currentCellRef:l,focus:u,isCurrent:d,isWeekActive:f,isSelectedCell:h,handlePickDate:g,handleMouseUp:v,handleMouseDown:p,handleMouseMove:_,handleFocus:S}=ESe(r,i),{tableLabel:C,tableKls:T,getCellClasses:A,getRowKls:P,weekHeaderClass:D,t:R}=ASe(r,{isCurrent:d,isWeekActive:f});let N=!1;return Ri(()=>{N=!0}),e({focus:u}),(U,Y)=>(ge(),Fe("table",{"aria-label":b(C),class:Ce(b(T)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:Y[1]||(Y[1]=(...H)=>b(g)&&b(g)(...H)),onMousemove:Y[2]||(Y[2]=(...H)=>b(_)&&b(_)(...H)),onMousedown:Y[3]||(Y[3]=(...H)=>b(p)&&b(p)(...H)),onMouseup:Y[4]||(Y[4]=(...H)=>b(v)&&b(v)(...H))},[Ve("tbody",{ref_key:"tbodyRef",ref:o},[Ve("tr",null,[U.showWeekNumber?(ge(),Fe("th",{key:0,scope:"col",class:Ce(b(D))},null,2)):gt("v-if",!0),(ge(!0),Fe(Tn,null,li(b(s),(H,j)=>(ge(),Fe("th",{key:j,"aria-label":b(R)("el.datepicker.weeksFull."+H),scope:"col"},yn(b(R)("el.datepicker.weeks."+H)),9,DSe))),128))]),(ge(!0),Fe(Tn,null,li(b(a),(H,j)=>(ge(),Fe("tr",{key:j,class:Ce(b(P)(U.showWeekNumber?H[2]:H[1]))},[(ge(!0),Fe(Tn,null,li(H,(X,W)=>(ge(),Fe("td",{key:`${j}.${W}`,ref_for:!0,ref:F=>!b(N)&&b(h)(X)&&(l.value=F),class:Ce(b(A)(X)),"aria-current":X.isCurrent?"date":void 0,"aria-selected":X.isCurrent,tabindex:U.disabled?void 0:b(h)(X)?0:-1,"aria-disabled":U.disabled,onFocus:Y[0]||(Y[0]=(...F)=>b(S)&&b(S)(...F))},[V(b(a8),{cell:X},null,8,["cell"])],42,ISe))),128))],2))),128))],512)],42,kSe))}});var gD=Nn(RSe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-date-table.vue"]]);const OSe=On({...r8,selectionMode:s8("month")}),MSe=["aria-label"],LSe=["aria-selected","aria-label","tabindex","onKeydown"],$Se=kt({__name:"basic-month-table",props:OSe,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=gn("month-table"),{t:a,lang:o}=mi(),l=ye(),u=ye(),d=ye(r.date.locale("en").localeData().monthsShort().map(A=>A.toLowerCase())),f=ye([[],[],[]]),h=ye(),g=ye(),v=he(()=>{var A,P,D;const R=f.value,N=Wn().locale(o.value).startOf("month");for(let U=0;U<3;U++){const Y=R[U];for(let H=0;H<4;H++){const j=Y[H]||(Y[H]={row:U,column:H,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0});j.type="normal";const X=U*4+H,W=r.date.startOf("year").month(X),F=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;j.inRange=!!(r.minDate&&W.isSameOrAfter(r.minDate,"month")&&F&&W.isSameOrBefore(F,"month"))||!!(r.minDate&&W.isSameOrBefore(r.minDate,"month")&&F&&W.isSameOrAfter(F,"month")),(A=r.minDate)!=null&&A.isSameOrAfter(F)?(j.start=!!(F&&W.isSame(F,"month")),j.end=r.minDate&&W.isSame(r.minDate,"month")):(j.start=!!(r.minDate&&W.isSame(r.minDate,"month")),j.end=!!(F&&W.isSame(F,"month"))),N.isSame(W)&&(j.type="today");const G=W.toDate();j.text=X,j.disabled=((P=r.disabledDate)==null?void 0:P.call(r,G))||!1,j.date=G,j.customClass=(D=r.cellClassName)==null?void 0:D.call(r,G),j.dayjs=W,j.timestamp=W.valueOf(),j.isSelected=S(j)}}return R}),p=()=>{var A;(A=u.value)==null||A.focus()},_=A=>{const P={},D=r.date.year(),R=new Date,N=A.text;return P.disabled=r.disabled||(r.disabledDate?MT(r.date,D,N,o.value).every(r.disabledDate):!1),P.current=Ao(r.parsedValue).some(U=>Wn.isDayjs(U)&&U.year()===D&&U.month()===N),P.today=R.getFullYear()===D&&R.getMonth()===N,A.customClass&&(P[A.customClass]=!0),A.inRange&&(P["in-range"]=!0,A.start&&(P["start-date"]=!0),A.end&&(P["end-date"]=!0)),P},S=A=>{const P=r.date.year(),D=A.text;return Ao(r.date).some(R=>R.year()===P&&R.month()===D)},C=A=>{var P;if(!r.rangeState.selecting)return;let D=A.target;if(D.tagName==="SPAN"&&(D=(P=D.parentNode)==null?void 0:P.parentNode),D.tagName==="DIV"&&(D=D.parentNode),D.tagName!=="TD")return;const R=D.parentNode.rowIndex,N=D.cellIndex;v.value[R][N].disabled||(R!==h.value||N!==g.value)&&(h.value=R,g.value=N,i("changerange",{selecting:!0,endDate:r.date.startOf("year").month(R*4+N)}))},T=A=>{var P;if(r.disabled)return;const D=(P=A.target)==null?void 0:P.closest("td");if((D==null?void 0:D.tagName)!=="TD"||Sd(D,"disabled"))return;const R=D.cellIndex,U=D.parentNode.rowIndex*4+R,Y=r.date.startOf("year").month(U);if(r.selectionMode==="months"){if(A.type==="keydown"){i("pick",Ao(r.parsedValue),!1);return}const H=Hv(r.date,r.date.year(),U,o.value,r.disabledDate),j=Sd(D,"current")?Ao(r.parsedValue).filter(X=>(X==null?void 0:X.year())!==H.year()||(X==null?void 0:X.month())!==H.month()):Ao(r.parsedValue).concat([Wn(H)]);i("pick",j)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&Y>=r.minDate?i("pick",{minDate:r.minDate,maxDate:Y}):i("pick",{minDate:Y,maxDate:r.minDate}),i("select",!1)):(i("pick",{minDate:Y,maxDate:null}),i("select",!0)):i("pick",U)};return Zt(()=>r.date,async()=>{var A,P;(A=l.value)!=null&&A.contains(document.activeElement)&&(await Vn(),(P=u.value)==null||P.focus())}),e({focus:p}),(A,P)=>(ge(),Fe("table",{role:"grid","aria-label":b(a)("el.datepicker.monthTablePrompt"),class:Ce(b(s).b()),onClick:T,onMousemove:C},[Ve("tbody",{ref_key:"tbodyRef",ref:l},[(ge(!0),Fe(Tn,null,li(v.value,(D,R)=>(ge(),Fe("tr",{key:R},[(ge(!0),Fe(Tn,null,li(D,(N,U)=>(ge(),Fe("td",{key:U,ref_for:!0,ref:Y=>N.isSelected&&(u.value=Y),class:Ce(_(N)),"aria-selected":!!N.isSelected,"aria-label":b(a)(`el.datepicker.month${+N.text+1}`),tabindex:N.isSelected?0:-1,onKeydown:[ts(Cr(T,["prevent","stop"]),["space"]),ts(Cr(T,["prevent","stop"]),["enter"])]},[V(b(a8),{cell:{...N,renderText:b(a)("el.datepicker.months."+d.value[N.text])}},null,8,["cell"])],42,LSe))),128))]))),128))],512)],42,MSe))}});var qb=Nn($Se,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-month-table.vue"]]);const NSe=On({...r8,selectionMode:s8("year")}),FSe=["aria-label"],BSe=["aria-selected","aria-label","tabindex","onKeydown"],USe=kt({__name:"basic-year-table",props:NSe,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=(P,D)=>{const R=Wn(String(P)).locale(D).startOf("year"),U=R.endOf("year").dayOfYear();return LY(U).map(Y=>R.add(Y,"day").toDate())},i=t,s=n,a=gn("year-table"),{t:o,lang:l}=mi(),u=ye(),d=ye(),f=he(()=>Math.floor(i.date.year()/10)*10),h=ye([[],[],[]]),g=ye(),v=ye(),p=he(()=>{var P,D,R;const N=h.value,U=Wn().locale(l.value).startOf("year");for(let Y=0;Y<3;Y++){const H=N[Y];for(let j=0;j<4&&!(Y*4+j>=10);j++){let X=H[j];X||(X={row:Y,column:j,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0}),X.type="normal";const W=Y*4+j+f.value,F=Wn().year(W),te=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;X.inRange=!!(i.minDate&&F.isSameOrAfter(i.minDate,"year")&&te&&F.isSameOrBefore(te,"year"))||!!(i.minDate&&F.isSameOrBefore(i.minDate,"year")&&te&&F.isSameOrAfter(te,"year")),(P=i.minDate)!=null&&P.isSameOrAfter(te)?(X.start=!!(te&&F.isSame(te,"year")),X.end=!!(i.minDate&&F.isSame(i.minDate,"year"))):(X.start=!!(i.minDate&&F.isSame(i.minDate,"year")),X.end=!!(te&&F.isSame(te,"year"))),U.isSame(F)&&(X.type="today"),X.text=W;const K=F.toDate();X.disabled=((D=i.disabledDate)==null?void 0:D.call(i,K))||!1,X.date=K,X.customClass=(R=i.cellClassName)==null?void 0:R.call(i,K),X.dayjs=F,X.timestamp=F.valueOf(),X.isSelected=C(X),H[j]=X}}return N}),_=()=>{var P;(P=d.value)==null||P.focus()},S=P=>{const D={},R=Wn().locale(l.value),N=P.text;return D.disabled=i.disabled||(i.disabledDate?r(N,l.value).every(i.disabledDate):!1),D.today=R.year()===N,D.current=Ao(i.parsedValue).some(U=>U.year()===N),P.customClass&&(D[P.customClass]=!0),P.inRange&&(D["in-range"]=!0,P.start&&(D["start-date"]=!0),P.end&&(D["end-date"]=!0)),D},C=P=>{const D=P.text;return Ao(i.date).some(R=>R.year()===D)},T=P=>{var D;if(i.disabled)return;const R=(D=P.target)==null?void 0:D.closest("td");if(!R||!R.textContent||Sd(R,"disabled"))return;const N=R.cellIndex,Y=R.parentNode.rowIndex*4+N+f.value,H=Wn().year(Y);if(i.selectionMode==="range")i.rangeState.selecting?(i.minDate&&H>=i.minDate?s("pick",{minDate:i.minDate,maxDate:H}):s("pick",{minDate:H,maxDate:i.minDate}),s("select",!1)):(s("pick",{minDate:H,maxDate:null}),s("select",!0));else if(i.selectionMode==="years"){if(P.type==="keydown"){s("pick",Ao(i.parsedValue),!1);return}const j=LT(H.startOf("year"),l.value,i.disabledDate),X=Sd(R,"current")?Ao(i.parsedValue).filter(W=>(W==null?void 0:W.year())!==Y):Ao(i.parsedValue).concat([j]);s("pick",X)}else s("pick",Y)},A=P=>{var D;if(!i.rangeState.selecting)return;const R=(D=P.target)==null?void 0:D.closest("td");if(!R)return;const N=R.parentNode.rowIndex,U=R.cellIndex;p.value[N][U].disabled||(N!==g.value||U!==v.value)&&(g.value=N,v.value=U,s("changerange",{selecting:!0,endDate:Wn().year(f.value).add(N*4+U,"year")}))};return Zt(()=>i.date,async()=>{var P,D;(P=u.value)!=null&&P.contains(document.activeElement)&&(await Vn(),(D=d.value)==null||D.focus())}),e({focus:_}),(P,D)=>(ge(),Fe("table",{role:"grid","aria-label":b(o)("el.datepicker.yearTablePrompt"),class:Ce(b(a).b()),onClick:T,onMousemove:A},[Ve("tbody",{ref_key:"tbodyRef",ref:u},[(ge(!0),Fe(Tn,null,li(p.value,(R,N)=>(ge(),Fe("tr",{key:N},[(ge(!0),Fe(Tn,null,li(R,(U,Y)=>(ge(),Fe("td",{key:`${N}_${Y}`,ref_for:!0,ref:H=>U.isSelected&&(d.value=H),class:Ce(["available",S(U)]),"aria-selected":U.isSelected,"aria-label":String(U.text),tabindex:U.isSelected?0:-1,onKeydown:[ts(Cr(T,["prevent","stop"]),["space"]),ts(Cr(T,["prevent","stop"]),["enter"])]},[V(b(a8),{cell:U},null,8,["cell"])],42,BSe))),128))]))),128))],512)],42,FSe))}});var Xb=Nn(USe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-year-table.vue"]]);const VSe=["disabled","onClick"],zSe=["aria-label","disabled"],HSe=["aria-label","disabled"],jSe=["tabindex","aria-disabled"],GSe=["tabindex","aria-disabled"],WSe=["aria-label","disabled"],qSe=["aria-label","disabled"],XSe=kt({__name:"panel-date-pick",props:wSe,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=(De,tt,xe)=>!0,r=t,i=e,s=gn("picker-panel"),a=gn("date-picker"),o=Dy(),l=cl(),{t:u,lang:d}=mi(),f=In(Md),h=In(sx,void 0),{shortcuts:g,disabledDate:v,cellClassName:p,defaultTime:_}=f.props,S=_s(f.props,"defaultValue"),C=ye(),T=ye(Wn().locale(d.value)),A=ye(!1);let P=!1;const D=he(()=>Wn(_).locale(d.value)),R=he(()=>T.value.month()),N=he(()=>T.value.year()),U=ye([]),Y=ye(null),H=ye(null),j=De=>U.value.length>0?n(De,U.value,r.format||"HH:mm:ss"):!0,X=De=>_&&!St.value&&!A.value&&!P?D.value.year(De.year()).month(De.month()).date(De.date()):Xe.value?De.millisecond(0):De.startOf("day"),W=(De,...tt)=>{if(!De)i("pick",De,...tt);else if(nn(De)){const xe=De.map(X);i("pick",xe,...tt)}else i("pick",X(De),...tt);Y.value=null,H.value=null,A.value=!1,P=!1},F=async(De,tt)=>{if(ue.value==="date"&&Wn.isDayjs(De)){const xe=D_(r.parsedValue);let Gt=xe?xe.year(De.year()).month(De.month()).date(De.date()):De;j(Gt)||(Gt=U.value[0][0].year(De.year()).month(De.month()).date(De.date())),T.value=Gt,W(Gt,Xe.value||tt)}else ue.value==="week"?W(De.date):ue.value==="dates"&&W(De,!0)},te=De=>{const tt=De?"add":"subtract";T.value=T.value[tt](1,"month"),Ne("month")},G=De=>{const tt=T.value,xe=De?"add":"subtract";T.value=K.value==="year"?tt[xe](10,"year"):tt[xe](1,"year"),Ne("year")},K=ye("date"),ee=he(()=>{const De=u("el.datepicker.year");if(K.value==="year"){const tt=Math.floor(N.value/10)*10;return De?`${tt} ${De} - ${tt+9} ${De}`:`${tt} - ${tt+9}`}return`${N.value} ${De}`}),de=De=>{const tt=kn(De.value)?De.value():De.value;if(tt){P=!0,W(Wn(tt).locale(d.value));return}De.onClick&&De.onClick({attrs:o,slots:l,emit:i})},ue=he(()=>{const{type:De}=r;return["week","month","months","year","years","dates"].includes(De)?De:"date"}),me=he(()=>ue.value==="dates"||ue.value==="months"||ue.value==="years"),Ee=he(()=>ue.value==="date"?K.value:ue.value),Oe=he(()=>!!g.length),Ge=async(De,tt)=>{ue.value==="month"?(T.value=Hv(T.value,T.value.year(),De,d.value,v),W(T.value,!1)):ue.value==="months"?W(De,tt??!0):(T.value=Hv(T.value,T.value.year(),De,d.value,v),K.value="date",["month","year","date","week"].includes(ue.value)&&(W(T.value,!0),await Vn(),$t())),Ne("month")},$e=async(De,tt)=>{if(ue.value==="year"){const xe=T.value.startOf("year").year(De);T.value=LT(xe,d.value,v),W(T.value,!1)}else if(ue.value==="years")W(De,tt??!0);else{const xe=T.value.year(De);T.value=LT(xe,d.value,v),K.value="month",["month","year","date","week"].includes(ue.value)&&(W(T.value,!0),await Vn(),$t())}Ne("year")},Ie=uo(),Ke=async De=>{Ie.value||(K.value=De,await Vn(),$t())},Xe=he(()=>r.type==="datetime"||r.type==="datetimerange"),Ze=he(()=>{const De=Xe.value||ue.value==="dates",tt=ue.value==="years",xe=ue.value==="months",Gt=K.value==="date",c=K.value==="year",xn=K.value==="month";return De&&Gt||tt&&c||xe&&xn}),bt=he(()=>!me.value&&r.showNow||r.showConfirm),ht=he(()=>v?r.parsedValue?nn(r.parsedValue)?v(r.parsedValue[0].toDate()):v(r.parsedValue.toDate()):!0:!1),ae=()=>{if(me.value)W(r.parsedValue);else{let De=D_(r.parsedValue);if(!De){const tt=Wn(_).locale(d.value),xe=Kt();De=tt.year(xe.year()).month(xe.month()).date(xe.date())}T.value=De,W(De)}},Re=he(()=>v?v(Wn().locale(d.value).toDate()):!1),rt=()=>{const tt=Wn().locale(d.value).toDate();A.value=!0,(!v||!v(tt))&&j(tt)&&(T.value=Wn().locale(d.value),W(T.value))},Ye=he(()=>r.timeFormat||NY(r.format)||Gb),it=he(()=>r.dateFormat||$Y(r.format)||Jh),St=he(()=>H.value?H.value:!r.parsedValue&&!S.value?void 0:(D_(r.parsedValue)||T.value).format(Ye.value)),Lt=he(()=>Y.value?Y.value:!r.parsedValue&&!S.value?void 0:(D_(r.parsedValue)||T.value).format(it.value)),xt=ye(!1),sn=()=>{xt.value=!0},zt=()=>{xt.value=!1},ft=De=>({hour:De.hour(),minute:De.minute(),second:De.second(),year:De.year(),month:De.month(),date:De.date()}),tn=(De,tt,xe)=>{const{hour:Gt,minute:c,second:xn}=ft(De),at=D_(r.parsedValue),se=at?at.hour(Gt).minute(c).second(xn):De;T.value=se,W(T.value,!0),xe||(xt.value=tt)},_n=De=>{const tt=Wn(De,Ye.value).locale(d.value);if(tt.isValid()&&j(tt)){const{year:xe,month:Gt,date:c}=ft(T.value);T.value=tt.year(xe).month(Gt).date(c),H.value=null,xt.value=!1,W(T.value,!0)}},qt=De=>{const tt=jv(De,it.value,d.value,h);if(tt.isValid()){if(v&&v(tt.toDate()))return;const{hour:xe,minute:Gt,second:c}=ft(T.value);T.value=tt.hour(xe).minute(Gt).second(c),Y.value=null,W(T.value,!0)}},Pt=De=>Wn.isDayjs(De)&&De.isValid()&&(v?!v(De.toDate()):!0),Ct=De=>jv(De,r.format,d.value,h),Kt=()=>{const De=Wn(S.value).locale(d.value);if(!S.value){const tt=D.value;return Wn().hour(tt.hour()).minute(tt.minute()).second(tt.second()).locale(d.value)}return De},$t=()=>{var De;["week","month","year","date"].includes(ue.value)&&((De=C.value)==null||De.focus())},Te=()=>{$t(),ue.value==="week"&&Nt(Pn.down)},vt=De=>{const tt=oa(De);[Pn.up,Pn.down,Pn.left,Pn.right,Pn.home,Pn.end,Pn.pageUp,Pn.pageDown].includes(tt)&&(Nt(tt),De.stopPropagation(),De.preventDefault()),[Pn.enter,Pn.space,Pn.numpadEnter].includes(tt)&&Y.value===null&&H.value===null&&(De.preventDefault(),W(T.value,!1))},Nt=De=>{var tt;const{up:xe,down:Gt,left:c,right:xn,home:at,end:se,pageUp:w,pageDown:k}=Pn,z={year:{[xe]:-4,[Gt]:4,[c]:-1,[xn]:1,offset:(le,re)=>le.setFullYear(le.getFullYear()+re)},month:{[xe]:-4,[Gt]:4,[c]:-1,[xn]:1,offset:(le,re)=>le.setMonth(le.getMonth()+re)},week:{[xe]:-1,[Gt]:1,[c]:-1,[xn]:1,offset:(le,re)=>le.setDate(le.getDate()+re*7)},date:{[xe]:-7,[Gt]:7,[c]:-1,[xn]:1,[at]:le=>-le.getDay(),[se]:le=>-le.getDay()+6,[w]:le=>-new Date(le.getFullYear(),le.getMonth(),0).getDate(),[k]:le=>new Date(le.getFullYear(),le.getMonth()+1,0).getDate(),offset:(le,re)=>le.setDate(le.getDate()+re)}},fe=T.value.toDate();for(;Math.abs(T.value.diff(fe,"year",!0))<1;){const le=z[Ee.value];if(!le)return;if(le.offset(fe,kn(le[De])?le[De](fe):(tt=le[De])!=null?tt:0),v&&v(fe))break;const re=Wn(fe).locale(d.value);T.value=re,i("pick",re,!0);break}},Ne=De=>{i("panel-change",T.value.toDate(),De,K.value)};return Zt(()=>ue.value,De=>{if(["month","year"].includes(De)){K.value=De;return}else if(De==="years"){K.value="year";return}else if(De==="months"){K.value="month";return}K.value="date"},{immediate:!0}),Zt(()=>S.value,De=>{De&&(T.value=Kt())},{immediate:!0}),Zt(()=>r.parsedValue,De=>{if(De){if(me.value||nn(De))return;T.value=De}else T.value=Kt()},{immediate:!0}),i("set-picker-option",["isValidValue",Pt]),i("set-picker-option",["parseUserInput",Ct]),i("set-picker-option",["handleFocusPicker",Te]),(De,tt)=>(ge(),Fe("div",{class:Ce([b(s).b(),b(a).b(),b(s).is("border",De.border),b(s).is("disabled",b(Ie)),{"has-sidebar":De.$slots.sidebar||Oe.value,"has-time":Xe.value}])},[Ve("div",{class:Ce(b(s).e("body-wrapper"))},[Ot(De.$slots,"sidebar",{class:Ce(b(s).e("sidebar"))}),Oe.value?(ge(),Fe("div",{key:0,class:Ce(b(s).e("sidebar"))},[(ge(!0),Fe(Tn,null,li(b(g),(xe,Gt)=>(ge(),Fe("button",{key:Gt,type:"button",disabled:b(Ie),class:Ce(b(s).e("shortcut")),onClick:c=>de(xe)},yn(xe.text),11,VSe))),128))],2)):gt("v-if",!0),Ve("div",{class:Ce(b(s).e("body"))},[Xe.value?(ge(),Fe("div",{key:0,class:Ce(b(a).e("time-header"))},[Ve("span",{class:Ce(b(a).e("editor-wrap"))},[V(b(ns),{placeholder:b(u)("el.datepicker.selectDate"),"model-value":Lt.value,size:"small","validate-event":!1,disabled:b(Ie),readonly:!De.editable,onInput:tt[0]||(tt[0]=xe=>Y.value=xe),onChange:qt},null,8,["placeholder","model-value","disabled","readonly"])],2),Dr((ge(),Fe("span",{class:Ce(b(a).e("editor-wrap"))},[V(b(ns),{placeholder:b(u)("el.datepicker.selectTime"),"model-value":St.value,size:"small","validate-event":!1,disabled:b(Ie),readonly:!De.editable,onFocus:sn,onInput:tt[1]||(tt[1]=xe=>H.value=xe),onChange:_n},null,8,["placeholder","model-value","disabled","readonly"]),V(b(mD),{visible:xt.value,format:Ye.value,"parsed-value":T.value,onPick:tn},null,8,["visible","format","parsed-value"])],2)),[[b(zv),zt]])],2)):gt("v-if",!0),Dr(Ve("div",{class:Ce([b(a).e("header"),(K.value==="year"||K.value==="month")&&b(a).em("header","bordered")])},[Ve("span",{class:Ce(b(a).e("prev-btn"))},[Ve("button",{type:"button","aria-label":b(u)("el.datepicker.prevYear"),class:Ce(["d-arrow-left",b(s).e("icon-btn")]),disabled:b(Ie),onClick:tt[2]||(tt[2]=xe=>G(!1))},[Ot(De.$slots,"prev-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ep))]),_:1})])],10,zSe),Dr(Ve("button",{type:"button","aria-label":b(u)("el.datepicker.prevMonth"),class:Ce([b(s).e("icon-btn"),"arrow-left"]),disabled:b(Ie),onClick:tt[3]||(tt[3]=xe=>te(!1))},[Ot(De.$slots,"prev-month",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(xm))]),_:1})])],10,HSe),[[Ei,K.value==="date"]])],2),Ve("span",{role:"button",class:Ce(b(a).e("header-label")),"aria-live":"polite",tabindex:De.disabled?void 0:0,"aria-disabled":De.disabled,onKeydown:tt[4]||(tt[4]=ts(xe=>Ke("year"),["enter"])),onClick:tt[5]||(tt[5]=xe=>Ke("year"))},yn(ee.value),43,jSe),Dr(Ve("span",{role:"button","aria-live":"polite",tabindex:De.disabled?void 0:0,"aria-disabled":De.disabled,class:Ce([b(a).e("header-label"),{active:K.value==="month"}]),onKeydown:tt[6]||(tt[6]=ts(xe=>Ke("month"),["enter"])),onClick:tt[7]||(tt[7]=xe=>Ke("month"))},yn(b(u)(`el.datepicker.month${R.value+1}`)),43,GSe),[[Ei,K.value==="date"]]),Ve("span",{class:Ce(b(a).e("next-btn"))},[Dr(Ve("button",{type:"button","aria-label":b(u)("el.datepicker.nextMonth"),class:Ce([b(s).e("icon-btn"),"arrow-right"]),disabled:b(Ie),onClick:tt[8]||(tt[8]=xe=>te(!0))},[Ot(De.$slots,"next-month",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b($u))]),_:1})])],10,WSe),[[Ei,K.value==="date"]]),Ve("button",{type:"button","aria-label":b(u)("el.datepicker.nextYear"),class:Ce([b(s).e("icon-btn"),"d-arrow-right"]),disabled:b(Ie),onClick:tt[9]||(tt[9]=xe=>G(!0))},[Ot(De.$slots,"next-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ap))]),_:1})])],10,qSe)],2)],2),[[Ei,K.value!=="time"]]),Ve("div",{class:Ce(b(s).e("content")),onKeydown:vt},[K.value==="date"?(ge(),Tt(gD,{key:0,ref_key:"currentViewRef",ref:C,"selection-mode":ue.value,date:T.value,"parsed-value":De.parsedValue,"disabled-date":b(v),disabled:b(Ie),"cell-class-name":b(p),"show-week-number":De.showWeekNumber,onPick:F},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name","show-week-number"])):gt("v-if",!0),K.value==="year"?(ge(),Tt(Xb,{key:1,ref_key:"currentViewRef",ref:C,"selection-mode":ue.value,date:T.value,"disabled-date":b(v),disabled:b(Ie),"parsed-value":De.parsedValue,"cell-class-name":b(p),onPick:$e},null,8,["selection-mode","date","disabled-date","disabled","parsed-value","cell-class-name"])):gt("v-if",!0),K.value==="month"?(ge(),Tt(qb,{key:2,ref_key:"currentViewRef",ref:C,"selection-mode":ue.value,date:T.value,"parsed-value":De.parsedValue,"disabled-date":b(v),disabled:b(Ie),"cell-class-name":b(p),onPick:Ge},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name"])):gt("v-if",!0)],34)],2)],2),De.showFooter&&Ze.value&&bt.value?(ge(),Fe("div",{key:0,class:Ce(b(s).e("footer"))},[Dr(V(b(qr),{text:"",size:"small",class:Ce(b(s).e("link-btn")),disabled:Re.value,onClick:rt},{default:ie(()=>[Rt(yn(b(u)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Ei,!me.value&&De.showNow]]),De.showConfirm?(ge(),Tt(b(qr),{key:0,plain:"",size:"small",class:Ce(b(s).e("link-btn")),disabled:ht.value,onClick:ae},{default:ie(()=>[Rt(yn(b(u)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):gt("v-if",!0)],2)):gt("v-if",!0)],2))}});var YSe=Nn(XSe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-pick.vue"]]);const KSe=On({..._K,...i8}),ZSe=t=>{const{emit:e}=Ar(),n=Dy(),r=cl();return s=>{const a=kn(s.value)?s.value():s.value;if(a){e("pick",[Wn(a[0]).locale(t.value),Wn(a[1]).locale(t.value)]);return}s.onClick&&s.onClick({attrs:n,slots:r,emit:e})}},o8=(t,{defaultValue:e,defaultTime:n,leftDate:r,rightDate:i,step:s,unit:a,sortDates:o})=>{const{emit:l}=Ar(),{pickerNs:u}=In(n8),d=gn("date-range-picker"),{t:f,lang:h}=mi(),g=ZSe(h),v=ye(),p=ye(),_=ye({endDate:null,selecting:!1}),S=D=>{_.value=D},C=(D=!1)=>{const R=b(v),N=b(p);Wb([R,N])&&l("pick",[R,N],D)},T=D=>{_.value.selecting=D,D||(_.value.endDate=null)},A=D=>{if(nn(D)&&D.length===2){const[R,N]=D;v.value=R,r.value=R,p.value=N,o(b(v),b(p))}else P()},P=()=>{let[D,R]=$E(b(e),{lang:b(h),step:s,unit:a,unlinkPanels:t.unlinkPanels});const N=Y=>Y.diff(Y.startOf("d"),"ms"),U=b(n);if(U){let Y=0,H=0;if(nn(U)){const[j,X]=U.map(Wn);Y=N(j),H=N(X)}else{const j=N(Wn(U));Y=j,H=j}D=D.startOf("d").add(Y,"ms"),R=R.startOf("d").add(H,"ms")}v.value=void 0,p.value=void 0,r.value=D,i.value=R};return Zt(e,D=>{D&&P()},{immediate:!0}),Zt(()=>t.parsedValue,D=>{(!(D!=null&&D.length)||!na(D,[v.value,p.value]))&&A(D)},{immediate:!0}),Zt(()=>t.visible,()=>{t.visible&&A(t.parsedValue)},{immediate:!0}),{minDate:v,maxDate:p,rangeState:_,lang:h,ppNs:u,drpNs:d,handleChangeRange:S,handleRangeConfirm:C,handleShortcutClick:g,onSelect:T,parseValue:A,t:f}},QSe=(t,e,n,r)=>{const i=ye("date"),s=ye(),a=ye("date"),o=ye(),l=In(Md),{disabledDate:u}=l.props,{t:d,lang:f}=mi(),h=he(()=>n.value.year()),g=he(()=>n.value.month()),v=he(()=>r.value.year()),p=he(()=>r.value.month());function _(D,R){const N=d("el.datepicker.year");if(D.value==="year"){const U=Math.floor(R.value/10)*10;return N?`${U} ${N} - ${U+9} ${N}`:`${U} - ${U+9}`}return`${R.value} ${N}`}function S(D){D==null||D.focus()}async function C(D,R){if(t.disabled)return;const N=D==="left"?i:a,U=D==="left"?s:o;N.value=R,await Vn(),S(U.value)}async function T(D,R,N){if(t.disabled)return;const U=R==="left",Y=U?n:r,H=U?r:n,j=U?i:a,X=U?s:o;if(D==="year"){const W=Y.value.year(N);Y.value=LT(W,f.value,u)}D==="month"&&(Y.value=Hv(Y.value,Y.value.year(),N,f.value,u)),t.unlinkPanels||(H.value=R==="left"?Y.value.add(1,"month"):Y.value.subtract(1,"month")),j.value=D==="year"?"month":"date",await Vn(),S(X.value),A(D)}function A(D){e("panel-change",[n.value.toDate(),r.value.toDate()],D)}function P(D,R,N){const U=N?"add":"subtract";return D==="year"?R[U](10,"year"):R[U](1,"year")}return{leftCurrentView:i,rightCurrentView:a,leftCurrentViewRef:s,rightCurrentViewRef:o,leftYear:h,rightYear:v,leftMonth:g,rightMonth:p,leftYearLabel:he(()=>_(i,h)),rightYearLabel:he(()=>_(a,v)),showLeftPicker:D=>C("left",D),showRightPicker:D=>C("right",D),handleLeftYearPick:D=>T("year","left",D),handleRightYearPick:D=>T("year","right",D),handleLeftMonthPick:D=>T("month","left",D),handleRightMonthPick:D=>T("month","right",D),handlePanelChange:A,adjustDateByView:P}},JSe=["disabled","onClick"],eTe=["aria-label","disabled"],tTe=["aria-label","disabled"],nTe=["disabled","aria-label"],rTe=["disabled","aria-label"],iTe=["tabindex","aria-disabled"],sTe=["tabindex","aria-disabled"],aTe=["disabled","aria-label"],oTe=["disabled","aria-label"],lTe=["aria-label","disabled"],uTe=["disabled","aria-label"],cTe=["tabindex","aria-disabled"],dTe=["tabindex","aria-disabled"],iw="month",fTe=kt({__name:"panel-date-range",props:KSe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,r=e,i=In(Md),s=In(sx,void 0),{disabledDate:a,cellClassName:o,defaultTime:l,clearable:u}=i.props,d=_s(i.props,"format"),f=_s(i.props,"shortcuts"),h=_s(i.props,"defaultValue"),{lang:g}=mi(),v=ye(Wn().locale(g.value)),p=ye(Wn().locale(g.value).add(1,iw)),{minDate:_,maxDate:S,rangeState:C,ppNs:T,drpNs:A,handleChangeRange:P,handleRangeConfirm:D,handleShortcutClick:R,onSelect:N,parseValue:U,t:Y}=o8(n,{defaultValue:h,defaultTime:l,leftDate:v,rightDate:p,unit:iw,sortDates:fe});Zt(()=>n.visible,le=>{!le&&C.value.selecting&&(U(n.parsedValue),N(!1))});const H=ye({min:null,max:null}),j=ye({min:null,max:null}),{leftCurrentView:X,rightCurrentView:W,leftCurrentViewRef:F,rightCurrentViewRef:te,leftYear:G,rightYear:K,leftMonth:ee,rightMonth:de,leftYearLabel:ue,rightYearLabel:me,showLeftPicker:Ee,showRightPicker:Oe,handleLeftYearPick:Ge,handleRightYearPick:$e,handleLeftMonthPick:Ie,handleRightMonthPick:Ke,handlePanelChange:Xe,adjustDateByView:Ze}=QSe(n,r,v,p),bt=he(()=>!!f.value.length),ht=he(()=>H.value.min!==null?H.value.min:_.value?_.value.format(it.value):""),ae=he(()=>H.value.max!==null?H.value.max:S.value||_.value?(S.value||_.value).format(it.value):""),Re=he(()=>j.value.min!==null?j.value.min:_.value?_.value.format(Ye.value):""),rt=he(()=>j.value.max!==null?j.value.max:S.value||_.value?(S.value||_.value).format(Ye.value):""),Ye=he(()=>n.timeFormat||NY(d.value||"")||Gb),it=he(()=>n.dateFormat||$Y(d.value||"")||Jh),St=le=>Wb(le)&&(a?!a(le[0].toDate())&&!a(le[1].toDate()):!0),Lt=()=>{v.value=Ze(X.value,v.value,!1),n.unlinkPanels||(p.value=v.value.add(1,"month")),Xe("year")},xt=()=>{v.value=v.value.subtract(1,"month"),n.unlinkPanels||(p.value=v.value.add(1,"month")),Xe("month")},sn=()=>{n.unlinkPanels?p.value=Ze(W.value,p.value,!0):(v.value=Ze(W.value,v.value,!0),p.value=v.value.add(1,"month")),Xe("year")},zt=()=>{n.unlinkPanels?p.value=p.value.add(1,"month"):(v.value=v.value.add(1,"month"),p.value=v.value.add(1,"month")),Xe("month")},ft=()=>{v.value=Ze(X.value,v.value,!0),Xe("year")},tn=()=>{v.value=v.value.add(1,"month"),Xe("month")},_n=()=>{p.value=Ze(W.value,p.value,!1),Xe("year")},qt=()=>{p.value=p.value.subtract(1,"month"),Xe("month")},Pt=he(()=>{const le=(ee.value+1)%12,re=ee.value+1>=12?1:0;return n.unlinkPanels&&new Date(G.value+re,le)<new Date(K.value,de.value)}),Ct=he(()=>n.unlinkPanels&&K.value*12+de.value-(G.value*12+ee.value+1)>=12),Kt=uo(),$t=he(()=>!(_.value&&S.value&&!C.value.selecting&&Wb([_.value,S.value])&&!Kt.value)),Te=he(()=>n.type==="datetime"||n.type==="datetimerange"),vt=(le,re)=>{if(le)return l?Wn(l[re]||l).locale(g.value).year(le.year()).month(le.month()).date(le.date()):le},Nt=(le,re=!0)=>{const we=le.minDate,Me=le.maxDate,Se=vt(we,0),ze=vt(Me,1);S.value===ze&&_.value===Se||(r("calendar-change",[we.toDate(),Me&&Me.toDate()]),S.value=ze,_.value=Se,!Te.value&&re&&(re=!Se||!ze),D(re))},Ne=ye(!1),De=ye(!1),tt=()=>{Ne.value=!1},xe=()=>{De.value=!1},Gt=(le,re)=>{H.value[re]=le;const we=Wn(le,it.value).locale(g.value);if(we.isValid()){if(a&&a(we.toDate()))return;re==="min"?(v.value=we,_.value=(_.value||v.value).year(we.year()).month(we.month()).date(we.date()),!n.unlinkPanels&&(!S.value||S.value.isBefore(_.value))&&(p.value=we.add(1,"month"),S.value=_.value.add(1,"month"))):(p.value=we,S.value=(S.value||p.value).year(we.year()).month(we.month()).date(we.date()),!n.unlinkPanels&&(!_.value||_.value.isAfter(S.value))&&(v.value=we.subtract(1,"month"),_.value=S.value.subtract(1,"month"))),fe(_.value,S.value),D(!0)}},c=(le,re)=>{H.value[re]=null},xn=(le,re)=>{j.value[re]=le;const we=Wn(le,Ye.value).locale(g.value);we.isValid()&&(re==="min"?(Ne.value=!0,_.value=(_.value||v.value).hour(we.hour()).minute(we.minute()).second(we.second()),v.value=_.value):(De.value=!0,S.value=(S.value||p.value).hour(we.hour()).minute(we.minute()).second(we.second()),p.value=S.value))},at=(le,re)=>{j.value[re]=null,re==="min"?(v.value=_.value,Ne.value=!1,(!S.value||S.value.isBefore(_.value))&&(S.value=_.value)):(p.value=S.value,De.value=!1,S.value&&S.value.isBefore(_.value)&&(_.value=S.value)),D(!0)},se=(le,re,we)=>{j.value.min||(le&&(_.value=(_.value||v.value).hour(le.hour()).minute(le.minute()).second(le.second())),we||(Ne.value=re),(!S.value||S.value.isBefore(_.value))&&(S.value=_.value,p.value=le,Vn(()=>{U(n.parsedValue)})),D(!0))},w=(le,re,we)=>{j.value.max||(le&&(S.value=(S.value||p.value).hour(le.hour()).minute(le.minute()).second(le.second())),we||(De.value=re),S.value&&S.value.isBefore(_.value)&&(_.value=S.value),D(!0))},k=()=>{let le=null;i!=null&&i.emptyValues&&(le=i.emptyValues.valueOnClear.value),v.value=$E(b(h),{lang:b(g),unit:"month",unlinkPanels:n.unlinkPanels})[0],p.value=v.value.add(1,"month"),S.value=void 0,_.value=void 0,D(!0),r("pick",le)},z=le=>jv(le,d.value||"",g.value,s);function fe(le,re){if(n.unlinkPanels&&re){const we=(le==null?void 0:le.year())||0,Me=(le==null?void 0:le.month())||0,Se=re.year(),ze=re.month();p.value=we===Se&&Me===ze?re.add(1,iw):re}else p.value=v.value.add(1,iw),re&&(p.value=p.value.hour(re.hour()).minute(re.minute()).second(re.second()))}return r("set-picker-option",["isValidValue",St]),r("set-picker-option",["parseUserInput",z]),r("set-picker-option",["handleClear",k]),(le,re)=>(ge(),Fe("div",{class:Ce([b(T).b(),b(A).b(),b(T).is("border",le.border),b(T).is("disabled",b(Kt)),{"has-sidebar":le.$slots.sidebar||bt.value,"has-time":Te.value}])},[Ve("div",{class:Ce(b(T).e("body-wrapper"))},[Ot(le.$slots,"sidebar",{class:Ce(b(T).e("sidebar"))}),bt.value?(ge(),Fe("div",{key:0,class:Ce(b(T).e("sidebar"))},[(ge(!0),Fe(Tn,null,li(f.value,(we,Me)=>(ge(),Fe("button",{key:Me,type:"button",disabled:b(Kt),class:Ce(b(T).e("shortcut")),onClick:Se=>b(R)(we)},yn(we.text),11,JSe))),128))],2)):gt("v-if",!0),Ve("div",{class:Ce(b(T).e("body"))},[Te.value?(ge(),Fe("div",{key:0,class:Ce(b(A).e("time-header"))},[Ve("span",{class:Ce(b(A).e("editors-wrap"))},[Ve("span",{class:Ce(b(A).e("time-picker-wrap"))},[V(b(ns),{size:"small",disabled:b(C).selecting||b(Kt),placeholder:b(Y)("el.datepicker.startDate"),class:Ce(b(A).e("editor")),"model-value":ht.value,"validate-event":!1,readonly:!le.editable,onInput:re[0]||(re[0]=we=>Gt(we,"min")),onChange:re[1]||(re[1]=we=>c(we,"min"))},null,8,["disabled","placeholder","class","model-value","readonly"])],2),Dr((ge(),Fe("span",{class:Ce(b(A).e("time-picker-wrap"))},[V(b(ns),{size:"small",class:Ce(b(A).e("editor")),disabled:b(C).selecting||b(Kt),placeholder:b(Y)("el.datepicker.startTime"),"model-value":Re.value,"validate-event":!1,readonly:!le.editable,onFocus:re[2]||(re[2]=we=>Ne.value=!0),onInput:re[3]||(re[3]=we=>xn(we,"min")),onChange:re[4]||(re[4]=we=>at(we,"min"))},null,8,["class","disabled","placeholder","model-value","readonly"]),V(b(mD),{visible:Ne.value,format:Ye.value,"datetime-role":"start","parsed-value":b(_)||v.value,onPick:se},null,8,["visible","format","parsed-value"])],2)),[[b(zv),tt]])],2),Ve("span",null,[V(b(Bn),null,{default:ie(()=>[V(b($u))]),_:1})]),Ve("span",{class:Ce([b(A).e("editors-wrap"),"is-right"])},[Ve("span",{class:Ce(b(A).e("time-picker-wrap"))},[V(b(ns),{size:"small",class:Ce(b(A).e("editor")),disabled:b(C).selecting||b(Kt),placeholder:b(Y)("el.datepicker.endDate"),"model-value":ae.value,readonly:!b(_)||!le.editable,"validate-event":!1,onInput:re[5]||(re[5]=we=>Gt(we,"max")),onChange:re[6]||(re[6]=we=>c(we,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Dr((ge(),Fe("span",{class:Ce(b(A).e("time-picker-wrap"))},[V(b(ns),{size:"small",class:Ce(b(A).e("editor")),disabled:b(C).selecting||b(Kt),placeholder:b(Y)("el.datepicker.endTime"),"model-value":rt.value,readonly:!b(_)||!le.editable,"validate-event":!1,onFocus:re[7]||(re[7]=we=>b(_)&&(De.value=!0)),onInput:re[8]||(re[8]=we=>xn(we,"max")),onChange:re[9]||(re[9]=we=>at(we,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),V(b(mD),{"datetime-role":"end",visible:De.value,format:Ye.value,"parsed-value":b(S)||p.value,onPick:w},null,8,["visible","format","parsed-value"])],2)),[[b(zv),xe]])],2)],2)):gt("v-if",!0),Ve("div",{class:Ce([[b(T).e("content"),b(A).e("content")],"is-left"])},[Ve("div",{class:Ce(b(A).e("header"))},[Ve("button",{type:"button",class:Ce([b(T).e("icon-btn"),"d-arrow-left"]),"aria-label":b(Y)("el.datepicker.prevYear"),disabled:b(Kt),onClick:Lt},[Ot(le.$slots,"prev-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ep))]),_:1})])],10,eTe),Dr(Ve("button",{type:"button",class:Ce([b(T).e("icon-btn"),"arrow-left"]),"aria-label":b(Y)("el.datepicker.prevMonth"),disabled:b(Kt),onClick:xt},[Ot(le.$slots,"prev-month",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(xm))]),_:1})])],10,tTe),[[Ei,b(X)==="date"]]),le.unlinkPanels?(ge(),Fe("button",{key:0,type:"button",disabled:!Ct.value||b(Kt),class:Ce([[b(T).e("icon-btn"),b(T).is("disabled",!Ct.value||b(Kt))],"d-arrow-right"]),"aria-label":b(Y)("el.datepicker.nextYear"),onClick:ft},[Ot(le.$slots,"next-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ap))]),_:1})])],10,nTe)):gt("v-if",!0),le.unlinkPanels&&b(X)==="date"?(ge(),Fe("button",{key:1,type:"button",disabled:!Pt.value||b(Kt),class:Ce([[b(T).e("icon-btn"),b(T).is("disabled",!Pt.value||b(Kt))],"arrow-right"]),"aria-label":b(Y)("el.datepicker.nextMonth"),onClick:tn},[Ot(le.$slots,"next-month",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b($u))]),_:1})])],10,rTe)):gt("v-if",!0),Ve("div",null,[Ve("span",{role:"button",class:Ce(b(A).e("header-label")),"aria-live":"polite",tabindex:le.disabled?void 0:0,"aria-disabled":le.disabled,onKeydown:re[10]||(re[10]=ts(we=>b(Ee)("year"),["enter"])),onClick:re[11]||(re[11]=we=>b(Ee)("year"))},yn(b(ue)),43,iTe),Dr(Ve("span",{role:"button","aria-live":"polite",tabindex:le.disabled?void 0:0,"aria-disabled":le.disabled,class:Ce([b(A).e("header-label"),{active:b(X)==="month"}]),onKeydown:re[12]||(re[12]=ts(we=>b(Ee)("month"),["enter"])),onClick:re[13]||(re[13]=we=>b(Ee)("month"))},yn(b(Y)(`el.datepicker.month${v.value.month()+1}`)),43,sTe),[[Ei,b(X)==="date"]])])],2),b(X)==="date"?(ge(),Tt(gD,{key:0,ref_key:"leftCurrentViewRef",ref:F,"selection-mode":"range",date:v.value,"min-date":b(_),"max-date":b(S),"range-state":b(C),"disabled-date":b(a),"cell-class-name":b(o),"show-week-number":le.showWeekNumber,disabled:b(Kt),onChangerange:b(P),onPick:Nt,onSelect:b(N)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):gt("v-if",!0),b(X)==="year"?(ge(),Tt(Xb,{key:1,ref_key:"leftCurrentViewRef",ref:F,"selection-mode":"year",date:v.value,"disabled-date":b(a),"parsed-value":le.parsedValue,disabled:b(Kt),onPick:b(Ge)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):gt("v-if",!0),b(X)==="month"?(ge(),Tt(qb,{key:2,ref_key:"leftCurrentViewRef",ref:F,"selection-mode":"month",date:v.value,"parsed-value":le.parsedValue,"disabled-date":b(a),disabled:b(Kt),onPick:b(Ie)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):gt("v-if",!0)],2),Ve("div",{class:Ce([[b(T).e("content"),b(A).e("content")],"is-right"])},[Ve("div",{class:Ce(b(A).e("header"))},[le.unlinkPanels?(ge(),Fe("button",{key:0,type:"button",disabled:!Ct.value||b(Kt),class:Ce([b(T).e("icon-btn"),"d-arrow-left"]),"aria-label":b(Y)("el.datepicker.prevYear"),onClick:_n},[Ot(le.$slots,"prev-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ep))]),_:1})])],10,aTe)):gt("v-if",!0),le.unlinkPanels&&b(W)==="date"?(ge(),Fe("button",{key:1,type:"button",disabled:!Pt.value||b(Kt),class:Ce([b(T).e("icon-btn"),"arrow-left"]),"aria-label":b(Y)("el.datepicker.prevMonth"),onClick:qt},[Ot(le.$slots,"prev-month",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(xm))]),_:1})])],10,oTe)):gt("v-if",!0),Ve("button",{type:"button","aria-label":b(Y)("el.datepicker.nextYear"),class:Ce([b(T).e("icon-btn"),"d-arrow-right"]),disabled:b(Kt),onClick:sn},[Ot(le.$slots,"next-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ap))]),_:1})])],10,lTe),Dr(Ve("button",{type:"button",class:Ce([b(T).e("icon-btn"),"arrow-right"]),disabled:b(Kt),"aria-label":b(Y)("el.datepicker.nextMonth"),onClick:zt},[Ot(le.$slots,"next-month",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b($u))]),_:1})])],10,uTe),[[Ei,b(W)==="date"]]),Ve("div",null,[Ve("span",{role:"button",class:Ce(b(A).e("header-label")),"aria-live":"polite",tabindex:le.disabled?void 0:0,"aria-disabled":le.disabled,onKeydown:re[14]||(re[14]=ts(we=>b(Oe)("year"),["enter"])),onClick:re[15]||(re[15]=we=>b(Oe)("year"))},yn(b(me)),43,cTe),Dr(Ve("span",{role:"button","aria-live":"polite",tabindex:le.disabled?void 0:0,"aria-disabled":le.disabled,class:Ce([b(A).e("header-label"),{active:b(W)==="month"}]),onKeydown:re[16]||(re[16]=ts(we=>b(Oe)("month"),["enter"])),onClick:re[17]||(re[17]=we=>b(Oe)("month"))},yn(b(Y)(`el.datepicker.month${p.value.month()+1}`)),43,dTe),[[Ei,b(W)==="date"]])])],2),b(W)==="date"?(ge(),Tt(gD,{key:0,ref_key:"rightCurrentViewRef",ref:te,"selection-mode":"range",date:p.value,"min-date":b(_),"max-date":b(S),"range-state":b(C),"disabled-date":b(a),"cell-class-name":b(o),"show-week-number":le.showWeekNumber,disabled:b(Kt),onChangerange:b(P),onPick:Nt,onSelect:b(N)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):gt("v-if",!0),b(W)==="year"?(ge(),Tt(Xb,{key:1,ref_key:"rightCurrentViewRef",ref:te,"selection-mode":"year",date:p.value,"disabled-date":b(a),"parsed-value":le.parsedValue,disabled:b(Kt),onPick:b($e)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):gt("v-if",!0),b(W)==="month"?(ge(),Tt(qb,{key:2,ref_key:"rightCurrentViewRef",ref:te,"selection-mode":"month",date:p.value,"parsed-value":le.parsedValue,"disabled-date":b(a),disabled:b(Kt),onPick:b(Ke)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):gt("v-if",!0)],2)],2)],2),le.showFooter&&Te.value&&(le.showConfirm||b(u))?(ge(),Fe("div",{key:0,class:Ce(b(T).e("footer"))},[b(u)?(ge(),Tt(b(qr),{key:0,text:"",size:"small",class:Ce(b(T).e("link-btn")),onClick:k},{default:ie(()=>[Rt(yn(b(Y)("el.datepicker.clear")),1)]),_:1},8,["class"])):gt("v-if",!0),le.showConfirm?(ge(),Tt(b(qr),{key:1,plain:"",size:"small",class:Ce(b(T).e("link-btn")),disabled:$t.value,onClick:re[18]||(re[18]=we=>b(D)(!1))},{default:ie(()=>[Rt(yn(b(Y)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):gt("v-if",!0)],2)):gt("v-if",!0)],2))}});var hTe=Nn(fTe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-range.vue"]]);const pTe=On({...i8}),mTe=["pick","set-picker-option","calendar-change"],gTe=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:r}=mi(),i=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},s=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},a=()=>{e.value=e.value.add(1,"year")},o=()=>{n.value=n.value.subtract(1,"year")},l=he(()=>`${e.value.year()} ${r("el.datepicker.year")}`),u=he(()=>`${n.value.year()} ${r("el.datepicker.year")}`),d=he(()=>e.value.year()),f=he(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:i,rightNextYear:s,leftNextYear:a,rightPrevYear:o,leftLabel:l,rightLabel:u,leftYear:d,rightYear:f}},vTe=["disabled","onClick"],yTe=["disabled"],_Te=["disabled"],bTe=["disabled"],xTe=["disabled"],sw="year",wTe=kt({name:"DatePickerMonthRange",__name:"panel-month-range",props:pTe,emits:mTe,setup(t,{emit:e}){const n=t,r=e,{lang:i}=mi(),s=In(Md),a=In(sx,void 0),{shortcuts:o,disabledDate:l,cellClassName:u}=s.props,d=_s(s.props,"format"),f=_s(s.props,"defaultValue"),h=ye(Wn().locale(i.value)),g=ye(Wn().locale(i.value).add(1,sw)),{minDate:v,maxDate:p,rangeState:_,ppNs:S,drpNs:C,handleChangeRange:T,handleRangeConfirm:A,handleShortcutClick:P,onSelect:D,parseValue:R}=o8(n,{defaultValue:f,leftDate:h,rightDate:g,unit:sw,sortDates:ue}),N=he(()=>!!o.length),{leftPrevYear:U,rightNextYear:Y,leftNextYear:H,rightPrevYear:j,leftLabel:X,rightLabel:W,leftYear:F,rightYear:te}=gTe({unlinkPanels:_s(n,"unlinkPanels"),leftDate:h,rightDate:g}),G=he(()=>n.unlinkPanels&&te.value>F.value+1),K=(Ee,Oe=!0)=>{const Ge=Ee.minDate,$e=Ee.maxDate;p.value===$e&&v.value===Ge||(r("calendar-change",[Ge.toDate(),$e&&$e.toDate()]),p.value=$e,v.value=Ge,Oe&&A())},ee=()=>{let Ee=null;s!=null&&s.emptyValues&&(Ee=s.emptyValues.valueOnClear.value),h.value=$E(b(f),{lang:b(i),unit:"year",unlinkPanels:n.unlinkPanels})[0],g.value=h.value.add(1,"year"),r("pick",Ee)},de=Ee=>jv(Ee,d.value,i.value,a);function ue(Ee,Oe){if(n.unlinkPanels&&Oe){const Ge=(Ee==null?void 0:Ee.year())||0,$e=Oe.year();g.value=Ge===$e?Oe.add(1,sw):Oe}else g.value=h.value.add(1,sw)}const me=uo();return Zt(()=>n.visible,Ee=>{!Ee&&_.value.selecting&&(R(n.parsedValue),D(!1))}),r("set-picker-option",["isValidValue",Wb]),r("set-picker-option",["parseUserInput",de]),r("set-picker-option",["handleClear",ee]),(Ee,Oe)=>(ge(),Fe("div",{class:Ce([b(S).b(),b(C).b(),b(S).is("border",Ee.border),b(S).is("disabled",b(me)),{"has-sidebar":!!Ee.$slots.sidebar||N.value}])},[Ve("div",{class:Ce(b(S).e("body-wrapper"))},[Ot(Ee.$slots,"sidebar",{class:Ce(b(S).e("sidebar"))}),N.value?(ge(),Fe("div",{key:0,class:Ce(b(S).e("sidebar"))},[(ge(!0),Fe(Tn,null,li(b(o),(Ge,$e)=>(ge(),Fe("button",{key:$e,type:"button",class:Ce(b(S).e("shortcut")),disabled:b(me),onClick:Ie=>b(P)(Ge)},yn(Ge.text),11,vTe))),128))],2)):gt("v-if",!0),Ve("div",{class:Ce(b(S).e("body"))},[Ve("div",{class:Ce([[b(S).e("content"),b(C).e("content")],"is-left"])},[Ve("div",{class:Ce(b(C).e("header"))},[Ve("button",{type:"button",class:Ce([b(S).e("icon-btn"),"d-arrow-left"]),disabled:b(me),onClick:Oe[0]||(Oe[0]=(...Ge)=>b(U)&&b(U)(...Ge))},[Ot(Ee.$slots,"prev-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ep))]),_:1})])],10,yTe),Ee.unlinkPanels?(ge(),Fe("button",{key:0,type:"button",disabled:!G.value||b(me),class:Ce([[b(S).e("icon-btn"),b(S).is("disabled",!G.value||b(me))],"d-arrow-right"]),onClick:Oe[1]||(Oe[1]=(...Ge)=>b(H)&&b(H)(...Ge))},[Ot(Ee.$slots,"next-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ap))]),_:1})])],10,_Te)):gt("v-if",!0),Ve("div",null,yn(b(X)),1)],2),V(qb,{"selection-mode":"range",date:h.value,"min-date":b(v),"max-date":b(p),"range-state":b(_),"disabled-date":b(l),disabled:b(me),"cell-class-name":b(u),onChangerange:b(T),onPick:K,onSelect:b(D)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),Ve("div",{class:Ce([[b(S).e("content"),b(C).e("content")],"is-right"])},[Ve("div",{class:Ce(b(C).e("header"))},[Ee.unlinkPanels?(ge(),Fe("button",{key:0,type:"button",disabled:!G.value||b(me),class:Ce([[b(S).e("icon-btn"),b(S).is("disabled",!G.value||b(me))],"d-arrow-left"]),onClick:Oe[2]||(Oe[2]=(...Ge)=>b(j)&&b(j)(...Ge))},[Ot(Ee.$slots,"prev-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ep))]),_:1})])],10,bTe)):gt("v-if",!0),Ve("button",{type:"button",class:Ce([b(S).e("icon-btn"),"d-arrow-right"]),disabled:b(me),onClick:Oe[3]||(Oe[3]=(...Ge)=>b(Y)&&b(Y)(...Ge))},[Ot(Ee.$slots,"next-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ap))]),_:1})])],10,xTe),Ve("div",null,yn(b(W)),1)],2),V(qb,{"selection-mode":"range",date:g.value,"min-date":b(v),"max-date":b(p),"range-state":b(_),"disabled-date":b(l),disabled:b(me),"cell-class-name":b(u),onChangerange:b(T),onPick:K,onSelect:b(D)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var STe=Nn(wTe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-month-range.vue"]]);const TTe=On({...i8}),CTe=["pick","set-picker-option","calendar-change"],ETe=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const r=()=>{e.value=e.value.subtract(10,"year"),t.value||(n.value=n.value.subtract(10,"year"))},i=()=>{t.value||(e.value=e.value.add(10,"year")),n.value=n.value.add(10,"year")},s=()=>{e.value=e.value.add(10,"year")},a=()=>{n.value=n.value.subtract(10,"year")},o=he(()=>{const f=Math.floor(e.value.year()/10)*10;return`${f}-${f+9}`}),l=he(()=>{const f=Math.floor(n.value.year()/10)*10;return`${f}-${f+9}`}),u=he(()=>Math.floor(e.value.year()/10)*10+9),d=he(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:i,leftNextYear:s,rightPrevYear:a,leftLabel:o,rightLabel:l,leftYear:u,rightYear:d}},ATe=["disabled","onClick"],PTe=["disabled"],kTe=["disabled"],DTe=["disabled"],ITe=["disabled"],mg=10,I_="year",RTe=kt({name:"DatePickerYearRange",__name:"panel-year-range",props:TTe,emits:CTe,setup(t,{emit:e}){const n=t,r=e,{lang:i}=mi(),s=ye(Wn().locale(i.value)),a=ye(Wn().locale(i.value).add(mg,I_)),o=In(sx,void 0),l=In(Md),{shortcuts:u,disabledDate:d,cellClassName:f}=l.props,h=_s(l.props,"format"),g=_s(l.props,"defaultValue"),{minDate:v,maxDate:p,rangeState:_,ppNs:S,drpNs:C,handleChangeRange:T,handleRangeConfirm:A,handleShortcutClick:P,onSelect:D,parseValue:R}=o8(n,{defaultValue:g,leftDate:s,rightDate:a,step:mg,unit:I_,sortDates:$e}),{leftPrevYear:N,rightNextYear:U,leftNextYear:Y,rightPrevYear:H,leftLabel:j,rightLabel:X,leftYear:W,rightYear:F}=ETe({unlinkPanels:_s(n,"unlinkPanels"),leftDate:s,rightDate:a}),te=uo(),G=he(()=>!!u.length),K=he(()=>[S.b(),C.b(),S.is("border",n.border),S.is("disabled",te.value),{"has-sidebar":!!cl().sidebar||G.value}]),ee=he(()=>({content:[S.e("content"),C.e("content"),"is-left"],arrowLeftBtn:[S.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[S.e("icon-btn"),S.is("disabled",!ue.value||te.value),"d-arrow-right"]})),de=he(()=>({content:[S.e("content"),C.e("content"),"is-right"],arrowLeftBtn:[S.e("icon-btn"),S.is("disabled",!ue.value||te.value),"d-arrow-left"],arrowRightBtn:[S.e("icon-btn"),"d-arrow-right"]})),ue=he(()=>n.unlinkPanels&&F.value>W.value+1),me=(Ie,Ke=!0)=>{const Xe=Ie.minDate,Ze=Ie.maxDate;p.value===Ze&&v.value===Xe||(r("calendar-change",[Xe.toDate(),Ze&&Ze.toDate()]),p.value=Ze,v.value=Xe,Ke&&A())},Ee=Ie=>jv(Ie,h.value,i.value,o),Oe=Ie=>Wb(Ie)&&(d?!d(Ie[0].toDate())&&!d(Ie[1].toDate()):!0),Ge=()=>{let Ie=null;l!=null&&l.emptyValues&&(Ie=l.emptyValues.valueOnClear.value);const Ke=$E(b(g),{lang:b(i),step:mg,unit:I_,unlinkPanels:n.unlinkPanels});s.value=Ke[0],a.value=Ke[1],r("pick",Ie)};function $e(Ie,Ke){if(n.unlinkPanels&&Ke){const Xe=(Ie==null?void 0:Ie.year())||0,Ze=Ke.year();a.value=Xe+mg>Ze?Ke.add(mg,I_):Ke}else a.value=s.value.add(mg,I_)}return Zt(()=>n.visible,Ie=>{!Ie&&_.value.selecting&&(R(n.parsedValue),D(!1))}),r("set-picker-option",["isValidValue",Oe]),r("set-picker-option",["parseUserInput",Ee]),r("set-picker-option",["handleClear",Ge]),(Ie,Ke)=>(ge(),Fe("div",{class:Ce(K.value)},[Ve("div",{class:Ce(b(S).e("body-wrapper"))},[Ot(Ie.$slots,"sidebar",{class:Ce(b(S).e("sidebar"))}),G.value?(ge(),Fe("div",{key:0,class:Ce(b(S).e("sidebar"))},[(ge(!0),Fe(Tn,null,li(b(u),(Xe,Ze)=>(ge(),Fe("button",{key:Ze,type:"button",class:Ce(b(S).e("shortcut")),disabled:b(te),onClick:bt=>b(P)(Xe)},yn(Xe.text),11,ATe))),128))],2)):gt("v-if",!0),Ve("div",{class:Ce(b(S).e("body"))},[Ve("div",{class:Ce(ee.value.content)},[Ve("div",{class:Ce(b(C).e("header"))},[Ve("button",{type:"button",class:Ce(ee.value.arrowLeftBtn),disabled:b(te),onClick:Ke[0]||(Ke[0]=(...Xe)=>b(N)&&b(N)(...Xe))},[Ot(Ie.$slots,"prev-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ep))]),_:1})])],10,PTe),Ie.unlinkPanels?(ge(),Fe("button",{key:0,type:"button",disabled:!ue.value||b(te),class:Ce(ee.value.arrowRightBtn),onClick:Ke[1]||(Ke[1]=(...Xe)=>b(Y)&&b(Y)(...Xe))},[Ot(Ie.$slots,"next-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ap))]),_:1})])],10,kTe)):gt("v-if",!0),Ve("div",null,yn(b(j)),1)],2),V(Xb,{"selection-mode":"range",date:s.value,"min-date":b(v),"max-date":b(p),"range-state":b(_),"disabled-date":b(d),disabled:b(te),"cell-class-name":b(f),onChangerange:b(T),onPick:me,onSelect:b(D)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),Ve("div",{class:Ce(de.value.content)},[Ve("div",{class:Ce(b(C).e("header"))},[Ie.unlinkPanels?(ge(),Fe("button",{key:0,type:"button",disabled:!ue.value||b(te),class:Ce(de.value.arrowLeftBtn),onClick:Ke[2]||(Ke[2]=(...Xe)=>b(H)&&b(H)(...Xe))},[Ot(Ie.$slots,"prev-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ep))]),_:1})])],10,DTe)):gt("v-if",!0),Ve("button",{type:"button",class:Ce(de.value.arrowRightBtn),disabled:b(te),onClick:Ke[3]||(Ke[3]=(...Xe)=>b(U)&&b(U)(...Xe))},[Ot(Ie.$slots,"next-year",{},()=>[V(b(Bn),null,{default:ie(()=>[V(b(Ap))]),_:1})])],10,ITe),Ve("div",null,yn(b(X)),1)],2),V(Xb,{"selection-mode":"range",date:a.value,"min-date":b(v),"max-date":b(p),"range-state":b(_),"disabled-date":b(d),disabled:b(te),"cell-class-name":b(f),onChangerange:b(T),onPick:me,onSelect:b(D)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var OTe=Nn(RTe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-year-range.vue"]]);const MTe=function(t){switch(t){case"daterange":case"datetimerange":return hTe;case"monthrange":return STe;case"yearrange":return OTe;default:return YSe}};function LTe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ia(t)}Wn.extend(bxe);Wn.extend(uSe);Wn.extend(Uwe);Wn.extend(dSe);Wn.extend(hSe);Wn.extend(mSe);Wn.extend(vSe);Wn.extend(_Se);var $Te=kt({name:"ElDatePickerPanel",install:null,inheritAttrs:!1,props:bSe,emits:[Ti,"calendar-change","panel-change","visible-change"],setup(t,{slots:e,emit:n,attrs:r}){const i=gn("picker-panel"),s=In(Md,void 0);if(Ni(s)){const f=lr({...cu(t)});pi(Md,{props:f})}pi(n8,{slots:e,pickerNs:i});const{parsedValue:a,onCalendarChange:o,onPanelChange:l,onSetPickerOption:u,onPick:d}=In(uK,()=>cK(t,n),!0);return()=>{const f=MTe(t.type);return V(f,Fi(CE(r,"onPick"),t,{parsedValue:a.value,"onSet-picker-option":u,"onCalendar-change":o,"onPanel-change":l,onPick:d}),LTe(e)?e:{default:()=>[e]})}}});const NTe=_i($Te),FTe=On({...dK,type:{type:Dt(String),default:"date"}});function BTe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ia(t)}var UTe=kt({name:"ElDatePicker",install:null,props:FTe,emits:[Ti],setup(t,{expose:e,emit:n,slots:r}){const i=he(()=>!t.format);pi(sx,i),pi(lK,lr(_s(t,"popperOptions")));const s=ye();e({focus:()=>{var l;(l=s.value)==null||l.focus()},blur:()=>{var l;(l=s.value)==null||l.blur()},handleOpen:()=>{var l;(l=s.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=s.value)==null||l.handleClose()}});const o=l=>{n(Ti,l)};return()=>{var l;const u=(l=t.format)!=null?l:Vwe[t.type]||Jh;return V(Ywe,Fi(t,{format:u,type:t.type,ref:s,"onUpdate:modelValue":o}),{default:d=>V(NTe,Fi({disabled:t.disabled,editable:t.editable,border:!1},d),BTe(r)?r:{default:()=>[r]}),"range-separator":r["range-separator"]})}}});const bK=_i(UTe),l8=t=>{if(!t)return{onClick:Zr,onMousedown:Zr,onMouseup:Zr};let e=!1,n=!1;return{onClick:a=>{e&&n&&t(a),e=n=!1},onMousedown:a=>{e=a.target===a.currentTarget},onMouseup:a=>{n=a.target===a.currentTarget}}},VTe=On({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:Dt([String,Array,Object])},zIndex:{type:Dt([String,Number])}}),zTe={click:t=>t instanceof MouseEvent},HTe="overlay";var jTe=kt({name:"ElOverlay",props:VTe,emits:zTe,setup(t,{slots:e,emit:n}){const r=gn(HTe),i=l=>{n("click",l)},{onClick:s,onMousedown:a,onMouseup:o}=l8(t.customMaskEvent?void 0:i);return()=>t.mask?V("div",{class:[r.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:s,onMousedown:a,onMouseup:o},[Ot(e,"default")],PS.STYLE|PS.CLASS|PS.PROPS,["onClick","onMouseup","onMousedown"]):En("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Ot(e,"default")])}});const u8=jTe,xK=Symbol("dialogInjectionKey"),bB="dialog-fade",wK=On({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:$s},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),GTe={close:()=>!0},SK=(t,e,n,r)=>{const i={offsetX:0,offsetY:0},s=ye(!1),a=(h,g)=>{if(t.value){const{offsetX:v,offsetY:p}=i,_=t.value.getBoundingClientRect(),S=_.left,C=_.top,T=_.width,A=_.height,P=document.documentElement.clientWidth,D=document.documentElement.clientHeight,R=-S+v,N=-C+p,U=P-S-T+v,Y=D-C-(A<D?A:0)+p;r!=null&&r.value||(h=Math.min(Math.max(h,R),U),g=Math.min(Math.max(g,N),Y)),i.offsetX=h,i.offsetY=g,t.value.style.transform=`translate(${zu(h)}, ${zu(g)})`}},o=h=>{const g=h.clientX,v=h.clientY,{offsetX:p,offsetY:_}=i,S=T=>{s.value||(s.value=!0);const A=p+T.clientX-g,P=_+T.clientY-v;a(A,P)},C=()=>{s.value=!1,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",S),document.addEventListener("mouseup",C)},l=()=>{e.value&&t.value&&(e.value.addEventListener("mousedown",o),window.addEventListener("resize",f))},u=()=>{e.value&&t.value&&(e.value.removeEventListener("mousedown",o),window.removeEventListener("resize",f))},d=()=>{i.offsetX=0,i.offsetY=0,t.value&&(t.value.style.transform="")},f=()=>{const{offsetX:h,offsetY:g}=i;a(h,g)};return zr(()=>{Tp(()=>{n.value?l():u()})}),Ri(()=>{u()}),{isDragging:s,resetPosition:d,updatePosition:f}},WTe=(...t)=>e=>{t.forEach(n=>{n.value=e})},qTe=["aria-level"],XTe=["aria-label"],YTe=["id"],KTe=kt({name:"ElDialogContent",__name:"dialog-content",props:wK,emits:GTe,setup(t,{expose:e}){const{t:n}=mi(),{Close:r}=n2e,i=t,{dialogRef:s,headerRef:a,bodyId:o,ns:l,style:u}=In(xK),{focusTrapRef:d}=In(cY),f=WTe(d,s),h=he(()=>!!i.draggable),g=he(()=>!!i.overflow),{resetPosition:v,updatePosition:p,isDragging:_}=SK(s,a,h,g),S=he(()=>[l.b(),l.is("fullscreen",i.fullscreen),l.is("draggable",h.value),l.is("dragging",_.value),l.is("align-center",!!i.alignCenter),{[l.m("center")]:i.center}]);return e({resetPosition:v,updatePosition:p}),(C,T)=>(ge(),Fe("div",{ref:b(f),class:Ce(S.value),style:dr(b(u)),tabindex:"-1"},[Ve("header",{ref_key:"headerRef",ref:a,class:Ce([b(l).e("header"),C.headerClass,{"show-close":C.showClose}])},[Ot(C.$slots,"header",{},()=>[Ve("span",{role:"heading","aria-level":C.ariaLevel,class:Ce(b(l).e("title"))},yn(C.title),11,qTe)]),C.showClose?(ge(),Fe("button",{key:0,"aria-label":b(n)("el.dialog.close"),class:Ce(b(l).e("headerbtn")),type:"button",onClick:T[0]||(T[0]=A=>C.$emit("close"))},[V(b(Bn),{class:Ce(b(l).e("close"))},{default:ie(()=>[(ge(),Tt(ti(C.closeIcon||b(r))))]),_:1},8,["class"])],10,XTe)):gt("v-if",!0)],2),Ve("div",{id:b(o),class:Ce([b(l).e("body"),C.bodyClass])},[Ot(C.$slots,"default")],10,YTe),C.$slots.footer?(ge(),Fe("footer",{key:0,class:Ce([b(l).e("footer"),C.footerClass])},[Ot(C.$slots,"footer")],2)):gt("v-if",!0)],6))}});var ZTe=Nn(KTe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const TK=On({...wK,appendToBody:Boolean,appendTo:{type:RM.to.type,default:"body"},beforeClose:{type:Dt(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:Dt([String,Object]),default:void 0}}),CK={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Ti]:t=>ta(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},c8=(t,e={})=>{tr(t)||ll("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||gn("popup"),r=he(()=>n.bm("parent","hidden"));let i=0,s=!1,a="0";const o=()=>{setTimeout(()=>{typeof document>"u"||s&&document&&(document.body.style.width=a,su(document.body,r.value))},200)};Zt(t,l=>{if(!l){o();return}s=!Sd(document.body,r.value),s&&(a=document.body.style.width,uc(document.body,r.value)),i=$ye(n.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,d=Qh(document.body,"overflowY");i>0&&(u||d==="scroll")&&s&&(document.body.style.width=`calc(100% - ${i}px)`)}),YO(()=>o())},EK=(t,e)=>{var n;const i=Ar().emit,{nextZIndex:s}=PE();let a="";const o=Cc(),l=Cc(),u=ye(!1),d=ye(!1),f=ye(!1),h=ye((n=t.zIndex)!=null?n:s()),g=ye(!1);let v,p;const _=Q1(),S=he(()=>{var me,Ee;return(Ee=(me=_.value)==null?void 0:me.namespace)!=null?Ee:G2}),C=he(()=>{var me;return(me=_.value)==null?void 0:me.dialog}),T=he(()=>{const me={},Ee=`--${S.value}-dialog`;if(!t.fullscreen){t.top&&(me[`${Ee}-margin-top`]=t.top);const Oe=zu(t.width);Oe&&(me[`${Ee}-width`]=Oe)}return me}),A=he(()=>{var me,Ee,Oe;return((Oe=(Ee=t.draggable)!=null?Ee:(me=C.value)==null?void 0:me.draggable)!=null?Oe:!1)&&!t.fullscreen}),P=he(()=>{var me,Ee,Oe;return(Oe=(Ee=t.alignCenter)!=null?Ee:(me=C.value)==null?void 0:me.alignCenter)!=null?Oe:!1}),D=he(()=>{var me,Ee,Oe;return(Oe=(Ee=t.overflow)!=null?Ee:(me=C.value)==null?void 0:me.overflow)!=null?Oe:!1}),R=he(()=>P.value?{display:"flex"}:{}),N=he(()=>{var me,Ee,Oe;const Ge=(Oe=(Ee=t.transition)!=null?Ee:(me=C.value)==null?void 0:me.transition)!=null?Oe:bB,$e={name:Ge,onAfterEnter:U,onBeforeLeave:H,onAfterLeave:Y};if(fr(Ge)){const Ie={...Ge},Ke=(Xe,Ze)=>bt=>{nn(Xe)?Xe.forEach(ht=>{kn(ht)&&ht(bt)}):kn(Xe)&&Xe(bt),Ze()};return Ie.onAfterEnter=Ke(Ie.onAfterEnter,U),Ie.onBeforeLeave=Ke(Ie.onBeforeLeave,H),Ie.onAfterLeave=Ke(Ie.onAfterLeave,Y),Ie.name||(Ie.name=bB),Ie}return $e});function U(){i("opened")}function Y(){i("closed"),i(Ti,!1),t.destroyOnClose&&(f.value=!1),g.value=!1}function H(){g.value=!0,i("close")}function j(){p==null||p(),v==null||v(),t.openDelay&&t.openDelay>0?{stop:v}=Lv(()=>te(),t.openDelay):te()}function X(){v==null||v(),p==null||p(),t.closeDelay&&t.closeDelay>0?{stop:p}=Lv(()=>G(),t.closeDelay):G()}function W(){function me(Ee){Ee||(d.value=!0,u.value=!1)}t.beforeClose?t.beforeClose(me):X()}function F(){t.closeOnClickModal&&W()}function te(){Vr&&(u.value=!0)}function G(){u.value=!1}function K(){i("openAutoFocus")}function ee(){i("closeAutoFocus")}function de(me){var Ee;((Ee=me.detail)==null?void 0:Ee.focusReason)==="pointer"&&me.preventDefault()}t.lockScroll&&c8(u);function ue(){t.closeOnPressEscape&&W()}return Zt(()=>t.zIndex,()=>{var me;h.value=(me=t.zIndex)!=null?me:s()}),Zt(()=>t.modelValue,me=>{var Ee;me?(d.value=!1,j(),f.value=!0,h.value=(Ee=t.zIndex)!=null?Ee:s(),Vn(()=>{i("open"),e.value&&(e.value.parentElement.scrollTop=0,e.value.parentElement.scrollLeft=0,e.value.scrollTop=0)})):u.value&&X()}),Zt(()=>t.fullscreen,me=>{e.value&&(me?(a=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=a)}),zr(()=>{t.modelValue&&(u.value=!0,f.value=!0,j())}),{afterEnter:U,afterLeave:Y,beforeLeave:H,handleClose:W,onModalClick:F,close:X,doClose:G,onOpenAutoFocus:K,onCloseAutoFocus:ee,onCloseRequested:ue,onFocusoutPrevented:de,titleId:o,bodyId:l,closed:d,style:T,overlayDialogStyle:R,rendered:f,visible:u,zIndex:h,transitionConfig:N,_draggable:A,_alignCenter:P,_overflow:D,closing:g}},QTe=["aria-label","aria-labelledby","aria-describedby"],JTe=kt({name:"ElDialog",inheritAttrs:!1,__name:"dialog",props:TK,emits:CK,setup(t,{expose:e}){const n=t,r=cl();hp({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},he(()=>!!r.title));const i=gn("dialog"),s=ye(),a=ye(),o=ye(),{visible:l,titleId:u,bodyId:d,style:f,overlayDialogStyle:h,rendered:g,transitionConfig:v,zIndex:p,_draggable:_,_alignCenter:S,_overflow:C,handleClose:T,onModalClick:A,onOpenAutoFocus:P,onCloseAutoFocus:D,onCloseRequested:R,onFocusoutPrevented:N,closing:U}=EK(n,s);pi(xK,{dialogRef:s,headerRef:a,bodyId:d,ns:i,rendered:g,style:f});const Y=l8(A),H=he(()=>n.modalPenetrable&&!n.modal&&!n.fullscreen);return e({visible:l,dialogContentRef:o,resetPosition:()=>{var X;(X=o.value)==null||X.resetPosition()},handleClose:T}),(X,W)=>(ge(),Tt(b(IE),{to:X.appendTo,disabled:X.appendTo!=="body"?!1:!X.appendToBody},{default:ie(()=>[V($l,Fi(b(v),{persisted:""}),{default:ie(()=>{var F;return[Dr(V(b(u8),{"custom-mask-event":"",mask:X.modal,"overlay-class":[(F=X.modalClass)!=null?F:"",`${b(i).namespace.value}-modal-dialog`,b(i).is("penetrable",H.value)],"z-index":b(p)},{default:ie(()=>[Ve("div",{role:"dialog","aria-modal":"true","aria-label":X.title||void 0,"aria-labelledby":X.title?void 0:b(u),"aria-describedby":b(d),class:Ce([`${b(i).namespace.value}-overlay-dialog`,b(i).is("closing",b(U))]),style:dr(b(h)),onClick:W[0]||(W[0]=(...te)=>b(Y).onClick&&b(Y).onClick(...te)),onMousedown:W[1]||(W[1]=(...te)=>b(Y).onMousedown&&b(Y).onMousedown(...te)),onMouseup:W[2]||(W[2]=(...te)=>b(Y).onMouseup&&b(Y).onMouseup(...te))},[V(b(nx),{loop:"",trapped:b(l),"focus-start-el":"container",onFocusAfterTrapped:b(P),onFocusAfterReleased:b(D),onFocusoutPrevented:b(N),onReleaseRequested:b(R)},{default:ie(()=>[b(g)?(ge(),Tt(ZTe,Fi({key:0,ref_key:"dialogContentRef",ref:o},X.$attrs,{center:X.center,"align-center":b(S),"close-icon":X.closeIcon,draggable:b(_),overflow:b(C),fullscreen:X.fullscreen,"header-class":X.headerClass,"body-class":X.bodyClass,"footer-class":X.footerClass,"show-close":X.showClose,title:X.title,"aria-level":X.headerAriaLevel,onClose:b(T)}),Rb({header:ie(()=>[X.$slots.title?Ot(X.$slots,"title",{key:1}):Ot(X.$slots,"header",{key:0,close:b(T),titleId:b(u),titleClass:b(i).e("title")})]),default:ie(()=>[Ot(X.$slots,"default")]),_:2},[X.$slots.footer?{name:"footer",fn:ie(()=>[Ot(X.$slots,"footer")]),key:"0"}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):gt("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,QTe)]),_:3},8,["mask","overlay-class","z-index"]),[[Ei,b(l)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}});var eCe=Nn(JTe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Do=_i(eCe),tCe=On({...TK,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),nCe={...CK,"resize-start":(t,e)=>t instanceof MouseEvent&&typeof e=="number",resize:(t,e)=>t instanceof MouseEvent&&typeof e=="number","resize-end":(t,e)=>t instanceof MouseEvent&&typeof e=="number"};function rCe(t,e,n){const{width:r,height:i}=_ye(),s=he(()=>["ltr","rtl"].includes(t.direction)),a=he(()=>["ltr","ttb"].includes(t.direction)?1:-1),o=he(()=>s.value?r.value:i.value),l=he(()=>kX(u.value+a.value*d.value,4,o.value)),u=ye(0),d=ye(0),f=ye(!1),h=ye(!1);let g=[],v=[];const p=()=>{var A;const P=(A=e.value)==null?void 0:A.closest('[aria-modal="true"]');return P?s.value?P.offsetWidth:P.offsetHeight:100};Zt(()=>[t.size,t.resizable],()=>{h.value=!1,u.value=0,d.value=0,C()});const _=A=>{t.resizable&&(h.value||(u.value=p(),h.value=!0),g=[A.pageX,A.pageY],f.value=!0,n("resize-start",A,u.value),v.push(Hi(window,"mouseup",C),Hi(window,"mousemove",S)))},S=A=>{const{pageX:P,pageY:D}=A,R=P-g[0],N=D-g[1];d.value=s.value?R:N,n("resize",A,l.value)},C=A=>{f.value&&(g=[],u.value=l.value,d.value=0,f.value=!1,v.forEach(P=>P==null?void 0:P()),v=[],A&&n("resize-end",A,u.value))},T=Hi(e,"mousedown",_);return Ri(()=>{T(),C()}),{size:he(()=>h.value?`${l.value}px`:zu(t.size)),isResizing:f,isHorizontal:s}}const iCe=["aria-label","aria-labelledby","aria-describedby"],sCe=["id","aria-level"],aCe=["aria-label"],oCe=["id"],lCe=kt({name:"ElDrawer",inheritAttrs:!1,__name:"drawer",props:tCe,emits:nCe,setup(t,{expose:e,emit:n}){const r=t,i=n,s=cl();hp({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},he(()=>!!s.title));const a=ye(),o=ye(),l=ye(),u=gn("drawer"),{t:d}=mi(),{afterEnter:f,afterLeave:h,beforeLeave:g,visible:v,rendered:p,titleId:_,bodyId:S,zIndex:C,onModalClick:T,onOpenAutoFocus:A,onCloseAutoFocus:P,onFocusoutPrevented:D,onCloseRequested:R,handleClose:N}=EK(r,a),{isHorizontal:U,size:Y,isResizing:H}=rCe(r,l,i),j=he(()=>r.modalPenetrable&&!r.modal);return e({handleClose:N,afterEnter:f,afterLeave:h}),(X,W)=>(ge(),Tt(b(IE),{to:X.appendTo,disabled:X.appendTo!=="body"?!1:!X.appendToBody},{default:ie(()=>[V($l,{name:b(u).b("fade"),onAfterEnter:b(f),onAfterLeave:b(h),onBeforeLeave:b(g),persisted:""},{default:ie(()=>{var F;return[Dr(V(b(u8),{mask:X.modal,"overlay-class":[b(u).is("drawer"),(F=X.modalClass)!=null?F:"",`${b(u).namespace.value}-modal-drawer`,b(u).is("penetrable",j.value)],"z-index":b(C),onClick:b(T)},{default:ie(()=>[V(b(nx),{loop:"",trapped:b(v),"focus-trap-el":a.value,"focus-start-el":o.value,onFocusAfterTrapped:b(A),onFocusAfterReleased:b(P),onFocusoutPrevented:b(D),onReleaseRequested:b(R)},{default:ie(()=>[Ve("div",Fi({ref_key:"drawerRef",ref:a,"aria-modal":"true","aria-label":X.title||void 0,"aria-labelledby":X.title?void 0:b(_),"aria-describedby":b(S)},X.$attrs,{class:[b(u).b(),X.direction,b(v)&&"open",b(u).is("dragging",b(H))],style:{[b(U)?"width":"height"]:b(Y)},role:"dialog",onClick:W[1]||(W[1]=Cr(()=>{},["stop"]))}),[Ve("span",{ref_key:"focusStartRef",ref:o,class:Ce(b(u).e("sr-focus")),tabindex:"-1"},null,2),X.withHeader?(ge(),Fe("header",{key:0,class:Ce([b(u).e("header"),X.headerClass])},[X.$slots.title?Ot(X.$slots,"title",{key:1},()=>[gt(" DEPRECATED SLOT ")]):Ot(X.$slots,"header",{key:0,close:b(N),titleId:b(_),titleClass:b(u).e("title")},()=>[Ve("span",{id:b(_),role:"heading","aria-level":X.headerAriaLevel,class:Ce(b(u).e("title"))},yn(X.title),11,sCe)]),X.showClose?(ge(),Fe("button",{key:2,"aria-label":b(d)("el.drawer.close"),class:Ce(b(u).e("close-btn")),type:"button",onClick:W[0]||(W[0]=(...te)=>b(N)&&b(N)(...te))},[V(b(Bn),{class:Ce(b(u).e("close"))},{default:ie(()=>[V(b(Rd))]),_:1},8,["class"])],10,aCe)):gt("v-if",!0)],2)):gt("v-if",!0),b(p)?(ge(),Fe("div",{key:1,id:b(S),class:Ce([b(u).e("body"),X.bodyClass])},[Ot(X.$slots,"default")],10,oCe)):gt("v-if",!0),X.$slots.footer?(ge(),Fe("div",{key:2,class:Ce([b(u).e("footer"),X.footerClass])},[Ot(X.$slots,"footer")],2)):gt("v-if",!0),X.resizable?(ge(),Fe("div",{key:3,ref_key:"draggerRef",ref:l,style:dr({zIndex:b(C)}),class:Ce(b(u).e("dragger"))},null,6)):gt("v-if",!0)],16,iCe)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Ei,b(v)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var uCe=Nn(lCe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const AK=_i(uCe),cCe=On({size:{type:String,values:jp},disabled:Boolean}),dCe=On({...cCe,model:Object,rules:{type:Dt(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:Dt([Object,Boolean]),default:!0}}),fCe={validate:(t,e,n)=>(nn(t)||Kn(t))&&ta(e)&&Kn(n)};function hCe(){const t=ye([]),e=he(()=>{if(!t.value.length)return"0";const s=Math.max(...t.value);return s?`${s}px`:""});function n(s){const a=t.value.indexOf(s);return a===-1&&e.value,a}function r(s,a){if(s&&a){const o=n(a);t.value.splice(o,1,s)}else s&&t.value.push(s)}function i(s){const a=n(s);a>-1&&t.value.splice(a,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:i}}const aw=(t,e)=>{const n=Zl(e).map(r=>nn(r)?r.join("."):r);return n.length>0?t.filter(r=>r.propString&&n.includes(r.propString)):t},pCe="ElForm",mCe=kt({name:pCe,__name:"form",props:dCe,emits:fCe,setup(t,{expose:e,emit:n}){const r=t,i=n,s=ye(),a=lr([]),o=Hu(),l=gn("form"),u=he(()=>{const{labelPosition:P,inline:D}=r;return[l.b(),l.m(o.value||"default"),{[l.m(`label-${P}`)]:P,[l.m("inline")]:D}]}),d=P=>aw(a,[P])[0],f=P=>{a.push(P)},h=P=>{P.prop&&a.splice(a.indexOf(P),1)},g=(P=[])=>{r.model&&aw(a,P).forEach(D=>D.resetField())},v=(P=[])=>{aw(a,P).forEach(D=>D.clearValidate())},p=he(()=>!!r.model),_=P=>{if(a.length===0)return[];const D=aw(a,P);return D.length?D:[]},S=async P=>T(void 0,P),C=async(P=[])=>{if(!p.value)return!1;const D=_(P);if(D.length===0)return!0;let R={};for(const N of D)try{await N.validate(""),N.validateState==="error"&&!N.error&&N.resetField()}catch(U){R={...R,...U}}return Object.keys(R).length===0?!0:Promise.reject(R)},T=async(P=[],D)=>{let R=!1;const N=!kn(D);try{return R=await C(P),R===!0&&await(D==null?void 0:D(R)),R}catch(U){if(U instanceof Error)throw U;const Y=U;if(r.scrollToError&&s.value){const H=s.value.querySelector(`.${l.b()}-item.is-error`);H==null||H.scrollIntoView(r.scrollIntoViewOptions)}return!R&&await(D==null?void 0:D(!1,Y)),N&&Promise.reject(Y)}},A=P=>{var D;const R=d(P);R&&((D=R.$el)==null||D.scrollIntoView(r.scrollIntoViewOptions))};return Zt(()=>r.rules,()=>{r.validateOnRuleChange&&S().catch(P=>void 0)},{deep:!0,flush:"post"}),pi(Wm,lr({...cu(r),emit:i,resetFields:g,clearValidate:v,validateField:T,getField:d,addField:f,removeField:h,...hCe()})),e({validate:S,validateField:T,resetFields:g,clearValidate:v,scrollToField:A,getField:d,fields:a}),(P,D)=>(ge(),Fe("form",{ref_key:"formRef",ref:s,class:Ce(u.value)},[Ot(P.$slots,"default")],2))}});var gCe=Nn(mCe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(this,arguments)}function vCe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Yb(t,e)}function vD(t){return vD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vD(t)}function Yb(t,e){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yb(t,e)}function yCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function DS(t,e,n){return yCe()?DS=Reflect.construct.bind():DS=function(i,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(i,o),u=new l;return a&&Yb(u,a.prototype),u},DS.apply(null,arguments)}function _Ce(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function yD(t){var e=typeof Map=="function"?new Map:void 0;return yD=function(r){if(r===null||!_Ce(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return DS(r,arguments,vD(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Yb(i,r)},yD(t)}var bCe=/%[sdj%]/g,xCe=function(){};function _D(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function ru(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,s=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(bCe,function(o){if(o==="%%")return"%";if(i>=s)return o;switch(o){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return o}});return a}return t}function wCe(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Ia(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||wCe(e)&&typeof t=="string"&&!t)}function SCe(t,e,n){var r=[],i=0,s=t.length;function a(o){r.push.apply(r,o||[]),i++,i===s&&n(r)}t.forEach(function(o){e(o,a)})}function xB(t,e,n){var r=0,i=t.length;function s(a){if(a&&a.length){n(a);return}var o=r;r=r+1,o<i?e(t[o],s):n([])}s([])}function TCe(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var wB=function(t){vCe(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(yD(Error));function CCe(t,e,n,r,i){if(e.first){var s=new Promise(function(h,g){var v=function(S){return r(S),S.length?g(new wB(S,_D(S))):h(i)},p=TCe(t);xB(p,n,v)});return s.catch(function(h){return h}),s}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],o=Object.keys(t),l=o.length,u=0,d=[],f=new Promise(function(h,g){var v=function(_){if(d.push.apply(d,_),u++,u===l)return r(d),d.length?g(new wB(d,_D(d))):h(i)};o.length||(r(d),h(i)),o.forEach(function(p){var _=t[p];a.indexOf(p)!==-1?xB(_,n,v):SCe(_,n,v)})});return f.catch(function(h){return h}),f}function ECe(t){return!!(t&&t.message!==void 0)}function ACe(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function SB(t,e){return function(n){var r;return t.fullFields?r=ACe(e,t.fullFields):r=e[n.field||t.fullField],ECe(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function TB(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=Y0({},t[n],r):t[n]=r}}return t}var PK=function(e,n,r,i,s,a){e.required&&(!r.hasOwnProperty(e.field)||Ia(n,a||e.type))&&i.push(ru(s.messages.required,e.fullField))},PCe=function(e,n,r,i,s){(/^\s+$/.test(n)||n==="")&&i.push(ru(s.messages.whitespace,e.fullField))},ow,kCe=function(){if(ow)return ow;var t="[a-fA-F\\d:]",e=function(A){return A&&A.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),o=new RegExp("^"+i+"$"),l=function(A){return A&&A.exact?s:new RegExp("(?:"+e(A)+n+e(A)+")|(?:"+e(A)+i+e(A)+")","g")};l.v4=function(T){return T&&T.exact?a:new RegExp(""+e(T)+n+e(T),"g")},l.v6=function(T){return T&&T.exact?o:new RegExp(""+e(T)+i+e(T),"g")};var u="(?:(?:[a-z]+:)?//)",d="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,h=l.v6().source,g="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",p="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",_="(?::\\d{2,5})?",S='(?:[/?#][^\\s"]*)?',C="(?:"+u+"|www\\.)"+d+"(?:localhost|"+f+"|"+h+"|"+g+v+p+")"+_+S;return ow=new RegExp("(?:^"+C+"$)","i"),ow},CB={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},f2={integer:function(e){return f2.number(e)&&parseInt(e,10)===e},float:function(e){return f2.number(e)&&!f2.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!f2.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(CB.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(kCe())},hex:function(e){return typeof e=="string"&&!!e.match(CB.hex)}},DCe=function(e,n,r,i,s){if(e.required&&n===void 0){PK(e,n,r,i,s);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;a.indexOf(o)>-1?f2[o](n)||i.push(ru(s.messages.types[o],e.fullField,e.type)):o&&typeof n!==e.type&&i.push(ru(s.messages.types[o],e.fullField,e.type))},ICe=function(e,n,r,i,s){var a=typeof e.len=="number",o=typeof e.min=="number",l=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=n,f=null,h=typeof n=="number",g=typeof n=="string",v=Array.isArray(n);if(h?f="number":g?f="string":v&&(f="array"),!f)return!1;v&&(d=n.length),g&&(d=n.replace(u,"_").length),a?d!==e.len&&i.push(ru(s.messages[f].len,e.fullField,e.len)):o&&!l&&d<e.min?i.push(ru(s.messages[f].min,e.fullField,e.min)):l&&!o&&d>e.max?i.push(ru(s.messages[f].max,e.fullField,e.max)):o&&l&&(d<e.min||d>e.max)&&i.push(ru(s.messages[f].range,e.fullField,e.min,e.max))},gg="enum",RCe=function(e,n,r,i,s){e[gg]=Array.isArray(e[gg])?e[gg]:[],e[gg].indexOf(n)===-1&&i.push(ru(s.messages[gg],e.fullField,e[gg].join(", ")))},OCe=function(e,n,r,i,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(ru(s.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||i.push(ru(s.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},hi={required:PK,whitespace:PCe,type:DCe,range:ICe,enum:RCe,pattern:OCe},MCe=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(n,"string")&&!e.required)return r();hi.required(e,n,i,a,s,"string"),Ia(n,"string")||(hi.type(e,n,i,a,s),hi.range(e,n,i,a,s),hi.pattern(e,n,i,a,s),e.whitespace===!0&&hi.whitespace(e,n,i,a,s))}r(a)},LCe=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(n)&&!e.required)return r();hi.required(e,n,i,a,s),n!==void 0&&hi.type(e,n,i,a,s)}r(a)},$Ce=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(n===""&&(n=void 0),Ia(n)&&!e.required)return r();hi.required(e,n,i,a,s),n!==void 0&&(hi.type(e,n,i,a,s),hi.range(e,n,i,a,s))}r(a)},NCe=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(n)&&!e.required)return r();hi.required(e,n,i,a,s),n!==void 0&&hi.type(e,n,i,a,s)}r(a)},FCe=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(n)&&!e.required)return r();hi.required(e,n,i,a,s),Ia(n)||hi.type(e,n,i,a,s)}r(a)},BCe=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(n)&&!e.required)return r();hi.required(e,n,i,a,s),n!==void 0&&(hi.type(e,n,i,a,s),hi.range(e,n,i,a,s))}r(a)},UCe=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(n)&&!e.required)return r();hi.required(e,n,i,a,s),n!==void 0&&(hi.type(e,n,i,a,s),hi.range(e,n,i,a,s))}r(a)},VCe=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(n==null&&!e.required)return r();hi.required(e,n,i,a,s,"array"),n!=null&&(hi.type(e,n,i,a,s),hi.range(e,n,i,a,s))}r(a)},zCe=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(n)&&!e.required)return r();hi.required(e,n,i,a,s),n!==void 0&&hi.type(e,n,i,a,s)}r(a)},HCe="enum",jCe=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(n)&&!e.required)return r();hi.required(e,n,i,a,s),n!==void 0&&hi[HCe](e,n,i,a,s)}r(a)},GCe=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(n,"string")&&!e.required)return r();hi.required(e,n,i,a,s),Ia(n,"string")||hi.pattern(e,n,i,a,s)}r(a)},WCe=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(n,"date")&&!e.required)return r();if(hi.required(e,n,i,a,s),!Ia(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),hi.type(e,l,i,a,s),l&&hi.range(e,l.getTime(),i,a,s)}}r(a)},qCe=function(e,n,r,i,s){var a=[],o=Array.isArray(n)?"array":typeof n;hi.required(e,n,i,a,s,o),r(a)},H3=function(e,n,r,i,s){var a=e.type,o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(Ia(n,a)&&!e.required)return r();hi.required(e,n,i,o,s,a),Ia(n,a)||hi.type(e,n,i,o,s)}r(o)},XCe=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(n)&&!e.required)return r();hi.required(e,n,i,a,s)}r(a)},K2={string:MCe,method:LCe,number:$Ce,boolean:NCe,regexp:FCe,integer:BCe,float:UCe,array:VCe,object:zCe,enum:jCe,pattern:GCe,date:WCe,url:H3,hex:H3,email:H3,required:qCe,any:XCe};function bD(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var xD=bD(),ax=function(){function t(n){this.rules=null,this._messages=xD,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(s){var a=r[s];i.rules[s]=Array.isArray(a)?a:[a]})},e.messages=function(r){return r&&(this._messages=TB(bD(),r)),this._messages},e.validate=function(r,i,s){var a=this;i===void 0&&(i={}),s===void 0&&(s=function(){});var o=r,l=i,u=s;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,o),Promise.resolve(o);function d(p){var _=[],S={};function C(A){if(Array.isArray(A)){var P;_=(P=_).concat.apply(P,A)}else _.push(A)}for(var T=0;T<p.length;T++)C(p[T]);_.length?(S=_D(_),u(_,S)):u(null,o)}if(l.messages){var f=this.messages();f===xD&&(f=bD()),TB(f,l.messages),l.messages=f}else l.messages=this.messages();var h={},g=l.keys||Object.keys(this.rules);g.forEach(function(p){var _=a.rules[p],S=o[p];_.forEach(function(C){var T=C;typeof T.transform=="function"&&(o===r&&(o=Y0({},o)),S=o[p]=T.transform(S)),typeof T=="function"?T={validator:T}:T=Y0({},T),T.validator=a.getValidationMethod(T),T.validator&&(T.field=p,T.fullField=T.fullField||p,T.type=a.getType(T),h[p]=h[p]||[],h[p].push({rule:T,value:S,source:o,field:p}))})});var v={};return CCe(h,l,function(p,_){var S=p.rule,C=(S.type==="object"||S.type==="array")&&(typeof S.fields=="object"||typeof S.defaultField=="object");C=C&&(S.required||!S.required&&p.value),S.field=p.field;function T(D,R){return Y0({},R,{fullField:S.fullField+"."+D,fullFields:S.fullFields?[].concat(S.fullFields,[D]):[D]})}function A(D){D===void 0&&(D=[]);var R=Array.isArray(D)?D:[D];!l.suppressWarning&&R.length&&t.warning("async-validator:",R),R.length&&S.message!==void 0&&(R=[].concat(S.message));var N=R.map(SB(S,o));if(l.first&&N.length)return v[S.field]=1,_(N);if(!C)_(N);else{if(S.required&&!p.value)return S.message!==void 0?N=[].concat(S.message).map(SB(S,o)):l.error&&(N=[l.error(S,ru(l.messages.required,S.field))]),_(N);var U={};S.defaultField&&Object.keys(p.value).map(function(j){U[j]=S.defaultField}),U=Y0({},U,p.rule.fields);var Y={};Object.keys(U).forEach(function(j){var X=U[j],W=Array.isArray(X)?X:[X];Y[j]=W.map(T.bind(null,j))});var H=new t(Y);H.messages(l.messages),p.rule.options&&(p.rule.options.messages=l.messages,p.rule.options.error=l.error),H.validate(p.value,p.rule.options||l,function(j){var X=[];N&&N.length&&X.push.apply(X,N),j&&j.length&&X.push.apply(X,j),_(X.length?X:null)})}}var P;if(S.asyncValidator)P=S.asyncValidator(S,p.value,A,p.source,l);else if(S.validator){try{P=S.validator(S,p.value,A,p.source,l)}catch(D){console.error==null||console.error(D),l.suppressValidatorError||setTimeout(function(){throw D},0),A(D.message)}P===!0?A():P===!1?A(typeof S.message=="function"?S.message(S.fullField||S.field):S.message||(S.fullField||S.field)+" fails"):P instanceof Array?A(P):P instanceof Error&&A(P.message)}P&&P.then&&P.then(function(){return A()},function(D){return A(D)})},function(p){d(p)},o)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!K2.hasOwnProperty(r.type))throw new Error(ru("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),s=i.indexOf("message");return s!==-1&&i.splice(s,1),i.length===1&&i[0]==="required"?K2.required:K2[this.getType(r)]||void 0},t}();ax.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");K2[e]=n};ax.warning=xCe;ax.messages=xD;ax.validators=K2;const YCe=["","error","validating","success"],KCe=On({label:String,labelWidth:{type:[String,Number]},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:Dt([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Dt([Object,Array])},error:String,validateStatus:{type:String,values:YCe},for:String,inlineMessage:{type:Boolean,default:void 0},showMessage:{type:Boolean,default:!0},size:{type:String,values:jp}}),EB="ElLabelWrap";var ZCe=kt({name:EB,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=In(Wm,void 0),r=In(Sm);r||ll(EB,"usage: <el-form-item><label-wrap /></el-form-item>");const i=gn("form"),s=ye(),a=ye(0),o=()=>{var d;if((d=s.value)!=null&&d.firstElementChild){const f=window.getComputedStyle(s.value.firstElementChild).width;return Math.ceil(Number.parseFloat(f))}else return 0},l=(d="update")=>{Vn(()=>{e.default&&t.isAutoWidth&&(d==="update"?a.value=o():d==="remove"&&(n==null||n.deregisterLabelWidth(a.value)))})},u=()=>l("update");return zr(()=>{u()}),Ri(()=>{l("remove")}),zp(()=>u()),Zt(a,(d,f)=>{t.updateAll&&(n==null||n.registerLabelWidth(d,f))}),ma(he(()=>{var d,f;return(f=(d=s.value)==null?void 0:d.firstElementChild)!=null?f:null}),u),()=>{var d,f;if(!e)return null;const{isAutoWidth:h}=t;if(h){const g=n==null?void 0:n.autoLabelWidth,v=r==null?void 0:r.hasLabel,p={};if(v&&g&&g!=="auto"){const _=Math.max(0,Number.parseInt(g,10)-a.value),C=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";_&&(p[C]=`${_}px`)}return V("div",{ref:s,class:[i.be("item","label-wrap")],style:p},[(d=e.default)==null?void 0:d.call(e)])}else return V(Tn,{ref:s},[(f=e.default)==null?void 0:f.call(e)])}}});const QCe=["role","aria-labelledby"],JCe=kt({name:"ElFormItem",__name:"form-item",props:KCe,setup(t,{expose:e}){const n=t,r=cl(),i=In(Wm,void 0),s=In(Sm,void 0),a=Hu(void 0,{formItem:!1}),o=gn("form-item"),l=Cc().value,u=ye([]),d=ye(""),f=Jve(d,100),h=ye(""),g=ye();let v,p=!1;const _=he(()=>n.labelPosition||(i==null?void 0:i.labelPosition)),S=he(()=>{var Ke;return _.value==="top"?{}:{width:zu((Ke=n.labelWidth)!=null?Ke:i==null?void 0:i.labelWidth)}}),C=he(()=>{var Ke;if(_.value==="top"||i!=null&&i.inline)return{};if(!n.label&&!n.labelWidth&&Y)return{};const Xe=zu((Ke=n.labelWidth)!=null?Ke:i==null?void 0:i.labelWidth);return!n.label&&!r.label?{marginLeft:Xe}:{}}),T=he(()=>[o.b(),o.m(a.value),o.is("error",d.value==="error"),o.is("validating",d.value==="validating"),o.is("success",d.value==="success"),o.is("required",F.value||n.required),o.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[o.m("feedback")]:i==null?void 0:i.statusIcon,[o.m(`label-${_.value}`)]:_.value}]),A=he(()=>ta(n.inlineMessage)?n.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),P=he(()=>[o.e("error"),{[o.em("error","inline")]:A.value}]),D=he(()=>n.prop?nn(n.prop)?n.prop.join("."):n.prop:""),R=he(()=>!!(n.label||r.label)),N=he(()=>{var Ke;return(Ke=n.for)!=null?Ke:u.value.length===1?u.value[0]:void 0}),U=he(()=>!N.value&&R.value),Y=!!s,H=he(()=>{const Ke=i==null?void 0:i.model;if(!(!Ke||!n.prop))return q2(Ke,n.prop).value}),j=he(()=>{const{required:Ke}=n,Xe=[];n.rules&&Xe.push(...Zl(n.rules));const Ze=i==null?void 0:i.rules;if(Ze&&n.prop){const bt=q2(Ze,n.prop).value;bt&&Xe.push(...Zl(bt))}if(Ke!==void 0){const bt=Xe.map((ht,ae)=>[ht,ae]).filter(([ht])=>"required"in ht);if(bt.length>0)for(const[ht,ae]of bt)ht.required!==Ke&&(Xe[ae]={...ht,required:Ke});else Xe.push({required:Ke})}return Xe}),X=he(()=>j.value.length>0),W=Ke=>j.value.filter(Ze=>!Ze.trigger||!Ke?!0:nn(Ze.trigger)?Ze.trigger.includes(Ke):Ze.trigger===Ke).map(({trigger:Ze,...bt})=>bt),F=he(()=>j.value.some(Ke=>Ke.required)),te=he(()=>{var Ke;return f.value==="error"&&n.showMessage&&((Ke=i==null?void 0:i.showMessage)!=null?Ke:!0)}),G=he(()=>`${n.label||""}${(i==null?void 0:i.labelSuffix)||""}`),K=Ke=>{d.value=Ke},ee=Ke=>{var Xe,Ze;const{errors:bt,fields:ht}=Ke;(!bt||!ht)&&console.error(Ke),K("error"),h.value=bt?(Ze=(Xe=bt==null?void 0:bt[0])==null?void 0:Xe.message)!=null?Ze:`${n.prop} is required`:"",i==null||i.emit("validate",n.prop,!1,h.value)},de=()=>{K("success"),i==null||i.emit("validate",n.prop,!0,"")},ue=async Ke=>{const Xe=D.value;return new ax({[Xe]:Ke}).validate({[Xe]:H.value},{firstFields:!0}).then(()=>(de(),!0)).catch(bt=>(ee(bt),Promise.reject(bt)))},me=async(Ke,Xe)=>{if(p||!n.prop)return!1;const Ze=kn(Xe);if(!X.value)return Xe==null||Xe(!1),!1;const bt=W(Ke);return bt.length===0?(Xe==null||Xe(!0),!0):(K("validating"),ue(bt).then(()=>(Xe==null||Xe(!0),!0)).catch(ht=>{const{fields:ae}=ht;return Xe==null||Xe(!1,ae),Ze?!1:Promise.reject(ae)}))},Ee=()=>{K(""),h.value="",p=!1},Oe=async()=>{const Ke=i==null?void 0:i.model;if(!Ke||!n.prop)return;const Xe=q2(Ke,n.prop);p=!0,Xe.value=bF(v),await Vn(),Ee(),p=!1},Ge=Ke=>{u.value.includes(Ke)||u.value.push(Ke)},$e=Ke=>{u.value=u.value.filter(Xe=>Xe!==Ke)};Zt(()=>n.error,Ke=>{h.value=Ke||"",K(Ke?"error":"")},{immediate:!0}),Zt(()=>n.validateStatus,Ke=>K(Ke||""));const Ie=lr({...cu(n),$el:g,size:a,validateMessage:h,validateState:d,labelId:l,inputIds:u,isGroup:U,hasLabel:R,fieldValue:H,addInputId:Ge,removeInputId:$e,resetField:Oe,clearValidate:Ee,validate:me,propString:D});return pi(Sm,Ie),zr(()=>{n.prop&&(i==null||i.addField(Ie),v=bF(H.value))}),Ri(()=>{i==null||i.removeField(Ie)}),e({size:a,validateMessage:h,validateState:d,validate:me,clearValidate:Ee,resetField:Oe}),(Ke,Xe)=>{var Ze;return ge(),Fe("div",{ref_key:"formItemRef",ref:g,class:Ce(T.value),role:U.value?"group":void 0,"aria-labelledby":U.value?b(l):void 0},[V(b(ZCe),{"is-auto-width":S.value.width==="auto","update-all":((Ze=b(i))==null?void 0:Ze.labelWidth)==="auto"},{default:ie(()=>[Ke.label||Ke.$slots.label?(ge(),Tt(ti(N.value?"label":"div"),{key:0,id:b(l),for:N.value,class:Ce(b(o).e("label")),style:dr(S.value)},{default:ie(()=>[Ot(Ke.$slots,"label",{label:G.value},()=>[Rt(yn(G.value),1)])]),_:3},8,["id","for","class","style"])):gt("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Ve("div",{class:Ce(b(o).e("content")),style:dr(C.value)},[Ot(Ke.$slots,"default"),V(Oq,{name:`${b(o).namespace.value}-zoom-in-top`},{default:ie(()=>[te.value?Ot(Ke.$slots,"error",{key:0,error:h.value},()=>[Ve("div",{class:Ce(P.value)},yn(h.value),3)]):gt("v-if",!0)]),_:3},8,["name"])],6)],10,QCe)}}});var kK=Nn(JCe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const Mc=_i(gCe,{FormItem:kK}),Io=Ya(kK),eEe=On({urlList:{type:Dt(Array),default:()=>Aa([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:Dt(String)}}),tEe={close:()=>!0,error:t=>t instanceof Event,switch:t=>Lr(t),rotate:t=>Lr(t)},nEe=["src","crossorigin"],rEe=kt({name:"ElImageViewer",__name:"image-viewer",props:eEe,emits:tEe,setup(t,{expose:e,emit:n}){var r;const i={CONTAIN:{name:"contain",icon:Sp(h_e)},ORIGINAL:{name:"original",icon:Sp(F_e)}},s=t,a=n;let o;const{t:l}=mi(),u=gn("image-viewer"),{nextZIndex:d}=PE(),f=ye(),h=ye(),g=qO(),v=he(()=>{const{scale:Ze,minScale:bt,maxScale:ht}=s;return kX(Ze,bt,ht)}),p=ye(!0),_=ye(!1),S=ye(!1),C=ye(s.initialIndex),T=qa(i.CONTAIN),A=ye({scale:v.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),P=ye((r=s.zIndex)!=null?r:d());c8(S,{ns:u});const D=he(()=>{const{urlList:Ze}=s;return Ze.length<=1}),R=he(()=>C.value===0),N=he(()=>C.value===s.urlList.length-1),U=he(()=>s.urlList[C.value]),Y=he(()=>[u.e("btn"),u.e("prev"),u.is("disabled",!s.infinite&&R.value)]),H=he(()=>[u.e("btn"),u.e("next"),u.is("disabled",!s.infinite&&N.value)]),j=he(()=>{const{scale:Ze,deg:bt,offsetX:ht,offsetY:ae,enableTransition:Re}=A.value;let rt=ht/Ze,Ye=ae/Ze;const it=bt*Math.PI/180,St=Math.cos(it),Lt=Math.sin(it);rt=rt*St+Ye*Lt,Ye=Ye*St-ht/Ze*Lt;const xt={transform:`scale(${Ze}) rotate(${bt}deg) translate(${rt}px, ${Ye}px)`,transition:Re?"transform .3s":""};return T.value.name===i.CONTAIN.name&&(xt.maxWidth=xt.maxHeight="100%"),xt}),X=he(()=>`${C.value+1} / ${s.urlList.length}`);function W(){te(),o==null||o(),S.value=!1,a("close")}function F(){const Ze=qx(ht=>{switch(oa(ht)){case Pn.esc:s.closeOnPressEscape&&W();break;case Pn.space:me();break;case Pn.left:Oe();break;case Pn.up:$e("zoomIn");break;case Pn.right:Ge();break;case Pn.down:$e("zoomOut");break}}),bt=qx(ht=>{const ae=ht.deltaY||ht.deltaX;$e(ae<0?"zoomIn":"zoomOut",{zoomRate:s.zoomRate,enableTransition:!1})});g.run(()=>{Hi(document,"keydown",Ze),Hi(f,"wheel",bt)})}function te(){g.stop()}function G(){p.value=!1}function K(Ze){_.value=!0,p.value=!1,a("error",Ze),Ze.target.alt=l("el.image.error")}function ee(Ze){if(p.value||Ze.button!==0||!f.value)return;A.value.enableTransition=!1;const{offsetX:bt,offsetY:ht}=A.value,ae=Ze.pageX,Re=Ze.pageY,rt=qx(St=>{A.value={...A.value,offsetX:bt+St.pageX-ae,offsetY:ht+St.pageY-Re}}),Ye=Hi(document,"mousemove",rt),it=Hi(document,"mouseup",()=>{Ye(),it()});Ze.preventDefault()}function de(Ze){if(p.value||!f.value||Ze.touches.length!==1)return;A.value.enableTransition=!1;const{offsetX:bt,offsetY:ht}=A.value,{pageX:ae,pageY:Re}=Ze.touches[0],rt=qx(St=>{const Lt=St.touches[0];A.value={...A.value,offsetX:bt+Lt.pageX-ae,offsetY:ht+Lt.pageY-Re}}),Ye=Hi(document,"touchmove",rt),it=Hi(document,"touchend",()=>{Ye(),it()});Ze.preventDefault()}function ue(){A.value={scale:v.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function me(){if(p.value||_.value)return;const Ze=aD(i),bt=Object.values(i),ht=T.value.name,Re=(bt.findIndex(rt=>rt.name===ht)+1)%Ze.length;T.value=i[Ze[Re]],ue()}function Ee(Ze){_.value=!1;const bt=s.urlList.length;C.value=(Ze+bt)%bt}function Oe(){R.value&&!s.infinite||Ee(C.value-1)}function Ge(){N.value&&!s.infinite||Ee(C.value+1)}function $e(Ze,bt={}){if(p.value||_.value)return;const{minScale:ht,maxScale:ae}=s,{zoomRate:Re,rotateDeg:rt,enableTransition:Ye}={zoomRate:s.zoomRate,rotateDeg:90,enableTransition:!0,...bt};switch(Ze){case"zoomOut":A.value.scale>ht&&(A.value.scale=Number.parseFloat((A.value.scale/Re).toFixed(3)));break;case"zoomIn":A.value.scale<ae&&(A.value.scale=Number.parseFloat((A.value.scale*Re).toFixed(3)));break;case"clockwise":A.value.deg+=rt,a("rotate",A.value.deg);break;case"anticlockwise":A.value.deg-=rt,a("rotate",A.value.deg);break}A.value.enableTransition=Ye}function Ie(Ze){var bt;((bt=Ze.detail)==null?void 0:bt.focusReason)==="pointer"&&Ze.preventDefault()}function Ke(){s.closeOnPressEscape&&W()}function Xe(Ze){if(Ze.ctrlKey){if(Ze.deltaY<0)return Ze.preventDefault(),!1;if(Ze.deltaY>0)return Ze.preventDefault(),!1}}return Zt(()=>v.value,Ze=>{A.value.scale=Ze}),Zt(U,()=>{Vn(()=>{const Ze=h.value;Ze!=null&&Ze.complete||(p.value=!0)})}),Zt(C,Ze=>{ue(),a("switch",Ze)}),zr(()=>{S.value=!0,F(),o=Hi("wheel",Xe,{passive:!1})}),e({setActiveItem:Ee}),(Ze,bt)=>(ge(),Tt(b(IE),{to:"body",disabled:!Ze.teleported},{default:ie(()=>[V($l,{name:"viewer-fade",appear:""},{default:ie(()=>[Ve("div",{ref_key:"wrapper",ref:f,tabindex:-1,class:Ce(b(u).e("wrapper")),style:dr({zIndex:P.value})},[V(b(nx),{loop:"",trapped:"","focus-trap-el":f.value,"focus-start-el":"container",onFocusoutPrevented:Ie,onReleaseRequested:Ke},{default:ie(()=>[Ve("div",{class:Ce(b(u).e("mask")),onClick:bt[0]||(bt[0]=Cr(ht=>Ze.hideOnClickModal&&W(),["self"]))},null,2),gt(" CLOSE "),Ve("span",{class:Ce([b(u).e("btn"),b(u).e("close")]),onClick:W},[V(b(Bn),null,{default:ie(()=>[V(b(Rd))]),_:1})],2),gt(" ARROW "),D.value?gt("v-if",!0):(ge(),Fe(Tn,{key:0},[Ve("span",{class:Ce(Y.value),onClick:Oe},[V(b(Bn),null,{default:ie(()=>[V(b(xm))]),_:1})],2),Ve("span",{class:Ce(H.value),onClick:Ge},[V(b(Bn),null,{default:ie(()=>[V(b($u))]),_:1})],2)],64)),Ze.$slots.progress||Ze.showProgress?(ge(),Fe("div",{key:1,class:Ce([b(u).e("btn"),b(u).e("progress")])},[Ot(Ze.$slots,"progress",{activeIndex:C.value,total:Ze.urlList.length},()=>[Rt(yn(X.value),1)])],2)):gt("v-if",!0),gt(" ACTIONS "),Ve("div",{class:Ce([b(u).e("btn"),b(u).e("actions")])},[Ve("div",{class:Ce(b(u).e("actions__inner"))},[Ot(Ze.$slots,"toolbar",{actions:$e,prev:Oe,next:Ge,reset:me,activeIndex:C.value,setActiveItem:Ee},()=>[V(b(Bn),{onClick:bt[1]||(bt[1]=ht=>$e("zoomOut"))},{default:ie(()=>[V(b(t2e))]),_:1}),V(b(Bn),{onClick:bt[2]||(bt[2]=ht=>$e("zoomIn"))},{default:ie(()=>[V(b(KX))]),_:1}),Ve("i",{class:Ce(b(u).e("actions__divider"))},null,2),V(b(Bn),{onClick:me},{default:ie(()=>[(ge(),Tt(ti(T.value.icon)))]),_:1}),Ve("i",{class:Ce(b(u).e("actions__divider"))},null,2),V(b(Bn),{onClick:bt[3]||(bt[3]=ht=>$e("anticlockwise"))},{default:ie(()=>[V(b(M_e))]),_:1}),V(b(Bn),{onClick:bt[4]||(bt[4]=ht=>$e("clockwise"))},{default:ie(()=>[V(b($_e))]),_:1})])],2)],2),gt(" CANVAS "),Ve("div",{class:Ce(b(u).e("canvas"))},[_.value&&Ze.$slots["viewer-error"]?Ot(Ze.$slots,"viewer-error",{key:0,activeIndex:C.value,src:U.value}):(ge(),Fe("img",{ref_key:"imgRef",ref:h,key:U.value,src:U.value,style:dr(j.value),class:Ce(b(u).e("img")),crossorigin:Ze.crossorigin,onLoad:G,onError:K,onMousedown:ee,onTouchstart:de},null,46,nEe))],2),Ot(Ze.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var iEe=Nn(rEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const sEe=_i(iEe),aEe=On({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Dt([String,Object])},previewSrcList:{type:Dt(Array),default:()=>Aa([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:Dt(String)}}),oEe={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>Lr(t),close:()=>!0,show:()=>!0},lEe=["src","loading","crossorigin"],uEe={key:0},cEe=kt({name:"ElImage",inheritAttrs:!1,__name:"image",props:aEe,emits:oEe,setup(t,{expose:e,emit:n}){const r=t,i=n,{t:s}=mi(),a=gn("image"),o=Dy(),l=he(()=>Ub(Object.entries(o).filter(([G])=>/^(data-|on[A-Z])/i.test(G)||["id","style"].includes(G)))),u=$M({excludeListeners:!0,excludeKeys:he(()=>Object.keys(l.value))}),d=ye(),f=ye(!1),h=ye(!0),g=ye(!1),v=ye(),p=ye(),_=Vr&&"loading"in HTMLImageElement.prototype;let S;const C=he(()=>[a.e("inner"),A.value&&a.e("preview"),h.value&&a.is("loading")]),T=he(()=>{const{fit:G}=r;return Vr&&G?{objectFit:G}:{}}),A=he(()=>{const{previewSrcList:G}=r;return nn(G)&&G.length>0}),P=he(()=>{const{previewSrcList:G,initialIndex:K}=r;let ee=K;return K>G.length-1&&(ee=0),ee}),D=he(()=>r.loading==="eager"?!1:!_&&r.loading==="lazy"||r.lazy),R=()=>{Vr&&(h.value=!0,f.value=!1,d.value=r.src)};function N(G){h.value=!1,f.value=!1,i("load",G)}function U(G){h.value=!1,f.value=!0,i("error",G)}function Y(G){G&&(R(),X())}const H=eye(Y,200,!0);async function j(){var G;if(!Vr)return;await Vn();const{scrollContainer:K}=r;if(Pl(K))p.value=K;else if(Kn(K)&&K!=="")p.value=(G=document.querySelector(K))!=null?G:void 0;else if(v.value){const de=Lye(v.value);p.value=zve(de)?void 0:de}const{stop:ee}=gye(v,([de])=>{H(de.isIntersecting)},{root:p});S=ee}function X(){!Vr||!H||(S==null||S(),p.value=void 0,S=void 0)}function W(){A.value&&(g.value=!0,i("show"))}function F(){g.value=!1,i("close")}function te(G){i("switch",G)}return Zt(()=>r.src,()=>{D.value?(h.value=!0,f.value=!1,X(),j()):R()}),zr(()=>{D.value?j():R()}),e({showPreview:W}),(G,K)=>(ge(),Fe("div",Fi({ref_key:"container",ref:v},l.value,{class:[b(a).b(),G.$attrs.class]}),[f.value?Ot(G.$slots,"error",{key:0},()=>[Ve("div",{class:Ce(b(a).e("error"))},yn(b(s)("el.image.error")),3)]):(ge(),Fe(Tn,{key:1},[d.value!==void 0?(ge(),Fe("img",Fi({key:0},b(u),{src:d.value,loading:G.loading,style:T.value,class:C.value,crossorigin:G.crossorigin,onClick:W,onLoad:N,onError:U}),null,16,lEe)):gt("v-if",!0),h.value?(ge(),Fe("div",{key:1,class:Ce(b(a).e("wrapper"))},[Ot(G.$slots,"placeholder",{},()=>[Ve("div",{class:Ce(b(a).e("placeholder"))},null,2)])],2)):gt("v-if",!0)],64)),A.value?(ge(),Fe(Tn,{key:2},[g.value?(ge(),Tt(b(sEe),{key:0,"z-index":G.zIndex,"initial-index":P.value,infinite:G.infinite,"zoom-rate":G.zoomRate,"min-scale":G.minScale,"max-scale":G.maxScale,"show-progress":G.showProgress,"url-list":G.previewSrcList,scale:G.scale,crossorigin:G.crossorigin,"hide-on-click-modal":G.hideOnClickModal,teleported:G.previewTeleported,"close-on-press-escape":G.closeOnPressEscape,onClose:F,onSwitch:te},Rb({toolbar:ie(ee=>[Ot(G.$slots,"toolbar",v3(wS(ee)))]),default:ie(()=>[G.$slots.viewer?(ge(),Fe("div",uEe,[Ot(G.$slots,"viewer")])):gt("v-if",!0)]),_:2},[G.$slots.progress?{name:"progress",fn:ie(ee=>[Ot(G.$slots,"progress",v3(wS(ee)))]),key:"0"}:void 0,G.$slots["viewer-error"]?{name:"viewer-error",fn:ie(ee=>[Ot(G.$slots,"viewer-error",v3(wS(ee)))]),key:"1"}:void 0]),1032,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","scale","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):gt("v-if",!0)],64)):gt("v-if",!0)],16))}});var dEe=Nn(cEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const fEe=_i(dEe),DK=11,hEe=2;function pEe(){const t=qa(),e=ye(0),n=he(()=>({minWidth:`${Math.max(e.value,DK)}px`}));return ma(t,()=>{var i,s;e.value=(s=(i=t.value)==null?void 0:i.getBoundingClientRect().width)!=null?s:0}),{calculatorRef:t,calculatorWidth:e,inputStyle:n}}let mEe=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{const i=oa(r);let s=!1;switch(i){case Pn.down:{this.gotoSubIndex(this.subIndex+1),s=!0;break}case Pn.up:{this.gotoSubIndex(this.subIndex-1),s=!0;break}case Pn.tab:{TS(e,"mouseleave");break}case Pn.enter:case Pn.numpadEnter:case Pn.space:{s=!0,r.currentTarget.click();break}}return s&&(r.preventDefault(),r.stopPropagation()),!1})})}},gEe=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new mEe(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{const n=oa(e);let r=!1;switch(n){case Pn.down:{TS(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case Pn.up:{TS(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case Pn.tab:{TS(e.currentTarget,"mouseleave");break}case Pn.enter:case Pn.numpadEnter:case Pn.space:{r=!0,e.currentTarget.click();break}}r&&e.preventDefault()})}},vEe=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new gEe(r,e)})}};const yEe=kt({name:"ElMenuCollapseTransition",__name:"menu-collapse-transition",setup(t){const e=gn("menu"),n={onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,i){uc(r,`${e.namespace.value}-opacity-transition`),r.style.opacity="1",i()},onAfterEnter(r){su(r,`${e.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),Sd(r,e.m("collapse"))?(su(r,e.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),uc(r,e.m("collapse"))):(uc(r,e.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),su(r,e.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){uc(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}};return(r,i)=>(ge(),Tt($l,Fi({mode:"out-in"},n),{default:ie(()=>[Ot(r.$slots,"default")]),_:3},16))}});var _Ee=Nn(yEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function IK(t,e){const n=he(()=>{let i=t.parent;const s=[e.value];for(;i.type.name!=="ElMenu";)i.props.index&&s.unshift(i.props.index),i=i.parent;return s});return{parentMenu:he(()=>{let i=t.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:n}}function bEe(t){return he(()=>{const n=t.backgroundColor;return n?new IY(n).shade(20).toString():""})}const RK=(t,e)=>{const n=gn("menu");return he(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":bEe(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},d8="rootMenu",NT="subMenu:",xEe=On({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,popperStyle:{type:Dt([String,Object])},disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:$s},expandOpenIcon:{type:$s},collapseCloseIcon:{type:$s},collapseOpenIcon:{type:$s}}),j3="ElSubMenu";var f8=kt({name:j3,props:xEe,setup(t,{slots:e,expose:n}){const r=Ar(),{indexPath:i,parentMenu:s}=IK(r,he(()=>t.index)),a=gn("menu"),o=gn("sub-menu"),l=In(d8);l||ll(j3,"can not inject root menu");const u=In(`${NT}${s.value.uid}`);u||ll(j3,"can not inject sub menu");const d=ye({}),f=ye({});let h;const g=ye(!1),v=ye(),p=ye(),_=he(()=>u.level===0),S=he(()=>N.value==="horizontal"&&_.value?"bottom-start":"right-start"),C=he(()=>N.value==="horizontal"&&_.value||N.value==="vertical"&&!l.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?D.value?t.expandOpenIcon:t.expandCloseIcon:J1:t.collapseCloseIcon&&t.collapseOpenIcon?D.value?t.collapseOpenIcon:t.collapseCloseIcon:$u),T=he(()=>{const me=t.teleported;return Ni(me)?_.value:me}),A=he(()=>l.props.collapse?`${a.namespace.value}-zoom-in-left`:`${a.namespace.value}-zoom-in-top`),P=he(()=>N.value==="horizontal"&&_.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),D=he(()=>l.openedMenus.includes(t.index)),R=he(()=>[...Object.values(d.value),...Object.values(f.value)].some(({active:me})=>me)),N=he(()=>l.props.mode),U=he(()=>l.props.persistent),Y=lr({index:t.index,indexPath:i,active:R}),H=RK(l.props,u.level+1),j=he(()=>{var me;return(me=t.popperOffset)!=null?me:l.props.popperOffset}),X=he(()=>{var me;return(me=t.popperClass)!=null?me:l.props.popperClass}),W=he(()=>{var me;return(me=t.popperStyle)!=null?me:l.props.popperStyle}),F=he(()=>{var me;return(me=t.showTimeout)!=null?me:l.props.showTimeout}),te=he(()=>{var me;return(me=t.hideTimeout)!=null?me:l.props.hideTimeout}),G=()=>{var me,Ee,Oe;return(Oe=(Ee=(me=p.value)==null?void 0:me.popperRef)==null?void 0:Ee.popperInstanceRef)==null?void 0:Oe.destroy()},K=me=>{me||G()},ee=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||t.disabled||l.handleSubMenuClick({index:t.index,indexPath:i.value,active:R.value})},de=(me,Ee=F.value)=>{var Oe;if(me.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||t.disabled){u.mouseInChild.value=!0;return}u.mouseInChild.value=!0,h==null||h(),{stop:h}=Lv(()=>{l.openMenu(t.index,i.value)},Ee),T.value&&((Oe=s.value.vnode.el)==null||Oe.dispatchEvent(new MouseEvent("mouseenter"))),me.type==="mouseenter"&&me.target&&Vn(()=>{ex(me.target,{preventScroll:!0})})}},ue=(me=!1)=>{var Ee;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){u.mouseInChild.value=!1;return}h==null||h(),u.mouseInChild.value=!1,{stop:h}=Lv(()=>!g.value&&l.closeMenu(t.index,i.value),te.value),T.value&&me&&((Ee=u.handleMouseleave)==null||Ee.call(u,!0))};Zt(()=>l.props.collapse,me=>K(!!me));{const me=Oe=>{f.value[Oe.index]=Oe},Ee=Oe=>{delete f.value[Oe.index]};pi(`${NT}${r.uid}`,{addSubMenu:me,removeSubMenu:Ee,handleMouseleave:ue,mouseInChild:g,level:u.level+1})}return n({opened:D}),zr(()=>{l.addSubMenu(Y),u.addSubMenu(Y)}),Ri(()=>{u.removeSubMenu(Y),l.removeSubMenu(Y)}),()=>{var me;const Ee=[(me=e.title)==null?void 0:me.call(e),En(Bn,{class:o.e("icon-arrow"),style:{transform:D.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Kn(C.value)?En(r.appContext.components[C.value]):En(C.value)})],Oe=l.isMenuPopup?En(kp,{ref:p,visible:D.value,effect:"light",pure:!0,offset:j.value,showArrow:!1,persistent:U.value,popperClass:X.value,popperStyle:W.value,placement:S.value,teleported:T.value,fallbackPlacements:P.value,transition:A.value,gpuAcceleration:!1},{content:()=>{var Ge;return En("div",{class:[a.m(N.value),a.m("popup-container"),X.value],onMouseenter:$e=>de($e,100),onMouseleave:()=>ue(!0),onFocus:$e=>de($e,100)},[En("ul",{class:[a.b(),a.m("popup"),a.m(`popup-${S.value}`)],style:H.value},[(Ge=e.default)==null?void 0:Ge.call(e)])])},default:()=>En("div",{class:o.e("title"),onClick:ee},Ee)}):En(Tn,{},[En("div",{class:o.e("title"),ref:v,onClick:ee},Ee),En(Dwe,{},{default:()=>{var Ge;return Dr(En("ul",{role:"menu",class:[a.b(),a.m("inline")],style:H.value},[(Ge=e.default)==null?void 0:Ge.call(e)]),[[Ei,D.value]])}})]);return En("li",{class:[o.b(),o.is("active",R.value),o.is("opened",D.value),o.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:D.value,onMouseenter:de,onMouseleave:()=>ue(),onFocus:de},[Oe])}}});const wEe=On({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Dt(Array),default:()=>Aa([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:$s,default:()=>A_e},popperEffect:{type:Dt(String),default:"dark"},popperClass:String,popperStyle:{type:Dt([String,Object])},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),G3=t=>nn(t)&&t.every(e=>Kn(e)),SEe={close:(t,e)=>Kn(t)&&G3(e),open:(t,e)=>Kn(t)&&G3(e),select:(t,e,n,r)=>Kn(t)&&G3(e)&&fr(n)&&(Ni(r)||r instanceof Promise)},AB=64;var TEe=kt({name:"ElMenu",props:wEe,emits:SEe,setup(t,{emit:e,slots:n,expose:r}){const i=Ar(),s=i.appContext.config.globalProperties.$router,a=ye(),o=ye(),l=gn("menu"),u=gn("sub-menu");let d=AB;const f=ye(-1),h=ye(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),g=ye(t.defaultActive),v=ye({}),p=ye({}),_=he(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),S=()=>{const G=g.value&&v.value[g.value];if(!G||t.mode==="horizontal"||t.collapse)return;G.indexPath.forEach(ee=>{const de=p.value[ee];de&&C(ee,de.indexPath)})},C=(G,K)=>{h.value.includes(G)||(t.uniqueOpened&&(h.value=h.value.filter(ee=>K.includes(ee))),h.value.push(G),e("open",G,K))},T=G=>{const K=h.value.indexOf(G);K!==-1&&h.value.splice(K,1)},A=(G,K)=>{T(G),e("close",G,K)},P=({index:G,indexPath:K})=>{h.value.includes(G)?A(G,K):C(G,K)},D=G=>{(t.mode==="horizontal"||t.collapse)&&(h.value=[]);const{index:K,indexPath:ee}=G;if(!(Tc(K)||Tc(ee)))if(t.router&&s){const de=G.route||K,ue=s.push(de).then(me=>(me||(g.value=K),me));e("select",K,ee,{index:K,indexPath:ee,route:de},ue)}else g.value=K,e("select",K,ee,{index:K,indexPath:ee})},R=G=>{var K;const ee=v.value,de=ee[G]||g.value&&ee[g.value]||ee[t.defaultActive];g.value=(K=de==null?void 0:de.index)!=null?K:G},N=G=>{const K=getComputedStyle(G),ee=Number.parseInt(K.marginLeft,10),de=Number.parseInt(K.marginRight,10);return G.offsetWidth+ee+de||0},U=()=>{if(!a.value)return-1;const G=Array.from(a.value.childNodes).filter(Oe=>Oe.nodeName!=="#comment"&&(Oe.nodeName!=="#text"||Oe.nodeValue)),K=getComputedStyle(a.value),ee=Number.parseInt(K.paddingLeft,10),de=Number.parseInt(K.paddingRight,10),ue=a.value.clientWidth-ee-de;let me=0,Ee=0;return G.forEach((Oe,Ge)=>{me+=N(Oe),me<=ue-d&&(Ee=Ge+1)}),Ee===G.length?-1:Ee},Y=G=>p.value[G].indexPath,H=(G,K=33.34)=>{let ee;return()=>{ee&&clearTimeout(ee),ee=setTimeout(()=>{G()},K)}};let j=!0;const X=()=>{const G=ra(o);if(G&&(d=N(G)||AB),f.value===U())return;const K=()=>{f.value=-1,Vn(()=>{f.value=U()})};j?K():H(K)(),j=!1};Zt(()=>t.defaultActive,G=>{v.value[G]||(g.value=""),R(G)}),Zt(()=>t.collapse,G=>{G&&(h.value=[])}),Zt(v.value,S);let W;Tp(()=>{t.mode==="horizontal"&&t.ellipsis?W=ma(a,X).stop:W==null||W()});const F=ye(!1);{const G=ue=>{p.value[ue.index]=ue},K=ue=>{delete p.value[ue.index]};pi(d8,lr({props:t,openedMenus:h,items:v,subMenus:p,activeIndex:g,isMenuPopup:_,addMenuItem:ue=>{v.value[ue.index]=ue},removeMenuItem:ue=>{delete v.value[ue.index]},addSubMenu:G,removeSubMenu:K,openMenu:C,closeMenu:A,handleMenuItemClick:D,handleSubMenuClick:P})),pi(`${NT}${i.uid}`,{addSubMenu:G,removeSubMenu:K,mouseInChild:F,level:0})}zr(()=>{t.mode==="horizontal"&&new vEe(i.vnode.el,l.namespace.value)}),r({open:K=>{const{indexPath:ee}=p.value[K];ee.forEach(de=>C(de,ee))},close:T,updateActiveIndex:R,handleResize:X});const te=RK(t,0);return()=>{var G,K;let ee=(K=(G=n.default)==null?void 0:G.call(n))!=null?K:[];const de=[];if(t.mode==="horizontal"&&a.value){const Ee=ip(ee).filter($e=>($e==null?void 0:$e.shapeFlag)!==8),Oe=f.value===-1?Ee:Ee.slice(0,f.value),Ge=f.value===-1?[]:Ee.slice(f.value);Ge!=null&&Ge.length&&t.ellipsis&&(ee=Oe,de.push(En(f8,{ref:o,index:"sub-menu-more",class:u.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>En(Bn,{class:u.e("icon-more")},{default:()=>En(t.ellipsisIcon)}),default:()=>Ge})))}const ue=t.closeOnClickOutside?[[zv,()=>{h.value.length&&(F.value||(h.value.forEach(Ee=>e("close",Ee,Y(Ee))),h.value=[]))}]]:[],me=Dr(En("ul",{key:String(t.collapse),role:"menubar",ref:a,style:te.value,class:{[l.b()]:!0,[l.m(t.mode)]:!0,[l.m("collapse")]:t.collapse}},[...ee,...de]),ue);return t.collapseTransition&&t.mode==="vertical"?En(_Ee,()=>me):me}}});const CEe=On({index:{type:Dt([String,null]),default:null},route:{type:Dt([String,Object])},disabled:Boolean}),EEe={click:t=>Kn(t.index)&&nn(t.indexPath)},W3="ElMenuItem",AEe=kt({name:W3,__name:"menu-item",props:CEe,emits:EEe,setup(t,{expose:e,emit:n}){const r=t,i=n;Pu(r.index)&&void 0;const s=Ar(),a=In(d8),o=gn("menu"),l=gn("menu-item");a||ll(W3,"can not inject root menu");const{parentMenu:u,indexPath:d}=IK(s,_s(r,"index")),f=In(`${NT}${u.value.uid}`);f||ll(W3,"can not inject sub menu");const h=he(()=>r.index===a.activeIndex),g=lr({index:r.index,indexPath:d,active:h}),v=()=>{r.disabled||(a.handleMenuItemClick({index:r.index,indexPath:d.value,route:r.route}),i("click",g))};return zr(()=>{f.addSubMenu(g),a.addMenuItem(g)}),Ri(()=>{f.removeSubMenu(g),a.removeMenuItem(g)}),e({parentMenu:u,rootMenu:a,active:h,nsMenu:o,nsMenuItem:l,handleClick:v}),(p,_)=>(ge(),Fe("li",{class:Ce([b(l).b(),b(l).is("active",h.value),b(l).is("disabled",p.disabled)]),role:"menuitem",tabindex:"-1",onClick:v},[b(u).type.name==="ElMenu"&&b(a).props.collapse&&p.$slots.title?(ge(),Tt(b(kp),{key:0,effect:b(a).props.popperEffect,placement:"right","fallback-placements":["left"],"popper-class":b(a).props.popperClass,"popper-style":b(a).props.popperStyle,persistent:b(a).props.persistent,"focus-on-target":""},{content:ie(()=>[Ot(p.$slots,"title")]),default:ie(()=>[Ve("div",{class:Ce(b(o).be("tooltip","trigger"))},[Ot(p.$slots,"default")],2)]),_:3},8,["effect","popper-class","popper-style","persistent"])):(ge(),Fe(Tn,{key:1},[Ot(p.$slots,"default"),Ot(p.$slots,"title")],64))],2))}});var OK=Nn(AEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const PEe={title:String},kEe=kt({name:"ElMenuItemGroup",__name:"menu-item-group",props:PEe,setup(t){const e=gn("menu-item-group");return(n,r)=>(ge(),Fe("li",{class:Ce(b(e).b())},[Ve("div",{class:Ce(b(e).e("title"))},[n.$slots.title?Ot(n.$slots,"title",{key:1}):(ge(),Fe(Tn,{key:0},[Rt(yn(n.title),1)],64))],2),Ve("ul",null,[Ot(n.$slots,"default")])],2))}});var MK=Nn(kEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const DEe=_i(TEe,{MenuItem:OK,MenuItemGroup:MK,SubMenu:f8}),IEe=Ya(OK),REe=Ya(MK),OEe=Ya(f8),LK=Symbol("elPaginationKey"),MEe=On({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:$s}}),LEe={click:t=>t instanceof MouseEvent},$Ee=["disabled","aria-label","aria-disabled"],NEe={key:0},FEe=kt({name:"ElPaginationPrev",__name:"prev",props:MEe,emits:LEe,setup(t){const e=t,{t:n}=mi(),r=he(()=>e.disabled||e.currentPage<=1);return(i,s)=>(ge(),Fe("button",{type:"button",class:"btn-prev",disabled:r.value,"aria-label":i.prevText||b(n)("el.pagination.prev"),"aria-disabled":r.value,onClick:s[0]||(s[0]=a=>i.$emit("click",a))},[i.prevText?(ge(),Fe("span",NEe,yn(i.prevText),1)):(ge(),Tt(b(Bn),{key:1},{default:ie(()=>[(ge(),Tt(ti(i.prevIcon)))]),_:1}))],8,$Ee))}});var BEe=Nn(FEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const UEe=On({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:$s}}),VEe=["disabled","aria-label","aria-disabled"],zEe={key:0},HEe=kt({name:"ElPaginationNext",__name:"next",props:UEe,emits:["click"],setup(t){const e=t,{t:n}=mi(),r=he(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(i,s)=>(ge(),Fe("button",{type:"button",class:"btn-next",disabled:r.value,"aria-label":i.nextText||b(n)("el.pagination.next"),"aria-disabled":r.value,onClick:s[0]||(s[0]=a=>i.$emit("click",a))},[i.nextText?(ge(),Fe("span",zEe,yn(i.nextText),1)):(ge(),Tt(b(Bn),{key:1},{default:ie(()=>[(ge(),Tt(ti(i.nextIcon)))]),_:1}))],8,VEe))}});var jEe=Nn(HEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const wD={label:"label",value:"value",disabled:"disabled",options:"options"};function GEe(t){const e=ye({...wD,...t.props});let n={...t.props};return Zt(()=>t.props,o=>{na(o,n)||(e.value={...wD,...o},n={...o})},{deep:!0}),{aliasProps:e,getLabel:o=>rl(o,e.value.label),getValue:o=>rl(o,e.value.value),getDisabled:o=>rl(o,e.value.disabled),getOptions:o=>rl(o,e.value.options)}}const $K=Symbol("ElSelectGroup"),NE=Symbol("ElSelect"),SD="ElOption",WEe=On({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean}),qEe=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),ep=t=>G1(t);function XEe(t,e){const n=In(NE);n||ll(SD,"usage: <el-select><el-option /></el-select/>");const r=In($K,{disabled:!1}),i=he(()=>d(Zl(n.props.modelValue),t.value)),s=he(()=>{var g;if(n.props.multiple){const v=Zl((g=n.props.modelValue)!=null?g:[]);return!i.value&&v.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),a=he(()=>{var g;return(g=t.label)!=null?g:fr(t.value)?"":t.value}),o=he(()=>t.value||t.label||""),l=he(()=>t.disabled||e.groupDisabled||s.value),u=Ar(),d=(g=[],v)=>{if(fr(t.value)){const p=n.props.valueKey;return g&&g.some(_=>Jr(rl(_,p))===rl(v,p))}else return g&&g.includes(v)},f=()=>{l.value||(n.states.hoveringIndex=n.optionsArray.indexOf(u.proxy))},h=g=>{const v=new RegExp(qEe(g),"i");e.visible=v.test(String(a.value))||t.created};return Zt(()=>a.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Zt(()=>t.value,(g,v)=>{const{remote:p,valueKey:_}=n.props;if((p?g!==v:!na(g,v))&&(n.onOptionDestroy(v,u.proxy),n.onOptionCreate(u.proxy)),!t.created&&!p){if(_&&fr(g)&&fr(v)&&g[_]===v[_])return;n.setSelected()}}),Zt(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:a,currentValue:o,itemSelected:i,isDisabled:l,hoverItem:f,updateOption:h}}const YEe=kt({name:SD,componentName:SD,props:WEe,setup(t){const e=gn("select"),n=Cc(),r=he(()=>[e.be("dropdown","item"),e.is("disabled",b(o)),e.is("selected",b(a)),e.is("hovering",b(h))]),i=lr({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:s,itemSelected:a,isDisabled:o,select:l,hoverItem:u,updateOption:d}=XEe(t,i),{visible:f,hover:h}=cu(i),g=Ar().proxy;l.onOptionCreate(g),Ri(()=>{const p=g.value;Vn(()=>{const{selected:_}=l.states,S=_.some(C=>C.value===g.value);l.states.cachedOptions.get(p)===g&&!S&&l.states.cachedOptions.delete(p)}),l.onOptionDestroy(p,g)});function v(){o.value||l.handleOptionSelect(g)}return{ns:e,id:n,containerKls:r,currentLabel:s,itemSelected:a,isDisabled:o,select:l,visible:f,hover:h,states:i,hoverItem:u,updateOption:d,selectOptionClick:v}}}),KEe=["id","aria-disabled","aria-selected"];function ZEe(t,e,n,r,i,s){return Dr((ge(),Fe("li",{id:t.id,class:Ce(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMousemove:e[0]||(e[0]=(...a)=>t.hoverItem&&t.hoverItem(...a)),onClick:e[1]||(e[1]=Cr((...a)=>t.selectOptionClick&&t.selectOptionClick(...a),["stop"])),onMousedown:e[2]||(e[2]=Cr(()=>{},["prevent"]))},[Ot(t.$slots,"default",{},()=>[Ve("span",null,yn(t.currentLabel),1)])],42,KEe)),[[Ei,t.visible]])}var h8=Nn(YEe,[["render",ZEe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const QEe=kt({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=In(NE),e=gn("select"),n=he(()=>t.props.popperClass),r=he(()=>t.props.multiple),i=he(()=>t.props.fitInputWidth),s=ye("");function a(){var o;const l=(o=t.selectRef)==null?void 0:o.offsetWidth;l?s.value=`${l-hEe}px`:s.value=""}return zr(()=>{a(),ma(t.selectRef,a)}),{ns:e,minWidth:s,popperClass:n,isMultiple:r,isFitInputWidth:i}}});function JEe(t,e,n,r,i,s){return ge(),Fe("div",{class:Ce([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:dr({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(ge(),Fe("div",{key:0,class:Ce(t.ns.be("dropdown","header"))},[Ot(t.$slots,"header")],2)):gt("v-if",!0),Ot(t.$slots,"default"),t.$slots.footer?(ge(),Fe("div",{key:1,class:Ce(t.ns.be("dropdown","footer"))},[Ot(t.$slots,"footer")],2)):gt("v-if",!0)],6)}var eAe=Nn(QEe,[["render",JEe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);const tAe=(t,e)=>{const{t:n}=mi(),r=Cc(),i=gn("select"),s=gn("input"),a=lr({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),o=ye(),l=ye(),u=ye(),d=ye(),f=ye(),h=ye(),g=ye(),v=ye(),p=ye(),_=ye(),S=ye(),C=ye(!1),T=ye(),A=ye(!1),{form:P,formItem:D}=Rc(),{inputId:R}=Ny(t,{formItemContext:D}),{valueOnClear:N,isEmptyValue:U}=IM(t),{isComposing:Y,handleCompositionStart:H,handleCompositionUpdate:j,handleCompositionEnd:X}=NM({afterComposition:st=>Kt(st)}),W=uo(),{wrapperRef:F,isFocused:te,handleBlur:G}=tx(f,{disabled:W,afterFocus(){t.automaticDropdown&&!C.value&&(C.value=!0,a.menuVisibleOnFocus=!0)},beforeBlur(st){var At,ve;return((At=u.value)==null?void 0:At.isFocusInsideContent(st))||((ve=d.value)==null?void 0:ve.isFocusInsideContent(st))},afterBlur(){var st;C.value=!1,a.menuVisibleOnFocus=!1,t.validateEvent&&((st=D==null?void 0:D.validate)==null||st.call(D,"blur").catch(At=>void 0))}}),K=he(()=>nn(t.modelValue)?t.modelValue.length>0:!U(t.modelValue)),ee=he(()=>{var st;return(st=P==null?void 0:P.statusIcon)!=null?st:!1}),de=he(()=>t.clearable&&!W.value&&K.value&&(te.value||a.inputHovering)),ue=he(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),me=he(()=>i.is("reverse",!!(ue.value&&C.value))),Ee=he(()=>(D==null?void 0:D.validateState)||""),Oe=he(()=>Ee.value&&QX[Ee.value]),Ge=he(()=>t.remote?t.debounce:0),$e=he(()=>t.remote&&!a.inputValue&&a.options.size===0),Ie=he(()=>t.loading?t.loadingText||n("el.select.loading"):t.filterable&&a.inputValue&&a.options.size>0&&Ke.value===0?t.noMatchText||n("el.select.noMatch"):a.options.size===0?t.noDataText||n("el.select.noData"):null),Ke=he(()=>Xe.value.filter(st=>st.visible).length),Xe=he(()=>{const st=Array.from(a.options.values()),At=[];return a.optionValues.forEach(ve=>{const en=st.findIndex(Xt=>Xt.value===ve);en>-1&&At.push(st[en])}),At.length>=st.length?At:st}),Ze=he(()=>Array.from(a.cachedOptions.values())),bt=he(()=>{const st=Xe.value.filter(At=>!At.created).some(At=>At.currentLabel===a.inputValue);return t.filterable&&t.allowCreate&&a.inputValue!==""&&!st}),ht=()=>{t.filterable&&kn(t.filterMethod)||t.filterable&&t.remote&&kn(t.remoteMethod)||Xe.value.forEach(st=>{var At;(At=st.updateOption)==null||At.call(st,a.inputValue)})},ae=Hu(),Re=he(()=>["small"].includes(ae.value)?"small":"default"),rt=he({get(){return C.value&&(t.loading||!$e.value)&&(!A.value||!Ql(a.previousQuery))},set(st){C.value=st}}),Ye=he(()=>{if(t.multiple&&!Ni(t.modelValue))return Zl(t.modelValue).length===0&&!a.inputValue;const st=nn(t.modelValue)?t.modelValue[0]:t.modelValue;return t.filterable||Ni(st)?!a.inputValue:!0}),it=he(()=>{var st;const At=(st=t.placeholder)!=null?st:n("el.select.placeholder");return t.multiple||!K.value?At:a.selectedLabel}),St=he(()=>sD?null:"mouseenter");Zt(()=>t.modelValue,(st,At)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(a.inputValue="",Lt("")),sn(),!na(st,At)&&t.validateEvent&&(D==null||D.validate("change").catch(ve=>void 0))},{flush:"post",deep:!0}),Zt(()=>C.value,st=>{st?Lt(a.inputValue):(a.inputValue="",a.previousQuery=null,a.isBeforeHide=!0)}),Zt(()=>a.options.entries(),()=>{Vr&&(sn(),t.defaultFirstOption&&(t.filterable||t.remote)&&Ke.value&&xt())},{flush:"post"}),Zt([()=>a.hoveringIndex,Xe],([st])=>{Lr(st)&&st>-1?T.value=Xe.value[st]||{}:T.value={},Xe.value.forEach(At=>{At.hover=T.value===At})}),Tp(()=>{a.isBeforeHide||ht()});const Lt=st=>{a.previousQuery===st||Y.value||(a.previousQuery=st,t.filterable&&kn(t.filterMethod)?t.filterMethod(st):t.filterable&&t.remote&&kn(t.remoteMethod)&&t.remoteMethod(st),t.defaultFirstOption&&(t.filterable||t.remote)&&Ke.value?Vn(xt):Vn(ft))},xt=()=>{const st=Xe.value.filter(Xt=>Xt.visible&&!Xt.disabled&&!Xt.states.groupDisabled),At=st.find(Xt=>Xt.created),ve=st[0],en=Xe.value.map(Xt=>Xt.value);a.hoveringIndex=xe(en,At||ve)},sn=()=>{if(t.multiple)a.selectedLabel="";else{const At=nn(t.modelValue)?t.modelValue[0]:t.modelValue,ve=zt(At);a.selectedLabel=ve.currentLabel,a.selected=[ve];return}const st=[];Ni(t.modelValue)||Zl(t.modelValue).forEach(At=>{st.push(zt(At))}),a.selected=st},zt=st=>{let At;const ve=Ab(st);for(let hr=a.cachedOptions.size-1;hr>=0;hr--){const Pr=Ze.value[hr];if(ve?rl(Pr.value,t.valueKey)===rl(st,t.valueKey):Pr.value===st){At={index:Xe.value.filter(ni=>!ni.created).indexOf(Pr),value:st,currentLabel:Pr.currentLabel,get isDisabled(){return Pr.isDisabled}};break}}if(At)return At;const en=ve?st.label:st??"";return{index:-1,value:st,currentLabel:en}},ft=()=>{const st=a.selected.length;if(st>0){const At=a.selected[st-1];a.hoveringIndex=Xe.value.findIndex(ve=>Me(At)===Me(ve))}else a.hoveringIndex=-1},tn=()=>{a.selectionWidth=Number.parseFloat(window.getComputedStyle(l.value).width)},_n=()=>{a.collapseItemWidth=_.value.getBoundingClientRect().width},qt=()=>{var st,At;(At=(st=u.value)==null?void 0:st.updatePopper)==null||At.call(st)},Pt=()=>{var st,At;(At=(st=d.value)==null?void 0:st.updatePopper)==null||At.call(st)},Ct=()=>{a.inputValue.length>0&&!C.value&&(C.value=!0),Lt(a.inputValue)},Kt=st=>{if(a.inputValue=st.target.value,t.remote)A.value=!0,$t();else return Ct()},$t=kM(()=>{Ct(),A.value=!1},Ge),Te=st=>{na(t.modelValue,st)||e(bs,st)},vt=st=>bve(st,At=>{const ve=a.cachedOptions.get(At);return!(ve!=null&&ve.disabled)&&!(ve!=null&&ve.states.groupDisabled)}),Nt=st=>{const At=oa(st);if(t.multiple&&At!==Pn.delete&&st.target.value.length<=0){const ve=Zl(t.modelValue).slice(),en=vt(ve);if(en<0)return;const Xt=ve[en];ve.splice(en,1),e(Ti,ve),Te(ve),e("remove-tag",Xt)}},Ne=(st,At)=>{const ve=a.selected.indexOf(At);if(ve>-1&&!W.value){const en=Zl(t.modelValue).slice();en.splice(ve,1),e(Ti,en),Te(en),e("remove-tag",At.value)}st.stopPropagation(),w()},De=st=>{st.stopPropagation();const At=t.multiple?[]:N.value;if(t.multiple)for(const ve of a.selected)ve.isDisabled&&At.push(ve.value);e(Ti,At),Te(At),a.hoveringIndex=-1,C.value=!1,e("clear"),w()},tt=st=>{var At;if(t.multiple){const ve=Zl((At=t.modelValue)!=null?At:[]).slice(),en=xe(ve,st);en>-1?ve.splice(en,1):(t.multipleLimit<=0||ve.length<t.multipleLimit)&&ve.push(st.value),e(Ti,ve),Te(ve),st.created&&Lt(""),t.filterable&&!t.reserveKeyword&&(a.inputValue="")}else!na(t.modelValue,st.value)&&e(Ti,st.value),Te(st.value),C.value=!1;w(),!C.value&&Vn(()=>{Gt(st)})},xe=(st,At)=>Ni(At)?-1:fr(At.value)?st.findIndex(ve=>na(rl(ve,t.valueKey),Me(At))):st.indexOf(At.value),Gt=st=>{var At,ve,en,Xt,hr;const Pr=nn(st)?st[st.length-1]:st;let Sn=null;if(!Tc(Pr==null?void 0:Pr.value)){const ni=Xe.value.filter(rr=>rr.value===Pr.value);ni.length>0&&(Sn=ni[0].$el)}if(u.value&&Sn){const ni=(Xt=(en=(ve=(At=u.value)==null?void 0:At.popperRef)==null?void 0:ve.contentRef)==null?void 0:en.querySelector)==null?void 0:Xt.call(en,`.${i.be("dropdown","wrap")}`);ni&&GX(ni,Sn)}(hr=S.value)==null||hr.handleScroll()},c=st=>{a.options.set(st.value,st),a.cachedOptions.set(st.value,st)},xn=(st,At)=>{a.options.get(st)===At&&a.options.delete(st)},at=he(()=>{var st,At;return(At=(st=u.value)==null?void 0:st.popperRef)==null?void 0:At.contentRef}),se=()=>{a.isBeforeHide=!1,Vn(()=>{var st;(st=S.value)==null||st.update(),Gt(a.selected)})},w=()=>{var st;(st=f.value)==null||st.focus()},k=()=>{var st;if(C.value){C.value=!1,Vn(()=>{var At;return(At=f.value)==null?void 0:At.blur()});return}(st=f.value)==null||st.blur()},z=st=>{De(st)},fe=st=>{if(C.value=!1,te.value){const At=new FocusEvent("blur",st);Vn(()=>G(At))}},le=()=>{a.inputValue.length>0?a.inputValue="":C.value=!1},re=st=>{var At;W.value||t.filterable&&C.value&&st&&!((At=g.value)!=null&&At.contains(st.target))||(sD&&(a.inputHovering=!0),a.menuVisibleOnFocus?a.menuVisibleOnFocus=!1:C.value=!C.value)},we=()=>{if(!C.value)re();else{const st=Xe.value[a.hoveringIndex];st&&!st.isDisabled&&tt(st)}},Me=st=>fr(st.value)?rl(st.value,t.valueKey):st.value,Se=he(()=>Xe.value.filter(st=>st.visible).every(st=>st.isDisabled)),ze=he(()=>t.multiple?t.collapseTags?a.selected.slice(0,t.maxCollapseTags):a.selected:[]),lt=he(()=>t.multiple?t.collapseTags?a.selected.slice(t.maxCollapseTags):[]:[]),dt=st=>{if(!C.value){C.value=!0;return}if(!(a.options.size===0||Ke.value===0||Y.value)&&!Se.value){st==="next"?(a.hoveringIndex++,a.hoveringIndex===a.options.size&&(a.hoveringIndex=0)):st==="prev"&&(a.hoveringIndex--,a.hoveringIndex<0&&(a.hoveringIndex=a.options.size-1));const At=Xe.value[a.hoveringIndex];(At.isDisabled||!At.visible)&&dt(st),Vn(()=>Gt(T.value))}},pt=(st,At,ve,en)=>{for(let Xt=At;Xt>=0&&Xt<en;Xt+=ve){const hr=st[Xt];if(!(hr!=null&&hr.isDisabled)&&(hr!=null&&hr.visible))return Xt}return null},Ht=(st,At)=>{var ve;const en=a.options.size;if(en===0)return;const Xt=iX(st,0,en-1),hr=Xe.value,Pr=At==="up"?-1:1,Sn=(ve=pt(hr,Xt,Pr,en))!=null?ve:pt(hr,Xt-Pr,-Pr,en);Sn!=null&&(a.hoveringIndex=Sn,Vn(()=>Gt(T.value)))},rn=st=>{const At=oa(st);let ve=!0;switch(At){case Pn.up:dt("prev");break;case Pn.down:dt("next");break;case Pn.enter:case Pn.numpadEnter:Y.value||we();break;case Pn.esc:le();break;case Pn.backspace:ve=!1,Nt(st);return;case Pn.home:if(!C.value)return;Ht(0,"down");break;case Pn.end:if(!C.value)return;Ht(a.options.size-1,"up");break;case Pn.pageUp:if(!C.value)return;Ht(a.hoveringIndex-10,"up");break;case Pn.pageDown:if(!C.value)return;Ht(a.hoveringIndex+10,"down");break;default:ve=!1;break}ve&&(st.preventDefault(),st.stopPropagation())},wt=()=>{if(!l.value)return 0;const st=window.getComputedStyle(l.value);return Number.parseFloat(st.gap||"6px")},cn=he(()=>{const st=wt(),At=t.filterable?st+DK:0;return{maxWidth:`${_.value&&t.maxCollapseTags===1?a.selectionWidth-a.collapseItemWidth-st-At:a.selectionWidth-At}px`}}),on=he(()=>({maxWidth:`${a.selectionWidth}px`})),Jt=st=>{e("popup-scroll",st)};ma(l,tn),ma(F,qt),ma(p,Pt),ma(_,_n);let hn;return Zt(()=>rt.value,st=>{st?hn=ma(v,qt).stop:(hn==null||hn(),hn=void 0),e("visible-change",st)}),zr(()=>{sn()}),{inputId:R,contentId:r,nsSelect:i,nsInput:s,states:a,isFocused:te,expanded:C,optionsArray:Xe,hoverOption:T,selectSize:ae,filteredOptionsCount:Ke,updateTooltip:qt,updateTagTooltip:Pt,debouncedOnInputChange:$t,onInput:Kt,deletePrevTag:Nt,deleteTag:Ne,deleteSelected:De,handleOptionSelect:tt,scrollToOption:Gt,hasModelValue:K,shouldShowPlaceholder:Ye,currentPlaceholder:it,mouseEnterEventName:St,needStatusIcon:ee,showClearBtn:de,iconComponent:ue,iconReverse:me,validateState:Ee,validateIcon:Oe,showNewOption:bt,updateOptions:ht,collapseTagSize:Re,setSelected:sn,selectDisabled:W,emptyText:Ie,handleCompositionStart:H,handleCompositionUpdate:j,handleCompositionEnd:X,handleKeydown:rn,onOptionCreate:c,onOptionDestroy:xn,handleMenuEnter:se,focus:w,blur:k,handleClearClick:z,handleClickOutside:fe,handleEsc:le,toggleMenu:re,selectOption:we,getValueKey:Me,navigateOptions:dt,dropdownMenuVisible:rt,showTagList:ze,collapseTagList:lt,popupScroll:Jt,getOption:zt,tagStyle:cn,collapseTagStyle:on,popperRef:at,inputRef:f,tooltipRef:u,tagTooltipRef:d,prefixRef:h,suffixRef:g,selectRef:o,wrapperRef:F,selectionRef:l,scrollbarRef:S,menuRef:v,tagMenuRef:p,collapseItemRef:_}};var nAe=kt({name:"ElOptions",setup(t,{slots:e}){const n=In(NE);let r=[];return()=>{var i,s;const a=(i=e.default)==null?void 0:i.call(e),o=[];function l(u){nn(u)&&u.forEach(d=>{var f,h,g,v;const p=(f=(d==null?void 0:d.type)||{})==null?void 0:f.name;p==="ElOptionGroup"?l(!Kn(d.children)&&!nn(d.children)&&kn((h=d.children)==null?void 0:h.default)?(g=d.children)==null?void 0:g.default():d.children):p==="ElOption"?o.push((v=d.props)==null?void 0:v.value):nn(d.children)&&l(d.children)})}return a.length&&l((s=a[0])==null?void 0:s.children),na(o,r)||(r=o,n&&(n.states.optionValues=o)),a}}});const rAe=On({name:String,id:String,modelValue:{type:Dt([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Ic,effect:{type:Dt(String),default:"light"},disabled:{type:Boolean,default:void 0},clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:Dt([String,Object])},popperOptions:{type:Dt(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:Dt(Function)},filterMethod:{type:Dt(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Cd.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:$s,default:$y},fitInputWidth:Boolean,suffixIcon:{type:$s,default:J1},tagType:{...jb.type,default:"info"},tagEffect:{...jb.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:Dt(String),values:Fy,default:"bottom-start"},fallbackPlacements:{type:Dt(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:Cd.appendTo,options:{type:Dt(Array)},props:{type:Dt(Object),default:()=>wD},...DM,...Yf(["ariaLabel"])});Ti+"",bs+"",iY.scroll;const iAe=kt({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=gn("select"),n=ye(),r=Ar(),i=ye([]);pi($K,lr({...cu(t)}));const s=he(()=>i.value.some(u=>u.visible===!0)),a=u=>{var d;return u.type.name==="ElOption"&&!!((d=u.component)!=null&&d.proxy)},o=u=>{const d=Zl(u),f=[];return d.forEach(h=>{var g;ia(h)&&(a(h)?f.push(h.component.proxy):nn(h.children)&&h.children.length?f.push(...o(h.children)):(g=h.component)!=null&&g.subTree&&f.push(...o(h.component.subTree)))}),f},l=()=>{i.value=o(r.subTree)};return zr(()=>{l()}),RX(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:s,ns:e}}});function sAe(t,e,n,r,i,s){return Dr((ge(),Fe("ul",{ref:"groupRef",class:Ce(t.ns.be("group","wrap"))},[Ve("li",{class:Ce(t.ns.be("group","title"))},yn(t.label),3),Ve("li",null,[Ve("ul",{class:Ce(t.ns.b("group"))},[Ot(t.$slots,"default")],2)])],2)),[[Ei,t.visible]])}var p8=Nn(iAe,[["render",sAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const PB="ElSelect",Kb=new WeakMap,aAe=t=>(...e)=>{var n,r;const i=e[0];if(!i||i.includes('Slot "default" invoked outside of the render function')&&((n=e[2])!=null&&n.includes("ElTreeSelect")))return;const s=(r=Kb.get(t))==null?void 0:r.originalWarnHandler;if(s){s(...e);return}console.warn(...e)},oAe=t=>{let e=Kb.get(t);return e||(e={originalWarnHandler:t.config.warnHandler,handler:aAe(t),count:0},Kb.set(t,e)),e},lAe=kt({name:PB,componentName:PB,components:{ElSelectMenu:eAe,ElOption:h8,ElOptions:nAe,ElOptionGroup:p8,ElTag:kS,ElScrollbar:Pp,ElTooltip:kp,ElIcon:Bn},directives:{ClickOutside:zv},props:rAe,emits:[Ti,bs,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(t,{emit:e,slots:n}){const r=Ar(),i=oAe(r.appContext);i.count+=1,r.appContext.config.warnHandler=i.handler;const s=he(()=>{const{modelValue:C,multiple:T}=t,A=T?[]:void 0;return nn(C)?T?C:A:T?A:C}),a=lr({...cu(t),modelValue:s}),o=tAe(a,e),{calculatorRef:l,inputStyle:u}=pEe(),{getLabel:d,getValue:f,getOptions:h,getDisabled:g}=GEe(t),v=C=>({label:d(C),value:f(C),disabled:g(C)}),p=C=>C.reduce((T,A)=>(T.push(A),A.children&&A.children.length>0&&T.push(...p(A.children)),T),[]),_=C=>{ip(C||[]).forEach(A=>{var P;if(fr(A)&&(A.type.name==="ElOption"||A.type.name==="ElTree")){const D=A.type.name;if(D==="ElTree"){const R=((P=A.props)==null?void 0:P.data)||[];p(R).forEach(U=>{U.currentLabel=U.label||(fr(U.value)?"":U.value),o.onOptionCreate(U)})}else if(D==="ElOption"){const R={...A.props};R.currentLabel=R.label||(fr(R.value)?"":R.value),o.onOptionCreate(R)}}})};Zt(()=>{var C;return[(C=n.default)==null?void 0:C.call(n),s.value]},()=>{var C;t.persistent||o.expanded.value||(o.states.options.clear(),_((C=n.default)==null?void 0:C.call(n)))},{immediate:!0}),pi(NE,lr({props:a,states:o.states,selectRef:o.selectRef,optionsArray:o.optionsArray,setSelected:o.setSelected,handleOptionSelect:o.handleOptionSelect,onOptionCreate:o.onOptionCreate,onOptionDestroy:o.onOptionDestroy}));const S=he(()=>t.multiple?o.states.selected.map(C=>C.currentLabel):o.states.selectedLabel);return Ri(()=>{const C=Kb.get(r.appContext);C&&(C.count-=1,C.count<=0&&(r.appContext.config.warnHandler=C.originalWarnHandler,Kb.delete(r.appContext)))}),{...o,modelValue:s,selectedLabel:S,calculatorRef:l,inputStyle:u,getLabel:d,getValue:f,getOptions:h,getDisabled:g,getOptionProps:v}}}),uAe=["id","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],cAe=["textContent"],dAe={key:1};function fAe(t,e,n,r,i,s){const a=us("el-tag"),o=us("el-tooltip"),l=us("el-icon"),u=us("el-option"),d=us("el-option-group"),f=us("el-options"),h=us("el-scrollbar"),g=us("el-select-menu"),v=nq("click-outside");return Dr((ge(),Fe("div",Fi({ref:"selectRef",class:[t.nsSelect.b(),t.nsSelect.m(t.selectSize)]},{[F2(t.mouseEnterEventName)]:e[11]||(e[11]=p=>t.states.inputHovering=!0)},{onMouseleave:e[12]||(e[12]=p=>t.states.inputHovering=!1)}),[V(o,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-style":t.popperStyle,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:e[10]||(e[10]=p=>t.states.isBeforeHide=!1)},{default:ie(()=>{var p;return[Ve("div",{ref:"wrapperRef",class:Ce([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:e[7]||(e[7]=Cr((..._)=>t.toggleMenu&&t.toggleMenu(..._),["prevent"]))},[t.$slots.prefix?(ge(),Fe("div",{key:0,ref:"prefixRef",class:Ce(t.nsSelect.e("prefix"))},[Ot(t.$slots,"prefix")],2)):gt("v-if",!0),Ve("div",{ref:"selectionRef",class:Ce([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?Ot(t.$slots,"tag",{key:0,data:t.states.selected,deleteTag:t.deleteTag,selectDisabled:t.selectDisabled},()=>[(ge(!0),Fe(Tn,null,li(t.showTagList,_=>(ge(),Fe("div",{key:t.getValueKey(_),class:Ce(t.nsSelect.e("selected-item"))},[V(a,{closable:!t.selectDisabled&&!_.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:dr(t.tagStyle),onClose:S=>t.deleteTag(S,_)},{default:ie(()=>[Ve("span",{class:Ce(t.nsSelect.e("tags-text"))},[Ot(t.$slots,"label",{index:_.index,label:_.currentLabel,value:_.value},()=>[Rt(yn(_.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(ge(),Tt(o,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom","popper-class":t.popperClass,"popper-style":t.popperStyle,teleported:t.teleported},{default:ie(()=>[Ve("div",{ref:"collapseItemRef",class:Ce(t.nsSelect.e("selected-item"))},[V(a,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:dr(t.collapseTagStyle)},{default:ie(()=>[Ve("span",{class:Ce(t.nsSelect.e("tags-text"))}," + "+yn(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:ie(()=>[Ve("div",{ref:"tagMenuRef",class:Ce(t.nsSelect.e("selection"))},[(ge(!0),Fe(Tn,null,li(t.collapseTagList,_=>(ge(),Fe("div",{key:t.getValueKey(_),class:Ce(t.nsSelect.e("selected-item"))},[V(a,{class:"in-tooltip",closable:!t.selectDisabled&&!_.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:S=>t.deleteTag(S,_)},{default:ie(()=>[Ve("span",{class:Ce(t.nsSelect.e("tags-text"))},[Ot(t.$slots,"label",{index:_.index,label:_.currentLabel,value:_.value},()=>[Rt(yn(_.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):gt("v-if",!0)]):gt("v-if",!0),Ve("div",{class:Ce([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable||t.selectDisabled)])},[Dr(Ve("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=_=>t.states.inputValue=_),type:"text",name:t.name,class:Ce([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:dr(t.inputStyle),tabindex:t.tabindex,role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((p=t.hoverOption)==null?void 0:p.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:e[1]||(e[1]=(..._)=>t.handleKeydown&&t.handleKeydown(..._)),onCompositionstart:e[2]||(e[2]=(..._)=>t.handleCompositionStart&&t.handleCompositionStart(..._)),onCompositionupdate:e[3]||(e[3]=(..._)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(..._)),onCompositionend:e[4]||(e[4]=(..._)=>t.handleCompositionEnd&&t.handleCompositionEnd(..._)),onInput:e[5]||(e[5]=(..._)=>t.onInput&&t.onInput(..._)),onClick:e[6]||(e[6]=Cr((..._)=>t.toggleMenu&&t.toggleMenu(..._),["stop"]))},null,46,uAe),[[Mq,t.states.inputValue]]),t.filterable?(ge(),Fe("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Ce(t.nsSelect.e("input-calculator")),textContent:yn(t.states.inputValue)},null,10,cAe)):gt("v-if",!0)],2),t.shouldShowPlaceholder?(ge(),Fe("div",{key:1,class:Ce([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?Ot(t.$slots,"label",{key:0,index:t.getOption(t.modelValue).index,label:t.currentPlaceholder,value:t.modelValue},()=>[Ve("span",null,yn(t.currentPlaceholder),1)]):(ge(),Fe("span",dAe,yn(t.currentPlaceholder),1))],2)):gt("v-if",!0)],2),Ve("div",{ref:"suffixRef",class:Ce(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClearBtn?(ge(),Tt(l,{key:0,class:Ce([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:ie(()=>[(ge(),Tt(ti(t.iconComponent)))]),_:1},8,["class"])):gt("v-if",!0),t.showClearBtn&&t.clearIcon?(ge(),Tt(l,{key:1,class:Ce([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.nsSelect.e("clear")]),onClick:t.handleClearClick},{default:ie(()=>[(ge(),Tt(ti(t.clearIcon)))]),_:1},8,["class","onClick"])):gt("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(ge(),Tt(l,{key:2,class:Ce([t.nsInput.e("icon"),t.nsInput.e("validateIcon"),t.nsInput.is("loading",t.validateState==="validating")])},{default:ie(()=>[(ge(),Tt(ti(t.validateIcon)))]),_:1},8,["class"])):gt("v-if",!0)],2)],2)]}),content:ie(()=>[V(g,{ref:"menuRef"},{default:ie(()=>[t.$slots.header?(ge(),Fe("div",{key:0,class:Ce(t.nsSelect.be("dropdown","header")),onClick:e[8]||(e[8]=Cr(()=>{},["stop"]))},[Ot(t.$slots,"header")],2)):gt("v-if",!0),Dr(V(h,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:Ce([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical",onScroll:t.popupScroll},{default:ie(()=>[t.showNewOption?(ge(),Tt(u,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):gt("v-if",!0),V(f,null,{default:ie(()=>[Ot(t.$slots,"default",{},()=>[(ge(!0),Fe(Tn,null,li(t.options,(p,_)=>{var S;return ge(),Fe(Tn,{key:_},[(S=t.getOptions(p))!=null&&S.length?(ge(),Tt(d,{key:0,label:t.getLabel(p),disabled:t.getDisabled(p)},{default:ie(()=>[(ge(!0),Fe(Tn,null,li(t.getOptions(p),C=>(ge(),Tt(u,Fi({key:t.getValue(C)},{ref_for:!0},t.getOptionProps(C)),null,16))),128))]),_:2},1032,["label","disabled"])):(ge(),Tt(u,Fi({key:1,ref_for:!0},t.getOptionProps(p)),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[Ei,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(ge(),Fe("div",{key:1,class:Ce(t.nsSelect.be("dropdown","loading"))},[Ot(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(ge(),Fe("div",{key:2,class:Ce(t.nsSelect.be("dropdown","empty"))},[Ot(t.$slots,"empty",{},()=>[Ve("span",null,yn(t.emptyText),1)])],2)):gt("v-if",!0),t.$slots.footer?(ge(),Fe("div",{key:3,class:Ce(t.nsSelect.be("dropdown","footer")),onClick:e[9]||(e[9]=Cr(()=>{},["stop"]))},[Ot(t.$slots,"footer")],2)):gt("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow"])],16)),[[v,t.handleClickOutside,t.popperRef]])}var hAe=Nn(lAe,[["render",fAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Uy=_i(hAe,{Option:h8,OptionGroup:p8}),lc=Ya(h8);Ya(p8);const m8=()=>In(LK,{}),pAe=On({pageSize:{type:Number,required:!0},pageSizes:{type:Dt(Array),default:()=>Aa([10,20,30,40,50,100])},popperClass:{type:String},popperStyle:{type:Dt([String,Object])},disabled:Boolean,teleported:Boolean,size:{type:String,values:jp},appendSizeTo:String}),mAe=kt({name:"ElPaginationSizes",__name:"sizes",props:pAe,emits:["page-size-change"],setup(t,{emit:e}){const n=t,r=e,{t:i}=mi(),s=gn("pagination"),a=m8(),o=ye(n.pageSize);Zt(()=>n.pageSizes,(d,f)=>{if(!na(d,f)&&nn(d)){const h=d.includes(n.pageSize)?n.pageSize:n.pageSizes[0];r("page-size-change",h)}}),Zt(()=>n.pageSize,d=>{o.value=d});const l=he(()=>n.pageSizes);function u(d){var f;d!==o.value&&(o.value=d,(f=a.handleSizeChange)==null||f.call(a,Number(d)))}return(d,f)=>(ge(),Fe("span",{class:Ce(b(s).e("sizes"))},[V(b(Uy),{"model-value":o.value,disabled:d.disabled,"popper-class":d.popperClass,"popper-style":d.popperStyle,size:d.size,teleported:d.teleported,"validate-event":!1,"append-to":d.appendSizeTo,onChange:u},{default:ie(()=>[(ge(!0),Fe(Tn,null,li(l.value,h=>(ge(),Tt(b(lc),{key:h,value:h,label:h+b(i)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","popper-style","size","teleported","append-to"])],2))}});var gAe=Nn(mAe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const vAe=On({size:{type:String,values:jp}}),yAe=["disabled"],_Ae=kt({name:"ElPaginationJumper",__name:"jumper",props:vAe,setup(t){const{t:e}=mi(),n=gn("pagination"),{pageCount:r,disabled:i,currentPage:s,changeEvent:a}=m8(),o=ye(),l=he(()=>{var f;return(f=o.value)!=null?f:s==null?void 0:s.value});function u(f){o.value=f?+f:""}function d(f){f=Math.trunc(+f),a==null||a(f),o.value=void 0}return(f,h)=>(ge(),Fe("span",{class:Ce(b(n).e("jump")),disabled:b(i)},[Ve("span",{class:Ce([b(n).e("goto")])},yn(b(e)("el.pagination.goto")),3),V(b(ns),{size:f.size,class:Ce([b(n).e("editor"),b(n).is("in-pagination")]),min:1,max:b(r),disabled:b(i),"model-value":l.value,"validate-event":!1,"aria-label":b(e)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:d},null,8,["size","class","max","disabled","model-value","aria-label"]),Ve("span",{class:Ce([b(n).e("classifier")])},yn(b(e)("el.pagination.pageClassifier")),3)],10,yAe))}});var bAe=Nn(_Ae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const xAe=On({total:{type:Number,default:1e3}}),wAe=["disabled"],SAe=kt({name:"ElPaginationTotal",__name:"total",props:xAe,setup(t){const{t:e}=mi(),n=gn("pagination"),{disabled:r}=m8();return(i,s)=>(ge(),Fe("span",{class:Ce(b(n).e("total")),disabled:b(r)},yn(b(e)("el.pagination.total",{total:i.total})),11,wAe))}});var TAe=Nn(SAe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const CAe=On({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),EAe=["aria-current","aria-label","tabindex"],AAe=["tabindex","aria-label"],PAe=["aria-current","aria-label","tabindex"],kAe=["tabindex","aria-label"],DAe=["aria-current","aria-label","tabindex"],IAe=kt({name:"ElPaginationPager",__name:"pager",props:CAe,emits:[bs],setup(t,{emit:e}){const n=t,r=e,i=gn("pager"),s=gn("icon"),{t:a}=mi(),o=ye(!1),l=ye(!1),u=ye(!1),d=ye(!1),f=ye(!1),h=ye(!1),g=he(()=>{const P=n.pagerCount,D=(P-1)/2,R=Number(n.currentPage),N=Number(n.pageCount);let U=!1,Y=!1;N>P&&(R>P-D&&(U=!0),R<N-D&&(Y=!0));const H=[];if(U&&!Y){const j=N-(P-2);for(let X=j;X<N;X++)H.push(X)}else if(!U&&Y)for(let j=2;j<P;j++)H.push(j);else if(U&&Y){const j=Math.floor(P/2)-1;for(let X=R-j;X<=R+j;X++)H.push(X)}else for(let j=2;j<N;j++)H.push(j);return H}),v=he(()=>["more","btn-quickprev",s.b(),i.is("disabled",n.disabled)]),p=he(()=>["more","btn-quicknext",s.b(),i.is("disabled",n.disabled)]),_=he(()=>n.disabled?-1:0);Zt(()=>[n.pageCount,n.pagerCount,n.currentPage],([P,D,R])=>{const N=(D-1)/2;let U=!1,Y=!1;P>D&&(U=R>D-N,Y=R<P-N),u.value&&(u.value=U),d.value&&(d.value=Y),o.value=U,l.value=Y},{immediate:!0});function S(P=!1){n.disabled||(P?u.value=!0:d.value=!0)}function C(P=!1){P?f.value=!0:h.value=!0}function T(P){const D=P.target;if(D.tagName.toLowerCase()==="li"&&Array.from(D.classList).includes("number")){const R=Number(D.textContent);R!==n.currentPage&&r(bs,R)}else D.tagName.toLowerCase()==="li"&&Array.from(D.classList).includes("more")&&A(P)}function A(P){const D=P.target;if(D.tagName.toLowerCase()==="ul"||n.disabled)return;let R=Number(D.textContent);const N=n.pageCount,U=n.currentPage,Y=n.pagerCount-2;D.className.includes("more")&&(D.className.includes("quickprev")?R=U-Y:D.className.includes("quicknext")&&(R=U+Y)),Number.isNaN(+R)||(R<1&&(R=1),R>N&&(R=N)),R!==U&&r(bs,R)}return(P,D)=>(ge(),Fe("ul",{class:Ce(b(i).b()),onClick:A,onKeyup:ts(T,["enter"])},[P.pageCount>0?(ge(),Fe("li",{key:0,class:Ce([[b(i).is("active",P.currentPage===1),b(i).is("disabled",P.disabled)],"number"]),"aria-current":P.currentPage===1,"aria-label":b(a)("el.pagination.currentPage",{pager:1}),tabindex:_.value}," 1 ",10,EAe)):gt("v-if",!0),o.value?(ge(),Fe("li",{key:1,class:Ce(v.value),tabindex:_.value,"aria-label":b(a)("el.pagination.prevPages",{pager:P.pagerCount-2}),onMouseenter:D[0]||(D[0]=R=>S(!0)),onMouseleave:D[1]||(D[1]=R=>u.value=!1),onFocus:D[2]||(D[2]=R=>C(!0)),onBlur:D[3]||(D[3]=R=>f.value=!1)},[(u.value||f.value)&&!P.disabled?(ge(),Tt(b(Ep),{key:0})):(ge(),Tt(b(OF),{key:1}))],42,AAe)):gt("v-if",!0),(ge(!0),Fe(Tn,null,li(g.value,R=>(ge(),Fe("li",{key:R,class:Ce([[b(i).is("active",P.currentPage===R),b(i).is("disabled",P.disabled)],"number"]),"aria-current":P.currentPage===R,"aria-label":b(a)("el.pagination.currentPage",{pager:R}),tabindex:_.value},yn(R),11,PAe))),128)),l.value?(ge(),Fe("li",{key:2,class:Ce(p.value),tabindex:_.value,"aria-label":b(a)("el.pagination.nextPages",{pager:P.pagerCount-2}),onMouseenter:D[4]||(D[4]=R=>S()),onMouseleave:D[5]||(D[5]=R=>d.value=!1),onFocus:D[6]||(D[6]=R=>C()),onBlur:D[7]||(D[7]=R=>h.value=!1)},[(d.value||h.value)&&!P.disabled?(ge(),Tt(b(Ap),{key:0})):(ge(),Tt(b(OF),{key:1}))],42,kAe)):gt("v-if",!0),P.pageCount>1?(ge(),Fe("li",{key:3,class:Ce([[b(i).is("active",P.currentPage===P.pageCount),b(i).is("disabled",P.disabled)],"number"]),"aria-current":P.currentPage===P.pageCount,"aria-label":b(a)("el.pagination.currentPage",{pager:P.pageCount}),tabindex:_.value},yn(P.pageCount),11,DAe)):gt("v-if",!0)],34))}});var RAe=Nn(IAe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const Ho=t=>typeof t!="number",OAe=On({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>Lr(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Dt(Array),default:()=>Aa([10,20,30,40,50,100])},popperClass:{type:String,default:""},popperStyle:{type:Dt([String,Object])},prevText:{type:String,default:""},prevIcon:{type:$s,default:()=>xm},nextText:{type:String,default:""},nextIcon:{type:$s,default:()=>$u},teleported:{type:Boolean,default:!0},small:Boolean,size:Ic,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),MAe={"update:current-page":t=>Lr(t),"update:page-size":t=>Lr(t),"size-change":t=>Lr(t),change:(t,e)=>Lr(t)&&Lr(e),"current-change":t=>Lr(t),"prev-click":t=>Lr(t),"next-click":t=>Lr(t)},kB="ElPagination";var LAe=kt({name:kB,props:OAe,emits:MAe,setup(t,{emit:e,slots:n}){const{t:r}=mi(),i=gn("pagination"),s=Ar().vnode.props||{},a=VX(),o=he(()=>{var P;return t.small?"small":(P=t.size)!=null?P:a.value});hp({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},he(()=>!!t.small));const l="onUpdate:currentPage"in s||"onUpdate:current-page"in s||"onCurrentChange"in s,u="onUpdate:pageSize"in s||"onUpdate:page-size"in s||"onSizeChange"in s,d=he(()=>{if(Ho(t.total)&&Ho(t.pageCount)||!Ho(t.currentPage)&&!l)return!1;if(t.layout.includes("sizes")){if(Ho(t.pageCount)){if(!Ho(t.total)&&!Ho(t.pageSize)&&!u)return!1}else if(!u)return!1}return!0}),f=ye(Ho(t.defaultPageSize)?10:t.defaultPageSize),h=ye(Ho(t.defaultCurrentPage)?1:t.defaultCurrentPage),g=he({get(){return Ho(t.pageSize)?f.value:t.pageSize},set(P){Ho(t.pageSize)&&(f.value=P),u&&(e("update:page-size",P),e("size-change",P))}}),v=he(()=>{let P=0;return Ho(t.pageCount)?Ho(t.total)||(P=Math.max(1,Math.ceil(t.total/g.value))):P=t.pageCount,P}),p=he({get(){return Ho(t.currentPage)?h.value:t.currentPage},set(P){let D=P;P<1?D=1:P>v.value&&(D=v.value),Ho(t.currentPage)&&(h.value=D),l&&(e("update:current-page",D),e("current-change",D))}});Zt(v,P=>{p.value>P&&(p.value=P)}),Zt([p,g],P=>{e(bs,...P)},{flush:"post"});function _(P){p.value=P}function S(P){g.value=P;const D=v.value;p.value>D&&(p.value=D)}function C(){t.disabled||(p.value-=1,e("prev-click",p.value))}function T(){t.disabled||(p.value+=1,e("next-click",p.value))}function A(P,D){P&&(P.props||(P.props={}),P.props.class=[P.props.class,D].join(" "))}return pi(LK,{pageCount:v,disabled:he(()=>t.disabled),currentPage:p,changeEvent:_,handleSizeChange:S}),()=>{var P,D;if(!d.value)return r("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&v.value<=1)return null;const R=[],N=[],U=En("div",{class:i.e("rightwrapper")},N),Y={prev:En(BEe,{disabled:t.disabled,currentPage:p.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:C}),jumper:En(bAe,{size:o.value}),pager:En(RAe,{currentPage:p.value,pageCount:v.value,pagerCount:t.pagerCount,onChange:_,disabled:t.disabled}),next:En(jEe,{disabled:t.disabled,currentPage:p.value,pageCount:v.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:T}),sizes:En(gAe,{pageSize:g.value,pageSizes:t.pageSizes,popperClass:t.popperClass,popperStyle:t.popperStyle,disabled:t.disabled,teleported:t.teleported,size:o.value,appendSizeTo:t.appendSizeTo}),slot:(D=(P=n==null?void 0:n.default)==null?void 0:P.call(n))!=null?D:null,total:En(TAe,{total:Ho(t.total)?0:t.total})},H=t.layout.split(",").map(X=>X.trim());let j=!1;return H.forEach(X=>{if(X==="->"){j=!0;return}j?N.push(Y[X]):R.push(Y[X])}),A(R[0],i.is("first")),A(R[R.length-1],i.is("last")),j&&N.length>0&&(A(N[0],i.is("first")),A(N[N.length-1],i.is("last")),R.push(U)),En("div",{class:[i.b(),i.is("background",t.background),i.m(o.value)]},R)}}});const iv=_i(LAe),$Ae=On({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Dt(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Dt([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Dt(Function),default:t=>`${t}%`}}),NAe=["aria-valuenow"],FAe={viewBox:"0 0 100 100"},BAe=["d","stroke","stroke-linecap","stroke-width"],UAe=["d","stroke","opacity","stroke-linecap","stroke-width"],VAe={key:0},zAe=kt({name:"ElProgress",__name:"progress",props:$Ae,setup(t){const e={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=t,r=gn("progress"),i=he(()=>{const T={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},A=C(n.percentage);return A.includes("gradient")?T.background=A:T.backgroundColor=A,T}),s=he(()=>(n.strokeWidth/n.width*100).toFixed(1)),a=he(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(s.value)/2}`,10):0),o=he(()=>{const T=a.value,A=n.type==="dashboard";return`
          M 50 50
          m 0 ${A?"":"-"}${T}
          a ${T} ${T} 0 1 1 0 ${A?"-":""}${T*2}
          a ${T} ${T} 0 1 1 0 ${A?"":"-"}${T*2}
          `}),l=he(()=>2*Math.PI*a.value),u=he(()=>n.type==="dashboard"?.75:1),d=he(()=>`${-1*l.value*(1-u.value)/2}px`),f=he(()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:d.value})),h=he(()=>({strokeDasharray:`${l.value*u.value*(n.percentage/100)}px, ${l.value}px`,strokeDashoffset:d.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),g=he(()=>{let T;return n.color?T=C(n.percentage):T=e[n.status]||e.default,T}),v=he(()=>n.status==="warning"?LM:n.type==="line"?n.status==="success"?MM:$y:n.status==="success"?RE:Rd),p=he(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),_=he(()=>n.format(n.percentage));function S(T){const A=100/T.length;return T.map((D,R)=>Kn(D)?{color:D,percentage:(R+1)*A}:D).sort((D,R)=>D.percentage-R.percentage)}const C=T=>{var A;const{color:P}=n;if(kn(P))return P(T);if(Kn(P))return P;{const D=S(P);for(const R of D)if(R.percentage>T)return R.color;return(A=D[D.length-1])==null?void 0:A.color}};return(T,A)=>(ge(),Fe("div",{class:Ce([b(r).b(),b(r).m(T.type),b(r).is(T.status),{[b(r).m("without-text")]:!T.showText,[b(r).m("text-inside")]:T.textInside}]),role:"progressbar","aria-valuenow":T.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[T.type==="line"?(ge(),Fe("div",{key:0,class:Ce(b(r).b("bar"))},[Ve("div",{class:Ce(b(r).be("bar","outer")),style:dr({height:`${T.strokeWidth}px`})},[Ve("div",{class:Ce([b(r).be("bar","inner"),{[b(r).bem("bar","inner","indeterminate")]:T.indeterminate},{[b(r).bem("bar","inner","striped")]:T.striped},{[b(r).bem("bar","inner","striped-flow")]:T.stripedFlow}]),style:dr(i.value)},[(T.showText||T.$slots.default)&&T.textInside?(ge(),Fe("div",{key:0,class:Ce(b(r).be("bar","innerText"))},[Ot(T.$slots,"default",{percentage:T.percentage},()=>[Ve("span",null,yn(_.value),1)])],2)):gt("v-if",!0)],6)],6)],2)):(ge(),Fe("div",{key:1,class:Ce(b(r).b("circle")),style:dr({height:`${T.width}px`,width:`${T.width}px`})},[(ge(),Fe("svg",FAe,[Ve("path",{class:Ce(b(r).be("circle","track")),d:o.value,stroke:`var(${b(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":T.strokeLinecap,"stroke-width":s.value,fill:"none",style:dr(f.value)},null,14,BAe),Ve("path",{class:Ce(b(r).be("circle","path")),d:o.value,stroke:g.value,fill:"none",opacity:T.percentage?1:0,"stroke-linecap":T.strokeLinecap,"stroke-width":s.value,style:dr(h.value)},null,14,UAe)]))],6)),(T.showText||T.$slots.default)&&!T.textInside?(ge(),Fe("div",{key:2,class:Ce(b(r).e("text")),style:dr({fontSize:`${p.value}px`})},[Ot(T.$slots,"default",{percentage:T.percentage},()=>[T.status?(ge(),Tt(b(Bn),{key:1},{default:ie(()=>[(ge(),Tt(ti(v.value)))]),_:1})):(ge(),Fe("span",VAe,yn(_.value),1))])],6)):gt("v-if",!0)],10,NAe))}});var HAe=Nn(zAe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const jAe=_i(HAe),GAe=["start","center","end","space-around","space-between","space-evenly"],WAe=["top","middle","bottom"],qAe=On({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:GAe,default:"start"},align:{type:String,values:WAe}}),XAe=kt({name:"ElRow",__name:"row",props:qAe,setup(t){const e=t,n=gn("row"),r=he(()=>e.gutter);pi(tK,{gutter:r});const i=he(()=>{const a={};return e.gutter&&(a.marginRight=a.marginLeft=`-${e.gutter/2}px`),a}),s=he(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(a,o)=>(ge(),Tt(ti(a.tag),{class:Ce(s.value),style:dr(i.value)},{default:ie(()=>[Ot(a.$slots,"default")]),_:3},8,["class","style"]))}});var YAe=Nn(XAe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const KAe=_i(YAe),ZAe="horizontal",QAe="vertical",JAe={[ZAe]:"deltaX",[QAe]:"deltaY"},e3e=({atEndEdge:t,atStartEdge:e,layout:n},r)=>{let i,s=0;const a=l=>l<0&&e.value||l>0&&t.value;return{hasReachedEdge:a,onWheel:l=>{Oye(i);const u=l[JAe[n.value]];a(s)&&a(s+u)||(s+=u,JX()||l.preventDefault(),i=OM(()=>{r(s),s=0}))}}},t3e=t=>["",...jp].includes(t),q3=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},n3e=function(t,e,n,r,i){if(!e&&!r&&(!i||nn(i)&&!i.length))return t;Kn(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const s=r?null:function(o,l){return i?SX(Zl(i),u=>Kn(u)?rl(o,u):u(o,l,t)):(e!=="$key"&&fr(o)&&"$value"in o&&(o=o.$value),[fr(o)?e?rl(o,e):null:o])},a=function(o,l){var u,d,f,h,g,v;if(r)return r(o.value,l.value);for(let p=0,_=(d=(u=o.key)==null?void 0:u.length)!=null?d:0;p<_;p++){if(((f=o.key)==null?void 0:f[p])<((h=l.key)==null?void 0:h[p]))return-1;if(((g=o.key)==null?void 0:g[p])>((v=l.key)==null?void 0:v[p]))return 1}return 0};return t.map((o,l)=>({value:o,index:l,key:s?s(o,l):null})).sort((o,l)=>{let u=a(o,l);return u||(u=o.index-l.index),u*+n}).map(o=>o.value)},NK=function(t,e){let n=null;return t.columns.forEach(r=>{r.id===e&&(n=r)}),n},r3e=function(t,e){let n=null;for(let r=0;r<t.columns.length;r++){const i=t.columns[r];if(i.columnKey===e){n=i;break}}return n||ll("ElTable",`No column matching with column-key: ${e}`),n},DB=function(t,e,n){const r=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?NK(t,r[0]):null},io=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(Kn(e)){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let r=t;for(const i of n)r=r[i];return`${r}`}else if(kn(e))return e.call(null,t);return""},sv=function(t,e,n=!1,r="children"){const i=t||[],s={};return i.forEach((a,o)=>{if(s[io(a,e)]={row:a,index:o},n){const l=a[r];nn(l)&&Object.assign(s,sv(l,e,!0,r))}}),s};function i3e(t,e){const n={};let r;for(r in t)n[r]=t[r];for(r in e)if(Kr(e,r)){const i=e[r];Ni(i)||(n[r]=i)}return n}function g8(t){return t===""||Ni(t)||(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function FK(t){return t===""||Ni(t)||(t=g8(t),Number.isNaN(t)&&(t=80)),t}function s3e(t){return Lr(t)?t:Kn(t)?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function a3e(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function FT(t,e,n,r,i,s,a){let o=s??0,l=!1;const d=(()=>{if(!a)return t.indexOf(e);const p=io(e,a);return t.findIndex(_=>io(_,a)===p)})(),f=d!==-1,h=i==null?void 0:i.call(null,e,o),g=p=>{p==="add"?t.push(e):t.splice(d,1),l=!0},v=p=>{let _=0;const S=(r==null?void 0:r.children)&&p[r.children];return S&&nn(S)&&(_+=S.length,S.forEach(C=>{_+=v(C)})),_};return(!i||h)&&(ta(n)?n&&!f?g("add"):!n&&f&&g("remove"):g(f?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&nn(e[r.children])&&e[r.children].forEach(p=>{const _=FT(t,p,n??!f,r,i,o+1,a);o+=v(p)+1,_&&(l=_)}),l}function o3e(t,e,n="children",r="hasChildren",i=!1){const s=o=>!(nn(o)&&o.length);function a(o,l,u){e(o,l,u),l.forEach(d=>{if(d[r]&&i){e(d,null,u+1);return}const f=d[n];s(f)||a(d,f,u+1)})}t.forEach(o=>{if(o[r]&&i){e(o,null,0);return}const l=o[n];s(l)||a(o,l,0)})}const l3e=(t,e,n,r)=>{const i={strategy:"fixed",...t.popperOptions},s=kn(r==null?void 0:r.tooltipFormatter)?r.tooltipFormatter({row:n,column:r,cellValue:q2(n,r.property).value}):void 0;return ia(s)?{slotContent:s,content:null,...t,popperOptions:i}:{slotContent:null,content:s??e,...t,popperOptions:i}};let bo=null;function u3e(t,e,n,r,i,s){var a;const o=l3e(t,e,n,r),l={...o,slotContent:void 0};if((bo==null?void 0:bo.trigger)===i){const v=(a=bo.vm)==null?void 0:a.component;TX(v==null?void 0:v.props,l),v&&o.slotContent&&(v.slots.content=()=>[o.slotContent]);return}bo==null||bo();const u=s==null?void 0:s.refs.tableWrapper,d=u==null?void 0:u.dataset.prefix,f=V(kp,{virtualTriggering:!0,virtualRef:i,appendTo:u,placement:"top",transition:"none",offset:0,hideAfter:0,...l},o.slotContent?{content:()=>o.slotContent}:void 0);f.appContext={...s.appContext,...s};const h=document.createElement("div");Cp(f,h),f.component.exposed.onOpen();const g=u==null?void 0:u.querySelector(`.${d}-scrollbar__wrap`);bo=()=>{var v,p;(p=(v=f.component)==null?void 0:v.exposed)!=null&&p.onClose&&f.component.exposed.onClose(),Cp(null,h);const _=bo;g==null||g.removeEventListener("scroll",_),_.trigger=void 0,_.vm=void 0,bo=null},bo.trigger=i??void 0,bo.vm=f,g==null||g.addEventListener("scroll",bo)}function BK(t){return t.children?SX(t.children,BK):[t]}function IB(t,e){return t+e.colSpan}const UK=(t,e,n,r)=>{let i=0,s=t;const a=n.states.columns.value;if(r){const l=BK(r[t]);i=a.slice(0,a.indexOf(l[0])).reduce(IB,0),s=i+l.reduce(IB,0)-1}else i=t;let o;switch(e){case"left":s<n.states.fixedLeafColumnsLength.value&&(o="left");break;case"right":i>=a.length-n.states.rightFixedLeafColumnsLength.value&&(o="right");break;default:s<n.states.fixedLeafColumnsLength.value?o="left":i>=a.length-n.states.rightFixedLeafColumnsLength.value&&(o="right")}return o?{direction:o,start:i,after:s}:{}},v8=(t,e,n,r,i,s=0)=>{const a=[],{direction:o,start:l,after:u}=UK(e,n,r,i);if(o){const d=o==="left";a.push(`${t}-fixed-column--${o}`),d&&u+s===r.states.fixedLeafColumnsLength.value-1?a.push("is-last-column"):!d&&l-s===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&a.push("is-first-column")}return a};function RB(t,e){return t+(Z1(e.realWidth)||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const y8=(t,e,n,r)=>{const{direction:i,start:s=0,after:a=0}=UK(t,e,n,r);if(!i)return;const o={},l=i==="left",u=n.states.columns.value;return l?o.left=u.slice(0,s).reduce(RB,0):o.right=u.slice(a+1).reverse().reduce(RB,0),o},Gv=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function VK(t){return t.some(e=>ia(e)?!(e.type===Rs||e.type===Tn&&!VK(e.children)):!0)?t:null}function c3e(t){const e=Ar(),n=ye(!1),r=ye([]);return{updateExpandRows:()=>{const l=t.data.value||[],u=t.rowKey.value;if(n.value)r.value=l.slice();else if(u){const d=sv(r.value,u);r.value=l.reduce((f,h)=>{const g=io(h,u);return d[g]&&f.push(h),f},[])}else r.value=[]},toggleRowExpansion:(l,u)=>{FT(r.value,l,u,void 0,void 0,void 0,t.rowKey.value)&&e.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const u=t.data.value||[],d=t.rowKey.value,f=sv(u,d);r.value=l.reduce((h,g)=>{const v=f[g];return v&&h.push(v.row),h},[])},isRowExpanded:l=>{const u=t.rowKey.value;return u?!!sv(r.value,u)[io(l,u)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:n}}}function d3e(t){const e=Ar(),n=ye(null),r=ye(null),i=u=>{e.store.assertRowKey(),n.value=u,a(u)},s=()=>{n.value=null},a=u=>{var d;const{data:f,rowKey:h}=t;let g=null;h.value&&(g=(d=(b(f)||[]).find(v=>io(v,h.value)===u))!=null?d:null),r.value=g??null,e.emit("current-change",r.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:s,setCurrentRowByKey:a,updateCurrentRow:u=>{const d=r.value;if(u&&u!==d){r.value=u,e.emit("current-change",r.value,d);return}!u&&d&&(r.value=null,e.emit("current-change",null,d))},updateCurrentRowData:()=>{const u=t.rowKey.value,d=t.data.value||[],f=r.value;if(f&&!d.includes(f)){if(u){const h=io(f,u);a(h)}else r.value=null;Z1(r.value)&&e.emit("current-change",null,f)}else n.value&&(a(n.value),s())},states:{_currentRowKey:n,currentRow:r}}}function f3e(t){const e=ye([]),n=ye({}),r=ye(16),i=ye(!1),s=ye({}),a=ye("hasChildren"),o=ye("children"),l=ye(!1),u=Ar(),d=he(()=>{if(!t.rowKey.value)return{};const A=t.data.value||[];return h(A)}),f=he(()=>{const A=t.rowKey.value,P=Object.keys(s.value),D={};return P.length&&P.forEach(R=>{if(s.value[R].length){const N={children:[]};s.value[R].forEach(U=>{const Y=io(U,A);N.children.push(Y),U[a.value]&&!D[Y]&&(D[Y]={children:[]})}),D[R]=N}}),D}),h=A=>{const P=t.rowKey.value,D={};return o3e(A,(R,N,U)=>{const Y=io(R,P);nn(N)?D[Y]={children:N.map(H=>io(H,P)),level:U}:i.value&&(D[Y]={children:[],lazy:!0,level:U})},o.value,a.value,i.value),D},g=(A=!1,P)=>{var D,R;P||(P=(D=u.store)==null?void 0:D.states.defaultExpandAll.value);const N=d.value,U=f.value,Y=Object.keys(N),H={};if(Y.length){const j=b(n),X=[],W=(te,G)=>{if(A)return e.value?P||e.value.includes(G):!!(P||te!=null&&te.expanded);{const K=P||e.value&&e.value.includes(G);return!!(te!=null&&te.expanded||K)}};Y.forEach(te=>{const G=j[te],K={...N[te]};if(K.expanded=W(G,te),K.lazy){const{loaded:ee=!1,loading:de=!1}=G||{};K.loaded=!!ee,K.loading=!!de,X.push(te)}H[te]=K});const F=Object.keys(U);i.value&&F.length&&X.length&&F.forEach(te=>{var G;const K=j[te],ee=U[te].children;if(X.includes(te)){if(((G=H[te].children)==null?void 0:G.length)!==0)throw new Error("[ElTable]children must be an empty array.");H[te].children=ee}else{const{loaded:de=!1,loading:ue=!1}=K||{};H[te]={lazy:!0,loaded:!!de,loading:!!ue,expanded:W(K,te),children:ee,level:void 0}}})}n.value=H,(R=u.store)==null||R.updateTableScrollY()};Zt(()=>e.value,()=>{g(!0)}),Zt(()=>d.value,()=>{g()}),Zt(()=>f.value,()=>{g()});const v=A=>{e.value=A,g()},p=A=>i.value&&A&&"loaded"in A&&!A.loaded,_=(A,P)=>{u.store.assertRowKey();const D=t.rowKey.value,R=io(A,D),N=R&&n.value[R];if(R&&N&&"expanded"in N){const U=N.expanded;P=Ni(P)?!N.expanded:P,n.value[R].expanded=P,U!==P&&u.emit("expand-change",A,P),P&&p(N)&&C(A,R,N),u.store.updateTableScrollY()}},S=A=>{u.store.assertRowKey();const P=t.rowKey.value,D=io(A,P),R=n.value[D];p(R)?C(A,D,R):_(A,void 0)},C=(A,P,D)=>{const{load:R}=u.props;R&&!n.value[P].loaded&&(n.value[P].loading=!0,R(A,D,N=>{if(!nn(N))throw new TypeError("[ElTable] data must be an array");n.value[P].loading=!1,n.value[P].loaded=!0,n.value[P].expanded=!0,N.length&&(s.value[P]=N),u.emit("expand-change",A,!0)}))};return{loadData:C,loadOrToggle:S,toggleTreeExpansion:_,updateTreeExpandKeys:v,updateTreeData:g,updateKeyChildren:(A,P)=>{const{lazy:D,rowKey:R}=u.props;if(D){if(!R)throw new Error("[Table] rowKey is required in updateKeyChild");s.value[A]&&(s.value[A]=P)}},normalize:h,states:{expandRowKeys:e,treeData:n,indent:r,lazy:i,lazyTreeNodeMap:s,lazyColumnIdentifier:a,childrenColumnName:o,checkStrictly:l}}}const h3e=(t,e)=>{const n=e.sortingColumn;return!n||Kn(n.sortable)?t:n3e(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},IS=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,IS(n.children)):e.push(n)}),e};function p3e(){var t;const e=Ar(),{size:n}=cu((t=e.proxy)==null?void 0:t.$props),r=ye(null),i=ye([]),s=ye([]),a=ye(!1),o=ye([]),l=ye([]),u=ye([]),d=ye([]),f=ye([]),h=ye([]),g=ye([]),v=ye([]),p=[],_=ye(0),S=ye(0),C=ye(0),T=ye(!1),A=ye([]),P=ye(!1),D=ye(!1),R=ye(null),N=ye({}),U=ye(null),Y=ye(null),H=ye(null),j=ye(null),X=ye(null),W=he(()=>r.value?sv(A.value,r.value):void 0);Zt(i,()=>{var Te;e.state&&(K(!1),e.props.tableLayout==="auto"&&((Te=e.refs.tableHeaderRef)==null||Te.updateFixedColumnStyle()))},{deep:!0});const F=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},te=Te=>{var vt;(vt=Te.children)==null||vt.forEach(Nt=>{Nt.fixed=Te.fixed,te(Nt)})},G=()=>{o.value.forEach(xe=>{te(xe)}),d.value=o.value.filter(xe=>[!0,"left"].includes(xe.fixed));const Te=o.value.find(xe=>xe.type==="selection");let vt;Te&&Te.fixed!=="right"&&!d.value.includes(Te)&&o.value.indexOf(Te)===0&&d.value.length&&(d.value.unshift(Te),vt=!0),f.value=o.value.filter(xe=>xe.fixed==="right");const Nt=o.value.filter(xe=>(vt?xe.type!=="selection":!0)&&!xe.fixed);l.value=Array.from(d.value).concat(Nt).concat(f.value);const Ne=IS(Nt),De=IS(d.value),tt=IS(f.value);_.value=Ne.length,S.value=De.length,C.value=tt.length,u.value=Array.from(De).concat(Ne).concat(tt),a.value=d.value.length>0||f.value.length>0},K=(Te,vt=!1)=>{Te&&G(),vt?e.state.doLayout():e.state.debouncedUpdateLayout()},ee=Te=>W.value?!!W.value[io(Te,r.value)]:A.value.includes(Te),de=()=>{T.value=!1;const Te=A.value;A.value=[],Te.length&&e.emit("selection-change",[])},ue=()=>{var Te,vt;let Nt;if(r.value){Nt=[];const Ne=(vt=(Te=e==null?void 0:e.store)==null?void 0:Te.states)==null?void 0:vt.childrenColumnName.value,De=sv(i.value,r.value,!0,Ne);for(const tt in W.value)Kr(W.value,tt)&&!De[tt]&&Nt.push(W.value[tt].row)}else Nt=A.value.filter(Ne=>!i.value.includes(Ne));if(Nt.length){const Ne=A.value.filter(De=>!Nt.includes(De));A.value=Ne,e.emit("selection-change",Ne.slice())}},me=()=>(A.value||[]).slice(),Ee=(Te,vt,Nt=!0,Ne=!1)=>{var De,tt,xe,Gt;const c={children:(tt=(De=e==null?void 0:e.store)==null?void 0:De.states)==null?void 0:tt.childrenColumnName.value,checkStrictly:(Gt=(xe=e==null?void 0:e.store)==null?void 0:xe.states)==null?void 0:Gt.checkStrictly.value};if(FT(A.value,Te,vt,c,Ne?void 0:R.value,i.value.indexOf(Te),r.value)){const at=(A.value||[]).slice();Nt&&e.emit("select",at,Te),e.emit("selection-change",at)}},Oe=()=>{var Te,vt;const Nt=D.value?!T.value:!(T.value||A.value.length);T.value=Nt;let Ne=!1,De=0;const tt=(vt=(Te=e==null?void 0:e.store)==null?void 0:Te.states)==null?void 0:vt.rowKey.value,{childrenColumnName:xe}=e.store.states,Gt={children:xe.value,checkStrictly:!1};i.value.forEach((c,xn)=>{const at=xn+De;FT(A.value,c,Nt,Gt,R.value,at,tt)&&(Ne=!0),De+=$e(io(c,tt))}),Ne&&e.emit("selection-change",A.value?A.value.slice():[]),e.emit("select-all",(A.value||[]).slice())},Ge=()=>{var Te;if(((Te=i.value)==null?void 0:Te.length)===0){T.value=!1;return}const{childrenColumnName:vt}=e.store.states;let Nt=0,Ne=0;const De=xe=>{var Gt;for(const c of xe){const xn=R.value&&R.value.call(null,c,Nt);if(ee(c))Ne++;else if(!R.value||xn)return!1;if(Nt++,(Gt=c[vt.value])!=null&&Gt.length&&!De(c[vt.value]))return!1}return!0},tt=De(i.value||[]);T.value=Ne===0?!1:tt},$e=Te=>{var vt;if(!e||!e.store)return 0;const{treeData:Nt}=e.store.states;let Ne=0;const De=(vt=Nt.value[Te])==null?void 0:vt.children;return De&&(Ne+=De.length,De.forEach(tt=>{Ne+=$e(tt)})),Ne},Ie=(Te,vt)=>{const Nt={};return Zl(Te).forEach(Ne=>{N.value[Ne.id]=vt,Nt[Ne.columnKey||Ne.id]=vt}),Nt},Ke=(Te,vt,Nt)=>{Y.value&&Y.value!==Te&&(Y.value.order=null),Y.value=Te,H.value=vt,j.value=Nt},Xe=()=>{let Te=b(s);Object.keys(N.value).forEach(vt=>{const Nt=N.value[vt];if(!Nt||Nt.length===0)return;const Ne=NK({columns:u.value},vt);Ne&&Ne.filterMethod&&(Te=Te.filter(De=>Nt.some(tt=>Ne.filterMethod.call(null,tt,De,Ne))))}),U.value=Te},Ze=()=>{var Te;i.value=h3e((Te=U.value)!=null?Te:[],{sortingColumn:Y.value,sortProp:H.value,sortOrder:j.value})},bt=(Te=void 0)=>{Te!=null&&Te.filter||Xe(),Ze()},ht=Te=>{const{tableHeaderRef:vt}=e.refs;if(!vt)return;const Nt=Object.assign({},vt.filterPanels),Ne=Object.keys(Nt);if(Ne.length)if(Kn(Te)&&(Te=[Te]),nn(Te)){const De=Te.map(tt=>r3e({columns:u.value},tt));Ne.forEach(tt=>{const xe=De.find(Gt=>Gt.id===tt);xe&&(xe.filteredValue=[])}),e.store.commit("filterChange",{column:De,values:[],silent:!0,multi:!0})}else Ne.forEach(De=>{const tt=u.value.find(xe=>xe.id===De);tt&&(tt.filteredValue=[])}),N.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},ae=()=>{Y.value&&(Ke(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Re,toggleRowExpansion:rt,updateExpandRows:Ye,states:it,isRowExpanded:St}=c3e({data:i,rowKey:r}),{updateTreeExpandKeys:Lt,toggleTreeExpansion:xt,updateTreeData:sn,updateKeyChildren:zt,loadOrToggle:ft,states:tn}=f3e({data:i,rowKey:r}),{updateCurrentRowData:_n,updateCurrentRow:qt,setCurrentRowKey:Pt,states:Ct}=d3e({data:i,rowKey:r});return{assertRowKey:F,updateColumns:G,scheduleLayout:K,isSelected:ee,clearSelection:de,cleanSelection:ue,getSelectionRows:me,toggleRowSelection:Ee,_toggleAllSelection:Oe,toggleAllSelection:null,updateAllSelected:Ge,updateFilters:Ie,updateCurrentRow:qt,updateSort:Ke,execFilter:Xe,execSort:Ze,execQuery:bt,clearFilter:ht,clearSort:ae,toggleRowExpansion:rt,setExpandRowKeysAdapter:Te=>{Re(Te),Lt(Te)},setCurrentRowKey:Pt,toggleRowExpansionAdapter:(Te,vt)=>{u.value.some(({type:Ne})=>Ne==="expand")?rt(Te,vt):xt(Te,vt)},isRowExpanded:St,updateExpandRows:Ye,updateCurrentRowData:_n,loadOrToggle:ft,updateTreeData:sn,updateKeyChildren:zt,states:{tableSize:n,rowKey:r,data:i,_data:s,isComplex:a,_columns:o,originColumns:l,columns:u,fixedColumns:d,rightFixedColumns:f,leafColumns:h,fixedLeafColumns:g,rightFixedLeafColumns:v,updateOrderFns:p,leafColumnsLength:_,fixedLeafColumnsLength:S,rightFixedLeafColumnsLength:C,isAllSelected:T,selection:A,reserveSelection:P,selectOnIndeterminate:D,selectable:R,filters:N,filteredData:U,sortingColumn:Y,sortProp:H,sortOrder:j,hoverRow:X,...it,...tn,...Ct}}}function TD(t,e){return t.map(n=>{var r;return n.id===e.id?e:((r=n.children)!=null&&r.length&&(n.children=TD(n.children,e)),n)})}function CD(t){t.forEach(e=>{var n,r;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(r=e.children)!=null&&r.length&&CD(e.children)}),t.sort((e,n)=>e.no-n.no)}function m3e(){const t=Ar(),e=p3e(),n=gn("table"),{t:r}=mi();return{ns:n,t:r,...e,mutations:{setData(o,l){const u=b(o._data)!==l;o.data.value=l,o._data.value=l,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),b(o.reserveSelection)?t.store.assertRowKey():u?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(o,l,u,d){var f;const h=b(o._columns);let g=[];u?(u&&!u.children&&(u.children=[]),(f=u.children)==null||f.push(l),g=TD(h,u)):(h.push(l),g=h),CD(g),o._columns.value=g,o.updateOrderFns.push(d),l.type==="selection"&&(o.selectable.value=l.selectable,o.reserveSelection.value=l.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(o,l){var u;((u=l.getColumnIndex)==null?void 0:u.call(l))!==l.no&&(CD(o._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(o,l,u,d){var f;const h=b(o._columns)||[];if(u)(f=u.children)==null||f.splice(u.children.findIndex(v=>v.id===l.id),1),Vn(()=>{var v;((v=u.children)==null?void 0:v.length)===0&&delete u.children}),o._columns.value=TD(h,u);else{const v=h.indexOf(l);v>-1&&(h.splice(v,1),o._columns.value=h)}const g=o.updateOrderFns.indexOf(d);g>-1&&o.updateOrderFns.splice(g,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(o,l){const{prop:u,order:d,init:f}=l;if(u){const h=b(o.columns).find(g=>g.property===u);h&&(h.order=d,t.store.updateSort(h,u,d),t.store.commit("changeSortCondition",{init:f}))}},changeSortCondition(o,l){const{sortingColumn:u,sortProp:d,sortOrder:f}=o,h=b(u),g=b(d),v=b(f);Z1(v)&&(o.sortingColumn.value=null,o.sortProp.value=null);const p={filter:!0};t.store.execQuery(p),(!l||!(l.silent||l.init))&&t.emit("sort-change",{column:h,prop:g,order:v}),t.store.updateTableScrollY()},filterChange(o,l){const{column:u,values:d,silent:f}=l,h=t.store.updateFilters(u,d);t.store.execQuery(),f||t.emit("filter-change",h),t.store.updateTableScrollY()},toggleAllSelection(){var o,l;(l=(o=t.store).toggleAllSelection)==null||l.call(o)},rowSelectedChanged(o,l){t.store.toggleRowSelection(l),t.store.updateAllSelected()},setHoverRow(o,l){o.hoverRow.value=l},setCurrentRow(o,l){t.store.updateCurrentRow(l)}},commit:function(o,...l){const u=t.store.mutations;if(u[o])u[o].apply(t,[t.store.states,...l]);else throw new Error(`Action not found: ${o}`)},updateTableScrollY:function(){Vn(()=>t.layout.updateScrollY.apply(t.layout))}}}const _8={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function g3e(t,e){if(!t)throw new Error("Table is required.");const n=m3e();return n.toggleAllSelection=Mv(n._toggleAllSelection,10),Object.keys(_8).forEach(r=>{zK(HK(e,r),r,n)}),v3e(n,e),n}function v3e(t,e){Object.keys(_8).forEach(n=>{Zt(()=>HK(e,n),r=>{zK(r,n,t)})})}function zK(t,e,n){let r=t,i=_8[e];fr(i)&&(r=r||i.default,i=i.key),n.states[i].value=r}function HK(t,e){if(e.includes(".")){const n=e.split(".");let r=t;return n.forEach(i=>{r=r[i]}),r}else return t[e]}class y3e{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ye(null),this.scrollX=ye(!1),this.scrollY=ye(!1),this.bodyWidth=ye(null),this.fixedWidth=ye(null),this.rightFixedWidth=ye(null),this.gutterWidth=0;for(const n in e)Kr(e,n)&&(tr(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const e=this.height.value;if(Z1(e))return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const i=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,i!==r}return!1}setHeight(e,n="height"){if(!Vr)return;const r=this.table.vnode.el;if(e=s3e(e),this.height.value=Number(e),!r&&(e||e===0)){Vn(()=>this.setHeight(e,n));return}r&&Lr(e)?(r.style[n]=`${e}px`,this.updateElsHeight()):r&&Kn(e)&&(r.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?e.push.apply(e,r.columns):e.push(r)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){var e;if(!Vr)return;const n=this.fit,r=(e=this.table.vnode.el)==null?void 0:e.clientWidth;let i=0;const s=this.getFlattenColumns(),a=s.filter(u=>!Lr(u.width));if(s.forEach(u=>{Lr(u.width)&&u.realWidth&&(u.realWidth=null)}),a.length>0&&n){if(s.forEach(u=>{i+=Number(u.width||u.minWidth||80)}),i<=r){this.scrollX.value=!1;const u=r-i;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+u;else{const d=a.reduce((g,v)=>g+Number(v.minWidth||80),0),f=u/d;let h=0;a.forEach((g,v)=>{if(v===0)return;const p=Math.floor(Number(g.minWidth||80)*f);h+=p,g.realWidth=Number(g.minWidth||80)+p}),a[0].realWidth=Number(a[0].minWidth||80)+u-h}}else this.scrollX.value=!0,a.forEach(u=>{u.realWidth=Number(u.minWidth)});this.bodyWidth.value=Math.max(i,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else s.forEach(u=>{!u.width&&!u.minWidth?u.realWidth=80:u.realWidth=Number(u.width||u.minWidth),i+=u.realWidth}),this.scrollX.value=i>r,this.bodyWidth.value=i;const o=this.store.states.fixedColumns.value;if(o.length>0){let u=0;o.forEach(d=>{u+=Number(d.realWidth||d.width)}),this.fixedWidth.value=u}const l=this.store.states.rightFixedColumns.value;if(l.length>0){let u=0;l.forEach(d=>{u+=Number(d.realWidth||d.width)}),this.rightFixedWidth.value=u}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(r=>{var i,s;switch(e){case"columns":(i=r.state)==null||i.onColumnsChange(this);break;case"scrollable":(s=r.state)==null||s.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const _3e=kt({name:"ElTableFilterPanel",components:{ElCheckbox:Ec,ElCheckboxGroup:QM,ElScrollbar:Pp,ElTooltip:kp,ElIcon:Bn,ArrowDown:J1,ArrowUp:WX},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:Cd.appendTo},setup(t){const e=Ar(),{t:n}=mi(),r=gn("table-filter"),i=e==null?void 0:e.parent;t.column&&!i.filterPanels.value[t.column.id]&&(i.filterPanels.value[t.column.id]=e);const s=ye(null),a=ye(null),o=ye(0),l=he(()=>t.column&&t.column.filters),u=he(()=>t.column&&t.column.filterClassName?`${r.b()} ${t.column.filterClassName}`:r.b()),d=he({get:()=>{var R;return(((R=t.column)==null?void 0:R.filteredValue)||[])[0]},set:R=>{f.value&&(Pu(R)?f.value.splice(0,1):f.value.splice(0,1,R))}}),f=he({get(){return t.column?t.column.filteredValue||[]:[]},set(R){var N;t.column&&((N=t.upDataColumn)==null||N.call(t,"filteredValue",R))}}),h=he(()=>t.column?t.column.filterMultiple:!0),g=R=>R.value===d.value,v=()=>{var R;(R=s.value)==null||R.onClose()},p=()=>{C(f.value),v()},_=()=>{f.value=[],C(f.value),v()},S=(R,N)=>{d.value=R,o.value=N,Pu(R)?C([]):C(f.value),v()},C=R=>{var N,U;(N=t.store)==null||N.commit("filterChange",{column:t.column,values:R}),(U=t.store)==null||U.updateAllSelected()},T=()=>{var R,N;(R=a.value)==null||R.focus(),!h.value&&P(),t.column&&((N=t.upDataColumn)==null||N.call(t,"filterOpened",!0))},A=()=>{var R;t.column&&((R=t.upDataColumn)==null||R.call(t,"filterOpened",!1))},P=()=>{if(Pu(d)){o.value=0;return}const R=(l.value||[]).findIndex(N=>N.value===d.value);o.value=R>=0?R+1:0};return{multiple:h,filterClassName:u,filteredValue:f,filterValue:d,filters:l,handleConfirm:p,handleReset:_,handleSelect:S,isPropAbsent:Pu,isActive:g,t:n,ns:r,tooltipRef:s,rootRef:a,checkedIndex:o,handleShowTooltip:T,handleHideTooltip:A,handleKeydown:R=>{var N,U;const Y=oa(R),H=(l.value?l.value.length:0)+1;let j=o.value,X=!0;switch(Y){case Pn.down:case Pn.right:j=(j+1)%H;break;case Pn.up:case Pn.left:j=(j-1+H)%H;break;case Pn.tab:v(),X=!1;break;case Pn.enter:case Pn.space:if(j===0)S(null,0);else{const W=(l.value||[])[j-1];W.value&&S(W.value,j)}break;default:X=!1;break}X&&R.preventDefault(),o.value=j,(U=(N=a.value)==null?void 0:N.querySelector(`.${r.e("list-item")}:nth-child(${j+1})`))==null||U.focus()}}}}),b3e=["disabled"],x3e=["tabindex","aria-checked"],w3e=["tabindex","aria-checked","onClick"],S3e=["aria-label"];function T3e(t,e,n,r,i,s){const a=us("el-checkbox"),o=us("el-checkbox-group"),l=us("el-scrollbar"),u=us("arrow-up"),d=us("arrow-down"),f=us("el-icon"),h=us("el-tooltip");return ge(),Tt(h,{ref:"tooltipRef",offset:0,placement:t.placement,"show-arrow":!1,trigger:"click",role:"dialog",teleported:"",effect:"light",pure:"",loop:"","popper-class":t.filterClassName,persistent:"","append-to":t.appendTo,onShow:t.handleShowTooltip,onHide:t.handleHideTooltip},{content:ie(()=>[t.multiple?(ge(),Fe("div",{key:0,ref:"rootRef",tabindex:"-1",class:Ce(t.ns.e("multiple"))},[Ve("div",{class:Ce(t.ns.e("content"))},[V(l,{"wrap-class":t.ns.e("wrap")},{default:ie(()=>[V(o,{modelValue:t.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=g=>t.filteredValue=g),class:Ce(t.ns.e("checkbox-group"))},{default:ie(()=>[(ge(!0),Fe(Tn,null,li(t.filters,g=>(ge(),Tt(a,{key:g.value,value:g.value},{default:ie(()=>[Rt(yn(g.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),Ve("div",{class:Ce(t.ns.e("bottom"))},[Ve("button",{class:Ce(t.ns.is("disabled",t.filteredValue.length===0)),disabled:t.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...g)=>t.handleConfirm&&t.handleConfirm(...g))},yn(t.t("el.table.confirmFilter")),11,b3e),Ve("button",{type:"button",onClick:e[2]||(e[2]=(...g)=>t.handleReset&&t.handleReset(...g))},yn(t.t("el.table.resetFilter")),1)],2)],2)):(ge(),Fe("ul",{key:1,ref:"rootRef",tabindex:"-1",role:"radiogroup",class:Ce(t.ns.e("list")),onKeydown:e[4]||(e[4]=(...g)=>t.handleKeydown&&t.handleKeydown(...g))},[Ve("li",{role:"radio",class:Ce([t.ns.e("list-item"),t.ns.is("active",t.isPropAbsent(t.filterValue))]),tabindex:t.checkedIndex===0?0:-1,"aria-checked":t.isPropAbsent(t.filterValue),onClick:e[3]||(e[3]=g=>t.handleSelect(null,0))},yn(t.t("el.table.clearFilter")),11,x3e),(ge(!0),Fe(Tn,null,li(t.filters,(g,v)=>(ge(),Fe("li",{key:g.value,role:"radio",class:Ce([t.ns.e("list-item"),t.ns.is("active",t.isActive(g))]),tabindex:t.checkedIndex===v+1?0:-1,"aria-checked":t.isActive(g),onClick:p=>t.handleSelect(g.value,v+1)},yn(g.text),11,w3e))),128))],34))]),default:ie(()=>{var g;return[Ve("button",{type:"button",class:Ce(`${t.ns.namespace.value}-table__column-filter-trigger`),"aria-label":t.t("el.table.filterLabel",{column:((g=t.column)==null?void 0:g.label)||""})},[V(f,null,{default:ie(()=>[Ot(t.$slots,"filter-icon",{},()=>{var v;return[(v=t.column)!=null&&v.filterOpened?(ge(),Tt(u,{key:0})):(ge(),Tt(d,{key:1}))]})]),_:3})],10,S3e)]}),_:3},8,["placement","popper-class","append-to","onShow","onHide"])}var C3e=Nn(_3e,[["render",T3e],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function b8(t){const e=Ar();mE(()=>{n.value.addObserver(e)}),zr(()=>{r(n.value),i(n.value)}),zp(()=>{r(n.value),i(n.value)}),Hp(()=>{n.value.removeObserver(e)});const n=he(()=>{const s=t.layout;if(!s)throw new Error("Can not find table layout.");return s}),r=s=>{var a;const o=((a=t.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col"))||[];if(!o.length)return;const l=s.getFlattenColumns(),u={};l.forEach(d=>{u[d.id]=d});for(let d=0,f=o.length;d<f;d++){const h=o[d],g=h.getAttribute("name"),v=u[g];v&&h.setAttribute("width",v.realWidth||v.width)}},i=s=>{var a,o;const l=((a=t.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let d=0,f=l.length;d<f;d++)l[d].setAttribute("width",s.scrollY.value?s.gutterWidth:"0");const u=((o=t.vnode.el)==null?void 0:o.querySelectorAll("th.gutter"))||[];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.style.width=s.scrollY.value?`${s.gutterWidth}px`:"0",h.style.display=s.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:i}}const Lc=Symbol("ElTable");function E3e(t,e){const n=Ar(),r=In(Lc),i=p=>{p.stopPropagation()},s=(p,_)=>{!_.filters&&_.sortable?v(p,_,!1):_.filterable&&!_.sortable&&i(p),r==null||r.emit("header-click",_,p)},a=(p,_)=>{r==null||r.emit("header-contextmenu",_,p)},o=ye(null),l=ye(!1),u=ye(),d=(p,_)=>{var S,C;if(Vr&&!(_.children&&_.children.length>0)&&o.value&&t.border&&o.value.id===_.id){l.value=!0;const T=r;e("set-drag-visible",!0);const A=T==null?void 0:T.vnode.el,P=A==null?void 0:A.getBoundingClientRect().left,D=(C=(S=n==null?void 0:n.vnode)==null?void 0:S.el)==null?void 0:C.querySelector(`th.${_.id}`),R=D.getBoundingClientRect(),N=R.left-P+30;uc(D,"noclick"),u.value={startMouseLeft:p.clientX,startLeft:R.right-P,startColumnLeft:R.left-P,tableLeft:P};const U=T==null?void 0:T.refs.resizeProxy;U.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const Y=j=>{const X=j.clientX-u.value.startMouseLeft,W=u.value.startLeft+X;U.style.left=`${Math.max(N,W)}px`},H=()=>{if(l.value){const{startColumnLeft:j,startLeft:X}=u.value,F=Number.parseInt(U.style.left,10)-j;_.width=_.realWidth=F,T==null||T.emit("header-dragend",_.width,X-j,_,p),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,o.value=null,u.value=void 0,e("set-drag-visible",!1)}document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",H),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{su(D,"noclick")},0)};document.addEventListener("mousemove",Y),document.addEventListener("mouseup",H)}},f=(p,_)=>{var S;if(!t.border||_.children&&_.children.length>0)return;const C=p.target,T=Pl(C)?C.closest("th"):null;if(!T)return;const A=Sd(T,"is-sortable");if(A){const Y=l.value?"col-resize":"";T.style.cursor=Y;const H=T.querySelector(".caret-wrapper");H&&(H.style.cursor=Y)}if(!_.resizable||l.value){o.value=null;return}const P=T.getBoundingClientRect(),D=((S=T.parentNode)==null?void 0:S.lastElementChild)===T,R=t.allowDragLastColumn||!D,N=P.width>12&&P.right-p.clientX<8&&R,U=N?"col-resize":"";document.body.style.cursor=U,o.value=N?_:null,A&&(T.style.cursor=U)},h=()=>{!Vr||l.value||(document.body.style.cursor="")},g=({order:p,sortOrders:_})=>{if(p==="")return _[0];const S=_.indexOf(p||null);return _[S>_.length-2?0:S+1]},v=(p,_,S)=>{var C;p.stopPropagation();const T=_.order===S?null:S||g(_),A=(C=p.target)==null?void 0:C.closest("th");if(A&&Sd(A,"noclick")){su(A,"noclick");return}if(!_.sortable)return;const P=p.currentTarget;if(["ascending","descending"].some(Y=>Sd(P,Y)&&!_.sortOrders.includes(Y)))return;const D=t.store.states;let R=D.sortProp.value,N;const U=D.sortingColumn.value;(U!==_||U===_&&Z1(U.order))&&(U&&(U.order=null),D.sortingColumn.value=_,R=_.property),T?N=_.order=T:N=_.order=null,D.sortProp.value=R,D.sortOrder.value=N,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:s,handleHeaderContextMenu:a,handleMouseDown:d,handleMouseMove:f,handleMouseOut:h,handleSortClick:v,handleFilterClick:i}}function A3e(t){const e=In(Lc),n=gn("table");return{getHeaderRowStyle:o=>{const l=e==null?void 0:e.props.headerRowStyle;return kn(l)?l.call(null,{rowIndex:o}):l},getHeaderRowClass:o=>{const l=[],u=e==null?void 0:e.props.headerRowClassName;return Kn(u)?l.push(u):kn(u)&&l.push(u.call(null,{rowIndex:o})),l.join(" ")},getHeaderCellStyle:(o,l,u,d)=>{var f;let h=(f=e==null?void 0:e.props.headerCellStyle)!=null?f:{};kn(h)&&(h=h.call(null,{rowIndex:o,columnIndex:l,row:u,column:d}));const g=y8(l,d.fixed,t.store,u);return Gv(g,"left"),Gv(g,"right"),Object.assign({},h,g)},getHeaderCellClass:(o,l,u,d)=>{const f=v8(n.b(),l,d.fixed,t.store,u),h=[d.id,d.order,d.headerAlign,d.className,d.labelClassName,...f];d.children||h.push("is-leaf"),d.sortable&&h.push("is-sortable");const g=e==null?void 0:e.props.headerCellClassName;return Kn(g)?h.push(g):kn(g)&&h.push(g.call(null,{rowIndex:o,columnIndex:l,row:u,column:d})),h.push(n.e("cell")),h.filter(v=>!!v).join(" ")}}}const jK=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,jK(n.children))):e.push(n)}),e},GK=t=>{let e=1;const n=(s,a)=>{if(a&&(s.level=a.level+1,e<s.level&&(e=s.level)),s.children){let o=0;s.children.forEach(l=>{n(l,s),o+=l.colSpan}),s.colSpan=o}else s.colSpan=1};t.forEach(s=>{s.level=1,n(s,void 0)});const r=[];for(let s=0;s<e;s++)r.push([]);return jK(t).forEach(s=>{s.children?(s.rowSpan=1,s.children.forEach(a=>a.isSubColumn=!0)):s.rowSpan=e-s.level+1,r[s.level-1].push(s)}),r};function P3e(t){const e=In(Lc),n=he(()=>GK(t.store.states.originColumns.value));return{isGroup:he(()=>{const s=n.value.length>1;return s&&e&&(e.state.isGroup.value=!0),s}),toggleAllSelection:s=>{s.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var k3e=kt({name:"ElTableHeader",components:{ElCheckbox:Ec},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(t,{emit:e}){const n=Ar(),r=In(Lc),i=gn("table"),s=ye({}),{onColumnsChange:a,onScrollableChange:o}=b8(r),l=(r==null?void 0:r.props.tableLayout)==="auto",u=lr(new Map),d=ye();let f;const h=()=>{f=setTimeout(()=>{u.size>0&&(u.forEach((j,X)=>{const W=d.value.querySelector(`.${X.replace(/\s/g,".")}`);if(W){const F=W.getBoundingClientRect().width;j.width=F||j.width}}),u.clear())})};Zt(u,h),Ri(()=>{f&&(clearTimeout(f),f=void 0)}),zr(async()=>{await Vn(),await Vn();const{prop:j,order:X}=t.defaultSort;r==null||r.store.commit("sort",{prop:j,order:X,init:!0}),h()});const{handleHeaderClick:g,handleHeaderContextMenu:v,handleMouseDown:p,handleMouseMove:_,handleMouseOut:S,handleSortClick:C,handleFilterClick:T}=E3e(t,e),{getHeaderRowStyle:A,getHeaderRowClass:P,getHeaderCellStyle:D,getHeaderCellClass:R}=A3e(t),{isGroup:N,toggleAllSelection:U,columnRows:Y}=P3e(t),{t:H}=mi();return n.state={onColumnsChange:a,onScrollableChange:o},n.filterPanels=s,{ns:i,t:H,filterPanels:s,onColumnsChange:a,onScrollableChange:o,columnRows:Y,getHeaderRowClass:P,getHeaderRowStyle:A,getHeaderCellClass:R,getHeaderCellStyle:D,handleHeaderClick:g,handleHeaderContextMenu:v,handleMouseDown:p,handleMouseMove:_,handleMouseOut:S,handleSortClick:C,handleFilterClick:T,isGroup:N,toggleAllSelection:U,saveIndexSelection:u,isTableLayoutAuto:l,theadRef:d,updateFixedColumnStyle:h}},render(){const{ns:t,t:e,isGroup:n,columnRows:r,getHeaderCellStyle:i,getHeaderCellClass:s,getHeaderRowClass:a,getHeaderRowStyle:o,handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:d,handleMouseMove:f,handleSortClick:h,handleMouseOut:g,store:v,$parent:p,saveIndexSelection:_,isTableLayoutAuto:S}=this;let C=1;return En("thead",{ref:"theadRef",class:t.is("group",n)},r.map((T,A)=>En("tr",{class:a(A),key:A,style:o(A)},T.map((P,D)=>{P.rowSpan>C&&(C=P.rowSpan);const R=s(A,D,T,P);return S&&P.fixed&&_.set(R,P),En("th",{class:R,colspan:P.colSpan,key:`${P.id}-thead`,rowspan:P.rowSpan,scope:P.colSpan>1?"colgroup":"col",ariaSort:P.sortable?P.order:void 0,style:i(A,D,T,P),onClick:N=>{var U;(U=N.currentTarget)!=null&&U.classList.contains("noclick")||l(N,P)},onContextmenu:N=>u(N,P),onMousedown:N=>d(N,P),onMousemove:N=>f(N,P),onMouseout:g},[En("div",{class:["cell",P.filteredValue&&P.filteredValue.length>0?"highlight":""]},[P.renderHeader?P.renderHeader({column:P,$index:D,store:v,_self:p}):P.label,P.sortable&&En("button",{type:"button",class:"caret-wrapper","aria-label":e("el.table.sortLabel",{column:P.label||""}),onClick:N=>h(N,P)},[En("i",{onClick:N=>h(N,P,"ascending"),class:"sort-caret ascending"}),En("i",{onClick:N=>h(N,P,"descending"),class:"sort-caret descending"})]),P.filterable&&En(C3e,{store:v,placement:P.filterPlacement||"bottom-start",appendTo:p==null?void 0:p.appendFilterPanelTo,column:P,upDataColumn:(N,U)=>{P[N]=U}},{"filter-icon":()=>P.renderFilterIcon?P.renderFilterIcon({filterOpened:P.filterOpened}):null})])])}))))}});function X3(t,e,n=.03){return t-e>n}function D3e(t){const e=In(Lc),n=ye(""),r=ye(En("div")),i=(v,p,_)=>{var S,C,T;const A=e,P=q3(v);let D=null;const R=(S=A==null?void 0:A.vnode.el)==null?void 0:S.dataset.prefix;P&&(D=DB({columns:(T=(C=t.store)==null?void 0:C.states.columns.value)!=null?T:[]},P,R),D&&(A==null||A.emit(`cell-${_}`,p,D,P,v))),A==null||A.emit(`row-${_}`,p,D,v)},s=(v,p)=>{i(v,p,"dblclick")},a=(v,p)=>{var _;(_=t.store)==null||_.commit("setCurrentRow",p),i(v,p,"click")},o=(v,p)=>{i(v,p,"contextmenu")},l=Mv(v=>{var p;(p=t.store)==null||p.commit("setHoverRow",v)},30),u=Mv(()=>{var v;(v=t.store)==null||v.commit("setHoverRow",null)},30),d=v=>{const p=window.getComputedStyle(v,null),_=Number.parseInt(p.paddingLeft,10)||0,S=Number.parseInt(p.paddingRight,10)||0,C=Number.parseInt(p.paddingTop,10)||0,T=Number.parseInt(p.paddingBottom,10)||0;return{left:_,right:S,top:C,bottom:T}},f=(v,p,_)=>{var S;let C=(S=p==null?void 0:p.target)==null?void 0:S.parentNode;for(;v>1&&(C=C==null?void 0:C.nextSibling,!(!C||C.nodeName!=="TR"));)_(C,"hover-row hover-fixed-row"),v--};return{handleDoubleClick:s,handleClick:a,handleContextMenu:o,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(v,p,_)=>{var S,C,T,A,P,D,R,N,U;if(!e)return;const Y=e,H=q3(v),j=(S=Y==null?void 0:Y.vnode.el)==null?void 0:S.dataset.prefix;let X=null;if(H){if(X=DB({columns:(T=(C=t.store)==null?void 0:C.states.columns.value)!=null?T:[]},H,j),!X)return;H.rowSpan>1&&f(H.rowSpan,v,uc);const $e=Y.hoverState={cell:H,column:X,row:p};Y==null||Y.emit("cell-mouse-enter",$e.row,$e.column,$e.cell,v)}if(!_){((A=bo)==null?void 0:A.trigger)===H&&((P=bo)==null||P());return}const W=v.target.querySelector(".cell");if(!(Sd(W,`${j}-tooltip`)&&W.childNodes.length&&((D=W.textContent)!=null&&D.trim())))return;const F=document.createRange();F.setStart(W,0),F.setEnd(W,W.childNodes.length);const{width:te,height:G}=F.getBoundingClientRect(),{width:K,height:ee}=W.getBoundingClientRect(),{top:de,left:ue,right:me,bottom:Ee}=d(W),Oe=ue+me,Ge=de+Ee;X3(te+Oe,K)||X3(G+Ge,ee)||X3(W.scrollWidth,K)?u3e(_,(R=(H==null?void 0:H.innerText)||(H==null?void 0:H.textContent))!=null?R:"",p,X,H,Y):((N=bo)==null?void 0:N.trigger)===H&&((U=bo)==null||U())},handleCellMouseLeave:v=>{const p=q3(v);if(!p)return;p.rowSpan>1&&f(p.rowSpan,v,su);const _=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",_==null?void 0:_.row,_==null?void 0:_.column,_==null?void 0:_.cell,v)},tooltipContent:n,tooltipTrigger:r}}function I3e(t){const e=In(Lc),n=gn("table");return{getRowStyle:(u,d)=>{const f=e==null?void 0:e.props.rowStyle;return kn(f)?f.call(null,{row:u,rowIndex:d}):f||null},getRowClass:(u,d,f)=>{var h;const g=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&u===((h=t.store)==null?void 0:h.states.currentRow.value)&&g.push("current-row"),t.stripe&&f%2===1&&g.push(n.em("row","striped"));const v=e==null?void 0:e.props.rowClassName;return Kn(v)?g.push(v):kn(v)&&g.push(v.call(null,{row:u,rowIndex:d})),g},getCellStyle:(u,d,f,h)=>{const g=e==null?void 0:e.props.cellStyle;let v=g??{};kn(g)&&(v=g.call(null,{rowIndex:u,columnIndex:d,row:f,column:h}));const p=y8(d,t==null?void 0:t.fixed,t.store);return Gv(p,"left"),Gv(p,"right"),Object.assign({},v,p)},getCellClass:(u,d,f,h,g)=>{const v=v8(n.b(),d,t==null?void 0:t.fixed,t.store,void 0,g),p=[h.id,h.align,h.className,...v],_=e==null?void 0:e.props.cellClassName;return Kn(_)?p.push(_):kn(_)&&p.push(_.call(null,{rowIndex:u,columnIndex:d,row:f,column:h})),p.push(n.e("cell")),p.filter(S=>!!S).join(" ")},getSpan:(u,d,f,h)=>{let g=1,v=1;const p=e==null?void 0:e.props.spanMethod;if(kn(p)){const _=p({row:u,column:d,rowIndex:f,columnIndex:h});nn(_)?(g=_[0],v=_[1]):fr(_)&&(g=_.rowspan,v=_.colspan)}return{rowspan:g,colspan:v}},getColspanRealWidth:(u,d,f)=>{if(d<1)return u[f].realWidth;const h=u.map(({realWidth:g,width:v})=>g||v).slice(f,f+d);return Number(h.reduce((g,v)=>Number(g)+Number(v),-1))}}}const R3e=["colspan","rowspan"],O3e=kt({name:"TableTdWrapper",__name:"td-wrapper",props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(t){return(e,n)=>(ge(),Fe("td",{colspan:t.colspan,rowspan:t.rowspan},[Ot(e.$slots,"default")],8,R3e))}});var M3e=Nn(O3e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table-body/td-wrapper.vue"]]);function L3e(t){const e=In(Lc),n=gn("table"),{handleDoubleClick:r,handleClick:i,handleContextMenu:s,handleMouseEnter:a,handleMouseLeave:o,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:d,tooltipTrigger:f}=D3e(t),{getRowStyle:h,getRowClass:g,getCellStyle:v,getCellClass:p,getSpan:_,getColspanRealWidth:S}=I3e(t);let C=-1;const T=he(()=>{var N;return(N=t.store)==null?void 0:N.states.columns.value.findIndex(({type:U})=>U==="default")}),A=(N,U)=>{var Y;const H=(Y=e==null?void 0:e.props)==null?void 0:Y.rowKey;return H?io(N,H):U},P=(N,U,Y,H=!1)=>{const{tooltipEffect:j,tooltipOptions:X,store:W}=t,{indent:F,columns:te}=W.states,G=[];let K=!0;return Y&&(G.push(n.em("row",`level-${Y.level}`)),K=!!Y.display),U===0&&(C=-1),t.stripe&&K&&C++,G.push(...g(N,U,C)),En("tr",{style:[K?null:{display:"none"},h(N,U)],class:G,key:A(N,U),onDblclick:de=>r(de,N),onClick:de=>i(de,N),onContextmenu:de=>s(de,N),onMouseenter:()=>a(U),onMouseleave:o},te.value.map((de,ue)=>{const{rowspan:me,colspan:Ee}=_(N,de,U,ue);if(!me||!Ee)return null;const Oe=Object.assign({},de);Oe.realWidth=S(te.value,Ee,ue);const Ge={store:W,_self:t.context||e,column:Oe,row:N,$index:U,cellIndex:ue,expanded:H};ue===T.value&&Y&&(Ge.treeNode={indent:Y.level&&Y.level*F.value,level:Y.level},ta(Y.expanded)&&(Ge.treeNode.expanded=Y.expanded,"loading"in Y&&(Ge.treeNode.loading=Y.loading),"noLazyChildren"in Y&&(Ge.treeNode.noLazyChildren=Y.noLazyChildren)));const $e=`${A(N,U)},${ue}`,Ie=Oe.columnKey||Oe.rawColumnKey||"",Ke=de.showOverflowTooltip&&TX({effect:j},X,de.showOverflowTooltip);return En(M3e,{style:v(U,ue,N,de),class:p(U,ue,N,de,Ee-1),key:`${Ie}${$e}`,rowspan:me,colspan:Ee,onMouseenter:Xe=>l(Xe,N,Ke),onMouseleave:u},{default:()=>D(ue,de,Ge)})}))},D=(N,U,Y)=>U.renderCell(Y);return{wrappedRowRender:(N,U)=>{const Y=t.store,{isRowExpanded:H,assertRowKey:j}=Y,{treeData:X,lazyTreeNodeMap:W,childrenColumnName:F,rowKey:te}=Y.states,G=Y.states.columns.value;if(G.some(({type:ee})=>ee==="expand")){const ee=H(N),de=P(N,U,void 0,ee),ue=e==null?void 0:e.renderExpanded;if(!ue)return console.error("[Element Error]renderExpanded is required."),de;const me=[[de]];return(e.props.preserveExpandedContent||ee)&&me[0].push(En("tr",{key:`expanded-row__${de.key}`,style:{display:ee?"":"none"}},[En("td",{colspan:G.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[ue({row:N,$index:U,store:Y,expanded:ee})])])),me}else if(Object.keys(X.value).length){j();const ee=io(N,te.value);let de=X.value[ee],ue=null;de&&(ue={expanded:de.expanded,level:de.level,display:!0,noLazyChildren:void 0,loading:void 0},ta(de.lazy)&&(ue&&ta(de.loaded)&&de.loaded&&(ue.noLazyChildren=!(de.children&&de.children.length)),ue.loading=de.loading));const me=[P(N,U,ue??void 0)];if(de){let Ee=0;const Oe=($e,Ie)=>{$e&&$e.length&&Ie&&$e.forEach(Ke=>{const Xe={display:Ie.display&&Ie.expanded,level:Ie.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Ze=io(Ke,te.value);if(Pu(Ze))throw new Error("For nested data item, row-key is required.");if(de={...X.value[Ze]},de&&(Xe.expanded=de.expanded,de.level=de.level||Xe.level,de.display=!!(de.expanded&&Xe.display),ta(de.lazy)&&(ta(de.loaded)&&de.loaded&&(Xe.noLazyChildren=!(de.children&&de.children.length)),Xe.loading=de.loading)),Ee++,me.push(P(Ke,U+Ee,Xe)),de){const bt=W.value[Ze]||Ke[F.value];Oe(bt,de)}})};de.display=!0;const Ge=W.value[ee]||N[F.value];Oe(Ge,de)}return me}else return P(N,U,void 0)},tooltipContent:d,tooltipTrigger:f}}const $3e={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var N3e=kt({name:"ElTableBody",props:$3e,setup(t){var e;const n=Ar(),r=In(Lc),i=gn("table"),{wrappedRowRender:s,tooltipContent:a,tooltipTrigger:o}=L3e(t),{onColumnsChange:l,onScrollableChange:u}=b8(r),d=[];return Zt((e=t.store)==null?void 0:e.states.hoverRow,(f,h)=>{var g,v;const p=n==null?void 0:n.vnode.el,_=Array.from((p==null?void 0:p.children)||[]).filter(T=>T==null?void 0:T.classList.contains(`${i.e("row")}`));let S=f;const C=(g=_[S])==null?void 0:g.childNodes;if(C!=null&&C.length){let T=0;Array.from(C).reduce((P,D,R)=>{var N,U;return((N=C[R])==null?void 0:N.colSpan)>1&&(T=(U=C[R])==null?void 0:U.colSpan),D.nodeName!=="TD"&&T===0&&P.push(R),T>0&&T--,P},[]).forEach(P=>{var D;for(S=f;S>0;){const R=(D=_[S-1])==null?void 0:D.childNodes;if(R[P]&&R[P].nodeName==="TD"&&R[P].rowSpan>1){uc(R[P],"hover-cell"),d.push(R[P]);break}S--}})}else d.forEach(T=>su(T,"hover-cell")),d.length=0;!((v=t.store)!=null&&v.states.isComplex.value)||!Vr||OM(()=>{const T=_[h],A=_[f];T&&!T.classList.contains("hover-fixed-row")&&su(T,"hover-row"),A&&uc(A,"hover-row")})}),Hp(()=>{var f;(f=bo)==null||f()}),{ns:i,onColumnsChange:l,onScrollableChange:u,wrappedRowRender:s,tooltipContent:a,tooltipTrigger:o}},render(){const{wrappedRowRender:t,store:e}=this,n=(e==null?void 0:e.states.data.value)||[];return En("tbody",{tabIndex:-1},[n.reduce((r,i)=>r.concat(t(i,r.length)),[])])}});function F3e(){const t=In(Lc),e=t==null?void 0:t.store,n=he(()=>{var o;return(o=e==null?void 0:e.states.fixedLeafColumnsLength.value)!=null?o:0}),r=he(()=>{var o;return(o=e==null?void 0:e.states.rightFixedColumns.value.length)!=null?o:0}),i=he(()=>{var o;return(o=e==null?void 0:e.states.columns.value.length)!=null?o:0}),s=he(()=>{var o;return(o=e==null?void 0:e.states.fixedColumns.value.length)!=null?o:0}),a=he(()=>{var o;return(o=e==null?void 0:e.states.rightFixedColumns.value.length)!=null?o:0});return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:i,leftFixedCount:s,rightFixedCount:a,columns:he(()=>{var o;return(o=e==null?void 0:e.states.columns.value)!=null?o:[]})}}function B3e(t){const{columns:e}=F3e(),n=gn("table");return{getCellClasses:(s,a)=>{const o=s[a],l=[n.e("cell"),o.id,o.align,o.labelClassName,...v8(n.b(),a,o.fixed,t.store)];return o.className&&l.push(o.className),o.children||l.push(n.is("leaf")),l},getCellStyles:(s,a)=>{const o=y8(a,s.fixed,t.store);return Gv(o,"left"),Gv(o,"right"),o},columns:e}}var U3e=kt({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const e=In(Lc),n=gn("table"),{getCellClasses:r,getCellStyles:i,columns:s}=B3e(t),{onScrollableChange:a,onColumnsChange:o}=b8(e);return{ns:n,onScrollableChange:a,onColumnsChange:o,getCellClasses:r,getCellStyles:i,columns:s}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:r,sumText:i}=this,s=this.store.states.data.value;let a=[];return r?a=r({columns:t,data:s}):t.forEach((o,l)=>{if(l===0){a[l]=i;return}const u=s.map(g=>Number(g[o.property])),d=[];let f=!0;u.forEach(g=>{if(!Number.isNaN(+g)){f=!1;const v=`${g}`.split(".")[1];d.push(v?v.length:0)}});const h=Math.max.apply(null,d);f?a[l]="":a[l]=u.reduce((g,v)=>{const p=Number(v);return Number.isNaN(+p)?g:Number.parseFloat((g+v).toFixed(Math.min(h,20)))},0)}),En(En("tfoot",[En("tr",{},[...t.map((o,l)=>En("td",{key:l,colspan:o.colSpan,rowspan:o.rowSpan,class:n(t,l),style:e(o,l)},[En("div",{class:["cell",o.labelClassName]},[a[l]])]))])]))}});function V3e(t){return{setCurrentRow:f=>{t.commit("setCurrentRow",f)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(f,h,g=!0)=>{t.toggleRowSelection(f,h,!1,g),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:f=>{t.clearFilter(f)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(f,h)=>{t.toggleRowExpansionAdapter(f,h)},clearSort:()=>{t.clearSort()},sort:(f,h)=>{t.commit("sort",{prop:f,order:h})},updateKeyChildren:(f,h)=>{t.updateKeyChildren(f,h)}}}function z3e(t,e,n,r){const i=ye(!1),s=ye(null),a=ye(!1),o=G=>{a.value=G},l=ye({width:null,height:null,headerHeight:null}),u=ye(!1),d={display:"inline-block",verticalAlign:"middle"},f=ye(),h=ye(0),g=ye(0),v=ye(0),p=ye(0),_=ye(0);Zt(()=>t.height,G=>{e.setHeight(G??null)},{immediate:!0}),Zt(()=>t.maxHeight,G=>{e.setMaxHeight(G??null)},{immediate:!0}),Zt(()=>[t.currentRowKey,n.states.rowKey],([G,K])=>{!b(K)||!b(G)||n.setCurrentRowKey(`${G}`)},{immediate:!0}),Zt(()=>t.data,G=>{r.store.commit("setData",G)},{immediate:!0,deep:!0}),Tp(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const S=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},C=(G,K)=>{const{pixelX:ee,pixelY:de}=K;Math.abs(ee)>=Math.abs(de)&&(r.refs.bodyWrapper.scrollLeft+=K.pixelX/5)},T=he(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),A=he(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),P=()=>{T.value&&e.updateElsHeight(),e.updateColumnsWidth(),!(typeof window>"u")&&requestAnimationFrame(U)};zr(async()=>{await Vn(),n.updateColumns(),Y(),requestAnimationFrame(P);const G=r.vnode.el,K=r.refs.headerWrapper;t.flexible&&G&&G.parentElement&&(G.parentElement.style.minWidth="0"),l.value={width:f.value=G.offsetWidth,height:G.offsetHeight,headerHeight:t.showHeader&&K?K.offsetHeight:null},n.states.columns.value.forEach(ee=>{ee.filteredValue&&ee.filteredValue.length&&r.store.commit("filterChange",{column:ee,values:ee.filteredValue,silent:!0})}),r.$ready=!0});const D=(G,K)=>{if(!G)return;const ee=Array.from(G.classList).filter(de=>!de.startsWith("is-scrolling-"));ee.push(e.scrollX.value?K:"is-scrolling-none"),G.className=ee.join(" ")},R=G=>{const{tableWrapper:K}=r.refs;D(K,G)},N=G=>{const{tableWrapper:K}=r.refs;return!!(K&&K.classList.contains(G))},U=function(){if(!r.refs.scrollBarRef)return;if(!e.scrollX.value){const Oe="is-scrolling-none";N(Oe)||R(Oe);return}const G=r.refs.scrollBarRef.wrapRef;if(!G)return;const{scrollLeft:K,offsetWidth:ee,scrollWidth:de}=G,{headerWrapper:ue,footerWrapper:me}=r.refs;ue&&(ue.scrollLeft=K),me&&(me.scrollLeft=K);const Ee=de-ee-1;K>=Ee?R("is-scrolling-right"):R(K===0?"is-scrolling-left":"is-scrolling-middle")},Y=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Hi(r.refs.scrollBarRef.wrapRef,"scroll",U,{passive:!0}),t.fit?ma(r.vnode.el,H):Hi(window,"resize",H),ma(r.refs.tableInnerWrapper,()=>{var G,K;H(),(K=(G=r.refs)==null?void 0:G.scrollBarRef)==null||K.update()}))},H=()=>{var G,K,ee,de;const ue=r.vnode.el;if(!r.$ready||!ue)return;let me=!1;const{width:Ee,height:Oe,headerHeight:Ge}=l.value,$e=f.value=ue.offsetWidth;Ee!==$e&&(me=!0);const Ie=ue.offsetHeight;(t.height||T.value)&&Oe!==Ie&&(me=!0);const Ke=t.tableLayout==="fixed"?r.refs.headerWrapper:(G=r.refs.tableHeaderRef)==null?void 0:G.$el;t.showHeader&&(Ke==null?void 0:Ke.offsetHeight)!==Ge&&(me=!0),h.value=((K=r.refs.tableWrapper)==null?void 0:K.scrollHeight)||0,v.value=(Ke==null?void 0:Ke.scrollHeight)||0,p.value=((ee=r.refs.footerWrapper)==null?void 0:ee.offsetHeight)||0,_.value=((de=r.refs.appendWrapper)==null?void 0:de.offsetHeight)||0,g.value=h.value-v.value-p.value-_.value,me&&(l.value={width:$e,height:Ie,headerHeight:t.showHeader&&(Ke==null?void 0:Ke.offsetHeight)||0},P())},j=Hu(),X=he(()=>{const{bodyWidth:G,scrollY:K,gutterWidth:ee}=e;return G.value?`${G.value-(K.value?ee:0)}px`:""}),W=he(()=>t.maxHeight?"fixed":t.tableLayout),F=he(()=>{if(t.data&&t.data.length)return;let G="100%";t.height&&g.value&&(G=`${g.value}px`);const K=f.value;return{width:K?`${K}px`:"",height:G}}),te=he(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${v.value+p.value}px)`}:{maxHeight:`${+t.maxHeight-v.value-p.value}px`}:{});return{isHidden:i,renderExpanded:s,setDragVisible:o,isGroup:u,handleMouseLeave:S,handleHeaderFooterMousewheel:C,tableSize:j,emptyBlockStyle:F,resizeProxyVisible:a,bodyWidth:X,resizeState:l,doLayout:P,tableBodyStyles:A,tableLayout:W,scrollbarViewStyle:d,scrollbarStyle:te}}function H3e(t){const e=ye(),n=()=>{const i=t.vnode.el.querySelector(".hidden-columns"),s={childList:!0,subtree:!0},a=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{a.forEach(o=>o())}),e.value.observe(i,s)};zr(()=>{n()}),Hp(()=>{var r;(r=e.value)==null||r.disconnect()})}var j3e={data:{type:Array,default:()=>[]},size:Ic,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:[String,Object,Array],default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0},preserveExpandedContent:Boolean,nativeScrollbar:Boolean};function WK(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(({width:i})=>Ni(i))&&(n=[]);const r=i=>{const s={key:`${t.tableLayout}_${i.id}`,style:{},name:void 0};return e?s.style={width:`${i.width}px`}:s.name=i.id,s};return En("colgroup",{},n.map(i=>En("col",r(i))))}WK.props=["columns","tableLayout"];const G3e=()=>{const t=ye(),e=(s,a)=>{const o=t.value;o&&o.scrollTo(s,a)},n=(s,a)=>{const o=t.value;o&&Lr(a)&&["Top","Left"].includes(s)&&o[`setScroll${s}`](a)};return{scrollBarRef:t,scrollTo:e,setScrollTop:s=>n("Top",s),setScrollLeft:s=>n("Left",s)}};var OB=!1,H0,ED,AD,RS,OS,qK,MS,PD,kD,DD,XK,ID,RD,YK,KK;function ml(){if(!OB){OB=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(ID=/\b(iPhone|iP[ao]d)/.exec(t),RD=/\b(iP[ao]d)/.exec(t),DD=/Android/i.exec(t),YK=/FBAN\/\w+;/i.exec(t),KK=/Mobile/i.exec(t),XK=!!/Win64/.exec(t),e){H0=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,H0&&document&&document.documentMode&&(H0=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);qK=r?parseFloat(r[1])+4:H0,ED=e[2]?parseFloat(e[2]):NaN,AD=e[3]?parseFloat(e[3]):NaN,RS=e[4]?parseFloat(e[4]):NaN,RS?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),OS=e&&e[1]?parseFloat(e[1]):NaN):OS=NaN}else H0=ED=AD=OS=RS=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);MS=i?parseFloat(i[1].replace("_",".")):!0}else MS=!1;PD=!!n[2],kD=!!n[3]}else MS=PD=kD=!1}}var OD={ie:function(){return ml()||H0},ieCompatibilityMode:function(){return ml()||qK>H0},ie64:function(){return OD.ie()&&XK},firefox:function(){return ml()||ED},opera:function(){return ml()||AD},webkit:function(){return ml()||RS},safari:function(){return OD.webkit()},chrome:function(){return ml()||OS},windows:function(){return ml()||PD},osx:function(){return ml()||MS},linux:function(){return ml()||kD},iphone:function(){return ml()||ID},mobile:function(){return ml()||ID||RD||DD||KK},nativeApp:function(){return ml()||YK},android:function(){return ml()||DD},ipad:function(){return ml()||RD}},W3e=OD,lw=!!(typeof window<"u"&&window.document&&window.document.createElement),q3e={canUseDOM:lw,canUseWorkers:typeof Worker<"u",canUseEventListeners:lw&&!!(window.addEventListener||window.attachEvent),canUseViewport:lw&&!!window.screen,isInWorker:!lw},ZK=q3e,QK;ZK.canUseDOM&&(QK=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function X3e(t,e){if(!ZK.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&QK&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Y3e=X3e,MB=10,LB=40,$B=800;function JK(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*MB,i=n*MB,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=LB,i*=LB):(r*=$B,i*=$B)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}JK.getEventType=function(){return W3e.firefox()?"DOMMouseScroll":Y3e("wheel")?"wheel":"mousewheel"};var K3e=JK;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const LS="_Mousewheel",NB=function(t,e){if(t&&t.addEventListener){eZ(t);const n=function(r){const i=K3e(r);e&&Reflect.apply(e,this,[r,i])};t[LS]={wheelHandler:n},t.addEventListener("wheel",n,{passive:!0})}},eZ=t=>{var e;(e=t[LS])!=null&&e.wheelHandler&&(t.removeEventListener("wheel",t[LS].wheelHandler),t[LS]=null)},Z3e={beforeMount(t,e){NB(t,e.value)},unmounted(t){eZ(t)},updated(t,e){e.value!==e.oldValue&&NB(t,e.value)}};let Q3e=1;const J3e=kt({name:"ElTable",directives:{Mousewheel:Z3e},components:{TableHeader:k3e,TableBody:N3e,TableFooter:U3e,ElScrollbar:Pp,hColgroup:WK},props:j3e,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(t){const{t:e}=mi(),n=gn("table"),r=Ar();pi(Lc,r);const i=g3e(r,t);r.store=i;const s=new y3e({store:r.store,table:r,fit:t.fit,showHeader:t.showHeader});r.layout=s;const a=he(()=>(i.states.data.value||[]).length===0),{setCurrentRow:o,getSelectionRows:l,toggleRowSelection:u,clearSelection:d,clearFilter:f,toggleAllSelection:h,toggleRowExpansion:g,clearSort:v,sort:p,updateKeyChildren:_}=V3e(i),{isHidden:S,renderExpanded:C,setDragVisible:T,isGroup:A,handleMouseLeave:P,handleHeaderFooterMousewheel:D,tableSize:R,emptyBlockStyle:N,resizeProxyVisible:U,bodyWidth:Y,resizeState:H,doLayout:j,tableBodyStyles:X,tableLayout:W,scrollbarViewStyle:F,scrollbarStyle:te}=z3e(t,s,i,r),{scrollBarRef:G,scrollTo:K,setScrollLeft:ee,setScrollTop:de}=G3e(),ue=Mv(j,50),me=`${n.namespace.value}-table_${Q3e++}`;r.tableId=me,r.state={isGroup:A,resizeState:H,doLayout:j,debouncedUpdateLayout:ue};const Ee=he(()=>{var $e;return($e=t.sumText)!=null?$e:e("el.table.sumText")}),Oe=he(()=>{var $e;return($e=t.emptyText)!=null?$e:e("el.table.emptyText")}),Ge=he(()=>GK(i.states.originColumns.value)[0]);return H3e(r),Ri(()=>{ue.cancel()}),{ns:n,layout:s,store:i,columns:Ge,handleHeaderFooterMousewheel:D,handleMouseLeave:P,tableId:me,tableSize:R,isHidden:S,isEmpty:a,renderExpanded:C,resizeProxyVisible:U,resizeState:H,isGroup:A,bodyWidth:Y,tableBodyStyles:X,emptyBlockStyle:N,debouncedUpdateLayout:ue,setCurrentRow:o,getSelectionRows:l,toggleRowSelection:u,clearSelection:d,clearFilter:f,toggleAllSelection:h,toggleRowExpansion:g,clearSort:v,doLayout:j,sort:p,updateKeyChildren:_,t:e,setDragVisible:T,context:r,computedSumText:Ee,computedEmptyText:Oe,tableLayout:W,scrollbarViewStyle:F,scrollbarStyle:te,scrollBarRef:G,scrollTo:K,setScrollLeft:ee,setScrollTop:de,allowDragLastColumn:t.allowDragLastColumn}}}),e4e=["data-prefix"],t4e={ref:"hiddenColumns",class:"hidden-columns"};function n4e(t,e,n,r,i,s){const a=us("hColgroup"),o=us("table-header"),l=us("table-body"),u=us("table-footer"),d=us("el-scrollbar"),f=nq("mousewheel");return ge(),Fe("div",{ref:"tableWrapper",class:Ce([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:dr(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:e[1]||(e[1]=(...h)=>t.handleMouseLeave&&t.handleMouseLeave(...h))},[Ve("div",{ref:"tableInnerWrapper",class:Ce(t.ns.e("inner-wrapper"))},[Ve("div",t4e,[Ot(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?Dr((ge(),Fe("div",{key:0,ref:"headerWrapper",class:Ce(t.ns.e("header-wrapper"))},[Ve("table",{ref:"tableHeader",class:Ce(t.ns.e("header")),style:dr(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[V(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),V(o,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,"allow-drag-last-column":t.allowDragLastColumn,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[f,t.handleHeaderFooterMousewheel]]):gt("v-if",!0),Ve("div",{ref:"bodyWrapper",class:Ce(t.ns.e("body-wrapper"))},[V(d,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn,tabindex:t.scrollbarTabindex,native:t.nativeScrollbar,onScroll:e[0]||(e[0]=h=>t.$emit("scroll",h))},{default:ie(()=>[Ve("table",{ref:"tableBody",class:Ce(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:dr({width:t.bodyWidth,tableLayout:t.tableLayout})},[V(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(ge(),Tt(o,{key:0,ref:"tableHeaderRef",class:Ce(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):gt("v-if",!0),V(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(ge(),Tt(u,{key:1,class:Ce(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):gt("v-if",!0)],6),t.isEmpty?(ge(),Fe("div",{key:0,ref:"emptyBlock",style:dr(t.emptyBlockStyle),class:Ce(t.ns.e("empty-block"))},[Ve("span",{class:Ce(t.ns.e("empty-text"))},[Ot(t.$slots,"empty",{},()=>[Rt(yn(t.computedEmptyText),1)])],2)],6)):gt("v-if",!0),t.$slots.append?(ge(),Fe("div",{key:1,ref:"appendWrapper",class:Ce(t.ns.e("append-wrapper"))},[Ot(t.$slots,"append")],2)):gt("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","native"])],2),t.showSummary&&t.tableLayout==="fixed"?Dr((ge(),Fe("div",{key:1,ref:"footerWrapper",class:Ce(t.ns.e("footer-wrapper"))},[Ve("table",{class:Ce(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:dr(t.tableBodyStyles)},[V(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),V(u,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Ei,!t.isEmpty],[f,t.handleHeaderFooterMousewheel]]):gt("v-if",!0),t.border||t.isGroup?(ge(),Fe("div",{key:2,class:Ce(t.ns.e("border-left-patch"))},null,2)):gt("v-if",!0)],2),Dr(Ve("div",{ref:"resizeProxy",class:Ce(t.ns.e("column-resize-proxy"))},null,2),[[Ei,t.resizeProxyVisible]])],46,e4e)}var r4e=Nn(J3e,[["render",n4e],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const i4e={selection:"table-column--selection",expand:"table__expand-column"},s4e={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},a4e=t=>i4e[t]||"",o4e={selection:{renderHeader({store:t}){var e;function n(){return t.states.data.value&&t.states.data.value.length===0}return En(Ec,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":(e=t.toggleAllSelection)!=null?e:void 0,modelValue:t.states.isAllSelected.value,ariaLabel:t.t("el.table.selectAllLabel")})},renderCell({row:t,column:e,store:n,$index:r}){return En(Ec,{disabled:e.selectable?!e.selectable.call(null,t,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:i=>i.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:n.t("el.table.selectRowLabel")})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const r=t.index;return Lr(r)?n=e+r:kn(r)&&(n=r(e)),En("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({column:t,row:e,store:n,expanded:r}){const{ns:i}=n,s=[i.e("expand-icon")];!t.renderExpand&&r&&s.push(i.em("expand-icon","expanded"));const a=function(o){o.stopPropagation(),n.toggleRowExpansion(e)};return En("button",{type:"button","aria-label":n.t(r?"el.table.collapseRowLabel":"el.table.expandRowLabel"),"aria-expanded":r,class:s,onClick:a},{default:()=>t.renderExpand?[t.renderExpand({expanded:r})]:[En(Bn,null,{default:()=>[En($u)]})]})},sortable:!1,resizable:!1}};function l4e({row:t,column:e,$index:n}){var r;const i=e.property,s=i&&q2(t,i).value;return e&&e.formatter?e.formatter(t,e,s,n):((r=s==null?void 0:s.toString)==null?void 0:r.call(s))||""}function u4e({row:t,treeNode:e,store:n},r=!1){const{ns:i}=n;if(!e)return r?[En("span",{class:i.e("placeholder")})]:null;const s=[],a=function(o){o.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&s.push(En("span",{class:i.e("indent"),style:{"padding-left":`${e.indent}px`}})),ta(e.expanded)&&!e.noLazyChildren){const o=[i.e("expand-icon"),e.expanded?i.em("expand-icon","expanded"):""];let l=$u;e.loading&&(l=wm),s.push(En("button",{type:"button","aria-label":n.t(e.expanded?"el.table.collapseRowLabel":"el.table.expandRowLabel"),"aria-expanded":e.expanded,class:o,onClick:a},{default:()=>[En(Bn,{class:i.is("loading",e.loading)},{default:()=>[En(l)]})]}))}else s.push(En("span",{class:i.e("placeholder")}));return s}function FB(t,e){return t.reduce((n,r)=>(n[r]=r,n),e)}function c4e(t,e){const n=Ar();return{registerComplexWatchers:()=>{const s=["fixed"],a={realWidth:"width",realMinWidth:"minWidth"},o=FB(s,a);Object.keys(o).forEach(l=>{const u=a[l];Kr(e,u)&&Zt(()=>e[u],d=>{let f=d;u==="width"&&l==="realWidth"&&(f=g8(d)),u==="minWidth"&&l==="realMinWidth"&&(f=FK(d)),n.columnConfig.value[u]=f,n.columnConfig.value[l]=f;const h=u==="fixed";t.value.store.scheduleLayout(h)})})},registerNormalWatchers:()=>{const s=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip","tooltipFormatter","resizable"],a=["showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},l=FB(s,o);Object.keys(l).forEach(u=>{const d=o[u];Kr(e,d)&&Zt(()=>e[d],f=>{n.columnConfig.value[u]=f,(u==="filters"||u==="filterMethod")&&(n.columnConfig.value.filterable=!!(n.columnConfig.value.filters||n.columnConfig.value.filterMethod))})}),a.forEach(u=>{Kr(t.value.props,u)&&Zt(()=>t.value.props[u],d=>{n.columnConfig.value[u]=d})})}}}function d4e(t,e,n){const r=Ar(),i=ye(""),s=ye(!1),a=ye(),o=ye(),l=gn("table");Tp(()=>{a.value=t.align?`is-${t.align}`:null,a.value}),Tp(()=>{o.value=t.headerAlign?`is-${t.headerAlign}`:a.value,o.value});const u=he(()=>{let A=r.vnode.vParent||r.parent;for(;A&&!A.tableId&&!A.columnId;)A=A.vnode.vParent||A.parent;return A}),d=he(()=>{const{store:A}=r.parent;if(!A)return!1;const{treeData:P}=A.states,D=P.value;return D&&Object.keys(D).length>0}),f=ye(g8(t.width)),h=ye(FK(t.minWidth)),g=A=>(f.value&&(A.width=f.value),h.value&&(A.minWidth=h.value),!f.value&&h.value&&(A.width=void 0),A.minWidth||(A.minWidth=80),A.realWidth=Number(Ni(A.width)?A.minWidth:A.width),A),v=A=>{const P=A.type,D=o4e[P]||{};Object.keys(D).forEach(N=>{const U=D[N];N!=="className"&&!Ni(U)&&(A[N]=U)});const R=a4e(P);if(R){const N=`${b(l.namespace)}-${R}`;A.className=A.className?`${A.className} ${N}`:N}return A},p=A=>{nn(A)?A.forEach(D=>P(D)):P(A);function P(D){var R;((R=D==null?void 0:D.type)==null?void 0:R.name)==="ElTableColumn"&&(D.vParent=r)}};return{columnId:i,realAlign:a,isSubColumn:s,realHeaderAlign:o,columnOrTableParent:u,setColumnWidth:g,setColumnForcedProps:v,setColumnRenders:A=>{t.renderHeader||A.type!=="selection"&&(A.renderHeader=D=>{if(r.columnConfig.value.label,e.header){const R=e.header(D);if(VK(R))return En(Tn,R)}return Rt(A.label)}),e["filter-icon"]&&(A.renderFilterIcon=D=>Ot(e,"filter-icon",D)),e.expand&&(A.renderExpand=D=>Ot(e,"expand",D));let P=A.renderCell;return A.type==="expand"?(A.renderCell=D=>En("div",{class:"cell"},[P(D)]),n.value.renderExpanded=D=>e.default?e.default(D):e.default):(P=P||l4e,A.renderCell=D=>{let R=null;if(e.default){const X=e.default(D);R=X.some(W=>W.type!==Rs)?X:P(D)}else R=P(D);const{columns:N}=n.value.store.states,U=N.value.findIndex(X=>X.type==="default"),Y=d.value&&D.cellIndex===U,H=u4e(D,Y),j={class:"cell",style:{}};return A.showOverflowTooltip&&(j.class=`${j.class} ${b(l.namespace)}-tooltip`,j.style={width:`${(D.column.realWidth||Number(D.column.width))-1}px`}),p(R),En("div",j,[H,R])}),A},getPropsData:(...A)=>A.reduce((P,D)=>(nn(D)&&D.forEach(R=>{P[R]=t[R]}),P),{}),getColumnElIndex:(A,P)=>Array.prototype.indexOf.call(A,P),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var f4e={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let h4e=1;var tZ=kt({name:"ElTableColumn",components:{ElCheckbox:Ec},props:f4e,setup(t,{slots:e}){const n=Ar(),r=ye({}),i=he(()=>{let T=n.parent;for(;T&&!T.tableId;)T=T.parent;return T}),{registerNormalWatchers:s,registerComplexWatchers:a}=c4e(i,t),{columnId:o,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:d,setColumnWidth:f,setColumnForcedProps:h,setColumnRenders:g,getPropsData:v,getColumnElIndex:p,realAlign:_,updateColumnOrder:S}=d4e(t,e,i),C=d.value;o.value=`${"tableId"in C&&C.tableId||"columnId"in C&&C.columnId}_column_${h4e++}`,mE(()=>{l.value=i.value!==C;const T=t.type||"default",A=t.sortable===""?!0:t.sortable,P=T==="selection"?!1:Ni(t.showOverflowTooltip)?C.props.showOverflowTooltip:t.showOverflowTooltip,D=Ni(t.tooltipFormatter)?C.props.tooltipFormatter:t.tooltipFormatter,R={...s4e[T],id:o.value,type:T,property:t.prop||t.property,align:_,headerAlign:u,showOverflowTooltip:P,tooltipFormatter:D,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:A,index:t.index,rawColumnKey:n.vnode.key};let j=v(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);j=i3e(R,j),j=a3e(g,f,h)(j),r.value=j,s(),a()}),zr(()=>{var T,A;const P=d.value,D=l.value?(T=P.vnode.el)==null?void 0:T.children:(A=P.refs.hiddenColumns)==null?void 0:A.children,R=()=>p(D||[],n.vnode.el);r.value.getColumnIndex=R,R()>-1&&i.value.store.commit("insertColumn",r.value,l.value?"columnConfig"in P&&P.columnConfig.value:null,S)}),Ri(()=>{const T=r.value.getColumnIndex;(T?T():-1)>-1&&i.value.store.commit("removeColumn",r.value,l.value?"columnConfig"in C&&C.columnConfig.value:null,S)}),n.columnId=o.value,n.columnConfig=r},render(){var t,e,n;try{const r=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),i=[];if(nn(r))for(const a of r)((n=a.type)==null?void 0:n.name)==="ElTableColumn"||a.shapeFlag&2?i.push(a):a.type===Tn&&nn(a.children)&&a.children.forEach(o=>{(o==null?void 0:o.patchFlag)!==1024&&!Kn(o==null?void 0:o.children)&&i.push(o)});return En("div",i)}catch{return En("div",[])}}});const Fu=_i(r4e,{TableColumn:tZ}),Ki=Ya(tZ),FE=Symbol("tabsRootContextKey"),p4e=On({tabs:{type:Dt(Array),default:()=>Aa([])},tabRefs:{type:Dt(Object),default:()=>Aa({})}}),BB="ElTabBar",m4e=kt({name:BB,__name:"tab-bar",props:p4e,setup(t,{expose:e}){const n=t,r=In(FE);r||ll(BB,"<el-tabs><el-tab-bar /></el-tabs>");const i=gn("tabs"),s=ye(),a=ye(),o=he(()=>{var g;return Ni(r.props.defaultValue)||!!((g=a.value)!=null&&g.transform)}),l=()=>{let g=0,v=0;const p=["top","bottom"].includes(r.props.tabPosition)?"width":"height",_=p==="width"?"x":"y",S=_==="x"?"left":"top";return n.tabs.every(C=>{if(Ni(C.paneName))return!1;const T=n.tabRefs[C.paneName];if(!T)return!1;if(!C.active)return!0;g=T[`offset${ep(S)}`],v=T[`client${ep(p)}`];const A=window.getComputedStyle(T);return p==="width"&&(v-=Number.parseFloat(A.paddingLeft)+Number.parseFloat(A.paddingRight),g+=Number.parseFloat(A.paddingLeft)),!1}),{[p]:`${v}px`,transform:`translate${ep(_)}(${g}px)`}},u=()=>a.value=l(),d=[],f=()=>{d.forEach(g=>g.stop()),d.length=0,Object.values(n.tabRefs).forEach(g=>{d.push(ma(g,u))})};Zt(()=>n.tabs,async()=>{await Vn(),u(),f()},{immediate:!0});const h=ma(s,()=>u());return Ri(()=>{d.forEach(g=>g.stop()),d.length=0,h.stop()}),e({ref:s,update:u}),(g,v)=>o.value?(ge(),Fe("div",{key:0,ref_key:"barRef",ref:s,class:Ce([b(i).e("active-bar"),b(i).is(b(r).props.tabPosition)]),style:dr(a.value)},null,6)):gt("v-if",!0)}});var g4e=Nn(m4e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const v4e=On({panes:{type:Dt(Array),default:()=>Aa([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean,tabindex:{type:[String,Number],default:void 0}}),y4e={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},UB="ElTabNav",_4e=kt({name:UB,props:v4e,emits:y4e,setup(t,{expose:e,emit:n}){const r=In(FE);r||ll(UB,"<el-tabs><tab-nav /></el-tabs>");const i=gn("tabs"),s=mye(),a=yye(),o=ye(),l=ye(),u=ye(),d=ye({}),f=ye(),h=ye(!1),g=ye(0),v=ye(!1),p=ye(!0),_=qa(),S=he(()=>["top","bottom"].includes(r.props.tabPosition)),C=he(()=>S.value?"width":"height"),T=he(()=>({transform:`translate${C.value==="width"?"X":"Y"}(-${g.value}px)`})),{width:A,height:P}=AF(o),{width:D,height:R}=AF(l,{width:0,height:0},{box:"border-box"}),N=he(()=>S.value?A.value:P.value),U=he(()=>S.value?D.value:R.value),{onWheel:Y}=e3e({atStartEdge:he(()=>g.value<=0),atEndEdge:he(()=>U.value-g.value<=N.value),layout:he(()=>S.value?"horizontal":"vertical")},de=>{g.value=iX(g.value+de,0,U.value-N.value)}),H=()=>{if(!o.value)return;const de=o.value[`offset${ep(C.value)}`],ue=g.value;if(!ue)return;const me=ue>de?ue-de:0;g.value=me},j=()=>{if(!o.value||!l.value)return;const de=l.value[`offset${ep(C.value)}`],ue=o.value[`offset${ep(C.value)}`],me=g.value;if(de-me<=ue)return;const Ee=de-me>ue*2?me+ue:de-ue;g.value=Ee},X=async()=>{const de=l.value;if(!h.value||!u.value||!o.value||!de)return;await Vn();const ue=d.value[t.currentName];if(!ue)return;const me=o.value,Ee=ue.getBoundingClientRect(),Oe=me.getBoundingClientRect(),Ge=S.value?de.offsetWidth-Oe.width:de.offsetHeight-Oe.height,$e=g.value;let Ie=$e;S.value?(Ee.left<Oe.left&&(Ie=$e-(Oe.left-Ee.left)),Ee.right>Oe.right&&(Ie=$e+Ee.right-Oe.right)):(Ee.top<Oe.top&&(Ie=$e-(Oe.top-Ee.top)),Ee.bottom>Oe.bottom&&(Ie=$e+(Ee.bottom-Oe.bottom))),Ie=Math.max(Ie,0),g.value=Math.min(Ie,Ge)},W=()=>{var de;if(!l.value||!o.value)return;t.stretch&&((de=f.value)==null||de.update());const ue=l.value[`offset${ep(C.value)}`],me=o.value[`offset${ep(C.value)}`],Ee=g.value;me<ue?(h.value=h.value||{},h.value.prev=Ee,h.value.next=Ee+me<ue,ue-Ee<me&&(g.value=ue-me)):(h.value=!1,Ee>0&&(g.value=0))},F=de=>{const ue=oa(de);let me=0;switch(ue){case Pn.left:case Pn.up:me=-1;break;case Pn.right:case Pn.down:me=1;break;default:return}const Ee=Array.from(de.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let Ge=Ee.indexOf(de.target)+me;Ge<0?Ge=Ee.length-1:Ge>=Ee.length&&(Ge=0),Ee[Ge].focus({preventScroll:!0}),Ee[Ge].click(),te()},te=()=>{p.value&&(v.value=!0)},G=()=>v.value=!1,K=(de,ue)=>{d.value[ue]=de},ee=async()=>{await Vn();const de=d.value[t.currentName];de==null||de.focus({preventScroll:!0})};return Zt(s,de=>{de==="hidden"?p.value=!1:de==="visible"&&setTimeout(()=>p.value=!0,50)}),Zt(a,de=>{de?setTimeout(()=>p.value=!0,50):p.value=!1}),ma(u,()=>{OM(W)}),zr(()=>setTimeout(()=>X(),0)),zp(()=>W()),e({scrollToActiveTab:X,removeFocus:G,focusActiveTab:ee,tabListRef:l,tabBarRef:f,scheduleRender:()=>_S(_)}),()=>{const de=h.value?[V("span",{class:[i.e("nav-prev"),i.is("disabled",!h.value.prev)],onClick:H},[V(Bn,null,{default:()=>[V(xm,null,null)]})]),V("span",{class:[i.e("nav-next"),i.is("disabled",!h.value.next)],onClick:j},[V(Bn,null,{default:()=>[V($u,null,null)]})])]:null,ue=t.panes.map((me,Ee)=>{var Oe,Ge,$e,Ie,Ke;const Xe=me.uid,Ze=me.props.disabled,bt=(Ge=(Oe=me.props.name)!=null?Oe:me.index)!=null?Ge:`${Ee}`,ht=!Ze&&(me.isClosable||me.props.closable!==!1&&t.editable);me.index=`${Ee}`;const ae=ht?V(Bn,{class:"is-icon-close",onClick:Ye=>n("tabRemove",me,Ye)},{default:()=>[V(Rd,null,null)]}):null,Re=((Ie=($e=me.slots).label)==null?void 0:Ie.call($e))||me.props.label,rt=!Ze&&me.active?(Ke=t.tabindex)!=null?Ke:r.props.tabindex:-1;return V("div",{ref:Ye=>K(Ye,bt),class:[i.e("item"),i.is(r.props.tabPosition),i.is("active",me.active),i.is("disabled",Ze),i.is("closable",ht),i.is("focus",v.value)],id:`tab-${bt}`,key:`tab-${Xe}`,"aria-controls":`pane-${bt}`,role:"tab","aria-selected":me.active,tabindex:rt,onFocus:()=>te(),onBlur:()=>G(),onClick:Ye=>{G(),n("tabClick",me,bt,Ye)},onKeydown:Ye=>{const it=oa(Ye);ht&&(it===Pn.delete||it===Pn.backspace)&&n("tabRemove",me,Ye)}},[Re,ae])});return _.value,V("div",{ref:u,class:[i.e("nav-wrap"),i.is("scrollable",!!h.value),i.is(r.props.tabPosition)]},[de,V("div",{class:i.e("nav-scroll"),ref:o},[t.panes.length>0?V("div",{class:[i.e("nav"),i.is(r.props.tabPosition),i.is("stretch",t.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:l,style:T.value,role:"tablist",onKeydown:F,onWheel:Y},[t.type?null:V(g4e,{ref:f,tabs:[...t.panes],tabRefs:d.value},null),ue]):null])])}}}),b4e=On({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},defaultValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Dt(Function),default:()=>!0},stretch:Boolean,tabindex:{type:[String,Number],default:0}}),Y3=t=>Kn(t)||Lr(t),x4e={[Ti]:t=>Y3(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>Y3(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>Y3(t),tabAdd:()=>!0},w4e=kt({name:"ElTabs",props:b4e,emits:x4e,setup(t,{emit:e,slots:n,expose:r}){var i;const s=gn("tabs"),a=he(()=>["left","right"].includes(t.tabPosition)),{children:o,addChild:l,removeChild:u,ChildrenSorter:d}=Axe(Ar(),"ElTabPane"),f=ye(),h=ye((i=Ni(t.modelValue)?t.defaultValue:t.modelValue)!=null?i:"0"),g=async(T,A=!1)=>{var P,D,R,N;if(!(h.value===T||Ni(T)))try{let U;if(t.beforeLeave){const Y=t.beforeLeave(T,h.value);U=Y instanceof Promise?await Y:Y}else U=!0;if(U!==!1){const Y=(P=o.value.find(H=>H.paneName===h.value))==null?void 0:P.isFocusInsidePane();h.value=T,A&&(e(Ti,T),e("tabChange",T)),(R=(D=f.value)==null?void 0:D.removeFocus)==null||R.call(D),Y&&((N=f.value)==null||N.focusActiveTab())}}catch{}},v=(T,A,P)=>{T.props.disabled||(e("tabClick",T,P),g(A,!0))},p=(T,A)=>{T.props.disabled||Ni(T.props.name)||(A.stopPropagation(),e("edit",T.props.name,"remove"),e("tabRemove",T.props.name))},_=()=>{e("edit",void 0,"add"),e("tabAdd")},S=T=>{const A=oa(T);[Pn.enter,Pn.numpadEnter].includes(A)&&_()},C=T=>{const A=T.el.firstChild,P=["bottom","right"].includes(t.tabPosition)?T.children[0].el:T.children[1].el;A!==P&&A.before(P)};return Zt(()=>t.modelValue,T=>g(T)),Zt(h,async()=>{var T;await Vn(),(T=f.value)==null||T.scrollToActiveTab()}),pi(FE,{props:t,currentName:h,registerPane:l,unregisterPane:u,nav$:f}),r({currentName:h,get tabNavRef(){return CE(f.value,["scheduleRender"])}}),()=>{const T=n["add-icon"],A=t.editable||t.addable?V("div",{class:[s.e("new-tab"),a.value&&s.e("new-tab-vertical")],tabindex:t.tabindex,onClick:_,onKeydown:S},[T?Ot(n,"add-icon"):V(Bn,{class:s.is("icon-plus")},{default:()=>[V(XX,null,null)]})]):null,P=()=>V(_4e,{ref:f,currentName:h.value,editable:t.editable,type:t.type,panes:o.value,stretch:t.stretch,onTabClick:v,onTabRemove:p},null),D=V("div",{class:[s.e("header"),a.value&&s.e("header-vertical"),s.is(t.tabPosition)]},[V(d,null,{default:P,$stable:!0}),A]),R=V("div",{class:s.e("content")},[Ot(n,"default")]);return V("div",{class:[s.b(),s.m(t.tabPosition),{[s.m("card")]:t.type==="card",[s.m("border-card")]:t.type==="border-card"}],onVnodeMounted:C,onVnodeUpdated:C},[R,D])}}}),S4e=On({label:{type:String,default:""},name:{type:[String,Number]},closable:{type:Boolean,default:void 0},disabled:Boolean,lazy:Boolean}),T4e=["id","aria-hidden","aria-labelledby"],VB="ElTabPane",C4e=kt({name:VB,__name:"tab-pane",props:S4e,setup(t){const e=t,n=Ar(),r=cl(),i=In(FE);i||ll(VB,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=gn("tab-pane"),a=ye(),o=ye(),l=he(()=>{var p;return(p=e.closable)!=null?p:i.props.closable}),u=he(()=>{var p;return i.currentName.value===((p=e.name)!=null?p:o.value)}),d=ye(u.value),f=he(()=>{var p;return(p=e.name)!=null?p:o.value}),h=he(()=>!e.lazy||d.value||u.value),g=()=>{var p;return(p=a.value)==null?void 0:p.contains(document.activeElement)};Zt(u,p=>{p&&(d.value=!0)});const v=lr({uid:n.uid,getVnode:()=>n.vnode,slots:r,props:e,paneName:f,active:u,index:o,isClosable:l,isFocusInsidePane:g});return i.registerPane(v),Ri(()=>{i.unregisterPane(v)}),iM(()=>{var p;r.label&&((p=i.nav$.value)==null||p.scheduleRender())}),(p,_)=>h.value?Dr((ge(),Fe("div",{key:0,id:`pane-${f.value}`,ref_key:"paneRef",ref:a,class:Ce(b(s).b()),role:"tabpanel","aria-hidden":!u.value,"aria-labelledby":`tab-${f.value}`},[Ot(p.$slots,"default")],10,T4e)),[[Ei,u.value]]):gt("v-if",!0)}});var nZ=Nn(C4e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const E4e=_i(w4e,{TabPane:nZ}),A4e=Ya(nZ),P4e="timeline",k4e=kt({name:"ElTimeline",props:{reverse:Boolean},setup(t,{slots:e}){const n=gn("timeline");return pi(P4e,e),()=>{var r,i;const s=ip((i=(r=e.default)==null?void 0:r.call(e))!=null?i:[]).filter(a=>{var o;return((o=a==null?void 0:a.type)==null?void 0:o.name)==="ElTimelineItem"});return En("ul",{class:[n.b()]},t.reverse?s.reverse():s)}}}),D4e=On({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:$s},hollow:Boolean}),I4e=kt({name:"ElTimelineItem",__name:"timeline-item",props:D4e,setup(t){const e=t,n=gn("timeline-item"),r=he(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(i,s)=>(ge(),Fe("li",{class:Ce([b(n).b(),{[b(n).e("center")]:i.center}])},[Ve("div",{class:Ce(b(n).e("tail"))},null,2),i.$slots.dot?gt("v-if",!0):(ge(),Fe("div",{key:0,class:Ce(r.value),style:dr({backgroundColor:i.color})},[i.icon?(ge(),Tt(b(Bn),{key:0,class:Ce(b(n).e("icon"))},{default:ie(()=>[(ge(),Tt(ti(i.icon)))]),_:1},8,["class"])):gt("v-if",!0)],6)),i.$slots.dot?(ge(),Fe("div",{key:1,class:Ce(b(n).e("dot"))},[Ot(i.$slots,"dot")],2)):gt("v-if",!0),Ve("div",{class:Ce(b(n).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(ge(),Fe("div",{key:0,class:Ce([b(n).e("timestamp"),b(n).is("top")])},yn(i.timestamp),3)):gt("v-if",!0),Ve("div",{class:Ce(b(n).e("content"))},[Ot(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(ge(),Fe("div",{key:1,class:Ce([b(n).e("timestamp"),b(n).is("bottom")])},yn(i.timestamp),3)):gt("v-if",!0)],2)],2))}});var rZ=Nn(I4e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const R4e=_i(k4e,{TimelineItem:rZ}),O4e=Ya(rZ),iZ="left-check-change",sZ="right-check-change",Ug=On({data:{type:Dt(Array),default:()=>[]},titles:{type:Dt(Array),default:()=>[]},buttonTexts:{type:Dt(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Dt(Function)},leftDefaultChecked:{type:Dt(Array),default:()=>[]},rightDefaultChecked:{type:Dt(Array),default:()=>[]},renderContent:{type:Dt(Function)},modelValue:{type:Dt(Array),default:()=>[]},format:{type:Dt(Object),default:()=>({})},filterable:Boolean,props:{type:Dt(Object),default:()=>Aa({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),MD=(t,e)=>[t,e].every(nn)||nn(t)&&Tc(e),M4e={[bs]:(t,e,n)=>[t,n].every(nn)&&["left","right"].includes(e),[Ti]:t=>nn(t),[iZ]:MD,[sZ]:MD},LD="checked-change",L4e=On({data:Ug.data,optionRender:{type:Dt(Function)},placeholder:String,title:String,filterable:Boolean,format:Ug.format,filterMethod:Ug.filterMethod,defaultChecked:Ug.leftDefaultChecked,props:Ug.props}),$4e={[LD]:MD},ox=t=>{const e={label:"label",key:"key",disabled:"disabled"};return he(()=>({...e,...t.props}))},N4e=(t,e,n)=>{const r=ox(t),i=he(()=>t.data.filter(d=>kn(t.filterMethod)?t.filterMethod(e.query,d):String(d[r.value.label]||d[r.value.key]).toLowerCase().includes(e.query.toLowerCase()))),s=he(()=>i.value.filter(d=>!d[r.value.disabled])),a=he(()=>{const d=e.checked.length,f=t.data.length,{noChecked:h,hasChecked:g}=t.format;return h&&g?d>0?g.replace(/\${checked}/g,d.toString()).replace(/\${total}/g,f.toString()):h.replace(/\${total}/g,f.toString()):`${d}/${f}`}),o=he(()=>{const d=e.checked.length;return d>0&&d<s.value.length}),l=()=>{const d=s.value.map(f=>f[r.value.key]);e.allChecked=d.length>0&&d.every(f=>e.checked.includes(f))},u=d=>{e.checked=d?s.value.map(f=>f[r.value.key]):[]};return Zt(()=>e.checked,(d,f)=>{if(l(),e.checkChangeByUser){const h=d.concat(f).filter(g=>!d.includes(g)||!f.includes(g));n(LD,d,h)}else n(LD,d),e.checkChangeByUser=!0}),Zt(s,()=>{l()}),Zt(()=>t.data,()=>{const d=[],f=i.value.map(h=>h[r.value.key]);e.checked.forEach(h=>{f.includes(h)&&d.push(h)}),e.checkChangeByUser=!1,e.checked=d}),Zt(()=>t.defaultChecked,(d,f)=>{if(f&&d.length===f.length&&d.every(v=>f.includes(v)))return;const h=[],g=s.value.map(v=>v[r.value.key]);d.forEach(v=>{g.includes(v)&&h.push(v)}),e.checkChangeByUser=!1,e.checked=h},{immediate:!0}),{filteredData:i,checkableData:s,checkedSummary:a,isIndeterminate:o,updateAllChecked:l,handleAllCheckedChange:u}},F4e=kt({name:"ElTransferPanel",__name:"transfer-panel",props:L4e,emits:$4e,setup(t,{expose:e,emit:n}){const r=t,i=n,s=cl(),a=({option:A})=>A,{t:o}=mi(),l=gn("transfer"),u=lr({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),d=ox(r),{filteredData:f,checkedSummary:h,isIndeterminate:g,handleAllCheckedChange:v}=N4e(r,u,i),p=he(()=>!Ql(u.query)&&Ql(f.value)),_=he(()=>!Ql(s.default()[0].children)),{checked:S,allChecked:C,query:T}=cu(u);return e({query:T}),(A,P)=>(ge(),Fe("div",{class:Ce(b(l).b("panel"))},[Ve("p",{class:Ce(b(l).be("panel","header"))},[V(b(Ec),{modelValue:b(C),"onUpdate:modelValue":P[0]||(P[0]=D=>tr(C)?C.value=D:null),indeterminate:b(g),"validate-event":!1,onChange:b(v)},{default:ie(()=>[Rt(yn(A.title)+" ",1),Ve("span",null,yn(b(h)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),Ve("div",{class:Ce([b(l).be("panel","body"),b(l).is("with-footer",_.value)])},[A.filterable?(ge(),Tt(b(ns),{key:0,modelValue:b(T),"onUpdate:modelValue":P[1]||(P[1]=D=>tr(T)?T.value=D:null),class:Ce(b(l).be("panel","filter")),size:"default",placeholder:A.placeholder,"prefix-icon":b(U_e),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):gt("v-if",!0),Dr(V(b(QM),{modelValue:b(S),"onUpdate:modelValue":P[2]||(P[2]=D=>tr(S)?S.value=D:null),"validate-event":!1,class:Ce([b(l).is("filterable",A.filterable),b(l).be("panel","list")])},{default:ie(()=>[(ge(!0),Fe(Tn,null,li(b(f),D=>(ge(),Tt(b(Ec),{key:D[b(d).key],class:Ce(b(l).be("panel","item")),value:D[b(d).key],disabled:D[b(d).disabled],"validate-event":!1},{default:ie(()=>{var R;return[V(a,{option:(R=A.optionRender)==null?void 0:R.call(A,D)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Ei,!p.value&&!b(Ql)(A.data)]]),Dr(Ve("div",{class:Ce(b(l).be("panel","empty"))},[Ot(A.$slots,"empty",{},()=>[Rt(yn(p.value?b(o)("el.transfer.noMatch"):b(o)("el.transfer.noData")),1)])],2),[[Ei,p.value||b(Ql)(A.data)]])],2),_.value?(ge(),Fe("p",{key:0,class:Ce(b(l).be("panel","footer"))},[Ot(A.$slots,"default")],2)):gt("v-if",!0)],2))}});var zB=Nn(F4e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const B4e=t=>{const e=ox(t),n=he(()=>t.data.reduce((s,a)=>(s[a[e.value.key]]=a)&&s,{})),r=he(()=>t.data.filter(s=>!t.modelValue.includes(s[e.value.key]))),i=he(()=>t.targetOrder==="original"?t.data.filter(s=>t.modelValue.includes(s[e.value.key])):t.modelValue.reduce((s,a)=>{const o=n.value[a];return o&&s.push(o),s},[]));return{sourceData:r,targetData:i}},U4e=(t,e,n)=>{const r=ox(t),i=(o,l,u)=>{n(Ti,o),n(bs,o,l,u)};return{addToLeft:()=>{const o=t.modelValue.slice();e.rightChecked.forEach(l=>{const u=o.indexOf(l);u>-1&&o.splice(u,1)}),i(o,"left",e.rightChecked)},addToRight:()=>{let o=t.modelValue.slice();const l=t.data.filter(u=>{const d=u[r.value.key];return e.leftChecked.includes(d)&&!t.modelValue.includes(d)}).map(u=>u[r.value.key]);o=t.targetOrder==="unshift"?l.concat(o):o.concat(l),t.targetOrder==="original"&&(o=t.data.filter(u=>o.includes(u[r.value.key])).map(u=>u[r.value.key])),i(o,"right",e.leftChecked)}}},V4e=(t,e)=>({onSourceCheckedChange:(i,s)=>{t.leftChecked=i,s&&e(iZ,i,s)},onTargetCheckedChange:(i,s)=>{t.rightChecked=i,s&&e(sZ,i,s)}}),z4e={key:0},H4e={key:0},j4e=kt({name:"ElTransfer",__name:"transfer",props:Ug,emits:M4e,setup(t,{expose:e,emit:n}){const r=t,i=n,s=cl(),{t:a}=mi(),o=gn("transfer"),{formItem:l}=Rc(),u=lr({leftChecked:[],rightChecked:[]}),d=ox(r),{sourceData:f,targetData:h}=B4e(r),{onSourceCheckedChange:g,onTargetCheckedChange:v}=V4e(u,i),{addToLeft:p,addToRight:_}=U4e(r,u,i),S=ye(),C=ye(),T=U=>{switch(U){case"left":S.value.query="";break;case"right":C.value.query="";break}},A=he(()=>r.buttonTexts.length===2),P=he(()=>r.titles[0]||a("el.transfer.titles.0")),D=he(()=>r.titles[1]||a("el.transfer.titles.1")),R=he(()=>r.filterPlaceholder||a("el.transfer.filterPlaceholder"));Zt(()=>r.modelValue,()=>{var U;r.validateEvent&&((U=l==null?void 0:l.validate)==null||U.call(l,"change").catch(Y=>void 0))});const N=he(()=>U=>{var Y;if(r.renderContent)return r.renderContent(En,U);const H=(((Y=s.default)==null?void 0:Y.call(s,{option:U}))||[]).filter(j=>j.type!==Rs);return H.length?H:En("span",U[d.value.label]||U[d.value.key])});return e({clearQuery:T,leftPanel:S,rightPanel:C}),(U,Y)=>(ge(),Fe("div",{class:Ce(b(o).b())},[V(zB,{ref_key:"leftPanel",ref:S,data:b(f),"option-render":N.value,placeholder:R.value,title:P.value,filterable:U.filterable,format:U.format,"filter-method":U.filterMethod,"default-checked":U.leftDefaultChecked,props:r.props,onCheckedChange:b(g)},{empty:ie(()=>[Ot(U.$slots,"left-empty")]),default:ie(()=>[Ot(U.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Ve("div",{class:Ce(b(o).e("buttons"))},[V(b(qr),{type:"primary",class:Ce([b(o).e("button"),b(o).is("with-texts",A.value)]),disabled:b(Ql)(u.rightChecked),onClick:b(p)},{default:ie(()=>[V(b(Bn),null,{default:ie(()=>[V(b(xm))]),_:1}),b(Ni)(U.buttonTexts[0])?gt("v-if",!0):(ge(),Fe("span",z4e,yn(U.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),V(b(qr),{type:"primary",class:Ce([b(o).e("button"),b(o).is("with-texts",A.value)]),disabled:b(Ql)(u.leftChecked),onClick:b(_)},{default:ie(()=>[b(Ni)(U.buttonTexts[1])?gt("v-if",!0):(ge(),Fe("span",H4e,yn(U.buttonTexts[1]),1)),V(b(Bn),null,{default:ie(()=>[V(b($u))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),V(zB,{ref_key:"rightPanel",ref:C,data:b(h),"option-render":N.value,placeholder:R.value,filterable:U.filterable,format:U.format,"filter-method":U.filterMethod,title:D.value,"default-checked":U.rightDefaultChecked,props:r.props,onCheckedChange:b(v)},{empty:ie(()=>[Ot(U.$slots,"right-empty")]),default:ie(()=>[Ot(U.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var G4e=Nn(j4e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const aZ=_i(G4e),oZ=Symbol("uploadContextKey"),W4e="ElUpload";class q4e extends Error{constructor(e,n,r,i){super(e),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=i}}function HB(t,e,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${e.method} ${t} ${n.status}`,new q4e(r,n.status,e.method,t)}function X4e(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const Y4e=t=>{typeof XMLHttpRequest>"u"&&ll(W4e,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",s=>{const a=s;a.percent=s.total>0?s.loaded/s.total*100:0,t.onProgress(a)});const r=new FormData;if(t.data)for(const[s,a]of Object.entries(t.data))nn(a)&&a.length?r.append(s,...a):r.append(s,a);r.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(HB(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(HB(n,t,e));t.onSuccess(X4e(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const i=t.headers||{};if(i instanceof Headers)i.forEach((s,a)=>e.setRequestHeader(a,s));else for(const[s,a]of Object.entries(i))Tc(a)||e.setRequestHeader(s,String(a));return e.send(r),e},lZ=["text","picture","picture-card"];let K4e=1;const $D=()=>Date.now()+K4e++,uZ=On({action:{type:String,default:"#"},headers:{type:Dt(Object)},method:{type:String,default:"post"},data:{type:Dt([Object,Function,Promise]),default:()=>Aa({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Dt(Array),default:()=>Aa([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:lZ,default:"text"},httpRequest:{type:Dt(Function),default:Y4e},disabled:{type:Boolean,default:void 0},limit:Number}),Z4e=On({...uZ,beforeUpload:{type:Dt(Function),default:Zr},beforeRemove:{type:Dt(Function)},onRemove:{type:Dt(Function),default:Zr},onChange:{type:Dt(Function),default:Zr},onPreview:{type:Dt(Function),default:Zr},onSuccess:{type:Dt(Function),default:Zr},onProgress:{type:Dt(Function),default:Zr},onError:{type:Dt(Function),default:Zr},onExceed:{type:Dt(Function),default:Zr},crossorigin:{type:Dt(String)}}),Q4e=On({files:{type:Dt(Array),default:()=>Aa([])},disabled:{type:Boolean,default:void 0},handlePreview:{type:Dt(Function),default:Zr},listType:{type:String,values:lZ,default:"text"},crossorigin:{type:Dt(String)}}),J4e={remove:t=>!!t},ePe=["tabindex","aria-disabled","onKeydown"],tPe=["src","crossorigin"],nPe=["onClick"],rPe=["title"],iPe=["onClick"],sPe=["onClick"],aPe=kt({name:"ElUploadList",__name:"upload-list",props:Q4e,emits:J4e,setup(t,{emit:e}){const n=t,r=e,{t:i}=mi(),s=gn("upload"),a=gn("icon"),o=gn("list"),l=uo(),u=ye(!1),d=he(()=>[s.b("list"),s.bm("list",n.listType),s.is("disabled",l.value)]),f=h=>{r("remove",h)};return(h,g)=>(ge(),Tt(Oq,{tag:"ul",class:Ce(d.value),name:b(o).b()},{default:ie(()=>[(ge(!0),Fe(Tn,null,li(h.files,(v,p)=>(ge(),Fe("li",{key:v.uid||v.name,class:Ce([b(s).be("list","item"),b(s).is(v.status),{focusing:u.value}]),tabindex:b(l)?void 0:0,"aria-disabled":b(l),role:"button",onKeydown:ts(_=>!b(l)&&f(v),["delete"]),onFocus:g[0]||(g[0]=_=>u.value=!0),onBlur:g[1]||(g[1]=_=>u.value=!1),onClick:g[2]||(g[2]=_=>u.value=!1)},[Ot(h.$slots,"default",{file:v,index:p},()=>[h.listType==="picture"||v.status!=="uploading"&&h.listType==="picture-card"?(ge(),Fe("img",{key:0,class:Ce(b(s).be("list","item-thumbnail")),src:v.url,crossorigin:h.crossorigin,alt:""},null,10,tPe)):gt("v-if",!0),v.status==="uploading"||h.listType!=="picture-card"?(ge(),Fe("div",{key:1,class:Ce(b(s).be("list","item-info"))},[Ve("a",{class:Ce(b(s).be("list","item-name")),onClick:Cr(_=>h.handlePreview(v),["prevent"])},[V(b(Bn),{class:Ce(b(a).m("document"))},{default:ie(()=>[V(b(o_e))]),_:1},8,["class"]),Ve("span",{class:Ce(b(s).be("list","item-file-name")),title:v.name},yn(v.name),11,rPe)],10,nPe),v.status==="uploading"?(ge(),Tt(b(jAe),{key:0,type:h.listType==="picture-card"?"circle":"line","stroke-width":h.listType==="picture-card"?6:2,percentage:Number(v.percentage),style:dr(h.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):gt("v-if",!0)],2)):gt("v-if",!0),Ve("label",{class:Ce(b(s).be("list","item-status-label"))},[h.listType==="text"?(ge(),Tt(b(Bn),{key:0,class:Ce([b(a).m("upload-success"),b(a).m("circle-check")])},{default:ie(()=>[V(b(MM))]),_:1},8,["class"])):["picture-card","picture"].includes(h.listType)?(ge(),Tt(b(Bn),{key:1,class:Ce([b(a).m("upload-success"),b(a).m("check")])},{default:ie(()=>[V(b(RE))]),_:1},8,["class"])):gt("v-if",!0)],2),b(l)?gt("v-if",!0):(ge(),Tt(b(Bn),{key:2,class:Ce(b(a).m("close")),onClick:_=>f(v)},{default:ie(()=>[V(b(Rd))]),_:1},8,["class","onClick"])),gt(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),gt(" This is a bug which needs to be fixed "),gt(" TODO: Fix the incorrect navigation interaction "),b(l)?gt("v-if",!0):(ge(),Fe("i",{key:3,class:Ce(b(a).m("close-tip"))},yn(b(i)("el.upload.deleteTip")),3)),h.listType==="picture-card"?(ge(),Fe("span",{key:4,class:Ce(b(s).be("list","item-actions"))},[Ve("span",{class:Ce(b(s).be("list","item-preview")),onClick:_=>h.handlePreview(v)},[V(b(Bn),{class:Ce(b(a).m("zoom-in"))},{default:ie(()=>[V(b(KX))]),_:1},8,["class"])],10,iPe),b(l)?gt("v-if",!0):(ge(),Fe("span",{key:0,class:Ce(b(s).be("list","item-delete")),onClick:_=>f(v)},[V(b(Bn),{class:Ce(b(a).m("delete"))},{default:ie(()=>[V(b(s_e))]),_:1},8,["class"])],10,sPe))],2)):gt("v-if",!0)])],42,ePe))),128)),Ot(h.$slots,"append")]),_:3},8,["class","name"]))}});var jB=Nn(aPe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const oPe=On({disabled:{type:Boolean,default:void 0}}),lPe={file:t=>nn(t)},GB="ElUploadDrag",uPe=kt({name:GB,__name:"upload-dragger",props:oPe,emits:lPe,setup(t,{emit:e}){const n=e;In(oZ)||ll(GB,"usage: <el-upload><el-upload-dragger /></el-upload>");const i=gn("upload"),s=ye(!1),a=uo(),o=d=>{if(a.value)return;s.value=!1,d.stopPropagation();const f=Array.from(d.dataTransfer.files),h=d.dataTransfer.items||[];f.forEach((g,v)=>{var p;const _=h[v],S=(p=_==null?void 0:_.webkitGetAsEntry)==null?void 0:p.call(_);S&&(g.isDirectory=S.isDirectory)}),n("file",f)},l=()=>{a.value||(s.value=!0)},u=d=>{d.currentTarget.contains(d.relatedTarget)||(s.value=!1)};return(d,f)=>(ge(),Fe("div",{class:Ce([b(i).b("dragger"),b(i).is("dragover",s.value)]),onDrop:Cr(o,["prevent"]),onDragover:Cr(l,["prevent"]),onDragleave:Cr(u,["prevent"])},[Ot(d.$slots,"default")],34))}});var cPe=Nn(uPe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const dPe=On({...uZ,beforeUpload:{type:Dt(Function),default:Zr},onRemove:{type:Dt(Function),default:Zr},onStart:{type:Dt(Function),default:Zr},onSuccess:{type:Dt(Function),default:Zr},onProgress:{type:Dt(Function),default:Zr},onError:{type:Dt(Function),default:Zr},onExceed:{type:Dt(Function),default:Zr}}),fPe=["tabindex","aria-disabled","onKeydown"],hPe=["name","disabled","multiple","accept"],pPe=kt({name:"ElUploadContent",inheritAttrs:!1,__name:"upload-content",props:dPe,setup(t,{expose:e}){const n=t,r=gn("upload"),i=uo(),s=qa({}),a=qa(),o=p=>{if(p.length===0)return;const{autoUpload:_,limit:S,fileList:C,multiple:T,onStart:A,onExceed:P}=n;if(S&&C.length+p.length>S){P(p,C);return}T||(p=p.slice(0,1));for(const D of p){const R=D;R.uid=$D(),A(R),_&&l(R)}},l=async p=>{if(a.value.value="",!n.beforeUpload)return d(p);let _,S={};try{const T=n.data,A=n.beforeUpload(p);S=Ab(n.data)?DT(n.data):n.data,_=await A,Ab(n.data)&&na(T,S)&&(S=DT(n.data))}catch{_=!1}if(_===!1){n.onRemove(p);return}let C=p;_ instanceof Blob&&(_ instanceof File?C=_:C=new File([_],p.name,{type:p.type})),d(Object.assign(C,{uid:p.uid}),S)},u=async(p,_)=>kn(p)?p(_):p,d=async(p,_)=>{const{headers:S,data:C,method:T,withCredentials:A,name:P,action:D,onProgress:R,onSuccess:N,onError:U,httpRequest:Y}=n;try{_=await u(_??C,p)}catch{n.onRemove(p);return}const{uid:H}=p,j={headers:S||{},withCredentials:A,file:p,data:_,method:T,filename:P,action:D,onProgress:W=>{R(W,p)},onSuccess:W=>{N(W,p),delete s.value[H]},onError:W=>{U(W,p),delete s.value[H]}},X=Y(j);s.value[H]=X,X instanceof Promise&&X.then(j.onSuccess,j.onError)},f=p=>{const _=p.target.files;_&&o(Array.from(_))},h=()=>{i.value||(a.value.value="",a.value.click())},g=()=>{h()};return e({abort:p=>{Pye(s.value).filter(p?([S])=>String(p.uid)===S:()=>!0).forEach(([S,C])=>{C instanceof XMLHttpRequest&&C.abort(),delete s.value[S]})},upload:l}),(p,_)=>(ge(),Fe("div",{class:Ce([b(r).b(),b(r).m(p.listType),b(r).is("drag",p.drag),b(r).is("disabled",b(i))]),tabindex:b(i)?void 0:0,"aria-disabled":b(i),role:"button",onClick:h,onKeydown:ts(Cr(g,["self"]),["enter","space"])},[p.drag?(ge(),Tt(cPe,{key:0,disabled:b(i),onFile:o},{default:ie(()=>[Ot(p.$slots,"default")]),_:3},8,["disabled"])):Ot(p.$slots,"default",{key:1}),Ve("input",{ref_key:"inputRef",ref:a,class:Ce(b(r).e("input")),name:p.name,disabled:b(i),multiple:p.multiple,accept:p.accept,type:"file",onChange:f,onClick:_[0]||(_[0]=Cr(()=>{},["stop"]))},null,42,hPe)],42,fPe))}});var WB=Nn(pPe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const qB="ElUpload",XB=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},mPe=(t,e)=>{const n=vye(t,"fileList",void 0,{passive:!0}),r=v=>n.value.find(p=>p.uid===v.uid);function i(v){var p;(p=e.value)==null||p.abort(v)}function s(v=["ready","uploading","success","fail"]){n.value=n.value.filter(p=>!v.includes(p.status))}function a(v){n.value=n.value.filter(p=>p.uid!==v.uid)}const o=v=>{Vn(()=>t.onChange(v,n.value))},l=(v,p)=>{const _=r(p);_&&(console.error(v),_.status="fail",a(_),t.onError(v,_,n.value),o(_))},u=(v,p)=>{const _=r(p);_&&(t.onProgress(v,_,n.value),_.status="uploading",_.percentage=Math.round(v.percent))},d=(v,p)=>{const _=r(p);_&&(_.status="success",_.response=v,t.onSuccess(v,_,n.value),o(_))},f=v=>{Tc(v.uid)&&(v.uid=$D());const p={name:v.name,percentage:0,status:"ready",size:v.size,raw:v,uid:v.uid};if(t.listType==="picture-card"||t.listType==="picture")try{p.url=URL.createObjectURL(v)}catch(_){_.message,t.onError(_,p,n.value)}n.value=[...n.value,p],o(p)},h=async v=>{const p=v instanceof File?r(v):v;p||ll(qB,"file to be removed not found");const _=S=>{i(S),a(S),t.onRemove(S,n.value),XB(S)};t.beforeRemove?await t.beforeRemove(p,n.value)!==!1&&_(p):_(p)};function g(){n.value.filter(({status:v})=>v==="ready").forEach(({raw:v})=>{var p;return v&&((p=e.value)==null?void 0:p.upload(v))})}return Zt(()=>t.listType,v=>{v!=="picture-card"&&v!=="picture"||(n.value=n.value.map(p=>{const{raw:_,url:S}=p;if(!S&&_)try{p.url=URL.createObjectURL(_)}catch(C){t.onError(C,p,n.value)}return p}))}),Zt(n,v=>{for(const p of v)p.uid||(p.uid=$D()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:i,clearFiles:s,handleError:l,handleProgress:u,handleStart:f,handleSuccess:d,handleRemove:h,submit:g,revokeFileObjectURL:XB}},gPe=kt({name:"ElUpload",__name:"upload",props:Z4e,setup(t,{expose:e}){const n=t,r=uo(),i=qa(),{abort:s,submit:a,clearFiles:o,uploadFiles:l,handleStart:u,handleError:d,handleRemove:f,handleSuccess:h,handleProgress:g,revokeFileObjectURL:v}=mPe(n,i),p=he(()=>n.listType==="picture-card"),_=he(()=>({...n,fileList:l.value,onStart:u,onProgress:g,onSuccess:h,onError:d,onRemove:f}));return Ri(()=>{l.value.forEach(v)}),pi(oZ,{accept:_s(n,"accept")}),e({abort:s,submit:a,clearFiles:o,handleStart:u,handleRemove:f}),(S,C)=>(ge(),Fe("div",null,[p.value&&S.showFileList?(ge(),Tt(jB,{key:0,disabled:b(r),"list-type":S.listType,files:b(l),crossorigin:S.crossorigin,"handle-preview":S.onPreview,onRemove:b(f)},Rb({append:ie(()=>[V(WB,Fi({ref_key:"uploadRef",ref:i},_.value),{default:ie(()=>[S.$slots.trigger?Ot(S.$slots,"trigger",{key:0}):gt("v-if",!0),!S.$slots.trigger&&S.$slots.default?Ot(S.$slots,"default",{key:1}):gt("v-if",!0)]),_:3},16)]),_:2},[S.$slots.file?{name:"default",fn:ie(({file:T,index:A})=>[Ot(S.$slots,"file",{file:T,index:A})]),key:"0"}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):gt("v-if",!0),!p.value||p.value&&!S.showFileList?(ge(),Tt(WB,Fi({key:1,ref_key:"uploadRef",ref:i},_.value),{default:ie(()=>[S.$slots.trigger?Ot(S.$slots,"trigger",{key:0}):gt("v-if",!0),!S.$slots.trigger&&S.$slots.default?Ot(S.$slots,"default",{key:1}):gt("v-if",!0)]),_:3},16)):gt("v-if",!0),S.$slots.trigger?Ot(S.$slots,"default",{key:2}):gt("v-if",!0),Ot(S.$slots,"tip"),!p.value&&S.showFileList?(ge(),Tt(jB,{key:3,disabled:b(r),"list-type":S.listType,files:b(l),crossorigin:S.crossorigin,"handle-preview":S.onPreview,onRemove:b(f)},Rb({_:2},[S.$slots.file?{name:"default",fn:ie(({file:T,index:A})=>[Ot(S.$slots,"file",{file:T,index:A})]),key:"0"}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):gt("v-if",!0)]))}});var vPe=Nn(gPe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const cZ=_i(vPe);function yPe(t,e){let n;const r=ye(!1),i=lr({...t,originalPosition:"",originalOverflow:"",visible:!1});function s(g){i.text=g}function a(){const g=i.parent,v=h.ns;if(!g.vLoadingAddClassList){let p=g.getAttribute("loading-number");p=Number.parseInt(p)-1,p?g.setAttribute("loading-number",p.toString()):(su(g,v.bm("parent","relative")),g.removeAttribute("loading-number")),su(g,v.bm("parent","hidden"))}o(),f.unmount()}function o(){var g,v;(v=(g=h.$el)==null?void 0:g.parentNode)==null||v.removeChild(h.$el)}function l(){var g;t.beforeClose&&!t.beforeClose()||(r.value=!0,clearTimeout(n),n=setTimeout(u,400),i.visible=!1,(g=t.closed)==null||g.call(t))}function u(){if(!r.value)return;const g=i.parent;r.value=!1,g.vLoadingAddClassList=void 0,a()}const f=Uq(kt({name:"ElLoading",setup(g,{expose:v}){const{ns:p,zIndex:_}=DE("loading");return v({ns:p,zIndex:_}),()=>{const S=i.spinner||i.svg,C=En("svg",{class:"circular",viewBox:i.svgViewBox?i.svgViewBox:"0 0 50 50",...S?{innerHTML:S}:{}},[En("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),T=i.text?En("p",{class:p.b("text")},[i.text]):void 0;return En($l,{name:p.b("fade"),onAfterLeave:u},{default:ie(()=>[Dr(V("div",{style:{backgroundColor:i.background||""},class:[p.b("mask"),i.customClass,p.is("fullscreen",i.fullscreen)]},[En("div",{class:p.b("spinner")},[C,T])]),[[Ei,i.visible]])])})}}}));Object.assign(f._context,e??{});const h=f.mount(document.createElement("div"));return{...cu(i),setText:s,removeElLoadingChild:o,close:l,handleAfterLeave:u,vm:h,get $el(){return h.$el}}}let uw;const av=function(t={},e){if(!Vr)return;const n=_Pe(t);if(n.fullscreen&&uw)return uw;const r=yPe({...n,closed:()=>{var s;(s=n.closed)==null||s.call(n),n.fullscreen&&(uw=void 0)}},e??av._context);bPe(n,n.parent,r),YB(n,n.parent,r),n.parent.vLoadingAddClassList=()=>YB(n,n.parent,r);let i=n.parent.getAttribute("loading-number");return i?i=`${Number.parseInt(i)+1}`:i="1",n.parent.setAttribute("loading-number",i),n.parent.appendChild(r.$el),Vn(()=>r.visible.value=n.visible),n.fullscreen&&(uw=r),r},_Pe=t=>{var e,n,r,i;let s;return Kn(t.target)?s=(e=document.querySelector(t.target))!=null?e:document.body:s=t.target||document.body,{parent:s===document.body||t.body?document.body:s,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:s===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(r=t.lock)!=null?r:!1,customClass:t.customClass||"",visible:(i=t.visible)!=null?i:!0,beforeClose:t.beforeClose,closed:t.closed,target:s}},bPe=async(t,e,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,i={};if(t.fullscreen)n.originalPosition.value=Qh(document.body,"position"),n.originalOverflow.value=Qh(document.body,"overflow"),i.zIndex=r();else if(t.parent===document.body){n.originalPosition.value=Qh(document.body,"position"),await Vn();for(const s of["top","left"]){const a=s==="top"?"scrollTop":"scrollLeft";i[s]=`${t.target.getBoundingClientRect()[s]+document.body[a]+document.documentElement[a]-Number.parseInt(Qh(document.body,`margin-${s}`),10)}px`}for(const s of["height","width"])i[s]=`${t.target.getBoundingClientRect()[s]}px`}else n.originalPosition.value=Qh(e,"position");for(const[s,a]of Object.entries(i))n.$el.style[s]=a},YB=(t,e,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?su(e,r.bm("parent","relative")):uc(e,r.bm("parent","relative")),t.fullscreen&&t.lock?uc(e,r.bm("parent","hidden")):su(e,r.bm("parent","hidden"))};av._context=null;const h2=Symbol("ElLoading"),k0=t=>`element-loading-${Gf(t)}`,KB=(t,e)=>{var n,r,i,s;const a=e.instance,o=g=>fr(e.value)?e.value[g]:void 0,l=g=>{const v=Kn(g)&&(a==null?void 0:a[g])||g;return ye(v)},u=g=>l(o(g)||t.getAttribute(k0(g))),d=(n=o("fullscreen"))!=null?n:e.modifiers.fullscreen,f={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:d,target:(r=o("target"))!=null?r:d?void 0:t,body:(i=o("body"))!=null?i:e.modifiers.body,lock:(s=o("lock"))!=null?s:e.modifiers.lock},h=av(f);h._context=ov._context,t[h2]={options:f,instance:h}},xPe=(t,e)=>{for(const n of Object.keys(t))tr(t[n])&&(t[n].value=e[n])},ov={mounted(t,e){e.value&&KB(t,e)},updated(t,e){const n=t[h2];if(!e.value){n==null||n.instance.close(),t[h2]=null;return}n?xPe(n.options,fr(e.value)?e.value:{text:t.getAttribute(k0("text")),svg:t.getAttribute(k0("svg")),svgViewBox:t.getAttribute(k0("svgViewBox")),spinner:t.getAttribute(k0("spinner")),background:t.getAttribute(k0("background")),customClass:t.getAttribute(k0("customClass"))}):KB(t,e)},unmounted(t){var e;(e=t[h2])==null||e.instance.close(),t[h2]=null}};ov._context=null;const dZ={install(t){av._context=t._context,ov._context=t._context,t.directive("loading",ov),t.config.globalProperties.$loading=av},directive:ov,service:av},fZ=["primary","success","info","warning","error"],hZ=["top","top-left","top-right","bottom","bottom-left","bottom-right"],lv="top",_o=Aa({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:Vr?document.body:void 0}),wPe=On({customClass:{type:String,default:_o.customClass},dangerouslyUseHTMLString:{type:Boolean,default:_o.dangerouslyUseHTMLString},duration:{type:Number,default:_o.duration},icon:{type:$s,default:_o.icon},id:{type:String,default:_o.id},message:{type:Dt([String,Object,Function]),default:_o.message},onClose:{type:Dt(Function),default:_o.onClose},showClose:{type:Boolean,default:_o.showClose},type:{type:String,values:fZ,default:_o.type},plain:{type:Boolean,default:_o.plain},offset:{type:Number,default:_o.offset},placement:{type:String,values:hZ,default:_o.placement},zIndex:{type:Number,default:_o.zIndex},grouping:{type:Boolean,default:_o.grouping},repeatNum:{type:Number,default:_o.repeatNum}}),SPe={destroy:()=>!0},pc=dE({}),TPe=t=>(pc[t]||(pc[t]=dE([])),pc[t]),CPe=(t,e)=>{const n=pc[e]||[],r=n.findIndex(a=>a.id===t),i=n[r];let s;return r>0&&(s=n[r-1]),{current:i,prev:s}},EPe=(t,e)=>{const{prev:n}=CPe(t,e);return n?n.vm.exposed.bottom.value:0},APe=(t,e,n)=>(pc[n]||[]).findIndex(s=>s.id===t)>0?16:e,PPe=["id"],kPe=["innerHTML"],DPe=kt({name:"ElMessage",__name:"message",props:wPe,emits:SPe,setup(t,{expose:e,emit:n}){const{Close:r}=ZX,i=t,s=n,a=ye(!1),{ns:o,zIndex:l}=DE("message"),{currentZIndex:u,nextZIndex:d}=l,f=ye(),h=ye(!1),g=ye(0);let v;const p=he(()=>i.type?i.type==="error"?"danger":i.type:"info"),_=he(()=>{const X=i.type;return{[o.bm("icon",X)]:X&&$v[X]}}),S=he(()=>i.icon||$v[i.type]||""),C=he(()=>i.placement||lv),T=he(()=>EPe(i.id,C.value)),A=he(()=>APe(i.id,i.offset,C.value)+T.value),P=he(()=>g.value+A.value),D=he(()=>C.value.includes("left")?o.is("left"):C.value.includes("right")?o.is("right"):o.is("center")),R=he(()=>C.value.startsWith("top")?"top":"bottom"),N=he(()=>({[R.value]:`${A.value}px`,zIndex:u.value}));function U(){i.duration!==0&&({stop:v}=Lv(()=>{H()},i.duration))}function Y(){v==null||v()}function H(){h.value=!1,Vn(()=>{var X;a.value||((X=i.onClose)==null||X.call(i),s("destroy"))})}function j(X){oa(X)===Pn.esc&&H()}return zr(()=>{U(),d(),h.value=!0}),Zt(()=>i.repeatNum,()=>{Y(),U()}),Hi(document,"keydown",j),ma(f,()=>{g.value=f.value.getBoundingClientRect().height}),e({visible:h,bottom:P,close:H}),(X,W)=>(ge(),Tt($l,{name:b(o).b("fade"),onBeforeEnter:W[0]||(W[0]=F=>a.value=!0),onBeforeLeave:X.onClose,onAfterLeave:W[1]||(W[1]=F=>X.$emit("destroy")),persisted:""},{default:ie(()=>[Dr(Ve("div",{id:X.id,ref_key:"messageRef",ref:f,class:Ce([b(o).b(),{[b(o).m(X.type)]:X.type},b(o).is("closable",X.showClose),b(o).is("plain",X.plain),b(o).is("bottom",R.value==="bottom"),D.value,X.customClass]),style:dr(N.value),role:"alert",onMouseenter:Y,onMouseleave:U},[X.repeatNum>1?(ge(),Tt(b(PY),{key:0,value:X.repeatNum,type:p.value,class:Ce(b(o).e("badge"))},null,8,["value","type","class"])):gt("v-if",!0),S.value?(ge(),Tt(b(Bn),{key:1,class:Ce([b(o).e("icon"),_.value])},{default:ie(()=>[(ge(),Tt(ti(S.value)))]),_:1},8,["class"])):gt("v-if",!0),Ot(X.$slots,"default",{},()=>[X.dangerouslyUseHTMLString?(ge(),Fe(Tn,{key:1},[gt(" Caution here, message could've been compromised, never use user's input as message "),Ve("p",{class:Ce(b(o).e("content")),innerHTML:X.message},null,10,kPe)],2112)):(ge(),Fe("p",{key:0,class:Ce(b(o).e("content"))},yn(X.message),3))]),X.showClose?(ge(),Tt(b(Bn),{key:2,class:Ce(b(o).e("closeBtn")),onClick:Cr(H,["stop"])},{default:ie(()=>[V(b(r))]),_:1},8,["class"])):gt("v-if",!0)],46,PPe),[[Ei,h.value]])]),_:3},8,["name","onBeforeLeave"]))}});var IPe=Nn(DPe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let RPe=1;const OPe=t=>{if(!t.appendTo)t.appendTo=document.body;else if(Kn(t.appendTo)){let n=document.querySelector(t.appendTo);Pl(n)||(n=document.body),t.appendTo=n}},MPe=t=>{!t.placement&&Kn(Zo.placement)&&Zo.placement&&(t.placement=Zo.placement),t.placement||(t.placement=lv),hZ.includes(t.placement)||(`${t.placement}${lv}`,t.placement=lv)},pZ=t=>{const e=!t||Kn(t)||ia(t)||kn(t)?{message:t}:t,n={..._o,...e};return OPe(n),MPe(n),ta(Zo.grouping)&&!n.grouping&&(n.grouping=Zo.grouping),Lr(Zo.duration)&&n.duration===3e3&&(n.duration=Zo.duration),Lr(Zo.offset)&&n.offset===16&&(n.offset=Zo.offset),ta(Zo.showClose)&&!n.showClose&&(n.showClose=Zo.showClose),ta(Zo.plain)&&!n.plain&&(n.plain=Zo.plain),n},LPe=t=>{const e=t.props.placement||lv,n=pc[e],r=n.indexOf(t);if(r===-1)return;n.splice(r,1);const{handler:i}=t;i.close()},$Pe=({appendTo:t,...e},n)=>{const r=`message_${RPe++}`,i=e.onClose,s=document.createElement("div"),a={...e,id:r,onClose:()=>{i==null||i(),LPe(d)},onDestroy:()=>{Cp(null,s)}},o=V(IPe,a,kn(a.message)||ia(a.message)?{default:kn(a.message)?a.message:()=>a.message}:null);o.appContext=n||Tm._context,Cp(o,s),t.appendChild(s.firstElementChild);const l=o.component,d={id:r,vnode:o,vm:l,handler:{close:()=>{l.exposed.close()}},props:o.component.props};return d},Tm=(t={},e)=>{if(!Vr)return{close:()=>{}};const n=pZ(t),r=TPe(n.placement||lv);if(n.grouping&&r.length){const s=r.find(({vnode:a})=>{var o;return((o=a.props)==null?void 0:o.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}if(Lr(Zo.max)&&r.length>=Zo.max)return{close:()=>{}};const i=$Pe(n,e);return r.push(i),i.handler};fZ.forEach(t=>{Tm[t]=(e={},n)=>{const r=pZ(e);return Tm({...r,type:t},n)}});function NPe(t){for(const e in pc)if(Kr(pc,e)){const n=[...pc[e]];for(const r of n)(!t||t===r.props.type)&&r.handler.close()}}function FPe(t){if(!pc[t])return;[...pc[t]].forEach(n=>n.handler.close())}Tm.closeAll=NPe;Tm.closeAllByPlacement=FPe;Tm._context=null;const $S=HX(Tm,"$message"),ND="_trap-focus-children",K0=[],ZB=t=>{if(K0.length===0)return;const e=oa(t),n=K0[K0.length-1][ND];if(n.length>0&&e===Pn.tab){if(n.length===1){t.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const r=t.shiftKey,i=t.target===n[0],s=t.target===n[n.length-1];i&&r&&(t.preventDefault(),n[n.length-1].focus()),s&&!r&&(t.preventDefault(),n[0].focus())}},BPe={beforeMount(t){t[ND]=FF(t),K0.push(t),K0.length<=1&&document.addEventListener("keydown",ZB)},updated(t){Vn(()=>{t[ND]=FF(t)})},unmounted(){K0.shift(),K0.length===0&&document.removeEventListener("keydown",ZB)}},UPe=kt({name:"ElMessageBox",directives:{TrapFocus:BPe},components:{ElButton:qr,ElFocusTrap:nx,ElInput:ns,ElOverlay:u8,ElIcon:Bn,...ZX},inheritAttrs:!1,props:{buttonSize:{type:String,validator:t3e},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:Boolean,container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:r,ns:i,size:s}=DE("message-box",he(()=>t.buttonSize)),{t:a}=n,{nextZIndex:o}=r,l=ye(!1),u=lr({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",closeIcon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:Sp(wm),cancelButtonLoadingIcon:Sp(wm),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:o()}),d=he(()=>{const G=u.type;return{[i.bm("icon",G)]:G&&$v[G]}}),f=Cc(),h=Cc(),g=he(()=>{const G=u.type;return u.icon||G&&$v[G]||""}),v=he(()=>!!u.message),p=ye(),_=ye(),S=ye(),C=ye(),T=ye(),A=he(()=>u.confirmButtonClass);Zt(()=>u.inputValue,async G=>{await Vn(),t.boxType==="prompt"&&G&&X()},{immediate:!0}),Zt(()=>l.value,G=>{var K,ee;G&&(t.boxType!=="prompt"&&(u.autofocus?S.value=(ee=(K=T.value)==null?void 0:K.$el)!=null?ee:p.value:S.value=p.value),u.zIndex=o()),t.boxType==="prompt"&&(G?Vn().then(()=>{var de;C.value&&C.value.$el&&(u.autofocus?S.value=(de=W())!=null?de:p.value:S.value=p.value)}):(u.editorErrorMessage="",u.validateError=!1))});const P=he(()=>t.draggable),D=he(()=>t.overflow),{isDragging:R}=SK(p,_,P,D);zr(async()=>{await Vn(),t.closeOnHashChange&&window.addEventListener("hashchange",N)}),Ri(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",N)});function N(){l.value&&(l.value=!1,Vn(()=>{u.action&&e("action",u.action)}))}const U=()=>{t.closeOnClickModal&&j(u.distinguishCancelAndClose?"close":"cancel")},Y=l8(U),H=G=>{if(u.inputType!=="textarea")return G.preventDefault(),j("confirm")},j=G=>{var K;t.boxType==="prompt"&&G==="confirm"&&!X()||(u.action=G,u.beforeClose?(K=u.beforeClose)==null||K.call(u,G,u,N):N())},X=()=>{if(t.boxType==="prompt"){const G=u.inputPattern;if(G&&!G.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||a("el.messagebox.error"),u.validateError=!0,!1;const K=u.inputValidator;if(kn(K)){const ee=K(u.inputValue);if(ee===!1)return u.editorErrorMessage=u.inputErrorMessage||a("el.messagebox.error"),u.validateError=!0,!1;if(Kn(ee))return u.editorErrorMessage=ee,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},W=()=>{var G,K;const ee=(G=C.value)==null?void 0:G.$refs;return(K=ee==null?void 0:ee.input)!=null?K:ee==null?void 0:ee.textarea},F=()=>{j("close")},te=()=>{t.closeOnPressEscape&&F()};return t.lockScroll&&c8(l,{ns:i}),{...cu(u),ns:i,overlayEvent:Y,visible:l,hasMessage:v,typeClass:d,contentId:f,inputId:h,btnSize:s,iconComponent:g,confirmButtonClasses:A,rootRef:p,focusStartRef:S,headerRef:_,inputRef:C,isDragging:R,confirmRef:T,doClose:N,handleClose:F,onCloseRequested:te,handleWrapperClick:U,handleInputEnter:H,handleAction:j,t:a}}}),VPe=["aria-label","aria-describedby"],zPe=["aria-label"],HPe=["id"];function jPe(t,e,n,r,i,s){const a=us("el-icon"),o=us("el-input"),l=us("el-button"),u=us("el-focus-trap"),d=us("el-overlay");return ge(),Tt($l,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=f=>t.$emit("vanish")),persisted:""},{default:ie(()=>[Dr(V(d,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:ie(()=>[Ve("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:Ce(`${t.ns.namespace.value}-overlay-message-box`),onClick:e[8]||(e[8]=(...f)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(...f)),onMousedown:e[9]||(e[9]=(...f)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(...f)),onMouseup:e[10]||(e[10]=(...f)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(...f))},[V(u,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:ie(()=>[Ve("div",{ref:"rootRef",class:Ce([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),t.ns.is("dragging",t.isDragging),{[t.ns.m("center")]:t.center}]),style:dr(t.customStyle),tabindex:"-1",onClick:e[7]||(e[7]=Cr(()=>{},["stop"]))},[t.title!==null&&t.title!==void 0?(ge(),Fe("div",{key:0,ref:"headerRef",class:Ce([t.ns.e("header"),{"show-close":t.showClose}])},[Ve("div",{class:Ce(t.ns.e("title"))},[t.iconComponent&&t.center?(ge(),Tt(a,{key:0,class:Ce([t.ns.e("status"),t.typeClass])},{default:ie(()=>[(ge(),Tt(ti(t.iconComponent)))]),_:1},8,["class"])):gt("v-if",!0),Ve("span",null,yn(t.title),1)],2),t.showClose?(ge(),Fe("button",{key:0,type:"button",class:Ce(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:e[0]||(e[0]=f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=ts(Cr(f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[V(a,{class:Ce(t.ns.e("close"))},{default:ie(()=>[(ge(),Tt(ti(t.closeIcon||"close")))]),_:1},8,["class"])],42,zPe)):gt("v-if",!0)],2)):gt("v-if",!0),Ve("div",{id:t.contentId,class:Ce(t.ns.e("content"))},[Ve("div",{class:Ce(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(ge(),Tt(a,{key:0,class:Ce([t.ns.e("status"),t.typeClass])},{default:ie(()=>[(ge(),Tt(ti(t.iconComponent)))]),_:1},8,["class"])):gt("v-if",!0),t.hasMessage?(ge(),Fe("div",{key:1,class:Ce(t.ns.e("message"))},[Ot(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(ge(),Tt(ti(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(ge(),Tt(ti(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0,textContent:yn(t.message)},null,8,["for","textContent"]))])],2)):gt("v-if",!0)],2),Dr(Ve("div",{class:Ce(t.ns.e("input"))},[V(o,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":e[2]||(e[2]=f=>t.inputValue=f),type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:Ce({invalid:t.validateError}),onKeydown:ts(t.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Ve("div",{class:Ce(t.ns.e("errormsg")),style:dr({visibility:t.editorErrorMessage?"visible":"hidden"})},yn(t.editorErrorMessage),7)],2),[[Ei,t.showInput]])],10,HPe),Ve("div",{class:Ce(t.ns.e("btns"))},[t.showCancelButton?(ge(),Tt(l,{key:0,loading:t.cancelButtonLoading,"loading-icon":t.cancelButtonLoadingIcon,class:Ce([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:e[3]||(e[3]=f=>t.handleAction("cancel")),onKeydown:e[4]||(e[4]=ts(Cr(f=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:ie(()=>[Rt(yn(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size"])):gt("v-if",!0),Dr(V(l,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,"loading-icon":t.confirmButtonLoadingIcon,class:Ce([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:e[5]||(e[5]=f=>t.handleAction("confirm")),onKeydown:e[6]||(e[6]=ts(Cr(f=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:ie(()=>[Rt(yn(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size"]),[[Ei,t.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,VPe)]),_:3},8,["z-index","overlay-class","mask"]),[[Ei,t.visible]])]),_:3})}var GPe=Nn(UPe,[["render",jPe],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const Zb=new Map,WPe=t=>{let e=document.body;return t.appendTo&&(Kn(t.appendTo)&&(e=document.querySelector(t.appendTo)),Pl(t.appendTo)&&(e=t.appendTo),Pl(e)||(e=document.body)),e},qPe=(t,e,n=null)=>{const r=V(GPe,t,kn(t.message)||ia(t.message)?{default:kn(t.message)?t.message:()=>t.message}:null);return r.appContext=n,Cp(r,e),WPe(t).appendChild(e.firstElementChild),r.component},XPe=()=>document.createElement("div"),YPe=(t,e)=>{const n=XPe();t.onVanish=()=>{Cp(null,n),Zb.delete(i)},t.onAction=s=>{const a=Zb.get(i);let o;t.showInput?o={value:i.inputValue,action:s}:o=s,t.callback?t.callback(o,r.proxy):s==="cancel"||s==="close"?t.distinguishCancelAndClose&&s!=="cancel"?a.reject("close"):a.reject("cancel"):a.resolve(o)};const r=qPe(t,n,e),i=r.proxy;for(const s in t)Kr(t,s)&&!Kr(i.$props,s)&&(s==="closeIcon"&&fr(t[s])?i[s]=Sp(t[s]):i[s]=t[s]);return i.visible=!0,i};function Vy(t,e=null){if(!Vr)return Promise.reject();let n;return Kn(t)||ia(t)?t={message:t}:n=t.callback,new Promise((r,i)=>{const s=YPe(t,e??Vy._context);Zb.set(s,{options:t,callback:n,resolve:r,reject:i})})}const KPe=["alert","confirm","prompt"],ZPe={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};KPe.forEach(t=>{Vy[t]=QPe(t)});function QPe(t){return(e,n,r,i)=>{let s="";return fr(n)?(r=n,s=""):Ni(n)?s="":s=n,Vy(Object.assign({title:s,message:e,type:"",...ZPe[t]},r,{boxType:t}),i)}}Vy.close=()=>{Zb.forEach((t,e)=>{e.doClose()}),Zb.clear()};Vy._context=null;const Uh=Vy;Uh.install=t=>{Uh._context=t._context,t.config.globalProperties.$msgbox=Uh,t.config.globalProperties.$messageBox=Uh,t.config.globalProperties.$alert=Uh.alert,t.config.globalProperties.$confirm=Uh.confirm,t.config.globalProperties.$prompt=Uh.prompt};const di=Uh,mZ=["primary","success","info","warning","error"],JPe=On({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:$s},id:{type:String,default:""},message:{type:Dt([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:Dt(Function),default:()=>{}},onClose:{type:Dt(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...mZ,""],default:""},zIndex:Number,closeIcon:{type:$s,default:Rd}}),eke={destroy:()=>!0},tke=["id"],nke=["textContent"],rke={key:0},ike=["innerHTML"],ske=kt({name:"ElNotification",__name:"notification",props:JPe,emits:eke,setup(t,{expose:e}){const n=t,{ns:r,zIndex:i}=DE("notification"),{nextZIndex:s,currentZIndex:a}=i,o=ye(!1);let l;const u=he(()=>{const C=n.type;return C&&$v[n.type]?r.m(C):""}),d=he(()=>n.type&&$v[n.type]||n.icon),f=he(()=>n.position.endsWith("right")?"right":"left"),h=he(()=>n.position.startsWith("top")?"top":"bottom"),g=he(()=>{var C;return{[h.value]:`${n.offset}px`,zIndex:(C=n.zIndex)!=null?C:a.value}});function v(){n.duration>0&&({stop:l}=Lv(()=>{o.value&&_()},n.duration))}function p(){l==null||l()}function _(){o.value=!1}function S(C){switch(oa(C)){case Pn.delete:case Pn.backspace:p();break;case Pn.esc:o.value&&_();break;default:v();break}}return zr(()=>{v(),s(),o.value=!0}),Hi(document,"keydown",S),e({visible:o,close:_}),(C,T)=>(ge(),Tt($l,{name:b(r).b("fade"),onBeforeLeave:C.onClose,onAfterLeave:T[1]||(T[1]=A=>C.$emit("destroy")),persisted:""},{default:ie(()=>[Dr(Ve("div",{id:C.id,class:Ce([b(r).b(),C.customClass,f.value]),style:dr(g.value),role:"alert",onMouseenter:p,onMouseleave:v,onClick:T[0]||(T[0]=(...A)=>C.onClick&&C.onClick(...A))},[d.value?(ge(),Tt(b(Bn),{key:0,class:Ce([b(r).e("icon"),u.value])},{default:ie(()=>[(ge(),Tt(ti(d.value)))]),_:1},8,["class"])):gt("v-if",!0),Ve("div",{class:Ce(b(r).e("group"))},[Ve("h2",{class:Ce(b(r).e("title")),textContent:yn(C.title)},null,10,nke),Dr(Ve("div",{class:Ce(b(r).e("content")),style:dr(C.title?void 0:{margin:0})},[Ot(C.$slots,"default",{},()=>[C.dangerouslyUseHTMLString?(ge(),Fe(Tn,{key:1},[gt(" Caution here, message could've been compromised, never use user's input as message "),Ve("p",{innerHTML:C.message},null,8,ike)],2112)):(ge(),Fe("p",rke,yn(C.message),1))])],6),[[Ei,C.message]]),C.showClose?(ge(),Tt(b(Bn),{key:0,class:Ce(b(r).e("closeBtn")),onClick:Cr(_,["stop"])},{default:ie(()=>[(ge(),Tt(ti(C.closeIcon)))]),_:1},8,["class"])):gt("v-if",!0)],2)],46,tke),[[Ei,o.value]])]),_:3},8,["name","onBeforeLeave"]))}});var ake=Nn(ske,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const Wv={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},BT=16;let oke=1;const Cm=function(t={},e){if(!Vr)return{close:()=>{}};(Kn(t)||ia(t))&&(t={message:t});const n=t.position||"top-right";let r=t.offset||0;Wv[n].forEach(({vm:d})=>{var f;r+=(((f=d.el)==null?void 0:f.offsetHeight)||0)+BT}),r+=BT;const i=`notification_${oke++}`,s=t.onClose,a={...t,offset:r,id:i,onClose:()=>{lke(i,n,s)}};let o=document.body;Pl(t.appendTo)?o=t.appendTo:Kn(t.appendTo)&&(o=document.querySelector(t.appendTo)),Pl(o)||(o=document.body);const l=document.createElement("div"),u=V(ake,a,kn(a.message)?a.message:ia(a.message)?()=>a.message:null);return u.appContext=Ni(e)?Cm._context:e,u.props.onDestroy=()=>{Cp(null,l)},Cp(u,l),Wv[n].push({vm:u}),o.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};mZ.forEach(t=>{Cm[t]=(e={},n)=>((Kn(e)||ia(e))&&(e={message:e}),Cm({...e,type:t},n))});function lke(t,e,n){const r=Wv[e],i=r.findIndex(({vm:u})=>{var d;return((d=u.component)==null?void 0:d.props.id)===t});if(i===-1)return;const{vm:s}=r[i];if(!s)return;n==null||n(s);const a=s.el.offsetHeight,o=e.split("-")[0];r.splice(i,1);const l=r.length;if(!(l<1))for(let u=i;u<l;u++){const{el:d,component:f}=r[u].vm,h=Number.parseInt(d.style[o],10)-a-BT;f.props.offset=h}}function uke(){for(const t of Object.values(Wv))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}function cke(t="top-right"){var e,n,r,i;let s=((r=(n=(e=Wv[t][0])==null?void 0:e.vm.component)==null?void 0:n.props)==null?void 0:r.offset)||0;for(const{vm:a}of Wv[t])a.component.props.offset=s,s+=(((i=a.el)==null?void 0:i.offsetHeight)||0)+BT}Cm.closeAll=uke;Cm.updateOffsets=cke;Cm._context=null;const Qb=HX(Cm,"$notify");const ke=lr({registerToken:"",access_token:"",refresh_token:"",id_token:"",expires_in:0,grant_type:"",client_id:"",client_secret:"",username:"",nickname:"",code_verifier:"",code_challenge:"",permission:"",email_verified:!1,sub:"",redirect_uri:"",qrcodeUrl:"",accessKey:"",accessSecret:"",endpoint:"",region:"",platform:"default",bucket:"",avatarUrl:"",peerId:"",connectId:"",update(t,e){this.access_token=t,this.expires_in=e}}),an=lr({apiUrl:"https://api.elpsykongroo.com",statusUrl:"https://status.elpsykongroo.com",authUrl:"https://auth.elpsykongroo.com",storageUrl:"https://storage.elpsykongroo.com",redirectUrl:"https://elpsykongroo.com",apiKey:{}.VITE_OPENAI_API_KEY,oauth2ProxyPkceUrl:"https://pkce.elpsykongroo.com",oauth2ProxyUrl:"https://oauth2-proxy.elpsykongroo.com",pwaMode:"production",messageUrl:"https://message.elpsykongroo.com",publicKey:"BFI_ya8v4eq4RBZnPuUUQCa1jjjLyVfWeyQsHvuPVpSyLvhTC5Ott14xe27CKWbysgCd3u7LLzpsSrGZIbwhVAY",clientId:{}.VITE_CLIENT_ID,clientSecret:{}.VITE_CLIENT_SECRET,githubUrl:"https://github.com/Labman4/elpsykongroo.com",healthCheckDuration:"600",vaultUrl:"https://vault-cloud.elpsykongroo.com:8200",vaultUser:"wol",vaultPublicUser:"test",vaultPass:"helloworld",wakeMac:"A8:A1:59:6C:D7:97",peerUrl:{}.VITE_PEER_URL,peerServerUrl:{}.VITE_PEER_SERVER_URL});function gZ(t,e){return function(){return t.apply(e,arguments)}}const{toString:dke}=Object.prototype,{getPrototypeOf:x8}=Object,{iterator:BE,toStringTag:vZ}=Symbol,UE=(t=>e=>{const n=dke.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$c=t=>(t=t.toLowerCase(),e=>UE(e)===t),VE=t=>e=>typeof e===t,{isArray:zy}=Array,qv=VE("undefined");function lx(t){return t!==null&&!qv(t)&&t.constructor!==null&&!qv(t.constructor)&&Ol(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const yZ=$c("ArrayBuffer");function fke(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&yZ(t.buffer),e}const hke=VE("string"),Ol=VE("function"),_Z=VE("number"),ux=t=>t!==null&&typeof t=="object",pke=t=>t===!0||t===!1,NS=t=>{if(UE(t)!=="object")return!1;const e=x8(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(vZ in t)&&!(BE in t)},mke=t=>{if(!ux(t)||lx(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},gke=$c("Date"),vke=$c("File"),yke=$c("Blob"),_ke=$c("FileList"),bke=t=>ux(t)&&Ol(t.pipe),xke=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ol(t.append)&&((e=UE(t))==="formdata"||e==="object"&&Ol(t.toString)&&t.toString()==="[object FormData]"))},wke=$c("URLSearchParams"),[Ske,Tke,Cke,Eke]=["ReadableStream","Request","Response","Headers"].map($c),Ake=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cx(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),zy(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(lx(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(r=0;r<a;r++)o=s[r],e.call(null,t[o],o,t)}}function bZ(t,e){if(lx(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Z0=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),xZ=t=>!qv(t)&&t!==Z0;function FD(){const{caseless:t,skipUndefined:e}=xZ(this)&&this||{},n={},r=(i,s)=>{const a=t&&bZ(n,s)||s;NS(n[a])&&NS(i)?n[a]=FD(n[a],i):NS(i)?n[a]=FD({},i):zy(i)?n[a]=i.slice():(!e||!qv(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&cx(arguments[i],r);return n}const Pke=(t,e,n,{allOwnKeys:r}={})=>(cx(e,(i,s)=>{n&&Ol(i)?t[s]=gZ(i,n):t[s]=i},{allOwnKeys:r}),t),kke=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Dke=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ike=(t,e,n,r)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&x8(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Rke=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Oke=t=>{if(!t)return null;if(zy(t))return t;let e=t.length;if(!_Z(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Mke=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&x8(Uint8Array)),Lke=(t,e)=>{const r=(t&&t[BE]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},$ke=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Nke=$c("HTMLFormElement"),Fke=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),QB=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Bke=$c("RegExp"),wZ=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};cx(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},Uke=t=>{wZ(t,(e,n)=>{if(Ol(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ol(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Vke=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return zy(t)?r(t):r(String(t).split(e)),n},zke=()=>{},Hke=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function jke(t){return!!(t&&Ol(t.append)&&t[vZ]==="FormData"&&t[BE])}const Gke=t=>{const e=new Array(10),n=(r,i)=>{if(ux(r)){if(e.indexOf(r)>=0)return;if(lx(r))return r;if(!("toJSON"in r)){e[i]=r;const s=zy(r)?[]:{};return cx(r,(a,o)=>{const l=n(a,i+1);!qv(l)&&(s[o]=l)}),e[i]=void 0,s}}return r};return n(t,0)},Wke=$c("AsyncFunction"),qke=t=>t&&(ux(t)||Ol(t))&&Ol(t.then)&&Ol(t.catch),SZ=((t,e)=>t?setImmediate:e?((n,r)=>(Z0.addEventListener("message",({source:i,data:s})=>{i===Z0&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Z0.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ol(Z0.postMessage)),Xke=typeof queueMicrotask<"u"?queueMicrotask.bind(Z0):typeof process<"u"&&process.nextTick||SZ,Yke=t=>t!=null&&Ol(t[BE]),Wt={isArray:zy,isArrayBuffer:yZ,isBuffer:lx,isFormData:xke,isArrayBufferView:fke,isString:hke,isNumber:_Z,isBoolean:pke,isObject:ux,isPlainObject:NS,isEmptyObject:mke,isReadableStream:Ske,isRequest:Tke,isResponse:Cke,isHeaders:Eke,isUndefined:qv,isDate:gke,isFile:vke,isBlob:yke,isRegExp:Bke,isFunction:Ol,isStream:bke,isURLSearchParams:wke,isTypedArray:Mke,isFileList:_ke,forEach:cx,merge:FD,extend:Pke,trim:Ake,stripBOM:kke,inherits:Dke,toFlatObject:Ike,kindOf:UE,kindOfTest:$c,endsWith:Rke,toArray:Oke,forEachEntry:Lke,matchAll:$ke,isHTMLForm:Nke,hasOwnProperty:QB,hasOwnProp:QB,reduceDescriptors:wZ,freezeMethods:Uke,toObjectSet:Vke,toCamelCase:Fke,noop:zke,toFiniteNumber:Hke,findKey:bZ,global:Z0,isContextDefined:xZ,isSpecCompliantForm:jke,toJSONObject:Gke,isAsyncFn:Wke,isThenable:qke,setImmediate:SZ,asap:Xke,isIterable:Yke};function Xr(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Wt.inherits(Xr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Wt.toJSONObject(this.config),code:this.code,status:this.status}}});const TZ=Xr.prototype,CZ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{CZ[t]={value:t}});Object.defineProperties(Xr,CZ);Object.defineProperty(TZ,"isAxiosError",{value:!0});Xr.from=(t,e,n,r,i,s)=>{const a=Object.create(TZ);Wt.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Xr.call(a,o,l,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const Kke=null;function BD(t){return Wt.isPlainObject(t)||Wt.isArray(t)}function EZ(t){return Wt.endsWith(t,"[]")?t.slice(0,-2):t}function JB(t,e,n){return t?t.concat(e).map(function(i,s){return i=EZ(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function Zke(t){return Wt.isArray(t)&&!t.some(BD)}const Qke=Wt.toFlatObject(Wt,{},null,function(e){return/^is[A-Z]/.test(e)});function zE(t,e,n){if(!Wt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Wt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,_){return!Wt.isUndefined(_[p])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Wt.isSpecCompliantForm(e);if(!Wt.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(Wt.isDate(v))return v.toISOString();if(Wt.isBoolean(v))return v.toString();if(!l&&Wt.isBlob(v))throw new Xr("Blob is not supported. Use a Buffer instead.");return Wt.isArrayBuffer(v)||Wt.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,p,_){let S=v;if(v&&!_&&typeof v=="object"){if(Wt.endsWith(p,"{}"))p=r?p:p.slice(0,-2),v=JSON.stringify(v);else if(Wt.isArray(v)&&Zke(v)||(Wt.isFileList(v)||Wt.endsWith(p,"[]"))&&(S=Wt.toArray(v)))return p=EZ(p),S.forEach(function(T,A){!(Wt.isUndefined(T)||T===null)&&e.append(a===!0?JB([p],A,s):a===null?p:p+"[]",u(T))}),!1}return BD(v)?!0:(e.append(JB(_,p,s),u(v)),!1)}const f=[],h=Object.assign(Qke,{defaultVisitor:d,convertValue:u,isVisitable:BD});function g(v,p){if(!Wt.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(v),Wt.forEach(v,function(S,C){(!(Wt.isUndefined(S)||S===null)&&i.call(e,S,Wt.isString(C)?C.trim():C,p,h))===!0&&g(S,p?p.concat(C):[C])}),f.pop()}}if(!Wt.isObject(t))throw new TypeError("data must be an object");return g(t),e}function eU(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function w8(t,e){this._pairs=[],t&&zE(t,this,e)}const AZ=w8.prototype;AZ.append=function(e,n){this._pairs.push([e,n])};AZ.toString=function(e){const n=e?function(r){return e.call(this,r,eU)}:eU;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Jke(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function PZ(t,e,n){if(!e)return t;const r=n&&n.encode||Jke;Wt.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Wt.isURLSearchParams(e)?e.toString():new w8(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class eDe{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Wt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const tU=eDe,kZ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tDe=typeof URLSearchParams<"u"?URLSearchParams:w8,nDe=typeof FormData<"u"?FormData:null,rDe=typeof Blob<"u"?Blob:null,iDe={isBrowser:!0,classes:{URLSearchParams:tDe,FormData:nDe,Blob:rDe},protocols:["http","https","file","blob","url","data"]},S8=typeof window<"u"&&typeof document<"u",UD=typeof navigator=="object"&&navigator||void 0,sDe=S8&&(!UD||["ReactNative","NativeScript","NS"].indexOf(UD.product)<0),aDe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),oDe=S8&&window.location.href||"http://localhost",lDe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:S8,hasStandardBrowserEnv:sDe,hasStandardBrowserWebWorkerEnv:aDe,navigator:UD,origin:oDe},Symbol.toStringTag,{value:"Module"})),Po={...lDe,...iDe};function uDe(t,e){return zE(t,new Po.classes.URLSearchParams,{visitor:function(n,r,i,s){return Po.isNode&&Wt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function cDe(t){return Wt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function dDe(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function DZ(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&Wt.isArray(i)?i.length:a,l?(Wt.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!Wt.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&Wt.isArray(i[a])&&(i[a]=dDe(i[a])),!o)}if(Wt.isFormData(t)&&Wt.isFunction(t.entries)){const n={};return Wt.forEachEntry(t,(r,i)=>{e(cDe(r),i,n,0)}),n}return null}function fDe(t,e,n){if(Wt.isString(t))try{return(e||JSON.parse)(t),Wt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const T8={transitional:kZ,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Wt.isObject(e);if(s&&Wt.isHTMLForm(e)&&(e=new FormData(e)),Wt.isFormData(e))return i?JSON.stringify(DZ(e)):e;if(Wt.isArrayBuffer(e)||Wt.isBuffer(e)||Wt.isStream(e)||Wt.isFile(e)||Wt.isBlob(e)||Wt.isReadableStream(e))return e;if(Wt.isArrayBufferView(e))return e.buffer;if(Wt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return uDe(e,this.formSerializer).toString();if((o=Wt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return zE(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),fDe(e)):e}],transformResponse:[function(e){const n=this.transitional||T8.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Wt.isResponse(e)||Wt.isReadableStream(e))return e;if(e&&Wt.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Xr.from(o,Xr.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Po.classes.FormData,Blob:Po.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Wt.forEach(["delete","get","head","post","put","patch"],t=>{T8.headers[t]={}});const C8=T8,hDe=Wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pDe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&hDe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},nU=Symbol("internals");function R_(t){return t&&String(t).trim().toLowerCase()}function BS(t){return t===!1||t==null?t:Wt.isArray(t)?t.map(BS):String(t)}function mDe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const gDe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function K3(t,e,n,r,i){if(Wt.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Wt.isString(e)){if(Wt.isString(r))return e.indexOf(r)!==-1;if(Wt.isRegExp(r))return r.test(e)}}function vDe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function yDe(t,e){const n=Wt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}class HE{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(o,l,u){const d=R_(l);if(!d)throw new Error("header name must be a non-empty string");const f=Wt.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=BS(o))}const a=(o,l)=>Wt.forEach(o,(u,d)=>s(u,d,l));if(Wt.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Wt.isString(e)&&(e=e.trim())&&!gDe(e))a(pDe(e),n);else if(Wt.isObject(e)&&Wt.isIterable(e)){let o={},l,u;for(const d of e){if(!Wt.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?Wt.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=R_(e),e){const r=Wt.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return mDe(i);if(Wt.isFunction(n))return n.call(this,i,r);if(Wt.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=R_(e),e){const r=Wt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||K3(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=R_(a),a){const o=Wt.findKey(r,a);o&&(!n||K3(r,r[o],o,n))&&(delete r[o],i=!0)}}return Wt.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||K3(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Wt.forEach(this,(i,s)=>{const a=Wt.findKey(r,s);if(a){n[a]=BS(i),delete n[s];return}const o=e?vDe(s):String(s).trim();o!==s&&delete n[s],n[o]=BS(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Wt.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Wt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[nU]=this[nU]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=R_(a);r[o]||(yDe(i,a),r[o]=!0)}return Wt.isArray(e)?e.forEach(s):s(e),this}}HE.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Wt.reduceDescriptors(HE.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Wt.freezeMethods(HE);const mc=HE;function Z3(t,e){const n=this||C8,r=e||n,i=mc.from(r.headers);let s=r.data;return Wt.forEach(t,function(o){s=o.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function IZ(t){return!!(t&&t.__CANCEL__)}function Hy(t,e,n){Xr.call(this,t??"canceled",Xr.ERR_CANCELED,e,n),this.name="CanceledError"}Wt.inherits(Hy,Xr,{__CANCEL__:!0});function RZ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Xr("Request failed with status code "+n.status,[Xr.ERR_BAD_REQUEST,Xr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function _De(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function bDe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];a||(a=u),n[i]=l,r[i]=u;let f=s,h=0;for(;f!==i;)h+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const g=d&&u-d;return g?Math.round(h*1e3/g):void 0}}function xDe(t,e){let n=0,r=1e3/e,i,s;const a=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?a(u,d):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},r-f)))},()=>i&&a(i)]}const UT=(t,e,n=3)=>{let r=0;const i=bDe(50,250);return xDe(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,u=i(l),d=a<=o;r=a;const f={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},n)},rU=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},iU=t=>(...e)=>Wt.asap(()=>t(...e)),wDe=Po.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Po.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Po.origin),Po.navigator&&/(msie|trident)/i.test(Po.navigator.userAgent)):()=>!0,SDe=Po.hasStandardBrowserEnv?{write(t,e,n,r,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];Wt.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),Wt.isString(r)&&o.push(`path=${r}`),Wt.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),Wt.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function TDe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function CDe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function OZ(t,e,n){let r=!TDe(e);return t&&(r||n==!1)?CDe(t,e):e}const sU=t=>t instanceof mc?{...t}:t;function Em(t,e){e=e||{};const n={};function r(u,d,f,h){return Wt.isPlainObject(u)&&Wt.isPlainObject(d)?Wt.merge.call({caseless:h},u,d):Wt.isPlainObject(d)?Wt.merge({},d):Wt.isArray(d)?d.slice():d}function i(u,d,f,h){if(Wt.isUndefined(d)){if(!Wt.isUndefined(u))return r(void 0,u,f,h)}else return r(u,d,f,h)}function s(u,d){if(!Wt.isUndefined(d))return r(void 0,d)}function a(u,d){if(Wt.isUndefined(d)){if(!Wt.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function o(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,f)=>i(sU(u),sU(d),f,!0)};return Wt.forEach(Object.keys({...t,...e}),function(d){const f=l[d]||i,h=f(t[d],e[d],d);Wt.isUndefined(h)&&f!==o||(n[d]=h)}),n}const MZ=t=>{const e=Em({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=mc.from(a),e.url=PZ(OZ(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Wt.isFormData(n)){if(Po.hasStandardBrowserEnv||Po.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Wt.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,f])=>{u.includes(d.toLowerCase())&&a.set(d,f)})}}if(Po.hasStandardBrowserEnv&&(r&&Wt.isFunction(r)&&(r=r(e)),r||r!==!1&&wDe(e.url))){const l=i&&s&&SDe.read(s);l&&a.set(i,l)}return e},EDe=typeof XMLHttpRequest<"u",ADe=EDe&&function(t){return new Promise(function(n,r){const i=MZ(t);let s=i.data;const a=mc.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,d,f,h,g,v;function p(){g&&g(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function S(){if(!_)return;const T=mc.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),P={data:!o||o==="text"||o==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:T,config:t,request:_};RZ(function(R){n(R),p()},function(R){r(R),p()},P),_=null}"onloadend"in _?_.onloadend=S:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(S)},_.onabort=function(){_&&(r(new Xr("Request aborted",Xr.ECONNABORTED,t,_)),_=null)},_.onerror=function(A){const P=A&&A.message?A.message:"Network Error",D=new Xr(P,Xr.ERR_NETWORK,t,_);D.event=A||null,r(D),_=null},_.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||kZ;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new Xr(A,P.clarifyTimeoutError?Xr.ETIMEDOUT:Xr.ECONNABORTED,t,_)),_=null},s===void 0&&a.setContentType(null),"setRequestHeader"in _&&Wt.forEach(a.toJSON(),function(A,P){_.setRequestHeader(P,A)}),Wt.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),o&&o!=="json"&&(_.responseType=i.responseType),u&&([h,v]=UT(u,!0),_.addEventListener("progress",h)),l&&_.upload&&([f,g]=UT(l),_.upload.addEventListener("progress",f),_.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=T=>{_&&(r(!T||T.type?new Hy(null,t,_):T),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const C=_De(i.url);if(C&&Po.protocols.indexOf(C)===-1){r(new Xr("Unsupported protocol "+C+":",Xr.ERR_BAD_REQUEST,t));return}_.send(s||null)})},PDe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,o();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Xr?d:new Hy(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Xr(`timeout ${e} of ms exceeded`,Xr.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Wt.asap(o),l}},kDe=PDe,DDe=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},IDe=async function*(t,e){for await(const n of RDe(t))yield*DDe(n,e)},RDe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},aU=(t,e,n,r)=>{const i=IDe(t,e);let s=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){o(),l.close();return}let f=d.byteLength;if(n){let h=s+=f;n(h)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},oU=64*1024,{isFunction:cw}=Wt,ODe=(({Request:t,Response:e})=>({Request:t,Response:e}))(Wt.global),{ReadableStream:lU,TextEncoder:uU}=Wt.global,cU=(t,...e)=>{try{return!!t(...e)}catch{return!1}},MDe=t=>{t=Wt.merge.call({skipUndefined:!0},ODe,t);const{fetch:e,Request:n,Response:r}=t,i=e?cw(e):typeof fetch=="function",s=cw(n),a=cw(r);if(!i)return!1;const o=i&&cw(lU),l=i&&(typeof uU=="function"?(v=>p=>v.encode(p))(new uU):async v=>new Uint8Array(await new n(v).arrayBuffer())),u=s&&o&&cU(()=>{let v=!1;const p=new n(Po.origin,{body:new lU,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!p}),d=a&&o&&cU(()=>Wt.isReadableStream(new r("").body)),f={stream:d&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(p,_)=>{let S=p&&p[v];if(S)return S.call(p);throw new Xr(`Response type '${v}' is not supported`,Xr.ERR_NOT_SUPPORT,_)})});const h=async v=>{if(v==null)return 0;if(Wt.isBlob(v))return v.size;if(Wt.isSpecCompliantForm(v))return(await new n(Po.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Wt.isArrayBufferView(v)||Wt.isArrayBuffer(v))return v.byteLength;if(Wt.isURLSearchParams(v)&&(v=v+""),Wt.isString(v))return(await l(v)).byteLength},g=async(v,p)=>{const _=Wt.toFiniteNumber(v.getContentLength());return _??h(p)};return async v=>{let{url:p,method:_,data:S,signal:C,cancelToken:T,timeout:A,onDownloadProgress:P,onUploadProgress:D,responseType:R,headers:N,withCredentials:U="same-origin",fetchOptions:Y}=MZ(v),H=e||fetch;R=R?(R+"").toLowerCase():"text";let j=kDe([C,T&&T.toAbortSignal()],A),X=null;const W=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let F;try{if(D&&u&&_!=="get"&&_!=="head"&&(F=await g(N,S))!==0){let ue=new n(p,{method:"POST",body:S,duplex:"half"}),me;if(Wt.isFormData(S)&&(me=ue.headers.get("content-type"))&&N.setContentType(me),ue.body){const[Ee,Oe]=rU(F,UT(iU(D)));S=aU(ue.body,oU,Ee,Oe)}}Wt.isString(U)||(U=U?"include":"omit");const te=s&&"credentials"in n.prototype,G={...Y,signal:j,method:_.toUpperCase(),headers:N.normalize().toJSON(),body:S,duplex:"half",credentials:te?U:void 0};X=s&&new n(p,G);let K=await(s?H(X,Y):H(p,G));const ee=d&&(R==="stream"||R==="response");if(d&&(P||ee&&W)){const ue={};["status","statusText","headers"].forEach(Ge=>{ue[Ge]=K[Ge]});const me=Wt.toFiniteNumber(K.headers.get("content-length")),[Ee,Oe]=P&&rU(me,UT(iU(P),!0))||[];K=new r(aU(K.body,oU,Ee,()=>{Oe&&Oe(),W&&W()}),ue)}R=R||"text";let de=await f[Wt.findKey(f,R)||"text"](K,v);return!ee&&W&&W(),await new Promise((ue,me)=>{RZ(ue,me,{data:de,headers:mc.from(K.headers),status:K.status,statusText:K.statusText,config:v,request:X})})}catch(te){throw W&&W(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new Xr("Network Error",Xr.ERR_NETWORK,v,X),{cause:te.cause||te}):Xr.from(te,te&&te.code,v,X)}}},LDe=new Map,LZ=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let a=s.length,o=a,l,u,d=LDe;for(;o--;)l=s[o],u=d.get(l),u===void 0&&d.set(l,u=o?new Map:MDe(e)),d=u;return u};LZ();const E8={http:Kke,xhr:ADe,fetch:{get:LZ}};Wt.forEach(E8,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const dU=t=>`- ${t}`,$De=t=>Wt.isFunction(t)||t===null||t===!1;function NDe(t,e){t=Wt.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let a=0;a<n;a++){r=t[a];let o;if(i=r,!$De(r)&&(i=E8[(o=String(r)).toLowerCase()],i===void 0))throw new Xr(`Unknown adapter '${o}'`);if(i&&(Wt.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(dU).join(`
`):" "+dU(a[0]):"as no adapter specified";throw new Xr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const $Z={getAdapter:NDe,adapters:E8};function Q3(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hy(null,t)}function fU(t){return Q3(t),t.headers=mc.from(t.headers),t.data=Z3.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$Z.getAdapter(t.adapter||C8.adapter,t)(t).then(function(r){return Q3(t),r.data=Z3.call(t,t.transformResponse,r),r.headers=mc.from(r.headers),r},function(r){return IZ(r)||(Q3(t),r&&r.response&&(r.response.data=Z3.call(t,t.transformResponse,r.response),r.response.headers=mc.from(r.response.headers))),Promise.reject(r)})}const NZ="1.13.2",jE={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{jE[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const hU={};jE.transitional=function(e,n,r){function i(s,a){return"[Axios v"+NZ+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(e===!1)throw new Xr(i(a," has been removed"+(n?" in "+n:"")),Xr.ERR_DEPRECATED);return n&&!hU[a]&&(hU[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};jE.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function FDe(t,e,n){if(typeof t!="object")throw new Xr("options must be an object",Xr.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Xr("option "+s+" must be "+l,Xr.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Xr("Unknown option "+s,Xr.ERR_BAD_OPTION)}}const US={assertOptions:FDe,validators:jE},Kc=US.validators;class VT{constructor(e){this.defaults=e||{},this.interceptors={request:new tU,response:new tU}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Em(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&US.assertOptions(r,{silentJSONParsing:Kc.transitional(Kc.boolean),forcedJSONParsing:Kc.transitional(Kc.boolean),clarifyTimeoutError:Kc.transitional(Kc.boolean)},!1),i!=null&&(Wt.isFunction(i)?n.paramsSerializer={serialize:i}:US.assertOptions(i,{encode:Kc.function,serialize:Kc.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),US.assertOptions(n,{baseUrl:Kc.spelling("baseURL"),withXsrfToken:Kc.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&Wt.merge(s.common,s[n.method]);s&&Wt.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=mc.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,o.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,h;if(!l){const v=[fU.bind(this),void 0];for(v.unshift(...o),v.push(...u),h=v.length,d=Promise.resolve(n);f<h;)d=d.then(v[f++],v[f++]);return d}h=o.length;let g=n;for(;f<h;){const v=o[f++],p=o[f++];try{g=v(g)}catch(_){p.call(this,_);break}}try{d=fU.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Em(this.defaults,e);const n=OZ(e.baseURL,e.url,e.allowAbsoluteUrls);return PZ(n,e.params,e.paramsSerializer)}}Wt.forEach(["delete","get","head","options"],function(e){VT.prototype[e]=function(n,r){return this.request(Em(r||{},{method:e,url:n,data:(r||{}).data}))}});Wt.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,o){return this.request(Em(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}VT.prototype[e]=n(),VT.prototype[e+"Form"]=n(!0)});const VS=VT;class A8{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,o){r.reason||(r.reason=new Hy(s,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new A8(function(i){e=i}),cancel:e}}}const BDe=A8;function UDe(t){return function(n){return t.apply(null,n)}}function VDe(t){return Wt.isObject(t)&&t.isAxiosError===!0}const VD={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(VD).forEach(([t,e])=>{VD[e]=t});const zDe=VD;function FZ(t){const e=new VS(t),n=gZ(VS.prototype.request,e);return Wt.extend(n,VS.prototype,e,{allOwnKeys:!0}),Wt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return FZ(Em(t,i))},n}const ba=FZ(C8);ba.Axios=VS;ba.CanceledError=Hy;ba.CancelToken=BDe;ba.isCancel=IZ;ba.VERSION=NZ;ba.toFormData=zE;ba.AxiosError=Xr;ba.Cancel=ba.CanceledError;ba.all=function(e){return Promise.all(e)};ba.spread=UDe;ba.isAxiosError=VDe;ba.mergeConfig=Em;ba.AxiosHeaders=mc;ba.formToJSON=t=>DZ(Wt.isHTMLForm(t)?new FormData(t):t);ba.getAdapter=$Z.getAdapter;ba.HttpStatusCode=zDe;ba.default=ba;const vn=ba;const HDe=pye(),tp=rye(HDe);function zD(t){this.message=t}zD.prototype=new Error,zD.prototype.name="InvalidCharacterError";var pU=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new zD("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,s=0,a="";r=e.charAt(s++);~r&&(n=i%4?64*n+r:r,i++%4)?a+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};function jDe(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(pU(n).replace(/(.)/g,function(r,i){var s=i.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}(e)}catch{return pU(e)}}function zT(t){this.message=t}function HD(t,e){if(typeof t!="string")throw new zT("Invalid token specified");var n=(e=e||{}).header===!0?0:1;try{return JSON.parse(jDe(t.split(".")[n]))}catch(r){throw new zT("Invalid token specified: "+r.message)}}zT.prototype=new Error,zT.prototype.name="InvalidTokenError";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BZ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GDe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},UZ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|u>>6,g=u&63;l||(g=64,a||(h=64)),r.push(n[d],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BZ(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GDe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||f==null)throw new WDe;const h=s<<2|o>>4;if(r.push(h),u!==64){const g=o<<4&240|u>>2;if(r.push(g),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WDe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qDe=function(t){const e=BZ(t);return UZ.encodeByteArray(e,!0)},VZ=function(t){return qDe(t).replace(/\./g,"")},XDe=function(t){try{return UZ.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YDe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KDe=()=>YDe().__FIREBASE_DEFAULTS__,ZDe=()=>{if(typeof process>"u"||typeof{}>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QDe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XDe(t[1]);return e&&JSON.parse(e)},JDe=()=>{try{return KDe()||ZDe()||QDe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zZ=()=>{var t;return(t=JDe())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eIe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function HZ(){try{return typeof indexedDB=="object"}catch{return!1}}function jZ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function tIe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nIe="FirebaseError";class jy extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nIe,Object.setPrototypeOf(this,jy.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,GE.prototype.create)}}class GE{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?rIe(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new jy(i,o,r)}}function rIe(t,e){return t.replace(iIe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iIe=/\{\$([^}]+)}/g;function jD(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(mU(s)&&mU(a)){if(!jD(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mU(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t){return t&&t._delegate?t._delegate:t}let Dp=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sIe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eIe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oIe(e))try{this.getOrInitializeService({instanceIdentifier:D0})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=D0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=D0){return this.instances.has(e)}getOptions(e=D0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aIe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=D0){return this.component?this.component.multipleInstances?e:D0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aIe(t){return t===D0?void 0:t}function oIe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lIe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sIe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vs;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(vs||(vs={}));const uIe={debug:vs.DEBUG,verbose:vs.VERBOSE,info:vs.INFO,warn:vs.WARN,error:vs.ERROR,silent:vs.SILENT},cIe=vs.INFO,dIe={[vs.DEBUG]:"log",[vs.VERBOSE]:"log",[vs.INFO]:"info",[vs.WARN]:"warn",[vs.ERROR]:"error"},fIe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dIe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hIe{constructor(e){this.name=e,this._logLevel=cIe,this._logHandler=fIe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vs))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uIe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vs.DEBUG,...e),this._logHandler(this,vs.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vs.VERBOSE,...e),this._logHandler(this,vs.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vs.INFO,...e),this._logHandler(this,vs.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vs.WARN,...e),this._logHandler(this,vs.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vs.ERROR,...e),this._logHandler(this,vs.ERROR,...e)}}const pIe=(t,e)=>e.some(n=>t instanceof n);let gU,vU;function mIe(){return gU||(gU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gIe(){return vU||(vU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GZ=new WeakMap,GD=new WeakMap,WZ=new WeakMap,J3=new WeakMap,k8=new WeakMap;function vIe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(If(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&GZ.set(n,t)}).catch(()=>{}),k8.set(e,t),e}function yIe(t){if(GD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});GD.set(t,e)}let WD={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return GD.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WZ.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return If(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _Ie(t){WD=t(WD)}function bIe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(e4(this),e,...n);return WZ.set(r,e.sort?e.sort():[e]),If(r)}:gIe().includes(t)?function(...e){return t.apply(e4(this),e),If(GZ.get(this))}:function(...e){return If(t.apply(e4(this),e))}}function xIe(t){return typeof t=="function"?bIe(t):(t instanceof IDBTransaction&&yIe(t),pIe(t,mIe())?new Proxy(t,WD):t)}function If(t){if(t instanceof IDBRequest)return vIe(t);if(J3.has(t))return J3.get(t);const e=xIe(t);return e!==t&&(J3.set(t,e),k8.set(e,t)),e}const e4=t=>k8.get(t);function WE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=If(a);return r&&a.addEventListener("upgradeneeded",l=>{r(If(a.result),l.oldVersion,l.newVersion,If(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}function t4(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),If(n).then(()=>{})}const wIe=["get","getKey","getAll","getAllKeys","count"],SIe=["put","add","delete","clear"],n4=new Map;function yU(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(n4.get(e))return n4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=SIe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wIe.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return n4.set(e,s),s}_Ie(t=>({...t,get:(e,n,r)=>yU(e,n)||t.get(e,n,r),has:(e,n)=>!!yU(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TIe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CIe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CIe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qD="@firebase/app",_U="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new hIe("@firebase/app"),EIe="@firebase/app-compat",AIe="@firebase/analytics-compat",PIe="@firebase/analytics",kIe="@firebase/app-check-compat",DIe="@firebase/app-check",IIe="@firebase/auth",RIe="@firebase/auth-compat",OIe="@firebase/database",MIe="@firebase/data-connect",LIe="@firebase/database-compat",$Ie="@firebase/functions",NIe="@firebase/functions-compat",FIe="@firebase/installations",BIe="@firebase/installations-compat",UIe="@firebase/messaging",VIe="@firebase/messaging-compat",zIe="@firebase/performance",HIe="@firebase/performance-compat",jIe="@firebase/remote-config",GIe="@firebase/remote-config-compat",WIe="@firebase/storage",qIe="@firebase/storage-compat",XIe="@firebase/firestore",YIe="@firebase/vertexai-preview",KIe="@firebase/firestore-compat",ZIe="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="[DEFAULT]",QIe={[qD]:"fire-core",[EIe]:"fire-core-compat",[PIe]:"fire-analytics",[AIe]:"fire-analytics-compat",[DIe]:"fire-app-check",[kIe]:"fire-app-check-compat",[IIe]:"fire-auth",[RIe]:"fire-auth-compat",[OIe]:"fire-rtdb",[MIe]:"fire-data-connect",[LIe]:"fire-rtdb-compat",[$Ie]:"fire-fn",[NIe]:"fire-fn-compat",[FIe]:"fire-iid",[BIe]:"fire-iid-compat",[UIe]:"fire-fcm",[VIe]:"fire-fcm-compat",[zIe]:"fire-perf",[HIe]:"fire-perf-compat",[jIe]:"fire-rc",[GIe]:"fire-rc-compat",[WIe]:"fire-gcs",[qIe]:"fire-gcs-compat",[XIe]:"fire-fst",[KIe]:"fire-fst-compat",[YIe]:"fire-vertex","fire-js":"fire-js",[ZIe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map,JIe=new Map,YD=new Map;function bU(t,e){try{t.container.addComponent(e)}catch(n){Uf.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Am(t){const e=t.name;if(YD.has(e))return Uf.debug(`There were multiple attempts to register component ${e}.`),!1;YD.set(e,t);for(const n of HT.values())bU(n,t);for(const n of JIe.values())bU(n,t);return!0}function D8(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eRe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pp=new GE("app","Firebase",eRe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tRe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pp.create("app-deleted",{appName:this._name})}}function qZ(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:XD,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pp.create("bad-app-name",{appName:String(i)});if(n||(n=zZ()),!n)throw pp.create("no-options");const s=HT.get(i);if(s){if(jD(n,s.options)&&jD(r,s.config))return s;throw pp.create("duplicate-app",{appName:i})}const a=new lIe(i);for(const l of YD.values())a.addComponent(l);const o=new tRe(n,r,a);return HT.set(i,o),o}function nRe(t=XD){const e=HT.get(t);if(!e&&t===XD&&zZ())return qZ();if(!e)throw pp.create("no-app",{appName:t});return e}function mp(t,e,n){var r;let i=(r=QIe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Uf.warn(o.join(" "));return}Am(new Dp(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rRe="firebase-heartbeat-database",iRe=1,Jb="firebase-heartbeat-store";let r4=null;function XZ(){return r4||(r4=WE(rRe,iRe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jb)}catch(n){console.warn(n)}}}}).catch(t=>{throw pp.create("idb-open",{originalErrorMessage:t.message})})),r4}async function sRe(t){try{const n=(await XZ()).transaction(Jb),r=await n.objectStore(Jb).get(YZ(t));return await n.done,r}catch(e){if(e instanceof jy)Uf.warn(e.message);else{const n=pp.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Uf.warn(n.message)}}}async function xU(t,e){try{const r=(await XZ()).transaction(Jb,"readwrite");await r.objectStore(Jb).put(e,YZ(t)),await r.done}catch(n){if(n instanceof jy)Uf.warn(n.message);else{const r=pp.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Uf.warn(r.message)}}}function YZ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aRe=1024,oRe=30*24*60*60*1e3;class lRe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cRe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wU();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=oRe}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Uf.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wU(),{heartbeatsToSend:r,unsentEntries:i}=uRe(this._heartbeatsCache.heartbeats),s=VZ(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Uf.warn(n),""}}}function wU(){return new Date().toISOString().substring(0,10)}function uRe(t,e=aRe){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),SU(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SU(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cRe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HZ()?jZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sRe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function SU(t){return VZ(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dRe(t){Am(new Dp("platform-logger",e=>new TIe(e),"PRIVATE")),Am(new Dp("heartbeat",e=>new lRe(e),"PRIVATE")),mp(qD,_U,t),mp(qD,_U,"esm2017"),mp("fire-js","")}dRe("");var fRe="firebase",hRe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mp(fRe,hRe,"app");const KZ="@firebase/installations",I8="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ=1e4,QZ=`w:${I8}`,JZ="FIS_v2",pRe="https://firebaseinstallations.googleapis.com/v1",mRe=60*60*1e3,gRe="installations",vRe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yRe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pm=new GE(gRe,vRe,yRe);function eQ(t){return t instanceof jy&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tQ({projectId:t}){return`${pRe}/projects/${t}/installations`}function nQ(t){return{token:t.token,requestStatus:2,expiresIn:bRe(t.expiresIn),creationTime:Date.now()}}async function rQ(t,e){const r=(await e.json()).error;return Pm.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function iQ({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _Re(t,{refreshToken:e}){const n=iQ(t);return n.append("Authorization",xRe(e)),n}async function sQ(t){const e=await t();return e.status>=500&&e.status<600?t():e}function bRe(t){return Number(t.replace("s","000"))}function xRe(t){return`${JZ} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wRe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=tQ(t),i=iQ(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:JZ,appId:t.appId,sdkVersion:QZ},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await sQ(()=>fetch(r,o));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:nQ(u.authToken)}}else throw await rQ("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQ(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SRe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TRe=/^[cdef][\w-]{21}$/,KD="";function CRe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=ERe(t);return TRe.test(n)?n:KD}catch{return KD}}function ERe(t){return SRe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ=new Map;function lQ(t,e){const n=qE(t);uQ(n,e),ARe(n,e)}function uQ(t,e){const n=oQ.get(t);if(n)for(const r of n)r(e)}function ARe(t,e){const n=PRe();n&&n.postMessage({key:t,fid:e}),kRe()}let Q0=null;function PRe(){return!Q0&&"BroadcastChannel"in self&&(Q0=new BroadcastChannel("[Firebase] FID Change"),Q0.onmessage=t=>{uQ(t.data.key,t.data.fid)}),Q0}function kRe(){oQ.size===0&&Q0&&(Q0.close(),Q0=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DRe="firebase-installations-database",IRe=1,km="firebase-installations-store";let i4=null;function R8(){return i4||(i4=WE(DRe,IRe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(km)}}})),i4}async function jT(t,e){const n=qE(t),i=(await R8()).transaction(km,"readwrite"),s=i.objectStore(km),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&lQ(t,e.fid),e}async function cQ(t){const e=qE(t),r=(await R8()).transaction(km,"readwrite");await r.objectStore(km).delete(e),await r.done}async function XE(t,e){const n=qE(t),i=(await R8()).transaction(km,"readwrite"),s=i.objectStore(km),a=await s.get(n),o=e(a);return o===void 0?await s.delete(n):await s.put(o,n),await i.done,o&&(!a||a.fid!==o.fid)&&lQ(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(t){let e;const n=await XE(t.appConfig,r=>{const i=RRe(r),s=ORe(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===KD?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function RRe(t){const e=t||{fid:CRe(),registrationStatus:0};return dQ(e)}function ORe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Pm.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=MRe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:LRe(t)}:{installationEntry:e}}async function MRe(t,e){try{const n=await wRe(t,e);return jT(t.appConfig,n)}catch(n){throw eQ(n)&&n.customData.serverCode===409?await cQ(t.appConfig):await jT(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function LRe(t){let e=await TU(t.appConfig);for(;e.registrationStatus===1;)await aQ(100),e=await TU(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await O8(t);return r||n}return e}function TU(t){return XE(t,e=>{if(!e)throw Pm.create("installation-not-found");return dQ(e)})}function dQ(t){return $Re(t)?{fid:t.fid,registrationStatus:0}:t}function $Re(t){return t.registrationStatus===1&&t.registrationTime+ZZ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NRe({appConfig:t,heartbeatServiceProvider:e},n){const r=FRe(t,n),i=_Re(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:QZ,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await sQ(()=>fetch(r,o));if(l.ok){const u=await l.json();return nQ(u)}else throw await rQ("Generate Auth Token",l)}function FRe(t,{fid:e}){return`${tQ(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8(t,e=!1){let n;const r=await XE(t.appConfig,s=>{if(!fQ(s))throw Pm.create("not-registered");const a=s.authToken;if(!e&&VRe(a))return s;if(a.requestStatus===1)return n=BRe(t,e),s;{if(!navigator.onLine)throw Pm.create("app-offline");const o=HRe(s);return n=URe(t,o),o}});return n?await n:r.authToken}async function BRe(t,e){let n=await CU(t.appConfig);for(;n.authToken.requestStatus===1;)await aQ(100),n=await CU(t.appConfig);const r=n.authToken;return r.requestStatus===0?M8(t,e):r}function CU(t){return XE(t,e=>{if(!fQ(e))throw Pm.create("not-registered");const n=e.authToken;return jRe(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function URe(t,e){try{const n=await NRe(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await jT(t.appConfig,r),n}catch(n){if(eQ(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await cQ(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await jT(t.appConfig,r)}throw n}}function fQ(t){return t!==void 0&&t.registrationStatus===2}function VRe(t){return t.requestStatus===2&&!zRe(t)}function zRe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+mRe}function HRe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function jRe(t){return t.requestStatus===1&&t.requestTime+ZZ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GRe(t){const e=t,{installationEntry:n,registrationPromise:r}=await O8(e);return r?r.catch(console.error):M8(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WRe(t,e=!1){const n=t;return await qRe(n),(await M8(n,e)).token}async function qRe(t){const{registrationPromise:e}=await O8(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XRe(t){if(!t||!t.options)throw s4("App Configuration");if(!t.name)throw s4("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw s4(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function s4(t){return Pm.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hQ="installations",YRe="installations-internal",KRe=t=>{const e=t.getProvider("app").getImmediate(),n=XRe(e),r=D8(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},ZRe=t=>{const e=t.getProvider("app").getImmediate(),n=D8(e,hQ).getImmediate();return{getId:()=>GRe(n),getToken:i=>WRe(n,i)}};function QRe(){Am(new Dp(hQ,KRe,"PUBLIC")),Am(new Dp(YRe,ZRe,"PRIVATE"))}QRe();mp(KZ,I8);mp(KZ,I8,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JRe="/firebase-messaging-sw.js",eOe="/firebase-cloud-messaging-push-scope",pQ="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tOe="https://fcmregistrations.googleapis.com/v1",mQ="google.c.a.c_id",nOe="google.c.a.c_l",rOe="google.c.a.ts",iOe="google.c.a.e";var EU;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(EU||(EU={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var e1;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(e1||(e1={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sOe(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="fcm_token_details_db",aOe=5,AU="fcm_token_object_Store";async function oOe(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(a4))return null;let e=null;return(await WE(a4,aOe,{upgrade:async(r,i,s,a)=>{var o;if(i<2||!r.objectStoreNames.contains(AU))return;const l=a.objectStore(AU),u=await l.index("fcmSenderId").get(t);if(await l.clear(),!!u){if(i===2){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(o=d.createTime)!==null&&o!==void 0?o:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:pf(d.vapidKey)}}}else if(i===3){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:pf(d.auth),p256dh:pf(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:pf(d.vapidKey)}}}else if(i===4){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:pf(d.auth),p256dh:pf(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:pf(d.vapidKey)}}}}}})).close(),await t4(a4),await t4("fcm_vapid_details_db"),await t4("undefined"),lOe(e)?e:null}function lOe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uOe="firebase-messaging-database",cOe=1,t1="firebase-messaging-store";let o4=null;function gQ(){return o4||(o4=WE(uOe,cOe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(t1)}}})),o4}async function dOe(t){const e=vQ(t),r=await(await gQ()).transaction(t1).objectStore(t1).get(e);if(r)return r;{const i=await oOe(t.appConfig.senderId);if(i)return await L8(t,i),i}}async function L8(t,e){const n=vQ(t),i=(await gQ()).transaction(t1,"readwrite");return await i.objectStore(t1).put(e,n),await i.done,e}function vQ({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fOe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ro=new GE("messaging","Messaging",fOe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hOe(t,e){const n=await N8(t),r=yQ(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch($8(t.appConfig),i)).json()}catch(a){throw Ro.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Ro.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw Ro.create("token-subscribe-no-token");return s.token}async function pOe(t,e){const n=await N8(t),r=yQ(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${$8(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw Ro.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Ro.create("token-update-failed",{errorInfo:a})}if(!s.token)throw Ro.create("token-update-no-token");return s.token}async function mOe(t,e){const r={method:"DELETE",headers:await N8(t)};try{const s=await(await fetch(`${$8(t.appConfig)}/${e}`,r)).json();if(s.error){const a=s.error.message;throw Ro.create("token-unsubscribe-failed",{errorInfo:a})}}catch(i){throw Ro.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function $8({projectId:t}){return`${tOe}/projects/${t}/registrations`}async function N8({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function yQ({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==pQ&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gOe=7*24*60*60*1e3;async function vOe(t){const e=await _Oe(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:pf(e.getKey("auth")),p256dh:pf(e.getKey("p256dh"))},r=await dOe(t.firebaseDependencies);if(r){if(bOe(r.subscriptionOptions,n))return Date.now()>=r.createTime+gOe?yOe(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await mOe(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return PU(t.firebaseDependencies,n)}else return PU(t.firebaseDependencies,n)}async function yOe(t,e){try{const n=await pOe(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await L8(t.firebaseDependencies,r),n}catch(n){throw n}}async function PU(t,e){const r={token:await hOe(t,e),createTime:Date.now(),subscriptionOptions:e};return await L8(t,r),r.token}async function _Oe(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sOe(e)})}function bOe(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return xOe(e,t),wOe(e,t),SOe(e,t),e}function xOe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function wOe(t,e){e.data&&(t.data=e.data)}function SOe(t,e){var n,r,i,s,a;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const o=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;o&&(t.fcmOptions.link=o);const l=(a=e.fcmOptions)===null||a===void 0?void 0:a.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TOe(t){return typeof t=="object"&&!!t&&mQ in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */COe("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function COe(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EOe(t){if(!t||!t.options)throw l4("App Configuration Object");if(!t.name)throw l4("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw l4(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function l4(t){return Ro.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AOe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=EOe(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function POe(t){try{t.swRegistration=await navigator.serviceWorker.register(JRe,{scope:eOe}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ro.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kOe(t,e){if(!e&&!t.swRegistration&&await POe(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Ro.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DOe(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=pQ)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Q(t,e){if(!navigator)throw Ro.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ro.create("permission-blocked");return await DOe(t,e==null?void 0:e.vapidKey),await kOe(t,e==null?void 0:e.serviceWorkerRegistration),vOe(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IOe(t,e,n){const r=ROe(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[mQ],message_name:n[nOe],message_time:n[rOe],message_device_time:Math.floor(Date.now()/1e3)})}function ROe(t){switch(t){case e1.NOTIFICATION_CLICKED:return"notification_open";case e1.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OOe(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===e1.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(kU(n)):t.onMessageHandler.next(kU(n)));const r=n.data;TOe(r)&&r[iOe]==="1"&&await IOe(t,n.messageType,r)}const DU="@firebase/messaging",IU="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MOe=t=>{const e=new AOe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>OOe(e,n)),e},LOe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>_Q(e,r)}};function $Oe(){Am(new Dp("messaging",MOe,"PUBLIC")),Am(new Dp("messaging-internal",LOe,"PRIVATE")),mp(DU,IU),mp(DU,IU,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NOe(){try{await jZ()}catch{return!1}return typeof window<"u"&&HZ()&&tIe()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FOe(t,e){if(!navigator)throw Ro.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BOe(t=nRe()){return NOe().then(e=>{if(!e)throw Ro.create("unsupported-browser")},e=>{throw Ro.create("indexed-db-unsupported")}),D8(P8(t),"messaging").getImmediate()}async function UOe(t,e){return t=P8(t),_Q(t,e)}function VOe(t,e){return t=P8(t),FOe(t,e)}$Oe();const Et=lr({isDot:!1,webauthnFormVisible:!1,authFormVisible:!1,loading:!1,tmpLogin:!1,refreshlogin:!1,qrcode:!1,userInfoForm:!1,labelWidth:"100px",dialogWidth:"85%",width:window.innerWidth,userForm:!1,userTable:!1,noticeTable:!1,topicTable:!1,topicLoad:!0,noticeDrawer:!1,loadingText:"Logining",chatTable:!1,isDotMessage:!1,chatDrawer:!1});/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let bQ;const YE=t=>bQ=t,xQ=Symbol();function ZD(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Z2;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Z2||(Z2={}));function zOe(){const t=qO(!0),e=t.run(()=>ye({}));let n=[],r=[];const i=Sp({install(s){YE(i),i._a=s,s.provide(xQ,i),s.config.globalProperties.$pinia=i,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!Hve?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const wQ=()=>{};function RU(t,e,n,r=wQ){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&XO()&&YO(i),i}function vg(t,...e){t.slice().forEach(n=>{n(...e)})}const HOe=t=>t(),OU=Symbol(),u4=Symbol();function QD(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];ZD(i)&&ZD(r)&&t.hasOwnProperty(n)&&!tr(r)&&!kf(r)?t[n]=QD(i,r):t[n]=r}return t}const jOe=Symbol();function GOe(t){return!ZD(t)||!t.hasOwnProperty(jOe)}const{assign:Vh}=Object;function WOe(t){return!!(tr(t)&&t.effect)}function qOe(t,e,n,r){const{state:i,actions:s,getters:a}=e,o=n.state.value[t];let l;function u(){o||(n.state.value[t]=i?i():{});const d=cu(n.state.value[t]);return Vh(d,s,Object.keys(a||{}).reduce((f,h)=>(f[h]=Sp(he(()=>{YE(n);const g=n._s.get(t);return a[h].call(g,g)})),f),{}))}return l=SQ(t,u,e,n,r,!0),l}function SQ(t,e,n={},r,i,s){let a;const o=Vh({actions:{}},n),l={deep:!0};let u,d,f=[],h=[],g;const v=r.state.value[t];!s&&!v&&(r.state.value[t]={}),ye({});let p;function _(N){let U;u=d=!1,typeof N=="function"?(N(r.state.value[t]),U={type:Z2.patchFunction,storeId:t,events:g}):(QD(r.state.value[t],N),U={type:Z2.patchObject,payload:N,storeId:t,events:g});const Y=p=Symbol();Vn().then(()=>{p===Y&&(u=!0)}),d=!0,vg(f,U,r.state.value[t])}const S=s?function(){const{state:U}=n,Y=U?U():{};this.$patch(H=>{Vh(H,Y)})}:wQ;function C(){a.stop(),f=[],h=[],r._s.delete(t)}const T=(N,U="")=>{if(OU in N)return N[u4]=U,N;const Y=function(){YE(r);const H=Array.from(arguments),j=[],X=[];function W(G){j.push(G)}function F(G){X.push(G)}vg(h,{args:H,name:Y[u4],store:P,after:W,onError:F});let te;try{te=N.apply(this&&this.$id===t?this:P,H)}catch(G){throw vg(X,G),G}return te instanceof Promise?te.then(G=>(vg(j,G),G)).catch(G=>(vg(X,G),Promise.reject(G))):(vg(j,te),te)};return Y[OU]=!0,Y[u4]=U,Y},A={_p:r,$id:t,$onAction:RU.bind(null,h),$patch:_,$reset:S,$subscribe(N,U={}){const Y=RU(f,N,U.detached,()=>H()),H=a.run(()=>Zt(()=>r.state.value[t],j=>{(U.flush==="sync"?d:u)&&N({storeId:t,type:Z2.direct,events:g},j)},Vh({},l,U)));return Y},$dispose:C},P=lr(A);r._s.set(t,P);const R=(r._a&&r._a.runWithContext||HOe)(()=>r._e.run(()=>(a=qO()).run(()=>e({action:T}))));for(const N in R){const U=R[N];if(tr(U)&&!WOe(U)||kf(U))s||(v&&GOe(U)&&(tr(U)?U.value=v[N]:QD(U,v[N])),r.state.value[t][N]=U);else if(typeof U=="function"){const Y=T(U,N);R[N]=Y,o.actions[N]=U}}return Vh(P,R),Vh(Jr(P),R),Object.defineProperty(P,"$state",{get:()=>r.state.value[t],set:N=>{_(U=>{Vh(U,N)})}}),r._p.forEach(N=>{Vh(P,a.run(()=>N({store:P,app:r._a,pinia:r,options:o})))}),v&&s&&n.hydrate&&n.hydrate(P.$state,v),u=!0,d=!0,P}/*! #__NO_SIDE_EFFECTS__ */function XOe(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function a(o,l){const u=tde();return o=o||(u?In(xQ,null):null),o&&YE(o),o=bQ,o._s.has(r)||(s?SQ(r,e,i,o):qOe(r,i,o)),o._s.get(r)}return a.$id=r,a}class YOe{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return KOe(e).buffer}}function KOe(t){let e=0;for(const i of t)e+=i.byteLength;const n=new Uint8Array(e);let r=0;for(const i of t){const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);n.set(s,r),r+=i.byteLength}return n}function TQ(t){return new ZOe(t).unpack()}function CQ(t){const e=new QOe,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class ZOe{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let r=0,i="",s,a;for(;r<e;)s=n[r],s<160?(a=s,r++):(s^192)<32?(a=(s&31)<<6|n[r+1]&63,r+=2):(s^224)<16?(a=(s&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(a=(s&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),i+=String.fromCodePoint(a);return this.index+=e,i}unpack_array(e){const n=new Array(e);for(let r=0;r<e;r++)n[r]=this.unpack();return n}unpack_map(e){const n={};for(let r=0;r<e;r++){const i=this.unpack();n[i]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,r=(e>>23&255)-127,i=e&8388607|8388608;return(n===0?1:-1)*i*2**(r-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),r=e>>31,i=(e>>20&2047)-1023,a=(e&1048575|1048576)*2**(i-20)+n*2**(i-52);return(r===0?1:-1)*a}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class QOe{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const r=this.pack_array(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const r=e;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=i=>{if(i<n){const s=this.pack(e[i]);return s instanceof Promise?s.then(()=>r(i+1)):r(i+1)}};return r(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const r=Math.floor(Math.log(e)/Math.LN2),i=e/2**r-1,s=Math.floor(i*2**52),a=2**32,o=n<<31|r+1023<<20|s/a&1048575,l=s%a;this._bufferBuilder.append(203),this.pack_int32(o),this.pack_int32(l)}pack_object(e){const n=Object.keys(e),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const i=s=>{if(s<n.length){const a=n[s];if(e.hasOwnProperty(a)){this.pack(a);const o=this.pack(e[a]);if(o instanceof Promise)return o.then(()=>i(s+1))}return i(s+1)}};return i(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new YOe,this._textEncoder=new TextEncoder}}let EQ=!0,AQ=!0;function p2(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseFloat(r[n],10)}function qm(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(a,o){if(a!==e)return i.apply(this,arguments);const l=u=>{const d=n(u);d&&(o.handleEvent?o.handleEvent(d):o(d))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(o,l),i.apply(this,[a,l])};const s=r.removeEventListener;r.removeEventListener=function(a,o){if(a!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(o))return s.apply(this,arguments);const l=this._eventMap[e].get(o);return this._eventMap[e].delete(o),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[a,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(a){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),a&&this.addEventListener(e,this["_on"+e]=a)},enumerable:!0,configurable:!0})}function JOe(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(EQ=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function eMe(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(AQ=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function PQ(){if(typeof window=="object"){if(EQ)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function F8(t,e){AQ&&console.warn(t+" is deprecated, please use "+e+" instead.")}function tMe(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(p2(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(p2(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(p2(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=p2(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function MU(t){return Object.prototype.toString.call(t)==="[object Object]"}function kQ(t){return MU(t)?Object.keys(t).reduce(function(e,n){const r=MU(t[n]),i=r?kQ(t[n]):t[n],s=r&&!Object.keys(i).length;return i===void 0||s?e:Object.assign(e,{[n]:i})},{}):t}function JD(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?JD(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(i=>{JD(t,t.get(i),n)})}))}function LU(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const s=[];return t.forEach(a=>{a.type==="track"&&a.trackIdentifier===e.id&&s.push(a)}),s.forEach(a=>{t.forEach(o=>{o.type===r&&o.trackId===a.id&&JD(t,o,i)})}),i}const $U=PQ;function DQ(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(o){if(typeof o!="object"||o.mandatory||o.optional)return o;const l={};return Object.keys(o).forEach(u=>{if(u==="require"||u==="advanced"||u==="mediaSource")return;const d=typeof o[u]=="object"?o[u]:{ideal:o[u]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const f=function(h,g){return h?h+g.charAt(0).toUpperCase()+g.slice(1):g==="deviceId"?"sourceId":g};if(d.ideal!==void 0){l.optional=l.optional||[];let h={};typeof d.ideal=="number"?(h[f("min",u)]=d.ideal,l.optional.push(h),h={},h[f("max",u)]=d.ideal,l.optional.push(h)):(h[f("",u)]=d.ideal,l.optional.push(h))}d.exact!==void 0&&typeof d.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[f("",u)]=d.exact):["min","max"].forEach(h=>{d[h]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[f(h,u)]=d[h])})}),o.advanced&&(l.optional=(l.optional||[]).concat(o.advanced)),l},i=function(o,l){if(e.version>=61)return l(o);if(o=JSON.parse(JSON.stringify(o)),o&&typeof o.audio=="object"){const u=function(d,f,h){f in d&&!(h in d)&&(d[h]=d[f],delete d[f])};o=JSON.parse(JSON.stringify(o)),u(o.audio,"autoGainControl","googAutoGainControl"),u(o.audio,"noiseSuppression","googNoiseSuppression"),o.audio=r(o.audio)}if(o&&typeof o.video=="object"){let u=o.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});const d=e.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete o.video.facingMode;let f;if(u.exact==="environment"||u.ideal==="environment"?f=["back","rear"]:(u.exact==="user"||u.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(v=>v.kind==="videoinput");let g=h.find(v=>f.some(p=>v.label.toLowerCase().includes(p)));return!g&&h.length&&f.includes("back")&&(g=h[h.length-1]),g&&(o.video.deviceId=u.exact?{exact:g.deviceId}:{ideal:g.deviceId}),o.video=r(o.video),$U("chrome: "+JSON.stringify(o)),l(o)})}o.video=r(o.video)}return $U("chrome: "+JSON.stringify(o)),l(o)},s=function(o){return e.version>=64?o:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[o.name]||o.name,message:o.message,constraint:o.constraint||o.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},a=function(o,l,u){i(o,d=>{n.webkitGetUserMedia(d,l,f=>{u&&u(s(f))})})};if(n.getUserMedia=a.bind(n),n.mediaDevices.getUserMedia){const o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return i(l,u=>o(u).then(d=>{if(u.audio&&!d.getAudioTracks().length||u.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(s(d))))}}}function IQ(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function RQ(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(o=>o.track&&o.track.id===i.track.id):s={track:i.track};const a=new Event("track");a.track=i.track,a.receiver=s,a.transceiver={receiver:s},a.streams=[r.stream],this.dispatchEvent(a)}),r.stream.getTracks().forEach(i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(o=>o.track&&o.track.id===i.id):s={track:i};const a=new Event("track");a.track=i,a.receiver=s,a.transceiver={receiver:s},a.streams=[r.stream],this.dispatchEvent(a)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else qm(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function OQ(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,l){let u=i.apply(this,arguments);return u||(u=e(this,o),this._senders.push(u)),u};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){s.apply(this,arguments);const l=this._senders.indexOf(o);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(a=>{this._senders.push(e(this,a))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(a=>{const o=this._senders.find(l=>l.track===a);o&&this._senders.splice(this._senders.indexOf(o),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function MQ(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(a=>a._pc=this),s});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(a=>LU(a,s.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i}),qm(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>LU(s,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let i,s,a;return this.getSenders().forEach(o=>{o.track===r&&(i?a=!0:i=o)}),this.getReceivers().forEach(o=>(o.track===r&&(s?a=!0:s=o),o.track===r)),a||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function LQ(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(a=>this._shimmedLocalStreams[a][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,o){if(!o)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[o.id]?this._shimmedLocalStreams[o.id].indexOf(l)===-1&&this._shimmedLocalStreams[o.id].push(l):this._shimmedLocalStreams[o.id]=[o,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(a){this._shimmedLocalStreams=this._shimmedLocalStreams||{},a.getTracks().forEach(u=>{if(this.getSenders().find(f=>f.track===u))throw new DOMException("Track already exists.","InvalidAccessError")});const o=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(u=>o.indexOf(u)===-1);this._shimmedLocalStreams[a.id]=[a].concat(l)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[a.id],r.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},a&&Object.keys(this._shimmedLocalStreams).forEach(o=>{const l=this._shimmedLocalStreams[o].indexOf(a);l!==-1&&this._shimmedLocalStreams[o].splice(l,1),this._shimmedLocalStreams[o].length===1&&delete this._shimmedLocalStreams[o]}),i.apply(this,arguments)}}function $Q(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return LQ(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(f=>this._reverseStreams[f.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(f=>{if(this.getSenders().find(g=>g.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const f=new t.MediaStream(d.getTracks());this._streams[d.id]=f,this._reverseStreams[f.id]=d,d=f}r.apply(this,[d])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},t.RTCPeerConnection.prototype.addTrack=function(d,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(p=>p===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(p=>p.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const v=this._streams[f.id];if(v)v.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const p=new t.MediaStream([d]);this._streams[f.id]=p,this._reverseStreams[p.id]=f,this.addStream(p)}return this.getSenders().find(p=>p.track===d)};function s(u,d){let f=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const g=u._reverseStreams[h],v=u._streams[g.id];f=f.replace(new RegExp(v.id,"g"),g.id)}),new RTCSessionDescription({type:d.type,sdp:f})}function a(u,d){let f=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const g=u._reverseStreams[h],v=u._streams[g.id];f=f.replace(new RegExp(g.id,"g"),v.id)}),new RTCSessionDescription({type:d.type,sdp:f})}["createOffer","createAnswer"].forEach(function(u){const d=t.RTCPeerConnection.prototype[u],f={[u](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[v=>{const p=s(this,v);h[0].apply(null,[p])},v=>{h[1]&&h[1].apply(null,v)},arguments[2]]):d.apply(this,arguments).then(v=>s(this,v))}};t.RTCPeerConnection.prototype[u]=f[u]});const o=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?o.apply(this,arguments):(arguments[0]=a(this,arguments[0]),o.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const u=l.get.apply(this);return u.type===""?u:s(this,u)}}),t.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(g=>{this._streams[g].getTracks().find(p=>d.track===p)&&(h=this._streams[g])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function eI(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=i[n]})}function NQ(t,e){qm(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const NU=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:NQ,shimAddTrackRemoveTrack:$Q,shimAddTrackRemoveTrackWithNative:LQ,shimGetSendersWithDtmf:OQ,shimGetUserMedia:DQ,shimMediaStream:IQ,shimOnTrack:RQ,shimPeerConnection:eI,shimSenderReceiverGetStats:MQ},Symbol.toStringTag,{value:"Module"}));function FQ(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(i,s,a){F8("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(s,a)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(a,o,l){o in a&&!(l in a)&&(a[l]=a[o],delete a[o])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(a){return typeof a=="object"&&typeof a.audio=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a.audio,"autoGainControl","mozAutoGainControl"),i(a.audio,"noiseSuppression","mozNoiseSuppression")),s(a)},r&&r.prototype.getSettings){const a=r.prototype.getSettings;r.prototype.getSettings=function(){const o=a.apply(this,arguments);return i(o,"mozAutoGainControl","autoGainControl"),i(o,"mozNoiseSuppression","noiseSuppression"),o}}if(r&&r.prototype.applyConstraints){const a=r.prototype.applyConstraints;r.prototype.applyConstraints=function(o){return this.kind==="audio"&&typeof o=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o,"autoGainControl","mozAutoGainControl"),i(o,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[o])}}}}function nMe(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function BQ(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function tI(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=t.RTCPeerConnection.prototype[i],a={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=a[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[s,a,o]=arguments;return r.apply(this,[s||null]).then(l=>{if(e.version<53&&!a)try{l.forEach(u=>{u.type=n[u.type]||u.type})}catch(u){if(u.name!=="TypeError")throw u;l.forEach((d,f)=>{l.set(f,Object.assign({},d,{type:n[d.type]||d.type}))})}return l}).then(a,o)}}function UQ(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function VQ(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),qm(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function zQ(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){F8("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function HQ(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function jQ(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(a=>{if("rid"in a&&!/^[a-z0-9]{0,16}$/i.test(a.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in a&&!(parseFloat(a.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in a&&!(parseFloat(a.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:a}=s,o=a.getParameters();(!("encodings"in o)||o.encodings.length===1&&Object.keys(o.encodings[0]).length===0)&&(o.encodings=r,a.sendEncodings=r,this.setParametersPromises.push(a.setParameters(o).then(()=>{delete a.sendEncodings}).catch(()=>{delete a.sendEncodings})))}return s})}function GQ(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function WQ(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function qQ(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const FU=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:jQ,shimCreateAnswer:qQ,shimCreateOffer:WQ,shimGetDisplayMedia:nMe,shimGetParameters:GQ,shimGetUserMedia:FQ,shimOnTrack:BQ,shimPeerConnection:tI,shimRTCDataChannel:HQ,shimReceiverGetStats:VQ,shimRemoveStream:zQ,shimSenderGetStats:UQ},Symbol.toStringTag,{value:"Module"}));function XQ(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function YQ(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(s)>=0)return;r._remoteStreams.push(s);const a=new Event("addstream");a.stream=s,r.dispatchEvent(a)})}),e.apply(r,arguments)}}}function KQ(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,a=e.addIceCandidate;e.createOffer=function(u,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[f]);return d?(h.then(u,d),Promise.resolve()):h},e.createAnswer=function(u,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[f]);return d?(h.then(u,d),Promise.resolve()):h};let o=function(l,u,d){const f=i.apply(this,[l]);return d?(f.then(u,d),Promise.resolve()):f};e.setLocalDescription=o,o=function(l,u,d){const f=s.apply(this,[l]);return d?(f.then(u,d),Promise.resolve()):f},e.setRemoteDescription=o,o=function(l,u,d){const f=a.apply(this,[l]);return d?(f.then(u,d),Promise.resolve()):f},e.addIceCandidate=o}function ZQ(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=i=>r(QQ(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,i,s){e.mediaDevices.getUserMedia(r).then(i,s)}).bind(e))}function QQ(t){return t&&t.video!==void 0?Object.assign({},t,{video:kQ(t.video)}):t}function JQ(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const s=[];for(let a=0;a<r.iceServers.length;a++){let o=r.iceServers[a];o.urls===void 0&&o.url?(F8("RTCIceServer.url","RTCIceServer.urls"),o=JSON.parse(JSON.stringify(o)),o.urls=o.url,delete o.url,s.push(o)):s.push(r.iceServers[a])}r.iceServers=s}return new e(r,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function eJ(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function tJ(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(a=>a.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const s=this.getTransceivers().find(a=>a.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function nJ(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const BU=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:nJ,shimCallbacksAPI:KQ,shimConstraints:QQ,shimCreateOfferLegacy:tJ,shimGetUserMedia:ZQ,shimLocalStreamsAPI:XQ,shimRTCIceServerUrls:JQ,shimRemoteStreamsAPI:YQ,shimTrackEventTransceiver:eJ},Symbol.toStringTag,{value:"Module"}));var rJ={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(i=>i.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let s=8;s<r.length;s+=2)switch(r[s]){case"raddr":i.relatedAddress=r[s+1];break;case"rport":i.relatedPort=parseInt(r[s+1],10);break;case"tcptype":i.tcpType=r[s+1];break;case"ufrag":i.ufrag=r[s+1],i.usernameFragment=r[s+1];break;default:i[r[s]]===void 0&&(i[r[s]]=r[s+1]);break}return i},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const s=n.type;return r.push("typ"),r.push(s),s!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let i;const s=n.substring(n.indexOf(" ")+1).split(";");for(let a=0;a<s.length;a++)i=s[a].trim().split("="),r[i[0].trim()]=i[1];return r},e.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const s=[];Object.keys(n.parameters).forEach(a=>{n.parameters[a]!==void 0?s.push(a+"="+n.parameters[a]):s.push(a)}),r+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(s=>{r+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},s=n.indexOf(":",r);return s>-1?(i.attribute=n.substring(r+1,s),i.value=n.substring(s+1)):i.attribute=n.substring(r+1),i},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const i=e.matchPrefix(n+r,"a=ice-ufrag:")[0],s=e.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substring(12),password:s.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(n)[0].split(" ");r.profile=s[2];for(let o=3;o<s.length;o++){const l=s[o],u=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(u){const d=e.parseRtpMap(u),f=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(d.parameters=f.length?e.parseFmtp(f[0]):{},d.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),r.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(d.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(o=>{r.headerExtensions.push(e.parseExtmap(o))});const a=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(o=>{a.forEach(l=>{o.rtcpFeedback.find(d=>d.type===l.type&&d.parameter===l.parameter)||o.rtcpFeedback.push(l)})}),r},e.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(a=>a.preferredPayloadType!==void 0?a.preferredPayloadType:a.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(a=>{i+=e.writeRtpMap(a),i+=e.writeFmtp(a),i+=e.writeRtcpFb(a)});let s=0;return r.codecs.forEach(a=>{a.maxptime>s&&(s=a.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(a=>{i+=e.writeExtmap(a)}),i},e.parseRtpEncodingParameters=function(n){const r=[],i=e.parseRtpParameters(n),s=i.fecMechanisms.indexOf("RED")!==-1,a=i.fecMechanisms.indexOf("ULPFEC")!==-1,o=e.matchPrefix(n,"a=ssrc:").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),l=o.length>0&&o[0].ssrc;let u;const d=e.matchPrefix(n,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(v=>parseInt(v,10)));d.length>0&&d[0].length>1&&d[0][0]===l&&(u=d[0][1]),i.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let g={ssrc:l,codecPayloadType:parseInt(h.parameters.apt,10)};l&&u&&(g.rtx={ssrc:u}),r.push(g),s&&(g=JSON.parse(JSON.stringify(g)),g.fec={ssrc:l,mechanism:a?"red+ulpfec":"red"},r.push(g))}}),r.length===0&&l&&r.push({ssrc:l});let f=e.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(h=>{h.maxBitrate=f})),r},e.parseRtcpParameters=function(n){const r={},i=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const s=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=s.length>0,r.compound=s.length===0;const a=e.matchPrefix(n,"a=rtcp-mux");return r.mux=a.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const i=e.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const s=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="msid");if(s.length>0)return r=s[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),i=e.matchPrefix(n,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substring(19),10)),isNaN(s)&&(s=65536);const a=e.matchPrefix(n,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:r.fmt,maxMessageSize:s};const o=e.matchPrefix(n,"a=sctpmap:");if(o.length>0){const l=o[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:s}}},e.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,i){let s;const a=r!==void 0?r:2;return n?s=n:s=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+a+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const i=e.splitLines(n);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const i=e.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(n){const i=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(rJ);var iJ=rJ.exports;const uv=Ra(iJ),rMe=cce({__proto__:null,default:uv},[iJ]);function zS(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new e(r),s=uv.parseCandidate(r.candidate);for(const a in s)a in i||Object.defineProperty(i,a,{value:s[a]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,qm(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function nI(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||qm(t,"icecandidate",e=>{if(e.candidate){const n=uv.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function HS(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(o){if(!o||!o.sdp)return!1;const l=uv.splitSections(o.sdp);return l.shift(),l.some(u=>{const d=uv.parseMLine(u);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(o){const l=o.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const u=parseInt(l[1],10);return u!==u?-1:u},i=function(o){let l=65536;return e.browser==="firefox"&&(e.version<57?o===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},s=function(o,l){let u=65536;e.browser==="firefox"&&e.version===57&&(u=65535);const d=uv.matchPrefix(o.sdp,"a=max-message-size:");return d.length>0?u=parseInt(d[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(u=2147483637),u},a=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),u=i(l),d=s(arguments[0],l);let f;u===0&&d===0?f=Number.POSITIVE_INFINITY:u===0||d===0?f=Math.max(u,d):f=Math.min(u,d);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return f}}),this._sctp=h}return a.apply(this,arguments)}}function jS(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,i){const s=r.send;r.send=function(){const o=arguments[0],l=o.length||o.size||o.byteLength;if(r.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return e(i,this),i},qm(t,"datachannel",r=>(e(r.channel,r.target),r))}function rI(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const a=new Event("connectionstatechange",i);s.dispatchEvent(a)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function iI(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(a=>a.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return n.apply(this,arguments)}}function GS(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function WS(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(a=>n.apply(this,[a]))})}const iMe=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:iI,shimAddIceCandidateNullOrEmpty:GS,shimConnectionState:rI,shimMaxMessageSize:HS,shimParameterlessSetLocalDescription:WS,shimRTCIceCandidate:zS,shimRTCIceCandidateRelayProtocol:nI,shimSendThrowTypeError:jS},Symbol.toStringTag,{value:"Module"}));function sMe({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=PQ,r=tMe(t),i={browserDetails:r,commonShim:iMe,extractVersion:p2,disableLog:JOe,disableWarnings:eMe,sdp:rMe};switch(r.browser){case"chrome":if(!NU||!eI||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=NU,GS(t,r),WS(t),DQ(t,r),IQ(t),eI(t,r),RQ(t),$Q(t,r),OQ(t),MQ(t),NQ(t,r),zS(t),nI(t),rI(t),HS(t,r),jS(t),iI(t,r);break;case"firefox":if(!FU||!tI||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=FU,GS(t,r),WS(t),FQ(t,r),tI(t,r),BQ(t),zQ(t),UQ(t),VQ(t),HQ(t),jQ(t),GQ(t),WQ(t),qQ(t),zS(t),rI(t),HS(t,r),jS(t);break;case"safari":if(!BU||!e.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=BU,GS(t,r),WS(t),JQ(t),tJ(t),KQ(t),XQ(t),YQ(t),eJ(t),ZQ(t),nJ(t),zS(t),nI(t),HS(t,r),jS(t),iI(t,r);break;default:n("Unsupported browser!");break}return i}const UU=sMe({window:typeof window>"u"?void 0:window});function Xm(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}class sJ{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],r=e.byteLength,i=Math.ceil(r/this.chunkedMTU);let s=0,a=0;for(;a<r;){const o=Math.min(r,a+this.chunkedMTU),l=e.slice(a,o),u={__peerData:this._dataCount,n:s,data:l,total:i};n.push(u),a=o,s++}return this._dataCount++,n}}}function aMe(t){let e=0;for(const i of t)e+=i.byteLength;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.byteLength;return n}const c4=UU.default||UU,O_=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return c4.browserDetails.browser}getVersion(){return c4.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=c4.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},oMe=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),aJ=()=>Math.random().toString(36).slice(2),VU={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class lMe extends sJ{noop(){}blobToArrayBuffer(e,n){const r=new FileReader;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(e),r}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=VU,this.browser=O_.getBrowser(),this.browserVersion=O_.getVersion(),this.pack=CQ,this.unpack=TQ,this.supports=function(){const n={browser:O_.isBrowserSupported(),webRTC:O_.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(VU),n.audioVideo=!0;let i;try{i=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!i.ordered;try{i.binaryType="blob",n.binaryBlob=!O_.isIOS}catch{}}catch{}finally{i&&i.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=oMe,this.randomToken=aJ}}const _l=new lMe,uMe="PeerJS: ";class cMe{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const r=[uMe,...n];for(const i in r)r[i]instanceof Error&&(r[i]="("+r[i].name+") "+r[i].message);e>=3?console.log(...r):e>=2?console.warn("WARNING",...r):e>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var ir=new cMe,B8={},dMe=Object.prototype.hasOwnProperty,ul="~";function n1(){}Object.create&&(n1.prototype=Object.create(null),new n1().__proto__||(ul=!1));function fMe(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function oJ(t,e,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var s=new fMe(n,r||t,i),a=ul?ul+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function qS(t,e){--t._eventsCount===0?t._events=new n1:delete t._events[e]}function $o(){this._events=new n1,this._eventsCount=0}$o.prototype.eventNames=function(){var e=[],n,r;if(this._eventsCount===0)return e;for(r in n=this._events)dMe.call(n,r)&&e.push(ul?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};$o.prototype.listeners=function(e){var n=ul?ul+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,a=new Array(s);i<s;i++)a[i]=r[i].fn;return a};$o.prototype.listenerCount=function(e){var n=ul?ul+e:e,r=this._events[n];return r?r.fn?1:r.length:0};$o.prototype.emit=function(e,n,r,i,s,a){var o=ul?ul+e:e;if(!this._events[o])return!1;var l=this._events[o],u=arguments.length,d,f;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,i),!0;case 5:return l.fn.call(l.context,n,r,i,s),!0;case 6:return l.fn.call(l.context,n,r,i,s,a),!0}for(f=1,d=new Array(u-1);f<u;f++)d[f-1]=arguments[f];l.fn.apply(l.context,d)}else{var h=l.length,g;for(f=0;f<h;f++)switch(l[f].once&&this.removeListener(e,l[f].fn,void 0,!0),u){case 1:l[f].fn.call(l[f].context);break;case 2:l[f].fn.call(l[f].context,n);break;case 3:l[f].fn.call(l[f].context,n,r);break;case 4:l[f].fn.call(l[f].context,n,r,i);break;default:if(!d)for(g=1,d=new Array(u-1);g<u;g++)d[g-1]=arguments[g];l[f].fn.apply(l[f].context,d)}}return!0};$o.prototype.on=function(e,n,r){return oJ(this,e,n,r,!1)};$o.prototype.once=function(e,n,r){return oJ(this,e,n,r,!0)};$o.prototype.removeListener=function(e,n,r,i){var s=ul?ul+e:e;if(!this._events[s])return this;if(!n)return qS(this,s),this;var a=this._events[s];if(a.fn)a.fn===n&&(!i||a.once)&&(!r||a.context===r)&&qS(this,s);else{for(var o=0,l=[],u=a.length;o<u;o++)(a[o].fn!==n||i&&!a[o].once||r&&a[o].context!==r)&&l.push(a[o]);l.length?this._events[s]=l.length===1?l[0]:l:qS(this,s)}return this};$o.prototype.removeAllListeners=function(e){var n;return e?(n=ul?ul+e:e,this._events[n]&&qS(this,n)):(this._events=new n1,this._eventsCount=0),this};$o.prototype.off=$o.prototype.removeListener;$o.prototype.addListener=$o.prototype.on;$o.prefixed=ul;$o.EventEmitter=$o;B8=$o;var Ym={};Xm(Ym,"ConnectionType",()=>gp);Xm(Ym,"PeerErrorType",()=>da);Xm(Ym,"BaseConnectionErrorType",()=>sI);Xm(Ym,"DataConnectionErrorType",()=>U8);Xm(Ym,"SerializationType",()=>KE);Xm(Ym,"SocketEventType",()=>sp);Xm(Ym,"ServerMessageType",()=>To);var gp=function(t){return t.Data="data",t.Media="media",t}({}),da=function(t){return t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc",t}({}),sI=function(t){return t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed",t}({}),U8=function(t){return t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big",t}({}),KE=function(t){return t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw",t}({}),sp=function(t){return t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close",t}({}),To=function(t){return t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE",t}({});const lJ="1.5.5";class hMe extends B8.EventEmitter{constructor(e,n,r,i,s,a=5e3){super(),this.pingInterval=a,this._disconnected=!0,this._messagesQueue=[];const o=e?"wss://":"ws://";this._baseUrl=o+n+":"+r+i+"peerjs?key="+s}start(e,n){this._id=e;const r=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+lJ),this._disconnected=!1,this._socket.onmessage=i=>{let s;try{s=JSON.parse(i.data),ir.log("Server message received:",s)}catch{ir.log("Invalid server message",i.data);return}this.emit(sp.Message,s)},this._socket.onclose=i=>{this._disconnected||(ir.log("Socket closed.",i),this._cleanup(),this._disconnected=!0,this.emit(sp.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ir.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){ir.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:To.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(sp.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class uJ{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===gp.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const r=this.connection,i={ordered:!!e.reliable},s=n.createDataChannel(r.label,i);r._initializeDataChannel(s),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ir.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,r=this.connection.connectionId,i=this.connection.type,s=this.connection.provider;ir.log("Listening for ICE candidates."),e.onicecandidate=a=>{!a.candidate||!a.candidate.candidate||(ir.log(`Received ICE candidates for ${n}:`,a.candidate),s.socket.send({type:To.Candidate,payload:{candidate:a.candidate,type:i,connectionId:r},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ir.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(sI.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":ir.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(sI.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":ir.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},ir.log("Listening for data channel"),e.ondatachannel=a=>{ir.log("Received data channel");const o=a.channel;s.getConnection(n,r)._initializeDataChannel(o)},ir.log("Listening for remote stream"),e.ontrack=a=>{ir.log("Received remote stream");const o=a.streams[0],l=s.getConnection(n,r);if(l.type===gp.Media){const u=l;this._addStreamToMediaConnection(o,u)}}}cleanup(){ir.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let r=!1;const i=this.connection.dataChannel;i&&(r=!!i.readyState&&i.readyState!=="closed"),(n||r)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const r=await e.createOffer(this.connection.options.constraints);ir.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ir.log("Set localDescription:",r,`for:${this.connection.peer}`);let i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===gp.Data){const s=this.connection;i={...i,label:s.label,reliable:s.reliable,serialization:s.serialization}}n.socket.send({type:To.Offer,payload:i,dst:this.connection.peer})}catch(i){i!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(da.WebRTC,i),ir.log("Failed to setLocalDescription, ",i))}}catch(r){n.emitError(da.WebRTC,r),ir.log("Failed to createOffer, ",r)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const r=await e.createAnswer();ir.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ir.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:To.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(i){n.emitError(da.WebRTC,i),ir.log("Failed to setLocalDescription, ",i)}}catch(r){n.emitError(da.WebRTC,r),ir.log("Failed to create answer, ",r)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,i=this.connection.provider;ir.log("Setting remote description",n);const s=this;try{await r.setRemoteDescription(n),ir.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await s._makeAnswer()}catch(a){i.emitError(da.WebRTC,a),ir.log("Failed to setRemoteDescription, ",a)}}async handleCandidate(e){ir.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),ir.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(da.WebRTC,n),ir.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(ir.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return ir.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(r=>{n.addTrack(r,e)})}_addStreamToMediaConnection(e,n){ir.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class cJ extends B8.EventEmitter{emitError(e,n){ir.error("Error:",n),this.emit("error",new pMe(`${e}`,n))}}class pMe extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class dJ extends cJ{get open(){return this._open}constructor(e,n,r){super(),this.peer=e,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var FO;const Cb=class Cb extends dJ{get type(){return gp.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,r){super(e,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Cb.ID_PREFIX+_l.randomToken(),this._negotiator=new uJ(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ir.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ir.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){ir.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,r=e.payload;switch(e.type){case To.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case To.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:ir.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){ir.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const r=this.provider._getMessages(this.connectionId);for(const i of r)this.handleMessage(i);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};FO=new WeakMap,T_(Cb,FO,Cb.ID_PREFIX="mc_");let GT=Cb;class mMe{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:r,port:i,path:s,key:a}=this._options,o=new URL(`${n}://${r}:${i}${s}${a}/${e}`);return o.searchParams.set("ts",`${Date.now()}${Math.random()}`),o.searchParams.set("version",lJ),fetch(o.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){ir.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==_l.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===_l.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw ir.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var BO,UO;const q0=class q0 extends dJ{get type(){return gp.Data}constructor(e,n,r){super(e,n,r),this.connectionId=this.options.connectionId||q0.ID_PREFIX+aJ(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new uJ(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ir.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{ir.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{ir.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError(U8.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case To.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case To.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:ir.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};BO=new WeakMap,UO=new WeakMap,T_(q0,BO,q0.ID_PREFIX="dc_"),T_(q0,UO,q0.MAX_BUFFERED_AMOUNT=8388608);let WT=q0;class V8 extends WT{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>WT.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return ir.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class d4 extends V8{close(e){super.close(e),this._chunkedData={}}constructor(e,n,r){super(e,n,r),this.chunker=new sJ,this.serialization=KE.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=TQ(e),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:e.total};if(r.data[e.n]=new Uint8Array(e.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const i=aMe(r.data);this._handleDataMessage({data:i})}}_send(e,n){const r=CQ(e);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);ir.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class gMe extends V8{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=KE.None}}class vMe extends V8{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const r=this.encoder.encode(this.stringify(e));if(r.byteLength>=_l.chunkedMTU){this.emitError(U8.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...e){super(...e),this.serialization=KE.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var VO;const Eb=class Eb extends cJ{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,r]of this._connections)e[n]=r;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:gMe,json:vMe,binary:d4,"binary-utf8":d4,default:d4},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(e&&e.constructor==Object?n=e:e&&(r=e.toString()),n={debug:0,host:_l.CLOUD_HOST,port:_l.CLOUD_PORT,path:"/",key:Eb.DEFAULT_KEY,token:_l.randomToken(),config:_l.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==_l.CLOUD_HOST?this._options.secure=_l.isSecure():this._options.host==_l.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ir.setLogFunction(this._options.logFunction),ir.logLevel=this._options.debug||0,this._api=new mMe(n),this._socket=this._createServerConnection(),!_l.supports.audioVideo&&!_l.supports.data){this._delayedAbort(da.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!_l.validateId(r)){this._delayedAbort(da.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort(da.ServerError,i))}_createServerConnection(){const e=new hMe(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(sp.Message,n=>{this._handleMessage(n)}),e.on(sp.Error,n=>{this._abort(da.SocketError,n)}),e.on(sp.Disconnected,()=>{this.disconnected||(this.emitError(da.Network,"Lost connection to server."),this.disconnect())}),e.on(sp.Close,()=>{this.disconnected||this._abort(da.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,r=e.payload,i=e.src;switch(n){case To.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case To.Error:this._abort(da.ServerError,r.msg);break;case To.IdTaken:this._abort(da.UnavailableID,`ID "${this.id}" is taken`);break;case To.InvalidKey:this._abort(da.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case To.Leave:ir.log(`Received leave message from ${i}`),this._cleanupPeer(i),this._connections.delete(i);break;case To.Expire:this.emitError(da.PeerUnavailable,`Could not connect to peer ${i}`);break;case To.Offer:{const s=r.connectionId;let a=this.getConnection(i,s);if(a&&(a.close(),ir.warn(`Offer received for existing Connection ID:${s}`)),r.type===gp.Media){const l=new GT(i,this,{connectionId:s,_payload:r,metadata:r.metadata});a=l,this._addConnection(i,a),this.emit("call",l)}else if(r.type===gp.Data){const l=new this._serializers[r.serialization](i,this,{connectionId:s,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});a=l,this._addConnection(i,a),this.emit("connection",l)}else{ir.warn(`Received malformed connection type:${r.type}`);return}const o=this._getMessages(s);for(const l of o)a.handleMessage(l);break}default:{if(!r){ir.warn(`You received a malformed message from ${i} of type ${n}`);return}const s=r.connectionId,a=this.getConnection(i,s);a&&a.peerConnection?a.handleMessage(e):s?this._storeMessage(s,e):ir.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){ir.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(da.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,r),r}call(e,n,r={}){if(this.disconnected){ir.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(da.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){ir.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const i=new GT(e,this,{...r,_stream:n});return this._addConnection(e,i),i}_addConnection(e,n){ir.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const r=this._connections.get(e);if(!r)return null;for(const i of r)if(i.connectionId===n)return i;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){ir.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ir.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const e=this.id;ir.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ir.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ir.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(da.ServerError,n))}};VO=new WeakMap,T_(Eb,VO,Eb.DEFAULT_KEY="peerjs");let aI=Eb;var yMe=aI;const _Me=[],bMe=[],xMe=[],wMe=[],no=lr({notifications:_Me,users:bMe,topics:xMe,messages:wMe});let SMe=()=>({email:"",nickName:"",username:"",password:"",locked:!1}),ks=lr(SMe());const TMe=ye({});let Ca=lr(TMe),cv=()=>({sub:"",name:"",given_name:"",family_name:"",middle_name:"",nickname:"",preferred_username:"",profile:"",picture:"",website:"",email:"",email_verified:"",gender:"",birthdate:"",zoneinfo:"",locale:"",phone_number:"",phone_number_verified:"",address:"",updated_at:"",claims:"",username:""}),vl=lr(cv());const z8=XOe("peerStore",{state:()=>({peerInstance:null,peerId:"",isFirst:!0}),actions:{async initPeer(){if(!this.peerInstance)try{this.peerInstance=new yMe(null,{host:an.peerServerUrl,port:443,path:"/app",secure:!0,debug:0}),this.peerInstance.on("open",t=>{this.peerId=t,this.isFirst=!1}),this.peerInstance.on("connection",t=>{console.log("New connection established"),this.handleConnection(t)}),this.peerInstance.on("error",t=>{this.isFirst&&(this.peerInstance=null),console.error("Peer connection error:",t)}),this.peerInstance.on("disconnected",()=>{console.log("Disconnected from the signaling server"),this.isFirst||this.peerInstance.reconnect()})}catch(t){console.error("Failed to initialize PeerJS instance:",t)}},handleConnection(t){ke.connectId=t.peer,t.on("open",function(){t.on("data",function(e){const n=e.split("*"),r=Number(n[2]);Et.isDotMessage=!0,no.messages.push({text:n[0],sender:"received",timestamp:r,user:n[1]})})}),t.on("close",()=>{console.log("Connection closed")}),t.on("error",e=>{console.error("Connection error:",e)})},getPeer(){return this.peerInstance}}}),CMe={apiKey:"AIzaSyCRthXUaRcPNWmYYq3NokfWVBRzm8uC09U",authDomain:"elpsykonngroo.firebaseapp.com",projectId:"elpsykonngroo",storageBucket:"elpsykonngroo.appspot.com",messagingSenderId:"1035237568740",appId:"1:1035237568740:web:75eb3c160355379a97bcf1"},EMe=qZ(CMe),fJ=BOe(EMe),hJ=async t=>{"serviceWorker"in navigator&&AMe(t)},AMe=async t=>{console.log("start register");const e={success:[],failure:[]},n=s=>{console.log("Service Worker registration succeeded. Scope is "+s.scope),e.success.forEach(a=>a(s))},r=s=>{console.log("Service Worker registration failed with "+s),e.failure.forEach(a=>a(s))};try{const s=await navigator.serviceWorker.register("/sw.js",{type:"classic",updateViaCache:"none"});"Notification"in window&&window.Notification.requestPermission().then(a=>{a==="granted"&&(console.log("Notification permission granted"),e.success.push(o=>{"PushManager"in window&&(console.log("PushManager available"),UOe(fJ,{vapidKey:an.publicKey,serviceWorkerRegistration:o}).then(l=>{ke.registerToken=l;const u={baseURL:an.messageUrl,url:"notice/register",method:"PUT",params:{token:l,timestamp:Date.now(),user:t},headers:{"Content-Type":"application/json"},withCredentials:!0};vn(u)}))}),e.failure.push(o=>{console.log("PushManager is not available")}),n(s))})}catch(s){r(s)}const i=()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(s=>{s.forEach(a=>{a.unregister()})})};window.addEventListener("unload",i)};VOe(fJ,t=>{var e,n;console.log(t),Qb({title:(e=t.notification)==null?void 0:e.title,message:(n=t.notification)==null?void 0:n.body,duration:5e3}),Et.isDot=!0});window.addEventListener("message",function(t){if(console.log(t.origin),console.log(t.data),typeof t.data=="object"&&t.data){const e=t.data.message;console.log(e),Et.isDot=!0}});const pJ=window.location.href,Xv=new URL(pJ).searchParams.get("code"),mJ=new URL(pJ).searchParams.get("state");Xv!=null&&mJ!=null&&(Xv.length>20?ke.grant_type="code":ke.grant_type="github");function PMe(){var t;t="841aa35355d86c55c1a948831ab90f23f80f71c65a08feb0dc4830a066fd55d36422c464bc58128edecf2f0bf5e0baadfda1168f8cb5883bd8ff6745454afe8b";const e=btoa(t),n={baseURL:an.authUrl,url:"/oauth2/token",method:"POST",data:{code_verifier:e,grant_type:"authorization_code",code:Xv,redirect_uri:an.redirectUrl,client_id:"pkce"},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};vJ(n)}const Yv=()=>{for(var t=document.cookie.split(";"),e="",n=0;n<t.length;n++){var r=t[n].trim();if(r.indexOf("_oauth2_proxy=")==0){e=r.substring(14,r.length);break}}return e};document.addEventListener("DOMContentLoaded",async function(){await gJ(),await hJ("")});async function gJ(){var t=Yv();if(t.length>0){t=atob(t.split("|")[0]);const e={baseURL:an.authUrl,url:"/access",method:"POST",data:{key:t},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};return await vJ(e)}else return""}const vJ=async t=>{const e=await vn(t).then(function(n){let r;return n.data==null&&n.data==""?"":n.data.id_token!=""&&n.data.id_token!=null?(ke.update(n.data.access_token,n.data.expires_in),r=HD(n.data.id_token),JSON.stringify(r)):n.data.at!=""&&n.data.at!=null?(ke.refresh_token=n.data.rt,ke.id_token=n.data.it,ke.update(n.data.at,1200),r=HD(ke.id_token),JSON.stringify(r)):""}).catch(function(n){return""});if(e){const n=JSON.parse(e);ke.sub=n.sub,ke.permission=n.permission,ke.email_verified=n.email_verified,ke.client_id=n.azp,ke.expires_in=n.exp-n.iat,ke.update(ke.access_token,ke.expires_in),n.picture&&(ke.avatarUrl=an.apiUrl+"/storage/object?bucket="+ke.sub+"&key="+n.picture+"&idToken="+ke.id_token),await hJ(ke.sub),tp(),m2();const r=z8();r.initPeer();const i=r.getPeer();i==null||i.on("open",s=>{ke.peerId=s;const a={baseURL:an.peerUrl,url:"/peer/",method:"POST",headers:{"content-type":"application/json"},data:{username:ke.sub,peerId:ke.peerId}};vn(a)})}return e};Xv!=null&&mJ==null&&PMe();const zU=ye(0);let oI,dw=0;vn.interceptors.request.use(t=>(oI&&(t.headers["X-CSRF-TOKEN"]=oI),t.validateStatus=function(e){return e>=200&&e<504&&e!=401},t));vn.interceptors.response.use(async function(t){return oI=t.headers["x-csrf-token"],t.status==403&&dw==0?dw++:dw=0,dw!=0&&(t=await vn(t.config)),t},function(t){return t.request.status===401&&(ke.sub?t.request.response=="no access"?di.alert("no access, please ensure and retry"):Yv().length!=0?Et.refreshlogin=!0:lI():t.config.url!="/access"&&di.alert("please login first")),t.message==="Network Error"&&t.request.status===0&&t.request.responseURL===""&&(console.log("cors error"),t.response&&t.response.status===401&&(ke.sub?t.response.data=="no access"?di.alert("no access, please ensure and retry"):Yv().length!=0?Et.refreshlogin=!0:lI():t.config.url!="/access"&&di.alert("please login first"))),(t.config.url=="/login"||t.config.url=="/register"||t.config.url=="/public/token/qrcode")&&(di.alert("service error, please try again later"),kMe()),t});const kMe=()=>{const t={baseURL:an.vaultUrl,url:"/v1/auth/userpass/login/"+an.vaultUser,method:"POST",data:{password:an.vaultPass},headers:{"Content-Type":"application/json"}};vn(t).then(function(e){console.log(e.data);const n={baseURL:an.vaultUrl,url:"/v1/totp/code/"+an.vaultPublicUser,method:"GET",headers:{"X-Vault-Token":e.data.auth.client_token}};vn(n).then(function(r){const i={baseURL:an.statusUrl,url:"/wol",method:"POST",data:{mac:an.wakeMac,code:r.data.data.code},headers:{"Content-Type":"application/x-www-form-urlencoded"}};vn(i)})})},lI=()=>{ke.refresh_token&&DMe()},DMe=()=>{const t={baseURL:an.authUrl,url:"/oauth2/token",method:"POST",data:{grant_type:"refresh_token",refresh_token:ke.refresh_token},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,auth:{username:an.clientId,password:an.clientSecret}};vn(t).then(function(e){e.data.access_token!=""&&ke.update(e.data.access_token,e.data.expires_in)}).catch(function(e){Yv().length==0?di.alert("session expired, please login agian"):Et.refreshlogin=!0})},m2=()=>{zU.value=window.setInterval(()=>{ke.expires_in--,ke.expires_in==10&&Yv().length==0?lI():ke.expires_in==0&&(IMe(),tp(),clearInterval(zU.value))},1e3)},IMe=()=>{ke.refresh_token="",ke.access_token=""},yJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_J="ARRAYBUFFER not supported by this environment",bJ="UINT8ARRAY not supported by this environment";function HU(t,e,n,r){let i,s,a;const o=e||[0],l=(n=n||0)>>>3,u=r===-1?3:0;for(i=0;i<t.length;i+=1)a=i+l,s=a>>>2,o.length<=s&&o.push(0),o[s]|=t[i]<<8*(u+r*(a%4));return{value:o,binLen:8*t.length+n}}function Gy(t,e,n){switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":return function(r,i,s){return function(a,o,l,u){let d,f,h,g;if(a.length%2!=0)throw new Error("String of HEX type must be in byte increments");const v=o||[0],p=(l=l||0)>>>3,_=u===-1?3:0;for(d=0;d<a.length;d+=2){if(f=parseInt(a.substr(d,2),16),isNaN(f))throw new Error("String of HEX type contains invalid characters");for(g=(d>>>1)+p,h=g>>>2;v.length<=h;)v.push(0);v[h]|=f<<8*(_+u*(g%4))}return{value:v,binLen:4*a.length+l}}(r,i,s,n)};case"TEXT":return function(r,i,s){return function(a,o,l,u,d){let f,h,g,v,p,_,S,C,T=0;const A=l||[0],P=(u=u||0)>>>3;if(o==="UTF8")for(S=d===-1?3:0,g=0;g<a.length;g+=1)for(f=a.charCodeAt(g),h=[],128>f?h.push(f):2048>f?(h.push(192|f>>>6),h.push(128|63&f)):55296>f||57344<=f?h.push(224|f>>>12,128|f>>>6&63,128|63&f):(g+=1,f=65536+((1023&f)<<10|1023&a.charCodeAt(g)),h.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|63&f)),v=0;v<h.length;v+=1){for(_=T+P,p=_>>>2;A.length<=p;)A.push(0);A[p]|=h[v]<<8*(S+d*(_%4)),T+=1}else for(S=d===-1?2:0,C=o==="UTF16LE"&&d!==1||o!=="UTF16LE"&&d===1,g=0;g<a.length;g+=1){for(f=a.charCodeAt(g),C===!0&&(v=255&f,f=v<<8|f>>>8),_=T+P,p=_>>>2;A.length<=p;)A.push(0);A[p]|=f<<8*(S+d*(_%4)),T+=2}return{value:A,binLen:8*T+u}}(r,e,i,s,n)};case"B64":return function(r,i,s){return function(a,o,l,u){let d,f,h,g,v,p,_,S=0;const C=o||[0],T=(l=l||0)>>>3,A=u===-1?3:0,P=a.indexOf("=");if(a.search(/^[a-zA-Z0-9=+/]+$/)===-1)throw new Error("Invalid character in base-64 string");if(a=a.replace(/=/g,""),P!==-1&&P<a.length)throw new Error("Invalid '=' found in base-64 string");for(f=0;f<a.length;f+=4){for(v=a.substr(f,4),g=0,h=0;h<v.length;h+=1)d=yJ.indexOf(v.charAt(h)),g|=d<<18-6*h;for(h=0;h<v.length-1;h+=1){for(_=S+T,p=_>>>2;C.length<=p;)C.push(0);C[p]|=(g>>>16-8*h&255)<<8*(A+u*(_%4)),S+=1}}return{value:C,binLen:8*S+l}}(r,i,s,n)};case"BYTES":return function(r,i,s){return function(a,o,l,u){let d,f,h,g;const v=o||[0],p=(l=l||0)>>>3,_=u===-1?3:0;for(f=0;f<a.length;f+=1)d=a.charCodeAt(f),g=f+p,h=g>>>2,v.length<=h&&v.push(0),v[h]|=d<<8*(_+u*(g%4));return{value:v,binLen:8*a.length+l}}(r,i,s,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(_J)}return function(r,i,s){return function(a,o,l,u){return HU(new Uint8Array(a),o,l,u)}(r,i,s,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(bJ)}return function(r,i,s){return HU(r,i,s,n)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function jU(t,e,n,r){switch(t){case"HEX":return function(i){return function(s,a,o,l){const u="0123456789abcdef";let d,f,h="";const g=a/8,v=o===-1?3:0;for(d=0;d<g;d+=1)f=s[d>>>2]>>>8*(v+o*(d%4)),h+=u.charAt(f>>>4&15)+u.charAt(15&f);return l.outputUpper?h.toUpperCase():h}(i,e,n,r)};case"B64":return function(i){return function(s,a,o,l){let u,d,f,h,g,v="";const p=a/8,_=o===-1?3:0;for(u=0;u<p;u+=3)for(h=u+1<p?s[u+1>>>2]:0,g=u+2<p?s[u+2>>>2]:0,f=(s[u>>>2]>>>8*(_+o*(u%4))&255)<<16|(h>>>8*(_+o*((u+1)%4))&255)<<8|g>>>8*(_+o*((u+2)%4))&255,d=0;d<4;d+=1)v+=8*u+6*d<=a?yJ.charAt(f>>>6*(3-d)&63):l.b64Pad;return v}(i,e,n,r)};case"BYTES":return function(i){return function(s,a,o){let l,u,d="";const f=a/8,h=o===-1?3:0;for(l=0;l<f;l+=1)u=s[l>>>2]>>>8*(h+o*(l%4))&255,d+=String.fromCharCode(u);return d}(i,e,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(_J)}return function(i){return function(s,a,o){let l;const u=a/8,d=new ArrayBuffer(u),f=new Uint8Array(d),h=o===-1?3:0;for(l=0;l<u;l+=1)f[l]=s[l>>>2]>>>8*(h+o*(l%4))&255;return d}(i,e,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(bJ)}return function(i){return function(s,a,o){let l;const u=a/8,d=o===-1?3:0,f=new Uint8Array(u);for(l=0;l<u;l+=1)f[l]=s[l>>>2]>>>8*(d+o*(l%4))&255;return f}(i,e,n)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const dx=4294967296,nr=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],lf=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],uf=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],fx="Chosen SHA variant is not supported",xJ="Cannot set numRounds with MAC";function qT(t,e){let n,r;const i=t.binLen>>>3,s=e.binLen>>>3,a=i<<3,o=4-i<<3;if(i%4!=0){for(n=0;n<s;n+=4)r=i+n>>>2,t.value[r]|=e.value[n>>>2]<<a,t.value.push(0),t.value[r+1]|=e.value[n>>>2]>>>o;return(t.value.length<<2)-4>=s+i&&t.value.pop(),{value:t.value,binLen:t.binLen+e.binLen}}return{value:t.value.concat(e.value),binLen:t.binLen+e.binLen}}function GU(t){const e={outputUpper:!1,b64Pad:"=",outputLen:-1},n=t||{},r="Output length must be a multiple of 8";if(e.outputUpper=n.outputUpper||!1,n.b64Pad&&(e.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(r);e.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(r);e.outputLen=n.shakeLen}if(typeof e.outputUpper!="boolean")throw new Error("Invalid outputUpper formatting option");if(typeof e.b64Pad!="string")throw new Error("Invalid b64Pad formatting option");return e}function np(t,e,n,r){const i=t+" must include a value and format";if(!e){if(!r)throw new Error(i);return r}if(e.value===void 0||!e.format)throw new Error(i);return Gy(e.format,e.encoding||"UTF8",n)(e.value)}let ZE=class{constructor(e,n,r){const i=r||{};if(this.t=n,this.i=i.encoding||"UTF8",this.numRounds=i.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=e,this.h=[],this.u=0,this.l=!1,this.A=0,this.H=!1,this.S=[],this.p=[]}update(e){let n,r=0;const i=this.m>>>5,s=this.C(e,this.h,this.u),a=s.binLen,o=s.value,l=a>>>5;for(n=0;n<l;n+=i)r+this.m<=a&&(this.U=this.v(o.slice(n,n+i),this.U),r+=this.m);return this.A+=r,this.h=o.slice(r>>>5),this.u=a%this.m,this.l=!0,this}getHash(e,n){let r,i,s=this.R;const a=GU(n);if(this.K){if(a.outputLen===-1)throw new Error("Output length must be specified in options");s=a.outputLen}const o=jU(e,s,this.T,a);if(this.H&&this.g)return o(this.g(a));for(i=this.F(this.h.slice(),this.u,this.A,this.L(this.U),s),r=1;r<this.numRounds;r+=1)this.K&&s%32!=0&&(i[i.length-1]&=16777215>>>24-s%32),i=this.F(i,s,0,this.B(this.o),s);return o(i)}setHMACKey(e,n,r){if(!this.M)throw new Error("Variant does not support HMAC");if(this.l)throw new Error("Cannot set MAC key after calling update");const i=Gy(n,(r||{}).encoding||"UTF8",this.T);this.k(i(e))}k(e){const n=this.m>>>3,r=n/4-1;let i;if(this.numRounds!==1)throw new Error(xJ);if(this.H)throw new Error("MAC key already set");for(n<e.binLen/8&&(e.value=this.F(e.value,e.binLen,0,this.B(this.o),this.R));e.value.length<=r;)e.value.push(0);for(i=0;i<=r;i+=1)this.S[i]=909522486^e.value[i],this.p[i]=1549556828^e.value[i];this.U=this.v(this.S,this.U),this.A=this.m,this.H=!0}getHMAC(e,n){const r=GU(n);return jU(e,this.R,this.T,r)(this.Y())}Y(){let e;if(!this.H)throw new Error("Cannot call getHMAC without first setting MAC key");const n=this.F(this.h.slice(),this.u,this.A,this.L(this.U),this.R);return e=this.v(this.p,this.B(this.o)),e=this.F(n,this.R,this.m,e,this.R),e}};function yg(t,e){return t<<e|t>>>32-e}function Ed(t,e){return t>>>e|t<<32-e}function wJ(t,e){return t>>>e}function WU(t,e,n){return t^e^n}function SJ(t,e,n){return t&e^~t&n}function TJ(t,e,n){return t&e^t&n^e&n}function RMe(t){return Ed(t,2)^Ed(t,13)^Ed(t,22)}function xo(t,e){const n=(65535&t)+(65535&e);return(65535&(t>>>16)+(e>>>16)+(n>>>16))<<16|65535&n}function OMe(t,e,n,r){const i=(65535&t)+(65535&e)+(65535&n)+(65535&r);return(65535&(t>>>16)+(e>>>16)+(n>>>16)+(r>>>16)+(i>>>16))<<16|65535&i}function g2(t,e,n,r,i){const s=(65535&t)+(65535&e)+(65535&n)+(65535&r)+(65535&i);return(65535&(t>>>16)+(e>>>16)+(n>>>16)+(r>>>16)+(i>>>16)+(s>>>16))<<16|65535&s}function MMe(t){return Ed(t,7)^Ed(t,18)^wJ(t,3)}function LMe(t){return Ed(t,6)^Ed(t,11)^Ed(t,25)}function $Me(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function CJ(t,e){let n,r,i,s,a,o,l;const u=[];for(n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],l=0;l<80;l+=1)u[l]=l<16?t[l]:yg(u[l-3]^u[l-8]^u[l-14]^u[l-16],1),o=l<20?g2(yg(n,5),SJ(r,i,s),a,1518500249,u[l]):l<40?g2(yg(n,5),WU(r,i,s),a,1859775393,u[l]):l<60?g2(yg(n,5),TJ(r,i,s),a,2400959708,u[l]):g2(yg(n,5),WU(r,i,s),a,3395469782,u[l]),a=s,s=i,i=yg(r,30),r=n,n=o;return e[0]=xo(n,e[0]),e[1]=xo(r,e[1]),e[2]=xo(i,e[2]),e[3]=xo(s,e[3]),e[4]=xo(a,e[4]),e}function NMe(t,e,n,r){let i;const s=15+(e+65>>>9<<4),a=e+n;for(;t.length<=s;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[s]=4294967295&a,t[s-1]=a/dx|0,i=0;i<t.length;i+=16)r=CJ(t.slice(i,i+16),r);return r}let FMe=class extends ZE{constructor(e,n,r){if(e!=="SHA-1")throw new Error(fx);super(e,n,r);const i=r||{};this.M=!0,this.g=this.Y,this.T=-1,this.C=Gy(this.t,this.i,this.T),this.v=CJ,this.L=function(s){return s.slice()},this.B=$Me,this.F=NMe,this.U=[1732584193,4023233417,2562383102,271733878,3285377520],this.m=512,this.R=160,this.K=!1,i.hmacKey&&this.k(np("hmacKey",i.hmacKey,this.T))}};function qU(t){let e;return e=t=="SHA-224"?lf.slice():uf.slice(),e}function XU(t,e){let n,r,i,s,a,o,l,u,d,f,h;const g=[];for(n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=0;h<64;h+=1)g[h]=h<16?t[h]:OMe(Ed(v=g[h-2],17)^Ed(v,19)^wJ(v,10),g[h-7],MMe(g[h-15]),g[h-16]),d=g2(u,LMe(a),SJ(a,o,l),nr[h],g[h]),f=xo(RMe(n),TJ(n,r,i)),u=l,l=o,o=a,a=xo(s,d),s=i,i=r,r=n,n=xo(d,f);var v;return e[0]=xo(n,e[0]),e[1]=xo(r,e[1]),e[2]=xo(i,e[2]),e[3]=xo(s,e[3]),e[4]=xo(a,e[4]),e[5]=xo(o,e[5]),e[6]=xo(l,e[6]),e[7]=xo(u,e[7]),e}let BMe=class extends ZE{constructor(e,n,r){if(e!=="SHA-224"&&e!=="SHA-256")throw new Error(fx);super(e,n,r);const i=r||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=Gy(this.t,this.i,this.T),this.v=XU,this.L=function(s){return s.slice()},this.B=qU,this.F=function(s,a,o,l){return function(u,d,f,h,g){let v,p;const _=15+(d+65>>>9<<4),S=d+f;for(;u.length<=_;)u.push(0);for(u[d>>>5]|=128<<24-d%32,u[_]=4294967295&S,u[_-1]=S/dx|0,v=0;v<u.length;v+=16)h=XU(u.slice(v,v+16),h);return p=g==="SHA-224"?[h[0],h[1],h[2],h[3],h[4],h[5],h[6]]:h,p}(s,a,o,l,e)},this.U=qU(e),this.m=512,this.R=e==="SHA-224"?224:256,this.K=!1,i.hmacKey&&this.k(np("hmacKey",i.hmacKey,this.T))}},jt=class{constructor(e,n){this.N=e,this.I=n}};function YU(t,e){let n;return e>32?(n=64-e,new jt(t.I<<e|t.N>>>n,t.N<<e|t.I>>>n)):e!==0?(n=32-e,new jt(t.N<<e|t.I>>>n,t.I<<e|t.N>>>n)):t}function Ad(t,e){let n;return e<32?(n=32-e,new jt(t.N>>>e|t.I<<n,t.I>>>e|t.N<<n)):(n=64-e,new jt(t.I>>>e|t.N<<n,t.N>>>e|t.I<<n))}function EJ(t,e){return new jt(t.N>>>e,t.I>>>e|t.N<<32-e)}function UMe(t,e,n){return new jt(t.N&e.N^t.N&n.N^e.N&n.N,t.I&e.I^t.I&n.I^e.I&n.I)}function VMe(t){const e=Ad(t,28),n=Ad(t,34),r=Ad(t,39);return new jt(e.N^n.N^r.N,e.I^n.I^r.I)}function tc(t,e){let n,r;n=(65535&t.I)+(65535&e.I),r=(t.I>>>16)+(e.I>>>16)+(n>>>16);const i=(65535&r)<<16|65535&n;return n=(65535&t.N)+(65535&e.N)+(r>>>16),r=(t.N>>>16)+(e.N>>>16)+(n>>>16),new jt((65535&r)<<16|65535&n,i)}function zMe(t,e,n,r){let i,s;i=(65535&t.I)+(65535&e.I)+(65535&n.I)+(65535&r.I),s=(t.I>>>16)+(e.I>>>16)+(n.I>>>16)+(r.I>>>16)+(i>>>16);const a=(65535&s)<<16|65535&i;return i=(65535&t.N)+(65535&e.N)+(65535&n.N)+(65535&r.N)+(s>>>16),s=(t.N>>>16)+(e.N>>>16)+(n.N>>>16)+(r.N>>>16)+(i>>>16),new jt((65535&s)<<16|65535&i,a)}function HMe(t,e,n,r,i){let s,a;s=(65535&t.I)+(65535&e.I)+(65535&n.I)+(65535&r.I)+(65535&i.I),a=(t.I>>>16)+(e.I>>>16)+(n.I>>>16)+(r.I>>>16)+(i.I>>>16)+(s>>>16);const o=(65535&a)<<16|65535&s;return s=(65535&t.N)+(65535&e.N)+(65535&n.N)+(65535&r.N)+(65535&i.N)+(a>>>16),a=(t.N>>>16)+(e.N>>>16)+(n.N>>>16)+(r.N>>>16)+(i.N>>>16)+(s>>>16),new jt((65535&a)<<16|65535&s,o)}function M_(t,e){return new jt(t.N^e.N,t.I^e.I)}function jMe(t){const e=Ad(t,19),n=Ad(t,61),r=EJ(t,6);return new jt(e.N^n.N^r.N,e.I^n.I^r.I)}function GMe(t){const e=Ad(t,1),n=Ad(t,8),r=EJ(t,7);return new jt(e.N^n.N^r.N,e.I^n.I^r.I)}function WMe(t){const e=Ad(t,14),n=Ad(t,18),r=Ad(t,41);return new jt(e.N^n.N^r.N,e.I^n.I^r.I)}const qMe=[new jt(nr[0],3609767458),new jt(nr[1],602891725),new jt(nr[2],3964484399),new jt(nr[3],2173295548),new jt(nr[4],4081628472),new jt(nr[5],3053834265),new jt(nr[6],2937671579),new jt(nr[7],3664609560),new jt(nr[8],2734883394),new jt(nr[9],1164996542),new jt(nr[10],1323610764),new jt(nr[11],3590304994),new jt(nr[12],4068182383),new jt(nr[13],991336113),new jt(nr[14],633803317),new jt(nr[15],3479774868),new jt(nr[16],2666613458),new jt(nr[17],944711139),new jt(nr[18],2341262773),new jt(nr[19],2007800933),new jt(nr[20],1495990901),new jt(nr[21],1856431235),new jt(nr[22],3175218132),new jt(nr[23],2198950837),new jt(nr[24],3999719339),new jt(nr[25],766784016),new jt(nr[26],2566594879),new jt(nr[27],3203337956),new jt(nr[28],1034457026),new jt(nr[29],2466948901),new jt(nr[30],3758326383),new jt(nr[31],168717936),new jt(nr[32],1188179964),new jt(nr[33],1546045734),new jt(nr[34],1522805485),new jt(nr[35],2643833823),new jt(nr[36],2343527390),new jt(nr[37],1014477480),new jt(nr[38],1206759142),new jt(nr[39],344077627),new jt(nr[40],1290863460),new jt(nr[41],3158454273),new jt(nr[42],3505952657),new jt(nr[43],106217008),new jt(nr[44],3606008344),new jt(nr[45],1432725776),new jt(nr[46],1467031594),new jt(nr[47],851169720),new jt(nr[48],3100823752),new jt(nr[49],1363258195),new jt(nr[50],3750685593),new jt(nr[51],3785050280),new jt(nr[52],3318307427),new jt(nr[53],3812723403),new jt(nr[54],2003034995),new jt(nr[55],3602036899),new jt(nr[56],1575990012),new jt(nr[57],1125592928),new jt(nr[58],2716904306),new jt(nr[59],442776044),new jt(nr[60],593698344),new jt(nr[61],3733110249),new jt(nr[62],2999351573),new jt(nr[63],3815920427),new jt(3391569614,3928383900),new jt(3515267271,566280711),new jt(3940187606,3454069534),new jt(4118630271,4000239992),new jt(116418474,1914138554),new jt(174292421,2731055270),new jt(289380356,3203993006),new jt(460393269,320620315),new jt(685471733,587496836),new jt(852142971,1086792851),new jt(1017036298,365543100),new jt(1126000580,2618297676),new jt(1288033470,3409855158),new jt(1501505948,4234509866),new jt(1607167915,987167468),new jt(1816402316,1246189591)];function KU(t){return t==="SHA-384"?[new jt(3418070365,lf[0]),new jt(1654270250,lf[1]),new jt(2438529370,lf[2]),new jt(355462360,lf[3]),new jt(1731405415,lf[4]),new jt(41048885895,lf[5]),new jt(3675008525,lf[6]),new jt(1203062813,lf[7])]:[new jt(uf[0],4089235720),new jt(uf[1],2227873595),new jt(uf[2],4271175723),new jt(uf[3],1595750129),new jt(uf[4],2917565137),new jt(uf[5],725511199),new jt(uf[6],4215389547),new jt(uf[7],327033209)]}function ZU(t,e){let n,r,i,s,a,o,l,u,d,f,h,g;const v=[];for(n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=0;h<80;h+=1)h<16?(g=2*h,v[h]=new jt(t[g],t[g+1])):v[h]=zMe(jMe(v[h-2]),v[h-7],GMe(v[h-15]),v[h-16]),d=HMe(u,WMe(a),(_=o,S=l,new jt((p=a).N&_.N^~p.N&S.N,p.I&_.I^~p.I&S.I)),qMe[h],v[h]),f=tc(VMe(n),UMe(n,r,i)),u=l,l=o,o=a,a=tc(s,d),s=i,i=r,r=n,n=tc(d,f);var p,_,S;return e[0]=tc(n,e[0]),e[1]=tc(r,e[1]),e[2]=tc(i,e[2]),e[3]=tc(s,e[3]),e[4]=tc(a,e[4]),e[5]=tc(o,e[5]),e[6]=tc(l,e[6]),e[7]=tc(u,e[7]),e}let XMe=class extends ZE{constructor(e,n,r){if(e!=="SHA-384"&&e!=="SHA-512")throw new Error(fx);super(e,n,r);const i=r||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=Gy(this.t,this.i,this.T),this.v=ZU,this.L=function(s){return s.slice()},this.B=KU,this.F=function(s,a,o,l){return function(u,d,f,h,g){let v,p;const _=31+(d+129>>>10<<5),S=d+f;for(;u.length<=_;)u.push(0);for(u[d>>>5]|=128<<24-d%32,u[_]=4294967295&S,u[_-1]=S/dx|0,v=0;v<u.length;v+=32)h=ZU(u.slice(v,v+32),h);return p=g==="SHA-384"?[h[0].N,h[0].I,h[1].N,h[1].I,h[2].N,h[2].I,h[3].N,h[3].I,h[4].N,h[4].I,h[5].N,h[5].I]:[h[0].N,h[0].I,h[1].N,h[1].I,h[2].N,h[2].I,h[3].N,h[3].I,h[4].N,h[4].I,h[5].N,h[5].I,h[6].N,h[6].I,h[7].N,h[7].I],p}(s,a,o,l,e)},this.U=KU(e),this.m=1024,this.R=e==="SHA-384"?384:512,this.K=!1,i.hmacKey&&this.k(np("hmacKey",i.hmacKey,this.T))}};const YMe=[new jt(0,1),new jt(0,32898),new jt(2147483648,32906),new jt(2147483648,2147516416),new jt(0,32907),new jt(0,2147483649),new jt(2147483648,2147516545),new jt(2147483648,32777),new jt(0,138),new jt(0,136),new jt(0,2147516425),new jt(0,2147483658),new jt(0,2147516555),new jt(2147483648,139),new jt(2147483648,32905),new jt(2147483648,32771),new jt(2147483648,32770),new jt(2147483648,128),new jt(0,32778),new jt(2147483648,2147483658),new jt(2147483648,2147516545),new jt(2147483648,32896),new jt(0,2147483649),new jt(2147483648,2147516424)],KMe=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function uI(t){let e;const n=[];for(e=0;e<5;e+=1)n[e]=[new jt(0,0),new jt(0,0),new jt(0,0),new jt(0,0),new jt(0,0)];return n}function ZMe(t){let e;const n=[];for(e=0;e<5;e+=1)n[e]=t[e].slice();return n}function fw(t,e){let n,r,i,s;const a=[],o=[];if(t!==null)for(r=0;r<t.length;r+=2)e[(r>>>1)%5][(r>>>1)/5|0]=M_(e[(r>>>1)%5][(r>>>1)/5|0],new jt(t[r+1],t[r]));for(n=0;n<24;n+=1){for(s=uI(),r=0;r<5;r+=1)a[r]=(l=e[r][0],u=e[r][1],d=e[r][2],f=e[r][3],h=e[r][4],new jt(l.N^u.N^d.N^f.N^h.N,l.I^u.I^d.I^f.I^h.I));for(r=0;r<5;r+=1)o[r]=M_(a[(r+4)%5],YU(a[(r+1)%5],1));for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)e[r][i]=M_(e[r][i],o[r]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)s[i][(2*r+3*i)%5]=YU(e[r][i],KMe[r][i]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)e[r][i]=M_(s[r][i],new jt(~s[(r+1)%5][i].N&s[(r+2)%5][i].N,~s[(r+1)%5][i].I&s[(r+2)%5][i].I));e[0][0]=M_(e[0][0],YMe[n])}var l,u,d,f,h;return e}function AJ(t){let e,n,r=0;const i=[0,0],s=[4294967295&t,t/dx&2097151];for(e=6;e>=0;e--)n=s[e>>2]>>>8*e&255,n===0&&r===0||(i[r+1>>2]|=n<<8*(r+1),r+=1);return r=r!==0?r:1,i[0]|=r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}function f4(t){return qT(AJ(t.binLen),t)}function QU(t,e){let n,r=AJ(e);r=qT(r,t);const i=e>>>2,s=(i-r.value.length%i)%i;for(n=0;n<s;n++)r.value.push(0);return r.value}let QMe=class extends ZE{constructor(t,e,n){let r=6,i=0;super(t,e,n);const s=n||{};if(this.numRounds!==1){if(s.kmacKey||s.hmacKey)throw new Error(xJ);if(this.o==="CSHAKE128"||this.o==="CSHAKE256")throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.T=1,this.C=Gy(this.t,this.i,this.T),this.v=fw,this.L=ZMe,this.B=uI,this.U=uI(),this.K=!1,t){case"SHA3-224":this.m=i=1152,this.R=224,this.M=!0,this.g=this.Y;break;case"SHA3-256":this.m=i=1088,this.R=256,this.M=!0,this.g=this.Y;break;case"SHA3-384":this.m=i=832,this.R=384,this.M=!0,this.g=this.Y;break;case"SHA3-512":this.m=i=576,this.R=512,this.M=!0,this.g=this.Y;break;case"SHAKE128":r=31,this.m=i=1344,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"SHAKE256":r=31,this.m=i=1088,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"KMAC128":r=4,this.m=i=1344,this.X(n),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"KMAC256":r=4,this.m=i=1088,this.X(n),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"CSHAKE128":this.m=i=1344,r=this.O(n),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"CSHAKE256":this.m=i=1088,r=this.O(n),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;default:throw new Error(fx)}this.F=function(a,o,l,u,d){return function(f,h,g,v,p,_,S){let C,T,A=0;const P=[],D=p>>>5,R=h>>>5;for(C=0;C<R&&h>=p;C+=D)v=fw(f.slice(C,C+D),v),h-=p;for(f=f.slice(C),h%=p;f.length<D;)f.push(0);for(C=h>>>3,f[C>>2]^=_<<C%4*8,f[D-1]^=2147483648,v=fw(f,v);32*P.length<S&&(T=v[A%5][A/5|0],P.push(T.I),!(32*P.length>=S));)P.push(T.N),A+=1,64*A%p==0&&(fw(null,v),A=0);return P}(a,o,0,u,i,r,d)},s.hmacKey&&this.k(np("hmacKey",s.hmacKey,this.T))}O(t,e){const n=function(i){const s=i||{};return{funcName:np("funcName",s.funcName,1,{value:[],binLen:0}),customization:np("Customization",s.customization,1,{value:[],binLen:0})}}(t||{});e&&(n.funcName=e);const r=qT(f4(n.funcName),f4(n.customization));if(n.customization.binLen!==0||n.funcName.binLen!==0){const i=QU(r,this.m>>>3);for(let s=0;s<i.length;s+=this.m>>>5)this.U=this.v(i.slice(s,s+(this.m>>>5)),this.U),this.A+=this.m;return 4}return 31}X(t){const e=function(r){const i=r||{};return{kmacKey:np("kmacKey",i.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:np("Customization",i.customization,1,{value:[],binLen:0})}}(t||{});this.O(t,e.funcName);const n=QU(f4(e.kmacKey),this.m>>>3);for(let r=0;r<n.length;r+=this.m>>>5)this.U=this.v(n.slice(r,r+(this.m>>>5)),this.U),this.A+=this.m;this.H=!0}_(t){const e=qT({value:this.h.slice(),binLen:this.u},function(n){let r,i,s=0;const a=[0,0],o=[4294967295&n,n/dx&2097151];for(r=6;r>=0;r--)i=o[r>>2]>>>8*r&255,i===0&&s===0||(a[s>>2]|=i<<8*s,s+=1);return s=s!==0?s:1,a[s>>2]|=s<<8*s,{value:s+1>4?a:[a[0]],binLen:8+8*s}}(t.outputLen));return this.F(e.value,e.binLen,this.A,this.L(this.U),t.outputLen)}};class JMe{constructor(e,n,r){if(e=="SHA-1")this.P=new FMe(e,n,r);else if(e=="SHA-224"||e=="SHA-256")this.P=new BMe(e,n,r);else if(e=="SHA-384"||e=="SHA-512")this.P=new XMe(e,n,r);else{if(e!="SHA3-224"&&e!="SHA3-256"&&e!="SHA3-384"&&e!="SHA3-512"&&e!="SHAKE128"&&e!="SHAKE256"&&e!="CSHAKE128"&&e!="CSHAKE256"&&e!="KMAC128"&&e!="KMAC256")throw new Error(fx);this.P=new QMe(e,n,r)}}update(e){return this.P.update(e),this}getHash(e,n){return this.P.getHash(e,n)}setHMACKey(e,n,r){this.P.setHMACKey(e,n,r)}getHMAC(e,n){return this.P.getHMAC(e,n)}}async function e8e(){var e=btoa("841aa35355d86c55c1a948831ab90f23f80f71c65a08feb0dc4830a066fd55d36422c464bc58128edecf2f0bf5e0baadfda1168f8cb5883bd8ff6745454afe8b");const n=new JMe("SHA-256","TEXT");n.update(e);var r=n.getHash("B64");r=r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),ke.code_challenge=r}async function PJ(){await e8e(),document.domain=="localhost"?ke.redirect_uri=an.redirectUrl:document.referrer!=""?ke.redirect_uri=document.referrer:ke.redirect_uri=window.location.origin;const t={baseURL:an.authUrl,url:"oauth2/authorize",method:"GET",params:{response_type:"code",code_challenge_method:"S256",code_challenge:ke.code_challenge,redirect_uri:ke.redirect_uri,scope:"openid permission",client_id:"pkce"},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,maxRedirects:0};vn(t).then(function(e){console.log(e.request.responseURL)}).catch(function(e){console.log(e)})}function kJ(t){const e="==".slice(0,(4-t.length%4)%4),n=t.replace(/-/g,"+").replace(/_/g,"/")+e,r=atob(n),i=new ArrayBuffer(r.length),s=new Uint8Array(i);for(let a=0;a<r.length;a++)s[a]=r.charCodeAt(a);return i}function DJ(t){const e=new Uint8Array(t);let n="";for(const s of e)n+=String.fromCharCode(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var zi="copy",Jl="convert";function Kv(t,e,n){if(e===zi)return n;if(e===Jl)return t(n);if(e instanceof Array)return n.map(r=>Kv(t,e[0],r));if(e instanceof Object){const r={};for(const[i,s]of Object.entries(e)){if(s.derive){const a=s.derive(n);a!==void 0&&(n[i]=a)}if(!(i in n)){if(s.required)throw new Error(`Missing key: ${i}`);continue}if(n[i]==null){r[i]=null;continue}r[i]=Kv(t,s.schema,n[i])}return r}}function cI(t,e){return{required:!0,schema:t,derive:e}}function cs(t){return{required:!0,schema:t}}function Gs(t){return{required:!1,schema:t}}var IJ={type:cs(zi),id:cs(Jl),transports:Gs(zi)},RJ={appid:Gs(zi),appidExclude:Gs(zi),credProps:Gs(zi)},OJ={appid:Gs(zi),appidExclude:Gs(zi),credProps:Gs(zi)},t8e={publicKey:cs({rp:cs(zi),user:cs({id:cs(Jl),name:cs(zi),displayName:cs(zi)}),challenge:cs(Jl),pubKeyCredParams:cs(zi),timeout:Gs(zi),excludeCredentials:Gs([IJ]),authenticatorSelection:Gs(zi),attestation:Gs(zi),extensions:Gs(RJ)}),signal:Gs(zi)},n8e={type:cs(zi),id:cs(zi),rawId:cs(Jl),authenticatorAttachment:Gs(zi),response:cs({clientDataJSON:cs(Jl),attestationObject:cs(Jl),transports:cI(zi,t=>{var e;return((e=t.getTransports)==null?void 0:e.call(t))||[]})}),clientExtensionResults:cI(OJ,t=>t.getClientExtensionResults())},r8e={mediation:Gs(zi),publicKey:cs({challenge:cs(Jl),timeout:Gs(zi),rpId:Gs(zi),allowCredentials:Gs([IJ]),userVerification:Gs(zi),extensions:Gs(RJ)}),signal:Gs(zi)},i8e={type:cs(zi),id:cs(zi),rawId:cs(Jl),authenticatorAttachment:Gs(zi),response:cs({clientDataJSON:cs(Jl),authenticatorData:cs(Jl),signature:cs(Jl),userHandle:cs(Jl)}),clientExtensionResults:cI(OJ,t=>t.getClientExtensionResults())};function s8e(t){return Kv(kJ,t8e,t)}function a8e(t){return Kv(DJ,n8e,t)}async function MJ(t){const e=await navigator.credentials.create(s8e(t));return a8e(e)}function o8e(t){return Kv(kJ,r8e,t)}function l8e(t){return Kv(DJ,i8e,t)}async function u8e(t){const e=await navigator.credentials.get(o8e(t));return l8e(e)}const c8e=()=>{Et.qrcode=!0;const t={baseURL:an.apiUrl,url:"/public/key",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};vn(t).then(async function(e){ke.code_verifier=e.data,ke.qrcodeUrl=an.authUrl+"/login/qrcode?text="+e.data,ke.code_verifier!=null&&ke.code_verifier!=""&&d8e()})};async function d8e(){var t=new EventSource(an.apiUrl+"/public/token/qrcode?text="+ke.code_verifier,{withCredentials:!0});t.onmessage=async e=>{var n=e.data.split("&&");ke.access_token=n[0],ke.id_token=n[1];const r=HD(ke.id_token),i=JSON.stringify(r),s=JSON.parse(i);ke.permission=s.permission,ke.sub=s.sub,ke.email_verified=s.email_verified,ke.client_id=s.azp,t.close(),Et.qrcode=!1,ke.sub!=""&&(await f8e()).data==200&&NJ("")}}const f8e=async()=>{const t={baseURL:an.authUrl,url:"/login/token",method:"POST",data:{token:ke.access_token,idToken:ke.id_token},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};return await vn(t)},H8=window.location.href,LJ=new URL(H8).searchParams.get("redirect_uri"),$J=new URL(H8).searchParams.get("state"),h4=new URL(H8).searchParams.get("username"),p4=document.referrer;var xf;p4!=""&&p4!=null&&(xf=p4.split(".")[0].split("//")[1],xf!="elpsykongroo"&&xf!="auth"&&xf!="preview"&&document.domain!="localhost"&&document.domain!="127.0.0.1"&&(Et.webauthnFormVisible=!0));LJ!=null&&$J!=null&&(Et.webauthnFormVisible=!0);h4!=null&&h4!=null&&(ke.sub="",ke.username=h4,dI());const h8e=()=>{if(ke.username.length>0){Et.loading=!0;const t={baseURL:an.authUrl,url:"/register",method:"POST",data:{username:ke.username,display:ke.username},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};vn(t).then(async function(e){if(e.message==="Network Error"&&e.request.status===0&&e.request.responseURL===""){Et.loading=!1;return}if(e.data==409){di.alert("the user already exist"),Et.loading=!1;return}if(e.data){const n=await MJ(e.data);p8e(n)}})}},p8e=t=>{const e={baseURL:an.authUrl,url:"/finishAuth",method:"POST",data:{credname:ke.username,username:ke.username,credential:JSON.stringify(t)},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};vn(e).then(function(n){Et.loading=!1,n.data==200?Qb({title:"Register success",message:"have fun with login",duration:5e3}):Qb({title:"Register failed",message:"this user already exist",duration:5e3})})};async function dI(){if(ke.username.length>0){Et.loading=!0;const t={baseURL:an.authUrl,url:"/login",method:"POST",data:{username:ke.username},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};vn(t).then(async function(e){if(Et.loading=!1,e.data==200)if(Yv().length==0)XS(ke.username);else{const n=await gJ();(n==""||n==null)&&XS(ke.username),Et.webauthnFormVisible=!1}else if(e.data==202)di.alert("already login with other user");else if(e.data==400)di.alert("you need a authenticator, please check your email to add");else if(e.data==401)di.alert("your account may be locked");else if(e.data==404)di.alert("the user is not exist");else if(e.status==503)di.alert("network error, please try again later");else if(e.status==500)di.alert("service error, please try again later");else if(e.status!=403&&e.message!="Network Error"){Et.loading=!0;try{if(e.data){const n=await u8e(e.data);if(n){const r={baseURL:an.authUrl,url:"/welcome",method:"POST",data:{username:ke.username,credential:JSON.stringify(n)},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};vn(r).then(function(i){i.data==200?(Et.loading=!1,Et.webauthnFormVisible=!1,console.log(xf),xf==null||xf=="elpsykongroo"||xf=="labroom"||xf=="preview"?XS(ke.username):LJ!=null&&$J!=null&&(window.location.href=an.authUrl+"/oauth2/authorize"+window.location.search)):i.data==401?di.alert("authentication failed"):window.location.href=i.data})}else Et.tmpLogin=!0}}catch(n){console.log(n),alert(n),Et.loading=!1;return}}})}}const XS=t=>{document.domain!="localhost"&&document.domain!="127.0.0.1"?NJ(t):PJ()},NJ=t=>{ke.username=="admin"||t=="admin"?window.location.href=an.oauth2ProxyPkceUrl+"/oauth2/start?rd=https://"+window.location.host:window.location.href=an.oauth2ProxyUrl+"/oauth2/start?rd=https://"+window.location.host},m8e=()=>{Et.tmpLogin=!1;const t={baseURL:an.authUrl,url:"/email/tmp",method:"POST",data:{username:ke.username},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};vn(t)};async function FJ(){$S("you will logout in 3s"),tp(),ke.grant_type="",ke.expires_in=5,ke.sub="",await g8e(),await v8e(),ke.access_token="",ke.refresh_token="",ke.id_token="",window.location.href=an.redirectUrl}async function g8e(){const t={baseURL:an.authUrl,url:"/oauth2/revoke",method:"POST",data:{token:ke.access_token,client_id:ke.client_id},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};await vn(t)}async function v8e(){const t={baseURL:an.authUrl,url:"/connect/logout",method:"POST",data:{id_token_hint:ke.id_token,post_logout_redirect_uri:an.redirectUrl},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};await vn(t)}/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 *  2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var vd=function(){return vd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vd.apply(this,arguments)};var Dm;(function(t){var e=function(){function a(o,l,u,d){if(this.version=o,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],o<a.MIN_VERSION||o>a.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=o*4+17;for(var f=[],h=0;h<this.size;h++)f.push(!1);for(var h=0;h<this.size;h++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();var g=this.addEccAndInterleave(u);if(this.drawCodewords(g),d==-1)for(var v=1e9,h=0;h<8;h++){this.applyMask(h),this.drawFormatBits(h);var p=this.getPenaltyScore();p<v&&(d=h,v=p),this.applyMask(h)}i(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}return a.encodeText=function(o,l){var u=t.QrSegment.makeSegments(o);return a.encodeSegments(u,l)},a.encodeBinary=function(o,l){var u=t.QrSegment.makeBytes(o);return a.encodeSegments([u],l)},a.encodeSegments=function(o,l,u,d,f,h){if(u===void 0&&(u=1),d===void 0&&(d=40),f===void 0&&(f=-1),h===void 0&&(h=!0),!(a.MIN_VERSION<=u&&u<=d&&d<=a.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");var g,v;for(g=u;;g++){var p=a.getNumDataCodewords(g,l)*8,_=s.getTotalBits(o,g);if(_<=p){v=_;break}if(g>=d)throw new RangeError("Data too long")}for(var S=0,C=[a.Ecc.MEDIUM,a.Ecc.QUARTILE,a.Ecc.HIGH];S<C.length;S++){var T=C[S];h&&v<=a.getNumDataCodewords(g,T)*8&&(l=T)}for(var A=[],P=0,D=o;P<D.length;P++){var R=D[P];n(R.mode.modeBits,4,A),n(R.numChars,R.mode.numCharCountBits(g),A);for(var N=0,U=R.getData();N<U.length;N++){var Y=U[N];A.push(Y)}}i(A.length==v);var H=a.getNumDataCodewords(g,l)*8;i(A.length<=H),n(0,Math.min(4,H-A.length),A),n(0,(8-A.length%8)%8,A),i(A.length%8==0);for(var j=236;A.length<H;j^=253)n(j,8,A);for(var X=[];X.length*8<A.length;)X.push(0);return A.forEach(function(W,F){return X[F>>>3]|=W<<7-(F&7)}),new a(g,l,X,f)},a.prototype.getModule=function(o,l){return 0<=o&&o<this.size&&0<=l&&l<this.size&&this.modules[l][o]},a.prototype.getModules=function(){return this.modules},a.prototype.drawFunctionPatterns=function(){for(var o=0;o<this.size;o++)this.setFunctionModule(6,o,o%2==0),this.setFunctionModule(o,6,o%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var l=this.getAlignmentPatternPositions(),u=l.length,o=0;o<u;o++)for(var d=0;d<u;d++)o==0&&d==0||o==0&&d==u-1||o==u-1&&d==0||this.drawAlignmentPattern(l[o],l[d]);this.drawFormatBits(0),this.drawVersion()},a.prototype.drawFormatBits=function(o){for(var l=this.errorCorrectionLevel.formatBits<<3|o,u=l,d=0;d<10;d++)u=u<<1^(u>>>9)*1335;var f=(l<<10|u)^21522;i(f>>>15==0);for(var d=0;d<=5;d++)this.setFunctionModule(8,d,r(f,d));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(var d=9;d<15;d++)this.setFunctionModule(14-d,8,r(f,d));for(var d=0;d<8;d++)this.setFunctionModule(this.size-1-d,8,r(f,d));for(var d=8;d<15;d++)this.setFunctionModule(8,this.size-15+d,r(f,d));this.setFunctionModule(8,this.size-8,!0)},a.prototype.drawVersion=function(){if(!(this.version<7)){for(var o=this.version,l=0;l<12;l++)o=o<<1^(o>>>11)*7973;var u=this.version<<12|o;i(u>>>18==0);for(var l=0;l<18;l++){var d=r(u,l),f=this.size-11+l%3,h=Math.floor(l/3);this.setFunctionModule(f,h,d),this.setFunctionModule(h,f,d)}}},a.prototype.drawFinderPattern=function(o,l){for(var u=-4;u<=4;u++)for(var d=-4;d<=4;d++){var f=Math.max(Math.abs(d),Math.abs(u)),h=o+d,g=l+u;0<=h&&h<this.size&&0<=g&&g<this.size&&this.setFunctionModule(h,g,f!=2&&f!=4)}},a.prototype.drawAlignmentPattern=function(o,l){for(var u=-2;u<=2;u++)for(var d=-2;d<=2;d++)this.setFunctionModule(o+d,l+u,Math.max(Math.abs(d),Math.abs(u))!=1)},a.prototype.setFunctionModule=function(o,l,u){this.modules[l][o]=u,this.isFunction[l][o]=!0},a.prototype.addEccAndInterleave=function(o){var l=this.version,u=this.errorCorrectionLevel;if(o.length!=a.getNumDataCodewords(l,u))throw new RangeError("Invalid argument");for(var d=a.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l],f=a.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l],h=Math.floor(a.getNumRawDataModules(l)/8),g=d-h%d,v=Math.floor(h/d),p=[],_=a.reedSolomonComputeDivisor(f),S=0,C=0;S<d;S++){var T=o.slice(C,C+v-f+(S<g?0:1));C+=T.length;var A=a.reedSolomonComputeRemainder(T,_);S<g&&T.push(0),p.push(T.concat(A))}for(var P=[],D=function(R){p.forEach(function(N,U){(R!=v-f||U>=g)&&P.push(N[R])})},S=0;S<p[0].length;S++)D(S);return i(P.length==h),P},a.prototype.drawCodewords=function(o){if(o.length!=Math.floor(a.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var l=0,u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(var d=0;d<this.size;d++)for(var f=0;f<2;f++){var h=u-f,g=(u+1&2)==0,v=g?this.size-1-d:d;!this.isFunction[v][h]&&l<o.length*8&&(this.modules[v][h]=r(o[l>>>3],7-(l&7)),l++)}}i(l==o.length*8)},a.prototype.applyMask=function(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(var l=0;l<this.size;l++)for(var u=0;u<this.size;u++){var d=void 0;switch(o){case 0:d=(u+l)%2==0;break;case 1:d=l%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+l)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(l/2))%2==0;break;case 5:d=u*l%2+u*l%3==0;break;case 6:d=(u*l%2+u*l%3)%2==0;break;case 7:d=((u+l)%2+u*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][u]&&d&&(this.modules[l][u]=!this.modules[l][u])}},a.prototype.getPenaltyScore=function(){for(var o=0,l=0;l<this.size;l++){for(var u=!1,d=0,f=[0,0,0,0,0,0,0],h=0;h<this.size;h++)this.modules[l][h]==u?(d++,d==5?o+=a.PENALTY_N1:d>5&&o++):(this.finderPenaltyAddHistory(d,f),u||(o+=this.finderPenaltyCountPatterns(f)*a.PENALTY_N3),u=this.modules[l][h],d=1);o+=this.finderPenaltyTerminateAndCount(u,d,f)*a.PENALTY_N3}for(var h=0;h<this.size;h++){for(var u=!1,g=0,f=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[l][h]==u?(g++,g==5?o+=a.PENALTY_N1:g>5&&o++):(this.finderPenaltyAddHistory(g,f),u||(o+=this.finderPenaltyCountPatterns(f)*a.PENALTY_N3),u=this.modules[l][h],g=1);o+=this.finderPenaltyTerminateAndCount(u,g,f)*a.PENALTY_N3}for(var l=0;l<this.size-1;l++)for(var h=0;h<this.size-1;h++){var v=this.modules[l][h];v==this.modules[l][h+1]&&v==this.modules[l+1][h]&&v==this.modules[l+1][h+1]&&(o+=a.PENALTY_N2)}for(var p=0,_=0,S=this.modules;_<S.length;_++){var C=S[_];p=C.reduce(function(P,D){return P+(D?1:0)},p)}var T=this.size*this.size,A=Math.ceil(Math.abs(p*20-T*10)/T)-1;return i(0<=A&&A<=9),o+=A*a.PENALTY_N4,i(0<=o&&o<=2568888),o},a.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var o=Math.floor(this.version/7)+2,l=Math.floor((this.version*8+o*3+5)/(o*4-4))*2,u=[6],d=this.size-7;u.length<o;d-=l)u.splice(1,0,d);return u},a.getNumRawDataModules=function(o){if(o<a.MIN_VERSION||o>a.MAX_VERSION)throw new RangeError("Version number out of range");var l=(16*o+128)*o+64;if(o>=2){var u=Math.floor(o/7)+2;l-=(25*u-10)*u-55,o>=7&&(l-=36)}return i(208<=l&&l<=29648),l},a.getNumDataCodewords=function(o,l){return Math.floor(a.getNumRawDataModules(o)/8)-a.ECC_CODEWORDS_PER_BLOCK[l.ordinal][o]*a.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][o]},a.reedSolomonComputeDivisor=function(o){if(o<1||o>255)throw new RangeError("Degree out of range");for(var l=[],u=0;u<o-1;u++)l.push(0);l.push(1);for(var d=1,u=0;u<o;u++){for(var f=0;f<l.length;f++)l[f]=a.reedSolomonMultiply(l[f],d),f+1<l.length&&(l[f]^=l[f+1]);d=a.reedSolomonMultiply(d,2)}return l},a.reedSolomonComputeRemainder=function(o,l){for(var u=l.map(function(v){return 0}),d=function(v){var p=v^u.shift();u.push(0),l.forEach(function(_,S){return u[S]^=a.reedSolomonMultiply(_,p)})},f=0,h=o;f<h.length;f++){var g=h[f];d(g)}return u},a.reedSolomonMultiply=function(o,l){if(o>>>8||l>>>8)throw new RangeError("Byte out of range");for(var u=0,d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(l>>>d&1)*o;return i(u>>>8==0),u},a.prototype.finderPenaltyCountPatterns=function(o){var l=o[1];i(l<=this.size*3);var u=l>0&&o[2]==l&&o[3]==l*3&&o[4]==l&&o[5]==l;return(u&&o[0]>=l*4&&o[6]>=l?1:0)+(u&&o[6]>=l*4&&o[0]>=l?1:0)},a.prototype.finderPenaltyTerminateAndCount=function(o,l,u){return o&&(this.finderPenaltyAddHistory(l,u),l=0),l+=this.size,this.finderPenaltyAddHistory(l,u),this.finderPenaltyCountPatterns(u)},a.prototype.finderPenaltyAddHistory=function(o,l){l[0]==0&&(o+=this.size),l.pop(),l.unshift(o)},a.MIN_VERSION=1,a.MAX_VERSION=40,a.PENALTY_N1=3,a.PENALTY_N2=3,a.PENALTY_N3=40,a.PENALTY_N4=10,a.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],a.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],a}();t.QrCode=e;function n(a,o,l){if(o<0||o>31||a>>>o)throw new RangeError("Value out of range");for(var u=o-1;u>=0;u--)l.push(a>>>u&1)}function r(a,o){return(a>>>o&1)!=0}function i(a){if(!a)throw new Error("Assertion error")}var s=function(){function a(o,l,u){if(this.mode=o,this.numChars=l,this.bitData=u,l<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}return a.makeBytes=function(o){for(var l=[],u=0,d=o;u<d.length;u++){var f=d[u];n(f,8,l)}return new a(a.Mode.BYTE,o.length,l)},a.makeNumeric=function(o){if(!a.isNumeric(o))throw new RangeError("String contains non-numeric characters");for(var l=[],u=0;u<o.length;){var d=Math.min(o.length-u,3);n(parseInt(o.substring(u,u+d),10),d*3+1,l),u+=d}return new a(a.Mode.NUMERIC,o.length,l)},a.makeAlphanumeric=function(o){if(!a.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");var l=[],u;for(u=0;u+2<=o.length;u+=2){var d=a.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u))*45;d+=a.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u+1)),n(d,11,l)}return u<o.length&&n(a.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u)),6,l),new a(a.Mode.ALPHANUMERIC,o.length,l)},a.makeSegments=function(o){return o==""?[]:a.isNumeric(o)?[a.makeNumeric(o)]:a.isAlphanumeric(o)?[a.makeAlphanumeric(o)]:[a.makeBytes(a.toUtf8ByteArray(o))]},a.makeEci=function(o){var l=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)n(o,8,l);else if(o<16384)n(2,2,l),n(o,14,l);else if(o<1e6)n(6,3,l),n(o,21,l);else throw new RangeError("ECI assignment value out of range");return new a(a.Mode.ECI,0,l)},a.isNumeric=function(o){return a.NUMERIC_REGEX.test(o)},a.isAlphanumeric=function(o){return a.ALPHANUMERIC_REGEX.test(o)},a.prototype.getData=function(){return this.bitData.slice()},a.getTotalBits=function(o,l){for(var u=0,d=0,f=o;d<f.length;d++){var h=f[d],g=h.mode.numCharCountBits(l);if(h.numChars>=1<<g)return 1/0;u+=4+g+h.bitData.length}return u},a.toUtf8ByteArray=function(o){o=encodeURI(o);for(var l=[],u=0;u<o.length;u++)o.charAt(u)!="%"?l.push(o.charCodeAt(u)):(l.push(parseInt(o.substring(u+1,u+3),16)),u+=2);return l},a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",a}();t.QrSegment=s})(Dm||(Dm={}));(function(t){(function(e){var n=function(){function r(i,s){this.ordinal=i,this.formatBits=s}return r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),r}();e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Dm||(Dm={}));(function(t){(function(e){var n=function(){function r(i,s){this.modeBits=i,this.numBitsCharCount=s}return r.prototype.numCharCountBits=function(i){return this.numBitsCharCount[Math.floor((i+7)/17)]},r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),r}();e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Dm||(Dm={}));var jg=Dm,j8="L",G8={L:jg.QrCode.Ecc.LOW,M:jg.QrCode.Ecc.MEDIUM,Q:jg.QrCode.Ecc.QUARTILE,H:jg.QrCode.Ecc.HIGH},y8e=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function W8(t){return t in G8}function BJ(t,e){e===void 0&&(e=0);var n=[];return t.forEach(function(r,i){var s=null;r.forEach(function(a,o){if(!a&&s!==null){n.push("M".concat(s+e," ").concat(i+e,"h").concat(o-s,"v1H").concat(s+e,"z")),s=null;return}if(o===r.length-1){if(!a)return;s===null?n.push("M".concat(o+e,",").concat(i+e," h1v1H").concat(o+e,"z")):n.push("M".concat(s+e,",").concat(i+e," h").concat(o+1-s,"v1H").concat(s+e,"z"));return}a&&s===null&&(s=o)})}),n.join("")}function UJ(t,e,n,r){var i=r.width,s=r.height,a=r.x,o=r.y,l=t.length+n*2,u=Math.floor(e*.1),d=l/e,f=(i||u)*d,h=(s||u)*d,g=a==null?t.length/2-f/2:a*d,v=o==null?t.length/2-h/2:o*d,p=null;if(r.excavate){var _=Math.floor(g),S=Math.floor(v),C=Math.ceil(f+g-_),T=Math.ceil(h+v-S);p={x:_,y:S,w:C,h:T}}return{x:g,y:v,h,w:f,excavation:p}}function VJ(t,e){return t.slice().map(function(n,r){return r<e.y||r>=e.y+e.h?n:n.map(function(i,s){return s<e.x||s>=e.x+e.w?i:!1})})}var q8={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:j8,validator:function(t){return W8(t)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(t){return["linear","radial"].indexOf(t)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},_8e=vd(vd({},q8),{renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}}),b8e=kt({name:"QRCodeSvg",props:q8,setup:function(t){var e=ye(0),n=ye(""),r,i=function(){var a=t.value,o=t.level,l=t.margin,u=l>>>0,d=W8(o)?o:j8,f=jg.QrCode.encodeText(a,G8[d]).getModules();if(e.value=f.length+u*2,t.imageSettings.src){var h=UJ(f,t.size,u,t.imageSettings);r={x:h.x+u,y:h.y+u,width:h.w,height:h.h},h.excavation&&(f=VJ(f,h.excavation))}n.value=BJ(f,u)},s=function(){if(!t.gradient)return null;var a=t.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return En(t.gradientType==="linear"?"linearGradient":"radialGradient",vd({id:"qr-gradient"},a),[En("stop",{offset:"0%",style:{stopColor:t.gradientStartColor}}),En("stop",{offset:"100%",style:{stopColor:t.gradientEndColor}})])};return i(),zp(i),function(){return En("svg",{width:t.size,height:t.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e.value," ").concat(e.value)},[En("defs",{},[s()]),En("rect",{width:"100%",height:"100%",fill:t.background}),En("path",{fill:t.gradient?"url(#qr-gradient)":t.foreground,d:n.value}),t.imageSettings.src&&En("image",vd({href:t.imageSettings.src},r))])}}}),x8e=kt({name:"QRCodeCanvas",props:q8,setup:function(t,e){var n=ye(null),r=ye(null),i=function(){var a=t.value,o=t.level,l=t.size,u=t.margin,d=t.background,f=t.foreground,h=t.gradient,g=t.gradientType,v=t.gradientStartColor,p=t.gradientEndColor,_=u>>>0,S=W8(o)?o:j8,C=n.value;if(C){var T=C.getContext("2d");if(T){var A=jg.QrCode.encodeText(a,G8[S]).getModules(),P=A.length+_*2,D=r.value,R={x:0,y:0,width:0,height:0},N=t.imageSettings.src&&D!=null&&D.naturalWidth!==0&&D.naturalHeight!==0;if(N){var U=UJ(A,t.size,_,t.imageSettings);R={x:U.x+_,y:U.y+_,width:U.w,height:U.h},U.excavation&&(A=VJ(A,U.excavation))}var Y=window.devicePixelRatio||1,H=l/P*Y;if(C.height=C.width=l*Y,T.scale(H,H),T.fillStyle=d,T.fillRect(0,0,P,P),h){var j=void 0;g==="linear"?j=T.createLinearGradient(0,0,P,P):j=T.createRadialGradient(P/2,P/2,0,P/2,P/2,P/2),j.addColorStop(0,v),j.addColorStop(1,p),T.fillStyle=j}else T.fillStyle=f;y8e?T.fill(new Path2D(BJ(A,_))):A.forEach(function(X,W){X.forEach(function(F,te){F&&T.fillRect(te+_,W+_,1,1)})}),N&&T.drawImage(D,R.x,R.y,R.width,R.height)}}};zr(i),zp(i);var s=e.attrs.style;return function(){return En(Tn,[En("canvas",vd(vd({},e.attrs),{ref:n,style:vd(vd({},s),{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")})})),t.imageSettings.src&&En("img",{ref:r,src:t.imageSettings.src,style:{display:"none"},onLoad:i})])}}}),w8e=kt({name:"Qrcode",render:function(){var t=this.$props,e=t.renderAs,n=t.value,r=t.size,i=t.margin,s=t.level,a=t.background,o=t.foreground,l=t.imageSettings,u=t.gradient,d=t.gradientType,f=t.gradientStartColor,h=t.gradientEndColor;return En(e==="svg"?b8e:x8e,{value:n,size:r,margin:i,level:s,background:a,foreground:o,imageSettings:l,gradient:u,gradientType:d,gradientStartColor:f,gradientEndColor:h})},props:_8e});function S8e(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zJ={exports:{}};const T8e={},C8e=Object.freeze(Object.defineProperty({__proto__:null,default:T8e},Symbol.toStringTag,{value:"Module"})),X8=OY(C8e);(function(t){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(e,n){typeof S8e=="function"&&t&&t.exports?t.exports=n():(e.dcodeIO=e.dcodeIO||{}).bcrypt=n()})(Da,function(){var e={},n=null;function r(H){if(t&&t.exports)try{return X8.randomBytes(H)}catch{}try{var j;return(self.crypto||self.msCrypto).getRandomValues(j=new Uint32Array(H)),Array.prototype.slice.call(j)}catch{}if(!n)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return n(H)}var i=!1;try{r(1),i=!0}catch{}n=null,e.setRandomFallback=function(H){n=H},e.genSaltSync=function(H,j){if(H=H||p,typeof H!="number")throw Error("Illegal arguments: "+typeof H+", "+typeof j);H<4?H=4:H>31&&(H=31);var X=[];return X.push("$2a$"),H<10&&X.push("0"),X.push(H.toString()),X.push("$"),X.push(f(r(v),v)),X.join("")},e.genSalt=function(H,j,X){if(typeof j=="function"&&(X=j,j=void 0),typeof H=="function"&&(X=H,H=void 0),typeof H>"u")H=p;else if(typeof H!="number")throw Error("illegal arguments: "+typeof H);function W(F){a(function(){try{F(null,e.genSaltSync(H))}catch(te){F(te)}})}if(X){if(typeof X!="function")throw Error("Illegal callback: "+typeof X);W(X)}else return new Promise(function(F,te){W(function(G,K){if(G){te(G);return}F(K)})})},e.hashSync=function(H,j){if(typeof j>"u"&&(j=p),typeof j=="number"&&(j=e.genSaltSync(j)),typeof H!="string"||typeof j!="string")throw Error("Illegal arguments: "+typeof H+", "+typeof j);return Y(H,j)},e.hash=function(H,j,X,W){function F(te){typeof H=="string"&&typeof j=="number"?e.genSalt(j,function(G,K){Y(H,K,te,W)}):typeof H=="string"&&typeof j=="string"?Y(H,j,te,W):a(te.bind(this,Error("Illegal arguments: "+typeof H+", "+typeof j)))}if(X){if(typeof X!="function")throw Error("Illegal callback: "+typeof X);F(X)}else return new Promise(function(te,G){F(function(K,ee){if(K){G(K);return}te(ee)})})};function s(H,j){for(var X=0,W=0,F=0,te=H.length;F<te;++F)H.charCodeAt(F)===j.charCodeAt(F)?++X:++W;return X<0?!1:W===0}e.compareSync=function(H,j){if(typeof H!="string"||typeof j!="string")throw Error("Illegal arguments: "+typeof H+", "+typeof j);return j.length!==60?!1:s(e.hashSync(H,j.substr(0,j.length-31)),j)},e.compare=function(H,j,X,W){function F(te){if(typeof H!="string"||typeof j!="string"){a(te.bind(this,Error("Illegal arguments: "+typeof H+", "+typeof j)));return}if(j.length!==60){a(te.bind(this,null,!1));return}e.hash(H,j.substr(0,29),function(G,K){G?te(G):te(null,s(K,j))},W)}if(X){if(typeof X!="function")throw Error("Illegal callback: "+typeof X);F(X)}else return new Promise(function(te,G){F(function(K,ee){if(K){G(K);return}te(ee)})})},e.getRounds=function(H){if(typeof H!="string")throw Error("Illegal arguments: "+typeof H);return parseInt(H.split("$")[2],10)},e.getSalt=function(H){if(typeof H!="string")throw Error("Illegal arguments: "+typeof H);if(H.length!==60)throw Error("Illegal hash length: "+H.length+" != 60");return H.substring(0,29)};var a=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function o(H){var j=[],X=0;return g.encodeUTF16toUTF8(function(){return X>=H.length?null:H.charCodeAt(X++)},function(W){j.push(W)}),j}var l="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],d=String.fromCharCode;function f(H,j){var X=0,W=[],F,te;if(j<=0||j>H.length)throw Error("Illegal len: "+j);for(;X<j;){if(F=H[X++]&255,W.push(l[F>>2&63]),F=(F&3)<<4,X>=j){W.push(l[F&63]);break}if(te=H[X++]&255,F|=te>>4&15,W.push(l[F&63]),F=(te&15)<<2,X>=j){W.push(l[F&63]);break}te=H[X++]&255,F|=te>>6&3,W.push(l[F&63]),W.push(l[te&63])}return W.join("")}function h(H,j){var X=0,W=H.length,F=0,te=[],G,K,ee,de,ue,me;if(j<=0)throw Error("Illegal len: "+j);for(;X<W-1&&F<j&&(me=H.charCodeAt(X++),G=me<u.length?u[me]:-1,me=H.charCodeAt(X++),K=me<u.length?u[me]:-1,!(G==-1||K==-1||(ue=G<<2>>>0,ue|=(K&48)>>4,te.push(d(ue)),++F>=j||X>=W)||(me=H.charCodeAt(X++),ee=me<u.length?u[me]:-1,ee==-1)||(ue=(K&15)<<4>>>0,ue|=(ee&60)>>2,te.push(d(ue)),++F>=j||X>=W)));)me=H.charCodeAt(X++),de=me<u.length?u[me]:-1,ue=(ee&3)<<6>>>0,ue|=de,te.push(d(ue)),++F;var Ee=[];for(X=0;X<F;X++)Ee.push(te[X].charCodeAt(0));return Ee}var g=function(){var H={};return H.MAX_CODEPOINT=1114111,H.encodeUTF8=function(j,X){var W=null;for(typeof j=="number"&&(W=j,j=function(){return null});W!==null||(W=j())!==null;)W<128?X(W&127):W<2048?(X(W>>6&31|192),X(W&63|128)):W<65536?(X(W>>12&15|224),X(W>>6&63|128),X(W&63|128)):(X(W>>18&7|240),X(W>>12&63|128),X(W>>6&63|128),X(W&63|128)),W=null},H.decodeUTF8=function(j,X){for(var W,F,te,G,K=function(ee){ee=ee.slice(0,ee.indexOf(null));var de=Error(ee.toString());throw de.name="TruncatedError",de.bytes=ee,de};(W=j())!==null;)if(!(W&128))X(W);else if((W&224)===192)(F=j())===null&&K([W,F]),X((W&31)<<6|F&63);else if((W&240)===224)((F=j())===null||(te=j())===null)&&K([W,F,te]),X((W&15)<<12|(F&63)<<6|te&63);else if((W&248)===240)((F=j())===null||(te=j())===null||(G=j())===null)&&K([W,F,te,G]),X((W&7)<<18|(F&63)<<12|(te&63)<<6|G&63);else throw RangeError("Illegal starting byte: "+W)},H.UTF16toUTF8=function(j,X){for(var W,F=null;(W=F!==null?F:j())!==null;){if(W>=55296&&W<=57343&&(F=j())!==null&&F>=56320&&F<=57343){X((W-55296)*1024+F-56320+65536),F=null;continue}X(W)}F!==null&&X(F)},H.UTF8toUTF16=function(j,X){var W=null;for(typeof j=="number"&&(W=j,j=function(){return null});W!==null||(W=j())!==null;)W<=65535?X(W):(W-=65536,X((W>>10)+55296),X(W%1024+56320)),W=null},H.encodeUTF16toUTF8=function(j,X){H.UTF16toUTF8(j,function(W){H.encodeUTF8(W,X)})},H.decodeUTF8toUTF16=function(j,X){H.decodeUTF8(j,function(W){H.UTF8toUTF16(W,X)})},H.calculateCodePoint=function(j){return j<128?1:j<2048?2:j<65536?3:4},H.calculateUTF8=function(j){for(var X,W=0;(X=j())!==null;)W+=H.calculateCodePoint(X);return W},H.calculateUTF16asUTF8=function(j){var X=0,W=0;return H.UTF16toUTF8(j,function(F){++X,W+=H.calculateCodePoint(F)}),[X,W]},H}();Date.now=Date.now||function(){return+new Date};var v=16,p=10,_=16,S=100,C=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],T=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],A=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function P(H,j,X,W){var F,te=H[j],G=H[j+1];return te^=X[0],F=W[te>>>24],F+=W[256|te>>16&255],F^=W[512|te>>8&255],F+=W[768|te&255],G^=F^X[1],F=W[G>>>24],F+=W[256|G>>16&255],F^=W[512|G>>8&255],F+=W[768|G&255],te^=F^X[2],F=W[te>>>24],F+=W[256|te>>16&255],F^=W[512|te>>8&255],F+=W[768|te&255],G^=F^X[3],F=W[G>>>24],F+=W[256|G>>16&255],F^=W[512|G>>8&255],F+=W[768|G&255],te^=F^X[4],F=W[te>>>24],F+=W[256|te>>16&255],F^=W[512|te>>8&255],F+=W[768|te&255],G^=F^X[5],F=W[G>>>24],F+=W[256|G>>16&255],F^=W[512|G>>8&255],F+=W[768|G&255],te^=F^X[6],F=W[te>>>24],F+=W[256|te>>16&255],F^=W[512|te>>8&255],F+=W[768|te&255],G^=F^X[7],F=W[G>>>24],F+=W[256|G>>16&255],F^=W[512|G>>8&255],F+=W[768|G&255],te^=F^X[8],F=W[te>>>24],F+=W[256|te>>16&255],F^=W[512|te>>8&255],F+=W[768|te&255],G^=F^X[9],F=W[G>>>24],F+=W[256|G>>16&255],F^=W[512|G>>8&255],F+=W[768|G&255],te^=F^X[10],F=W[te>>>24],F+=W[256|te>>16&255],F^=W[512|te>>8&255],F+=W[768|te&255],G^=F^X[11],F=W[G>>>24],F+=W[256|G>>16&255],F^=W[512|G>>8&255],F+=W[768|G&255],te^=F^X[12],F=W[te>>>24],F+=W[256|te>>16&255],F^=W[512|te>>8&255],F+=W[768|te&255],G^=F^X[13],F=W[G>>>24],F+=W[256|G>>16&255],F^=W[512|G>>8&255],F+=W[768|G&255],te^=F^X[14],F=W[te>>>24],F+=W[256|te>>16&255],F^=W[512|te>>8&255],F+=W[768|te&255],G^=F^X[15],F=W[G>>>24],F+=W[256|G>>16&255],F^=W[512|G>>8&255],F+=W[768|G&255],te^=F^X[16],H[j]=G^X[_+1],H[j+1]=te,H}function D(H,j){for(var X=0,W=0;X<4;++X)W=W<<8|H[j]&255,j=(j+1)%H.length;return{key:W,offp:j}}function R(H,j,X){for(var W=0,F=[0,0],te=j.length,G=X.length,K,ee=0;ee<te;ee++)K=D(H,W),W=K.offp,j[ee]=j[ee]^K.key;for(ee=0;ee<te;ee+=2)F=P(F,0,j,X),j[ee]=F[0],j[ee+1]=F[1];for(ee=0;ee<G;ee+=2)F=P(F,0,j,X),X[ee]=F[0],X[ee+1]=F[1]}function N(H,j,X,W){for(var F=0,te=[0,0],G=X.length,K=W.length,ee,de=0;de<G;de++)ee=D(j,F),F=ee.offp,X[de]=X[de]^ee.key;for(F=0,de=0;de<G;de+=2)ee=D(H,F),F=ee.offp,te[0]^=ee.key,ee=D(H,F),F=ee.offp,te[1]^=ee.key,te=P(te,0,X,W),X[de]=te[0],X[de+1]=te[1];for(de=0;de<K;de+=2)ee=D(H,F),F=ee.offp,te[0]^=ee.key,ee=D(H,F),F=ee.offp,te[1]^=ee.key,te=P(te,0,X,W),W[de]=te[0],W[de+1]=te[1]}function U(H,j,X,W,F){var te=A.slice(),G=te.length,K;if(X<4||X>31)if(K=Error("Illegal number of rounds (4-31): "+X),W){a(W.bind(this,K));return}else throw K;if(j.length!==v)if(K=Error("Illegal salt length: "+j.length+" != "+v),W){a(W.bind(this,K));return}else throw K;X=1<<X>>>0;var ee,de,ue=0,me;Int32Array?(ee=new Int32Array(C),de=new Int32Array(T)):(ee=C.slice(),de=T.slice()),N(j,H,ee,de);function Ee(){if(F&&F(ue/X),ue<X)for(var Ge=Date.now();ue<X&&(ue=ue+1,R(H,ee,de),R(j,ee,de),!(Date.now()-Ge>S)););else{for(ue=0;ue<64;ue++)for(me=0;me<G>>1;me++)P(te,me<<1,ee,de);var $e=[];for(ue=0;ue<G;ue++)$e.push((te[ue]>>24&255)>>>0),$e.push((te[ue]>>16&255)>>>0),$e.push((te[ue]>>8&255)>>>0),$e.push((te[ue]&255)>>>0);if(W){W(null,$e);return}else return $e}W&&a(Ee)}if(typeof W<"u")Ee();else for(var Oe;;)if(typeof(Oe=Ee())<"u")return Oe||[]}function Y(H,j,X,W){var F;if(typeof H!="string"||typeof j!="string")if(F=Error("Invalid string / salt: Not a string"),X){a(X.bind(this,F));return}else throw F;var te,G;if(j.charAt(0)!=="$"||j.charAt(1)!=="2")if(F=Error("Invalid salt version: "+j.substring(0,2)),X){a(X.bind(this,F));return}else throw F;if(j.charAt(2)==="$")te=String.fromCharCode(0),G=3;else{if(te=j.charAt(2),te!=="a"&&te!=="b"&&te!=="y"||j.charAt(3)!=="$")if(F=Error("Invalid salt revision: "+j.substring(2,4)),X){a(X.bind(this,F));return}else throw F;G=4}if(j.charAt(G+2)>"$")if(F=Error("Missing salt rounds"),X){a(X.bind(this,F));return}else throw F;var K=parseInt(j.substring(G,G+1),10)*10,ee=parseInt(j.substring(G+1,G+2),10),de=K+ee,ue=j.substring(G+3,G+25);H+=te>="a"?"\0":"";var me=o(H),Ee=h(ue,v);function Oe(Ge){var $e=[];return $e.push("$2"),te>="a"&&$e.push(te),$e.push("$"),de<10&&$e.push("0"),$e.push(de.toString()),$e.push("$"),$e.push(f(Ee,Ee.length)),$e.push(f(Ge,A.length*4-1)),$e.join("")}if(typeof X>"u")return Oe(U(me,Ee,de));U(me,Ee,de,function(Ge,$e){Ge?X(Ge,null):X(null,Oe($e))},W)}return e.encodeBase64=f,e.decodeBase64=h,e})})(zJ);var E8e=zJ.exports;const fI=Ra(E8e),A8e=async()=>{let t;const e={baseURL:an.authUrl,url:"auth/user/"+ke.sub,method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};return await vn(e).then(function(n){n!=null&&(t=n.data)}),t},Y8=async(t,e,n)=>{let r;const i={baseURL:an.authUrl,url:"/auth/user",method:"GET",params:{pageNumber:t,pageSize:e,order:n},headers:{Authorization:"Bearer "+ke.access_token}};return await vn(i).then(function(s){r=s.data,no.users=r}),r},JU=async(t,e)=>{let n,r;return n={baseURL:an.messageUrl,url:"notice/user",method:"GET",params:{user:t,draft:e},headers:{Authorization:"Bearer "+ke.access_token}},t==""&&(n={baseURL:an.messageUrl,url:"notice/user",method:"GET",params:{user:t,draft:e}}),await vn(n).then(function(i){r=i.data,r.forEach(s=>{s.timestamp=Wn(s.timestamp).format("YYYY-MM-DD HH:mm:ss")}),no.notifications=r}),r},hI=async(t,e)=>{let n;const r={baseURL:an.messageUrl,url:"notice",method:"POST",data:{topic:t},headers:{Authorization:"Bearer "+ke.access_token}};return e!=""&&(r.data.draft=!!e),await vn(r).then(function(i){n=i.data,n.forEach(s=>{s.timestamp=Wn(s.timestamp).format("YYYY-MM-DD HH:mm:ss")}),no.notifications=n}),n},pI=async()=>{let t;const e={baseURL:an.messageUrl,url:"notice/topic",method:"GET",params:{topic:""},headers:{Authorization:"Bearer "+ke.access_token}};return await vn(e).then(function(n){t=n.data,Et.topicLoad=!1,no.topics=t}),t},HJ=(t,e)=>{t.username=e;const n={baseURL:an.authUrl,url:"auth/user",method:"POST",data:t,headers:{Authorization:"Bearer "+ke.access_token}};t.password==""||t.password==null?vn(n).then(function(r){r.status==200&&(Et.userForm=!1)}):t.password.startsWith("{bcrypt}")?vn(n).then(function(r){r.status==200&&(Et.userForm=!1)}):fI.hash(t.password,10).then(function(r){t.password="{bcrypt}"+r,vn(n).then(function(i){i.status==200&&(Et.userForm=!1)})})};async function mI(t){const e=dZ.service({fullscreen:!0});Object.assign(Ca,cv()),vl.username=t;const n={baseURL:an.authUrl,url:"auth/user/info/"+t,method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};let r;return await vn(n).then(function(i){if(Vn(()=>{e.close()}),i.data==null)Ca.value=cv();else{const a=i.data;for(var s in a)a[s]===!0?a[s]="true":a[s]===!1&&(a[s]="false");Ca.value=a,r=a}}),r}const P8e={class:"dialog-footer"},k8e={class:"dialog-footer"},D8e=kt({__name:"Notice",setup(t){const e=ye(!0),n=ye(!1),r=ye(!1),i=ye(!1),s=ye(""),a=ye("");let l=lr((()=>({title:"",body:"",imageUrl:"",timestamp:"",topic:"",draft:"true"}))()),d=lr((()=>({name:"",users:[],registers:[]}))());const f=(C,T)=>{s.value=T,a.value=C,n.value=!0},h=async()=>{no.users=await Y8(0,10,0),e.value=!1},g=()=>{const C={baseURL:an.messageUrl,url:"notice",method:"PUT",data:{topic:l.topic,title:l.title,body:l.body,imageUrl:l.imageUrl,draft:l.draft},headers:{Authorization:"Bearer "+ke.access_token}};vn(C).then(function(T){T.status==200&&(r.value=!1,hI([],""))})},v=()=>{const C={baseURL:an.messageUrl,url:"notice/topic",method:"PUT",data:{name:d.name,users:d.users,registers:d.registers},headers:{Authorization:"Bearer "+ke.access_token}};vn(C).then(function(T){T.status==200&&(i.value=!1,pI())})},p=(C,T)=>{const A={baseURL:an.messageUrl,url:"notice/topic",method:"DELETE",params:{topic:T.name},headers:{Authorization:"Bearer "+ke.access_token}};vn(A).then(function(P){no.topics.splice(C,1)})},_=(C,T)=>{const A={baseURL:an.messageUrl,url:"notice",method:"DELETE",params:{ids:T.id},headers:{Authorization:"Bearer "+ke.access_token}};vn(A).then(function(P){no.notifications.splice(C,1)})},S=(C,T)=>{const A={baseURL:an.messageUrl,url:"notice/push",method:"POST",data:{id:T.id,topic:T.topic,title:T.title,body:T.body,imageUrl:T.imageUrl,draft:!T.draft},headers:{Authorization:"Bearer "+ke.access_token}};vn(A).then(function(P){hI([],"")})};return(C,T)=>{const A=Cxe,P=O4e,D=R4e,R=AK,N=fEe,U=Do,Y=ns,H=Io,j=bK,X=e8,W=JY,F=lc,te=Uy,G=Mc,K=qr,ee=Ki,de=Fu;return ge(),Fe(Tn,null,[V(R,{modelValue:b(Et).noticeDrawer,"onUpdate:modelValue":T[0]||(T[0]=ue=>b(Et).noticeDrawer=ue),"show-close":!0,"with-header":!0,size:"40%"},{default:ie(()=>[V(D,null,{default:ie(()=>[(ge(!0),Fe(Tn,null,li(b(no).notification,(ue,me)=>(ge(),Tt(P,{key:me,timestamp:ue.timestamp,placement:"top"},{default:ie(()=>[V(A,{onClick:Ee=>f(ue.imageUrl,ue.body)},{default:ie(()=>[Ve("p",null,yn(ue.title),1)]),_:2},1032,["onClick"])]),_:2},1032,["timestamp"]))),128))]),_:1})]),_:1},8,["modelValue"]),V(U,{modelValue:b(n),"onUpdate:modelValue":T[1]||(T[1]=ue=>tr(n)?n.value=ue:null),width:b(Et).dialogWidth,"align-center":""},{default:ie(()=>[V(N,{src:b(a)},null,8,["src"]),Rt(" "+yn(b(s)),1)]),_:1},8,["modelValue","width"]),V(U,{modelValue:b(r),"onUpdate:modelValue":T[10]||(T[10]=ue=>tr(r)?r.value=ue:null),width:b(Et).dialogWidth,"align-center":""},{footer:ie(()=>[Ve("span",P8e,[V(K,{onClick:T[8]||(T[8]=ue=>r.value=!1)},{default:ie(()=>[...T[25]||(T[25]=[Rt("Cancel",-1)])]),_:1}),V(K,{type:"primary",onClick:T[9]||(T[9]=ue=>g())},{default:ie(()=>[...T[26]||(T[26]=[Rt(" Confirm ",-1)])]),_:1})])]),default:ie(()=>[V(G,null,{default:ie(()=>[V(H,{label:"title","label-width":b(Et).labelWidth},{default:ie(()=>[V(Y,{modelValue:b(l).title,"onUpdate:modelValue":T[2]||(T[2]=ue=>b(l).title=ue)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(H,{label:"body","label-width":b(Et).labelWidth},{default:ie(()=>[V(Y,{modelValue:b(l).body,"onUpdate:modelValue":T[3]||(T[3]=ue=>b(l).body=ue)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(H,{label:"imageUrl","label-width":b(Et).labelWidth},{default:ie(()=>[V(Y,{modelValue:b(l).imageUrl,"onUpdate:modelValue":T[4]||(T[4]=ue=>b(l).imageUrl=ue)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(H,{label:"timestamp","label-width":b(Et).labelWidth},{default:ie(()=>[V(j,{ref:"datePicker",modelValue:b(l).timestamp,"onUpdate:modelValue":T[5]||(T[5]=ue=>b(l).timestamp=ue),type:"datetime","value-format":"YYYY-MM-DDTHH:mm:ss[Z]",format:"YYYY-MM-DDTHH:mm:ss[Z]"},null,8,["modelValue"])]),_:1},8,["label-width"]),V(H,{label:"draft","label-width":b(Et).labelWidth},{default:ie(()=>[V(W,{modelValue:b(l).draft,"onUpdate:modelValue":T[6]||(T[6]=ue=>b(l).draft=ue),class:"ml-4"},{default:ie(()=>[V(X,{label:"true"},{default:ie(()=>[...T[23]||(T[23]=[Rt("true",-1)])]),_:1}),V(X,{label:"false"},{default:ie(()=>[...T[24]||(T[24]=[Rt("false",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),V(H,{label:"topic","label-width":b(Et).labelWidth},{default:ie(()=>[V(te,{modelValue:b(l).topic,"onUpdate:modelValue":T[7]||(T[7]=ue=>b(l).topic=ue),multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a keyword","remote-show-suffix":"","remote-method":b(pI),loading:b(Et).topicLoad},{default:ie(()=>[(ge(!0),Fe(Tn,null,li(b(no).topics,ue=>(ge(),Tt(F,{key:ue.name,label:ue.name,value:ue.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue","remote-method","loading"])]),_:1},8,["label-width"])]),_:1})]),_:1},8,["modelValue","width"]),V(U,{modelValue:b(i),"onUpdate:modelValue":T[16]||(T[16]=ue=>tr(i)?i.value=ue:null),width:b(Et).dialogWidth,"align-center":""},{footer:ie(()=>[Ve("span",k8e,[V(K,{onClick:T[14]||(T[14]=ue=>i.value=!1)},{default:ie(()=>[...T[27]||(T[27]=[Rt("Cancel",-1)])]),_:1}),V(K,{type:"primary",onClick:T[15]||(T[15]=ue=>v())},{default:ie(()=>[...T[28]||(T[28]=[Rt(" Confirm ",-1)])]),_:1})])]),default:ie(()=>[V(G,null,{default:ie(()=>[V(H,{label:"name","label-width":b(Et).labelWidth},{default:ie(()=>[V(Y,{modelValue:b(d).name,"onUpdate:modelValue":T[11]||(T[11]=ue=>b(d).name=ue)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(H,{label:"users","label-width":b(Et).labelWidth},{default:ie(()=>[V(te,{modelValue:b(d).users,"onUpdate:modelValue":T[12]||(T[12]=ue=>b(d).users=ue),multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a keyword","remote-show-suffix":"","remote-method":h,loading:b(e)},{default:ie(()=>[(ge(!0),Fe(Tn,null,li(b(no).users,ue=>(ge(),Tt(F,{key:ue.username,label:ue.username,value:ue.username},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1},8,["label-width"]),V(H,{label:"registers","label-width":b(Et).labelWidth},{default:ie(()=>[V(Y,{modelValue:b(d).registers,"onUpdate:modelValue":T[13]||(T[13]=ue=>b(d).registers=ue)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1})]),_:1},8,["modelValue","width"]),V(U,{modelValue:b(Et).topicTable,"onUpdate:modelValue":T[19]||(T[19]=ue=>b(Et).topicTable=ue),width:b(Et).dialogWidth,"align-center":""},{default:ie(()=>[V(K,{type:"",onClick:T[17]||(T[17]=ue=>i.value=!0)},{default:ie(()=>[...T[29]||(T[29]=[Rt("Add",-1)])]),_:1}),V(de,{data:b(no).topics,onSelectionChange:T[18]||(T[18]=()=>{})},{default:ie(()=>[V(ee,{type:"selection"}),V(ee,{property:"name",label:"name"}),V(ee,{property:"registers",label:"registers"}),V(ee,{property:"users",label:"users"}),V(ee,null,{default:ie(ue=>[V(K,{size:"small",type:"danger",onClick:me=>p(ue.$index,ue.row)},{default:ie(()=>[...T[30]||(T[30]=[Rt("Delete",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),V(U,{modelValue:b(Et).noticeTable,"onUpdate:modelValue":T[22]||(T[22]=ue=>b(Et).noticeTable=ue),width:b(Et).dialogWidth,"align-center":""},{default:ie(()=>[V(K,{type:"",onClick:T[20]||(T[20]=ue=>r.value=!0)},{default:ie(()=>[...T[31]||(T[31]=[Rt("Add",-1)])]),_:1}),V(de,{data:b(no).notifications,onSelectionChange:T[21]||(T[21]=()=>{})},{default:ie(()=>[V(ee,{type:"selection"}),V(ee,{property:"title",label:"title"}),V(ee,{property:"body",label:"body"}),V(ee,{property:"imageUrl",label:"imageUrl"}),V(ee,{property:"timestamp",label:"timestamp"}),V(ee,{property:"topic",label:"topic"}),V(ee,{property:"draft",label:"draft"}),V(ee,null,{default:ie(ue=>[V(K,{size:"small",type:"danger",onClick:me=>_(ue.$index,ue.row)},{default:ie(()=>[...T[32]||(T[32]=[Rt("Delete",-1)])]),_:1},8,["onClick"]),ue.row.draft?(ge(),Tt(K,{key:0,size:"small",type:"danger",onClick:me=>S(ue.$index,ue.row)},{default:ie(()=>[...T[33]||(T[33]=[Rt("Push",-1)])]),_:1},8,["onClick"])):gt("",!0)]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"])],64)}}});function hw(t,e,n){return new Promise((r,i)=>{var s;e!=""?s=indexedDB.open(t,e):s=indexedDB.open(t),s.onsuccess=function(a){const o=s.result;r(o)},s.onupgradeneeded=function(a){const o=s.result;for(let l of n)o.objectStoreNames.contains(l)||o.createObjectStore(l)},s.onerror=function(a){const o=s.error;i(o)}})}function pw(t,e,n,r,i){return(r==""||r==null)&&(r="readwrite"),new Promise((s,a)=>{const l=t.transaction(e,r).objectStore(e);var u;i=="all"?u=l.getAll():u=l.get(n),u.onsuccess=function(d){const f=u.result;s(f)},u.onerror=function(d){const f=u.error;a(f)}})}function m4(t,e,n,r,i,s){return(i==""||i==null)&&(i="readwrite"),new Promise((a,o)=>{const u=t.transaction(e,i).objectStore(e);var d;s=="put"?d=u.put(r,n):d=u.add(r,n),d.onsuccess=function(f){const h=d.result;a(h)},d.onerror=function(f){const h=d.error;o(h)}})}function g4(t,e,n,r){return(r==""||r==null)&&(r="readwrite"),new Promise((i,s)=>{const l=t.transaction(e,r).objectStore(e).delete(n);l.onsuccess=function(u){const d=l.result;i(d)},l.onerror=function(u){const d=l.error;s(d)}})}const I8e=async t=>{const n=new TextEncoder().encode(t);return await crypto.subtle.digest("SHA-256",n)};async function R8e(t){const e=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(e)).map(r=>r.toString(16).padStart(2,"0")).join("")}function v4(t){return btoa(String.fromCharCode(...new Uint8Array(t)))}function O8e(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n.buffer}async function K8(t,e){let n;return typeof t=="string"?n=await I8e(t):n=t,await crypto.subtle.importKey("raw",n,{name:e},!1,["encrypt","decrypt"])}async function y4(t,e,n){let r=await K8(e,n),i;typeof t!="string"?i=t:i=new TextEncoder().encode(t);let s;n=="AES-GCM"?s=crypto.getRandomValues(new Uint8Array(12)):s=crypto.getRandomValues(new Uint8Array(16));let a;n=="AES-CTR"?a={counter:s,name:n,length:128}:a={name:n,iv:s};const o=await crypto.subtle.encrypt(a,r,i),l=new Uint8Array(s.length+o.byteLength);return l.set(s),l.set(new Uint8Array(o),s.length),{cipher:l,ciphertext:o,iv:s,ciphertextWithoutTag:l.slice(0,l.length-16),tag:l.slice(l.length-16,l.length)}}async function M8e(t,e,n){const r=await K8(e,n);let i;n=="AES-GCM"?(i=t.slice(0,12),t=t.slice(12,t.length)):(i=t.slice(0,16),t=t.slice(16,t.length));let s={name:n,iv:i};return await crypto.subtle.decrypt(s,r,t)}const L8e=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,n){var r;(r=t.httpHandler)==null||r.updateHttpClientConfig(e,n)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),$8e=t=>({httpHandler:t.httpHandler()});var r1;(function(t){t.HTTP="http",t.HTTPS="https"})(r1||(r1={}));var XT;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(XT||(XT={}));const gI="__smithy_context";class la{constructor(e){nt(this,"method");nt(this,"protocol");nt(this,"hostname");nt(this,"port");nt(this,"path");nt(this,"query");nt(this,"headers");nt(this,"username");nt(this,"password");nt(this,"fragment");nt(this,"body");this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const n=new la({...e,headers:{...e.headers}});return n.query&&(n.query=N8e(n.query)),n}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return la.clone(this)}}function N8e(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}class Ip{constructor(e){nt(this,"statusCode");nt(this,"reason");nt(this,"headers");nt(this,"body");this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}}function F8e(t){return e=>async n=>{var i,s,a,o;const{request:r}=n;if(t.expectContinueHeader!==!1&&la.isInstance(r)&&r.body&&t.runtime==="node"&&((s=(i=t.requestHandler)==null?void 0:i.constructor)==null?void 0:s.name)!=="FetchHttpHandler"){let l=!0;if(typeof t.expectContinueHeader=="number")try{l=(Number((a=r.headers)==null?void 0:a["content-length"])??((o=t.bodyLengthChecker)==null?void 0:o.call(t,r.body))??1/0)>=t.expectContinueHeader}catch{}else l=!!t.expectContinueHeader;l&&(r.headers.Expect="100-continue")}return e({...n,request:r})}}const B8e={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},U8e=t=>({applyToStack:e=>{e.add(F8e(t),B8e)}}),Zv={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},V8e=Zv.WHEN_SUPPORTED,_4={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},z8e=Zv.WHEN_SUPPORTED;var es;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.CRC64NVME="CRC64NVME",t.SHA1="SHA1",t.SHA256="SHA256"})(es||(es={}));var e9;(function(t){t.HEADER="header",t.TRAILER="trailer"})(e9||(e9={}));const vI=es.CRC32;function H8e(t,e,n){return t.$source||(t.$source={}),t.$source[e]=n,t}function fa(t,e,n){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=n}const t9=t=>{var e,n;return Ip.isInstance(t)?((e=t.headers)==null?void 0:e.date)??((n=t.headers)==null?void 0:n.Date):void 0},Z8=t=>new Date(Date.now()+t),j8e=(t,e)=>Math.abs(Z8(e).getTime()-t)>=3e5,n9=(t,e)=>{const n=Date.parse(t);return j8e(n,e)?n-Date.now():e},Q2=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},jJ=async t=>{var u,d,f;const e=Q2("context",t.context),n=Q2("config",t.config),r=(f=(d=(u=e.endpointV2)==null?void 0:u.properties)==null?void 0:d.authSchemes)==null?void 0:f[0],s=await Q2("signer",n.signer)(r),a=t==null?void 0:t.signingRegion,o=t==null?void 0:t.signingRegionSet,l=t==null?void 0:t.signingName;return{config:n,signer:s,signingRegion:a,signingRegionSet:o,signingName:l}};class GJ{async sign(e,n,r){var f;if(!la.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const i=await jJ(r),{config:s,signer:a}=i;let{signingRegion:o,signingName:l}=i;const u=r.context;if(((f=u==null?void 0:u.authSchemes)==null?void 0:f.length)??0>1){const[h,g]=u.authSchemes;(h==null?void 0:h.name)==="sigv4a"&&(g==null?void 0:g.name)==="sigv4"&&(o=(g==null?void 0:g.signingRegion)??o,l=(g==null?void 0:g.signingName)??l)}return await a.sign(e,{signingDate:Z8(s.systemClockOffset),signingRegion:o,signingService:l})}errorHandler(e){return n=>{const r=n.ServerTime??t9(n.$response);if(r){const i=Q2("config",e.config),s=i.systemClockOffset;i.systemClockOffset=n9(r,i.systemClockOffset),i.systemClockOffset!==s&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(e,n){const r=t9(e);if(r){const i=Q2("config",n.config);i.systemClockOffset=n9(r,i.systemClockOffset)}}}class G8e extends GJ{async sign(e,n,r){var h;if(!la.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:i,signer:s,signingRegion:a,signingRegionSet:o,signingName:l}=await jJ(r),d=(await((h=i.sigv4aSigningRegionSet)==null?void 0:h.call(i))??o??[a]).join(",");return await s.sign(e,{signingDate:Z8(i.systemClockOffset),signingRegion:d,signingService:l})}}const Wp=t=>t[gI]||(t[gI]={}),gc=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},W8e=(t,e)=>{if(!e||e.length===0)return t;const n=[];for(const r of e)for(const i of t)i.schemeId.split("#")[1]===r&&n.push(i);for(const r of t)n.find(({schemeId:i})=>i===r.schemeId)||n.push(r);return n};function q8e(t){const e=new Map;for(const n of t)e.set(n.schemeId,n);return e}const X8e=(t,e)=>(n,r)=>async i=>{var f;const s=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,r,i.input)),a=t.authSchemePreference?await t.authSchemePreference():[],o=W8e(s,a),l=q8e(t.httpAuthSchemes),u=Wp(r),d=[];for(const h of o){const g=l.get(h.schemeId);if(!g){d.push(`HttpAuthScheme \`${h.schemeId}\` was not enabled for this service.`);continue}const v=g.identityProvider(await e.identityProviderConfigProvider(t));if(!v){d.push(`HttpAuthScheme \`${h.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:p={},signingProperties:_={}}=((f=h.propertiesExtractor)==null?void 0:f.call(h,t,r))||{};h.identityProperties=Object.assign(h.identityProperties||{},p),h.signingProperties=Object.assign(h.signingProperties||{},_),u.selectedHttpAuthScheme={httpAuthOption:h,identity:await v(h.identityProperties),signer:g.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(d.join(`
`));return n(i)},Y8e={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},K8e=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(X8e(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n}),Y8e)}}),Z8e={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0},Q8e=t=>e=>{throw e},J8e=(t,e)=>{},e6e=t=>(e,n)=>async r=>{if(!la.isInstance(r.request))return e(r);const s=Wp(n).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:a={}},identity:o,signer:l}=s,u=await e({...r,request:await l.sign(r.request,o,a)}).catch((l.errorHandler||Q8e)(a));return(l.successHandler||J8e)(u.response,a),u},WJ={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},t6e=t=>({applyToStack:e=>{e.addRelativeTo(e6e(),WJ)}}),dv=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},qJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r9=Object.entries(qJ).reduce((t,[e,n])=>(t[n]=Number(e),t),{}),n6e=qJ.split(""),fv=6,J2=8,r6e=63,Qv=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const n=new ArrayBuffer(e),r=new DataView(n);for(let i=0;i<t.length;i+=4){let s=0,a=0;for(let u=i,d=i+3;u<=d;u++)if(t[u]!=="="){if(!(t[u]in r9))throw new TypeError(`Invalid character ${t[u]} in base64 string.`);s|=r9[t[u]]<<(d-u)*fv,a+=fv}else s>>=fv;const o=i/4*3;s>>=a%J2;const l=Math.floor(a/J2);for(let u=0;u<l;u++){const d=(l-u-1)*J2;r.setUint8(o+u,(s&255<<d)>>d)}}return new Uint8Array(n)},Rp=t=>new TextEncoder().encode(t),Jv=t=>typeof t=="string"?Rp(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),Wy=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function Im(t){let e;typeof t=="string"?e=Rp(t):e=t;const n=typeof e=="object"&&typeof e.length=="number",r=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let s=0;s<e.length;s+=3){let a=0,o=0;for(let u=s,d=Math.min(s+3,e.length);u<d;u++)a|=e[u]<<(d-u-1)*J2,o+=J2;const l=Math.ceil(o/fv);a<<=l*fv-o;for(let u=1;u<=l;u++){const d=(l-u)*fv;i+=n6e[(a&r6e<<d)>>d]}i+="==".slice(0,4-l)}return i}class om extends Uint8Array{static fromString(e,n="utf-8"){if(typeof e=="string")return n==="base64"?om.mutate(Qv(e)):om.mutate(Rp(e));throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,om.prototype),e}transformToString(e="utf-8"){return e==="base64"?Im(this):Wy(this)}}const i6e=typeof ReadableStream=="function"?ReadableStream:function(){};class s6e extends i6e{}const yI=t=>{var e;return typeof ReadableStream=="function"&&(((e=t==null?void 0:t.constructor)==null?void 0:e.name)===ReadableStream.name||t instanceof ReadableStream)},a6e=({expectedChecksum:t,checksum:e,source:n,checksumSourceLocation:r,base64Encoder:i})=>{var l;if(!yI(n))throw new Error(`@smithy/util-stream: unsupported source type ${((l=n==null?void 0:n.constructor)==null?void 0:l.name)??n} in ChecksumStream.`);const s=i??Im;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const a=new TransformStream({start(){},async transform(u,d){e.update(u),d.enqueue(u)},async flush(u){const d=await e.digest(),f=s(d);if(t!==f){const h=new Error(`Checksum mismatch: expected "${t}" but received "${f}" in response header "${r}".`);u.error(h)}else u.terminate()}});n.pipeThrough(a);const o=a.readable;return Object.setPrototypeOf(o,s6e.prototype),o};class o6e{constructor(e){nt(this,"allocByteArray");nt(this,"byteLength",0);nt(this,"byteArrays",[]);this.allocByteArray=e}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(this.byteArrays.length===1){const r=this.byteArrays[0];return this.reset(),r}const e=this.allocByteArray(this.byteLength);let n=0;for(let r=0;r<this.byteArrays.length;++r){const i=this.byteArrays[r];e.set(i,n),n+=i.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}}function l6e(t,e,n){const r=t.getReader();let i=!1,s=0;const a=["",new o6e(u=>new Uint8Array(u))];let o=-1;const l=async u=>{const{value:d,done:f}=await r.read(),h=d;if(f){if(o!==-1){const g=b4(a,o);eb(g)>0&&u.enqueue(g)}u.close()}else{const g=d6e(h,!1);if(o!==g&&(o>=0&&u.enqueue(b4(a,o)),o=g),o===-1){u.enqueue(h);return}const v=eb(h);s+=v;const p=eb(a[o]);if(v>=e&&p===0)u.enqueue(h);else{const _=c6e(a,o,h);!i&&s>e*2&&(i=!0,n==null||n.warn(`@smithy/util-stream - stream chunk size ${v} is below threshold of ${e}, automatically buffering.`)),_>=e?u.enqueue(b4(a,o)):await l(u)}}};return new ReadableStream({pull:l})}const u6e=l6e;function c6e(t,e,n){switch(e){case 0:return t[0]+=n,eb(t[0]);case 1:case 2:return t[e].push(n),eb(t[e])}}function b4(t,e){switch(e){case 0:const n=t[0];return t[0]="",n;case 1:case 2:return t[e].flush()}throw new Error(`@smithy/util-stream - invalid index ${e} given to flush()`)}function eb(t){return(t==null?void 0:t.byteLength)??(t==null?void 0:t.length)??0}function d6e(t,e=!0){return e&&typeof Buffer<"u"&&t instanceof Buffer?2:t instanceof Uint8Array?1:typeof t=="string"?0:-1}const f6e=(t,e)=>{const{base64Encoder:n,bodyLengthChecker:r,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:a}=e,o=n!==void 0&&r!==void 0&&i!==void 0&&s!==void 0&&a!==void 0,l=o?a(i,t):void 0,u=t.getReader();return new ReadableStream({async pull(d){const{value:f,done:h}=await u.read();if(h){if(d.enqueue(`0\r
`),o){const g=n(await l);d.enqueue(`${s}:${g}\r
`),d.enqueue(`\r
`)}d.close()}else d.enqueue(`${(r(f)||0).toString(16)}\r
${f}\r
`)}})};async function h6e(t,e){let n=0;const r=[],i=t.getReader();let s=!1;for(;!s;){const{done:l,value:u}=await i.read();if(u&&(r.push(u),n+=(u==null?void 0:u.byteLength)??0),n>=e)break;s=l}i.releaseLock();const a=new Uint8Array(Math.min(e,n));let o=0;for(const l of r){if(l.byteLength>a.byteLength-o){a.set(l.subarray(0,a.byteLength-o),o);break}else a.set(l,o);o+=l.length}return a}const lm=t=>encodeURIComponent(t).replace(/[!'()*]/g,p6e),p6e=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function XJ(t){const e=[];for(let n of Object.keys(t).sort()){const r=t[n];if(n=lm(n),Array.isArray(r))for(let i=0,s=r.length;i<s;i++)e.push(`${n}=${lm(r[i])}`);else{let i=n;(r||typeof r=="string")&&(i+=`=${lm(r)}`),e.push(i)}}return e.join("&")}function i9(t,e){return new Request(t,e)}function m6e(t=0){return new Promise((e,n)=>{t&&setTimeout(()=>{const r=new Error(`Request did not complete within ${t} ms`);r.name="TimeoutError",n(r)},t)})}const x4={supported:void 0};class Q8{constructor(e){nt(this,"config");nt(this,"configProvider");typeof e=="function"?this.configProvider=e().then(n=>n||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),x4.supported===void 0&&(x4.supported=typeof Request<"u"&&"keepalive"in i9("https://[::1]"))}static create(e){return typeof(e==null?void 0:e.handle)=="function"?e:new Q8(e)}destroy(){}async handle(e,{abortSignal:n,requestTimeout:r}={}){var C;this.config||(this.config=await this.configProvider);const i=r??this.config.requestTimeout,s=this.config.keepAlive===!0,a=this.config.credentials;if(n!=null&&n.aborted){const T=new Error("Request aborted");return T.name="AbortError",Promise.reject(T)}let o=e.path;const l=XJ(e.query||{});l&&(o+=`?${l}`),e.fragment&&(o+=`#${e.fragment}`);let u="";if(e.username!=null||e.password!=null){const T=e.username??"",A=e.password??"";u=`${T}:${A}@`}const{port:d,method:f}=e,h=`${e.protocol}//${u}${e.hostname}${d?`:${d}`:""}${o}`,g=f==="GET"||f==="HEAD"?void 0:e.body,v={body:g,headers:new Headers(e.headers),method:f,credentials:a};(C=this.config)!=null&&C.cache&&(v.cache=this.config.cache),g&&(v.duplex="half"),typeof AbortController<"u"&&(v.signal=n),x4.supported&&(v.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(v,this.config.requestInit(e));let p=()=>{};const _=i9(h,v),S=[fetch(_).then(T=>{const A=T.headers,P={};for(const R of A.entries())P[R[0]]=R[1];return T.body!=null?{response:new Ip({headers:P,reason:T.statusText,statusCode:T.status,body:T.body})}:T.blob().then(R=>({response:new Ip({headers:P,reason:T.statusText,statusCode:T.status,body:R})}))}),m6e(i)];return n&&S.push(new Promise((T,A)=>{const P=()=>{const D=new Error("Request aborted");D.name="AbortError",A(D)};if(typeof n.addEventListener=="function"){const D=n;D.addEventListener("abort",P,{once:!0}),p=()=>D.removeEventListener("abort",P)}else n.onabort=P})),Promise.race(S).finally(p)}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}}const YJ=async t=>{var e;return typeof Blob=="function"&&t instanceof Blob||((e=t.constructor)==null?void 0:e.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):g6e(t):v6e(t)};async function g6e(t){const e=await y6e(t),n=Qv(e);return new Uint8Array(n)}async function v6e(t){const e=[],n=t.getReader();let r=!1,i=0;for(;!r;){const{done:o,value:l}=await n.read();l&&(e.push(l),i+=l.length),r=o}const s=new Uint8Array(i);let a=0;for(const o of e)s.set(o,a),a+=o.length;return s}function y6e(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));const i=r.result??"",s=i.indexOf(","),a=s>-1?s+1:i.length;e(i.substring(a))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(t)})}const KJ={},_I={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),KJ[t]=e,_I[e]=t}function ZJ(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const r=t.slice(n,n+2).toLowerCase();if(r in _I)e[n/2]=_I[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function Cl(t){let e="";for(let n=0;n<t.byteLength;n++)e+=KJ[t[n]];return e}const s9="The stream has already been transformed.",QJ=t=>{var i,s;if(!a9(t)&&!yI(t)){const a=((s=(i=t==null?void 0:t.__proto__)==null?void 0:i.constructor)==null?void 0:s.name)||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${a}`)}let e=!1;const n=async()=>{if(e)throw new Error(s9);return e=!0,await YJ(t)},r=a=>{if(typeof a.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return a.stream()};return Object.assign(t,{transformToByteArray:n,transformToString:async a=>{const o=await n();if(a==="base64")return Im(o);if(a==="hex")return Cl(o);if(a===void 0||a==="utf8"||a==="utf-8")return Wy(o);if(typeof TextDecoder=="function")return new TextDecoder(a).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(s9);if(e=!0,a9(t))return r(t);if(yI(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},a9=t=>typeof Blob=="function"&&t instanceof Blob;async function _6e(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}const mw=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return om.mutate(t);if(!t)return om.mutate(new Uint8Array);const n=e.streamCollector(t);return om.mutate(await n)};function o9(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const w4=t=>typeof t=="function"?t():t,JJ=(t,e,n,r,i)=>({name:e,namespace:t,traits:n,input:r,output:i}),b6e=t=>(e,n)=>async r=>{var f,h,g,v;const{response:i}=await e(r),{operationSchema:s}=Wp(n),[,a,o,l,u,d]=s??[];try{const p=await t.protocol.deserializeResponse(JJ(a,o,l,u,d),{...t,...n},i);return{response:i,output:p}}catch(p){if(Object.defineProperty(p,"$response",{value:i,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in p)){const _="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{p.message+=`
  `+_}catch{!n.logger||((h=(f=n.logger)==null?void 0:f.constructor)==null?void 0:h.name)==="NoOpLogger"?console.warn(_):(v=(g=n.logger)==null?void 0:g.warn)==null||v.call(g,_)}typeof p.$responseBodyText<"u"&&p.$response&&(p.$response.body=p.$responseBodyText);try{if(Ip.isInstance(i)){const{headers:S={}}=i,C=Object.entries(S);p.$metadata={httpStatusCode:i.statusCode,requestId:S4(/^x-[\w-]+-request-?id$/,C),extendedRequestId:S4(/^x-[\w-]+-id-2$/,C),cfId:S4(/^x-[\w-]+-cf-id$/,C)}}}catch{}}throw p}},S4=(t,e)=>(e.find(([n])=>n.match(t))||[void 0,void 0])[1],x6e=t=>(e,n)=>async r=>{var h;const{operationSchema:i}=Wp(n),[,s,a,o,l,u]=i??[],d=(h=n.endpointV2)!=null&&h.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint,f=await t.protocol.serializeRequest(JJ(s,a,o,l,u),r.input,{...t,...n,endpoint:d});return e({...r,request:f})},w6e={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},S6e={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function T6e(t){return{applyToStack:e=>{e.add(x6e(t),S6e),e.add(b6e(t),w6e),t.protocol.setSerdeContext(t)}}}function Gg(t){if(typeof t=="object")return t;t=t|0;const e={};let n=0;for(const r of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>n++&1)===1&&(e[r]=1);return e}const Kh=class Kh{constructor(e,n){nt(this,"ref");nt(this,"memberName");nt(this,"symbol",Kh.symbol);nt(this,"name");nt(this,"schema");nt(this,"_isMemberSchema");nt(this,"traits");nt(this,"memberTraits");nt(this,"normalizedTraits");this.ref=e,this.memberName=n;const r=[];let i=e,s=e;for(this._isMemberSchema=!1;T4(i);)r.push(i[1]),i=i[0],s=w4(i),this._isMemberSchema=!0;if(r.length>0){this.memberTraits={};for(let a=r.length-1;a>=0;--a){const o=r[a];Object.assign(this.memberTraits,Gg(o))}}else this.memberTraits=0;if(s instanceof Kh){const a=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},a,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=n??s.memberName;return}if(this.schema=w4(s),C6e(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!n)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){const n=this.prototype.isPrototypeOf(e);return!n&&typeof e=="object"&&e!==null?e.symbol===this.symbol:n}static of(e){const n=w4(e);if(n instanceof Kh)return n;if(T4(n)){const[r,i]=n;if(r instanceof Kh)return Object.assign(r.getMergedTraits(),Gg(i)),r;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new Kh(n)}getSchema(){const e=this.schema;return e[0]===0?e[4]:e}getName(e=!1){const{name:n}=this;return!e&&n&&n.includes("#")?n.split("#")[1]:n||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){const e=this.getSchema();return typeof e=="number"?e>=64&&e<128:e[0]===1}isMapSchema(){const e=this.getSchema();return typeof e=="number"?e>=128&&e<=255:e[0]===2}isStructSchema(){const n=this.getSchema()[0];return n===3||n===-3||n===4}isUnionSchema(){return this.getSchema()[0]===4}isBlobSchema(){const e=this.getSchema();return e===21||e===42}isTimestampSchema(){const e=this.getSchema();return typeof e=="number"&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){const{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){const e=s=>(s&4)===4||!!(s!=null&&s.idempotencyToken),{normalizedTraits:n,traits:r,memberTraits:i}=this;return e(n)||e(r)||e(i)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Gg(this.memberTraits)}getOwnTraits(){return Gg(this.traits)}getKeySchema(){const[e,n]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!n)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);const r=this.getSchema(),i=e?15:r[4]??0;return L_([i,0],"key")}getValueSchema(){const e=this.getSchema(),[n,r,i]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof e=="number"?63&e:e&&typeof e=="object"&&(r||i)?e[3+e[0]]:n?15:void 0;if(s!=null)return L_([s,0],r?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){const n=this.getSchema();if(this.isStructSchema()&&n[4].includes(e)){const r=n[4].indexOf(e),i=n[5][r];return L_(T4(i)?i:[i,0],e)}if(this.isDocumentSchema())return L_([15,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){const e={};try{for(const[n,r]of this.structIterator())e[n]=r}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(const[e,n]of this.structIterator())if(n.isStreaming()&&n.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");const e=this.getSchema();for(let n=0;n<e[4].length;++n)yield[e[4][n],L_([e[5][n],0],e[4][n])]}};nt(Kh,"symbol",Symbol.for("@smithy/nor"));let Xs=Kh;function L_(t,e){if(t instanceof Xs)return Object.assign(t,{memberName:e,_isMemberSchema:!0});const n=Xs;return new n(t,e)}const T4=t=>Array.isArray(t)&&t.length===2,C6e=t=>Array.isArray(t)&&t.length>=5,ud=class ud{constructor(e,n=new Map,r=new Map){nt(this,"namespace");nt(this,"schemas");nt(this,"exceptions");this.namespace=e,this.schemas=n,this.exceptions=r}static for(e){return ud.registries.has(e)||ud.registries.set(e,new ud(e)),ud.registries.get(e)}register(e,n){const r=this.normalizeShapeId(e);ud.for(r.split("#")[0]).schemas.set(r,n)}getSchema(e){const n=this.normalizeShapeId(e);if(!this.schemas.has(n))throw new Error(`@smithy/core/schema - schema not found for ${n}`);return this.schemas.get(n)}registerError(e,n){const r=e,i=ud.for(r[1]);i.schemas.set(r[1]+"#"+r[2],r),i.exceptions.set(r,n)}getErrorCtor(e){const n=e;return ud.for(n[1]).exceptions.get(n)}getBaseException(){for(const e of this.exceptions.keys())if(Array.isArray(e)){const[,n,r]=e,i=n+"#"+r;if(i.startsWith("smithy.ts.sdk.synthetic.")&&i.endsWith("ServiceException"))return e}}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}};nt(ud,"registries",new Map);let xa=ud;const E6e=t=>{if(t!=null){if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&M6e.warn(O6e(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},A6e=Math.ceil(2**127*(2-2**-23)),l9=t=>{const e=E6e(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>A6e)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},P6e=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},u9=t=>eee(t,16),c9=t=>eee(t,8),eee=(t,e)=>{const n=P6e(t);if(n!==void 0&&k6e(n,e)!==n)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return n},k6e=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},D6e=t=>l9(typeof t=="string"?J8(t):t),I6e=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,J8=t=>{const e=t.match(I6e);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},bI=t=>u9(typeof t=="string"?J8(t):t),R6e=t=>c9(typeof t=="string"?J8(t):t),O6e=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),M6e={warn:console.warn},L6e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e6=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function xI(t){const e=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDay(),i=t.getUTCDate(),s=t.getUTCHours(),a=t.getUTCMinutes(),o=t.getUTCSeconds(),l=i<10?`0${i}`:`${i}`,u=s<10?`0${s}`:`${s}`,d=a<10?`0${a}`:`${a}`,f=o<10?`0${o}`:`${o}`;return`${L6e[r]}, ${l} ${e6[n]} ${e} ${u}:${d}:${f} GMT`}const $6e=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),N6e=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),F6e=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),B6e=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=$6e.exec(t);if(e){const[n,r,i,s,a,o,l,u]=e;return C4(bI(YT(s)),E4(i),hv(r,"day",1,31),{hours:a,minutes:o,seconds:l,fractionalMilliseconds:u})}if(e=N6e.exec(t),e){const[n,r,i,s,a,o,l,u]=e;return z6e(C4(U6e(s),E4(i),hv(r,"day",1,31),{hours:a,minutes:o,seconds:l,fractionalMilliseconds:u}))}if(e=F6e.exec(t),e){const[n,r,i,s,a,o,l,u]=e;return C4(bI(YT(u)),E4(r),hv(i.trimLeft(),"day",1,31),{hours:s,minutes:a,seconds:o,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},C4=(t,e,n,r)=>{const i=e-1;return j6e(t,i,n),new Date(Date.UTC(t,i,n,hv(r.hours,"hour",0,23),hv(r.minutes,"minute",0,59),hv(r.seconds,"seconds",0,60),W6e(r.fractionalMilliseconds)))},U6e=t=>{const e=new Date().getUTCFullYear(),n=Math.floor(e/100)*100+bI(YT(t));return n<e?n+100:n},V6e=50*365*24*60*60*1e3,z6e=t=>t.getTime()-new Date().getTime()>V6e?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,E4=t=>{const e=e6.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},H6e=[31,28,31,30,31,30,31,31,30,31,30,31],j6e=(t,e,n)=>{let r=H6e[e];if(e===1&&G6e(t)&&(r=29),n>r)throw new TypeError(`Invalid day for ${e6[e]} in ${t}: ${n}`)},G6e=t=>t%4===0&&(t%100!==0||t%400===0),hv=(t,e,n,r)=>{const i=R6e(YT(t));if(i<n||i>r)throw new TypeError(`${e} must be between ${n} and ${r}, inclusive`);return i},W6e=t=>t==null?0:D6e("0."+t)*1e3,YT=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)},d9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),po=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),t6=()=>{if(d9)return d9();const t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,po[t[0]]+po[t[1]]+po[t[2]]+po[t[3]]+"-"+po[t[4]]+po[t[5]]+"-"+po[t[6]]+po[t[7]]+"-"+po[t[8]]+po[t[9]]+"-"+po[t[10]]+po[t[11]]+po[t[12]]+po[t[13]]+po[t[14]]+po[t[15]]},ap=function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})};ap.from=t=>t&&typeof t=="object"&&(t instanceof ap||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?ap(String(t)):ap(JSON.stringify(t));ap.fromObject=ap.from;function q6e(t){return(t.includes(",")||t.includes('"'))&&(t=`"${t.replace(/"/g,'\\"')}"`),t}const n6="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",r6="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",i6="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",tee="(\\d?\\d)",nee="(\\d{4})",X6e=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),Y6e=new RegExp(`^${n6}, ${tee} ${r6} ${nee} ${i6} GMT$`),K6e=new RegExp(`^${n6}, ${tee}-${r6}-(\\d\\d) ${i6} GMT$`),Z6e=new RegExp(`^${n6} ${r6} ( [1-9]|\\d\\d) ${i6} ${nee}$`),Q6e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],J6e=t=>{if(t==null)return;let e=NaN;if(typeof t=="number")e=t;else if(typeof t=="string"){if(!/^-?\d*\.?\d+$/.test(t))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else typeof t=="object"&&t.tag===1&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},eLe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC3339 timestamps must be strings");const e=X6e.exec(t);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${t}`);const[,n,r,i,s,a,o,,l,u]=e;wf(r,1,12),wf(i,1,31),wf(s,0,23),wf(a,0,59),wf(o,0,60);const d=new Date(Date.UTC(Number(n),Number(r)-1,Number(i),Number(s),Number(a),Number(o),Number(l)?Math.round(parseFloat(`0.${l}`)*1e3):0));if(d.setUTCFullYear(Number(n)),u.toUpperCase()!="Z"){const[,f,h,g]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],v=f==="-"?1:-1;d.setTime(d.getTime()+v*(Number(h)*60*60*1e3+Number(g)*60*1e3))}return d},tLe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,n,r,i,s,a,o,l;if((l=Y6e.exec(t))?[,e,n,r,i,s,a,o]=l:(l=K6e.exec(t))?([,e,n,r,i,s,a,o]=l,r=(Number(r)+1900).toString()):(l=Z6e.exec(t))&&([,n,e,i,s,a,o,r]=l),r&&a){const u=Date.UTC(Number(r),Q6e.indexOf(n),Number(e),Number(i),Number(s),Number(a),o?Math.round(parseFloat(`0.${o}`)*1e3):0);wf(e,1,31),wf(i,0,23),wf(s,0,59),wf(a,0,60);const d=new Date(u);return d.setUTCFullYear(Number(r)),d}throw new TypeError(`Invalid RFC7231 date-time value ${t}.`)};function wf(t,e,n){const r=Number(t);if(r<e||r>n)throw new Error(`Value ${r} out of range [${e}, ${n}]`)}function nLe(t,e,n){if(n<=0||!Number.isInteger(n))throw new Error("Invalid number of delimiters ("+n+") for splitEvery.");const r=t.split(e);if(n===1)return r;const i=[];let s="";for(let a=0;a<r.length;a++)s===""?s=r[a]:s+=e+r[a],(a+1)%n===0&&(i.push(s),s="");return s!==""&&i.push(s),i}const ree=t=>{const e=t.length,n=[];let r=!1,i,s=0;for(let a=0;a<e;++a){const o=t[a];switch(o){case'"':i!=="\\"&&(r=!r);break;case",":r||(n.push(t.slice(s,a)),s=a+1);break}i=o}return n.push(t.slice(s)),n.map(a=>{a=a.trim();const o=a.length;return o<2?a:(a[0]==='"'&&a[o-1]==='"'&&(a=a.slice(1,o-1)),a.replace(/\\"/g,'"'))})},f9=/^-?\d*(\.\d+)?$/;class QE{constructor(e,n){nt(this,"string");nt(this,"type");if(this.string=e,this.type=n,!f9.test(e))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](e){if(!e||typeof e!="object")return!1;const n=e;return QE.prototype.isPrototypeOf(e)||n.type==="bigDecimal"&&f9.test(n.string)}}const rLe="modulepreload",iLe=function(t){return"/"+t},h9={},v2=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=iLe(s),s in h9)return;h9[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===s&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":rLe,a||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),a)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};class JE{constructor(){nt(this,"serdeContext")}setSerdeContext(e){this.serdeContext=e}}class sLe extends JE{constructor(n){super();nt(this,"options");this.options=n}getRequestType(){return la}getResponseType(){return Ip}setSerdeContext(n){this.serdeContext=n,this.serializer.setSerdeContext(n),this.deserializer.setSerdeContext(n),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(n)}updateServiceEndpoint(n,r){if("url"in r){n.protocol=r.url.protocol,n.hostname=r.url.hostname,n.port=r.url.port?Number(r.url.port):void 0,n.path=r.url.pathname,n.fragment=r.url.hash||void 0,n.username=r.url.username||void 0,n.password=r.url.password||void 0,n.query||(n.query={});for(const[i,s]of r.url.searchParams.entries())n.query[i]=s;return n}else return n.protocol=r.protocol,n.hostname=r.hostname,n.port=r.port?Number(r.port):void 0,n.path=r.path,n.query={...r.query},n}setHostPrefix(n,r,i){var o;const s=Xs.of(r.input),a=Gg(r.traits??{});if(a.endpoint){let l=(o=a.endpoint)==null?void 0:o[0];if(typeof l=="string"){const u=[...s.structIterator()].filter(([,d])=>d.getMergedTraits().hostLabel);for(const[d]of u){const f=i[d];if(typeof f!="string")throw new Error(`@smithy/core/schema - ${d} in input must be a string as hostLabel.`);l=l.replace(`{${d}}`,f)}n.hostname=l+n.hostname}}}deserializeMetadata(n){return{httpStatusCode:n.statusCode,requestId:n.headers["x-amzn-requestid"]??n.headers["x-amzn-request-id"]??n.headers["x-amz-request-id"],extendedRequestId:n.headers["x-amz-id-2"],cfId:n.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:n,requestSchema:r,initialRequest:i}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:n,requestSchema:r,initialRequest:i})}async deserializeEventStream({response:n,responseSchema:r,initialResponseContainer:i}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:n,responseSchema:r,initialResponseContainer:i})}async loadEventStreamCapability(){const{EventStreamSerde:n}=await v2(()=>import("./index-0afc1bd4.js"),[]);return new n({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(n,r,i,s,a){return[]}getEventStreamMarshaller(){const n=this.serdeContext;if(!n.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return n.eventStreamMarshaller}}class aLe extends sLe{async serializeRequest(e,n,r){const i={...n??{}},s=this.serializer,a={},o={},l=await r.endpoint(),u=Xs.of(e==null?void 0:e.input),d=u.getSchema();let f=!1,h;const g=new la({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:a,headers:o,body:void 0});if(l){this.updateServiceEndpoint(g,l),this.setHostPrefix(g,e,i);const v=Gg(e.traits);if(v.http){g.method=v.http[0];const[p,_]=v.http[1].split("?");g.path=="/"?g.path=p:g.path+=p;const S=new URLSearchParams(_??"");Object.assign(a,Object.fromEntries(S))}}for(const[v,p]of u.structIterator()){const _=p.getMergedTraits()??{},S=i[v];if(!(S==null&&!p.isIdempotencyToken()))if(_.httpPayload)p.isStreaming()?p.isStructSchema()?i[v]&&(h=await this.serializeEventStream({eventStream:i[v],requestSchema:u})):h=S:(s.write(p,S),h=s.flush()),delete i[v];else if(_.httpLabel){s.write(p,S);const C=s.flush();g.path.includes(`{${v}+}`)?g.path=g.path.replace(`{${v}+}`,C.split("/").map(o9).join("/")):g.path.includes(`{${v}}`)&&(g.path=g.path.replace(`{${v}}`,o9(C))),delete i[v]}else if(_.httpHeader)s.write(p,S),o[_.httpHeader.toLowerCase()]=String(s.flush()),delete i[v];else if(typeof _.httpPrefixHeaders=="string"){for(const[C,T]of Object.entries(S)){const A=_.httpPrefixHeaders+C;s.write([p.getValueSchema(),{httpHeader:A}],T),o[A.toLowerCase()]=s.flush()}delete i[v]}else _.httpQuery||_.httpQueryParams?(this.serializeQuery(p,S,a),delete i[v]):f=!0}return f&&i&&(s.write(d,i),h=s.flush()),g.headers=o,g.query=a,g.body=h,g}serializeQuery(e,n,r){const i=this.serializer,s=e.getMergedTraits();if(s.httpQueryParams){for(const[a,o]of Object.entries(n))if(!(a in r)){const l=e.getValueSchema();Object.assign(l.getMergedTraits(),{...s,httpQuery:a,httpQueryParams:void 0}),this.serializeQuery(l,o,r)}return}if(e.isListSchema()){const a=!!e.getMergedTraits().sparse,o=[];for(const l of n){i.write([e.getValueSchema(),s],l);const u=i.flush();(a||u!==void 0)&&o.push(u)}r[s.httpQuery]=o}else i.write([e,s],n),r[s.httpQuery]=i.flush()}async deserializeResponse(e,n,r){const i=this.deserializer,s=Xs.of(e.output),a={};if(r.statusCode>=300){const l=await mw(r.body,n);throw l.byteLength>0&&Object.assign(a,await i.read(15,l)),await this.handleError(e,n,r,a,this.deserializeMetadata(r)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(const l in r.headers){const u=r.headers[l];delete r.headers[l],r.headers[l.toLowerCase()]=u}const o=await this.deserializeHttpMessage(s,n,r,a);if(o.length){const l=await mw(r.body,n);if(l.byteLength>0){const u=await i.read(s,l);for(const d of o)a[d]=u[d]}}else o.discardResponseBody&&await mw(r.body,n);return a.$metadata=this.deserializeMetadata(r),a}async deserializeHttpMessage(e,n,r,i,s){let a;i instanceof Set?a=s:a=i;let o=!0;const l=this.deserializer,u=Xs.of(e),d=[];for(const[f,h]of u.structIterator()){const g=h.getMemberTraits();if(g.httpPayload){if(o=!1,h.isStreaming())h.isStructSchema()?a[f]=await this.deserializeEventStream({response:r,responseSchema:u}):a[f]=QJ(r.body);else if(r.body){const p=await mw(r.body,n);p.byteLength>0&&(a[f]=await l.read(h,p))}}else if(g.httpHeader){const v=String(g.httpHeader).toLowerCase(),p=r.headers[v];if(p!=null)if(h.isListSchema()){const _=h.getValueSchema();_.getMergedTraits().httpHeader=v;let S;_.isTimestampSchema()&&_.getSchema()===4?S=nLe(p,",",2):S=ree(p);const C=[];for(const T of S)C.push(await l.read(_,T.trim()));a[f]=C}else a[f]=await l.read(h,p)}else if(g.httpPrefixHeaders!==void 0){a[f]={};for(const[v,p]of Object.entries(r.headers))if(v.startsWith(g.httpPrefixHeaders)){const _=h.getValueSchema();_.getMergedTraits().httpHeader=v,a[f][v.slice(g.httpPrefixHeaders.length)]=await l.read(_,p)}}else g.httpResponseCode?a[f]=r.statusCode:d.push(f)}return d.discardResponseBody=o,d}}function s6(t,e){if(e.timestampFormat.useTrait&&t.isTimestampSchema()&&(t.getSchema()===5||t.getSchema()===6||t.getSchema()===7))return t.getSchema();const{httpLabel:n,httpPrefixHeaders:r,httpHeader:i,httpQuery:s}=t.getMergedTraits();return(e.httpBindings?typeof r=="string"||i?6:s||n?5:void 0:void 0)??e.timestampFormat.default}class iee extends JE{constructor(n){super();nt(this,"settings");this.settings=n}read(n,r){var s;const i=Xs.of(n);if(i.isListSchema())return ree(r).map(a=>this.read(i.getValueSchema(),a));if(i.isBlobSchema())return(((s=this.serdeContext)==null?void 0:s.base64Decoder)??Qv)(r);if(i.isTimestampSchema())switch(s6(i,this.settings)){case 5:return eLe(r);case 6:return tLe(r);case 7:return J6e(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(i.isStringSchema()){const a=i.getMergedTraits().mediaType;let o=r;if(a)return i.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(a==="application/json"||a.endsWith("+json"))&&(o=ap.from(o)),o}return i.isNumericSchema()?Number(r):i.isBigIntegerSchema()?BigInt(r):i.isBigDecimalSchema()?new QE(r,"bigDecimal"):i.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(n){var r,i;return(((r=this.serdeContext)==null?void 0:r.utf8Encoder)??Wy)((((i=this.serdeContext)==null?void 0:i.base64Decoder)??Qv)(n))}}class oLe extends JE{constructor(n,r){super();nt(this,"codecDeserializer");nt(this,"stringDeserializer");this.codecDeserializer=n,this.stringDeserializer=new iee(r)}setSerdeContext(n){this.stringDeserializer.setSerdeContext(n),this.codecDeserializer.setSerdeContext(n),this.serdeContext=n}read(n,r){var o,l;const i=Xs.of(n),s=i.getMergedTraits(),a=((o=this.serdeContext)==null?void 0:o.utf8Encoder)??Wy;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(i,a(r));if(s.httpPayload){if(i.isBlobSchema()){const u=((l=this.serdeContext)==null?void 0:l.utf8Decoder)??Rp;return typeof r=="string"?u(r):r}else if(i.isStringSchema())return"byteLength"in r?a(r):r}return this.codecDeserializer.read(i,r)}}class lLe extends JE{constructor(n){super();nt(this,"settings");nt(this,"stringBuffer","");this.settings=n}write(n,r){var s,a;const i=Xs.of(n);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(i.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${i.getName(!0)}`);switch(s6(i,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=xI(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(i.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(((s=this.serdeContext)==null?void 0:s.base64Encoder)??Im)(r);return}if(i.isListSchema()&&Array.isArray(r)){let u="";for(const d of r){this.write([i.getValueSchema(),i.getMergedTraits()],d);const f=this.flush(),h=i.getValueSchema().isTimestampSchema()?f:q6e(f);u!==""&&(u+=", "),u+=h}this.stringBuffer=u;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":const o=i.getMergedTraits().mediaType;let l=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(l=ap.from(l)),i.getMergedTraits().httpHeader)){this.stringBuffer=(((a=this.serdeContext)==null?void 0:a.base64Encoder)??Im)(l.toString());return}this.stringBuffer=r;break;default:i.isIdempotencyToken()?this.stringBuffer=t6():this.stringBuffer=String(r)}}flush(){const n=this.stringBuffer;return this.stringBuffer="",n}}class uLe{constructor(e,n,r=new lLe(n)){nt(this,"codecSerializer");nt(this,"stringSerializer");nt(this,"buffer");this.codecSerializer=e,this.stringSerializer=r}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,n){const r=Xs.of(e),i=r.getMergedTraits();if(i.httpHeader||i.httpLabel||i.httpQuery){this.stringSerializer.write(r,n),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(r,n)}flush(){if(this.buffer!==void 0){const e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}function cLe(t,e,n){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=n}class dLe{constructor(e){nt(this,"authSchemes",new Map);for(const[n,r]of Object.entries(e))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(e){return this.authSchemes.get(e)}}const fLe=t=>function(n){return see(n)&&n.expiration.getTime()-Date.now()<t},hLe=3e5,pLe=fLe(hLe),see=t=>t.expiration!==void 0,mLe=(t,e,n)=>{if(t===void 0)return;const r=typeof t!="function"?async()=>Promise.resolve(t):t;let i,s,a,o=!1;const l=async u=>{s||(s=r(u));try{i=await s,a=!0,o=!1}finally{s=void 0}return i};return e===void 0?async u=>((!a||u!=null&&u.forceRefresh)&&(i=await l(u)),i):async u=>((!a||u!=null&&u.forceRefresh)&&(i=await l(u)),o?i:n(i)?(e(i)&&await l(u),i):(o=!0,i))},gLe=(t,e,n)=>{let r,i,s,a=!1;const o=async()=>{i||(i=t());try{r=await i,s=!0,a=!1}finally{i=void 0}return r};return e===void 0?async l=>((!s||l!=null&&l.forceRefresh)&&(r=await o()),r):async l=>((!s||l!=null&&l.forceRefresh)&&(r=await o()),a?r:n&&!n(r)?(a=!0,r):(e(r)&&await o(),r))},vLe=t=>(t.sigv4aSigningRegionSet=dv(t.sigv4aSigningRegionSet),t),yLe="X-Amz-Algorithm",_Le="X-Amz-Credential",aee="X-Amz-Date",bLe="X-Amz-SignedHeaders",xLe="X-Amz-Expires",oee="X-Amz-Signature",lee="X-Amz-Security-Token",uee="authorization",cee=aee.toLowerCase(),wLe="date",SLe=[uee,cee,wLe],TLe=oee.toLowerCase(),wI="x-amz-content-sha256",CLe=lee.toLowerCase(),ELe={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ALe=/^proxy-/,PLe=/^sec-/,A4="AWS4-HMAC-SHA256",kLe="AWS4-HMAC-SHA256-PAYLOAD",DLe="UNSIGNED-PAYLOAD",ILe=50,dee="aws4_request",RLe=60*60*24*7,gw={},P4=[],k4=(t,e,n)=>`${t}/${e}/${n}/${dee}`,OLe=async(t,e,n,r,i)=>{const s=await p9(t,e.secretAccessKey,e.accessKeyId),a=`${n}:${r}:${i}:${Cl(s)}:${e.sessionToken}`;if(a in gw)return gw[a];for(P4.push(a);P4.length>ILe;)delete gw[P4.shift()];let o=`AWS4${e.secretAccessKey}`;for(const l of[n,r,i,dee])o=await p9(t,o,l);return gw[a]=o},p9=(t,e,n)=>{const r=new t(e);return r.update(Jv(n)),r.digest()},m9=({headers:t},e,n)=>{const r={};for(const i of Object.keys(t).sort()){if(t[i]==null)continue;const s=i.toLowerCase();(s in ELe||e!=null&&e.has(s)||ALe.test(s)||PLe.test(s))&&(!n||n&&!n.has(s))||(r[s]=t[i].trim().replace(/\s+/g," "))}return r},fee=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",D4=async({headers:t,body:e},n)=>{for(const r of Object.keys(t))if(r.toLowerCase()===wI)return t[r];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||fee(e)){const r=new n;return r.update(Jv(e)),Cl(await r.digest())}return DLe};class MLe{format(e){const n=[];for(const s of Object.keys(e)){const a=Rp(s);n.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(e[s]))}const r=new Uint8Array(n.reduce((s,a)=>s+a.byteLength,0));let i=0;for(const s of n)r.set(s,i),i+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":const s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);const a=new Uint8Array(s.buffer);return a.set(e.value,3),a;case"string":const o=Rp(e.value),l=new DataView(new ArrayBuffer(3+o.byteLength));l.setUint8(0,7),l.setUint16(1,o.byteLength,!1);const u=new Uint8Array(l.buffer);return u.set(o,3),u;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set($Le.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!LLe.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(ZJ(e.value.replace(/\-/g,"")),1),f}}}var g9;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(g9||(g9={}));const LLe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let $Le=class hee{constructor(e){nt(this,"bytes");if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&v9(n),new hee(n)}valueOf(){const e=this.bytes.slice(0),n=e[0]&128;return n&&v9(e),parseInt(Cl(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function v9(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}const NLe=(t,e)=>{t=t.toLowerCase();for(const n of Object.keys(e))if(t===n.toLowerCase())return!0;return!1},FLe=(t,e={})=>{var i,s;const{headers:n,query:r={}}=la.clone(t);for(const a of Object.keys(n)){const o=a.toLowerCase();(o.slice(0,6)==="x-amz-"&&!((i=e.unhoistableHeaders)!=null&&i.has(o))||(s=e.hoistableHeaders)!=null&&s.has(o))&&(r[a]=n[a],delete n[a])}return{...t,headers:n,query:r}},y9=t=>{t=la.clone(t);for(const e of Object.keys(t.headers))SLe.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},BLe=({query:t={}})=>{const e=[],n={};for(const r of Object.keys(t)){if(r.toLowerCase()===TLe)continue;const i=lm(r);e.push(i);const s=t[r];typeof s=="string"?n[i]=`${i}=${lm(s)}`:Array.isArray(s)&&(n[i]=s.slice(0).reduce((a,o)=>a.concat([`${i}=${lm(o)}`]),[]).sort().join("&"))}return e.sort().map(r=>n[r]).filter(r=>r).join("&")},ULe=t=>VLe(t).toISOString().replace(/\.\d{3}Z$/,"Z"),VLe=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class zLe{constructor({applyChecksum:e,credentials:n,region:r,service:i,sha256:s,uriEscapePath:a=!0}){nt(this,"service");nt(this,"regionProvider");nt(this,"credentialProvider");nt(this,"sha256");nt(this,"uriEscapePath");nt(this,"applyChecksum");this.service=i,this.sha256=s,this.uriEscapePath=a,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=gc(r),this.credentialProvider=gc(n)}createCanonicalRequest(e,n,r){const i=Object.keys(n).sort();return`${e.method}
${this.getCanonicalPath(e)}
${BLe(e)}
${i.map(s=>`${s}:${n[s]}`).join(`
`)}

${i.join(";")}
${r}`}async createStringToSign(e,n,r,i){const s=new this.sha256;s.update(Jv(r));const a=await s.digest();return`${i}
${e}
${n}
${Cl(a)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const n=[];for(const s of e.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?n.pop():n.push(s));const r=`${e!=null&&e.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return lm(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){const n=ULe(e).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}class SI extends zLe{constructor({applyChecksum:n,credentials:r,region:i,service:s,sha256:a,uriEscapePath:o=!0}){super({applyChecksum:n,credentials:r,region:i,service:s,sha256:a,uriEscapePath:o});nt(this,"headerFormatter",new MLe)}async presign(n,r={}){const{signingDate:i=new Date,expiresIn:s=3600,unsignableHeaders:a,unhoistableHeaders:o,signableHeaders:l,hoistableHeaders:u,signingRegion:d,signingService:f}=r,h=await this.credentialProvider();this.validateResolvedCredentials(h);const g=d??await this.regionProvider(),{longDate:v,shortDate:p}=this.formatDate(i);if(s>RLe)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const _=k4(p,g,f??this.service),S=FLe(y9(n),{unhoistableHeaders:o,hoistableHeaders:u});h.sessionToken&&(S.query[lee]=h.sessionToken),S.query[yLe]=A4,S.query[_Le]=`${h.accessKeyId}/${_}`,S.query[aee]=v,S.query[xLe]=s.toString(10);const C=m9(S,a,l);return S.query[bLe]=this.getCanonicalHeaderList(C),S.query[oee]=await this.getSignature(v,_,this.getSigningKey(h,g,p,f),this.createCanonicalRequest(S,C,await D4(n,this.sha256))),S}async sign(n,r){return typeof n=="string"?this.signString(n,r):n.headers&&n.payload?this.signEvent(n,r):n.message?this.signMessage(n,r):this.signRequest(n,r)}async signEvent({headers:n,payload:r},{signingDate:i=new Date,priorSignature:s,signingRegion:a,signingService:o}){const l=a??await this.regionProvider(),{shortDate:u,longDate:d}=this.formatDate(i),f=k4(u,l,o??this.service),h=await D4({headers:{},body:r},this.sha256),g=new this.sha256;g.update(n);const v=Cl(await g.digest()),p=[kLe,d,f,s,v,h].join(`
`);return this.signString(p,{signingDate:i,signingRegion:l,signingService:o})}async signMessage(n,{signingDate:r=new Date,signingRegion:i,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(n.message.headers),payload:n.message.body},{signingDate:r,signingRegion:i,signingService:s,priorSignature:n.priorSignature}).then(o=>({message:n.message,signature:o}))}async signString(n,{signingDate:r=new Date,signingRegion:i,signingService:s}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const o=i??await this.regionProvider(),{shortDate:l}=this.formatDate(r),u=new this.sha256(await this.getSigningKey(a,o,l,s));return u.update(Jv(n)),Cl(await u.digest())}async signRequest(n,{signingDate:r=new Date,signableHeaders:i,unsignableHeaders:s,signingRegion:a,signingService:o}={}){const l=await this.credentialProvider();this.validateResolvedCredentials(l);const u=a??await this.regionProvider(),d=y9(n),{longDate:f,shortDate:h}=this.formatDate(r),g=k4(h,u,o??this.service);d.headers[cee]=f,l.sessionToken&&(d.headers[CLe]=l.sessionToken);const v=await D4(d,this.sha256);!NLe(wI,d.headers)&&this.applyChecksum&&(d.headers[wI]=v);const p=m9(d,s,i),_=await this.getSignature(f,g,this.getSigningKey(l,u,h,o),this.createCanonicalRequest(d,p,v));return d.headers[uee]=`${A4} Credential=${l.accessKeyId}/${g}, SignedHeaders=${this.getCanonicalHeaderList(p)}, Signature=${_}`,d}async getSignature(n,r,i,s){const a=await this.createStringToSign(n,r,s,A4),o=new this.sha256(await i);return o.update(Jv(a)),Cl(await o.digest())}getSigningKey(n,r,i,s){return OLe(this.sha256,n,i,r,s||this.service)}}const HLe=t=>{let e=t.credentials,n=!!t.credentials,r;Object.defineProperty(t,"credentials",{set(u){u&&u!==e&&u!==r&&(n=!0),e=u;const d=jLe(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),f=GLe(t,d);n&&!f.attributed?(r=async h=>f(h).then(g=>H8e(g,"CREDENTIALS_CODE","e")),r.memoized=f.memoized,r.configBound=f.configBound,r.attributed=!0):r=f},get(){return r},enumerable:!0,configurable:!0}),t.credentials=e;const{signingEscapePath:i=!0,systemClockOffset:s=t.systemClockOffset||0,sha256:a}=t;let o;return t.signer?o=dv(t.signer):t.regionInfoProvider?o=()=>dv(t.region)().then(async u=>[await t.regionInfoProvider(u,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},u]).then(([u,d])=>{const{signingRegion:f,signingService:h}=u;t.signingRegion=t.signingRegion||f||d,t.signingName=t.signingName||h||t.serviceId;const g={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:a,uriEscapePath:i},v=t.signerConstructor||SI;return new v(g)}):o=async u=>{u=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await dv(t.region)(),properties:{}},u);const d=u.signingRegion,f=u.signingName;t.signingRegion=t.signingRegion||d,t.signingName=t.signingName||f||t.serviceId;const h={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:a,uriEscapePath:i},g=t.signerConstructor||SI;return new g(h)},Object.assign(t,{systemClockOffset:s,signingEscapePath:i,signer:o})};function jLe(t,{credentials:e,credentialDefaultProvider:n}){let r;return e?e!=null&&e.memoized?r=e:r=mLe(e,pLe,see):n?r=dv(n(Object.assign({},t,{parentClientConfig:t}))):r=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},r.memoized=!0,r}function GLe(t,e){if(e.configBound)return e;const n=async r=>e({...r,callerClientConfig:t});return n.memoized=e.memoized,n.configBound=!0,n}const _9=typeof TextEncoder=="function"?new TextEncoder:null,WLe=t=>{if(typeof t=="string"){if(_9)return _9.encode(t).byteLength;let e=t.length;for(let n=e-1;n>=0;n--){const r=t.charCodeAt(n);r>127&&r<=2047?e++:r>2047&&r<=65535&&(e+=2),r>=56320&&r<=57343&&n--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)},p0=(t,e)=>{const n=[];if(t&&n.push(t),e)for(const r of e)n.push(r);return n},Ch=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,KT=()=>{let t=[],e=[],n=!1;const r=new Set,i=f=>f.sort((h,g)=>b9[g.step]-b9[h.step]||x9[g.priority||"normal"]-x9[h.priority||"normal"]),s=f=>{let h=!1;const g=v=>{const p=p0(v.name,v.aliases);if(p.includes(f)){h=!0;for(const _ of p)r.delete(_);return!1}return!0};return t=t.filter(g),e=e.filter(g),h},a=f=>{let h=!1;const g=v=>{if(v.middleware===f){h=!0;for(const p of p0(v.name,v.aliases))r.delete(p);return!1}return!0};return t=t.filter(g),e=e.filter(g),h},o=f=>{var h;return t.forEach(g=>{f.add(g.middleware,{...g})}),e.forEach(g=>{f.addRelativeTo(g.middleware,{...g})}),(h=f.identifyOnResolve)==null||h.call(f,d.identifyOnResolve()),f},l=f=>{const h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...l(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...l(g))}),h},u=(f=!1)=>{const h=[],g=[],v={};return t.forEach(_=>{const S={..._,before:[],after:[]};for(const C of p0(S.name,S.aliases))v[C]=S;h.push(S)}),e.forEach(_=>{const S={..._,before:[],after:[]};for(const C of p0(S.name,S.aliases))v[C]=S;g.push(S)}),g.forEach(_=>{if(_.toMiddleware){const S=v[_.toMiddleware];if(S===void 0){if(f)return;throw new Error(`${_.toMiddleware} is not found when adding ${Ch(_.name,_.aliases)} middleware ${_.relation} ${_.toMiddleware}`)}_.relation==="after"&&S.after.push(_),_.relation==="before"&&S.before.push(_)}}),i(h).map(l).reduce((_,S)=>(_.push(...S),_),[])},d={add:(f,h={})=>{const{name:g,override:v,aliases:p}=h,_={step:"initialize",priority:"normal",middleware:f,...h},S=p0(g,p);if(S.length>0){if(S.some(C=>r.has(C))){if(!v)throw new Error(`Duplicate middleware name '${Ch(g,p)}'`);for(const C of S){const T=t.findIndex(P=>{var D;return P.name===C||((D=P.aliases)==null?void 0:D.some(R=>R===C))});if(T===-1)continue;const A=t[T];if(A.step!==_.step||_.priority!==A.priority)throw new Error(`"${Ch(A.name,A.aliases)}" middleware with ${A.priority} priority in ${A.step} step cannot be overridden by "${Ch(g,p)}" middleware with ${_.priority} priority in ${_.step} step.`);t.splice(T,1)}}for(const C of S)r.add(C)}t.push(_)},addRelativeTo:(f,h)=>{const{name:g,override:v,aliases:p}=h,_={middleware:f,...h},S=p0(g,p);if(S.length>0){if(S.some(C=>r.has(C))){if(!v)throw new Error(`Duplicate middleware name '${Ch(g,p)}'`);for(const C of S){const T=e.findIndex(P=>{var D;return P.name===C||((D=P.aliases)==null?void 0:D.some(R=>R===C))});if(T===-1)continue;const A=e[T];if(A.toMiddleware!==_.toMiddleware||A.relation!==_.relation)throw new Error(`"${Ch(A.name,A.aliases)}" middleware ${A.relation} "${A.toMiddleware}" middleware cannot be overridden by "${Ch(g,p)}" middleware ${_.relation} "${_.toMiddleware}" middleware.`);e.splice(T,1)}}for(const C of S)r.add(C)}e.push(_)},clone:()=>o(KT()),use:f=>{f.applyToStack(d)},remove:f=>typeof f=="string"?s(f):a(f),removeByTag:f=>{let h=!1;const g=v=>{const{tags:p,name:_,aliases:S}=v;if(p&&p.includes(f)){const C=p0(_,S);for(const T of C)r.delete(T);return h=!0,!1}return!0};return t=t.filter(g),e=e.filter(g),h},concat:f=>{var g;const h=o(KT());return h.use(f),h.identifyOnResolve(n||h.identifyOnResolve()||(((g=f.identifyOnResolve)==null?void 0:g.call(f))??!1)),h},applyToStack:o,identify:()=>u(!0).map(f=>{const h=f.step??f.relation+" "+f.toMiddleware;return Ch(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(n=f),n},resolve:(f,h)=>{for(const g of u().map(v=>v.middleware).reverse())f=g(f,h);return n&&console.log(d.identify()),f}};return d},b9={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},x9={high:3,normal:2,low:1};class qLe{constructor(e){nt(this,"config");nt(this,"middlewareStack",KT());nt(this,"initConfig");nt(this,"handlers");this.config=e;const{protocol:n,protocolSettings:r}=e;r&&typeof n=="function"&&(e.protocol=new n(r))}send(e,n,r){const i=typeof n!="function"?n:void 0,s=typeof n=="function"?n:r,a=i===void 0&&this.config.cacheMiddleware===!0;let o;if(a){this.handlers||(this.handlers=new WeakMap);const l=this.handlers;l.has(e.constructor)?o=l.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,i),l.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,i);if(s)o(e).then(l=>s(null,l.output),l=>s(l)).catch(()=>{});else return o(e).then(l=>l.output)}destroy(){var e,n,r;(r=(n=(e=this.config)==null?void 0:e.requestHandler)==null?void 0:n.destroy)==null||r.call(n),delete this.handlers}}const I4="***SensitiveInformation***";function TI(t,e){if(e==null)return e;const n=Xs.of(t);if(n.getMergedTraits().sensitive)return I4;if(n.isListSchema()){if(!!n.getValueSchema().getMergedTraits().sensitive)return I4}else if(n.isMapSchema()){if(!!n.getKeySchema().getMergedTraits().sensitive||!!n.getValueSchema().getMergedTraits().sensitive)return I4}else if(n.isStructSchema()&&typeof e=="object"){const r=e,i={};for(const[s,a]of n.structIterator())r[s]!=null&&(i[s]=TI(a,r[s]));return i}return e}class Zu{constructor(){nt(this,"middlewareStack",KT());nt(this,"schema")}static classBuilder(){return new XLe}resolveMiddlewareWithContext(e,n,r,{middlewareFn:i,clientName:s,commandName:a,inputFilterSensitiveLog:o,outputFilterSensitiveLog:l,smithyContext:u,additionalContext:d,CommandCtor:f}){for(const _ of i.bind(this)(f,e,n,r))this.middlewareStack.use(_);const h=e.concat(this.middlewareStack),{logger:g}=n,v={logger:g,clientName:s,commandName:a,inputFilterSensitiveLog:o,outputFilterSensitiveLog:l,[gI]:{commandInstance:this,...u},...d},{requestHandler:p}=n;return h.resolve(_=>p.handle(_.request,r||{}),v)}}class XLe{constructor(){nt(this,"_init",()=>{});nt(this,"_ep",{});nt(this,"_middlewareFn",()=>[]);nt(this,"_commandName","");nt(this,"_clientName","");nt(this,"_additionalContext",{});nt(this,"_smithyContext",{});nt(this,"_inputFilterSensitiveLog");nt(this,"_outputFilterSensitiveLog");nt(this,"_serializer",null);nt(this,"_deserializer",null);nt(this,"_operationSchema")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,n,r={}){return this._smithyContext={service:e,operation:n,...r},this}c(e={}){return this._additionalContext=e,this}n(e,n){return this._clientName=e,this._commandName=n,this}f(e=r=>r,n=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=n,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){const e=this;let n;return n=class extends Zu{constructor(...[i]){super();nt(this,"input");nt(this,"serialize",e._serializer);nt(this,"deserialize",e._deserializer);this.input=i??{},e._init(this),this.schema=e._operationSchema}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(i,s,a){const o=e._operationSchema,l=(o==null?void 0:o[4])??(o==null?void 0:o.input),u=(o==null?void 0:o[5])??(o==null?void 0:o.output);return this.resolveMiddlewareWithContext(i,s,a,{CommandCtor:n,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(o?TI.bind(null,l):d=>d),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(o?TI.bind(null,u):d=>d),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}class Wg extends Error{constructor(n){super(n.message);nt(this,"$fault");nt(this,"$response");nt(this,"$retryable");nt(this,"$metadata");Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=n.name,this.$fault=n.$fault,this.$metadata=n.$metadata}static isInstance(n){if(!n)return!1;const r=n;return Wg.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](n){if(!n)return!1;const r=n;return this===Wg?Wg.isInstance(n):Wg.isInstance(n)?r.name&&this.name?this.prototype.isPrototypeOf(n)||r.name===this.name:this.prototype.isPrototypeOf(n):!1}}const w9=(t,e={})=>{Object.entries(e).filter(([,r])=>r!==void 0).forEach(([r,i])=>{(t[r]==null||t[r]==="")&&(t[r]=i)});const n=t.message||t.Message||"UnknownError";return t.message=n,delete t.Message,t},YLe=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},KLe=t=>{const e=[];for(const n in XT){const r=XT[n];t[r]!==void 0&&e.push({algorithmId:()=>r,checksumConstructor:()=>t[r]})}return{addChecksumAlgorithm(n){e.push(n)},checksumAlgorithms(){return e}}},ZLe=t=>{const e={};return t.checksumAlgorithms().forEach(n=>{e[n.algorithmId()]=n.checksumConstructor()}),e},QLe=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),JLe=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},e$e=t=>Object.assign(KLe(t),QLe(t)),t$e=t=>Object.assign(ZLe(t),JLe(t)),pee=t=>{const e="#text";for(const n in t)t.hasOwnProperty(n)&&t[n][e]!==void 0?t[n]=t[n][e]:typeof t[n]=="object"&&t[n]!==null&&(t[n]=pee(t[n]));return t};class a6{trace(){}debug(){}info(){}warn(){}error(){}}class n$e{constructor(e=!1){nt(this,"queryCompat");this.queryCompat=e}resolveRestContentType(e,n){const r=n.getMemberSchemas(),i=Object.values(r).find(s=>!!s.getMergedTraits().httpPayload);if(i){const s=i.getMergedTraits().mediaType;return s||(i.isStringSchema()?"text/plain":i.isBlobSchema()?"application/octet-stream":e)}else if(!n.isUnitSchema()&&Object.values(r).find(a=>{const{httpQuery:o,httpQueryParams:l,httpHeader:u,httpLabel:d,httpPrefixHeaders:f}=a.getMergedTraits();return!o&&!l&&!u&&!d&&f===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,n,r,i,s,a){let o=n,l=e;e.includes("#")&&([o,l]=e.split("#"));const u={$metadata:s,$fault:r.statusCode<500?"client":"server"},d=xa.for(o);try{return{errorSchema:(a==null?void 0:a(d,l))??d.getSchema(e),errorMetadata:u}}catch{i.message=i.message??i.Message??"UnknownError";const h=xa.for("smithy.ts.sdk.synthetic."+o),g=h.getBaseException();if(g){const v=h.getErrorCtor(g)??Error;throw this.decorateServiceException(Object.assign(new v({name:l}),u),i)}throw this.decorateServiceException(Object.assign(new Error(l),u),i)}}decorateServiceException(e,n={}){if(this.queryCompat){const r=e.Message??n.Message,i=w9(e,n);r&&(i.message=r),i.Error={...i.Error,Type:i.Error.Type,Code:i.Error.Code,Message:i.Error.message??i.Error.Message??r};const s=i.$metadata.requestId;return s&&(i.RequestId=s),i}return w9(e,n)}setQueryCompatError(e,n){var i;const r=(i=n.headers)==null?void 0:i["x-amzn-query-error"];if(e!==void 0&&r!=null){const[s,a]=r.split(";"),o=Object.entries(e),l={Code:s,Type:a};Object.assign(e,l);for(const[u,d]of o)l[u==="message"?"Message":u]=d;delete l.__type,e.Error=l}}queryCompatOutput(e,n){e.Error&&(n.Error=e.Error),e.Type&&(n.Type=e.Type),e.Code&&(n.Code=e.Code)}findQueryCompatibleError(e,n){try{return e.getSchema(n)}catch{return e.find(i=>{var s;return((s=Xs.of(i).getMergedTraits().awsQueryError)==null?void 0:s[0])===n})}}}class o6{constructor(){nt(this,"serdeContext")}setSerdeContext(e){this.serdeContext=e}}function*r$e(t,e){if(t.isUnitSchema())return;const n=t.getSchema();for(let r=0;r<n[4].length;++r){const i=n[4][r],s=n[5][r],a=new Xs([s,0],i);!(i in e)&&!a.isIdempotencyToken()||(yield[i,a])}}class i$e{constructor(e,n){nt(this,"from");nt(this,"to");nt(this,"keys");this.from=e,this.to=n,this.keys=new Set(Object.keys(this.from).filter(r=>r!=="__type"))}mark(e){this.keys.delete(e)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){const e=this.keys.values().next().value,n=this.from[e];this.to.$unknown=[e,n]}}}function s$e(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function a$e(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}class CI{constructor(e){nt(this,"value");this.value=e}toString(){return a$e(""+this.value)}}class Ko{constructor(e,n=[]){nt(this,"name");nt(this,"children");nt(this,"attributes",{});this.name=e,this.children=n}static of(e,n,r){const i=new Ko(e);return n!==void 0&&i.addChildNode(new CI(n)),r!==void 0&&i.withName(r),i}withName(e){return this.name=e,this}addAttribute(e,n){return this.attributes[e]=n,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,n){return n!=null&&(this.attributes[e]=n),this}cc(e,n,r=n){if(e[n]!=null){const i=Ko.of(n,e[n]).withName(r);this.c(i)}}l(e,n,r,i){e[n]!=null&&i().map(a=>{a.withName(r),this.c(a)})}lc(e,n,r,i){if(e[n]!=null){const s=i(),a=new Ko(r);s.map(o=>{a.c(o)}),this.c(a)}}toString(){const e=!!this.children.length;let n=`<${this.name}`;const r=this.attributes;for(const i of Object.keys(r)){const s=r[i];s!=null&&(n+=` ${i}="${s$e(""+s)}"`)}return n+=e?`>${this.children.map(i=>i.toString()).join("")}</${this.name}>`:"/>"}}let R4;function o$e(t){R4||(R4=new DOMParser);const e=R4.parseFromString(t,"application/xml");if(e.getElementsByTagName("parsererror").length>0)throw new Error("DOMParser XML parsing error.");const n=r=>{var i;if(r.nodeType===Node.TEXT_NODE&&(i=r.textContent)!=null&&i.trim())return r.textContent;if(r.nodeType===Node.ELEMENT_NODE){const s=r;if(s.attributes.length===0&&s.childNodes.length===0)return"";const a={},o=Array.from(s.attributes);for(const u of o)a[`${u.name}`]=u.value;const l=Array.from(s.childNodes);for(const u of l){const d=n(u);if(d!=null){const f=u.nodeName;if(l.length===1&&o.length===0&&f==="#text")return d;a[f]?Array.isArray(a[f])?a[f].push(d):a[f]=[a[f],d]:a[f]=d}else if(l.length===1&&o.length===0)return s.textContent}return a}return null};return{[e.documentElement.nodeName]:n(e.documentElement)}}class l$e extends o6{constructor(n){super();nt(this,"settings");nt(this,"stringDeserializer");this.settings=n,this.stringDeserializer=new iee(n)}setSerdeContext(n){this.serdeContext=n,this.stringDeserializer.setSerdeContext(n)}read(n,r,i){var d;const s=Xs.of(n),a=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(a).find(f=>!!f.getMemberTraits().eventPayload)){const f={},h=Object.keys(a)[0];return a[h].isBlobSchema()?f[h]=r:f[h]=this.read(a[h],r),f}const l=(((d=this.serdeContext)==null?void 0:d.utf8Encoder)??Wy)(r),u=this.parseXml(l);return this.readSchema(n,i?u[i]:u)}readSchema(n,r){const i=Xs.of(n);if(i.isUnitSchema())return;const s=i.getMergedTraits();if(i.isListSchema()&&!Array.isArray(r))return this.readSchema(i,[r]);if(r==null)return r;if(typeof r=="object"){const a=!!s.sparse,o=!!s.xmlFlattened;if(i.isListSchema()){const u=i.getValueSchema(),d=[],f=u.getMergedTraits().xmlName??"member",h=o?r:(r[0]??r)[f],g=Array.isArray(h)?h:[h];for(const v of g)(v!=null||a)&&d.push(this.readSchema(u,v));return d}const l={};if(i.isMapSchema()){const u=i.getKeySchema(),d=i.getValueSchema();let f;o?f=Array.isArray(r)?r:[r]:f=Array.isArray(r.entry)?r.entry:[r.entry];const h=u.getMergedTraits().xmlName??"key",g=d.getMergedTraits().xmlName??"value";for(const v of f){const p=v[h],_=v[g];(_!=null||a)&&(l[p]=this.readSchema(d,_))}return l}if(i.isStructSchema()){const u=i.isUnionSchema();let d;u&&(d=new i$e(r,l));for(const[f,h]of i.structIterator()){const g=h.getMergedTraits(),v=g.httpPayload?g.xmlName??h.getName():h.getMemberTraits().xmlName??f;u&&d.mark(v),r[v]!=null&&(l[f]=this.readSchema(h,r[v]))}return u&&d.writeUnknown(),l}if(i.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${i.getName(!0)}`)}return i.isListSchema()?[]:i.isMapSchema()||i.isStructSchema()?{}:this.stringDeserializer.read(i,r)}parseXml(n){if(n.length){let r;try{r=o$e(n)}catch(o){throw o&&typeof o=="object"&&Object.defineProperty(o,"$responseBodyText",{value:n}),o}const i="#text",s=Object.keys(r)[0],a=r[s];return a[i]&&(a[s]=a[i],delete a[i]),pee(a)}return{}}}const u$e=(t,e)=>{var n;if(((n=e==null?void 0:e.Error)==null?void 0:n.Code)!==void 0)return e.Error.Code;if((e==null?void 0:e.Code)!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};class c$e extends o6{constructor(n){super();nt(this,"settings");nt(this,"stringBuffer");nt(this,"byteBuffer");nt(this,"buffer");this.settings=n}write(n,r){var s;const i=Xs.of(n);if(i.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(i.isBlobSchema())this.byteBuffer="byteLength"in r?r:(((s=this.serdeContext)==null?void 0:s.base64Decoder)??Qv)(r);else{this.buffer=this.writeStruct(i,r,void 0);const a=i.getMergedTraits();a.httpPayload&&!a.xmlName&&this.buffer.withName(i.getName())}}flush(){var r;if(this.byteBuffer!==void 0){const i=this.byteBuffer;return delete this.byteBuffer,i}if(this.stringBuffer!==void 0){const i=this.stringBuffer;return delete this.stringBuffer,i}const n=this.buffer;return this.settings.xmlNamespace&&((r=n==null?void 0:n.attributes)!=null&&r.xmlns||n.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,n.toString()}writeStruct(n,r,i){const s=n.getMergedTraits(),a=n.isMemberSchema()&&!s.httpPayload?n.getMemberTraits().xmlName??n.getMemberName():s.xmlName??n.getName();if(!a||!n.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${n.getName(!0)}.`);const o=Ko.of(a),[l,u]=this.getXmlnsAttribute(n,i);for(const[f,h]of r$e(n,r)){const g=r[f];if(g!=null||h.isIdempotencyToken()){if(h.getMergedTraits().xmlAttribute){o.addAttribute(h.getMergedTraits().xmlName??f,this.writeSimple(h,g));continue}if(h.isListSchema())this.writeList(h,g,o,u);else if(h.isMapSchema())this.writeMap(h,g,o,u);else if(h.isStructSchema())o.addChildNode(this.writeStruct(h,g,u));else{const v=Ko.of(h.getMergedTraits().xmlName??h.getMemberName());this.writeSimpleInto(h,g,v,u),o.addChildNode(v)}}}const{$unknown:d}=r;if(d&&n.isUnionSchema()&&Array.isArray(d)&&Object.keys(r).length===1){const[f,h]=d,g=Ko.of(f);if(typeof h!="string")if(r instanceof Ko||r instanceof CI)o.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,h,g,u),o.addChildNode(g)}return u&&o.addAttribute(l,u),o}writeList(n,r,i,s){if(!n.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${n.getName(!0)}`);const a=n.getMergedTraits(),o=n.getValueSchema(),l=o.getMergedTraits(),u=!!l.sparse,d=!!a.xmlFlattened,[f,h]=this.getXmlnsAttribute(n,s),g=(v,p)=>{if(o.isListSchema())this.writeList(o,Array.isArray(p)?p:[p],v,h);else if(o.isMapSchema())this.writeMap(o,p,v,h);else if(o.isStructSchema()){const _=this.writeStruct(o,p,h);v.addChildNode(_.withName(d?a.xmlName??n.getMemberName():l.xmlName??"member"))}else{const _=Ko.of(d?a.xmlName??n.getMemberName():l.xmlName??"member");this.writeSimpleInto(o,p,_,h),v.addChildNode(_)}};if(d)for(const v of r)(u||v!=null)&&g(i,v);else{const v=Ko.of(a.xmlName??n.getMemberName());h&&v.addAttribute(f,h);for(const p of r)(u||p!=null)&&g(v,p);i.addChildNode(v)}}writeMap(n,r,i,s,a=!1){if(!n.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${n.getName(!0)}`);const o=n.getMergedTraits(),l=n.getKeySchema(),d=l.getMergedTraits().xmlName??"key",f=n.getValueSchema(),h=f.getMergedTraits(),g=h.xmlName??"value",v=!!h.sparse,p=!!o.xmlFlattened,[_,S]=this.getXmlnsAttribute(n,s),C=(T,A,P)=>{const D=Ko.of(d,A),[R,N]=this.getXmlnsAttribute(l,S);N&&D.addAttribute(R,N),T.addChildNode(D);let U=Ko.of(g);f.isListSchema()?this.writeList(f,P,U,S):f.isMapSchema()?this.writeMap(f,P,U,S,!0):f.isStructSchema()?U=this.writeStruct(f,P,S):this.writeSimpleInto(f,P,U,S),T.addChildNode(U)};if(p){for(const[T,A]of Object.entries(r))if(v||A!=null){const P=Ko.of(o.xmlName??n.getMemberName());C(P,T,A),i.addChildNode(P)}}else{let T;a||(T=Ko.of(o.xmlName??n.getMemberName()),S&&T.addAttribute(_,S),i.addChildNode(T));for(const[A,P]of Object.entries(r))if(v||P!=null){const D=Ko.of("entry");C(D,A,P),(a?i:T).addChildNode(D)}}}writeSimple(n,r){var a;if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");const i=Xs.of(n);let s=null;if(r&&typeof r=="object")if(i.isBlobSchema())s=(((a=this.serdeContext)==null?void 0:a.base64Encoder)??Im)(r);else if(i.isTimestampSchema()&&r instanceof Date)switch(s6(i,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=xI(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=xI(r);break}else{if(i.isBigDecimalSchema()&&r)return r instanceof QE?r.string:String(r);throw i.isMapSchema()||i.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${i.getName(!0)}`)}if((i.isBooleanSchema()||i.isNumericSchema()||i.isBigIntegerSchema()||i.isBigDecimalSchema())&&(s=String(r)),i.isStringSchema()&&(r===void 0&&i.isIdempotencyToken()?s=t6():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${i.getName(!0)}=${r}`);return s}writeSimpleInto(n,r,i,s){const a=this.writeSimple(n,r),o=Xs.of(n),l=new CI(a),[u,d]=this.getXmlnsAttribute(o,s);d&&i.addAttribute(u,d),i.addChildNode(l)}getXmlnsAttribute(n,r){const i=n.getMergedTraits(),[s,a]=i.xmlNamespace??[];return a&&a!==r?[s?`xmlns:${s}`:"xmlns",a]:[void 0,void 0]}}class d$e extends o6{constructor(n){super();nt(this,"settings");this.settings=n}createSerializer(){const n=new c$e(this.settings);return n.setSerdeContext(this.serdeContext),n}createDeserializer(){const n=new l$e(this.settings);return n.setSerdeContext(this.serdeContext),n}}class f$e extends aLe{constructor(n){super(n);nt(this,"codec");nt(this,"serializer");nt(this,"deserializer");nt(this,"mixin",new n$e);const r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:n.xmlNamespace,serviceNamespace:n.defaultNamespace};this.codec=new d$e(r),this.serializer=new uLe(this.codec.createSerializer(),r),this.deserializer=new oLe(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(n,r,i){const s=await super.serializeRequest(n,r,i),a=Xs.of(n.input);if(!s.headers["content-type"]){const o=this.mixin.resolveRestContentType(this.getDefaultContentType(),a);o&&(s.headers["content-type"]=o)}return typeof s.body=="string"&&s.headers["content-type"]===this.getDefaultContentType()&&!s.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(a)&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(n,r,i){return super.deserializeResponse(n,r,i)}async handleError(n,r,i,s,a){var p,_,S;const o=u$e(i,s)??"Unknown",{errorSchema:l,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,i,s,a),d=Xs.of(l),f=((p=s.Error)==null?void 0:p.message)??((_=s.Error)==null?void 0:_.Message)??s.message??s.Message??"Unknown",h=xa.for(l[1]).getErrorCtor(l)??Error,g=new h(f);await this.deserializeHttpMessage(l,r,i,s);const v={};for(const[C,T]of d.structIterator()){const A=T.getMergedTraits().xmlName??C,P=((S=s.Error)==null?void 0:S[A])??s[A];v[C]=this.codec.createDeserializer().readSchema(T,P)}throw this.mixin.decorateServiceException(Object.assign(g,u,{$fault:d.getMergedTraits().error,message:f},v),s)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(n){for(const[,r]of n.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}const EI=[es.CRC32,es.CRC32C,es.CRC64NVME,es.SHA1,es.SHA256],h$e=[es.SHA256,es.SHA1,es.CRC32,es.CRC32C,es.CRC64NVME],p$e=(t,{requestChecksumRequired:e,requestAlgorithmMember:n,requestChecksumCalculation:r})=>{if(!n)return r===Zv.WHEN_SUPPORTED||e?vI:void 0;if(!t[n])return;const i=t[n];if(!EI.includes(i))throw new Error(`The checksum algorithm "${i}" is not supported by the client. Select one of ${EI}.`);return i},l6=t=>t===es.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`,m$e=(t,e)=>{const n=t.toLowerCase();for(const r of Object.keys(e))if(n===r.toLowerCase())return!0;return!1},g$e=(t,e)=>{const n=t.toLowerCase();for(const r of Object.keys(e))if(r.toLowerCase().startsWith(n))return!0;return!1},mee=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!fee(t);function u6(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})}function c6(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function gee(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}const v$e=t=>new TextEncoder().encode(t);var y$e=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:v$e;function Op(t){return t instanceof Uint8Array?t:typeof t=="string"?y$e(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function i1(t){return typeof t=="string"?t.length===0:t.byteLength===0}function vee(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}function yee(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),n=0;n<t.length;)e[n]=t[n],n+=1;return e}return Uint32Array.from(t)}var _$e=function(){function t(){this.crc32c=new S9}return t.prototype.update=function(e){i1(e)||this.crc32c.update(Op(e))},t.prototype.digest=function(){return u6(this,void 0,void 0,function(){return c6(this,function(e){return[2,vee(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new S9},t}(),S9=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=gee(e),s=i.next();!s.done;s=i.next()){var a=s.value;this.checksum=this.checksum>>>8^x$e[(this.checksum^a)&255]}}catch(o){n={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}(),b$e=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],x$e=yee(b$e),w$e=function(){function t(){this.crc32=new ZT}return t.prototype.update=function(e){i1(e)||this.crc32.update(Op(e))},t.prototype.digest=function(){return u6(this,void 0,void 0,function(){return c6(this,function(e){return[2,vee(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new ZT},t}(),ZT=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=gee(e),s=i.next();!s.done;s=i.next()){var a=s.value;this.checksum=this.checksum>>>8^T$e[(this.checksum^a)&255]}}catch(o){n={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}(),S$e=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],T$e=yee(S$e);const C$e=()=>w$e,_ee=(t,e)=>{switch(t){case es.MD5:return e.md5;case es.CRC32:return C$e();case es.CRC32C:return _$e;case es.CRC64NVME:throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);case es.SHA1:return e.sha1;case es.SHA256:return e.sha256;default:throw new Error(`Unsupported checksum algorithm: ${t}`)}},bee=(t,e)=>{const n=new t;return n.update(Jv(e||"")),n.digest()},E$e={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},A$e=(t,e)=>(n,r)=>async i=>{if(!la.isInstance(i.request)||g$e("x-amz-checksum-",i.request.headers))return n(i);const{request:s,input:a}=i,{body:o,headers:l}=s,{base64Encoder:u,streamHasher:d}=t,{requestChecksumRequired:f,requestAlgorithmMember:h}=e,g=await t.requestChecksumCalculation(),v=h==null?void 0:h.name,p=h==null?void 0:h.httpHeader;v&&!a[v]&&(g===Zv.WHEN_SUPPORTED||f)&&(a[v]=vI,p&&(l[p]=vI));const _=p$e(a,{requestChecksumRequired:f,requestAlgorithmMember:h==null?void 0:h.name,requestChecksumCalculation:g});let S=o,C=l;if(_){switch(_){case es.CRC32:fa(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case es.CRC32C:fa(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case es.CRC64NVME:fa(r,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case es.SHA1:fa(r,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case es.SHA256:fa(r,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}const A=l6(_),P=_ee(_,t);if(mee(o)){const{getAwsChunkedEncodingStream:D,bodyLengthChecker:R}=t;S=D(typeof t.requestStreamBufferSize=="number"&&t.requestStreamBufferSize>=8*1024?u6e(o,t.requestStreamBufferSize,r.logger):o,{base64Encoder:u,bodyLengthChecker:R,checksumLocationName:A,checksumAlgorithmFn:P,streamHasher:d}),C={...l,"content-encoding":l["content-encoding"]?`${l["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":l["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":A},delete C["content-length"]}else if(!m$e(A,l)){const D=await bee(P,o);C={...l,[A]:u(D)}}}return await n({...i,request:{...s,headers:C,body:S}})},P$e={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},k$e=(t,e)=>(n,r)=>async i=>{const s=i.input,{requestValidationModeMember:a}=e,o=await t.requestChecksumCalculation(),l=await t.responseChecksumValidation();switch(o){case Zv.WHEN_REQUIRED:fa(r,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case Zv.WHEN_SUPPORTED:fa(r,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(l){case _4.WHEN_REQUIRED:fa(r,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case _4.WHEN_SUPPORTED:fa(r,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return a&&!s[a]&&l===_4.WHEN_SUPPORTED&&(s[a]="ENABLED"),n(i)},xee=(t=[])=>{const e=[];for(const n of h$e)!t.includes(n)||!EI.includes(n)||e.push(n);return e},D$e=t=>{const e=t.lastIndexOf("-");if(e!==-1){const n=t.slice(e+1);if(!n.startsWith("0")){const r=parseInt(n,10);if(!isNaN(r)&&r>=1&&r<=1e4)return!0}}return!1},I$e=async(t,{checksumAlgorithmFn:e,base64Encoder:n})=>n(await bee(e,t)),R$e=async(t,{config:e,responseAlgorithms:n,logger:r})=>{const i=xee(n),{body:s,headers:a}=t;for(const o of i){const l=l6(o),u=a[l];if(u){let d;try{d=_ee(o,e)}catch(g){if(o===es.CRC64NVME){r==null||r.warn(`Skipping ${es.CRC64NVME} checksum validation: ${g.message}`);continue}throw g}const{base64Encoder:f}=e;if(mee(s)){t.body=a6e({expectedChecksum:u,checksumSourceLocation:l,checksum:new d,source:s,base64Encoder:f});return}const h=await I$e(s,{checksumAlgorithmFn:d,base64Encoder:f});if(h===u)break;throw new Error(`Checksum mismatch: expected "${h}" but received "${u}" in response header "${l}".`)}}},O$e={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},M$e=(t,e)=>(n,r)=>async i=>{if(!la.isInstance(i.request))return n(i);const s=i.input,a=await n(i),o=a.response,{requestValidationModeMember:l,responseAlgorithms:u}=e;if(l&&s[l]==="ENABLED"){const{clientName:d,commandName:f}=r;if(d==="S3Client"&&f==="GetObjectCommand"&&xee(u).every(g=>{const v=l6(g),p=o.headers[v];return!p||D$e(p)}))return a;await R$e(o,{config:t,responseAlgorithms:u,logger:r.logger})}return a},eA=(t,e)=>({applyToStack:n=>{n.add(A$e(t,e),E$e),n.addRelativeTo(k$e(t,e),P$e),n.addRelativeTo(M$e(t,e),O$e)}}),L$e=t=>{const{requestChecksumCalculation:e,responseChecksumValidation:n,requestStreamBufferSize:r}=t;return Object.assign(t,{requestChecksumCalculation:gc(e??V8e),responseChecksumValidation:gc(n??z8e),requestStreamBufferSize:Number(r??0)})};const $$e=t=>e=>async n=>{if(!la.isInstance(n.request))return e(n);const{request:r}=n,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let s=r.hostname;r.port!=null&&(s+=`:${r.port}`),r.headers.host=s}return e(n)},N$e={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},F$e=t=>({applyToStack:e=>{e.add($$e(t),N$e)}}),B$e=()=>(t,e)=>async n=>{var r,i;try{const s=await t(n),{clientName:a,commandName:o,logger:l,dynamoDbDocumentClientOptions:u={}}=e,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:f}=u,h=d??e.inputFilterSensitiveLog,g=f??e.outputFilterSensitiveLog,{$metadata:v,...p}=s.output;return(r=l==null?void 0:l.info)==null||r.call(l,{clientName:a,commandName:o,input:h(n.input),output:g(p),metadata:v}),s}catch(s){const{clientName:a,commandName:o,logger:l,dynamoDbDocumentClientOptions:u={}}=e,{overrideInputFilterSensitiveLog:d}=u,f=d??e.inputFilterSensitiveLog;throw(i=l==null?void 0:l.error)==null||i.call(l,{clientName:a,commandName:o,input:f(n.input),error:s,metadata:s.$metadata}),s}},U$e={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},V$e=t=>({applyToStack:e=>{e.add(B$e(),U$e)}}),z$e={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},H$e=()=>t=>async e=>t(e),j$e=t=>({applyToStack:e=>{e.add(H$e(),z$e)}}),G$e="content-length",W$e="x-amz-decoded-content-length";function q$e(){return(t,e)=>async n=>{var i;const{request:r}=n;if(la.isInstance(r)&&!(G$e in r.headers)&&!(W$e in r.headers)){const s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((i=e==null?void 0:e.logger)==null?void 0:i.warn)=="function"&&!(e.logger instanceof a6)?e.logger.warn(s):console.warn(s)}return t({...n})}}const X$e={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},Y$e=t=>({applyToStack:e=>{e.add(q$e(),X$e)}}),K$e=t=>(e,n)=>async r=>{const i=await t.region(),s=t.region;let a=()=>{};n.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:async()=>n.__s3RegionRedirect}),a=()=>Object.defineProperty(t,"region",{writable:!0,value:s}));try{const o=await e(r);if(n.__s3RegionRedirect){a();const l=await t.region();if(i!==l)throw new Error("Region was not restored following S3 region redirect.")}return o}catch(o){throw a(),o}},Z$e={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function Q$e(t){return(e,n)=>async r=>{var i,s,a,o;try{return await e(r)}catch(l){if(t.followRegionRedirects){const u=(i=l==null?void 0:l.$metadata)==null?void 0:i.httpStatusCode,d=n.commandName==="HeadBucketCommand",f=(a=(s=l==null?void 0:l.$response)==null?void 0:s.headers)==null?void 0:a["x-amz-bucket-region"];if(f&&(u===301||u===400&&((l==null?void 0:l.name)==="IllegalLocationConstraintException"||d))){try{const h=f;(o=n.logger)==null||o.debug(`Redirecting from ${await t.region()} to ${h}`),n.__s3RegionRedirect=h}catch(h){throw new Error("Region redirect failed: "+h)}return e(r)}}throw l}}}const J$e={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},e5e=t=>({applyToStack:e=>{e.add(Q$e(t),J$e),e.addRelativeTo(K$e(t),Z$e)}}),t5e=t=>(e,n)=>async r=>{var a;const i=await e(r),{response:s}=i;if(Ip.isInstance(s)&&s.headers.expires){s.headers.expiresstring=s.headers.expires;try{B6e(s.headers.expires)}catch(o){(a=n.logger)==null||a.warn(`AWS SDK Warning for ${n.clientName}::${n.commandName} response parsing (${s.headers.expires}): ${o}`),delete s.headers.expires}}return i},n5e={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},r5e=t=>({applyToStack:e=>{e.addRelativeTo(t5e(),n5e)}}),tE=class tE{constructor(e={}){nt(this,"data");nt(this,"lastPurgeTime",Date.now());this.data=e}get(e){const n=this.data[e];if(n)return n}set(e,n){return this.data[e]=n,n}delete(e){delete this.data[e]}async purgeExpired(){const e=Date.now();if(!(this.lastPurgeTime+tE.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>e))for(const n in this.data){const r=this.data[n];if(!r.isRefreshing){const i=await r.identity;i.expiration&&i.expiration.getTime()<e&&delete this.data[n]}}}};nt(tE,"EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS",3e4);let AI=tE;class O4{constructor(e,n=!1,r=Date.now()){nt(this,"_identity");nt(this,"isRefreshing");nt(this,"accessed");this._identity=e,this.isRefreshing=n,this.accessed=r}get identity(){return this.accessed=Date.now(),this._identity}}const nE=class nE{constructor(e,n=new AI){nt(this,"createSessionFn");nt(this,"cache");this.createSessionFn=e,this.cache=n}async getS3ExpressIdentity(e,n){const r=n.Bucket,{cache:i}=this,s=i.get(r);return s?s.identity.then(a=>{var u,d;return(((u=a.expiration)==null?void 0:u.getTime())??0)<Date.now()?i.set(r,new O4(this.getIdentity(r))).identity:((((d=a.expiration)==null?void 0:d.getTime())??0)<Date.now()+nE.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(r).then(f=>{i.set(r,new O4(Promise.resolve(f)))})),a)}):i.set(r,new O4(this.getIdentity(r))).identity}async getIdentity(e){var i,s;await this.cache.purgeExpired().catch(a=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+a)});const n=await this.createSessionFn(e);if(!((i=n.Credentials)!=null&&i.AccessKeyId)||!((s=n.Credentials)!=null&&s.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:n.Credentials.AccessKeyId,secretAccessKey:n.Credentials.SecretAccessKey,sessionToken:n.Credentials.SessionToken,expiration:n.Credentials.Expiration?new Date(n.Credentials.Expiration):void 0}}};nt(nE,"REFRESH_WINDOW_MS",6e4);let PI=nE;const i5e="Directory",s5e="S3Express",a5e="sigv4-s3express",kI="X-Amz-S3session-Token",DI=kI.toLowerCase();class o5e extends SI{async signWithCredentials(e,n,r){const i=T9(n);e.headers[DI]=n.sessionToken;const s=this;return C9(s,i),s.signRequest(e,r??{})}async presignWithCredentials(e,n,r){const i=T9(n);return delete e.headers[DI],e.headers[kI]=n.sessionToken,e.query=e.query??{},e.query[kI]=n.sessionToken,C9(this,i),this.presign(e,r)}}function T9(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function C9(t,e){const n=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),r=t.credentialProvider,i=()=>(clearTimeout(n),t.credentialProvider=r,Promise.resolve(e));t.credentialProvider=i}const l5e=t=>(e,n)=>async r=>{var i,s,a,o,l;if(n.endpointV2){const u=n.endpointV2,d=((a=(s=(i=u.properties)==null?void 0:i.authSchemes)==null?void 0:s[0])==null?void 0:a.name)===a5e;if((((o=u.properties)==null?void 0:o.backend)===s5e||((l=u.properties)==null?void 0:l.bucketType)===i5e)&&(fa(n,"S3_EXPRESS_BUCKET","J"),n.isS3ExpressBucket=!0),d){const h=r.input.Bucket;if(h){const g=await t.s3ExpressIdentityProvider.getS3ExpressIdentity(await t.credentials(),{Bucket:h});n.s3ExpressIdentity=g,la.isInstance(r.request)&&g.sessionToken&&(r.request.headers[DI]=g.sessionToken)}}}return e(r)},u5e={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},c5e=t=>({applyToStack:e=>{e.add(l5e(t),u5e)}}),d5e=async(t,e,n,r)=>{const i=await r.signWithCredentials(n,t,{});if(i.headers["X-Amz-Security-Token"]||i.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return i},f5e=t=>e=>{throw e},h5e=(t,e)=>{},p5e=t=>(e,n)=>async r=>{if(!la.isInstance(r.request))return e(r);const s=Wp(n).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:a={}},identity:o,signer:l}=s;let u;n.s3ExpressIdentity?u=await d5e(n.s3ExpressIdentity,a,r.request,await t.signer()):u=await l.sign(r.request,o,a);const d=await e({...r,request:u}).catch((l.errorHandler||f5e)(a));return(l.successHandler||h5e)(d.response,a),d},m5e=t=>({applyToStack:e=>{e.addRelativeTo(p5e(t),WJ)}}),g5e=(t,{session:e})=>{const[n,r]=e,{forcePathStyle:i,useAccelerateEndpoint:s,disableMultiregionAccessPoints:a,followRegionRedirects:o,s3ExpressIdentityProvider:l,bucketEndpoint:u,expectContinueHeader:d}=t;return Object.assign(t,{forcePathStyle:i??!1,useAccelerateEndpoint:s??!1,disableMultiregionAccessPoints:a??!1,followRegionRedirects:o??!1,s3ExpressIdentityProvider:l??new PI(async f=>n().send(new r({Bucket:f}))),bucketEndpoint:u??!1,expectContinueHeader:d??2097152})},v5e={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},y5e=3e3,_5e=t=>(e,n)=>async r=>{const i=await e(r),{response:s}=i;if(!Ip.isInstance(s))return i;const{statusCode:a,body:o}=s;if(a<200||a>=300||!(typeof(o==null?void 0:o.stream)=="function"||typeof(o==null?void 0:o.pipe)=="function"||typeof(o==null?void 0:o.tee)=="function"))return i;let u=o,d=o;o&&typeof o=="object"&&!(o instanceof Uint8Array)&&([u,d]=await _6e(o)),s.body=d;const f=await b5e(u,{streamCollector:async g=>h6e(g,y5e)});typeof(u==null?void 0:u.destroy)=="function"&&u.destroy();const h=t.utf8Encoder(f.subarray(f.length-16));if(f.length===0&&v5e[n.commandName]){const g=new Error("S3 aborted request");throw g.name="InternalError",g}return h&&h.endsWith("</Error>")&&(s.statusCode=400),i},b5e=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),x5e={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},Vd=t=>({applyToStack:e=>{e.addRelativeTo(_5e(t),x5e)}}),w5e=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function S5e(t){return(e,n)=>async r=>{var i,s,a,o;if(t.bucketEndpoint){const l=n.endpointV2;if(l){const u=r.input.Bucket;if(typeof u=="string")try{const d=new URL(u);n.endpointV2={...l,url:d}}catch(d){const f=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${u} could not be parsed as URL.`;throw((s=(i=n.logger)==null?void 0:i.constructor)==null?void 0:s.name)==="NoOpLogger"?console.warn(f):(o=(a=n.logger)==null?void 0:a.warn)==null||o.call(a,f),d}}}return e(r)}}const T5e={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function C5e({bucketEndpoint:t}){return e=>async n=>{const{input:{Bucket:r}}=n;if(!t&&typeof r=="string"&&!w5e(r)&&r.indexOf("/")>=0){const i=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw i.name="InvalidBucketName",i}return e({...n})}}const E5e={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},A5e=t=>({applyToStack:e=>{e.add(C5e(t),E5e),e.addRelativeTo(S5e(t),T5e)}}),P5e=void 0;function k5e(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function D5e(t){const e=dv(t.userAgentAppId??P5e),{customUserAgent:n}=t;return Object.assign(t,{customUserAgent:typeof n=="string"?[[n]]:n,userAgentAppId:async()=>{var i,s;const r=await e();if(!k5e(r)){const a=((s=(i=t.logger)==null?void 0:i.constructor)==null?void 0:s.name)==="NoOpLogger"||!t.logger?console:t.logger;typeof r!="string"?a==null||a.warn("userAgentAppId must be a string or undefined."):r.length>50&&(a==null||a.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return r}})}class I5e{constructor({size:e,params:n}){nt(this,"capacity");nt(this,"data",new Map);nt(this,"parameters",[]);this.capacity=e??50,n&&(this.parameters=n)}get(e,n){const r=this.hash(e);if(r===!1)return n();if(!this.data.has(r)){if(this.data.size>this.capacity+10){const i=this.data.keys();let s=0;for(;;){const{value:a,done:o}=i.next();if(this.data.delete(a),o||++s>10)break}}this.data.set(r,n())}return this.data.get(r)}size(){return this.data.size}hash(e){let n="";const{parameters:r}=this;if(r.length===0)return!1;for(const i of r){const s=String(e[i]??"");if(s.includes("|;"))return!1;n+=s+"|;"}return n}}const R5e=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),wee=t=>R5e.test(t)||t.startsWith("[")&&t.endsWith("]"),O5e=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),tA=(t,e=!1)=>{if(!e)return O5e.test(t);const n=t.split(".");for(const r of n)if(!tA(r))return!1;return!0},QT={},s1="endpoints";function Mp(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Mp(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Mp).join(", ")})`:JSON.stringify(t,null,2)}class ou extends Error{constructor(e){super(e),this.name="EndpointError"}}const M5e=(t,e)=>t===e,L5e=t=>{const e=t.split("."),n=[];for(const r of e){const i=r.indexOf("[");if(i!==-1){if(r.indexOf("]")!==r.length-1)throw new ou(`Path: '${t}' does not end with ']'`);const s=r.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new ou(`Invalid array index: '${s}' in path: '${t}'`);i!==0&&n.push(r.slice(0,i)),n.push(s)}else n.push(r)}return n},See=(t,e)=>L5e(e).reduce((n,r)=>{if(typeof n!="object")throw new ou(`Index '${r}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},t),$5e=t=>t!=null,N5e=t=>!t,M4={[r1.HTTP]:80,[r1.HTTPS]:443},F5e=t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:h,port:g,protocol:v="",path:p="",query:_={}}=t,S=new URL(`${v}//${h}${g?`:${g}`:""}${p}`);return S.search=Object.entries(_).map(([C,T])=>`${C}=${T}`).join("&"),S}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const n=e.href,{host:r,hostname:i,pathname:s,protocol:a,search:o}=e;if(o)return null;const l=a.slice(0,-1);if(!Object.values(r1).includes(l))return null;const u=wee(i),d=n.includes(`${r}:${M4[l]}`)||typeof t=="string"&&t.includes(`${r}:${M4[l]}`),f=`${r}${d?`:${M4[l]}`:""}`;return{scheme:l,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}},B5e=(t,e)=>t===e,U5e=(t,e,n,r)=>e>=n||t.length<n?null:r?t.substring(t.length-n,t.length-e):t.substring(e,n),V5e=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),z5e={booleanEquals:M5e,getAttr:See,isSet:$5e,isValidHostLabel:tA,not:N5e,parseURL:F5e,stringEquals:B5e,substring:U5e,uriEncode:V5e},Tee=(t,e)=>{const n=[],r={...e.endpointParams,...e.referenceRecord};let i=0;for(;i<t.length;){const s=t.indexOf("{",i);if(s===-1){n.push(t.slice(i));break}n.push(t.slice(i,s));const a=t.indexOf("}",s);if(a===-1){n.push(t.slice(s));break}t[s+1]==="{"&&t[a+1]==="}"&&(n.push(t.slice(s+1,a)),i=a+2);const o=t.substring(s+1,a);if(o.includes("#")){const[l,u]=o.split("#");n.push(See(r[l],u))}else n.push(r[o]);i=a+1}return n.join("")},H5e=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],nA=(t,e,n)=>{if(typeof t=="string")return Tee(t,n);if(t.fn)return Eee.callFunction(t,n);if(t.ref)return H5e(t,n);throw new ou(`'${e}': ${String(t)} is not a string, function or reference.`)},Cee=({fn:t,argv:e},n)=>{const r=e.map(s=>["boolean","number"].includes(typeof s)?s:Eee.evaluateExpression(s,"arg",n)),i=t.split(".");return i[0]in QT&&i[1]!=null?QT[i[0]][i[1]](...r):z5e[t](...r)},Eee={evaluateExpression:nA,callFunction:Cee},j5e=({assign:t,...e},n)=>{var i,s;if(t&&t in n.referenceRecord)throw new ou(`'${t}' is already defined in Reference Record.`);const r=Cee(e,n);return(s=(i=n.logger)==null?void 0:i.debug)==null||s.call(i,`${s1} evaluateCondition: ${Mp(e)} = ${Mp(r)}`),{result:r===""?!0:!!r,...t!=null&&{toAssign:{name:t,value:r}}}},d6=(t=[],e)=>{var r,i;const n={};for(const s of t){const{result:a,toAssign:o}=j5e(s,{...e,referenceRecord:{...e.referenceRecord,...n}});if(!a)return{result:a};o&&(n[o.name]=o.value,(i=(r=e.logger)==null?void 0:r.debug)==null||i.call(r,`${s1} assign: ${o.name} := ${Mp(o.value)}`))}return{result:!0,referenceRecord:n}},G5e=(t,e)=>Object.entries(t).reduce((n,[r,i])=>({...n,[r]:i.map(s=>{const a=nA(s,"Header value entry",e);if(typeof a!="string")throw new ou(`Header '${r}' value '${a}' is not a string`);return a})}),{}),Aee=(t,e)=>Object.entries(t).reduce((n,[r,i])=>({...n,[r]:kee.getEndpointProperty(i,e)}),{}),Pee=(t,e)=>{if(Array.isArray(t))return t.map(n=>Pee(n,e));switch(typeof t){case"string":return Tee(t,e);case"object":if(t===null)throw new ou(`Unexpected endpoint property: ${t}`);return kee.getEndpointProperties(t,e);case"boolean":return t;default:throw new ou(`Unexpected endpoint property type: ${typeof t}`)}},kee={getEndpointProperty:Pee,getEndpointProperties:Aee},W5e=(t,e)=>{const n=nA(t,"Endpoint URL",e);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new ou(`Endpoint URL must be a string, got ${typeof n}`)},q5e=(t,e)=>{var d,f;const{conditions:n,endpoint:r}=t,{result:i,referenceRecord:s}=d6(n,e);if(!i)return;const a={...e,referenceRecord:{...e.referenceRecord,...s}},{url:o,properties:l,headers:u}=r;return(f=(d=e.logger)==null?void 0:d.debug)==null||f.call(d,`${s1} Resolving endpoint from template: ${Mp(r)}`),{...u!=null&&{headers:G5e(u,a)},...l!=null&&{properties:Aee(l,a)},url:W5e(o,a)}},X5e=(t,e)=>{const{conditions:n,error:r}=t,{result:i,referenceRecord:s}=d6(n,e);if(i)throw new ou(nA(r,"Error",{...e,referenceRecord:{...e.referenceRecord,...s}}))},Dee=(t,e)=>{for(const n of t)if(n.type==="endpoint"){const r=q5e(n,e);if(r)return r}else if(n.type==="error")X5e(n,e);else if(n.type==="tree"){const r=Iee.evaluateTreeRule(n,e);if(r)return r}else throw new ou(`Unknown endpoint rule: ${n}`);throw new ou("Rules evaluation failed")},Y5e=(t,e)=>{const{conditions:n,rules:r}=t,{result:i,referenceRecord:s}=d6(n,e);if(i)return Iee.evaluateRules(r,{...e,referenceRecord:{...e.referenceRecord,...s}})},Iee={evaluateRules:Dee,evaluateTreeRule:Y5e},K5e=(t,e)=>{var u,d,f,h;const{endpointParams:n,logger:r}=e,{parameters:i,rules:s}=t;(d=(u=e.logger)==null?void 0:u.debug)==null||d.call(u,`${s1} Initial EndpointParams: ${Mp(n)}`);const a=Object.entries(i).filter(([,g])=>g.default!=null).map(([g,v])=>[g,v.default]);if(a.length>0)for(const[g,v]of a)n[g]=n[g]??v;const o=Object.entries(i).filter(([,g])=>g.required).map(([g])=>g);for(const g of o)if(n[g]==null)throw new ou(`Missing required parameter: '${g}'`);const l=Dee(s,{endpointParams:n,logger:r,referenceRecord:{}});return(h=(f=e.logger)==null?void 0:f.debug)==null||h.call(f,`${s1} Resolved endpoint: ${Mp(l)}`),l},Ree=(t,e=!1)=>{if(e){for(const n of t.split("."))if(!Ree(n))return!1;return!0}return!(!tA(t)||t.length<3||t.length>63||t!==t.toLowerCase()||wee(t))},E9=":",Z5e="/",Q5e=t=>{const e=t.split(E9);if(e.length<6)return null;const[n,r,i,s,a,...o]=e;if(n!=="arn"||r===""||i===""||o.join(E9)==="")return null;const l=o.map(u=>u.split(Z5e)).flat();return{partition:r,service:i,region:s,accountId:a,resourceId:l}},J5e=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],eNe="1.1",tNe={partitions:J5e,version:eNe};let nNe=tNe;const rNe=t=>{const{partitions:e}=nNe;for(const r of e){const{regions:i,outputs:s}=r;for(const[a,o]of Object.entries(i))if(a===t)return{...s,...o}}for(const r of e){const{regionRegex:i,outputs:s}=r;if(new RegExp(i).test(t))return{...s}}const n=e.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},Oee={isVirtualHostableS3Bucket:Ree,parseArn:Q5e,partition:rNe};QT.aws=Oee;function iNe(t){const e={};if(t=t.replace(/^\?/,""),t)for(const n of t.split("&")){let[r,i=null]=n.split("=");r=decodeURIComponent(r),i&&(i=decodeURIComponent(i)),r in e?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i}return e}const JT=t=>{if(typeof t=="string")return JT(new URL(t));const{hostname:e,pathname:n,port:r,protocol:i,search:s}=t;let a;return s&&(a=iNe(s)),{hostname:e,port:r?parseInt(r):void 0,protocol:i,path:n,query:a}},sNe=/\d{12}\.ddb/;async function aNe(t,e,n){var s,a,o,l,u,d,f;const r=n.request;if(((s=r==null?void 0:r.headers)==null?void 0:s["smithy-protocol"])==="rpc-v2-cbor"&&fa(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){const h=await e.retryStrategy();typeof h.acquireInitialRetryToken=="function"?(o=(a=h.constructor)==null?void 0:a.name)!=null&&o.includes("Adaptive")?fa(t,"RETRY_MODE_ADAPTIVE","F"):fa(t,"RETRY_MODE_STANDARD","E"):fa(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){const h=t.endpointV2;switch(String((l=h==null?void 0:h.url)==null?void 0:l.hostname).match(sNe)&&fa(t,"ACCOUNT_ID_ENDPOINT","O"),await((u=e.accountIdEndpointMode)==null?void 0:u.call(e))){case"disabled":fa(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":fa(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":fa(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const i=(f=(d=t.__smithy_context)==null?void 0:d.selectedHttpAuthScheme)==null?void 0:f.identity;if(i!=null&&i.$source){const h=i;h.accountId&&fa(t,"RESOLVED_ACCOUNT_ID","T");for(const[g,v]of Object.entries(h.$source??{}))fa(t,g,v)}}const A9="user-agent",L4="x-amz-user-agent",P9=" ",$4="/",oNe=/[^!$%&'*+\-.^_`|~\w]/g,lNe=/[^!$%&'*+\-.^_`|~\w#]/g,k9="-",uNe=1024;function cNe(t){let e="";for(const n in t){const r=t[n];if(e.length+r.length+1<=uNe){e.length?e+=","+r:e+=r;continue}break}return e}const dNe=t=>(e,n)=>async r=>{var g,v,p,_;const{request:i}=r;if(!la.isInstance(i))return e(r);const{headers:s}=i,a=((g=n==null?void 0:n.userAgent)==null?void 0:g.map(vw))||[],o=(await t.defaultUserAgentProvider()).map(vw);await aNe(n,t,r);const l=n;o.push(`m/${cNe(Object.assign({},(v=n.__smithy_context)==null?void 0:v.features,(p=l.__aws_sdk_context)==null?void 0:p.features))}`);const u=((_=t==null?void 0:t.customUserAgent)==null?void 0:_.map(vw))||[],d=await t.userAgentAppId();d&&o.push(vw(["app",`${d}`]));const f=[].concat([...o,...a,...u]).join(P9),h=[...o.filter(S=>S.startsWith("aws-sdk-")),...u].join(P9);return t.runtime!=="browser"?(h&&(s[L4]=s[L4]?`${s[A9]} ${h}`:h),s[A9]=f):s[L4]=f,e({...r,request:i})},vw=t=>{var a;const e=t[0].split($4).map(o=>o.replace(oNe,k9)).join($4),n=(a=t[1])==null?void 0:a.replace(lNe,k9),r=e.indexOf($4),i=e.substring(0,r);let s=e.substring(r+1);return i==="api"&&(s=s.toLowerCase()),[i,s,n].filter(o=>o&&o.length>0).reduce((o,l,u)=>{switch(u){case 0:return l;case 1:return`${o}/${l}`;default:return`${o}#${l}`}},"")},fNe={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},hNe=t=>({applyToStack:e=>{e.add(dNe(t),fNe)}}),pNe=!1,mNe=!1,D9=new Set,gNe=(t,e=tA)=>{if(!D9.has(t)&&!e(t))if(t==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);else D9.add(t)},Mee=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),vNe=t=>Mee(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,yNe=t=>{const{region:e,useFipsEndpoint:n}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{const r=typeof e=="function"?await e():e,i=vNe(r);return gNe(i),i},useFipsEndpoint:async()=>{const r=typeof e=="string"?e:await e();return Mee(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()}})},_Ne=t=>Object.assign(t,{eventStreamMarshaller:t.eventStreamSerdeProvider(t)}),I9="content-length";function bNe(t){return e=>async n=>{const r=n.request;if(la.isInstance(r)){const{body:i,headers:s}=r;if(i&&Object.keys(s).map(a=>a.toLowerCase()).indexOf(I9)===-1)try{const a=t(i);r.headers={...r.headers,[I9]:String(a)}}catch{}}return e({...n,request:r})}}const xNe={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},wNe=t=>({applyToStack:e=>{e.add(bNe(t.bodyLengthChecker),xNe)}}),SNe=async t=>{const e=(t==null?void 0:t.Bucket)||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),PNe(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!ANe(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},TNe=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,CNe=/(\d+\.){3}\d+/,ENe=/\.\./,ANe=t=>TNe.test(t)&&!CNe.test(t)&&!ENe.test(t),PNe=t=>{const[e,n,r,,,i]=t.split(":"),s=e==="arn"&&t.split(":").length>=6,a=!!(s&&n&&r&&i);if(s&&!a)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return a},kNe=(t,e,n,r=!1)=>{const i=async()=>{let s;if(r){const a=n.clientContextParams;s=(a==null?void 0:a[t])??n[t]??n[e]}else s=n[t]??n[e];return typeof s=="function"?s():s};return t==="credentialScope"||e==="CredentialScope"?async()=>{const s=typeof n.credentials=="function"?await n.credentials():n.credentials;return(s==null?void 0:s.credentialScope)??(s==null?void 0:s.CredentialScope)}:t==="accountId"||e==="AccountId"?async()=>{const s=typeof n.credentials=="function"?await n.credentials():n.credentials;return(s==null?void 0:s.accountId)??(s==null?void 0:s.AccountId)}:t==="endpoint"||e==="endpoint"?async()=>{if(n.isCustomEndpoint===!1)return;const s=await i();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){const{protocol:a,hostname:o,port:l,path:u}=s;return`${a}//${o}${l?":"+l:""}${u}`}}return s}:i},Lee=async t=>{},$ee=t=>typeof t=="object"?"url"in t?JT(t.url):t:JT(t),Nee=async(t,e,n,r)=>{if(!n.isCustomEndpoint){let a;n.serviceConfiguredEndpoint?a=await n.serviceConfiguredEndpoint():a=await Lee(n.serviceId),a&&(n.endpoint=()=>Promise.resolve($ee(a)),n.isCustomEndpoint=!0)}const i=await Fee(t,e,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(i,r)},Fee=async(t,e,n)=>{var s;const r={},i=((s=e==null?void 0:e.getEndpointParameterInstructions)==null?void 0:s.call(e))||{};for(const[a,o]of Object.entries(i))switch(o.type){case"staticContextParams":r[a]=o.value;break;case"contextParams":r[a]=t[o.name];break;case"clientContextParams":case"builtInParams":r[a]=await kNe(o.name,a,n,o.type!=="builtInParams")();break;case"operationContextParams":r[a]=o.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(i).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&await SNe(r),r},DNe=({config:t,instructions:e})=>(n,r)=>async i=>{var o,l,u;t.isCustomEndpoint&&cLe(r,"ENDPOINT_OVERRIDE","N");const s=await Nee(i.input,{getEndpointParameterInstructions(){return e}},{...t},r);r.endpointV2=s,r.authSchemes=(o=s.properties)==null?void 0:o.authSchemes;const a=(l=r.authSchemes)==null?void 0:l[0];if(a){r.signing_region=a.signingRegion,r.signing_service=a.signingName;const d=Wp(r),f=(u=d==null?void 0:d.selectedHttpAuthScheme)==null?void 0:u.httpAuthOption;f&&(f.signingProperties=Object.assign(f.signingProperties||{},{signing_region:a.signingRegion,signingRegion:a.signingRegion,signing_service:a.signingName,signingName:a.signingName,signingRegionSet:a.signingRegionSet},a.properties))}return n({...i})},INe={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Z8e.name},Nc=(t,e)=>({applyToStack:n=>{n.addRelativeTo(DNe({config:t,instructions:e}),INe)}}),RNe=t=>{const e=t.tls??!0,{endpoint:n,useDualstackEndpoint:r,useFipsEndpoint:i}=t,s=n!=null?async()=>$ee(await gc(n)()):void 0,o=Object.assign(t,{endpoint:s,tls:e,isCustomEndpoint:!!n,useDualstackEndpoint:gc(r??!1),useFipsEndpoint:gc(i??!1)});let l;return o.serviceConfiguredEndpoint=async()=>(t.serviceId&&!l&&(l=Lee(t.serviceId)),l),o};var ey;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(ey||(ey={}));const eC=3,ONe=ey.STANDARD,MNe=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],LNe=["TimeoutError","RequestTimeout","RequestTimeoutException"],$Ne=[500,502,503,504],NNe=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],FNe=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],BNe=t=>(t==null?void 0:t.$retryable)!==void 0,UNe=t=>{var e;return(e=t.$metadata)==null?void 0:e.clockSkewCorrected},VNe=t=>{const e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},Bee=t=>{var e,n;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||MNe.includes(t.name)||((n=t.$retryable)==null?void 0:n.throttling)==!0},f6=(t,e=0)=>{var n;return BNe(t)||UNe(t)||LNe.includes(t.name)||NNe.includes((t==null?void 0:t.code)||"")||FNe.includes((t==null?void 0:t.code)||"")||$Ne.includes(((n=t.$metadata)==null?void 0:n.httpStatusCode)||0)||VNe(t)||t.cause!==void 0&&e<=10&&f6(t.cause,e+1)},zNe=t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){const n=t.$metadata.httpStatusCode;return 500<=n&&n<=599&&!f6(t)}return!1},rE=class rE{constructor(e){nt(this,"beta");nt(this,"minCapacity");nt(this,"minFillRate");nt(this,"scaleConstant");nt(this,"smooth");nt(this,"currentCapacity",0);nt(this,"enabled",!1);nt(this,"lastMaxRate",0);nt(this,"measuredTxRate",0);nt(this,"requestCount",0);nt(this,"fillRate");nt(this,"lastThrottleTime");nt(this,"lastTimestamp",0);nt(this,"lastTxRateBucket");nt(this,"maxCapacity");nt(this,"timeWindow",0);this.beta=(e==null?void 0:e.beta)??.7,this.minCapacity=(e==null?void 0:e.minCapacity)??1,this.minFillRate=(e==null?void 0:e.minFillRate)??.5,this.scaleConstant=(e==null?void 0:e.scaleConstant)??.4,this.smooth=(e==null?void 0:e.smooth)??.8;const n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const n=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>rE.setTimeoutFn(r,n))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const n=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=e}updateClientSendingRate(e){let n;if(this.updateMeasuredRate(),Bee(e)){const i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());const r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),n=Math.floor(e*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){const r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(e){return parseFloat(e.toFixed(8))}};nt(rE,"setTimeoutFn",setTimeout);let II=rE;const RI=100,Uee=20*1e3,HNe=500,R9=500,jNe=5,GNe=10,WNe=1,qNe="amz-sdk-invocation-id",XNe="amz-sdk-request",YNe=()=>{let t=RI;return{computeNextBackoffDelay:r=>Math.floor(Math.min(Uee,Math.random()*2**r*t)),setDelayBase:r=>{t=r}}},O9=({retryDelay:t,retryCount:e,retryCost:n})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(Uee,t),getRetryCost:()=>n});class Vee{constructor(e){nt(this,"maxAttempts");nt(this,"mode",ey.STANDARD);nt(this,"capacity",R9);nt(this,"retryBackoffStrategy",YNe());nt(this,"maxAttemptsProvider");this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return O9({retryDelay:RI,retryCount:0})}async refreshRetryTokenForRetry(e,n){const r=await this.getMaxAttempts();if(this.shouldRetry(e,n,r)){const i=n.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?HNe:RI);const s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),a=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,s):s,o=this.getCapacityCost(i);return this.capacity-=o,O9({retryDelay:a,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(R9,this.capacity+(e.getRetryCost()??WNe))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${eC}`),eC}}shouldRetry(e,n,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(e){return e==="TRANSIENT"?GNe:jNe}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class KNe{constructor(e,n){nt(this,"maxAttemptsProvider");nt(this,"rateLimiter");nt(this,"standardRetryStrategy");nt(this,"mode",ey.ADAPTIVE);this.maxAttemptsProvider=e;const{rateLimiter:r}=n??{};this.rateLimiter=r??new II,this.standardRetryStrategy=new Vee(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,n){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(e,n)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}const ZNe=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),QNe=t=>{const{retryStrategy:e,retryMode:n,maxAttempts:r}=t,i=gc(r??eC);return Object.assign(t,{maxAttempts:i,retryStrategy:async()=>e||(await gc(n)()===ey.ADAPTIVE?new KNe(i):new Vee(i))})},JNe=t=>(t==null?void 0:t.body)instanceof ReadableStream,eFe=t=>(e,n)=>async r=>{var a;let i=await t.retryStrategy();const s=await t.maxAttempts();if(tFe(i)){i=i;let o=await i.acquireInitialRetryToken(n.partition_id),l=new Error,u=0,d=0;const{request:f}=r,h=la.isInstance(f);for(h&&(f.headers[qNe]=t6());;)try{h&&(f.headers[XNe]=`attempt=${u+1}; max=${s}`);const{response:g,output:v}=await e(r);return i.recordSuccess(o),v.$metadata.attempts=u+1,v.$metadata.totalRetryDelay=d,{response:g,output:v}}catch(g){const v=nFe(g);if(l=ZNe(g),h&&JNe(f))throw(a=n.logger instanceof a6?console:n.logger)==null||a.warn("An error was encountered in a non-retryable streaming request."),l;try{o=await i.refreshRetryTokenForRetry(o,v)}catch{throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=u+1,l.$metadata.totalRetryDelay=d,l}u=o.getRetryCount();const p=o.getRetryDelay();d+=p,await new Promise(_=>setTimeout(_,p))}}else return i=i,i!=null&&i.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,r)},tFe=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",nFe=t=>{const e={error:t,errorType:rFe(t)},n=aFe(t.$response);return n&&(e.retryAfterHint=n),e},rFe=t=>Bee(t)?"THROTTLING":f6(t)?"TRANSIENT":zNe(t)?"SERVER_ERROR":"CLIENT_ERROR",iFe={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},sFe=t=>({applyToStack:e=>{e.add(eFe(t),iFe)}}),aFe=t=>{if(!Ip.isInstance(t))return;const e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;const n=t.headers[e],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)};class h6{constructor(e){nt(this,"sigv4aSigner");nt(this,"sigv4Signer");nt(this,"signerOptions");this.sigv4Signer=new o5e(e),this.signerOptions=e}static sigv4aDependency(){return"none"}async sign(e,n={}){return n.signingRegion==="*"?this.getSigv4aSigner().sign(e,n):this.sigv4Signer.sign(e,n)}async signWithCredentials(e,n,r={}){if(r.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.signWithCredentials(e,n,r)}async presign(e,n={}){if(n.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.presign(e,n)}async presignWithCredentials(e,n,r={}){if(r.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,n,r)}getSigv4aSigner(){if(!this.sigv4aSigner)throw this.signerOptions.runtime==="node"?new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt"):new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");return this.sigv4aSigner}}const p6="required",je="type",ln="rules",ut="conditions",Ut="fn",Vt="argv",sr="ref",Wr="assign",Hn="url",jn="properties",Ef="backend",ja="authSchemes",ga="disableDoubleEncoding",va="signingName",ao="signingRegion",Gn="headers",m6="signingRegionSet",oFe=6,lFe=!1,Zc=!0,eu="isSet",sa="booleanEquals",Jn="error",tC="aws.partition",xi="stringEquals",Ds="getAttr",Ns="name",Ji="substring",M9="bucketSuffix",g6="parseURL",pn="endpoint",un="tree",nC="aws.isVirtualHostableS3Bucket",rC="{url#scheme}://{Bucket}.{url#authority}{url#path}",Pd="not",L9="accessPointSuffix",YS="{url#scheme}://{url#authority}{url#path}",zee="hardwareType",Hee="regionPrefix",$9="bucketAliasSuffix",OI="outpostId",Km="isValidHostLabel",v6="sigv4a",a1="s3-outposts",ty="s3",jee="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Gee="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",N9="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Wee="aws.parseArn",qee="bucketArn",Xee="arnType",iC="",y6="s3-object-lambda",Yee="accesspoint",_6="accessPointName",F9="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",B9="mrapPartition",U9="outpostType",V9="arnPrefix",Kee="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",z9="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",H9="https://s3.{partitionResult#dnsSuffix}",_g={[p6]:!1,[je]:"string"},bg={[p6]:!0,default:!1,[je]:"boolean"},$_={[p6]:!1,[je]:"boolean"},Su={[Ut]:sa,[Vt]:[{[sr]:"Accelerate"},!0]},as={[Ut]:sa,[Vt]:[{[sr]:"UseFIPS"},!0]},qi={[Ut]:sa,[Vt]:[{[sr]:"UseDualStack"},!0]},Zs={[Ut]:eu,[Vt]:[{[sr]:"Endpoint"}]},Zee={[Ut]:tC,[Vt]:[{[sr]:"Region"}],[Wr]:"partitionResult"},j9={[Ut]:xi,[Vt]:[{[Ut]:Ds,[Vt]:[{[sr]:"partitionResult"},Ns]},"aws-cn"]},tb={[Ut]:eu,[Vt]:[{[sr]:"Bucket"}]},vi={[sr]:"Bucket"},G9={[ut]:[Su],[Jn]:"S3Express does not support S3 Accelerate.",[je]:Jn},W9={[ut]:[Zs,{[Ut]:g6,[Vt]:[{[sr]:"Endpoint"}],[Wr]:"url"}],[ln]:[{[ut]:[{[Ut]:eu,[Vt]:[{[sr]:"DisableS3ExpressSessionAuth"}]},{[Ut]:sa,[Vt]:[{[sr]:"DisableS3ExpressSessionAuth"},!0]}],[ln]:[{[ut]:[{[Ut]:sa,[Vt]:[{[Ut]:Ds,[Vt]:[{[sr]:"url"},"isIp"]},!0]}],[ln]:[{[ut]:[{[Ut]:"uriEncode",[Vt]:[vi],[Wr]:"uri_encoded_bucket"}],[ln]:[{[pn]:{[Hn]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[jn]:{[Ef]:"S3Express",[ja]:[{[ga]:!0,[Ns]:"sigv4",[va]:"s3express",[ao]:"{Region}"}]},[Gn]:{}},[je]:pn}],[je]:un}],[je]:un},{[ut]:[{[Ut]:nC,[Vt]:[vi,!1]}],[ln]:[{[pn]:{[Hn]:rC,[jn]:{[Ef]:"S3Express",[ja]:[{[ga]:!0,[Ns]:"sigv4",[va]:"s3express",[ao]:"{Region}"}]},[Gn]:{}},[je]:pn}],[je]:un},{[Jn]:"S3Express bucket name is not a valid virtual hostable name.",[je]:Jn}],[je]:un},{[ut]:[{[Ut]:sa,[Vt]:[{[Ut]:Ds,[Vt]:[{[sr]:"url"},"isIp"]},!0]}],[ln]:[{[ut]:[{[Ut]:"uriEncode",[Vt]:[vi],[Wr]:"uri_encoded_bucket"}],[ln]:[{[pn]:{[Hn]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[jn]:{[Ef]:"S3Express",[ja]:[{[ga]:!0,[Ns]:"sigv4-s3express",[va]:"s3express",[ao]:"{Region}"}]},[Gn]:{}},[je]:pn}],[je]:un}],[je]:un},{[ut]:[{[Ut]:nC,[Vt]:[vi,!1]}],[ln]:[{[pn]:{[Hn]:rC,[jn]:{[Ef]:"S3Express",[ja]:[{[ga]:!0,[Ns]:"sigv4-s3express",[va]:"s3express",[ao]:"{Region}"}]},[Gn]:{}},[je]:pn}],[je]:un},{[Jn]:"S3Express bucket name is not a valid virtual hostable name.",[je]:Jn}],[je]:un},qo={[Ut]:g6,[Vt]:[{[sr]:"Endpoint"}],[Wr]:"url"},N4={[Ut]:sa,[Vt]:[{[Ut]:Ds,[Vt]:[{[sr]:"url"},"isIp"]},!0]},Qee={[sr]:"url"},Jee={[Ut]:"uriEncode",[Vt]:[vi],[Wr]:"uri_encoded_bucket"},Kl={[Ef]:"S3Express",[ja]:[{[ga]:!0,[Ns]:"sigv4",[va]:"s3express",[ao]:"{Region}"}]},Rr={},ete={[Ut]:nC,[Vt]:[vi,!1]},q9={[Jn]:"S3Express bucket name is not a valid virtual hostable name.",[je]:Jn},X9={[Ut]:eu,[Vt]:[{[sr]:"UseS3ExpressControlEndpoint"}]},Y9={[Ut]:sa,[Vt]:[{[sr]:"UseS3ExpressControlEndpoint"},!0]},Fr={[Ut]:Pd,[Vt]:[Zs]},ai={[Ut]:sa,[Vt]:[{[sr]:"UseDualStack"},!1]},Qr={[Ut]:sa,[Vt]:[{[sr]:"UseFIPS"},!1]},yw={[Jn]:"Unrecognized S3Express bucket name format.",[je]:Jn},K9={[Ut]:Pd,[Vt]:[tb]},Z9={[sr]:zee},Q9={[ut]:[Fr],[Jn]:"Expected a endpoint to be specified but no endpoint was found",[je]:Jn},_w={[ja]:[{[ga]:!0,[Ns]:v6,[va]:a1,[m6]:["*"]},{[ga]:!0,[Ns]:"sigv4",[va]:a1,[ao]:"{Region}"}]},F4={[Ut]:sa,[Vt]:[{[sr]:"ForcePathStyle"},!1]},uFe={[sr]:"ForcePathStyle"},ca={[Ut]:sa,[Vt]:[{[sr]:"Accelerate"},!1]},Sa={[Ut]:xi,[Vt]:[{[sr]:"Region"},"aws-global"]},$a={[ja]:[{[ga]:!0,[Ns]:"sigv4",[va]:ty,[ao]:"us-east-1"}]},ci={[Ut]:Pd,[Vt]:[Sa]},Na={[Ut]:sa,[Vt]:[{[sr]:"UseGlobalEndpoint"},!0]},J9={[Hn]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[jn]:{[ja]:[{[ga]:!0,[Ns]:"sigv4",[va]:ty,[ao]:"{Region}"}]},[Gn]:{}},_a={[ja]:[{[ga]:!0,[Ns]:"sigv4",[va]:ty,[ao]:"{Region}"}]},Fa={[Ut]:sa,[Vt]:[{[sr]:"UseGlobalEndpoint"},!1]},e7={[Hn]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[jn]:_a,[Gn]:{}},t7={[Hn]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[jn]:_a,[Gn]:{}},n7={[Hn]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[jn]:_a,[Gn]:{}},B4={[Ut]:sa,[Vt]:[{[Ut]:Ds,[Vt]:[Qee,"isIp"]},!1]},U4={[Hn]:jee,[jn]:_a,[Gn]:{}},MI={[Hn]:rC,[jn]:_a,[Gn]:{}},r7={[pn]:MI,[je]:pn},V4={[Hn]:Gee,[jn]:_a,[Gn]:{}},i7={[Hn]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[jn]:_a,[Gn]:{}},bw={[Jn]:"Invalid region: region was not a valid DNS name.",[je]:Jn},kl={[sr]:qee},tte={[sr]:Xee},z4={[Ut]:Ds,[Vt]:[kl,"service"]},b6={[sr]:_6},s7={[ut]:[qi],[Jn]:"S3 Object Lambda does not support Dual-stack",[je]:Jn},a7={[ut]:[Su],[Jn]:"S3 Object Lambda does not support S3 Accelerate",[je]:Jn},o7={[ut]:[{[Ut]:eu,[Vt]:[{[sr]:"DisableAccessPoints"}]},{[Ut]:sa,[Vt]:[{[sr]:"DisableAccessPoints"},!0]}],[Jn]:"Access points are not supported for this operation",[je]:Jn},H4={[ut]:[{[Ut]:eu,[Vt]:[{[sr]:"UseArnRegion"}]},{[Ut]:sa,[Vt]:[{[sr]:"UseArnRegion"},!1]},{[Ut]:Pd,[Vt]:[{[Ut]:xi,[Vt]:[{[Ut]:Ds,[Vt]:[kl,"region"]},"{Region}"]}]}],[Jn]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[je]:Jn},nte={[Ut]:Ds,[Vt]:[{[sr]:"bucketPartition"},Ns]},rte={[Ut]:Ds,[Vt]:[kl,"accountId"]},j4={[ja]:[{[ga]:!0,[Ns]:"sigv4",[va]:y6,[ao]:"{bucketArn#region}"}]},l7={[Jn]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[je]:Jn},G4={[Jn]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[je]:Jn},W4={[Jn]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[je]:Jn},q4={[Jn]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[je]:Jn},u7={[Jn]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[je]:Jn},c7={[Jn]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[je]:Jn},N_={[ja]:[{[ga]:!0,[Ns]:"sigv4",[va]:ty,[ao]:"{bucketArn#region}"}]},d7={[ja]:[{[ga]:!0,[Ns]:v6,[va]:a1,[m6]:["*"]},{[ga]:!0,[Ns]:"sigv4",[va]:a1,[ao]:"{bucketArn#region}"}]},f7={[Ut]:Wee,[Vt]:[vi]},h7={[Hn]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jn]:_a,[Gn]:{}},p7={[Hn]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jn]:_a,[Gn]:{}},m7={[Hn]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jn]:_a,[Gn]:{}},X4={[Hn]:Kee,[jn]:_a,[Gn]:{}},g7={[Hn]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jn]:_a,[Gn]:{}},v7={[sr]:"UseObjectLambdaEndpoint"},Y4={[ja]:[{[ga]:!0,[Ns]:"sigv4",[va]:y6,[ao]:"{Region}"}]},y7={[Hn]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[jn]:_a,[Gn]:{}},_7={[Hn]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[jn]:_a,[Gn]:{}},b7={[Hn]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[jn]:_a,[Gn]:{}},K4={[Hn]:YS,[jn]:_a,[Gn]:{}},x7={[Hn]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[jn]:_a,[Gn]:{}},Z4=[{[sr]:"Region"}],cFe=[{[sr]:"Endpoint"}],dFe=[vi],Q4=[Su],xg=[Zs,qo],w7=[{[Ut]:eu,[Vt]:[{[sr]:"DisableS3ExpressSessionAuth"}]},{[Ut]:sa,[Vt]:[{[sr]:"DisableS3ExpressSessionAuth"},!0]}],fFe=[Jee],S7=[ete],yu=[Zee],J4=[as,qi],nb=[as,ai],rb=[Qr,qi],ib=[Qr,ai],T7=[{[Ut]:Ji,[Vt]:[vi,6,14,!0],[Wr]:"s3expressAvailabilityZoneId"},{[Ut]:Ji,[Vt]:[vi,14,16,!0],[Wr]:"s3expressAvailabilityZoneDelim"},{[Ut]:xi,[Vt]:[{[sr]:"s3expressAvailabilityZoneDelim"},"--"]}],Qc=[{[ut]:[as,qi],[pn]:{[Hn]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[jn]:Kl,[Gn]:{}},[je]:pn},{[ut]:nb,[pn]:{[Hn]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[jn]:Kl,[Gn]:{}},[je]:pn},{[ut]:rb,[pn]:{[Hn]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[jn]:Kl,[Gn]:{}},[je]:pn},{[ut]:ib,[pn]:{[Hn]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[jn]:Kl,[Gn]:{}},[je]:pn}],C7=[{[Ut]:Ji,[Vt]:[vi,6,15,!0],[Wr]:"s3expressAvailabilityZoneId"},{[Ut]:Ji,[Vt]:[vi,15,17,!0],[Wr]:"s3expressAvailabilityZoneDelim"},{[Ut]:xi,[Vt]:[{[sr]:"s3expressAvailabilityZoneDelim"},"--"]}],E7=[{[Ut]:Ji,[Vt]:[vi,6,19,!0],[Wr]:"s3expressAvailabilityZoneId"},{[Ut]:Ji,[Vt]:[vi,19,21,!0],[Wr]:"s3expressAvailabilityZoneDelim"},{[Ut]:xi,[Vt]:[{[sr]:"s3expressAvailabilityZoneDelim"},"--"]}],A7=[{[Ut]:Ji,[Vt]:[vi,6,20,!0],[Wr]:"s3expressAvailabilityZoneId"},{[Ut]:Ji,[Vt]:[vi,20,22,!0],[Wr]:"s3expressAvailabilityZoneDelim"},{[Ut]:xi,[Vt]:[{[sr]:"s3expressAvailabilityZoneDelim"},"--"]}],P7=[{[Ut]:Ji,[Vt]:[vi,6,26,!0],[Wr]:"s3expressAvailabilityZoneId"},{[Ut]:Ji,[Vt]:[vi,26,28,!0],[Wr]:"s3expressAvailabilityZoneDelim"},{[Ut]:xi,[Vt]:[{[sr]:"s3expressAvailabilityZoneDelim"},"--"]}],Jc=[{[ut]:[as,qi],[pn]:{[Hn]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[jn]:{[Ef]:"S3Express",[ja]:[{[ga]:!0,[Ns]:"sigv4-s3express",[va]:"s3express",[ao]:"{Region}"}]},[Gn]:{}},[je]:pn},{[ut]:nb,[pn]:{[Hn]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[jn]:{[Ef]:"S3Express",[ja]:[{[ga]:!0,[Ns]:"sigv4-s3express",[va]:"s3express",[ao]:"{Region}"}]},[Gn]:{}},[je]:pn},{[ut]:rb,[pn]:{[Hn]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[jn]:{[Ef]:"S3Express",[ja]:[{[ga]:!0,[Ns]:"sigv4-s3express",[va]:"s3express",[ao]:"{Region}"}]},[Gn]:{}},[je]:pn},{[ut]:ib,[pn]:{[Hn]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[jn]:{[Ef]:"S3Express",[ja]:[{[ga]:!0,[Ns]:"sigv4-s3express",[va]:"s3express",[ao]:"{Region}"}]},[Gn]:{}},[je]:pn}],k7=[vi,0,7,!0],D7=[{[Ut]:Ji,[Vt]:[vi,7,15,!0],[Wr]:"s3expressAvailabilityZoneId"},{[Ut]:Ji,[Vt]:[vi,15,17,!0],[Wr]:"s3expressAvailabilityZoneDelim"},{[Ut]:xi,[Vt]:[{[sr]:"s3expressAvailabilityZoneDelim"},"--"]}],I7=[{[Ut]:Ji,[Vt]:[vi,7,16,!0],[Wr]:"s3expressAvailabilityZoneId"},{[Ut]:Ji,[Vt]:[vi,16,18,!0],[Wr]:"s3expressAvailabilityZoneDelim"},{[Ut]:xi,[Vt]:[{[sr]:"s3expressAvailabilityZoneDelim"},"--"]}],R7=[{[Ut]:Ji,[Vt]:[vi,7,20,!0],[Wr]:"s3expressAvailabilityZoneId"},{[Ut]:Ji,[Vt]:[vi,20,22,!0],[Wr]:"s3expressAvailabilityZoneDelim"},{[Ut]:xi,[Vt]:[{[sr]:"s3expressAvailabilityZoneDelim"},"--"]}],O7=[{[Ut]:Ji,[Vt]:[vi,7,21,!0],[Wr]:"s3expressAvailabilityZoneId"},{[Ut]:Ji,[Vt]:[vi,21,23,!0],[Wr]:"s3expressAvailabilityZoneDelim"},{[Ut]:xi,[Vt]:[{[sr]:"s3expressAvailabilityZoneDelim"},"--"]}],M7=[{[Ut]:Ji,[Vt]:[vi,7,27,!0],[Wr]:"s3expressAvailabilityZoneId"},{[Ut]:Ji,[Vt]:[vi,27,29,!0],[Wr]:"s3expressAvailabilityZoneDelim"},{[Ut]:xi,[Vt]:[{[sr]:"s3expressAvailabilityZoneDelim"},"--"]}],hFe=[tb],L7=[{[Ut]:Km,[Vt]:[{[sr]:OI},!1]}],$7=[{[Ut]:xi,[Vt]:[{[sr]:Hee},"beta"]}],pFe=["*"],N7=[{[Ut]:Km,[Vt]:[{[sr]:"Region"},!1]}],Eh=[{[Ut]:xi,[Vt]:[{[sr]:"Region"},"us-east-1"]}],eP=[{[Ut]:xi,[Vt]:[tte,Yee]}],F7=[{[Ut]:Ds,[Vt]:[kl,"resourceId[1]"],[Wr]:_6},{[Ut]:Pd,[Vt]:[{[Ut]:xi,[Vt]:[b6,iC]}]}],mFe=[kl,"resourceId[1]"],B7=[qi],tP=[{[Ut]:Pd,[Vt]:[{[Ut]:xi,[Vt]:[{[Ut]:Ds,[Vt]:[kl,"region"]},iC]}]}],U7=[{[Ut]:Pd,[Vt]:[{[Ut]:eu,[Vt]:[{[Ut]:Ds,[Vt]:[kl,"resourceId[2]"]}]}]}],gFe=[kl,"resourceId[2]"],nP=[{[Ut]:tC,[Vt]:[{[Ut]:Ds,[Vt]:[kl,"region"]}],[Wr]:"bucketPartition"}],V7=[{[Ut]:xi,[Vt]:[nte,{[Ut]:Ds,[Vt]:[{[sr]:"partitionResult"},Ns]}]}],rP=[{[Ut]:Km,[Vt]:[{[Ut]:Ds,[Vt]:[kl,"region"]},!0]}],iP=[{[Ut]:Km,[Vt]:[rte,!1]}],z7=[{[Ut]:Km,[Vt]:[b6,!1]}],xw=[as],H7=[{[Ut]:Km,[Vt]:[{[sr]:"Region"},!0]}],vFe={version:"1.0",parameters:{Bucket:_g,Region:_g,UseFIPS:bg,UseDualStack:bg,Endpoint:_g,ForcePathStyle:bg,Accelerate:bg,UseGlobalEndpoint:bg,UseObjectLambdaEndpoint:$_,Key:_g,Prefix:_g,CopySource:_g,DisableAccessPoints:$_,DisableMultiRegionAccessPoints:bg,UseArnRegion:$_,UseS3ExpressControlEndpoint:$_,DisableS3ExpressSessionAuth:$_},[ln]:[{[ut]:[{[Ut]:eu,[Vt]:Z4}],[ln]:[{[ut]:[Su,as],error:"Accelerate cannot be used with FIPS",[je]:Jn},{[ut]:[qi,Zs],error:"Cannot set dual-stack in combination with a custom endpoint.",[je]:Jn},{[ut]:[Zs,as],error:"A custom endpoint cannot be combined with FIPS",[je]:Jn},{[ut]:[Zs,Su],error:"A custom endpoint cannot be combined with S3 Accelerate",[je]:Jn},{[ut]:[as,Zee,j9],error:"Partition does not support FIPS",[je]:Jn},{[ut]:[tb,{[Ut]:Ji,[Vt]:[vi,0,oFe,Zc],[Wr]:M9},{[Ut]:xi,[Vt]:[{[sr]:M9},"--x-s3"]}],[ln]:[G9,W9,{[ut]:[X9,Y9],[ln]:[{[ut]:yu,[ln]:[{[ut]:[Jee,Fr],[ln]:[{[ut]:J4,endpoint:{[Hn]:"https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jn]:Kl,[Gn]:Rr},[je]:pn},{[ut]:nb,endpoint:{[Hn]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jn]:Kl,[Gn]:Rr},[je]:pn},{[ut]:rb,endpoint:{[Hn]:"https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jn]:Kl,[Gn]:Rr},[je]:pn},{[ut]:ib,endpoint:{[Hn]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jn]:Kl,[Gn]:Rr},[je]:pn}],[je]:un}],[je]:un}],[je]:un},{[ut]:S7,[ln]:[{[ut]:yu,[ln]:[{[ut]:w7,[ln]:[{[ut]:T7,[ln]:Qc,[je]:un},{[ut]:C7,[ln]:Qc,[je]:un},{[ut]:E7,[ln]:Qc,[je]:un},{[ut]:A7,[ln]:Qc,[je]:un},{[ut]:P7,[ln]:Qc,[je]:un},yw],[je]:un},{[ut]:T7,[ln]:Jc,[je]:un},{[ut]:C7,[ln]:Jc,[je]:un},{[ut]:E7,[ln]:Jc,[je]:un},{[ut]:A7,[ln]:Jc,[je]:un},{[ut]:P7,[ln]:Jc,[je]:un},yw],[je]:un}],[je]:un},q9],[je]:un},{[ut]:[tb,{[Ut]:Ji,[Vt]:k7,[Wr]:L9},{[Ut]:xi,[Vt]:[{[sr]:L9},"--xa-s3"]}],[ln]:[G9,W9,{[ut]:S7,[ln]:[{[ut]:yu,[ln]:[{[ut]:w7,[ln]:[{[ut]:D7,[ln]:Qc,[je]:un},{[ut]:I7,[ln]:Qc,[je]:un},{[ut]:R7,[ln]:Qc,[je]:un},{[ut]:O7,[ln]:Qc,[je]:un},{[ut]:M7,[ln]:Qc,[je]:un},yw],[je]:un},{[ut]:D7,[ln]:Jc,[je]:un},{[ut]:I7,[ln]:Jc,[je]:un},{[ut]:R7,[ln]:Jc,[je]:un},{[ut]:O7,[ln]:Jc,[je]:un},{[ut]:M7,[ln]:Jc,[je]:un},yw],[je]:un}],[je]:un},q9],[je]:un},{[ut]:[K9,X9,Y9],[ln]:[{[ut]:yu,[ln]:[{[ut]:xg,endpoint:{[Hn]:YS,[jn]:Kl,[Gn]:Rr},[je]:pn},{[ut]:J4,endpoint:{[Hn]:"https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[jn]:Kl,[Gn]:Rr},[je]:pn},{[ut]:nb,endpoint:{[Hn]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[jn]:Kl,[Gn]:Rr},[je]:pn},{[ut]:rb,endpoint:{[Hn]:"https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}",[jn]:Kl,[Gn]:Rr},[je]:pn},{[ut]:ib,endpoint:{[Hn]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[jn]:Kl,[Gn]:Rr},[je]:pn}],[je]:un}],[je]:un},{[ut]:[tb,{[Ut]:Ji,[Vt]:[vi,49,50,Zc],[Wr]:zee},{[Ut]:Ji,[Vt]:[vi,8,12,Zc],[Wr]:Hee},{[Ut]:Ji,[Vt]:k7,[Wr]:$9},{[Ut]:Ji,[Vt]:[vi,32,49,Zc],[Wr]:OI},{[Ut]:tC,[Vt]:Z4,[Wr]:"regionPartition"},{[Ut]:xi,[Vt]:[{[sr]:$9},"--op-s3"]}],[ln]:[{[ut]:L7,[ln]:[{[ut]:[{[Ut]:xi,[Vt]:[Z9,"e"]}],[ln]:[{[ut]:$7,[ln]:[Q9,{[ut]:xg,endpoint:{[Hn]:"https://{Bucket}.ec2.{url#authority}",[jn]:_w,[Gn]:Rr},[je]:pn}],[je]:un},{endpoint:{[Hn]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[jn]:_w,[Gn]:Rr},[je]:pn}],[je]:un},{[ut]:[{[Ut]:xi,[Vt]:[Z9,"o"]}],[ln]:[{[ut]:$7,[ln]:[Q9,{[ut]:xg,endpoint:{[Hn]:"https://{Bucket}.op-{outpostId}.{url#authority}",[jn]:_w,[Gn]:Rr},[je]:pn}],[je]:un},{endpoint:{[Hn]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[jn]:_w,[Gn]:Rr},[je]:pn}],[je]:un},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[je]:Jn}],[je]:un},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[je]:Jn}],[je]:un},{[ut]:hFe,[ln]:[{[ut]:[Zs,{[Ut]:Pd,[Vt]:[{[Ut]:eu,[Vt]:[{[Ut]:g6,[Vt]:cFe}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[je]:Jn},{[ut]:[F4,ete],[ln]:[{[ut]:yu,[ln]:[{[ut]:N7,[ln]:[{[ut]:[Su,j9],error:"S3 Accelerate cannot be used in this region",[je]:Jn},{[ut]:[qi,as,ca,Fr,Sa],endpoint:{[Hn]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[qi,as,ca,Fr,ci,Na],[ln]:[{endpoint:J9,[je]:pn}],[je]:un},{[ut]:[qi,as,ca,Fr,ci,Fa],endpoint:J9,[je]:pn},{[ut]:[ai,as,ca,Fr,Sa],endpoint:{[Hn]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[ai,as,ca,Fr,ci,Na],[ln]:[{endpoint:e7,[je]:pn}],[je]:un},{[ut]:[ai,as,ca,Fr,ci,Fa],endpoint:e7,[je]:pn},{[ut]:[qi,Qr,Su,Fr,Sa],endpoint:{[Hn]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[qi,Qr,Su,Fr,ci,Na],[ln]:[{endpoint:t7,[je]:pn}],[je]:un},{[ut]:[qi,Qr,Su,Fr,ci,Fa],endpoint:t7,[je]:pn},{[ut]:[qi,Qr,ca,Fr,Sa],endpoint:{[Hn]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[qi,Qr,ca,Fr,ci,Na],[ln]:[{endpoint:n7,[je]:pn}],[je]:un},{[ut]:[qi,Qr,ca,Fr,ci,Fa],endpoint:n7,[je]:pn},{[ut]:[ai,Qr,ca,Zs,qo,N4,Sa],endpoint:{[Hn]:jee,[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[ai,Qr,ca,Zs,qo,B4,Sa],endpoint:{[Hn]:rC,[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[ai,Qr,ca,Zs,qo,N4,ci,Na],[ln]:[{[ut]:Eh,endpoint:U4,[je]:pn},{endpoint:U4,[je]:pn}],[je]:un},{[ut]:[ai,Qr,ca,Zs,qo,B4,ci,Na],[ln]:[{[ut]:Eh,endpoint:MI,[je]:pn},r7],[je]:un},{[ut]:[ai,Qr,ca,Zs,qo,N4,ci,Fa],endpoint:U4,[je]:pn},{[ut]:[ai,Qr,ca,Zs,qo,B4,ci,Fa],endpoint:MI,[je]:pn},{[ut]:[ai,Qr,Su,Fr,Sa],endpoint:{[Hn]:Gee,[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[ai,Qr,Su,Fr,ci,Na],[ln]:[{[ut]:Eh,endpoint:V4,[je]:pn},{endpoint:V4,[je]:pn}],[je]:un},{[ut]:[ai,Qr,Su,Fr,ci,Fa],endpoint:V4,[je]:pn},{[ut]:[ai,Qr,ca,Fr,Sa],endpoint:{[Hn]:N9,[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[ai,Qr,ca,Fr,ci,Na],[ln]:[{[ut]:Eh,endpoint:{[Hn]:N9,[jn]:_a,[Gn]:Rr},[je]:pn},{endpoint:i7,[je]:pn}],[je]:un},{[ut]:[ai,Qr,ca,Fr,ci,Fa],endpoint:i7,[je]:pn}],[je]:un},bw],[je]:un}],[je]:un},{[ut]:[Zs,qo,{[Ut]:xi,[Vt]:[{[Ut]:Ds,[Vt]:[Qee,"scheme"]},"http"]},{[Ut]:nC,[Vt]:[vi,Zc]},F4,Qr,ai,ca],[ln]:[{[ut]:yu,[ln]:[{[ut]:N7,[ln]:[r7],[je]:un},bw],[je]:un}],[je]:un},{[ut]:[F4,{[Ut]:Wee,[Vt]:dFe,[Wr]:qee}],[ln]:[{[ut]:[{[Ut]:Ds,[Vt]:[kl,"resourceId[0]"],[Wr]:Xee},{[Ut]:Pd,[Vt]:[{[Ut]:xi,[Vt]:[tte,iC]}]}],[ln]:[{[ut]:[{[Ut]:xi,[Vt]:[z4,y6]}],[ln]:[{[ut]:eP,[ln]:[{[ut]:F7,[ln]:[s7,a7,{[ut]:tP,[ln]:[o7,{[ut]:U7,[ln]:[H4,{[ut]:nP,[ln]:[{[ut]:yu,[ln]:[{[ut]:V7,[ln]:[{[ut]:rP,[ln]:[{[ut]:[{[Ut]:xi,[Vt]:[rte,iC]}],error:"Invalid ARN: Missing account id",[je]:Jn},{[ut]:iP,[ln]:[{[ut]:z7,[ln]:[{[ut]:xg,endpoint:{[Hn]:F9,[jn]:j4,[Gn]:Rr},[je]:pn},{[ut]:xw,endpoint:{[Hn]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jn]:j4,[Gn]:Rr},[je]:pn},{endpoint:{[Hn]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jn]:j4,[Gn]:Rr},[je]:pn}],[je]:un},l7],[je]:un},G4],[je]:un},W4],[je]:un},q4],[je]:un}],[je]:un}],[je]:un},u7],[je]:un},{error:"Invalid ARN: bucket ARN is missing a region",[je]:Jn}],[je]:un},c7],[je]:un},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[je]:Jn}],[je]:un},{[ut]:eP,[ln]:[{[ut]:F7,[ln]:[{[ut]:tP,[ln]:[{[ut]:eP,[ln]:[{[ut]:tP,[ln]:[o7,{[ut]:U7,[ln]:[H4,{[ut]:nP,[ln]:[{[ut]:yu,[ln]:[{[ut]:[{[Ut]:xi,[Vt]:[nte,"{partitionResult#name}"]}],[ln]:[{[ut]:rP,[ln]:[{[ut]:[{[Ut]:xi,[Vt]:[z4,ty]}],[ln]:[{[ut]:iP,[ln]:[{[ut]:z7,[ln]:[{[ut]:Q4,error:"Access Points do not support S3 Accelerate",[je]:Jn},{[ut]:J4,endpoint:{[Hn]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jn]:N_,[Gn]:Rr},[je]:pn},{[ut]:nb,endpoint:{[Hn]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jn]:N_,[Gn]:Rr},[je]:pn},{[ut]:rb,endpoint:{[Hn]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jn]:N_,[Gn]:Rr},[je]:pn},{[ut]:[Qr,ai,Zs,qo],endpoint:{[Hn]:F9,[jn]:N_,[Gn]:Rr},[je]:pn},{[ut]:ib,endpoint:{[Hn]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jn]:N_,[Gn]:Rr},[je]:pn}],[je]:un},l7],[je]:un},G4],[je]:un},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[je]:Jn}],[je]:un},W4],[je]:un},q4],[je]:un}],[je]:un}],[je]:un},u7],[je]:un}],[je]:un}],[je]:un},{[ut]:[{[Ut]:Km,[Vt]:[b6,Zc]}],[ln]:[{[ut]:B7,error:"S3 MRAP does not support dual-stack",[je]:Jn},{[ut]:xw,error:"S3 MRAP does not support FIPS",[je]:Jn},{[ut]:Q4,error:"S3 MRAP does not support S3 Accelerate",[je]:Jn},{[ut]:[{[Ut]:sa,[Vt]:[{[sr]:"DisableMultiRegionAccessPoints"},Zc]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[je]:Jn},{[ut]:[{[Ut]:tC,[Vt]:Z4,[Wr]:B9}],[ln]:[{[ut]:[{[Ut]:xi,[Vt]:[{[Ut]:Ds,[Vt]:[{[sr]:B9},Ns]},{[Ut]:Ds,[Vt]:[kl,"partition"]}]}],[ln]:[{endpoint:{[Hn]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[jn]:{[ja]:[{[ga]:Zc,name:v6,[va]:ty,[m6]:pFe}]},[Gn]:Rr},[je]:pn}],[je]:un},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[je]:Jn}],[je]:un}],[je]:un},{error:"Invalid Access Point Name",[je]:Jn}],[je]:un},c7],[je]:un},{[ut]:[{[Ut]:xi,[Vt]:[z4,a1]}],[ln]:[{[ut]:B7,error:"S3 Outposts does not support Dual-stack",[je]:Jn},{[ut]:xw,error:"S3 Outposts does not support FIPS",[je]:Jn},{[ut]:Q4,error:"S3 Outposts does not support S3 Accelerate",[je]:Jn},{[ut]:[{[Ut]:eu,[Vt]:[{[Ut]:Ds,[Vt]:[kl,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[je]:Jn},{[ut]:[{[Ut]:Ds,[Vt]:mFe,[Wr]:OI}],[ln]:[{[ut]:L7,[ln]:[H4,{[ut]:nP,[ln]:[{[ut]:yu,[ln]:[{[ut]:V7,[ln]:[{[ut]:rP,[ln]:[{[ut]:iP,[ln]:[{[ut]:[{[Ut]:Ds,[Vt]:gFe,[Wr]:U9}],[ln]:[{[ut]:[{[Ut]:Ds,[Vt]:[kl,"resourceId[3]"],[Wr]:_6}],[ln]:[{[ut]:[{[Ut]:xi,[Vt]:[{[sr]:U9},Yee]}],[ln]:[{[ut]:xg,endpoint:{[Hn]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[jn]:d7,[Gn]:Rr},[je]:pn},{endpoint:{[Hn]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jn]:d7,[Gn]:Rr},[je]:pn}],[je]:un},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[je]:Jn}],[je]:un},{error:"Invalid ARN: expected an access point name",[je]:Jn}],[je]:un},{error:"Invalid ARN: Expected a 4-component resource",[je]:Jn}],[je]:un},G4],[je]:un},W4],[je]:un},q4],[je]:un}],[je]:un}],[je]:un},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[je]:Jn}],[je]:un},{error:"Invalid ARN: The Outpost Id was not set",[je]:Jn}],[je]:un},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[je]:Jn}],[je]:un},{error:"Invalid ARN: No ARN type specified",[je]:Jn}],[je]:un},{[ut]:[{[Ut]:Ji,[Vt]:[vi,0,4,lFe],[Wr]:V9},{[Ut]:xi,[Vt]:[{[sr]:V9},"arn:"]},{[Ut]:Pd,[Vt]:[{[Ut]:eu,[Vt]:[f7]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[je]:Jn},{[ut]:[{[Ut]:sa,[Vt]:[uFe,Zc]},f7],error:"Path-style addressing cannot be used with ARN buckets",[je]:Jn},{[ut]:fFe,[ln]:[{[ut]:yu,[ln]:[{[ut]:[ca],[ln]:[{[ut]:[qi,Fr,as,Sa],endpoint:{[Hn]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[qi,Fr,as,ci,Na],[ln]:[{endpoint:h7,[je]:pn}],[je]:un},{[ut]:[qi,Fr,as,ci,Fa],endpoint:h7,[je]:pn},{[ut]:[ai,Fr,as,Sa],endpoint:{[Hn]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[ai,Fr,as,ci,Na],[ln]:[{endpoint:p7,[je]:pn}],[je]:un},{[ut]:[ai,Fr,as,ci,Fa],endpoint:p7,[je]:pn},{[ut]:[qi,Fr,Qr,Sa],endpoint:{[Hn]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[qi,Fr,Qr,ci,Na],[ln]:[{endpoint:m7,[je]:pn}],[je]:un},{[ut]:[qi,Fr,Qr,ci,Fa],endpoint:m7,[je]:pn},{[ut]:[ai,Zs,qo,Qr,Sa],endpoint:{[Hn]:Kee,[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[ai,Zs,qo,Qr,ci,Na],[ln]:[{[ut]:Eh,endpoint:X4,[je]:pn},{endpoint:X4,[je]:pn}],[je]:un},{[ut]:[ai,Zs,qo,Qr,ci,Fa],endpoint:X4,[je]:pn},{[ut]:[ai,Fr,Qr,Sa],endpoint:{[Hn]:z9,[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[ai,Fr,Qr,ci,Na],[ln]:[{[ut]:Eh,endpoint:{[Hn]:z9,[jn]:_a,[Gn]:Rr},[je]:pn},{endpoint:g7,[je]:pn}],[je]:un},{[ut]:[ai,Fr,Qr,ci,Fa],endpoint:g7,[je]:pn}],[je]:un},{error:"Path-style addressing cannot be used with S3 Accelerate",[je]:Jn}],[je]:un}],[je]:un}],[je]:un},{[ut]:[{[Ut]:eu,[Vt]:[v7]},{[Ut]:sa,[Vt]:[v7,Zc]}],[ln]:[{[ut]:yu,[ln]:[{[ut]:H7,[ln]:[s7,a7,{[ut]:xg,endpoint:{[Hn]:YS,[jn]:Y4,[Gn]:Rr},[je]:pn},{[ut]:xw,endpoint:{[Hn]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[jn]:Y4,[Gn]:Rr},[je]:pn},{endpoint:{[Hn]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[jn]:Y4,[Gn]:Rr},[je]:pn}],[je]:un},bw],[je]:un}],[je]:un},{[ut]:[K9],[ln]:[{[ut]:yu,[ln]:[{[ut]:H7,[ln]:[{[ut]:[as,qi,Fr,Sa],endpoint:{[Hn]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[as,qi,Fr,ci,Na],[ln]:[{endpoint:y7,[je]:pn}],[je]:un},{[ut]:[as,qi,Fr,ci,Fa],endpoint:y7,[je]:pn},{[ut]:[as,ai,Fr,Sa],endpoint:{[Hn]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[as,ai,Fr,ci,Na],[ln]:[{endpoint:_7,[je]:pn}],[je]:un},{[ut]:[as,ai,Fr,ci,Fa],endpoint:_7,[je]:pn},{[ut]:[Qr,qi,Fr,Sa],endpoint:{[Hn]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[Qr,qi,Fr,ci,Na],[ln]:[{endpoint:b7,[je]:pn}],[je]:un},{[ut]:[Qr,qi,Fr,ci,Fa],endpoint:b7,[je]:pn},{[ut]:[Qr,ai,Zs,qo,Sa],endpoint:{[Hn]:YS,[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[Qr,ai,Zs,qo,ci,Na],[ln]:[{[ut]:Eh,endpoint:K4,[je]:pn},{endpoint:K4,[je]:pn}],[je]:un},{[ut]:[Qr,ai,Zs,qo,ci,Fa],endpoint:K4,[je]:pn},{[ut]:[Qr,ai,Fr,Sa],endpoint:{[Hn]:H9,[jn]:$a,[Gn]:Rr},[je]:pn},{[ut]:[Qr,ai,Fr,ci,Na],[ln]:[{[ut]:Eh,endpoint:{[Hn]:H9,[jn]:_a,[Gn]:Rr},[je]:pn},{endpoint:x7,[je]:pn}],[je]:un},{[ut]:[Qr,ai,Fr,ci,Fa],endpoint:x7,[je]:pn}],[je]:un},bw],[je]:un}],[je]:un}],[je]:un},{error:"A region must be set when sending requests to S3.",[je]:Jn}]},yFe=vFe,_Fe=new I5e({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),ite=(t,e={})=>_Fe.get(t,()=>K5e(yFe,{endpointParams:t,logger:e.logger}));QT.aws=Oee;const bFe=t=>async(e,n,r)=>{var o,l,u;if(!r)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const i=await t(e,n,r),s=(u=(l=(o=Wp(n))==null?void 0:o.commandInstance)==null?void 0:l.constructor)==null?void 0:u.getEndpointParameterInstructions;if(!s)throw new Error(`getEndpointParameterInstructions() is not defined on \`${n.commandName}\``);const a=await Fee(r,{getEndpointParameterInstructions:s},e);return Object.assign(i,a)},xFe=async(t,e,n)=>({operation:Wp(e).operation,region:await gc(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),wFe=bFe(xFe);function ste(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}function ate(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}const SFe=(t,e,n)=>i=>{var l;const a=(l=t(i).properties)==null?void 0:l.authSchemes;if(!a)return e(i);const o=[];for(const u of a){const{name:d,properties:f={},...h}=u,g=d.toLowerCase();d!==g&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${g}\``);let v;if(g==="sigv4a"){v="aws.auth#sigv4a";const S=a.find(C=>{const T=C.name.toLowerCase();return T!=="sigv4a"&&T.startsWith("sigv4")});if(h6.sigv4aDependency()==="none"&&S)continue}else if(g.startsWith("sigv4"))v="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${g}\``);const p=n[v];if(!p)throw new Error(`Could not find HttpAuthOption create function for \`${v}\``);const _=p(i);_.schemeId=v,_.signingProperties={..._.signingProperties||{},...h,...f},o.push(_)}return o},TFe=t=>{const e=[];switch(t.operation){default:e.push(ste(t)),e.push(ate(t))}return e},CFe=SFe(ite,TFe,{"aws.auth#sigv4":ste,"aws.auth#sigv4a":ate}),EFe=t=>{const e=HLe(t),n=vLe(e);return Object.assign(n,{authSchemePreference:gc(t.authSchemePreference??[])})},AFe=t=>Object.assign(t,{useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3",clientContextParams:t.clientContextParams??{}}),Fc={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class co extends Wg{constructor(e){super(e),Object.setPrototypeOf(this,co.prototype)}}class x6 extends co{constructor(n){super({name:"NoSuchUpload",$fault:"client",...n});nt(this,"name","NoSuchUpload");nt(this,"$fault","client");Object.setPrototypeOf(this,x6.prototype)}}class w6 extends co{constructor(n){super({name:"ObjectNotInActiveTierError",$fault:"client",...n});nt(this,"name","ObjectNotInActiveTierError");nt(this,"$fault","client");Object.setPrototypeOf(this,w6.prototype)}}class S6 extends co{constructor(n){super({name:"BucketAlreadyExists",$fault:"client",...n});nt(this,"name","BucketAlreadyExists");nt(this,"$fault","client");Object.setPrototypeOf(this,S6.prototype)}}class T6 extends co{constructor(n){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...n});nt(this,"name","BucketAlreadyOwnedByYou");nt(this,"$fault","client");Object.setPrototypeOf(this,T6.prototype)}}class C6 extends co{constructor(n){super({name:"NoSuchBucket",$fault:"client",...n});nt(this,"name","NoSuchBucket");nt(this,"$fault","client");Object.setPrototypeOf(this,C6.prototype)}}class E6 extends co{constructor(n){super({name:"InvalidObjectState",$fault:"client",...n});nt(this,"name","InvalidObjectState");nt(this,"$fault","client");nt(this,"StorageClass");nt(this,"AccessTier");Object.setPrototypeOf(this,E6.prototype),this.StorageClass=n.StorageClass,this.AccessTier=n.AccessTier}}class A6 extends co{constructor(n){super({name:"NoSuchKey",$fault:"client",...n});nt(this,"name","NoSuchKey");nt(this,"$fault","client");Object.setPrototypeOf(this,A6.prototype)}}class P6 extends co{constructor(n){super({name:"NotFound",$fault:"client",...n});nt(this,"name","NotFound");nt(this,"$fault","client");Object.setPrototypeOf(this,P6.prototype)}}class k6 extends co{constructor(n){super({name:"EncryptionTypeMismatch",$fault:"client",...n});nt(this,"name","EncryptionTypeMismatch");nt(this,"$fault","client");Object.setPrototypeOf(this,k6.prototype)}}class D6 extends co{constructor(n){super({name:"InvalidRequest",$fault:"client",...n});nt(this,"name","InvalidRequest");nt(this,"$fault","client");Object.setPrototypeOf(this,D6.prototype)}}class I6 extends co{constructor(n){super({name:"InvalidWriteOffset",$fault:"client",...n});nt(this,"name","InvalidWriteOffset");nt(this,"$fault","client");Object.setPrototypeOf(this,I6.prototype)}}class R6 extends co{constructor(n){super({name:"TooManyParts",$fault:"client",...n});nt(this,"name","TooManyParts");nt(this,"$fault","client");Object.setPrototypeOf(this,R6.prototype)}}class O6 extends co{constructor(n){super({name:"IdempotencyParameterMismatch",$fault:"client",...n});nt(this,"name","IdempotencyParameterMismatch");nt(this,"$fault","client");Object.setPrototypeOf(this,O6.prototype)}}class M6 extends co{constructor(n){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...n});nt(this,"name","ObjectAlreadyInActiveTierError");nt(this,"$fault","client");Object.setPrototypeOf(this,M6.prototype)}}const ote="ACL",lte="AbortDate",j7="AccessKeyId",PFe="AcceptRanges",ute="AbortRuleId",kFe="AccessTier",No="Bucket",DFe="BucketArn",IFe="BucketAlreadyExists",RFe="BucketAlreadyOwnedByYou",cte="BypassGovernanceRetention",Kf="BucketKeyEnabled",dte="BucketRegion",L6="Body",fte="Buckets",Zm="ChecksumAlgorithm",$6="CacheControl",Zf="ChecksumCRC32",Qf="ChecksumCRC32C",Jf="ChecksumCRC64NVME",N6="Cache-Control",OFe="CreationDate",F6="Content-Disposition",B6="ContentDisposition",U6="Content-Encoding",V6="ContentEncoding",z6="ContentLanguage",H6="Content-Language",j6="Content-Length",G6="ContentLength",hte="Content-MD5",pte="ContentMD5",MFe="CompletedMultipartUpload",LFe="CompleteMultipartUploadOutput",$Fe="CreateMultipartUploadOutput",NFe="CompleteMultipartUploadResult",FFe="CompleteMultipartUploadRequest",BFe="CreateMultipartUploadRequest",mte="CompleteMultipartUpload",UFe="CreateMultipartUpload",VFe="ChecksumMode",zFe="CommonPrefix",HFe="CommonPrefixList",jFe="CompletedPartList",GFe="CompletedPart",WFe="CommonPrefixes",qFe="ContentRange",XFe="Content-Range",eh="ChecksumSHA1",th="ChecksumSHA256",YFe="CreateSessionOutput",KFe="CreateSessionResult",ZFe="CreateSessionRequest",QFe="CreateSession",qp="ChecksumType",W6="Content-Type",q6="ContentType",rA="ContinuationToken",JFe="Code",eBe="Contents",G7="Credentials",X6="DeleteMarker",tBe="DeleteMarkerVersionId",gte="DisplayName",nBe="DeletedObject",rBe="DeleteObjectOutput",iBe="DeleteObjectsOutput",sBe="DeleteObjectRequest",aBe="DeleteObjectsRequest",oBe="DeletedObjects",lBe="DeleteObject",uBe="DeleteObjects",cBe="DeleteResult",LI="Delete",dBe="Deleted",vte="Delimiter",o1="Expiration",nh="ExpectedBucketOwner",W7="ExpiresString",fBe="EncryptionTypeMismatch",Ac="ETag",yte="EncodingType",_te="Errors",bte="Error",ny="Expires",hBe="FetchOwner",xte="GrantFullControl",pBe="GetObject",mBe="GetObjectOutput",gBe="GetObjectRequest",wte="GrantRead",Ste="GrantReadACP",Tte="GrantWriteACP",Cte="ID",iA="IfMatch",vBe="IfMatchLastModifiedTime",yBe="IfMatchSize",_Be="If-Modified-Since",bBe="IfModifiedSince",xBe="InitiateMultipartUploadResult",sA="If-Match",Y6="IfNoneMatch",K6="If-None-Match",wBe="InvalidObjectState",SBe="IdempotencyParameterMismatch",TBe="InvalidRequest",CBe="IsRestoreInProgress",Ete="IsTruncated",EBe="IfUnmodifiedSince",ABe="If-Unmodified-Since",PBe="InvalidWriteOffset",Ate="Initiator",Nl="Key",kBe="KeyCount",DBe="Location",IBe="ListAllMyBucketsResult",RBe="ListBuckets",OBe="ListBucketsOutput",MBe="ListBucketsRequest",LBe="ListBucketResult",Z6="LastModified",$Be="LastModifiedTime",NBe="Last-Modified",FBe="ListObjectsV2",BBe="ListObjectsV2Output",UBe="ListObjectsV2Request",VBe="ListParts",zBe="ListPartsOutput",HBe="ListPartsResult",jBe="ListPartsRequest",Q6="Metadata",GBe="MaxBuckets",Pte="MFA",kte="MaxKeys",WBe="MissingMeta",qBe="MpuObjectSize",Dte="MaxParts",XBe="MultipartUpload",YBe="Message",Ite="Name",KBe="NextContinuationToken",ZBe="NotFound",QBe="NextPartNumberMarker",JBe="NoSuchBucket",eUe="NoSuchKey",tUe="NoSuchUpload",aA="Owner",nUe="ObjectAlreadyInActiveTierError",rUe="ObjectIdentifier",iUe="ObjectIdentifierList",J6="ObjectLockLegalHoldStatus",eL="ObjectLockMode",tL="ObjectLockRetainUntilDate",sUe="ObjectList",aUe="ObjectNotInActiveTierError",oUe="OptionalObjectAttributes",lUe="Objects",Rte="Object",hx="Prefix",uUe="PartsCount",oA="PartNumber",Ote="PartNumberMarker",cUe="PutObject",dUe="PutObjectOutput",fUe="PutObjectRequest",nL="Parts",rL="Part",hUe="Quiet",rh="RequestCharged",pUe="ResponseCacheControl",mUe="ResponseContentDisposition",gUe="ResponseContentEncoding",vUe="ResponseContentLanguage",yUe="ResponseContentType",_Ue="ResponseExpires",bUe="RestoreExpiryDate",ih="RequestPayer",xUe="ReplicationStatus",Mte="RestoreStatus",q7="Range",wUe="Restore",Lte="StartAfter",X7="SecretAccessKey",SUe="StreamingBlob",qy="StorageClass",TUe="SessionCredentialValue",CUe="SessionCredentials",EUe="SessionMode",sh="ServerSideEncryption",zd="SSECustomerAlgorithm",Qm="SSECustomerKey",Hd="SSECustomerKeyMD5",Jm="SSEKMSEncryptionContext",jd="SSEKMSKeyId",Y7="SessionToken",lA="Size",AUe="TagCount",PUe="TooManyParts",$te="Tagging",px="UploadId",kUe="UploadPart",DUe="UploadPartOutput",IUe="UploadPartRequest",ah="VersionId",RUe="WriteOffsetBytes",iL="WebsiteRedirectLocation",OUe="accept-ranges",MUe="bucket-region",Fl="client",Nte="continuation-token",LUe="delimiter",Bl="error",$Ue="encoding-type",NUe="fetch-owner",Bc="http",uA="httpChecksum",du="httpError",ot="httpHeader",Fte="httpPayload",sL="httpPrefixHeaders",ds="httpQuery",FUe="max-buckets",BUe="max-keys",UUe="max-parts",Bte="prefix",Ute="partNumber",VUe="part-number-marker",zUe="response-cache-control",HUe="response-content-disposition",jUe="response-content-encoding",GUe="response-content-language",WUe="response-content-type",qUe="response-expires",XUe="streaming",YUe="start-after",Vte="smithy.ts.sdk.synthetic.com.amazonaws.s3",aL="uploadId",zte="versionId",Lp="xmlFlattened",ya="xmlName",Hte="x-amz-acl",jte="x-amz-abort-date",Gte="x-amz-abort-rule-id",Wte="x-amz-bypass-governance-retention",qte="x-amz-checksum-algorithm",Xy="x-amz-checksum-crc32",Yy="x-amz-checksum-crc32c",Ky="x-amz-checksum-crc64nvme",KUe="x-amz-checksum-mode",Zy="x-amz-checksum-sha1",Qy="x-amz-checksum-sha256",ZUe="x-amz-create-session-mode",mx="x-amz-checksum-type",Xte="x-amz-delete-marker",oL="x-amz-expiration",oh="x-amz-expected-bucket-owner",Yte="x-amz-grant-full-control",Kte="x-amz-grant-read",Zte="x-amz-grant-read-acp",Qte="x-amz-grant-write-acp",QUe="x-amz-if-match-last-modified-time",JUe="x-amz-if-match-size",lL="x-amz-meta-",Jte="x-amz-mfa",e9e="x-amz-missing-meta",t9e="x-amz-mp-object-size",n9e="x-amz-mp-parts-count",uL="x-amz-object-lock-legal-hold",cL="x-amz-object-lock-mode",dL="x-amz-object-lock-retain-until-date",r9e="x-amz-optional-object-attributes",i9e="x-amz-object-size",s9e="x-amz-restore",lh="x-amz-request-charged",uh="x-amz-request-payer",a9e="x-amz-replication-status",fL="x-amz-storage-class",hL="x-amz-sdk-checksum-algorithm",ch="x-amz-server-side-encryption",dh="x-amz-server-side-encryption-aws-kms-key-id",fh="x-amz-server-side-encryption-bucket-key-enabled",Jy="x-amz-server-side-encryption-context",Gd="x-amz-server-side-encryption-customer-algorithm",e_="x-amz-server-side-encryption-customer-key",Wd="x-amz-server-side-encryption-customer-key-MD5",ene="x-amz-tagging",o9e="x-amz-tagging-count",cA="x-amz-version-id",l9e="x-amz-write-offset-bytes",pL="x-amz-website-redirect-location",Mn="com.amazonaws.s3";var K7=[0,Mn,TUe,8,0],t_=[0,Mn,Qm,8,0],n_=[0,Mn,Jm,8,0],hh=[0,Mn,jd,8,0],mL=[0,Mn,SUe,{[XUe]:1},42],u9e=[3,Mn,No,0,[Ite,OFe,dte,DFe],[0,4,0,0]],c9e=[-3,Mn,IFe,{[Bl]:Fl,[du]:409},[],[]];xa.for(Mn).registerError(c9e,S6);var d9e=[-3,Mn,RFe,{[Bl]:Fl,[du]:409},[],[]];xa.for(Mn).registerError(d9e,T6);var f9e=[3,Mn,zFe,0,[hx],[0]],h9e=[3,Mn,MFe,0,[nL],[[()=>o7e,{[Lp]:1,[ya]:rL}]]],p9e=[3,Mn,GFe,0,[Ac,Zf,Qf,Jf,eh,th,oA],[0,0,0,0,0,0,1]],m9e=[3,Mn,LFe,{[ya]:NFe},[DBe,No,Nl,o1,Ac,Zf,Qf,Jf,eh,th,qp,sh,ah,jd,Kf,rh],[0,0,0,[0,{[ot]:oL}],0,0,0,0,0,0,0,[0,{[ot]:ch}],[0,{[ot]:cA}],[()=>hh,{[ot]:dh}],[2,{[ot]:fh}],[0,{[ot]:lh}]]],g9e=[3,Mn,FFe,0,[No,Nl,XBe,px,Zf,Qf,Jf,eh,th,qp,qBe,ih,nh,iA,Y6,zd,Qm,Hd],[[0,1],[0,1],[()=>h9e,{[Fte]:1,[ya]:mte}],[0,{[ds]:aL}],[0,{[ot]:Xy}],[0,{[ot]:Yy}],[0,{[ot]:Ky}],[0,{[ot]:Zy}],[0,{[ot]:Qy}],[0,{[ot]:mx}],[1,{[ot]:t9e}],[0,{[ot]:uh}],[0,{[ot]:oh}],[0,{[ot]:sA}],[0,{[ot]:K6}],[0,{[ot]:Gd}],[()=>t_,{[ot]:e_}],[0,{[ot]:Wd}]]],v9e=[3,Mn,$Fe,{[ya]:xBe},[lte,ute,No,Nl,px,sh,zd,Hd,jd,Jm,Kf,rh,Zm,qp],[[4,{[ot]:jte}],[0,{[ot]:Gte}],[0,{[ya]:No}],0,0,[0,{[ot]:ch}],[0,{[ot]:Gd}],[0,{[ot]:Wd}],[()=>hh,{[ot]:dh}],[()=>n_,{[ot]:Jy}],[2,{[ot]:fh}],[0,{[ot]:lh}],[0,{[ot]:qte}],[0,{[ot]:mx}]]],y9e=[3,Mn,BFe,0,[ote,No,$6,B6,V6,z6,q6,ny,xte,wte,Ste,Tte,Nl,Q6,sh,qy,iL,zd,Qm,Hd,jd,Jm,Kf,ih,$te,eL,tL,J6,nh,Zm,qp],[[0,{[ot]:Hte}],[0,1],[0,{[ot]:N6}],[0,{[ot]:F6}],[0,{[ot]:U6}],[0,{[ot]:H6}],[0,{[ot]:W6}],[4,{[ot]:ny}],[0,{[ot]:Yte}],[0,{[ot]:Kte}],[0,{[ot]:Zte}],[0,{[ot]:Qte}],[0,1],[128,{[sL]:lL}],[0,{[ot]:ch}],[0,{[ot]:fL}],[0,{[ot]:pL}],[0,{[ot]:Gd}],[()=>t_,{[ot]:e_}],[0,{[ot]:Wd}],[()=>hh,{[ot]:dh}],[()=>n_,{[ot]:Jy}],[2,{[ot]:fh}],[0,{[ot]:uh}],[0,{[ot]:ene}],[0,{[ot]:cL}],[5,{[ot]:dL}],[0,{[ot]:uL}],[0,{[ot]:oh}],[0,{[ot]:qte}],[0,{[ot]:mx}]]],_9e=[3,Mn,YFe,{[ya]:KFe},[sh,jd,Jm,Kf,G7],[[0,{[ot]:ch}],[()=>hh,{[ot]:dh}],[()=>n_,{[ot]:Jy}],[2,{[ot]:fh}],[()=>e7e,{[ya]:G7}]]],b9e=[3,Mn,ZFe,0,[EUe,No,sh,jd,Jm,Kf],[[0,{[ot]:ZUe}],[0,1],[0,{[ot]:ch}],[()=>hh,{[ot]:dh}],[()=>n_,{[ot]:Jy}],[2,{[ot]:fh}]]],x9e=[3,Mn,LI,0,[lUe,hUe],[[()=>c7e,{[Lp]:1,[ya]:Rte}],2]],w9e=[3,Mn,nBe,0,[Nl,ah,X6,tBe],[0,0,2,0]],S9e=[3,Mn,rBe,0,[X6,ah,rh],[[2,{[ot]:Xte}],[0,{[ot]:cA}],[0,{[ot]:lh}]]],T9e=[3,Mn,sBe,0,[No,Nl,Pte,ah,ih,cte,nh,iA,vBe,yBe],[[0,1],[0,1],[0,{[ot]:Jte}],[0,{[ds]:zte}],[0,{[ot]:uh}],[2,{[ot]:Wte}],[0,{[ot]:oh}],[0,{[ot]:sA}],[6,{[ot]:QUe}],[1,{[ot]:JUe}]]],C9e=[3,Mn,iBe,{[ya]:cBe},[dBe,rh,_te],[[()=>l7e,{[Lp]:1}],[0,{[ot]:lh}],[()=>u7e,{[Lp]:1,[ya]:bte}]]],E9e=[3,Mn,aBe,0,[No,LI,Pte,ih,cte,nh,Zm],[[0,1],[()=>x9e,{[Fte]:1,[ya]:LI}],[0,{[ot]:Jte}],[0,{[ot]:uh}],[2,{[ot]:Wte}],[0,{[ot]:oh}],[0,{[ot]:hL}]]],A9e=[-3,Mn,fBe,{[Bl]:Fl,[du]:400},[],[]];xa.for(Mn).registerError(A9e,k6);var P9e=[3,Mn,bte,0,[Nl,ah,JFe,YBe],[0,0,0,0]],k9e=[3,Mn,mBe,0,[L6,X6,PFe,o1,wUe,Z6,G6,Ac,Zf,Qf,Jf,eh,th,qp,WBe,ah,$6,B6,V6,z6,qFe,q6,ny,W7,iL,sh,Q6,zd,Hd,jd,Kf,qy,rh,xUe,uUe,AUe,eL,tL,J6],[[()=>mL,16],[2,{[ot]:Xte}],[0,{[ot]:OUe}],[0,{[ot]:oL}],[0,{[ot]:s9e}],[4,{[ot]:NBe}],[1,{[ot]:j6}],[0,{[ot]:Ac}],[0,{[ot]:Xy}],[0,{[ot]:Yy}],[0,{[ot]:Ky}],[0,{[ot]:Zy}],[0,{[ot]:Qy}],[0,{[ot]:mx}],[1,{[ot]:e9e}],[0,{[ot]:cA}],[0,{[ot]:N6}],[0,{[ot]:F6}],[0,{[ot]:U6}],[0,{[ot]:H6}],[0,{[ot]:XFe}],[0,{[ot]:W6}],[4,{[ot]:ny}],[0,{[ot]:W7}],[0,{[ot]:pL}],[0,{[ot]:ch}],[128,{[sL]:lL}],[0,{[ot]:Gd}],[0,{[ot]:Wd}],[()=>hh,{[ot]:dh}],[2,{[ot]:fh}],[0,{[ot]:fL}],[0,{[ot]:lh}],[0,{[ot]:a9e}],[1,{[ot]:n9e}],[1,{[ot]:o9e}],[0,{[ot]:cL}],[5,{[ot]:dL}],[0,{[ot]:uL}]]],D9e=[3,Mn,gBe,0,[No,iA,bBe,Y6,EBe,Nl,q7,pUe,mUe,gUe,vUe,yUe,_Ue,ah,zd,Qm,Hd,ih,oA,nh,VFe],[[0,1],[0,{[ot]:sA}],[4,{[ot]:_Be}],[0,{[ot]:K6}],[4,{[ot]:ABe}],[0,1],[0,{[ot]:q7}],[0,{[ds]:zUe}],[0,{[ds]:HUe}],[0,{[ds]:jUe}],[0,{[ds]:GUe}],[0,{[ds]:WUe}],[6,{[ds]:qUe}],[0,{[ds]:zte}],[0,{[ot]:Gd}],[()=>t_,{[ot]:e_}],[0,{[ot]:Wd}],[0,{[ot]:uh}],[1,{[ds]:Ute}],[0,{[ot]:oh}],[0,{[ot]:KUe}]]],I9e=[-3,Mn,SBe,{[Bl]:Fl,[du]:400},[],[]];xa.for(Mn).registerError(I9e,O6);var R9e=[3,Mn,Ate,0,[Cte,gte],[0,0]],O9e=[-3,Mn,wBe,{[Bl]:Fl,[du]:403},[qy,kFe],[0,0]];xa.for(Mn).registerError(O9e,E6);var M9e=[-3,Mn,TBe,{[Bl]:Fl,[du]:400},[],[]];xa.for(Mn).registerError(M9e,D6);var L9e=[-3,Mn,PBe,{[Bl]:Fl,[du]:400},[],[]];xa.for(Mn).registerError(L9e,I6);var $9e=[3,Mn,OBe,{[ya]:IBe},[fte,aA,rA,hx],[[()=>s7e,0],()=>gL,0,0]],N9e=[3,Mn,MBe,0,[GBe,rA,hx,dte],[[1,{[ds]:FUe}],[0,{[ds]:Nte}],[0,{[ds]:Bte}],[0,{[ds]:MUe}]]],F9e=[3,Mn,BBe,{[ya]:LBe},[Ete,eBe,Ite,hx,vte,kte,WFe,yte,kBe,rA,KBe,Lte,rh],[2,[()=>d7e,{[Lp]:1}],0,0,0,1,[()=>a7e,{[Lp]:1}],0,1,0,0,0,[0,{[ot]:lh}]]],B9e=[3,Mn,UBe,0,[No,vte,yte,kte,hx,rA,hBe,Lte,ih,nh,oUe],[[0,1],[0,{[ds]:LUe}],[0,{[ds]:$Ue}],[1,{[ds]:BUe}],[0,{[ds]:Bte}],[0,{[ds]:Nte}],[2,{[ds]:NUe}],[0,{[ds]:YUe}],[0,{[ot]:uh}],[0,{[ot]:oh}],[64,{[ot]:r9e}]]],U9e=[3,Mn,zBe,{[ya]:HBe},[lte,ute,No,Nl,px,Ote,QBe,Dte,Ete,nL,Ate,aA,qy,rh,Zm,qp],[[4,{[ot]:jte}],[0,{[ot]:Gte}],0,0,0,0,0,1,2,[()=>f7e,{[Lp]:1,[ya]:rL}],()=>R9e,()=>gL,0,[0,{[ot]:lh}],0,0]],V9e=[3,Mn,jBe,0,[No,Nl,Dte,Ote,px,ih,nh,zd,Qm,Hd],[[0,1],[0,1],[1,{[ds]:UUe}],[0,{[ds]:VUe}],[0,{[ds]:aL}],[0,{[ot]:uh}],[0,{[ot]:oh}],[0,{[ot]:Gd}],[()=>t_,{[ot]:e_}],[0,{[ot]:Wd}]]],z9e=[-3,Mn,JBe,{[Bl]:Fl,[du]:404},[],[]];xa.for(Mn).registerError(z9e,C6);var H9e=[-3,Mn,eUe,{[Bl]:Fl,[du]:404},[],[]];xa.for(Mn).registerError(H9e,A6);var j9e=[-3,Mn,tUe,{[Bl]:Fl,[du]:404},[],[]];xa.for(Mn).registerError(j9e,x6);var G9e=[-3,Mn,ZBe,{[Bl]:Fl},[],[]];xa.for(Mn).registerError(G9e,P6);var W9e=[3,Mn,Rte,0,[Nl,Z6,Ac,Zm,qp,lA,qy,aA,Mte],[0,4,0,[64,{[Lp]:1}],0,1,0,()=>gL,()=>J9e]],q9e=[-3,Mn,nUe,{[Bl]:Fl,[du]:403},[],[]];xa.for(Mn).registerError(q9e,M6);var X9e=[3,Mn,rUe,0,[Nl,ah,Ac,$Be,lA],[0,0,0,6,1]],Y9e=[-3,Mn,aUe,{[Bl]:Fl,[du]:403},[],[]];xa.for(Mn).registerError(Y9e,w6);var gL=[3,Mn,aA,0,[gte,Cte],[0,0]],K9e=[3,Mn,rL,0,[oA,Z6,Ac,lA,Zf,Qf,Jf,eh,th],[1,4,0,1,0,0,0,0,0]],Z9e=[3,Mn,dUe,0,[o1,Ac,Zf,Qf,Jf,eh,th,qp,sh,ah,zd,Hd,jd,Jm,Kf,lA,rh],[[0,{[ot]:oL}],[0,{[ot]:Ac}],[0,{[ot]:Xy}],[0,{[ot]:Yy}],[0,{[ot]:Ky}],[0,{[ot]:Zy}],[0,{[ot]:Qy}],[0,{[ot]:mx}],[0,{[ot]:ch}],[0,{[ot]:cA}],[0,{[ot]:Gd}],[0,{[ot]:Wd}],[()=>hh,{[ot]:dh}],[()=>n_,{[ot]:Jy}],[2,{[ot]:fh}],[1,{[ot]:i9e}],[0,{[ot]:lh}]]],Q9e=[3,Mn,fUe,0,[ote,L6,No,$6,B6,V6,z6,G6,pte,q6,Zm,Zf,Qf,Jf,eh,th,ny,iA,Y6,xte,wte,Ste,Tte,Nl,RUe,Q6,sh,qy,iL,zd,Qm,Hd,jd,Jm,Kf,ih,$te,eL,tL,J6,nh],[[0,{[ot]:Hte}],[()=>mL,16],[0,1],[0,{[ot]:N6}],[0,{[ot]:F6}],[0,{[ot]:U6}],[0,{[ot]:H6}],[1,{[ot]:j6}],[0,{[ot]:hte}],[0,{[ot]:W6}],[0,{[ot]:hL}],[0,{[ot]:Xy}],[0,{[ot]:Yy}],[0,{[ot]:Ky}],[0,{[ot]:Zy}],[0,{[ot]:Qy}],[4,{[ot]:ny}],[0,{[ot]:sA}],[0,{[ot]:K6}],[0,{[ot]:Yte}],[0,{[ot]:Kte}],[0,{[ot]:Zte}],[0,{[ot]:Qte}],[0,1],[1,{[ot]:l9e}],[128,{[sL]:lL}],[0,{[ot]:ch}],[0,{[ot]:fL}],[0,{[ot]:pL}],[0,{[ot]:Gd}],[()=>t_,{[ot]:e_}],[0,{[ot]:Wd}],[()=>hh,{[ot]:dh}],[()=>n_,{[ot]:Jy}],[2,{[ot]:fh}],[0,{[ot]:uh}],[0,{[ot]:ene}],[0,{[ot]:cL}],[5,{[ot]:dL}],[0,{[ot]:uL}],[0,{[ot]:oh}]]],J9e=[3,Mn,Mte,0,[CBe,bUe],[2,4]],e7e=[3,Mn,CUe,0,[j7,X7,Y7,o1],[[0,{[ya]:j7}],[()=>K7,{[ya]:X7}],[()=>K7,{[ya]:Y7}],[4,{[ya]:o1}]]],t7e=[-3,Mn,PUe,{[Bl]:Fl,[du]:400},[],[]];xa.for(Mn).registerError(t7e,R6);var n7e=[3,Mn,DUe,0,[sh,Ac,Zf,Qf,Jf,eh,th,zd,Hd,jd,Kf,rh],[[0,{[ot]:ch}],[0,{[ot]:Ac}],[0,{[ot]:Xy}],[0,{[ot]:Yy}],[0,{[ot]:Ky}],[0,{[ot]:Zy}],[0,{[ot]:Qy}],[0,{[ot]:Gd}],[0,{[ot]:Wd}],[()=>hh,{[ot]:dh}],[2,{[ot]:fh}],[0,{[ot]:lh}]]],r7e=[3,Mn,IUe,0,[L6,No,G6,pte,Zm,Zf,Qf,Jf,eh,th,Nl,oA,px,zd,Qm,Hd,ih,nh],[[()=>mL,16],[0,1],[1,{[ot]:j6}],[0,{[ot]:hte}],[0,{[ot]:hL}],[0,{[ot]:Xy}],[0,{[ot]:Yy}],[0,{[ot]:Ky}],[0,{[ot]:Zy}],[0,{[ot]:Qy}],[0,1],[1,{[ds]:Ute}],[0,{[ds]:aL}],[0,{[ot]:Gd}],[()=>t_,{[ot]:e_}],[0,{[ot]:Wd}],[0,{[ot]:uh}],[0,{[ot]:oh}]]],i7e=[-3,Vte,"S3ServiceException",0,[],[]];xa.for(Vte).registerError(i7e,co);var s7e=[1,Mn,fte,0,[()=>u9e,{[ya]:No}]],a7e=[1,Mn,HFe,0,()=>f9e],o7e=[1,Mn,jFe,0,()=>p9e],l7e=[1,Mn,oBe,0,()=>w9e],u7e=[1,Mn,_te,0,()=>P9e],c7e=[1,Mn,iUe,0,()=>X9e],d7e=[1,Mn,sUe,0,[()=>W9e,0]],f7e=[1,Mn,nL,0,()=>K9e],h7e=[9,Mn,mte,{[Bc]:["POST","/{Key+}",200]},()=>g9e,()=>m9e],p7e=[9,Mn,UFe,{[Bc]:["POST","/{Key+}?uploads",200]},()=>y9e,()=>v9e],m7e=[9,Mn,QFe,{[Bc]:["GET","/?session",200]},()=>b9e,()=>_9e],g7e=[9,Mn,lBe,{[Bc]:["DELETE","/{Key+}?x-id=DeleteObject",204]},()=>T9e,()=>S9e],v7e=[9,Mn,uBe,{[uA]:"-",[Bc]:["POST","/?delete",200]},()=>E9e,()=>C9e],y7e=[9,Mn,pBe,{[uA]:"-",[Bc]:["GET","/{Key+}?x-id=GetObject",200]},()=>D9e,()=>k9e],_7e=[9,Mn,RBe,{[Bc]:["GET","/?x-id=ListBuckets",200]},()=>N9e,()=>$9e],b7e=[9,Mn,FBe,{[Bc]:["GET","/?list-type=2",200]},()=>B9e,()=>F9e],x7e=[9,Mn,VBe,{[Bc]:["GET","/{Key+}?x-id=ListParts",200]},()=>V9e,()=>U9e],w7e=[9,Mn,cUe,{[uA]:"-",[Bc]:["PUT","/{Key+}?x-id=PutObject",200]},()=>Q9e,()=>Z9e],S7e=[9,Mn,kUe,{[uA]:"-",[Bc]:["PUT","/{Key+}?x-id=UploadPart",200]},()=>r7e,()=>n7e];class T7e extends Zu.classBuilder().ep({...Fc,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,n,r,i){return[Nc(r,e.getEndpointParameterInstructions()),Vd(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").sc(m7e).build(){}const C7e="@aws-sdk/client-s3",E7e="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",A7e="3.956.0",P7e={build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs","test:integration":"yarn g:vitest run -c vitest.config.integ.mts","test:integration:watch":"yarn g:vitest watch -c vitest.config.integ.mts","test:watch":"yarn g:vitest watch"},k7e="./dist-cjs/index.js",D7e="./dist-types/index.d.ts",I7e="./dist-es/index.js",R7e=!1,O7e={"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.956.0","@aws-sdk/credential-provider-node":"3.956.0","@aws-sdk/middleware-bucket-endpoint":"3.956.0","@aws-sdk/middleware-expect-continue":"3.956.0","@aws-sdk/middleware-flexible-checksums":"3.956.0","@aws-sdk/middleware-host-header":"3.956.0","@aws-sdk/middleware-location-constraint":"3.956.0","@aws-sdk/middleware-logger":"3.956.0","@aws-sdk/middleware-recursion-detection":"3.956.0","@aws-sdk/middleware-sdk-s3":"3.956.0","@aws-sdk/middleware-ssec":"3.956.0","@aws-sdk/middleware-user-agent":"3.956.0","@aws-sdk/region-config-resolver":"3.956.0","@aws-sdk/signature-v4-multi-region":"3.956.0","@aws-sdk/types":"3.956.0","@aws-sdk/util-endpoints":"3.956.0","@aws-sdk/util-user-agent-browser":"3.956.0","@aws-sdk/util-user-agent-node":"3.956.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/eventstream-serde-browser":"^4.2.7","@smithy/eventstream-serde-config-resolver":"^4.3.7","@smithy/eventstream-serde-node":"^4.2.7","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-blob-browser":"^4.2.8","@smithy/hash-node":"^4.2.7","@smithy/hash-stream-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/md5-js":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-stream":"^4.5.8","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.7",tslib:"^2.6.2"},M7e={"@aws-sdk/signature-v4-crt":"3.956.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},L7e={node:">=18.0.0"},$7e={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},N7e=["dist-*/**"],F7e={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},B7e="Apache-2.0",U7e={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},V7e="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",z7e={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},H7e={name:C7e,description:E7e,version:A7e,scripts:P7e,main:k7e,types:D7e,module:I7e,sideEffects:R7e,dependencies:O7e,devDependencies:M7e,engines:L7e,typesVersions:$7e,files:N7e,author:F7e,license:B7e,browser:U7e,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:V7e,repository:z7e},j7e=t=>new TextEncoder().encode(t);function Z7(t){return typeof t=="string"?t.length===0:t.byteLength===0}var tne={name:"SHA-1"},Q7={name:"HMAC",hash:tne},G7e=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const W7e={};function vp(){return typeof window<"u"?window:typeof self<"u"?self:W7e}var q7e=function(){function t(e){this.toHash=new Uint8Array(0),e!==void 0&&(this.key=new Promise(function(n,r){vp().crypto.subtle.importKey("raw",J7(e),Q7,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))}return t.prototype.update=function(e){if(!Z7(e)){var n=J7(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return vp().crypto.subtle.sign(Q7,n,e.toHash).then(function(r){return new Uint8Array(r)})}):Z7(this.toHash)?Promise.resolve(G7e):Promise.resolve().then(function(){return vp().crypto.subtle.digest(tne,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){this.toHash=new Uint8Array(0)},t}();function J7(t){return typeof t=="string"?j7e(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var X7e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function nne(t){if(Y7e(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return K7e(e)}return!1}function Y7e(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function K7e(t){return t&&X7e.every(function(e){return typeof t[e]=="function"})}var Z7e=function(){function t(e){if(nne(vp()))this.hash=new q7e(e);else throw new Error("SHA1 not supported")}return t.prototype.update=function(e,n){this.hash.update(Op(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}(),rne={name:"SHA-256"},eV={name:"HMAC",hash:rne},Q7e=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),J7e=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!i1(e)){var n=Op(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return vp().crypto.subtle.sign(eV,n,e.toHash).then(function(r){return new Uint8Array(r)})}):i1(this.toHash)?Promise.resolve(Q7e):Promise.resolve().then(function(){return vp().crypto.subtle.digest(rne,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(n,r){vp().crypto.subtle.importKey("raw",Op(e.secret),eV,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))},t}(),Tu=64,eVe=32,tVe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nVe=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],rVe=Math.pow(2,53)-1,KS=function(){function t(){this.state=Int32Array.from(nVe),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=e.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>rVe)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[n++],r--,this.bufferLength===Tu&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%Tu>=Tu-8){for(var i=this.bufferLength;i<Tu;i++)n.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<Tu-8;i++)n.setUint8(i,0);n.setUint32(Tu-8,Math.floor(e/4294967296),!0),n.setUint32(Tu-4,e),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(eVe),i=0;i<8;i++)s[i*4]=this.state[i]>>>24&255,s[i*4+1]=this.state[i]>>>16&255,s[i*4+2]=this.state[i]>>>8&255,s[i*4+3]=this.state[i]>>>0&255;return s},t.prototype.hashBuffer=function(){for(var e=this,n=e.buffer,r=e.state,i=r[0],s=r[1],a=r[2],o=r[3],l=r[4],u=r[5],d=r[6],f=r[7],h=0;h<Tu;h++){if(h<16)this.temp[h]=(n[h*4]&255)<<24|(n[h*4+1]&255)<<16|(n[h*4+2]&255)<<8|n[h*4+3]&255;else{var g=this.temp[h-2],v=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10;g=this.temp[h-15];var p=(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;this.temp[h]=(v+this.temp[h-7]|0)+(p+this.temp[h-16]|0)}var _=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&u^~l&d)|0)+(f+(tVe[h]+this.temp[h]|0)|0)|0,S=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&s^i&a^s&a)|0;f=d,d=u,u=l,l=o+_|0,o=a,a=s,s=i,i=_+S|0}r[0]+=i,r[1]+=s,r[2]+=a,r[3]+=o,r[4]+=l,r[5]+=u,r[6]+=d,r[7]+=f},t}(),iVe=function(){function t(e){this.secret=e,this.hash=new KS,this.reset()}return t.prototype.update=function(e){if(!(i1(e)||this.error))try{this.hash.update(Op(e))}catch(n){this.error=n}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return u6(this,void 0,void 0,function(){return c6(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new KS,this.secret){this.outer=new KS;var e=sVe(this.secret),n=new Uint8Array(Tu);n.set(e);for(var r=0;r<Tu;r++)e[r]^=54,n[r]^=92;this.hash.update(e),this.outer.update(n);for(var r=0;r<e.byteLength;r++)e[r]=0}},t}();function sVe(t){var e=Op(t);if(e.byteLength>Tu){var n=new KS;n.update(e),e=n.digest()}var r=new Uint8Array(Tu);return r.set(e),r}var aVe=function(){function t(e){nne(vp())?this.hash=new J7e(e):this.hash=new iVe(e)}return t.prototype.update=function(e,n){this.hash.update(Op(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();const oVe=({serviceId:t,clientVersion:e})=>async n=>{var g,v,p;const r=typeof window<"u"?window.navigator:void 0,i=(r==null?void 0:r.userAgent)??"",s=((g=r==null?void 0:r.userAgentData)==null?void 0:g.platform)??tV.os(i)??"other",a=void 0,o=((v=r==null?void 0:r.userAgentData)==null?void 0:v.brands)??[],l=o[o.length-1],u=(l==null?void 0:l.brand)??tV.browser(i)??"unknown",d=(l==null?void 0:l.version)??"unknown",f=[["aws-sdk-js",e],["ua","2.1"],[`os/${s}`,a],["lang/js"],["md/browser",`${u}_${d}`]];t&&f.push([`api/${t}`,e]);const h=await((p=n==null?void 0:n.userAgentAppId)==null?void 0:p.call(n));return h&&f.push([`app/${h}`]),f},tV={os(t){if(/iPhone|iPad|iPod/.test(t))return"iOS";if(/Macintosh|Mac OS X/.test(t))return"macOS";if(/Windows NT/.test(t))return"Windows";if(/Android/.test(t))return"Android";if(/Linux/.test(t))return"Linux"},browser(t){if(/EdgiOS|EdgA|Edg\//.test(t))return"Microsoft Edge";if(/Firefox\//.test(t))return"Firefox";if(/Chrome\//.test(t))return"Chrome";if(/Safari\//.test(t))return"Safari"}};class sb{constructor(e){nt(this,"bytes");if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&nV(n),new sb(n)}valueOf(){const e=this.bytes.slice(0),n=e[0]&128;return n&&nV(e),parseInt(Cl(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}}function nV(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}class lVe{constructor(e,n){nt(this,"toUtf8");nt(this,"fromUtf8");this.toUtf8=e,this.fromUtf8=n}format(e){const n=[];for(const s of Object.keys(e)){const a=this.fromUtf8(s);n.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(e[s]))}const r=new Uint8Array(n.reduce((s,a)=>s+a.byteLength,0));let i=0;for(const s of n)r.set(s,i),i+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":const s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);const a=new Uint8Array(s.buffer);return a.set(e.value,3),a;case"string":const o=this.fromUtf8(e.value),l=new DataView(new ArrayBuffer(3+o.byteLength));l.setUint8(0,7),l.setUint16(1,o.byteLength,!1);const u=new Uint8Array(l.buffer);return u.set(o,3),u;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(sb.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!vVe.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(ZJ(e.value.replace(/\-/g,"")),1),f}}parse(e){const n={};let r=0;for(;r<e.byteLength;){const i=e.getUint8(r++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,i));switch(r+=i,e.getUint8(r++)){case 0:n[s]={type:iV,value:!0};break;case 1:n[s]={type:iV,value:!1};break;case 2:n[s]={type:uVe,value:e.getInt8(r++)};break;case 3:n[s]={type:cVe,value:e.getInt16(r,!1)},r+=2;break;case 4:n[s]={type:dVe,value:e.getInt32(r,!1)},r+=4;break;case 5:n[s]={type:fVe,value:new sb(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:const a=e.getUint16(r,!1);r+=2,n[s]={type:hVe,value:new Uint8Array(e.buffer,e.byteOffset+r,a)},r+=a;break;case 7:const o=e.getUint16(r,!1);r+=2,n[s]={type:pVe,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,o))},r+=o;break;case 8:n[s]={type:mVe,value:new Date(new sb(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:const l=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,n[s]={type:gVe,value:`${Cl(l.subarray(0,4))}-${Cl(l.subarray(4,6))}-${Cl(l.subarray(6,8))}-${Cl(l.subarray(8,10))}-${Cl(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}}var rV;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(rV||(rV={}));const iV="boolean",uVe="byte",cVe="short",dVe="integer",fVe="long",hVe="binary",pVe="string",mVe="timestamp",gVe="uuid",vVe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ine=4,zh=ine*2,I0=4,yVe=zh+I0*2;function _Ve({byteLength:t,byteOffset:e,buffer:n}){if(t<yVe)throw new Error("Provided message too short to accommodate event stream message overhead");const r=new DataView(n,e,t),i=r.getUint32(0,!1);if(t!==i)throw new Error("Reported message length does not match received message length");const s=r.getUint32(ine,!1),a=r.getUint32(zh,!1),o=r.getUint32(t-I0,!1),l=new ZT().update(new Uint8Array(n,e,zh));if(a!==l.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(n,e+zh,t-(zh+I0))),o!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${o}`);return{headers:new DataView(n,e+zh+I0,s),body:new Uint8Array(n,e+zh+I0+s,i-s-(zh+I0+I0))}}class bVe{constructor(e,n){nt(this,"headerMarshaller");nt(this,"messageBuffer");nt(this,"isEndOfStream");this.headerMarshaller=new lVe(e,n),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),n=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return n}}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const n=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return n}}}encode({headers:e,body:n}){const r=this.headerMarshaller.format(e),i=r.byteLength+n.byteLength+16,s=new Uint8Array(i),a=new DataView(s.buffer,s.byteOffset,s.byteLength),o=new ZT;return a.setUint32(0,i,!1),a.setUint32(4,r.byteLength,!1),a.setUint32(8,o.update(s.subarray(0,8)).digest(),!1),s.set(r,12),s.set(n,r.byteLength+12),a.setUint32(i-4,o.update(s.subarray(8,i-4)).digest(),!1),s}decode(e){const{headers:n,body:r}=_Ve(e);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}}class xVe{constructor(e){nt(this,"options");this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.decoder.decode(e)}}class wVe{constructor(e){nt(this,"options");this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class SVe{constructor(e){nt(this,"options");this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const n=await this.options.deserializer(e);n!==void 0&&(yield n)}}}class TVe{constructor(e){nt(this,"options");this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.serializer(e)}}function CVe(t){let e=0,n=0,r=null,i=null;const s=o=>{if(typeof o!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+o);e=o,n=4,r=new Uint8Array(o),new DataView(r.buffer).setUint32(0,o,!1)},a=async function*(){const o=t[Symbol.asyncIterator]();for(;;){const{value:l,done:u}=await o.next();if(u){if(e)if(e===n)yield r;else throw new Error("Truncated event message received.");else return;return}const d=l.length;let f=0;for(;f<d;){if(!r){const g=d-f;i||(i=new Uint8Array(4));const v=Math.min(4-n,g);if(i.set(l.slice(f,f+v),n),n+=v,f+=v,n<4)break;s(new DataView(i.buffer).getUint32(0,!1)),i=null}const h=Math.min(e-n,d-f);r.set(l.slice(f,f+h),n),n+=h,f+=h,e&&e===n&&(yield r,r=null,e=0,n=0)}}};return{[Symbol.asyncIterator]:a}}function EVe(t,e){return async function(n){const{value:r}=n.headers[":message-type"];if(r==="error"){const i=new Error(n.headers[":error-message"].value||"UnknownError");throw i.name=n.headers[":error-code"].value,i}else if(r==="exception"){const i=n.headers[":exception-type"].value,s={[i]:n},a=await t(s);if(a.$unknown){const o=new Error(e(n.body));throw o.name=i,o}throw a[i]}else if(r==="event"){const i={[n.headers[":event-type"].value]:n},s=await t(i);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}let AVe=class{constructor({utf8Encoder:e,utf8Decoder:n}){nt(this,"eventStreamCodec");nt(this,"utfEncoder");this.eventStreamCodec=new bVe(e,n),this.utfEncoder=e}deserialize(e,n){const r=CVe(e);return new SVe({messageStream:new xVe({inputStream:r,decoder:this.eventStreamCodec}),deserializer:EVe(n,this.utfEncoder)})}serialize(e,n){return new wVe({messageStream:new TVe({inputStream:e,serializer:n}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const PVe=t=>({[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)return;yield r}}finally{e.releaseLock()}}}),kVe=t=>{const e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(n){const{done:r,value:i}=await e.next();if(r)return n.close();n.enqueue(i)}})};class DVe{constructor({utf8Encoder:e,utf8Decoder:n}){nt(this,"universalMarshaller");this.universalMarshaller=new AVe({utf8Decoder:n,utf8Encoder:e})}deserialize(e,n){const r=IVe(e)?PVe(e):e;return this.universalMarshaller.deserialize(r,n)}serialize(e,n){const r=this.universalMarshaller.serialize(e,n);return typeof ReadableStream=="function"?kVe(r):r}}const IVe=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,RVe=t=>new DVe(t);async function OVe(t,e,n=1024*1024){const r=t.size;let i=0;for(;i<r;){const s=t.slice(i,Math.min(r,i+n));e(new Uint8Array(await s.arrayBuffer())),i+=s.size}}const MVe=async function(e,n){const r=new e;return await OVe(n,i=>{r.update(i)}),r.digest()},LVe=t=>()=>Promise.reject(t),Ah=64,$Ve=16,NVe=[1732584193,4023233417,2562383102,271733878];class FVe{constructor(){nt(this,"state");nt(this,"buffer");nt(this,"bufferLength");nt(this,"bytesHashed");nt(this,"finished");this.reset()}update(e){if(BVe(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const n=UVe(e);let r=0,{byteLength:i}=n;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,n[r++]),i--,this.bufferLength===Ah&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:n,bufferLength:r,bytesHashed:i}=this,s=i*8;if(n.setUint8(this.bufferLength++,128),r%Ah>=Ah-8){for(let a=this.bufferLength;a<Ah;a++)n.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(let a=this.bufferLength;a<Ah-8;a++)n.setUint8(a,0);n.setUint32(Ah-8,s>>>0,!0),n.setUint32(Ah-4,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}const e=new DataView(new ArrayBuffer($Ve));for(let n=0;n<4;n++)e.setUint32(n*4,this.state[n],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}hashBuffer(){const{buffer:e,state:n}=this;let r=n[0],i=n[1],s=n[2],a=n[3];r=mo(r,i,s,a,e.getUint32(0,!0),7,3614090360),a=mo(a,r,i,s,e.getUint32(4,!0),12,3905402710),s=mo(s,a,r,i,e.getUint32(8,!0),17,606105819),i=mo(i,s,a,r,e.getUint32(12,!0),22,3250441966),r=mo(r,i,s,a,e.getUint32(16,!0),7,4118548399),a=mo(a,r,i,s,e.getUint32(20,!0),12,1200080426),s=mo(s,a,r,i,e.getUint32(24,!0),17,2821735955),i=mo(i,s,a,r,e.getUint32(28,!0),22,4249261313),r=mo(r,i,s,a,e.getUint32(32,!0),7,1770035416),a=mo(a,r,i,s,e.getUint32(36,!0),12,2336552879),s=mo(s,a,r,i,e.getUint32(40,!0),17,4294925233),i=mo(i,s,a,r,e.getUint32(44,!0),22,2304563134),r=mo(r,i,s,a,e.getUint32(48,!0),7,1804603682),a=mo(a,r,i,s,e.getUint32(52,!0),12,4254626195),s=mo(s,a,r,i,e.getUint32(56,!0),17,2792965006),i=mo(i,s,a,r,e.getUint32(60,!0),22,1236535329),r=go(r,i,s,a,e.getUint32(4,!0),5,4129170786),a=go(a,r,i,s,e.getUint32(24,!0),9,3225465664),s=go(s,a,r,i,e.getUint32(44,!0),14,643717713),i=go(i,s,a,r,e.getUint32(0,!0),20,3921069994),r=go(r,i,s,a,e.getUint32(20,!0),5,3593408605),a=go(a,r,i,s,e.getUint32(40,!0),9,38016083),s=go(s,a,r,i,e.getUint32(60,!0),14,3634488961),i=go(i,s,a,r,e.getUint32(16,!0),20,3889429448),r=go(r,i,s,a,e.getUint32(36,!0),5,568446438),a=go(a,r,i,s,e.getUint32(56,!0),9,3275163606),s=go(s,a,r,i,e.getUint32(12,!0),14,4107603335),i=go(i,s,a,r,e.getUint32(32,!0),20,1163531501),r=go(r,i,s,a,e.getUint32(52,!0),5,2850285829),a=go(a,r,i,s,e.getUint32(8,!0),9,4243563512),s=go(s,a,r,i,e.getUint32(28,!0),14,1735328473),i=go(i,s,a,r,e.getUint32(48,!0),20,2368359562),r=vo(r,i,s,a,e.getUint32(20,!0),4,4294588738),a=vo(a,r,i,s,e.getUint32(32,!0),11,2272392833),s=vo(s,a,r,i,e.getUint32(44,!0),16,1839030562),i=vo(i,s,a,r,e.getUint32(56,!0),23,4259657740),r=vo(r,i,s,a,e.getUint32(4,!0),4,2763975236),a=vo(a,r,i,s,e.getUint32(16,!0),11,1272893353),s=vo(s,a,r,i,e.getUint32(28,!0),16,4139469664),i=vo(i,s,a,r,e.getUint32(40,!0),23,3200236656),r=vo(r,i,s,a,e.getUint32(52,!0),4,681279174),a=vo(a,r,i,s,e.getUint32(0,!0),11,3936430074),s=vo(s,a,r,i,e.getUint32(12,!0),16,3572445317),i=vo(i,s,a,r,e.getUint32(24,!0),23,76029189),r=vo(r,i,s,a,e.getUint32(36,!0),4,3654602809),a=vo(a,r,i,s,e.getUint32(48,!0),11,3873151461),s=vo(s,a,r,i,e.getUint32(60,!0),16,530742520),i=vo(i,s,a,r,e.getUint32(8,!0),23,3299628645),r=yo(r,i,s,a,e.getUint32(0,!0),6,4096336452),a=yo(a,r,i,s,e.getUint32(28,!0),10,1126891415),s=yo(s,a,r,i,e.getUint32(56,!0),15,2878612391),i=yo(i,s,a,r,e.getUint32(20,!0),21,4237533241),r=yo(r,i,s,a,e.getUint32(48,!0),6,1700485571),a=yo(a,r,i,s,e.getUint32(12,!0),10,2399980690),s=yo(s,a,r,i,e.getUint32(40,!0),15,4293915773),i=yo(i,s,a,r,e.getUint32(4,!0),21,2240044497),r=yo(r,i,s,a,e.getUint32(32,!0),6,1873313359),a=yo(a,r,i,s,e.getUint32(60,!0),10,4264355552),s=yo(s,a,r,i,e.getUint32(24,!0),15,2734768916),i=yo(i,s,a,r,e.getUint32(52,!0),21,1309151649),r=yo(r,i,s,a,e.getUint32(16,!0),6,4149444226),a=yo(a,r,i,s,e.getUint32(44,!0),10,3174756917),s=yo(s,a,r,i,e.getUint32(8,!0),15,718787259),i=yo(i,s,a,r,e.getUint32(36,!0),21,3951481745),n[0]=r+n[0]&4294967295,n[1]=i+n[1]&4294967295,n[2]=s+n[2]&4294967295,n[3]=a+n[3]&4294967295}reset(){this.state=Uint32Array.from(NVe),this.buffer=new DataView(new ArrayBuffer(Ah)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function dA(t,e,n,r,i,s){return e=(e+t&4294967295)+(r+s&4294967295)&4294967295,(e<<i|e>>>32-i)+n&4294967295}function mo(t,e,n,r,i,s,a){return dA(e&n|~e&r,t,e,i,s,a)}function go(t,e,n,r,i,s,a){return dA(e&r|n&~r,t,e,i,s,a)}function vo(t,e,n,r,i,s,a){return dA(e^n^r,t,e,i,s,a)}function yo(t,e,n,r,i,s,a){return dA(n^(e|~r),t,e,i,s,a)}function BVe(t){return typeof t=="string"?t.length===0:t.byteLength===0}function UVe(t){return typeof t=="string"?Rp(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}const VVe=["in-region","cross-region","mobile","standard","legacy"],zVe=({defaultsMode:t}={})=>gLe(async()=>{const e=typeof t=="function"?await t():t;switch(e==null?void 0:e.toLowerCase()){case"auto":return Promise.resolve(HVe()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e==null?void 0:e.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${VVe.join(", ")}, got ${e}`)}}),HVe=()=>{var e;const t=window==null?void 0:window.navigator;if(t!=null&&t.connection){const{effectiveType:n,rtt:r,downlink:i}=t==null?void 0:t.connection;if(typeof n=="string"&&n!=="4g"||Number(r)>100||Number(i)<10)return!0}return((e=t==null?void 0:t.userAgentData)==null?void 0:e.mobile)||typeof(t==null?void 0:t.maxTouchPoints)=="number"&&(t==null?void 0:t.maxTouchPoints)>1},jVe=t=>({apiVersion:"2006-03-01",base64Decoder:(t==null?void 0:t.base64Decoder)??Qv,base64Encoder:(t==null?void 0:t.base64Encoder)??Im,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??ite,extensions:(t==null?void 0:t.extensions)??[],getAwsChunkedEncodingStream:(t==null?void 0:t.getAwsChunkedEncodingStream)??f6e,httpAuthSchemeProvider:(t==null?void 0:t.httpAuthSchemeProvider)??CFe,httpAuthSchemes:(t==null?void 0:t.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new GJ},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new G8e}],logger:(t==null?void 0:t.logger)??new a6,protocol:(t==null?void 0:t.protocol)??f$e,protocolSettings:(t==null?void 0:t.protocolSettings)??{defaultNamespace:"com.amazonaws.s3",xmlNamespace:"http://s3.amazonaws.com/doc/2006-03-01/",version:"2006-03-01",serviceTarget:"AmazonS3"},sdkStreamMixin:(t==null?void 0:t.sdkStreamMixin)??QJ,serviceId:(t==null?void 0:t.serviceId)??"S3",signerConstructor:(t==null?void 0:t.signerConstructor)??h6,signingEscapePath:(t==null?void 0:t.signingEscapePath)??!1,urlParser:(t==null?void 0:t.urlParser)??JT,useArnRegion:(t==null?void 0:t.useArnRegion)??void 0,utf8Decoder:(t==null?void 0:t.utf8Decoder)??Rp,utf8Encoder:(t==null?void 0:t.utf8Encoder)??Wy}),GVe=t=>{const e=zVe(t),n=()=>e().then(YLe),r=jVe(t);return{...r,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??WLe,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??oVe({serviceId:r.serviceId,clientVersion:H7e.version}),eventStreamSerdeProvider:(t==null?void 0:t.eventStreamSerdeProvider)??RVe,maxAttempts:(t==null?void 0:t.maxAttempts)??eC,md5:(t==null?void 0:t.md5)??FVe,region:(t==null?void 0:t.region)??LVe("Region is missing"),requestHandler:Q8.create((t==null?void 0:t.requestHandler)??n),retryMode:(t==null?void 0:t.retryMode)??(async()=>(await n()).retryMode||ONe),sha1:(t==null?void 0:t.sha1)??Z7e,sha256:(t==null?void 0:t.sha256)??aVe,streamCollector:(t==null?void 0:t.streamCollector)??YJ,streamHasher:(t==null?void 0:t.streamHasher)??MVe,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??(()=>Promise.resolve(pNe)),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??(()=>Promise.resolve(mNe))}},WVe=t=>({setRegion(e){t.region=e},region(){return t.region}}),qVe=t=>({region:t.region()}),XVe=t=>{const e=t.httpAuthSchemes;let n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(i){const s=e.findIndex(a=>a.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){n=i},httpAuthSchemeProvider(){return n},setCredentials(i){r=i},credentials(){return r}}},YVe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),KVe=(t,e)=>{const n=Object.assign(WVe(t),e$e(t),L8e(t),XVe(t));return e.forEach(r=>r.configure(n)),Object.assign(t,qVe(n),t$e(n),$8e(n),YVe(n))};class ZVe extends qLe{constructor(...[n]){const r=GVe(n||{});super(r);nt(this,"config");this.initConfig=r;const i=AFe(r),s=D5e(i),a=L$e(s),o=QNe(a),l=yNe(o),u=l,d=RNe(u),f=_Ne(d),h=EFe(f),g=g5e(h,{session:[()=>this,T7e]}),v=KVe(g,(n==null?void 0:n.extensions)||[]);this.config=v,this.middlewareStack.use(T6e(this.config)),this.middlewareStack.use(hNe(this.config)),this.middlewareStack.use(sFe(this.config)),this.middlewareStack.use(wNe(this.config)),this.middlewareStack.use(F$e(this.config)),this.middlewareStack.use(V$e(this.config)),this.middlewareStack.use(j$e(this.config)),this.middlewareStack.use(K8e(this.config,{httpAuthSchemeParametersProvider:wFe,identityProviderConfigProvider:async p=>new dLe({"aws.auth#sigv4":p.credentials,"aws.auth#sigv4a":p.credentials})})),this.middlewareStack.use(t6e(this.config)),this.middlewareStack.use(A5e(this.config)),this.middlewareStack.use(U8e(this.config)),this.middlewareStack.use(e5e(this.config)),this.middlewareStack.use(c5e(this.config)),this.middlewareStack.use(m5e(this.config))}destroy(){super.destroy()}}function QVe(t){return e=>async n=>{const r={...n.input},i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const s of i){const a=r[s.target];if(a){let o;typeof a=="string"?eze(a,t)?o=t.base64Decoder(a):(o=t.utf8Decoder(a),r[s.target]=t.base64Encoder(o)):(o=ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a),r[s.target]=t.base64Encoder(o));const l=new t.md5;l.update(o),r[s.hash]=t.base64Encoder(await l.digest())}}return e({...n,input:r})}}const JVe={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},r_=t=>({applyToStack:e=>{e.add(QVe(t),JVe)}});function eze(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}class tze extends Zu.classBuilder().ep({...Fc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,n,r,i){return[Nc(r,e.getEndpointParameterInstructions()),Vd(r),r_(r)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").sc(h7e).build(){}class nze extends Zu.classBuilder().ep({...Fc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,n,r,i){return[Nc(r,e.getEndpointParameterInstructions()),Vd(r),r_(r)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").sc(p7e).build(){}class rze extends Zu.classBuilder().ep({...Fc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,n,r,i){return[Nc(r,e.getEndpointParameterInstructions()),Vd(r)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").sc(g7e).build(){}class ize extends Zu.classBuilder().ep({...Fc,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,n,r,i){return[Nc(r,e.getEndpointParameterInstructions()),eA(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Vd(r)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").sc(v7e).build(){}class sze extends Zu.classBuilder().ep({...Fc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,n,r,i){return[Nc(r,e.getEndpointParameterInstructions()),eA(r,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),r_(r),r5e()]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").sc(y7e).build(){}class aze extends Zu.classBuilder().ep(Fc).m(function(e,n,r,i){return[Nc(r,e.getEndpointParameterInstructions()),Vd(r)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").sc(_7e).build(){}class oze extends Zu.classBuilder().ep({...Fc,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,n,r,i){return[Nc(r,e.getEndpointParameterInstructions()),Vd(r)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").sc(b7e).build(){}class lze extends Zu.classBuilder().ep({...Fc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,n,r,i){return[Nc(r,e.getEndpointParameterInstructions()),Vd(r),r_(r)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").sc(x7e).build(){}class uze extends Zu.classBuilder().ep({...Fc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,n,r,i){return[Nc(r,e.getEndpointParameterInstructions()),eA(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),Y$e(),Vd(r),r_(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").sc(w7e).build(){}class cze extends Zu.classBuilder().ep({...Fc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,n,r,i){return[Nc(r,e.getEndpointParameterInstructions()),eA(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),Vd(r),r_(r)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").sc(S7e).build(){}function dze(t){const{port:e,query:n}=t;let{protocol:r,path:i,hostname:s}=t;r&&r.slice(-1)!==":"&&(r+=":"),e&&(s+=`:${e}`),i&&i.charAt(0)!=="/"&&(i=`/${i}`);let a=n?XJ(n):"";a&&a[0]!=="?"&&(a=`?${a}`);let o="";if(t.username!=null||t.password!=null){const u=t.username??"",d=t.password??"";o=`${u}:${d}@`}let l="";return t.fragment&&(l=`#${t.fragment}`),`${r}//${o}${s}${i}${a}${l}`}const fze="UNSIGNED-PAYLOAD",hze="X-Amz-Content-Sha256";class sV{constructor(e){nt(this,"signer");const n={service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1,applyChecksum:e.applyChecksum||!1,...e};this.signer=new h6(n)}presign(e,{unsignableHeaders:n=new Set,hoistableHeaders:r=new Set,unhoistableHeaders:i=new Set,...s}={}){return this.prepareRequest(e,{unsignableHeaders:n,unhoistableHeaders:i,hoistableHeaders:r}),this.signer.presign(e,{expiresIn:900,unsignableHeaders:n,unhoistableHeaders:i,...s})}presignWithCredentials(e,n,{unsignableHeaders:r=new Set,hoistableHeaders:i=new Set,unhoistableHeaders:s=new Set,...a}={}){return this.prepareRequest(e,{unsignableHeaders:r,unhoistableHeaders:s,hoistableHeaders:i}),this.signer.presignWithCredentials(e,n,{expiresIn:900,unsignableHeaders:r,unhoistableHeaders:s,...a})}prepareRequest(e,{unsignableHeaders:n=new Set,unhoistableHeaders:r=new Set,hoistableHeaders:i=new Set}={}){n.add("content-type"),Object.keys(e.headers).map(l=>l.toLowerCase()).filter(l=>l.startsWith("x-amz-server-side-encryption")).forEach(l=>{i.has(l)||r.add(l)}),e.headers[hze]=fze;const s=e.headers.host,a=e.port,o=`${e.hostname}${e.port!=null?":"+a:""}`;(!s||s===e.hostname&&e.port!=null)&&(e.headers.host=o)}}const pze=async(t,e,n={})=>{var f,h,g;let r,i;if(typeof t.config.endpointProvider=="function"){const p=(h=(f=(await Nee(e.input,e.constructor,t.config)).properties)==null?void 0:f.authSchemes)==null?void 0:h[0];(p==null?void 0:p.name)==="sigv4a"?i=(g=p==null?void 0:p.signingRegionSet)==null?void 0:g.join(","):i=p==null?void 0:p.signingRegion,r=new sV({...t.config,signingName:p==null?void 0:p.signingName,region:async()=>i})}else r=new sV(t.config);const s=(v,p)=>async _=>{const{request:S}=_;if(!la.isInstance(S))throw new Error("Request to be presigned is not an valid HTTP request.");delete S.headers["amz-sdk-invocation-id"],delete S.headers["amz-sdk-request"],delete S.headers["x-amz-user-agent"];let C;const T={...n,signingRegion:n.signingRegion??p.signing_region??i,signingService:n.signingService??p.signing_service};return p.s3ExpressIdentity?C=await r.presignWithCredentials(S,p.s3ExpressIdentity,T):C=await r.presign(S,T),{response:{},output:{$metadata:{httpStatusCode:200},presigned:C}}},a="presignInterceptMiddleware",o=t.middlewareStack.clone();o.addRelativeTo(s,{name:a,relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});const l=e.resolveMiddleware(o,t.config,{}),{output:u}=await l({input:e.input}),{presigned:d}=u;return dze(d)};let y2=[],_2;const ku=t=>(_2!=null&&!t||(y2=[],ke.region==""&&(ke.platform=="cloudflare"?ke.region="auto":ke.region="us-east-1"),_2=new ZVe({forcePathStyle:!0,endpoint:ke.endpoint,credentials:{accessKeyId:ke.accessKey,secretAccessKey:ke.accessSecret},region:ke.region})),_2),mze=async(t,e,n,r,i,s)=>{const a=ku(!1);if(y2.push(a.send(new cze({Bucket:e,Key:n,UploadId:r,Body:t,PartNumber:i+1}))),y2.length==s){await Promise.all(y2);const o=await a.send(new lze({Bucket:e,Key:n,UploadId:r}));await a.send(new tze({Bucket:e,Key:n,UploadId:r,MultipartUpload:{Parts:o.Parts.map(({ETag:l,PartNumber:u})=>({ETag:l,PartNumber:u}))}})),_2=null,y2=[]}},gze=async(t,e)=>{const n=ku(!1),r=new sze({Bucket:t,Key:e});return await pze(n,r,{expiresIn:3600})},vze=async(t,e)=>(await ku(!1).send(new nze({Bucket:t,Key:e}))).UploadId,yze=async t=>{const e=ku(!1),n=new oze({Bucket:t,MaxKeys:1e3});try{let r=!0,i=[];for(;r;){const{Contents:s,IsTruncated:a,NextContinuationToken:o}=await e.send(n);s&&s.map(l=>{const u={key:l.Key,size:l.Size,timestamp:Sze(l.LastModified)/1e3};i.push(u)}),r=a,n.input.ContinuationToken=o}return i}catch(r){console.error(r)}},_ze=async(t,e)=>{const n=ku(!1),r=new ize({Bucket:t,Delete:{Objects:e}});try{const{Deleted:i}=await n.send(r);return i}catch(i){console.error(i)}},bze=async(t,e)=>{const n=ku(!1),r=new rze({Bucket:t,Key:e});try{return await n.send(r)}catch(i){console.error(i)}},xze=async(t,e,n)=>{const r=ku(!1),i=new uze({Bucket:t,Key:e,Body:n});try{const s=await r.send(i)}catch(s){console.error(s)}},wze=async()=>{const t=ku(!1),e=new aze({});try{return await t.send(e)}catch(n){console.error(n)}};function Sze(t){return Wn(t).valueOf()}var b2;typeof window<"u"?b2=window:typeof Da<"u"?b2=Da:typeof self<"u"?b2=self:b2={};var fA=b2;const et=Ra(fA);var aV=typeof Da<"u"?Da:typeof window<"u"?window:{},Tze=X8,x2;typeof document<"u"?x2=document:(x2=aV["__GLOBAL_DOCUMENT_CACHE@4"],x2||(x2=aV["__GLOBAL_DOCUMENT_CACHE@4"]=Tze));var sne=x2;const Cn=Ra(sne);var vL={exports:{}};function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qs.apply(null,arguments)}const Cze=Object.freeze(Object.defineProperty({__proto__:null,get default(){return qs}},Symbol.toStringTag,{value:"Module"})),Eze=OY(Cze);var Aze=kze,Pze=Object.prototype.toString;function kze(t){if(!t)return!1;var e=Pze.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function Dze(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Ize(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ize(t,e){if(t){if(typeof t=="string")return oV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oV(t,e)}}function oV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Rze=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(r,i){this.typeToInterceptorsMap_.has(r)||this.typeToInterceptorsMap_.set(r,new Set);var s=this.typeToInterceptorsMap_.get(r);return s.has(i)?!1:(s.add(i),!0)},e.removeInterceptor=function(r,i){var s=this.typeToInterceptorsMap_.get(r);return s&&s.has(i)?(s.delete(i),!0):!1},e.clearInterceptorsByType=function(r){var i=this.typeToInterceptorsMap_.get(r);return i?(this.typeToInterceptorsMap_.delete(r),this.typeToInterceptorsMap_.set(r,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(r){return this.typeToInterceptorsMap_.get(r)||new Set},e.execute=function(r,i){for(var s=this.getForType(r),a=Dze(s),o;!(o=a()).done;){var l=o.value;try{i=l(i)}catch{}}return i},t}(),Oze=Rze,Mze=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(r){this.maxAttempts_=r},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(r){this.delayFactor_=r},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(r){this.fuzzFactor_=r},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(r){this.initialDelay_=r},e.createRetry=function(r){var i=r===void 0?{}:r,s=i.maxAttempts,a=i.delayFactor,o=i.fuzzFactor,l=i.initialDelay;return new Lze({maxAttempts:s||this.maxAttempts_,delayFactor:a||this.delayFactor_,fuzzFactor:o||this.fuzzFactor_,initialDelay:l||this.initialDelay_})},t}(),Lze=function(){function t(n){this.maxAttempts_=n.maxAttempts,this.delayFactor_=n.delayFactor,this.fuzzFactor_=n.fuzzFactor,this.currentDelay_=n.initialDelay,this.currentAttempt_=1}var e=t.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var r=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+r},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var r=this.getCurrentMinPossibleDelay(),i=this.getCurrentMaxPossibleDelay();return r+Math.random()*(i-r)},t}(),$ze=Mze,Nze=fA,Fze=function(e,n){return n===void 0&&(n=!1),function(r,i,s){if(r){e(r);return}if(i.statusCode>=400&&i.statusCode<=599){var a=s;if(n)if(Nze.TextDecoder){var o=Bze(i.headers&&i.headers["content-type"]);try{a=new TextDecoder(o).decode(s)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:a});return}e(null,s)}};function Bze(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var r=n.split("="),i=r[0],s=r[1];return i.trim()==="charset"?s.trim():e},"utf-8")}var Uze=Fze,ane=fA,Vze=Eze,zze=Aze,one=Oze,Hze=$ze;Js.httpHandler=Uze;Js.requestInterceptorsStorage=new one;Js.responseInterceptorsStorage=new one;Js.retryManager=new Hze;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var jze=function(e){var n={};return e&&e.trim().split(`
`).forEach(function(r){var i=r.indexOf(":"),s=r.slice(0,i).trim().toLowerCase(),a=r.slice(i+1).trim();typeof n[s]>"u"?n[s]=a:Array.isArray(n[s])?n[s].push(a):n[s]=[n[s],a]}),n};vL.exports=Js;vL.exports.default=Js;Js.XMLHttpRequest=ane.XMLHttpRequest||Xze;Js.XDomainRequest="withCredentials"in new Js.XMLHttpRequest?Js.XMLHttpRequest:ane.XDomainRequest;Gze(["get","put","post","patch","head","delete"],function(t){Js[t==="delete"?"del":t]=function(e,n,r){return n=lne(e,n,r),n.method=t.toUpperCase(),yL(n)}});function Gze(t,e){for(var n=0;n<t.length;n++)e(t[n])}function Wze(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function lne(t,e,n){var r=t;return zze(e)?(n=e,typeof t=="string"&&(r={uri:t})):r=Vze({},e,{uri:t}),r.callback=n,r}function Js(t,e,n){return e=lne(t,e,n),yL(e)}function yL(t){if(typeof t.callback>"u")throw new Error("callback argument missing");if(t.requestType&&Js.requestInterceptorsStorage.getIsEnabled()){var e={uri:t.uri||t.url,headers:t.headers||{},body:t.body,metadata:t.metadata||{},retry:t.retry,timeout:t.timeout},n=Js.requestInterceptorsStorage.execute(t.requestType,e);t.uri=n.uri,t.headers=n.headers,t.body=n.body,t.metadata=n.metadata,t.retry=n.retry,t.timeout=n.timeout}var r=!1,i=function(P,D,R){r||(r=!0,t.callback(P,D,R))};function s(){u.readyState===4&&!Js.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function a(){var A=void 0;if(u.response?A=u.response:A=u.responseText||qze(u),S)try{A=JSON.parse(A)}catch{}return A}function o(A){if(clearTimeout(C),clearTimeout(t.retryTimeout),A instanceof Error||(A=new Error(""+(A||"Unknown XMLHttpRequest Error"))),A.statusCode=0,!f&&Js.retryManager.getIsEnabled()&&t.retry&&t.retry.shouldRetry()){t.retryTimeout=setTimeout(function(){t.retry.moveToNextAttempt(),t.xhr=u,yL(t)},t.retry.getCurrentFuzzedDelay());return}if(t.requestType&&Js.responseInterceptorsStorage.getIsEnabled()){var P={headers:T.headers||{},body:T.body,responseUrl:u.responseURL,responseType:u.responseType},D=Js.responseInterceptorsStorage.execute(t.requestType,P);T.body=D.body,T.headers=D.headers}return i(A,T)}function l(){if(!f){var A;clearTimeout(C),clearTimeout(t.retryTimeout),t.useXDR&&u.status===void 0?A=200:A=u.status===1223?204:u.status;var P=T,D=null;if(A!==0?(P={body:a(),statusCode:A,method:g,headers:{},url:h,rawRequest:u},u.getAllResponseHeaders&&(P.headers=jze(u.getAllResponseHeaders()))):D=new Error("Internal XMLHttpRequest Error"),t.requestType&&Js.responseInterceptorsStorage.getIsEnabled()){var R={headers:P.headers||{},body:P.body,responseUrl:u.responseURL,responseType:u.responseType},N=Js.responseInterceptorsStorage.execute(t.requestType,R);P.body=N.body,P.headers=N.headers}return i(D,P,P.body)}}var u=t.xhr||null;u||(t.cors||t.useXDR?u=new Js.XDomainRequest:u=new Js.XMLHttpRequest);var d,f,h=u.url=t.uri||t.url,g=u.method=t.method||"GET",v=t.body||t.data,p=u.headers=t.headers||{},_=!!t.sync,S=!1,C,T={body:void 0,headers:{},statusCode:0,method:g,url:h,rawRequest:u};if("json"in t&&t.json!==!1&&(S=!0,p.accept||p.Accept||(p.Accept="application/json"),g!=="GET"&&g!=="HEAD"&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),v=JSON.stringify(t.json===!0?v:t.json))),u.onreadystatechange=s,u.onload=l,u.onerror=o,u.onprogress=function(){},u.onabort=function(){f=!0,clearTimeout(t.retryTimeout)},u.ontimeout=o,u.open(g,h,!_,t.username,t.password),_||(u.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(C=setTimeout(function(){if(!f){f=!0,u.abort("timeout");var A=new Error("XMLHttpRequest timeout");A.code="ETIMEDOUT",o(A)}},t.timeout)),u.setRequestHeader)for(d in p)p.hasOwnProperty(d)&&u.setRequestHeader(d,p[d]);else if(t.headers&&!Wze(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(u),u.send(v||null),u}function qze(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function Xze(){}var Yze=vL.exports;const une=Ra(Yze);var cne={exports:{}},lV=sne,_L=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function tu(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}tu.prototype=_L(Error.prototype);tu.prototype.constructor=tu;tu.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function bL(t){function e(r,i,s,a){return(r|0)*3600+(i|0)*60+(s|0)+(a|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function ab(){this.values=_L(null)}ab.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function w2(t,e,n,r){var i=r?t.split(r):[t];for(var s in i)if(typeof i[s]=="string"){var a=i[s].split(n);if(a.length===2){var o=a[0].trim(),l=a[1].trim();e(o,l)}}}function Kze(t,e,n){var r=t;function i(){var o=bL(t);if(o===null)throw new tu(tu.Errors.BadTimeStamp,"Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,l){var u=new ab;w2(o,function(d,f){switch(d){case"region":for(var h=n.length-1;h>=0;h--)if(n[h].id===f){u.set(d,n[h].region);break}break;case"vertical":u.alt(d,f,["rl","lr"]);break;case"line":var g=f.split(","),v=g[0];u.integer(d,v),u.percent(d,v)&&u.set("snapToLines",!1),u.alt(d,v,["auto"]),g.length===2&&u.alt("lineAlign",g[1],["start","center","end"]);break;case"position":g=f.split(","),u.percent(d,g[0]),g.length===2&&u.alt("positionAlign",g[1],["start","center","end"]);break;case"size":u.percent(d,f);break;case"align":u.alt(d,f,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),t.substr(0,3)!=="-->")throw new tu(tu.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.substr(3),a(),e.endTime=i(),a(),s(t,e)}var sP=lV.createElement&&lV.createElement("textarea"),Zze={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},uV={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Qze={v:"title",lang:"lang"},cV={rt:"ruby"};function dne(t,e){function n(){if(!e)return null;function v(_){return e=e.substr(_.length),_}var p=e.match(/^([^<]*)(<[^>]*>?)?/);return v(p[1]?p[1]:p[2])}function r(v){return sP.innerHTML=v,v=sP.textContent,sP.textContent="",v}function i(v,p){return!cV[p.localName]||cV[p.localName]===v.localName}function s(v,p){var _=Zze[v];if(!_)return null;var S=t.document.createElement(_),C=Qze[v];return C&&p&&(S[C]=p.trim()),S}for(var a=t.document.createElement("div"),o=a,l,u=[];(l=n())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var d=bL(l.substr(1,l.length-2)),f;if(d){f=t.document.createProcessingInstruction("timestamp",d),o.appendChild(f);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(f=s(h[1],h[3]),!f)||!i(o,f))continue;if(h[2]){var g=h[2].split(".");g.forEach(function(v){var p=/^bg_/.test(v),_=p?v.slice(3):v;if(uV.hasOwnProperty(_)){var S=p?"background-color":"color",C=uV[_];f.style[S]=C}}),f.className=g.join(" ")}u.push(h[1]),o.appendChild(f),o=f;continue}o.appendChild(t.document.createTextNode(r(l)))}return a}var dV=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Jze(t){for(var e=0;e<dV.length;e++){var n=dV[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function eHe(t){var e=[],n="",r;if(!t||!t.childNodes)return"ltr";function i(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function s(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var d=u.match(/^.*(\n|\r)/);return d?(o.length=0,d[0]):u}if(l.tagName==="ruby")return s(o);if(l.childNodes)return i(o,l),s(o)}for(i(e,t);n=s(e);)for(var a=0;a<n.length;a++)if(r=n.charCodeAt(a),Jze(r))return"rtl";return"ltr"}function tHe(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,r=0,i=0;i<n.length&&n[i]!==e;i++)n[i].mode==="showing"&&r++;return++r*-1}function hA(){}hA.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])};hA.prototype.formatStyle=function(t,e){return t===0?0:t+e};function sC(t,e,n){hA.call(this),this.cue=e,this.cueDiv=dne(t,e.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=t.document.createElement("div"),r={direction:eHe(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":case"line-left":i=e.position;break;case"center":i=e.position-e.size/2;break;case"end":case"line-right":i=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}sC.prototype=_L(hA.prototype);sC.prototype.constructor=sC;function tl(t){var e,n,r,i;if(t.div){n=t.div.offsetHeight,r=t.div.offsetWidth,i=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||n,this.bottom=t.bottom||i+(t.height||n),this.width=t.width||r,this.lineHeight=e!==void 0?e:t.lineHeight}tl.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};tl.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};tl.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};tl.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};tl.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};tl.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),r=e*n;return r/(this.height*this.width)};tl.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};tl.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var i={left:t.left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||n};return i};function nHe(t,e,n,r){function i(_,S){for(var C,T=new tl(_),A=1,P=0;P<S.length;P++){for(;_.overlapsOppositeAxis(n,S[P])||_.within(n)&&_.overlapsAny(r);)_.move(S[P]);if(_.within(n))return _;var D=_.intersectPercentage(n);A>D&&(C=new tl(_),A=D),_=new tl(T)}return C||T}var s=new tl(e),a=e.cue,o=tHe(a),l=[];if(a.snapToLines){var u;switch(a.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var d=s.lineHeight,f=d*Math.round(o),h=n[u]+d,g=l[0];Math.abs(f)>h&&(f=f<0?-1:1,f*=Math.ceil(h/d)*d),o<0&&(f+=a.vertical===""?n.height:n.width,l=l.reverse()),s.move(g,f)}else{var v=s.lineHeight/n.height*100;switch(a.lineAlign){case"center":o-=v/2;break;case"end":o-=v;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],s=new tl(e)}var p=i(s,l);e.move(p.toCSSCompatValues(n))}function i_(){}i_.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};i_.convertCueToDOMTree=function(t,e){return!t||!e?null:dne(t,e)};var rHe=.05,iHe="sans-serif",sHe="1.5%";i_.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=t.document.createElement("div");r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=sHe,n.appendChild(r);function i(d){for(var f=0;f<d.length;f++)if(d[f].hasBeenReset||!d[f].displayState)return!0;return!1}if(!i(e)){for(var s=0;s<e.length;s++)r.appendChild(e[s].displayState);return}var a=[],o=tl.getSimpleBoxPosition(r),l=Math.round(o.height*rHe*100)/100,u={font:l+"px "+iHe};(function(){for(var d,f,h=0;h<e.length;h++)f=e[h],d=new sC(t,f,u),r.appendChild(d.div),nHe(t,d,o,a),f.displayState=d.div,a.push(tl.getSimpleBoxPosition(d))})()};i_.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};i_.Parser.prototype={reportOrThrowError:function(t){if(t instanceof tu)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var d=e.buffer,f=0;f<d.length&&d[f]!=="\r"&&d[f]!==`
`;)++f;var h=d.substr(0,f);return d[f]==="\r"&&++f,d[f]===`
`&&++f,e.buffer=d.substr(f),h}function r(d){var f=new ab;if(w2(d,function(g,v){switch(g){case"id":f.set(g,v);break;case"width":f.percent(g,v);break;case"lines":f.integer(g,v);break;case"regionanchor":case"viewportanchor":var p=v.split(",");if(p.length!==2)break;var _=new ab;if(_.percent("x",p[0]),_.percent("y",p[1]),!_.has("x")||!_.has("y"))break;f.set(g+"X",_.get("x")),f.set(g+"Y",_.get("y"));break;case"scroll":f.alt(g,v,["up"]);break}},/=/,/\s/),f.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=f.get("width",100),h.lines=f.get("lines",3),h.regionAnchorX=f.get("regionanchorX",0),h.regionAnchorY=f.get("regionanchorY",100),h.viewportAnchorX=f.get("viewportanchorX",0),h.viewportAnchorY=f.get("viewportanchorY",100),h.scroll=f.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:f.get("id"),region:h})}}function i(d){var f=new ab;w2(d,function(h,g){switch(h){case"MPEGT":f.integer(h+"S",g);break;case"LOCA":f.set(h+"L",bL(g));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:f.get("MPEGTS"),LOCAL:f.get("LOCAL")})}function s(d){d.match(/X-TIMESTAMP-MAP/)?w2(d,function(f,h){switch(f){case"X-TIMESTAMP-MAP":i(h);break}},/=/):w2(d,function(f,h){switch(f){case"Region":r(h);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=n();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new tu(tu.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=n(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{Kze(a,e.cue,e.regionList)}catch(d){e.reportOrThrowError(d),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=a.indexOf("-->")!==-1;if(!a||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(d){e.reportOrThrowError(d),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new tu(tu.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var aHe=i_,oHe="auto",lHe={"":1,lr:1,rl:1},uHe={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function cHe(t){if(typeof t!="string")return!1;var e=lHe[t.toLowerCase()];return e?t.toLowerCase():!1}function aP(t){if(typeof t!="string")return!1;var e=uHe[t.toLowerCase()];return e?t.toLowerCase():!1}function fne(t,e,n){this.hasBeenReset=!1;var r="",i=!1,s=t,a=e,o=n,l=null,u="",d=!0,f="auto",h="start",g="auto",v="auto",p=100,_="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(S){r=""+S}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(S){i=!!S}},startTime:{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number")throw new TypeError("Start time must be set to a number.");s=S,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(S){if(typeof S!="number")throw new TypeError("End time must be set to a number.");a=S,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(S){o=""+S,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(S){l=S,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(S){var C=cHe(S);if(C===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=C,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(S){d=!!S,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(S){if(typeof S!="number"&&S!==oHe)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=S,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(S){var C=aP(S);C?(h=C,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return g},set:function(S){if(S<0||S>100)throw new Error("Position must be between 0 and 100.");g=S,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(S){var C=aP(S);C?(v=C,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return p},set:function(S){if(S<0||S>100)throw new Error("Size must be between 0 and 100.");p=S,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return _},set:function(S){var C=aP(S);if(!C)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");_=C,this.hasBeenReset=!0}}}),this.displayState=void 0}fne.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var dHe=fne,fHe={"":!0,up:!0};function hHe(t){if(typeof t!="string")return!1;var e=fHe[t.toLowerCase()];return e?t.toLowerCase():!1}function F_(t){return typeof t=="number"&&t>=0&&t<=100}function pHe(){var t=100,e=3,n=0,r=100,i=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!F_(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(o){if(!F_(o))throw new Error("RegionAnchorX must be between 0 and 100.");r=o}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!F_(o))throw new Error("RegionAnchorY must be between 0 and 100.");n=o}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(o){if(!F_(o))throw new Error("ViewportAnchorY must be between 0 and 100.");s=o}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(o){if(!F_(o))throw new Error("ViewportAnchorX must be between 0 and 100.");i=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=hHe(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var mHe=pHe,Vf=fA,eg=cne.exports={WebVTT:aHe,VTTCue:dHe,VTTRegion:mHe};Vf.vttjs=eg;Vf.WebVTT=eg.WebVTT;var gHe=eg.VTTCue,vHe=eg.VTTRegion,yHe=Vf.VTTCue,_He=Vf.VTTRegion;eg.shim=function(){Vf.VTTCue=gHe,Vf.VTTRegion=vHe};eg.restore=function(){Vf.VTTCue=yHe,Vf.VTTRegion=_He};Vf.VTTCue||eg.shim();var bHe=cne.exports;const fV=Ra(bHe);var hV="https://example.com",pA=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=et.location&&et.location.href||"");var r=/^\/\//.test(e),i=!et.location&&!/\/\//i.test(e);e=new et.URL(e,et.location||hV);var s=new URL(n,e);return i?s.href.slice(hV.length):r?s.href.slice(s.protocol.length):s.href},xL=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(r,i){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(i)},e.off=function(r,i){if(!this.listeners[r])return!1;var s=this.listeners[r].indexOf(i);return this.listeners[r]=this.listeners[r].slice(0),this.listeners[r].splice(s,1),s>-1},e.trigger=function(r){var i=this.listeners[r];if(i)if(arguments.length===2)for(var s=i.length,a=0;a<s;++a)i[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=i.length,u=0;u<l;++u)i[u].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(r){this.on("data",function(i){r.push(i)})},t}(),xHe=function(e){return et.atob?et.atob(e):Buffer.from(e,"base64").toString("binary")};function hne(t){for(var e=xHe(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class wHe extends xL{constructor(){super(),this.buffer=""}push(e){let n;for(this.buffer+=e,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const SHe=String.fromCharCode(9),oP=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),n={};return e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),n},THe=function(){const t="[^=]*",e='"[^"]*"|[^,]*',n="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+n+")")},jo=function(t){const e={};if(!t)return e;const n=t.split(THe());let r=n.length,i;for(;r--;)n[r]!==""&&(i=/([^=]*)=(.*)/.exec(n[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e},pV=t=>{const e=t.split("x"),n={};return e[0]&&(n.width=parseInt(e[0],10)),e[1]&&(n.height=parseInt(e[1],10)),n};class CHe extends xL{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let n,r;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,a)=>{const o=a(e);return o===e?s:s.concat([o])},[e]).forEach(s=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),n=/^#EXTM3U/.exec(s),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),n){r={type:"tag",tagType:"inf"},n[1]&&(r.duration=parseFloat(n[1])),n[2]&&(r.title=n[2]),this.trigger("data",r);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),n){r={type:"tag",tagType:"targetduration"},n[1]&&(r.duration=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),n){r={type:"tag",tagType:"version"},n[1]&&(r.version=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){r={type:"tag",tagType:"media-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){r={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),n){r={type:"tag",tagType:"playlist-type"},n[1]&&(r.playlistType=n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),n){r=qs(oP(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",r);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),n){r={type:"tag",tagType:"allow-cache"},n[1]&&(r.allowed=!/NO/.test(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(s),n){if(r={type:"tag",tagType:"map"},n[1]){const a=jo(n[1]);a.URI&&(r.uri=a.URI),a.BYTERANGE&&(r.byterange=oP(a.BYTERANGE))}this.trigger("data",r);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),n){r={type:"tag",tagType:"stream-inf"},n[1]&&(r.attributes=jo(n[1]),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=pV(r.attributes.RESOLUTION)),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(s),n){r={type:"tag",tagType:"media"},n[1]&&(r.attributes=jo(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-ENDLIST/.exec(s),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(s),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),n){r={type:"tag",tagType:"program-date-time"},n[1]&&(r.dateTimeString=n[1],r.dateTimeObject=new Date(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(s),n){r={type:"tag",tagType:"key"},n[1]&&(r.attributes=jo(n[1]),r.attributes.IV&&(r.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),this.trigger("data",r);return}if(n=/^#EXT-X-START:(.*)$/.exec(s),n){r={type:"tag",tagType:"start"},n[1]&&(r.attributes=jo(n[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),n){r={type:"tag",tagType:"cue-out-cont"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),n){r={type:"tag",tagType:"cue-out"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-IN:?(.*)?$/.exec(s),n){r={type:"tag",tagType:"cue-in"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"skip"},r.attributes=jo(n[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(SHe)),this.trigger("data",r);return}if(n=/^#EXT-X-PART:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"part"},r.attributes=jo(n[1]),["DURATION"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/.test(r.attributes[a]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=oP(r.attributes.BYTERANGE)),this.trigger("data",r);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"server-control"},r.attributes=jo(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/.test(r.attributes[a]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"part-inf"},r.attributes=jo(n[1]),["PART-TARGET"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"preload-hint"},r.attributes=jo(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(r.attributes.hasOwnProperty(a)){r.attributes[a]=parseInt(r.attributes[a],10);const o=a==="BYTERANGE-LENGTH"?"length":"offset";r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[o]=r.attributes[a],delete r.attributes[a]}}),this.trigger("data",r);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"rendition-report"},r.attributes=jo(n[1]),["LAST-MSN","LAST-PART"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseInt(r.attributes[a],10))}),this.trigger("data",r);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"daterange"},r.attributes=jo(n[1]),["ID","CLASS"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=String(r.attributes[o]))}),["START-DATE","END-DATE"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=new Date(r.attributes[o]))}),["DURATION","PLANNED-DURATION"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=parseFloat(r.attributes[o]))}),["END-ON-NEXT"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=/YES/i.test(r.attributes[o]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=r.attributes[o].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const o in r.attributes){if(!a.test(o))continue;const l=/[0-9A-Fa-f]{6}/g.test(r.attributes[o]),u=/^\d+(\.\d+)?$/.test(r.attributes[o]);r.attributes[o]=l?r.attributes[o].toString(16):u?parseFloat(r.attributes[o]):String(r.attributes[o])}this.trigger("data",r);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(n=/^#EXT-X-I-FRAMES-ONLY/.exec(s),n){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(n=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(s),n){r={type:"tag",tagType:"content-steering"},r.attributes=jo(n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(s),n){r={type:"tag",tagType:"i-frame-playlist"},r.attributes=jo(n[1]),r.attributes.URI&&(r.uri=r.attributes.URI),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=pV(r.attributes.RESOLUTION)),r.attributes["AVERAGE-BANDWIDTH"]&&(r.attributes["AVERAGE-BANDWIDTH"]=parseInt(r.attributes["AVERAGE-BANDWIDTH"],10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),this.trigger("data",r);return}if(n=/^#EXT-X-DEFINE:(.*)$/.exec(s),n){r={type:"tag",tagType:"define"},r.attributes=jo(n[1]),this.trigger("data",r);return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:n,dataParser:r,segment:i}){typeof r!="function"&&(r=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:r(s),customType:n,segment:i}),!0})}addTagMapper({expression:e,map:n}){const r=i=>e.test(i)?n(i):i;this.tagMappers.push(r)}}const EHe=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Ph=function(t){const e={};return Object.keys(t).forEach(function(n){e[EHe(n)]=t[n]}),e},lP=function(t){const{serverControl:e,targetDuration:n,partTargetDuration:r}=t;if(!e)return;const i="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=n&&n*3,l=r&&r*2;n&&!e.hasOwnProperty(s)&&(e[s]=o,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[s]<o&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${o})`}),e[s]=o),r&&!e.hasOwnProperty(a)&&(e[a]=r*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),r&&e[a]<l&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${l}).`}),e[a]=l)};class AHe extends xL{constructor(e={}){super(),this.lineStream=new wHe,this.parseStream=new CHe,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const n=this,r=[];let i={},s,a,o=!1;const l=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let f=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let h=0,g=0;const v={};this.on("end",()=>{i.uri||!i.parts&&!i.preloadHints||(!i.map&&s&&(i.map=s),!i.key&&a&&(i.key=a),!i.timeline&&typeof f=="number"&&(i.timeline=f),this.manifest.preloadSegment=i)}),this.parseStream.on("data",function(p){let _,S;if(n.manifest.definitions){for(const C in n.manifest.definitions)if(p.uri&&(p.uri=p.uri.replace(`{$${C}}`,n.manifest.definitions[C])),p.attributes)for(const T in p.attributes)typeof p.attributes[T]=="string"&&(p.attributes[T]=p.attributes[T].replace(`{$${C}}`,n.manifest.definitions[C]))}({tag(){({version(){p.version&&(this.manifest.version=p.version)},"allow-cache"(){this.manifest.allowCache=p.allowed,"allowed"in p||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const C={};"length"in p&&(i.byterange=C,C.length=p.length,"offset"in p||(p.offset=h)),"offset"in p&&(i.byterange=C,C.offset=p.offset),h=C.offset+C.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),p.title&&(i.title=p.title),p.duration>0&&(i.duration=p.duration),p.duration===0&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!p.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(p.attributes.METHOD==="NONE"){a=null;return}if(!p.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(p.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:p.attributes};return}if(p.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:p.attributes.URI};return}if(p.attributes.KEYFORMAT===d){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(p.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(p.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),p.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(p.attributes.KEYID&&p.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:p.attributes.KEYFORMAT,keyId:p.attributes.KEYID.substring(2)},pssh:hne(p.attributes.URI.split(",")[1])};return}p.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:p.attributes.METHOD||"AES-128",uri:p.attributes.URI},typeof p.attributes.IV<"u"&&(a.iv=p.attributes.IV)},"media-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+p.number});return}this.manifest.mediaSequence=p.number},"discontinuity-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+p.number});return}this.manifest.discontinuitySequence=p.number,f=p.number},"playlist-type"(){if(!/VOD|EVENT/.test(p.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+p.playlist});return}this.manifest.playlistType=p.playlistType},map(){s={},p.uri&&(s.uri=p.uri),p.byterange&&(s.byterange=p.byterange),a&&(s.key=a)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!p.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}i.attributes||(i.attributes={}),qs(i.attributes,p.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(p.attributes&&p.attributes.TYPE&&p.attributes["GROUP-ID"]&&p.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const C=this.manifest.mediaGroups[p.attributes.TYPE];C[p.attributes["GROUP-ID"]]=C[p.attributes["GROUP-ID"]]||{},_=C[p.attributes["GROUP-ID"]],S={default:/yes/i.test(p.attributes.DEFAULT)},S.default?S.autoselect=!0:S.autoselect=/yes/i.test(p.attributes.AUTOSELECT),p.attributes.LANGUAGE&&(S.language=p.attributes.LANGUAGE),p.attributes.URI&&(S.uri=p.attributes.URI),p.attributes["INSTREAM-ID"]&&(S.instreamId=p.attributes["INSTREAM-ID"]),p.attributes.CHARACTERISTICS&&(S.characteristics=p.attributes.CHARACTERISTICS),p.attributes.FORCED&&(S.forced=/yes/i.test(p.attributes.FORCED)),_[p.attributes.NAME]=S},discontinuity(){f+=1,i.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=p.dateTimeString,this.manifest.dateTimeObject=p.dateTimeObject),i.dateTimeString=p.dateTimeString,i.dateTimeObject=p.dateTimeObject;const{lastProgramDateTime:C}=this;this.lastProgramDateTime=new Date(p.dateTimeString).getTime(),C===null&&this.manifest.segments.reduceRight((T,A)=>(A.programDateTime=T-A.duration*1e3,A.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(p.duration)||p.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+p.duration});return}this.manifest.targetDuration=p.duration,lP.call(this,this.manifest)},start(){if(!p.attributes||isNaN(p.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:p.attributes["TIME-OFFSET"],precise:p.attributes.PRECISE}},"cue-out"(){i.cueOut=p.data},"cue-out-cont"(){i.cueOutCont=p.data},"cue-in"(){i.cueIn=p.data},skip(){this.manifest.skip=Ph(p.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",p.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const C=this.manifest.segments.length,T=Ph(p.attributes);i.parts=i.parts||[],i.parts.push(T),T.byterange&&(T.byterange.hasOwnProperty("offset")||(T.byterange.offset=g),g=T.byterange.offset+T.byterange.length);const A=i.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${A} for segment #${C}`,p.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((P,D)=>{P.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${D} lacks required attribute(s): LAST-PART`})})},"server-control"(){const C=this.manifest.serverControl=Ph(p.attributes);C.hasOwnProperty("canBlockReload")||(C.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),lP.call(this,this.manifest),C.canSkipDateranges&&!C.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const C=this.manifest.segments.length,T=Ph(p.attributes),A=T.type&&T.type==="PART";i.preloadHints=i.preloadHints||[],i.preloadHints.push(T),T.byterange&&(T.byterange.hasOwnProperty("offset")||(T.byterange.offset=A?g:0,A&&(g=T.byterange.offset+T.byterange.length)));const P=i.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${P} for segment #${C}`,p.attributes,["TYPE","URI"]),!!T.type)for(let D=0;D<i.preloadHints.length-1;D++){const R=i.preloadHints[D];R.type&&R.type===T.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${P} for segment #${C} has the same TYPE ${T.type} as preload hint #${D}`})}},"rendition-report"(){const C=Ph(p.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(C);const T=this.manifest.renditionReports.length-1,A=["LAST-MSN","URI"];o&&A.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${T}`,p.attributes,A)},"part-inf"(){this.manifest.partInf=Ph(p.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",p.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),lP.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Ph(p.attributes));const C=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${C}`,p.attributes,["ID","START-DATE"]);const T=this.manifest.dateRanges[C];T.endDate&&T.startDate&&new Date(T.endDate)<new Date(T.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),T.duration&&T.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),T.plannedDuration&&T.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const A=!!T.endOnNext;if(A&&!T.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),A&&(T.duration||T.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),T.duration&&T.endDate){const D=T.startDate.getTime()+T.duration*1e3;this.manifest.dateRanges[C].endDate=new Date(D)}if(!v[T.id])v[T.id]=T;else{for(const D in v[T.id])if(T[D]&&JSON.stringify(v[T.id][D])!==JSON.stringify(T[D])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const P=this.manifest.dateRanges.findIndex(D=>D.id===T.id);this.manifest.dateRanges[P]=qs(this.manifest.dateRanges[P],T),v[T.id]=qs(v[T.id],T),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=Ph(p.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",p.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const C=(T,A)=>{if(T in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${T}`});return}this.manifest.definitions[T]=A};if("QUERYPARAM"in p.attributes){if("NAME"in p.attributes||"IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const T=this.params.get(p.attributes.QUERYPARAM);if(!T){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${p.attributes.QUERYPARAM}`});return}C(p.attributes.QUERYPARAM,decodeURIComponent(T));return}if("NAME"in p.attributes){if("IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in p.attributes)||typeof p.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${p.attributes.NAME}`});return}C(p.attributes.NAME,p.attributes.VALUE);return}if("IMPORT"in p.attributes){if(!this.mainDefinitions[p.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${p.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}C(p.attributes.IMPORT,this.mainDefinitions[p.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:p.attributes,uri:p.uri,timeline:f}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",p.attributes,["BANDWIDTH","URI"])}}[p.tagType]||l).call(n)},uri(){i.uri=p.uri,r.push(i),this.manifest.targetDuration&&!("duration"in i)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration),a&&(i.key=a),i.timeline=f,s&&(i.map=s),g=0,this.lastProgramDateTime!==null&&(i.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=i.duration*1e3),i={}},comment(){},custom(){p.segment?(i.custom=i.custom||{},i.custom[p.customType]=p.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[p.customType]=p.data)}})[p.type].call(n)})}requiredCompatibilityversion(e,n){(e<n||!e)&&this.trigger("warn",{message:`manifest must be at least version ${n}`})}warnOnMissingAttributes_(e,n,r){const i=[];r.forEach(function(s){n.hasOwnProperty(s)||i.push(s)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var um={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},PHe=["video","audio","text"],mV=["Video","Audio","Text"],pne=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,r,i){var s=("00"+Number(r).toString(16)).slice(-2),a=("00"+Number(i).toString(16)).slice(-2);return"avc1."+s+"00"+a})},cd=function(e){e===void 0&&(e="");var n=e.split(","),r=[];return n.forEach(function(i){i=i.trim();var s;PHe.forEach(function(a){var o=um[a].exec(i.toLowerCase());if(!(!o||o.length<=1)){s=a;var l=i.substring(0,o[1].length),u=i.replace(l,"");r.push({type:l,details:u,mediaType:a})}}),s||r.push({type:i,details:"",mediaType:"unknown"})}),r},kHe=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var r=e.mediaGroups.AUDIO[n];if(!r)return null;for(var i in r){var s=r[i];if(s.default&&s.playlists)return cd(s.playlists[0].attributes.CODECS)}return null},mne=function(e){return e===void 0&&(e=""),um.audio.test(e.trim().toLowerCase())},DHe=function(e){return e===void 0&&(e=""),um.text.test(e.trim().toLowerCase())},ry=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(s){return pne(s.trim())}),r="video";n.length===1&&mne(n[0])?r="audio":n.length===1&&DHe(n[0])&&(r="application");var i="mp4";return n.every(function(s){return um.mp4.test(s)})?i="mp4":n.every(function(s){return um.webm.test(s)})?i="webm":n.every(function(s){return um.ogg.test(s)})&&(i="ogg"),r+"/"+i+';codecs="'+e+'"'}},ob=function(e,n){return e===void 0&&(e=""),n===void 0&&(n=!1),et.MediaSource&&et.MediaSource.isTypeSupported&&et.MediaSource.isTypeSupported(ry(e))||n&&et.ManagedMediaSource&&et.ManagedMediaSource.isTypeSupported&&et.ManagedMediaSource.isTypeSupported(ry(e))||!1},uP=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var r=0;r<mV.length;r++){var i=mV[r];if(um["muxer"+i].test(n))return!0}return!1})},gV="mp4a.40.2",IHe="avc1.4d400d",RHe=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,OHe=/^application\/dash\+xml/i,gne=function(e){return RHe.test(e)?"hls":OHe.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},MHe=function(e){return e.toString(2).length},LHe=function(e){return Math.ceil(MHe(e)/8)},vne=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},$He=function(e){return vne(e)},xr=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!$He(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},to=et.BigInt||Number,$I=[to("0x1"),to("0x100"),to("0x10000"),to("0x1000000"),to("0x100000000"),to("0x10000000000"),to("0x1000000000000"),to("0x100000000000000"),to("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var NHe=function(e,n){var r=n===void 0?{}:n,i=r.signed,s=i===void 0?!1:i,a=r.le,o=a===void 0?!1:a;e=xr(e);var l=o?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],d=u.call(e,function(h,g,v){var p=o?v:Math.abs(v+1-e.length);return h+to(g)*$I[p]},to(0));if(s){var f=$I[e.length]/to(2)-to(1);d=to(d),d>f&&(d-=f,d-=f,d-=to(2))}return Number(d)},FHe=function(e,n){var r=n===void 0?{}:n,i=r.le,s=i===void 0?!1:i;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=to(e);for(var a=LHe(e),o=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var u=s?l:Math.abs(l+1-o.length);o[u]=Number(e/$I[l]&to(255)),e<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},yne=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r},BHe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n=n.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),n.length<=1)return xr(n[0]);var i=n.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),s=new Uint8Array(i),a=0;return n.forEach(function(o){o=xr(o),s.set(o,a),a+=o.byteLength}),s},Ss=function(e,n,r){var i=r===void 0?{}:r,s=i.offset,a=s===void 0?0:s,o=i.mask,l=o===void 0?[]:o;e=xr(e),n=xr(n);var u=n.every?n.every:Array.prototype.every;return n.length&&e.length-a>=n.length&&u.call(n,function(d,f){var h=l[f]?l[f]&e[a+f]:e[a+f];return d===h})},UHe=function(e,n,r){n.forEach(function(i){for(var s in e.mediaGroups[i])for(var a in e.mediaGroups[i][s]){var o=e.mediaGroups[i][s][a];r(o,i,s,a)}})},Xp={},ph={};function VHe(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var r=0;r<t.length;r++)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];if(e.call(void 0,i,r,t))return i}}function wL(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function zHe(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var _ne=wL({HTML:"text/html",isHTML:function(t){return t===_ne.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),bne=wL({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===bne.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});ph.assign=zHe;ph.find=VHe;ph.freeze=wL;ph.MIME_TYPE=_ne;ph.NAMESPACE=bne;var xne=ph,kd=xne.find,l1=xne.NAMESPACE;function HHe(t){return t!==""}function jHe(t){return t?t.split(/[\t\n\f\r ]+/).filter(HHe):[]}function GHe(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function vV(t){if(!t)return[];var e=jHe(t);return Object.keys(e.reduce(GHe,{}))}function WHe(t){return function(e){return t&&t.indexOf(e)!==-1}}function gx(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function Ul(t,e){var n=t.prototype;if(!(n instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,gx(n,r),t.prototype=n=r}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var Vl={},Bu=Vl.ELEMENT_NODE=1,iy=Vl.ATTRIBUTE_NODE=2,aC=Vl.TEXT_NODE=3,wne=Vl.CDATA_SECTION_NODE=4,Sne=Vl.ENTITY_REFERENCE_NODE=5,qHe=Vl.ENTITY_NODE=6,Tne=Vl.PROCESSING_INSTRUCTION_NODE=7,Cne=Vl.COMMENT_NODE=8,Ene=Vl.DOCUMENT_NODE=9,Ane=Vl.DOCUMENT_TYPE_NODE=10,zf=Vl.DOCUMENT_FRAGMENT_NODE=11,XHe=Vl.NOTATION_NODE=12,Bo={},Xa={};Bo.INDEX_SIZE_ERR=(Xa[1]="Index size error",1);Bo.DOMSTRING_SIZE_ERR=(Xa[2]="DOMString size error",2);var Sl=Bo.HIERARCHY_REQUEST_ERR=(Xa[3]="Hierarchy request error",3);Bo.WRONG_DOCUMENT_ERR=(Xa[4]="Wrong document",4);Bo.INVALID_CHARACTER_ERR=(Xa[5]="Invalid character",5);Bo.NO_DATA_ALLOWED_ERR=(Xa[6]="No data allowed",6);Bo.NO_MODIFICATION_ALLOWED_ERR=(Xa[7]="No modification allowed",7);var Pne=Bo.NOT_FOUND_ERR=(Xa[8]="Not found",8);Bo.NOT_SUPPORTED_ERR=(Xa[9]="Not supported",9);var yV=Bo.INUSE_ATTRIBUTE_ERR=(Xa[10]="Attribute in use",10);Bo.INVALID_STATE_ERR=(Xa[11]="Invalid state",11);Bo.SYNTAX_ERR=(Xa[12]="Syntax error",12);Bo.INVALID_MODIFICATION_ERR=(Xa[13]="Invalid modification",13);Bo.NAMESPACE_ERR=(Xa[14]="Invalid namespace",14);Bo.INVALID_ACCESS_ERR=(Xa[15]="Invalid access",15);function ea(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Xa[t]),this.message=Xa[t],Error.captureStackTrace&&Error.captureStackTrace(this,ea);return n.code=t,e&&(this.message=this.message+": "+e),n}ea.prototype=Error.prototype;gx(Bo,ea);function Rf(){}Rf.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)qg(this[r],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function sy(t,e){this._node=t,this._refresh=e,SL(this)}function SL(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var n=t._refresh(t._node);if(Une(t,"length",n.length),!t.$$length||n.length<t.$$length)for(var r=n.length;r in t;r++)Object.prototype.hasOwnProperty.call(t,r)&&delete t[r];gx(n,t),t._inc=e}}sy.prototype.item=function(t){return SL(this),this[t]||null};Ul(sy,Rf);function oC(){}function kne(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function _V(t,e,n,r){if(r?e[kne(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&Rne(i,t,r),YHe(i,t,n))}}function bV(t,e,n){var r=kne(e,n);if(r>=0){for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var s=t.ownerDocument;s&&(Rne(s,t,n),n.ownerElement=null)}}else throw new ea(Pne,new Error(t.tagName+"@"+n))}oC.prototype={length:0,item:Rf.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new ea(yV);var n=this.getNamedItem(t.nodeName);return _V(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new ea(yV);return n=this.getNamedItemNS(t.namespaceURI,t.localName),_V(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return bV(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return bV(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}};function Dne(){}Dne.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var r=new vx;if(r.implementation=this,r.childNodes=new Rf,r.doctype=n||null,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new mA;return r.name=t,r.nodeName=t,r.publicId=e||"",r.systemId=n||"",r}};function Gi(){}Gi.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return lC(this,t,e)},replaceChild:function(t,e){lC(this,t,e,Mne),e&&this.removeChild(e)},removeChild:function(t){return One(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return NI(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==aC&&t.nodeType==aC?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===t)return r}e=e.nodeType==iy?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==iy?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function Ine(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}gx(Vl,Gi);gx(Vl,Gi.prototype);function u1(t,e){if(e(t))return!0;if(t=t.firstChild)do if(u1(t,e))return!0;while(t=t.nextSibling)}function vx(){this.ownerDocument=this}function YHe(t,e,n){t&&t._inc++;var r=n.namespaceURI;r===l1.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function Rne(t,e,n,r){t&&t._inc++;var i=n.namespaceURI;i===l1.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function TL(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,s=0;i;)r[s++]=i,i=i.nextSibling;r.length=s,delete r[r.length]}}}function One(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,TL(t.ownerDocument,t),e}function KHe(t){return t&&(t.nodeType===Gi.DOCUMENT_NODE||t.nodeType===Gi.DOCUMENT_FRAGMENT_NODE||t.nodeType===Gi.ELEMENT_NODE)}function ZHe(t){return t&&(Dd(t)||CL(t)||Hf(t)||t.nodeType===Gi.DOCUMENT_FRAGMENT_NODE||t.nodeType===Gi.COMMENT_NODE||t.nodeType===Gi.PROCESSING_INSTRUCTION_NODE)}function Hf(t){return t&&t.nodeType===Gi.DOCUMENT_TYPE_NODE}function Dd(t){return t&&t.nodeType===Gi.ELEMENT_NODE}function CL(t){return t&&t.nodeType===Gi.TEXT_NODE}function xV(t,e){var n=t.childNodes||[];if(kd(n,Dd)||Hf(e))return!1;var r=kd(n,Hf);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function wV(t,e){var n=t.childNodes||[];function r(s){return Dd(s)&&s!==e}if(kd(n,r))return!1;var i=kd(n,Hf);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function QHe(t,e,n){if(!KHe(t))throw new ea(Sl,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new ea(Pne,"child not in parent");if(!ZHe(e)||Hf(e)&&t.nodeType!==Gi.DOCUMENT_NODE)throw new ea(Sl,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function JHe(t,e,n){var r=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Gi.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Dd);if(s.length>1||kd(i,CL))throw new ea(Sl,"More than one element or text in fragment");if(s.length===1&&!xV(t,n))throw new ea(Sl,"Element in fragment can not be inserted before doctype")}if(Dd(e)&&!xV(t,n))throw new ea(Sl,"Only one element can be added and only after doctype");if(Hf(e)){if(kd(r,Hf))throw new ea(Sl,"Only one doctype is allowed");var a=kd(r,Dd);if(n&&r.indexOf(a)<r.indexOf(n))throw new ea(Sl,"Doctype can only be inserted before an element");if(!n&&a)throw new ea(Sl,"Doctype can not be appended since element is present")}}function Mne(t,e,n){var r=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Gi.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Dd);if(s.length>1||kd(i,CL))throw new ea(Sl,"More than one element or text in fragment");if(s.length===1&&!wV(t,n))throw new ea(Sl,"Element in fragment can not be inserted before doctype")}if(Dd(e)&&!wV(t,n))throw new ea(Sl,"Only one element can be added and only after doctype");if(Hf(e)){if(kd(r,function(l){return Hf(l)&&l!==n}))throw new ea(Sl,"Only one doctype is allowed");var a=kd(r,Dd);if(n&&r.indexOf(a)<r.indexOf(n))throw new ea(Sl,"Doctype can only be inserted before an element")}}function lC(t,e,n,r){QHe(t,e,n),t.nodeType===Gi.DOCUMENT_NODE&&(r||JHe)(t,e,n);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===zf){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=n?n.previousSibling:t.lastChild;s.previousSibling=o,a.nextSibling=n,o?o.nextSibling=s:t.firstChild=s,n==null?t.lastChild=a:n.previousSibling=a;do{s.parentNode=t;var l=t.ownerDocument||t;c1(s,l)}while(s!==a&&(s=s.nextSibling));return TL(t.ownerDocument||t,t),e.nodeType==zf&&(e.firstChild=e.lastChild=null),e}function c1(t,e){if(t.ownerDocument!==e){if(t.ownerDocument=e,t.nodeType===Bu&&t.attributes)for(var n=0;n<t.attributes.length;n++){var r=t.attributes.item(n);r&&(r.ownerDocument=e)}for(var i=t.firstChild;i;)c1(i,e),i=i.nextSibling}}function eje(t,e){e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,TL(t.ownerDocument,t,e);var n=t.ownerDocument||t;return c1(e,n),e}vx.prototype={nodeName:"#document",nodeType:Ene,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==zf){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return lC(this,t,e),c1(t,this),this.documentElement===null&&t.nodeType===Bu&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),One(this,t)},replaceChild:function(t,e){lC(this,t,e,Mne),c1(t,this),e&&this.removeChild(e),Dd(t)&&(this.documentElement=t)},importNode:function(t,e){return Bne(this,t,e)},getElementById:function(t){var e=null;return u1(this.documentElement,function(n){if(n.nodeType==Bu&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=vV(t);return new sy(this,function(n){var r=[];return e.length>0&&u1(n.documentElement,function(i){if(i!==n&&i.nodeType===Bu){var s=i.getAttribute("class");if(s){var a=t===s;if(!a){var o=vV(s);a=e.every(WHe(o))}a&&r.push(i)}}}),r})},createElement:function(t){var e=new Rm;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Rf;var n=e.attributes=new oC;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new gA;return t.ownerDocument=this,t.childNodes=new Rf,t},createTextNode:function(t){var e=new EL;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new AL;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new PL;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new DL;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new uC;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new kL;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new Rm,r=e.split(":"),i=n.attributes=new oC;return n.childNodes=new Rf,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new uC,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}};Ul(vx,Gi);function Rm(){this._nsMap={}}Rm.prototype={nodeType:Bu,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===zf?this.insertBefore(t,null):eje(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new sy(this,function(e){var n=[];return u1(e,function(r){r!==e&&r.nodeType==Bu&&(t==="*"||r.tagName==t)&&n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new sy(this,function(n){var r=[];return u1(n,function(i){i!==n&&i.nodeType===Bu&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&r.push(i)}),r})}};vx.prototype.getElementsByTagName=Rm.prototype.getElementsByTagName;vx.prototype.getElementsByTagNameNS=Rm.prototype.getElementsByTagNameNS;Ul(Rm,Gi);function uC(){}uC.prototype.nodeType=iy;Ul(uC,Gi);function yx(){}yx.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Xa[Sl])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),i=this.data.substring(t+e);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}};Ul(yx,Gi);function EL(){}EL.prototype={nodeName:"#text",nodeType:aC,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};Ul(EL,yx);function AL(){}AL.prototype={nodeName:"#comment",nodeType:Cne};Ul(AL,yx);function PL(){}PL.prototype={nodeName:"#cdata-section",nodeType:wne};Ul(PL,yx);function mA(){}mA.prototype.nodeType=Ane;Ul(mA,Gi);function Lne(){}Lne.prototype.nodeType=XHe;Ul(Lne,Gi);function $ne(){}$ne.prototype.nodeType=qHe;Ul($ne,Gi);function kL(){}kL.prototype.nodeType=Sne;Ul(kL,Gi);function gA(){}gA.prototype.nodeName="#document-fragment";gA.prototype.nodeType=zf;Ul(gA,Gi);function DL(){}DL.prototype.nodeType=Tne;Ul(DL,Gi);function Nne(){}Nne.prototype.serializeToString=function(t,e,n){return Fne.call(t,e,n)};Gi.prototype.toString=Fne;function Fne(t,e){var n=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,s=r.namespaceURI;if(s&&i==null){var i=r.lookupPrefix(s);if(i==null)var a=[{namespace:s,prefix:null}]}return qg(this,n,t,e,a),n.join("")}function SV(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!i||r==="xml"&&i===l1.XML||i===l1.XMLNS)return!1;for(var s=n.length;s--;){var a=n[s];if(a.prefix===r)return a.namespace!==i}return!0}function cP(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,Ine),'"')}function qg(t,e,n,r,i){if(i||(i=[]),r)if(t=r(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Bu:var s=t.attributes,a=s.length,S=t.firstChild,o=t.tagName;n=l1.isHTML(t.namespaceURI)||n;var l=o;if(!n&&!t.prefix&&t.namespaceURI){for(var u,d=0;d<s.length;d++)if(s.item(d).name==="xmlns"){u=s.item(d).value;break}if(!u)for(var f=i.length-1;f>=0;f--){var h=i[f];if(h.prefix===""&&h.namespace===t.namespaceURI){u=h.namespace;break}}if(u!==t.namespaceURI)for(var f=i.length-1;f>=0;f--){var h=i[f];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+o);break}}}e.push("<",l);for(var g=0;g<a;g++){var v=s.item(g);v.prefix=="xmlns"?i.push({prefix:v.localName,namespace:v.value}):v.nodeName=="xmlns"&&i.push({prefix:"",namespace:v.value})}for(var g=0;g<a;g++){var v=s.item(g);if(SV(v,n,i)){var p=v.prefix||"",_=v.namespaceURI;cP(e,p?"xmlns:"+p:"xmlns",_),i.push({prefix:p,namespace:_})}qg(v,e,n,r,i)}if(o===l&&SV(t,n,i)){var p=t.prefix||"",_=t.namespaceURI;cP(e,p?"xmlns:"+p:"xmlns",_),i.push({prefix:p,namespace:_})}if(S||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),n&&/^script$/i.test(o))for(;S;)S.data?e.push(S.data):qg(S,e,n,r,i.slice()),S=S.nextSibling;else for(;S;)qg(S,e,n,r,i.slice()),S=S.nextSibling;e.push("</",l,">")}else e.push("/>");return;case Ene:case zf:for(var S=t.firstChild;S;)qg(S,e,n,r,i.slice()),S=S.nextSibling;return;case iy:return cP(e,t.name,t.value);case aC:return e.push(t.data.replace(/[<&>]/g,Ine));case wne:return e.push("<![CDATA[",t.data,"]]>");case Cne:return e.push("<!--",t.data,"-->");case Ane:var C=t.publicId,T=t.systemId;if(e.push("<!DOCTYPE ",t.name),C)e.push(" PUBLIC ",C),T&&T!="."&&e.push(" ",T),e.push(">");else if(T&&T!=".")e.push(" SYSTEM ",T,">");else{var A=t.internalSubset;A&&e.push(" [",A,"]"),e.push(">")}return;case Tne:return e.push("<?",t.target," ",t.data,"?>");case Sne:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function Bne(t,e,n){var r;switch(e.nodeType){case Bu:r=e.cloneNode(!1),r.ownerDocument=t;case zf:break;case iy:n=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var i=e.firstChild;i;)r.appendChild(Bne(t,i,n)),i=i.nextSibling;return r}function NI(t,e,n){var r=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s!="object"&&s!=r[i]&&(r[i]=s)}switch(e.childNodes&&(r.childNodes=new Rf),r.ownerDocument=t,r.nodeType){case Bu:var a=e.attributes,o=r.attributes=new oC,l=a.length;o._ownerElement=r;for(var u=0;u<l;u++)r.setAttributeNode(NI(t,a.item(u),!0));break;case iy:n=!0}if(n)for(var d=e.firstChild;d;)r.appendChild(NI(t,d,n)),d=d.nextSibling;return r}function Une(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Bu:case zf:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(sy.prototype,"length",{get:function(){return SL(this),this.$$length}}),Object.defineProperty(Gi.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Bu:case zf:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Une=function(e,n,r){e["$$"+n]=r}}}catch{}Xp.DocumentType=mA;Xp.DOMException=ea;Xp.DOMImplementation=Dne;Xp.Element=Rm;Xp.Node=Gi;Xp.NodeList=Rf;Xp.XMLSerializer=Nne;var vA={},Vne={};(function(t){var e=ph.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(Vne);var IL={},d1=ph.NAMESPACE,FI=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,TV=new RegExp("[\\-\\.0-9"+FI.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),CV=new RegExp("^"+FI.source+TV.source+"*(?::"+FI.source+TV.source+"*)?$"),B_=0,kh=1,wg=2,U_=3,Sg=4,Tg=5,V_=6,ww=7;function ay(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,ay)}ay.prototype=new Error;ay.prototype.name=ay.name;function zne(){}zne.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),Hne(e,e={}),tje(t,e,n,r,this.errorHandler),r.endDocument()}};function tje(t,e,n,r,i){function s(te){if(te>65535){te-=65536;var G=55296+(te>>10),K=56320+(te&1023);return String.fromCharCode(G,K)}else return String.fromCharCode(te)}function a(te){var G=te.slice(1,-1);return Object.hasOwnProperty.call(n,G)?n[G]:G.charAt(0)==="#"?s(parseInt(G.substr(1).replace("x","0x"))):(i.error("entity not found:"+te),te)}function o(te){if(te>p){var G=t.substring(p,te).replace(/&#?\w+;/g,a);h&&l(p),r.characters(G,0,te-p),p=te}}function l(te,G){for(;te>=d&&(G=f.exec(t));)u=G.index,d=u+G[0].length,h.lineNumber++;h.columnNumber=te-u+1}for(var u=0,d=0,f=/.*(?:\r\n?|\n)|.*$/g,h=r.locator,g=[{currentNSMap:e}],v={},p=0;;){try{var _=t.indexOf("<",p);if(_<0){if(!t.substr(p).match(/^\s*$/)){var S=r.doc,C=S.createTextNode(t.substr(p));S.appendChild(C),r.currentElement=C}return}switch(_>p&&o(_),t.charAt(_+1)){case"/":var H=t.indexOf(">",_+3),T=t.substring(_+2,H).replace(/[ \t\n\r]+$/g,""),A=g.pop();H<0?(T=t.substring(_+2).replace(/[\s<].*/,""),i.error("end tag name: "+T+" is not complete:"+A.tagName),H=_+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),i.error("end tag name: "+T+" maybe not complete"),H=_+1+T.length);var P=A.localNSMap,D=A.tagName==T,R=D||A.tagName&&A.tagName.toLowerCase()==T.toLowerCase();if(R){if(r.endElement(A.uri,A.localName,T),P)for(var N in P)Object.prototype.hasOwnProperty.call(P,N)&&r.endPrefixMapping(N);D||i.fatalError("end tag name: "+T+" is not match the current start tagName:"+A.tagName)}else g.push(A);H++;break;case"?":h&&l(_),H=aje(t,_,r);break;case"!":h&&l(_),H=sje(t,_,r,i);break;default:h&&l(_);var U=new jne,Y=g[g.length-1].currentNSMap,H=nje(t,_,U,Y,a,i),j=U.length;if(!U.closed&&ije(t,H,U.tagName,v)&&(U.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),h&&j){for(var X=EV(h,{}),W=0;W<j;W++){var F=U[W];l(F.offset),F.locator=EV(h,{})}r.locator=X,AV(U,r,Y)&&g.push(U),r.locator=h}else AV(U,r,Y)&&g.push(U);d1.isHTML(U.uri)&&!U.closed?H=rje(t,H,U.tagName,a,r):H++}}catch(te){if(te instanceof ay)throw te;i.error("element parse error: "+te),H=-1}H>p?p=H:o(Math.max(_,p)+1)}}function EV(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function nje(t,e,n,r,i,s){function a(h,g,v){n.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),n.addValue(h,g.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),v)}for(var o,l,u=++e,d=B_;;){var f=t.charAt(u);switch(f){case"=":if(d===kh)o=t.slice(e,u),d=U_;else if(d===wg)d=U_;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===U_||d===kh)if(d===kh&&(s.warning('attribute value must after "="'),o=t.slice(e,u)),e=u+1,u=t.indexOf(f,e),u>0)l=t.slice(e,u),a(o,l,e-1),d=Tg;else throw new Error("attribute value no end '"+f+"' match");else if(d==Sg)l=t.slice(e,u),a(o,l,e),s.warning('attribute "'+o+'" missed start quot('+f+")!!"),e=u+1,d=Tg;else throw new Error('attribute value must after "="');break;case"/":switch(d){case B_:n.setTagName(t.slice(e,u));case Tg:case V_:case ww:d=ww,n.closed=!0;case Sg:case kh:break;case wg:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),d==B_&&n.setTagName(t.slice(e,u)),u;case">":switch(d){case B_:n.setTagName(t.slice(e,u));case Tg:case V_:case ww:break;case Sg:case kh:l=t.slice(e,u),l.slice(-1)==="/"&&(n.closed=!0,l=l.slice(0,-1));case wg:d===wg&&(l=o),d==Sg?(s.warning('attribute "'+l+'" missed quot(")!'),a(o,l,e)):((!d1.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case U_:throw new Error("attribute value missed!!")}return u;case"":f=" ";default:if(f<=" ")switch(d){case B_:n.setTagName(t.slice(e,u)),d=V_;break;case kh:o=t.slice(e,u),d=wg;break;case Sg:var l=t.slice(e,u);s.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case Tg:d=V_;break}else switch(d){case wg:n.tagName,(!d1.isHTML(r[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=u,d=kh;break;case Tg:s.warning('attribute space is required"'+o+'"!!');case V_:d=kh,e=u;break;case U_:d=Sg,e=u;break;case ww:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function AV(t,e,n){for(var r=t.tagName,i=null,f=t.length;f--;){var s=t[f],a=s.qName,o=s.value,h=a.indexOf(":");if(h>0)var l=s.prefix=a.slice(0,h),u=a.slice(h+1),d=l==="xmlns"&&u;else u=a,l=null,d=a==="xmlns"&&"";s.localName=u,d!==!1&&(i==null&&(i={},Hne(n,n={})),n[d]=i[d]=o,s.uri=d1.XMLNS,e.startPrefixMapping(d,o))}for(var f=t.length;f--;){s=t[f];var l=s.prefix;l&&(l==="xml"&&(s.uri=d1.XML),l!=="xmlns"&&(s.uri=n[l||""]))}var h=r.indexOf(":");h>0?(l=t.prefix=r.slice(0,h),u=t.localName=r.slice(h+1)):(l=null,u=t.localName=r);var g=t.uri=n[l||""];if(e.startElement(g,u,r,t),t.closed){if(e.endElement(g,u,r),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=n,t.localNSMap=i,!0}function rje(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),s)}return e+1}function ije(t,e,n,r){var i=r[n];return i==null&&(i=t.lastIndexOf("</"+n+">"),i<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function Hne(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function sje(t,e,n,r){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var a=oje(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],u=!1,d=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],d=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(d=a[3][0]));var f=a[o-1];return n.startDTD(l,u,d),n.endDTD(),f.index+f[0].length}}return-1}function aje(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function jne(){this.attributeNames={}}jne.prototype={setTagName:function(t){if(!CV.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!CV.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function oje(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);n=i.exec(t);)if(r.push(n),n[1])return r}IL.XMLReader=zne;IL.ParseError=ay;var lje=ph,uje=Xp,PV=Vne,Gne=IL,cje=uje.DOMImplementation,kV=lje.NAMESPACE,dje=Gne.ParseError,fje=Gne.XMLReader;function Wne(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function qne(t){this.options=t||{locator:{}}}qne.prototype.parseFromString=function(t,e){var n=this.options,r=new fje,i=n.domBuilder||new _x,s=n.errorHandler,a=n.locator,o=n.xmlns||{},l=/\/x?html?$/.test(e),u=l?PV.HTML_ENTITIES:PV.XML_ENTITIES;a&&i.setDocumentLocator(a),r.errorHandler=hje(s,i,a),r.domBuilder=n.domBuilder||i,l&&(o[""]=kV.HTML),o.xml=o.xml||kV.XML;var d=n.normalizeLineEndings||Wne;return t&&typeof t=="string"?r.parse(d(t),o,u):r.errorHandler.error("invalid doc source"),i.doc};function hje(t,e,n){if(!t){if(e instanceof _x)return e;t=e}var r={},i=t instanceof Function;n=n||{};function s(a){var o=t[a];!o&&i&&(o=t.length==2?function(l){t(a,l)}:t),r[a]=o&&function(l){o("[xmldom "+a+"]	"+l+BI(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function _x(){this.cdata=!1}function Cg(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}_x.prototype={startDocument:function(){this.doc=new cje().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,s=i.createElementNS(t,n||e),a=r.length;Sw(this,s),this.currentElement=s,this.locator&&Cg(this.locator,s);for(var o=0;o<a;o++){var t=r.getURI(o),l=r.getValue(o),n=r.getQName(o),u=i.createAttributeNS(t,n);this.locator&&Cg(r.getLocator(o),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&Cg(this.locator,n),Sw(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=DV.apply(this,arguments),t){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&Cg(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=DV.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&Cg(this.locator,r),Sw(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&Cg(this.locator,i),Sw(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,BI(this.locator))},error:function(t){console.error("[xmldom error]	"+t,BI(this.locator))},fatalError:function(t){throw new dje(t,this.locator)}};function BI(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function DV(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){_x.prototype[t]=function(){return null}});function Sw(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}vA.__DOMHandler=_x;vA.normalizeLineEndings=Wne;vA.DOMParser=qne;var pje=vA.DOMParser;/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const IV=t=>!!t&&typeof t=="object",Ha=(...t)=>t.reduce((e,n)=>(typeof n!="object"||Object.keys(n).forEach(r=>{Array.isArray(e[r])&&Array.isArray(n[r])?e[r]=e[r].concat(n[r]):IV(e[r])&&IV(n[r])?e[r]=Ha(e[r],n[r]):e[r]=n[r]}),e),{}),Xne=t=>Object.keys(t).map(e=>t[e]),mje=(t,e)=>{const n=[];for(let r=t;r<e;r++)n.push(r);return n},oy=t=>t.reduce((e,n)=>e.concat(n),[]),Yne=t=>{if(!t.length)return[];const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e},gje=(t,e)=>t.reduce((n,r,i)=>(r[e]&&n.push(i),n),[]),vje=(t,e)=>Xne(t.reduce((n,r)=>(r.forEach(i=>{n[e(i)]=i}),n),{}));var ly={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const f1=({baseUrl:t="",source:e="",range:n="",indexRange:r=""})=>{const i={uri:e,resolvedUri:pA(t||"",e)};if(n||r){const a=(n||r).split("-");let o=et.BigInt?et.BigInt(a[0]):parseInt(a[0],10),l=et.BigInt?et.BigInt(a[1]):parseInt(a[1],10);o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof o=="bigint"?u=et.BigInt(l)-et.BigInt(o)+et.BigInt(1):u=l-o+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),i.byterange={length:u,offset:o}}return i},yje=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=et.BigInt(t.offset)+et.BigInt(t.length)-et.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},RV=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),_je={static(t){const{duration:e,timescale:n=1,sourceDuration:r,periodDuration:i}=t,s=RV(t.endNumber),a=e/n;return typeof s=="number"?{start:0,end:s}:typeof i=="number"?{start:0,end:i/a}:{start:0,end:r/a}},dynamic(t){const{NOW:e,clientOffset:n,availabilityStartTime:r,timescale:i=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=t,u=RV(t.endNumber),d=(e+n)/1e3,f=r+a,g=d+o-f,v=Math.ceil(g*i/s),p=Math.floor((d-f-l)*i/s),_=Math.floor((d-f)*i/s);return{start:Math.max(0,p),end:typeof u=="number"?u:Math.min(v,_)}}},bje=t=>e=>{const{duration:n,timescale:r=1,periodStart:i,startNumber:s=1}=t;return{number:s+e,duration:n/r,timeline:i,time:e*n}},RL=t=>{const{type:e,duration:n,timescale:r=1,periodDuration:i,sourceDuration:s}=t,{start:a,end:o}=_je[e](t),l=mje(a,o).map(bje(t));if(e==="static"){const u=l.length-1,d=typeof i=="number"?i:s;l[u].duration=d-n/r*u}return l},Kne=t=>{const{baseUrl:e,initialization:n={},sourceDuration:r,indexRange:i="",periodStart:s,presentationTime:a,number:o=0,duration:l}=t;if(!e)throw new Error(ly.NO_BASE_URL);const u=f1({baseUrl:e,source:n.sourceURL,range:n.range}),d=f1({baseUrl:e,source:e,indexRange:i});if(d.map=u,l){const f=RL(t);f.length&&(d.duration=f[0].duration,d.timeline=f[0].timeline)}else r&&(d.duration=r,d.timeline=s);return d.presentationTime=a||s,d.number=o,[d]},OL=(t,e,n)=>{const r=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,l=e.timescale,u=e.references.filter(_=>_.referenceType!==1),d=[],f=t.endList?"static":"dynamic",h=t.sidx.timeline;let g=h,v=t.mediaSequence||0,p;typeof e.firstOffset=="bigint"?p=et.BigInt(o)+e.firstOffset:p=o+e.firstOffset;for(let _=0;_<u.length;_++){const S=e.references[_],C=S.referencedSize,T=S.subsegmentDuration;let A;typeof p=="bigint"?A=p+et.BigInt(C)-et.BigInt(1):A=p+C-1;const P=`${p}-${A}`,R=Kne({baseUrl:n,timescale:l,timeline:s,periodStart:h,presentationTime:g,number:v,duration:T,sourceDuration:i,indexRange:P,type:f})[0];r&&(R.map=r),d.push(R),typeof p=="bigint"?p+=et.BigInt(C):p+=C,g+=T/l,v++}return t.segments=d,t},xje=["AUDIO","SUBTITLES"],wje=1/60,Zne=t=>vje(t,({timeline:e})=>e).sort((e,n)=>e.timeline>n.timeline?1:-1),Sje=(t,e)=>{for(let n=0;n<t.length;n++)if(t[n].attributes.NAME===e)return t[n];return null},OV=t=>{let e=[];return UHe(t,xje,(n,r,i,s)=>{e=e.concat(n.playlists||[])}),e},MV=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((n,r)=>{n.number=t.mediaSequence+r})},Tje=({oldPlaylists:t,newPlaylists:e,timelineStarts:n})=>{e.forEach(r=>{r.discontinuitySequence=n.findIndex(function({timeline:l}){return l===r.timeline});const i=Sje(t,r.attributes.NAME);if(!i||r.sidx)return;const s=r.segments[0],a=i.segments.findIndex(function(l){return Math.abs(l.presentationTime-s.presentationTime)<wje});if(a===-1){MV({playlist:r,mediaSequence:i.mediaSequence+i.segments.length}),r.segments[0].discontinuity=!0,r.discontinuityStarts.unshift(0),(!i.segments.length&&r.timeline>i.timeline||i.segments.length&&r.timeline>i.segments[i.segments.length-1].timeline)&&r.discontinuitySequence--;return}i.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,r.discontinuityStarts.unshift(0),r.discontinuitySequence--),MV({playlist:r,mediaSequence:i.segments[a].number})})},Cje=({oldManifest:t,newManifest:e})=>{const n=t.playlists.concat(OV(t)),r=e.playlists.concat(OV(e));return e.timelineStarts=Zne([t.timelineStarts,e.timelineStarts]),Tje({oldPlaylists:n,newPlaylists:r,timelineStarts:e.timelineStarts}),e},yA=t=>t&&t.uri+"-"+yje(t.byterange),dP=t=>{const e=t.reduce(function(r,i){return r[i.attributes.baseUrl]||(r[i.attributes.baseUrl]=[]),r[i.attributes.baseUrl].push(i),r},{});let n=[];return Object.values(e).forEach(r=>{const i=Xne(r.reduce((s,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return s[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[o].segments.push(...a.segments)),a.attributes.contentProtection&&(s[o].attributes.contentProtection=a.attributes.contentProtection)):(s[o]=a,s[o].attributes.timelineStarts=[]),s[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));n=n.concat(i)}),n.map(r=>(r.discontinuityStarts=gje(r.segments||[],"discontinuity"),r))},ML=(t,e)=>{const n=yA(t.sidx),r=n&&e[n]&&e[n].sidx;return r&&OL(t,r,t.sidx.resolvedUri),t},Eje=(t,e={})=>{if(!Object.keys(e).length)return t;for(const n in t)t[n]=ML(t[n],e);return t},Aje=({attributes:t,segments:e,sidx:n,mediaSequence:r,discontinuitySequence:i,discontinuityStarts:s},a)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:i,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:r,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),n&&(o.sidx=n),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},Pje=({attributes:t,segments:e,mediaSequence:n,discontinuityStarts:r,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const a={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:r,discontinuitySequence:i,mediaSequence:n,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},kje=(t,e={},n=!1)=>{let r;const i=t.reduce((s,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",l=a.attributes.lang||"";let u=a.attributes.label||"main";if(l&&!a.attributes.label){const f=o?` (${o})`:"";u=`${a.attributes.lang}${f}`}s[u]||(s[u]={language:l,autoselect:!0,default:o==="main",playlists:[],uri:""});const d=ML(Aje(a,n),e);return s[u].playlists.push(d),typeof r>"u"&&o==="main"&&(r=a,r.default=!0),s},{});if(!r){const s=Object.keys(i)[0];i[s].default=!0}return i},Dje=(t,e={})=>t.reduce((n,r)=>{const i=r.attributes.label||r.attributes.lang||"text",s=r.attributes.lang||"und";return n[i]||(n[i]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),n[i].playlists.push(ML(Pje(r),e)),n},{}),Ije=t=>t.reduce((e,n)=>(n&&n.forEach(r=>{const{channel:i,language:s}=r;e[s]={autoselect:!1,default:!1,instreamId:i,language:s},r.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(e[s].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(e[s]["3D"]=r["3D"])}),e),{}),Rje=({attributes:t,segments:e,sidx:n,discontinuityStarts:r})=>{const i={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:r,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(i.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),n&&(i.sidx=n),i},Oje=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",Mje=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",Lje=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",$je=(t,e)=>{t.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=e.findIndex(function({timeline:r}){return r===n.timeline}),n.segments&&n.segments.forEach((r,i)=>{r.number=i})})},LV=t=>t?Object.keys(t).reduce((e,n)=>{const r=t[n];return e.concat(r.playlists)},[]):[],Nje=({dashPlaylists:t,locations:e,contentSteering:n,sidxMapping:r={},previousManifest:i,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=t[0].attributes,d=dP(t.filter(Oje)).map(Rje),f=dP(t.filter(Mje)),h=dP(t.filter(Lje)),g=t.map(A=>A.attributes.captionServices).filter(Boolean),v={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:Eje(d,r)};u>=0&&(v.minimumUpdatePeriod=u*1e3),e&&(v.locations=e),n&&(v.contentSteering=n),o==="dynamic"&&(v.suggestedPresentationDelay=l),s&&s.length>0&&(v.eventStream=s);const p=v.playlists.length===0,_=f.length?kje(f,r,p):null,S=h.length?Dje(h,r):null,C=d.concat(LV(_),LV(S)),T=C.map(({timelineStarts:A})=>A);return v.timelineStarts=Zne(T),$je(C,v.timelineStarts),_&&(v.mediaGroups.AUDIO.audio=_),S&&(v.mediaGroups.SUBTITLES.subs=S),g.length&&(v.mediaGroups["CLOSED-CAPTIONS"].cc=Ije(g)),i?Cje({oldManifest:i,newManifest:v}):v},Fje=(t,e,n)=>{const{NOW:r,clientOffset:i,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=t,u=(r+i)/1e3,d=s+o,h=u+l-d;return Math.ceil((h*a-e)/n)},Qne=(t,e)=>{const{type:n,minimumUpdatePeriod:r=0,media:i="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:l}=t,u=[];let d=-1;for(let f=0;f<e.length;f++){const h=e[f],g=h.d,v=h.r||0,p=h.t||0;d<0&&(d=p),p&&p>d&&(d=p);let _;if(v<0){const T=f+1;T===e.length?n==="dynamic"&&r>0&&i.indexOf("$Number$")>0?_=Fje(t,d,g):_=(s*a-d)/g:_=(e[T].t-d)/g}else _=v+1;const S=o+u.length+_;let C=o+u.length;for(;C<S;)u.push({number:C,duration:g/a,time:d,timeline:l}),d+=g,C++}return u},Bje=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Uje=t=>(e,n,r,i)=>{if(e==="$$")return"$";if(typeof t[n]>"u")return e;const s=""+t[n];return n==="RepresentationID"||(r?i=parseInt(i,10):i=1,s.length>=i)?s:`${new Array(i-s.length+1).join("0")}${s}`},$V=(t,e)=>t.replace(Bje,Uje(e)),Vje=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?RL(t):Qne(t,e),zje=(t,e)=>{const n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:r={sourceURL:"",range:""}}=t,i=f1({baseUrl:t.baseUrl,source:$V(r.sourceURL,n),range:r.range});return Vje(t,e).map(a=>{n.Number=a.number,n.Time=a.time;const o=$V(t.media||"",n),l=t.timescale||1,u=t.presentationTimeOffset||0,d=t.periodStart+(a.time-u)/l;return{uri:o,timeline:a.timeline,duration:a.duration,resolvedUri:pA(t.baseUrl||"",o),map:i,number:a.number,presentationTime:d}})},Hje=(t,e)=>{const{baseUrl:n,initialization:r={}}=t,i=f1({baseUrl:n,source:r.sourceURL,range:r.range}),s=f1({baseUrl:n,source:e.media,range:e.mediaRange});return s.map=i,s},jje=(t,e)=>{const{duration:n,segmentUrls:r=[],periodStart:i}=t;if(!n&&!e||n&&e)throw new Error(ly.SEGMENT_TIME_UNSPECIFIED);const s=r.map(l=>Hje(t,l));let a;return n&&(a=RL(t)),e&&(a=Qne(t,e)),a.map((l,u)=>{if(s[u]){const d=s[u],f=t.timescale||1,h=t.presentationTimeOffset||0;return d.timeline=l.timeline,d.duration=l.duration,d.number=l.number,d.presentationTime=i+(l.time-h)/f,d}}).filter(l=>l)},Gje=({attributes:t,segmentInfo:e})=>{let n,r;e.template?(r=zje,n=Ha(t,e.template)):e.base?(r=Kne,n=Ha(t,e.base)):e.list&&(r=jje,n=Ha(t,e.list));const i={attributes:t};if(!r)return i;const s=r(n,e.segmentTimeline);if(n.duration){const{duration:a,timescale:o=1}=n;n.duration=a/o}else s.length?n.duration=s.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):n.duration=0;return i.attributes=n,i.segments=s,e.base&&n.indexRange&&(i.sidx=s[0],i.segments=[]),i},Wje=t=>t.map(Gje),Cs=(t,e)=>Yne(t.childNodes).filter(({tagName:n})=>n===e),bx=t=>t.textContent.trim(),qje=t=>parseFloat(t.split("/").reduce((e,n)=>e/n)),Eg=t=>{const o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!o)return 0;const[l,u,d,f,h,g]=o.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(d||0)*86400+parseFloat(f||0)*3600+parseFloat(h||0)*60+parseFloat(g||0)},Xje=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),NV={mediaPresentationDuration(t){return Eg(t)},availabilityStartTime(t){return Xje(t)/1e3},minimumUpdatePeriod(t){return Eg(t)},suggestedPresentationDelay(t){return Eg(t)},type(t){return t},timeShiftBufferDepth(t){return Eg(t)},start(t){return Eg(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return qje(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?Eg(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},ha=t=>t&&t.attributes?Yne(t.attributes).reduce((e,n)=>{const r=NV[n.name]||NV.DEFAULT;return e[n.name]=r(n.value),e},{}):{},Yje={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},_A=(t,e)=>e.length?oy(t.map(function(n){return e.map(function(r){const i=bx(r),s=pA(n.baseUrl,i),a=Ha(ha(r),{baseUrl:s});return s!==i&&!a.serviceLocation&&n.serviceLocation&&(a.serviceLocation=n.serviceLocation),a})})):t,LL=t=>{const e=Cs(t,"SegmentTemplate")[0],n=Cs(t,"SegmentList")[0],r=n&&Cs(n,"SegmentURL").map(f=>Ha({tag:"SegmentURL"},ha(f))),i=Cs(t,"SegmentBase")[0],s=n||e,a=s&&Cs(s,"SegmentTimeline")[0],o=n||i||e,l=o&&Cs(o,"Initialization")[0],u=e&&ha(e);u&&l?u.initialization=l&&ha(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const d={template:u,segmentTimeline:a&&Cs(a,"S").map(f=>ha(f)),list:n&&Ha(ha(n),{segmentUrls:r,initialization:ha(l)}),base:i&&Ha(ha(i),{initialization:ha(l)})};return Object.keys(d).forEach(f=>{d[f]||delete d[f]}),d},Kje=(t,e,n)=>r=>{const i=Cs(r,"BaseURL"),s=_A(e,i),a=Ha(t,ha(r)),o=LL(r);return s.map(l=>({segmentInfo:Ha(n,o),attributes:Ha(a,l)}))},Zje=t=>t.reduce((e,n)=>{const r=ha(n);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());const i=Yje[r.schemeIdUri];if(i){e[i]={attributes:r};const s=Cs(n,"cenc:pssh")[0];if(s){const a=bx(s);e[i].pssh=a&&hne(a)}}return e},{}),Qje=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{let r,i;return i=n,/^CC\d=/.test(n)?[r,i]=n.split("="):/^CC\d$/.test(n)&&(r=n),{channel:r,language:i}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{const r={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){const[i,s=""]=n.split("=");r.channel=i,r.language=n,s.split(",").forEach(a=>{const[o,l]=a.split(":");o==="lang"?r.language=l:o==="er"?r.easyReader=Number(l):o==="war"?r.aspectRatio=Number(l):o==="3D"&&(r["3D"]=Number(l))})}else r.language=n;return r.channel&&(r.channel="SERVICE"+r.channel),r})},Jje=t=>oy(Cs(t.node,"EventStream").map(e=>{const n=ha(e),r=n.schemeIdUri;return Cs(e,"Event").map(i=>{const s=ha(i),a=s.presentationTime||0,o=n.timescale||1,l=s.duration||0,u=a/o+t.attributes.start;return{schemeIdUri:r,value:n.value,id:s.id,start:u,end:u+l/o,messageData:bx(i)||s.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),eGe=(t,e,n)=>r=>{const i=ha(r),s=_A(e,Cs(r,"BaseURL")),a=Cs(r,"Role")[0],o={role:ha(a)};let l=Ha(t,i,o);const u=Cs(r,"Accessibility")[0],d=Qje(ha(u));d&&(l=Ha(l,{captionServices:d}));const f=Cs(r,"Label")[0];if(f&&f.childNodes.length){const _=f.childNodes[0].nodeValue.trim();l=Ha(l,{label:_})}const h=Zje(Cs(r,"ContentProtection"));Object.keys(h).length&&(l=Ha(l,{contentProtection:h}));const g=LL(r),v=Cs(r,"Representation"),p=Ha(n,g);return oy(v.map(Kje(l,s,p)))},tGe=(t,e)=>(n,r)=>{const i=_A(e,Cs(n.node,"BaseURL")),s=Ha(t,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(s.periodDuration=n.attributes.duration);const a=Cs(n.node,"AdaptationSet"),o=LL(n.node);return oy(a.map(eGe(s,i,o)))},nGe=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const n=Ha({serverURL:bx(t[0])},ha(t[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},rGe=({attributes:t,priorPeriodAttributes:e,mpdType:n})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&n==="static"?0:null,iGe=(t,e={})=>{const{manifestUri:n="",NOW:r=Date.now(),clientOffset:i=0,eventHandler:s=function(){}}=e,a=Cs(t,"Period");if(!a.length)throw new Error(ly.INVALID_NUMBER_OF_PERIOD);const o=Cs(t,"Location"),l=ha(t),u=_A([{baseUrl:n}],Cs(t,"BaseURL")),d=Cs(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=r,l.clientOffset=i,o.length&&(l.locations=o.map(bx));const f=[];return a.forEach((h,g)=>{const v=ha(h),p=f[g-1];v.start=rGe({attributes:v,priorPeriodAttributes:p?p.attributes:null,mpdType:l.type}),f.push({node:h,attributes:v})}),{locations:l.locations,contentSteeringInfo:nGe(d,s),representationInfo:oy(f.map(tGe(l,u))),eventStream:oy(f.map(Jje))}},Jne=t=>{if(t==="")throw new Error(ly.DASH_EMPTY_MANIFEST);const e=new pje;let n,r;try{n=e.parseFromString(t,"application/xml"),r=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(ly.DASH_INVALID_XML);return r},sGe=t=>{const e=Cs(t,"UTCTiming")[0];if(!e)return null;const n=ha(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(ly.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},aGe=(t,e={})=>{const n=iGe(Jne(t),e),r=Wje(n.representationInfo);return Nje({dashPlaylists:r,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:n.eventStream})},oGe=t=>sGe(Jne(t));var ere=Math.pow(2,32),lGe=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*ere+e.getUint32(4)},uGe={getUint64:lGe,MAX_UINT32:ere},FV=uGe.getUint64,cGe=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},r=12;n.version===0?(n.earliestPresentationTime=e.getUint32(r),n.firstOffset=e.getUint32(r+4),r+=8):(n.earliestPresentationTime=FV(t.subarray(r)),n.firstOffset=FV(t.subarray(r+8)),r+=16),r+=2;var i=e.getUint16(r);for(r+=2;i>0;r+=12,i--)n.references.push({referenceType:(t[r]&128)>>>7,referencedSize:e.getUint32(r)&2147483647,subsegmentDuration:e.getUint32(r+4),startsWithSap:!!(t[r+8]&128),sapType:(t[r+8]&112)>>>4,sapDeltaTime:e.getUint32(r+8)&268435455});return n},dGe=cGe;const fGe=Ra(dGe);var hGe=xr([73,68,51]),pGe=function(e,n){n===void 0&&(n=0),e=xr(e);var r=e[n+5],i=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],s=(r&16)>>4;return s?i+20:i+10},S2=function t(e,n){return n===void 0&&(n=0),e=xr(e),e.length-n<10||!Ss(e,hGe,{offset:n})?n:(n+=pGe(e,n),t(e,n))},BV=function(e){return typeof e=="string"?yne(e):e},mGe=function(e){return Array.isArray(e)?e.map(function(n){return BV(n)}):[BV(e)]},gGe=function t(e,n,r){r===void 0&&(r=!1),n=mGe(n),e=xr(e);var i=[];if(!n.length)return i;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>e.length){if(r)break;l=e.length}var u=e.subarray(s+8,l);Ss(o,n[0])&&(n.length===1?i.push(u):i.push.apply(i,t(u,n.slice(1),r))),s=l}return i},Tw={EBML:xr([26,69,223,163]),DocType:xr([66,130]),Segment:xr([24,83,128,103]),SegmentInfo:xr([21,73,169,102]),Tracks:xr([22,84,174,107]),Track:xr([174]),TrackNumber:xr([215]),DefaultDuration:xr([35,227,131]),TrackEntry:xr([174]),TrackType:xr([131]),FlagDefault:xr([136]),CodecID:xr([134]),CodecPrivate:xr([99,162]),VideoTrack:xr([224]),AudioTrack:xr([225]),Cluster:xr([31,67,182,117]),Timestamp:xr([231]),TimestampScale:xr([42,215,177]),BlockGroup:xr([160]),BlockDuration:xr([155]),Block:xr([161]),SimpleBlock:xr([163])},UI=[128,64,32,16,8,4,2,1],vGe=function(e){for(var n=1,r=0;r<UI.length&&!(e&UI[r]);r++)n++;return n},cC=function(e,n,r,i){r===void 0&&(r=!0),i===void 0&&(i=!1);var s=vGe(e[n]),a=e.subarray(n,n+s);return r&&(a=Array.prototype.slice.call(e,n,n+s),a[0]^=UI[s-1]),{length:s,value:NHe(a,{signed:i}),bytes:a}},UV=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?FHe(e):e},yGe=function(e){return Array.isArray(e)?e.map(function(n){return UV(n)}):[UV(e)]},_Ge=function t(e,n,r){if(r>=n.length)return n.length;var i=cC(n,r,!1);if(Ss(e.bytes,i.bytes))return r;var s=cC(n,r+i.length);return t(e,n,r+s.length+s.value+i.length)},VV=function t(e,n){n=yGe(n),e=xr(e);var r=[];if(!n.length)return r;for(var i=0;i<e.length;){var s=cC(e,i,!1),a=cC(e,i+s.length),o=i+s.length+a.length;a.value===127&&(a.value=_Ge(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,u=e.subarray(o,l);Ss(n[0],s.bytes)&&(n.length===1?r.push(u):r=r.concat(t(u,n.slice(1))));var d=s.length+a.length+u.length;i+=d}return r},bGe=xr([0,0,0,1]),xGe=xr([0,0,1]),wGe=xr([0,0,3]),SGe=function(e){for(var n=[],r=1;r<e.length-2;)Ss(e.subarray(r,r+3),wGe)&&(n.push(r+2),r++),r++;if(n.length===0)return e;var i=e.length-n.length,s=new Uint8Array(i),a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),s[r]=e[a];return s},tre=function(e,n,r,i){i===void 0&&(i=1/0),e=xr(e),r=[].concat(r);for(var s=0,a,o=0;s<e.length&&(o<i||a);){var l=void 0;if(Ss(e.subarray(s),bGe)?l=4:Ss(e.subarray(s),xGe)&&(l=3),!l){s++;continue}if(o++,a)return SGe(e.subarray(a,s));var u=void 0;n==="h264"?u=e[s+l]&31:n==="h265"&&(u=e[s+l]>>1&63),r.indexOf(u)!==-1&&(a=s+l),s+=l+(n==="h264"?1:2)}return e.subarray(0,0)},TGe=function(e,n,r){return tre(e,"h264",n,r)},CGe=function(e,n,r){return tre(e,"h265",n,r)},Go={webm:xr([119,101,98,109]),matroska:xr([109,97,116,114,111,115,107,97]),flac:xr([102,76,97,67]),ogg:xr([79,103,103,83]),ac3:xr([11,119]),riff:xr([82,73,70,70]),avi:xr([65,86,73]),wav:xr([87,65,86,69]),"3gp":xr([102,116,121,112,51,103]),mp4:xr([102,116,121,112]),fmp4:xr([115,116,121,112]),mov:xr([102,116,121,112,113,116]),moov:xr([109,111,111,118]),moof:xr([109,111,111,102])},uy={aac:function(e){var n=S2(e);return Ss(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=S2(e);return Ss(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=VV(e,[Tw.EBML,Tw.DocType])[0];return Ss(n,Go.webm)},mkv:function(e){var n=VV(e,[Tw.EBML,Tw.DocType])[0];return Ss(n,Go.matroska)},mp4:function(e){if(uy["3gp"](e)||uy.mov(e))return!1;if(Ss(e,Go.mp4,{offset:4})||Ss(e,Go.fmp4,{offset:4})||Ss(e,Go.moof,{offset:4})||Ss(e,Go.moov,{offset:4}))return!0},mov:function(e){return Ss(e,Go.mov,{offset:4})},"3gp":function(e){return Ss(e,Go["3gp"],{offset:4})},ac3:function(e){var n=S2(e);return Ss(e,Go.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=S2(e);return Ss(e,Go.flac,{offset:n})},ogg:function(e){return Ss(e,Go.ogg)},avi:function(e){return Ss(e,Go.riff)&&Ss(e,Go.avi,{offset:8})},wav:function(e){return Ss(e,Go.riff)&&Ss(e,Go.wav,{offset:8})},h264:function(e){return TGe(e,7,3).length},h265:function(e){return CGe(e,[32,33],3).length}},VI=Object.keys(uy).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);VI.forEach(function(t){var e=uy[t];uy[t]=function(n){return e(xr(n))}});var EGe=uy,$L=function(e){e=xr(e);for(var n=0;n<VI.length;n++){var r=VI[n];if(EGe[r](e))return r}return""},AGe=function(e){return gGe(e,["moof"]).length>0},NL=9e4,FL,BL,bA,UL,nre,rre,ire;FL=function(t){return t*NL};BL=function(t,e){return t*e};bA=function(t){return t/NL};UL=function(t,e){return t/e};nre=function(t,e){return FL(UL(t,e))};rre=function(t,e){return BL(bA(t),e)};ire=function(t,e,n){return bA(n?t:t-e)};var J0={ONE_SECOND_IN_TS:NL,secondsToVideoTs:FL,secondsToAudioTs:BL,videoTsToSeconds:bA,audioTsToSeconds:UL,audioTsToVideoTs:nre,videoTsToAudioTs:rre,metadataTsToSeconds:ire};/**
 * @license
 * Video.js 8.23.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var zI="8.23.4";const Sf={},$p=function(t,e){return Sf[t]=Sf[t]||[],e&&(Sf[t]=Sf[t].concat(e)),Sf[t]},PGe=function(t,e){$p(t,e)},sre=function(t,e){const n=$p(t).indexOf(e);return n<=-1?!1:(Sf[t]=Sf[t].slice(),Sf[t].splice(n,1),!0)},kGe=function(t,e){$p(t,[].concat(e).map(n=>{const r=(...i)=>(sre(t,r),n(...i));return r}))},dC={prefixed:!0},ZS=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],zV=ZS[0];let T2;for(let t=0;t<ZS.length;t++)if(ZS[t][1]in Cn){T2=ZS[t];break}if(T2){for(let t=0;t<T2.length;t++)dC[zV[t]]=T2[t];dC.prefixed=T2[0]!==zV[0]}let bl=[];const DGe=(t,e,n)=>(r,i,s)=>{const a=e.levels[i],o=new RegExp(`^(${a})$`);let l=t;if(r!=="log"&&s.unshift(r.toUpperCase()+":"),n&&(l=`%c${t}`,s.unshift(n)),s.unshift(l+":"),bl){bl.push([].concat(s));const d=bl.length-1e3;bl.splice(0,d>0?d:0)}if(!et.console)return;let u=et.console[r];!u&&r==="debug"&&(u=et.console.info||et.console.log),!(!u||!a||!o.test(r))&&u[Array.isArray(s)?"apply":"call"](et.console,s)};function HI(t,e=":",n=""){let r="info",i;function s(...a){i("log",r,a)}return i=DGe(t,s,n),s.createLogger=(a,o,l)=>{const u=o!==void 0?o:e,d=l!==void 0?l:n,f=`${t} ${u} ${a}`;return HI(f,u,d)},s.createNewLogger=(a,o,l)=>HI(a,o,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);r=a}return r},s.history=()=>bl?[].concat(bl):[],s.history.filter=a=>(bl||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),s.history.clear=()=>{bl&&(bl.length=0)},s.history.disable=()=>{bl!==null&&(bl.length=0,bl=null)},s.history.enable=()=>{bl===null&&(bl=[])},s.error=(...a)=>i("error",r,a),s.warn=(...a)=>i("warn",r,a),s.debug=(...a)=>i("debug",r,a),s}const ei=HI("VIDEOJS"),are=ei.createLogger,IGe=Object.prototype.toString,ore=function(t){return Ld(t)?Object.keys(t):[]};function pv(t,e){ore(t).forEach(n=>e(t[n],n))}function lre(t,e,n=0){return ore(t).reduce((r,i)=>e(r,t[i],i),n)}function Ld(t){return!!t&&typeof t=="object"}function cy(t){return Ld(t)&&IGe.call(t)==="[object Object]"&&t.constructor===Object}function Xi(...t){const e={};return t.forEach(n=>{n&&pv(n,(r,i)=>{if(!cy(r)){e[i]=r;return}cy(e[i])||(e[i]={}),e[i]=Xi(e[i],r)})}),e}function ure(t={}){const e=[];for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];e.push(r)}return e}function xA(t,e,n,r=!0){const i=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=n();return i(a),a}};return r&&(s.set=i),Object.defineProperty(t,e,s)}var RGe=Object.freeze({__proto__:null,each:pv,reduce:lre,isObject:Ld,isPlain:cy,merge:Xi,values:ure,defineLazyProperty:xA});let VL=!1,cre=null,Pc=!1,dre,fre=!1,mv=!1,gv=!1,$d=!1,zL=null,wA=null;const OGe=!!(et.cast&&et.cast.framework&&et.cast.framework.CastReceiverContext);let hre=null,fC=!1,SA=!1,hC=!1,TA=!1,pC=!1,mC=!1,gC=!1;const h1=!!(s_()&&("ontouchstart"in et||et.navigator.maxTouchPoints||et.DocumentTouch&&et.document instanceof et.DocumentTouch)),Dh=et.navigator&&et.navigator.userAgentData;Dh&&Dh.platform&&Dh.brands&&(Pc=Dh.platform==="Android",mv=!!Dh.brands.find(t=>t.brand==="Microsoft Edge"),gv=!!Dh.brands.find(t=>t.brand==="Chromium"),$d=!mv&&gv,zL=wA=(Dh.brands.find(t=>t.brand==="Chromium")||{}).version||null,SA=Dh.platform==="Windows");if(!gv){const t=et.navigator&&et.navigator.userAgent||"";VL=/iPod/i.test(t),cre=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Pc=/Android/i.test(t),dre=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const n=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return n&&r?parseFloat(e[1]+"."+e[2]):n||null}(),fre=/Firefox/i.test(t),mv=/Edg/i.test(t),gv=/Chrome/i.test(t)||/CriOS/i.test(t),$d=!mv&&gv,zL=wA=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),hre=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let n=e&&parseFloat(e[1]);return!n&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(n=11),n}(),pC=/Tizen/i.test(t),mC=/Web0S/i.test(t),gC=pC||mC,fC=/Safari/i.test(t)&&!$d&&!Pc&&!mv&&!gC,SA=/Windows/i.test(t),hC=/iPad/i.test(t)||fC&&h1&&!/iPhone/i.test(t),TA=/iPhone/i.test(t)&&!hC}const Oo=TA||hC||VL,CA=(fC||Oo)&&!$d;var pre=Object.freeze({__proto__:null,get IS_IPOD(){return VL},get IOS_VERSION(){return cre},get IS_ANDROID(){return Pc},get ANDROID_VERSION(){return dre},get IS_FIREFOX(){return fre},get IS_EDGE(){return mv},get IS_CHROMIUM(){return gv},get IS_CHROME(){return $d},get CHROMIUM_VERSION(){return zL},get CHROME_VERSION(){return wA},IS_CHROMECAST_RECEIVER:OGe,get IE_VERSION(){return hre},get IS_SAFARI(){return fC},get IS_WINDOWS(){return SA},get IS_IPAD(){return hC},get IS_IPHONE(){return TA},get IS_TIZEN(){return pC},get IS_WEBOS(){return mC},get IS_SMART_TV(){return gC},TOUCH_ENABLED:h1,IS_IOS:Oo,IS_ANY_SAFARI:CA});function HV(t){return typeof t=="string"&&!!t.trim()}function MGe(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function s_(){return Cn===et.document}function a_(t){return Ld(t)&&t.nodeType===1}function mre(){try{return et.parent!==et.self}catch{return!0}}function gre(t){return function(e,n){if(!HV(e))return Cn[t](null);HV(n)&&(n=Cn.querySelector(n));const r=a_(n)?n:Cn;return r[t]&&r[t](e)}}function Er(t="div",e={},n={},r){const i=Cn.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const a=e[s];s==="textContent"?Yp(i,a):(i[s]!==a||s==="tabIndex")&&(i[s]=a)}),Object.getOwnPropertyNames(n).forEach(function(s){i.setAttribute(s,n[s])}),r&&HL(i,r),i}function Yp(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function jI(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function lb(t,e){return MGe(e),t.classList.contains(e)}function cm(t,...e){return t.classList.add(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t}function EA(t,...e){return t?(t.classList.remove(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t):(ei.warn("removeClass was called with an element that doesn't exist"),null)}function vre(t,e,n){return typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=void 0),e.split(/\s+/).forEach(r=>t.classList.toggle(r,n)),t}function yre(t,e){Object.getOwnPropertyNames(e).forEach(function(n){const r=e[n];r===null||typeof r>"u"||r===!1?t.removeAttribute(n):t.setAttribute(n,r===!0?"":r)})}function qh(t){const e={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const r=t.attributes;for(let i=r.length-1;i>=0;i--){const s=r[i].name;let a=r[i].value;n.includes(s)&&(a=a!==null),e[s]=a}}return e}function _re(t,e){return t.getAttribute(e)}function dy(t,e,n){t.setAttribute(e,n)}function AA(t,e){t.removeAttribute(e)}function bre(){Cn.body.focus(),Cn.onselectstart=function(){return!1}}function xre(){Cn.onselectstart=function(){return!0}}function fy(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(r=>{e[r]!==void 0&&(n[r]=e[r])}),n.height||(n.height=parseFloat(hy(t,"height"))),n.width||(n.width=parseFloat(hy(t,"width"))),n}}function p1(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,n=t.offsetHeight;let r=0,i=0;for(;t.offsetParent&&t!==Cn[dC.fullscreenElement];)r+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:r,top:i,width:e,height:n}}function PA(t,e){const n={x:0,y:0};if(Oo){let d=t;for(;d&&d.nodeName.toLowerCase()!=="html";){const f=hy(d,"transform");if(/^matrix/.test(f)){const h=f.slice(7,-1).split(/,\s/).map(Number);n.x+=h[4],n.y+=h[5]}else if(/^matrix3d/.test(f)){const h=f.slice(9,-1).split(/,\s/).map(Number);n.x+=h[12],n.y+=h[13]}if(d.assignedSlot&&d.assignedSlot.parentElement&&et.WebKitCSSMatrix){const h=et.getComputedStyle(d.assignedSlot.parentElement).transform,g=new et.WebKitCSSMatrix(h);n.x+=g.m41,n.y+=g.m42}d=d.parentNode||d.host}}const r={},i=p1(e.target),s=p1(t),a=s.width,o=s.height;let l=e.offsetY-(s.top-i.top),u=e.offsetX-(s.left-i.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,Oo&&(u-=n.x,l-=n.y)),r.y=1-Math.max(0,Math.min(1,l/o)),r.x=Math.max(0,Math.min(1,u/a)),r}function wre(t){return Ld(t)&&t.nodeType===3}function kA(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Sre(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),a_(e)||wre(e))return e;if(typeof e=="string"&&/\S/.test(e))return Cn.createTextNode(e)}).filter(e=>e)}function HL(t,e){return Sre(e).forEach(n=>t.appendChild(n)),t}function Tre(t,e){return HL(kA(t),e)}function m1(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const Np=gre("querySelector"),Cre=gre("querySelectorAll");function hy(t,e){if(!t||!e)return"";if(typeof et.getComputedStyle=="function"){let n;try{n=et.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}function Ere(t){[...Cn.styleSheets].forEach(e=>{try{const n=[...e.cssRules].map(i=>i.cssText).join(""),r=Cn.createElement("style");r.textContent=n,t.document.head.appendChild(r)}catch{const r=Cn.createElement("link");r.rel="stylesheet",r.type=e.type,r.media=e.media.mediaText,r.href=e.href,t.document.head.appendChild(r)}})}var Are=Object.freeze({__proto__:null,isReal:s_,isEl:a_,isInFrame:mre,createEl:Er,textContent:Yp,prependTo:jI,hasClass:lb,addClass:cm,removeClass:EA,toggleClass:vre,setAttributes:yre,getAttributes:qh,getAttribute:_re,setAttribute:dy,removeAttribute:AA,blockTextSelection:bre,unblockTextSelection:xre,getBoundingClientRect:fy,findPosition:p1,getPointerPosition:PA,isTextNode:wre,emptyEl:kA,normalizeContent:Sre,appendContent:HL,insertContent:Tre,isSingleLeftClick:m1,$:Np,$$:Cre,computedStyle:hy,copyStyleSheetsToWindow:Ere});let Pre=!1,GI;const LGe=function(){if(GI.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Cn.getElementsByTagName("video")),e=Array.prototype.slice.call(Cn.getElementsByTagName("audio")),n=Array.prototype.slice.call(Cn.getElementsByTagName("video-js")),r=t.concat(e,n);if(r&&r.length>0)for(let i=0,s=r.length;i<s;i++){const a=r[i];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&GI(a);else{WI(1);break}}else Pre||WI(1)};function WI(t,e){s_()&&(e&&(GI=e),et.setTimeout(LGe,t))}function qI(){Pre=!0,et.removeEventListener("load",qI)}s_()&&(Cn.readyState==="complete"?qI():et.addEventListener("load",qI));const kre=function(t){const e=Cn.createElement("style");return e.className=t,e},Dre=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var nl=new WeakMap;const $Ge=3;let NGe=$Ge;function Wu(){return NGe++}function jV(t,e){if(!nl.has(t))return;const n=nl.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&nl.delete(t)}function jL(t,e,n,r){n.forEach(function(i){t(e,i,r)})}function DA(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const r=t||et.event;t={};const i=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in r)i.includes(s)||s==="returnValue"&&r.preventDefault||(t[s]=r[s]);if(t.target||(t.target=t.srcElement||Cn),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){const s=Cn.documentElement,a=Cn.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Cw;const FGe=function(){if(typeof Cw!="boolean"){Cw=!1;try{const t=Object.defineProperty({},"passive",{get(){Cw=!0}});et.addEventListener("test",null,t),et.removeEventListener("test",null,t)}catch{}}return Cw},BGe=["touchstart","touchmove"];function lu(t,e,n){if(Array.isArray(e))return jL(lu,t,e,n);nl.has(t)||nl.set(t,{});const r=nl.get(t);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),n.guid||(n.guid=Wu()),r.handlers[e].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(i,s){if(r.disabled)return;i=DA(i);const a=r.handlers[i.type];if(a){const o=a.slice(0);for(let l=0,u=o.length;l<u&&!i.isImmediatePropagationStopped();l++)try{o[l].call(t,i,s)}catch(d){ei.error(d)}}}),r.handlers[e].length===1)if(t.addEventListener){let i=!1;FGe()&&BGe.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,r.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,r.dispatcher)}function Mo(t,e,n){if(!nl.has(t))return;const r=nl.get(t);if(!r.handlers)return;if(Array.isArray(e))return jL(Mo,t,e,n);const i=function(a,o){r.handlers[o]=[],jV(a,o)};if(e===void 0){for(const a in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},a)&&i(t,a);return}const s=r.handlers[e];if(s){if(!n){i(t,e);return}if(n.guid)for(let a=0;a<s.length;a++)s[a].guid===n.guid&&s.splice(a--,1);jV(t,e)}}function o_(t,e,n){const r=nl.has(t)?nl.get(t):{},i=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=DA(e),r.dispatcher&&r.dispatcher.call(t,e,n),i&&!e.isPropagationStopped()&&e.bubbles===!0)o_.call(null,i,e,n);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){nl.has(e.target)||nl.set(e.target,{});const s=nl.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function IA(t,e,n){if(Array.isArray(e))return jL(IA,t,e,n);const r=function(){Mo(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Wu(),lu(t,e,r)}function GL(t,e,n){const r=function(){Mo(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Wu(),lu(t,e,r)}var UGe=Object.freeze({__proto__:null,fixEvent:DA,on:lu,off:Mo,trigger:o_,one:IA,any:GL});const qu=30,hs=function(t,e,n){e.guid||(e.guid=Wu());const r=e.bind(t);return r.guid=n?n+"_"+e.guid:e.guid,r},Nd=function(t,e){let n=et.performance.now();return function(...i){const s=et.performance.now();s-n>=e&&(t(...i),n=s)}},Ire=function(t,e,n,r=et){let i;const s=()=>{r.clearTimeout(i),i=null},a=function(){const o=this,l=arguments;let u=function(){i=null,u=null,n||t.apply(o,l)};!i&&n&&t.apply(o,l),r.clearTimeout(i),i=r.setTimeout(u,e)};return a.cancel=s,a};var VGe=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:qu,bind_:hs,throttle:Nd,debounce:Ire});let z_;class uu{on(e,n){const r=this.addEventListener;this.addEventListener=()=>{},lu(this,e,n),this.addEventListener=r}off(e,n){Mo(this,e,n)}one(e,n){const r=this.addEventListener;this.addEventListener=()=>{},IA(this,e,n),this.addEventListener=r}any(e,n){const r=this.addEventListener;this.addEventListener=()=>{},GL(this,e,n),this.addEventListener=r}trigger(e){const n=e.type||e;typeof e=="string"&&(e={type:n}),e=DA(e),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](e),o_(this,e)}queueTrigger(e){z_||(z_=new Map);const n=e.type||e;let r=z_.get(this);r||(r=new Map,z_.set(this,r));const i=r.get(n);r.delete(n),et.clearTimeout(i);const s=et.setTimeout(()=>{r.delete(n),r.size===0&&(r=null,z_.delete(this)),this.trigger(e)},0);r.set(n,s)}}uu.prototype.allowedEvents_={};uu.prototype.addEventListener=uu.prototype.on;uu.prototype.removeEventListener=uu.prototype.off;uu.prototype.dispatchEvent=uu.prototype.trigger;const RA=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Of=t=>t instanceof uu||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),zGe=(t,e)=>{Of(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},XI=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,vC=(t,e,n)=>{if(!t||!t.nodeName&&!Of(t))throw new Error(`Invalid target for ${RA(e)}#${n}; must be a DOM node or evented object.`)},Rre=(t,e,n)=>{if(!XI(t))throw new Error(`Invalid event type for ${RA(e)}#${n}; must be a non-empty string or array.`)},Ore=(t,e,n)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${RA(e)}#${n}; must be a function.`)},fP=(t,e,n)=>{const r=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let i,s,a;return r?(i=t.eventBusEl_,e.length>=3&&e.shift(),[s,a]=e):(i=e[0],s=e[1],a=e[2]),vC(i,t,n),Rre(s,t,n),Ore(a,t,n),a=hs(t,a),{isTargetingSelf:r,target:i,type:s,listener:a}},m0=(t,e,n,r)=>{vC(t,t,e),t.nodeName?UGe[e](t,n,r):t[e](n,r)},HGe={on(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=fP(this,t,"on");if(m0(n,"on",r,i),!e){const s=()=>this.off(n,r,i);s.guid=i.guid;const a=()=>this.off("dispose",s);a.guid=i.guid,m0(this,"on","dispose",s),m0(n,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=fP(this,t,"one");if(e)m0(n,"one",r,i);else{const s=(...a)=>{this.off(n,r,s),i.apply(null,a)};s.guid=i.guid,m0(n,"one",r,s)}},any(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=fP(this,t,"any");if(e)m0(n,"any",r,i);else{const s=(...a)=>{this.off(n,r,s),i.apply(null,a)};s.guid=i.guid,m0(n,"any",r,s)}},off(t,e,n){if(!t||XI(t))Mo(this.eventBusEl_,t,e);else{const r=t,i=e;vC(r,this,"off"),Rre(i,this,"off"),Ore(n,this,"off"),n=hs(this,n),this.off("dispose",n),r.nodeName?(Mo(r,i,n),Mo(r,"dispose",n)):Of(r)&&(r.off(i,n),r.off("dispose",n))}},trigger(t,e){vC(this.eventBusEl_,this,"trigger");const n=t&&typeof t!="string"?t.type:t;if(!XI(n))throw new Error(`Invalid event type for ${RA(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return o_(this.eventBusEl_,t,e)}};function WL(t,e={}){const{eventBusKey:n}=e;if(n){if(!t[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);t.eventBusEl_=t[n]}else t.eventBusEl_=Er("span",{className:"vjs-event-bus"});return Object.assign(t,HGe),t.eventedCallbacks&&t.eventedCallbacks.forEach(r=>{r()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&nl.has(r)&&nl.delete(r)}),et.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const jGe={state:{},setState(t){typeof t=="function"&&(t=t());let e;return pv(t,(n,r)=>{this.state[r]!==n&&(e=e||{},e[r]={from:this.state[r],to:n}),this.state[r]=n}),e&&Of(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function Mre(t,e){return Object.assign(t,jGe),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Of(t)&&t.on("statechanged",t.handleStateChanged),t}const ub=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},Ws=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},Lre=function(t,e){return Ws(t)===Ws(e)};var GGe=Object.freeze({__proto__:null,toLowerCase:ub,toTitleCase:Ws,titleCaseEquals:Lre});class Qt{constructor(e,n,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Xi({},this.options_),n=this.options_=Xi(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const i=e&&e.id&&e.id()||"no_player";this.id_=`${i}_component_${Wu()}`}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),n.evented!==!1&&(WL(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Mre(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Xi(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,n,r){return Er(e,n,r)}localize(e,n,r=e){const i=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[i],o=i&&i.split("-")[0],l=s&&s[o];let u=r;return a&&a[e]?u=a[e]:l&&l[e]&&(u=l[e]),n&&(u=u.replace(/\{(\d+)\}/g,function(d,f){const h=n[f-1];let g=h;return typeof h>"u"&&(g=d),g})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((r,i)=>r.concat(i),[]);let n=this;for(let r=0;r<e.length;r++)if(n=n.getChild(e[r]),!n||!n.getChild)return;return n}setIcon(e,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const r="http://www.w3.org/2000/svg",i=Er("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=Cn.createElementNS(r,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=Cn.createElementNS(r,"use");return s.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(s),this.iconIsSet_?n.replaceChild(i,n.querySelector(".vjs-icon-placeholder")):n.appendChild(i),this.iconIsSet_=!0,i}addChild(e,n={},r=this.children_.length){let i,s;if(typeof e=="string"){s=Ws(e);const a=n.componentClass||s;n.name=s;const o=Qt.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;i=new o(this.player_||this,n)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),s=s||i.name&&Ws(i.name()),s&&(this.childNameIndex_[s]=i,this.childNameIndex_[ub(s)]=i),typeof i.el=="function"&&i.el()){let a=null;this.children_[r+1]&&(this.children_[r+1].el_?a=this.children_[r+1].el_:a_(this.children_[r+1])&&(a=this.children_[r+1])),this.contentEl().insertBefore(i.el(),a)}return i}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let n=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){n=!0,this.children_.splice(i,1);break}if(!n)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Ws(e.name())]=null,this.childNameIndex_[ub(e.name())]=null;const r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const n=this.options_,r=a=>{const o=a.name;let l=a.opts;if(n[o]!==void 0&&(l=n[o]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(o,l);u&&(this[o]=u)};let i;const s=Qt.getComponent("Tech");Array.isArray(e)?i=e:i=Object.keys(e),i.concat(Object.keys(this.options_).filter(function(a){return!i.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,l;return typeof a=="string"?(o=a,l=e[o]||this.options_[o]||{}):(o=a.name,l=a),{name:o,opts:l}}).filter(a=>{const o=Qt.getComponent(a.opts.componentClass||Ws(a.name));return o&&!s.isTech(o)}).forEach(r)}}buildCSSClass(){return""}ready(e,n=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}n?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(e,n){return Np(e,n||this.contentEl())}$$(e,n){return Cre(e,n||this.contentEl())}hasClass(e){return lb(this.el_,e)}addClass(...e){cm(this.el_,...e)}removeClass(...e){EA(this.el_,...e)}toggleClass(e,n){vre(this.el_,e,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return _re(this.el_,e)}setAttribute(e,n){dy(this.el_,e,n)}removeAttribute(e){AA(this.el_,e)}width(e,n){return this.dimension("width",e,n)}height(e,n){return this.dimension("height",e,n)}dimensions(e,n){this.width(e,!0),this.height(n)}dimension(e,n,r){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[e]=n:n==="auto"?this.el_.style[e]="":this.el_.style[e]=n+"px",r||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[e],s=i.indexOf("px");return parseInt(s!==-1?i.slice(0,s):this.el_["offset"+Ws(e)],10)}currentDimension(e){let n=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(n=hy(this.el_,e),n=parseFloat(n),n===0||isNaN(n)){const r=`offset${Ws(e)}`;n=this.el_[r]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),n={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},r={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:n,center:r}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,n=null;const r=10,i=200;let s;this.on("touchstart",function(o){o.touches.length===1&&(n={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=et.performance.now(),s=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)s=!1;else if(n){const l=o.touches[0].pageX-n.pageX,u=o.touches[0].pageY-n.pageY;Math.sqrt(l*l+u*u)>r&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){n=null,s===!0&&et.performance.now()-e<i&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=hs(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)});const r=function(i){e(),this.clearInterval(n)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}setTimeout(e,n){var r;return e=hs(this,e),this.clearTimersOnDispose_(),r=et.setTimeout(()=>{this.setTimeoutIds_.has(r)&&this.setTimeoutIds_.delete(r),e()},n),this.setTimeoutIds_.add(r),r}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),et.clearTimeout(e)),e}setInterval(e,n){e=hs(this,e),this.clearTimersOnDispose_();const r=et.setInterval(e,n);return this.setIntervalIds_.add(r),r}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),et.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var n;return e=hs(this,e),n=et.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),e()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(e,n){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),n=hs(this,n);const r=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,r),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),et.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,n])=>{this[e].forEach((r,i)=>this[n](i))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function n(s){const a=et.getComputedStyle(s,null),o=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(o)}function r(s){return!(!n(s.parentElement)||!n(s)||s.style.opacity==="0"||et.getComputedStyle(s).height==="0px"||et.getComputedStyle(s).width==="0px")}function i(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const a={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(a.x<0||a.x>(Cn.documentElement.clientWidth||et.innerWidth)||a.y<0||a.y>(Cn.documentElement.clientHeight||et.innerHeight))return!1;let o=Cn.elementFromPoint(a.x,a.y);for(;o;){if(o===s)return!0;if(o.parentNode)o=o.parentNode;else return!1}}return e||(e=this.el()),!!(i(e)&&r(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,n){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const r=Qt.getComponent("Tech"),i=r&&r.isTech(n),s=Qt===n||Qt.prototype.isPrototypeOf(n.prototype);if(i||!s){let o;throw i?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=Ws(e),Qt.components_||(Qt.components_={});const a=Qt.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,l=Object.keys(o);if(o&&l.length>0){for(let u=0;u<l.length;u++)if(o[l[u]]!==null)throw new Error("Can not register Player component after player has been created.")}}return Qt.components_[e]=n,Qt.components_[ub(e)]=n,n}static getComponent(e){if(!(!e||!Qt.components_))return Qt.components_[e]}}Qt.registerComponent("Component",Qt);function WGe(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${n}).`)}function GV(t,e,n,r){return WGe(t,r,n.length-1),n[r][e]}function hP(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:GV.bind(null,"start",0,t),end:GV.bind(null,"end",1,t)},et.Symbol&&et.Symbol.iterator&&(e[et.Symbol.iterator]=()=>(t||[]).values()),e}function vc(t,e){return Array.isArray(t)?hP(t):t===void 0||e===void 0?hP():hP([[t,e]])}const $re=function(t,e){t=t<0?0:t;let n=Math.floor(t%60),r=Math.floor(t/60%60),i=Math.floor(t/3600);const s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=r=n="-"),i=i>0||a>0?i+":":"",r=((i||s>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n};let qL=$re;function Nre(t){qL=t}function Fre(){qL=$re}function Om(t,e=t){return qL(t,e)}var qGe=Object.freeze({__proto__:null,createTimeRanges:vc,createTimeRange:vc,setFormatTime:Nre,resetFormatTime:Fre,formatTime:Om});function Bre(t,e){let n=0,r,i;if(!e)return 0;(!t||!t.length)&&(t=vc(0,0));for(let s=0;s<t.length;s++)r=t.start(s),i=t.end(s),i>e&&(i=e),n+=i-r;return n/e}function Vs(t){if(t instanceof Vs)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Ld(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Vs.defaultMessages[this.code]||"")}Vs.prototype.code=0;Vs.prototype.message="";Vs.prototype.status=null;Vs.prototype.metadata=null;Vs.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Vs.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};Vs.MEDIA_ERR_CUSTOM=0;Vs.prototype.MEDIA_ERR_CUSTOM=0;Vs.MEDIA_ERR_ABORTED=1;Vs.prototype.MEDIA_ERR_ABORTED=1;Vs.MEDIA_ERR_NETWORK=2;Vs.prototype.MEDIA_ERR_NETWORK=2;Vs.MEDIA_ERR_DECODE=3;Vs.prototype.MEDIA_ERR_DECODE=3;Vs.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Vs.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Vs.MEDIA_ERR_ENCRYPTED=5;Vs.prototype.MEDIA_ERR_ENCRYPTED=5;function cb(t){return t!=null&&typeof t.then=="function"}function yd(t){cb(t)&&t.then(null,e=>{})}const YI=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((n,r,i)=>(t[r]&&(n[r]=t[r]),n),{cues:t.cues&&Array.prototype.map.call(t.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},XGe=function(t){const e=t.$$("track"),n=Array.prototype.map.call(e,i=>i.track);return Array.prototype.map.call(e,function(i){const s=YI(i.track);return i.src&&(s.src=i.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(i){return n.indexOf(i)===-1}).map(YI))},YGe=function(t,e){return t.forEach(function(n){const r=e.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(i=>r.addCue(i))}),e.textTracks()};var KI={textTracksToJson:XGe,jsonToTextTracks:YGe,trackToJson:YI};const pP="vjs-modal-dialog";class l_ extends Qt{constructor(e,n){super(e,n),this.handleKeyDown_=r=>this.handleKeyDown(r),this.close_=r=>this.close(r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=Er("div",{className:`${pP}-content`},{role:"document"}),this.descEl_=Er("p",{className:`${pP}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Yp(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${pP} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const n=this.closeable_=!!e;let r=this.getChild("closeButton");if(n&&!r){const i=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(r,"close",this.close_)}!n&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const n=this.contentEl(),r=n.parentNode,i=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(n),this.empty(),Tre(n,e),this.trigger("modalfill"),i?r.insertBefore(n,i):r.appendChild(n);const s=this.getChild("closeButton");s&&r.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),kA(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Cn.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const n=this.focusableEls_(),r=this.el_.querySelector(":focus");let i;for(let s=0;s<n.length;s++)if(r===n[s]){i=s;break}Cn.activeElement===this.el_&&(i=0),e.shiftKey&&i===0?(n[n.length-1].focus(),e.preventDefault()):!e.shiftKey&&i===n.length-1&&(n[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,n=>(n instanceof et.HTMLAnchorElement||n instanceof et.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof et.HTMLInputElement||n instanceof et.HTMLSelectElement||n instanceof et.HTMLTextAreaElement||n instanceof et.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof et.HTMLIFrameElement||n instanceof et.HTMLObjectElement||n instanceof et.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}l_.prototype.options_={pauseOnOpen:!0,temporary:!0};Qt.registerComponent("ModalDialog",l_);class Mm extends uu{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<e.length;n++)this.addTrack(e[n])}addTrack(e){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Of(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let n;for(let r=0,i=this.length;r<i;r++)if(this[r]===e){n=this[r],n.off&&n.off(),this.tracks_.splice(r,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(e){let n=null;for(let r=0,i=this.length;r<i;r++){const s=this[r];if(s.id===e){n=s;break}}return n}}Mm.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Mm.prototype.allowedEvents_)Mm.prototype["on"+t]=null;const mP=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].enabled=!1)};class Ure extends Mm{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].enabled){mP(e,e[n]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&mP(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,mP(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const gP=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].selected=!1)};class Vre extends Mm{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].selected){gP(e,e[n]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(e){e.selected&&gP(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,gP(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class XL extends Mm{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}toJSON(){return this.tracks_.map(e=>e.toJSON())}}class KGe{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,r=e.length;n<r;n++)this.addTrackElement_(e[n])}addTrackElement_(e){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let n;for(let r=0,i=this.trackElements_.length;r<i;r++)if(e===this.trackElements_[r].track){n=this.trackElements_[r];break}return n}removeTrackElement_(e){for(let n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class yC{constructor(e){yC.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const n=this.length||0;let r=0;const i=e.length;this.cues_=e,this.length_=e.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(n<i)for(r=n;r<i;r++)s.call(this,r)}getCueById(e){let n=null;for(let r=0,i=this.length;r<i;r++){const s=this[r];if(s.id===e){n=s;break}}return n}}const ZGe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},QGe={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},JGe={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},WV={disabled:"disabled",hidden:"hidden",showing:"showing"};class YL extends uu{constructor(e={}){super();const n={id:e.id||"vjs_track_"+Wu(),kind:e.kind||"",language:e.language||""};let r=e.label||"";for(const i in n)Object.defineProperty(this,i,{get(){return n[i]},set(){}});Object.defineProperty(this,"label",{get(){return r},set(i){i!==r&&(r=i,this.trigger("labelchange"))}})}}const KL=function(t){return new URL(t,Cn.baseURI)},zre=function(t){return new URL(t,Cn.baseURI).href},ZL=function(t){if(typeof t=="string"){const n=t.split("?")[0].replace(/\/+$/,"").match(/\.([^.\/]+)$/);return n?n[1].toLowerCase():""}return""},OA=function(t,e=et.location){return KL(t).origin!==e.origin};var eWe=Object.freeze({__proto__:null,parseUrl:KL,getAbsoluteURL:zre,getFileExtension:ZL,isCrossOrigin:OA});const qV=function(t,e){const n=new et.WebVTT.Parser(et,et.vttjs,et.WebVTT.StringDecoder()),r=[];n.oncue=function(i){e.addCue(i)},n.onparsingerror=function(i){r.push(i)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),r.length>0&&(et.console&&et.console.groupCollapsed&&et.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),r.forEach(i=>ei.error(i)),et.console&&et.console.groupEnd&&et.console.groupEnd()),n.flush()},XV=function(t,e){const n={uri:t},r=OA(t);r&&(n.cors=r);const i=e.tech_.crossOrigin()==="use-credentials";i&&(n.withCredentials=i),une(n,hs(this,function(s,a,o){if(s)return ei.error(s,a);e.loaded_=!0,typeof et.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){ei.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return qV(o,e)}):qV(o,e)}))};class xx extends YL{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const n=Xi(e,{kind:JGe[e.kind]||"subtitles",language:e.language||e.srclang||""});let r=WV[n.mode]||"disabled";const i=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(r="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new yC(this.cues_),a=new yC(this.activeCues_);let o=!1;this.timeupdateHandler=hs(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),r!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return r},set(u){WV[u]&&r!==u&&(r=u,!this.preload_&&r!=="disabled"&&this.cues.length===0&&XV(this.src,this),this.stopTracking(),r!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const u=this.tech_.currentTime(),d=[];for(let f=0,h=this.cues.length;f<h;f++){const g=this.cues[f];g.startTime<=u&&g.endTime>=u&&d.push(g)}if(o=!1,d.length!==this.activeCues_.length)o=!0;else for(let f=0;f<d.length;f++)this.activeCues_.indexOf(d[f])===-1&&(o=!0);return this.activeCues_=d,a.setCues_(this.activeCues_),a},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&XV(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let n=e;if(!("getCueAsHTML"in n)){n=new et.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in n||(n[i]=e[i]);n.id=e.id,n.originalCue_=e}const r=this.tech_.textTracks();for(let i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}toJSON(){return KI.trackToJson(this)}removeCue(e){let n=this.cues_.length;for(;n--;){const r=this.cues_[n];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}xx.prototype.allowedEvents_={cuechange:"cuechange"};class Hre extends YL{constructor(e={}){const n=Xi(e,{kind:QGe[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"enabled",{get(){return r},set(i){typeof i!="boolean"||i===r||(r=i,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class jre extends YL{constructor(e={}){const n=Xi(e,{kind:ZGe[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"selected",{get(){return r},set(i){typeof i!="boolean"||i===r||(r=i,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class jf extends uu{constructor(e={}){super();let n;const r=new xx(e);this.kind=r.kind,this.src=r.src,this.srclang=r.language,this.label=r.label,this.default=r.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return r}}}),n=jf.NONE,r.addEventListener("loadeddata",()=>{n=jf.LOADED,this.trigger({type:"load",target:this})})}}jf.prototype.allowedEvents_={load:"load"};jf.NONE=0;jf.LOADING=1;jf.LOADED=2;jf.ERROR=3;const Uu={audio:{ListClass:Ure,TrackClass:Hre,capitalName:"Audio"},video:{ListClass:Vre,TrackClass:jre,capitalName:"Video"},text:{ListClass:XL,TrackClass:xx,capitalName:"Text"}};Object.keys(Uu).forEach(function(t){Uu[t].getterName=`${t}Tracks`,Uu[t].privateName=`${t}Tracks_`});const py={remoteText:{ListClass:XL,TrackClass:xx,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:KGe,TrackClass:jf,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},el=Object.assign({},Uu,py);py.names=Object.keys(py);Uu.names=Object.keys(Uu);el.names=[].concat(py.names).concat(Uu.names);function tWe(t,e,n,r,i={}){const s=t.textTracks();i.kind=e,n&&(i.label=n),r&&(i.language=r),i.tech=t;const a=new el.text.TrackClass(i);return s.addTrack(a),a}class Ur extends Qt{constructor(e={},n=function(){}){e.reportTouchActivity=!1,super(null,e,n),this.onDurationChange_=r=>this.onDurationChange(r),this.trackProgress_=r=>this.trackProgress(r),this.trackCurrentTime_=r=>this.trackCurrentTime(r),this.stopTrackingCurrentTime_=r=>this.stopTrackingCurrentTime(r),this.disposeSourceHandler_=r=>this.disposeSourceHandler(r),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),el.names.forEach(r=>{const i=el[r];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(r=>{e[`native${r}Tracks`]===!1&&(this[`featuresNative${r}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new el.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(hs(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return vc(0,0)}bufferedPercent(){return Bre(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Uu.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(n=>{const r=this[`${n}Tracks`]()||[];let i=r.length;for(;i--;){const s=r[i];n==="text"&&this.removeRemoteTextTrack(s),r.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let n=e.length;for(;n--;){const r=e[n];this.removeRemoteTextTrack(r)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Vs(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?vc(0,0):vc()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Uu.names.forEach(e=>{const n=Uu[e],r=()=>{this.trigger(`${e}trackchange`)},i=this[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),this.on("dispose",()=>{i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)})})}addWebVttScript_(){if(!et.WebVTT)if(Cn.body.contains(this.el())){if(!this.options_["vtt.js"]&&cy(fV)&&Object.keys(fV).length>0){this.trigger("vttjsloaded");return}const e=Cn.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),et.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),n=this.remoteTextTracks(),r=o=>e.addTrack(o.track),i=o=>e.removeTrack(o.track);n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let o=0;o<e.length;o++){const l=e[o];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",s)})}addTextTrack(e,n,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return tWe(this,e,n,r)}createRemoteTextTrack(e){const n=Xi(e,{tech:this});return new py.remoteTextEl.TrackClass(n)}addRemoteTextTrack(e={},n){const r=this.createRemoteTextTrack(e);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(r.track)),r}removeRemoteTextTrack(e){const n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const n=Wu();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),e())})):this.requestNamedAnimationFrame(n,e),n}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,n){return Ur.canPlayType(e.type)}static isTech(e){return e.prototype instanceof Ur||e instanceof Ur||e===Ur}static registerTech(e,n){if(Ur.techs_||(Ur.techs_={}),!Ur.isTech(n))throw new Error(`Tech ${e} must be a Tech`);if(!Ur.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Ur.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Ws(e),Ur.techs_[e]=n,Ur.techs_[ub(e)]=n,e!=="Tech"&&Ur.defaultTechOrder_.push(e),n}static getTech(e){if(e){if(Ur.techs_&&Ur.techs_[e])return Ur.techs_[e];if(e=Ws(e),et&&et.videojs&&et.videojs[e])return ei.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),et.videojs[e]}}}el.names.forEach(function(t){const e=el[t];Ur.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Ur.prototype.featuresVolumeControl=!0;Ur.prototype.featuresMuteControl=!0;Ur.prototype.featuresFullscreenResize=!1;Ur.prototype.featuresPlaybackRate=!1;Ur.prototype.featuresProgressEvents=!1;Ur.prototype.featuresSourceset=!1;Ur.prototype.featuresTimeupdateEvents=!1;Ur.prototype.featuresNativeTextTracks=!1;Ur.prototype.featuresVideoFrameCallback=!1;Ur.withSourceHandlers=function(t){t.registerSourceHandler=function(n,r){let i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),r===void 0&&(r=i.length),i.splice(r,0,n)},t.canPlayType=function(n){const r=t.sourceHandlers||[];let i;for(let s=0;s<r.length;s++)if(i=r[s].canPlayType(n),i)return i;return""},t.selectSourceHandler=function(n,r){const i=t.sourceHandlers||[];let s;for(let a=0;a<i.length;a++)if(s=i[a].canHandleSource(n,r),s)return i[a];return null},t.canPlaySource=function(n,r){const i=t.selectSourceHandler(n,r);return i?i.canHandleSource(n,r):""},["seekable","seeking","duration"].forEach(function(n){const r=this[n];typeof r=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){let r=t.selectSourceHandler(n,this.options_);r||(t.nativeSourceHandler?r=t.nativeSourceHandler:ei.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==t.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=r.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Qt.registerComponent("Tech",Ur);Ur.registerTech("Tech",Ur);Ur.defaultTechOrder_=[];const dm={},_C={},bC={};function nWe(t,e){dm[t]=dm[t]||[],dm[t].push(e)}function rWe(t,e,n){t.setTimeout(()=>R0(e,dm[e.type],n,t),1)}function iWe(t,e){t.forEach(n=>n.setTech&&n.setTech(e))}function sWe(t,e,n){return t.reduceRight(QL(n),e[n]())}function aWe(t,e,n,r){return e[n](t.reduce(QL(n),r))}function YV(t,e,n,r=null){const i="call"+Ws(n),s=t.reduce(QL(i),r),a=s===bC,o=a?null:e[n](s);return uWe(t,n,o,a),o}const oWe={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},lWe={setCurrentTime:1,setMuted:1,setVolume:1},KV={play:1,pause:1};function QL(t){return(e,n)=>e===bC?bC:n[t]?n[t](e):e}function uWe(t,e,n,r){for(let i=t.length-1;i>=0;i--){const s=t[i];s[e]&&s[e](r,n)}}function cWe(t){_C.hasOwnProperty(t.id())&&delete _C[t.id()]}function dWe(t,e){const n=_C[t.id()];let r=null;if(n==null)return r=e(t),_C[t.id()]=[[e,r]],r;for(let i=0;i<n.length;i++){const[s,a]=n[i];s===e&&(r=a)}return r===null&&(r=e(t),n.push([e,r])),r}function R0(t={},e=[],n,r,i=[],s=!1){const[a,...o]=e;if(typeof a=="string")R0(t,dm[a],n,r,i,s);else if(a){const l=dWe(r,a);if(!l.setSource)return i.push(l),R0(t,o,n,r,i,s);l.setSource(Object.assign({},t),function(u,d){if(u)return R0(t,o,n,r,i,s);i.push(l),R0(d,t.type===d.type?o:dm[d.type],n,r,i,s)})}else o.length?R0(t,o,n,r,i,s):s?n(t,i):R0(t,dm["*"],n,r,i,!0)}const fWe={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},xC=function(t=""){const e=ZL(t);return fWe[e.toLowerCase()]||""},hWe=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const n=t.cache_.sources.filter(i=>i.src===e);if(n.length)return n[0].type;const r=t.$$("source");for(let i=0;i<r.length;i++){const s=r[i];if(s.type&&s.src&&s.src===e)return s.type}return xC(e)},Gre=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(n){n=Gre(n),Array.isArray(n)?e=e.concat(n):Ld(n)&&e.push(n)}),t=e}else typeof t=="string"&&t.trim()?t=[ZV({src:t})]:Ld(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[ZV(t)]:t=[];return t};function ZV(t){if(!t.type){const e=xC(t.src);e&&(t.type=e)}return t}var pWe=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const QV=pC?10009:mC?461:8,Ag={codes:{play:415,pause:19,ff:417,rw:412,back:QV},names:{415:"play",19:"pause",417:"ff",412:"rw",[QV]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},JV=5;class mWe extends uu{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const n=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(n.key)){if(this.isPaused_)return;n.preventDefault();const r=n.key.substring(5).toLowerCase();this.move(r)}else if(Ag.isEventKey(n,"play")||Ag.isEventKey(n,"pause")||Ag.isEventKey(n,"ff")||Ag.isEventKey(n,"rw")){n.preventDefault();const r=Ag.getEventName(n);this.performMediaAction_(r)}else Ag.isEventKey(n,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(n.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+JV);break;case"rw":this.userSeek_(this.player_.currentTime()-JV);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const n=e.relatedTarget;let r=null;const i=this.getCurrentComponent(e.target);n&&(r=!!n.closest(".video-js"),n.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!r||!n)&&(i&&i.name()==="CloseButton"?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,n=[];function r(i){for(const s of i)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&n.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&r(s.children_)}return e.children_.forEach(i=>{if(i.hasOwnProperty("el_"))if(i.getIsFocusable&&i.getIsAvailableToBeFocused&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())){n.push(i);return}else i.hasOwnProperty("children_")&&i.children_.length>0?r(i.children_):i.hasOwnProperty("items")&&i.items.length>0?r(i.items):this.findSuitableDOMChild(i)&&n.push(i);if(i.name_==="ErrorDisplay"&&i.opened_){const s=i.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((o,l)=>{n.push({name:()=>"ModalButton"+(l+1),el:()=>o,getPositions:()=>{const u=o.getBoundingClientRect(),d={x:u.x,y:u.y,width:u.width,height:u.height,top:u.top,right:u.right,bottom:u.bottom,left:u.left},f={x:u.left+u.width/2,y:u.top+u.height/2,width:0,height:0,top:u.top+u.height/2,right:u.left+u.width/2,bottom:u.top+u.height/2,left:u.left+u.width/2};return{boundingClientRect:d,center:f}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:u=>!0,focus:()=>o.focus()})})}}),this.focusableComponents=n,this.focusableComponents}findSuitableDOMChild(e){function n(r){if(e.getIsFocusable(r)&&e.getIsAvailableToBeFocused(r))return r;for(let i=0;i<r.children.length;i++){const s=r.children[i],a=n(s);if(a)return a}return null}return e.el()?n(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const n=e||document.activeElement;if(this.focusableComponents.length){for(const r of this.focusableComponents)if(r.el()===n)return r}}add(e){const n=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&n.push(e),this.focusableComponents=n,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let n=0;n<this.focusableComponents.length;n++)if(this.focusableComponents[n].name()===e.name()){this.focusableComponents.splice(n,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const n=this.getCurrentComponent();if(!n)return;const r=n.getPositions(),i=this.focusableComponents.filter(a=>a!==n&&this.isInDirection_(r.boundingClientRect,a.getPositions().boundingClientRect,e)),s=this.findBestCandidate_(r.center,i,e);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:n})}findBestCandidate_(e,n,r){let i=1/0,s=null;for(const a of n){const o=a.getPositions().center,l=this.calculateDistance_(e,o,r);l<i&&(i=l,s=a)}return s}isInDirection_(e,n,r){switch(r){case"right":return n.left>=e.right;case"left":return n.right<=e.left;case"down":return n.top>=e.bottom;case"up":return n.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,n,r){const i=Math.abs(e.x-n.x),s=Math.abs(e.y-n.y);let a;switch(r){case"right":case"left":a=i+s*100;break;case"up":a=s*2+i*.5;break;case"down":a=s*5+i;break;default:a=i+s}return a}searchForTrackSelect_(){const e=this;for(const n of e.updateFocusableComponents())if(n.constructor.name==="TextTrackSelect"){e.focus(n);break}}}class gWe extends Qt{constructor(e,n,r){const i=Xi({createEl:!1},n);if(super(e,i,r),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let s=0,a=n.playerOptions.techOrder;s<a.length;s++){const o=Ws(a[s]);let l=Ur.getTech(o);if(o||(l=Qt.getComponent(o)),l&&l.isSupported()){e.loadTech_(o);break}}else e.src(n.playerOptions.sources)}}Qt.registerComponent("MediaLoader",gWe);class MA extends Qt{constructor(e,n){super(e,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=r=>this.handleMouseOver(r),this.handleMouseOut_=r=>this.handleMouseOut(r),this.handleClick_=r=>this.handleClick(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.emitTapEvents(),this.enable()}createEl(e="div",n={},r={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),e==="button"&&ei.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),r=Object.assign({role:"button"},r),this.tabIndex_=n.tabIndex;const i=Er(e,n,r);return this.player_.options_.experimentalSvgIcons||i.appendChild(Er("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=Er("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,n=this.el()){if(e===void 0)return this.controlText_||"Need Text";const r=this.localize(e);this.controlText_=e,Yp(this.controlTextEl_,r),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",r)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Qt.registerComponent("ClickableComponent",MA);class ZI extends MA{constructor(e,n){super(e,n),this.update(),this.update_=r=>this.update(r),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return Er("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(Er("picture",{className:"vjs-poster",tabIndex:-1},{},Er("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?yd(this.player_.play()):this.player_.pause())}}ZI.prototype.crossorigin=ZI.prototype.crossOrigin;Qt.registerComponent("PosterImage",ZI);const _u="#222",ez="#ccc",vWe={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function vP(t,e){let n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function ed(t,e,n){try{t.style[e]=n}catch{return}}function tz(t){return t?`${t}px`:""}class yWe extends Qt{constructor(e,n,r){super(e,n,r);const i=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("useractive",i),e.on("userinactive",i),e.on("texttrackchange",i),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(hs(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const a=et.screen.orientation||et,o=et.screen.orientation?"change":"orientationchange";a.addEventListener(o,s),e.on("dispose",()=>a.removeEventListener(o,s));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},n=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage;let i,s,a;for(let o=0;o<n.length;o++){const l=n[o];r&&r.enabled&&r.language&&r.language===l.language&&l.kind in e?l.kind===r.kind?a=l:a||(a=l):r&&!r.enabled?(a=null,i=null,s=null):l.default&&(l.kind==="descriptions"&&!i?i=l:l.kind in e&&!s&&(s=l))}a?a.mode="showing":s?s.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof et.WebVTT=="function"&&et.WebVTT.processCues(et,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const a=[];for(let o=0;o<e.length;++o){const l=e[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}let r=null,i=null,s=e.length;for(;s--;){const a=e[s];a.mode==="showing"&&(a.kind==="descriptions"?r=a:i=a)}if(i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):r&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r)),!et.CSS.supports("inset","10px")){const a=this.el_,o=a.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,u=this.player_.el_.getBoundingClientRect().height;a.style="",ed(a,"position","relative"),ed(a,"height",u-l+"px"),ed(a,"top","unset"),gC?ed(a,"bottom",u+"px"):ed(a,"bottom","0px"),o.length>0&&o.forEach(d=>{if(d.style.inset){const f=d.style.inset.split(" ");f.length===3&&Object.assign(d.style,{top:f[0],right:f[1],bottom:f[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!et.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),n=this.player_.currentHeight(),r=e/n,i=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(r-i)>.1&&(r>i?s=Math.round((e-n*i)/2):a=Math.round((n-e/i)/2)),ed(this.el_,"insetInline",tz(s)),ed(this.el_,"insetBlock",tz(a))}updateDisplayState(e){const n=this.player_.textTrackSettings.getValues(),r=e.activeCues;let i=r.length;for(;i--;){const s=r[i];if(!s)continue;const a=s.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&ed(a.firstChild,"color",vP(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&ed(a.firstChild,"backgroundColor",vP(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?ed(a,"backgroundColor",vP(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${_u}, 2px 2px 4px ${_u}, 2px 2px 5px ${_u}`:n.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${_u}, 2px 2px ${_u}, 3px 3px ${_u}`:n.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${ez}, 0 1px ${ez}, -1px -1px ${_u}, 0 -1px ${_u}`:n.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${_u}, 0 0 4px ${_u}, 0 0 4px ${_u}, 0 0 4px ${_u}`)),n.fontPercent&&n.fontPercent!==1){const o=et.parseFloat(a.style.fontSize);a.style.fontSize=o*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=vWe[n.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof et.WebVTT!="function"||e.every(r=>!r.activeCues))return;const n=[];for(let r=0;r<e.length;++r){const i=e[r];for(let s=0;s<i.activeCues.length;++s)n.push(i.activeCues[s])}et.WebVTT.processCues(et,n,this.el_);for(let r=0;r<e.length;++r){const i=e[r];for(let s=0;s<i.activeCues.length;++s){const a=i.activeCues[s].displayState;cm(a,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:r)),i.language&&dy(a,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}Qt.registerComponent("TextTrackDisplay",yWe);class _We extends Qt{createEl(){const e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),r=Er("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Qt.registerComponent("LoadingSpinner",_We);class Lo extends MA{createEl(e,n={},r={}){e="button",n=Object.assign({className:this.buildCSSClass()},n),r=Object.assign({type:"button"},r);const i=Er(e,n,r);return this.player_.options_.experimentalSvgIcons||i.appendChild(Er("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,n={}){const r=this.constructor.name;return ei.warn(`Adding an actionable (user controllable) child to a Button (${r}) is not supported; use a ClickableComponent instead.`),Qt.prototype.addChild.call(this,e,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}Qt.registerComponent("Button",Lo);class Wre extends Lo{constructor(e,n){super(e,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",r=>this.handleMouseDown(r))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const n=this.player_.play();if(e.type==="tap"||this.mouseused_&&"clientX"in e&&"clientY"in e){yd(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const r=this.player_.getChild("controlBar"),i=r&&r.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const s=()=>i.focus();cb(n)?n.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}Wre.prototype.controlText_="Play Video";Qt.registerComponent("BigPlayButton",Wre);class bWe extends Lo{constructor(e,n){super(e,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Qt.registerComponent("CloseButton",bWe);class qre extends Lo{constructor(e,n={}){super(e,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(e,"play",r=>this.handlePlay(r)),this.on(e,"pause",r=>this.handlePause(r)),n.replay&&this.on(e,"ended",r=>this.handleEnded(r))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?yd(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}qre.prototype.controlText_="Play";Qt.registerComponent("PlayToggle",qre);class u_ extends Qt{constructor(e,n){super(e,n),this.on(e,["timeupdate","ended","seeking"],r=>this.update(r)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),n=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),r=Er("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return n.appendChild(r),this.contentEl_=Er("span",{className:`${e}-display`},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Om(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,ei.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Cn.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}u_.prototype.labelText_="Time";u_.prototype.controlText_="Time";Qt.registerComponent("TimeDisplay",u_);class JL extends u_{buildCSSClass(){return"vjs-current-time"}updateContent(e){let n;this.player_.ended()?n=this.player_.duration():e&&e.target&&typeof e.target.pendingSeekTime=="function"?n=e.target.pendingSeekTime():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}JL.prototype.labelText_="Current Time";JL.prototype.controlText_="Current Time";Qt.registerComponent("CurrentTimeDisplay",JL);class e$ extends u_{constructor(e,n){super(e,n);const r=i=>this.updateContent(i);this.on(e,"durationchange",r),this.on(e,"loadstart",r),this.on(e,"loadedmetadata",r)}buildCSSClass(){return"vjs-duration"}updateContent(e){const n=this.player_.duration();this.updateTextNode_(n)}}e$.prototype.labelText_="Duration";e$.prototype.controlText_="Duration";Qt.registerComponent("DurationDisplay",e$);class xWe extends Qt{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),r=super.createEl("span",{textContent:"/"});return n.appendChild(r),e.appendChild(n),e}}Qt.registerComponent("TimeDivider",xWe);class t$ extends u_{constructor(e,n){super(e,n),this.on(e,"durationchange",r=>this.updateContent(r))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(Er("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}t$.prototype.labelText_="Remaining Time";t$.prototype.controlText_="Remaining Time";Qt.registerComponent("RemainingTimeDisplay",t$);class wWe extends Qt{constructor(e,n){super(e,n),this.updateShowing(),this.on(this.player(),"durationchange",r=>this.updateShowing(r))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Er("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Er("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(Cn.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}Qt.registerComponent("LiveDisplay",wWe);class Xre extends Lo{constructor(e,n){super(e,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=r=>this.updateLiveEdgeStatus(r),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=Er("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}Xre.prototype.controlText_="Seek to live, currently playing live";Qt.registerComponent("SeekToLive",Xre);function wx(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))}var SWe=Object.freeze({__proto__:null,clamp:wx});class n$ extends Qt{constructor(e,n){super(e,n),this.handleMouseDown_=r=>this.handleMouseDown(r),this.handleMouseUp_=r=>this.handleMouseUp(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.handleClick_=r=>this.handleClick(r),this.handleMouseMove_=r=>this.handleMouseMove(r),this.update_=r=>this.update(r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,n={},r={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),r=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},r),super.createEl(e,n,r)}handleMouseDown(e){const n=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!$d&&e.preventDefault(),bre(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const n=this.bar.el_.ownerDocument;xre(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(wx(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const n=PA(this.el_,e);return this.vertical()?n.y:n.x}handleKeyDown(e){const n=this.options_.playerOptions.spatialNavigation,r=n&&n.enabled,i=n&&n.horizontalSeek;r?i&&e.key==="ArrowLeft"||!i&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):i&&e.key==="ArrowRight"||!i&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(this.pendingSeekTime()&&(this.pendingSeekTime(null),this.userSeek_(this.player_.currentTime())),super.handleKeyDown(e)):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Qt.registerComponent("Slider",n$);const yP=(t,e)=>wx(t/e*100,0,100).toFixed(2)+"%";class TWe extends Qt{constructor(e,n){super(e,n),this.partEls_=[],this.on(e,"progress",r=>this.update(r))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),n=Er("span",{className:"vjs-control-text"}),r=Er("span",{textContent:this.localize("Loaded")}),i=Cn.createTextNode(": ");return this.percentageEl_=Er("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(r),n.appendChild(i),n.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,r=this.player_.buffered(),i=n&&n.isLive()?n.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,o=yP(s,i);this.percent_!==o&&(this.el_.style.width=o,Yp(this.percentageEl_,o),this.percent_=o);for(let l=0;l<r.length;l++){const u=r.start(l),d=r.end(l);let f=a[l];f||(f=this.el_.appendChild(Er()),a[l]=f),!(f.dataset.start===u&&f.dataset.end===d)&&(f.dataset.start=u,f.dataset.end=d,f.style.left=yP(u,s),f.style.width=yP(d-u,s))}for(let l=a.length;l>r.length;l--)this.el_.removeChild(a[l-1]);a.length=r.length})}}Qt.registerComponent("LoadProgressBar",TWe);class CWe extends Qt{constructor(e,n){super(e,n),this.update=Nd(hs(this,this.update),qu)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,n,r){const i=p1(this.el_),s=fy(this.player_.el()),a=e.width*n;if(!s||!i)return;let o=e.left-s.left+a,l=e.width-a+(s.right-e.right);l||(l=e.width-a,o=a);let u=i.width/2;o<u?u+=u-o:l<u&&(u=l),u<0?u=0:u>i.width&&(u=i.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(r)}write(e){Yp(this.el_,e)}updateTime(e,n,r,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),l=o-n*o;s=(l<1?"":"-")+Om(l,o)}else s=Om(r,a);this.update(e,n,s),i&&i()})}}Qt.registerComponent("TimeTooltip",CWe);class r$ extends Qt{constructor(e,n){super(e,n),this.setIcon("circle"),this.update=Nd(hs(this,this.update),qu)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,n,r){const i=this.getChild("timeTooltip");if(!i)return;const s=r&&r.target&&typeof r.target.pendingSeekTime=="function"?r.target.pendingSeekTime():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,n,s)}}r$.prototype.options_={children:[]};!Oo&&!Pc&&r$.prototype.options_.children.push("timeTooltip");Qt.registerComponent("PlayProgressBar",r$);class Yre extends Qt{constructor(e,n){super(e,n),this.update=Nd(hs(this,this.update),qu)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n){const r=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,r,()=>{this.el_.style.left=`${e.width*n}px`})}}Yre.prototype.options_={children:["timeTooltip"]};Qt.registerComponent("MouseTimeDisplay",Yre);class LA extends n${constructor(e,n){n=Xi(LA.prototype.options_,n),n.children=[...n.children];const r=e.options_.disableSeekWhileScrubbingOnMobile&&(Oo||Pc)||e.options_.disableSeekWhileScrubbingOnSTV;(!Oo&&!Pc||r)&&n.children.splice(1,0,"mouseTimeDisplay"),super(e,n),this.shouldDisableSeekWhileScrubbing_=r,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=hs(this,this.update),this.update=Nd(this.update_,qu),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Cn&&"visibilityState"in Cn&&this.on(Cn,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Cn.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,qu))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Cn.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const r=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let s=this.player_.duration();i&&i.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==r||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Om(r,s),Om(s,s)],"{1} of {2}")),this.currentTime_=r,this.duration_=s),this.bar&&this.bar.update(fy(this.el()),this.getProgress(),e)}),n}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}pendingSeekTime(e){if(e!==void 0)if(e!==null){const n=this.player_.duration();this.pendingSeekTime_=Math.max(0,Math.min(e,n))}else this.pendingSeekTime_=null;return this.pendingSeekTime_}getPercent(){if(this.pendingSeekTime()!==null)return this.pendingSeekTime()/this.player_.duration();const e=this.getCurrentTime_();let n;const r=this.player_.liveTracker;return r&&r.isLive()?(n=(e-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(n=1)):n=e/this.player_.duration(),n}handleMouseDown(e){m1(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbing_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,n=!1){if(!m1(e)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let r;const i=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())r=i*this.player_.duration(),r===this.player_.duration()&&(r=r-.1);else{if(i>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),o=s.liveCurrentTime();if(r=a+i*s.liveWindow(),r>=o&&(r=o),r<=a&&(r=a+.1),r===1/0)return}this.shouldDisableSeekWhileScrubbing_?this.pendingSeekTime(r):this.userSeek_(r),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime()!==null&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?yd(this.player_.play()):this.update_()}handlePendingSeek_(e){this.player_.paused()||this.player_.pause();const n=this.pendingSeekTime()!==null?this.pendingSeekTime():this.player_.currentTime();this.pendingSeekTime(n+e),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}stepForward(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(this.options().stepSeconds):this.userSeek_(this.player_.currentTime()+this.options().stepSeconds)}stepBack(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(-this.options().stepSeconds):this.userSeek_(this.player_.currentTime()-this.options().stepSeconds)}handleAction(e){this.pendingSeekTime()!==null&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const n=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const r=parseInt(e.key,10)*.1;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-this.options().stepSeconds*this.options().pageMultiplier)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+this.options().stepSeconds*this.options().pageMultiplier)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Cn&&"visibilityState"in Cn&&this.off(Cn,"visibilitychange",this.toggleVisibility_),super.dispose()}}LA.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar",stepSeconds:5,pageMultiplier:12};Qt.registerComponent("SeekBar",LA);class Kre extends Qt{constructor(e,n){super(e,n),this.handleMouseMove=Nd(hs(this,this.handleMouseMove),qu),this.throttledHandleMouseSeek=Nd(hs(this,this.handleMouseSeek),qu),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.handleMouseDownHandler_=r=>this.handleMouseDown(r),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const n=this.getChild("seekBar");if(!n)return;const r=n.getChild("playProgressBar"),i=n.getChild("mouseTimeDisplay");if(!r&&!i)return;const s=n.el(),a=p1(s);let o=PA(s,e).x;o=wx(o,0,1),i&&i.update(a,o),r&&r.update(a,n.getProgress())}handleMouseSeek(e){const n=this.getChild("seekBar");n&&n.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&yd(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const n=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}Kre.prototype.options_={children:["seekBar"]};Qt.registerComponent("ProgressControl",Kre);class Zre extends Lo{constructor(e,n){super(e,n),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],r=>this.handlePictureInPictureChange(r)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],r=>this.handlePictureInPictureEnabledChange(r)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Cn.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in et?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Cn.exitPictureInPicture=="function"&&super.show()}}Zre.prototype.controlText_="Picture-in-Picture";Qt.registerComponent("PictureInPictureToggle",Zre);class Qre extends Lo{constructor(e,n){super(e,n),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",r=>this.handleFullscreenChange(r)),Cn[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}Qre.prototype.controlText_="Fullscreen";Qt.registerComponent("FullscreenToggle",Qre);const EWe=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class AWe extends Qt{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}Qt.registerComponent("VolumeLevel",AWe);class PWe extends Qt{constructor(e,n){super(e,n),this.update=Nd(hs(this,this.update),qu)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,n,r,i){if(!r){const s=fy(this.el_),a=fy(this.player_.el()),o=e.width*n;if(!a||!s)return;const l=e.left-a.left+o,u=e.width-o+(a.right-e.right);let d=s.width/2;l<d?d+=d-l:u<d&&(d=u),d<0?d=0:d>s.width&&(d=s.width),this.el_.style.right=`-${d}px`}this.write(`${i}%`)}write(e){Yp(this.el_,e)}updateVolume(e,n,r,i,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,n,r,i.toFixed(0)),s&&s()})}}Qt.registerComponent("VolumeLevelTooltip",PWe);class Jre extends Qt{constructor(e,n){super(e,n),this.update=Nd(hs(this,this.update),qu)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n,r){const i=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,r,i,()=>{r?this.el_.style.bottom=`${e.height*n}px`:this.el_.style.left=`${e.width*n}px`})}}Jre.prototype.options_={children:["volumeLevelTooltip"]};Qt.registerComponent("MouseVolumeLevelDisplay",Jre);class $A extends n${constructor(e,n){super(e,n),this.on("slideractive",r=>this.updateLastVolume_(r)),this.on(e,"volumechange",r=>this.updateARIAAttributes(r)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){m1(e)&&super.handleMouseDown(e)}handleMouseMove(e){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const r=this.el(),i=fy(r),s=this.vertical();let a=PA(r,e);a=s?a.y:a.x,a=wx(a,0,1),n.update(i,a,s)}m1(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}$A.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Oo&&!Pc&&$A.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");$A.prototype.playerEvent="volumechange";Qt.registerComponent("VolumeBar",$A);class eie extends Qt{constructor(e,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||cy(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(e,n),EWe(this,e),this.throttledHandleMouseMove=Nd(hs(this,this.handleMouseMove),qu),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.on("mousedown",r=>this.handleMouseDown(r)),this.on("touchstart",r=>this.handleMouseDown(r)),this.on("mousemove",r=>this.handleMouseMove(r)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}eie.prototype.options_={children:["volumeBar"]};Qt.registerComponent("VolumeControl",eie);const kWe=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class tie extends Lo{constructor(e,n){super(e,n),kWe(this,e),this.on(e,["loadstart","volumechange"],r=>this.update(r))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.volume(),r=this.player_.lastVolume_();if(n===0){const i=r<.1?.1:r;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let n=3;this.setIcon("volume-high"),Oo&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):e<.33?(this.setIcon("volume-low"),n=1):e<.67&&(this.setIcon("volume-medium"),n=2),EA(this.el_,[0,1,2,3].reduce((r,i)=>r+`${i?" ":""}vjs-vol-${i}`,"")),cm(this.el_,`vjs-vol-${n}`)}updateControlText_(){const n=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)}}tie.prototype.controlText_="Mute";Qt.registerComponent("MuteToggle",tie);class nie extends Qt{constructor(e,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||cy(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(e,n),this.handleKeyPressHandler_=r=>this.handleKeyPress(r),this.on(e,["loadstart"],r=>this.volumePanelState_(r)),this.on(this.muteToggle,"keyup",r=>this.handleKeyPress(r)),this.on(this.volumeControl,"keyup",r=>this.handleVolumeControlKeyUp(r)),this.on("keydown",r=>this.handleKeyPress(r)),this.on("mouseover",r=>this.handleMouseOver(r)),this.on("mouseout",r=>this.handleMouseOut(r)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),lu(Cn,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Mo(Cn,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}nie.prototype.options_={children:["muteToggle","volumeControl"]};Qt.registerComponent("VolumePanel",nie);class rie extends Lo{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),r=this.player_.liveTracker,i=r&&r.isLive()?r.seekableEnd():this.player_.duration();let s;n+this.skipTime<=i?s=n+this.skipTime:s=i,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}rie.prototype.controlText_="Skip Forward";Qt.registerComponent("SkipForward",rie);class iie extends Lo{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.currentTime(),r=this.player_.liveTracker,i=r&&r.isLive()&&r.seekableStart();let s;i&&n-this.skipTime<=i?s=i:n>=this.skipTime?s=n-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}iie.prototype.controlText_="Skip Backward";Qt.registerComponent("SkipBackward",iie);class sie extends Qt{constructor(e,n){super(e,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",r=>this.handleKeyDown(r)),this.boundHandleBlur_=r=>this.handleBlur(r),this.boundHandleTapClick_=r=>this.handleTapClick(r)}addEventListenerForItem(e){e instanceof Qt&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Qt&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const n=this.addChild(e);n&&this.addEventListenerForItem(n)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=Er(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),lu(n,"click",function(r){r.preventDefault(),r.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const n=e.relatedTarget||Cn.activeElement;if(!this.children().some(r=>r.el()===n)){const r=this.menuButton_;r&&r.buttonPressed_&&n!==r.el().firstChild&&r.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const r=n.filter(i=>i.el()===e.target)[0];if(!r)return;r.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(e<0?e=0:e>=n.length&&(e=n.length-1),this.focusedChild_=e,n[e].el_.focus())}}Qt.registerComponent("Menu",sie);class i$ extends Qt{constructor(e,n={}){super(e,n),this.menuButton_=new Lo(e,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const r=Lo.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+r,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),lu(Cn,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new sie(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=Er("li",{className:"vjs-menu-title",textContent:Ws(this.options_.title),tabIndex:-1}),r=new Qt(this.player_,{el:n});e.addItem(r)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const n=Lo.prototype.buildCSSClass();return`vjs-menu-button ${e} ${n} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,n=this.menuButton_.el()){return this.menuButton_.controlText(e,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Mo(Cn,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Escape"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Escape"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Escape"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Oo&&mre())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Qt.registerComponent("MenuButton",i$);class s$ extends i${constructor(e,n){const r=n.tracks;if(super(e,n),this.items.length<=1&&this.hide(),!r)return;const i=hs(this,this.update);r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),r.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i),r.removeEventListener("labelchange",i)})}}Qt.registerComponent("TrackButton",s$);class Sx extends MA{constructor(e,n){super(e,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,n,r){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),r),s=Er("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(s):i.replaceChild(s,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Qt.registerComponent("MenuItem",Sx);class Tx extends Sx{constructor(e,n){const r=n.track,i=e.textTracks();n.label=r.label||r.language||"Unknown",n.selected=r.mode==="showing",super(e,n),this.track=r,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const s=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],s),i.addEventListener("change",s),i.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),i.removeEventListener("change",s),i.removeEventListener("selectedlanguagechange",a)}),i.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof et.Event!="object")try{o=new et.Event("change")}catch{}o||(o=Cn.createEvent("Event"),o.initEvent("change",!0,!0)),i.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const n=this.track,r=this.player_.textTracks();if(super.handleClick(e),!!r)for(let i=0;i<r.length;i++){const s=r[i];this.kinds.indexOf(s.kind)!==-1&&(s===n?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Qt.registerComponent("TextTrackMenuItem",Tx);class aie extends Tx{constructor(e,n){n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(e,n)}handleTracksChange(e){const n=this.player().textTracks();let r=!0;for(let i=0,s=n.length;i<s;i++){const a=n[i];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){const n=this.player().textTracks();let r=!0;for(let i=0,s=n.length;i<s;i++){const a=n[i];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Qt.registerComponent("OffTextTrackMenuItem",aie);class c_ extends s${constructor(e,n={}){n.tracks=e.textTracks(),super(e,n)}createItems(e=[],n=Tx){let r;this.label_&&(r=`${this.label_} off`),e.push(new aie(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<i.length;s++){const a=i[s];if(this.kinds_.indexOf(a.kind)>-1){const o=new n(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}}Qt.registerComponent("TextTrackButton",c_);class oie extends Sx{constructor(e,n){const r=n.track,i=n.cue,s=e.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=i.text,n.selected=i.startTime<=s&&s<i.endTime,super(e,n),this.track=r,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Qt.registerComponent("ChaptersTrackMenuItem",oie);class a$ extends c_{constructor(e,n,r){super(e,n,r),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.kind===this.kind_)return r}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ws(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const n=this.track_.cues;if(!n)return e;for(let r=0,i=n.length;r<i;r++){const s=n[r],a=new oie(this.player_,{track:this.track_,cue:s});e.push(a)}return e}}a$.prototype.kind_="chapters";a$.prototype.controlText_="Chapters";Qt.registerComponent("ChaptersButton",a$);class o$ extends c_{constructor(e,n,r){super(e,n,r),this.setIcon("audio-description");const i=e.textTracks(),s=hs(this,this.handleTracksChange);i.addEventListener("change",s),this.on("dispose",function(){i.removeEventListener("change",s)})}handleTracksChange(e){const n=this.player().textTracks();let r=!1;for(let i=0,s=n.length;i<s;i++){const a=n[i];if(a.kind!==this.kind_&&a.mode==="showing"){r=!0;break}}r?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}o$.prototype.kind_="descriptions";o$.prototype.controlText_="Descriptions";Qt.registerComponent("DescriptionsButton",o$);class l$ extends c_{constructor(e,n,r){super(e,n,r),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}l$.prototype.kind_="subtitles";l$.prototype.controlText_="Subtitles";Qt.registerComponent("SubtitlesButton",l$);class u$ extends Tx{constructor(e,n){n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(e,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Qt.registerComponent("CaptionSettingsMenuItem",u$);class c$ extends c_{constructor(e,n,r){super(e,n,r),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new u$(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}c$.prototype.kind_="captions";c$.prototype.controlText_="Captions";Qt.registerComponent("CaptionsButton",c$);class lie extends Tx{createEl(e,n,r){const i=super.createEl(e,n,r),s=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):s.appendChild(Er("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(Er("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}Qt.registerComponent("SubsCapsMenuItem",lie);class d$ extends c_{constructor(e,n={}){super(e,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(Ws(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new u$(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,lie),e}}d$.prototype.kinds_=["captions","subtitles"];d$.prototype.controlText_="Subtitles";Qt.registerComponent("SubsCapsButton",d$);class uie extends Sx{constructor(e,n){const r=n.track,i=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,super(e,n),this.track=r,this.addClass(`vjs-${r.kind}-menu-item`);const s=(...a)=>{this.handleTracksChange.apply(this,a)};i.addEventListener("change",s),this.on("dispose",()=>{i.removeEventListener("change",s)})}createEl(e,n,r){const i=super.createEl(e,n,r),s=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(Er("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(Er("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const i=n[r];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Qt.registerComponent("AudioTrackMenuItem",uie);class cie extends s${constructor(e,n={}){n.tracks=e.audioTracks(),super(e,n),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const i=n[r];e.push(new uie(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}cie.prototype.controlText_="Audio Track";Qt.registerComponent("AudioTrackButton",cie);class f$ extends Sx{constructor(e,n){const r=n.rate,i=parseFloat(r,10);n.label=r,n.selected=i===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(e,n),this.label=r,this.rate=i,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}f$.prototype.contentElType="button";Qt.registerComponent("PlaybackRateMenuItem",f$);class die extends i${constructor(e,n){super(e,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",r=>this.updateVisibility(r)),this.on(e,"ratechange",r=>this.updateLabel(r)),this.on(e,"playbackrateschange",r=>this.handlePlaybackRateschange(r))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Er("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),n=[];for(let r=e.length-1;r>=0;r--)n.push(new f$(this.player(),{rate:e[r]+"x"}));return n}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}die.prototype.controlText_="Playback Rate";Qt.registerComponent("PlaybackRateMenuButton",die);class fie extends Qt{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",n={},r={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(e,n,r)}}Qt.registerComponent("Spacer",fie);class DWe extends fie{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}Qt.registerComponent("CustomControlSpacer",DWe);class hie extends Qt{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}hie.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};Qt.registerComponent("ControlBar",hie);class pie extends l_{constructor(e,n){super(e,n),this.on(e,"error",r=>{this.open(r)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}pie.prototype.options_=Object.assign({},l_.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Qt.registerComponent("ErrorDisplay",pie);class mie extends Qt{constructor(e,n={}){super(e,n),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),Er("select",{id:this.options_.id},{},this.options_.SelectOptions.map(n=>{const r=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Wu()}`)+"-"+n[1].replace(/\W+/g,""),i=Er("option",{id:r,value:this.localize(n[0]),textContent:this.localize(n[1])});return i.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${r}`),i}))}}Qt.registerComponent("TextTrackSelect",mie);class fm extends Qt{constructor(e,n={}){super(e,n);const r=Er("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(r);const i=this.options_.selects;for(const s of i){const a=this.options_.selectConfigs[s],o=a.className,l=a.id.replace("%s",this.options_.id_);let u=null;const d=`vjs_select_${Wu()}`;if(this.options_.type==="colors"){u=Er("span",{className:o});const h=Er("label",{id:l,className:"vjs-label",textContent:this.localize(a.label)});h.setAttribute("for",d),u.appendChild(h)}const f=new mie(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:d,labelId:l});this.addChild(f),this.options_.type==="colors"&&(u.appendChild(f.el()),this.el().appendChild(u))}}createEl(){return Er("fieldset",{className:this.options_.className})}}Qt.registerComponent("TextTrackFieldset",fm);class gie extends Qt{constructor(e,n={}){super(e,n);const r=this.options_.textTrackComponentid,i=new fm(e,{id_:r,legendId:`captions-text-legend-${r}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const s=new fm(e,{id_:r,legendId:`captions-background-${r}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const a=new fm(e,{id_:r,legendId:`captions-window-${r}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return Er("div",{className:"vjs-track-settings-colors"})}}Qt.registerComponent("TextTrackSettingsColors",gie);class vie extends Qt{constructor(e,n={}){super(e,n);const r=this.options_.textTrackComponentid,i=new fm(e,{id_:r,legendId:`captions-font-size-${r}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const s=new fm(e,{id_:r,legendId:`captions-edge-style-${r}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const a=new fm(e,{id_:r,legendId:`captions-font-family-${r}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return Er("div",{className:"vjs-track-settings-font"})}}Qt.registerComponent("TextTrackSettingsFont",vie);class yie extends Qt{constructor(e,n={}){super(e,n);const r=new Lo(e,{controlText:this.localize("restore all settings to the default values"),className:"vjs-default-button"});r.el().classList.remove("vjs-control","vjs-button"),r.el().textContent=this.localize("Reset"),this.addChild(r);const i=this.localize("Done"),s=new Lo(e,{controlText:i,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=i,this.addChild(s)}createEl(){return Er("div",{className:"vjs-track-settings-controls"})}}Qt.registerComponent("TrackSettingsControls",yie);const _P="vjs-text-track-settings",nz=["#000","Black"],rz=["#00F","Blue"],iz=["#0FF","Cyan"],sz=["#0F0","Green"],az=["#F0F","Magenta"],oz=["#F00","Red"],lz=["#FFF","White"],uz=["#FF0","Yellow"],bP=["1","Opaque"],xP=["0.5","Semi-Transparent"],cz=["0","Transparent"],Xh={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[nz,lz,oz,sz,rz,uz,az,iz],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[bP,xP,cz],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[lz,nz,oz,sz,rz,uz,az,iz],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[bP,xP],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[cz,xP,bP],className:"vjs-window-opacity vjs-opacity"}};Xh.windowColor.options=Xh.backgroundColor.options;function _ie(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function IWe(t,e){const n=t.options[t.options.selectedIndex].value;return _ie(n,e)}function RWe(t,e,n){if(e){for(let r=0;r<t.options.length;r++)if(_ie(t.options[r].value,n)===e){t.selectedIndex=r;break}}}class OWe extends l_{constructor(e,n){n.temporary=!1,super(e,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=Er("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const n=new gie(e,{textTrackComponentid:this.id_,selectConfigs:Xh,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(n);const r=new vie(e,{textTrackComponentid:this.id_,selectConfigs:Xh,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(r);const i=new yie(e);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),pv(Xh,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return lre(Xh,(e,n,r)=>{const i=IWe(this.$(n.selector),n.parser);return i!==void 0&&(e[r]=i),e},{})}setValues(e){pv(Xh,(n,r)=>{RWe(this.$(n.selector),e[r],n.parser)})}setDefaults(){pv(Xh,e=>{const n=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=n})}restoreSettings(){let e;try{e=JSON.parse(et.localStorage.getItem(_P))}catch(n){ei.warn(n)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?et.localStorage.setItem(_P,JSON.stringify(e)):et.localStorage.removeItem(_P)}catch(n){ei.warn(n)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}Qt.registerComponent("TextTrackSettings",OWe);class MWe extends Qt{constructor(e,n){let r=n.ResizeObserver||et.ResizeObserver;n.ResizeObserver===null&&(r=!1);const i=Xi({createEl:!r,reportTouchActivity:!1},n);super(e,i),this.ResizeObserver=n.ResizeObserver||et.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=Ire(()=>{this.resizeHandler()},100,!1,this),r?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){Mo(this,"resize",s),Mo(this,"unload",a),a=null};lu(this.el_.contentWindow,"unload",a),lu(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Qt.registerComponent("ResizeManager",MWe);const LWe={trackingThreshold:20,liveTolerance:15};class $We extends Qt{constructor(e,n){const r=Xi(LWe,n,{createEl:!1});super(e,r),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const n=Number(et.performance.now().toFixed(4)),r=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+r;const i=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,qu),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.end(r));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.start(r));return n.length?n.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Qt.registerComponent("LiveTracker",$We);class NWe extends Qt{constructor(e,n){super(e,n),this.on("statechanged",r=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:Er("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Wu()}`}),description:Er("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Wu()}`})},Er("div",{className:"vjs-title-bar"},{},ure(this.els))}updateDom_(){const e=this.player_.tech_,n=e&&e.el_,r={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const s=this.state[i],a=this.els[i],o=r[i];kA(a),s&&Yp(a,s),n&&(n.removeAttribute(o),s&&n.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,n=e&&e.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Qt.registerComponent("TitleBar",NWe);const FWe={initialDisplay:4e3,position:[],takeFocus:!1};class BWe extends Lo{constructor(e,n){n=Xi(FWe,n),super(e,n),this.controlText(n.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],r=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=Er("button",{},{type:"button",class:this.buildCSSClass()},Er("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}Qt.registerComponent("TransientButton",BWe);const QI=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const n=t.$$("source"),r=[];let i="";if(!n.length)return!1;for(let s=0;s<n.length;s++){const a=n[s].src;a&&r.indexOf(a)===-1&&r.push(a)}return r.length?(r.length===1&&(i=r[0]),t.triggerSourceset(i),!0):!1},UWe=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Cn.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const n=Cn.createDocumentFragment();for(;e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",et.Element.prototype.appendChild.call(this,n),this.innerHTML}}),bie=(t,e)=>{let n={};for(let r=0;r<t.length&&(n=Object.getOwnPropertyDescriptor(t[r],e),!(n&&n.set&&n.get));r++);return n.enumerable=!0,n.configurable=!0,n},VWe=t=>bie([t.el(),et.HTMLMediaElement.prototype,et.Element.prototype,UWe],"innerHTML"),dz=function(t){const e=t.el();if(e.resetSourceWatch_)return;const n={},r=VWe(t),i=s=>(...a)=>{const o=s.apply(e,a);return QI(t),o};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(n[s]=e[s],e[s]=i(n[s]))}),Object.defineProperty(e,"innerHTML",Xi(r,{set:i(r.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(n).forEach(s=>{e[s]=n[s]}),Object.defineProperty(e,"innerHTML",r)},t.one("sourceset",e.resetSourceWatch_)},zWe=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?zre(et.Element.prototype.getAttribute.call(this,"src")):""},set(t){return et.Element.prototype.setAttribute.call(this,"src",t),t}}),HWe=t=>bie([t.el(),et.HTMLMediaElement.prototype,zWe],"src"),jWe=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const n=HWe(t),r=e.setAttribute,i=e.load;Object.defineProperty(e,"src",Xi(n,{set:s=>{const a=n.set.call(e,s);return t.triggerSourceset(e.src),a}})),e.setAttribute=(s,a)=>{const o=r.call(e,s,a);return/src/i.test(s)&&t.triggerSourceset(e.src),o},e.load=()=>{const s=i.call(e);return QI(t)||(t.triggerSourceset(""),dz(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):QI(t)||dz(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=i,e.setAttribute=r,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Zn extends Ur{constructor(e,n){super(e,n);const r=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",r&&(this.el_.currentSrc!==r.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(r):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const o=[];for(;a--;){const l=s[a];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!i&&!this.el_.hasAttribute("crossorigin")&&OA(l.src)&&(i=!0)):o.push(l))}for(let l=0;l<o.length;l++)this.el_.removeChild(o[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&ei.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(h1||TA)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Zn.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){jWe(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let n;const r=()=>{n=[];for(let s=0;s<e.length;s++){const a=e[s];a.kind==="metadata"&&n.push({track:a,storedMode:a.mode})}};r(),e.addEventListener("change",r),this.on("dispose",()=>e.removeEventListener("change",r));const i=()=>{for(let s=0;s<n.length;s++){const a=n[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",r),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",i)})}overrideNative_(e,n){if(n!==this[`featuresNative${e}Tracks`])return;const r=e.toLowerCase();this[`${r}TracksListeners_`]&&Object.keys(this[`${r}TracksListeners_`]).forEach(i=>{this.el()[`${r}Tracks`].removeEventListener(i,this[`${r}TracksListeners_`][i])}),this[`featuresNative${e}Tracks`]=!n,this[`${r}TracksListeners_`]=null,this.proxyNativeTracksForType_(r)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const n=Uu[e],r=this.el()[n.getterName],i=this[n.getterName]();if(!this[`featuresNative${n.capitalName}Tracks`]||!r||!r.addEventListener)return;const s={change:o=>{const l={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(l),e==="text"&&this[py.remoteText.getterName]().trigger(l)},addtrack(o){i.addTrack(o.track)},removetrack(o){i.removeTrack(o.track)}},a=function(){const o=[];for(let l=0;l<i.length;l++){let u=!1;for(let d=0;d<r.length;d++)if(r[d]===i[l]){u=!0;break}u||o.push(i[l])}for(;o.length;)i.removeTrack(o.shift())};this[n.getterName+"Listeners_"]=s,Object.keys(s).forEach(o=>{const l=s[o];r.addEventListener(o,l),this.on("dispose",u=>r.removeEventListener(o,l))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){Uu.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),Zn.disposeMediaElement(e),e=r}else{e=Cn.createElement("video");const r=this.options_.tag&&qh(this.options_.tag),i=Xi({},r);(!h1||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,yre(e,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&dy(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let r=0;r<n.length;r++){const i=n[r],s=this.options_[i];typeof s<"u"&&(s?dy(e,i,i):AA(e,i),e[i]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let r=!1;const i=function(){r=!0};this.on("loadstart",i);const s=function(){r||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",s),r||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(r){this.trigger(r)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&CA?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){ei(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Pc&&$d&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)yd(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,n){if(!e)return ei.error("Invalid source URL."),!1;const r={src:e};n&&(r.type=n);const i=Er("source",{},r);return this.el_.appendChild(i),!0}removeSourceElement(e){if(!e)return ei.error("Source URL is required to remove the source element."),!1;const n=this.el_.querySelectorAll("source");for(const r of n)if(r.src===e)return this.el_.removeChild(r),!0;return ei.warn(`No matching source element found with src: ${e}`),!1}reset(){Zn.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,r):super.addTextTrack(e,n,r)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const n=Cn.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n}addRemoteTextTrack(e,n){const r=super.addRemoteTextTrack(e,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const n=this.$$("track");let r=n.length;for(;r--;)(e===n[r]||e===n[r].track)&&this.el().removeChild(n[r])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),et.performance&&(e.creationTime=et.performance.now()),e}}xA(Zn,"TEST_VID",function(){if(!s_())return;const t=Cn.createElement("video"),e=Cn.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Zn.isSupported=function(){try{Zn.TEST_VID.volume=.5}catch{return!1}return!!(Zn.TEST_VID&&Zn.TEST_VID.canPlayType)};Zn.canPlayType=function(t){return Zn.TEST_VID.canPlayType(t)};Zn.canPlaySource=function(t,e){return Zn.canPlayType(t.type)};Zn.canControlVolume=function(){try{const t=Zn.TEST_VID.volume;Zn.TEST_VID.volume=t/2+.1;const e=t!==Zn.TEST_VID.volume;return e&&Oo?(et.setTimeout(()=>{Zn&&Zn.prototype&&(Zn.prototype.featuresVolumeControl=t!==Zn.TEST_VID.volume)}),!1):e}catch{return!1}};Zn.canMuteVolume=function(){try{const t=Zn.TEST_VID.muted;return Zn.TEST_VID.muted=!t,Zn.TEST_VID.muted?dy(Zn.TEST_VID,"muted","muted"):AA(Zn.TEST_VID,"muted","muted"),t!==Zn.TEST_VID.muted}catch{return!1}};Zn.canControlPlaybackRate=function(){if(Pc&&$d&&wA<58)return!1;try{const t=Zn.TEST_VID.playbackRate;return Zn.TEST_VID.playbackRate=t/2+.1,t!==Zn.TEST_VID.playbackRate}catch{return!1}};Zn.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Cn.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Cn.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Cn.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Cn.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Zn.supportsNativeTextTracks=function(){return CA||Oo&&$d};Zn.supportsNativeVideoTracks=function(){return!!(Zn.TEST_VID&&Zn.TEST_VID.videoTracks)};Zn.supportsNativeAudioTracks=function(){return!!(Zn.TEST_VID&&Zn.TEST_VID.audioTracks)};Zn.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){xA(Zn.prototype,t,()=>Zn[e](),!0)});Zn.prototype.featuresVolumeControl=Zn.canControlVolume();Zn.prototype.movingMediaElementInDOM=!Oo;Zn.prototype.featuresFullscreenResize=!0;Zn.prototype.featuresProgressEvents=!0;Zn.prototype.featuresTimeupdateEvents=!0;Zn.prototype.featuresVideoFrameCallback=!!(Zn.TEST_VID&&Zn.TEST_VID.requestVideoFrameCallback);Zn.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Zn.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let n=e.length;for(;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Zn.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Zn.prototype["set"+Ws(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Zn.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Zn.prototype["set"+Ws(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Zn.prototype[t]=function(){return this.el_[t]()}});Ur.withSourceHandlers(Zn);Zn.nativeSourceHandler={};Zn.nativeSourceHandler.canPlayType=function(t){try{return Zn.TEST_VID.canPlayType(t)}catch{return""}};Zn.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Zn.nativeSourceHandler.canPlayType(t.type);if(t.src){const n=ZL(t.src);return Zn.nativeSourceHandler.canPlayType(`video/${n}`)}return""};Zn.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};Zn.nativeSourceHandler.dispose=function(){};Zn.registerSourceHandler(Zn.nativeSourceHandler);Ur.registerTech("Html5",Zn);const xie=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],wP={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},JI=["tiny","xsmall","small","medium","large","xlarge","huge"],QS={};JI.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;QS[t]=`vjs-layout-${e}`});const GWe={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Li extends Qt{constructor(e,n,r){if(e.id=e.id||n.id||`vjs_video_${Wu()}`,n=Object.assign(Li.getTagSettings(e),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const a=e.closest("[lang]");a&&(n.language=a.getAttribute("lang"))}if(super(null,n,r),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=are(this.id_),this.fsApi_=dC,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&qh(e),this.language(this.options_.language),n.languages){const a={};Object.getOwnPropertyNames(n.languages).forEach(function(o){a[o.toLowerCase()]=n.languages[o]}),this.languages_=a}else this.languages_=Li.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),WL(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(lu(Cn,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=Xi(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(a=>{this[a](n.plugins[a])}),n.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const o=new et.DOMParser().parseFromString(pWe,"image/svg+xml");if(o.querySelector("parsererror"))ei.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=o.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),n.spatialNavigation&&n.spatialNavigation.enabled&&(this.spatialNavigation=new mWe(this),this.addClass("vjs-spatial-navigation-enabled")),h1&&this.addClass("vjs-touch-enabled"),Oo||this.addClass("vjs-workinghover"),Li.players[this.id_]=this;const s=zI.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Mo(Cn,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Mo(Cn,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Li.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),cWe(this),el.names.forEach(e=>{const n=el[e],r=this[n.getterName]();r&&r.off&&r.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,n,r=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";r?n=this.el_=e.parentNode:i||(n=this.el_=super.createEl("div"));const s=qh(e);if(i){for(n=this.el_=e,e=this.tag=Cn.createElement("video");n.children.length;)e.appendChild(n.firstChild);lb(n,"video-js")||cm(n,"video-js"),n.appendChild(e),r=this.playerElIngest_=n,Object.keys(n).forEach(l=>{try{e[l]=n[l]}catch{}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",$d&&SA&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(l){i&&l==="class"||n.setAttribute(l,s[l]),i&&e.setAttribute(l,s[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>pre[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),et.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=kre("vjs-styles-dimensions");const l=Np(".vjs-styles-defaults"),u=Np("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let l=0;l<o.length;l++){const u=o.item(l);cm(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!r&&e.parentNode.insertBefore(n,e),jI(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){ei.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,n){const r=e+"_";if(n===void 0)return this[r]||0;if(n===""||n==="auto"){this[r]=void 0,this.updateStyleEl_();return}const i=parseFloat(n);if(isNaN(i)){ei.error(`Improper value "${n}" supplied for for ${e}`);return}this[r]=i,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Of(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),zGe(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(et.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(o>=0&&(u.width=o),l>=0&&(u.height=l));return}let e,n,r,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?r=this.aspectRatio_:this.videoWidth()>0?r=this.videoWidth()+":"+this.videoHeight():r="16:9";const s=r.split(":"),a=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=e*a,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),Dre(this.styleEl_,`
      .${i} {
        width: ${e}px;
        height: ${n}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,n){this.tech_&&this.unloadTech_();const r=Ws(e),i=e.charAt(0).toLowerCase()+e.slice(1);r!=="Html5"&&this.tag&&(Ur.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:n,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};el.names.forEach(l=>{const u=el[l];a[u.getterName]=this[u.privateName]}),Object.assign(a,this.options_[r]),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=Ur.getTech(e);if(!o)throw new Error(`No Tech named '${r}' exists! '${r}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(hs(this,this.handleTechReady_),!0),KI.jsonToTextTracks(this.textTracksJson_||[],this.tech_),xie.forEach(l=>{this.on(this.tech_,l,u=>this[`handleTech${Ws(l)}_`](u))}),Object.keys(wP).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${wP[l]}_`].bind(this),event:u});return}this[`handleTech${wP[l]}_`](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(r!=="Html5"||!this.tag)&&jI(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){el.names.forEach(e=>{const n=el[e];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=KI.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&ei.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":zI}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const n=()=>{const i=this.muted();this.muted(!0);const s=()=>{this.muted(i)};this.playTerminatedQueue_.push(s);const a=this.play();if(cb(a))return a.catch(o=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let r;if(e==="any"&&!this.muted()?(r=this.play(),cb(r)&&(r=r.catch(n))):e==="muted"&&!this.muted()?r=n():r=this.play(),!!cb(r))return r.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let n=e,r="";typeof n!="string"&&(n=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!r&&(r=hWe(this,n)),this.cache_.source=Xi({},e,{src:n,type:r});const i=this.cache_.sources.filter(l=>l.src&&l.src===n),s=[],a=this.$$("source"),o=[];for(let l=0;l<a.length;l++){const u=qh(a[l]);s.push(u),u.src&&u.src===n&&o.push(u.src)}o.length&&!i.length?this.cache_.sources=s:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(e){if(!this.changingSrc_){let n=s=>this.updateSourceCaches_(s);const r=this.currentSource().src,i=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=()=>{}),n(i),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),n=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?yd(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),r=>r.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!Cn.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const n=e.target.player;if(n&&n!==this)return;const r=this.el();let i=Cn[this.fsApi_.fullscreenElement]===r;!i&&r.matches&&(i=r.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(e,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,n){this.ready(function(){if(e in lWe)return aWe(this.middleware_,this.tech_,e,n);if(e in KV)return YV(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(r){throw ei(r),r}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in oWe)return sWe(this.middleware_,this.tech_,e);if(e in KV)return YV(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(n){throw this.tech_[e]===void 0?(ei(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,n),n):n.name==="TypeError"?(ei(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,n),this.tech_.isReady_=!1,n):(ei(n),n)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=yd){this.playCallbacks_.push(e);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),r=!!(CA||Oo);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&r&&this.load();return}const i=this.techGet_("play");r&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})}runPlayCallbacks_(e){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(r){r(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||vc(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=vc(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=vc(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return Bre(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),n=this.duration();let r=e.end(e.length-1);return r>n&&(r=n),r}volume(e){let n;if(e!==void 0){n=Math.max(0,Math.min(1,e)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((r,i)=>{function s(){n.off("fullscreenerror",o),n.off("fullscreenchange",a)}function a(){s(),r()}function o(u,d){s(),i(d)}n.one("fullscreenchange",a),n.one("fullscreenerror",o);const l=n.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(r,i))})}requestFullscreenHelper_(e){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(n=e)),this.fsApi_.requestFullscreen){const r=this.el_[this.fsApi_.requestFullscreen](n);return r&&r.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),r}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((n,r)=>{function i(){e.off("fullscreenerror",a),e.off("fullscreenchange",s)}function s(){i(),n()}function a(l,u){i(),r(u)}e.one("fullscreenchange",s),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(i,i),o.then(n,r))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Cn[this.fsApi_.exitFullscreen]();return e&&yd(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Cn.documentElement.style.overflow,lu(Cn,"keydown",this.boundFullWindowOnEscKey_),Cn.documentElement.style.overflow="hidden",cm(Cn.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Mo(Cn,"keydown",this.boundFullWindowOnEscKey_),Cn.documentElement.style.overflow=this.docOrigOverflow,EA(Cn.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&et.documentPictureInPicture){const e=Cn.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(Er("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),et.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>(Ere(n),this.el_.parentNode.insertBefore(e,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:n}),n.addEventListener("pagehide",r=>{const i=r.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in Cn&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(et.documentPictureInPicture&&et.documentPictureInPicture.window)return et.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Cn)return Cn.exitPictureInPicture()}handleKeyDown(e){const{userActions:n}=this.options_;!n||!n.hotkeys||(i=>{const s=i.tagName.toLowerCase();if(i.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?a.indexOf(i.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:r=a=>e.key.toLowerCase()==="f",muteKey:i=a=>e.key.toLowerCase()==="m",playPauseKey:s=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=n;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();const a=Qt.getComponent("FullscreenToggle");Cn[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),Qt.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Qt.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let n;for(let r=0,i=this.options_.techOrder;r<i.length;r++){const s=i[r];let a=Ur.getTech(s);if(a||(a=Qt.getComponent(s)),!a){ei.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(n=a.canPlayType(e),n))return n}return""}selectSource(e){const n=this.options_.techOrder.map(o=>[o,Ur.getTech(o)]).filter(([o,l])=>l?l.isSupported():(ei.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),r=function(o,l,u){let d;return o.some(f=>l.some(h=>{if(d=u(f,h),d)return!0})),d};let i;const s=o=>(l,u)=>o(u,l),a=([o,l],u)=>{if(l.canPlaySource(u,this.options_[o.toLowerCase()]))return{source:u,tech:o}};return this.options_.sourceOrder?i=r(e,n,s(a)):i=r(n,e,a),i||!1}handleSrc_(e,n){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const r=Gre(e);if(!r.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),rWe(this,r[0],(i,s)=>{if(this.middleware_=s,n||(this.cache_.sources=r),this.updateSourceCaches_(i),this.src_(i)){if(r.length>1)return this.handleSrc_(r.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}iWe(s,this.tech_)}),r.length>1){const i=()=>{this.error(null),this.handleSrc_(r.slice(1),!0)},s=()=>{this.off("error",i)};this.one("error",i),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const n=this.selectSource([e]);return n?Lre(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,n){return this.tech_?this.tech_.addSourceElement(e,n):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();yd(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),Of(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:n,progressControl:r,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:s}=r||{};e&&e.updateContent(),n&&n.updateContent(),i&&i.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),n=[];return Object.keys(e).length!==0&&n.push(e),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let n;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),n=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if($p("beforeerror").forEach(n=>{const r=n(this,e);if(!(Ld(r)&&!Array.isArray(r)||typeof r=="string"||typeof r=="number"||r===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=r}),this.options_.suppressNotSupportedError&&e&&e.code===4){const n=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Vs(e),this.addClass("vjs-error"),ei.error(`(CODE:${this.error_.code} ${Vs.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),$p("error").forEach(n=>n(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,n,r;const i=hs(this,this.reportUserActivity),s=function(f){(f.screenX!==n||f.screenY!==r)&&(n=f.screenX,r=f.screenY,i())},a=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},o=function(f){i(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",o),this.on("mouseleave",o);const l=this.getChild("controlBar");l&&!Oo&&!Pc&&(l.on("mouseenter",function(f){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(f){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let u;const d=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const f=this.options_.inactivityTimeout;f<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},f))};this.setInterval(d,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),n=this.getChild("ControlBar"),r=n&&n.currentHeight();e.forEach(i=>{i!==n&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=r,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(r),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,n,r){if(this.tech_)return this.tech_.addTextTrack(e,n,r)}addRemoteTextTrack(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)}removeRemoteTextTrack(e={}){let{track:n}=e;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Of(this)&&this.trigger("languagechange"))}languages(){return Xi(Li.prototype.options_.languages,this.languages_)}toJSON(){const e=Xi(this.options_),n=e.tracks;e.tracks=[];for(let r=0;r<n.length;r++){let i=n[r];i=Xi(i),i.player=void 0,e.tracks[r]=i}return e}createModal(e,n){n=n||{},n.content=e||"";const r=new l_(this,n);return this.addChild(r),r.on("dispose",()=>{this.removeChild(r)}),r.open(),r}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),n=this.currentWidth();for(let r=0;r<JI.length;r++){const i=JI[r],s=this.breakpoints_[i];if(n<=s){if(e===i)return;e&&this.removeClass(QS[e]),this.addClass(QS[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},GWe,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const n=this.responsive_;if(e!==n)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return QS[this.breakpoint_]||""}loadMedia(e,n){if(!e||typeof e!="object")return;const r=this.crossOrigin();this.reset(),this.cache_.media=Xi(e);const{artist:i,artwork:s,description:a,poster:o,src:l,textTracks:u,title:d}=this.cache_.media;!s&&o&&(this.cache_.media.artwork=[{src:o,type:xC(o)}]),r&&this.crossOrigin(r),l&&this.src(l),o&&this.poster(o),Array.isArray(u)&&u.forEach(f=>this.addRemoteTextTrack(f,!1)),this.titleBar&&this.titleBar.update({title:d,description:a||i||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const e=this.poster(),n=this.currentSources(),r=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),i={src:n,textTracks:r};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:xC(i.poster)}]),i}return Xi(this.cache_.media)}static getTagSettings(e){const n={sources:[],tracks:[]},r=qh(e),i=r["data-setup"];if(lb(e,"vjs-fill")&&(r.fill=!0),lb(e,"vjs-fluid")&&(r.fluid=!0),i!==null)try{Object.assign(r,JSON.parse(i||"{}"))}catch(s){ei.error("data-setup",s)}if(Object.assign(n,r),e.hasChildNodes()){const s=e.childNodes;for(let a=0,o=s.length;a<o;a++){const l=s[a],u=l.nodeName.toLowerCase();u==="source"?n.sources.push(qh(l)):u==="track"&&n.tracks.push(qh(l))}}return n}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(n=>typeof n=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Li.prototype.videoTracks=()=>{};Li.prototype.audioTracks=()=>{};Li.prototype.textTracks=()=>{};Li.prototype.remoteTextTracks=()=>{};Li.prototype.remoteTextTrackEls=()=>{};el.names.forEach(function(t){const e=el[t];Li.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Li.prototype.crossorigin=Li.prototype.crossOrigin;Li.players={};const H_=et.navigator;Li.prototype.options_={techOrder:Ur.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:H_&&(H_.languages&&H_.languages[0]||H_.userLanguage||H_.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1,disableSeekWhileScrubbingOnSTV:!1};xie.forEach(function(t){Li.prototype[`handleTech${Ws(t)}_`]=function(){return this.trigger(t)}});Qt.registerComponent("Player",Li);const wC="plugin",vv="activePlugins_",Xg={},SC=t=>Xg.hasOwnProperty(t),JS=t=>SC(t)?Xg[t]:void 0,wie=(t,e)=>{t[vv]=t[vv]||{},t[vv][e]=!0},TC=(t,e,n)=>{const r=(n?"before":"")+"pluginsetup";t.trigger(r,e),t.trigger(r+":"+e.name,e)},WWe=function(t,e){const n=function(){TC(this,{name:t,plugin:e,instance:null},!0);const r=e.apply(this,arguments);return wie(this,t),TC(this,{name:t,plugin:e,instance:r}),r};return Object.keys(e).forEach(function(r){n[r]=e[r]}),n},fz=(t,e)=>(e.prototype.name=t,function(...n){TC(this,{name:t,plugin:e,instance:null},!0);const r=new e(this,...n);return this[t]=()=>r,TC(this,r.getEventHash()),r});class Ml{constructor(e){if(this.constructor===Ml)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),WL(this),delete this.trigger,Mre(this,this.constructor.defaultState),wie(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,n={}){return o_(this.eventBusEl_,e,this.getEventHash(n))}handleStateChanged(e){}dispose(){const{name:e,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[vv][e]=!1,this.player=this.state=null,n[e]=fz(e,Xg[e])}static isBasic(e){const n=typeof e=="string"?JS(e):e;return typeof n=="function"&&!Ml.prototype.isPrototypeOf(n.prototype)}static registerPlugin(e,n){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(SC(e))ei.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Li.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof n!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof n}.`);return Xg[e]=n,e!==wC&&(Ml.isBasic(n)?Li.prototype[e]=WWe(e,n):Li.prototype[e]=fz(e,n)),n}static deregisterPlugin(e){if(e===wC)throw new Error("Cannot de-register base plugin.");SC(e)&&(delete Xg[e],delete Li.prototype[e])}static getPlugins(e=Object.keys(Xg)){let n;return e.forEach(r=>{const i=JS(r);i&&(n=n||{},n[r]=i)}),n}static getPluginVersion(e){const n=JS(e);return n&&n.VERSION||""}}Ml.getPlugin=JS;Ml.BASE_PLUGIN_NAME=wC;Ml.registerPlugin(wC,Ml);Li.prototype.usingPlugin=function(t){return!!this[vv]&&this[vv][t]===!0};Li.prototype.hasPlugin=function(t){return!!SC(t)};function qWe(t,e){let n=!1;return function(...r){return n||ei.warn(t),n=!0,e.apply(this,r)}}function Uc(t,e,n,r){return qWe(`${e} is deprecated and will be removed in ${t}.0; please use ${n} instead.`,r)}var XWe={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const Sie=t=>t.indexOf("#")===0?t.slice(1):t;function Mt(t,e,n){let r=Mt.getPlayer(t);if(r)return e&&ei.warn(`Player "${t}" is already initialised. Options will not be applied.`),n&&r.ready(n),r;const i=typeof t=="string"?Np("#"+Sie(t)):t;if(!a_(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in i?i.getRootNode()instanceof et.ShadowRoot:!1)?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!a.contains(i))&&ei.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),$p("beforesetup").forEach(l=>{const u=l(i,Xi(e));if(!Ld(u)||Array.isArray(u)){ei.error("please return an object in beforesetup hooks");return}e=Xi(e,u)});const o=Qt.getComponent("Player");return r=new o(i,e,n),$p("setup").forEach(l=>l(r)),r}Mt.hooks_=Sf;Mt.hooks=$p;Mt.hook=PGe;Mt.hookOnce=kGe;Mt.removeHook=sre;if(et.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&s_()){let t=Np(".vjs-styles-defaults");if(!t){t=kre("vjs-styles-defaults");const e=Np("head");e&&e.insertBefore(t,e.firstChild),Dre(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}WI(1,Mt);Mt.VERSION=zI;Mt.options=Li.prototype.options_;Mt.getPlayers=()=>Li.players;Mt.getPlayer=t=>{const e=Li.players;let n;if(typeof t=="string"){const r=Sie(t),i=e[r];if(i)return i;n=Np("#"+r)}else n=t;if(a_(n)){const{player:r,playerId:i}=n;if(r||e[i])return r||e[i]}};Mt.getAllPlayers=()=>Object.keys(Li.players).map(t=>Li.players[t]).filter(Boolean);Mt.players=Li.players;Mt.getComponent=Qt.getComponent;Mt.registerComponent=(t,e)=>(Ur.isTech(e)&&ei.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Qt.registerComponent.call(Qt,t,e));Mt.getTech=Ur.getTech;Mt.registerTech=Ur.registerTech;Mt.use=nWe;Object.defineProperty(Mt,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(Mt.middleware,"TERMINATOR",{value:bC,writeable:!1,enumerable:!0});Mt.browser=pre;Mt.obj=RGe;Mt.mergeOptions=Uc(9,"videojs.mergeOptions","videojs.obj.merge",Xi);Mt.defineLazyProperty=Uc(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",xA);Mt.bind=Uc(9,"videojs.bind","native Function.prototype.bind",hs);Mt.registerPlugin=Ml.registerPlugin;Mt.deregisterPlugin=Ml.deregisterPlugin;Mt.plugin=(t,e)=>(ei.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ml.registerPlugin(t,e));Mt.getPlugins=Ml.getPlugins;Mt.getPlugin=Ml.getPlugin;Mt.getPluginVersion=Ml.getPluginVersion;Mt.addLanguage=function(t,e){return t=(""+t).toLowerCase(),Mt.options.languages=Xi(Mt.options.languages,{[t]:e}),Mt.options.languages[t]};Mt.log=ei;Mt.createLogger=are;Mt.time=qGe;Mt.createTimeRange=Uc(9,"videojs.createTimeRange","videojs.time.createTimeRanges",vc);Mt.createTimeRanges=Uc(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",vc);Mt.formatTime=Uc(9,"videojs.formatTime","videojs.time.formatTime",Om);Mt.setFormatTime=Uc(9,"videojs.setFormatTime","videojs.time.setFormatTime",Nre);Mt.resetFormatTime=Uc(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",Fre);Mt.parseUrl=Uc(9,"videojs.parseUrl","videojs.url.parseUrl",KL);Mt.isCrossOrigin=Uc(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",OA);Mt.EventTarget=uu;Mt.any=GL;Mt.on=lu;Mt.one=IA;Mt.off=Mo;Mt.trigger=o_;Mt.xhr=une;Mt.TrackList=Mm;Mt.TextTrack=xx;Mt.TextTrackList=XL;Mt.AudioTrack=Hre;Mt.AudioTrackList=Ure;Mt.VideoTrack=jre;Mt.VideoTrackList=Vre;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{Mt[t]=function(){return ei.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),Are[t].apply(null,arguments)}});Mt.computedStyle=Uc(9,"videojs.computedStyle","videojs.dom.computedStyle",hy);Mt.dom=Are;Mt.fn=VGe;Mt.num=SWe;Mt.str=GGe;Mt.url=eWe;Mt.Error=XWe;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class YWe{constructor(e){let n=this;return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.frameRate=e.frameRate,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(r){n.enabled_(r)}}),n}}class CC extends Mt.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let n=this.getQualityLevelById(e.id);if(n)return n;const r=this.levels_.length;return n=new YWe(e),""+r in this||Object.defineProperty(this,r,{get(){return this.levels_[r]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(e){let n=null;for(let r=0,i=this.length;r<i;r++)if(this[r]===e){n=this.levels_.splice(r,1)[0],this.selectedIndex_===r?this.selectedIndex_=-1:this.selectedIndex_>r&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),n}getQualityLevelById(e){for(let n=0,r=this.length;n<r;n++){const i=this[n];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}CC.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in CC.prototype.allowedEvents_)CC.prototype["on"+t]=null;var Tie="4.1.0";const KWe=function(t,e){const n=t.qualityLevels,r=new CC,i=function(){r.dispose(),t.qualityLevels=n,t.off("dispose",i)};return t.on("dispose",i),t.qualityLevels=()=>r,t.qualityLevels.VERSION=Tie,r},Cie=function(t){return KWe(this,Mt.obj.merge({},t))};Mt.registerPlugin("qualityLevels",Cie);Cie.VERSION=Tie;/*! @name @videojs/http-streaming @version 3.17.2 @license Apache-2.0 */const Tl=pA,EC=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Qu=t=>Mt.log.debug?Mt.log.debug.bind(Mt,"VHS:",`${t} >`):function(){};function $i(...t){const e=Mt.obj||Mt;return(e.merge||e.mergeOptions).apply(e,t)}function Ga(...t){const e=Mt.time||Mt;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function ZWe(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let n=0;n<t.length;n++){const r=t.start(n),i=t.end(n);e+=`${r} --> ${i}. Duration (${i-r})
`}return e}const _d=1/30,bd=_d*3,Eie=function(t,e){const n=[];let r;if(t&&t.length)for(r=0;r<t.length;r++)e(t.start(r),t.end(r))&&n.push([t.start(r),t.end(r)]);return Ga(n)},Yg=function(t,e){return Eie(t,function(n,r){return n-bd<=e&&r+bd>=e})},Ew=function(t,e){return Eie(t,function(n){return n-_d>=e})},QWe=function(t){if(t.length<2)return Ga();const e=[];for(let n=1;n<t.length;n++){const r=t.end(n-1),i=t.start(n);e.push([r,i])}return Ga(e)},JWe=function(t,e){let n=null,r=null,i=0;const s=[],a=[];if(!t||!t.length||!e||!e.length)return Ga();let o=t.length;for(;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort(function(l,u){return l.time-u.time}),o=0;o<s.length;o++)s[o].type==="start"?(i++,i===2&&(n=s[o].time)):s[o].type==="end"&&(i--,i===1&&(r=s[o].time)),n!==null&&r!==null&&(a.push([n,r]),n=null,r=null);return Ga(a)},Aie=t=>{const e=[];if(!t||!t.length)return"";for(let n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},eqe=function(t,e,n=1){return((t.length?t.end(t.length-1):0)-e)/n},em=t=>{const e=[];for(let n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},tqe=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1},SP=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},h$=function(t,e){let n=0;if(!t||!t.length)return n;for(let r=0;r<t.length;r++){const i=t.start(r),s=t.end(r);if(!(e>s)){if(e>i&&e<=s){n+=s-e;continue}n+=s-i}}return n},p$=(t,e)=>{if(!e.preload)return e.duration;let n=0;return(e.parts||[]).forEach(function(r){n+=r.duration}),(e.preloadHints||[]).forEach(function(r){r.type==="PART"&&(n+=t.partTargetDuration)}),n},eR=t=>(t.segments||[]).reduce((e,n,r)=>(n.parts?n.parts.forEach(function(i,s){e.push({duration:i.duration,segmentIndex:r,partIndex:s,part:i,segment:n})}):e.push({duration:n.duration,segmentIndex:r,partIndex:null,segment:n,part:null}),e),[]),Pie=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},kie=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:n}=t;let r=(n||[]).reduce((i,s)=>i+(s.type==="PART"?1:0),0);return r+=e&&e.length?e.length:0,r},Die=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const n=Pie(e).length>0;return n&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:n&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},nqe=function(t,e){let n=0,r=e-t.mediaSequence,i=t.segments[r];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;r--;){if(i=t.segments[r],typeof i.end<"u")return{result:n+i.end,precise:!0};if(n+=p$(t,i),typeof i.start<"u")return{result:n+i.start,precise:!0}}return{result:n,precise:!1}},rqe=function(t,e){let n=0,r,i=e-t.mediaSequence;for(;i<t.segments.length;i++){if(r=t.segments[i],typeof r.start<"u")return{result:r.start-n,precise:!0};if(n+=p$(t,r),typeof r.end<"u")return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},Iie=function(t,e,n){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const r=nqe(t,e);if(r.precise)return r.result;const i=rqe(t,e);return i.precise?i.result:r.result+n},Rie=function(t,e,n){if(!t)return 0;if(typeof n!="number"&&(n=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return et.Infinity}return Iie(t,e,n)},db=function({defaultDuration:t,durationList:e,startIndex:n,endIndex:r}){let i=0;if(n>r&&([n,r]=[r,n]),n<0){for(let s=n;s<Math.min(0,r);s++)i+=t;n=0}for(let s=n;s<r;s++)i+=e[s].duration;return i},Oie=function(t,e,n,r){if(!t||!t.segments)return null;if(t.endList)return Rie(t);if(e===null)return null;e=e||0;let i=Iie(t,t.mediaSequence+t.segments.length,e);return n&&(r=typeof r=="number"?r:Die(null,t),i-=r),Math.max(0,i)},iqe=function(t,e,n){const i=e||0;let s=Oie(t,e,!0,n);return s===null?Ga():(s<i&&(s=i),Ga(i,s))},sqe=function({playlist:t,currentTime:e,startingSegmentIndex:n,startingPartIndex:r,startTime:i,exactManifestTimings:s}){let a=e-i;const o=eR(t);let l=0;for(let u=0;u<o.length;u++){const d=o[u];if(n===d.segmentIndex&&!(typeof r=="number"&&typeof d.partIndex=="number"&&r!==d.partIndex)){l=u;break}}if(a<0){if(l>0)for(let u=l-1;u>=0;u--){const d=o[u];if(a+=d.duration,s){if(a<0)continue}else if(a+_d<=0)continue;return{partIndex:d.partIndex,segmentIndex:d.segmentIndex,startTime:i-db({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:u})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(a-=t.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<o.length;u++){const d=o[u];a-=d.duration;const f=d.duration>_d,h=a===0,g=f&&a+_d>=0;if(!((h||g)&&u!==o.length-1)){if(s){if(a>0)continue}else if(a-_d>=0)continue;return{partIndex:d.partIndex,segmentIndex:d.segmentIndex,startTime:i+db({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:u})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},Mie=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},m$=function(t){return t.excludeUntil&&t.excludeUntil===1/0},NA=function(t){const e=Mie(t);return!t.disabled&&!e},aqe=function(t){return t.disabled},oqe=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},Lie=function(t,e){return e.attributes&&e.attributes[t]},lqe=function(t,e,n,r=0){return Lie("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-r*8)/e:NaN},tR=(t,e)=>{if(t.playlists.length===1)return!0;const n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(r=>NA(r)?(r.attributes.BANDWIDTH||0)<n:!1).length===0},g$=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),hz=function(t,e){const n=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let r=!1;for(const i in n){for(const s in n[i])if(r=e(n[i][s]),r)break;if(r)break}return!!r},Cx=t=>{if(!t||!t.playlists||!t.playlists.length)return hz(t,n=>n.playlists&&n.playlists.length||n.uri);for(let e=0;e<t.playlists.length;e++){const n=t.playlists[e],r=n.attributes&&n.attributes.CODECS;if(!(r&&r.split(",").every(s=>mne(s))||hz(t,s=>g$(n,s))))return!1}return!0};var El={liveEdgeDelay:Die,duration:Rie,seekable:iqe,getMediaInfoForTime:sqe,isEnabled:NA,isDisabled:aqe,isExcluded:Mie,isIncompatible:m$,playlistEnd:Oie,isAes:oqe,hasAttribute:Lie,estimateSegmentRequestTime:lqe,isLowestEnabledRendition:tR,isAudioOnly:Cx,playlistMatch:g$,segmentDurationWithParts:p$};const{log:$ie}=Mt,yv=(t,e)=>`${t}-${e}`,Nie=(t,e,n)=>`placeholder-uri-${t}-${e}-${n}`,uqe=({onwarn:t,oninfo:e,manifestString:n,customTagParsers:r=[],customTagMappers:i=[],llhls:s})=>{const a=new AHe;t&&a.on("warn",t),e&&a.on("info",e),r.forEach(u=>a.addParser(u)),i.forEach(u=>a.addTagMapper(u)),a.push(n),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){o.hasOwnProperty(u)&&delete o[u]}),o.segments&&o.segments.forEach(function(u){["parts","preloadHints"].forEach(function(d){u.hasOwnProperty(d)&&delete u[d]})})),!o.targetDuration){let u=10;o.segments&&o.segments.length&&(u=o.segments.reduce((d,f)=>Math.max(d,f.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${u}`}),o.targetDuration=u}const l=Pie(o);if(l.length&&!o.partTargetDuration){const u=l.reduce((d,f)=>Math.max(d,f.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${u}`}),$ie.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=u}return o},d_=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(t.mediaGroups[n])for(const r in t.mediaGroups[n])for(const i in t.mediaGroups[n][r]){const s=t.mediaGroups[n][r][i];e(s,n,r,i)}})},Fie=({playlist:t,uri:e,id:n})=>{t.id=n,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},cqe=t=>{let e=t.playlists.length;for(;e--;){const n=t.playlists[e];Fie({playlist:n,id:yv(e,n.uri)}),n.resolvedUri=Tl(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||$ie.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},dqe=t=>{d_(t,e=>{e.uri&&(e.resolvedUri=Tl(t.uri,e.uri))})},fqe=(t,e)=>{const n=yv(0,e),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:et.location.href,resolvedUri:et.location.href,playlists:[{uri:e,id:n,resolvedUri:e,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[e]=r.playlists[0],r},Bie=(t,e,n=Nie)=>{t.uri=e;for(let i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){const s=`placeholder-uri-${i}`;t.playlists[i].uri=s}const r=Cx(t);d_(t,(i,s,a,o)=>{if(!i.playlists||!i.playlists.length){if(r&&s==="AUDIO"&&!i.uri)for(let l=0;l<t.playlists.length;l++){const u=t.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===a)return}i.playlists=[qs({},i)]}i.playlists.forEach(function(l,u){const d=n(s,a,o,l),f=yv(u,d);l.uri?l.resolvedUri=l.resolvedUri||Tl(t.uri,l.uri):(l.uri=u===0?d:f,l.resolvedUri=l.uri),l.id=l.id||f,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),cqe(t),dqe(t)};class pz{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[n]=e;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[n]=e,r=n.startDate.getTime();this.trimProcessedDateRanges_(r),this.pendingDateRanges_=e.reduce((i,s)=>(i.set(s.id,s),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},n=[];this.pendingDateRanges_.forEach((r,i)=>{if(!this.processedDateRanges_.has(i)&&(r.startTime=r.startDate.getTime()/1e3-this.offset_,r.processDateRange=()=>this.processDateRange(r),n.push(r),!!r.class))if(e[r.class]){const s=e[r.class].push(r);r.classListIndex=s-1}else e[r.class]=[r],r.classListIndex=0});for(const r of n){const i=e[r.class]||[];r.endDate?r.endTime=r.endDate.getTime()/1e3-this.offset_:r.endOnNext&&i[r.classListIndex+1]?r.endTime=i[r.classListIndex+1].startTime:r.duration?r.endTime=r.startTime+r.duration:r.plannedDuration?r.endTime=r.startTime+r.plannedDuration:r.endTime=r.startTime}return n}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((r,i)=>{r.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}}const Uie=22,hm=({requestType:t,request:e,error:n,parseFailure:r})=>{const i=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:t},o=i&&!s||r;if(n&&s)a.error=qs({},n),a.errorType=Mt.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=Mt.Error.NetworkRequestAborted;else if(e.timedout)a.errorType=Mt.Error.NetworkRequestTimeout;else if(o){const l=r?Mt.Error.NetworkBodyParserFailed:Mt.Error.NetworkBadStatus;a.errorType=l,a.status=e.status,a.headers=e.headers}return a},hqe=Qu("CodecUtils"),Vie=function(t){const e=t.attributes||{};if(e.CODECS)return cd(e.CODECS)},zie=(t,e)=>{const n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},pqe=(t,e)=>{if(!zie(t,e))return!0;const n=e.attributes||{},r=t.mediaGroups.AUDIO[n.AUDIO];for(const i in r)if(!r[i].uri&&!r[i].playlists)return!0;return!1},g1=function(t){const e={};return t.forEach(({mediaType:n,type:r,details:i})=>{e[n]=e[n]||[],e[n].push(pne(`${r}${i}`))}),Object.keys(e).forEach(function(n){if(e[n].length>1){hqe(`multiple ${n} codecs found as attributes: ${e[n].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[n]=null;return}e[n]=e[n][0]}),e},mz=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},fb=function(t,e){const n=e.attributes||{},r=g1(Vie(e)||[]);if(zie(t,e)&&!r.audio&&!pqe(t,e)){const i=g1(kHe(t,n.AUDIO)||[]);i.audio&&(r.audio=i.audio)}return r},{EventTarget:mqe}=Mt,gqe=(t,e)=>{if(e.endList||!e.serverControl)return t;const n={};if(e.serverControl.canBlockReload){const{preloadSegment:r}=e;let i=e.mediaSequence+e.segments.length;if(r){const s=r.parts||[],a=kie(e)-1;a>-1&&a!==s.length-1&&(n._HLS_part=a),(a>-1||s.length)&&i--}n._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(n._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const r=new et.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){n.hasOwnProperty(i)&&r.searchParams.set(i,n[i])}),t=r.toString()}return t},vqe=(t,e)=>{if(!t)return e;const n=$i(t,e);if(t.preloadHints&&!e.preloadHints&&delete n.preloadHints,t.parts&&!e.parts)delete n.parts;else if(t.parts&&e.parts)for(let r=0;r<e.parts.length;r++)t.parts&&t.parts[r]&&(n.parts[r]=$i(t.parts[r],e.parts[r]));return!t.skipped&&e.skipped&&(n.skipped=!1),t.preload&&!e.preload&&(n.preload=!1),n},yqe=(t,e,n)=>{const r=t.slice(),i=e.slice();n=n||0;const s=[];let a;for(let o=0;o<i.length;o++){const l=r[o+n],u=i[o];l?(a=l.map||a,s.push(vqe(l,u))):(a&&!u.map&&(u.map=a),s.push(u))}return s},Hie=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=Tl(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Tl(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Tl(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Tl(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=Tl(e,n.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=Tl(e,n.uri))})},jie=function(t){const e=t.segments||[],n=t.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let r=0;r<n.preloadHints.length;r++)if(n.preloadHints[r].type==="MAP")return e}n.duration=t.targetDuration,n.preload=!0,e.push(n)}return e},Gie=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,nR=(t,e,n=Gie)=>{const r=$i(t,{}),i=r.playlists[e.id];if(!i||n(i,e))return null;e.segments=jie(e);const s=$i(i,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=yqe(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}s.segments.forEach(a=>{Hie(a,s.resolvedUri)});for(let a=0;a<r.playlists.length;a++)r.playlists[a].id===e.id&&(r.playlists[a]=s);return r.playlists[e.id]=s,r.playlists[e.uri]=s,d_(t,(a,o,l,u)=>{if(a.playlists)for(let d=0;d<a.playlists.length;d++)e.id===a.playlists[d].id&&(a.playlists[d]=s)}),r},rR=(t,e)=>{const n=t.segments||[],r=n[n.length-1],i=r&&r.parts&&r.parts[r.parts.length-1],s=i&&i.duration||r&&r.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},gz=(t,e,n)=>{if(!t)return;const r=[];return t.forEach(i=>{if(!i.attributes)return;const{BANDWIDTH:s,RESOLUTION:a,CODECS:o}=i.attributes;r.push({id:i.id,bandwidth:s,resolution:a,codecs:o})}),{type:e,isLive:n,renditions:r}};class Kg extends mqe{constructor(e,n,r={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Qu("PlaylistLoader");const{withCredentials:i=!1}=r;this.src=e,this.vhs_=n,this.withCredentials=i,this.addDateRangesToTextTrack_=r.addDateRangesToTextTrack;const s=n.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new pz,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let n=Tl(this.main.uri,e.uri);this.llhls&&(n=gqe(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,i)=>{if(this.request){if(r)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,n,r){const{uri:i,id:s}=n;this.request=null,r&&(this.state=r),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:hm({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:n}){try{const r=uqe({onwarn:({message:i})=>this.logger_(`m3u8-parser warn for ${e}: ${i}`),oninfo:({message:i})=>this.logger_(`m3u8-parser info for ${e}: ${i}`),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls});return!r.playlists||!r.playlists.length||this.excludeAudioOnlyVariants(r.playlists),r}catch(r){this.error=r,this.error.metadata={errorType:Mt.Error.StreamingHlsPlaylistParserError,error:r}}}excludeAudioOnlyVariants(e){const n=r=>{const i=r.attributes||{},{width:s,height:a}=i.RESOLUTION||{};if(s&&a)return!0;const o=Vie(r)||[];return!!g1(o).video};e.some(n)&&e.forEach(r=>{n(r)||(r.excludeUntil=1/0)})}haveMetadata({playlistString:e,playlistObject:n,url:r,id:i}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:r}};this.trigger({type:"playlistparsestart",metadata:s});const a=n||this.parseManifest_({url:r,manifestString:e});a.lastRequest=Date.now(),Fie({playlist:a,uri:r,id:i});const o=nR(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(rR(this.media(),!!o)),s.parsedPlaylist=gz(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),et.clearTimeout(this.mediaUpdateTimeout),et.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new pz,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,n){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(et.clearTimeout(this.finalRenditionTimeout),n){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=et.setTimeout(this.media.bind(this,e,!1),o);return}const r=this.state,i=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(rR(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=EC(e.resolvedUri,l),o)return this.playlistRequestError(this.request,e,r);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(et.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(et.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(e){const r=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=et.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},r);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(et.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=et.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=et.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,r)=>{if(!this.request)return;if(this.request=null,n)return this.error={status:r.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:r.responseText,code:2,metadata:hm({requestType:r.requestType,request:r,error:n})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=EC(this.src,r),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:r.responseText,url:this.src});e.parsedPlaylist=gz(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,Bie(this.main,this.srcUri()),e.playlists.forEach(r=>{r.segments=jie(r),r.segments.forEach(i=>{Hie(i,r.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||et.location.href;this.main=fqe(e,n),this.haveMetadata({playlistObject:e,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,n){const r=this.main,i=e.ID;let s=r.playlists.length;for(;s--;){const a=r.playlists[s];if(a.attributes["PATHWAY-ID"]===i){const o=a.resolvedUri,l=a.id;if(n){const u=this.createCloneURI_(a.resolvedUri,e),d=yv(i,u),f=this.createCloneAttributes_(i,a.attributes),h=this.createClonePlaylist_(a,d,e,f);r.playlists[s]=h,r.playlists[d]=h,r.playlists[u]=h}else r.playlists.splice(s,1);delete r.playlists[l],delete r.playlists[o]}}this.updateOrDeleteCloneMedia(e,n)}updateOrDeleteCloneMedia(e,n){const r=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!r.mediaGroups[s]||!r.mediaGroups[s][i])){for(const a in r.mediaGroups[s])if(a===i){for(const o in r.mediaGroups[s][a])r.mediaGroups[s][a][o].playlists.forEach((u,d)=>{const f=r.playlists[u.id],h=f.id,g=f.resolvedUri;delete r.playlists[h],delete r.playlists[g]});delete r.mediaGroups[s][a]}}}),n&&this.createClonedMediaGroups_(e)}addClonePathway(e,n={}){const r=this.main,i=r.playlists.length,s=this.createCloneURI_(n.resolvedUri,e),a=yv(e.ID,s),o=this.createCloneAttributes_(e.ID,n.attributes),l=this.createClonePlaylist_(n,a,e,o);r.playlists[i]=l,r.playlists[a]=l,r.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const n=e.ID,r=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||i.mediaGroups[s][n]))for(const a in i.mediaGroups[s]){if(a===r)i.mediaGroups[s][n]={};else continue;for(const o in i.mediaGroups[s][a]){const l=i.mediaGroups[s][a][o];i.mediaGroups[s][n][o]=qs({},l);const u=i.mediaGroups[s][n][o],d=this.createCloneURI_(l.resolvedUri,e);u.resolvedUri=d,u.uri=d,u.playlists=[],l.playlists.forEach((f,h)=>{const g=i.playlists[f.id],v=Nie(s,n,o),p=yv(n,v);if(g&&!i.playlists[p]){const _=this.createClonePlaylist_(g,p,e),S=_.resolvedUri;i.playlists[p]=_,i.playlists[S]=_}u.playlists[h]=this.createClonePlaylist_(f,p,e)})}}})}createClonePlaylist_(e,n,r,i){const s=this.createCloneURI_(e.resolvedUri,r),a={resolvedUri:s,uri:s,id:n};return e.segments&&(a.segments=[]),i&&(a.attributes=i),$i(e,a)}createCloneURI_(e,n){const r=new URL(e);r.hostname=n["URI-REPLACEMENT"].HOST;const i=n["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(i))r.searchParams.set(s,i[s]);return r.href}createCloneAttributes_(e,n){const r={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{n[i]&&(r[i]=e)}),r}getKeyIdSet(e){const n=new Set;if(!e||!e.contentProtection)return n;for(const r in e.contentProtection)if(e.contentProtection[r]&&e.contentProtection[r].attributes&&e.contentProtection[r].attributes.keyId){const i=e.contentProtection[r].attributes.keyId;n.add(i.toLowerCase())}return n}}const iR=function(t,e,n,r){const i=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&i&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=i.byteLength||i.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(i||t.responseText)))),r(e,t)},_qe=(t,e)=>{if(!t||!t.size)return;let n=e;return t.forEach(r=>{n=r(n)}),n},bqe=(t,e,n,r)=>{!t||!t.size||t.forEach(i=>{i(e,n,r)})},Wie=function(){const t=function e(n,r){n=$i({timeout:45e3},n);const i=e.beforeRequest||Mt.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||Mt.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||Mt.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(Mt.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(i));const o=Mt.Vhs.xhr.original===!0?Mt.xhr:Mt.Vhs.xhr,l=_qe(s,n);s.delete(i);const u=o(l||n,function(f,h){return bqe(a,u,f,h),iR(u,f,h,r)}),d=u.abort;return u.abort=function(){return u.aborted=!0,d.apply(u,arguments)},u.uri=n.uri,u.requestType=n.requestType,u.requestTime=Date.now(),u};return t.original=!0,t},xqe=function(t){let e;const n=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=et.BigInt(t.offset)+et.BigInt(t.length)-et.BigInt(1):e=t.offset+t.length-1,"bytes="+n+"-"+e},sR=function(t){const e={};return t.byterange&&(e.Range=xqe(t.byterange)),e},wqe=function(t,e){return t.start(e)+"-"+t.end(e)},Sqe=function(t,e){const n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},Tqe=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},qie=function(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];vne(r)?e[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:e[n]=r}),e},AC=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},Xie=function(t){return t.resolvedUri},Yie=t=>{const e=Array.prototype.slice.call(t),n=16;let r="",i,s;for(let a=0;a<e.length/n;a++)i=e.slice(a*n,a*n+n).map(Sqe).join(""),s=e.slice(a*n,a*n+n).map(Tqe).join(""),r+=i+" "+s+`
`;return r},Cqe=({bytes:t})=>Yie(t),Eqe=t=>{let e="",n;for(n=0;n<t.length;n++)e+=wqe(t,n)+" ";return e};var Aqe=Object.freeze({__proto__:null,createTransferableMessage:qie,initSegmentId:AC,segmentKeyId:Xie,hexDump:Yie,tagDump:Cqe,textRanges:Eqe});const Kie=.25,Pqe=(t,e)=>{if(!e.dateTimeObject)return null;const n=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart+n,s=t-i;return new Date(e.dateTimeObject.getTime()+s*1e3)},kqe=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,Dqe=(t,e)=>{let n;try{n=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let r=e.segments[0];if(n<new Date(r.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){r=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(n<u)break}const i=e.segments[e.segments.length-1],s=i.dateTimeObject,a=i.videoTimingInfo?kqe(i.videoTimingInfo):i.duration+i.duration*Kie,o=new Date(s.getTime()+a*1e3);return n>o?null:(n>new Date(s)&&(r=i),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:El.duration(e,e.mediaSequence+e.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},Iqe=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let n=0,r;for(let s=0;s<e.segments.length&&(r=e.segments[s],n=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration,!(t<=n));s++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+i.duration*Kie)return null;r=i}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},Rqe=(t,e)=>{let n,r;try{n=new Date(t),r=new Date(e)}catch{}const i=n.getTime();return(r.getTime()-i)/1e3},Oqe=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},Mqe=({playlist:t,time:e=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const r=Iqe(e,t);if(!r)return n({message:"valid programTime was not found"});if(r.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});const i={mediaSeconds:e},s=Pqe(e,r.segment);return s&&(i.programDateTime=s.toISOString()),n(null,i)},Zie=({programTime:t,playlist:e,retryCount:n=2,seekTo:r,pauseAfterSeek:i=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!r)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!Oqe(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=Dqe(t,e);if(!o)return a({message:`${t} was not found in the stream`});const l=o.segment,u=Rqe(l.dateTimeObject,t);if(o.type==="estimate"){if(n===0)return a({message:`${t} is not buffered yet. Try again`});r(o.estimatedStart+u),s.one("seeked",()=>{Zie({programTime:t,playlist:e,retryCount:n-1,seekTo:r,pauseAfterSeek:i,tech:s,callback:a})});return}const d=l.start+u,f=()=>a(null,s.currentTime());s.one("seeked",f),i&&s.pause(),r(d)},TP=(t,e)=>{if(t.readyState===4)return e()},Lqe=(t,e,n,r)=>{let i=[],s,a=!1;const o=function(f,h,g,v){return h.abort(),a=!0,n(f,h,g,v)},l=function(f,h){if(a)return;if(f)return f.metadata=hm({requestType:r,request:h,error:f}),o(f,h,"",i);const g=h.responseText.substring(i&&i.byteLength||0,h.responseText.length);if(i=BHe(i,yne(g,!0)),s=s||S2(i),i.length<10||s&&i.length<s+2)return TP(h,()=>o(f,h,"",i));const v=$L(i);return v==="ts"&&i.length<188?TP(h,()=>o(f,h,"",i)):!v&&i.length<376?TP(h,()=>o(f,h,"",i)):o(null,h,v,i)},d=e({uri:t,beforeSend(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function({total:h,loaded:g}){return iR(f,null,{statusCode:f.status},l)})}},function(f,h){return iR(d,f,h,l)});return d},{EventTarget:$qe}=Mt,vz=function(t,e){if(!Gie(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let n=0;n<t.segments.length;n++){const r=t.segments[n],i=e.segments[n];if(r.uri!==i.uri)return!1;if(!r.byterange&&!i.byterange)continue;const s=r.byterange,a=i.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},Nqe=(t,e,n,r)=>{const i=r.attributes.NAME||n;return`placeholder-uri-${t}-${e}-${i}`},Fqe=({mainXml:t,srcUrl:e,clientOffset:n,sidxMapping:r,previousManifest:i})=>{const s=aGe(t,{manifestUri:e,clientOffset:n,sidxMapping:r,previousManifest:i});return Bie(s,e,Nqe),s},Bqe=(t,e)=>{d_(t,(n,r,i,s)=>{(!e.mediaGroups[r][i]||!(s in e.mediaGroups[r][i]))&&delete t.mediaGroups[r][i][s]})},Uqe=(t,e,n)=>{let r=!0,i=$i(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const l=yA(a.sidx);n&&n[l]&&n[l].sidx&&OL(a,n[l].sidx,a.sidx.resolvedUri)}const o=nR(i,a,vz);o&&(i=o,r=!1)}return d_(e,(s,a,o,l)=>{if(s.playlists&&s.playlists.length){const u=s.playlists[0].id,d=nR(i,s.playlists[0],vz);d&&(i=d,l in i.mediaGroups[a][o]||(i.mediaGroups[a][o][l]=s),i.mediaGroups[a][o][l].playlists[0]=i.playlists[u],r=!1)}}),Bqe(i,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(r=!1),r?null:i},Vqe=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,yz=(t,e)=>{const n={};for(const r in t){const s=t[r].sidx;if(s){const a=yA(s);if(!e[a])break;const o=e[a].sidxInfo;Vqe(o,s)&&(n[a]=e[a])}}return n},zqe=(t,e)=>{let r=yz(t.playlists,e);return d_(t,(i,s,a,o)=>{if(i.playlists&&i.playlists.length){const l=i.playlists;r=$i(r,yz(l,e))}}),r};class aR extends $qe{constructor(e,n,r={},i){super(),this.isPaused_=!0,this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:s=!1}=r;if(this.vhs_=n,this.withCredentials=s,this.addMetadataToTextTrack=r.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Qu("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,n,r){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2,metadata:e.metadata},r&&(this.state=r),this.trigger("error"),!0}addSidxSegments_(e,n,r){const i=e.sidx&&yA(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){et.clearTimeout(this.mediaRequest_),this.mediaRequest_=et.setTimeout(()=>r(!1),0);return}const s=EC(e.sidx.resolvedUri),a=(l,u)=>{if(this.requestErrored_(l,u,n))return;const d=this.mainPlaylistLoader_.sidxMapping_,{requestType:f}=u;let h;try{h=fGe(xr(u.response).subarray(8))}catch(g){g.metadata=hm({requestType:f,request:u,parseFailure:!0}),this.requestErrored_(g,u,n);return}return d[i]={sidxInfo:e.sidx,sidx:h},OL(e,h,e.sidx.resolvedUri),r(!0)},o="dash-sidx";this.request=Lqe(s,this.vhs_.xhr,(l,u,d,f)=>{if(l)return a(l,u);if(!d||d!=="mp4"){const v=d||"unknown";return a({status:u.status,message:`Unsupported ${v} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},u)}const{offset:h,length:g}=e.sidx.byterange;if(f.length>=g+h)return a(l,{response:f.subarray(h,h+g),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:sR({byterange:e.sidx.byterange})},a)},o)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},et.clearTimeout(this.minimumUpdatePeriodTimeout_),et.clearTimeout(this.mediaRequest_),et.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,i=>{this.haveMetadata({startingState:n,playlist:e})}))}haveMetadata({startingState:e,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,et.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(n.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),et.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(et.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){this.isPaused_=!1,et.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(e){const r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=et.setTimeout(()=>this.load(),r);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){et.clearTimeout(this.mediaRequest_),this.mediaRequest_=et.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:n}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(r,i)=>{if(r){const{requestType:a}=i;r.metadata=hm({requestType:a,request:i,error:r})}if(this.requestErrored_(r,i)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:n});const s=i.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=EC(this.mainPlaylistLoader_.srcUrl,i),s){this.handleMain_(),this.syncClientServerClock_(()=>e(i,s));return}return e(i,s)})}syncClientServerClock_(e){const n=oGe(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Tl(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(r,i)=>{if(!this.request)return;if(r){const{requestType:a}=i;return this.error.metadata=hm({requestType:a,request:i,error:r}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;n.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(i.responseHeaders.date):s=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){et.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:n});let r;try{r=Fqe({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:Mt.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(r=Uqe(e,r,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=r||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||r&&r.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(r),r){const{duration:s,endList:a}=r,o=[];r.playlists.forEach(u=>{o.push({id:u.id,bandwidth:u.attributes.BANDWIDTH,resolution:u.attributes.RESOLUTION,codecs:u.attributes.CODECS})});const l={duration:s,isLive:!a,renditions:o};n.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:n})}return!!r}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(et.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let n=e.main&&e.main.minimumUpdatePeriod;if(n===0&&(e.media()?n=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_(`found invalid minimumUpdatePeriod of ${n}, not setting a timeout`);return}this.createMUPTimeout_(n)}createMUPTimeout_(e){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=et.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=zqe(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,r=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,r=!this.media_||this.media_!==n[e];if(r?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=et.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},rR(this.media(),!!r)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(r=>({cueTime:r.start,frames:[{data:r.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const r in e.contentProtection){const i=e.contentProtection[r].attributes["cenc:default_KID"];i&&n.add(i.replace(/-/g,"").toLowerCase())}return n}}}var Ua={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const Hqe=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},Qie=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},jqe=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const n=new BlobBuilder;return n.append(t),URL.createObjectURL(n.getBlob())}},Jie=function(t){return function(){const e=jqe(t),n=Qie(new Worker(e));n.objURL=e;const r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(e),r.call(this)},n}},ese=function(t){return`var browserWorkerPolyFill = ${Qie.toString()};
browserWorkerPolyFill(self);
`+t},tse=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},Gqe=ese(tse(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var E={};this.on=function(I,O){E[I]||(E[I]=[]),E[I]=E[I].concat(O)},this.off=function(I,O){var $;return E[I]?($=E[I].indexOf(O),E[I]=E[I].slice(),E[I].splice($,1),$>-1):!1},this.trigger=function(I){var O,$,Z,ce;if(O=E[I],!!O)if(arguments.length===2)for(Z=O.length,$=0;$<Z;++$)O[$].call(this,arguments[1]);else{for(ce=[],$=arguments.length,$=1;$<arguments.length;++$)ce.push(arguments[$]);for(Z=O.length,$=0;$<Z;++$)O[$].apply(this,ce)}},this.dispose=function(){E={}}}};e.prototype.pipe=function(E){return this.on("data",function(I){E.push(I)}),this.on("done",function(I){E.flush(I)}),this.on("partialdone",function(I){E.partialFlush(I)}),this.on("endedtimeline",function(I){E.endTimeline(I)}),this.on("reset",function(I){E.reset(I)}),E},e.prototype.push=function(E){this.trigger("data",E)},e.prototype.flush=function(E){this.trigger("done",E)},e.prototype.partialFlush=function(E){this.trigger("partialdone",E)},e.prototype.endTimeline=function(E){this.trigger("endedtimeline",E)},e.prototype.reset=function(E){this.trigger("reset",E)};var n=e,r=Math.pow(2,32),i=function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O;return I.getBigUint64?(O=I.getBigUint64(0),O<Number.MAX_SAFE_INTEGER?Number(O):O):I.getUint32(0)*r+I.getUint32(4)},s={getUint64:i,MAX_UINT32:r},a=s.MAX_UINT32,o,l,u,d,f,h,g,v,p,_,S,C,T,A,P,D,R,N,U,Y,H,j,X,W,F,te,G,K,ee,de,ue,me,Ee,Oe,Ge,$e;(function(){var E;if(X={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(E in X)X.hasOwnProperty(E)&&(X[E]=[E.charCodeAt(0),E.charCodeAt(1),E.charCodeAt(2),E.charCodeAt(3)]);W=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),te=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),F=new Uint8Array([0,0,0,1]),G=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),K=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ee={video:G,audio:K},me=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ue=new Uint8Array([0,0,0,0,0,0,0,0]),Ee=new Uint8Array([0,0,0,0,0,0,0,0]),Oe=Ee,Ge=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),$e=Ee,de=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(E){var I=[],O=0,$,Z,ce;for($=1;$<arguments.length;$++)I.push(arguments[$]);for($=I.length;$--;)O+=I[$].byteLength;for(Z=new Uint8Array(O+8),ce=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),ce.setUint32(0,Z.byteLength),Z.set(E,4),$=0,O=8;$<I.length;$++)Z.set(I[$],O),O+=I[$].byteLength;return Z},l=function(){return o(X.dinf,o(X.dref,me))},u=function(E){return o(X.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,E.audioobjecttype<<3|E.samplingfrequencyindex>>>1,E.samplingfrequencyindex<<7|E.channelcount<<3,6,1,2]))},d=function(){return o(X.ftyp,W,F,W,te)},D=function(E){return o(X.hdlr,ee[E])},f=function(E){return o(X.mdat,E)},P=function(E){var I=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,E.duration>>>24&255,E.duration>>>16&255,E.duration>>>8&255,E.duration&255,85,196,0,0]);return E.samplerate&&(I[12]=E.samplerate>>>24&255,I[13]=E.samplerate>>>16&255,I[14]=E.samplerate>>>8&255,I[15]=E.samplerate&255),o(X.mdhd,I)},A=function(E){return o(X.mdia,P(E),D(E.type),g(E))},h=function(E){return o(X.mfhd,new Uint8Array([0,0,0,0,(E&4278190080)>>24,(E&16711680)>>16,(E&65280)>>8,E&255]))},g=function(E){return o(X.minf,E.type==="video"?o(X.vmhd,de):o(X.smhd,ue),l(),N(E))},v=function(E,I){for(var O=[],$=I.length;$--;)O[$]=Y(I[$]);return o.apply(null,[X.moof,h(E)].concat(O))},p=function(E){for(var I=E.length,O=[];I--;)O[I]=C(E[I]);return o.apply(null,[X.moov,S(4294967295)].concat(O).concat(_(E)))},_=function(E){for(var I=E.length,O=[];I--;)O[I]=H(E[I]);return o.apply(null,[X.mvex].concat(O))},S=function(E){var I=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(E&4278190080)>>24,(E&16711680)>>16,(E&65280)>>8,E&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(X.mvhd,I)},R=function(E){var I=E.samples||[],O=new Uint8Array(4+I.length),$,Z;for(Z=0;Z<I.length;Z++)$=I[Z].flags,O[Z+4]=$.dependsOn<<4|$.isDependedOn<<2|$.hasRedundancy;return o(X.sdtp,O)},N=function(E){return o(X.stbl,U(E),o(X.stts,$e),o(X.stsc,Oe),o(X.stsz,Ge),o(X.stco,Ee))},function(){var E,I;U=function(O){return o(X.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),O.type==="video"?E(O):I(O))},E=function(O){var $=O.sps||[],Z=O.pps||[],ce=[],Le=[],Be,We;for(Be=0;Be<$.length;Be++)ce.push(($[Be].byteLength&65280)>>>8),ce.push($[Be].byteLength&255),ce=ce.concat(Array.prototype.slice.call($[Be]));for(Be=0;Be<Z.length;Be++)Le.push((Z[Be].byteLength&65280)>>>8),Le.push(Z[Be].byteLength&255),Le=Le.concat(Array.prototype.slice.call(Z[Be]));if(We=[X.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(O.width&65280)>>8,O.width&255,(O.height&65280)>>8,O.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(X.avcC,new Uint8Array([1,O.profileIdc,O.profileCompatibility,O.levelIdc,255].concat([$.length],ce,[Z.length],Le))),o(X.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],O.sarRatio){var Qe=O.sarRatio[0],_t=O.sarRatio[1];We.push(o(X.pasp,new Uint8Array([(Qe&4278190080)>>24,(Qe&16711680)>>16,(Qe&65280)>>8,Qe&255,(_t&4278190080)>>24,(_t&16711680)>>16,(_t&65280)>>8,_t&255])))}return o.apply(null,We)},I=function(O){return o(X.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(O.channelcount&65280)>>8,O.channelcount&255,(O.samplesize&65280)>>8,O.samplesize&255,0,0,0,0,(O.samplerate&65280)>>8,O.samplerate&255,0,0]),u(O))}}(),T=function(E){var I=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(E.id&4278190080)>>24,(E.id&16711680)>>16,(E.id&65280)>>8,E.id&255,0,0,0,0,(E.duration&4278190080)>>24,(E.duration&16711680)>>16,(E.duration&65280)>>8,E.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(E.width&65280)>>8,E.width&255,0,0,(E.height&65280)>>8,E.height&255,0,0]);return o(X.tkhd,I)},Y=function(E){var I,O,$,Z,ce,Le,Be;return I=o(X.tfhd,new Uint8Array([0,0,0,58,(E.id&4278190080)>>24,(E.id&16711680)>>16,(E.id&65280)>>8,E.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),Le=Math.floor(E.baseMediaDecodeTime/a),Be=Math.floor(E.baseMediaDecodeTime%a),O=o(X.tfdt,new Uint8Array([1,0,0,0,Le>>>24&255,Le>>>16&255,Le>>>8&255,Le&255,Be>>>24&255,Be>>>16&255,Be>>>8&255,Be&255])),ce=32+20+8+16+8+8,E.type==="audio"?($=j(E,ce),o(X.traf,I,O,$)):(Z=R(E),$=j(E,Z.length+ce),o(X.traf,I,O,$,Z))},C=function(E){return E.duration=E.duration||4294967295,o(X.trak,T(E),A(E))},H=function(E){var I=new Uint8Array([0,0,0,0,(E.id&4278190080)>>24,(E.id&16711680)>>16,(E.id&65280)>>8,E.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return E.type!=="video"&&(I[I.length-1]=0),o(X.trex,I)},function(){var E,I,O;O=function($,Z){var ce=0,Le=0,Be=0,We=0;return $.length&&($[0].duration!==void 0&&(ce=1),$[0].size!==void 0&&(Le=2),$[0].flags!==void 0&&(Be=4),$[0].compositionTimeOffset!==void 0&&(We=8)),[0,0,ce|Le|Be|We,1,($.length&4278190080)>>>24,($.length&16711680)>>>16,($.length&65280)>>>8,$.length&255,(Z&4278190080)>>>24,(Z&16711680)>>>16,(Z&65280)>>>8,Z&255]},I=function($,Z){var ce,Le,Be,We,Qe,_t;for(We=$.samples||[],Z+=8+12+16*We.length,Be=O(We,Z),Le=new Uint8Array(Be.length+We.length*16),Le.set(Be),ce=Be.length,_t=0;_t<We.length;_t++)Qe=We[_t],Le[ce++]=(Qe.duration&4278190080)>>>24,Le[ce++]=(Qe.duration&16711680)>>>16,Le[ce++]=(Qe.duration&65280)>>>8,Le[ce++]=Qe.duration&255,Le[ce++]=(Qe.size&4278190080)>>>24,Le[ce++]=(Qe.size&16711680)>>>16,Le[ce++]=(Qe.size&65280)>>>8,Le[ce++]=Qe.size&255,Le[ce++]=Qe.flags.isLeading<<2|Qe.flags.dependsOn,Le[ce++]=Qe.flags.isDependedOn<<6|Qe.flags.hasRedundancy<<4|Qe.flags.paddingValue<<1|Qe.flags.isNonSyncSample,Le[ce++]=Qe.flags.degradationPriority&61440,Le[ce++]=Qe.flags.degradationPriority&15,Le[ce++]=(Qe.compositionTimeOffset&4278190080)>>>24,Le[ce++]=(Qe.compositionTimeOffset&16711680)>>>16,Le[ce++]=(Qe.compositionTimeOffset&65280)>>>8,Le[ce++]=Qe.compositionTimeOffset&255;return o(X.trun,Le)},E=function($,Z){var ce,Le,Be,We,Qe,_t;for(We=$.samples||[],Z+=8+12+8*We.length,Be=O(We,Z),ce=new Uint8Array(Be.length+We.length*8),ce.set(Be),Le=Be.length,_t=0;_t<We.length;_t++)Qe=We[_t],ce[Le++]=(Qe.duration&4278190080)>>>24,ce[Le++]=(Qe.duration&16711680)>>>16,ce[Le++]=(Qe.duration&65280)>>>8,ce[Le++]=Qe.duration&255,ce[Le++]=(Qe.size&4278190080)>>>24,ce[Le++]=(Qe.size&16711680)>>>16,ce[Le++]=(Qe.size&65280)>>>8,ce[Le++]=Qe.size&255;return o(X.trun,ce)},j=function($,Z){return $.type==="audio"?E($,Z):I($,Z)}}();var Ie={ftyp:d,mdat:f,moof:v,moov:p,initSegment:function(E){var I=d(),O=p(E),$;return $=new Uint8Array(I.byteLength+O.byteLength),$.set(I),$.set(O,I.byteLength),$}},Ke=function(E){var I,O,$=[],Z=[];for(Z.byteLength=0,Z.nalCount=0,Z.duration=0,$.byteLength=0,I=0;I<E.length;I++)O=E[I],O.nalUnitType==="access_unit_delimiter_rbsp"?($.length&&($.duration=O.dts-$.dts,Z.byteLength+=$.byteLength,Z.nalCount+=$.length,Z.duration+=$.duration,Z.push($)),$=[O],$.byteLength=O.data.byteLength,$.pts=O.pts,$.dts=O.dts):(O.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&($.keyFrame=!0),$.duration=O.dts-$.dts,$.byteLength+=O.data.byteLength,$.push(O));return Z.length&&(!$.duration||$.duration<=0)&&($.duration=Z[Z.length-1].duration),Z.byteLength+=$.byteLength,Z.nalCount+=$.length,Z.duration+=$.duration,Z.push($),Z},Xe=function(E){var I,O,$=[],Z=[];for($.byteLength=0,$.nalCount=0,$.duration=0,$.pts=E[0].pts,$.dts=E[0].dts,Z.byteLength=0,Z.nalCount=0,Z.duration=0,Z.pts=E[0].pts,Z.dts=E[0].dts,I=0;I<E.length;I++)O=E[I],O.keyFrame?($.length&&(Z.push($),Z.byteLength+=$.byteLength,Z.nalCount+=$.nalCount,Z.duration+=$.duration),$=[O],$.nalCount=O.length,$.byteLength=O.byteLength,$.pts=O.pts,$.dts=O.dts,$.duration=O.duration):($.duration+=O.duration,$.nalCount+=O.length,$.byteLength+=O.byteLength,$.push(O));return Z.length&&$.duration<=0&&($.duration=Z[Z.length-1].duration),Z.byteLength+=$.byteLength,Z.nalCount+=$.nalCount,Z.duration+=$.duration,Z.push($),Z},Ze=function(E){var I;return!E[0][0].keyFrame&&E.length>1&&(I=E.shift(),E.byteLength-=I.byteLength,E.nalCount-=I.nalCount,E[0][0].dts=I.dts,E[0][0].pts=I.pts,E[0][0].duration+=I.duration),E},bt=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},ht=function(E,I){var O=bt();return O.dataOffset=I,O.compositionTimeOffset=E.pts-E.dts,O.duration=E.duration,O.size=4*E.length,O.size+=E.byteLength,E.keyFrame&&(O.flags.dependsOn=2,O.flags.isNonSyncSample=0),O},ae=function(E,I){var O,$,Z,ce,Le,Be=I||0,We=[];for(O=0;O<E.length;O++)for(ce=E[O],$=0;$<ce.length;$++)Le=ce[$],Z=ht(Le,Be),Be+=Z.size,We.push(Z);return We},Re=function(E){var I,O,$,Z,ce,Le,Be=0,We=E.byteLength,Qe=E.nalCount,_t=We+4*Qe,Yt=new Uint8Array(_t),zn=new DataView(Yt.buffer);for(I=0;I<E.length;I++)for(Z=E[I],O=0;O<Z.length;O++)for(ce=Z[O],$=0;$<ce.length;$++)Le=ce[$],zn.setUint32(Be,Le.data.byteLength),Be+=4,Yt.set(Le.data,Be),Be+=Le.data.byteLength;return Yt},rt=function(E,I){var O,$=I||0,Z=[];return O=ht(E,$),Z.push(O),Z},Ye=function(E){var I,O,$=0,Z=E.byteLength,ce=E.length,Le=Z+4*ce,Be=new Uint8Array(Le),We=new DataView(Be.buffer);for(I=0;I<E.length;I++)O=E[I],We.setUint32($,O.data.byteLength),$+=4,Be.set(O.data,$),$+=O.data.byteLength;return Be},it={groupNalsIntoFrames:Ke,groupFramesIntoGops:Xe,extendFirstKeyFrame:Ze,generateSampleTable:ae,concatenateNalData:Re,generateSampleTableForFrame:rt,concatenateNalDataForFrame:Ye},St=[33,16,5,32,164,27],Lt=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],xt=function(E){for(var I=[];E--;)I.push(0);return I},sn=function(E){return Object.keys(E).reduce(function(I,O){return I[O]=new Uint8Array(E[O].reduce(function($,Z){return $.concat(Z)},[])),I},{})},zt,ft=function(){if(!zt){var E={96e3:[St,[227,64],xt(154),[56]],88200:[St,[231],xt(170),[56]],64e3:[St,[248,192],xt(240),[56]],48e3:[St,[255,192],xt(268),[55,148,128],xt(54),[112]],44100:[St,[255,192],xt(268),[55,163,128],xt(84),[112]],32e3:[St,[255,192],xt(268),[55,234],xt(226),[112]],24e3:[St,[255,192],xt(268),[55,255,128],xt(268),[111,112],xt(126),[224]],16e3:[St,[255,192],xt(268),[55,255,128],xt(268),[111,255],xt(269),[223,108],xt(195),[1,192]],12e3:[Lt,xt(268),[3,127,248],xt(268),[6,255,240],xt(268),[13,255,224],xt(268),[27,253,128],xt(259),[56]],11025:[Lt,xt(268),[3,127,248],xt(268),[6,255,240],xt(268),[13,255,224],xt(268),[27,255,192],xt(268),[55,175,128],xt(108),[112]],8e3:[Lt,xt(268),[3,121,16],xt(47),[7]]};zt=sn(E)}return zt},tn=9e4,_n,qt,Pt,Ct,Kt,$t,Te;_n=function(E){return E*tn},qt=function(E,I){return E*I},Pt=function(E){return E/tn},Ct=function(E,I){return E/I},Kt=function(E,I){return _n(Ct(E,I))},$t=function(E,I){return qt(Pt(E),I)},Te=function(E,I,O){return Pt(O?E:E-I)};var vt={ONE_SECOND_IN_TS:tn,secondsToVideoTs:_n,secondsToAudioTs:qt,videoTsToSeconds:Pt,audioTsToSeconds:Ct,audioTsToVideoTs:Kt,videoTsToAudioTs:$t,metadataTsToSeconds:Te},Nt=ft,Ne=vt,De=function(E){var I,O,$=0;for(I=0;I<E.length;I++)O=E[I],$+=O.data.byteLength;return $},tt=function(E,I,O,$){var Z,ce=0,Le=0,Be=0,We=0,Qe,_t,Yt;if(I.length&&(Z=Ne.audioTsToVideoTs(E.baseMediaDecodeTime,E.samplerate),ce=Math.ceil(Ne.ONE_SECOND_IN_TS/(E.samplerate/1024)),O&&$&&(Le=Z-Math.max(O,$),Be=Math.floor(Le/ce),We=Be*ce),!(Be<1||We>Ne.ONE_SECOND_IN_TS/2))){for(Qe=Nt()[E.samplerate],Qe||(Qe=I[0].data),_t=0;_t<Be;_t++)Yt=I[0],I.splice(0,0,{data:Qe,dts:Yt.dts-ce,pts:Yt.pts-ce});return E.baseMediaDecodeTime-=Math.floor(Ne.videoTsToAudioTs(We,E.samplerate)),We}},xe=function(E,I,O){return I.minSegmentDts>=O?E:(I.minSegmentDts=1/0,E.filter(function($){return $.dts>=O?(I.minSegmentDts=Math.min(I.minSegmentDts,$.dts),I.minSegmentPts=I.minSegmentDts,!0):!1}))},Gt=function(E){var I,O,$=[];for(I=0;I<E.length;I++)O=E[I],$.push({size:O.data.byteLength,duration:1024});return $},c=function(E){var I,O,$=0,Z=new Uint8Array(De(E));for(I=0;I<E.length;I++)O=E[I],Z.set(O.data,$),$+=O.data.byteLength;return Z},xn={prefixWithSilence:tt,trimAdtsFramesByEarliestDts:xe,generateSampleTable:Gt,concatenateFrameData:c},at=vt.ONE_SECOND_IN_TS,se=function(E,I){typeof I.pts=="number"&&(E.timelineStartInfo.pts===void 0&&(E.timelineStartInfo.pts=I.pts),E.minSegmentPts===void 0?E.minSegmentPts=I.pts:E.minSegmentPts=Math.min(E.minSegmentPts,I.pts),E.maxSegmentPts===void 0?E.maxSegmentPts=I.pts:E.maxSegmentPts=Math.max(E.maxSegmentPts,I.pts)),typeof I.dts=="number"&&(E.timelineStartInfo.dts===void 0&&(E.timelineStartInfo.dts=I.dts),E.minSegmentDts===void 0?E.minSegmentDts=I.dts:E.minSegmentDts=Math.min(E.minSegmentDts,I.dts),E.maxSegmentDts===void 0?E.maxSegmentDts=I.dts:E.maxSegmentDts=Math.max(E.maxSegmentDts,I.dts))},w=function(E){delete E.minSegmentDts,delete E.maxSegmentDts,delete E.minSegmentPts,delete E.maxSegmentPts},k=function(E,I){var O,$,Z=E.minSegmentDts;return I||(Z-=E.timelineStartInfo.dts),O=E.timelineStartInfo.baseMediaDecodeTime,O+=Z,O=Math.max(0,O),E.type==="audio"&&($=E.samplerate/at,O*=$,O=Math.floor(O)),O},z={clearDtsInfo:w,calculateTrackBaseMediaDecodeTime:k,collectDtsInfo:se},fe=4,le=128,re=function(E){for(var I=0,O={payloadType:-1,payloadSize:0},$=0,Z=0;I<E.byteLength&&E[I]!==le;){for(;E[I]===255;)$+=255,I++;for($+=E[I++];E[I]===255;)Z+=255,I++;if(Z+=E[I++],!O.payload&&$===fe){var ce=String.fromCharCode(E[I+3],E[I+4],E[I+5],E[I+6]);if(ce==="GA94"){O.payloadType=$,O.payloadSize=Z,O.payload=E.subarray(I,I+Z);break}else O.payload=void 0}I+=Z,$=0,Z=0}return O},we=function(E){return E.payload[0]!==181||(E.payload[1]<<8|E.payload[2])!==49||String.fromCharCode(E.payload[3],E.payload[4],E.payload[5],E.payload[6])!=="GA94"||E.payload[7]!==3?null:E.payload.subarray(8,E.payload.length-1)},Me=function(E,I){var O=[],$,Z,ce,Le;if(!(I[0]&64))return O;for(Z=I[0]&31,$=0;$<Z;$++)ce=$*3,Le={type:I[ce+2]&3,pts:E},I[ce+2]&4&&(Le.ccData=I[ce+3]<<8|I[ce+4],O.push(Le));return O},Se=function(E){for(var I=E.byteLength,O=[],$=1,Z,ce;$<I-2;)E[$]===0&&E[$+1]===0&&E[$+2]===3?(O.push($+2),$+=2):$++;if(O.length===0)return E;Z=I-O.length,ce=new Uint8Array(Z);var Le=0;for($=0;$<Z;Le++,$++)Le===O[0]&&(Le++,O.shift()),ce[$]=E[Le];return ce},ze={parseSei:re,parseUserData:we,parseCaptionPackets:Me,discardEmulationPreventionBytes:Se,USER_DATA_REGISTERED_ITU_T_T35:fe},lt=n,dt=ze,pt=function(E){E=E||{},pt.prototype.init.call(this),this.parse708captions_=typeof E.parse708captions=="boolean"?E.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Xt(0,0),new Xt(0,1),new Xt(1,0),new Xt(1,1)],this.parse708captions_&&(this.cc708Stream_=new Jt({captionServices:E.captionServices})),this.reset(),this.ccStreams_.forEach(function(I){I.on("data",this.trigger.bind(this,"data")),I.on("partialdone",this.trigger.bind(this,"partialdone")),I.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};pt.prototype=new lt,pt.prototype.push=function(E){var I,O,$;if(E.nalUnitType==="sei_rbsp"&&(I=dt.parseSei(E.escapedRBSP),!!I.payload&&I.payloadType===dt.USER_DATA_REGISTERED_ITU_T_T35&&(O=dt.parseUserData(I),!!O))){if(E.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(E.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}$=dt.parseCaptionPackets(E.pts,O),this.captionPackets_=this.captionPackets_.concat($),this.latestDts_!==E.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=E.dts}},pt.prototype.flushCCStreams=function(E){this.ccStreams_.forEach(function(I){return E==="flush"?I.flush():I.partialFlush()},this)},pt.prototype.flushStream=function(E){if(!this.captionPackets_.length){this.flushCCStreams(E);return}this.captionPackets_.forEach(function(I,O){I.presortIndex=O}),this.captionPackets_.sort(function(I,O){return I.pts===O.pts?I.presortIndex-O.presortIndex:I.pts-O.pts}),this.captionPackets_.forEach(function(I){I.type<2?this.dispatchCea608Packet(I):this.dispatchCea708Packet(I)},this),this.captionPackets_.length=0,this.flushCCStreams(E)},pt.prototype.flush=function(){return this.flushStream("flush")},pt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},pt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(E){E.reset()})},pt.prototype.dispatchCea608Packet=function(E){this.setsTextOrXDSActive(E)?this.activeCea608Channel_[E.type]=null:this.setsChannel1Active(E)?this.activeCea608Channel_[E.type]=0:this.setsChannel2Active(E)&&(this.activeCea608Channel_[E.type]=1),this.activeCea608Channel_[E.type]!==null&&this.ccStreams_[(E.type<<1)+this.activeCea608Channel_[E.type]].push(E)},pt.prototype.setsChannel1Active=function(E){return(E.ccData&30720)===4096},pt.prototype.setsChannel2Active=function(E){return(E.ccData&30720)===6144},pt.prototype.setsTextOrXDSActive=function(E){return(E.ccData&28928)===256||(E.ccData&30974)===4138||(E.ccData&30974)===6186},pt.prototype.dispatchCea708Packet=function(E){this.parse708captions_&&this.cc708Stream_.push(E)};var Ht={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},rn=function(E){var I=Ht[E]||E;return E&4096&&E===I?"":String.fromCharCode(I)},wt=function(E){return 32<=E&&E<=127||160<=E&&E<=255},cn=function(E){this.windowNum=E,this.reset()};cn.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},cn.prototype.getText=function(){return this.rows.join(`
`)},cn.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},cn.prototype.newLine=function(E){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(E),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},cn.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},cn.prototype.addText=function(E){this.rows[this.rowIdx]+=E},cn.prototype.backspace=function(){if(!this.isEmpty()){var E=this.rows[this.rowIdx];this.rows[this.rowIdx]=E.substr(0,E.length-1)}};var on=function(E,I,O){this.serviceNum=E,this.text="",this.currentWindow=new cn(-1),this.windows=[],this.stream=O,typeof I=="string"&&this.createTextDecoder(I)};on.prototype.init=function(E,I){this.startPts=E;for(var O=0;O<8;O++)this.windows[O]=new cn(O),typeof I=="function"&&(this.windows[O].beforeRowOverflow=I)},on.prototype.setCurrentWindow=function(E){this.currentWindow=this.windows[E]},on.prototype.createTextDecoder=function(E){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(E)}catch(I){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+E+" encoding. "+I})}};var Jt=function(E){E=E||{},Jt.prototype.init.call(this);var I=this,O=E.captionServices||{},$={},Z;Object.keys(O).forEach(ce=>{Z=O[ce],/^SERVICE/.test(ce)&&($[ce]=Z.encoding)}),this.serviceEncodings=$,this.current708Packet=null,this.services={},this.push=function(ce){ce.type===3?(I.new708Packet(),I.add708Bytes(ce)):(I.current708Packet===null&&I.new708Packet(),I.add708Bytes(ce))}};Jt.prototype=new lt,Jt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Jt.prototype.add708Bytes=function(E){var I=E.ccData,O=I>>>8,$=I&255;this.current708Packet.ptsVals.push(E.pts),this.current708Packet.data.push(O),this.current708Packet.data.push($)},Jt.prototype.push708Packet=function(){var E=this.current708Packet,I=E.data,O=null,$=null,Z=0,ce=I[Z++];for(E.seq=ce>>6,E.sizeCode=ce&63;Z<I.length;Z++)ce=I[Z++],O=ce>>5,$=ce&31,O===7&&$>0&&(ce=I[Z++],O=ce),this.pushServiceBlock(O,Z,$),$>0&&(Z+=$-1)},Jt.prototype.pushServiceBlock=function(E,I,O){var $,Z=I,ce=this.current708Packet.data,Le=this.services[E];for(Le||(Le=this.initService(E,Z));Z<I+O&&Z<ce.length;Z++)$=ce[Z],wt($)?Z=this.handleText(Z,Le):$===24?Z=this.multiByteCharacter(Z,Le):$===16?Z=this.extendedCommands(Z,Le):128<=$&&$<=135?Z=this.setCurrentWindow(Z,Le):152<=$&&$<=159?Z=this.defineWindow(Z,Le):$===136?Z=this.clearWindows(Z,Le):$===140?Z=this.deleteWindows(Z,Le):$===137?Z=this.displayWindows(Z,Le):$===138?Z=this.hideWindows(Z,Le):$===139?Z=this.toggleWindows(Z,Le):$===151?Z=this.setWindowAttributes(Z,Le):$===144?Z=this.setPenAttributes(Z,Le):$===145?Z=this.setPenColor(Z,Le):$===146?Z=this.setPenLocation(Z,Le):$===143?Le=this.reset(Z,Le):$===8?Le.currentWindow.backspace():$===12?Le.currentWindow.clearText():$===13?Le.currentWindow.pendingNewLine=!0:$===14?Le.currentWindow.clearText():$===141&&Z++},Jt.prototype.extendedCommands=function(E,I){var O=this.current708Packet.data,$=O[++E];return wt($)&&(E=this.handleText(E,I,{isExtended:!0})),E},Jt.prototype.getPts=function(E){return this.current708Packet.ptsVals[Math.floor(E/2)]},Jt.prototype.initService=function(E,I){var $="SERVICE"+E,O=this,$,Z;return $ in this.serviceEncodings&&(Z=this.serviceEncodings[$]),this.services[E]=new on(E,Z,O),this.services[E].init(this.getPts(I),function(ce){O.flushDisplayed(ce,O.services[E])}),this.services[E]},Jt.prototype.handleText=function(E,I,O){var $=O&&O.isExtended,Z=O&&O.isMultiByte,ce=this.current708Packet.data,Le=$?4096:0,Be=ce[E],We=ce[E+1],Qe=I.currentWindow,_t,Yt;function zn(dn){return dn.map(mr=>("0"+(mr&255).toString(16)).slice(-2)).join("")}if(Z?(Yt=[Be,We],E++):Yt=[Be],I.textDecoder_&&!$)_t=I.textDecoder_.decode(new Uint8Array(Yt));else if(Z){const dn=zn(Yt);_t=String.fromCharCode(parseInt(dn,16))}else _t=rn(Le|Be);return Qe.pendingNewLine&&!Qe.isEmpty()&&Qe.newLine(this.getPts(E)),Qe.pendingNewLine=!1,Qe.addText(_t),E},Jt.prototype.multiByteCharacter=function(E,I){var O=this.current708Packet.data,$=O[E+1],Z=O[E+2];return wt($)&&wt(Z)&&(E=this.handleText(++E,I,{isMultiByte:!0})),E},Jt.prototype.setCurrentWindow=function(E,I){var O=this.current708Packet.data,$=O[E],Z=$&7;return I.setCurrentWindow(Z),E},Jt.prototype.defineWindow=function(E,I){var O=this.current708Packet.data,$=O[E],Z=$&7;I.setCurrentWindow(Z);var ce=I.currentWindow;return $=O[++E],ce.visible=($&32)>>5,ce.rowLock=($&16)>>4,ce.columnLock=($&8)>>3,ce.priority=$&7,$=O[++E],ce.relativePositioning=($&128)>>7,ce.anchorVertical=$&127,$=O[++E],ce.anchorHorizontal=$,$=O[++E],ce.anchorPoint=($&240)>>4,ce.rowCount=$&15,$=O[++E],ce.columnCount=$&63,$=O[++E],ce.windowStyle=($&56)>>3,ce.penStyle=$&7,ce.virtualRowCount=ce.rowCount+1,E},Jt.prototype.setWindowAttributes=function(E,I){var O=this.current708Packet.data,$=O[E],Z=I.currentWindow.winAttr;return $=O[++E],Z.fillOpacity=($&192)>>6,Z.fillRed=($&48)>>4,Z.fillGreen=($&12)>>2,Z.fillBlue=$&3,$=O[++E],Z.borderType=($&192)>>6,Z.borderRed=($&48)>>4,Z.borderGreen=($&12)>>2,Z.borderBlue=$&3,$=O[++E],Z.borderType+=($&128)>>5,Z.wordWrap=($&64)>>6,Z.printDirection=($&48)>>4,Z.scrollDirection=($&12)>>2,Z.justify=$&3,$=O[++E],Z.effectSpeed=($&240)>>4,Z.effectDirection=($&12)>>2,Z.displayEffect=$&3,E},Jt.prototype.flushDisplayed=function(E,I){for(var O=[],$=0;$<8;$++)I.windows[$].visible&&!I.windows[$].isEmpty()&&O.push(I.windows[$].getText());I.endPts=E,I.text=O.join(`

`),this.pushCaption(I),I.startPts=E},Jt.prototype.pushCaption=function(E){E.text!==""&&(this.trigger("data",{startPts:E.startPts,endPts:E.endPts,text:E.text,stream:"cc708_"+E.serviceNum}),E.text="",E.startPts=E.endPts)},Jt.prototype.displayWindows=function(E,I){var O=this.current708Packet.data,$=O[++E],Z=this.getPts(E);this.flushDisplayed(Z,I);for(var ce=0;ce<8;ce++)$&1<<ce&&(I.windows[ce].visible=1);return E},Jt.prototype.hideWindows=function(E,I){var O=this.current708Packet.data,$=O[++E],Z=this.getPts(E);this.flushDisplayed(Z,I);for(var ce=0;ce<8;ce++)$&1<<ce&&(I.windows[ce].visible=0);return E},Jt.prototype.toggleWindows=function(E,I){var O=this.current708Packet.data,$=O[++E],Z=this.getPts(E);this.flushDisplayed(Z,I);for(var ce=0;ce<8;ce++)$&1<<ce&&(I.windows[ce].visible^=1);return E},Jt.prototype.clearWindows=function(E,I){var O=this.current708Packet.data,$=O[++E],Z=this.getPts(E);this.flushDisplayed(Z,I);for(var ce=0;ce<8;ce++)$&1<<ce&&I.windows[ce].clearText();return E},Jt.prototype.deleteWindows=function(E,I){var O=this.current708Packet.data,$=O[++E],Z=this.getPts(E);this.flushDisplayed(Z,I);for(var ce=0;ce<8;ce++)$&1<<ce&&I.windows[ce].reset();return E},Jt.prototype.setPenAttributes=function(E,I){var O=this.current708Packet.data,$=O[E],Z=I.currentWindow.penAttr;return $=O[++E],Z.textTag=($&240)>>4,Z.offset=($&12)>>2,Z.penSize=$&3,$=O[++E],Z.italics=($&128)>>7,Z.underline=($&64)>>6,Z.edgeType=($&56)>>3,Z.fontStyle=$&7,E},Jt.prototype.setPenColor=function(E,I){var O=this.current708Packet.data,$=O[E],Z=I.currentWindow.penColor;return $=O[++E],Z.fgOpacity=($&192)>>6,Z.fgRed=($&48)>>4,Z.fgGreen=($&12)>>2,Z.fgBlue=$&3,$=O[++E],Z.bgOpacity=($&192)>>6,Z.bgRed=($&48)>>4,Z.bgGreen=($&12)>>2,Z.bgBlue=$&3,$=O[++E],Z.edgeRed=($&48)>>4,Z.edgeGreen=($&12)>>2,Z.edgeBlue=$&3,E},Jt.prototype.setPenLocation=function(E,I){var O=this.current708Packet.data,$=O[E],Z=I.currentWindow.penLoc;return I.currentWindow.pendingNewLine=!0,$=O[++E],Z.row=$&15,$=O[++E],Z.column=$&63,E},Jt.prototype.reset=function(E,I){var O=this.getPts(E);return this.flushDisplayed(O,I),this.initService(I.serviceNum,E)};var hn={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},st=function(E){return E===null?"":(E=hn[E]||E,String.fromCharCode(E))},At=14,ve=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],en=function(){for(var E=[],I=At+1;I--;)E.push({text:"",indent:0,offset:0});return E},Xt=function(E,I){Xt.prototype.init.call(this),this.field_=E||0,this.dataChannel_=I||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(O){var $,Z,ce,Le,Be;if($=O.ccData&32639,$===this.lastControlCode_){this.lastControlCode_=null;return}if(($&61440)===4096?this.lastControlCode_=$:$!==this.PADDING_&&(this.lastControlCode_=null),ce=$>>>8,Le=$&255,$!==this.PADDING_)if($===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if($===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(O.pts),this.flushDisplayed(O.pts),Z=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=Z,this.startPts_=O.pts;else if($===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(O.pts);else if($===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(O.pts);else if($===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(O.pts);else if($===this.CARRIAGE_RETURN_)this.clearFormatting(O.pts),this.flushDisplayed(O.pts),this.shiftRowsUp_(),this.startPts_=O.pts;else if($===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if($===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(O.pts),this.displayed_=en();else if($===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=en();else if($===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(O.pts),this.displayed_=en()),this.mode_="paintOn",this.startPts_=O.pts;else if(this.isSpecialCharacter(ce,Le))ce=(ce&3)<<8,Be=st(ce|Le),this[this.mode_](O.pts,Be),this.column_++;else if(this.isExtCharacter(ce,Le))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),ce=(ce&3)<<8,Be=st(ce|Le),this[this.mode_](O.pts,Be),this.column_++;else if(this.isMidRowCode(ce,Le))this.clearFormatting(O.pts),this[this.mode_](O.pts," "),this.column_++,(Le&14)===14&&this.addFormatting(O.pts,["i"]),(Le&1)===1&&this.addFormatting(O.pts,["u"]);else if(this.isOffsetControlCode(ce,Le)){const Qe=Le&3;this.nonDisplayed_[this.row_].offset=Qe,this.column_+=Qe}else if(this.isPAC(ce,Le)){var We=ve.indexOf($&7968);if(this.mode_==="rollUp"&&(We-this.rollUpRows_+1<0&&(We=this.rollUpRows_-1),this.setRollUp(O.pts,We)),We!==this.row_&&We>=0&&We<=14&&(this.clearFormatting(O.pts),this.row_=We),Le&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(O.pts,["u"]),($&16)===16){const Qe=($&14)>>1;this.column_=Qe*4,this.nonDisplayed_[this.row_].indent+=Qe}this.isColorPAC(Le)&&(Le&14)===14&&this.addFormatting(O.pts,["i"])}else this.isNormalChar(ce)&&(Le===0&&(Le=null),Be=st(ce),Be+=st(Le),this[this.mode_](O.pts,Be),this.column_+=Be.length)}};Xt.prototype=new lt,Xt.prototype.flushDisplayed=function(E){const I=$=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+$+"."})},O=[];this.displayed_.forEach(($,Z)=>{if($&&$.text&&$.text.length){try{$.text=$.text.trim()}catch{I(Z)}$.text.length&&O.push({text:$.text,line:Z+1,position:10+Math.min(70,$.indent*10)+$.offset*2.5})}else $==null&&I(Z)}),O.length&&this.trigger("data",{startPts:this.startPts_,endPts:E,content:O,stream:this.name_})},Xt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=en(),this.nonDisplayed_=en(),this.lastControlCode_=null,this.column_=0,this.row_=At,this.rollUpRows_=2,this.formatting_=[]},Xt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Xt.prototype.isSpecialCharacter=function(E,I){return E===this.EXT_&&I>=48&&I<=63},Xt.prototype.isExtCharacter=function(E,I){return(E===this.EXT_+1||E===this.EXT_+2)&&I>=32&&I<=63},Xt.prototype.isMidRowCode=function(E,I){return E===this.EXT_&&I>=32&&I<=47},Xt.prototype.isOffsetControlCode=function(E,I){return E===this.OFFSET_&&I>=33&&I<=35},Xt.prototype.isPAC=function(E,I){return E>=this.BASE_&&E<this.BASE_+8&&I>=64&&I<=127},Xt.prototype.isColorPAC=function(E){return E>=64&&E<=79||E>=96&&E<=127},Xt.prototype.isNormalChar=function(E){return E>=32&&E<=127},Xt.prototype.setRollUp=function(E,I){if(this.mode_!=="rollUp"&&(this.row_=At,this.mode_="rollUp",this.flushDisplayed(E),this.nonDisplayed_=en(),this.displayed_=en()),I!==void 0&&I!==this.row_)for(var O=0;O<this.rollUpRows_;O++)this.displayed_[I-O]=this.displayed_[this.row_-O],this.displayed_[this.row_-O]={text:"",indent:0,offset:0};I===void 0&&(I=this.row_),this.topRow_=I-this.rollUpRows_+1},Xt.prototype.addFormatting=function(E,I){this.formatting_=this.formatting_.concat(I);var O=I.reduce(function($,Z){return $+"<"+Z+">"},"");this[this.mode_](E,O)},Xt.prototype.clearFormatting=function(E){if(this.formatting_.length){var I=this.formatting_.reverse().reduce(function(O,$){return O+"</"+$+">"},"");this.formatting_=[],this[this.mode_](E,I)}},Xt.prototype.popOn=function(E,I){var O=this.nonDisplayed_[this.row_].text;O+=I,this.nonDisplayed_[this.row_].text=O},Xt.prototype.rollUp=function(E,I){var O=this.displayed_[this.row_].text;O+=I,this.displayed_[this.row_].text=O},Xt.prototype.shiftRowsUp_=function(){var E;for(E=0;E<this.topRow_;E++)this.displayed_[E]={text:"",indent:0,offset:0};for(E=this.row_+1;E<At+1;E++)this.displayed_[E]={text:"",indent:0,offset:0};for(E=this.topRow_;E<this.row_;E++)this.displayed_[E]=this.displayed_[E+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Xt.prototype.paintOn=function(E,I){var O=this.displayed_[this.row_].text;O+=I,this.displayed_[this.row_].text=O};var hr={CaptionStream:pt,Cea608Stream:Xt,Cea708Stream:Jt},Pr={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Sn=n,ni=8589934592,rr=4294967296,Qn="shared",ar=function(E,I){var O=1;for(E>I&&(O=-1);Math.abs(I-E)>rr;)E+=O*ni;return E},pr=function(E){var I,O;pr.prototype.init.call(this),this.type_=E||Qn,this.push=function($){if($.type==="metadata"){this.trigger("data",$);return}this.type_!==Qn&&$.type!==this.type_||(O===void 0&&(O=$.dts),$.dts=ar($.dts,O),$.pts=ar($.pts,O),I=$.dts,this.trigger("data",$))},this.flush=function(){O=I,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){O=void 0,I=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};pr.prototype=new Sn;var cr={TimestampRolloverStream:pr,handleRollover:ar},Tr=(E,I,O)=>{if(!E)return-1;for(var $=O;$<E.length;$++)if(E[$]===I)return $;return-1},qn={typedArrayIndexOf:Tr},er=qn.typedArrayIndexOf,bn={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},Xn=function(E,I,O){var $,Z="";for($=I;$<O;$++)Z+="%"+("00"+E[$].toString(16)).slice(-2);return Z},_r=function(E,I,O){return decodeURIComponent(Xn(E,I,O))},Ci=function(E,I,O){return unescape(Xn(E,I,O))},Hr=function(E){return E[0]<<21|E[1]<<14|E[2]<<7|E[3]},gr={APIC:function(E){var I=1,O,$,Z="-->";E.data[0]===bn.Utf8&&(O=er(E.data,0,I),!(O<0)&&(E.mimeType=Ci(E.data,I,O),I=O+1,E.pictureType=E.data[I],I++,$=er(E.data,0,I),!($<0)&&(E.description=_r(E.data,I,$),I=$+1,E.mimeType===Z?E.url=Ci(E.data,I,E.data.length):E.pictureData=E.data.subarray(I,E.data.length))))},"T*":function(E){E.data[0]===bn.Utf8&&(E.value=_r(E.data,1,E.data.length).replace(/\0*$/,""),E.values=E.value.split("\0"))},TXXX:function(E){var I;E.data[0]===bn.Utf8&&(I=er(E.data,0,1),I!==-1&&(E.description=_r(E.data,1,I),E.value=_r(E.data,I+1,E.data.length).replace(/\0*$/,""),E.data=E.value))},"W*":function(E){E.url=Ci(E.data,0,E.data.length).replace(/\0.*$/,"")},WXXX:function(E){var I;E.data[0]===bn.Utf8&&(I=er(E.data,0,1),I!==-1&&(E.description=_r(E.data,1,I),E.url=Ci(E.data,I+1,E.data.length).replace(/\0.*$/,"")))},PRIV:function(E){var I;for(I=0;I<E.data.length;I++)if(E.data[I]===0){E.owner=Ci(E.data,0,I);break}E.privateData=E.data.subarray(I+1),E.data=E.privateData}},ri=function(E){var I,O,$=10,Z=0,ce=[];if(!(E.length<10||E[0]!=="I".charCodeAt(0)||E[1]!=="D".charCodeAt(0)||E[2]!=="3".charCodeAt(0))){Z=Hr(E.subarray(6,10)),Z+=10;var Le=E[5]&64;Le&&($+=4,$+=Hr(E.subarray(10,14)),Z-=Hr(E.subarray(16,20)));do{if(I=Hr(E.subarray($+4,$+8)),I<1)break;O=String.fromCharCode(E[$],E[$+1],E[$+2],E[$+3]);var Be={id:O,data:E.subarray($+10,$+I+10)};Be.key=Be.id,gr[Be.id]?gr[Be.id](Be):Be.id[0]==="T"?gr["T*"](Be):Be.id[0]==="W"&&gr["W*"](Be),ce.push(Be),$+=10,$+=I}while($<Z);return ce}},Ft={parseId3Frames:ri,parseSyncSafeInteger:Hr,frameParsers:gr},xs=n,wi=Pr,Pi=Ft,ki;ki=function(E){var I={descriptor:E&&E.descriptor},O=0,$=[],Z=0,ce;if(ki.prototype.init.call(this),this.dispatchType=wi.METADATA_STREAM_TYPE.toString(16),I.descriptor)for(ce=0;ce<I.descriptor.length;ce++)this.dispatchType+=("00"+I.descriptor[ce].toString(16)).slice(-2);this.push=function(Le){var Be,We,Qe,_t,Yt,zn;if(Le.type==="timed-metadata"){if(Le.dataAlignmentIndicator&&(Z=0,$.length=0),$.length===0&&(Le.data.length<10||Le.data[0]!=="I".charCodeAt(0)||Le.data[1]!=="D".charCodeAt(0)||Le.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if($.push(Le),Z+=Le.data.byteLength,$.length===1&&(O=Pi.parseSyncSafeInteger(Le.data.subarray(6,10)),O+=10),!(Z<O)){for(Be={data:new Uint8Array(O),frames:[],pts:$[0].pts,dts:$[0].dts},Yt=0;Yt<O;)Be.data.set($[0].data.subarray(0,O-Yt),Yt),Yt+=$[0].data.byteLength,Z-=$[0].data.byteLength,$.shift();We=10,Be.data[5]&64&&(We+=4,We+=Pi.parseSyncSafeInteger(Be.data.subarray(10,14)),O-=Pi.parseSyncSafeInteger(Be.data.subarray(16,20)));do{if(Qe=Pi.parseSyncSafeInteger(Be.data.subarray(We+4,We+8)),Qe<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(zn=String.fromCharCode(Be.data[We],Be.data[We+1],Be.data[We+2],Be.data[We+3]),_t={id:zn,data:Be.data.subarray(We+10,We+Qe+10)},_t.key=_t.id,Pi.frameParsers[_t.id]?Pi.frameParsers[_t.id](_t):_t.id[0]==="T"?Pi.frameParsers["T*"](_t):_t.id[0]==="W"&&Pi.frameParsers["W*"](_t),_t.owner==="com.apple.streaming.transportStreamTimestamp"){var dn=_t.data,mr=(dn[3]&1)<<30|dn[4]<<22|dn[5]<<14|dn[6]<<6|dn[7]>>>2;mr*=4,mr+=dn[7]&3,_t.timeStamp=mr,Be.pts===void 0&&Be.dts===void 0&&(Be.pts=_t.timeStamp,Be.dts=_t.timeStamp),this.trigger("timestamp",_t)}Be.frames.push(_t),We+=10,We+=Qe}while(We<O);this.trigger("data",Be)}}}},ki.prototype=new xs;var Ka=ki,fo=n,wa=hr,is=Pr,Yi=cr.TimestampRolloverStream,Uo,ho,Oa,Za=188,Ma=71;Uo=function(){var E=new Uint8Array(Za),I=0;Uo.prototype.init.call(this),this.push=function(O){var $=0,Z=Za,ce;for(I?(ce=new Uint8Array(O.byteLength+I),ce.set(E.subarray(0,I)),ce.set(O,I),I=0):ce=O;Z<ce.byteLength;){if(ce[$]===Ma&&ce[Z]===Ma){this.trigger("data",ce.subarray($,Z)),$+=Za,Z+=Za;continue}$++,Z++}$<ce.byteLength&&(E.set(ce.subarray($),0),I=ce.byteLength-$)},this.flush=function(){I===Za&&E[0]===Ma&&(this.trigger("data",E),I=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){I=0,this.trigger("reset")}},Uo.prototype=new fo,ho=function(){var E,I,O,$;ho.prototype.init.call(this),$=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,E=function(Z,ce){var Le=0;ce.payloadUnitStartIndicator&&(Le+=Z[Le]+1),ce.type==="pat"?I(Z.subarray(Le),ce):O(Z.subarray(Le),ce)},I=function(Z,ce){ce.section_number=Z[7],ce.last_section_number=Z[8],$.pmtPid=(Z[10]&31)<<8|Z[11],ce.pmtPid=$.pmtPid},O=function(Z,ce){var Le,Be,We,Qe;if(Z[5]&1){for($.programMapTable={video:null,audio:null,"timed-metadata":{}},Le=(Z[1]&15)<<8|Z[2],Be=3+Le-4,We=(Z[10]&15)<<8|Z[11],Qe=12+We;Qe<Be;){var _t=Z[Qe],Yt=(Z[Qe+1]&31)<<8|Z[Qe+2];_t===is.H264_STREAM_TYPE&&$.programMapTable.video===null?$.programMapTable.video=Yt:_t===is.ADTS_STREAM_TYPE&&$.programMapTable.audio===null?$.programMapTable.audio=Yt:_t===is.METADATA_STREAM_TYPE&&($.programMapTable["timed-metadata"][Yt]=_t),Qe+=((Z[Qe+3]&15)<<8|Z[Qe+4])+5}ce.programMapTable=$.programMapTable}},this.push=function(Z){var ce={},Le=4;if(ce.payloadUnitStartIndicator=!!(Z[1]&64),ce.pid=Z[1]&31,ce.pid<<=8,ce.pid|=Z[2],(Z[3]&48)>>>4>1&&(Le+=Z[Le]+1),ce.pid===0)ce.type="pat",E(Z.subarray(Le),ce),this.trigger("data",ce);else if(ce.pid===this.pmtPid)for(ce.type="pmt",E(Z.subarray(Le),ce),this.trigger("data",ce);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([Z,Le,ce]):this.processPes_(Z,Le,ce)},this.processPes_=function(Z,ce,Le){Le.pid===this.programMapTable.video?Le.streamType=is.H264_STREAM_TYPE:Le.pid===this.programMapTable.audio?Le.streamType=is.ADTS_STREAM_TYPE:Le.streamType=this.programMapTable["timed-metadata"][Le.pid],Le.type="pes",Le.data=Z.subarray(ce),this.trigger("data",Le)}},ho.prototype=new fo,ho.STREAM_TYPES={h264:27,adts:15},Oa=function(){var E=this,I=!1,O={data:[],size:0},$={data:[],size:0},Z={data:[],size:0},ce,Le=function(We,Qe){var _t;const Yt=We[0]<<16|We[1]<<8|We[2];Qe.data=new Uint8Array,Yt===1&&(Qe.packetLength=6+(We[4]<<8|We[5]),Qe.dataAlignmentIndicator=(We[6]&4)!==0,_t=We[7],_t&192&&(Qe.pts=(We[9]&14)<<27|(We[10]&255)<<20|(We[11]&254)<<12|(We[12]&255)<<5|(We[13]&254)>>>3,Qe.pts*=4,Qe.pts+=(We[13]&6)>>>1,Qe.dts=Qe.pts,_t&64&&(Qe.dts=(We[14]&14)<<27|(We[15]&255)<<20|(We[16]&254)<<12|(We[17]&255)<<5|(We[18]&254)>>>3,Qe.dts*=4,Qe.dts+=(We[18]&6)>>>1)),Qe.data=We.subarray(9+We[8]))},Be=function(We,Qe,_t){var Yt=new Uint8Array(We.size),zn={type:Qe},dn=0,mr=0,Mr=!1,La;if(!(!We.data.length||We.size<9)){for(zn.trackId=We.data[0].pid,dn=0;dn<We.data.length;dn++)La=We.data[dn],Yt.set(La.data,mr),mr+=La.data.byteLength;Le(Yt,zn),Mr=Qe==="video"||zn.packetLength<=We.size,(_t||Mr)&&(We.size=0,We.data.length=0),Mr&&E.trigger("data",zn)}};Oa.prototype.init.call(this),this.push=function(We){({pat:function(){},pes:function(){var Qe,_t;switch(We.streamType){case is.H264_STREAM_TYPE:Qe=O,_t="video";break;case is.ADTS_STREAM_TYPE:Qe=$,_t="audio";break;case is.METADATA_STREAM_TYPE:Qe=Z,_t="timed-metadata";break;default:return}We.payloadUnitStartIndicator&&Be(Qe,_t,!0),Qe.data.push(We),Qe.size+=We.data.byteLength},pmt:function(){var Qe={type:"metadata",tracks:[]};ce=We.programMapTable,ce.video!==null&&Qe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+ce.video,codec:"avc",type:"video"}),ce.audio!==null&&Qe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+ce.audio,codec:"adts",type:"audio"}),I=!0,E.trigger("data",Qe)}})[We.type]()},this.reset=function(){O.size=0,O.data.length=0,$.size=0,$.data.length=0,this.trigger("reset")},this.flushStreams_=function(){Be(O,"video"),Be($,"audio"),Be(Z,"timed-metadata")},this.flush=function(){if(!I&&ce){var We={type:"metadata",tracks:[]};ce.video!==null&&We.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+ce.video,codec:"avc",type:"video"}),ce.audio!==null&&We.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+ce.audio,codec:"adts",type:"audio"}),E.trigger("data",We)}I=!1,this.flushStreams_(),this.trigger("done")}},Oa.prototype=new fo;var vr={PAT_PID:0,MP2T_PACKET_LENGTH:Za,TransportPacketStream:Uo,TransportParseStream:ho,ElementaryStream:Oa,TimestampRolloverStream:Yi,CaptionStream:wa.CaptionStream,Cea608Stream:wa.Cea608Stream,Cea708Stream:wa.Cea708Stream,MetadataStream:Ka};for(var fu in is)is.hasOwnProperty(fu)&&(vr[fu]=is[fu]);var dl=vr,zl=n,ag=vt.ONE_SECOND_IN_TS,fl,ws=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];fl=function(E){var I,O=0;fl.prototype.init.call(this),this.skipWarn_=function($,Z){this.trigger("log",{level:"warn",message:`adts skiping bytes ${$} to ${Z} in frame ${O} outside syncword`})},this.push=function($){var Z=0,ce,Le,Be,We,Qe;if(E||(O=0),$.type==="audio"){I&&I.length?(Be=I,I=new Uint8Array(Be.byteLength+$.data.byteLength),I.set(Be),I.set($.data,Be.byteLength)):I=$.data;for(var _t;Z+7<I.length;){if(I[Z]!==255||(I[Z+1]&246)!==240){typeof _t!="number"&&(_t=Z),Z++;continue}if(typeof _t=="number"&&(this.skipWarn_(_t,Z),_t=null),Le=(~I[Z+1]&1)*2,ce=(I[Z+3]&3)<<11|I[Z+4]<<3|(I[Z+5]&224)>>5,We=((I[Z+6]&3)+1)*1024,Qe=We*ag/ws[(I[Z+2]&60)>>>2],I.byteLength-Z<ce)break;this.trigger("data",{pts:$.pts+O*Qe,dts:$.dts+O*Qe,sampleCount:We,audioobjecttype:(I[Z+2]>>>6&3)+1,channelcount:(I[Z+2]&1)<<2|(I[Z+3]&192)>>>6,samplerate:ws[(I[Z+2]&60)>>>2],samplingfrequencyindex:(I[Z+2]&60)>>>2,samplesize:16,data:I.subarray(Z+7+Le,Z+ce)}),O++,Z+=ce}typeof _t=="number"&&(this.skipWarn_(_t,Z),_t=null),I=I.subarray(Z)}},this.flush=function(){O=0,this.trigger("done")},this.reset=function(){I=void 0,this.trigger("reset")},this.endTimeline=function(){I=void 0,this.trigger("endedtimeline")}},fl.prototype=new zl;var Jp=fl,e0;e0=function(E){var I=E.byteLength,O=0,$=0;this.length=function(){return 8*I},this.bitsAvailable=function(){return 8*I+$},this.loadWord=function(){var Z=E.byteLength-I,ce=new Uint8Array(4),Le=Math.min(4,I);if(Le===0)throw new Error("no bytes available");ce.set(E.subarray(Z,Z+Le)),O=new DataView(ce.buffer).getUint32(0),$=Le*8,I-=Le},this.skipBits=function(Z){var ce;$>Z?(O<<=Z,$-=Z):(Z-=$,ce=Math.floor(Z/8),Z-=ce*8,I-=ce,this.loadWord(),O<<=Z,$-=Z)},this.readBits=function(Z){var ce=Math.min($,Z),Le=O>>>32-ce;return $-=ce,$>0?O<<=ce:I>0&&this.loadWord(),ce=Z-ce,ce>0?Le<<ce|this.readBits(ce):Le},this.skipLeadingZeros=function(){var Z;for(Z=0;Z<$;++Z)if(O&2147483648>>>Z)return O<<=Z,$-=Z,Z;return this.loadWord(),Z+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var Z=this.skipLeadingZeros();return this.readBits(Z+1)-1},this.readExpGolomb=function(){var Z=this.readUnsignedExpGolomb();return 1&Z?1+Z>>>1:-1*(Z>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var og=e0,vh=n,t0=og,zc,hu,Hc;hu=function(){var E=0,I,O;hu.prototype.init.call(this),this.push=function($){var Z;O?(Z=new Uint8Array(O.byteLength+$.data.byteLength),Z.set(O),Z.set($.data,O.byteLength),O=Z):O=$.data;for(var ce=O.byteLength;E<ce-3;E++)if(O[E+2]===1){I=E+5;break}for(;I<ce;)switch(O[I]){case 0:if(O[I-1]!==0){I+=2;break}else if(O[I-2]!==0){I++;break}E+3!==I-2&&this.trigger("data",O.subarray(E+3,I-2));do I++;while(O[I]!==1&&I<ce);E=I-2,I+=3;break;case 1:if(O[I-1]!==0||O[I-2]!==0){I+=3;break}this.trigger("data",O.subarray(E+3,I-2)),E=I-2,I+=3;break;default:I+=3;break}O=O.subarray(E),I-=E,E=0},this.reset=function(){O=null,E=0,this.trigger("reset")},this.flush=function(){O&&O.byteLength>3&&this.trigger("data",O.subarray(E+3)),O=null,E=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},hu.prototype=new vh,Hc={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},zc=function(){var E=new hu,I,O,$,Z,ce,Le,Be;zc.prototype.init.call(this),I=this,this.push=function(We){We.type==="video"&&(O=We.trackId,$=We.pts,Z=We.dts,E.push(We))},E.on("data",function(We){var Qe={trackId:O,pts:$,dts:Z,data:We,nalUnitTypeCode:We[0]&31};switch(Qe.nalUnitTypeCode){case 5:Qe.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:Qe.nalUnitType="sei_rbsp",Qe.escapedRBSP=ce(We.subarray(1));break;case 7:Qe.nalUnitType="seq_parameter_set_rbsp",Qe.escapedRBSP=ce(We.subarray(1)),Qe.config=Le(Qe.escapedRBSP);break;case 8:Qe.nalUnitType="pic_parameter_set_rbsp";break;case 9:Qe.nalUnitType="access_unit_delimiter_rbsp";break}I.trigger("data",Qe)}),E.on("done",function(){I.trigger("done")}),E.on("partialdone",function(){I.trigger("partialdone")}),E.on("reset",function(){I.trigger("reset")}),E.on("endedtimeline",function(){I.trigger("endedtimeline")}),this.flush=function(){E.flush()},this.partialFlush=function(){E.partialFlush()},this.reset=function(){E.reset()},this.endTimeline=function(){E.endTimeline()},Be=function(We,Qe){var _t=8,Yt=8,zn,dn;for(zn=0;zn<We;zn++)Yt!==0&&(dn=Qe.readExpGolomb(),Yt=(_t+dn+256)%256),_t=Yt===0?_t:Yt},ce=function(We){for(var Qe=We.byteLength,_t=[],Yt=1,zn,dn;Yt<Qe-2;)We[Yt]===0&&We[Yt+1]===0&&We[Yt+2]===3?(_t.push(Yt+2),Yt+=2):Yt++;if(_t.length===0)return We;zn=Qe-_t.length,dn=new Uint8Array(zn);var mr=0;for(Yt=0;Yt<zn;mr++,Yt++)mr===_t[0]&&(mr++,_t.shift()),dn[Yt]=We[mr];return dn},Le=function(We){var Qe=0,_t=0,Yt=0,zn=0,dn,mr,Mr,La,Gl,wh,__,b_,x_,w_,Ux,ms=[1,1],S_,ec;if(dn=new t0(We),mr=dn.readUnsignedByte(),La=dn.readUnsignedByte(),Mr=dn.readUnsignedByte(),dn.skipUnsignedExpGolomb(),Hc[mr]&&(Gl=dn.readUnsignedExpGolomb(),Gl===3&&dn.skipBits(1),dn.skipUnsignedExpGolomb(),dn.skipUnsignedExpGolomb(),dn.skipBits(1),dn.readBoolean()))for(Ux=Gl!==3?8:12,ec=0;ec<Ux;ec++)dn.readBoolean()&&(ec<6?Be(16,dn):Be(64,dn));if(dn.skipUnsignedExpGolomb(),wh=dn.readUnsignedExpGolomb(),wh===0)dn.readUnsignedExpGolomb();else if(wh===1)for(dn.skipBits(1),dn.skipExpGolomb(),dn.skipExpGolomb(),__=dn.readUnsignedExpGolomb(),ec=0;ec<__;ec++)dn.skipExpGolomb();if(dn.skipUnsignedExpGolomb(),dn.skipBits(1),b_=dn.readUnsignedExpGolomb(),x_=dn.readUnsignedExpGolomb(),w_=dn.readBits(1),w_===0&&dn.skipBits(1),dn.skipBits(1),dn.readBoolean()&&(Qe=dn.readUnsignedExpGolomb(),_t=dn.readUnsignedExpGolomb(),Yt=dn.readUnsignedExpGolomb(),zn=dn.readUnsignedExpGolomb()),dn.readBoolean()&&dn.readBoolean()){switch(S_=dn.readUnsignedByte(),S_){case 1:ms=[1,1];break;case 2:ms=[12,11];break;case 3:ms=[10,11];break;case 4:ms=[16,11];break;case 5:ms=[40,33];break;case 6:ms=[24,11];break;case 7:ms=[20,11];break;case 8:ms=[32,11];break;case 9:ms=[80,33];break;case 10:ms=[18,11];break;case 11:ms=[15,11];break;case 12:ms=[64,33];break;case 13:ms=[160,99];break;case 14:ms=[4,3];break;case 15:ms=[3,2];break;case 16:ms=[2,1];break;case 255:{ms=[dn.readUnsignedByte()<<8|dn.readUnsignedByte(),dn.readUnsignedByte()<<8|dn.readUnsignedByte()];break}}ms&&ms[0]/ms[1]}return{profileIdc:mr,levelIdc:Mr,profileCompatibility:La,width:(b_+1)*16-Qe*2-_t*2,height:(2-w_)*(x_+1)*16-Yt*2-zn*2,sarRatio:ms}}},zc.prototype=new vh;var Xd={H264Stream:zc,NalByteStream:hu},Yd=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],yh=function(E,I){var O=E[I+6]<<21|E[I+7]<<14|E[I+8]<<7|E[I+9],$=E[I+5],Z=($&16)>>4;return O=O>=0?O:0,Z?O+20:O+10},_h=function(E,I){return E.length-I<10||E[I]!=="I".charCodeAt(0)||E[I+1]!=="D".charCodeAt(0)||E[I+2]!=="3".charCodeAt(0)?I:(I+=yh(E,I),_h(E,I))},n0=function(E){var I=_h(E,0);return E.length>=I+2&&(E[I]&255)===255&&(E[I+1]&240)===240&&(E[I+1]&22)===16},pu=function(E){return E[0]<<21|E[1]<<14|E[2]<<7|E[3]},Kd=function(E,I,O){var $,Z="";for($=I;$<O;$++)Z+="%"+("00"+E[$].toString(16)).slice(-2);return Z},Zd=function(E,I,O){return unescape(Kd(E,I,O))},r0=function(E,I){var O=(E[I+5]&224)>>5,$=E[I+4]<<3,Z=E[I+3]&6144;return Z|$|O},mu=function(E,I){return E[I]==="I".charCodeAt(0)&&E[I+1]==="D".charCodeAt(0)&&E[I+2]==="3".charCodeAt(0)?"timed-metadata":E[I]&!0&&(E[I+1]&240)===240?"audio":null},jc=function(E){for(var I=0;I+5<E.length;){if(E[I]!==255||(E[I+1]&246)!==240){I++;continue}return Yd[(E[I+2]&60)>>>2]}return null},Ju=function(E){var I,O,$,Z;I=10,E[5]&64&&(I+=4,I+=pu(E.subarray(10,14)));do{if(O=pu(E.subarray(I+4,I+8)),O<1)return null;if(Z=String.fromCharCode(E[I],E[I+1],E[I+2],E[I+3]),Z==="PRIV"){$=E.subarray(I+10,I+O+10);for(var ce=0;ce<$.byteLength;ce++)if($[ce]===0){var Le=Zd($,0,ce);if(Le==="com.apple.streaming.transportStreamTimestamp"){var Be=$.subarray(ce+1),We=(Be[3]&1)<<30|Be[4]<<22|Be[5]<<14|Be[6]<<6|Be[7]>>>2;return We*=4,We+=Be[7]&3,We}break}}I+=10,I+=O}while(I<E.byteLength);return null},ua={isLikelyAacData:n0,parseId3TagSize:yh,parseAdtsSize:r0,parseType:mu,parseSampleRate:jc,parseAacTimestamp:Ju},i0=n,s0=ua,Gc;Gc=function(){var E=new Uint8Array,I=0;Gc.prototype.init.call(this),this.setTimestamp=function(O){I=O},this.push=function(O){var $=0,Z=0,ce,Le,Be,We;for(E.length?(We=E.length,E=new Uint8Array(O.byteLength+We),E.set(E.subarray(0,We)),E.set(O,We)):E=O;E.length-Z>=3;){if(E[Z]==="I".charCodeAt(0)&&E[Z+1]==="D".charCodeAt(0)&&E[Z+2]==="3".charCodeAt(0)){if(E.length-Z<10||($=s0.parseId3TagSize(E,Z),Z+$>E.length))break;Le={type:"timed-metadata",data:E.subarray(Z,Z+$)},this.trigger("data",Le),Z+=$;continue}else if((E[Z]&255)===255&&(E[Z+1]&240)===240){if(E.length-Z<7||($=s0.parseAdtsSize(E,Z),Z+$>E.length))break;Be={type:"audio",data:E.subarray(Z,Z+$),pts:I,dts:I},this.trigger("data",Be),Z+=$;continue}Z++}ce=E.length-Z,ce>0?E=E.subarray(Z):E=new Uint8Array},this.reset=function(){E=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){E=new Uint8Array,this.trigger("endedtimeline")}},Gc.prototype=new i0;var lg=Gc,Lx=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],c3=Lx,Hl=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],hl=Hl,a0=n,bh=Ie,o0=it,Qd=xn,jl=z,gu=dl,l0=vt,Wc=Jp,y=Xd.H264Stream,x=lg,L=ua.isLikelyAacData,pe=vt.ONE_SECOND_IN_TS,J=c3,M=hl,oe,Q,q,B,ne=function(E,I){I.stream=E,this.trigger("log",I)},_e=function(E,I){for(var O=Object.keys(I),$=0;$<O.length;$++){var Z=O[$];Z==="headOfPipeline"||!I[Z].on||I[Z].on("log",ne.bind(E,Z))}},Pe=function(E,I){var O;if(E.length!==I.length)return!1;for(O=0;O<E.length;O++)if(E[O]!==I[O])return!1;return!0},qe=function(E,I,O,$,Z,ce){var Le=O-I,Be=$-I,We=Z-O;return{start:{dts:E,pts:E+Le},end:{dts:E+Be,pts:E+We},prependedContentDuration:ce,baseMediaDecodeTime:E}};Q=function(E,I){var O=[],$,Z=0,ce=0,Le=1/0;I=I||{},$=I.firstSequenceNumber||0,Q.prototype.init.call(this),this.push=function(Be){jl.collectDtsInfo(E,Be),E&&J.forEach(function(We){E[We]=Be[We]}),O.push(Be)},this.setEarliestDts=function(Be){Z=Be},this.setVideoBaseMediaDecodeTime=function(Be){Le=Be},this.setAudioAppendStart=function(Be){ce=Be},this.flush=function(){var Be,We,Qe,_t,Yt,zn,dn;if(O.length===0){this.trigger("done","AudioSegmentStream");return}Be=Qd.trimAdtsFramesByEarliestDts(O,E,Z),E.baseMediaDecodeTime=jl.calculateTrackBaseMediaDecodeTime(E,I.keepOriginalTimestamps),dn=Qd.prefixWithSilence(E,Be,ce,Le),E.samples=Qd.generateSampleTable(Be),Qe=bh.mdat(Qd.concatenateFrameData(Be)),O=[],We=bh.moof($,[E]),_t=new Uint8Array(We.byteLength+Qe.byteLength),$++,_t.set(We),_t.set(Qe,We.byteLength),jl.clearDtsInfo(E),Yt=Math.ceil(pe*1024/E.samplerate),Be.length&&(zn=Be.length*Yt,this.trigger("segmentTimingInfo",qe(l0.audioTsToVideoTs(E.baseMediaDecodeTime,E.samplerate),Be[0].dts,Be[0].pts,Be[0].dts+zn,Be[0].pts+zn,dn||0)),this.trigger("timingInfo",{start:Be[0].pts,end:Be[0].pts+zn})),this.trigger("data",{track:E,boxes:_t}),this.trigger("done","AudioSegmentStream")},this.reset=function(){jl.clearDtsInfo(E),O=[],this.trigger("reset")}},Q.prototype=new a0,oe=function(E,I){var O,$=[],Z=[],ce,Le;I=I||{},O=I.firstSequenceNumber||0,oe.prototype.init.call(this),delete E.minPTS,this.gopCache_=[],this.push=function(Be){jl.collectDtsInfo(E,Be),Be.nalUnitType==="seq_parameter_set_rbsp"&&!ce&&(ce=Be.config,E.sps=[Be.data],M.forEach(function(We){E[We]=ce[We]},this)),Be.nalUnitType==="pic_parameter_set_rbsp"&&!Le&&(Le=Be.data,E.pps=[Be.data]),$.push(Be)},this.flush=function(){for(var Be,We,Qe,_t,Yt,zn,dn=0,mr,Mr;$.length&&$[0].nalUnitType!=="access_unit_delimiter_rbsp";)$.shift();if($.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(Be=o0.groupNalsIntoFrames($),Qe=o0.groupFramesIntoGops(Be),Qe[0][0].keyFrame||(We=this.getGopForFusion_($[0],E),We?(dn=We.duration,Qe.unshift(We),Qe.byteLength+=We.byteLength,Qe.nalCount+=We.nalCount,Qe.pts=We.pts,Qe.dts=We.dts,Qe.duration+=We.duration):Qe=o0.extendFirstKeyFrame(Qe)),Z.length){var La;if(I.alignGopsAtEnd?La=this.alignGopsAtEnd_(Qe):La=this.alignGopsAtStart_(Qe),!La){this.gopCache_.unshift({gop:Qe.pop(),pps:E.pps,sps:E.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),$=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}jl.clearDtsInfo(E),Qe=La}jl.collectDtsInfo(E,Qe),E.samples=o0.generateSampleTable(Qe),Yt=bh.mdat(o0.concatenateNalData(Qe)),E.baseMediaDecodeTime=jl.calculateTrackBaseMediaDecodeTime(E,I.keepOriginalTimestamps),this.trigger("processedGopsInfo",Qe.map(function(Gl){return{pts:Gl.pts,dts:Gl.dts,byteLength:Gl.byteLength}})),mr=Qe[0],Mr=Qe[Qe.length-1],this.trigger("segmentTimingInfo",qe(E.baseMediaDecodeTime,mr.dts,mr.pts,Mr.dts+Mr.duration,Mr.pts+Mr.duration,dn)),this.trigger("timingInfo",{start:Qe[0].pts,end:Qe[Qe.length-1].pts+Qe[Qe.length-1].duration}),this.gopCache_.unshift({gop:Qe.pop(),pps:E.pps,sps:E.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),$=[],this.trigger("baseMediaDecodeTime",E.baseMediaDecodeTime),this.trigger("timelineStartInfo",E.timelineStartInfo),_t=bh.moof(O,[E]),zn=new Uint8Array(_t.byteLength+Yt.byteLength),O++,zn.set(_t),zn.set(Yt,_t.byteLength),this.trigger("data",{track:E,boxes:zn}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),$=[],this.gopCache_.length=0,Z.length=0,this.trigger("reset")},this.resetStream_=function(){jl.clearDtsInfo(E),ce=void 0,Le=void 0},this.getGopForFusion_=function(Be){var We=45e3,Qe=1e4,_t=1/0,Yt,zn,dn,mr,Mr;for(Mr=0;Mr<this.gopCache_.length;Mr++)mr=this.gopCache_[Mr],dn=mr.gop,!(!(E.pps&&Pe(E.pps[0],mr.pps[0]))||!(E.sps&&Pe(E.sps[0],mr.sps[0])))&&(dn.dts<E.timelineStartInfo.dts||(Yt=Be.dts-dn.dts-dn.duration,Yt>=-Qe&&Yt<=We&&(!zn||_t>Yt)&&(zn=mr,_t=Yt)));return zn?zn.gop:null},this.alignGopsAtStart_=function(Be){var We,Qe,_t,Yt,zn,dn,mr,Mr;for(zn=Be.byteLength,dn=Be.nalCount,mr=Be.duration,We=Qe=0;We<Z.length&&Qe<Be.length&&(_t=Z[We],Yt=Be[Qe],_t.pts!==Yt.pts);){if(Yt.pts>_t.pts){We++;continue}Qe++,zn-=Yt.byteLength,dn-=Yt.nalCount,mr-=Yt.duration}return Qe===0?Be:Qe===Be.length?null:(Mr=Be.slice(Qe),Mr.byteLength=zn,Mr.duration=mr,Mr.nalCount=dn,Mr.pts=Mr[0].pts,Mr.dts=Mr[0].dts,Mr)},this.alignGopsAtEnd_=function(Be){var We,Qe,_t,Yt,zn,dn;for(We=Z.length-1,Qe=Be.length-1,zn=null,dn=!1;We>=0&&Qe>=0;){if(_t=Z[We],Yt=Be[Qe],_t.pts===Yt.pts){dn=!0;break}if(_t.pts>Yt.pts){We--;continue}We===Z.length-1&&(zn=Qe),Qe--}if(!dn&&zn===null)return null;var mr;if(dn?mr=Qe:mr=zn,mr===0)return Be;var Mr=Be.slice(mr),La=Mr.reduce(function(Gl,wh){return Gl.byteLength+=wh.byteLength,Gl.duration+=wh.duration,Gl.nalCount+=wh.nalCount,Gl},{byteLength:0,duration:0,nalCount:0});return Mr.byteLength=La.byteLength,Mr.duration=La.duration,Mr.nalCount=La.nalCount,Mr.pts=Mr[0].pts,Mr.dts=Mr[0].dts,Mr},this.alignGopsWith=function(Be){Z=Be}},oe.prototype=new a0,B=function(E,I){this.numberOfTracks=0,this.metadataStream=I,E=E||{},typeof E.remux<"u"?this.remuxTracks=!!E.remux:this.remuxTracks=!0,typeof E.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=E.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,B.prototype.init.call(this),this.push=function(O){if(O.content||O.text)return this.pendingCaptions.push(O);if(O.frames)return this.pendingMetadata.push(O);this.pendingTracks.push(O.track),this.pendingBytes+=O.boxes.byteLength,O.track.type==="video"&&(this.videoTrack=O.track,this.pendingBoxes.push(O.boxes)),O.track.type==="audio"&&(this.audioTrack=O.track,this.pendingBoxes.unshift(O.boxes))}},B.prototype=new a0,B.prototype.flush=function(E){var I=0,O={captions:[],captionStreams:{},metadata:[],info:{}},$,Z,ce,Le=0,Be;if(this.pendingTracks.length<this.numberOfTracks){if(E!=="VideoSegmentStream"&&E!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(Le=this.videoTrack.timelineStartInfo.pts,M.forEach(function(We){O.info[We]=this.videoTrack[We]},this)):this.audioTrack&&(Le=this.audioTrack.timelineStartInfo.pts,J.forEach(function(We){O.info[We]=this.audioTrack[We]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?O.type=this.pendingTracks[0].type:O.type="combined",this.emittedTracks+=this.pendingTracks.length,ce=bh.initSegment(this.pendingTracks),O.initSegment=new Uint8Array(ce.byteLength),O.initSegment.set(ce),O.data=new Uint8Array(this.pendingBytes),Be=0;Be<this.pendingBoxes.length;Be++)O.data.set(this.pendingBoxes[Be],I),I+=this.pendingBoxes[Be].byteLength;for(Be=0;Be<this.pendingCaptions.length;Be++)$=this.pendingCaptions[Be],$.startTime=l0.metadataTsToSeconds($.startPts,Le,this.keepOriginalTimestamps),$.endTime=l0.metadataTsToSeconds($.endPts,Le,this.keepOriginalTimestamps),O.captionStreams[$.stream]=!0,O.captions.push($);for(Be=0;Be<this.pendingMetadata.length;Be++)Z=this.pendingMetadata[Be],Z.cueTime=l0.metadataTsToSeconds(Z.pts,Le,this.keepOriginalTimestamps),O.metadata.push(Z);for(O.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",O),Be=0;Be<O.captions.length;Be++)$=O.captions[Be],this.trigger("caption",$);for(Be=0;Be<O.metadata.length;Be++)Z=O.metadata[Be],this.trigger("id3Frame",Z)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},B.prototype.setRemux=function(E){this.remuxTracks=E},q=function(E){var I=this,O=!0,$,Z;q.prototype.init.call(this),E=E||{},this.baseMediaDecodeTime=E.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var ce={};this.transmuxPipeline_=ce,ce.type="aac",ce.metadataStream=new gu.MetadataStream,ce.aacStream=new x,ce.audioTimestampRolloverStream=new gu.TimestampRolloverStream("audio"),ce.timedMetadataTimestampRolloverStream=new gu.TimestampRolloverStream("timed-metadata"),ce.adtsStream=new Wc,ce.coalesceStream=new B(E,ce.metadataStream),ce.headOfPipeline=ce.aacStream,ce.aacStream.pipe(ce.audioTimestampRolloverStream).pipe(ce.adtsStream),ce.aacStream.pipe(ce.timedMetadataTimestampRolloverStream).pipe(ce.metadataStream).pipe(ce.coalesceStream),ce.metadataStream.on("timestamp",function(Le){ce.aacStream.setTimestamp(Le.timeStamp)}),ce.aacStream.on("data",function(Le){Le.type!=="timed-metadata"&&Le.type!=="audio"||ce.audioSegmentStream||(Z=Z||{timelineStartInfo:{baseMediaDecodeTime:I.baseMediaDecodeTime},codec:"adts",type:"audio"},ce.coalesceStream.numberOfTracks++,ce.audioSegmentStream=new Q(Z,E),ce.audioSegmentStream.on("log",I.getLogTrigger_("audioSegmentStream")),ce.audioSegmentStream.on("timingInfo",I.trigger.bind(I,"audioTimingInfo")),ce.adtsStream.pipe(ce.audioSegmentStream).pipe(ce.coalesceStream),I.trigger("trackinfo",{hasAudio:!!Z,hasVideo:!!$}))}),ce.coalesceStream.on("data",this.trigger.bind(this,"data")),ce.coalesceStream.on("done",this.trigger.bind(this,"done")),_e(this,ce)},this.setupTsPipeline=function(){var ce={};this.transmuxPipeline_=ce,ce.type="ts",ce.metadataStream=new gu.MetadataStream,ce.packetStream=new gu.TransportPacketStream,ce.parseStream=new gu.TransportParseStream,ce.elementaryStream=new gu.ElementaryStream,ce.timestampRolloverStream=new gu.TimestampRolloverStream,ce.adtsStream=new Wc,ce.h264Stream=new y,ce.captionStream=new gu.CaptionStream(E),ce.coalesceStream=new B(E,ce.metadataStream),ce.headOfPipeline=ce.packetStream,ce.packetStream.pipe(ce.parseStream).pipe(ce.elementaryStream).pipe(ce.timestampRolloverStream),ce.timestampRolloverStream.pipe(ce.h264Stream),ce.timestampRolloverStream.pipe(ce.adtsStream),ce.timestampRolloverStream.pipe(ce.metadataStream).pipe(ce.coalesceStream),ce.h264Stream.pipe(ce.captionStream).pipe(ce.coalesceStream),ce.elementaryStream.on("data",function(Le){var Be;if(Le.type==="metadata"){for(Be=Le.tracks.length;Be--;)!$&&Le.tracks[Be].type==="video"?($=Le.tracks[Be],$.timelineStartInfo.baseMediaDecodeTime=I.baseMediaDecodeTime):!Z&&Le.tracks[Be].type==="audio"&&(Z=Le.tracks[Be],Z.timelineStartInfo.baseMediaDecodeTime=I.baseMediaDecodeTime);$&&!ce.videoSegmentStream&&(ce.coalesceStream.numberOfTracks++,ce.videoSegmentStream=new oe($,E),ce.videoSegmentStream.on("log",I.getLogTrigger_("videoSegmentStream")),ce.videoSegmentStream.on("timelineStartInfo",function(We){Z&&!E.keepOriginalTimestamps&&(Z.timelineStartInfo=We,ce.audioSegmentStream.setEarliestDts(We.dts-I.baseMediaDecodeTime))}),ce.videoSegmentStream.on("processedGopsInfo",I.trigger.bind(I,"gopInfo")),ce.videoSegmentStream.on("segmentTimingInfo",I.trigger.bind(I,"videoSegmentTimingInfo")),ce.videoSegmentStream.on("baseMediaDecodeTime",function(We){Z&&ce.audioSegmentStream.setVideoBaseMediaDecodeTime(We)}),ce.videoSegmentStream.on("timingInfo",I.trigger.bind(I,"videoTimingInfo")),ce.h264Stream.pipe(ce.videoSegmentStream).pipe(ce.coalesceStream)),Z&&!ce.audioSegmentStream&&(ce.coalesceStream.numberOfTracks++,ce.audioSegmentStream=new Q(Z,E),ce.audioSegmentStream.on("log",I.getLogTrigger_("audioSegmentStream")),ce.audioSegmentStream.on("timingInfo",I.trigger.bind(I,"audioTimingInfo")),ce.audioSegmentStream.on("segmentTimingInfo",I.trigger.bind(I,"audioSegmentTimingInfo")),ce.adtsStream.pipe(ce.audioSegmentStream).pipe(ce.coalesceStream)),I.trigger("trackinfo",{hasAudio:!!Z,hasVideo:!!$})}}),ce.coalesceStream.on("data",this.trigger.bind(this,"data")),ce.coalesceStream.on("id3Frame",function(Le){Le.dispatchType=ce.metadataStream.dispatchType,I.trigger("id3Frame",Le)}),ce.coalesceStream.on("caption",this.trigger.bind(this,"caption")),ce.coalesceStream.on("done",this.trigger.bind(this,"done")),_e(this,ce)},this.setBaseMediaDecodeTime=function(ce){var Le=this.transmuxPipeline_;E.keepOriginalTimestamps||(this.baseMediaDecodeTime=ce),Z&&(Z.timelineStartInfo.dts=void 0,Z.timelineStartInfo.pts=void 0,jl.clearDtsInfo(Z),Le.audioTimestampRolloverStream&&Le.audioTimestampRolloverStream.discontinuity()),$&&(Le.videoSegmentStream&&(Le.videoSegmentStream.gopCache_=[]),$.timelineStartInfo.dts=void 0,$.timelineStartInfo.pts=void 0,jl.clearDtsInfo($),Le.captionStream.reset()),Le.timestampRolloverStream&&Le.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(ce){Z&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(ce)},this.setRemux=function(ce){var Le=this.transmuxPipeline_;E.remux=ce,Le&&Le.coalesceStream&&Le.coalesceStream.setRemux(ce)},this.alignGopsWith=function(ce){$&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(ce)},this.getLogTrigger_=function(ce){var Le=this;return function(Be){Be.stream=ce,Le.trigger("log",Be)}},this.push=function(ce){if(O){var Le=L(ce);Le&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!Le&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),O=!1}this.transmuxPipeline_.headOfPipeline.push(ce)},this.flush=function(){O=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},q.prototype=new a0;var Ae={Transmuxer:q,VideoSegmentStream:oe,AudioSegmentStream:Q,AUDIO_PROPERTIES:J,VIDEO_PROPERTIES:M,generateSegmentTimingInfo:qe},He=function(E){return E>>>0},Ue=function(E){return("00"+E.toString(16)).slice(-2)},be={toUnsigned:He,toHexString:Ue},ct=function(E){var I="";return I+=String.fromCharCode(E[0]),I+=String.fromCharCode(E[1]),I+=String.fromCharCode(E[2]),I+=String.fromCharCode(E[3]),I},yt=ct,Je=be.toUnsigned,It=yt,fn=function(E,I){var O=[],$,Z,ce,Le,Be;if(!I.length)return null;for($=0;$<E.byteLength;)Z=Je(E[$]<<24|E[$+1]<<16|E[$+2]<<8|E[$+3]),ce=It(E.subarray($+4,$+8)),Le=Z>1?$+Z:E.byteLength,ce===I[0]&&(I.length===1?O.push(E.subarray($+8,Le)):(Be=fn(E.subarray($+8,Le),I.slice(1)),Be.length&&(O=O.concat(Be)))),$=Le;return O},An=fn,Un=be.toUnsigned,mn=s.getUint64,Ln=function(E){var I={version:E[0],flags:new Uint8Array(E.subarray(1,4))};return I.version===1?I.baseMediaDecodeTime=mn(E.subarray(4)):I.baseMediaDecodeTime=Un(E[4]<<24|E[5]<<16|E[6]<<8|E[7]),I},Rn=Ln,Bt=function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O={version:E[0],flags:new Uint8Array(E.subarray(1,4)),trackId:I.getUint32(4)},$=O.flags[2]&1,Z=O.flags[2]&2,ce=O.flags[2]&8,Le=O.flags[2]&16,Be=O.flags[2]&32,We=O.flags[0]&65536,Qe=O.flags[0]&131072,_t;return _t=8,$&&(_t+=4,O.baseDataOffset=I.getUint32(12),_t+=4),Z&&(O.sampleDescriptionIndex=I.getUint32(_t),_t+=4),ce&&(O.defaultSampleDuration=I.getUint32(_t),_t+=4),Le&&(O.defaultSampleSize=I.getUint32(_t),_t+=4),Be&&(O.defaultSampleFlags=I.getUint32(_t)),We&&(O.durationIsEmpty=!0),!$&&Qe&&(O.baseDataOffsetIsMoof=!0),O},wn=Bt,Fn=s.getUint64,Dn=function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O={version:E[0],flags:new Uint8Array(E.subarray(1,4)),references:[],referenceId:I.getUint32(4),timescale:I.getUint32(8)},$=12;O.version===0?(O.earliestPresentationTime=I.getUint32($),O.firstOffset=I.getUint32($+4),$+=8):(O.earliestPresentationTime=Fn(E.subarray($)),O.firstOffset=Fn(E.subarray($+8)),$+=16),$+=2;var Z=I.getUint16($);for($+=2;Z>0;$+=12,Z--)O.references.push({referenceType:(E[$]&128)>>>7,referencedSize:I.getUint32($)&2147483647,subsegmentDuration:I.getUint32($+4),startsWithSap:!!(E[$+8]&128),sapType:(E[$+8]&112)>>>4,sapDeltaTime:I.getUint32($+8)&268435455});return O},Ir=Dn,wr=function(E){return{isLeading:(E[0]&12)>>>2,dependsOn:E[0]&3,isDependedOn:(E[1]&192)>>>6,hasRedundancy:(E[1]&48)>>>4,paddingValue:(E[1]&14)>>>1,isNonSyncSample:E[1]&1,degradationPriority:E[2]<<8|E[3]}},Sr=wr,Di=Sr,Si=function(E){var I={version:E[0],flags:new Uint8Array(E.subarray(1,4)),samples:[]},O=new DataView(E.buffer,E.byteOffset,E.byteLength),$=I.flags[2]&1,Z=I.flags[2]&4,ce=I.flags[1]&1,Le=I.flags[1]&2,Be=I.flags[1]&4,We=I.flags[1]&8,Qe=O.getUint32(4),_t=8,Yt;for($&&(I.dataOffset=O.getInt32(_t),_t+=4),Z&&Qe&&(Yt={flags:Di(E.subarray(_t,_t+4))},_t+=4,ce&&(Yt.duration=O.getUint32(_t),_t+=4),Le&&(Yt.size=O.getUint32(_t),_t+=4),We&&(I.version===1?Yt.compositionTimeOffset=O.getInt32(_t):Yt.compositionTimeOffset=O.getUint32(_t),_t+=4),I.samples.push(Yt),Qe--);Qe--;)Yt={},ce&&(Yt.duration=O.getUint32(_t),_t+=4),Le&&(Yt.size=O.getUint32(_t),_t+=4),Be&&(Yt.flags=Di(E.subarray(_t,_t+4)),_t+=4),We&&(I.version===1?Yt.compositionTimeOffset=O.getInt32(_t):Yt.compositionTimeOffset=O.getUint32(_t),_t+=4),I.samples.push(Yt);return I},ii=Si,$r=s,Ii=$r.getUint64,jr,si,Nr=function(E){return new Date(E*1e3-20828448e5)},or=yt,kr=An,mt=function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O=[],$,Z;for($=0;$+4<E.length;$+=Z){if(Z=I.getUint32($),$+=4,Z<=0){O.push("<span style='color:red;'>MALFORMED DATA</span>");continue}switch(E[$]&31){case 1:O.push("slice_layer_without_partitioning_rbsp");break;case 5:O.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:O.push("sei_rbsp");break;case 7:O.push("seq_parameter_set_rbsp");break;case 8:O.push("pic_parameter_set_rbsp");break;case 9:O.push("access_unit_delimiter_rbsp");break;default:O.push("UNKNOWN NAL - "+E[$]&31);break}}return O},Oi={avc1:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength);return{dataReferenceIndex:I.getUint16(6),width:I.getUint16(24),height:I.getUint16(26),horizresolution:I.getUint16(28)+I.getUint16(30)/16,vertresolution:I.getUint16(32)+I.getUint16(34)/16,frameCount:I.getUint16(40),depth:I.getUint16(74),config:jr(E.subarray(78,E.byteLength))}},avcC:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O={configurationVersion:E[0],avcProfileIndication:E[1],profileCompatibility:E[2],avcLevelIndication:E[3],lengthSizeMinusOne:E[4]&3,sps:[],pps:[]},$=E[5]&31,Z,ce,Le,Be;for(Le=6,Be=0;Be<$;Be++)ce=I.getUint16(Le),Le+=2,O.sps.push(new Uint8Array(E.subarray(Le,Le+ce))),Le+=ce;for(Z=E[Le],Le++,Be=0;Be<Z;Be++)ce=I.getUint16(Le),Le+=2,O.pps.push(new Uint8Array(E.subarray(Le,Le+ce))),Le+=ce;return O},btrt:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength);return{bufferSizeDB:I.getUint32(0),maxBitrate:I.getUint32(4),avgBitrate:I.getUint32(8)}},edts:function(I){return{boxes:jr(I)}},elst:function(I){var O=new DataView(I.buffer,I.byteOffset,I.byteLength),$={version:O.getUint8(0),flags:new Uint8Array(I.subarray(1,4)),edits:[]},Z=O.getUint32(4),ce;for(ce=8;Z;Z--)$.version===0?($.edits.push({segmentDuration:O.getUint32(ce),mediaTime:O.getInt32(ce+4),mediaRate:O.getUint16(ce+8)+O.getUint16(ce+10)/(256*256)}),ce+=12):($.edits.push({segmentDuration:Ii(I.subarray(ce)),mediaTime:Ii(I.subarray(ce+8)),mediaRate:O.getUint16(ce+16)+O.getUint16(ce+18)/(256*256)}),ce+=20);return $},esds:function(E){return{version:E[0],flags:new Uint8Array(E.subarray(1,4)),esId:E[6]<<8|E[7],streamPriority:E[8]&31,decoderConfig:{objectProfileIndication:E[11],streamType:E[12]>>>2&63,bufferSize:E[13]<<16|E[14]<<8|E[15],maxBitrate:E[16]<<24|E[17]<<16|E[18]<<8|E[19],avgBitrate:E[20]<<24|E[21]<<16|E[22]<<8|E[23],decoderConfigDescriptor:{tag:E[24],length:E[25],audioObjectType:E[26]>>>3&31,samplingFrequencyIndex:(E[26]&7)<<1|E[27]>>>7&1,channelConfiguration:E[27]>>>3&15}}}},ftyp:function(E){for(var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O={majorBrand:or(E.subarray(0,4)),minorVersion:I.getUint32(4),compatibleBrands:[]},$=8;$<E.byteLength;)O.compatibleBrands.push(or(E.subarray($,$+4))),$+=4;return O},dinf:function(E){return{boxes:jr(E)}},dref:function(E){return{version:E[0],flags:new Uint8Array(E.subarray(1,4)),dataReferences:jr(E.subarray(8))}},hdlr:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O={version:I.getUint8(0),flags:new Uint8Array(E.subarray(1,4)),handlerType:or(E.subarray(8,12)),name:""},$=8;for($=24;$<E.byteLength;$++){if(E[$]===0){$++;break}O.name+=String.fromCharCode(E[$])}return O.name=decodeURIComponent(escape(O.name)),O},mdat:function(E){return{byteLength:E.byteLength,nals:mt(E)}},mdhd:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O=4,$,Z={version:I.getUint8(0),flags:new Uint8Array(E.subarray(1,4)),language:""};return Z.version===1?(O+=4,Z.creationTime=Nr(I.getUint32(O)),O+=8,Z.modificationTime=Nr(I.getUint32(O)),O+=4,Z.timescale=I.getUint32(O),O+=8,Z.duration=I.getUint32(O)):(Z.creationTime=Nr(I.getUint32(O)),O+=4,Z.modificationTime=Nr(I.getUint32(O)),O+=4,Z.timescale=I.getUint32(O),O+=4,Z.duration=I.getUint32(O)),O+=4,$=I.getUint16(O),Z.language+=String.fromCharCode(($>>10)+96),Z.language+=String.fromCharCode((($&992)>>5)+96),Z.language+=String.fromCharCode(($&31)+96),Z},mdia:function(E){return{boxes:jr(E)}},mfhd:function(E){return{version:E[0],flags:new Uint8Array(E.subarray(1,4)),sequenceNumber:E[4]<<24|E[5]<<16|E[6]<<8|E[7]}},minf:function(E){return{boxes:jr(E)}},mp4a:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O={dataReferenceIndex:I.getUint16(6),channelcount:I.getUint16(16),samplesize:I.getUint16(18),samplerate:I.getUint16(24)+I.getUint16(26)/65536};return E.byteLength>28&&(O.streamDescriptor=jr(E.subarray(28))[0]),O},moof:function(E){return{boxes:jr(E)}},moov:function(E){return{boxes:jr(E)}},mvex:function(E){return{boxes:jr(E)}},mvhd:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O=4,$={version:I.getUint8(0),flags:new Uint8Array(E.subarray(1,4))};return $.version===1?(O+=4,$.creationTime=Nr(I.getUint32(O)),O+=8,$.modificationTime=Nr(I.getUint32(O)),O+=4,$.timescale=I.getUint32(O),O+=8,$.duration=I.getUint32(O)):($.creationTime=Nr(I.getUint32(O)),O+=4,$.modificationTime=Nr(I.getUint32(O)),O+=4,$.timescale=I.getUint32(O),O+=4,$.duration=I.getUint32(O)),O+=4,$.rate=I.getUint16(O)+I.getUint16(O+2)/16,O+=4,$.volume=I.getUint8(O)+I.getUint8(O+1)/8,O+=2,O+=2,O+=2*4,$.matrix=new Uint32Array(E.subarray(O,O+9*4)),O+=9*4,O+=6*4,$.nextTrackId=I.getUint32(O),$},pdin:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength);return{version:I.getUint8(0),flags:new Uint8Array(E.subarray(1,4)),rate:I.getUint32(4),initialDelay:I.getUint32(8)}},sdtp:function(E){var I={version:E[0],flags:new Uint8Array(E.subarray(1,4)),samples:[]},O;for(O=4;O<E.byteLength;O++)I.samples.push({dependsOn:(E[O]&48)>>4,isDependedOn:(E[O]&12)>>2,hasRedundancy:E[O]&3});return I},sidx:Ir,smhd:function(E){return{version:E[0],flags:new Uint8Array(E.subarray(1,4)),balance:E[4]+E[5]/256}},stbl:function(E){return{boxes:jr(E)}},ctts:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O={version:I.getUint8(0),flags:new Uint8Array(E.subarray(1,4)),compositionOffsets:[]},$=I.getUint32(4),Z;for(Z=8;$;Z+=8,$--)O.compositionOffsets.push({sampleCount:I.getUint32(Z),sampleOffset:I[O.version===0?"getUint32":"getInt32"](Z+4)});return O},stss:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O={version:I.getUint8(0),flags:new Uint8Array(E.subarray(1,4)),syncSamples:[]},$=I.getUint32(4),Z;for(Z=8;$;Z+=4,$--)O.syncSamples.push(I.getUint32(Z));return O},stco:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O={version:E[0],flags:new Uint8Array(E.subarray(1,4)),chunkOffsets:[]},$=I.getUint32(4),Z;for(Z=8;$;Z+=4,$--)O.chunkOffsets.push(I.getUint32(Z));return O},stsc:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O=I.getUint32(4),$={version:E[0],flags:new Uint8Array(E.subarray(1,4)),sampleToChunks:[]},Z;for(Z=8;O;Z+=12,O--)$.sampleToChunks.push({firstChunk:I.getUint32(Z),samplesPerChunk:I.getUint32(Z+4),sampleDescriptionIndex:I.getUint32(Z+8)});return $},stsd:function(E){return{version:E[0],flags:new Uint8Array(E.subarray(1,4)),sampleDescriptions:jr(E.subarray(8))}},stsz:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O={version:E[0],flags:new Uint8Array(E.subarray(1,4)),sampleSize:I.getUint32(4),entries:[]},$;for($=12;$<E.byteLength;$+=4)O.entries.push(I.getUint32($));return O},stts:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O={version:E[0],flags:new Uint8Array(E.subarray(1,4)),timeToSamples:[]},$=I.getUint32(4),Z;for(Z=8;$;Z+=8,$--)O.timeToSamples.push({sampleCount:I.getUint32(Z),sampleDelta:I.getUint32(Z+4)});return O},styp:function(E){return Oi.ftyp(E)},tfdt:Rn,tfhd:wn,tkhd:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength),O=4,$={version:I.getUint8(0),flags:new Uint8Array(E.subarray(1,4))};return $.version===1?(O+=4,$.creationTime=Nr(I.getUint32(O)),O+=8,$.modificationTime=Nr(I.getUint32(O)),O+=4,$.trackId=I.getUint32(O),O+=4,O+=8,$.duration=I.getUint32(O)):($.creationTime=Nr(I.getUint32(O)),O+=4,$.modificationTime=Nr(I.getUint32(O)),O+=4,$.trackId=I.getUint32(O),O+=4,O+=4,$.duration=I.getUint32(O)),O+=4,O+=2*4,$.layer=I.getUint16(O),O+=2,$.alternateGroup=I.getUint16(O),O+=2,$.volume=I.getUint8(O)+I.getUint8(O+1)/8,O+=2,O+=2,$.matrix=new Uint32Array(E.subarray(O,O+9*4)),O+=9*4,$.width=I.getUint16(O)+I.getUint16(O+2)/65536,O+=4,$.height=I.getUint16(O)+I.getUint16(O+2)/65536,$},traf:function(E){return{boxes:jr(E)}},trak:function(E){return{boxes:jr(E)}},trex:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength);return{version:E[0],flags:new Uint8Array(E.subarray(1,4)),trackId:I.getUint32(4),defaultSampleDescriptionIndex:I.getUint32(8),defaultSampleDuration:I.getUint32(12),defaultSampleSize:I.getUint32(16),sampleDependsOn:E[20]&3,sampleIsDependedOn:(E[21]&192)>>6,sampleHasRedundancy:(E[21]&48)>>4,samplePaddingValue:(E[21]&14)>>1,sampleIsDifferenceSample:!!(E[21]&1),sampleDegradationPriority:I.getUint16(22)}},trun:ii,"url ":function(E){return{version:E[0],flags:new Uint8Array(E.subarray(1,4))}},vmhd:function(E){var I=new DataView(E.buffer,E.byteOffset,E.byteLength);return{version:E[0],flags:new Uint8Array(E.subarray(1,4)),graphicsmode:I.getUint16(4),opcolor:new Uint16Array([I.getUint16(6),I.getUint16(8),I.getUint16(10)])}}};jr=function(E){for(var I=0,O=[],$,Z,ce,Le,Be,We=new ArrayBuffer(E.length),Qe=new Uint8Array(We),_t=0;_t<E.length;++_t)Qe[_t]=E[_t];for($=new DataView(We);I<E.byteLength;)Z=$.getUint32(I),ce=or(E.subarray(I+4,I+8)),Le=Z>1?I+Z:E.byteLength,Be=(Oi[ce]||function(Yt){return{data:Yt}})(E.subarray(I+8,Le)),Be.size=Z,Be.type=ce,O.push(Be),I=Le;return O},si=function(E,I){var O;return I=I||0,O=new Array(I*2+1).join(" "),E.map(function($,Z){return O+$.type+`
`+Object.keys($).filter(function(ce){return ce!=="type"&&ce!=="boxes"}).map(function(ce){var Le=O+"  "+ce+": ",Be=$[ce];if(Be instanceof Uint8Array||Be instanceof Uint32Array){var We=Array.prototype.slice.call(new Uint8Array(Be.buffer,Be.byteOffset,Be.byteLength)).map(function(Qe){return" "+("00"+Qe.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return We?We.length===1?Le+"<"+We.join("").slice(1)+">":Le+`<
`+We.map(function(Qe){return O+"  "+Qe}).join(`
`)+`
`+O+"  >":Le+"<>"}return Le+JSON.stringify(Be,null,2).split(`
`).map(function(Qe,_t){return _t===0?Qe:O+"  "+Qe}).join(`
`)}).join(`
`)+($.boxes?`
`+si($.boxes,I+1):"")}).join(`
`)};var ui={inspect:jr,textify:si,parseType:or,findBox:kr,parseTraf:Oi.traf,parseTfdt:Oi.tfdt,parseHdlr:Oi.hdlr,parseTfhd:Oi.tfhd,parseTrun:Oi.trun,parseSidx:Oi.sidx},Yr=function(E){for(var I=0,O=String.fromCharCode(E[I]),$="";O!=="\0";)$+=O,I++,O=String.fromCharCode(E[I]);return $+=O,$},bi={uint8ToCString:Yr},ur=bi.uint8ToCString,Qa=s.getUint64,Jd=function(E){var I=4,O=E[0],$,Z,ce,Le,Be,We,Qe,_t;if(O===0){$=ur(E.subarray(I)),I+=$.length,Z=ur(E.subarray(I)),I+=Z.length;var Yt=new DataView(E.buffer);ce=Yt.getUint32(I),I+=4,Be=Yt.getUint32(I),I+=4,We=Yt.getUint32(I),I+=4,Qe=Yt.getUint32(I),I+=4}else if(O===1){var Yt=new DataView(E.buffer);ce=Yt.getUint32(I),I+=4,Le=Qa(E.subarray(I)),I+=8,We=Yt.getUint32(I),I+=4,Qe=Yt.getUint32(I),I+=4,$=ur(E.subarray(I)),I+=$.length,Z=ur(E.subarray(I)),I+=Z.length}_t=new Uint8Array(E.subarray(I,E.byteLength));var zn={scheme_id_uri:$,value:Z,timescale:ce||1,presentation_time:Le,presentation_time_delta:Be,event_duration:We,id:Qe,message_data:_t};return ef(O,zn)?zn:void 0},$x=function(E,I,O,$){return E||E===0?E/I:$+O/I},ef=function(E,I){var O=I.scheme_id_uri!=="\0",$=E===0&&Vo(I.presentation_time_delta)&&O,Z=E===1&&Vo(I.presentation_time)&&O;return!(E>1)&&$||Z},Vo=function(E){return E!==void 0||E!==null},zs={parseEmsgBox:Jd,scaleTime:$x},qc;typeof window<"u"?qc=window:typeof t<"u"?qc=t:typeof self<"u"?qc=self:qc={};var ug=qc,Nx=be.toUnsigned,v_=be.toHexString,Ks=An,cg=yt,d3=zs,Sue=wn,Tue=ii,Cue=Rn,Eue=s.getUint64,X5,Y5,K5,Z5,Q5,f3,J5,h3=ug,Aue=Ft.parseId3Frames;X5=function(E){var I={},O=Ks(E,["moov","trak"]);return O.reduce(function($,Z){var ce,Le,Be,We,Qe;return ce=Ks(Z,["tkhd"])[0],!ce||(Le=ce[0],Be=Le===0?12:20,We=Nx(ce[Be]<<24|ce[Be+1]<<16|ce[Be+2]<<8|ce[Be+3]),Qe=Ks(Z,["mdia","mdhd"])[0],!Qe)?null:(Le=Qe[0],Be=Le===0?12:20,$[We]=Nx(Qe[Be]<<24|Qe[Be+1]<<16|Qe[Be+2]<<8|Qe[Be+3]),$)},I)},Y5=function(E,I){var O;O=Ks(I,["moof","traf"]);var $=O.reduce(function(Z,ce){var Le=Ks(ce,["tfhd"])[0],Be=Nx(Le[4]<<24|Le[5]<<16|Le[6]<<8|Le[7]),We=E[Be]||9e4,Qe=Ks(ce,["tfdt"])[0],_t=new DataView(Qe.buffer,Qe.byteOffset,Qe.byteLength),Yt;Qe[0]===1?Yt=Eue(Qe.subarray(4,12)):Yt=_t.getUint32(4);let zn;return typeof Yt=="bigint"?zn=Yt/h3.BigInt(We):typeof Yt=="number"&&!isNaN(Yt)&&(zn=Yt/We),zn<Number.MAX_SAFE_INTEGER&&(zn=Number(zn)),zn<Z&&(Z=zn),Z},1/0);return typeof $=="bigint"||isFinite($)?$:0},K5=function(E,I){var O=Ks(I,["moof","traf"]),$=0,Z=0,ce;if(O&&O.length){var Le=Ks(O[0],["tfhd"])[0],Be=Ks(O[0],["trun"])[0],We=Ks(O[0],["tfdt"])[0];if(Le){var Qe=Sue(Le);ce=Qe.trackId}if(We){var _t=Cue(We);$=_t.baseMediaDecodeTime}if(Be){var Yt=Tue(Be);Yt.samples&&Yt.samples.length&&(Z=Yt.samples[0].compositionTimeOffset||0)}}var zn=E[ce]||9e4;typeof $=="bigint"&&(Z=h3.BigInt(Z),zn=h3.BigInt(zn));var dn=($+Z)/zn;return typeof dn=="bigint"&&dn<Number.MAX_SAFE_INTEGER&&(dn=Number(dn)),dn},Z5=function(E){var I=Ks(E,["moov","trak"]),O=[];return I.forEach(function($){var Z=Ks($,["mdia","hdlr"]),ce=Ks($,["tkhd"]);Z.forEach(function(Le,Be){var We=cg(Le.subarray(8,12)),Qe=ce[Be],_t,Yt,zn;We==="vide"&&(_t=new DataView(Qe.buffer,Qe.byteOffset,Qe.byteLength),Yt=_t.getUint8(0),zn=Yt===0?_t.getUint32(12):_t.getUint32(20),O.push(zn))})}),O},f3=function(E){var I=E[0],O=I===0?12:20;return Nx(E[O]<<24|E[O+1]<<16|E[O+2]<<8|E[O+3])},Q5=function(E){var I=Ks(E,["moov","trak"]),O=[];return I.forEach(function($){var Z={},ce=Ks($,["tkhd"])[0],Le,Be;ce&&(Le=new DataView(ce.buffer,ce.byteOffset,ce.byteLength),Be=Le.getUint8(0),Z.id=Be===0?Le.getUint32(12):Le.getUint32(20));var We=Ks($,["mdia","hdlr"])[0];if(We){var Qe=cg(We.subarray(8,12));Qe==="vide"?Z.type="video":Qe==="soun"?Z.type="audio":Z.type=Qe}var _t=Ks($,["mdia","minf","stbl","stsd"])[0];if(_t){var Yt=_t.subarray(8);Z.codec=cg(Yt.subarray(4,8));var zn=Ks(Yt,[Z.codec])[0],dn,mr;zn&&(/^[asm]vc[1-9]$/i.test(Z.codec)?(dn=zn.subarray(78),mr=cg(dn.subarray(4,8)),mr==="avcC"&&dn.length>11?(Z.codec+=".",Z.codec+=v_(dn[9]),Z.codec+=v_(dn[10]),Z.codec+=v_(dn[11])):Z.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(Z.codec)?(dn=zn.subarray(28),mr=cg(dn.subarray(4,8)),mr==="esds"&&dn.length>20&&dn[19]!==0?(Z.codec+="."+v_(dn[19]),Z.codec+="."+v_(dn[20]>>>2&63).replace(/^0/,"")):Z.codec="mp4a.40.2"):Z.codec=Z.codec.toLowerCase())}var Mr=Ks($,["mdia","mdhd"])[0];Mr&&(Z.timescale=f3(Mr)),O.push(Z)}),O},J5=function(E,I=0){var O=Ks(E,["emsg"]);return O.map($=>{var Z=d3.parseEmsgBox(new Uint8Array($)),ce=Aue(Z.message_data);return{cueTime:d3.scaleTime(Z.presentation_time,Z.timescale,Z.presentation_time_delta,I),duration:d3.scaleTime(Z.event_duration,Z.timescale),frames:ce}})};var y_={findBox:Ks,parseType:cg,timescale:X5,startTime:Y5,compositionStartTime:K5,videoTrackIds:Z5,tracks:Q5,getTimescaleFromMediaHeader:f3,getEmsgID3:J5};const{parseTrun:Pue}=ui,{findBox:eN}=y_;var tN=ug,kue=function(E){var I=eN(E,["moof","traf"]),O=eN(E,["mdat"]),$=[];return O.forEach(function(Z,ce){var Le=I[ce];$.push({mdat:Z,traf:Le})}),$},Due=function(E,I,O){var $=I,Z=O.defaultSampleDuration||0,ce=O.defaultSampleSize||0,Le=O.trackId,Be=[];return E.forEach(function(We){var Qe=Pue(We),_t=Qe.samples;_t.forEach(function(Yt){Yt.duration===void 0&&(Yt.duration=Z),Yt.size===void 0&&(Yt.size=ce),Yt.trackId=Le,Yt.dts=$,Yt.compositionTimeOffset===void 0&&(Yt.compositionTimeOffset=0),typeof $=="bigint"?(Yt.pts=$+tN.BigInt(Yt.compositionTimeOffset),$+=tN.BigInt(Yt.duration)):(Yt.pts=$+Yt.compositionTimeOffset,$+=Yt.duration)}),Be=Be.concat(_t)}),Be},nN={getMdatTrafPairs:kue,parseSamples:Due},Iue=ze.discardEmulationPreventionBytes,Rue=hr.CaptionStream,p3=An,Oue=Rn,Mue=wn,{getMdatTrafPairs:Lue,parseSamples:$ue}=nN,Nue=function(E,I){for(var O=E,$=0;$<I.length;$++){var Z=I[$];if(O<Z.size)return Z;O-=Z.size}return null},Fue=function(E,I,O){var $=new DataView(E.buffer,E.byteOffset,E.byteLength),Z={logs:[],seiNals:[]},ce,Le,Be,We;for(Le=0;Le+4<E.length;Le+=Be)if(Be=$.getUint32(Le),Le+=4,!(Be<=0))switch(E[Le]&31){case 6:var Qe=E.subarray(Le+1,Le+1+Be),_t=Nue(Le,I);if(ce={nalUnitType:"sei_rbsp",size:Be,data:Qe,escapedRBSP:Iue(Qe),trackId:O},_t)ce.pts=_t.pts,ce.dts=_t.dts,We=_t;else if(We)ce.pts=We.pts,ce.dts=We.dts;else{Z.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+Le+" for trackId "+O+". See mux.js#223."});break}Z.seiNals.push(ce);break}return Z},Bue=function(E,I){var O={},$=Lue(E);return $.forEach(function(Z){var ce=Z.mdat,Le=Z.traf,Be=p3(Le,["tfhd"]),We=Mue(Be[0]),Qe=We.trackId,_t=p3(Le,["tfdt"]),Yt=_t.length>0?Oue(_t[0]).baseMediaDecodeTime:0,zn=p3(Le,["trun"]),dn,mr;I===Qe&&zn.length>0&&(dn=$ue(zn,Yt,We),mr=Fue(ce,dn,Qe),O[Qe]||(O[Qe]={seiNals:[],logs:[]}),O[Qe].seiNals=O[Qe].seiNals.concat(mr.seiNals),O[Qe].logs=O[Qe].logs.concat(mr.logs))}),O},Uue=function(E,I,O){var $;if(I===null)return null;$=Bue(E,I);var Z=$[I]||{};return{seiNals:Z.seiNals,logs:Z.logs,timescale:O}},Vue=function(){var E=!1,I,O,$,Z,ce,Le;this.isInitialized=function(){return E},this.init=function(Be){I=new Rue,E=!0,Le=Be?Be.isPartial:!1,I.on("data",function(We){We.startTime=We.startPts/Z,We.endTime=We.endPts/Z,ce.captions.push(We),ce.captionStreams[We.stream]=!0}),I.on("log",function(We){ce.logs.push(We)})},this.isNewInit=function(Be,We){return Be&&Be.length===0||We&&typeof We=="object"&&Object.keys(We).length===0?!1:$!==Be[0]||Z!==We[$]},this.parse=function(Be,We,Qe){var _t;if(this.isInitialized()){if(!We||!Qe)return null;if(this.isNewInit(We,Qe))$=We[0],Z=Qe[$];else if($===null||!Z)return O.push(Be),null}else return null;for(;O.length>0;){var Yt=O.shift();this.parse(Yt,We,Qe)}return _t=Uue(Be,$,Z),_t&&_t.logs&&(ce.logs=ce.logs.concat(_t.logs)),_t===null||!_t.seiNals?ce.logs.length?{logs:ce.logs,captions:[],captionStreams:[]}:null:(this.pushNals(_t.seiNals),this.flushStream(),ce)},this.pushNals=function(Be){if(!this.isInitialized()||!Be||Be.length===0)return null;Be.forEach(function(We){I.push(We)})},this.flushStream=function(){if(!this.isInitialized())return null;Le?I.partialFlush():I.flush()},this.clearParsedCaptions=function(){ce.captions=[],ce.captionStreams={},ce.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;I.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){O=[],$=null,Z=null,ce?this.clearParsedCaptions():ce={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},zue=Vue;const{parseTfdt:Hue}=ui,xh=An,{getTimescaleFromMediaHeader:jue}=y_,{parseSamples:Gue,getMdatTrafPairs:Wue}=nN;var rN=function(){let E=9e4;this.init=function(I){const O=xh(I,["moov","trak","mdia","mdhd"])[0];O&&(E=jue(O))},this.parseSegment=function(I){const O=[],$=Wue(I);let Z=0;return $.forEach(function(ce){const Le=ce.mdat,Be=ce.traf,We=xh(Be,["tfdt"])[0],Qe=xh(Be,["tfhd"])[0],_t=xh(Be,["trun"]);if(We&&(Z=Hue(We).baseMediaDecodeTime),_t.length&&Qe){const Yt=Gue(_t,Z,Qe);let zn=0;Yt.forEach(function(dn){const mr="utf-8",Mr=new TextDecoder(mr),La=Le.slice(zn,zn+dn.size);if(xh(La,["vtte"])[0]){zn+=dn.size;return}xh(La,["vttc"]).forEach(function(__){const b_=xh(__,["payl"])[0],x_=xh(__,["sttg"])[0],w_=dn.pts/E,Ux=(dn.pts+dn.duration)/E;let ms,S_;if(b_)try{ms=Mr.decode(b_)}catch(ec){console.error(ec)}if(x_)try{S_=Mr.decode(x_)}catch(ec){console.error(ec)}dn.duration&&ms&&O.push({cueText:ms,start:w_,end:Ux,settings:S_})}),zn+=dn.size})}}),O}},m3=Pr,iN=function(E){var I=E[1]&31;return I<<=8,I|=E[2],I},Fx=function(E){return!!(E[1]&64)},Bx=function(E){var I=0;return(E[3]&48)>>>4>1&&(I+=E[4]+1),I},que=function(E,I){var O=iN(E);return O===0?"pat":O===I?"pmt":I?"pes":null},Xue=function(E){var I=Fx(E),O=4+Bx(E);return I&&(O+=E[O]+1),(E[O+10]&31)<<8|E[O+11]},Yue=function(E){var I={},O=Fx(E),$=4+Bx(E);if(O&&($+=E[$]+1),!!(E[$+5]&1)){var Z,ce,Le;Z=(E[$+1]&15)<<8|E[$+2],ce=3+Z-4,Le=(E[$+10]&15)<<8|E[$+11];for(var Be=12+Le;Be<ce;){var We=$+Be;I[(E[We+1]&31)<<8|E[We+2]]=E[We],Be+=((E[We+3]&15)<<8|E[We+4])+5}return I}},Kue=function(E,I){var O=iN(E),$=I[O];switch($){case m3.H264_STREAM_TYPE:return"video";case m3.ADTS_STREAM_TYPE:return"audio";case m3.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Zue=function(E){var I=Fx(E);if(!I)return null;var O=4+Bx(E);if(O>=E.byteLength)return null;var $=null,Z;return Z=E[O+7],Z&192&&($={},$.pts=(E[O+9]&14)<<27|(E[O+10]&255)<<20|(E[O+11]&254)<<12|(E[O+12]&255)<<5|(E[O+13]&254)>>>3,$.pts*=4,$.pts+=(E[O+13]&6)>>>1,$.dts=$.pts,Z&64&&($.dts=(E[O+14]&14)<<27|(E[O+15]&255)<<20|(E[O+16]&254)<<12|(E[O+17]&255)<<5|(E[O+18]&254)>>>3,$.dts*=4,$.dts+=(E[O+18]&6)>>>1)),$},g3=function(E){switch(E){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Que=function(E){for(var I=4+Bx(E),O=E.subarray(I),$=0,Z=0,ce=!1,Le;Z<O.byteLength-3;Z++)if(O[Z+2]===1){$=Z+5;break}for(;$<O.byteLength;)switch(O[$]){case 0:if(O[$-1]!==0){$+=2;break}else if(O[$-2]!==0){$++;break}Z+3!==$-2&&(Le=g3(O[Z+3]&31),Le==="slice_layer_without_partitioning_rbsp_idr"&&(ce=!0));do $++;while(O[$]!==1&&$<O.length);Z=$-2,$+=3;break;case 1:if(O[$-1]!==0||O[$-2]!==0){$+=3;break}Le=g3(O[Z+3]&31),Le==="slice_layer_without_partitioning_rbsp_idr"&&(ce=!0),Z=$-2,$+=3;break;default:$+=3;break}return O=O.subarray(Z),$-=Z,Z=0,O&&O.byteLength>3&&(Le=g3(O[Z+3]&31),Le==="slice_layer_without_partitioning_rbsp_idr"&&(ce=!0)),ce},Jue={parseType:que,parsePat:Xue,parsePmt:Yue,parsePayloadUnitStartIndicator:Fx,parsePesType:Kue,parsePesTime:Zue,videoPacketContainsKeyFrame:Que},sN=Pr,dg=cr.handleRollover,Bi={};Bi.ts=Jue,Bi.aac=ua;var u0=vt.ONE_SECOND_IN_TS,zo=188,Xc=71,ece=function(E,I){for(var O=0,$=zo,Z,ce;$<E.byteLength;){if(E[O]===Xc&&E[$]===Xc){switch(Z=E.subarray(O,$),ce=Bi.ts.parseType(Z,I.pid),ce){case"pat":I.pid=Bi.ts.parsePat(Z);break;case"pmt":var Le=Bi.ts.parsePmt(Z);I.table=I.table||{},Object.keys(Le).forEach(function(Be){I.table[Be]=Le[Be]});break}O+=zo,$+=zo;continue}O++,$++}},aN=function(E,I,O){for(var $=0,Z=zo,ce,Le,Be,We,Qe,_t=!1;Z<=E.byteLength;){if(E[$]===Xc&&(E[Z]===Xc||Z===E.byteLength)){switch(ce=E.subarray($,Z),Le=Bi.ts.parseType(ce,I.pid),Le){case"pes":Be=Bi.ts.parsePesType(ce,I.table),We=Bi.ts.parsePayloadUnitStartIndicator(ce),Be==="audio"&&We&&(Qe=Bi.ts.parsePesTime(ce),Qe&&(Qe.type="audio",O.audio.push(Qe),_t=!0));break}if(_t)break;$+=zo,Z+=zo;continue}$++,Z++}for(Z=E.byteLength,$=Z-zo,_t=!1;$>=0;){if(E[$]===Xc&&(E[Z]===Xc||Z===E.byteLength)){switch(ce=E.subarray($,Z),Le=Bi.ts.parseType(ce,I.pid),Le){case"pes":Be=Bi.ts.parsePesType(ce,I.table),We=Bi.ts.parsePayloadUnitStartIndicator(ce),Be==="audio"&&We&&(Qe=Bi.ts.parsePesTime(ce),Qe&&(Qe.type="audio",O.audio.push(Qe),_t=!0));break}if(_t)break;$-=zo,Z-=zo;continue}$--,Z--}},tce=function(E,I,O){for(var $=0,Z=zo,ce,Le,Be,We,Qe,_t,Yt,zn,dn=!1,mr={data:[],size:0};Z<E.byteLength;){if(E[$]===Xc&&E[Z]===Xc){switch(ce=E.subarray($,Z),Le=Bi.ts.parseType(ce,I.pid),Le){case"pes":if(Be=Bi.ts.parsePesType(ce,I.table),We=Bi.ts.parsePayloadUnitStartIndicator(ce),Be==="video"&&(We&&!dn&&(Qe=Bi.ts.parsePesTime(ce),Qe&&(Qe.type="video",O.video.push(Qe),dn=!0)),!O.firstKeyFrame)){if(We&&mr.size!==0){for(_t=new Uint8Array(mr.size),Yt=0;mr.data.length;)zn=mr.data.shift(),_t.set(zn,Yt),Yt+=zn.byteLength;if(Bi.ts.videoPacketContainsKeyFrame(_t)){var Mr=Bi.ts.parsePesTime(_t);Mr?(O.firstKeyFrame=Mr,O.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}mr.size=0}mr.data.push(ce),mr.size+=ce.byteLength}break}if(dn&&O.firstKeyFrame)break;$+=zo,Z+=zo;continue}$++,Z++}for(Z=E.byteLength,$=Z-zo,dn=!1;$>=0;){if(E[$]===Xc&&E[Z]===Xc){switch(ce=E.subarray($,Z),Le=Bi.ts.parseType(ce,I.pid),Le){case"pes":Be=Bi.ts.parsePesType(ce,I.table),We=Bi.ts.parsePayloadUnitStartIndicator(ce),Be==="video"&&We&&(Qe=Bi.ts.parsePesTime(ce),Qe&&(Qe.type="video",O.video.push(Qe),dn=!0));break}if(dn)break;$-=zo,Z-=zo;continue}$--,Z--}},nce=function(E,I){if(E.audio&&E.audio.length){var O=I;(typeof O>"u"||isNaN(O))&&(O=E.audio[0].dts),E.audio.forEach(function(ce){ce.dts=dg(ce.dts,O),ce.pts=dg(ce.pts,O),ce.dtsTime=ce.dts/u0,ce.ptsTime=ce.pts/u0})}if(E.video&&E.video.length){var $=I;if((typeof $>"u"||isNaN($))&&($=E.video[0].dts),E.video.forEach(function(ce){ce.dts=dg(ce.dts,$),ce.pts=dg(ce.pts,$),ce.dtsTime=ce.dts/u0,ce.ptsTime=ce.pts/u0}),E.firstKeyFrame){var Z=E.firstKeyFrame;Z.dts=dg(Z.dts,$),Z.pts=dg(Z.pts,$),Z.dtsTime=Z.dts/u0,Z.ptsTime=Z.pts/u0}}},rce=function(E){for(var I=!1,O=0,$=null,Z=null,ce=0,Le=0,Be;E.length-Le>=3;){var We=Bi.aac.parseType(E,Le);switch(We){case"timed-metadata":if(E.length-Le<10){I=!0;break}if(ce=Bi.aac.parseId3TagSize(E,Le),ce>E.length){I=!0;break}Z===null&&(Be=E.subarray(Le,Le+ce),Z=Bi.aac.parseAacTimestamp(Be)),Le+=ce;break;case"audio":if(E.length-Le<7){I=!0;break}if(ce=Bi.aac.parseAdtsSize(E,Le),ce>E.length){I=!0;break}$===null&&(Be=E.subarray(Le,Le+ce),$=Bi.aac.parseSampleRate(Be)),O++,Le+=ce;break;default:Le++;break}if(I)return null}if($===null||Z===null)return null;var Qe=u0/$,_t={audio:[{type:"audio",dts:Z,pts:Z},{type:"audio",dts:Z+O*1024*Qe,pts:Z+O*1024*Qe}]};return _t},ice=function(E){var I={pid:null,table:null},O={};ece(E,I);for(var $ in I.table)if(I.table.hasOwnProperty($)){var Z=I.table[$];switch(Z){case sN.H264_STREAM_TYPE:O.video=[],tce(E,I,O),O.video.length===0&&delete O.video;break;case sN.ADTS_STREAM_TYPE:O.audio=[],aN(E,I,O),O.audio.length===0&&delete O.audio;break}}return O},sce=function(E,I){var O=Bi.aac.isLikelyAacData(E),$;return O?$=rce(E):$=ice(E),!$||!$.audio&&!$.video?null:(nce($,I),$)},ace={inspect:sce,parseAudioPes_:aN};const oce=function(E,I){I.on("data",function(O){const $=O.initSegment;O.initSegment={data:$.buffer,byteOffset:$.byteOffset,byteLength:$.byteLength};const Z=O.data;O.data=Z.buffer,E.postMessage({action:"data",segment:O,byteOffset:Z.byteOffset,byteLength:Z.byteLength},[O.data])}),I.on("done",function(O){E.postMessage({action:"done"})}),I.on("gopInfo",function(O){E.postMessage({action:"gopInfo",gopInfo:O})}),I.on("videoSegmentTimingInfo",function(O){const $={start:{decode:vt.videoTsToSeconds(O.start.dts),presentation:vt.videoTsToSeconds(O.start.pts)},end:{decode:vt.videoTsToSeconds(O.end.dts),presentation:vt.videoTsToSeconds(O.end.pts)},baseMediaDecodeTime:vt.videoTsToSeconds(O.baseMediaDecodeTime)};O.prependedContentDuration&&($.prependedContentDuration=vt.videoTsToSeconds(O.prependedContentDuration)),E.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:$})}),I.on("audioSegmentTimingInfo",function(O){const $={start:{decode:vt.videoTsToSeconds(O.start.dts),presentation:vt.videoTsToSeconds(O.start.pts)},end:{decode:vt.videoTsToSeconds(O.end.dts),presentation:vt.videoTsToSeconds(O.end.pts)},baseMediaDecodeTime:vt.videoTsToSeconds(O.baseMediaDecodeTime)};O.prependedContentDuration&&($.prependedContentDuration=vt.videoTsToSeconds(O.prependedContentDuration)),E.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:$})}),I.on("id3Frame",function(O){E.postMessage({action:"id3Frame",id3Frame:O})}),I.on("caption",function(O){E.postMessage({action:"caption",caption:O})}),I.on("trackinfo",function(O){E.postMessage({action:"trackinfo",trackInfo:O})}),I.on("audioTimingInfo",function(O){E.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:vt.videoTsToSeconds(O.start),end:vt.videoTsToSeconds(O.end)}})}),I.on("videoTimingInfo",function(O){E.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:vt.videoTsToSeconds(O.start),end:vt.videoTsToSeconds(O.end)}})}),I.on("log",function(O){E.postMessage({action:"log",log:O})})};class oN{constructor(I,O){this.options=O||{},this.self=I,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Ae.Transmuxer(this.options),oce(this.self,this.transmuxer)}pushMp4Captions(I){this.captionParser||(this.captionParser=new zue,this.captionParser.init());const O=new Uint8Array(I.data,I.byteOffset,I.byteLength),$=this.captionParser.parse(O,I.trackIds,I.timescales);this.self.postMessage({action:"mp4Captions",captions:$&&$.captions||[],logs:$&&$.logs||[],data:O.buffer},[O.buffer])}initMp4WebVttParser(I){this.webVttParser||(this.webVttParser=new rN);const O=new Uint8Array(I.data,I.byteOffset,I.byteLength);this.webVttParser.init(O)}getMp4WebVttText(I){this.webVttParser||(this.webVttParser=new rN);const O=new Uint8Array(I.data,I.byteOffset,I.byteLength),$=this.webVttParser.parseSegment(O);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:$||[],data:O.buffer},[O.buffer])}probeMp4StartTime({timescales:I,data:O}){const $=y_.startTime(I,O);this.self.postMessage({action:"probeMp4StartTime",startTime:$,data:O},[O.buffer])}probeMp4Tracks({data:I}){const O=y_.tracks(I);this.self.postMessage({action:"probeMp4Tracks",tracks:O,data:I},[I.buffer])}probeEmsgID3({data:I,offset:O}){const $=y_.getEmsgID3(I,O);this.self.postMessage({action:"probeEmsgID3",id3Frames:$,emsgData:I},[I.buffer])}probeTs({data:I,baseStartTime:O}){const $=typeof O=="number"&&!isNaN(O)?O*vt.ONE_SECOND_IN_TS:void 0,Z=ace.inspect(I,$);let ce=null;Z&&(ce={hasVideo:Z.video&&Z.video.length===2||!1,hasAudio:Z.audio&&Z.audio.length===2||!1},ce.hasVideo&&(ce.videoStart=Z.video[0].ptsTime),ce.hasAudio&&(ce.audioStart=Z.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:ce,data:I},[I.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(I){const O=new Uint8Array(I.data,I.byteOffset,I.byteLength);this.transmuxer.push(O)}reset(){this.transmuxer.reset()}setTimestampOffset(I){const O=I.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(vt.secondsToVideoTs(O)))}setAudioAppendStart(I){this.transmuxer.setAudioAppendStart(Math.ceil(vt.secondsToVideoTs(I.appendStart)))}setRemux(I){this.transmuxer.setRemux(I.remux)}flush(I){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(I){this.transmuxer.alignGopsWith(I.gopsToAlignWith.slice())}}self.onmessage=function(E){if(E.data.action==="init"&&E.data.options){this.messageHandlers=new oN(self,E.data.options);return}this.messageHandlers||(this.messageHandlers=new oN(self)),E.data&&E.data.action&&E.data.action!=="init"&&this.messageHandlers[E.data.action]&&this.messageHandlers[E.data.action](E.data)}}));var Wqe=Jie(Gqe);const qqe=(t,e,n)=>{const{type:r,initSegment:i,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:o});const d=t.data.segment.boxes||{data:t.data.segment.data},f={type:r,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(f.videoFrameDtsTime=l),typeof u<"u"&&(f.videoFramePtsTime=u),n(f)},Xqe=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},Yqe=(t,e)=>{e.gopInfo=t.data.gopInfo},nse=t=>{const{transmuxer:e,bytes:n,audioAppendStart:r,gopsToAlignWith:i,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:d,onAudioSegmentTimingInfo:f,onId3:h,onCaptions:g,onDone:v,onEndedTimeline:p,onTransmuxerLog:_,isEndOfTimeline:S,segment:C,triggerSegmentEventFn:T}=t,A={buffer:[]};let P=S;const D=N=>{e.currentTransmux===t&&(N.data.action==="data"&&qqe(N,A,a),N.data.action==="trackinfo"&&o(N.data.trackInfo),N.data.action==="gopInfo"&&Yqe(N,A),N.data.action==="audioTimingInfo"&&l(N.data.audioTimingInfo),N.data.action==="videoTimingInfo"&&u(N.data.videoTimingInfo),N.data.action==="videoSegmentTimingInfo"&&d(N.data.videoSegmentTimingInfo),N.data.action==="audioSegmentTimingInfo"&&f(N.data.audioSegmentTimingInfo),N.data.action==="id3Frame"&&h([N.data.id3Frame],N.data.id3Frame.dispatchType),N.data.action==="caption"&&g(N.data.caption),N.data.action==="endedtimeline"&&(P=!1,p()),N.data.action==="log"&&_(N.data.log),N.data.type==="transmuxed"&&(P||(e.onmessage=null,Xqe({transmuxedData:A,callback:v}),rse(e))))},R=()=>{const N={message:"Received an error message from the transmuxer worker",metadata:{errorType:Mt.Error.StreamingFailedToTransmuxSegment,segmentInfo:j0({segment:C})}};v(null,N)};if(e.onmessage=D,e.onerror=R,r&&e.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),n.byteLength){const N=n instanceof ArrayBuffer?n:n.buffer,U=n instanceof ArrayBuffer?0:n.byteOffset;T({type:"segmenttransmuxingstart",segment:C}),e.postMessage({action:"push",data:N,byteOffset:U,byteLength:n.byteLength},[N])}S&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},rse=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():nse(t.currentTransmux))},_z=(t,e)=>{t.postMessage({action:e}),rse(t)},ise=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,_z(e,t);return}e.transmuxQueue.push(_z.bind(null,e,t))},Kqe=t=>{ise("reset",t)},Zqe=t=>{ise("endTimeline",t)},sse=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,nse(t);return}t.transmuxer.transmuxQueue.push(t)},Qqe=t=>{const e=new Wqe;e.currentTransmux=null,e.transmuxQueue=[];const n=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,n.call(e)),e.postMessage({action:"init",options:t}),e};var CP={reset:Kqe,endTimeline:Zqe,transmux:sse,createTransmuxer:Qqe};const _v=function(t){const e=t.transmuxer,n=t.endAction||t.action,r=t.callback,i=qs({},t,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===n&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),r(a.data))};if(e.addEventListener("message",s),t.data){const a=t.data instanceof ArrayBuffer;i.byteOffset=a?0:t.data.byteOffset,i.byteLength=t.data.byteLength;const o=[a?t.data:t.data.buffer];e.postMessage(i,o)}else e.postMessage(i)},xd={FAILURE:2,TIMEOUT:-101,ABORTED:-102},ase="wvtt",oR=t=>{t.forEach(e=>{e.abort()})},Jqe=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),eXe=t=>{const e=t.target,r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return r.bytesReceived=t.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},v$=(t,e)=>{const{requestType:n}=e,r=hm({requestType:n,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:xd.TIMEOUT,xhr:e,metadata:r}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:xd.ABORTED,xhr:e,metadata:r}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:xd.FAILURE,xhr:e,metadata:r}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:xd.FAILURE,xhr:e,metadata:r}:null},bz=(t,e,n,r)=>(i,s)=>{const a=s.response,o=v$(i,s);if(o)return n(o,t);if(a.byteLength!==16)return n({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:xd.FAILURE,xhr:s},t);const l=new DataView(a),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let f=0;f<e.length;f++)e[f].bytes=u;const d={uri:s.uri};return r({type:"segmentkeyloadcomplete",segment:t,keyInfo:d}),n(null,t)},tXe=(t,e)=>{e===ase&&t.transmuxer.postMessage({action:"initMp4WebVttParser",data:t.map.bytes})},nXe=(t,e,n)=>{e===ase&&_v({action:"getMp4WebVttText",data:t.bytes,transmuxer:t.transmuxer,callback:({data:r,mp4VttCues:i})=>{t.bytes=r,n(null,t,{mp4VttCues:i})}})},ose=(t,e)=>{const n=$L(t.map.bytes);if(n!=="mp4"){const r=t.map.resolvedUri||t.map.uri,i=n||"unknown";return e({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${r}`,code:xd.FAILURE,metadata:{mediaType:i}})}_v({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:r,data:i})=>(t.map.bytes=i,r.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale),s.type==="text"&&tXe(t,s.codec))}),e(null))})},rXe=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:n})=>(r,i)=>{const s=v$(r,i);if(s)return e(s,t);const a=new Uint8Array(i.response);if(n({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,ose(t,function(o){if(o)return o.xhr=i,o.status=i.status,e(o,t);e(null,t)})},iXe=({segment:t,finishProcessingFn:e,responseType:n,triggerSegmentEventFn:r})=>(i,s)=>{const a=v$(i,s);if(a)return e(a,t);r({type:"segmentloaded",segment:t});const o=n==="arraybuffer"||!s.responseText?s.response:Hqe(s.responseText.substring(t.lastReachedChar||0));return t.stats=Jqe(s),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},sXe=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})=>{const v=t.map&&t.map.tracks||{},p=!!(v.audio&&v.video);let _=r.bind(null,t,"audio","start");const S=r.bind(null,t,"audio","end");let C=r.bind(null,t,"video","start");const T=r.bind(null,t,"video","end"),A=()=>sse({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:p,onData:P=>{P.type=P.type==="combined"?"video":P.type,d(t,P)},onTrackInfo:P=>{n&&(p&&(P.isMuxed=!0),n(t,P))},onAudioTimingInfo:P=>{_&&typeof P.start<"u"&&(_(P.start),_=null),S&&typeof P.end<"u"&&S(P.end)},onVideoTimingInfo:P=>{C&&typeof P.start<"u"&&(C(P.start),C=null),T&&typeof P.end<"u"&&T(P.end)},onVideoSegmentTimingInfo:P=>{const D={pts:{start:P.start.presentation,end:P.end.presentation},dts:{start:P.start.decode,end:P.end.decode}};g({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:D}),i(P)},onAudioSegmentTimingInfo:P=>{const D={pts:{start:P.start.pts,end:P.end.pts},dts:{start:P.start.dts,end:P.end.dts}};g({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:D}),s(P)},onId3:(P,D)=>{a(t,P,D)},onCaptions:P=>{o(t,[P])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:h,onDone:(P,D)=>{f&&(P.type=P.type==="combined"?"video":P.type,g({type:"segmenttransmuxingcomplete",segment:t}),f(D,t,P))},segment:t,triggerSegmentEventFn:g});_v({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:P=>{t.bytes=e=P.data;const D=P.result;D&&(n(t,{hasAudio:D.hasAudio,hasVideo:D.hasVideo,isMuxed:p}),n=null),A()}})},lse=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})=>{let v=new Uint8Array(e);if(AGe(v)){t.isFmp4=!0;const{tracks:p}=t.map;if(p.text&&(!p.audio||!p.video)){d(t,{data:v,type:"text"}),nXe(t,p.text.codec,f);return}const S={isFmp4:!0,hasVideo:!!p.video,hasAudio:!!p.audio};p.audio&&p.audio.codec&&p.audio.codec!=="enca"&&(S.audioCodec=p.audio.codec),p.video&&p.video.codec&&p.video.codec!=="encv"&&(S.videoCodec=p.video.codec),p.video&&p.audio&&(S.isMuxed=!0),n(t,S);const C=(T,A)=>{d(t,{data:v,type:S.hasAudio&&!S.isMuxed?"audio":"video"}),A&&A.length&&a(t,A),T&&T.length&&o(t,T),f(null,t,{})};_v({action:"probeMp4StartTime",timescales:t.map.timescales,data:v,transmuxer:t.transmuxer,callback:({data:T,startTime:A})=>{e=T.buffer,t.bytes=v=T,S.hasAudio&&!S.isMuxed&&r(t,"audio","start",A),S.hasVideo&&r(t,"video","start",A),_v({action:"probeEmsgID3",data:v,transmuxer:t.transmuxer,offset:A,callback:({emsgData:P,id3Frames:D})=>{if(e=P.buffer,t.bytes=v=P,!p.video||!P.byteLength||!t.transmuxer){C(void 0,D);return}_v({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:v,timescales:t.map.timescales,trackIds:[p.video.id],callback:R=>{e=R.data.buffer,t.bytes=v=R.data,R.logs.forEach(function(N){h($i(N,{stream:"mp4CaptionParser"}))}),C(R.captions,D)}})}})}});return}if(!t.transmuxer){f(null,t,{});return}if(typeof t.container>"u"&&(t.container=$L(v)),t.container!=="ts"&&t.container!=="aac"){n(t,{hasAudio:!1,hasVideo:!1}),f(null,t,{});return}sXe({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})},use=function({id:t,key:e,encryptedBytes:n,decryptionWorker:r,segment:i,doneFn:s},a){const o=u=>{if(u.data.source===t){r.removeEventListener("message",o);const d=u.data.decrypted;a(new Uint8Array(d.bytes,d.byteOffset,d.byteLength))}};r.onerror=()=>{const u="An error occurred in the decryption worker",d=j0({segment:i}),f={message:u,metadata:{error:new Error(u),errorType:Mt.Error.StreamingFailedToDecryptSegment,segmentInfo:d,keyInfo:{uri:i.key.resolvedUri||i.map.key.resolvedUri}}};s(f,i)},r.addEventListener("message",o);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),r.postMessage(qie({source:t,encrypted:n,key:l,iv:e.iv}),[n.buffer,l.buffer])},aXe=({decryptionWorker:t,segment:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})=>{g({type:"segmentdecryptionstart"}),use({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:f},v=>{e.bytes=v,g({type:"segmentdecryptioncomplete",segment:e}),lse({segment:e,bytes:e.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})})},oXe=({activeXhrs:t,decryptionWorker:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})=>{let v=0,p=!1;return(_,S)=>{if(!p){if(_)return p=!0,oR(t),f(_,S);if(v+=1,v===t.length){const C=function(){if(S.encryptedBytes)return aXe({decryptionWorker:e,segment:S,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g});lse({segment:S,bytes:S.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})};if(S.endOfAllRequests=Date.now(),S.map&&S.map.encryptedBytes&&!S.map.bytes)return g({type:"segmentdecryptionstart",segment:S}),use({decryptionWorker:e,id:S.requestId+"-init",encryptedBytes:S.map.encryptedBytes,key:S.map.key,segment:S,doneFn:f},T=>{S.map.bytes=T,g({type:"segmentdecryptioncomplete",segment:S}),ose(S,A=>{if(A)return oR(t),f(A,S);C()})});C()}}}},lXe=({loadendState:t,abortFn:e})=>n=>{n.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},uXe=({segment:t,progressFn:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d})=>f=>{if(!f.target.aborted)return t.stats=$i(t.stats,eXe(f)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(f,t)},cXe=({xhr:t,xhrOptions:e,decryptionWorker:n,segment:r,abortFn:i,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v,doneFn:p,onTransmuxerLog:_,triggerSegmentEventFn:S})=>{const C=[],T=oXe({activeXhrs:C,decryptionWorker:n,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v,doneFn:p,onTransmuxerLog:_,triggerSegmentEventFn:S});if(r.key&&!r.key.bytes){const N=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&N.push(r.map.key);const U=$i(e,{uri:r.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),Y=bz(r,N,T,S),H={uri:r.key.resolvedUri};S({type:"segmentkeyloadstart",segment:r,keyInfo:H});const j=t(U,Y);C.push(j)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){const j=$i(e,{uri:r.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),X=bz(r,[r.map.key],T,S),W={uri:r.map.key.resolvedUri};S({type:"segmentkeyloadstart",segment:r,keyInfo:W});const F=t(j,X);C.push(F)}const U=$i(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:sR(r.map),requestType:"segment-media-initialization"}),Y=rXe({segment:r,finishProcessingFn:T,triggerSegmentEventFn:S});S({type:"segmentloadstart",segment:r});const H=t(U,Y);C.push(H)}const A=$i(e,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:sR(r),requestType:"segment"}),P=iXe({segment:r,finishProcessingFn:T,responseType:A.responseType,triggerSegmentEventFn:S});S({type:"segmentloadstart",segment:r});const D=t(A,P);D.addEventListener("progress",uXe({segment:r,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v})),C.push(D);const R={};return C.forEach(N=>{N.addEventListener("loadend",lXe({loadendState:R,abortFn:i}))}),()=>oR(C)},Aw=Qu("PlaylistSelector"),xz=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},bv=function(t,e){if(!t)return"";const n=et.getComputedStyle(t);return n?n[e]:""},xv=function(t,e){const n=t.slice();t.sort(function(r,i){const s=e(r,i);return s===0?n.indexOf(r)-n.indexOf(i):s})},y$=function(t,e){let n,r;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||et.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||et.Number.MAX_VALUE,n-r},dXe=function(t,e){let n,r;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||et.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||et.Number.MAX_VALUE,n===r&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-r};let cse=function(t){const{main:e,bandwidth:n,playerWidth:r,playerHeight:i,playerObjectFit:s,limitRenditionByPlayerDimensions:a,playlistController:o}=t;if(!e)return;const l={bandwidth:n,width:r,height:i,limitRenditionByPlayerDimensions:a};let u=e.playlists;El.isAudioOnly(e)&&(u=o.getAudioTrackPlaylists_(),l.audioOnly=!0);let d=u.map(R=>{let N;const U=R.attributes&&R.attributes.RESOLUTION&&R.attributes.RESOLUTION.width,Y=R.attributes&&R.attributes.RESOLUTION&&R.attributes.RESOLUTION.height;return N=R.attributes&&R.attributes.BANDWIDTH,N=N||et.Number.MAX_VALUE,{bandwidth:N,width:U,height:Y,playlist:R}});xv(d,(R,N)=>R.bandwidth-N.bandwidth),d=d.filter(R=>!El.isIncompatible(R.playlist));let f=d.filter(R=>El.isEnabled(R.playlist));f.length||(f=d.filter(R=>!El.isDisabled(R.playlist)));const h=f.filter(R=>R.bandwidth*Ua.BANDWIDTH_VARIANCE<n);let g=h[h.length-1];const v=h.filter(R=>R.bandwidth===g.bandwidth)[0];if(a===!1){const R=v||f[0]||d[0];if(R&&R.playlist){let N="sortedPlaylistReps";return v&&(N="bandwidthBestRep"),f[0]&&(N="enabledPlaylistReps"),Aw(`choosing ${xz(R)} using ${N} with options`,l),R.playlist}return Aw("could not choose a playlist with options",l),null}const p=h.filter(R=>R.width&&R.height);xv(p,(R,N)=>R.width-N.width);const _=p.filter(R=>R.width===r&&R.height===i);g=_[_.length-1];const S=_.filter(R=>R.bandwidth===g.bandwidth)[0];let C,T,A;S||(C=p.filter(R=>s==="cover"?R.width>r&&R.height>i:R.width>r||R.height>i),T=C.filter(R=>R.width===C[0].width&&R.height===C[0].height),g=T[T.length-1],A=T.filter(R=>R.bandwidth===g.bandwidth)[0]);let P;if(o.leastPixelDiffSelector){const R=p.map(N=>(N.pixelDiff=Math.abs(N.width-r)+Math.abs(N.height-i),N));xv(R,(N,U)=>N.pixelDiff===U.pixelDiff?U.bandwidth-N.bandwidth:N.pixelDiff-U.pixelDiff),P=R[0]}const D=P||A||S||v||f[0]||d[0];if(D&&D.playlist){let R="sortedPlaylistReps";return P?R="leastPixelDiffRep":A?R="resolutionPlusOneRep":S?R="resolutionBestRep":v?R="bandwidthBestRep":f[0]&&(R="enabledPlaylistReps"),Aw(`choosing ${xz(D)} using ${R} with options`,l),D.playlist}return Aw("could not choose a playlist with options",l),null};const wz=function(){let t=this.useDevicePixelRatio&&et.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),cse({main:this.playlists.main,bandwidth:this.systemBandwidth,playerWidth:parseInt(bv(this.tech_.el(),"width"),10)*t,playerHeight:parseInt(bv(this.tech_.el(),"height"),10)*t,playerObjectFit:this.usePlayerObjectFit?bv(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})},fXe=function(t){let e=-1,n=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let r=this.useDevicePixelRatio&&et.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(r=this.customPixelRatio),e<0&&(e=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(e=t*this.systemBandwidth+(1-t)*e,n=this.systemBandwidth),cse({main:this.playlists.main,bandwidth:e,playerWidth:parseInt(bv(this.tech_.el(),"width"),10)*r,playerHeight:parseInt(bv(this.tech_.el(),"height"),10)*r,playerObjectFit:this.usePlayerObjectFit?bv(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})}},hXe=function(t){const{main:e,currentTime:n,bandwidth:r,duration:i,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=t,u=e.playlists.filter(v=>!El.isIncompatible(v));let d=u.filter(El.isEnabled);d.length||(d=u.filter(v=>!El.isDisabled(v)));const h=d.filter(El.hasAttribute.bind(null,"BANDWIDTH")).map(v=>{const _=l.getSyncPoint(v,i,o,n)?1:2,C=El.estimateSegmentRequestTime(s,r,v)*_-a;return{playlist:v,rebufferingImpact:C}}),g=h.filter(v=>v.rebufferingImpact<=0);return xv(g,(v,p)=>y$(p.playlist,v.playlist)),g.length?g[0]:(xv(h,(v,p)=>v.rebufferingImpact-p.rebufferingImpact),h[0]||null)},pXe=function(){const t=this.playlists.main.playlists.filter(El.isEnabled);return xv(t,(n,r)=>y$(n,r)),t.filter(n=>!!fb(this.playlists.main,n).video)[0]||null},mXe=t=>{let e=0,n;return t.bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach(r=>{n.set(r,e),e+=r.byteLength})),n};function dse(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const gXe=function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"});let r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);const i=e.textTracks().getTrackById(r);if(i)t[n]=i;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=n,o=n,l=!1;const u=s[r];u&&(a=u.label,o=u.language,l=u.default),t[n]=e.addRemoteTextTrack({kind:"captions",id:r,default:l,label:a,language:o},!1).track}}},vXe=function({inbandTextTracks:t,captionArray:e,timestampOffset:n}){if(!e)return;const r=et.WebKitDataCue||et.VTTCue;e.forEach(i=>{const s=i.stream;i.content?i.content.forEach(a=>{const o=new r(i.startTime+n,i.endTime+n,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",t[s].addCue(o)}):t[s].addCue(new r(i.startTime+n,i.endTime+n,i.text))})},yXe=function(t){Object.defineProperties(t.frame,{id:{get(){return Mt.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return Mt.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return Mt.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},_Xe=({inbandTextTracks:t,metadataArray:e,timestampOffset:n,videoDuration:r})=>{if(!e)return;const i=et.WebKitDataCue||et.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(d=>{const f=d.cueTime+n;typeof f!="number"||et.isNaN(f)||f<0||!(f<1/0)||!d.frames||!d.frames.length||d.frames.forEach(h=>{const g=new i(f,f,h.value||h.url||h.data||"");g.frame=h,g.value=h,yXe(g),s.addCue(g)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let d=0;d<a.length;d++)a[d]&&o.push(a[d]);const l=o.reduce((d,f)=>{const h=d[f.startTime]||[];return h.push(f),d[f.startTime]=h,d},{}),u=Object.keys(l).sort((d,f)=>Number(d)-Number(f));u.forEach((d,f)=>{const h=l[d],g=isFinite(r)?r:d,v=Number(u[f+1])||g;h.forEach(p=>{p.endTime=v})})},bXe={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},xXe=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),wXe=({inbandTextTracks:t,dateRanges:e})=>{const n=t.metadataTrack_;if(!n)return;const r=et.WebKitDataCue||et.VTTCue;e.forEach(i=>{for(const s of Object.keys(i)){if(xXe.has(s))continue;const a=new r(i.startTime,i.endTime,"");a.id=i.id,a.type="com.apple.quicktime.HLS",a.value={key:bXe[s],data:i[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(a)}i.processDateRange()})},Sz=(t,e,n)=>{t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,Mt.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},C2=function(t,e,n){let r,i;if(n&&n.cues)for(r=n.cues.length;r--;)i=n.cues[r],i.startTime>=t&&i.endTime<=e&&n.removeCue(i)},SXe=function(t){const e=t.cues;if(!e)return;const n={};for(let r=e.length-1;r>=0;r--){const i=e[r],s=`${i.startTime}-${i.endTime}-${i.text}`;n[s]?t.removeCue(i):n[s]=i}},TXe=(t,e,n)=>{if(typeof e>"u"||e===null||!t.length)return[];const r=Math.ceil((e-n+3)*J0.ONE_SECOND_IN_TS);let i;for(i=0;i<t.length&&!(t[i].pts>r);i++);return t.slice(i)},CXe=(t,e,n)=>{if(!e.length)return t;if(n)return e.slice();const r=e[0].pts;let i=0;for(i;i<t.length&&!(t[i].pts>=r);i++);return t.slice(0,i).concat(e)},EXe=(t,e,n,r)=>{const i=Math.ceil((e-r)*J0.ONE_SECOND_IN_TS),s=Math.ceil((n-r)*J0.ONE_SECOND_IN_TS),a=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=s););if(o===-1)return a;let l=o+1;for(;l--&&!(t[l].pts<=i););return l=Math.max(l,0),a.splice(l,o-l+1),a},AXe=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const n=Object.keys(t).sort(),r=Object.keys(e).sort();if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(s!==r[i]||t[s]!==e[s])return!1}return!0},PXe=function(t,e,n){e=e||[];const r=[];let i=0;for(let s=0;s<e.length;s++){const a=e[s];if(t===a.timeline&&(r.push(s),i+=a.duration,i>n))return s}return r.length===0?0:r[r.length-1]},j_=1,kXe=500,Tz=t=>typeof t=="number"&&isFinite(t),Pw=1/60,DXe=(t,e,n)=>t!=="main"||!e||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,IXe=(t,e,n)=>{let r=e-Ua.BACK_BUFFER_LENGTH;t.length&&(r=Math.max(r,t.start(0)));const i=e-n;return Math.min(i,r)},Pg=t=>{const{startOfSegment:e,duration:n,segment:r,part:i,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:l,partIndex:u,timeline:d}=t,f=o.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=` with independent ${t.independent}`);const g=typeof u=="number",v=t.segment.uri?"segment":"pre-segment",p=g?kie({preloadSegment:r})-1:0;return`${v} [${s+l}/${s+f}]`+(g?` part [${u}/${p}]`:"")+` segment start/end [${r.start} => ${r.end}]`+(g?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${n}] timeline [${d}] selected by [${h}] playlist [${a}]`},Cz=t=>`${t}TimingInfo`,RXe=({segmentTimeline:t,currentTimeline:e,startOfSegment:n,buffered:r,overrideCheck:i})=>!i&&t===e?null:t<e?n:r.length?r.end(r.length-1):n,lR=({timelineChangeController:t,currentTimeline:e,segmentTimeline:n,loaderType:r,audioDisabled:i})=>{if(e===n)return!1;if(r==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==n}if(r==="main"&&i){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===n)}return!1},OXe=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),n=t.pendingTimelineChange({type:"main"}),r=e&&n,i=r&&e.to!==n.to;return!!(r&&e.from!==-1&&n.from!==-1&&i)},MXe=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),n=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&n&&e.to<n.to},Ih=t=>{const e=t.pendingSegment_;if(!e)return;if(lR({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&OXe(t.timelineChangeController_)){if(MXe(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}t.timelineChangeController_.trigger("fixBadTimelineChange")}},LXe=t=>{let e=0;return["video","audio"].forEach(function(n){const r=t[`${n}TimingInfo`];if(!r)return;const{start:i,end:s}=r;let a;typeof i=="bigint"||typeof s=="bigint"?a=et.BigInt(s)-et.BigInt(i):typeof i=="number"&&typeof s=="number"&&(a=s-i),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},Ez=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+_d:!1,$Xe=(t,e)=>{if(e!=="hls")return null;const n=LXe({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!n)return null;const r=t.playlist.targetDuration,i=Ez({segmentDuration:n,maxDuration:r*2}),s=Ez({segmentDuration:n,maxDuration:r}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${n} when the reported duration is ${t.duration} and the target duration is ${r}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||s?{severity:i?"warn":"info",message:a}:null},j0=({type:t,segment:e})=>{if(!e)return;const n=!!(e.key||e.map&&e.map.ke),r=!!(e.map&&!e.map.bytes),i=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:i,duration:e.duration,isEncrypted:n,isMediaInitialization:r}};class uR extends Mt.EventTarget{constructor(e,n={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Qu(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(r){r!==this.state_&&(this.logger_(`${this.state_} -> ${r}`),this.state_=r,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ih(this)}),this.sourceUpdater_.on("codecschange",r=>{this.trigger(qs({type:"codecschange"},r))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ih(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",r=>{this.trigger(qs({type:"timelinechange"},r)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Ih(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ih(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return CP.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&et.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,et.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&CP.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Ga();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:r,isMuxed:i}=e;if(r&&n&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,n=!1){if(!e)return null;const r=AC(e);let i=this.initSegments_[r];return n&&!i&&e.bytes&&(this.initSegments_[r]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,n=!1){if(!e)return null;const r=Xie(e);let i=this.keyCache_[r];this.cacheEncryptionKeys_&&n&&!i&&e.bytes&&(this.keyCache_[r]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(i||e).resolvedUri};return i&&(s.bytes=i.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,n={}){if(!e||this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const r=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(r&&(r.id?s=r.id:r.uri&&(s=r.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${SP(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-r.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=a,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,e)}pause(){this.checkBufferTimeout_&&(et.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&CP.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,n,r=()=>{},i=!1){if(n===1/0&&(n=this.duration_()),n<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&r()};(i||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,n,a)),(i||this.loaderType_==="main")&&(this.gopBuffer_=EXe(this.gopBuffer_,e,n,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,n,a));for(const o in this.inbandTextTracks_)C2(e,n,this.inbandTextTracks_[o]);C2(e,n,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&et.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=et.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&et.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=et.setTimeout(this.monitorBufferTick_.bind(this),kXe)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const n={segmentInfo:j0({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:n}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,n=this.playlist_,r=this.partIndex){if(!n||!this.mediaSource_)return!1;const i=typeof e=="number"&&n.segments[e],s=e+1===n.segments.length,a=!i||!i.parts||r+1===i.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),n=SP(e)||0,r=h$(e,this.currentTime_()),i=!this.hasPlayed_()&&r>=1,s=r>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||i||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=PXe(this.currentTimeline_,a,n),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const h=a[this.mediaIndex],g=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=h.end?h.end:n,h.parts&&h.parts[g+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=g+1):o.mediaIndex=this.mediaIndex+1}else{let h,g,v;const p=this.fetchAtBuffer_?n:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${p}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${n}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const _=this.getSyncInfoFromMediaSequenceSync_(p);if(!_){const S="No sync info found while using media sequence sync";return this.error({message:S,metadata:{errorType:Mt.Error.StreamingFailedToSelectNextSegment,error:new Error(S)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${_.start} --> ${_.end})`),h=_.segmentIndex,g=_.partIndex,v=_.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const _=El.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:p,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});h=_.segmentIndex,g=_.partIndex,v=_.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${p}`:`currentTime ${p}`,o.mediaIndex=h,o.startOfSegment=v,o.partIndex=g,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const l=a[o.mediaIndex];let u=l&&typeof o.partIndex=="number"&&l.parts&&l.parts[o.partIndex];if(!l||typeof o.partIndex=="number"&&!u)return null;typeof o.partIndex!="number"&&l.parts&&(o.partIndex=0,u=l.parts[0]);const d=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!r&&u&&!d&&!u.independent)if(o.partIndex===0){const h=a[o.mediaIndex-1],g=h.parts&&h.parts.length&&h.parts[h.parts.length-1];g&&g.independent&&(o.mediaIndex-=1,o.partIndex=h.parts.length-1,o.independent="previous segment")}else l.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const f=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&f&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const n=Math.max(e,this.mediaSequenceSync_.start);e!==n&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${n}`);const r=this.mediaSequenceSync_.getSyncInfoForTime(n);if(!r)return null;if(!r.isAppended)return r;const i=this.mediaSequenceSync_.getSyncInfoForTime(r.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:n,playlist:r,mediaIndex:i,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:l,getMediaInfoForTime:u}=e,d=r.segments[i],f=typeof o=="number"&&d.parts[o],h={requestId:"segment-loader-"+Math.random(),uri:f&&f.resolvedUri||d.resolvedUri,mediaIndex:i,partIndex:f?o:null,isSyncRequest:a,startOfSegment:s,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:d.timeline,duration:f&&f.duration||d.duration,segment:d,part:f,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:n},g=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:d.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:g});const v=SP(this.sourceUpdater_.audioBuffered());return typeof v=="number"&&(h.audioAppendStart=v-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=TXe(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return RXe(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),r=e.bandwidth,i=this.pendingSegment_.duration,s=El.estimateSegmentRequestTime(i,r,this.playlist_,e.bytesReceived),a=eqe(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=hXe({main:this.vhs_.playlists.main,currentTime:n,bandwidth:r,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const u=s-a-o.rebufferingImpact;let d=.5;a<=_d&&(d=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||u<d)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*Ua.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Pg(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(e,n){const{hasAudio:r,hasVideo:i}=n,s={segmentInfo:j0({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:r,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},AXe(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ih(this))))}handleTimingInfo_(e,n,r,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=Cz(n);s[a]=s[a]||{},s[a][r]=i,this.logger_(`timinginfo: ${n} - ${r} - ${i}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ih(this)}handleCaptions_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};n.forEach(a=>{s[a.stream]=s[a.stream]||{startTime:1/0,captions:[],endTime:0};const o=s[a.stream];o.startTime=Math.min(o.startTime,a.startTime+i),o.endTime=Math.max(o.endTime,a.endTime+i),o.captions.push(a)}),Object.keys(s).forEach(a=>{const{startTime:o,endTime:l,captions:u}=s[a],d=this.inbandTextTracks_;this.logger_(`adding cues from ${o} -> ${l} for ${a}`),gXe(d,this.vhs_.tech_,a),C2(o,l,d[a]),vXe({captionArray:u,inbandTextTracks:d,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,n,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,r));return}this.addMetadataToTextTrack(r,n,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(n=>n())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!lR({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!e||!n)return!1;const{hasAudio:r,hasVideo:i,isMuxed:s}=n;return!(i&&!e.videoTimingInfo||r&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||lR({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Ih(this),this.callQueue_.push(this.handleData_.bind(this,e,n));return}const r=this.pendingSegment_;if(this.setTimeMapping_(r.timeline),this.updateMediaSecondsLoaded_(r.part||r.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),r.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),r.isFmp4=e.isFmp4,r.timingInfo=r.timingInfo||{},r.isFmp4)this.trigger("fmp4"),r.timingInfo.start=r[Cz(n.type)].start;else{const i=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&i&&i.hasVideo;let a;s&&(a=r.videoTimingInfo.start),r.timingInfo.start=this.trueSegmentStart_({currentStart:r.timingInfo.start,playlist:r.playlist,mediaIndex:r.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:r.videoTimingInfo,audioTimingInfo:r.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(r,n.type),this.updateSourceBufferTimestampOffset_(r),r.isSyncRequest){this.updateTimingInfoEnd_(r),this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==r.mediaIndex||i.partIndex!==r.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}r.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(r,n)}}updateAppendInitSegmentStatus(e,n){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:n,map:r,playlist:i}){if(r){const s=AC(r);if(this.activeInitSegmentId_===s)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=s}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r},i){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+em(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+em(a).join(", "));const o=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,u=a.length?a.start(0):0,d=a.length?a.end(a.length-1):0;if(l-o<=j_&&d-u<=j_){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${r.byteLength}, audio buffer: ${em(s).join(", ")}, video buffer: ${em(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:n,bytes:r}));const h=this.currentTime_()-j_;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${h}`),this.remove(0,h,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${j_}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=et.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},j_*1e3)},!0)}handleAppendError_({segmentInfo:e,type:n,bytes:r},i){if(i){if(i.code===Uie){this.handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${n} append of ${r.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:Mt.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:i,bytes:s}){if(!s){const o=[i];let l=i.byteLength;r&&(o.unshift(r),l+=r.byteLength),s=mXe({bytes:l,segments:o})}const a={segmentInfo:j0({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:n,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:n,bytes:s}))}handleSegmentTimingInfo_(e,n,r){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,s=`${e}TimingInfo`;i[s]||(i[s]={}),i[s].transmuxerPrependedSeconds=r.prependedContentDuration||0,i[s].transmuxedPresentationStart=r.start.presentation,i[s].transmuxedDecodeStart=r.start.decode,i[s].transmuxedPresentationEnd=r.end.presentation,i[s].transmuxedDecodeEnd=r.end.decode,i[s].baseMediaDecodeTime=r.baseMediaDecodeTime}appendData_(e,n){const{type:r,data:i}=n;if(!i||!i.byteLength||r==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:r,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:s,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Ih(this),this.loadQueue_.push(()=>{const n=qs({},e,{forceTimestampOffset:!0});qs(e,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const n=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=r||i&&s;this.logger_(`Requesting
${dse(e.uri)}
${Pg(e)}`),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=cXe({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:l,stream:u})=>{this.logger_(`${Pg(e)} logged from transmuxer stream ${u} as a ${l}: ${o}`)},triggerSegmentEventFn:({type:o,segment:l,keyInfo:u,trackInfo:d,timingInfo:f})=>{const g={segmentInfo:j0({segment:l})};u&&(g.keyInfo=u),d&&(g.trackInfo=d),f&&(g.timingInfo=f),this.trigger({type:o,metadata:g})}})}trimBackBuffer_(e){const n=IXe(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(e){const n=e.segment,r=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:r?r.resolvedUri:n.resolvedUri,byterange:r?r.byterange:n.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:s},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===n.timeline&&(o.videoTimingInfo?a.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(a.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),n.key){const l=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(n.key),a.key.iv=l}return n.map&&(a.map=this.initSegmentForMap(n.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,n){if(this.pendingSegment_.byteLength=n.bytesReceived,e<Pw){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Pw}`);return}const r={bandwidthInfo:{from:this.bandwidth,to:n.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:r}),this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,n,r){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,r));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===xd.ABORTED)return;if(this.pause(),e.code===xd.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,n.stats),i.endOfAllRequests=n.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=CXe(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const n=this.syncController_.mappingForTimeline(e);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:n,mediaIndex:r,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}){if(typeof e<"u")return e;if(!a)return l.start;const u=n.segments[r-1];return r===0||!u||typeof u.start>"u"||u.end!==i+s?i:o.start}waitForAppendsToComplete_(e){const n=this.getCurrentMediaInfo_(e);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:r,hasVideo:i,isMuxed:s}=n,a=this.loaderType_==="main"&&i,o=!this.audioDisabled_&&r&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const n=DXe(this.loaderType_,this.getCurrentMediaInfo_(),e);return n?(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:n,timingInfo:r}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:r.start:r.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const n=this.getMediaInfo_(),i=this.loaderType_==="main"&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=typeof i.end=="number"?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:j0({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=$Xe(e,this.sourceType_);if(n&&(n.severity==="warn"?Mt.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Pg(e)}`);return}this.logger_(`Appended ${Pg(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const r=e.segment,i=e.part,s=r.end&&this.currentTime_()-r.end>e.playlist.targetDuration*3,a=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${Pg(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Pw){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Pw}`);return}const n=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(i-n)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const n=e.segment,r=n.start,i=n.end;if(!Tz(r)||!Tz(i))return;C2(r,i,this.segmentMetadataTrack_);const s=et.WebKitDataCue||et.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:r,end:i},o=JSON.stringify(a),l=new s(r,i,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}}function Tf(){}const fse=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},NXe=["video","audio"],cR=(t,e)=>{const n=e[`${t}Buffer`];return n&&n.updating||e.queuePending[t]},FXe=(t,e)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.type==="mediaSource")return null;if(r.type===t)return n}return null},wv=(t,e)=>{if(e.queue.length===0)return;let n=0,r=e.queue[n];if(r.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),r.action(e),r.doneFn&&r.doneFn(),wv("audio",e),wv("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||cR(t,e))){if(r.type!==t){if(n=FXe(t,e.queue),n===null)return;r=e.queue[n]}if(e.queue.splice(n,1),e.queuePending[t]=r,r.action(t,e),!r.doneFn){e.queuePending[t]=null,wv(t,e);return}}},hse=(t,e)=>{const n=e[`${t}Buffer`],r=fse(t);n&&(n.removeEventListener("updateend",e[`on${r}UpdateEnd_`]),n.removeEventListener("error",e[`on${r}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},hd=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,Wl={appendBuffer:(t,e,n)=>(r,i)=>{const s=i[`${r}Buffer`];if(hd(i.mediaSource,s)){i.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${r}Buffer`);try{s.appendBuffer(t)}catch(a){i.logger_(`Error with code ${a.code} `+(a.code===Uie?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${r}Buffer`),i.queuePending[r]=null,n(a)}}},remove:(t,e)=>(n,r)=>{const i=r[`${n}Buffer`];if(hd(r.mediaSource,i)){r.logger_(`Removing ${t} to ${e} from ${n}Buffer`);try{i.remove(t,e)}catch{r.logger_(`Remove ${t} to ${e} from ${n}Buffer failed`)}}},timestampOffset:t=>(e,n)=>{const r=n[`${e}Buffer`];hd(n.mediaSource,r)&&(n.logger_(`Setting ${e}timestampOffset to ${t}`),r.timestampOffset=t)},callback:t=>(e,n)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(n){Mt.log.warn("Failed to call media source endOfStream",n)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(n){Mt.log.warn("Failed to set media source duration",n)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const n=e[`${t}Buffer`];if(hd(e.mediaSource,n)){e.logger_(`calling abort on ${t}Buffer`);try{n.abort()}catch(r){Mt.log.warn(`Failed to abort on ${t}Buffer`,r)}}},addSourceBuffer:(t,e)=>n=>{const r=fse(t),i=ry(e);n.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=n.mediaSource.addSourceBuffer(i);s.addEventListener("updateend",n[`on${r}UpdateEnd_`]),s.addEventListener("error",n[`on${r}Error_`]),n.codecs[t]=e,n[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const n=e[`${t}Buffer`];if(hse(t,e),!!hd(e.mediaSource,n)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(n)}catch(r){Mt.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,r)}}},changeType:t=>(e,n)=>{const r=n[`${e}Buffer`],i=ry(t);if(!hd(n.mediaSource,r))return;const s=t.substring(0,t.indexOf(".")),a=n.codecs[e];if(a.substring(0,a.indexOf("."))===s)return;const l={codecsChangeInfo:{from:a,to:t}};n.trigger({type:"codecschange",metadata:l}),n.logger_(`changing ${e}Buffer codec from ${a} to ${t}`);try{r.changeType(i),n.codecs[e]=t}catch(u){l.errorType=Mt.Error.StreamingCodecsChangeError,l.error=u,u.metadata=l,n.error_=u,n.trigger("error"),Mt.log.warn(`Failed to changeType on ${e}Buffer`,u)}}},ql=({type:t,sourceUpdater:e,action:n,doneFn:r,name:i})=>{e.queue.push({type:t,action:n,doneFn:r,name:i}),wv(t,e)},Az=(t,e)=>n=>{const r=e[`${t}Buffered`](),i=ZWe(r);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,i),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}wv(t,e)};class pse extends Mt.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>wv("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Qu("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=Az("video",this),this.onAudioUpdateEnd_=Az("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,n){ql({type:"mediaSource",sourceUpdater:this,action:Wl.addSourceBuffer(e,n),name:"addSourceBuffer"})}abort(e){ql({type:e,sourceUpdater:this,action:Wl.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){Mt.log.error("removeSourceBuffer is not supported!");return}ql({type:"mediaSource",sourceUpdater:this,action:Wl.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!Mt.browser.IS_FIREFOX&&et.MediaSource&&et.MediaSource.prototype&&typeof et.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return et.SourceBuffer&&et.SourceBuffer.prototype&&typeof et.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,n){if(!this.canChangeType()){Mt.log.error("changeType is not supported!");return}ql({type:e,sourceUpdater:this,action:Wl.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(n=>{const r=e[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,r);this.canChangeType()&&this.changeType(n,r)})}appendBuffer(e,n){const{segmentInfo:r,type:i,bytes:s}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,n]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=n;if(ql({type:i,sourceUpdater:this,action:Wl.appendBuffer(s,r||{mediaIndex:-1},a),doneFn:n,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return hd(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Ga()}videoBuffered(){return hd(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Ga()}buffered(){const e=hd(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=hd(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():JWe(this.audioBuffered(),this.videoBuffered())}setDuration(e,n=Tf){ql({type:"mediaSource",sourceUpdater:this,action:Wl.duration(e),name:"duration",doneFn:n})}endOfStream(e=null,n=Tf){typeof e!="string"&&(e=void 0),ql({type:"mediaSource",sourceUpdater:this,action:Wl.endOfStream(e),name:"endOfStream",doneFn:n})}removeAudio(e,n,r=Tf){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){r();return}ql({type:"audio",sourceUpdater:this,action:Wl.remove(e,n),doneFn:r,name:"remove"})}removeVideo(e,n,r=Tf){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){r();return}ql({type:"video",sourceUpdater:this,action:Wl.remove(e,n),doneFn:r,name:"remove"})}updating(){return!!(cR("audio",this)||cR("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(ql({type:"audio",sourceUpdater:this,action:Wl.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(ql({type:"video",sourceUpdater:this,action:Wl.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&ql({type:"audio",sourceUpdater:this,action:Wl.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&ql({type:"video",sourceUpdater:this,action:Wl.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),NXe.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>hse(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const Pz=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),BXe=t=>{const e=new Uint8Array(t);return Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")},kz=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class UXe extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class VXe extends uR{constructor(e,n={}){super(e,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Ga();const e=this.subtitlesTrack_.cues,n=e[0].startTime,r=e[e.length-1].startTime;return Ga([[n,r]])}initSegmentForMap(e,n=!1){if(!e)return null;const r=AC(e);let i=this.initSegments_[r];if(n&&!i&&e.bytes){const s=kz.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(kz,e.bytes.byteLength),this.initSegments_[r]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,n){C2(e,n,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,n,r){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===xd.TIMEOUT&&this.handleTimeout_(),e.code===xd.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_,s=r.mp4VttCues&&r.mp4VttCues.length;s&&(i.mp4VttCues=r.mp4VttCues),this.saveBandwidthRelatedStats_(i.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const a=i.segment;if(a.map&&(a.map.bytes=n.map.bytes),i.bytes=n.bytes,typeof et.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,n,r),()=>this.stopForError({message:"Error loading vtt.js"}));return}a.requested=!0;try{this.parseVTTCues_(i)}catch(o){this.stopForError({message:o.message,metadata:{errorType:Mt.Error.StreamingVttParserError,error:o}});return}if(s||this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,i.cues.forEach(o=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new et.VTTCue(o.startTime,o.endTime,o.text):o)}),SXe(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,n){const r=e&&e.type==="vtt",i=n&&n.type==="text";r&&i&&super.handleData_(e,n)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(r=>{const i=r.start+n,s=r.end+n,a=new et.VTTCue(i,s,r.cueText);r.settings&&r.settings.split(" ").forEach(o=>{const l=o.split(":"),u=l[0],d=l[1];a[u]=isNaN(d)?d:Number(d)}),e.cues.push(a)})}parseVTTCues_(e){let n,r=!1;if(typeof et.WebVTT!="function")throw new UXe;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues){this.parseMp4VttCues_(e);return}typeof et.TextDecoder=="function"?n=new et.TextDecoder("utf8"):(n=et.WebVTT.StringDecoder(),r=!0);const i=new et.WebVTT.Parser(et,et.vttjs,n);if(i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=a=>{e.timestampmap=a},i.onparsingerror=a=>{Mt.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;r&&(a=Pz(a)),i.parse(a)}let s=e.bytes;r&&(s=Pz(s)),i.parse(s),i.flush()}updateTimeMapping_(e,n,r){const i=e.segment;if(!n)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:s,LOCAL:a}=e.timestampmap,l=s/J0.ONE_SECOND_IN_TS-a+n.mapping;if(e.cues.forEach(u=>{const d=u.endTime-u.startTime,f=this.handleRollover_(u.startTime+l,n.time);u.startTime=Math.max(f,0),u.endTime=Math.max(f+d,0)}),!r.syncInfo){const u=e.cues[0].startTime,d=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(u,d-i.duration)}}}handleRollover_(e,n){if(n===null)return e;let r=e*J0.ONE_SECOND_IN_TS;const i=n*J0.ONE_SECOND_IN_TS;let s;for(i<r?s=-8589934592:s=8589934592;Math.abs(r-i)>4294967296;)r+=s;return r/J0.ONE_SECOND_IN_TS}}const zXe=function(t,e){const n=t.cues;for(let r=0;r<n.length;r++){const i=n[r];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},HXe=function(t,e,n=0){if(!t.segments)return;let r=n,i;for(let s=0;s<t.segments.length;s++){const a=t.segments[s];if(i||(i=zXe(e,r+a.duration/2)),i){if("cueIn"in a){i.endTime=r,i.adEndTime=r,r+=a.duration,i=null;continue}if(r<i.endTime){r+=a.duration;continue}i.endTime+=a.duration}else if("cueOut"in a&&(i=new et.VTTCue(r,r+a.duration,a.cueOut),i.adStartTime=r,i.adEndTime=r+parseFloat(a.cueOut),e.addCue(i)),"cueOutCont"in a){const[o,l]=a.cueOutCont.split("/").map(parseFloat);i=new et.VTTCue(r,r+a.duration,""),i.adStartTime=r-o,i.adEndTime=i.adStartTime+l,e.addCue(i)}r+=a.duration}};class Dz{constructor({start:e,end:n,segmentIndex:r,partIndex:i=null,appended:s=!1}){this.start_=e,this.end_=n,this.segmentIndex_=r,this.partIndex_=i,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class jXe{constructor(e,n=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=n}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class mse{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,n){const{mediaSequence:r,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(r,i),!!this.isReliable_)return this.updateStorage_(i,r,this.calculateBaseTime_(r,i,n))}getSyncInfoForTime(e){for(const{segmentSyncInfo:n,partsSyncInfo:r}of this.storage_.values())if(r.length){for(const i of r)if(i.isInRange(e))return i}else if(n.isInRange(e))return n;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,n,r){const i=new Map;let s=`
`,a=r,o=n;this.start_=a,e.forEach((l,u)=>{const d=this.storage_.get(o),f=a,h=f+l.duration,g=!!(d&&d.segmentSyncInfo&&d.segmentSyncInfo.isAppended),v=new Dz({start:f,end:h,appended:g,segmentIndex:u});l.syncInfo=v;let p=a;const _=(l.parts||[]).map((S,C)=>{const T=p,A=p+S.duration,P=!!(d&&d.partsSyncInfo&&d.partsSyncInfo[C]&&d.partsSyncInfo[C].isAppended),D=new Dz({start:T,end:A,appended:P,segmentIndex:u,partIndex:C});return p=A,s+=`Media Sequence: ${o}.${C} | Range: ${T} --> ${A} | Appended: ${P}
`,S.syncInfo=D,D});i.set(o,new jXe(v,_)),s+=`${dse(l.resolvedUri)} | Media Sequence: ${o} | Range: ${f} --> ${h} | Appended: ${g}
`,o++,a=h}),this.end_=a,this.storage_=i,this.diagnostics_=s}calculateBaseTime_(e,n,r){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const i=Math.min(...this.storage_.keys());if(e<i){const s=i-e;let a=this.storage_.get(i).segmentSyncInfo.start;for(let o=0;o<s;o++){const l=n[o];a-=l.duration}return a}return r}isReliablePlaylist_(e,n){return e!=null&&Array.isArray(n)&&n.length}}class Iz extends mse{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,n,r){if(!this.storage_.size){const i=this.parent_.getSyncInfoForMediaSequence(e);return i?i.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,n,r)}}const GXe=86400,EP=[{name:"VOD",run:(t,e,n,r,i)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,n,r,i,s)=>{const a=t.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(i);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,n,r,i)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=eR(e);i=i||0;for(let l=0;l<o.length;l++){const u=e.endList||i===0?l:o.length-(l+1),d=o[u],f=d.segment,h=t.timelineToDatetimeMappings[f.timeline];if(!h||!f.dateTimeObject)continue;let v=f.dateTimeObject.getTime()/1e3+h;if(f.parts&&typeof d.partIndex=="number")for(let _=0;_<d.partIndex;_++)v+=f.parts[_].duration;const p=Math.abs(i-v);if(a!==null&&(p===0||a<p))break;a=p,s={time:v,segmentIndex:d.segmentIndex,partIndex:d.partIndex}}return s}},{name:"Segment",run:(t,e,n,r,i)=>{let s=null,a=null;i=i||0;const o=eR(e);for(let l=0;l<o.length;l++){const u=e.endList||i===0?l:o.length-(l+1),d=o[u],f=d.segment,h=d.part&&d.part.start||f&&f.start;if(f.timeline===r&&typeof h<"u"){const g=Math.abs(i-h);if(a!==null&&a<g)break;(!s||a===null||a>=g)&&(a=g,s={time:h,segmentIndex:d.segmentIndex,partIndex:d.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,n,r,i)=>{let s=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const l=e.discontinuityStarts[o],u=e.discontinuitySequence+o+1,d=t.discontinuities[u];if(d){const f=Math.abs(i-d.time);if(a!==null&&a<f)break;(!s||a===null||a>=f)&&(a=f,s={time:d.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,n,r,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class WXe extends Mt.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const n=new mse,r=new Iz(n),i=new Iz(n);this.mediaSequenceStorage_={main:n,audio:r,vtt:i},this.logger_=Qu("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,n,r,i,s){if(n!==1/0)return EP.find(({name:l})=>l==="VOD").run(this,e,n);const a=this.runStrategies_(e,n,r,i,s);if(!a.length)return null;for(const o of a){const{syncPoint:l,strategy:u}=o,{segmentIndex:d,time:f}=l;if(d<0)continue;const h=e.segments[d],g=f,v=g+h.duration;if(this.logger_(`Strategy: ${u}. Current time: ${i}. selected segment: ${d}. Time: [${g} -> ${v}]}`),i>=g&&i<v)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(a,{key:"time",value:i})}getExpiredTime(e,n){if(!e||!e.segments)return null;const r=this.runStrategies_(e,n,e.discontinuitySequence,0);if(!r.length)return null;const i=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+db({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,n,r,i,s){const a=[];for(let o=0;o<EP.length;o++){const l=EP[o],u=l.run(this,e,n,r,i,s);u&&(u.strategy=l.name,a.push({strategy:l.name,syncPoint:u}))}return a}selectSyncPoint_(e,n){let r=e[0].syncPoint,i=Math.abs(e[0].syncPoint[n.key]-n.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[n.key]-n.value);o<i&&(i=o,r=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${n.key}: ${n.value}] chosen with strategy [${s}]: [time:${r.time}, segmentIndex:${r.segmentIndex}`+(typeof r.partIndex=="number"?`,partIndex:${r.partIndex}`:"")+"]"),r}saveExpiredSegmentInfo(e,n){const r=n.mediaSequence-e.mediaSequence;if(r>GXe){Mt.log.warn(`Not saving expired segment info. Media sequence gap ${r} is too large.`);return}for(let i=r-1;i>=0;i--){const s=e.segments[i];if(s&&typeof s.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+i,time:s.start},this.logger_(`playlist refresh sync: [time:${n.syncInfo.time}, mediaSequence: ${n.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const n=e.segments[0],r=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-r}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:n}){const r=this.calculateSegmentTimeMapping_(e,e.timingInfo,n),i=e.segment;r&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const s=i.dateTimeObject;i.discontinuity&&n&&s&&(this.timelineToDatetimeMappings[i.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,n,r){const i=e.segment,s=e.part;let a=this.timelines[e.timeline],o,l;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-n.start},r&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,l=n.end+a.mapping;else if(a)o=n.start+a.mapping,l=n.end+a.mapping;else return!1;return s&&(s.start=o,s.end=l),(!i.start||o<i.start)&&(i.start=o),i.end=l,!0}saveDiscontinuitySyncInfo_(e){const n=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let i=0;i<n.discontinuityStarts.length;i++){const s=n.discontinuityStarts[i],a=n.discontinuitySequence+i+1,o=s-e.mediaIndex,l=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>l){let u;o<0?u=r.start-db({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:s}):u=r.end+db({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class qXe extends Mt.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:n,to:r}){return typeof n=="number"&&typeof r=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:n,to:r}){if(typeof n=="number"&&typeof r=="number"){this.lastTimelineChanges_[e]={type:e,from:n,to:r},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:n,to:r}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const XXe=ese(tse(function(){var t=function(){function p(){this.listeners={}}var _=p.prototype;return _.on=function(C,T){this.listeners[C]||(this.listeners[C]=[]),this.listeners[C].push(T)},_.off=function(C,T){if(!this.listeners[C])return!1;var A=this.listeners[C].indexOf(T);return this.listeners[C]=this.listeners[C].slice(0),this.listeners[C].splice(A,1),A>-1},_.trigger=function(C){var T=this.listeners[C];if(T)if(arguments.length===2)for(var A=T.length,P=0;P<A;++P)T[P].call(this,arguments[1]);else for(var D=Array.prototype.slice.call(arguments,1),R=T.length,N=0;N<R;++N)T[N].apply(this,D)},_.dispose=function(){this.listeners={}},_.pipe=function(C){this.on("data",function(T){C.push(T)})},p}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(p){return p.subarray(0,p.byteLength-p[p.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const n=function(){const p=[[[],[],[],[],[]],[[],[],[],[],[]]],_=p[0],S=p[1],C=_[4],T=S[4];let A,P,D;const R=[],N=[];let U,Y,H,j,X,W;for(A=0;A<256;A++)N[(R[A]=A<<1^(A>>7)*283)^A]=A;for(P=D=0;!C[P];P^=U||1,D=N[D]||1)for(j=D^D<<1^D<<2^D<<3^D<<4,j=j>>8^j&255^99,C[P]=j,T[j]=P,H=R[Y=R[U=R[P]]],W=H*16843009^Y*65537^U*257^P*16843008,X=R[j]*257^j*16843008,A=0;A<4;A++)_[A][P]=X=X<<24^X>>>8,S[A][j]=W=W<<24^W>>>8;for(A=0;A<5;A++)_[A]=_[A].slice(0),S[A]=S[A].slice(0);return p};let r=null;class i{constructor(_){r||(r=n()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];let S,C,T;const A=this._tables[0][4],P=this._tables[1],D=_.length;let R=1;if(D!==4&&D!==6&&D!==8)throw new Error("Invalid aes key size");const N=_.slice(0),U=[];for(this._key=[N,U],S=D;S<4*D+28;S++)T=N[S-1],(S%D===0||D===8&&S%D===4)&&(T=A[T>>>24]<<24^A[T>>16&255]<<16^A[T>>8&255]<<8^A[T&255],S%D===0&&(T=T<<8^T>>>24^R<<24,R=R<<1^(R>>7)*283)),N[S]=N[S-D]^T;for(C=0;S;C++,S--)T=N[C&3?S:S-4],S<=4||C<4?U[C]=T:U[C]=P[0][A[T>>>24]]^P[1][A[T>>16&255]]^P[2][A[T>>8&255]]^P[3][A[T&255]]}decrypt(_,S,C,T,A,P){const D=this._key[1];let R=_^D[0],N=T^D[1],U=C^D[2],Y=S^D[3],H,j,X;const W=D.length/4-2;let F,te=4;const G=this._tables[1],K=G[0],ee=G[1],de=G[2],ue=G[3],me=G[4];for(F=0;F<W;F++)H=K[R>>>24]^ee[N>>16&255]^de[U>>8&255]^ue[Y&255]^D[te],j=K[N>>>24]^ee[U>>16&255]^de[Y>>8&255]^ue[R&255]^D[te+1],X=K[U>>>24]^ee[Y>>16&255]^de[R>>8&255]^ue[N&255]^D[te+2],Y=K[Y>>>24]^ee[R>>16&255]^de[N>>8&255]^ue[U&255]^D[te+3],te+=4,R=H,N=j,U=X;for(F=0;F<4;F++)A[(3&-F)+P]=me[R>>>24]<<24^me[N>>16&255]<<16^me[U>>8&255]<<8^me[Y&255]^D[te++],H=R,R=N,N=U,U=Y,Y=H}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(_){this.jobs.push(_),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(p){return p<<24|(p&65280)<<8|(p&16711680)>>8|p>>>24},o=function(p,_,S){const C=new Int32Array(p.buffer,p.byteOffset,p.byteLength>>2),T=new i(Array.prototype.slice.call(_)),A=new Uint8Array(p.byteLength),P=new Int32Array(A.buffer);let D,R,N,U,Y,H,j,X,W;for(D=S[0],R=S[1],N=S[2],U=S[3],W=0;W<C.length;W+=4)Y=a(C[W]),H=a(C[W+1]),j=a(C[W+2]),X=a(C[W+3]),T.decrypt(Y,H,j,X,P,W),P[W]=a(P[W]^D),P[W+1]=a(P[W+1]^R),P[W+2]=a(P[W+2]^N),P[W+3]=a(P[W+3]^U),D=Y,R=H,N=j,U=X;return A};class l{constructor(_,S,C,T){const A=l.STEP,P=new Int32Array(_.buffer),D=new Uint8Array(_.byteLength);let R=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(P.subarray(R,R+A),S,C,D)),R=A;R<P.length;R+=A)C=new Uint32Array([a(P[R-4]),a(P[R-3]),a(P[R-2]),a(P[R-1])]),this.asyncStream_.push(this.decryptChunk_(P.subarray(R,R+A),S,C,D));this.asyncStream_.push(function(){T(null,e(D))})}static get STEP(){return 32e3}decryptChunk_(_,S,C,T){return function(){const A=o(_,S,C);T.set(A,_.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},d;typeof window<"u"?d=window:typeof u<"u"?d=u:typeof self<"u"?d=self:d={};var f=d,h=function(_){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(_):_&&_.buffer instanceof ArrayBuffer},g=f.BigInt||Number;g("0x1"),g("0x100"),g("0x10000"),g("0x1000000"),g("0x100000000"),g("0x10000000000"),g("0x1000000000000"),g("0x100000000000000"),g("0x10000000000000000"),function(){var p=new Uint16Array([65484]),_=new Uint8Array(p.buffer,p.byteOffset,p.byteLength);return _[0]===255?"big":_[0]===204?"little":"unknown"}();const v=function(p){const _={};return Object.keys(p).forEach(S=>{const C=p[S];h(C)?_[S]={bytes:C.buffer,byteOffset:C.byteOffset,byteLength:C.byteLength}:_[S]=C}),_};self.onmessage=function(p){const _=p.data,S=new Uint8Array(_.encrypted.bytes,_.encrypted.byteOffset,_.encrypted.byteLength),C=new Uint32Array(_.key.bytes,_.key.byteOffset,_.key.byteLength/4),T=new Uint32Array(_.iv.bytes,_.iv.byteOffset,_.iv.byteLength/4);new l(S,C,T,function(A,P){self.postMessage(v({source:_.source,decrypted:P}),[P.buffer])})}}));var YXe=Jie(XXe);const KXe=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},gse=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},dR=(t,e)=>{e.activePlaylistLoader=t,t.load()},ZXe=(t,e)=>()=>{const{segmentLoaders:{[t]:n,main:r},mediaTypes:{[t]:i}}=e,s=i.activeTrack(),a=i.getActiveGroup(),o=i.activePlaylistLoader,l=i.lastGroup_;if(!(a&&l&&a.id===l.id)&&(i.lastGroup_=a,i.lastTrack_=s,gse(n,i),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&r.resetEverything();return}n.resyncLoader(),dR(a.playlistLoader,i)}},QXe=(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:r}}=e;r.lastGroup_=null,n.abort(),n.pause()},JXe=(t,e)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[t]:r,main:i},mediaTypes:{[t]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),l=s.activePlaylistLoader,u=s.lastTrack_;if(!(u&&a&&u.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,gse(r,s),!!o)){if(o.isMainPlaylist){if(!a||!u||a.id===u.id)return;const d=e.vhs.playlistController_,f=d.selectPlaylist();if(d.media()===f)return;s.logger_(`track change. Switching main audio from ${u.id} to ${a.id}`),n.pause(),i.resetEverything(),d.fastQualityChange_(f);return}if(t==="AUDIO"){if(!o.playlistLoader){i.setAudio(!0),i.resetEverything();return}r.setAudio(!0),i.setAudio(!1)}if(l===o.playlistLoader){dR(o.playlistLoader,s);return}r.track&&r.track(a),r.resetEverything(),dR(o.playlistLoader,s)}},PC={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:n},excludePlaylist:r}=e,i=n.activeTrack(),s=n.activeGroup(),a=(s.filter(l=>l.default)[0]||s[0]).id,o=n.tracks[a];if(i===o){r({error:{message:"Problem encountered loading the default audio track."}});return}Mt.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in n.tracks)n.tracks[l].enabled=n.tracks[l]===o;n.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:n}}=e;Mt.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}},Rz={AUDIO:(t,e,n)=>{if(!e)return;const{tech:r,requestOptions:i,segmentLoaders:{[t]:s}}=n;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,i),(!r.paused()||a.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),r.paused()||s.load()}),e.on("error",PC[t](t,n))},SUBTITLES:(t,e,n)=>{const{tech:r,requestOptions:i,segmentLoaders:{[t]:s},mediaTypes:{[t]:a}}=n;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,i),s.track(a.activeTrack()),(!r.paused()||o.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),r.paused()||s.load()}),e.on("error",PC[t](t,n))}},eYe={AUDIO:(t,e)=>{const{vhs:n,sourceType:r,segmentLoaders:{[t]:i},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:o,tracks:l,logger_:u}},mainPlaylistLoader:d}=e,f=Cx(d.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},f&&(a[t].main.default.playlists=d.main.playlists));for(const h in a[t]){o[h]||(o[h]=[]);for(const g in a[t][h]){let v=a[t][h][g],p;if(f?(u(`AUDIO group '${h}' label '${g}' is a main playlist`),v.isMainPlaylist=!0,p=null):r==="vhs-json"&&v.playlists?p=new Kg(v.playlists[0],n,s):v.resolvedUri?p=new Kg(v.resolvedUri,n,s):v.playlists&&r==="dash"?p=new aR(v.playlists[0],n,s,d):p=null,v=$i({id:g,playlistLoader:p},v),Rz[t](t,v.playlistLoader,e),o[h].push(v),typeof l[g]>"u"){const _=new Mt.AudioTrack({id:g,kind:KXe(v),enabled:!1,language:v.language,default:v.default,label:g});l[g]=_}}}i.on("error",PC[t](t,e))},SUBTITLES:(t,e)=>{const{tech:n,vhs:r,sourceType:i,segmentLoaders:{[t]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:l,tracks:u}},mainPlaylistLoader:d}=e;for(const f in o[t]){l[f]||(l[f]=[]);for(const h in o[t][f]){if(!r.options_.useForcedSubtitles&&o[t][f][h].forced)continue;let g=o[t][f][h],v;if(i==="hls")v=new Kg(g.resolvedUri,r,a);else if(i==="dash"){if(!g.playlists.filter(_=>_.excludeUntil!==1/0).length)return;v=new aR(g.playlists[0],r,a,d)}else i==="vhs-json"&&(v=new Kg(g.playlists?g.playlists[0]:g.resolvedUri,r,a));if(g=$i({id:h,playlistLoader:v},g),Rz[t](t,g.playlistLoader,e),l[f].push(g),typeof u[h]>"u"){const p=n.addRemoteTextTrack({id:h,kind:"subtitles",default:g.default&&g.autoselect,language:g.language,label:h},!1).track;u[h]=p}}}s.on("error",PC[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:n,main:{mediaGroups:r},mediaTypes:{[t]:{groups:i,tracks:s}}}=e;for(const a in r[t]){i[a]||(i[a]=[]);for(const o in r[t][a]){const l=r[t][a][o];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=n.options_.vhs&&n.options_.vhs.captionServices||{};let d={label:o,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[d.instreamId]&&(d=$i(d,u[d.instreamId])),d.default===void 0&&delete d.default,i[a].push($i({id:o},l)),typeof s[o]>"u"){const f=n.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;s[o]=f}}}}},vse=(t,e)=>{for(let n=0;n<t.length;n++)if(g$(e,t[n])||t[n].playlists&&vse(t[n].playlists,e))return!0;return!1},tYe=(t,e)=>n=>{const{mainPlaylistLoader:r,mediaTypes:{[t]:{groups:i}}}=e,s=r.media();if(!s)return null;let a=null;s.attributes[t]&&(a=i[s.attributes[t]]);const o=Object.keys(i);if(!a)if(t==="AUDIO"&&o.length>1&&Cx(e.main))for(let l=0;l<o.length;l++){const u=i[o[l]];if(vse(u,s)){a=u;break}}else i.main?a=i.main:o.length===1&&(a=i[o[0]]);return typeof n>"u"?a:n===null||!a?null:a.filter(l=>l.id===n.id)[0]||null},nYe={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].enabled)return n[r];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].mode==="showing"||n[r].mode==="hidden")return n[r];return null}},rYe=(t,{mediaTypes:e})=>()=>{const n=e[t].activeTrack();return n?e[t].activeGroup(n):null},iYe=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{eYe[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:n,tech:r,vhs:i,segmentLoaders:{["AUDIO"]:s,main:a}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=tYe(u,t),e[u].activeTrack=nYe[u](u,t),e[u].onGroupChanged=ZXe(u,t),e[u].onGroupChanging=QXe(u,t),e[u].onTrackChanged=JXe(u,t),e[u].getActiveGroup=rYe(u,t)});const o=e.AUDIO.activeGroup();if(o){const u=(o.filter(f=>f.default)[0]||o[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"})};r.audioTracks().addEventListener("change",l),r.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{r.audioTracks().removeEventListener("change",l),r.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(const u in e.AUDIO.tracks)r.audioTracks().addTrack(e.AUDIO.tracks[u])},sYe=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Tf,activeTrack:Tf,getActiveGroup:Tf,onGroupChanged:Tf,onTrackChanged:Tf,lastTrack_:null,logger_:Qu(`MediaGroups[${e}]`)}}),t};class Oz{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Tl(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(n=>[n.ID,n])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class aYe extends Mt.EventTarget{constructor(e,n){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new Oz,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Qu("Content Steering"),this.xhr_=e,this.getBandwidth_=n}assignTagProperties(e,n){this.manifestType_=n.serverUri?"HLS":"DASH";const r=n.serverUri||n.serverURL;if(!r){this.logger_(`steering manifest URL is ${r}, cannot request steering manifest.`),this.trigger("error");return}if(r.startsWith("data:")){this.decodeDataUriManifest_(r.substring(r.indexOf(",")+1));return}this.steeringManifest.reloadUri=Tl(e,r),this.defaultPathway=n.pathwayId||n.defaultServiceLocation,this.queryBeforeStart=n.queryBeforeStart,this.proxyServerUrl_=n.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const n=this.steeringManifest.reloadUri;if(!n)return;const r=e?n:this.getRequestURI(n);if(!r){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const i={contentSteeringInfo:{uri:r}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:r,requestType:"content-steering-manifest"},(s,a)=>{if(s){if(a.status===410){this.logger_(`manifest request 410 ${s}.`),this.logger_(`There will be no more content steering requests to ${r} this session.`),this.excludedSteeringManifestURLs.add(r);return}if(a.status===429){const u=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${s}.`),this.logger_(`content steering will retry in ${u} seconds.`),this.startTTLTimeout_(parseInt(u,10));return}this.logger_(`manifest failed to load ${s}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:i});let o;try{o=JSON.parse(this.request_.responseText)}catch(u){const d={errorType:Mt.Error.StreamingContentSteeringParserError,error:u};this.trigger({type:"error",metadata:d})}this.assignSteeringProperties_(o);const l={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const n=new et.URL(e),r=new et.URL(this.proxyServerUrl_);return r.searchParams.set("url",encodeURI(n.toString())),this.setSteeringParams_(r.toString())}decodeDataUriManifest_(e){const n=JSON.parse(et.atob(e));this.assignSteeringProperties_(n)}setSteeringParams_(e){const n=new et.URL(e),r=this.getPathway(),i=this.getBandwidth_();if(r){const s=`_${this.manifestType_}_pathway`;n.searchParams.set(s,r)}if(i){const s=`_${this.manifestType_}_throughput`;n.searchParams.set(s,i)}return n.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const r=(i=>{for(const s of i)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==r&&(this.currentPathway=r,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const n=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!n(i))return i}const r=this.setSteeringParams_(e);return n(r)?null:r}startTTLTimeout_(e=this.steeringManifest.ttl){const n=e*1e3;this.ttlTimeout_=et.setTimeout(()=>{this.requestSteeringManifest()},n)}clearTTLTimeout_(){et.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new Oz}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,n){return!n&&this.steeringManifest.reloadUri||n&&(Tl(e,n.serverURL)!==this.steeringManifest.reloadUri||n.defaultServiceLocation!==this.defaultPathway||n.queryBeforeStart!==this.queryBeforeStart||n.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const oYe=(t,e)=>{let n=null;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{t.apply(null,r)},e)}},lYe=10;let Rh;const uYe=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],cYe=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},dYe=function({currentPlaylist:t,buffered:e,currentTime:n,nextPlaylist:r,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:l}){if(!r)return Mt.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${t&&t.id||"null"} -> ${r.id}`;if(!t)return l(`${u} as current playlist is not set`),!0;if(r.id===t.id)return!1;const d=!!Yg(e,n).length;if(!t.endList)return!d&&typeof t.partTargetDuration=="number"?(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${u} as current playlist is live`),!0);const f=h$(e,n),h=o?Ua.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Ua.MAX_BUFFER_LOW_WATER_LINE;if(a<h)return l(`${u} as duration < max low water line (${a} < ${h})`),!0;const g=r.attributes.BANDWIDTH,v=t.attributes.BANDWIDTH;if(g<v&&(!o||f<s)){let p=`${u} as next bandwidth < current bandwidth (${g} < ${v})`;return o&&(p+=` and forwardBuffer < bufferHighWaterLine (${f} < ${s})`),l(p),!0}if((!o||g>v)&&f>=i){let p=`${u} as forwardBuffer >= bufferLowWaterLine (${f} >= ${i})`;return o&&(p+=` and next bandwidth > current bandwidth (${g} > ${v})`),l(p),!0}return l(`not ${u} as no switching criteria met`),!1};class fYe extends Mt.EventTarget{constructor(e){super(),this.fastQualityChange_=oYe(this.fastQualityChange_.bind(this),100);const{src:n,withCredentials:r,tech:i,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:d,cacheEncryptionKeys:f,bufferBasedABR:h,leastPixelDiffSelector:g,captionServices:v,experimentalUseMMS:p}=e;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:_}=e;(_===null||typeof _>"u")&&(_=1/0),Rh=a,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!g,this.withCredentials=r,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=d,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=_,this.enableLowInitialPlaylist=u,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:r,maxPlaylistRetries:_,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=sYe(),p&&et.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new et.ManagedMediaSource,this.usingManagedMediaSource_=!0,Mt.log("Using ManagedMediaSource")):et.MediaSource&&(this.mediaSource=new et.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=Ga(),this.hasPlayed_=!1,this.syncController_=new WXe(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.segmentMetadataTrack_.mode="hidden",this.decrypter_=new YXe,this.sourceUpdater_=new pse(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new qXe,this.keyStatusMap_=new Map;const S={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:v,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:f,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new aR(n,this.vhs_,$i(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Kg(n,this.vhs_,$i(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new uR($i(S,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new uR($i(S,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new VXe($i(S,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((A,P)=>{function D(){i.off("vttjserror",R),A()}function R(){i.off("vttjsloaded",D),P()}i.one("vttjsloaded",D),i.one("vttjserror",R),i.addWebVttScript_()})}),e);const C=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new aYe(this.vhs_.xhr,C),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),uYe.forEach(A=>{this[A+"_"]=cYe.bind(this,A)}),this.logger_=Qu("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const T=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(T,()=>{const A=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-A,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return e===-1||n===-1?-1:e+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)}switchMedia_(e,n,r){const i=this.media(),s=i&&(i.id||i.uri),a=e&&(e.id||e.uri);if(s&&s!==a){this.logger_(`switch media ${s} -> ${a} from ${n}`);const o={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:n};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${n}`})}this.mainPlaylistLoader_.media(e,r)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const n=this.mediaTypes_[e],r=n?n.activeGroup():null,i=this.contentSteeringController_.getPathway();if(r&&i){const a=(r.length?r[0].playlists:r.playlists).filter(o=>o.attributes.serviceLocation===i);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=et.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(et.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;const r=e.mediaGroups.AUDIO,i=Object.keys(r);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=r.main||i.length&&r[i[0]];for(const l in o)if(o[l].default){s={label:l};break}}if(!s)return n;const a=[];for(const o in r)if(r[o][s.label]){const l=r[o][s.label];if(l.playlists&&l.playlists.length)a.push.apply(a,l.playlists);else if(l.uri)a.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const d=e.playlists[u];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===o&&a.push(d)}}return a.length?a:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const n=this.mainPlaylistLoader_.media(),r=n.targetDuration*1.5*1e3;tR(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,n.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.mainSegmentLoader_.load()),iYe({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),n),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let n=this.mainPlaylistLoader_.media();if(!n){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let r;if(this.enableLowInitialPlaylist&&(r=this.selectInitialPlaylist()),r||(r=this.selectPlaylist()),!r||!this.shouldSwitchToMedia_(r)||(this.initialMedia_=r,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;n=this.initialMedia_}this.handleUpdatedMediaPlaylist(n)}),this.mainPlaylistLoader_.on("error",()=>{const n=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const n=this.mainPlaylistLoader_.media(),r=n.targetDuration*1.5*1e3;tR(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const n=this.mainPlaylistLoader_.media();if(n.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(n)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(n=>{this.mainPlaylistLoader_.on(n,r=>{this.player_.trigger(qs({},r))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,n){const r=e.mediaGroups||{};let i=!0;const s=Object.keys(r.AUDIO);for(const a in r.AUDIO)for(const o in r.AUDIO[a])r.AUDIO[a][o].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Rh.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(r.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),i=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return dYe({buffered:a,currentTime:r,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const r=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const r=this.audioSegmentLoader_.pendingSegment_;if(!r||!r.segment||!r.segment.syncInfo)return;const i=r.segment.syncInfo.end+.01;this.tech_.setCurrentTime(i)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",r=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:lYe}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const r=this.getCodecsOrExclude_();r&&this.sourceUpdater_.addOrChangeSourceBuffers(r)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(r=>{this.mainSegmentLoader_.on(r,i=>{this.player_.trigger(qs({},i))}),this.audioSegmentLoader_.on(r,i=>{this.player_.trigger(qs({},i))}),this.subtitleSegmentLoader_.on(r,i=>{this.player_.trigger(qs({},i))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const n=this.seekable();if(!n.length)return!1;const r=n.end(0);let i=r;if(e.start){const s=e.start.timeOffset;s<0?i=Math.max(r+s,n.start(0)):i=Math.min(r,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const n=this.duration();e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const r=this.syncController_.getExpiredTime(e,this.duration());if(r===null)return!1;const i=Rh.Playlist.playlistEnd(e,r),s=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return i-s<=bd;const o=a.end(a.length-1);return o-s<=bd&&i-o<=bd}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:r}){if(e=e||this.mainPlaylistLoader_.media(),r=r||n.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,s=i.filter(NA),a=s.length===1&&s[0]===e;if(i.length===1&&r!==1/0)return Mt.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const v=this.pathwayAttribute_(e),p=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(v),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(v)},p);return}let g=!1;i.forEach(v=>{if(v===e)return;const p=v.excludeUntil;typeof p<"u"&&p!==1/0&&(g=!0,delete v.excludeUntil)}),g&&(Mt.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+r*1e3,e.excludeUntil=o,n.reason&&(e.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=n.internal?this.logger_:Mt.log.warn,d=n.message?" "+n.message:"";u(`${n.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${d} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const f=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=f;return this.switchMedia_(l,"exclude",a||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,n){const r=[],i=e==="all";(i||e==="main")&&r.push(this.mainPlaylistLoader_);const s=[];(i||e==="audio")&&s.push("AUDIO"),(i||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&r.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&r.push(o)}),r.forEach(a=>n.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const n=Yg(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Rh.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,n){const r=e.media();if(!r)return null;const i=this.syncController_.getMediaSequenceSync(n);if(i&&i.isReliable){const o=i.start,l=i.end;if(!isFinite(o)||!isFinite(l))return null;const u=Rh.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r),d=Math.max(o,l-u);return Ga([[o,d]])}const s=this.syncController_.getExpiredTime(r,this.duration());if(s===null)return null;const a=Rh.Playlist.seekable(r,s,Rh.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r));return a.length?a:null}computeFinalSeekable_(e,n){if(!n)return e;const r=e.start(0),i=e.end(0),s=n.start(0),a=n.end(0);return s>i||r>a?e:Ga([[Math.max(r,s),Math.min(i,a)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let n;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!n))return;const r=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,n),!this.seekable_||r&&r.length&&this.seekable_.length&&r.start(0)===this.seekable_.start(0)&&r.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${Aie(this.seekable_)}]`);const i={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:i}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const n=this.tech_.buffered();let r=Rh.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const n=this.mediaTypes_[e].groups;for(const r in n)n[r].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),r=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!r)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const r=fb(this.main(),n),i={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=r.video||e.main.videoCodec||IHe),e.main.isMuxed&&(i.video+=`,${r.audio||e.main.audioCodec||gV}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(i.audio=r.audio||e.main.audioCodec||e.audio.audioCodec||gV,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(u,d)=>u?ob(d,this.usingManagedMediaSource_):uP(d),o={};let l;if(["video","audio"].forEach(function(u){if(i.hasOwnProperty(u)&&!a(e[u].isFmp4,i[u])){const d=e[u].isFmp4?"browser":"muxer";o[d]=o[d]||[],o[d].push(i[u]),u==="audio"&&(l=d)}}),s&&l&&n.attributes.AUDIO){const u=n.attributes.AUDIO;this.main().playlists.forEach(d=>{(d.attributes&&d.attributes.AUDIO)===u&&d!==n&&(d.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(o).length){const u=Object.keys(o).reduce((d,f)=>(d&&(d+=", "),d+=`${f} does not support codec(s): "${o[f].join(",")}"`,d),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(d=>{const f=(cd(this.sourceUpdater_.codecs[d]||"")[0]||{}).type,h=(cd(i[d]||"")[0]||{}).type;f&&h&&f.toLowerCase()!==h.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[d]}" -> "${i[d]}"`)}),u.length){this.excludePlaylist({playlistToExclude:n,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const n=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const e=this.main().playlists,n=[];Object.keys(e).forEach(r=>{const i=e[r];if(n.indexOf(i.id)!==-1)return;n.push(i.id);const s=fb(this.main,i),a=[];s.audio&&!uP(s.audio)&&!ob(s.audio,this.usingManagedMediaSource_)&&a.push(`audio codec ${s.audio}`),s.video&&!uP(s.video)&&!ob(s.video,this.usingManagedMediaSource_)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const n=[],r=this.main().playlists,i=g1(cd(e)),s=mz(i),a=i.video&&cd(i.video)[0]||null,o=i.audio&&cd(i.audio)[0]||null;Object.keys(r).forEach(l=>{const u=r[l];if(n.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;n.push(u.id);const d=[],f=fb(this.mainPlaylistLoader_.main,u),h=mz(f);if(!(!f.audio&&!f.video)){if(h!==s&&d.push(`codec count "${h}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const g=f.video&&cd(f.video)[0]||null,v=f.audio&&cd(f.audio)[0]||null;g&&a&&g.type.toLowerCase()!==a.type.toLowerCase()&&d.push(`video codec "${g.type}" !== "${a.type}"`),v&&o&&v.type.toLowerCase()!==o.type.toLowerCase()&&d.push(`audio codec "${v.type}" !== "${o.type}"`)}d.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${d.join(" && ")}`))}})}updateAdCues_(e){let n=0;const r=this.seekable();r.length&&(n=r.start(0)),HXe(e,this.cueTagsTrack_,n)}goalBufferLength(){const e=this.tech_.currentTime(),n=Ua.GOAL_BUFFER_LENGTH,r=Ua.GOAL_BUFFER_LENGTH_RATE,i=Math.max(n,Ua.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*r,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),n=Ua.BUFFER_LOW_WATER_LINE,r=Ua.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(n,Ua.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(n,Ua.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*r,this.bufferBasedABR?s:i)}bufferHighWaterLine(){return Ua.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){Sz(this.inbandTextTracks_,"com.apple.streaming",this.tech_),wXe({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,n,r){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();Sz(this.inbandTextTracks_,e,this.tech_),_Xe({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:i,videoDuration:r})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const n of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(n));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(n=>{this.contentSteeringController_.on(n,r=>{this.trigger(qs({},r))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const n=this.main();(this.contentSteeringController_.didDASHTagChange(n.uri,n.contentSteering)||(()=>{const s=this.contentSteeringController_.getAvailablePathways(),a=[];for(const o of n.playlists){const l=o.attributes.serviceLocation;if(l&&(a.push(l),!s.has(l)))return!0}return!!(!a.length&&s.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const r=this.main().playlists,i=new Set;let s=!1;Object.keys(r).forEach(a=>{const o=r[a],l=this.pathwayAttribute_(o),u=l&&e!==l;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!u&&(delete o.excludeUntil,delete o.lastExcludeReason_,s=!0);const f=!o.excludeUntil&&o.excludeUntil!==1/0;!i.has(o.id)&&u&&f&&(i.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const o=this.mediaTypes_[a];if(o.activePlaylistLoader){const l=o.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const n=this.main().playlists,r=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(r&&r.size||i&&i.size){for(const[a,o]of r.entries())i.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(o),this.contentSteeringController_.excludePathway(a));for(const[a,o]of i.entries()){const l=r.get(a);if(!l){n.filter(d=>d.attributes["PATHWAY-ID"]===o["BASE-ID"]).forEach(d=>{this.mainPlaylistLoader_.addClonePathway(o,d)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(l,o)||(this.mainPlaylistLoader_.updateOrDeleteClone(o,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,n){if(e["BASE-ID"]!==n["BASE-ID"]||e.ID!==n.ID||e["URI-REPLACEMENT"].HOST!==n["URI-REPLACEMENT"].HOST)return!1;const r=e["URI-REPLACEMENT"].PARAMS,i=n["URI-REPLACEMENT"].PARAMS;for(const s in r)if(r[s]!==i[s])return!1;for(const s in i)if(r[s]!==i[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const n="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(r=>{const i=this.mainPlaylistLoader_.getKeyIdSet(r);!i||!i.size||i.forEach(s=>{const a="usable",o=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===a,l=r.lastExcludeReason_===n&&r.excludeUntil===1/0;o?o&&l&&(delete r.excludeUntil,delete r.lastExcludeReason_,this.logger_(`enabling playlist ${r.id} because key ID ${s} is ${a}`)):(r.excludeUntil!==1/0&&r.lastExcludeReason_!==n&&(r.excludeUntil=1/0,r.lastExcludeReason_=n,this.logger_(`excluding playlist ${r.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(r=>{const i=r&&r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.height<720,s=r.excludeUntil===1/0&&r.lastExcludeReason_===n;i&&s&&(delete r.excludeUntil,Mt.log.warn(`enabling non-HD playlist ${r.id} because all playlists were excluded due to ${n} key IDs`))})}addKeyStatus_(e,n){const s=(typeof e=="string"?e:BXe(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${n}' with key ID ${s} added to the keyStatusMap`),this.keyStatusMap_.set(s,n)}updatePlaylistByKeyStatus(e,n){this.addKeyStatus_(e,n),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const hYe=(t,e,n)=>r=>{const i=t.main.playlists[e],s=m$(i),a=NA(i);if(typeof r>"u")return a;r?delete i.disabled:i.disabled=!0;const o={renditionInfo:{id:e,bandwidth:i.attributes.BANDWIDTH,resolution:i.attributes.RESOLUTION,codecs:i.attributes.CODECS},cause:"fast-quality"};return r!==a&&!s&&(r?(n(i),t.trigger({type:"renditionenabled",metadata:o})):t.trigger({type:"renditiondisabled",metadata:o})),r};class pYe{constructor(e,n,r){const{playlistController_:i}=e,s=i.fastQualityChange_.bind(i);if(n.attributes){const a=n.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=fb(i.main(),n),this.playlist=n,this.id=r,this.enabled=hYe(e.playlists,n.id,s)}}const mYe=function(t){t.representations=()=>{const e=t.playlistController_.main(),n=Cx(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return n?n.filter(r=>!m$(r)).map((r,i)=>new pYe(t,r,r.id)):[]}},Mz=["seeking","seeked","pause","playing","error"];class gYe extends Mt.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Qu("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),r=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],l={};o.forEach(d=>{l[d]={reset:()=>this.resetSegmentDownloads_(d),updateend:()=>this.checkSegmentDownloads_(d)},a[`${d}SegmentLoader_`].on("appendsdone",l[d].updateend),a[`${d}SegmentLoader_`].on("playlistupdate",l[d].reset),this.tech_.on(["seeked","seeking"],l[d].reset)});const u=d=>{["main","audio"].forEach(f=>{a[`${f}SegmentLoader_`][d]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(Mz,s),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(Mz,s),this.tech_.off("canplay",r),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(d=>{a[`${d}SegmentLoader_`].off("appendsdone",l[d].updateend),a[`${d}SegmentLoader_`].off("playlistupdate",l[d].reset),this.tech_.off(["seeked","seeking"],l[d].reset)}),this.checkCurrentTimeTimeout_&&et.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&et.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=et.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const n=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=n.buffered_()}checkSegmentDownloads_(e){const n=this.playlistController_,r=n[`${e}SegmentLoader_`],i=r.buffered_(),s=tqe(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,s){const a={bufferedRanges:i};n.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:r.playlist_&&r.playlist_.id,buffered:em(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&n.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===e&&(!n.length||e+bd>=n.end(n.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Ga([this.lastRecordedTime,e]));const r={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:r}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const n=this.seekable(),r=this.tech_.currentTime(),i=this.afterSeekableWindow_(n,r,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(i&&(s=n.end(n.length-1)),this.beforeSeekableWindow_(n,r)){const v=n.start(0);s=v+(v===n.end(0)?0:bd)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${r} with seekable range ${Aie(n)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const a=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),l=a.audioBuffer?a.audioBuffered():null,u=a.videoBuffer?a.videoBuffered():null,d=this.media(),f=d.partTargetDuration?d.partTargetDuration:(d.targetDuration-_d)*2,h=[l,u];for(let v=0;v<h.length;v++){if(!h[v])continue;if(h$(h[v],r)<f)return!1}const g=Ew(o,r);return g.length===0?!1:(s=g.start(0)+bd,this.logger_(`Buffered region starts (${g.start(0)})  just beyond seek point (${r}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),n=this.tech_.buffered(),r=Yg(n,e);if(r.length&&e+3<=r.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${r.start(0)} -> ${r.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,n)){const o=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${n}. Seeking to live point (seekable end) ${o}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const r=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=Ew(i,n);return a.length>0?(this.logger_(`Stopped at ${n} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(e,n,r,i=!1){if(!e.length)return!1;let s=e.end(e.length-1)+bd;const a=!r.endList,o=typeof r.partTargetDuration=="number";return a&&(o||i)&&(s=e.end(e.length-1)+r.targetDuration*3),n>s}beforeSeekableWindow_(e,n){return!!(e.length&&e.start(0)>0&&n<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:n,currentTime:r}){if(!e)return;let i;if(e.length&&n.length){const s=Yg(e,r-3),a=Yg(e,r),o=Yg(n,r);o.length&&!a.length&&s.length&&(i={start:s.end(0),end:o.end(0)})}else Ew(e,r).length||(i=this.gapFromVideoUnderflow_(e,r));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${r}`),!0):!1}skipTheGap_(e){const n=this.tech_.buffered(),r=this.tech_.currentTime(),i=Ew(n,r);if(this.resetTimeUpdate_(),i.length===0||r!==e)return;this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+_d);const s={gapInfo:{from:r,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,n){const r=QWe(e);for(let i=0;i<r.length;i++){const s=r.start(i),a=r.end(i);if(n-s<4&&n-s>2)return{start:s,end:a}}return null}}const vYe={errorInterval:30,getSource(t){const n=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(n)}},yse=function(t,e){let n=0,r=0;const i=$i(vYe,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){r&&t.currentTime(r)},a=function(d){d!=null&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(d),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-n<i.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){Mt.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),i.getSource.call(t,a)},l=function(){t.off("loadedmetadata",s),t.off("error",o),t.off("dispose",l)},u=function(d){l(),yse(t,d)};t.on("error",o),t.on("dispose",l),t.reloadSourceOnError=u},yYe=function(t){yse(this,t)};var _se="3.17.2",_Ye="7.1.0",bYe="1.3.1",xYe="7.2.0",wYe="4.0.2";const Fs={PlaylistLoader:Kg,Playlist:El,utils:Aqe,STANDARD_PLAYLIST_SELECTOR:wz,INITIAL_PLAYLIST_SELECTOR:pXe,lastBandwidthSelector:wz,movingAverageBandwidthSelector:fXe,comparePlaylistBandwidth:y$,comparePlaylistResolution:dXe,xhr:Wie()};Object.keys(Ua).forEach(t=>{Object.defineProperty(Fs,t,{get(){return Mt.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),Ua[t]},set(e){if(Mt.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){Mt.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}Ua[t]=e}})});const bse="videojs-vhs",xse=function(t,e){const n=e.media();let r=-1;for(let i=0;i<t.length;i++)if(t[i].id===n.id){r=i;break}t.selectedIndex_=r,t.trigger({selectedIndex:r,type:"change"})},SYe=function(t,e){e.representations().forEach(n=>{t.addQualityLevel(n)}),xse(t,e.playlists)};Fs.canPlaySource=function(){return Mt.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const TYe=(t,e,n)=>{if(!t)return t;let r={};e&&e.attributes&&e.attributes.CODECS&&(r=g1(cd(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);const i=ry(r.video),s=ry(r.audio),a={};for(const o in t)a[o]={},s&&(a[o].audioContentType=s),i&&(a[o].videoContentType=i),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(a[o].url=t[o]);return $i(t,a)},CYe=(t,e)=>t.reduce((n,r)=>{if(!r.contentProtection)return n;const i=e.reduce((s,a)=>{const o=r.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(i).length&&n.push(i),n},[]),EYe=({player:t,sourceKeySystems:e,audioMedia:n,mainPlaylists:r})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const i=n?r.concat([n]):r,s=CYe(i,Object.keys(e)),a=[],o=[];return s.forEach(l=>{o.push(new Promise((u,d)=>{t.tech_.one("keysessioncreated",u)})),a.push(new Promise((u,d)=>{t.eme.initializeMediaKeys({keySystems:l},f=>{if(f){d(f);return}u()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},AYe=({player:t,sourceKeySystems:e,media:n,audioMedia:r})=>{const i=TYe(e,n,r);return i?(t.currentSource().keySystems=i,i&&!t.eme?(Mt.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},wse=()=>{if(!et.localStorage)return null;const t=et.localStorage.getItem(bse);if(!t)return null;try{return JSON.parse(t)}catch{return null}},PYe=t=>{if(!et.localStorage)return!1;let e=wse();e=e?$i(e,t):t;try{et.localStorage.setItem(bse,JSON.stringify(e))}catch{return!1}return e},kYe=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,Sse=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},Tse=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},Cse=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},Ese=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};Fs.supportsNativeHls=function(){if(!Cn||!Cn.createElement)return!1;const t=Cn.createElement("video");return Mt.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(n){return/maybe|probably/i.test(t.canPlayType(n))}):!1}();Fs.supportsNativeDash=function(){return!Cn||!Cn.createElement||!Mt.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Cn.createElement("video").canPlayType("application/dash+xml"))}();Fs.supportsTypeNatively=t=>t==="hls"?Fs.supportsNativeHls:t==="dash"?Fs.supportsNativeDash:!1;Fs.isSupported=function(){return Mt.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Fs.xhr.onRequest=function(t){Sse(Fs.xhr,t)};Fs.xhr.onResponse=function(t){Tse(Fs.xhr,t)};Fs.xhr.offRequest=function(t){Cse(Fs.xhr,t)};Fs.xhr.offResponse=function(t){Ese(Fs.xhr,t)};const DYe=Mt.getComponent("Component");class Ase extends DYe{constructor(e,n,r){if(super(n,r.vhs),typeof r.initialBandwidth=="number"&&(this.options_.bandwidth=r.initialBandwidth),this.logger_=Qu("VhsHandler"),n.options_&&n.options_.playerId){const i=Mt.getPlayer(n.options_.playerId);this.player_=i}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Cn,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const s=Cn.fullscreenElement||Cn.webkitFullscreenElement||Cn.mozFullScreenElement||Cn.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=$i(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.usePlayerObjectFit=this.options_.usePlayerObjectFit||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=typeof this.options_.useNetworkInformationApi<"u"?this.options_.useNetworkInformationApi:!0,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const r=wse();r&&r.bandwidth&&(this.options_.bandwidth=r.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),r&&r.throughput&&(this.options_.throughput=r.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Ua.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ua.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","usePlayerObjectFit","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(r=>{typeof this.source_[r]<"u"&&(this.options_[r]=this.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio,this.usePlayerObjectFit=this.options_.usePlayerObjectFit;const n=this.options_.customPixelRatio;typeof n=="number"&&n>=0&&(this.customPixelRatio=n)}setOptions(e={}){this.setOptions_(e)}src(e,n){if(!e)return;this.setOptions_(),this.options_.src=kYe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Fs,this.options_.sourceType=gne(n),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new fYe(this.options_);const r=$i({liveRangeSafeTimeDelta:bd},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new gYe(r),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=Mt.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const i=this.options_.bufferBasedABR?Fs.movingAverageBandwidthSelector(.55):Fs.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=Fs.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=et.navigator.connection||et.navigator.mozConnection||et.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const l=a.downlink*1e3*1e3;l>=o&&s>=o?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){Mt.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>em(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>em(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&PYe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{mYe(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=et.URL.createObjectURL(this.playlistController_.mediaSource),(Mt.browser.IS_ANY_SAFARI||Mt.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),EYe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=AYe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",r=>{this.playlistController_.updatePlaylistByKeyStatus(r.keyId,r.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=Mt.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{SYe(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{xse(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":_se,"mux.js":_Ye,"mpd-parser":bYe,"m3u8-parser":xYe,"aes-decrypter":wYe}}version(){return this.constructor.version()}canChangeType(){return pse.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&et.URL.revokeObjectURL&&(et.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,n){return Mqe({playlist:this.playlistController_.media(),time:e,callback:n})}seekToProgramTime(e,n,r=!0,i=2){return Zie({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=e=>{Sse(this.xhr,e)},this.xhr.onResponse=e=>{Tse(this.xhr,e)},this.xhr.offRequest=e=>{Cse(this.xhr,e)},this.xhr.offResponse=e=>{Ese(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],n=["gapjumped","playedrangeschanged"];e.forEach(r=>{this.playlistController_.on(r,i=>{this.player_.trigger(qs({},i))})}),n.forEach(r=>{this.playbackWatcher_.on(r,i=>{this.player_.trigger(qs({},i))})})}}const kC={name:"videojs-http-streaming",VERSION:_se,canHandleSource(t,e={}){const n=$i(Mt.options,e);return!n.vhs.experimentalUseMMS&&!ob("avc1.4d400d,mp4a.40.2",!1)?!1:kC.canPlayType(t.type,n)},handleSource(t,e,n={}){const r=$i(Mt.options,n);return e.vhs=new Ase(t,e,r),e.vhs.xhr=Wie(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const n=gne(t);if(!n)return"";const r=kC.getOverrideNative(e);return!Fs.supportsTypeNatively(n)||r?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,n=!(Mt.browser.IS_ANY_SAFARI||Mt.browser.IS_IOS),{overrideNative:r=n}=e;return r}},IYe=()=>ob("avc1.4d400d,mp4a.40.2",!0);IYe()&&Mt.getTech("Html5").registerSourceHandler(kC,0);Mt.VhsHandler=Ase;Mt.VhsSourceHandler=kC;Mt.Vhs=Fs;Mt.use||Mt.registerComponent("Vhs",Fs);Mt.options.vhs=Mt.options.vhs||{};(!Mt.getPlugin||!Mt.getPlugin("reloadSourceOnError"))&&Mt.registerPlugin("reloadSourceOnError",yYe);const RYe=kt({__name:"VideoPlayer",setup(t,{expose:e}){zr(()=>{r.value=Mt(n.value)}),Hp(()=>{r.value&&r.value.dispose()});const n=ye();let r=ye();return e({open:()=>{r.value||(r.value=Mt(n.value)),r.value&&r.value.load()},pause:()=>{r.value&&r.value.pause()},src:o=>{r.value&&r.value.src(o)}}),(o,l)=>(ge(),Fe("video",{ref_key:"rVideoPlayer",ref:n,controls:"",class:"video-js vjs-default-skin"},null,512))}}),OYe={class:"dialog-footer"},MYe={class:"dialog-footer"},LYe={class:"dialog-footer"},$Ye=kt({__name:"Storage",setup(t,{expose:e}){const n=ye(null),r=ye(),i=ye(!1),s=ye(!1),a=ye(!1),o=ye(!1),l=ye(!1),u=ye(!1),d=ye(!1),f=ye(!1),h=ye(""),g=ye(!0),v=ye(!1),p=ye(!1),_=ye("");let S=()=>({accessKey:"",accessSecret:"",endpoint:"",region:"",platform:"default"}),C=lr(S());const P=lr({files:[],s3InfoList:[]}),D=ye([]),R={bucket:ke.bucket,idToken:ke.id_token,mode:"stream"},N={Authorization:"Bearer "+ke.access_token},U=$t=>{let Te=$t.size/1024;return Te>1024?(Te=Te/1024,Te>1024?(Te=Te/1024,Te.toFixed(1)+"GB"):Te.toFixed(1)+"MB"):Te.toFixed(1)+"kb"},Y=($t,Te)=>{$t&&Lt()},H=async $t=>{await di.prompt("keep the below empty if not","need encrypt by yourself?",{inputValue:"",confirmButtonText:"continue",showCancelButton:!1}).then(({value:Te,action:vt})=>{v.value=!0,_.value=Te})},j=($t,Te)=>di.confirm(`Cancel the transfer of ${$t.name} ?`).then(()=>!0,()=>!1),X=async($t,Te,vt,Nt)=>{let Ne;if(g.value)Ne=await vze(ke.bucket,$t);else{const De={baseURL:an.storageUrl,url:"/storage/object",method:"POST",data:{bucket:ke.bucket,key:$t,accessKey:ke.accessKey,accessSecret:ke.accessSecret,endpoint:ke.endpoint,region:ke.region,platform:ke.platform,idToken:ke.id_token,sha256:Te,partCount:vt,partNum:Nt},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/json"}};await vn(De).then(function(tt){Ne=tt.data})}return Ne};async function W($t,Te){await ee();let vt=$t.file.name,Nt;if(Nt=await X(vt,"","",""),Nt){var De=Math.ceil($t.file.size/Te);v.value&&_.value!=""&&(vt="encrypt-"+$t.file.name,Nt=await xt(vt,Nt));let tt=0;for(const{index:xe,chunk:Gt}of ue($t.file,Te))Gt.arrayBuffer().then(async function(c){let xn;if(p.value){const at=await R8e(c);if(xn=await X(vt,at,De,xe),xn==""||xn==null)tt++;else if(ke.platform!=""&&ke.platform!="default"&&ke.platform!="cloudflare"&&Nt!=xn)return;tt==De&&K(Gt,$t.file.name,De,xe,Nt,"")}if(v.value&&_.value!=""){const at=await Ke(c,$t.file.name);K(at,"encrypt-"+$t.file.name,De,xe,Nt,"")}else K(Gt,$t.file.name,De,xe,Nt,"")})}}const F=async()=>{g.value=!1,await di.confirm("please choose download method",{confirmButtonText:"proxy",cancelButtonText:"direct"}).then(()=>{g.value=!1}).catch(()=>{g.value=!0})},te=async()=>{_.value="",await di.prompt("enter the secret you used when uploading before ","the file upload with secret?",{inputValue:"",confirmButtonText:"continue",showCancelButton:!1}).then(({value:$t,action:Te})=>{_.value=$t})},G=($t,Te,vt="application/octet-stream")=>{const Nt=new Blob([$t],{type:vt});return new File([Nt],Te,{type:vt})},K=async($t,Te,vt,Nt,Ne,De)=>{if(g.value)try{mze($t,ke.bucket,Te,Ne,Nt,vt)}catch{await di.confirm("something wrong with upload throgh direct, u can choose proxy and try again after login").then(()=>{g.value=!1}).catch(()=>{g.value=!0})}else de($t,Te,vt,Nt,Ne,De)},ee=async()=>{p.value=!1,g.value||await di.confirm("please select upload mode, stream mode can keep upload process(need login)",{confirmButtonText:"stream",cancelButtonText:"direct"}).then(()=>{p.value=!0}).catch(()=>{p.value=!1})},de=($t,Te,vt,Nt,Ne,De)=>{const tt={baseURL:an.storageUrl,url:"/storage/object",method:"POST",data:{data:$t,bucket:ke.bucket,key:Te,partCount:vt,partNum:Nt,idToken:ke.id_token,uploadId:Ne,accessKey:ke.accessKey,accessSecret:ke.accessSecret,endpoint:ke.endpoint,region:ke.region,platform:ke.platform,offset:De},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"multipart/form-data"}};p.value&&(tt.data.mode="stream"),vn(tt).catch(function(xe){vn(tt).catch(function(Gt){vn(tt).catch(function(c){Qb({title:"Network Error",message:"please click upload and retry",duration:3e3})})})})};function*ue($t,Te){let vt=0,Nt=0;for(;vt<$t.size;){const Ne=$t.slice(vt,vt+Te);yield{index:Nt,chunk:Ne},vt+=Te,Nt++}}const me=async $t=>{if($t.file.size>1024*1024*5)await W($t,1024*1024*5);else{let Te;v.value&&_.value!=""?await $t.file.arrayBuffer().then(async function(vt){const Nt=await Ke(vt,$t.file.name);Te=G(Nt,"encrypt-"+$t.file.name)}):Te=$t.file,g.value?xze(ke.bucket,$t.file.name,Te):Xe(Te,"")}};let Ee,Oe;const Ge=async()=>{let $t;return await vn.get(ke.endpoint).then(function(Te){(Te.headers["access-control-allow-origin"]=="*"||Te.headers["access-control-allow-origin"]==an.redirectUrl)&&($t=!0)}).catch(()=>{}),$t},$e=async()=>{if(Oe>1)return!1;if(!Ee){if(await Ge())return!0;Oe++;try{const $t=await Ie(ke.bucket);if($t&&$t.data&&$t.data.length>0)for(let Te of $t.data)Te.allowedOrigins&&Te.allowedOrigins.includes(an.redirectUrl)&&(Ee=!0)}catch($t){console.error($t),Ee=!1}}if(!Ee){Oe++;const $t={baseURL:an.storageUrl,url:"/storage/object/cors",method:"PUT",data:{bucket:ke.bucket,idToken:ke.id_token,accessKey:ke.accessKey,accessSecret:ke.accessSecret,endpoint:ke.endpoint,region:ke.region,platform:ke.platform,corsRules:[{allowedHeaders:["*"],allowedMethods:["GET","PUT","POST","DELETE"],allowedOrigins:[an.redirectUrl],exposeHeaders:["ETag"],maxAgeSeconds:3600}]},headers:{Authorization:"Bearer "+ke.access_token}};await vn($t).then(function(Te){Te.status==200&&(Ee=!0)})}return Ee},Ie=async $t=>{const Te={baseURL:an.storageUrl,url:"/storage/object/cors",method:"POST",data:{bucket:$t,idToken:ke.id_token,accessKey:ke.accessKey,accessSecret:ke.accessSecret,endpoint:ke.endpoint,region:ke.region,platform:ke.platform},headers:{Authorization:"Bearer "+ke.access_token}};return await vn(Te)},Ke=async($t,Te)=>{let vt;return vt=(await y4($t,_.value,"AES-GCM")).cipher,vt},Xe=($t,Te)=>{const vt={baseURL:an.storageUrl,url:"/storage/object",method:"POST",data:{data:$t,key:Te,bucket:ke.bucket,idToken:ke.id_token,accessKey:ke.accessKey,accessSecret:ke.accessSecret,endpoint:ke.endpoint,region:ke.region,platform:ke.platform},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"multipart/form-data"}};vn(vt)},Ze=async()=>{if(C.platform=="default"?ke.platform="":ke.platform=C.platform,ke.accessKey=C.accessKey,ke.accessSecret=C.accessSecret,ke.endpoint=C.endpoint,C.platform=="cloudflare"?(ke.region="auto",C.region="auto"):ke.region=C.region,C.accessSecret!=""){if(ke.sub!=""){if(Ee=!1,!await $e()){di.alert("can not auto config cors, please try to config by maunal");return}}else if(!await Ge()){di.alert("the bucket is not support cors, please try to config by maunal or login for auto config");return}ke.platform=="cloudflare"&&(ke.endpoint=C.endpoint+"/"+ke.sub),ku(!0),await wze()?(ke.platform=="cloudflare"&&(ke.endpoint=C.endpoint,ku(!0)),a.value=!0):di.alert("check failed, please ensure and try again")}else u.value=!1,o.value=!0,Lt()},bt=async()=>{if(C.platform=="default"){di.alert("please load first");return}a.value=!1;const $t=await hw("s3",1,["s3","aes"]),Te=await y4(C.accessSecret,h.value,"AES-GCM"),vt=v4(Te.cipher);C.accessSecret=vt,await m4($t,"aes","cipher-"+C.accessKey,vt,"readwrite",""),await m4($t,"s3",C.accessKey,JSON.stringify(C),"readwrite","put"),await Ye(),f.value=!1,u.value=!1,o.value=!0,Object.assign(C,S())},ht=async $t=>{h.value&&it($t.accessKey,r),ke.endpoint=$t.endpoint,ke.region=$t.region,ke.platform=$t.platform,ke.accessKey=$t.accessKey,ke.accessSecret||(h.value="",f.value=!0)},ae=()=>{f.value=!1,h.value="",ke.platform="",Lt(),o.value=!0},Re=async()=>{a.value=!1,u.value=!1,ke.accessKey=C.accessKey,ke.endpoint=C.endpoint,ke.region=C.region,ke.platform=C.platform,await it("",r),Object.assign(C,S())},rt=async($t,Te)=>{const vt=await hw("s3",1,["s3","aes"]);await g4(vt,"aes","cipher-"+Te.accessKey,"readwrite"),await g4(vt,"s3",Te.accessKey,"readwrite"),P.s3InfoList.splice($t,1)},Ye=async()=>{const $t=await hw("s3",1,["s3","aes"]),Te=await pw($t,"s3","","readwrite","all");var vt=JSON.stringify(Te).replace(/"{/g,"{").replace(/}"/g,"}").replace(/\\/g,"");const Nt=JSON.parse(vt);return P.s3InfoList=Nt,$t},it=async($t,Te)=>{if(P.files=[],ke.bucket||(ke.bucket=ke.sub),ke.platform=="cloudflare"){if(ke.sub!=""){if(!await $e()){di.alert("something wrong with bucket, if the bucket not exist, please try again, or check bucket cors by maunal");return}}else if(!await Ge()){di.alert("the bucket is not support cors, please try to config by maunal or login for auto config");return}}if(Te&&Te){const vt=await Ye();if(P.s3InfoList.length>0){ke.platform=="default"&&(ke.platform=P.s3InfoList[0].platform,ke.bucket=ke.sub);let Nt;if($t?Nt=await pw(vt,"aes","cipher-"+$t,"readwrite",""):Nt=await pw(vt,"aes","cipher-"+P.s3InfoList[0].accessKey,"readwrite",""),Nt)try{if(!h.value){f.value=!0,ke.accessSecret="";return}const Ne=await M8e(O8e(Nt),h.value,"AES-GCM"),De=new TextDecoder().decode(Ne);if(De&&(f.value=!1,ke.accessSecret=De),ke.accessSecret){if(P.s3InfoList.length>1)if(d.value)f.value=!1,s.value=!1;else{ke.accessKey=P.s3InfoList[0].accessKey,ke.platform=P.s3InfoList[0].platform,ke.endpoint=P.s3InfoList[0].endpoint,ke.region=P.s3InfoList[0].region,s.value=!0,d.value=!0,ku(!0);return}P.s3InfoList.length==1&&(ke.accessKey=P.s3InfoList[0].accessKey,ke.platform=P.s3InfoList[0].platform,ke.endpoint=P.s3InfoList[0].endpoint,ke.region=P.s3InfoList[0].region,s.value=!1)}else ke.platform="",ke.accessKey="",ke.endpoint="",ke.region=""}catch{h.value&&(di.alert("incorrect secret, will open default s3, please try again later by load button"),h.value="",f.value=!0,ke.accessSecret="",ke.platform="",ke.accessKey="",ke.endpoint="",ke.region=""),d.value||(f.value=!1),o.value=!0,Lt();return}d.value=!0,o.value=!0,Lt(),ku(!0)}else ke.platform=="default"?(u.value=!0,ke.platform=""):(o.value=!0,Lt(),u.value=!1)}},St=async()=>{d.value?(o.value=!0,Lt()):await it("",r)},Lt=async()=>{let $t;if(g.value){const Te=await yze(ke.bucket);if(Te&&Te.length>0){const vt=Te.filter(Nt=>!Nt.key.startsWith(ke.bucket));P.files=vt}$t=Te}else{const Te={baseURL:an.storageUrl,url:"/storage/object/list",method:"POST",data:{bucket:ke.bucket,idToken:ke.id_token,accessKey:ke.accessKey,accessSecret:ke.accessSecret,endpoint:ke.endpoint,region:ke.region,platform:ke.platform},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/json"}};await vn(Te).then(function(vt){if(vt.data){const Nt=vt.data;if(Nt&&Nt.length>0){const Ne=Nt.filter(De=>!De.key.startsWith(ke.bucket));P.files=Ne}}$t=vt.data})}return $t},xt=async($t,Te)=>{let vt;const Nt={baseURL:an.storageUrl,url:"/storage/object/abort",method:"POST",data:{bucket:ke.bucket,key:$t,idToken:ke.id_token,accessKey:ke.accessKey,accessSecret:ke.accessSecret,endpoint:ke.endpoint,region:ke.region,platform:ke.platform,uploadId:Te},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/json"}};return await vn(Nt).then(async function(){vt=await X($t,"","","")}),vt},sn=async($t,Te)=>{if(g.value)await bze(ke.bucket,Te.key)&&P.files.splice($t,1);else{const vt={baseURL:an.storageUrl,url:"/storage/object/delete",method:"POST",data:{bucket:ke.bucket,key:Te.key,idToken:ke.id_token,accessKey:ke.accessKey,accessSecret:ke.accessSecret,endpoint:ke.endpoint,region:ke.region,platform:ke.platform},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/json"}};vn(vt).then(function(Nt){Nt.status==200&&P.files.splice($t,1)})}},zt=$t=>{ft.value=$t,tn.splice(0,tn.length);for(let Te of ft.value)tn.push(Te.key)},ft=ye([]),tn=[],_n=async()=>{if(g.value){let $t=[];tn.map(vt=>{const Nt={Key:vt};$t.push(Nt)}),(await _ze(ke.bucket,$t)).length==tn.length&&(tn.forEach(function(vt,Nt){P.files.forEach(function(Ne,De){vt===Ne.key&&P.files.splice(De,1)})}),P.files.length==0&&Lt())}else{const $t={baseURL:an.storageUrl,url:"/storage/object/delete",method:"POST",data:{bucket:ke.bucket,key:tn.toString(),idToken:ke.id_token,accessKey:ke.accessKey,accessSecret:ke.accessSecret,endpoint:ke.endpoint,region:ke.region,platform:ke.platform},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/json"}};vn($t).then(function(Te){var vt=Te.data;vt==tn.length&&(tn.forEach(function(Nt,Ne){P.files.forEach(function(De,tt){Nt===De.key&&P.files.splice(tt,1)})}),P.files.length==0&&Lt())})}},qt=async($t,Te)=>{_.value="",$t.key.startsWith("encrypt-")&&await te(),ke.sub&&await F();let vt;if(_.value&&!g.value){const Nt={baseURL:an.apiUrl,url:"/public/key",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};await vn(Nt).then(async function(Ne){vt=Ne.data;const De=crypto.getRandomValues(new Uint8Array(16)),tt=await y4(_.value,De,"AES-GCM");_.value=encodeURIComponent(v4(tt.cipher));const xe={baseURL:an.messageUrl,url:"/message",method:"PUT",data:{key:vt,value:v4(De)}};await vn(xe).then(async function(Gt){Gt.status==200&&await Pt($t,vt,Te)})})}else await Pt($t,vt,Te)},Pt=async($t,Te,vt)=>{var Ne,De;let Nt;if(g.value){if(_.value){const tt=await hw("s3",1,["s3","aes"]),xe=await K8(_.value,"AES-GCM");await pw(tt,"aes","key-"+$t.key,"readwrite","")&&await g4(tt,"aes","key-"+$t.key,"readwrite"),await m4(tt,"aes","key-"+$t.key,xe,"readwrite","")}Nt=await gze(ke.bucket,$t.key)}else if(await vn({method:"POST",url:an.storageUrl+"/storage/object/url",data:{bucket:ke.bucket,key:$t.key,idToken:ke.id_token,accessKey:ke.accessKey,accessSecret:ke.accessSecret,endpoint:ke.endpoint,region:ke.region,platform:ke.platform,secret:Te},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/json"}}).then(async function(tt){tt.status==200&&(Nt=tt.data)}),Nt&&_.value){let tt=5242880;Nt=Nt+"&secret="+_.value+"&offset="+tt}if(Nt)if(vt){(Ne=n.value)==null||Ne.src({type:"video/mp4",src:Nt}),(De=n.value)==null||De.open(),i.value=!0;return}else{const tt=document.createElement("a");tt.style.display="none",tt.download=$t.key,g.value&&_.value?fetch(Nt).then(async function(xe){tt.href=URL.createObjectURL(await xe.blob()),document.body.appendChild(tt),tt.click(),document.body.removeChild(tt),URL.revokeObjectURL(Nt)}).catch(xe=>console.log(xe)):(tt.href=Nt,document.body.appendChild(tt),tt.click(),document.body.removeChild(tt))}},Ct=()=>{var $t;($t=n.value)==null||$t.open()};Zt(i,$t=>{var Te;$t||(Te=n.value)==null||Te.pause()});function Kt($t){return Wn($t.timestamp*1e3).format("YYYY-MM-DD HH:mm:ss")}return e({initS3:St}),($t,Te)=>{const vt=qr,Nt=Ki,Ne=Fu,De=Do,tt=cZ,xe=lc,Gt=Uy,c=Io,xn=ns,at=Mc;return ge(),Fe(Tn,null,[V(De,{modelValue:b(o),"onUpdate:modelValue":Te[7]||(Te[7]=se=>tr(o)?o.value=se:null),width:b(Et).dialogWidth},{default:ie(()=>[V(vt,{type:"danger",onClick:Te[0]||(Te[0]=se=>_n())},{default:ie(()=>[...Te[33]||(Te[33]=[Rt("DeleteSelect",-1)])]),_:1}),V(vt,{type:"",onClick:Te[1]||(Te[1]=se=>l.value=!0)},{default:ie(()=>[...Te[34]||(Te[34]=[Rt("upload",-1)])]),_:1}),V(vt,{type:"",onClick:Te[2]||(Te[2]=se=>u.value=!0)},{default:ie(()=>[...Te[35]||(Te[35]=[Rt("connect",-1)])]),_:1}),V(vt,{type:"",onClick:Te[3]||(Te[3]=se=>s.value=!0)},{default:ie(()=>[...Te[36]||(Te[36]=[Rt("load",-1)])]),_:1}),V(vt,{onClick:Te[4]||(Te[4]=se=>Lt())},{default:ie(()=>[...Te[37]||(Te[37]=[Rt("refresh",-1)])]),_:1}),b(g)?(ge(),Tt(vt,{key:0,type:"success",onClick:Te[5]||(Te[5]=se=>g.value=!1)},{default:ie(()=>[...Te[38]||(Te[38]=[Rt("mode: direct ",-1)])]),_:1})):gt("",!0),b(g)?gt("",!0):(ge(),Tt(vt,{key:1,type:"primary",onClick:Te[6]||(Te[6]=se=>g.value=!0)},{default:ie(()=>[...Te[39]||(Te[39]=[Rt("mode: proxy ",-1)])]),_:1})),V(Ne,{data:b(P).files,onSelectionChange:zt},{default:ie(()=>[V(Nt,{type:"selection"}),V(Nt,{property:"key",label:"file",width:"auto"}),V(Nt,{property:"timestamp",label:"lastModified",formatter:Kt,sortable:""}),V(Nt,{property:"size",label:"size",formatter:U}),V(Nt,{label:"Operations"},{default:ie(se=>[V(vt,{size:"small",type:"danger",onClick:w=>sn(se.$index,se.row)},{default:ie(()=>[...Te[40]||(Te[40]=[Rt("Delete",-1)])]),_:1},8,["onClick"]),V(vt,{size:"small",type:"primary",onClick:w=>qt(se.row,!1)},{default:ie(()=>[...Te[41]||(Te[41]=[Rt("Download",-1)])]),_:1},8,["onClick"]),se.row.key.endsWith("mp4")?(ge(),Tt(vt,{key:0,size:"small",type:"primary",onClick:w=>(qt(se.row,!0),i.value=!0)},{default:ie(()=>[...Te[42]||(Te[42]=[Rt("Preview",-1)])]),_:1},8,["onClick"])):gt("",!0)]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),V(De,{modelValue:b(l),"onUpdate:modelValue":Te[9]||(Te[9]=se=>tr(l)?l.value=se:null),width:b(Et).dialogWidth},{default:ie(()=>[V(tt,{"file-list":b(D),"onUpdate:fileList":Te[8]||(Te[8]=se=>tr(D)?D.value=se:null),class:"upload-demo",headers:N,name:"data",data:R,"auto-upload":!0,multiple:"","before-upload":H,"before-remove":j,limit:10,"on-success":Y,"http-request":me},{tip:ie(()=>[...Te[44]||(Te[44]=[Ve("div",{class:"el-upload__tip"}," upload anything ",-1)])]),default:ie(()=>[V(vt,{type:"primary"},{default:ie(()=>[...Te[43]||(Te[43]=[Rt("Click to upload",-1)])]),_:1})]),_:1},8,["file-list"])]),_:1},8,["modelValue","width"]),V(De,{modelValue:b(s),"onUpdate:modelValue":Te[13]||(Te[13]=se=>tr(s)?s.value=se:null),width:b(Et).dialogWidth},{default:ie(()=>[V(vt,{type:"",onClick:Te[10]||(Te[10]=se=>Ye())},{default:ie(()=>[...Te[45]||(Te[45]=[Rt("refresh",-1)])]),_:1}),V(Ne,{data:b(P).s3InfoList},{default:ie(()=>[V(Nt,{property:"accessKey",label:"accessKey"}),V(Nt,{property:"accessSecret",label:"accessSecret"}),V(Nt,{property:"endpoint",label:"endpoint"}),V(Nt,{property:"region",label:"region"}),V(Nt,{property:"platform",label:"platform"}),V(Nt,{label:"Operations"},{default:ie(se=>[V(vt,{size:"small",type:"danger",onClick:w=>rt(se.$index,se.row)},{default:ie(()=>[...Te[46]||(Te[46]=[Rt("Delete",-1)])]),_:1},8,["onClick"]),b(ke).accessKey!=se.row.accessKey?(ge(),Tt(vt,{key:0,size:"small",type:"primary",onClick:w=>ht(se.row)},{default:ie(()=>[...Te[47]||(Te[47]=[Rt("select",-1)])]),_:1},8,["onClick"])):gt("",!0),b(ke).accessKey==se.row.accessKey?(ge(),Tt(vt,{key:1,size:"small",type:"info",onClick:Te[11]||(Te[11]=w=>(Lt(),o.value=!0,s.value=!1))},{default:ie(()=>[...Te[48]||(Te[48]=[Rt("open",-1)])]),_:1})):gt("",!0),V(vt,{size:"small",type:"primary",onClick:Te[12]||(Te[12]=w=>(tr(Ee)?Ee.value=!1:Ee=!1,f.value=!0))},{default:ie(()=>[...Te[49]||(Te[49]=[Rt("change bucket",-1)])]),_:1})]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),V(De,{modelValue:b(u),"onUpdate:modelValue":Te[21]||(Te[21]=se=>tr(u)?u.value=se:null),width:b(Et).dialogWidth,"align-center":""},{footer:ie(()=>[Ve("span",OYe,[V(vt,{onClick:Te[19]||(Te[19]=se=>(o.value=!0,u.value=!1))},{default:ie(()=>[...Te[50]||(Te[50]=[Rt("Cancel",-1)])]),_:1}),V(vt,{type:"primary",onClick:Te[20]||(Te[20]=se=>Ze())},{default:ie(()=>[...Te[51]||(Te[51]=[Rt(" confirm ",-1)])]),_:1})])]),default:ie(()=>[Te[52]||(Te[52]=Ve("span",null,"need to connect to s3 from other platform?",-1)),V(at,{model:b(C)},{default:ie(()=>[V(c,{label:"platform","label-width":b(Et).labelWidth},{default:ie(()=>[V(Gt,{modelValue:b(C).platform,"onUpdate:modelValue":Te[14]||(Te[14]=se=>b(C).platform=se),placeholder:"default","allow-create":!0,filterable:!0},{default:ie(()=>[V(xe,{label:"cloudflare R2",value:"cloudflare"}),V(xe,{label:"synology C2",value:"c2"}),V(xe,{label:"oracle",value:"oracle"}),V(xe,{label:"minio",value:"minio"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),V(c,{label:"accessKey","label-width":b(Et).labelWidth},{default:ie(()=>[V(xn,{modelValue:b(C).accessKey,"onUpdate:modelValue":Te[15]||(Te[15]=se=>b(C).accessKey=se)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(c,{label:"accessSecret","label-width":b(Et).labelWidth},{default:ie(()=>[V(xn,{modelValue:b(C).accessSecret,"onUpdate:modelValue":Te[16]||(Te[16]=se=>b(C).accessSecret=se)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(c,{label:"endpoint","label-width":b(Et).labelWidth},{default:ie(()=>[V(xn,{modelValue:b(C).endpoint,"onUpdate:modelValue":Te[17]||(Te[17]=se=>b(C).endpoint=se)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(c,{label:"region","label-width":b(Et).labelWidth},{default:ie(()=>[V(xn,{modelValue:b(C).region,"onUpdate:modelValue":Te[18]||(Te[18]=se=>b(C).region=se)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),V(De,{modelValue:b(a),"onUpdate:modelValue":Te[24]||(Te[24]=se=>tr(a)?a.value=se:null),width:b(Et).dialogWidth,"align-center":""},{footer:ie(()=>[Ve("span",MYe,[V(vt,{onClick:Te[22]||(Te[22]=se=>Re())},{default:ie(()=>[...Te[53]||(Te[53]=[Rt("Cancel",-1)])]),_:1}),V(vt,{type:"primary",onClick:Te[23]||(Te[23]=se=>f.value=!0)},{default:ie(()=>[...Te[54]||(Te[54]=[Rt(" Confirm ",-1)])]),_:1})])]),default:ie(()=>[Te[55]||(Te[55]=Ve("span",null,"need to save your s3 info on local device?",-1))]),_:1},8,["modelValue","width"]),V(De,{modelValue:b(f),"onUpdate:modelValue":Te[30]||(Te[30]=se=>tr(f)?f.value=se:null),width:b(Et).dialogWidth,"align-center":""},{footer:ie(()=>[Ve("span",LYe,[V(vt,{onClick:Te[27]||(Te[27]=se=>ae())},{default:ie(()=>[...Te[56]||(Te[56]=[Rt("Cancel",-1)])]),_:1}),V(vt,{type:"primary",onClick:Te[28]||(Te[28]=se=>it(b(ke).accessKey,b(r)))},{default:ie(()=>[...Te[57]||(Te[57]=[Rt("load",-1)])]),_:1}),V(vt,{type:"primary",onClick:Te[29]||(Te[29]=se=>bt())},{default:ie(()=>[...Te[58]||(Te[58]=[Rt("save",-1)])]),_:1})])]),default:ie(()=>[Te[59]||(Te[59]=Ve("span",null,"need secret to load exist s3 Info",-1)),V(at,{model:b(C),ref_key:"secretformRef",ref:r},{default:ie(()=>[V(c,{label:"secret","label-width":b(Et).labelWidth,required:!0},{default:ie(()=>[V(xn,{modelValue:b(h),"onUpdate:modelValue":Te[25]||(Te[25]=se=>tr(h)?h.value=se:null)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(c,{label:"bucket","label-width":b(Et).labelWidth,required:!0},{default:ie(()=>[V(xn,{modelValue:b(ke).bucket,"onUpdate:modelValue":Te[26]||(Te[26]=se=>b(ke).bucket=se)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),V(De,{modelValue:b(i),"onUpdate:modelValue":Te[32]||(Te[32]=se=>tr(i)?i.value=se:null),width:b(Et).dialogWidth,"align-center":""},{default:ie(()=>[V(vt,{type:"info",onClick:Te[31]||(Te[31]=se=>Ct())},{default:ie(()=>[...Te[60]||(Te[60]=[Rt("reload",-1)])]),_:1}),V(RYe,{ref_key:"player",ref:n},null,512)]),_:1},8,["modelValue","width"])],64)}}}),NYe={key:0},FYe={key:1},BYe={class:"dialog-footer"},UYe={class:"messages",ref:"messageList"},VYe={class:"message-username"},zYe={class:"message-content"},HYe={class:"message-time"},jYe={class:"chat-controls"},GYe=kt({__name:"Chat",setup(t){const e=ye(!1),r=lr({peers:[]}),i=ye(""),s=ye(""),a=ye("");function o(f){if(f.lastActive)return Wn(f.lastActive).format("YYYY-MM-DD HH:mm:ss")}function l(f){return Wn(f).format("YYYY-MM-DD HH:mm")}const u=()=>{const h=z8().getPeer();var g=h==null?void 0:h.connect(ke.connectId);g&&(g==null||g.on("open",function(){const v=new Date().getTime();let p="anonymous";ke.sub&&(p=ke.sub);const _=a.value+"*"+p+"*"+v;g==null||g.send(_),no.messages.push({text:_,sender:"me",timestamp:v,user:p}),g==null||g.on("error",function(S){console.error("Connection error:",S)})}))},d=async f=>{const h={baseURL:an.peerUrl,url:"/user/"+f,method:"GET",headers:{"content-type":"application/json"}};let g;await vn(h).then(async function(v){v.data&&v.data.peerId&&(g=v.data.peerId),r.peers=[],r.peers.push(v.data);const p={baseURL:"https://"+an.peerServerUrl,url:"/app/peerjs/peers",method:"GET",headers:{"content-type":"application/json"}};g&&await vn(p).then(async function(_){const S=_.data;if(S!=""){r.peers[0].status="offline";for(let C=0;C<_.data.length;C++)if(S[C]==g){r.peers[0]&&(r.peers[0].status="online");break}}})})};return(f,h)=>{const g=Ki,v=Do,p=Io,_=Mc,S=AK;return ge(),Fe(Tn,null,[V(v,{modelValue:b(Et).chatTable,"onUpdate:modelValue":h[3]||(h[3]=C=>b(Et).chatTable=C),width:b(Et).dialogWidth},{default:ie(()=>[V(b(qr),{onClick:h[0]||(h[0]=C=>b(Et).chatDrawer=!0)},{default:ie(()=>[...h[12]||(h[12]=[Rt("recent",-1)])]),_:1}),V(b(ns),{placeholder:"Search...",modelValue:i.value,"onUpdate:modelValue":h[1]||(h[1]=C=>i.value=C),onKeyup:h[2]||(h[2]=ts(Cr(C=>d(i.value),["prevent"]),["enter"])),"prefix-icon":"el-icon-search"},null,8,["modelValue"]),V(b(Fu),{data:b(r).peers},{default:ie(()=>[V(g,{prop:"username",label:"user"}),V(g,{prop:"peerId",label:"peerId"}),V(g,{prop:"status",label:"status"}),V(g,{prop:"lastActive",label:"lastActive",formatter:o,sortable:""}),V(g,{label:"Operations"},{default:ie(C=>[V(b(qr),{onClick:T=>(b(Et).chatDrawer=!0,b(ke).connectId=C.row.peerId)},{default:ie(()=>[C.row.status=="online"?(ge(),Fe("span",NYe,"chat")):gt("",!0),C.row.status=="offline"?(ge(),Fe("span",FYe,"message")):gt("",!0)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),V(v,{modelValue:e.value,"onUpdate:modelValue":h[7]||(h[7]=C=>e.value=C),width:b(Et).dialogWidth},{footer:ie(()=>[Ve("span",BYe,[V(b(qr),{onClick:h[5]||(h[5]=()=>{})},{default:ie(()=>[...h[13]||(h[13]=[Rt("Cancel",-1)])]),_:1}),V(b(qr),{type:"primary",onClick:h[6]||(h[6]=C=>b(ke).connectId=s.value)},{default:ie(()=>[...h[14]||(h[14]=[Rt(" Confirm ",-1)])]),_:1})])]),default:ie(()=>[V(_,null,{default:ie(()=>[V(p,{label:"id","label-width":b(Et).labelWidth},{default:ie(()=>[V(b(ns),{modelValue:s.value,"onUpdate:modelValue":h[4]||(h[4]=C=>s.value=C)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1})]),_:1},8,["modelValue","width"]),V(S,{modelValue:b(Et).chatDrawer,"onUpdate:modelValue":h[11]||(h[11]=C=>b(Et).chatDrawer=C)},{default:ie(()=>[Ve("div",UYe,[(ge(!0),Fe(Tn,null,li(b(no).messages,(C,T)=>(ge(),Fe("div",{key:T,class:Ce(["chatMessage",C.sender==="me"?"sent":"received"])},[Ve("div",VYe,[Ve("strong",null,yn(C.user),1)]),Ve("div",zYe,[Ve("span",null,yn(C.text.split("*")[0]),1)]),Ve("div",HYe,[Ve("small",null,yn(l(C.timestamp)),1)])],2))),128))],512),Ve("div",jYe,[V(b(ns),{modelValue:a.value,"onUpdate:modelValue":h[8]||(h[8]=C=>a.value=C),placeholder:"Type a message...",onKeyup:h[9]||(h[9]=ts(C=>u(),["enter"]))},null,8,["modelValue"]),V(b(qr),{type:"primary",onClick:h[10]||(h[10]=C=>u())},{default:ie(()=>[...h[15]||(h[15]=[Rt("Send",-1)])]),_:1})])]),_:1},8,["modelValue"])],64)}}});const Pse=/^[a-z0-9]+(-[a-z0-9]+)*$/,FA=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:r,prefix:l,name:o};return e&&!eT(u)?null:u}const s=i[0],a=s.split("-");if(a.length>1){const o={provider:r,prefix:a.shift(),name:a.join("-")};return e&&!eT(o)?null:o}if(n&&r===""){const o={provider:r,prefix:"",name:s};return e&&!eT(o,n)?null:o}return null},eT=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1,kse=Object.freeze({left:0,top:0,width:16,height:16}),DC=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),BA=Object.freeze({...kse,...DC}),fR=Object.freeze({...BA,body:"",hidden:!1});function WYe(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function Lz(t,e){const n=WYe(t,e);for(const r in fR)r in DC?r in t&&!(r in n)&&(n[r]=DC[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function qYe(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function s(a){if(n[a])return i[a]=[];if(!(a in i)){i[a]=null;const o=r[a]&&r[a].parent,l=o&&s(o);l&&(i[a]=[o].concat(l))}return i[a]}return Object.keys(n).concat(Object.keys(r)).forEach(s),i}function XYe(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let s={};function a(o){s=Lz(r[o]||i[o],s)}return a(e),n.forEach(a),Lz(t,s)}function Dse(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),n.push(i)});const r=qYe(t);for(const i in r){const s=r[i];s&&(e(i,XYe(t,i,s)),n.push(i))}return n}const YYe={provider:"",aliases:{},not_found:{},...kse};function AP(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function Ise(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!AP(t,YYe))return null;const n=e.icons;for(const i in n){const s=n[i];if(!i||typeof s.body!="string"||!AP(s,fR))return null}const r=e.aliases||Object.create(null);for(const i in r){const s=r[i],a=s.parent;if(!i||typeof a!="string"||!n[a]&&!r[a]||!AP(s,fR))return null}return e}const $z=Object.create(null);function KYe(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function my(t,e){const n=$z[t]||($z[t]=Object.create(null));return n[e]||(n[e]=KYe(t,e))}function Rse(t,e){return Ise(e)?Dse(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function ZYe(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let v1=!1;function Ose(t){return typeof t=="boolean"&&(v1=t),v1}function QYe(t){const e=typeof t=="string"?FA(t,!0,v1):t;if(e){const n=my(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function JYe(t,e){const n=FA(t,!0,v1);if(!n)return!1;const r=my(n.provider,n.prefix);return e?ZYe(r,n.name,e):(r.missing.add(n.name),!0)}function eKe(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),v1&&!e&&!t.prefix){let i=!1;return Ise(t)&&(t.prefix="",Dse(t,(s,a)=>{JYe(s,a)&&(i=!0)})),i}const n=t.prefix;if(!eT({provider:e,prefix:n,name:"a"}))return!1;const r=my(e,n);return!!Rse(r,t)}const Mse=Object.freeze({width:null,height:null}),Lse=Object.freeze({...Mse,...DC}),tKe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,nKe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Nz(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(tKe);if(r===null||!r.length)return t;const i=[];let s=r.shift(),a=nKe.test(s);for(;;){if(a){const o=parseFloat(s);isNaN(o)?i.push(s):i.push(Math.ceil(o*e*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");a=!a}}function rKe(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const i=t.indexOf(">",r),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const a=t.indexOf(">",s);if(a===-1)break;n+=t.slice(i+1,s).trim(),t=t.slice(0,r).trim()+t.slice(a+1)}return{defs:n,content:t}}function iKe(t,e){return t?"<defs>"+t+"</defs>"+e:e}function sKe(t,e,n){const r=rKe(t);return iKe(r.defs,e+r.content+n)}const aKe=t=>t==="unset"||t==="undefined"||t==="none";function oKe(t,e){const n={...BA,...t},r={...Lse,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(p=>{const _=[],S=p.hFlip,C=p.vFlip;let T=p.rotate;S?C?T+=2:(_.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),_.push("scale(-1 1)"),i.top=i.left=0):C&&(_.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),_.push("scale(1 -1)"),i.top=i.left=0);let A;switch(T<0&&(T-=Math.floor(T/4)*4),T=T%4,T){case 1:A=i.height/2+i.top,_.unshift("rotate(90 "+A.toString()+" "+A.toString()+")");break;case 2:_.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:A=i.width/2+i.left,_.unshift("rotate(-90 "+A.toString()+" "+A.toString()+")");break}T%2===1&&(i.left!==i.top&&(A=i.left,i.left=i.top,i.top=A),i.width!==i.height&&(A=i.width,i.width=i.height,i.height=A)),_.length&&(s=sKe(s,'<g transform="'+_.join(" ")+'">',"</g>"))});const a=r.width,o=r.height,l=i.width,u=i.height;let d,f;a===null?(f=o===null?"1em":o==="auto"?u:o,d=Nz(f,l/u)):(d=a==="auto"?l:a,f=o===null?Nz(d,u/l):o==="auto"?u:o);const h={},g=(p,_)=>{aKe(_)||(h[p]=_.toString())};g("width",d),g("height",f);const v=[i.left,i.top,l,u];return h.viewBox=v.join(" "),{attributes:h,viewBox:v,body:s}}const lKe=/\sid="(\S+)"/g,uKe="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let cKe=0;function dKe(t,e=uKe){const n=[];let r;for(;r=lKe.exec(t);)n.push(r[1]);if(!n.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const a=typeof e=="function"?e(s):e+(cKe++).toString(),o=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+a+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const hR=Object.create(null);function fKe(t,e){hR[t]=e}function pR(t){return hR[t]||hR[""]}function _$(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const b$=Object.create(null),G_=["https://api.simplesvg.com","https://api.unisvg.com"],tT=[];for(;G_.length>0;)G_.length===1||Math.random()>.5?tT.push(G_.shift()):tT.push(G_.pop());b$[""]=_$({resources:["https://api.iconify.design"].concat(tT)});function hKe(t,e){const n=_$(e);return n===null?!1:(b$[t]=n,!0)}function x$(t){return b$[t]}const pKe=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let Fz=pKe();function mKe(t,e){const n=x$(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(a=>{i=Math.max(i,a.length)});const s=e+".json?icons=";r=n.maxURL-i-n.path.length-s.length}return r}function gKe(t){return t===404}const vKe=(t,e,n)=>{const r=[],i=mKe(t,e),s="icons";let a={type:s,provider:t,prefix:e,icons:[]},o=0;return n.forEach((l,u)=>{o+=l.length+1,o>=i&&u>0&&(r.push(a),a={type:s,provider:t,prefix:e,icons:[]},o=l.length),a.icons.push(l)}),r.push(a),r};function yKe(t){if(typeof t=="string"){const e=x$(t);if(e)return e.path}return"/"}const _Ke=(t,e,n)=>{if(!Fz){n("abort",424);return}let r=yKe(e.provider);switch(e.type){case"icons":{const s=e.prefix,o=e.icons.join(","),l=new URLSearchParams({icons:o});r+=s+".json?"+l.toString();break}case"custom":{const s=e.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let i=503;Fz(t+r).then(s=>{const a=s.status;if(a!==200){setTimeout(()=>{n(gKe(a)?"abort":"next",a)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",i)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",i)})},bKe={prepare:vKe,send:_Ke};function xKe(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return t.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const s=i.provider,a=i.prefix,o=i.name,l=n[s]||(n[s]=Object.create(null)),u=l[a]||(l[a]=my(s,a));let d;o in u.icons?d=e.loaded:a===""||u.missing.has(o)?d=e.missing:d=e.pending;const f={provider:s,prefix:a,name:o};d.push(f)}),e}function $se(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==e))})}function wKe(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,i=t.prefix;e.forEach(s=>{const a=s.icons,o=a.pending.length;a.pending=a.pending.filter(l=>{if(l.prefix!==i)return!0;const u=l.name;if(t.icons[u])a.loaded.push({provider:r,prefix:i,name:u});else if(t.missing.has(u))a.missing.push({provider:r,prefix:i,name:u});else return n=!0,!0;return!1}),a.pending.length!==o&&(n||$se([t],s.id),s.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),s.abort))})}))}let SKe=0;function TKe(t,e,n){const r=SKe++,i=$se.bind(null,n,r);if(!e.pending.length)return i;const s={id:r,icons:e,callback:t,abort:i};return n.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(s)}),i}function CKe(t,e=!0,n=!1){const r=[];return t.forEach(i=>{const s=typeof i=="string"?FA(i,e,n):i;s&&r.push(s)}),r}var EKe={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function AKe(t,e,n,r){const i=t.resources.length,s=t.random?Math.floor(Math.random()*i):t.index;let a;if(t.random){let D=t.resources.slice(0);for(a=[];D.length>1;){const R=Math.floor(Math.random()*D.length);a.push(D[R]),D=D.slice(0,R).concat(D.slice(R+1))}a=a.concat(D)}else a=t.resources.slice(s).concat(t.resources.slice(0,s));const o=Date.now();let l="pending",u=0,d,f=null,h=[],g=[];typeof r=="function"&&g.push(r);function v(){f&&(clearTimeout(f),f=null)}function p(){l==="pending"&&(l="aborted"),v(),h.forEach(D=>{D.status==="pending"&&(D.status="aborted")}),h=[]}function _(D,R){R&&(g=[]),typeof D=="function"&&g.push(D)}function S(){return{startTime:o,payload:e,status:l,queriesSent:u,queriesPending:h.length,subscribe:_,abort:p}}function C(){l="failed",g.forEach(D=>{D(void 0,d)})}function T(){h.forEach(D=>{D.status==="pending"&&(D.status="aborted")}),h=[]}function A(D,R,N){const U=R!=="success";switch(h=h.filter(Y=>Y!==D),l){case"pending":break;case"failed":if(U||!t.dataAfterTimeout)return;break;default:return}if(R==="abort"){d=N,C();return}if(U){d=N,h.length||(a.length?P():C());return}if(v(),T(),!t.random){const Y=t.resources.indexOf(D.resource);Y!==-1&&Y!==t.index&&(t.index=Y)}l="completed",g.forEach(Y=>{Y(N)})}function P(){if(l!=="pending")return;v();const D=a.shift();if(D===void 0){if(h.length){f=setTimeout(()=>{v(),l==="pending"&&(T(),C())},t.timeout);return}C();return}const R={status:"pending",resource:D,callback:(N,U)=>{A(R,N,U)}};h.push(R),u++,f=setTimeout(P,t.rotate),n(D,e,R.callback)}return setTimeout(P),S}function Nse(t){const e={...EKe,...t};let n=[];function r(){n=n.filter(o=>o().status==="pending")}function i(o,l,u){const d=AKe(e,o,l,(f,h)=>{r(),u&&u(f,h)});return n.push(d),d}function s(o){return n.find(l=>o(l))||null}return{query:i,find:s,setIndex:o=>{e.index=o},getIndex:()=>e.index,cleanup:r}}function Bz(){}const PP=Object.create(null);function PKe(t){if(!PP[t]){const e=x$(t);if(!e)return;const n=Nse(e),r={config:e,redundancy:n};PP[t]=r}return PP[t]}function kKe(t,e,n){let r,i;if(typeof t=="string"){const s=pR(t);if(!s)return n(void 0,424),Bz;i=s.send;const a=PKe(t);a&&(r=a.redundancy)}else{const s=_$(t);if(s){r=Nse(s);const a=t.resources?t.resources[0]:"",o=pR(a);o&&(i=o.send)}}return!r||!i?(n(void 0,424),Bz):r.query(e,i,n)().abort}function Uz(){}function DKe(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,wKe(t)}))}function IKe(t){const e=[],n=[];return t.forEach(r=>{(r.match(Pse)?e:n).push(r)}),{valid:e,invalid:n}}function W_(t,e,n){function r(){const i=t.pendingIcons;e.forEach(s=>{i&&i.delete(s),t.icons[s]||t.missing.add(s)})}if(n&&typeof n=="object")try{if(!Rse(t,n).length){r();return}}catch(i){console.error(i)}r(),DKe(t)}function Vz(t,e){t instanceof Promise?t.then(n=>{e(n)}).catch(()=>{e(null)}):e(t)}function RKe(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,i=t.iconsToLoad;if(delete t.iconsToLoad,!i||!i.length)return;const s=t.loadIcon;if(t.loadIcons&&(i.length>1||!s)){Vz(t.loadIcons(i,r,n),d=>{W_(t,i,d)});return}if(s){i.forEach(d=>{const f=s(d,r,n);Vz(f,h=>{const g=h?{prefix:r,icons:{[d]:h}}:null;W_(t,[d],g)})});return}const{valid:a,invalid:o}=IKe(i);if(o.length&&W_(t,o,null),!a.length)return;const l=r.match(Pse)?pR(n):null;if(!l){W_(t,a,null);return}l.prepare(n,r,a).forEach(d=>{kKe(n,d,f=>{W_(t,d.icons,f)})})}))}const OKe=(t,e)=>{const n=CKe(t,!0,Ose()),r=xKe(n);if(!r.pending.length){let l=!0;return e&&setTimeout(()=>{l&&e(r.loaded,r.missing,r.pending,Uz)}),()=>{l=!1}}const i=Object.create(null),s=[];let a,o;return r.pending.forEach(l=>{const{provider:u,prefix:d}=l;if(d===o&&u===a)return;a=u,o=d,s.push(my(u,d));const f=i[u]||(i[u]=Object.create(null));f[d]||(f[d]=[])}),r.pending.forEach(l=>{const{provider:u,prefix:d,name:f}=l,h=my(u,d),g=h.pendingIcons||(h.pendingIcons=new Set);g.has(f)||(g.add(f),i[u][d].push(f))}),s.forEach(l=>{const u=i[l.provider][l.prefix];u.length&&RKe(l,u)}),e?TKe(e,r,s):Uz};function MKe(t,e){const n={...t};for(const r in e){const i=e[r],s=typeof i;r in Mse?(i===null||i&&(s==="string"||s==="number"))&&(n[r]=i):s===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const LKe=/[\s,]+/;function $Ke(t,e){e.split(LKe).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function NKe(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(t);return isNaN(i)?0:r(i)}else if(n!==t){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(t.slice(0,t.length-n.length));return isNaN(s)?0:(s=s/i,s%1===0?r(s):0)}}return e}function FKe(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function BKe(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function UKe(t){return"data:image/svg+xml,"+BKe(t)}function VKe(t){return'url("'+UKe(t)+'")'}const zz={...Lse,inline:!1},zKe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},HKe={display:"inline-block"},mR={backgroundColor:"currentColor"},Fse={backgroundColor:"transparent"},Hz={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},jz={webkitMask:mR,mask:mR,background:Fse};for(const t in jz){const e=jz[t];for(const n in Hz)e[t+n]=Hz[n]}const nT={};["horizontal","vertical"].forEach(t=>{const e=t.slice(0,1)+"Flip";nT[t+"-flip"]=e,nT[t.slice(0,1)+"-flip"]=e,nT[t+"Flip"]=e});function Gz(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const Wz=(t,e)=>{const n=MKe(zz,e),r={...zKe},i=e.mode||"svg",s={},a=e.style,o=typeof a=="object"&&!(a instanceof Array)?a:{};for(let p in e){const _=e[p];if(_!==void 0)switch(p){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":n[p]=_===!0||_==="true"||_===1;break;case"flip":typeof _=="string"&&$Ke(n,_);break;case"color":s.color=_;break;case"rotate":typeof _=="string"?n[p]=NKe(_):typeof _=="number"&&(n[p]=_);break;case"ariaHidden":case"aria-hidden":_!==!0&&_!=="true"&&delete r["aria-hidden"];break;default:{const S=nT[p];S?(_===!0||_==="true"||_===1)&&(n[S]=!0):zz[p]===void 0&&(r[p]=_)}}}const l=oKe(t,n),u=l.attributes;if(n.inline&&(s.verticalAlign="-0.125em"),i==="svg"){r.style={...s,...o},Object.assign(r,u);let p=0,_=e.id;return typeof _=="string"&&(_=_.replace(/-/g,"_")),r.innerHTML=dKe(l.body,_?()=>_+"ID"+p++:"iconifyVue"),En("svg",r)}const{body:d,width:f,height:h}=t,g=i==="mask"||(i==="bg"?!1:d.indexOf("currentColor")!==-1),v=FKe(d,{...u,width:f+"",height:h+""});return r.style={...s,"--svg":VKe(v),width:Gz(u.width),height:Gz(u.height),...HKe,...g?mR:Fse,...o},En("span",r)};Ose(!0);fKe("",bKe);if(typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!eKe(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const i=e[n];if(typeof i!="object"||!i||i.resources===void 0)continue;hKe(n,i)||console.error(r)}catch{console.error(r)}}}}const jKe={...BA,body:""},GKe=kt({inheritAttrs:!1,data(){return{_name:"",_loadingIcon:null,iconMounted:!1,counter:0}},mounted(){this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(t,e,n){if(typeof t=="object"&&t!==null&&typeof t.body=="string")return this._name="",this.abortLoading(),{data:t};let r;if(typeof t!="string"||(r=FA(t,!1,!0))===null)return this.abortLoading(),null;let i=QYe(r);if(!i)return(!this._loadingIcon||this._loadingIcon.name!==t)&&(this.abortLoading(),this._name="",i!==null&&(this._loadingIcon={name:t,abort:OKe([r],()=>{this.counter++})})),null;if(this.abortLoading(),this._name!==t&&(this._name=t,e&&e(t)),n){i=Object.assign({},i);const a=n(i.body,r.name,r.prefix,r.provider);typeof a=="string"&&(i.body=a)}const s=["iconify"];return r.prefix!==""&&s.push("iconify--"+r.prefix),r.provider!==""&&s.push("iconify--"+r.provider),{data:i,classes:s}}},render(){this.counter;const t=this.$attrs,e=this.iconMounted||t.ssr?this.getIcon(t.icon,t.onLoad,t.customise):null;if(!e)return Wz(jKe,t);let n=t;return e.classes&&(n={...t,class:(typeof t.class=="string"?t.class+" ":"")+e.classes.join(" ")}),Wz({...BA,...e.data},n)}});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ex(t){return t+.5|0}const op=(t,e,n)=>Math.max(Math.min(t,n),e);function E2(t){return op(Ex(t*2.55),0,255)}function yp(t){return op(Ex(t*255),0,255)}function yf(t){return op(Ex(t/2.55)/100,0,1)}function qz(t){return op(Ex(t*100),0,100)}const bu={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},gR=[..."0123456789ABCDEF"],WKe=t=>gR[t&15],qKe=t=>gR[(t&240)>>4]+gR[t&15],kw=t=>(t&240)>>4===(t&15),XKe=t=>kw(t.r)&&kw(t.g)&&kw(t.b)&&kw(t.a);function YKe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&bu[t[1]]*17,g:255&bu[t[2]]*17,b:255&bu[t[3]]*17,a:e===5?bu[t[4]]*17:255}:(e===7||e===9)&&(n={r:bu[t[1]]<<4|bu[t[2]],g:bu[t[3]]<<4|bu[t[4]],b:bu[t[5]]<<4|bu[t[6]],a:e===9?bu[t[7]]<<4|bu[t[8]]:255})),n}const KKe=(t,e)=>t<255?e(t):"";function ZKe(t){var e=XKe(t)?WKe:qKe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+KKe(t.a,e):void 0}const QKe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Bse(t,e,n){const r=e*Math.min(n,1-n),i=(s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function JKe(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function eZe(t,e,n){const r=Bse(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function tZe(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function w$(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;let l,u,d;return s!==a&&(d=s-a,u=o>.5?d/(2-s-a):d/(s+a),l=tZe(n,r,i,d,s),l=l*60+.5),[l|0,u||0,o]}function S$(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(yp)}function T$(t,e,n){return S$(Bse,t,e,n)}function nZe(t,e,n){return S$(eZe,t,e,n)}function rZe(t,e,n){return S$(JKe,t,e,n)}function Use(t){return(t%360+360)%360}function iZe(t){const e=QKe.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?E2(+e[5]):yp(+e[5]));const i=Use(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=nZe(i,s,a):e[1]==="hsv"?r=rZe(i,s,a):r=T$(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function sZe(t,e){var n=w$(t);n[0]=Use(n[0]+e),n=T$(n),t.r=n[0],t.g=n[1],t.b=n[2]}function aZe(t){if(!t)return;const e=w$(t),n=e[0],r=qz(e[1]),i=qz(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${yf(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Xz={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Yz={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oZe(){const t={},e=Object.keys(Yz),n=Object.keys(Xz);let r,i,s,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,Xz[s]);s=parseInt(Yz[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let Dw;function lZe(t){Dw||(Dw=oZe(),Dw.transparent=[0,0,0,0]);const e=Dw[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const uZe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function cZe(t){const e=uZe.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?E2(a):op(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?E2(r):op(r,0,255)),i=255&(e[4]?E2(i):op(i,0,255)),s=255&(e[6]?E2(s):op(s,0,255)),{r,g:i,b:s,a:n}}}function dZe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${yf(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const kP=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,kg=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function fZe(t,e,n){const r=kg(yf(t.r)),i=kg(yf(t.g)),s=kg(yf(t.b));return{r:yp(kP(r+n*(kg(yf(e.r))-r))),g:yp(kP(i+n*(kg(yf(e.g))-i))),b:yp(kP(s+n*(kg(yf(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Iw(t,e,n){if(t){let r=w$(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=T$(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Vse(t,e){return t&&Object.assign(e||{},t)}function Kz(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=yp(t[3]))):(e=Vse(t,{r:0,g:0,b:0,a:1}),e.a=yp(e.a)),e}function hZe(t){return t.charAt(0)==="r"?cZe(t):iZe(t)}class y1{constructor(e){if(e instanceof y1)return e;const n=typeof e;let r;n==="object"?r=Kz(e):n==="string"&&(r=YKe(e)||lZe(e)||hZe(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Vse(this._rgb);return e&&(e.a=yf(e.a)),e}set rgb(e){this._rgb=Kz(e)}rgbString(){return this._valid?dZe(this._rgb):void 0}hexString(){return this._valid?ZKe(this._rgb):void 0}hslString(){return this._valid?aZe(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const a=n===s?.5:n,o=2*a-1,l=r.a-i.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=fZe(this._rgb,e._rgb,n)),this}clone(){return new y1(this.rgb)}alpha(e){return this._rgb.a=yp(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ex(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Iw(this._rgb,2,e),this}darken(e){return Iw(this._rgb,2,-e),this}saturate(e){return Iw(this._rgb,1,e),this}desaturate(e){return Iw(this._rgb,1,-e),this}rotate(e){return sZe(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function rf(){}const pZe=(()=>{let t=0;return()=>t++})();function ji(t){return t==null}function Os(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ai(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Wa(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Yl(t,e){return Wa(t)?t:e}function fi(t,e){return typeof t>"u"?e:t}const mZe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,zse=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ls(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Vi(t,e,n,r){let i,s,a;if(Os(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(Ai(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(n,t[a[i]],a[i])}function IC(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function RC(t){if(Os(t))return t.map(RC);if(Ai(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=RC(t[n[i]]);return e}return t}function Hse(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function gZe(t,e,n,r){if(!Hse(t))return;const i=e[t],s=n[t];Ai(i)&&Ai(s)?_1(i,s,r):e[t]=RC(s)}function _1(t,e,n){const r=Os(e)?e:[e],i=r.length;if(!Ai(t))return t;n=n||{};const s=n.merger||gZe;let a;for(let o=0;o<i;++o){if(a=r[o],!Ai(a))continue;const l=Object.keys(a);for(let u=0,d=l.length;u<d;++u)s(l[u],t,a,n)}return t}function hb(t,e){return _1(t,e,{merger:vZe})}function vZe(t,e,n){if(!Hse(t))return;const r=e[t],i=n[t];Ai(r)&&Ai(i)?hb(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=RC(i))}const Zz={"":t=>t,x:t=>t.x,y:t=>t.y};function yZe(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function _Ze(t){const e=yZe(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function gy(t,e){return(Zz[e]||(Zz[e]=_Ze(e)))(t)}function C$(t){return t.charAt(0).toUpperCase()+t.slice(1)}const OC=t=>typeof t<"u",Fp=t=>typeof t=="function",Qz=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function bZe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Bs=Math.PI,oo=2*Bs,xZe=oo+Bs,MC=Number.POSITIVE_INFINITY,wZe=Bs/180,il=Bs/2,g0=Bs/4,Jz=Bs*2/3,lp=Math.log10,vy=Math.sign;function pb(t,e,n){return Math.abs(t-e)<n}function eH(t){const e=Math.round(t);t=pb(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(lp(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function SZe(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function TZe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function b1(t){return!TZe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function CZe(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function jse(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function cc(t){return t*(Bs/180)}function E$(t){return t*(180/Bs)}function tH(t){if(!Wa(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function EZe(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Bs&&(s+=oo),{angle:s,distance:i}}function vR(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function AZe(t,e){return(t-e+xZe)%oo-Bs}function oc(t){return(t%oo+oo)%oo}function LC(t,e,n,r){const i=oc(t),s=oc(e),a=oc(n),o=oc(s-i),l=oc(a-i),u=oc(i-s),d=oc(i-a);return i===s||i===a||r&&s===a||o>l&&u<d}function Du(t,e,n){return Math.max(e,Math.min(n,t))}function PZe(t){return Du(t,-32768,32767)}function A2(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function A$(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const tm=(t,e,n,r)=>A$(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),kZe=(t,e,n)=>A$(t,n,r=>t[r][e]>=n);function DZe(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const Gse=["push","pop","shift","splice","unshift"];function IZe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Gse.forEach(n=>{const r="_onData"+C$(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function nH(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(Gse.forEach(s=>{delete t[s]}),delete t._chartjs)}function RZe(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Wse=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function qse(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,Wse.call(window,()=>{r=!1,t.apply(e,n)}))}}function OZe(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const P$=t=>t==="start"?"left":t==="end"?"right":"center",wo=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,MZe=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function LZe(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:f,max:h,minDefined:g,maxDefined:v}=a.getUserBounds();if(g){if(i=Math.min(tm(l,d,f).lo,n?r:tm(e,d,a.getPixelForValue(f)).lo),u){const p=l.slice(0,i+1).reverse().findIndex(_=>!ji(_[o.axis]));i-=Math.max(0,p)}i=Du(i,0,r-1)}if(v){let p=Math.max(tm(l,a.axis,h,!0).hi+1,n?0:tm(e,d,a.getPixelForValue(h),!0).hi+1);if(u){const _=l.slice(p-1).findIndex(S=>!ji(S[o.axis]));p+=Math.max(0,_)}s=Du(p,i,r)-i}else s=r-i}return{start:i,count:s}}function $Ze(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Rw=t=>t===0||t===1,rH=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*oo/n)),iH=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*oo/n)+1,mb={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*il)+1,easeOutSine:t=>Math.sin(t*il),easeInOutSine:t=>-.5*(Math.cos(Bs*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Rw(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Rw(t)?t:rH(t,.075,.3),easeOutElastic:t=>Rw(t)?t:iH(t,.075,.3),easeInOutElastic(t){return Rw(t)?t:t<.5?.5*rH(t*2,.1125,.45):.5+.5*iH(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-mb.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?mb.easeInBounce(t*2)*.5:mb.easeOutBounce(t*2-1)*.5+.5};function k$(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function sH(t){return k$(t)?t:new y1(t)}function DP(t){return k$(t)?t:new y1(t).saturate(.5).darken(.1).hexString()}const NZe=["x","y","borderWidth","radius","tension"],FZe=["color","borderColor","backgroundColor"];function BZe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:FZe},numbers:{type:"number",properties:NZe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function UZe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const aH=new Map;function VZe(t,e){e=e||{};const n=t+JSON.stringify(e);let r=aH.get(n);return r||(r=new Intl.NumberFormat(t,e),aH.set(n,r)),r}function Ax(t,e,n){return VZe(e,n).format(t)}const Xse={values(t){return Os(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=zZe(t,n)}const a=lp(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Ax(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(lp(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?Xse.numeric.call(this,t,e,n):""}};function zZe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var UA={formatters:Xse};function HZe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:UA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Lm=Object.create(null),yR=Object.create(null);function gb(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function IP(t,e,n){return typeof e=="string"?_1(gb(t,e),n):_1(gb(t,""),e)}class jZe{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>DP(i.backgroundColor),this.hoverBorderColor=(r,i)=>DP(i.borderColor),this.hoverColor=(r,i)=>DP(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return IP(this,e,n)}get(e){return gb(this,e)}describe(e,n){return IP(yR,e,n)}override(e,n){return IP(Lm,e,n)}route(e,n,r,i){const s=gb(this,e),a=gb(this,r),o="_"+n;Object.defineProperties(s,{[o]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],u=a[i];return Ai(l)?Object.assign({},u,l):fi(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var Es=new jZe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BZe,UZe,HZe]);function GZe(t){return!t||ji(t.size)||ji(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function $C(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function WZe(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const o=n.length;let l,u,d,f,h;for(l=0;l<o;l++)if(f=n[l],f!=null&&!Os(f))a=$C(t,i,s,a,f);else if(Os(f))for(u=0,d=f.length;u<d;u++)h=f[u],h!=null&&!Os(h)&&(a=$C(t,i,s,a,h));t.restore();const g=s.length/2;if(g>n.length){for(l=0;l<g;l++)delete i[s[l]];s.splice(0,g)}return a}function v0(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function oH(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function _R(t,e,n,r){Yse(t,e,n,r,null)}function Yse(t,e,n,r,i){let s,a,o,l,u,d,f,h;const g=e.pointStyle,v=e.rotation,p=e.radius;let _=(v||0)*wZe;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(_),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),g){default:i?t.ellipse(n,r,i/2,p,0,0,oo):t.arc(n,r,p,0,oo),t.closePath();break;case"triangle":d=i?i/2:p,t.moveTo(n+Math.sin(_)*d,r-Math.cos(_)*p),_+=Jz,t.lineTo(n+Math.sin(_)*d,r-Math.cos(_)*p),_+=Jz,t.lineTo(n+Math.sin(_)*d,r-Math.cos(_)*p),t.closePath();break;case"rectRounded":u=p*.516,l=p-u,a=Math.cos(_+g0)*l,f=Math.cos(_+g0)*(i?i/2-u:l),o=Math.sin(_+g0)*l,h=Math.sin(_+g0)*(i?i/2-u:l),t.arc(n-f,r-o,u,_-Bs,_-il),t.arc(n+h,r-a,u,_-il,_),t.arc(n+f,r+o,u,_,_+il),t.arc(n-h,r+a,u,_+il,_+Bs),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*p,d=i?i/2:l,t.rect(n-d,r-l,2*d,2*l);break}_+=g0;case"rectRot":f=Math.cos(_)*(i?i/2:p),a=Math.cos(_)*p,o=Math.sin(_)*p,h=Math.sin(_)*(i?i/2:p),t.moveTo(n-f,r-o),t.lineTo(n+h,r-a),t.lineTo(n+f,r+o),t.lineTo(n-h,r+a),t.closePath();break;case"crossRot":_+=g0;case"cross":f=Math.cos(_)*(i?i/2:p),a=Math.cos(_)*p,o=Math.sin(_)*p,h=Math.sin(_)*(i?i/2:p),t.moveTo(n-f,r-o),t.lineTo(n+f,r+o),t.moveTo(n+h,r-a),t.lineTo(n-h,r+a);break;case"star":f=Math.cos(_)*(i?i/2:p),a=Math.cos(_)*p,o=Math.sin(_)*p,h=Math.sin(_)*(i?i/2:p),t.moveTo(n-f,r-o),t.lineTo(n+f,r+o),t.moveTo(n+h,r-a),t.lineTo(n-h,r+a),_+=g0,f=Math.cos(_)*(i?i/2:p),a=Math.cos(_)*p,o=Math.sin(_)*p,h=Math.sin(_)*(i?i/2:p),t.moveTo(n-f,r-o),t.lineTo(n+f,r+o),t.moveTo(n+h,r-a),t.lineTo(n-h,r+a);break;case"line":a=i?i/2:Math.cos(_)*p,o=Math.sin(_)*p,t.moveTo(n-a,r-o),t.lineTo(n+a,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(_)*(i?i/2:p),r+Math.sin(_)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Af(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function D$(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function I$(t){t.restore()}function qZe(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function XZe(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function YZe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ji(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function KZe(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,d=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,d),t.lineTo(o,d),t.stroke()}}function ZZe(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function $m(t,e,n,r,i,s={}){const a=Os(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,YZe(t,s),l=0;l<a.length;++l)u=a[l],s.backdrop&&ZZe(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ji(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,r,s.maxWidth)),t.fillText(u,n,r,s.maxWidth),KZe(t,n,r,u,s),r+=Number(i.lineHeight);t.restore()}function NC(t,e){const{x:n,y:r,w:i,h:s,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Bs,Bs,!0),t.lineTo(n,r+s-a.bottomLeft),t.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Bs,il,!0),t.lineTo(n+i-a.bottomRight,r+s),t.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,il,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-il,!0),t.lineTo(n+a.topLeft,r)}const QZe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JZe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function eQe(t,e){const n=(""+t).match(QZe);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const tQe=t=>+t||0;function Kse(t,e){const n={},r=Ai(e),i=r?Object.keys(e):e,s=Ai(t)?r?a=>fi(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=tQe(s(a));return n}function nQe(t){return Kse(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Sv(t){return Kse(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Fo(t){const e=nQe(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ka(t,e){t=t||{},e=e||Es.font;let n=fi(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=fi(t.style,e.style);r&&!(""+r).match(JZe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:fi(t.family,e.family),lineHeight:eQe(fi(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:fi(t.weight,e.weight),string:""};return i.string=GZe(i),i}function Ow(t,e,n,r){let i=!0,s,a,o;for(s=0,a=t.length;s<a;++s)if(o=t[s],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),i=!1),n!==void 0&&Os(o)&&(o=o[n%o.length],i=!1),o!==void 0))return r&&!i&&(r.cacheable=!1),o}function rQe(t,e,n){const{min:r,max:i}=t,s=zse(e,(i-r)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Kp(t,e){return Object.assign(Object.create(t),e)}function R$(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=eae("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>R$([o,...t],e,s,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return Qse(o,l,()=>dQe(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return uH(o).includes(l)},ownKeys(o){return uH(o)},set(o,l,u){const d=o._storage||(o._storage=i());return o[l]=d[l]=u,delete o._keys,!0}})}function yy(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Zse(t,r),setContext:s=>yy(t,s,n,r),override:s=>yy(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return Qse(s,a,()=>sQe(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function Zse(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Fp(n)?n:()=>n,isIndexable:Fp(r)?r:()=>r}}const iQe=(t,e)=>t?t+C$(e):e,O$=(t,e)=>Ai(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Qse(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function sQe(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=t;let o=r[e];return Fp(o)&&a.isScriptable(e)&&(o=aQe(e,o,t,n)),Os(o)&&o.length&&(o=oQe(e,o,t,a.isIndexable)),O$(e,o)&&(o=yy(o,i,s&&s[e],a)),o}function aQe(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||r);return o.delete(t),O$(t,l)&&(l=M$(i._scopes,i,t,l)),l}function oQe(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Ai(e[0])){const l=e,u=i._scopes.filter(d=>d!==l);e=[];for(const d of l){const f=M$(u,i,t,d);e.push(yy(f,s,a&&a[t],o))}}return e}function Jse(t,e,n){return Fp(t)?t(e,n):t}const lQe=(t,e)=>t===!0?e:typeof t=="string"?gy(e,t):void 0;function uQe(t,e,n,r,i){for(const s of e){const a=lQe(n,s);if(a){t.add(a);const o=Jse(a._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function M$(t,e,n,r){const i=e._rootScopes,s=Jse(e._fallback,n,r),a=[...t,...i],o=new Set;o.add(r);let l=lH(o,a,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=lH(o,a,s,l,r),l===null)?!1:R$(Array.from(o),[""],i,s,()=>cQe(e,n,r))}function lH(t,e,n,r,i){for(;n;)n=uQe(t,e,n,r,i);return n}function cQe(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Os(i)&&Ai(n)?n:i||{}}function dQe(t,e,n,r){let i;for(const s of e)if(i=eae(iQe(s,t),n),typeof i<"u")return O$(t,i)?M$(n,r,t,i):i}function eae(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function uH(t){let e=t._keys;return e||(e=t._keys=fQe(t._scopes)),e}function fQe(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function hQe(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,a=new Array(r);let o,l,u,d;for(o=0,l=r;o<l;++o)u=o+n,d=e[u],a[o]={r:i.parse(gy(d,s),u)};return a}const pQe=Number.EPSILON||1e-14,_y=(t,e)=>e<t.length&&!t[e].skip&&t[e],tae=t=>t==="x"?"y":"x";function mQe(t,e,n,r){const i=t.skip?e:t,s=e,a=n.skip?e:n,o=vR(s,i),l=vR(a,s);let u=o/(o+l),d=l/(o+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=r*u,h=r*d;return{previous:{x:s.x-f*(a.x-i.x),y:s.y-f*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function gQe(t,e,n){const r=t.length;let i,s,a,o,l,u=_y(t,0);for(let d=0;d<r-1;++d)if(l=u,u=_y(t,d+1),!(!l||!u)){if(pb(e[d],0,pQe)){n[d]=n[d+1]=0;continue}i=n[d]/e[d],s=n[d+1]/e[d],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),n[d]=i*a*e[d],n[d+1]=s*a*e[d])}}function vQe(t,e,n="x"){const r=tae(n),i=t.length;let s,a,o,l=_y(t,0);for(let u=0;u<i;++u){if(a=o,o=l,l=_y(t,u+1),!o)continue;const d=o[n],f=o[r];a&&(s=(d-a[n])/3,o[`cp1${n}`]=d-s,o[`cp1${r}`]=f-s*e[u]),l&&(s=(l[n]-d)/3,o[`cp2${n}`]=d+s,o[`cp2${r}`]=f+s*e[u])}}function yQe(t,e="x"){const n=tae(e),r=t.length,i=Array(r).fill(0),s=Array(r);let a,o,l,u=_y(t,0);for(a=0;a<r;++a)if(o=l,l=u,u=_y(t,a+1),!!l){if(u){const d=u[e]-l[e];i[a]=d!==0?(u[n]-l[n])/d:0}s[a]=o?u?vy(i[a-1])!==vy(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}gQe(t,i,s),vQe(t,s,e)}function Mw(t,e,n){return Math.max(Math.min(t,n),e)}function _Qe(t,e){let n,r,i,s,a,o=Af(t[0],e);for(n=0,r=t.length;n<r;++n)a=s,s=o,o=n<r-1&&Af(t[n+1],e),s&&(i=t[n],a&&(i.cp1x=Mw(i.cp1x,e.left,e.right),i.cp1y=Mw(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=Mw(i.cp2x,e.left,e.right),i.cp2y=Mw(i.cp2y,e.top,e.bottom)))}function bQe(t,e,n,r,i){let s,a,o,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")yQe(t,i);else{let u=r?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=mQe(u,o,t[Math.min(s+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&_Qe(t,n)}function L$(){return typeof window<"u"&&typeof document<"u"}function $$(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function FC(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const VA=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function xQe(t,e){return VA(t).getPropertyValue(e)}const wQe=["top","right","bottom","left"];function pm(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=wQe[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const SQe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function TQe(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let a=!1,o,l;if(SQe(i,s,t.target))o=i,l=s;else{const u=e.getBoundingClientRect();o=r.clientX-u.left,l=r.clientY-u.top,a=!0}return{x:o,y:l,box:a}}function O0(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=VA(n),s=i.boxSizing==="border-box",a=pm(i,"padding"),o=pm(i,"border","width"),{x:l,y:u,box:d}=TQe(t,n),f=a.left+(d&&o.left),h=a.top+(d&&o.top);let{width:g,height:v}=e;return s&&(g-=a.width+o.width,v-=a.height+o.height),{x:Math.round((l-f)/g*n.width/r),y:Math.round((u-h)/v*n.height/r)}}function CQe(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&$$(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),o=VA(s),l=pm(o,"border","width"),u=pm(o,"padding");e=a.width-u.width-l.width,n=a.height-u.height-l.height,r=FC(o.maxWidth,s,"clientWidth"),i=FC(o.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||MC,maxHeight:i||MC}}const up=t=>Math.round(t*10)/10;function EQe(t,e,n,r){const i=VA(t),s=pm(i,"margin"),a=FC(i.maxWidth,t,"clientWidth")||MC,o=FC(i.maxHeight,t,"clientHeight")||MC,l=CQe(t,e,n);let{width:u,height:d}=l;if(i.boxSizing==="content-box"){const h=pm(i,"border","width"),g=pm(i,"padding");u-=g.width+h.width,d-=g.height+h.height}return u=Math.max(0,u-s.width),d=Math.max(0,r?u/r:d-s.height),u=up(Math.min(u,a,l.maxWidth)),d=up(Math.min(d,o,l.maxHeight)),u&&!d&&(d=up(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,u=up(Math.floor(d*r))),{width:u,height:d}}function cH(t,e,n){const r=e||1,i=up(t.height*r),s=up(t.width*r);t.height=up(t.height),t.width=up(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=r,a.height=i,a.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const AQe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};L$()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function dH(t,e){const n=xQe(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function M0(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function PQe(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function kQe(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=M0(t,i,n),o=M0(i,s,n),l=M0(s,e,n),u=M0(a,o,n),d=M0(o,l,n);return M0(u,d,n)}const DQe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},IQe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Tv(t,e,n){return t?DQe(e,n):IQe()}function nae(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function rae(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function iae(t){return t==="angle"?{between:LC,compare:AZe,normalize:oc}:{between:A2,compare:(e,n)=>e-n,normalize:e=>e}}function fH({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function RQe(t,e,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=iae(r),l=e.length;let{start:u,end:d,loop:f}=t,h,g;if(f){for(u+=l,d+=l,h=0,g=l;h<g&&a(o(e[u%l][r]),i,s);++h)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:f,style:t.style}}function OQe(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,a=e.length,{compare:o,between:l,normalize:u}=iae(r),{start:d,end:f,loop:h,style:g}=RQe(t,e,n),v=[];let p=!1,_=null,S,C,T;const A=()=>l(i,T,S)&&o(i,T)!==0,P=()=>o(s,S)===0||l(s,T,S),D=()=>p||A(),R=()=>!p||P();for(let N=d,U=d;N<=f;++N)C=e[N%a],!C.skip&&(S=u(C[r]),S!==T&&(p=l(S,i,s),_===null&&D()&&(_=o(S,i)===0?N:U),_!==null&&R()&&(v.push(fH({start:_,end:N,loop:h,count:a,style:g})),_=null),U=N,T=S));return _!==null&&v.push(fH({start:_,end:f,loop:h,count:a,style:g})),v}function MQe(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=OQe(r[i],t.points,e);s.length&&n.push(...s)}return n}function LQe(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function $Qe(t,e,n,r){const i=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%i];u.skip||u.stop?o.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=a=u.stop?l:null):(a=l,o.skip&&(e=l)),o=u}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function NQe(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:a,end:o}=LQe(n,i,s,r);if(r===!0)return hH(t,[{start:a,end:o,loop:s}],n,e);const l=o<a?o+i:o,u=!!t._fullLoop&&a===0&&o===i-1;return hH(t,$Qe(n,a,l,u),n,e)}function hH(t,e,n,r){return!r||!r.setContext||!n?e:FQe(t,e,n,r)}function FQe(t,e,n,r){const i=t._chart.getContext(),s=pH(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,u=[];let d=s,f=e[0].start,h=f;function g(v,p,_,S){const C=o?-1:1;if(v!==p){for(v+=l;n[v%l].skip;)v-=C;for(;n[p%l].skip;)p+=C;v%l!==p%l&&(u.push({start:v%l,end:p%l,loop:_,style:S}),d=S,f=p%l)}}for(const v of e){f=o?f:v.start;let p=n[f%l],_;for(h=f+1;h<=v.end;h++){const S=n[h%l];_=pH(r.setContext(Kp(i,{type:"segment",p0:p,p1:S,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),BQe(_,d)&&g(f,h-1,v.loop,d),p=S,d=_}f<h-1&&g(f,h-1,v.loop,d)}return u}function pH(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function BQe(t,e){if(!e)return!1;const n=[],r=function(i,s){return k$(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Lw(t,e,n){return t.options.clip?t[n]:e[n]}function UQe(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Lw(n,e,"left"),right:Lw(n,e,"right"),top:Lw(r,e,"top"),bottom:Lw(r,e,"bottom")}:e}function VQe(t,e){const n=e._clip;if(n.disabled)return!1;const r=UQe(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class zQe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Wse.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var cf=new zQe;const mH="transparent",HQe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=sH(t||mH),i=r.valid&&sH(e||mH);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class jQe{constructor(e,n,r,i){const s=n[r];i=Ow([e.to,i,s,e.from]);const a=Ow([e.from,s,i]);this._active=!0,this._fn=e.fn||HQe[e.type||typeof a],this._easing=mb[e.easing]||mb.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ow([e.to,n,i,e.from]),this._from=Ow([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||n<r),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class sae{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ai(e))return;const n=Object.keys(Es.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Ai(s))return;const a={};for(const o of n)a[o]=s[o];(Os(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,n){const r=n.options,i=WQe(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&GQe(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[u];let f=s[u];const h=r.get(u);if(f)if(h&&f.active()){f.update(h,d,o);continue}else f.cancel();if(!h||!h.duration){e[u]=d;continue}s[u]=f=new jQe(h,e,u,d),i.push(f)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return cf.add(this._chart,r),!0}}function GQe(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function WQe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function gH(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function qQe(t,e,n){if(n===!1)return!1;const r=gH(t,n),i=gH(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function XQe(t){let e,n,r,i;return Ai(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function aae(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function vH(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let a,o,l,u;if(e===null)return;let d=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(d=!0,r.all)continue;break}u=t.values[l],Wa(u)&&(s||e===0||vy(e)===vy(u))&&(e+=u)}return!d&&!r.all?0:e}function YQe(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,u,d;for(l=0,u=a.length;l<u;++l)d=a[l],o[l]={[i]:d,[s]:t[d]};return o}function RP(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function KQe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function ZQe(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function QQe(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function yH(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function _H(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,u=a.axis,d=KQe(s,a,r),f=e.length;let h;for(let g=0;g<f;++g){const v=e[g],{[l]:p,[u]:_}=v,S=v._stacks||(v._stacks={});h=S[u]=QQe(i,d,p),h[o]=_,h._top=yH(h,a,!0,r.type),h._bottom=yH(h,a,!1,r.type);const C=h._visualValues||(h._visualValues={});C[o]=_}}function OP(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function JQe(t,e){return Kp(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function eJe(t,e,n){return Kp(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function q_(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const MP=t=>t==="reset"||t==="none",bH=(t,e)=>e?t:Object.assign({},t),tJe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:aae(n,!0),values:null};class mm{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=RP(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&q_(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(f,h,g,v)=>f==="x"?h:f==="r"?v:g,s=n.xAxisID=fi(r.xAxisID,OP(e,"x")),a=n.yAxisID=fi(r.yAxisID,OP(e,"y")),o=n.rAxisID=fi(r.rAxisID,OP(e,"r")),l=n.indexAxis,u=n.iAxisID=i(l,s,a,o),d=n.vAxisID=i(l,a,s,o);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&nH(this._data,this),e._stacked&&q_(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ai(n)){const i=this._cachedMeta;this._data=YQe(n,i)}else if(r!==n){if(r){nH(r,this);const i=this._cachedMeta;q_(i),i._parsed=[]}n&&Object.isExtensible(n)&&IZe(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=RP(n.vScale,n),n.stack!==r.stack&&(i=!0,q_(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(_H(this,n._parsed),n._stacked=RP(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let l=e===0&&n===i.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,f,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{Os(i[e])?h=this.parseArrayData(r,i,e,n):Ai(i[e])?h=this.parseObjectData(r,i,e,n):h=this.parsePrimitiveData(r,i,e,n);const g=()=>f[o]===null||u&&f[o]<u[o];for(d=0;d<n;++d)r._parsed[d+e]=f=h[d],l&&(g()&&(l=!1),u=f);r._sorted=l}a&&_H(this,h)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,u=s.getLabels(),d=s===a,f=new Array(i);let h,g,v;for(h=0,g=i;h<g;++h)v=h+r,f[h]={[o]:d||s.parse(u[v],v),[l]:a.parse(n[v],v)};return f}parseArrayData(e,n,r,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,u,d,f;for(l=0,u=i;l<u;++l)d=l+r,f=n[d],o[l]={x:s.parse(f[0],d),y:a.parse(f[1],d)};return o}parseObjectData(e,n,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let d,f,h,g;for(d=0,f=i;d<f;++d)h=d+r,g=n[h],u[d]={x:s.parse(gy(g,o),h),y:a.parse(gy(g,l),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,a=n[e.axis],o={keys:aae(i,!0),values:n._stacks[e.axis]._visualValues};return vH(o,a,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const o=i&&r._stacks[n.axis];i&&o&&(i.values=o,a=vH(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,o=this._getOtherScale(e),l=tJe(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=ZQe(o);let h,g;function v(){g=i[h];const p=g[o.axis];return!Wa(g[e.axis])||d>p||f<p}for(h=0;h<a&&!(!v()&&(this.updateRangeFromParsed(u,e,g,l),s));++h);if(s){for(h=a-1;h>=0;--h)if(!v()){this.updateRangeFromParsed(u,e,g,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][e.axis],Wa(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=XQe(fi(this.options.clip,qQe(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,s,o,l),d=o;d<o+l;++d){const f=i[d];f.hidden||(f.active&&u?a.push(f):f.draw(e,s))}for(d=0;d<a.length;++d)a[d].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=eJe(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=JQe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=e+"-"+n,o=s[a],l=this.enableOptionSharing&&OC(r);if(o)return bH(o,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),d),g=Object.keys(Es.elements[e]),v=()=>this.getContext(r,i,n),p=u.resolveNamedOptions(h,g,v,f);return p.$shared&&(p.$shared=l,s[a]=Object.freeze(bH(p,l))),p}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(e,r,n))}const u=new sae(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||MP(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(e,n,r,i){MP(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!MP(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,a=e+n;let o;const l=u=>{for(u.length+=n,o=u.length-1;o>=a;o--)u[o]=u[o-n]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&q_(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}nt(mm,"defaults",{}),nt(mm,"datasetElementType",null),nt(mm,"dataElementType",null);function nJe(t,e,n){let r=1,i=1,s=0,a=0;if(e<oo){const o=t,l=o+e,u=Math.cos(o),d=Math.sin(o),f=Math.cos(l),h=Math.sin(l),g=(T,A,P)=>LC(T,o,l,!0)?1:Math.max(A,A*n,P,P*n),v=(T,A,P)=>LC(T,o,l,!0)?-1:Math.min(A,A*n,P,P*n),p=g(0,u,f),_=g(il,d,h),S=v(Bs,u,f),C=v(Bs+il,d,h);r=(p-S)/2,i=(_-C)/2,s=-(p+S)/2,a=-(_+C)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class P2 extends mm{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Ai(r[e])){const{key:l="value"}=this._parsing;s=u=>+gy(r[u],l)}let a,o;for(a=e,o=e+n;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return cc(this.options.rotation-90)}_getCircumference(){return cc(this.options.circumference)}_getRotationExtents(){let e=oo,n=-oo;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(mZe(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:g,offsetX:v,offsetY:p}=nJe(f,d,l),_=(r.width-a)/h,S=(r.height-a)/g,C=Math.max(Math.min(_,S)/2,0),T=zse(this.options.radius,C),A=Math.max(T*l,0),P=(T-A)/this._getVisibleDatasetWeightTotal();this.offsetX=v*T,this.offsetY=p*T,i.total=this.calculateTotal(),this.outerRadius=T-P*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-P*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/oo)}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,o=a.chartArea,u=a.options.animation,d=(o.left+o.right)/2,f=(o.top+o.bottom)/2,h=s&&u.animateScale,g=h?0:this.innerRadius,v=h?0:this.outerRadius,{sharedOptions:p,includeOptions:_}=this._getSharedOptions(n,i);let S=this._getRotation(),C;for(C=0;C<n;++C)S+=this._circumference(C,s);for(C=n;C<n+r;++C){const T=this._circumference(C,s),A=e[C],P={x:d+this.offsetX,y:f+this.offsetY,startAngle:S,endAngle:S+T,circumference:T,outerRadius:v,innerRadius:g};_&&(P.options=p||this.resolveDataElementOptions(C,A.active?"active":i)),S+=T,this.updateElement(A,C,P,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?oo*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Ax(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(fi(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}nt(P2,"id","doughnut"),nt(P2,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),nt(P2,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),nt(P2,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,u)=>{const f=e.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:f.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(u),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:i,pointStyle:r,borderRadius:a&&(o||f.borderRadius),index:u}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class rT extends mm{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=LZe(n,i,a);this._drawStart=o,this._drawCount=l,$Ze(n)&&(o=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(i,o,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,i),h=a.axis,g=o.axis,{spanGaps:v,segment:p}=this.options,_=b1(v)?v:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||s||i==="none",C=n+r,T=e.length;let A=n>0&&this.getParsed(n-1);for(let P=0;P<T;++P){const D=e[P],R=S?D:{};if(P<n||P>=C){R.skip=!0;continue}const N=this.getParsed(P),U=ji(N[g]),Y=R[h]=a.getPixelForValue(N[h],P),H=R[g]=s||U?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,N,l):N[g],P);R.skip=isNaN(Y)||isNaN(H)||U,R.stop=P>0&&Math.abs(N[h]-A[h])>_,p&&(R.parsed=N,R.raw=u.data[P]),f&&(R.options=d||this.resolveDataElementOptions(P,D.active?"active":i)),S||this.updateElement(D,P,R,i),A=N}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}nt(rT,"id","line"),nt(rT,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),nt(rT,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class iT extends mm{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Ax(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,n,r,i){return hQe.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),o=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,h=u.getIndexAngle(0)-.5*Bs;let g=h,v;const p=360/this.countVisibleElements();for(v=0;v<n;++v)g+=this._computeAngle(v,i,p);for(v=n;v<n+r;v++){const _=e[v];let S=g,C=g+this._computeAngle(v,i,p),T=a.getDataVisibility(v)?u.getDistanceFromCenterForValue(this.getParsed(v).r):0;g=C,s&&(l.animateScale&&(T=0),l.animateRotate&&(S=C=h));const A={x:d,y:f,innerRadius:0,outerRadius:T,startAngle:S,endAngle:C,options:this.resolveDataElementOptions(v,_.active?"active":i)};this.updateElement(_,v,A,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?cc(this.resolveDataElementOptions(e,n).angle||r):0}}nt(iT,"id","polarArea"),nt(iT,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),nt(iT,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});function y0(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class N${constructor(e){nt(this,"options");this.options=e||{}}static override(e){Object.assign(N$.prototype,e)}init(){}formats(){return y0()}parse(){return y0()}format(){return y0()}add(){return y0()}diff(){return y0()}startOf(){return y0()}endOf(){return y0()}}var rJe={_date:N$};function iJe(t,e,n,r){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const u=o._reversePixels?kZe:tm;if(r){if(i._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const h=u(s,e,n-f),g=u(s,e,n+f);return{lo:h.lo,hi:g.hi}}}}else{const d=u(s,e,n);if(l){const{vScale:f}=i._cachedMeta,{_parsed:h}=t,g=h.slice(0,d.lo+1).reverse().findIndex(p=>!ji(p[f.axis]));d.lo-=Math.max(0,g);const v=h.slice(d.hi).findIndex(p=>!ji(p[f.axis]));d.hi+=Math.max(0,v)}return d}}return{lo:0,hi:s.length-1}}function Px(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=s.length;o<l;++o){const{index:u,data:d}=s[o],{lo:f,hi:h}=iJe(s[o],e,a,i);for(let g=f;g<=h;++g){const v=d[g];v.skip||r(v,u,g)}}}function sJe(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function LP(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Px(t,n,e,function(o,l,u){!i&&!Af(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&s.push({element:o,datasetIndex:l,index:u})},!0),s}function aJe(t,e,n,r){let i=[];function s(a,o,l){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:f}=EZe(a,{x:e.x,y:e.y});LC(f,u,d)&&i.push({element:a,datasetIndex:o,index:l})}return Px(t,n,e,s),i}function oJe(t,e,n,r,i,s){let a=[];const o=sJe(n);let l=Number.POSITIVE_INFINITY;function u(d,f,h){const g=d.inRange(e.x,e.y,i);if(r&&!g)return;const v=d.getCenterPoint(i);if(!(!!s||t.isPointInArea(v))&&!g)return;const _=o(e,v);_<l?(a=[{element:d,datasetIndex:f,index:h}],l=_):_===l&&a.push({element:d,datasetIndex:f,index:h})}return Px(t,n,e,u),a}function $P(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?aJe(t,e,n,i):oJe(t,e,n,r,i,s)}function xH(t,e,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return Px(t,n,e,(l,u,d)=>{l[a]&&l[a](e[n],i)&&(s.push({element:l,datasetIndex:u,index:d}),o=o||l.inRange(e.x,e.y,i))}),r&&!o?[]:s}var lJe={evaluateInteractionItems:Px,modes:{index(t,e,n,r){const i=O0(e,t),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?LP(t,i,s,r,a):$P(t,i,s,!1,r,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=o[0].index,f=u.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,r){const i=O0(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?LP(t,i,s,r,a):$P(t,i,s,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,u=t.getDatasetMeta(l).data;o=[];for(let d=0;d<u.length;++d)o.push({element:u[d],datasetIndex:l,index:d})}return o},point(t,e,n,r){const i=O0(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return LP(t,i,s,r,a)},nearest(t,e,n,r){const i=O0(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return $P(t,i,s,n.intersect,r,a)},x(t,e,n,r){const i=O0(e,t);return xH(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=O0(e,t);return xH(t,i,"y",n.intersect,r)}}};const oae=["left","top","right","bottom"];function X_(t,e){return t.filter(n=>n.pos===e)}function wH(t,e){return t.filter(n=>oae.indexOf(n.pos)===-1&&n.box.axis===e)}function Y_(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function uJe(t){const e=[];let n,r,i,s,a,o;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function cJe(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!oae.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function dJe(t,e){const n=cJe(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,u=n[o.stack],d=u&&o.stackWeight/u.weight;o.horizontal?(o.width=d?d*r:l&&e.availableWidth,o.height=i):(o.width=r,o.height=d?d*i:l&&e.availableHeight)}return n}function fJe(t){const e=uJe(t),n=Y_(e.filter(u=>u.box.fullSize),!0),r=Y_(X_(e,"left"),!0),i=Y_(X_(e,"right")),s=Y_(X_(e,"top"),!0),a=Y_(X_(e,"bottom")),o=wH(e,"x"),l=wH(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:X_(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function SH(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function lae(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function hJe(t,e,n,r){const{pos:i,box:s}=n,a=t.maxPadding;if(!Ai(i)){n.size&&(t[i]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,t[i]+=n.size}s.getPadding&&lae(a,s.getPadding());const o=Math.max(0,e.outerWidth-SH(a,t,"left","right")),l=Math.max(0,e.outerHeight-SH(a,t,"top","bottom")),u=o!==t.w,d=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function pJe(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function mJe(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return r(t?["left","right"]:["top","bottom"])}function k2(t,e,n,r){const i=[];let s,a,o,l,u,d;for(s=0,a=t.length,u=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,mJe(o.horizontal,e));const{same:f,other:h}=hJe(e,n,o,r);u|=f&&i.length,d=d||h,l.fullSize||i.push(o)}return u&&k2(i,e,n,r)||d}function $w(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function TH(t,e,n,r){const i=n.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,u=r[o.stack]||{count:1,placed:0,weight:1},d=o.stackWeight/u.weight||1;if(o.horizontal){const f=e.w*d,h=u.size||l.height;OC(u.start)&&(a=u.start),l.fullSize?$w(l,i.left,a,n.outerWidth-i.right-i.left,h):$w(l,e.left+u.placed,a,f,h),u.start=a,u.placed+=f,a=l.bottom}else{const f=e.h*d,h=u.size||l.width;OC(u.start)&&(s=u.start),l.fullSize?$w(l,s,i.top,h,n.outerHeight-i.bottom-i.top):$w(l,s,e.top+u.placed,h,f),u.start=s,u.placed+=f,s=l.right}}e.x=s,e.y=a}var Iu={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Fo(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(n-i.height,0),o=fJe(t.boxes),l=o.vertical,u=o.horizontal;Vi(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const d=l.reduce((p,_)=>_.box.options&&_.box.options.display===!1?p:p+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/d,hBoxMaxHeight:a/2}),h=Object.assign({},i);lae(h,Fo(r));const g=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),v=dJe(l.concat(u),f);k2(o.fullSize,g,f,v),k2(l,g,f,v),k2(u,g,f,v)&&k2(l,g,f,v),pJe(g),TH(o.leftAndTop,g,f,v),g.x+=g.w,g.y+=g.h,TH(o.rightAndBottom,g,f,v),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Vi(o.chartArea,p=>{const _=p.box;Object.assign(_,t.chartArea),_.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class uae{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class gJe extends uae{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const sT="$chartjs",vJe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},CH=t=>t===null||t==="";function yJe(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[sT]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",CH(i)){const s=dH(t,"width");s!==void 0&&(t.width=s)}if(CH(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=dH(t,"height");s!==void 0&&(t.height=s)}return t}const cae=AQe?{passive:!0}:!1;function _Je(t,e,n){t&&t.addEventListener(e,n,cae)}function bJe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,cae)}function xJe(t,e){const n=vJe[t.type]||t.type,{x:r,y:i}=O0(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function BC(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function wJe(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||BC(o.addedNodes,r),a=a&&!BC(o.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function SJe(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||BC(o.removedNodes,r),a=a&&!BC(o.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const x1=new Map;let EH=0;function dae(){const t=window.devicePixelRatio;t!==EH&&(EH=t,x1.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function TJe(t,e){x1.size||window.addEventListener("resize",dae),x1.set(t,e)}function CJe(t){x1.delete(t),x1.size||window.removeEventListener("resize",dae)}function EJe(t,e,n){const r=t.canvas,i=r&&$$(r);if(!i)return;const s=qse((o,l)=>{const u=i.clientWidth;n(o,l),u<i.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||s(u,d)});return a.observe(i),TJe(t,s),a}function NP(t,e,n){n&&n.disconnect(),e==="resize"&&CJe(t)}function AJe(t,e,n){const r=t.canvas,i=qse(s=>{t.ctx!==null&&n(xJe(s,t))},t);return _Je(r,e,i),i}class PJe extends uae{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(yJe(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[sT])return!1;const r=n[sT].initial;["height","width"].forEach(s=>{const a=r[s];ji(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[sT],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:wJe,detach:SJe,resize:EJe}[n]||AJe;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:NP,detach:NP,resize:NP}[n]||bJe)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return EQe(e,n,r,i)}isAttached(e){const n=e&&$$(e);return!!(n&&n.isConnected)}}function kJe(t){return!L$()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?gJe:PJe}var vS;let tg=(vS=class{constructor(){nt(this,"x");nt(this,"y");nt(this,"active",!1);nt(this,"options");nt(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return b1(this.x)&&b1(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},nt(vS,"defaults",{}),nt(vS,"defaultRoutes"),vS);function DJe(t,e){const n=t.options.ticks,r=IJe(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?OJe(e):[],a=s.length,o=s[0],l=s[a-1],u=[];if(a>i)return MJe(e,u,s,a/i),u;const d=RJe(s,e,i);if(a>0){let f,h;const g=a>1?Math.round((l-o)/(a-1)):null;for(Nw(e,u,d,ji(g)?0:o-g,o),f=0,h=a-1;f<h;f++)Nw(e,u,d,s[f],s[f+1]);return Nw(e,u,d,l,ji(g)?e.length:l+g),u}return Nw(e,u,d),u}function IJe(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function RJe(t,e,n){const r=LJe(t),i=e.length/n;if(!r)return Math.max(i,1);const s=SZe(r);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function OJe(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function MJe(t,e,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=n[i*r])}function Nw(t,e,n,r,i){const s=fi(r,0),a=Math.min(fi(i,t.length),t.length);let o=0,l,u,d;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),d=s;d<0;)o++,d=Math.round(s+o*n);for(u=Math.max(s,0);u<a;u++)u===d&&(e.push(t[u]),o++,d=Math.round(s+o*n))}function LJe(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const $Je=t=>t==="left"?"right":t==="right"?"left":t,AH=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,PH=(t,e)=>Math.min(e||t,t);function kH(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function NJe(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-s,a-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-o||l>a+o)))return l}function FJe(t,e){Vi(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function K_(t){return t.drawTicks?t.tickLength:0}function DH(t,e){if(!t.display)return 0;const n=ka(t.font,e),r=Fo(t.padding);return(Os(t.text)?t.text.length:1)*n.lineHeight+r.height}function BJe(t,e){return Kp(t,{scale:e,type:"scale"})}function UJe(t,e,n){return Kp(t,{tick:n,index:e,type:"tick"})}function VJe(t,e,n){let r=P$(t);return(n&&e!=="right"||!n&&e==="right")&&(r=$Je(r)),r}function zJe(t,e,n,r){const{top:i,left:s,bottom:a,right:o,chart:l}=t,{chartArea:u,scales:d}=l;let f=0,h,g,v;const p=a-i,_=o-s;if(t.isHorizontal()){if(g=wo(r,s,o),Ai(n)){const S=Object.keys(n)[0],C=n[S];v=d[S].getPixelForValue(C)+p-e}else n==="center"?v=(u.bottom+u.top)/2+p-e:v=AH(t,n,e);h=o-s}else{if(Ai(n)){const S=Object.keys(n)[0],C=n[S];g=d[S].getPixelForValue(C)-_+e}else n==="center"?g=(u.left+u.right)/2-_+e:g=AH(t,n,e);v=wo(r,a,i),f=n==="left"?-il:il}return{titleX:g,titleY:v,maxWidth:h,rotation:f}}class ng extends tg{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Yl(e,Number.POSITIVE_INFINITY),n=Yl(n,Number.NEGATIVE_INFINITY),r=Yl(r,Number.POSITIVE_INFINITY),i=Yl(i,Number.NEGATIVE_INFINITY),{min:Yl(e,r),max:Yl(n,i),minDefined:Wa(e),maxDefined:Wa(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)a=o[l].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Yl(n,Yl(r,n)),max:Yl(r,Yl(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ls(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=rQe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?kH(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=DJe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ls(this.options.afterUpdate,[this])}beforeSetDimensions(){ls(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ls(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ls(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ls(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=ls(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){ls(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ls(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=PH(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,o,l,u;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,g=Du(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/r:g/(r-1),f+6>o&&(o=g/(r-(e.offset?.5:1)),l=this.maxHeight-K_(e.grid)-n.padding-DH(e.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),a=E$(Math.min(Math.asin(Du((d.highest.height+6)/o,-1,1)),Math.asin(Du(l/u,-1,1))-Math.asin(Du(h/u,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){ls(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ls(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=DH(i,n.options.font);if(o?(e.width=this.maxWidth,e.height=K_(s)+l):(e.height=this.maxHeight,e.width=K_(s)+l),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),g=r.padding*2,v=cc(this.labelRotation),p=Math.cos(v),_=Math.sin(v);if(o){const S=r.mirror?0:_*f.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+S+g)}else{const S=r.mirror?0:p*f.width+_*h.height;e.width=Math.min(this.maxWidth,e.width+S+g)}this._calculatePadding(u,d,_,p)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,g=0;l?u?(h=i*e.width,g=r*n.height):(h=r*e.height,g=i*n.width):s==="start"?g=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,g=n.width/2),this.paddingLeft=Math.max((h-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-f+a)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=n.height,f=0),this.paddingTop=d+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ls(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ji(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=kH(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(n/PH(n,r));let u=0,d=0,f,h,g,v,p,_,S,C,T,A,P;for(f=0;f<n;f+=l){if(v=e[f].label,p=this._resolveTickFontOptions(f),i.font=_=p.string,S=s[_]=s[_]||{data:{},gc:[]},C=p.lineHeight,T=A=0,!ji(v)&&!Os(v))T=$C(i,S.data,S.gc,T,v),A=C;else if(Os(v))for(h=0,g=v.length;h<g;++h)P=v[h],!ji(P)&&!Os(P)&&(T=$C(i,S.data,S.gc,T,P),A+=C);a.push(T),o.push(A),u=Math.max(T,u),d=Math.max(A,d)}FJe(s,n);const D=a.indexOf(u),R=o.indexOf(d),N=U=>({width:a[U]||0,height:o[U]||0});return{first:N(0),last:N(n-1),widest:N(D),highest:N(R),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return PZe(this._alignToPixels?v0(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=UJe(this.getContext(),e,r))}return this.$context||(this.$context=BJe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=cc(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*r>o*i?o/r:l/i:l*i<o*r?l/r:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=K_(s),g=[],v=o.setContext(this.getContext()),p=v.display?v.width:0,_=p/2,S=function(te){return v0(r,te,p)};let C,T,A,P,D,R,N,U,Y,H,j,X;if(a==="top")C=S(this.bottom),R=this.bottom-h,U=C-_,H=S(e.top)+_,X=e.bottom;else if(a==="bottom")C=S(this.top),H=e.top,X=S(e.bottom)-_,R=C+_,U=this.top+h;else if(a==="left")C=S(this.right),D=this.right-h,N=C-_,Y=S(e.left)+_,j=e.right;else if(a==="right")C=S(this.left),Y=e.left,j=S(e.right)-_,D=C+_,N=this.left+h;else if(n==="x"){if(a==="center")C=S((e.top+e.bottom)/2+.5);else if(Ai(a)){const te=Object.keys(a)[0],G=a[te];C=S(this.chart.scales[te].getPixelForValue(G))}H=e.top,X=e.bottom,R=C+_,U=R+h}else if(n==="y"){if(a==="center")C=S((e.left+e.right)/2);else if(Ai(a)){const te=Object.keys(a)[0],G=a[te];C=S(this.chart.scales[te].getPixelForValue(G))}D=C-_,N=D-h,Y=e.left,j=e.right}const W=fi(i.ticks.maxTicksLimit,f),F=Math.max(1,Math.ceil(f/W));for(T=0;T<f;T+=F){const te=this.getContext(T),G=s.setContext(te),K=o.setContext(te),ee=G.lineWidth,de=G.color,ue=K.dash||[],me=K.dashOffset,Ee=G.tickWidth,Oe=G.tickColor,Ge=G.tickBorderDash||[],$e=G.tickBorderDashOffset;A=NJe(this,T,l),A!==void 0&&(P=v0(r,A,ee),u?D=N=Y=j=P:R=U=H=X=P,g.push({tx1:D,ty1:R,tx2:N,ty2:U,x1:Y,y1:H,x2:j,y2:X,width:ee,color:de,borderDash:ue,borderDashOffset:me,tickWidth:Ee,tickColor:Oe,tickBorderDash:Ge,tickBorderDashOffset:$e}))}return this._ticksLength=f,this._borderValue=C,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:d,mirror:f}=s,h=K_(r.grid),g=h+d,v=f?-d:g,p=-cc(this.labelRotation),_=[];let S,C,T,A,P,D,R,N,U,Y,H,j,X="middle";if(i==="top")D=this.bottom-v,R=this._getXAxisLabelAlignment();else if(i==="bottom")D=this.top+v,R=this._getXAxisLabelAlignment();else if(i==="left"){const F=this._getYAxisLabelAlignment(h);R=F.textAlign,P=F.x}else if(i==="right"){const F=this._getYAxisLabelAlignment(h);R=F.textAlign,P=F.x}else if(n==="x"){if(i==="center")D=(e.top+e.bottom)/2+g;else if(Ai(i)){const F=Object.keys(i)[0],te=i[F];D=this.chart.scales[F].getPixelForValue(te)+g}R=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")P=(e.left+e.right)/2-g;else if(Ai(i)){const F=Object.keys(i)[0],te=i[F];P=this.chart.scales[F].getPixelForValue(te)}R=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?X="top":l==="end"&&(X="bottom"));const W=this._getLabelSizes();for(S=0,C=o.length;S<C;++S){T=o[S],A=T.label;const F=s.setContext(this.getContext(S));N=this.getPixelForTick(S)+s.labelOffset,U=this._resolveTickFontOptions(S),Y=U.lineHeight,H=Os(A)?A.length:1;const te=H/2,G=F.color,K=F.textStrokeColor,ee=F.textStrokeWidth;let de=R;a?(P=N,R==="inner"&&(S===C-1?de=this.options.reverse?"left":"right":S===0?de=this.options.reverse?"right":"left":de="center"),i==="top"?u==="near"||p!==0?j=-H*Y+Y/2:u==="center"?j=-W.highest.height/2-te*Y+Y:j=-W.highest.height+Y/2:u==="near"||p!==0?j=Y/2:u==="center"?j=W.highest.height/2-te*Y:j=W.highest.height-H*Y,f&&(j*=-1),p!==0&&!F.showLabelBackdrop&&(P+=Y/2*Math.sin(p))):(D=N,j=(1-H)*Y/2);let ue;if(F.showLabelBackdrop){const me=Fo(F.backdropPadding),Ee=W.heights[S],Oe=W.widths[S];let Ge=j-me.top,$e=0-me.left;switch(X){case"middle":Ge-=Ee/2;break;case"bottom":Ge-=Ee;break}switch(R){case"center":$e-=Oe/2;break;case"right":$e-=Oe;break;case"inner":S===C-1?$e-=Oe:S>0&&($e-=Oe/2);break}ue={left:$e,top:Ge,width:Oe+me.width,height:Ee+me.height,color:F.backdropColor}}_.push({label:A,font:U,textOffset:j,options:{rotation:p,color:G,strokeColor:K,strokeWidth:ee,textAlign:de,textBaseline:X,translation:[P,D],backdrop:ue}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-cc(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let u,d;return n==="left"?i?(d=this.right+s,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-o,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?i?(d=this.left+s,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+o,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const l=i[s];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=v0(e,this.left,a)-a/2,d=v0(e,this.right,o)+o/2,f=h=l):(f=v0(e,this.top,a)-a/2,h=v0(e,this.bottom,o)+o/2,u=d=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&D$(r,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,u=a.label,d=a.textOffset;$m(r,u,0,d,l,o)}i&&I$(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=ka(r.font),a=Fo(r.padding),o=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Ai(n)?(l+=a.bottom,Os(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=zJe(this,l,n,o);$m(e,r.text,0,0,s,{color:r.color,maxWidth:f,rotation:h,textAlign:VJe(o,n,i),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=fi(e.grid&&e.grid.z,-1),i=fi(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ng.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];o[r]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ka(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Fw{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;GJe(n)&&(r=this.register(n));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,HJe(e,a,r),this.override&&Es.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Es[i]&&(delete Es[i][r],this.override&&delete Lm[r])}}function HJe(t,e,n){const r=_1(Object.create(null),[n?Es.get(n):{},Es.get(e),t.defaults]);Es.set(e,r),t.defaultRoutes&&jJe(e,t.defaultRoutes),t.descriptors&&Es.describe(e,t.descriptors)}function jJe(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");Es.route(s,i,l,o)})}function GJe(t){return"id"in t&&"defaults"in t}class WJe{constructor(){this.controllers=new Fw(mm,"datasets",!0),this.elements=new Fw(tg,"elements"),this.plugins=new Fw(Object,"plugins"),this.scales=new Fw(ng,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Vi(i,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,r){const i=C$(e);ls(r["before"+i],[],r),n[e](r),ls(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var od=new WJe;class qJe{constructor(){this._init=void 0}notify(e,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,r,i){i=i||{};for(const s of e){const a=s.plugin,o=a[r],l=[n,i,s.options];if(ls(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){ji(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=fi(r.options&&r.options.plugins,{}),s=XJe(r);return i===!1&&!n?[]:KJe(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function XJe(t){const e={},n=[],r=Object.keys(od.plugins.items);for(let s=0;s<r.length;s++)n.push(od.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function YJe(t,e){return!e&&t===!1?null:t===!0?{}:t}function KJe(t,{plugins:e,localIds:n},r,i){const s=[],a=t.getContext();for(const o of e){const l=o.id,u=YJe(r[l],i);u!==null&&s.push({plugin:o,options:ZJe(t.config,{plugin:o,local:n[l]},u,a)})}return s}function ZJe(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(r,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bR(t,e){const n=Es.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function QJe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function JJe(t,e){return t===e?"_index_":"_value_"}function IH(t){if(t==="x"||t==="y"||t==="r")return t}function eet(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function xR(t,...e){if(IH(t))return t;for(const n of e){const r=n.axis||eet(n.position)||t.length>1&&IH(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function RH(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function tet(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return RH(t,"x",n[0])||RH(t,"y",n[0])}return{}}function net(t,e){const n=Lm[t.type]||{scales:{}},r=e.scales||{},i=bR(t.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!Ai(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=xR(a,o,tet(a,t),Es.scales[o.type]),u=JJe(l,i),d=n.scales||{};s[a]=hb(Object.create(null),[{axis:l},o,d[l],d[u]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||bR(o,e),d=(Lm[o]||{}).scales||{};Object.keys(d).forEach(f=>{const h=QJe(f,l),g=a[h+"AxisID"]||h;s[g]=s[g]||Object.create(null),hb(s[g],[{axis:h},r[g],d[f]])})}),Object.keys(s).forEach(a=>{const o=s[a];hb(o,[Es.scales[o.type],Es.scale])}),s}function fae(t){const e=t.options||(t.options={});e.plugins=fi(e.plugins,{}),e.scales=net(t,e)}function hae(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function ret(t){return t=t||{},t.data=hae(t.data),fae(t),t}const OH=new Map,pae=new Set;function Bw(t,e){let n=OH.get(t);return n||(n=e(),OH.set(t,n),pae.add(n)),n}const Z_=(t,e,n)=>{const r=gy(e,n);r!==void 0&&t.add(r)};class iet{constructor(e){this._config=ret(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=hae(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),fae(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Bw(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Bw(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Bw(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Bw(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),o=a.get(n);if(o)return o;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(f=>Z_(l,e,f))),d.forEach(f=>Z_(l,i,f)),d.forEach(f=>Z_(l,Lm[s]||{},f)),d.forEach(f=>Z_(l,Es,f)),d.forEach(f=>Z_(l,yR,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),pae.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Lm[n]||{},Es.datasets[n]||{},{type:n},Es,yR]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=MH(this._resolverCache,e,i);let l=a;if(aet(a,n)){s.$shared=!1,r=Fp(r)?r():r;const u=this.createResolver(e,r,o);l=yy(a,r,u)}for(const u of n)s[u]=l[u];return s}createResolver(e,n,r=[""],i){const{resolver:s}=MH(this._resolverCache,e,r);return Ai(n)?yy(s,n,void 0,i):s}}function MH(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:R$(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const set=t=>Ai(t)&&Object.getOwnPropertyNames(t).some(e=>Fp(t[e]));function aet(t,e){const{isScriptable:n,isIndexable:r}=Zse(t);for(const i of e){const s=n(i),a=r(i),o=(a||s)&&t[i];if(s&&(Fp(o)||set(o))||a&&Os(o))return!0}return!1}var oet="4.5.1";const uet=["top","bottom","left","right","chartArea"];function LH(t,e){return t==="top"||t==="bottom"||uet.indexOf(t)===-1&&e==="x"}function $H(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function NH(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ls(n&&n.onComplete,[t],e)}function cet(t){const e=t.chart,n=e.options.animation;ls(n&&n.onProgress,[t],e)}function mae(t){return L$()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const aT={},FH=t=>{const e=mae(t);return Object.values(aT).filter(n=>n.canvas===e).pop()};function det(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const a=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=a)}}}function fet(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var $h;let zA=($h=class{static register(...e){od.add(...e),BH()}static unregister(...e){od.remove(...e),BH()}constructor(e,n){const r=this.config=new iet(n),i=mae(e),s=FH(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||kJe(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,u=l&&l.height,d=l&&l.width;if(this.id=pZe(),this.ctx=o,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qJe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=OZe(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],aT[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}cf.listen(this,"complete",NH),cf.listen(this,"progress",cet),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return ji(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return od}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cH(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return oH(this.canvas,this.ctx),this}stop(){return cf.stop(this),this}resize(e,n){cf.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,cH(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),ls(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Vi(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const o=n[a],l=xR(a,o),u=l==="r",d=l==="x";return{options:o,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Vi(s,a=>{const o=a.options,l=o.id,u=xR(l,o),d=fi(o.type,a.dtype);(o.position===void 0||LH(o.position,u)!==LH(a.dposition))&&(o.position=a.dposition),i[l]=!0;let f=null;if(l in r&&r[l].type===d)f=r[l];else{const h=od.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(o,e)}),Vi(i,(a,o)=>{a||delete r[o]}),Vi(r,a=>{Iu.configure(this,a,a.options),Iu.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort($H("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||bR(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=od.getController(o),{datasetElementType:u,dataElementType:d}=Es.datasets[o];Object.assign(l,{dataElementType:od.getElement(d),datasetElementType:u&&od.getElement(u)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Vi(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||Vi(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort($H("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Vi(this.scales,e=>{Iu.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Qz(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;det(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!Qz(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Iu.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Vi(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Fp(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(cf.has(this)?this.attached&&!cf.running(this)&&cf.start(this):(this.draw(),NH({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=VQe(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&D$(n,i),e.controller.draw(),i&&I$(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Af(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=lJe.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Kp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);OC(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),cf.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),oH(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete aT[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};Vi(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){Vi(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Vi(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,a,o,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!IC(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,u)=>l.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=s(n,e),o=r?e:s(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,a=n,o=this._getActiveElements(e,i,r,a),l=bZe(e),u=fet(e,this._lastEvent,r,l);r&&(this._lastEvent=null,ls(s.onHover,[e,o,this],this),l&&ls(s.onClick,[e,o,this],this));const d=!IC(o,i);return(d||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},nt($h,"defaults",Es),nt($h,"instances",aT),nt($h,"overrides",Lm),nt($h,"registry",od),nt($h,"version",oet),nt($h,"getChart",FH),$h);function BH(){return Vi(zA.instances,t=>t._plugins.invalidate())}function gae(t,e,n=e){t.lineCap=fi(n.borderCapStyle,e.borderCapStyle),t.setLineDash(fi(n.borderDash,e.borderDash)),t.lineDashOffset=fi(n.borderDashOffset,e.borderDashOffset),t.lineJoin=fi(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=fi(n.borderWidth,e.borderWidth),t.strokeStyle=fi(n.borderColor,e.borderColor)}function het(t,e,n){t.lineTo(n.x,n.y)}function pet(t){return t.stepped?qZe:t.tension||t.cubicInterpolationMode==="monotone"?XZe:het}function vae(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=e,l=Math.max(i,a),u=Math.min(s,o),d=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:e.loop,ilen:u<l&&!d?r+u-l:u-l}}function met(t,e,n,r){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:u}=vae(i,n,r),d=pet(s);let{move:f=!0,reverse:h}=r||{},g,v,p;for(g=0;g<=u;++g)v=i[(o+(h?u-g:g))%a],!v.skip&&(f?(t.moveTo(v.x,v.y),f=!1):d(t,p,v,h,s.stepped),p=v);return l&&(v=i[(o+(h?u:0))%a],d(t,p,v,h,s.stepped)),!!l}function get(t,e,n,r){const i=e.points,{count:s,start:a,ilen:o}=vae(i,n,r),{move:l=!0,reverse:u}=r||{};let d=0,f=0,h,g,v,p,_,S;const C=A=>(a+(u?o-A:A))%s,T=()=>{p!==_&&(t.lineTo(d,_),t.lineTo(d,p),t.lineTo(d,S))};for(l&&(g=i[C(0)],t.moveTo(g.x,g.y)),h=0;h<=o;++h){if(g=i[C(h)],g.skip)continue;const A=g.x,P=g.y,D=A|0;D===v?(P<p?p=P:P>_&&(_=P),d=(f*d+A)/++f):(T(),t.lineTo(A,P),v=D,f=0,p=_=P),S=P}T()}function wR(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?get:met}function vet(t){return t.stepped?PQe:t.tension||t.cubicInterpolationMode==="monotone"?kQe:M0}function yet(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),gae(t,e.options),t.stroke(i)}function _et(t,e,n,r){const{segments:i,options:s}=e,a=wR(e);for(const o of i)gae(t,s,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const bet=typeof Path2D=="function";function xet(t,e,n,r){bet&&!e.options.segment?yet(t,e,n,r):_et(t,e,n,r)}class D2 extends tg{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;bQe(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=NQe(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,a=MQe(this,{property:n,start:i,end:i});if(!a.length)return;const o=[],l=vet(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:f,end:h}=a[u],g=s[f],v=s[h];if(g===v){o.push(g);continue}const p=Math.abs((i-g[n])/(v[n]-g[n])),_=l(g,v,p,r.stepped);_[n]=e[n],o.push(_)}return o.length===1?o[0]:o}pathSegment(e,n,r){return wR(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=wR(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of i)a&=s(e,this,o,{start:n,end:n+r-1});return!!a}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),xet(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}nt(D2,"id","line"),nt(D2,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),nt(D2,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),nt(D2,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function UH(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class oT extends tg{constructor(n){super();nt(this,"parsed");nt(this,"skip");nt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(n-a,2)+Math.pow(r-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return UH(this,n,"x",r)}inYRange(n,r){return UH(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Af(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,_R(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}nt(oT,"id","point"),nt(oT,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),nt(oT,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const SR=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],VH=SR.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function yae(t){return SR[t%SR.length]}function _ae(t){return VH[t%VH.length]}function wet(t,e){return t.borderColor=yae(e),t.backgroundColor=_ae(e),++e}function Tet(t,e){return t.backgroundColor=t.data.map(()=>yae(e++)),e}function Cet(t,e){return t.backgroundColor=t.data.map(()=>_ae(e++)),e}function Eet(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof P2?e=Tet(n,e):i instanceof iT?e=Cet(n,e):i&&(e=wet(n,e))}}function zH(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Aet(t){return t&&(t.borderColor||t.backgroundColor)}function Pet(){return Es.borderColor!=="rgba(0,0,0,0.1)"||Es.backgroundColor!=="rgba(0,0,0,0.1)"}var ket={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:s}=i,a=zH(r)||Aet(i)||s&&zH(s)||Pet();if(!n.forceOverride&&a)return;const o=Eet(t);r.forEach(o)}};const HH=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Det=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class jH extends tg{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ls(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=ka(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=HH(r,s);let u,d;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,s,o,l)+10):(d=this.maxHeight,u=this._fitCols(a,i,o,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+o;let f=e;s.textAlign="left",s.textBaseline="middle";let h=-1,g=-d;return this.legendItems.forEach((v,p)=>{const _=r+n/2+s.measureText(v.text).width;(p===0||u[u.length-1]+_+2*o>a)&&(f+=d,u[u.length-(p>0?0:1)]=0,g+=d,h++),l[p]={left:0,top:g,row:h,width:_,height:i},u[u.length-1]+=_+o}),f}_fitCols(e,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let f=o,h=0,g=0,v=0,p=0;return this.legendItems.forEach((_,S)=>{const{itemWidth:C,itemHeight:T}=Iet(r,n,s,_,i);S>0&&g+T+2*o>d&&(f+=h+o,u.push({width:h,height:g}),v+=h+o,p++,h=g=0),l[S]={left:v,top:g,col:p,width:C,height:T},h=Math.max(h,C),g+=T+o}),f+=h,u.push({width:h,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=Tv(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=wo(r,this.left+i,this.right-this.lineWidths[o]);for(const u of n)o!==u.row&&(o=u.row,l=wo(r,this.left+i,this.right-this.lineWidths[o])),u.top+=this.top+e+i,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+i}else{let o=0,l=wo(r,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const u of n)u.col!==o&&(o=u.col,l=wo(r,this.top+e+i,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+i,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;D$(e,this),this._draw(),I$(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,o=Es.color,l=Tv(e.rtl,this.left,this.width),u=ka(a.font),{padding:d}=a,f=u.size,h=f/2;let g;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:v,boxHeight:p,itemHeight:_}=HH(a,f),S=function(D,R,N){if(isNaN(v)||v<=0||isNaN(p)||p<0)return;i.save();const U=fi(N.lineWidth,1);if(i.fillStyle=fi(N.fillStyle,o),i.lineCap=fi(N.lineCap,"butt"),i.lineDashOffset=fi(N.lineDashOffset,0),i.lineJoin=fi(N.lineJoin,"miter"),i.lineWidth=U,i.strokeStyle=fi(N.strokeStyle,o),i.setLineDash(fi(N.lineDash,[])),a.usePointStyle){const Y={radius:p*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:U},H=l.xPlus(D,v/2),j=R+h;Yse(i,Y,H,j,a.pointStyleWidth&&v)}else{const Y=R+Math.max((f-p)/2,0),H=l.leftForLtr(D,v),j=Sv(N.borderRadius);i.beginPath(),Object.values(j).some(X=>X!==0)?NC(i,{x:H,y:Y,w:v,h:p,radius:j}):i.rect(H,Y,v,p),i.fill(),U!==0&&i.stroke()}i.restore()},C=function(D,R,N){$m(i,N.text,D,R+_/2,u,{strikethrough:N.hidden,textAlign:l.textAlign(N.textAlign)})},T=this.isHorizontal(),A=this._computeTitleHeight();T?g={x:wo(s,this.left+d,this.right-r[0]),y:this.top+d+A,line:0}:g={x:this.left+d,y:wo(s,this.top+A+d,this.bottom-n[0].height),line:0},nae(this.ctx,e.textDirection);const P=_+d;this.legendItems.forEach((D,R)=>{i.strokeStyle=D.fontColor,i.fillStyle=D.fontColor;const N=i.measureText(D.text).width,U=l.textAlign(D.textAlign||(D.textAlign=a.textAlign)),Y=v+h+N;let H=g.x,j=g.y;l.setWidth(this.width),T?R>0&&H+Y+d>this.right&&(j=g.y+=P,g.line++,H=g.x=wo(s,this.left+d,this.right-r[g.line])):R>0&&j+P>this.bottom&&(H=g.x=H+n[g.line].width+d,g.line++,j=g.y=wo(s,this.top+A+d,this.bottom-n[g.line].height));const X=l.x(H);if(S(X,j,D),H=MZe(U,H+v+h,T?H+Y:this.right,e.rtl),C(l.x(H),j,D),T)g.x+=Y+d;else if(typeof D.text!="string"){const W=u.lineHeight;g.y+=bae(D,W)+d}else g.y+=P}),rae(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=ka(n.font),i=Fo(n.padding);if(!n.display)return;const s=Tv(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=r.size/2,u=i.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=wo(e.align,f,this.right-h);else{const v=this.columnSizes.reduce((p,_)=>Math.max(p,_.height),0);d=u+wo(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const g=wo(o,f,f+h);a.textAlign=s.textAlign(P$(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,$m(a,n.text,g,d,r)}_computeTitleHeight(){const e=this.options.title,n=ka(e.font),r=Fo(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(A2(e,this.left,this.right)&&A2(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],A2(e,i.left,i.left+i.width)&&A2(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Met(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=Det(i,r);i&&!s&&ls(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&ls(n.onHover,[e,r,this],this)}else r&&ls(n.onClick,[e,r,this],this)}}function Iet(t,e,n,r,i){const s=Ret(r,t,e,n),a=Oet(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function Ret(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+r.measureText(i).width}function Oet(t,e,n){let r=t;return typeof e.text!="string"&&(r=bae(e,n)),r}function bae(t,e){const n=t.text?t.text.length:0;return e*n}function Met(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Let={id:"legend",_element:jH,start(t,e,n){const r=t.legend=new jH({ctx:t.ctx,options:n,chart:t});Iu.configure(t,r,n),Iu.addBox(t,r)},stop(t){Iu.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Iu.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=Fo(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class xae extends tg{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Os(r.text)?r.text.length:1;this._padding=Fo(r.padding);const s=i*ka(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:a}=this,o=a.align;let l=0,u,d,f;return this.isHorizontal()?(d=wo(o,r,s),f=n+e,u=s-r):(a.position==="left"?(d=r+e,f=wo(o,i,n),l=Bs*-.5):(d=s-e,f=wo(o,n,i),l=Bs*.5),u=i-n),{titleX:d,titleY:f,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=ka(n.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:u}=this._drawArgs(s);$m(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:P$(n.align),textBaseline:"middle",translation:[a,o]})}}function $et(t,e){const n=new xae({ctx:t.ctx,options:e,chart:t});Iu.configure(t,n,e),Iu.addBox(t,n),t.titleBlock=n}var Net={id:"title",_element:xae,start(t,e,n){$et(t,n)},stop(t){const e=t.titleBlock;Iu.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Iu.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const I2={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=vR(e,u);d<i&&(i=d,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function sd(t,e){return e&&(Os(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function df(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Fet(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function GH(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=ka(e.bodyFont),u=ka(e.titleFont),d=ka(e.footerFont),f=s.length,h=i.length,g=r.length,v=Fo(e.padding);let p=v.height,_=0,S=r.reduce((A,P)=>A+P.before.length+P.lines.length+P.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,f&&(p+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),S){const A=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;p+=g*A+(S-g)*l.lineHeight+(S-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*d.lineHeight+(h-1)*e.footerSpacing);let C=0;const T=function(A){_=Math.max(_,n.measureText(A).width+C)};return n.save(),n.font=u.string,Vi(t.title,T),n.font=l.string,Vi(t.beforeBody.concat(t.afterBody),T),C=e.displayColors?a+2+e.boxPadding:0,Vi(r,A=>{Vi(A.before,T),Vi(A.lines,T),Vi(A.after,T)}),C=0,n.font=d.string,Vi(t.footer,T),n.restore(),_+=v.width,{width:_,height:p}}function Bet(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Uet(t,e,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function Vet(t,e,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:l}}=t;let u="center";return r==="center"?u=i<=(o+l)/2?"left":"right":i<=s/2?u="left":i>=a-s/2&&(u="right"),Uet(u,t,e,n)&&(u="center"),u}function WH(t,e,n){const r=n.yAlign||e.yAlign||Bet(t,n);return{xAlign:n.xAlign||e.xAlign||Vet(t,e,n,r),yAlign:r}}function zet(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function Het(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function qH(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,u=i+s,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:g}=Sv(a);let v=zet(e,o);const p=Het(e,l,u);return l==="center"?o==="left"?v+=u:o==="right"&&(v-=u):o==="left"?v-=Math.max(d,h)+i:o==="right"&&(v+=Math.max(f,g)+i),{x:Du(v,0,r.width-e.width),y:Du(p,0,r.height-e.height)}}function Uw(t,e,n){const r=Fo(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function XH(t){return sd([],df(t))}function jet(t,e,n){return Kp(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function YH(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const wae={beforeTitle:rf,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:rf,beforeBody:rf,beforeLabel:rf,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ji(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:rf,afterBody:rf,beforeFooter:rf,footer:rf,afterFooter:rf};function gl(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?wae[e].call(n,r):i}class TR extends tg{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new sae(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=jet(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=gl(r,"beforeTitle",this,e),s=gl(r,"title",this,e),a=gl(r,"afterTitle",this,e);let o=[];return o=sd(o,df(i)),o=sd(o,df(s)),o=sd(o,df(a)),o}getBeforeBody(e,n){return XH(gl(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Vi(e,s=>{const a={before:[],lines:[],after:[]},o=YH(r,s);sd(a.before,df(gl(o,"beforeLabel",this,s))),sd(a.lines,gl(o,"label",this,s)),sd(a.after,df(gl(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,n){return XH(gl(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=gl(r,"beforeFooter",this,e),s=gl(r,"footer",this,e),a=gl(r,"afterFooter",this,e);let o=[];return o=sd(o,df(i)),o=sd(o,df(s)),o=sd(o,df(a)),o}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],l,u;for(l=0,u=n.length;l<u;++l)o.push(Fet(this.chart,n[l]));return e.filter&&(o=o.filter((d,f,h)=>e.filter(d,f,h,r))),e.itemSort&&(o=o.sort((d,f)=>e.itemSort(d,f,r))),Vi(o,d=>{const f=YH(e.callbacks,d);i.push(gl(f,"labelColor",this,d)),s.push(gl(f,"labelPointStyle",this,d)),a.push(gl(f,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=I2[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=GH(this,r),u=Object.assign({},o,l),d=WH(this.chart,r,u),f=qH(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=Sv(o),{x:h,y:g}=e,{width:v,height:p}=n;let _,S,C,T,A,P;return s==="center"?(A=g+p/2,i==="left"?(_=h,S=_-a,T=A+a,P=A-a):(_=h+v,S=_+a,T=A-a,P=A+a),C=_):(i==="left"?S=h+Math.max(l,d)+a:i==="right"?S=h+v-Math.max(u,f)-a:S=this.caretX,s==="top"?(T=g,A=T-a,_=S-a,C=S+a):(T=g+p,A=T+a,_=S+a,C=S-a),P=T),{x1:_,x2:S,x3:C,y1:T,y2:A,y3:P}}drawTitle(e,n,r){const i=this.title,s=i.length;let a,o,l;if(s){const u=Tv(r.rtl,this.x,this.width);for(e.x=Uw(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=ka(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,d=ka(s.bodyFont),f=Uw(this,"left",s),h=i.x(f),g=l<d.lineHeight?(d.lineHeight-l)/2:0,v=n.y+g;if(s.usePointStyle){const p={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},_=i.leftForLtr(h,u)+u/2,S=v+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,_R(e,p,_,S),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,_R(e,p,_,S)}else{e.lineWidth=Ai(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=i.leftForLtr(h,u),_=i.leftForLtr(i.xPlus(h,1),u-2),S=Sv(a.borderRadius);Object.values(S).some(C=>C!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,NC(e,{x:p,y:v,w:u,h:l,radius:S}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),NC(e,{x:_,y:v+1,w:u-2,h:l-2,radius:S}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(p,v,u,l),e.strokeRect(p,v,u,l),e.fillStyle=a.backgroundColor,e.fillRect(_,v+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:d}=r,f=ka(r.bodyFont);let h=f.lineHeight,g=0;const v=Tv(r.rtl,this.x,this.width),p=function(N){n.fillText(N,v.x(e.x+g),e.y+h/2),e.y+=h+s},_=v.textAlign(a);let S,C,T,A,P,D,R;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,e.x=Uw(this,_,r),n.fillStyle=r.bodyColor,Vi(this.beforeBody,p),g=o&&_!=="right"?a==="center"?u/2+d:u+2+d:0,A=0,D=i.length;A<D;++A){for(S=i[A],C=this.labelTextColors[A],n.fillStyle=C,Vi(S.before,p),T=S.lines,o&&T.length&&(this._drawColorBox(n,e,A,v,r),h=Math.max(f.lineHeight,l)),P=0,R=T.length;P<R;++P)p(T[P]),h=f.lineHeight;Vi(S.after,p)}g=0,h=f.lineHeight,Vi(this.afterBody,p),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let a,o;if(s){const l=Tv(r.rtl,this.x,this.width);for(e.x=Uw(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=ka(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<s;++o)n.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:u,height:d}=r,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:v}=Sv(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(o+f,l),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(o+u-h,l),n.quadraticCurveTo(o+u,l,o+u,l+h),a==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(o+u,l+d-v),n.quadraticCurveTo(o+u,l+d,o+u-v,l+d),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(o+g,l+d),n.quadraticCurveTo(o,l+d,o,l+d-g),a==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(o,l+f),n.quadraticCurveTo(o,l,o+f,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=I2[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=GH(this,e),l=Object.assign({},a,this._size),u=WH(n,e,l),d=qH(e,l,u,n);(i._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Fo(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),nae(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),rae(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),s=!IC(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,r),o=this._positionChanged(a,e),l=n||!IC(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,a=I2[s.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}}nt(TR,"positioners",I2);var Get={id:"tooltip",_element:TR,positioners:I2,afterInit(t,e,n){n&&(t.tooltip=new TR({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:wae},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Wet=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function qet(t,e,n,r){const i=t.indexOf(e);if(i===-1)return Wet(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const Xet=(t,e)=>t===null?null:Du(Math.round(t),0,e);function KH(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class CR extends ng{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ji(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:qet(r,e,fi(n,e),this._addedLabels),Xet(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)i.push({value:a});return i}getLabelForValue(e){return KH.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}nt(CR,"id","category"),nt(CR,"defaults",{ticks:{callback:KH}});function Yet(t,e){const n=[],{bounds:i,step:s,min:a,max:o,precision:l,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=t,g=s||1,v=d-1,{min:p,max:_}=e,S=!ji(a),C=!ji(o),T=!ji(u),A=(_-p)/(f+1);let P=eH((_-p)/v/g)*g,D,R,N,U;if(P<1e-14&&!S&&!C)return[{value:p},{value:_}];U=Math.ceil(_/P)-Math.floor(p/P),U>v&&(P=eH(U*P/v/g)*g),ji(l)||(D=Math.pow(10,l),P=Math.ceil(P*D)/D),i==="ticks"?(R=Math.floor(p/P)*P,N=Math.ceil(_/P)*P):(R=p,N=_),S&&C&&s&&CZe((o-a)/s,P/1e3)?(U=Math.round(Math.min((o-a)/P,d)),P=(o-a)/U,R=a,N=o):T?(R=S?a:R,N=C?o:N,U=u-1,P=(N-R)/U):(U=(N-R)/P,pb(U,Math.round(U),P/1e3)?U=Math.round(U):U=Math.ceil(U));const Y=Math.max(tH(P),tH(R));D=Math.pow(10,ji(l)?Y:l),R=Math.round(R*D)/D,N=Math.round(N*D)/D;let H=0;for(S&&(h&&R!==a?(n.push({value:a}),R<a&&H++,pb(Math.round((R+H*P)*D)/D,a,ZH(a,A,t))&&H++):R<a&&H++);H<U;++H){const j=Math.round((R+H*P)*D)/D;if(C&&j>o)break;n.push({value:j})}return C&&h&&N!==o?n.length&&pb(n[n.length-1].value,o,ZH(o,A,t))?n[n.length-1].value=o:n.push({value:o}):(!C||N===o)&&n.push({value:N}),n}function ZH(t,e,{horizontal:n,minRotation:r}){const i=cc(r),s=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class UC extends ng{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ji(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=n?i:l,o=l=>s=r?s:l;if(e){const l=vy(i),u=vy(s);l<0&&u<0?o(0):l>0&&u>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=Yet(i,s);return e.bounds==="ticks"&&jse(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Ax(e,this.chart.options.locale,this.options.ticks.format)}}class ER extends UC{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Wa(e)?e:0,this.max=Wa(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=cc(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}nt(ER,"id","linear"),nt(ER,"defaults",{ticks:{callback:UA.formatters.numeric}});const w1=t=>Math.floor(lp(t)),_0=(t,e)=>Math.pow(10,w1(t)+e);function QH(t){return t/Math.pow(10,w1(t))===1}function JH(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function Ket(t,e){const n=e-t;let r=w1(n);for(;JH(t,e,r)>10;)r++;for(;JH(t,e,r)<10;)r--;return Math.min(r,w1(t))}function Zet(t,{min:e,max:n}){e=Yl(t.min,e);const r=[],i=w1(e);let s=Ket(e,n),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),l=i>s?Math.pow(10,i):0,u=Math.round((e-l)*a)/a,d=Math.floor((e-l)/o/10)*o*10;let f=Math.floor((u-d)/Math.pow(10,s)),h=Yl(t.min,Math.round((l+d+f*Math.pow(10,s))*a)/a);for(;h<n;)r.push({value:h,major:QH(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,a=s>=0?1:a),h=Math.round((l+d+f*Math.pow(10,s))*a)/a;const g=Yl(t.max,h);return r.push({value:g,major:QH(g),significand:f}),r}class ej extends ng{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=UC.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Wa(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Wa(e)?Math.max(0,e):null,this.max=Wa(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Wa(this._userMin)&&(this.min=e===_0(this.min,0)?_0(this.min,-1):_0(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=o=>r=e?r:o,a=o=>i=n?i:o;r===i&&(r<=0?(s(1),a(10)):(s(_0(r,-1)),a(_0(i,1)))),r<=0&&s(_0(i,-1)),i<=0&&a(_0(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=Zet(n,this);return e.bounds==="ticks"&&jse(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Ax(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=lp(e),this._valueRange=lp(this.max)-lp(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(lp(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}nt(ej,"id","logarithmic"),nt(ej,"defaults",{ticks:{callback:UA.formatters.logarithmic,major:{enabled:!0}}});function AR(t){const e=t.ticks;if(e.display&&t.display){const n=Fo(e.backdropPadding);return fi(e.font&&e.font.size,Es.font.size)+n.height}return 0}function Qet(t,e,n){return n=Os(n)?n:[n],{w:WZe(t,e.string,n),h:n.length*e.lineHeight}}function tj(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function Jet(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?Bs/s:0;for(let l=0;l<s;l++){const u=a.setContext(t.getPointLabelContext(l));i[l]=u.padding;const d=t.getPointPosition(l,t.drawingArea+i[l],o),f=ka(u.font),h=Qet(t.ctx,f,t._pointLabels[l]);r[l]=h;const g=oc(t.getIndexAngle(l)+o),v=Math.round(E$(g)),p=tj(v,d.x,h.w,0,180),_=tj(v,d.y,h.h,90,270);ett(n,e,g,p,_)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=rtt(t,r,i)}function ett(t,e,n,r,i){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;r.start<e.l?(o=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-o)):r.end>e.r&&(o=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+o)),i.start<e.t?(l=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function ttt(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=n,l=t.getPointPosition(e,r+i+a,s),u=Math.round(E$(oc(l.angle+il))),d=att(l.y,o.h,u),f=itt(u),h=stt(l.x,o.w,f);return{visible:!0,x:l.x,y:d,textAlign:f,left:h,top:d,right:h+o.w,bottom:d+o.h}}function ntt(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(Af({x:n,y:r},e)||Af({x:n,y:s},e)||Af({x:i,y:r},e)||Af({x:i,y:s},e))}function rtt(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:AR(s)/2,additionalAngle:a?Bs/i:0};let u;for(let d=0;d<i;d++){l.padding=n[d],l.size=e[d];const f=ttt(t,d,l);r.push(f),o==="auto"&&(f.visible=ntt(f,u),f.visible&&(u=f))}return r}function itt(t){return t===0||t===180?"center":t<180?"left":"right"}function stt(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function att(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function ott(t,e,n){const{left:r,top:i,right:s,bottom:a}=n,{backdropColor:o}=e;if(!ji(o)){const l=Sv(e.borderRadius),u=Fo(e.backdropPadding);t.fillStyle=o;const d=r-u.left,f=i-u.top,h=s-r+u.width,g=a-i+u.height;Object.values(l).some(v=>v!==0)?(t.beginPath(),NC(t,{x:d,y:f,w:h,h:g,radius:l}),t.fill()):t.fillRect(d,f,h,g)}}function ltt(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const a=r.setContext(t.getPointLabelContext(i));ott(n,a,s);const o=ka(a.font),{x:l,y:u,textAlign:d}=s;$m(n,t._pointLabels[i],l,u+o.lineHeight/2,o,{color:a.color,textAlign:d,textBaseline:"middle"})}}function Sae(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,oo);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let a=1;a<r;a++)s=t.getPointPosition(a,e),i.lineTo(s.x,s.y)}}function utt(t,e,n,r,i){const s=t.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!r||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),Sae(t,n,a,r),s.closePath(),s.stroke(),s.restore())}function ctt(t,e,n){return Kp(t,{label:n,index:e,type:"pointLabel"})}class Vw extends UC{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Fo(AR(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Wa(e)&&!isNaN(e)?e:0,this.max=Wa(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/AR(this.options))}generateTickLabels(e){UC.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=ls(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?Jet(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=oo/(this._pointLabels.length||1),r=this.options.startAngle||0;return oc(e*n+cc(r))}getDistanceFromCenterForValue(e){if(ji(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ji(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return ctt(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-il+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),Sae(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,a=this._pointLabels.length;let o,l,u;if(n.pointLabels.display&&ltt(this,a),i.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const h=this.getContext(f),g=i.setContext(h),v=s.setContext(h);utt(this,g,l,a,v)}}),r.display){for(e.save(),o=a-1;o>=0;o--){const d=r.setContext(this.getPointLabelContext(o)),{color:f,lineWidth:h}=d;!h||!f||(e.lineWidth=h,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const u=r.setContext(this.getContext(l)),d=ka(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=d.string,a=e.measureText(o.label).width,e.fillStyle=u.backdropColor;const f=Fo(u.backdropPadding);e.fillRect(-a/2-f.left,-s-d.size/2-f.top,a+f.width,d.size+f.height)}$m(e,o.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}nt(Vw,"id","radialLinear"),nt(Vw,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:UA.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),nt(Vw,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),nt(Vw,"descriptors",{angleLines:{_fallback:"grid"}});const HA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Al=Object.keys(HA);function nj(t,e){return t-e}function rj(t,e){if(ji(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Wa(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(b1(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function ij(t,e,n,r){const i=Al.length;for(let s=Al.indexOf(t);s<i-1;++s){const a=HA[Al[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=r)return Al[s]}return Al[i-1]}function dtt(t,e,n,r,i){for(let s=Al.length-1;s>=Al.indexOf(n);s--){const a=Al[s];if(HA[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return Al[n?Al.indexOf(n):0]}function ftt(t){for(let e=Al.indexOf(t)+1,n=Al.length;e<n;++e)if(HA[Al[e]].common)return Al[e]}function sj(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=A$(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function htt(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=n[o],l>=0&&(e[l].major=!0);return e}function aj(t,e,n){const r=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,r.push({value:o,major:!1});return s===0||!n?r:htt(t,r,i,n)}class VC extends ng{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new rJe._date(e.adapters.date);i.init(n),hb(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:rj(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!o&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Wa(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Wa(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=DZe(i,s,a);return this._unit=n.unit||(r.autoSkip?ij(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):dtt(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:ftt(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),aj(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Du(n,0,a),r=Du(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||ij(s.minUnit,n,r,this._getLabelCapacity(n)),o=fi(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,u=b1(l)||l===!0,d={};let f=n,h,g;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":a),e.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,g=0;h<r;h=+e.add(h,o,a),g++)sj(d,h,v);return(h===r||i.bounds==="ticks"||g===1)&&sj(d,h,v),Object.keys(d).sort(nj).map(p=>+p)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return ls(a,[e,n,r],this);const o=s.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&o[l],f=u&&o[u],h=r[n],g=u&&f&&h&&h.major;return this._adapter.format(e,i||(g?f:d))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=cc(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,aj(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(rj(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return RZe(e.sort(nj))}}nt(VC,"id","time"),nt(VC,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function zw(t,e,n){let r=0,i=t.length-1,s,a,o,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=tm(t,"pos",e)),{pos:s,time:o}=t[r],{pos:a,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=tm(t,"time",e)),{time:s,pos:o}=t[r],{time:a,pos:l}=t[i]);const u=a-s;return u?o+(l-o)*(e-s)/u:o}class oj extends VC{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=zw(n,this.min),this._tableRange=zw(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let a,o,l,u,d;for(a=0,o=e.length;a<o;++a)u=e[a],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)d=i[a+1],l=i[a-1],u=i[a],Math.round((d+l)/2)!==u&&s.push({time:u,pos:a/(o-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(zw(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return zw(this._table,r*this._tableRange+this._minPos,!0)}}nt(oj,"id","timeseries"),nt(oj,"defaults",VC.defaults);const Tae={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},ptt={ariaLabel:{type:String},ariaDescribedby:{type:String}},mtt={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...Tae,...ptt},gtt=Tq[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function Dg(t){return ky(t)?Jr(t):t}function vtt(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return ky(e)?new Proxy(t,{}):t}function ytt(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Cae(t,e){t.labels=e}function Eae(t,e,n){const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function _tt(t,e){const n={labels:[],datasets:[]};return Cae(n,t.labels),Eae(n,t.datasets,e),n}const btt=kt({props:mtt,setup(t,e){let{expose:n,slots:r}=e;const i=ye(null),s=qa(null);n({chart:s});const a=()=>{if(!i.value)return;const{type:u,data:d,options:f,plugins:h,datasetIdKey:g}=t,v=_tt(d,g),p=vtt(v,d);s.value=new zA(i.value,{type:u,data:p,options:{...f},plugins:h})},o=()=>{const u=Jr(s.value);u&&(t.destroyDelay>0?setTimeout(()=>{u.destroy(),s.value=null},t.destroyDelay):(u.destroy(),s.value=null))},l=u=>{u.update(t.updateMode)};return zr(a),Hp(o),Zt([()=>t.options,()=>t.data],(u,d)=>{let[f,h]=u,[g,v]=d;const p=Jr(s.value);if(!p)return;let _=!1;if(f){const S=Dg(f),C=Dg(g);S&&S!==C&&(ytt(p,S),_=!0)}if(h){const S=Dg(h.labels),C=Dg(v.labels),T=Dg(h.datasets),A=Dg(v.datasets);S!==C&&(Cae(p.config.data,S),_=!0),T&&T!==A&&(Eae(p.config.data,T,t.datasetIdKey),_=!0)}_&&Vn(()=>{l(p)})},{deep:!0}),()=>En("canvas",{role:"img","aria-label":t.ariaLabel,"aria-describedby":t.ariaDescribedby,ref:i},[En("p",{},[r.default?r.default():""])])}});function xtt(t,e){return zA.register(e),kt({props:Tae,setup(n,r){let{expose:i}=r;const s=qa(null),a=o=>{s.value=o==null?void 0:o.chart};return i({chart:s}),()=>En(btt,gtt({ref:a},{type:t,...n}))}})}const wtt=xtt("line",rT),Stt={class:"dialog-footer"},Ttt=["src"],Ctt={class:"dialog-footer"},Ett={class:"dialog-footer"},Att={class:"dialog-footer"},Ptt={class:"dialog-footer"},ktt={class:"dialog-footer"},Dtt=`
        <path class="path" d="
          M 30 15
          L 28 17
          M 25.61 25.61
          A 15 15, 0, 0, 1, 15 30
          A 15 15, 0, 1, 1, 27.99 7.5
          L 15 15
        " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
      `,Itt=kt({__name:"White",setup(t){const e=ye(null);zA.register(CR,ER,oT,D2,Net,Get,Let,ket);function n(){Et.isDotMessage?(Et.chatDrawer=!0,Et.isDotMessage=!1):Et.chatTable=!0,z8().initPeer()}const r=()=>{const W={baseURL:an.apiUrl,url:"/public/ip",method:"GET",headers:{}};vn(W).then(function(F){if(F.status==200)a.value=!0;else{a.value=!1;const te=Wn().format("YYYY-MM-DD HH:mm:ss Z");let G={};F.status==null?G[te]="500":G[te]=F.status;const K={baseURL:an.statusUrl,url:"/status",method:"PUT",headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/x-www-form-urlencoded"},params:G};vn(K).then(function(ee){})}}).catch(function(F){a.value=!1})};window.onload=function(){r(),setInterval(()=>{r()},an.healthCheckDuration*1e3)};const i=()=>{window.open(an.githubUrl,"_blank")},s=ye(null),a=ye(!1),o=ye(""),l=ye(""),u=ye(!1),d=ye(!1),f=ye(!1),h=ye(!1),g={responsive:!0,plugins:{title:{display:!0,text:"downtime"},legend:{display:!1}}};let v=()=>({datasets:[{data:[{}]}]}),p=lr(v());const _=async()=>{h.value=!1,Object.assign(p,v());const W={baseURL:an.statusUrl,url:"/status",method:"GET",params:{limit:30},headers:{Authorization:"Bearer "+ke.access_token}};await vn(W).then(async function(F){var te,G;p.datasets[0].data=F.data,(G=(te=e.value)==null?void 0:te.chart)==null||G.update()}),h.value=!0};let C=lr((()=>({key:"",value:""}))());const T=()=>{var W;(W=s.value)==null||W.initS3()},A=async W=>{const F={baseURL:an.storageUrl,url:"/storage/object",method:"POST",data:{data:W.file,bucket:ke.sub,mode:"stream",idToken:ke.id_token},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"multipart/form-data"}};vn(F)},P=async(W,F)=>{const te=await mI(ke.sub);te.picture=F.name,te.username=ke.sub,Y(te),o.value=URL.createObjectURL(F.raw),$S.info("Avatar will update after next login")},D=W=>{if(W.type=="image/jpeg"||W.type=="image/gif"||W.type=="image/png"){if(W.size/1024/1024>10)return $S.error("Avatar picture size can not exceed 10MB!"),!1}else return $S.error("not support "+W.type),!1;return!0},R=async()=>{const W=dZ.service({fullscreen:!0}),F=await A8e();if(Vn(()=>{W.close()}),F==""||F==null){di.alert("load user error, please try again later");return}ks.email=F.email,ks.nickName=F.nickName,ks.password=F.password,l.value=F.username,u.value=!0},N=()=>{const W={baseURL:an.authUrl,url:"/email/verify",method:"POST",data:{username:ke.sub},headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+ke.access_token}};vn(W)},U=()=>{const W={baseURL:an.authUrl,url:"authenticator/add",method:"POST",data:{username:ke.sub},headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+ke.access_token}};vn(W).then(async function(F){const te=await MJ(F.data),G={baseURL:an.authUrl,url:"/finishAuth",method:"POST",data:{credname:ke.sub,username:ke.sub,credential:JSON.stringify(te)},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};vn(G).then(function(K){K.data==200&&Qb({title:"add authenticator success",message:"please logout and login again",duration:5e3})})})},Y=W=>{const F=new Map;for(let G in Ca.value)Object.keys(vl).indexOf(G)>=0&&G!="claim"&&G!="username"?vl[G]=Ca.value[G]:G!="claims"&&Ca.value.hasOwnProperty(G)&&F.set(G,Ca.value[G]);vl.claims=JSON.stringify(Object.fromEntries(F));const te={baseURL:an.authUrl,url:"auth/user/info",method:"POST",data:vl,headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/json"}};W!=""&&(te.data=W),vn(te).then(function(G){G.status==200&&(Et.userInfoForm=!1)})},H=()=>{Ca.value[C.key]=C.value,d.value=!1},j=W=>{const F=new Map;if(Object.keys(vl).indexOf(W)>=0)di.alert("unable to delete default claim");else{for(var te in Ca.value)te==W&&delete Ca.value[W],Object.keys(vl).indexOf(te)>=0&&te!="claim"?vl[te]=Ca.value[te]:te!="claims"&&Ca.value.hasOwnProperty(te)&&F.set(te,Ca.value[te]);vl.claims=JSON.stringify(Object.fromEntries(F));const G={baseURL:an.authUrl,url:"auth/user/info",method:"POST",data:vl,headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/json"}};vn(G).then(function(K){K.status==200&&di.alert("delete success")})}},X=W=>{Ca.value=cv(),Object.assign(Ca,cv()),Object.assign(vl,cv()),vl.username=W};return(W,F)=>{const te=qr,G=Do,K=Bn,ee=PY,de=q1e,ue=ns,me=Io,Ee=Mc,Oe=cZ,Ge=ov;return ge(),Fe(Tn,null,[V(G,{modelValue:b(f),"onUpdate:modelValue":F[1]||(F[1]=$e=>tr(f)?f.value=$e:null),width:"75%"},{default:ie(()=>[V(te,{type:"primary",onClick:F[0]||(F[0]=$e=>_())},{default:ie(()=>[...F[44]||(F[44]=[Rt("refresh",-1)])]),_:1}),b(h)?(ge(),Tt(b(wtt),{key:0,ref_key:"lineChart",ref:e,data:b(p),options:g},null,8,["data"])):gt("",!0)]),_:1},8,["modelValue"]),b(a)?(ge(),Tt(ee,{key:0,class:"status","is-dot":!0,type:"success",onClick:F[2]||(F[2]=$e=>(f.value=!0,_()))},{default:ie(()=>[V(K,null,{default:ie(()=>[V(b(IF))]),_:1})]),_:1})):gt("",!0),b(a)?gt("",!0):(ge(),Tt(ee,{key:1,class:"status","is-dot":!0,type:"warning",onClick:F[3]||(F[3]=$e=>(f.value=!0,_()))},{default:ie(()=>[V(K,null,{default:ie(()=>[V(b(IF))]),_:1})]),_:1})),V(K,{class:"github",onClick:F[4]||(F[4]=$e=>i())},{default:ie(()=>[V(b(GKe),{icon:"grommet-icons:github"})]),_:1}),V(K,{class:"storage",onClick:F[5]||(F[5]=$e=>T())},{default:ie(()=>[V(b(q_e))]),_:1}),V(ee,{class:"chat","is-dot":b(Et).isDotMessage},{default:ie(()=>[V(K,{onClick:F[6]||(F[6]=$e=>n())},{default:ie(()=>[V(b(qye))]),_:1})]),_:1},8,["is-dot"]),V(K,{class:"phoneMode",onClick:b(c8e)},{default:ie(()=>[V(b(y_e))]),_:1},8,["onClick"]),b(ke).sub?gt("",!0):(ge(),Tt(de,{key:2,class:"whiteMode",icon:b(Y_e),size:"small",onClick:F[7]||(F[7]=$e=>b(Et).webauthnFormVisible=!0)},null,8,["icon"])),b(ke).sub?(ge(),Tt(de,{key:3,class:"whiteMode",size:"small",src:b(ke).avatarUrl,fit:"fill",onClick:F[8]||(F[8]=$e=>R())},null,8,["src"])):gt("",!0),b(ke).sub?gt("",!0):(ge(),Tt(ee,{key:4,class:"message","is-dot":b(Et).isDot},{default:ie(()=>[V(K,{onClick:F[9]||(F[9]=$e=>(b(Et).noticeDrawer=!0,b(JU)("",!1)))},{default:ie(()=>[V(b(RF))]),_:1})]),_:1},8,["is-dot"])),b(ke).sub?(ge(),Tt(ee,{key:5,class:"message","is-dot":b(Et).isDot},{default:ie(()=>[V(K,{onClick:F[10]||(F[10]=$e=>(b(Et).noticeDrawer=!0,b(JU)(b(ke).sub,!1)))},{default:ie(()=>[V(b(RF))]),_:1})]),_:1},8,["is-dot"])):gt("",!0),V(G,{modelValue:b(Et).webauthnFormVisible,"onUpdate:modelValue":F[16]||(F[16]=$e=>b(Et).webauthnFormVisible=$e),width:"65%"},{footer:ie(()=>[Ve("span",Stt,[V(te,{onClick:F[13]||(F[13]=$e=>b(Et).loading=!1)},{default:ie(()=>[...F[45]||(F[45]=[Rt("cancel",-1)])]),_:1}),V(te,{onClick:F[14]||(F[14]=$e=>(b(dI)(),b(Et).loadingText="logining..."))},{default:ie(()=>[...F[46]||(F[46]=[Rt("login",-1)])]),_:1}),V(te,{type:"primary",onClick:F[15]||(F[15]=$e=>(b(h8e)(),b(Et).loadingText="registering..."))},{default:ie(()=>[...F[47]||(F[47]=[Rt(" register ",-1)])]),_:1})])]),default:ie(()=>[Dr((ge(),Tt(Ee,{"element-loading-text":b(Et).loadingText,"element-loading-spinner":Dtt,"element-loading-svg-view-box":"-10, -10, 50, 50","element-loading-background":"rgba(122, 122, 122, 0.8)",onKeyup:F[12]||(F[12]=ts(Cr($e=>b(dI)(),["prevent"]),["enter"])),"label-position":"left","label-width":"auto","fit-input-width":!0},{default:ie(()=>[V(me,{label:"name","label-width":"auto"},{default:ie(()=>[V(ue,{modelValue:b(ke).username,"onUpdate:modelValue":F[11]||(F[11]=$e=>b(ke).username=$e)},null,8,["modelValue"])]),_:1})]),_:1},8,["element-loading-text"])),[[Ge,b(Et).loading]])]),_:1},8,["modelValue"]),V(G,{modelValue:b(u),"onUpdate:modelValue":F[26]||(F[26]=$e=>tr(u)?u.value=$e:null),width:b(Et).dialogWidth},{footer:ie(()=>[Ve("span",Ctt,[V(te,{onClick:F[23]||(F[23]=$e=>u.value=!1)},{default:ie(()=>[...F[51]||(F[51]=[Rt("Cancel",-1)])]),_:1}),V(te,{type:"primary",onClick:F[24]||(F[24]=$e=>b(HJ)(b(ks),b(ke).sub))},{default:ie(()=>[...F[52]||(F[52]=[Rt(" Confirm ",-1)])]),_:1}),V(te,{type:"danger",onClick:F[25]||(F[25]=$e=>b(FJ)())},{default:ie(()=>[...F[53]||(F[53]=[Rt(" logout ",-1)])]),_:1})])]),default:ie(()=>[V(te,{type:"primary",onClick:F[17]||(F[17]=$e=>U())},{default:ie(()=>[...F[48]||(F[48]=[Rt("add authenticator",-1)])]),_:1}),V(te,{type:"primary",onClick:F[18]||(F[18]=$e=>(b(mI)(b(l)),b(Et).userInfoForm=!0))},{default:ie(()=>[...F[49]||(F[49]=[Rt("userInfo",-1)])]),_:1}),V(Ee,{model:b(ks)},{default:ie(()=>[V(me,{label:"email","label-width":b(Et).labelWidth,inline:!0},{default:ie(()=>[V(ue,{modelValue:b(ks).email,"onUpdate:modelValue":F[19]||(F[19]=$e=>b(ks).email=$e)},null,8,["modelValue"]),!b(ke).email_verified&&b(ks).email!="null"?(ge(),Tt(te,{key:0,type:"primary",onClick:F[20]||(F[20]=$e=>N())},{default:ie(()=>[...F[50]||(F[50]=[Rt("validate",-1)])]),_:1})):gt("",!0)]),_:1},8,["label-width"]),V(me,{label:"nickName","label-width":b(Et).labelWidth},{default:ie(()=>[V(ue,{modelValue:b(ks).nickName,"onUpdate:modelValue":F[21]||(F[21]=$e=>b(ks).nickName=$e)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(me,{label:"password","label-width":b(Et).labelWidth},{default:ie(()=>[V(ue,{modelValue:b(ks).password,"onUpdate:modelValue":F[22]||(F[22]=$e=>b(ks).password=$e)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(me,{label:"avatar","label-width":b(Et).labelWidth},{default:ie(()=>[V(Oe,{class:"avatar-uploader","show-file-list":!1,"on-success":P,"before-upload":D,"http-request":A},{default:ie(()=>[b(o)?(ge(),Fe("img",{key:0,src:b(o),class:"avatar"},null,8,Ttt)):(ge(),Tt(K,{key:1,class:"avatar-uploader-icon"},{default:ie(()=>[V(b(XX))]),_:1}))]),_:1})]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),V(G,{modelValue:b(Et).userInfoForm,"onUpdate:modelValue":F[31]||(F[31]=$e=>b(Et).userInfoForm=$e),width:b(Et).dialogWidth},{footer:ie(()=>[Ve("span",Ett,[V(te,{onClick:F[28]||(F[28]=$e=>b(Et).userInfoForm=!1)},{default:ie(()=>[...F[56]||(F[56]=[Rt("Cancel",-1)])]),_:1}),V(te,{type:"primary",onClick:F[29]||(F[29]=$e=>Y(""))},{default:ie(()=>[...F[57]||(F[57]=[Rt("Confirm",-1)])]),_:1}),V(te,{type:"primary",onClick:F[30]||(F[30]=$e=>X(b(vl).username))},{default:ie(()=>[...F[58]||(F[58]=[Rt("Reset",-1)])]),_:1})])]),default:ie(()=>[V(te,{type:"",onClick:F[27]||(F[27]=$e=>d.value=!0)},{default:ie(()=>[...F[54]||(F[54]=[Rt("Add",-1)])]),_:1}),V(Ee,{model:b(Ca)},{default:ie(()=>[(ge(!0),Fe(Tn,null,li(b(Ca),($e,Ie)=>(ge(),Tt(me,{key:Ie,label:Ie,"label-width":b(Et).labelWidth},{default:ie(()=>[V(ue,{modelValue:b(Ca)[Ie],"onUpdate:modelValue":Ke=>b(Ca)[Ie]=Ke},null,8,["modelValue","onUpdate:modelValue"]),Object.keys(b(vl)).indexOf(Ie)>=0?gt("",!0):(ge(),Tt(te,{key:0,size:"small",type:"danger",onClick:Ke=>j(Ie)},{default:ie(()=>[...F[55]||(F[55]=[Rt(" delete ",-1)])]),_:1},8,["onClick"]))]),_:2},1032,["label","label-width"]))),128))]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),V(G,{modelValue:b(d),"onUpdate:modelValue":F[36]||(F[36]=$e=>tr(d)?d.value=$e:null),width:b(Et).dialogWidth},{footer:ie(()=>[Ve("span",Att,[V(te,{onClick:F[34]||(F[34]=$e=>d.value=!1)},{default:ie(()=>[...F[59]||(F[59]=[Rt("Cancel",-1)])]),_:1}),V(te,{type:"primary",onClick:F[35]||(F[35]=$e=>H())},{default:ie(()=>[...F[60]||(F[60]=[Rt("Confirm",-1)])]),_:1})])]),default:ie(()=>[V(Ee,null,{default:ie(()=>[V(me,{label:"claimName","label-width":b(Et).labelWidth},{default:ie(()=>[V(ue,{modelValue:b(C).key,"onUpdate:modelValue":F[32]||(F[32]=$e=>b(C).key=$e)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(me,{label:"value","label-width":b(Et).labelWidth},{default:ie(()=>[V(ue,{modelValue:b(C).value,"onUpdate:modelValue":F[33]||(F[33]=$e=>b(C).value=$e)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1})]),_:1},8,["modelValue","width"]),V(G,{modelValue:b(Et).tmpLogin,"onUpdate:modelValue":F[39]||(F[39]=$e=>b(Et).tmpLogin=$e),width:b(Et).dialogWidth,"align-center":""},{footer:ie(()=>[Ve("span",Ptt,[V(te,{onClick:F[37]||(F[37]=$e=>b(Et).tmpLogin=!1)},{default:ie(()=>[...F[61]||(F[61]=[Rt("Cancel",-1)])]),_:1}),V(te,{type:"primary",onClick:F[38]||(F[38]=$e=>b(m8e)())},{default:ie(()=>[...F[62]||(F[62]=[Rt(" Confirm ",-1)])]),_:1})])]),default:ie(()=>[F[63]||(F[63]=Ve("span",null,"send email to add authenticator for new Device?",-1))]),_:1},8,["modelValue","width"]),V(G,{modelValue:b(Et).refreshlogin,"onUpdate:modelValue":F[42]||(F[42]=$e=>b(Et).refreshlogin=$e),width:b(Et).dialogWidth,"align-center":""},{footer:ie(()=>[Ve("span",ktt,[V(te,{onClick:F[40]||(F[40]=$e=>b(Et).refreshlogin=!1)},{default:ie(()=>[...F[64]||(F[64]=[Rt("later",-1)])]),_:1}),V(te,{type:"primary",onClick:F[41]||(F[41]=$e=>b(XS)(b(ke).sub))},{default:ie(()=>[...F[65]||(F[65]=[Rt(" Confirm ",-1)])]),_:1})])]),default:ie(()=>[F[66]||(F[66]=Ve("span",null,"redirect to refresh access?",-1))]),_:1},8,["modelValue","width"]),V(G,{modelValue:b(Et).qrcode,"onUpdate:modelValue":F[43]||(F[43]=$e=>b(Et).qrcode=$e),width:b(Et).dialogWidth},{default:ie(()=>[V(w8e,{value:b(ke).qrcodeUrl,size:200,level:"H"},null,8,["value"])]),_:1},8,["modelValue","width"]),V(GYe),V(D8e),V($Ye,{ref_key:"storage",ref:s},null,512)],64)}}});const kx=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Rtt=kx(Itt,[["__scopeId","data-v-664b1719"]]),Ott={class:"dialog-footer"},Mtt=kt({__name:"Dark",setup(t){const e=()=>{const l={baseURL:"https://github.com/login/",url:"oauth/access_token",method:"POST",data:{code:Xv,client_id:ke.client_id,client_secret:ke.client_secret,redirect_uri:an.redirectUrl},headers:{"Content-Type":"application/x-www-form-urlencoded"}};vn(l).then(function(u){u.data.access_token!=""&&tp()})},n=()=>{const l={baseURL:an.authUrl,url:"/oauth2/token",method:"POST",data:{response_type:"token",client_id:ke.client_id,redirect_uri:an.redirectUrl},headers:{"Content-Type":"application/x-www-form-urlencoded"}};vn(l).then(function(u){u.data.access_token!=""&&(ke.refresh_token=u.data.refresh_token,ke.grant_type="authorization_code",ke.update(u.data.access_token,u.data.expires_in),tp(),m2())})},r=()=>{const l={baseURL:an.authUrl,url:"/oauth2/token",method:"POST",data:{grant_type:"authorization_code",code:Xv,redirect_uri:window.location.href.split("?")[0]},headers:{"Content-Type":"application/x-www-form-urlencoded"},auth:{username:ke.client_id,password:ke.client_secret}};vn(l).then(function(u){u.data.access_token!=""&&(ke.refresh_token=u.data.refresh_token,ke.grant_type="authorization_code",ke.update(u.data.access_token,u.data.expires_in),tp(),m2())})},i=()=>{const l={baseURL:an.authUrl,url:"/userinfo",method:"POST",headers:{Authorization:"Bearer "+ke.access_token},withCredentials:!0};vn(l)},s=()=>{const l={baseURL:an.authUrl,url:"/oauth2/token",method:"POST",data:{grant_type:"password",username:"",password:""},headers:{"Content-Type":"application/x-www-form-urlencoded"},auth:{username:ke.client_id,password:ke.client_secret}};vn(l).then(function(u){u.data.access_token!=""&&(ke.refresh_token=u.data.refresh_token,ke.grant_type="authorization_code",ke.update(u.data.access_token,u.data.expires_in),tp(),m2())})},a=()=>{const l={baseURL:an.authUrl,url:"/oauth2/token",method:"POST",data:{grant_type:"client_credentials"},headers:{"Content-Type":"application/x-www-form-urlencoded"},auth:{username:ke.client_id,password:ke.client_secret}};vn(l).then(function(u){u.data.access_token!=""&&(ke.grant_type="client_credentials",ke.update(u.data.access_token,u.data.expires_in),tp(),m2())})},o=()=>{Et.authFormVisible=!1,ke.grant_type=="client_credentials"?a():ke.grant_type=="password"?s():ke.grant_type=="code"?r():ke.grant_type=="token"?n():ke.grant_type=="github"?e():ke.grant_type=="pkce"?PJ():ke.grant_type=="info"&&i()};return(l,u)=>(ge(),Fe(Tn,null,[(ge(),Tt(b(qr),{key:0,id:"darkMode",size:"small",onClick:u[0]||(u[0]=d=>b(Et).authFormVisible=!0)})),V(b(Do),{modelValue:b(Et).authFormVisible,"onUpdate:modelValue":u[6]||(u[6]=d=>b(Et).authFormVisible=d),width:"65%"},{footer:ie(()=>[Ve("span",Ott,[V(b(qr),{onClick:u[4]||(u[4]=d=>b(Et).authFormVisible=!1)},{default:ie(()=>[...u[7]||(u[7]=[Rt("Cancel",-1)])]),_:1}),V(b(qr),{type:"primary",onClick:u[5]||(u[5]=d=>o())},{default:ie(()=>[...u[8]||(u[8]=[Rt(" Confirm ",-1)])]),_:1})])]),default:ie(()=>[V(b(Mc),{"label-position":"left","label-width":"auto","fit-input-width":!0},{default:ie(()=>[V(b(Io),{label:"type"},{default:ie(()=>[V(b(Uy),{modelValue:b(ke).grant_type,"onUpdate:modelValue":u[1]||(u[1]=d=>b(ke).grant_type=d),placeholder:"grant type"},{default:ie(()=>[V(b(lc),{label:"Authorization Code",value:"code"}),V(b(lc),{label:"Implicit",value:"token"}),V(b(lc),{label:"Resource Owner Password Credentials",value:"password"}),V(b(lc),{label:"Client Credentials",value:"client_credentials"}),V(b(lc),{label:"github",value:"github"}),V(b(lc),{label:"info",value:"info"})]),_:1},8,["modelValue"])]),_:1}),b(ke).grant_type!="authorization_code"?(ge(),Tt(b(Io),{key:0,label:"client","label-width":"auto"},{default:ie(()=>[V(b(ns),{modelValue:b(ke).client_id,"onUpdate:modelValue":u[2]||(u[2]=d=>b(ke).client_id=d),autocomplete:"off"},null,8,["modelValue"])]),_:1})):gt("",!0),b(ke).grant_type!="authorization_code"?(ge(),Tt(b(Io),{key:1,label:"secret","label-width":"auto"},{default:ie(()=>[V(b(ns),{modelValue:b(ke).client_secret,"onUpdate:modelValue":u[3]||(u[3]=d=>b(ke).client_secret=d),type:"password","show-password":!0,autocomplete:"off",onKeyup:ts(o,["enter"])},null,8,["modelValue"])]),_:1})):gt("",!0)]),_:1})]),_:1},8,["modelValue"])],64))}});const Ltt=kx(Mtt,[["__scopeId","data-v-95d156fe"]]);const $tt={key:0},Ntt={key:1},Ftt={class:"dialog-footer"},Aae=kt({__name:"IP",setup(t,{expose:e}){const n=ye(!1),r=ye(!1),i=ye(""),a=lr({ips:[{}]}),o={pageNumber:1,pageSize:20,order:0},l=lr({address:"",black:""});function u(){n.value=!0}function d(){n.value=!1;const v={baseURL:an.apiUrl,url:"/ip",method:"PUT",params:{black:l.black,address:l.address},headers:{Authorization:"Bearer "+ke.access_token}};vn(v).then(function(p){g("")})}const f=v=>{(v==""||v==null)&&(v=l.address);const p={baseURL:an.apiUrl,url:"/ip",method:"PATCH",params:{black:"",address:v,id:""},headers:{Authorization:"Bearer "+ke.access_token}};vn(p).then(function(_){_.status==200&&(n.value=!1,g(""))})},h=(v,p,_,S)=>{var C="false";_=="false"&&(C="true");const T={baseURL:an.apiUrl,url:"/ip",method:"PATCH",params:{address:p,black:C,id:S},headers:{Authorization:"Bearer "+ke.access_token}};vn(T).then(function(A){A.data=="UPDATED"&&g("")})},g=v=>{r.value=!0;const p={baseURL:an.apiUrl,url:"/ip",method:"GET",params:{black:"",pageNumber:o.pageNumber-1,pageSize:o.pageSize,order:o.order,id:v},headers:{Authorization:"Bearer "+ke.access_token}};vn(p).then(function(_){_.status==200&&(a.ips=_.data.hits,i.value=_.data.scrollId)})};return e({ipList:g,ipBlock:h}),(v,p)=>{const _=lc;return ge(),Fe(Tn,null,[V(b(Do),{modelValue:b(r),"onUpdate:modelValue":p[2]||(p[2]=S=>tr(r)?r.value=S:null),width:b(Et).dialogWidth},{default:ie(()=>[V(b(qr),{type:"",onClick:u},{default:ie(()=>[...p[8]||(p[8]=[Rt("Update",-1)])]),_:1}),V(b(qr),{type:"",onClick:p[0]||(p[0]=S=>g(""))},{default:ie(()=>[...p[9]||(p[9]=[Rt("refresh",-1)])]),_:1}),V(b(qr),{type:"",onClick:p[1]||(p[1]=S=>g(b(i)))},{default:ie(()=>[...p[10]||(p[10]=[Rt("Next",-1)])]),_:1}),V(b(Fu),{data:b(a).ips},{default:ie(()=>[V(b(Ki),{property:"address",label:"address",width:"auto"}),V(b(Ki),{property:"black",label:"black",width:"100px"}),V(b(Ki),{property:"timestamp",label:"date",sortable:"",width:"auto"}),V(b(Ki),{label:"Operations"},{default:ie(S=>[V(b(qr),{size:"small",type:"danger",onClick:C=>h(S.$index,S.row.address,S.row.black,S.row.id)},{default:ie(()=>[S.row.black=="false"?(ge(),Fe("span",$tt,"block")):gt("",!0),S.row.black=="true"?(ge(),Fe("span",Ntt,"unblock")):gt("",!0)]),_:2},1032,["onClick"]),V(b(qr),{size:"small",type:"danger",onClick:C=>f(S.row.address)},{default:ie(()=>[...p[11]||(p[11]=[Rt("delete",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),V(b(Do),{modelValue:b(n),"onUpdate:modelValue":p[7]||(p[7]=S=>tr(n)?n.value=S:null),width:b(Et).dialogWidth},{footer:ie(()=>[Ve("span",Ftt,[V(b(qr),{onClick:p[5]||(p[5]=S=>n.value=!1)},{default:ie(()=>[...p[12]||(p[12]=[Rt("Cancel",-1)])]),_:1}),V(b(qr),{type:"danger",onClick:p[6]||(p[6]=S=>f(""))},{default:ie(()=>[...p[13]||(p[13]=[Rt("delete",-1)])]),_:1}),V(b(qr),{type:"primary",onClick:d},{default:ie(()=>[...p[14]||(p[14]=[Rt(" Confirm ",-1)])]),_:1})])]),default:ie(()=>[V(b(Mc),{model:b(l)},{default:ie(()=>[V(b(Io),{label:"type","label-width":b(Et).labelWidth},{default:ie(()=>[V(b(Uy),{modelValue:b(l).black,"onUpdate:modelValue":p[3]||(p[3]=S=>b(l).black=S),placeholder:""},{default:ie(()=>[V(_,{label:"white",value:"false"}),V(_,{label:"black",value:"true"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),V(b(Io),{label:"address","label-width":b(Et).labelWidth},{default:ie(()=>[V(b(ns),{modelValue:b(l).address,"onUpdate:modelValue":p[4]||(p[4]=S=>b(l).address=S),autocomplete:"off",onKeyup:ts(d,["enter"])},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"])],64)}}}),Btt={class:"dialog-footer"},Utt=kt({__name:"Record",setup(t,{expose:e}){const n=ye(!1),r=ye(!1),i=ye(""),s=ye(null),a=ye(""),o=[],l=ye(!1),u=lr({records:o}),d=lr({timestamp:"",id:"",accessPath:"",sourceIP:"",userAgent:"",requestHeader:{}}),f={pageNumber:1,pageSize:10,order:"0"},h=Y=>{v.value=Y,p.splice(0,p.length);for(let H of v.value)p.push(H.id)},g=(Y,H,j,X)=>{var W;(W=s.value)==null||W.ipBlock(Y,H,j,X)},v=ye([]),p=[],_=()=>{const Y={baseURL:an.apiUrl,url:"/record/"+p.toString(),method:"DELETE",headers:{Authorization:"Bearer "+ke.access_token}};vn(Y).then(function(H){H.status==200&&(p.forEach(function(j,X){u.records.forEach(function(W,F){j===W.id&&u.records.splice(F,1)})}),u.records.length==0&&(N.value!=""?U():D(f.order)))})},S=()=>{const Y={baseURL:an.apiUrl,url:"/record/"+d.sourceIP,method:"DELETE",headers:{Authorization:"Bearer "+ke.access_token}};vn(Y).then(function(H){H.status==200&&(di.alert("delete amount:"+H.data),D(f.order))})},C=Y=>{r.value=!0,i.value=JSON.stringify(Y.requestHeader,null,2)},T=(Y,H)=>{const j={baseURL:an.apiUrl,url:"/record/"+H.id,method:"DELETE",headers:{Authorization:"Bearer "+ke.access_token}};vn(j).then(function(X){X.status==200&&u.records.splice(Y,1)})};function A(Y){return Wn(Y.timestamp).format("YYYY-MM-DD HH:mm:ss")}const P=async(Y,H)=>{f.order=Y,R(H)},D=async Y=>{f.order=Y,R("")},R=async Y=>{l.value=!0;const H={baseURL:an.apiUrl,url:"/record",method:"GET",params:{pageNumber:f.pageNumber-1,pageSize:f.pageSize,order:f.order,id:Y},headers:{Authorization:"Bearer "+ke.access_token}};await vn(H).then(function(j){j.status==200&&(u.records=j.data.hits,a.value=j.data.scrollId)})},N=ye("");function U(){if(N.value!=""){const Y={baseURL:an.apiUrl,url:"/record",method:"POST",data:{params:N.value,pageNumber:f.pageNumber-1,pageSize:f.pageSize,order:f.order,id:a},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/x-www-form-urlencoded"}};vn(Y).then(function(H){H.status==200&&(u.records=H.data.hits,a.value=H.data.scrollId)})}else D(f.order)}return e({recordList:D}),(Y,H)=>{const j=qr,X=Ki,W=ns,F=Fu,te=Do,G=Io,K=Mc;return ge(),Fe(Tn,null,[V(te,{modelValue:b(l),"onUpdate:modelValue":H[5]||(H[5]=ee=>tr(l)?l.value=ee:null),width:b(Et).dialogWidth},{default:ie(()=>[V(j,{type:"danger",onClick:H[0]||(H[0]=ee=>_())},{default:ie(()=>[...H[10]||(H[10]=[Rt("DeleteSelect",-1)])]),_:1}),V(j,{type:"",onClick:H[1]||(H[1]=ee=>n.value=!0)},{default:ie(()=>[...H[11]||(H[11]=[Rt("batch",-1)])]),_:1}),V(j,{type:"",onClick:H[2]||(H[2]=ee=>D(f.order))},{default:ie(()=>[...H[12]||(H[12]=[Rt("refresh",-1)])]),_:1}),V(j,{type:"",onClick:H[3]||(H[3]=ee=>P(f.order,b(a)))},{default:ie(()=>[...H[13]||(H[13]=[Rt("next",-1)])]),_:1}),V(F,{data:b(u).records,onSelectionChange:h},{default:ie(()=>[V(X,{type:"selection"}),V(X,{property:"accessPath",label:"path",width:"170px"}),V(X,{property:"userAgent",label:"userAgent",width:"300px"}),V(X,{property:"timestamp",label:"date",formatter:A,sortable:""}),V(X,{property:"sourceIP",label:"address",width:"130px"}),V(X,{align:"right"},{header:ie(()=>[V(W,{modelValue:b(N),"onUpdate:modelValue":H[4]||(H[4]=ee=>tr(N)?N.value=ee:null),size:"small",placeholder:"Type to search",onKeyup:ts(U,["enter"])},null,8,["modelValue"])]),default:ie(ee=>[V(j,{size:"small",type:"",onClick:de=>C(ee.row)},{default:ie(()=>[...H[14]||(H[14]=[Rt("headers",-1)])]),_:1},8,["onClick"]),V(j,{size:"small",type:"danger",onClick:de=>T(ee.$index,ee.row)},{default:ie(()=>[...H[15]||(H[15]=[Rt("Delete",-1)])]),_:1},8,["onClick"]),V(j,{size:"small",type:"danger",onClick:de=>g(ee.$index,ee.row.sourceIP,"false","")},{default:ie(()=>[...H[16]||(H[16]=[Rt("lock",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),V(te,{modelValue:b(n),"onUpdate:modelValue":H[8]||(H[8]=ee=>tr(n)?n.value=ee:null),width:b(Et).dialogWidth},{footer:ie(()=>[Ve("span",Btt,[V(j,{onClick:H[7]||(H[7]=ee=>n.value=!1)},{default:ie(()=>[...H[17]||(H[17]=[Rt("Cancel",-1)])]),_:1}),V(j,{type:"danger",onClick:S},{default:ie(()=>[...H[18]||(H[18]=[Rt("delete",-1)])]),_:1})])]),default:ie(()=>[V(K,{model:b(d)},{default:ie(()=>[V(G,{label:"address","label-width":b(Et).labelWidth},{default:ie(()=>[V(W,{modelValue:b(d).sourceIP,"onUpdate:modelValue":H[6]||(H[6]=ee=>b(d).sourceIP=ee),autocomplete:"off",onKeyup:ts(S,["enter"])},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),V(te,{modelValue:b(r),"onUpdate:modelValue":H[9]||(H[9]=ee=>tr(r)?r.value=ee:null),width:b(Et).dialogWidth},{default:ie(()=>[Ve("pre",null,yn(b(i)),1)]),_:1},8,["modelValue","width"]),V(Aae,{ref_key:"ip",ref:s},null,512)],64)}}});const Vtt={class:"dialog-footer"},ztt={class:"dialog-footer"},Htt=kt({__name:"AuthClient",setup(t,{expose:e}){const n=ye(),r=ye(),i=ye(!1),s=ye(!1),a=ye(!1),o=ye(!1),d=lr({authclient:[{}],authclientRegister:[{}]}),f={pageNumber:1,pageSize:10},h={multiple:!0,expandTrigger:"hover"};let g=()=>({id:"",clientId:"",clientSecret:"",clientSecretExpiresAt:"",scopes:"",redirectUris:"",postLogoutRedirectUris:"",clientName:"",clientSettings:"",tokenSettings:"",authorizationGrantTypes:"",clientAuthenticationMethods:""}),v=()=>({registrationId:"",clientId:"",clientSecret:"",clientAuthenticationMethod:"",authorizationGrantType:"",scopes:"",redirectUri:"",clientName:"",authorizationUri:"",tokenUri:"",jwkSetUri:"",issuerUri:"",userInfoUri:"",authenticationMethod:"",userNameAttributeName:""}),p=lr(v()),_=lr(g());const S=[{value:"@class",label:"@class",children:[{value:"java.util.Collections$UnmodifiableMap",label:"java.util.Collections$UnmodifiableMap"}]},{value:"settings.token.authorization-code-time-to-live",label:"authorizationCodeTimeToLive",children:[{value:"java.time.Duration",label:"Duration",children:[{value:1800,label:"30min"},{value:7200,label:"2h"},{value:43200,label:"12h"}]}]},{value:"settings.token.access-token-time-to-live",label:"accessTokenTimeToLive",children:[{value:"java.time.Duration",label:"Duration",children:[{value:30,label:"30s"},{value:300,label:"5min"},{value:1200,label:"20min"},{value:86400,label:"24h"}]}]},{value:"settings.token.refresh-token-time-to-live",label:"refreshTokenTimeToLive",children:[{value:"java.time.Duration",label:"Duration",children:[{value:60,label:"1min"},{value:3600,label:"1h"},{value:18e3,label:"5h"},{value:36e3,label:"10h"}]}]},{value:"settings.token.access-token-format",label:"accessTokenFormat",children:[{value:"@class",label:"@class",children:[{value:"org.springframework.security.oauth2.server.authorization.settings.OAuth2TokenFormat",label:"OAuth2TokenFormat"}]},{value:"value",label:"value",children:[{value:"reference",label:"reference"},{value:"self-contained",label:"self-contained"}]}]},{value:"settings.token.reuse-refresh-tokens",label:"reuseRefreshTokens",children:[{value:"reuse-refresh-tokens-false",label:"false"},{value:"reuse-refresh-tokens-true",label:"true"}]},{value:"settings.token.id-token-signature-algorithm",label:"idTokenSignatureAlgorithm",children:[{value:"org.springframework.security.oauth2.jose.jws.SignatureAlgorithm",label:"SignatureAlgorithm",children:[{value:"RS256",label:"RS256"}]}]}],C=[{value:"@class",label:"@class",children:[{value:"java.util.Collections$UnmodifiableMap",label:"java.util.Collections$UnmodifiableMap"}]},{value:"settings.client.require-proof-key",label:"requireProofKey",children:[{value:"require-proof-key-true",label:"true"},{value:"require-proof-key-false",label:"false"}]},{value:"settings.client.token-endpoint-authentication-signing-algorithm",label:"signingAlgorithm",children:[{value:"RS256",label:"RS256"},{value:"RS384",label:"RS384"},{value:"RS512",label:"RS512"},{value:"ES256",label:"ES256"},{value:"ES384",label:"ES384"},{value:"ES512",label:"ES512"},{value:"PS256",label:"PS256"},{value:"PS384",label:"PS384"},{value:"PS512",label:"PS512"}]},{value:"settings.client.jwk-set-url",label:"jwkSetUrl",children:[{value:"https://auth-pre.elpsykongroo.com",label:"https://auth-pre.elpsykongroo.com"},{value:"https://auth.elpsykongroo.com",label:"https://auth.elpsykongroo.com"}]},{value:"settings.client.require-authorization-consent",label:"Consent",children:[{value:"require-authorization-consent-false",label:"false"},{value:"require-authorization-consent-true",label:"true"}]}];let T=ye([""]),A=ye("");const P=ye(new Array),D=ye(new Array),R=ht=>typeof ht=="object"&&!Array.isArray(ht)&&ht!==null,N=ht=>Array.isArray(ht)&&ht!==null,U=(ht,ae,Re)=>{R(ae)?Object.entries(ae).map(rt=>{Re.push(rt[0]),U(ht,rt[1],Re)}):N(ae)?(Re.push(ae[0]),Re.push(ae[1])):Re.push(H(ht,ae))},Y=(ht,ae)=>{Object.entries(ht).map(Re=>(ae.push(Re[0]),U(Re[0],Re[1],ae),ae))},H=(ht,ae)=>{if(ht.includes(".")){const Re=ht.split("."),rt=Re.length;ae==!0&&(ae=Re[rt-1]+"-true"),ae==!1&&(ae=Re[rt-1]+"-false")}return ae},j=ht=>{const Re=ht.split("-").length,rt=ht.split("-")[Re-1];return rt=="true"&&(ht=!0),rt=="false"&&(ht=!1),ht},X=ht=>{const ae=new Map;ht.map(Ye=>{if(Ye[0]=="settings.token.access-token-format"&&Ye.length>2)if(ae.has(Ye[0])){const it=ae.get(Ye[0]),St=new Map;St.set(Ye[1],Ye[2]);const Lt=Object.fromEntries(St),xt=Object.assign(it,Lt);ae.set(Ye[0],xt)}else{const it=new Map;it.set(Ye[1],Ye[2]);const St=Object.fromEntries(it);ae.set(Ye[0],St)}else if(Ye.length>2){const it=new Array;it.push(Ye[1]),it.push(Ye[2]),ae.set(Ye[0],it)}else(Ye.length=2)&&ae.set(Ye[0],j(Ye[1]))});const Re=Object.fromEntries(ae);var rt=JSON.stringify(Re);_.tokenSettings=rt},W=ht=>{const ae=new Map;ht.map(Ye=>{if(Ye.length>2){const it=new Map;it.set(Ye[1],Ye[2]);const St=Object.fromEntries(it);ae.set(Ye[0],St)}else ae.set(Ye[0],j(Ye[1]))});const Re=Object.fromEntries(ae);var rt=JSON.stringify(Re);_.clientSettings=rt},F=(ht,ae)=>{const Re={baseURL:an.authUrl,url:"/auth/client/"+ae.clientId,method:"DELETE",headers:{Authorization:"Bearer "+ke.access_token}};vn(Re).then(function(rt){rt.data>0&&d.authclient.splice(ht,1)})},te=(ht,ae)=>{const Re={baseURL:an.authUrl,url:"/auth/client/register/"+ae.registrationId,method:"DELETE",headers:{Authorization:"Bearer "+ke.access_token}};vn(Re).then(function(rt){rt.data>0&&d.authclientRegister.splice(ht,1)})},G=ht=>{ht&&ht.validate(ae=>{if(ae){const Re={baseURL:an.authUrl,url:"/auth/client",method:"PUT",data:_,headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/json"}};_.authorizationGrantTypes=T.value.toString(),_.clientSecret.startsWith("{bcrypt}")?vn(Re).then(function(rt){rt.status==200&&(i.value=!1,de())}):fI.hash(_.clientSecret,10).then(function(rt){_.clientSecret="{bcrypt}"+rt,vn(Re).then(function(Ye){Ye.status==200&&(i.value=!1,de())})})}else return!1})},K=ht=>{const ae={uri:p.userInfoUri,authenticationMethod:p.authenticationMethod,userNameAttributeName:p.userNameAttributeName},Re={authorizationUri:p.authorizationUri,tokenUri:p.tokenUri,jwkSetUri:p.jwkSetUri,issuerUri:p.issuerUri,configurationMetadata:new Map,userInfoEndpoint:ae};let rt;p.scopes!=""&&(rt=p.scopes.split(","));const Ye={registrationId:p.registrationId,clientId:p.clientId,clientSecret:p.clientSecret,clientAuthenticationMethod:p.clientAuthenticationMethod,authorizationGrantType:p.authorizationGrantType,scopes:rt,redirectUri:p.redirectUri,clientName:p.clientName,providerDetails:Re};ht&&ht.validate(it=>{if(it){const St={baseURL:an.authUrl,url:"/auth/client/register",method:"PUT",data:Ye,headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/json"}};p.clientSecret.startsWith("{bcrypt}")?vn(St).then(function(Lt){Lt.status==200&&(s.value=!1,ee())}):fI.hash(p.clientSecret,10).then(function(Lt){Ye.clientSecret="{bcrypt}"+Lt,vn(St).then(function(xt){xt.status==200&&(s.value=!1,ee())})})}else return!1})},ee=()=>{a.value=!0;const ht={baseURL:an.authUrl,url:"/auth/client/register",method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};vn(ht).then(function(ae){d.authclientRegister=ae.data})},de=()=>{o.value=!0;const ht={baseURL:an.authUrl,url:"/auth/client",method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};vn(ht).then(function(ae){d.authclient=ae.data})},ue=ht=>{if(ht==null||ht.resetFields(),Xe.length>1)di.alert("dont support batch update");else if(Xe.length==1){const ae=Ge.value[0],Re=new Array,rt=new Array;if(ae.clientSettings!=""){const Ye=JSON.parse(ae.clientSettings);Y(Ye,Re)}if(ae.tokenSettings!=""){const Ye=JSON.parse(ae.tokenSettings);Y(Ye,rt)}P.value=Re,D.value=rt,A.value=Wn.unix(parseInt(ae.clientSecretExpiresAt,10)).format("YYYY-MM-DDTHH:mm:ss[Z]"),T.value=ae.authorizationGrantTypes.split(","),Object.assign(_,Ge.value[0]),i.value=!0}else Object.assign(_,g()),T.value=[],P.value=[],A.value="",D.value=[],i.value=!0},me=ht=>{if(ht==null||ht.resetFields(),Xe.length>1)di.alert("dont support batch update");else if(Xe.length==1){const ae=Ee.value[0];p.authorizationUri=ae.providerDetails.authorizationUri,p.tokenUri=ae.providerDetails.tokenUri,p.issuerUri=ae.providerDetails.issuerUri,p.jwkSetUri=ae.providerDetails.jwkSetUri,p.userNameAttributeName=ae.providerDetails.userInfoEndpoint.userNameAttributeName,p.userInfoUri=ae.providerDetails.userInfoEndpoint.uri,p.authenticationMethod=ae.providerDetails.userInfoEndpoint.authenticationMethod,Object.assign(p,Ee.value[0]),s.value=!0}else Object.assign(p,v()),s.value=!0},Ee=ye([]),Oe=ht=>{Ee.value=ht,Xe.splice(0,Xe.length);for(let ae of Ee.value)Xe.push(ae.clientId)},Ge=ye([]),$e=ht=>{Ge.value=ht,Xe.splice(0,Xe.length);for(let ae of Ge.value)Xe.push(ae.clientId)},Ie=ht=>{f.pageNumber=ht,de()},Ke=ht=>{de()},Xe=[];function Ze(ht){return Wn.unix(parseInt(ht.clientIdIssuedAt,10)).format("YYYY-MM-DDTHH:mm:ss[Z]")}function bt(ht){return Wn.unix(parseInt(ht.clientSecretExpiresAt,10)).format("YYYY-MM-DDTHH:mm:ss[Z]")}return e({authClientList:de,authClientRegisterList:ee}),(ht,ae)=>{const Re=Ec,rt=QM,Ye=Io,it=lc,St=Uy,Lt=ns,xt=Twe,sn=bK,zt=nK,ft=Mc,tn=qr,_n=Do,qt=Ki,Pt=Fu,Ct=iv,Kt=e8,$t=JY;return ge(),Fe(Tn,null,[V(_n,{modelValue:i.value,"onUpdate:modelValue":ae[14]||(ae[14]=Te=>i.value=Te),width:b(Et).dialogWidth},{footer:ie(()=>[Ve("span",Vtt,[V(tn,{onClick:ae[12]||(ae[12]=Te=>i.value=!1)},{default:ie(()=>[...ae[38]||(ae[38]=[Rt("Cancel",-1)])]),_:1}),V(tn,{type:"primary",onClick:ae[13]||(ae[13]=Te=>G(n.value))},{default:ie(()=>[...ae[39]||(ae[39]=[Rt(" Confirm ",-1)])]),_:1})])]),default:ie(()=>[V(ft,{ref_key:"clientformRef",ref:n,model:b(_),"inline-message":!0},{default:ie(()=>[V(Ye,{label:"GrantTypes","label-width":b(Et).labelWidth},{default:ie(()=>[V(rt,{modelValue:b(T),"onUpdate:modelValue":ae[0]||(ae[0]=Te=>tr(T)?T.value=Te:T=Te)},{default:ie(()=>[V(Re,{label:"client_credentials"}),V(Re,{label:"authorization_code"}),V(Re,{label:"refresh_token"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"Methods","label-width":b(Et).labelWidth},{default:ie(()=>[V(St,{modelValue:b(_).clientAuthenticationMethods,"onUpdate:modelValue":ae[1]||(ae[1]=Te=>b(_).clientAuthenticationMethods=Te),placeholder:""},{default:ie(()=>[V(it,{label:"client_secret_basic",value:"client_secret_basic"}),V(it,{label:"client_secret_post",value:"client_secret_post"}),V(it,{label:"private_key_jwt",value:"private_key_jwt"}),V(it,{label:"client_secret_jwt",value:"client_secret_jwt"}),V(it,{label:"none",value:"none"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"redirectUris","label-width":b(Et).labelWidth},{default:ie(()=>[V(Lt,{modelValue:b(_).redirectUris,"onUpdate:modelValue":ae[2]||(ae[2]=Te=>b(_).redirectUris=Te)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"logoutRedirectUris","label-width":b(Et).labelWidth},{default:ie(()=>[V(Lt,{modelValue:b(_).postLogoutRedirectUris,"onUpdate:modelValue":ae[3]||(ae[3]=Te=>b(_).postLogoutRedirectUris=Te)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"clientName","label-width":b(Et).labelWidth},{default:ie(()=>[V(Lt,{modelValue:b(_).clientName,"onUpdate:modelValue":ae[4]||(ae[4]=Te=>b(_).clientName=Te)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"scopes","label-width":b(Et).labelWidth},{default:ie(()=>[V(Lt,{modelValue:b(_).scopes,"onUpdate:modelValue":ae[5]||(ae[5]=Te=>b(_).scopes=Te)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{"label-width":b(Et).labelWidth,label:"clientId",prop:"clientId",rules:[{required:!0,message:"clientId is required"}]},{default:ie(()=>[V(Lt,{modelValue:b(_).clientId,"onUpdate:modelValue":ae[6]||(ae[6]=Te=>b(_).clientId=Te),style:{width:"auto"}},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"clientSecret","label-width":b(Et).labelWidth},{default:ie(()=>[V(Lt,{modelValue:b(_).clientSecret,"onUpdate:modelValue":ae[7]||(ae[7]=Te=>b(_).clientSecret=Te),type:"password","show-password":!0,autocomplete:"off",onKeyup:ae[8]||(ae[8]=ts(()=>{},["enter"]))},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"clientSettings","label-width":b(Et).labelWidth},{default:ie(()=>[V(xt,{ref:"clientSet",modelValue:P.value,"onUpdate:modelValue":ae[9]||(ae[9]=Te=>P.value=Te),options:C,props:h,onChange:W,clearable:""},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"tokenSettings","label-width":b(Et).labelWidth},{default:ie(()=>[V(xt,{ref:"tokenSet",modelValue:D.value,"onUpdate:modelValue":ae[10]||(ae[10]=Te=>D.value=Te),options:S,props:h,onChange:X,clearable:""},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"SecretExpires"},{default:ie(()=>[V(zt,{span:9},{default:ie(()=>[V(sn,{ref:"datePicker",modelValue:b(_).clientSecretExpiresAt,"onUpdate:modelValue":ae[11]||(ae[11]=Te=>b(_).clientSecretExpiresAt=Te),type:"datetime",placeholder:b(A),"value-format":"YYYY-MM-DDTHH:mm:ss[Z]",format:"YYYY-MM-DDTHH:mm:ss[Z]"},null,8,["modelValue","placeholder"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),V(_n,{modelValue:o.value,"onUpdate:modelValue":ae[16]||(ae[16]=Te=>o.value=Te),width:b(Et).dialogWidth},{default:ie(()=>[V(tn,{type:"",onClick:ae[15]||(ae[15]=Te=>ue(n.value))},{default:ie(()=>[...ae[40]||(ae[40]=[Rt("Add",-1)])]),_:1}),V(Pt,{data:d.authclient,onSelectionChange:$e},{default:ie(()=>[V(qt,{type:"selection"}),V(qt,{property:"clientId",label:"Id",width:"60px"}),V(qt,{property:"clientSecret",label:"Secret"}),V(qt,{property:"clientName",label:"name"}),V(qt,{property:"redirectUris",label:"redirectUris",width:"100px"}),V(qt,{property:"postLogoutRedirectUris",label:"postLogoutRedirectUris",width:"100px"}),V(qt,{property:"scopes",label:"scopes",width:"70px"}),V(qt,{property:"clientAuthenticationMethods",label:"Methods",width:"60px"}),V(qt,{property:"authorizationGrantTypes",label:"type",width:"70px"}),V(qt,{property:"clientIdIssuedAt",label:"issused",formatter:Ze,sortable:""}),V(qt,{property:"clientSecretExpiresAt",label:"expire",formatter:bt,sortable:""}),V(qt,{property:"clientSettings",label:"clientSettings",width:"150px"}),V(qt,{property:"tokenSettings",label:"tokenSettings",width:"300px"}),V(qt,null,{default:ie(Te=>[V(tn,{size:"small",type:"danger",onClick:vt=>F(Te.$index,Te.row)},{default:ie(()=>[...ae[41]||(ae[41]=[Rt("Delete",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),V(Ct,{layout:"prev, pager, next, sizes",total:50,"current-page":f.pageNumber,"page-size":f.pageSize,"onUpdate:currentPage":Ie,"onUpdate:pageSize":Ke},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),V(_n,{modelValue:s.value,"onUpdate:modelValue":ae[35]||(ae[35]=Te=>s.value=Te),width:b(Et).dialogWidth},{footer:ie(()=>[Ve("span",ztt,[V(tn,{onClick:ae[33]||(ae[33]=Te=>s.value=!1)},{default:ie(()=>[...ae[45]||(ae[45]=[Rt("Cancel",-1)])]),_:1}),V(tn,{type:"primary",onClick:ae[34]||(ae[34]=Te=>K(r.value))},{default:ie(()=>[...ae[46]||(ae[46]=[Rt(" Confirm ",-1)])]),_:1})])]),default:ie(()=>[V(ft,{ref_key:"registerformRef",ref:r,model:b(p),"inline-message":!0},{default:ie(()=>[V(Ye,{label:"Types","label-width":b(Et).labelWidth},{default:ie(()=>[V($t,{modelValue:b(p).authorizationGrantType,"onUpdate:modelValue":ae[17]||(ae[17]=Te=>b(p).authorizationGrantType=Te)},{default:ie(()=>[V(Kt,{label:"client_credentials"},{default:ie(()=>[...ae[42]||(ae[42]=[Rt("client_credentials",-1)])]),_:1}),V(Kt,{label:"authorization_code"},{default:ie(()=>[...ae[43]||(ae[43]=[Rt("authorization_code",-1)])]),_:1}),V(Kt,{label:"refresh_token"},{default:ie(()=>[...ae[44]||(ae[44]=[Rt("refresh_token",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"Methods","label-width":b(Et).labelWidth},{default:ie(()=>[V(St,{modelValue:b(p).clientAuthenticationMethod,"onUpdate:modelValue":ae[18]||(ae[18]=Te=>b(p).clientAuthenticationMethod=Te),placeholder:""},{default:ie(()=>[V(it,{label:"client_secret_basic",value:"client_secret_basic"}),V(it,{label:"client_secret_post",value:"client_secret_post"}),V(it,{label:"private_key_jwt",value:"private_key_jwt"}),V(it,{label:"client_secret_jwt",value:"client_secret_jwt"}),V(it,{label:"none",value:"none"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"redirectUri","label-width":b(Et).labelWidth},{default:ie(()=>[V(Lt,{modelValue:b(p).redirectUri,"onUpdate:modelValue":ae[19]||(ae[19]=Te=>b(p).redirectUri=Te)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"clientName","label-width":b(Et).labelWidth},{default:ie(()=>[V(Lt,{modelValue:b(p).clientName,"onUpdate:modelValue":ae[20]||(ae[20]=Te=>b(p).clientName=Te)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"scopes","label-width":b(Et).labelWidth},{default:ie(()=>[V(Lt,{modelValue:b(p).scopes,"onUpdate:modelValue":ae[21]||(ae[21]=Te=>b(p).scopes=Te),placeholder:"openid"},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{"label-width":b(Et).labelWidth,label:"registerId",prop:"registrationId",rules:[{required:!0,message:"registerId is required"}]},{default:ie(()=>[V(Lt,{modelValue:b(p).registrationId,"onUpdate:modelValue":ae[22]||(ae[22]=Te=>b(p).registrationId=Te),style:{width:"auto"}},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{"label-width":b(Et).labelWidth,label:"clientId",prop:"clientId",rules:[{required:!0,message:"clientId is required"}]},{default:ie(()=>[V(Lt,{modelValue:b(p).clientId,"onUpdate:modelValue":ae[23]||(ae[23]=Te=>b(p).clientId=Te),style:{width:"auto"}},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"clientSecret","label-width":b(Et).labelWidth},{default:ie(()=>[V(Lt,{modelValue:b(p).clientSecret,"onUpdate:modelValue":ae[24]||(ae[24]=Te=>b(p).clientSecret=Te),type:"password","show-password":!0,autocomplete:"off",onKeyup:ae[25]||(ae[25]=ts(()=>{},["enter"]))},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"authorizationUri","label-width":b(Et).labelWidth,required:!0},{default:ie(()=>[V(Lt,{modelValue:b(p).authorizationUri,"onUpdate:modelValue":ae[26]||(ae[26]=Te=>b(p).authorizationUri=Te)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"tokenUri","label-width":b(Et).labelWidth,required:!0},{default:ie(()=>[V(Lt,{modelValue:b(p).tokenUri,"onUpdate:modelValue":ae[27]||(ae[27]=Te=>b(p).tokenUri=Te)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"jwkSetUri","label-width":b(Et).labelWidth},{default:ie(()=>[V(Lt,{modelValue:b(p).jwkSetUri,"onUpdate:modelValue":ae[28]||(ae[28]=Te=>b(p).jwkSetUri=Te)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"issuerUri","label-width":b(Et).labelWidth},{default:ie(()=>[V(Lt,{modelValue:b(p).issuerUri,"onUpdate:modelValue":ae[29]||(ae[29]=Te=>b(p).issuerUri=Te)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"userInfoUri","label-width":b(Et).labelWidth},{default:ie(()=>[V(Lt,{modelValue:b(p).userInfoUri,"onUpdate:modelValue":ae[30]||(ae[30]=Te=>b(p).userInfoUri=Te)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"authenticationMethod","label-width":b(Et).labelWidth,required:!0},{default:ie(()=>[V(Lt,{modelValue:b(p).authenticationMethod,"onUpdate:modelValue":ae[31]||(ae[31]=Te=>b(p).authenticationMethod=Te)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(Ye,{label:"userNameAttributeName","label-width":b(Et).labelWidth},{default:ie(()=>[V(Lt,{modelValue:b(p).userNameAttributeName,"onUpdate:modelValue":ae[32]||(ae[32]=Te=>b(p).userNameAttributeName=Te)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),V(_n,{modelValue:a.value,"onUpdate:modelValue":ae[37]||(ae[37]=Te=>a.value=Te),width:b(Et).dialogWidth},{default:ie(()=>[V(tn,{type:"",onClick:ae[36]||(ae[36]=Te=>me(r.value))},{default:ie(()=>[...ae[47]||(ae[47]=[Rt("Add",-1)])]),_:1}),V(Pt,{data:d.authclientRegister,onSelectionChange:Oe},{default:ie(()=>[V(qt,{type:"selection"}),V(qt,{property:"registrationId",label:"registrationId",width:"auto"}),V(qt,{property:"clientId",label:"clientId",width:"auto"}),V(qt,{property:"clientSecret",label:"clientSecret"}),V(qt,{property:"clientName",label:"clientName"}),V(qt,{property:"redirectUri",label:"redirectUri",width:"auto"}),V(qt,{property:"scopes",label:"scopes",width:"auto"}),V(qt,{property:"clientAuthenticationMethod",label:"Methods",width:"auto"}),V(qt,{property:"authorizationGrantType",label:"type",width:"auto"}),V(qt,null,{default:ie(Te=>[V(tn,{size:"small",type:"danger",onClick:vt=>te(Te.$index,Te.row)},{default:ie(()=>[...ae[48]||(ae[48]=[Rt("Delete",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),V(Ct,{layout:"prev, pager, next, sizes",total:50,"current-page":f.pageNumber,"page-size":f.pageSize,"onUpdate:currentPage":Ie,"onUpdate:pageSize":Ke},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"])],64)}}});const jtt={class:"dialog-footer"},Pae=kt({__name:"Group",setup(t,{expose:e}){const n=ye([""]);let r=ye(""),i=ye(""),s=ye("");const a=()=>[{key:"",label:"",disabled:!1,checked:!1}],o=lr(a()),l=ye([{}]),u=ye([""]),d=lr({array:n,groups:l,transfer:o,left:u}),f=ye(!1),h=ye(!1),g=ye(!1),v=ye(!1),p=lr({name:""}),_={pageNumber:1,pageSize:20},S=W=>{s.value=W.username,d.transfer=a(),d.transfer.splice(0,1),d.array=[],g.value=!0,i.value=W.id,v.value=!0;const F={baseURL:an.authUrl,url:"auth/group",method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};vn(F).then(function(te){let G;te.data.length>0&&(G=te.data);const K={baseURL:an.authUrl,url:"auth/group/user/"+W.id,method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};vn(K).then(function(ee){const de=ee.data;if(de.length>0)for(let ue of G){let me;for(let Ee of de)Ee.groupName==ue.groupName&&(me=!0);me?d.transfer.push({key:ue.groupName,label:ue.groupName,disabled:!0,checked:!0}):d.transfer.push({key:ue.groupName,label:ue.groupName,disabled:!1,checked:!0})}else for(let ue of G)d.transfer.push({key:ue.groupName,label:ue.groupName,disabled:!1,checked:!0})})})},C=W=>{d.transfer=a(),d.transfer.splice(0,1),d.left=[],d.array=[],r.value=W.id,i.value="",v.value=!1,P(W)},T=()=>{const W={baseURL:an.authUrl,url:"auth/group",method:"PUT",params:{name:p.name},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/x-www-form-urlencoded"}};vn(W).then(function(F){F.status==200&&(D(),f.value=!1)})},A=(W,F)=>{const te={baseURL:an.authUrl,url:"auth/group/"+F.groupName,method:"DELETE",headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/x-www-form-urlencoded"}};vn(te).then(function(G){G.status==200&&d.groups.splice(W,1)})},P=W=>{const F={baseURL:an.authUrl,url:"auth/authority/group/"+W.groupName,method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};let te=[],G;vn(F).then(function(K){G=K.data}).then(function(K){const ee={baseURL:an.authUrl,url:"/auth/authority",method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};vn(ee).then(function(de){if(de.data.length>0){const ue=de.data;for(let me=0;me<ue.length;me++)for(let Ee=0;Ee<G.length;Ee++)G[Ee].authority==ue[me].authority&&(te.push(me),d.transfer.push({key:ue[me].authority,label:ue[me].authority,disabled:!0,checked:!0}),d.left.push(ue[me].authority));for(let me=0;me<ue.length;me++)te.indexOf(me)==-1&&d.transfer.push({key:ue[me].authority,label:ue[me].authority,disabled:!1,checked:!1})}g.value=!0})})},D=()=>{h.value=!0;const W={baseURL:an.authUrl,url:"auth/group",method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};vn(W).then(function(F){d.groups=F.data})},R=()=>{if((r.value.length==0||i.value.length==0)&&s.value==""){di.alert("please select some");return}N(r.value,i.value,v.value)},N=(W,F,te)=>{W.endsWith(",")&&(W=W.slice(0,-1)),F.endsWith(",")&&(F=F.slice(0,-1));const G={baseURL:an.authUrl,url:"auth/group/user",method:"POST",params:{groups:W,ids:F},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/x-www-form-urlencoded"}};te?vn(G).then(function(K){K.status==200&&(g.value=!1)}):U()},U=()=>{const W={baseURL:an.authUrl,url:"auth/authority/group",method:"POST",params:{authorities:i.value.slice(0,-1),ids:r.value},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/x-www-form-urlencoded"}};vn(W).then(function(F){F.status==200&&(g.value=!1)})},Y=(W,F,te)=>{i.value.length==36?r.value+=W+",":i.value+=W+","},H=W=>{_.pageNumber=W,D()},j=W=>{_.pageSize=W,D()},X=()=>{const W=d.transfer;for(let F in W)W[F].disabled&&(W[F].disabled=!1)};return e({groupList:D,updateGroup:N,userGroupList:S}),(W,F)=>{const te=qr,G=Ki,K=Fu,ee=iv,de=Do,ue=ns,me=Io,Ee=Mc,Oe=Ec,Ge=aZ;return ge(),Fe(Tn,null,[V(de,{modelValue:b(h),"onUpdate:modelValue":F[1]||(F[1]=$e=>tr(h)?h.value=$e:null),width:b(Et).dialogWidth},{default:ie(()=>[V(te,{type:"",onClick:F[0]||(F[0]=$e=>f.value=!0)},{default:ie(()=>[...F[10]||(F[10]=[Rt("add",-1)])]),_:1}),V(K,{data:b(d).groups},{default:ie(()=>[V(G,{property:"groupName",label:"groupName",width:"auto"}),V(G,{label:"Operations"},{default:ie($e=>[V(te,{size:"small",type:"primary",onClick:Ie=>C($e.row)},{default:ie(()=>[...F[11]||(F[11]=[Rt("alloacte authority",-1)])]),_:1},8,["onClick"]),V(te,{size:"small",type:"danger",onClick:Ie=>A($e.$index,$e.row)},{default:ie(()=>[...F[12]||(F[12]=[Rt("delete",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),V(ee,{layout:"prev, pager, next, sizes",total:50,"current-page":_.pageNumber,"page-size":_.pageSize,"onUpdate:currentPage":H,"onUpdate:pageSize":j},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),V(de,{modelValue:b(f),"onUpdate:modelValue":F[5]||(F[5]=$e=>tr(f)?f.value=$e:null),width:b(Et).dialogWidth},{footer:ie(()=>[Ve("span",jtt,[V(te,{onClick:F[3]||(F[3]=$e=>f.value=!1)},{default:ie(()=>[...F[13]||(F[13]=[Rt("Cancel",-1)])]),_:1}),V(te,{type:"primary",onClick:F[4]||(F[4]=$e=>T())},{default:ie(()=>[...F[14]||(F[14]=[Rt("Confirm",-1)])]),_:1})])]),default:ie(()=>[V(Ee,{model:b(p)},{default:ie(()=>[V(me,{label:"name","label-width":b(Et).labelWidth},{default:ie(()=>[V(ue,{modelValue:b(p).name,"onUpdate:modelValue":F[2]||(F[2]=$e=>b(p).name=$e)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),V(de,{modelValue:b(g),"onUpdate:modelValue":F[9]||(F[9]=$e=>tr(g)?g.value=$e:null),width:b(Et).dialogWidth},{default:ie(()=>[V(Ge,{modelValue:b(d).array,"onUpdate:modelValue":F[8]||(F[8]=$e=>b(d).array=$e),style:{"text-align":"left",display:"inline-block"},filterable:!0,"button-texts":["remove","add"],"left-default-checked":b(d).left,data:b(d).transfer,onChange:Y},{"scoped-slot":ie(({option:$e})=>[V(Oe,{modelValue:$e.checked,"onUpdate:modelValue":Ie=>$e.checked=Ie},{default:ie(()=>[Rt(yn($e.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),"left-footer":ie(()=>[V(te,{class:"transfer-footer",size:"small",onClick:F[6]||(F[6]=$e=>X())},{default:ie(()=>[...F[15]||(F[15]=[Rt("reset",-1)])]),_:1})]),"right-footer":ie(()=>[V(te,{class:"transfer-footer",size:"small",onClick:F[7]||(F[7]=$e=>R())},{default:ie(()=>[...F[16]||(F[16]=[Rt("update",-1)])]),_:1})]),_:1},8,["modelValue","left-default-checked","data"])]),_:1},8,["modelValue","width"])],64)}}}),Gtt={class:"dialog-footer"},kae=kt({__name:"Authority",setup(t,{expose:e}){let n=ye(""),r=ye(""),i=ye("");const s=()=>[{key:"",label:"",disabled:!1,checked:!1}],a=lr(s()),o=ye([]),l=ye([{}]),u=ye([""]),d=lr({left:u,array:o,authorities:l,transfer:a}),f=ye(!1),h=ye(!1),g=ye(!1),v=ye(!1),p=lr({name:""}),_={pageNumber:1,pageSize:20},S=W=>{d.transfer=s(),d.transfer.splice(0,1),d.left=[],d.array=[],n.value=W.authority,r.value="",v.value=!1,U(W)},C=()=>{h.value=!0;const W={baseURL:an.authUrl,url:"/auth/authority",method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};vn(W).then(function(F){d.authorities=F.data})},T=W=>{n.value="",i.value=W.username,d.transfer=s(),d.transfer.splice(0,1),d.array=[],g.value=!0,r.value=W.id,v.value=!0;const F={baseURL:an.authUrl,url:"auth/authority",method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};vn(F).then(function(te){let G;te.data.length>0&&(G=te.data);const K={baseURL:an.authUrl,url:"auth/authority/user/"+W.id,method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};vn(K).then(function(ee){const de=ee.data;if(de.length>0)for(let ue of G){let me;for(let Ee of de)Ee.name==ue.name&&(me=!0);me?d.transfer.push({key:ue.authority,label:ue.authority,disabled:!0,checked:!0}):d.transfer.push({key:ue.authority,label:ue.authority,disabled:!1,checked:!0})}else for(let ue of G)d.transfer.push({key:ue.authority,label:ue.authority,disabled:!1,checked:!0})})})},A=()=>{const W={baseURL:an.authUrl,url:"auth/authority",method:"PUT",params:{name:p.name},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/x-www-form-urlencoded"}};vn(W).then(function(F){(F.status=200)&&(C(),f.value=!1)})},P=(W,F)=>{const te={baseURL:an.authUrl,url:"auth/authority/"+F.authority,method:"DELETE",headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/x-www-form-urlencoded"}};vn(te).then(function(G){G.status==200&&d.authorities.splice(W,1)})},D=()=>{R(n.value,r.value,v.value)},R=(W,F,te)=>{W.endsWith(",")&&(W=W.slice(0,-1)),F.endsWith(",")&&(F=F.slice(0,-1));const G={baseURL:an.authUrl,url:"auth/authority/user",method:"POST",params:{authorities:W,ids:F},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/x-www-form-urlencoded"}};te?vn(G).then(function(K){K.status==200&&(g.value=!1)}):N(W,F)},N=(W,F)=>{const te={baseURL:an.authUrl,url:"auth/authority/group",method:"POST",params:{authorities:W,ids:F},headers:{Authorization:"Bearer "+ke.access_token,"Content-Type":"application/x-www-form-urlencoded"}};vn(te).then(function(G){G.status==200&&(g.value=!1)})},U=W=>{const F={baseURL:an.authUrl,url:"auth/group/authority/"+W.authority,method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};let te;vn(F).then(function(G){te=G.data}).then(function(G){const K={baseURL:an.authUrl,url:"auth/group",method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};vn(K).then(function(ee){const de=ee.data;let ue=[];for(let me=0;me<de.length;me++)for(let Ee=0;Ee<te.length;Ee++)te[Ee].groupName==de[me].groupName&&(ue.push(me),d.transfer.push({key:de[me].id,label:de[me].groupName,disabled:!0,checked:!0}));for(let me=0;me<de.length;me++)ue.indexOf(me)==-1&&d.transfer.push({key:de[me].id,label:de[me].groupName,disabled:!1,checked:!1});g.value=!0})})},Y=()=>{const W=d.transfer;for(let F in W)W[F].disabled&&(W[F].disabled=!1)},H=(W,F,te)=>{r.value.length==36?n.value+=W+",":r.value+=W+","},j=W=>{_.pageNumber=W,C()},X=W=>{_.pageSize=W,C()};return e({authorityList:C,updateAuthority:R,userAuthorityList:T}),(W,F)=>{const te=qr,G=Ki,K=Fu,ee=iv,de=Do,ue=ns,me=Io,Ee=Mc,Oe=Ec,Ge=aZ;return ge(),Fe(Tn,null,[V(de,{modelValue:b(h),"onUpdate:modelValue":F[1]||(F[1]=$e=>tr(h)?h.value=$e:null),width:b(Et).dialogWidth},{default:ie(()=>[V(te,{type:"",onClick:F[0]||(F[0]=$e=>f.value=!0)},{default:ie(()=>[...F[10]||(F[10]=[Rt("add",-1)])]),_:1}),V(K,{data:b(d).authorities},{default:ie(()=>[V(G,{property:"authority",label:"authority",width:"auto"}),V(G,{label:"Operations"},{default:ie($e=>[V(te,{size:"small",type:"primary",onClick:Ie=>S($e.row)},{default:ie(()=>[...F[11]||(F[11]=[Rt("alloacte group",-1)])]),_:1},8,["onClick"]),V(te,{size:"small",type:"danger",onClick:Ie=>P($e.$index,$e.row)},{default:ie(()=>[...F[12]||(F[12]=[Rt("delete",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),V(ee,{layout:"prev, pager, next, sizes",total:50,"current-page":_.pageNumber,"page-size":_.pageSize,"onUpdate:currentPage":j,"onUpdate:pageSize":X},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),V(de,{modelValue:b(f),"onUpdate:modelValue":F[5]||(F[5]=$e=>tr(f)?f.value=$e:null),width:b(Et).dialogWidth},{footer:ie(()=>[Ve("span",Gtt,[V(te,{onClick:F[3]||(F[3]=$e=>f.value=!1)},{default:ie(()=>[...F[13]||(F[13]=[Rt("Cancel",-1)])]),_:1}),V(te,{type:"primary",onClick:F[4]||(F[4]=$e=>A())},{default:ie(()=>[...F[14]||(F[14]=[Rt(" Confirm ",-1)])]),_:1})])]),default:ie(()=>[V(Ee,{model:b(p)},{default:ie(()=>[V(me,{label:"name","label-width":b(Et).labelWidth},{default:ie(()=>[V(ue,{modelValue:b(p).name,"onUpdate:modelValue":F[2]||(F[2]=$e=>b(p).name=$e)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),V(de,{modelValue:b(g),"onUpdate:modelValue":F[9]||(F[9]=$e=>tr(g)?g.value=$e:null),width:b(Et).dialogWidth},{default:ie(()=>[V(Ge,{style:{"text-align":"left",display:"inline-block"},modelValue:b(d).array,"onUpdate:modelValue":F[8]||(F[8]=$e=>b(d).array=$e),filterable:"","left-default-checked":b(d).left,"button-texts":["remove","add"],data:b(d).transfer,onChange:H},{"scoped-slot":ie(({option:$e})=>[V(Oe,{modelValue:$e.checked,"onUpdate:modelValue":Ie=>$e.checked=Ie},{default:ie(()=>[Rt(yn($e.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),"left-footer":ie(()=>[V(te,{class:"transfer-footer",size:"small",onClick:F[6]||(F[6]=$e=>Y())},{default:ie(()=>[...F[15]||(F[15]=[Rt("reset",-1)])]),_:1})]),"right-footer":ie(()=>[V(te,{class:"transfer-footer",size:"small",onClick:F[7]||(F[7]=$e=>D())},{default:ie(()=>[...F[16]||(F[16]=[Rt("update",-1)])]),_:1})]),_:1},8,["modelValue","left-default-checked","data"])]),_:1},8,["modelValue","width"])],64)}}}),Wtt={key:0},qtt={key:1},Xtt={class:"dialog-footer"},Ytt=kt({__name:"User",setup(t){const e=ye(null),n=ye(null),r={pageNumber:1,pageSize:20,order:0},i={pageNumber:1,pageSize:20},s={pageNumber:1,pageSize:20},a=ye(!1),o=ye(!1),l=ye(!1),u=ye([]),d=ye([{}]);let f=ye("");const h=ye([{}]),g=ye([{}]),v=lr({groups:h,authorities:g,transfer:d,array:u}),p=G=>{var K;(K=e.value)==null||K.userGroupList(G)},_=G=>{var K;(K=n.value)==null||K.userAuthorityList(G)},S=(G,K)=>{var ee;(ee=e.value)==null||ee.updateGroup(K.groupName,f.value,!0),v.groups.splice(G,1)},C=(G,K)=>{var ee;(ee=n.value)==null||ee.updateAuthority(K.authority,f.value,!0),v.authorities.splice(G,1)},T=G=>{l.value=!0,f.value=G.id;const K={baseURL:an.authUrl,url:"auth/group/user/"+G.id,method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};vn(K).then(function(ee){v.groups=ee.data})},A=G=>{o.value=!0,f.value=G.id;const K={baseURL:an.authUrl,url:"auth/user/authority/"+G.username,method:"GET",headers:{Authorization:"Bearer "+ke.access_token}};vn(K).then(function(ee){v.authorities=ee.data})},P=G=>{G.locked=="true"?G.locked="false":G.locked="true";const K={baseURL:an.authUrl,url:"auth/user",method:"POST",data:G,headers:{Authorization:"Bearer "+ke.access_token}};vn(K).then(function(ee){ee.status==200&&R()})},D=()=>{W.length<1?di.alert("please select someone to update"):W.length>1?di.alert("dont support batch update"):(ks.email=W[0].email,ks.nickName=W[0].nickName,ks.password=W[0].password,a.value=!0)},R=async()=>{Et.userTable=!0,no.users=await Y8(r.pageNumber-1,r.pageSize,r.order)},N=G=>{r.pageNumber=G,R()},U=G=>{r.pageSize=G,R()},Y=G=>{i.pageNumber=G},H=G=>{i.pageSize=G},j=G=>{s.pageNumber=G},X=G=>{s.pageSize=G},W=[],F=ye([]),te=G=>{F.value=G,W.splice(0,W.length);for(let K of F.value)W.push(K)};return(G,K)=>(ge(),Fe(Tn,null,[V(b(Do),{modelValue:b(Et).userTable,"onUpdate:modelValue":K[1]||(K[1]=ee=>b(Et).userTable=ee),width:b(Et).dialogWidth},{default:ie(()=>[V(b(qr),{type:"",onClick:K[0]||(K[0]=ee=>D())},{default:ie(()=>[...K[10]||(K[10]=[Rt("update",-1)])]),_:1}),V(b(Fu),{data:b(no).users,onSelectionChange:te},{default:ie(()=>[V(b(Ki),{type:"selection"}),V(b(Ki),{property:"username",label:"username"}),V(b(Ki),{property:"nickName",label:"nick"}),V(b(Ki),{property:"email",label:"email",width:"auto"}),V(b(Ki),{property:"password",label:"password"}),V(b(Ki),{property:"createTime",label:"createTime"}),V(b(Ki),{property:"updateTime",label:"updateTime"}),V(b(Ki),{label:"userInfo"},{default:ie(ee=>[V(b(qr),{size:"small",type:"info",onClick:de=>(b(mI)(ee.row.username),b(Et).userInfoForm=!0)},{default:ie(()=>[...K[11]||(K[11]=[Rt("detail",-1)])]),_:1},8,["onClick"])]),_:1}),V(b(Ki),{label:"permissions"},{default:ie(ee=>[V(b(qr),{size:"small",type:"info",onClick:de=>A(ee.row)},{default:ie(()=>[...K[12]||(K[12]=[Rt("authorities",-1)])]),_:1},8,["onClick"])]),_:1}),V(b(Ki),{label:"groups"},{default:ie(ee=>[V(b(qr),{size:"small",type:"info",onClick:de=>T(ee.row)},{default:ie(()=>[...K[13]||(K[13]=[Rt("groups",-1)])]),_:1},8,["onClick"])]),_:1}),V(b(Ki),{label:"Operations"},{default:ie(ee=>[V(b(qr),{size:"small",type:"danger",onClick:de=>P(ee.row)},{default:ie(()=>[ee.row.locked=="false"?(ge(),Fe("span",Wtt,"lock")):gt("",!0),ee.row.locked=="true"?(ge(),Fe("span",qtt,"unlock")):gt("",!0)]),_:2},1032,["onClick"]),V(b(qr),{size:"small",type:"",onClick:de=>_(ee.row)},{default:ie(()=>[...K[14]||(K[14]=[Rt("alloacte authority",-1)])]),_:1},8,["onClick"]),V(b(qr),{size:"small",type:"",onClick:de=>p(ee.row)},{default:ie(()=>[...K[15]||(K[15]=[Rt("alloacte group",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),V(b(iv),{layout:"prev, pager, next, sizes",total:50,"current-page":r.pageNumber,"page-size":r.pageSize,"onUpdate:currentPage":N,"onUpdate:pageSize":U},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),V(b(Do),{modelValue:b(a),"onUpdate:modelValue":K[7]||(K[7]=ee=>tr(a)?a.value=ee:null),width:b(Et).dialogWidth},{footer:ie(()=>[Ve("span",Xtt,[V(b(qr),{onClick:K[5]||(K[5]=ee=>a.value=!1)},{default:ie(()=>[...K[16]||(K[16]=[Rt("Cancel",-1)])]),_:1}),V(b(qr),{type:"primary",onClick:K[6]||(K[6]=ee=>b(HJ)(b(ks),W[0].username))},{default:ie(()=>[...K[17]||(K[17]=[Rt(" Confirm ",-1)])]),_:1})])]),default:ie(()=>[V(b(Mc),{model:b(ks)},{default:ie(()=>[V(b(Io),{label:"email","label-width":b(Et).labelWidth},{default:ie(()=>[V(b(ns),{modelValue:b(ks).email,"onUpdate:modelValue":K[2]||(K[2]=ee=>b(ks).email=ee)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(b(Io),{label:"nickName","label-width":b(Et).labelWidth},{default:ie(()=>[V(b(ns),{modelValue:b(ks).nickName,"onUpdate:modelValue":K[3]||(K[3]=ee=>b(ks).nickName=ee)},null,8,["modelValue"])]),_:1},8,["label-width"]),V(b(Io),{label:"password","label-width":b(Et).labelWidth},{default:ie(()=>[V(b(ns),{modelValue:b(ks).password,"onUpdate:modelValue":K[4]||(K[4]=ee=>b(ks).password=ee)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),V(Pae,{ref_key:"group",ref:e},null,512),V(kae,{ref_key:"authority",ref:n},null,512),V(b(Do),{modelValue:b(o),"onUpdate:modelValue":K[8]||(K[8]=ee=>tr(o)?o.value=ee:null),width:b(Et).dialogWidth},{default:ie(()=>[V(b(Fu),{data:b(v).authorities},{default:ie(()=>[V(b(Ki),{property:"authority",label:"authority",width:"auto"}),V(b(Ki),{label:"Operations"},{default:ie(ee=>[V(b(qr),{size:"small",type:"danger",onClick:de=>C(ee.index,ee.row)},{default:ie(()=>[...K[18]||(K[18]=[Rt("delete",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),V(b(iv),{layout:"prev, pager, next, sizes",total:50,"current-page":s.pageNumber,"page-size":s.pageSize,"onUpdate:currentPage":j,"onUpdate:pageSize":X},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),V(b(Do),{modelValue:b(l),"onUpdate:modelValue":K[9]||(K[9]=ee=>tr(l)?l.value=ee:null),width:b(Et).dialogWidth},{default:ie(()=>[V(b(Fu),{data:b(v).groups},{default:ie(()=>[V(b(Ki),{property:"groupName",label:"groupName",width:"auto"}),V(b(Ki),{label:"Operations"},{default:ie(ee=>[V(b(qr),{size:"small",type:"danger",onClick:de=>S(ee.index,ee.row)},{default:ie(()=>[...K[19]||(K[19]=[Rt("delete",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),V(b(iv),{layout:"prev, pager, next, sizes",total:50,"current-page":i.pageNumber,"page-size":i.pageSize,"onUpdate:currentPage":Y,"onUpdate:pageSize":H},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"])],64))}}),Ktt=kt({__name:"Dashboard",setup(t){const e=ye(null),n=ye(null),r=ye(null),i=ye(null),s=ye(null),a=ye(null),o=ye(!0),l=ye(!1),u=[],d=()=>{const A=[];A.push(an.apiUrl),A.push(an.authUrl),A.push(an.storageUrl),A.push(an.messageUrl),f.statuses=[];for(let P of A)vn({baseURL:P,url:"/actuator/health",method:"GET",headers:{}}).then(function(R){if(R.data.status=="UP"){const N={service:P,status:"online"};f.statuses.push(N)}else{const N={service:P,status:"offline"};f.statuses.push(N)}}).catch(function(R){const N={service:P,status:"offline"};f.statuses.push(N)})},f=lr({statuses:u}),h=()=>{var A;(A=e.value)==null||A.ipList()},g=()=>{var A;(A=n.value)==null||A.recordList("1")},v=()=>{var A;(A=n.value)==null||A.recordList("0")},p=()=>{var A;(A=r.value)==null||A.authClientList()},_=()=>{var A;(A=r.value)==null||A.authClientRegisterList()},S=()=>{var A;(A=i.value)==null||A.groupList()},C=()=>{var A;(A=s.value)==null||A.authorityList()},T=A=>{window.open("https://"+A+".elpsykongroo.com")};return(A,P)=>{const D=Bn,R=IEe,N=DEe,U=OEe,Y=REe,H=Pp,j=us("router-view"),X=Fwe,W=Nwe,F=qr,te=Ki,G=Fu,K=Do;return ge(),Fe(Tn,null,[V(W,{class:"layout-container-demo",style:{height:"100%"}},{default:ie(()=>[V(H,null,{default:ie(()=>[V(N,{class:"el-menu-vertical-demo",collapse:o.value,router:!1},{default:ie(()=>[V(R,{index:"0"},{default:ie(()=>[o.value?(ge(),Tt(D,{key:0,onClick:P[0]||(P[0]=ee=>o.value=!1)},{default:ie(()=>[V(b(u_e))]),_:1})):gt("",!0),o.value?gt("",!0):(ge(),Tt(D,{key:1,onClick:P[1]||(P[1]=ee=>o.value=!0)},{default:ie(()=>[V(b(d_e))]),_:1}))]),_:1})]),_:1},8,["collapse"]),V(N,{class:"el-menu-vertical-demo",collapse:o.value,router:!0},{default:ie(()=>[V(U,{index:"1"},{title:ie(()=>[V(D,null,{default:ie(()=>[V(b(x_e))]),_:1}),P[20]||(P[20]=Ve("span",null,"Dashboard",-1))]),default:ie(()=>[V(U,{index:"1-1"},{title:ie(()=>[...P[21]||(P[21]=[Ve("span",null,"inside",-1)])]),default:ie(()=>[V(R,{index:"1-1-1",route:"kubernetes"},{default:ie(()=>[...P[22]||(P[22]=[Rt("Dash",-1)])]),_:1}),V(R,{index:"1-1-2",route:"harbor"},{default:ie(()=>[...P[23]||(P[23]=[Rt("Harbor",-1)])]),_:1}),V(R,{index:"1-1-3",route:"kafka"},{default:ie(()=>[...P[24]||(P[24]=[Rt("Kafka",-1)])]),_:1}),V(R,{index:"1-1-4",route:"kibana"},{default:ie(()=>[...P[25]||(P[25]=[Rt("Kibana",-1)])]),_:1})]),_:1}),V(U,{index:"1-2"},{title:ie(()=>[...P[26]||(P[26]=[Ve("span",null,"outside",-1)])]),default:ie(()=>[V(R,{index:"1-2-1",onClick:P[2]||(P[2]=ee=>T("linkerd"))},{default:ie(()=>[...P[27]||(P[27]=[Rt("Linkerd",-1)])]),_:1}),V(R,{index:"1-2-2",onClick:P[3]||(P[3]=ee=>T("minio"))},{default:ie(()=>[...P[28]||(P[28]=[Rt("Minio",-1)])]),_:1}),V(R,{index:"1-2-3",onClick:P[4]||(P[4]=ee=>T("argocd"))},{default:ie(()=>[...P[29]||(P[29]=[Rt("Argocd",-1)])]),_:1}),V(R,{index:"1-2-4",onClick:P[5]||(P[5]=ee=>T("vault"))},{default:ie(()=>[...P[30]||(P[30]=[Rt("Vault",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["collapse"]),V(N,{class:"el-menu-vertical-demo",collapse:o.value},{default:ie(()=>[V(U,{index:"2"},{title:ie(()=>[V(D,null,{default:ie(()=>[V(b(k_e))]),_:1}),P[31]||(P[31]=Ve("span",null,"Gateway",-1))]),default:ie(()=>[V(Y,null,{default:ie(()=>[V(R,{index:"2-1",onClick:P[6]||(P[6]=ee=>h())},{default:ie(()=>[...P[32]||(P[32]=[Rt("ip",-1)])]),_:1})]),_:1}),V(U,{index:"2-2"},{title:ie(()=>[...P[33]||(P[33]=[Ve("span",null,"record",-1)])]),default:ie(()=>[V(R,{index:"2-2-1",onClick:P[7]||(P[7]=ee=>g())},{default:ie(()=>[...P[34]||(P[34]=[Rt("Asc",-1)])]),_:1}),V(R,{index:"2-2-2",onClick:P[8]||(P[8]=ee=>v())},{default:ie(()=>[...P[35]||(P[35]=[Rt("Desc",-1)])]),_:1})]),_:1}),V(U,{index:"2-3"},{title:ie(()=>[...P[36]||(P[36]=[Ve("span",null,"oauth2",-1)])]),default:ie(()=>[V(R,{index:"2-3-1",onClick:P[9]||(P[9]=ee=>p())},{default:ie(()=>[...P[37]||(P[37]=[Rt("client",-1)])]),_:1}),V(R,{index:"2-3-2",onClick:P[10]||(P[10]=ee=>_())},{default:ie(()=>[...P[38]||(P[38]=[Rt("register",-1)])]),_:1})]),_:1}),V(U,{index:"2-4"},{title:ie(()=>[...P[39]||(P[39]=[Ve("span",null,"permission",-1)])]),default:ie(()=>[V(R,{index:"2-4-1",onClick:P[11]||(P[11]=ee=>(b(Et).userTable=!0,b(Y8)(0,10,0)))},{default:ie(()=>[...P[40]||(P[40]=[Rt("user",-1)])]),_:1}),V(R,{index:"2-4-2",onClick:P[12]||(P[12]=ee=>S())},{default:ie(()=>[...P[41]||(P[41]=[Rt("group",-1)])]),_:1}),V(R,{index:"2-4-3",onClick:P[13]||(P[13]=ee=>C())},{default:ie(()=>[...P[42]||(P[42]=[Rt("authority",-1)])]),_:1})]),_:1})]),_:1}),V(U,{index:"3"},{title:ie(()=>[V(D,null,{default:ie(()=>[V(b(S_e))]),_:1}),P[43]||(P[43]=Ve("span",null,"Message",-1))]),default:ie(()=>[V(Y,null,{default:ie(()=>[V(R,{index:"3-1",onClick:P[14]||(P[14]=ee=>(b(Et).noticeTable=!0,b(hI)([],"")))},{default:ie(()=>[...P[44]||(P[44]=[Rt("notification",-1)])]),_:1}),V(R,{index:"3-2",onClick:P[15]||(P[15]=ee=>(b(Et).topicTable=!0,b(pI)()))},{default:ie(()=>[...P[45]||(P[45]=[Rt("topic",-1)])]),_:1})]),_:1})]),_:1}),V(R,{index:"4"},{title:ie(()=>[...P[46]||(P[46]=[Ve("span",null,"status",-1)])]),default:ie(()=>[V(D,{onClick:P[16]||(P[16]=ee=>(l.value=!0,d()))},{default:ie(()=>[V(b(I_e))]),_:1})]),_:1}),b(ke).expires_in>0?(ge(),Tt(R,{key:0,index:"5"},{title:ie(()=>[Rt(yn(b(ke).expires_in)+"s",1)]),default:ie(()=>[V(D,null,{default:ie(()=>[V(b(G_e))]),_:1})]),_:1})):gt("",!0),V(R,{index:"5-1"},{default:ie(()=>[V(D,{onClick:P[17]||(P[17]=ee=>b(FJ)())},{default:ie(()=>[V(b(H_e))]),_:1})]),_:1})]),_:1},8,["collapse"])]),_:1}),V(Ytt,{ref_key:"user",ref:a},null,512),V(Aae,{ref_key:"ip",ref:e},null,512),V(Utt,{ref_key:"record",ref:n},null,512),V(Htt,{ref_key:"authClient",ref:r},null,512),V(Pae,{ref_key:"group",ref:i},null,512),V(kae,{ref_key:"authority",ref:s},null,512),V(W,null,{default:ie(()=>[V(X,null,{default:ie(()=>[V(j,{ref:"iframeView"},null,512)]),_:1})]),_:1})]),_:1}),V(K,{modelValue:l.value,"onUpdate:modelValue":P[19]||(P[19]=ee=>l.value=ee),width:b(Et).dialogWidth},{default:ie(()=>[V(F,{type:"",onClick:P[18]||(P[18]=ee=>d())},{default:ie(()=>[...P[47]||(P[47]=[Rt("refresh",-1)])]),_:1}),V(G,{data:b(f).statuses},{default:ie(()=>[V(te,{property:"service",label:"service"}),V(te,{property:"status",label:"status"})]),_:1},8,["data"])]),_:1},8,["modelValue","width"])],64)}}});const Dae=kx(Ktt,[["__scopeId","data-v-83783d20"]]);const Ztt=["href"],Qtt=kt({__name:"ClockIcon",props:{prefix:{type:String,default:"icon"},name:{type:String,required:!0}},setup(t){const e=t,n=he(()=>`#${e.prefix}-${e.name}`);return(r,i)=>(ge(),Fe("svg",null,[Ve("use",{href:n.value,class:"nixie-number-part"},null,8,Ztt)]))}}),Jtt={class:"hidden-md-and-down"},ent={id:"nixietube-template",style:{display:"none"}},tnt={id:"nixie-tube-[order]",class:"nixie-container"},nnt=kt({__name:"Clock",setup(t){function e(){var A;for(var r=new Date,i=r.getHours(),s=r.getMinutes(),a=r.getSeconds(),o=Math.floor(i/10),l=i-10*o,u=Math.floor(s/10),d=s-10*u,f=Math.floor(a/10),h=a-10*f,g=[o,l,u,d,f,h],v=0;v<6;v++){var p=g[v],_="#nixie-tube-"+v,S=document.querySelectorAll(_+" .nixie-number"),C=_+" .nixie-number-"+p,T=document.querySelector(_+" .nixie-background");S.forEach(function(P){P.classList.contains("active")&&P.classList.remove("active")}),T!=null&&T.classList.contains("active")&&(T==null||T.classList.remove("active")),(A=document.querySelector(C))==null||A.classList.add("active"),T==null||T.classList.add("active")}}document.addEventListener("DOMContentLoaded",function(){n(6,2),e(),setInterval(e,1e3)});function n(r,i){var u,d,f;for(var s=(u=document.getElementById("nixietube-template"))==null?void 0:u.innerHTML,a,o="<div class='white-space'></div>",l=0;l<r;)i>0&&l%i==0&&l>0&&((d=document.getElementById("clock-surface"))==null||d.insertAdjacentHTML("beforeend",o)),a=s==null?void 0:s.replace("[order]",l+""),(f=document.getElementById("clock-surface"))==null||f.insertAdjacentHTML("beforeend",a),l++}return(r,i)=>{const s=Qtt;return ge(),Fe("div",Jtt,[i[1]||(i[1]=Ve("div",{id:"top-blank"},null,-1)),Ve("div",ent,[Ve("div",tnt,[i[0]||(i[0]=Ve("div",{class:"nixie-background"},null,-1)),V(s,{class:"nixie-number nixie-number-0",name:"clock-0"}),V(s,{class:"nixie-number nixie-number-1",name:"clock-1"}),V(s,{class:"nixie-number nixie-number-2",name:"clock-2"}),V(s,{class:"nixie-number nixie-number-3",name:"clock-3"}),V(s,{class:"nixie-number nixie-number-4",name:"clock-4"}),V(s,{class:"nixie-number nixie-number-5",name:"clock-5"}),V(s,{class:"nixie-number nixie-number-6",name:"clock-6"}),V(s,{class:"nixie-number nixie-number-7",name:"clock-7"}),V(s,{class:"nixie-number nixie-number-8",name:"clock-8"}),V(s,{class:"nixie-number nixie-number-9",name:"clock-9"})])]),i[2]||(i[2]=Ve("div",{id:"clock-surface"},null,-1))])}}});const rnt={class:"hidden-md-and-up"},int=kt({__name:"Home",setup(t){return(e,n)=>{const r=nnt,i=Dae;return ge(),Fe(Tn,null,[V(r),Ve("div",rnt,[b(ke).permission!=null&&b(ke).permission.includes("admin")?(ge(),Tt(i,{key:0})):gt("",!0)])],64)}}});(function(){var se=!0;function t(){se||(this._$MT=null,this._$5S=null,this._$NP=0,t._$42++,this._$5S=new me(this))}t._$0s=1,t._$4s=2,t._$42=0,t._$62=function(w,k){try{if(k instanceof ArrayBuffer&&(k=new DataView(k)),!(k instanceof DataView))throw new _n("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var z=new xe(k),fe=z._$ST(),le=z._$ST(),re=z._$ST(),we;if(fe==109&&le==111&&re==99)we=z._$ST();else throw new _n("_$gi _$C _$li , _$Q0 _$P0.");if(z._$gr(we),we>ue._$T7){w._$NP|=t._$4s;var Me=ue._$T7,Se="_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+Me+" < _$f0 : "+we+` )@_$SS#loadModel()
`;throw new _n(Se)}var ze=z._$nP();if(we>=ue._$s7){var lt=z._$9T(),dt=z._$9T();if(lt!=-30584||dt!=-30584)throw w._$NP|=t._$0s,new _n("_$gi _$C _$li , _$0 _$6 _$Ui.")}w._$KS(ze);var pt=w.getModelContext();pt.setDrawParam(w.getDrawParam()),pt.init()}catch(Ht){a._$Rb(Ht)}},t.prototype._$KS=function(w){this._$MT=w},t.prototype.getModelImpl=function(){return this._$MT==null&&(this._$MT=new h,this._$MT._$zP()),this._$MT},t.prototype.getCanvasWidth=function(){return this._$MT==null?0:this._$MT.getCanvasWidth()},t.prototype.getCanvasHeight=function(){return this._$MT==null?0:this._$MT.getCanvasHeight()},t.prototype.getParamFloat=function(w){return typeof w!="number"&&(w=this._$5S.getParamIndex(f.getID(w))),this._$5S.getParamFloat(w)},t.prototype.setParamFloat=function(w,k,z){typeof w!="number"&&(w=this._$5S.getParamIndex(f.getID(w))),arguments.length<3&&(z=1),this._$5S.setParamFloat(w,this._$5S.getParamFloat(w)*(1-z)+k*z)},t.prototype.addToParamFloat=function(w,k,z){typeof w!="number"&&(w=this._$5S.getParamIndex(f.getID(w))),arguments.length<3&&(z=1),this._$5S.setParamFloat(w,this._$5S.getParamFloat(w)+k*z)},t.prototype.multParamFloat=function(w,k,z){typeof w!="number"&&(w=this._$5S.getParamIndex(f.getID(w))),arguments.length<3&&(z=1),this._$5S.setParamFloat(w,this._$5S.getParamFloat(w)*(1+(k-1)*z))},t.prototype.getParamIndex=function(w){return this._$5S.getParamIndex(f.getID(w))},t.prototype.loadParam=function(){this._$5S.loadParam()},t.prototype.saveParam=function(){this._$5S.saveParam()},t.prototype.init=function(){this._$5S.init()},t.prototype.update=function(){this._$5S.update()},t.prototype._$Rs=function(){return a._$li("_$60 _$PT _$Rs()"),-1},t.prototype._$Ds=function(w){a._$li(`_$60 _$PT _$SS#_$Ds() 
`)},t.prototype._$K2=function(){},t.prototype.draw=function(){},t.prototype.getModelContext=function(){return this._$5S},t.prototype._$s2=function(){return this._$NP},t.prototype._$P7=function(w,k,z,fe){var le=-1,re=0,we=this,Me=.5,Se=.15;if(z==0){for(var ze=0;ze<w.length;ze++){var lt=w[ze],dt=k[ze],pt=we.getParamFloat(lt)!=0;we.setPartsOpacity(dt,pt?1:0)}return}else if(w.length==1){var lt=w[0],Ht=we.getParamFloat(lt)!=0,dt=k[0],rn=we.getPartsOpacity(dt),wt=z/fe;Ht?(rn+=wt,rn>1&&(rn=1)):(rn-=wt,rn<0&&(rn=0)),we.setPartsOpacity(dt,rn)}else{for(var ze=0;ze<w.length;ze++){var lt=w[ze],pt=we.getParamFloat(lt)!=0;if(pt){if(le>=0)break;le=ze;var dt=k[ze];re=we.getPartsOpacity(dt),re+=z/fe,re>1&&(re=1)}}le<0&&(console.log("No _$wi _$q0/ _$U default[%s]",w[0]),le=0,re=1,we.loadParam(),we.setParamFloat(w[le],re),we.saveParam());for(var ze=0;ze<w.length;ze++){var dt=k[ze];if(le==ze)we.setPartsOpacity(dt,re);else{var cn=we.getPartsOpacity(dt),on;re<Me?on=re*(Me-1)/Me+1:on=(1-re)*Me/(1-Me);{var Jt=(1-on)*(1-re);Jt>Se&&(on=1-Se/(1-re))}cn>on&&(cn=on),we.setPartsOpacity(dt,cn)}}}},t.prototype.setPartsOpacity=function(w,k){typeof w!="number"&&(w=this._$5S.getPartsDataIndex(u.getID(w))),this._$5S.setPartsOpacity(w,k)},t.prototype.getPartsDataIndex=function(w){return w instanceof u||(w=u.getID(w)),this._$5S.getPartsDataIndex(w)},t.prototype.getPartsOpacity=function(w){return typeof w!="number"&&(w=this._$5S.getPartsDataIndex(u.getID(w))),w<0?0:this._$5S.getPartsOpacity(w)},t.prototype.getDrawParam=function(){},t.prototype.getDrawDataIndex=function(w){return this._$5S.getDrawDataIndex(G.getID(w))},t.prototype.getDrawData=function(w){return this._$5S.getDrawData(w)},t.prototype.getTransformedPoints=function(w){var k=this._$5S._$C2(w);return k instanceof Pt?k.getTransformedPoints():null},t.prototype.getIndexArray=function(w){if(w<0||w>=this._$5S._$aS.length)return null;var k=this._$5S._$aS[w];return k!=null&&k.getType()==Ie._$wb&&k instanceof qt?k.getIndexArray():null};function e(w){if(!se){this.clipContextList=new Array,this.glcontext=w.gl,this.dp_webgl=w,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new P,ft.glContext.length>ft.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new te,this.tmpMatrix2=new te,this.tmpMatrixForMask=new te,this.tmpMatrixForDraw=new te,this.CHANNEL_COLORS=new Array;var k=new Y;k=new Y,k.r=0,k.g=0,k.b=0,k.a=1,this.CHANNEL_COLORS.push(k),k=new Y,k.r=1,k.g=0,k.b=0,k.a=0,this.CHANNEL_COLORS.push(k),k=new Y,k.r=0,k.g=1,k.b=0,k.a=0,this.CHANNEL_COLORS.push(k),k=new Y,k.r=0,k.g=0,k.b=1,k.a=0,this.CHANNEL_COLORS.push(k);for(var z=0;z<this.CHANNEL_COLORS.length;z++)this.dp_webgl.setChannelFlagAsColor(z,this.CHANNEL_COLORS[z])}}e.CHANNEL_COUNT=4,e.RENDER_TEXTURE_USE_MIPMAP=!1,e.NOT_USED_FRAME=-100,e.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var w=this.CHANNEL_COLORS.length-1;w>=0;--w)this.CHANNEL_COLORS.splice(w,1);this.CHANNEL_COLORS=[]}this.releaseShader()},e.prototype.releaseShader=function(){for(var w=ft.frameBuffers.length,k=0;k<w;k++)this.gl.deleteFramebuffer(ft.frameBuffers[k].framebuffer);ft.frameBuffers=[],ft.glContext=[]},e.prototype.init=function(w,k,z){for(var fe=0;fe<k.length;fe++){var le=k[fe].getClipIDList();if(le!=null){var re=this.findSameClip(le);re==null&&(re=new n(this,w,le),this.clipContextList.push(re));var we=k[fe].getDrawDataID(),Me=w.getDrawDataIndex(we);re.addClippedDrawData(we,Me);var Se=z[fe];Se.clipBufPre_clipContext=re}}},e.prototype.getMaskRenderTexture=function(){var w=null;return w=this.dp_webgl.createFramebuffer(),ft.frameBuffers[this.dp_webgl.glno]=w,this.dp_webgl.glno},e.prototype.setupClip=function(w,k){for(var z=0,fe=0;fe<this.clipContextList.length;fe++){var le=this.clipContextList[fe];this.calcClippedDrawTotalBounds(w,le),le.isUsing&&z++}if(z>0){var re=k.gl.getParameter(k.gl.FRAMEBUFFER_BINDING),we=new Array(4);we[0]=0,we[1]=0,we[2]=k.gl.canvas.width,we[3]=k.gl.canvas.height,k.gl.viewport(0,0,ft.clippingMaskBufferSize,ft.clippingMaskBufferSize),this.setupLayoutBounds(z),k.gl.bindFramebuffer(k.gl.FRAMEBUFFER,ft.frameBuffers[this.curFrameNo].framebuffer),k.gl.clearColor(0,0,0,0),k.gl.clear(k.gl.COLOR_BUFFER_BIT);for(var fe=0;fe<this.clipContextList.length;fe++){var le=this.clipContextList[fe],Me=le.allClippedDrawRect;le.layoutChannelNo;var Se=le.layoutBounds,ze=.05;this.tmpBoundsOnModel._$jL(Me),this.tmpBoundsOnModel.expand(Me.width*ze,Me.height*ze);var lt=Se.width/this.tmpBoundsOnModel.width,dt=Se.height/this.tmpBoundsOnModel.height;this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(Se.x,Se.y,0),this.tmpMatrix2.scale(lt,dt,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(Se.x,Se.y,0),this.tmpMatrix2.scale(lt,dt,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for(var pt=this.tmpMatrixForMask.getArray(),Ht=0;Ht<16;Ht++)le.matrixForMask[Ht]=pt[Ht];for(var rn=this.tmpMatrixForDraw.getArray(),Ht=0;Ht<16;Ht++)le.matrixForDraw[Ht]=rn[Ht];for(var wt=le.clippingMaskDrawIndexList.length,cn=0;cn<wt;cn++){var on=le.clippingMaskDrawIndexList[cn],Jt=w.getDrawData(on),hn=w._$C2(on);k.setClipBufPre_clipContextForMask(le),Jt.draw(k,w,hn)}}k.gl.bindFramebuffer(k.gl.FRAMEBUFFER,re),k.setClipBufPre_clipContextForMask(null),k.gl.viewport(we[0],we[1],we[2],we[3])}},e.prototype.getColorBuffer=function(){return this.colorBuffer},e.prototype.findSameClip=function(w){for(var k=0;k<this.clipContextList.length;k++){var z=this.clipContextList[k],fe=z.clipIDList.length;if(fe==w.length){for(var le=0,re=0;re<fe;re++)for(var we=z.clipIDList[re],Me=0;Me<fe;Me++)if(w[Me]==we){le++;break}if(le==fe)return z}}return null},e.prototype.calcClippedDrawTotalBounds=function(w,k){for(var z=w._$Ri.getModelImpl().getCanvasWidth(),fe=w._$Ri.getModelImpl().getCanvasHeight(),le=z>fe?z:fe,re=le,we=le,Me=0,Se=0,ze=k.clippedDrawContextList.length,lt=0;lt<ze;lt++){var dt=k.clippedDrawContextList[lt],pt=dt.drawDataIndex,Ht=w._$C2(pt);if(Ht._$yo()){for(var rn=Ht.getTransformedPoints(),wt=rn.length,cn=[],on=[],Jt=0,hn=de._$i2;hn<wt;hn+=de._$No)cn[Jt]=rn[hn],on[Jt]=rn[hn+1],Jt++;var st=Math.min.apply(null,cn),At=Math.min.apply(null,on),ve=Math.max.apply(null,cn),en=Math.max.apply(null,on);st<re&&(re=st),At<we&&(we=At),ve>Me&&(Me=ve),en>Se&&(Se=en)}}if(re==le)k.allClippedDrawRect.x=0,k.allClippedDrawRect.y=0,k.allClippedDrawRect.width=0,k.allClippedDrawRect.height=0,k.isUsing=!1;else{var Xt=Me-re,hr=Se-we;k.allClippedDrawRect.x=re,k.allClippedDrawRect.y=we,k.allClippedDrawRect.width=Xt,k.allClippedDrawRect.height=hr,k.isUsing=!0}},e.prototype.setupLayoutBounds=function(w){var k=w/e.CHANNEL_COUNT,z=w%e.CHANNEL_COUNT;k=~~k,z=~~z;for(var fe=0,le=0;le<e.CHANNEL_COUNT;le++){var re=k+(le<z?1:0);if(re!=0)if(re==1){var we=this.clipContextList[fe++];we.layoutChannelNo=le,we.layoutBounds.x=0,we.layoutBounds.y=0,we.layoutBounds.width=1,we.layoutBounds.height=1}else if(re==2)for(var Me=0;Me<re;Me++){var Se=Me%2,ze=0;Se=~~Se;var we=this.clipContextList[fe++];we.layoutChannelNo=le,we.layoutBounds.x=Se*.5,we.layoutBounds.y=0,we.layoutBounds.width=.5,we.layoutBounds.height=1}else if(re<=4)for(var Me=0;Me<re;Me++){var Se=Me%2,ze=Me/2;Se=~~Se,ze=~~ze;var we=this.clipContextList[fe++];we.layoutChannelNo=le,we.layoutBounds.x=Se*.5,we.layoutBounds.y=ze*.5,we.layoutBounds.width=.5,we.layoutBounds.height=.5}else if(re<=9)for(var Me=0;Me<re;Me++){var Se=Me%3,ze=Me/3;Se=~~Se,ze=~~ze;var we=this.clipContextList[fe++];we.layoutChannelNo=le,we.layoutBounds.x=Se/3,we.layoutBounds.y=ze/3,we.layoutBounds.width=1/3,we.layoutBounds.height=1/3}else a._$li("_$6 _$0P mask count : %d",re)}};function n(w,k,z){this.clipIDList=new Array,this.clipIDList=z,this.clippingMaskDrawIndexList=new Array;for(var fe=0;fe<z.length;fe++)this.clippingMaskDrawIndexList.push(k.getDrawDataIndex(z[fe]));this.clippedDrawContextList=new Array,this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new P,this.allClippedDrawRect=new P,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=w}n.prototype.addClippedDrawData=function(w,k){var z=new r(w,k);this.clippedDrawContextList.push(z)};function r(w,k){this._$gP=w,this.drawDataIndex=k}function i(){se||(this.color=null)}function s(){se||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}s._$JT=function(w,k,z){var fe=w/k,le=z/k,re=le,we=1/3,Me=2/3,Se=1-(1-le)*(1-le),ze=1-(1-re)*(1-re),lt=0,dt=(1-le)*we*Se+(re*Me+(1-re)*we)*(1-Se),pt=(re+(1-re)*Me)*ze+(le*we+(1-le)*Me)*(1-ze),Ht=1,rn=Ht-3*pt+3*dt-lt,wt=3*pt-6*dt+3*lt,cn=3*dt-3*lt,on=lt;if(fe<=0)return 0;if(fe>=1)return 1;var Jt=fe,hn=Jt*Jt,st=Jt*hn,At=rn*st+wt*hn+cn*Jt+on;return At},s.prototype._$a0=function(){},s.prototype.setFadeIn=function(w){this._$dP=w},s.prototype.setFadeOut=function(w){this._$eo=w},s.prototype._$pT=function(w){this._$V0=w},s.prototype.getFadeOut=function(){return this._$eo},s.prototype._$4T=function(){return this._$eo},s.prototype._$mT=function(){return this._$V0},s.prototype.getDurationMSec=function(){return-1},s.prototype.getLoopDurationMSec=function(){return-1},s.prototype.updateParam=function(w,k){if(!(!k._$AT||k._$9L)){var z=j.getUserTimeMSec();if(k._$z2<0){k._$z2=z,k._$bs=z;var fe=this.getDurationMSec();k._$Do<0&&(k._$Do=fe<=0?-1:k._$z2+fe)}var le=this._$V0,re=this._$dP==0?1:tn._$r2((z-k._$bs)/this._$dP),we=this._$eo==0||k._$Do<0?1:tn._$r2((k._$Do-z)/this._$eo);le=le*re*we,0<=le&&le<=1||console.log("### assert!! ### "),this.updateParamExe(w,z,le,k),k._$Do>0&&k._$Do<z&&(k._$9L=!0)}},s.prototype.updateParamExe=function(w,k,z,fe){};function a(){}a._$8s=0,a._$fT=new Object,a.start=function(w){var k=a._$fT[w];k==null&&(k=new o,k._$r=w,a._$fT[w]=k),k._$0S=j.getSystemTimeMSec()},a.dump=function(w){var k=a._$fT[w];if(k!=null){var z=j.getSystemTimeMSec(),fe=z-k._$0S;return console.log(w+" : "+fe+"ms"),fe}else return-1},a.end=function(w){var k=a._$fT[w];if(k!=null){var z=j.getSystemTimeMSec();return z-k._$0S}else return-1},a._$li=function(w,k){console.log("_$li : "+w+`
`,k)},a._$Ji=function(w,k){console.log(w,k)},a._$dL=function(w,k){console.log(w,k),console.log(`
`)},a._$KL=function(w,k){for(var z=0;z<k;z++)z%16==0&&z>0?console.log(`
`):z%8==0&&z>0&&console.log("  "),console.log("%02X ",w[z]&255);console.log(`
`)},a._$nr=function(w,k,z){console.log(`%s
`,w);for(var fe=k.length,le=0;le<fe;++le)console.log("%5d",k[le]),console.log(`%s
`,z),console.log(",");console.log(`
`)},a._$Rb=function(w){console.log("dump exception : "+w),console.log("stack :: "+w.stack)};function o(){this._$r=null,this._$0S=null}function l(){se||(this.x=null,this.y=null,this.width=null,this.height=null)}l.prototype._$8P=function(){return .5*(this.x+this.x+this.width)},l.prototype._$6P=function(){return .5*(this.y+this.y+this.height)},l.prototype._$EL=function(){return this.x+this.width},l.prototype._$5T=function(){return this.y+this.height},l.prototype._$jL=function(w,k,z,fe){this.x=w,this.y=k,this.width=z,this.height=fe},l.prototype._$jL=function(w){this.x=w.x,this.y=w.y,this.width=w.width,this.height=w.height};function u(w){se||St.prototype.constructor.call(this,w)}u.prototype=new St,u._$tP=new Object,u._$27=function(){u._$tP.clear()},u.getID=function(w){var k=u._$tP[w];return k==null&&(k=new u(w),u._$tP[w]=k),k},u.prototype._$3s=function(){return new u};function d(){}function f(w){se||St.prototype.constructor.call(this,w)}f.prototype=new St,f._$tP=new Object,f._$27=function(){f._$tP.clear()},f.getID=function(w){var k=f._$tP[w];return k==null&&(k=new f(w),f._$tP[w]=k),k},f.prototype._$3s=function(){return new f};function h(){se||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,h._$42++)}h._$42=0,h.prototype._$zP=function(){this._$vo==null&&(this._$vo=new Lt),this._$F2==null&&(this._$F2=new Array)},h.prototype.getCanvasWidth=function(){return this._$ao},h.prototype.getCanvasHeight=function(){return this._$1S},h.prototype._$F0=function(w){this._$vo=w._$nP(),this._$F2=w._$nP(),this._$ao=w._$6L(),this._$1S=w._$6L()},h.prototype._$6S=function(w){this._$F2.push(w)},h.prototype._$Xr=function(){return this._$F2},h.prototype._$E2=function(){return this._$vo};function g(){se||(this.p1=new v,this.p2=new v,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=new Array,this._$qP=new Array,this.setup(.3,.5,.1))}g.prototype.setup=function(w,k,z){this._$ks=this._$Yb(),this.p2._$xT(),arguments.length==3&&(this._$Fo=w,this._$L2=k,this.p1._$p=z,this.p2._$p=z,this.p2.y=w,this.setup())},g.prototype.getPhysicsPoint1=function(){return this.p1},g.prototype.getPhysicsPoint2=function(){return this.p2},g.prototype._$qr=function(){return this._$Db},g.prototype._$pr=function(w){this._$Db=w},g.prototype._$5r=function(){return this._$M2},g.prototype._$Cs=function(){return this._$9b},g.prototype._$Yb=function(){return-180*Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/Math.PI},g.prototype.addSrcParam=function(w,k,z,fe){var le=new _(w,k,z,fe);this._$lL.push(le)},g.prototype.addTargetParam=function(w,k,z,fe){var le=new C(w,k,z,fe);this._$qP.push(le)},g.prototype.update=function(w,k){if(this._$iP==0){this._$iP=this._$iT=k,this._$Fo=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));return}var z=(k-this._$iT)/1e3;if(z!=0){for(var fe=this._$lL.length-1;fe>=0;--fe){var le=this._$lL[fe];le._$oP(w,this)}this._$oo(w,z),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/z,this._$ks=this._$M2}for(var fe=this._$qP.length-1;fe>=0;--fe){var re=this._$qP[fe];re._$YS(w,this)}this._$iT=k},g.prototype._$oo=function(w,k){k<.033&&(k=.033);var z=1/k;this.p1.vx=(this.p1.x-this.p1._$s0)*z,this.p1.vy=(this.p1.y-this.p1._$70)*z,this.p1.ax=(this.p1.vx-this.p1._$7L)*z,this.p1.ay=(this.p1.vy-this.p1._$HL)*z,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT();var fe=-Math.atan2(this.p1.y-this.p2.y,this.p1.x-this.p2.x),le,re,we=Math.cos(fe),Me=Math.sin(fe),Se=9.8*this.p2._$p,ze=this._$Db*c._$bS,lt=Se*Math.cos(fe-ze);le=lt*Me,re=lt*we;var dt=-this.p1.fx*Me*Me,pt=-this.p1.fy*Me*we,Ht=-this.p2.vx*this._$L2,rn=-this.p2.vy*this._$L2;this.p2.fx=le+dt+Ht,this.p2.fy=re+pt+rn,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*k,this.p2.vy+=this.p2.ay*k,this.p2.x+=this.p2.vx*k,this.p2.y+=this.p2.vy*k;var wt=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/wt,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/wt,this.p2.vx=(this.p2.x-this.p2._$s0)*z,this.p2.vy=(this.p2.y-this.p2._$70)*z,this.p2._$xT()};function v(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}v.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy};function p(w,k,z){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=w,this.scale=k,this._$V0=z}p.prototype._$oP=function(w,k){};function _(w,k,z,fe){p.prototype.constructor.call(this,k,z,fe),this._$tL=null,this._$tL=w}_.prototype=new p,_.prototype._$oP=function(w,k){var z=this.scale*w.getParamFloat(this._$wL),fe=k.getPhysicsPoint1();switch(this._$tL){default:case g.Src.SRC_TO_X:fe.x=fe.x+(z-fe.x)*this._$V0;break;case g.Src.SRC_TO_Y:fe.y=fe.y+(z-fe.y)*this._$V0;break;case g.Src.SRC_TO_G_ANGLE:var le=k._$qr();le=le+(z-le)*this._$V0,k._$pr(le);break}};function S(w,k,z){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=w,this.scale=k,this._$V0=z}S.prototype._$YS=function(w,k){};function C(w,k,z,fe){S.prototype.constructor.call(this,k,z,fe),this._$YP=null,this._$YP=w}C.prototype=new S,C.prototype._$YS=function(w,k){switch(this._$YP){default:case g.Target.TARGET_FROM_ANGLE:w.setParamFloat(this._$wL,this.scale*k._$5r(),this._$V0);break;case g.Target.TARGET_FROM_ANGLE_V:w.setParamFloat(this._$wL,this.scale*k._$Cs(),this._$V0);break}},g.Src=function(){},g.Src.SRC_TO_X="SRC_TO_X",g.Src.SRC_TO_Y="SRC_TO_Y",g.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",g.Target=function(){},g.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",g.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V";function T(){se||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}T.prototype.init=function(w){this._$fL=w._$fL,this._$gL=w._$gL,this._$B0=w._$B0,this._$z0=w._$z0,this._$qT=w._$qT,this.reflectX=w.reflectX,this.reflectY=w.reflectY},T.prototype._$F0=function(w){this._$fL=w._$_T(),this._$gL=w._$_T(),this._$B0=w._$_T(),this._$z0=w._$_T(),this._$qT=w._$_T(),w.getFormatVersion()>=ue.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=w._$po(),this.reflectY=w._$po())},T.prototype._$e=function(){};var A=function(){};A._$ni=function(w,k,z,fe,le,re,we,Me,Se){var ze=we*re-Me*le;if(ze==0)return null;var lt=((w-z)*re-(k-fe)*le)/ze,dt;return le!=0?dt=(w-z-lt*we)/le:dt=(k-fe-lt*Me)/re,isNaN(dt)&&(dt=(w-z-lt*we)/le,isNaN(dt)&&(dt=(k-fe-lt*Me)/re),isNaN(dt)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+le),console.log("v1x != 0 ? "+(le!=0)))),Se==null?new Array(dt,lt):(Se[0]=dt,Se[1]=lt,Se)};function P(){se||(this.x=null,this.y=null,this.width=null,this.height=null)}P.prototype._$8P=function(){return this.x+.5*this.width},P.prototype._$6P=function(){return this.y+.5*this.height},P.prototype._$EL=function(){return this.x+this.width},P.prototype._$5T=function(){return this.y+this.height},P.prototype._$jL=function(w,k,z,fe){this.x=w,this.y=k,this.width=z,this.height=fe},P.prototype._$jL=function(w){this.x=w.x,this.y=w.y,this.width=w.width,this.height=w.height},P.prototype.contains=function(w,k){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},P.prototype.expand=function(w,k){this.x-=w,this.y-=k,this.width+=w*2,this.height+=k*2};function D(){}D._$Z2=function(w,k,z,fe){var le=k._$Q2(w,z),re=w._$vs(),we=w._$Tr();if(k._$zr(re,we,le),le<=0)return fe[re[0]];if(le==1){var Me=fe[re[0]],Se=fe[re[1]],ze=we[0];return Me+(Se-Me)*ze|0}else if(le==2){var Me=fe[re[0]],Se=fe[re[1]],lt=fe[re[2]],dt=fe[re[3]],ze=we[0],pt=we[1],Ht=Me+(Se-Me)*ze|0,rn=lt+(dt-lt)*ze|0;return Ht+(rn-Ht)*pt|0}else if(le==3){var wt=fe[re[0]],cn=fe[re[1]],on=fe[re[2]],Jt=fe[re[3]],hn=fe[re[4]],st=fe[re[5]],At=fe[re[6]],ve=fe[re[7]],ze=we[0],pt=we[1],en=we[2],Me=wt+(cn-wt)*ze|0,Se=on+(Jt-on)*ze|0,lt=hn+(st-hn)*ze|0,dt=At+(ve-At)*ze|0,Ht=Me+(Se-Me)*pt|0,rn=lt+(dt-lt)*pt|0;return Ht+(rn-Ht)*en|0}else if(le==4){var Xt=fe[re[0]],hr=fe[re[1]],Pr=fe[re[2]],Sn=fe[re[3]],ni=fe[re[4]],rr=fe[re[5]],Qn=fe[re[6]],ar=fe[re[7]],pr=fe[re[8]],cr=fe[re[9]],Tr=fe[re[10]],qn=fe[re[11]],er=fe[re[12]],bn=fe[re[13]],Xn=fe[re[14]],_r=fe[re[15]],ze=we[0],pt=we[1],en=we[2],Ci=we[3],wt=Xt+(hr-Xt)*ze|0,cn=Pr+(Sn-Pr)*ze|0,on=ni+(rr-ni)*ze|0,Jt=Qn+(ar-Qn)*ze|0,hn=pr+(cr-pr)*ze|0,st=Tr+(qn-Tr)*ze|0,At=er+(bn-er)*ze|0,ve=Xn+(_r-Xn)*ze|0,Me=wt+(cn-wt)*pt|0,Se=on+(Jt-on)*pt|0,lt=hn+(st-hn)*pt|0,dt=At+(ve-At)*pt|0,Ht=Me+(Se-Me)*en|0,rn=lt+(dt-lt)*en|0;return Ht+(rn-Ht)*Ci|0}else{for(var Hr=1<<le,gr=new Float32Array(Hr),ri=0;ri<Hr;ri++){for(var Ft=ri,xs=1,wi=0;wi<le;wi++)xs*=Ft%2==0?1-we[wi]:we[wi],Ft/=2;gr[ri]=xs}for(var Pi=new Float32Array(Hr),ki=0;ki<Hr;ki++)Pi[ki]=fe[re[ki]];for(var Ka=0,ki=0;ki<Hr;ki++)Ka+=gr[ki]*Pi[ki];return Ka+.5|0}},D._$br=function(w,k,z,fe){var le=k._$Q2(w,z),re=w._$vs(),we=w._$Tr();if(k._$zr(re,we,le),le<=0)return fe[re[0]];if(le==1){var Me=fe[re[0]],Se=fe[re[1]],ze=we[0];return Me+(Se-Me)*ze}else if(le==2){var Me=fe[re[0]],Se=fe[re[1]],lt=fe[re[2]],dt=fe[re[3]],ze=we[0],pt=we[1];return(1-pt)*(Me+(Se-Me)*ze)+pt*(lt+(dt-lt)*ze)}else if(le==3){var Ht=fe[re[0]],rn=fe[re[1]],wt=fe[re[2]],cn=fe[re[3]],on=fe[re[4]],Jt=fe[re[5]],hn=fe[re[6]],st=fe[re[7]],ze=we[0],pt=we[1],At=we[2];return(1-At)*((1-pt)*(Ht+(rn-Ht)*ze)+pt*(wt+(cn-wt)*ze))+At*((1-pt)*(on+(Jt-on)*ze)+pt*(hn+(st-hn)*ze))}else if(le==4){var ve=fe[re[0]],en=fe[re[1]],Xt=fe[re[2]],hr=fe[re[3]],Pr=fe[re[4]],Sn=fe[re[5]],ni=fe[re[6]],rr=fe[re[7]],Qn=fe[re[8]],ar=fe[re[9]],pr=fe[re[10]],cr=fe[re[11]],Tr=fe[re[12]],qn=fe[re[13]],er=fe[re[14]],bn=fe[re[15]],ze=we[0],pt=we[1],At=we[2],Xn=we[3];return(1-Xn)*((1-At)*((1-pt)*(ve+(en-ve)*ze)+pt*(Xt+(hr-Xt)*ze))+At*((1-pt)*(Pr+(Sn-Pr)*ze)+pt*(ni+(rr-ni)*ze)))+Xn*((1-At)*((1-pt)*(Qn+(ar-Qn)*ze)+pt*(pr+(cr-pr)*ze))+At*((1-pt)*(Tr+(qn-Tr)*ze)+pt*(er+(bn-er)*ze)))}else{for(var _r=1<<le,Ci=new Float32Array(_r),Hr=0;Hr<_r;Hr++){for(var gr=Hr,ri=1,Ft=0;Ft<le;Ft++)ri*=gr%2==0?1-we[Ft]:we[Ft],gr/=2;Ci[Hr]=ri}for(var xs=new Float32Array(_r),wi=0;wi<_r;wi++)xs[wi]=fe[re[wi]];for(var Pi=0,wi=0;wi<_r;wi++)Pi+=Ci[wi]*xs[wi];return Pi}},D._$Vr=function(w,k,z,fe,le,re,we,Me){var Se=k._$Q2(w,z),ze=w._$vs(),lt=w._$Tr();k._$zr(ze,lt,Se);var dt=fe*2,pt=we;if(Se<=0){var Ht=ze[0],rn=le[Ht];if(Me==2&&we==0)j._$jT(rn,0,re,0,dt);else for(var wt=0;wt<dt;)re[pt]=rn[wt++],re[pt+1]=rn[wt++],pt+=Me}else if(Se==1)for(var rn=le[ze[0]],cn=le[ze[1]],on=lt[0],Jt=1-on,wt=0;wt<dt;)re[pt]=rn[wt]*Jt+cn[wt]*on,++wt,re[pt+1]=rn[wt]*Jt+cn[wt]*on,++wt,pt+=Me;else if(Se==2)for(var rn=le[ze[0]],cn=le[ze[1]],hn=le[ze[2]],st=le[ze[3]],on=lt[0],At=lt[1],Jt=1-on,ve=1-At,en=ve*Jt,Xt=ve*on,hr=At*Jt,Pr=At*on,wt=0;wt<dt;)re[pt]=en*rn[wt]+Xt*cn[wt]+hr*hn[wt]+Pr*st[wt],++wt,re[pt+1]=en*rn[wt]+Xt*cn[wt]+hr*hn[wt]+Pr*st[wt],++wt,pt+=Me;else if(Se==3)for(var Sn=le[ze[0]],ni=le[ze[1]],rr=le[ze[2]],Qn=le[ze[3]],ar=le[ze[4]],pr=le[ze[5]],cr=le[ze[6]],Tr=le[ze[7]],on=lt[0],At=lt[1],qn=lt[2],Jt=1-on,ve=1-At,er=1-qn,bn=er*ve*Jt,Xn=er*ve*on,_r=er*At*Jt,Ci=er*At*on,Hr=qn*ve*Jt,gr=qn*ve*on,ri=qn*At*Jt,Ft=qn*At*on,wt=0;wt<dt;)re[pt]=bn*Sn[wt]+Xn*ni[wt]+_r*rr[wt]+Ci*Qn[wt]+Hr*ar[wt]+gr*pr[wt]+ri*cr[wt]+Ft*Tr[wt],++wt,re[pt+1]=bn*Sn[wt]+Xn*ni[wt]+_r*rr[wt]+Ci*Qn[wt]+Hr*ar[wt]+gr*pr[wt]+ri*cr[wt]+Ft*Tr[wt],++wt,pt+=Me;else if(Se==4)for(var xs=le[ze[0]],wi=le[ze[1]],Pi=le[ze[2]],ki=le[ze[3]],Ka=le[ze[4]],fo=le[ze[5]],wa=le[ze[6]],is=le[ze[7]],Yi=le[ze[8]],Uo=le[ze[9]],ho=le[ze[10]],Oa=le[ze[11]],Za=le[ze[12]],Ma=le[ze[13]],vr=le[ze[14]],fu=le[ze[15]],on=lt[0],At=lt[1],qn=lt[2],dl=lt[3],Jt=1-on,ve=1-At,er=1-qn,zl=1-dl,ag=zl*er*ve*Jt,fl=zl*er*ve*on,ws=zl*er*At*Jt,Jp=zl*er*At*on,e0=zl*qn*ve*Jt,og=zl*qn*ve*on,vh=zl*qn*At*Jt,t0=zl*qn*At*on,zc=dl*er*ve*Jt,hu=dl*er*ve*on,Hc=dl*er*At*Jt,Xd=dl*er*At*on,Yd=dl*qn*ve*Jt,yh=dl*qn*ve*on,_h=dl*qn*At*Jt,n0=dl*qn*At*on,wt=0;wt<dt;)re[pt]=ag*xs[wt]+fl*wi[wt]+ws*Pi[wt]+Jp*ki[wt]+e0*Ka[wt]+og*fo[wt]+vh*wa[wt]+t0*is[wt]+zc*Yi[wt]+hu*Uo[wt]+Hc*ho[wt]+Xd*Oa[wt]+Yd*Za[wt]+yh*Ma[wt]+_h*vr[wt]+n0*fu[wt],++wt,re[pt+1]=ag*xs[wt]+fl*wi[wt]+ws*Pi[wt]+Jp*ki[wt]+e0*Ka[wt]+og*fo[wt]+vh*wa[wt]+t0*is[wt]+zc*Yi[wt]+hu*Uo[wt]+Hc*ho[wt]+Xd*Oa[wt]+Yd*Za[wt]+yh*Ma[wt]+_h*vr[wt]+n0*fu[wt],++wt,pt+=Me;else{for(var pu=1<<Se,Kd=new Float32Array(pu),Zd=0;Zd<pu;Zd++){for(var r0=Zd,mu=1,jc=0;jc<Se;jc++)mu*=r0%2==0?1-lt[jc]:lt[jc],r0/=2;Kd[Zd]=mu}for(var Ju=new Float32Array(pu),ua=0;ua<pu;ua++)Ju[ua]=le[ze[ua]];for(var wt=0;wt<dt;){for(var i0=0,s0=0,Gc=wt+1,ua=0;ua<pu;ua++)i0+=Kd[ua]*Ju[ua][wt],s0+=Kd[ua]*Ju[ua][Gc];wt+=2,re[pt]=i0,re[pt+1]=s0,pt+=Me}}};function R(){se||(this.x=null,this.y=null)}R.prototype._$HT=function(w,k){this.x=w,this.y=k},R.prototype._$HT=function(w){this.x=w.x,this.y=w.y};function N(){se||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=new Array)}N._$ur=-2,N._$ES=500,N._$wb=2,N._$8S=3,N._$52=N._$ES,N._$R2=N._$ES,N._$or=function(){return N._$52},N._$Pr=function(){return N._$R2},N.prototype.convertClipIDForV2_11=function(w){var k=[];return w==null||w.length==0?null:/,/.test(w)?(k=w.id.split(","),k):(k.push(w.id),k)},N.prototype._$F0=function(w){this._$gP=w._$nP(),this._$dr=w._$nP(),this._$GS=w._$nP(),this._$qb=w._$6L(),this._$Lb=w._$cS(),this._$mS=w._$Tb(),w.getFormatVersion()>=ue._$T7?(this.clipID=w._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},N.prototype.getClipIDList=function(){return this.clipIDList},N.prototype.init=function(w){},N.prototype._$Nr=function(w,k){if(k._$IS[0]=!1,k._$Us=D._$Z2(w,this._$GS,k._$IS,this._$Lb),!ft._$Zs){if(k._$IS[0])return}k._$7s=D._$br(w,this._$GS,k._$IS,this._$mS)},N.prototype._$2b=function(w,k){},N.prototype.getDrawDataID=function(){return this._$gP},N.prototype._$j2=function(w){this._$gP=w},N.prototype.getOpacity=function(w,k){return k._$7s},N.prototype._$zS=function(w,k){return k._$Us},N.prototype._$MS=function(w){for(var k=w.length-1;k>=0;--k){var z=w[k];z<N._$52?N._$52=z:z>N._$R2&&(N._$R2=z)}},N.prototype.getTargetBaseDataID=function(){return this._$dr},N.prototype._$gs=function(w){this._$dr=w},N.prototype._$32=function(){return this._$dr!=null&&this._$dr!=Nt._$2o()},N.prototype.preDraw=function(w,k,z){},N.prototype.draw=function(w,k,z){},N.prototype.getType=function(){},N.prototype._$B2=function(w,k,z){};function U(){se||(this._$Eb=U._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=U.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=new Array)}U._$ps=32,U.CLIPPING_PROCESS_NONE=0,U.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,U.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,U.CLIPPING_PROCESS_DRAW=3,U.CLIPPING_PROCESS_CLEAR_ALPHA=4,U.prototype.setChannelFlagAsColor=function(w,k){this.CHANNEL_COLORS[w]=k},U.prototype.getChannelFlagAsColor=function(w){return this.CHANNEL_COLORS[w]},U.prototype._$ZT=function(){},U.prototype._$Uo=function(w,k,z,fe,le,re,we){},U.prototype._$Rs=function(){return-1},U.prototype._$Ds=function(w){},U.prototype.setBaseColor=function(w,k,z,fe){w<0?w=0:w>1&&(w=1),k<0?k=0:k>1&&(k=1),z<0?z=0:z>1&&(z=1),fe<0?fe=0:fe>1&&(fe=1),this._$lT=w,this._$C0=k,this._$tT=z,this._$WL=fe},U.prototype._$WP=function(w){this.culling=w},U.prototype.setMatrix=function(w){for(var k=0;k<16;k++)this.matrix4x4[k]=w[k]},U.prototype._$IT=function(){return this.matrix4x4},U.prototype.setPremultipliedAlpha=function(w){this.premultipliedAlpha=w},U.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},U.prototype.setAnisotropy=function(w){this.anisotropy=w},U.prototype.getAnisotropy=function(){return this.anisotropy},U.prototype.getClippingProcess=function(){return this.clippingProcess},U.prototype.setClippingProcess=function(w){this.clippingProcess=w},U.prototype.setClipBufPre_clipContextForMask=function(w){this.clipBufPre_clipContextMask=w},U.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},U.prototype.setClipBufPre_clipContextForDraw=function(w){this.clipBufPre_clipContextDraw=w},U.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw};function Y(){se||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=ft.L2D_COLOR_BLEND_MODE_MULT)}function H(){se||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}H._$ur=-2,H._$c2=1,H._$_b=2,H.prototype._$F0=function(w){this._$kP=w._$nP(),this._$dr=w._$nP()},H.prototype.readV2_opacity=function(w){w.getFormatVersion()>=ue.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=w._$Tb())},H.prototype.init=function(w){},H.prototype._$Nr=function(w,k){},H.prototype.interpolateOpacity=function(w,k,z,fe){this._$mS==null?z.setInterpolatedOpacity(1):z.setInterpolatedOpacity(D._$br(w,k,fe,this._$mS))},H.prototype._$2b=function(w,k){},H.prototype._$nb=function(w,k,z,fe,le,re,we){},H.prototype.getType=function(){},H.prototype._$gs=function(w){this._$dr=w},H.prototype._$a2=function(w){this._$kP=w},H.prototype.getTargetBaseDataID=function(){return this._$dr},H.prototype.getBaseDataID=function(){return this._$kP},H.prototype._$32=function(){return this._$dr!=null&&this._$dr!=Nt._$2o()};function j(){}j._$W2=0,j._$CS=j._$W2,j._$Mo=function(){return!0},j._$XP=function(w){try{for(var k=getTimeMSec();getTimeMSec()-k<w;);}catch(z){z._$Rb()}},j.getUserTimeMSec=function(){return j._$CS==j._$W2?j.getSystemTimeMSec():j._$CS},j.setUserTimeMSec=function(w){j._$CS=w},j.updateUserTimeMSec=function(){return j._$CS=j.getSystemTimeMSec()},j.getTimeMSec=function(){return new Date().getTime()},j.getSystemTimeMSec=function(){return new Date().getTime()},j._$Q=function(w){},j._$jT=function(w,k,z,fe,le){for(var re=0;re<le;re++)z[fe+re]=w[k+re]};function X(){se||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=X._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}X._$ds=-2,X.prototype._$F0=function(w){this._$wL=w._$nP(),this._$VP=w._$6L(),this._$GP=w._$nP()},X.prototype.getParamIndex=function(w){return this._$2r!=w&&(this._$8o=X._$ds),this._$8o},X.prototype._$Pb=function(w,k){this._$8o=w,this._$2r=k},X.prototype.getParamID=function(){return this._$wL},X.prototype._$yP=function(w){this._$wL=w},X.prototype._$N2=function(){return this._$VP},X.prototype._$d2=function(){return this._$GP},X.prototype._$t2=function(w,k){this._$VP=w,this._$GP=k},X.prototype._$Lr=function(){return this._$O2},X.prototype._$wr=function(w){this._$O2=w},X.prototype._$SL=function(){return this._$ri},X.prototype._$AL=function(w){this._$ri=w};function W(){}W.startsWith=function(w,k,z){var fe=k+z.length;if(fe>=w.length)return!1;for(var le=k;le<fe;le++)if(W.getChar(w,le)!=z.charAt(le-k))return!1;return!0},W.getChar=function(w,k){return String.fromCharCode(w.getUint8(k))},W.createString=function(w,k,z){for(var fe=new ArrayBuffer(z*2),le=new Uint16Array(fe),re=0;re<z;re++)le[re]=w.getUint8(k+re);return String.fromCharCode.apply(null,le)},W._$LS=function(w,k,z,fe){w instanceof ArrayBuffer&&(w=new DataView(w));var le=z,re=!1,we=!1,Me=0,Se=W.getChar(w,le);Se=="-"&&(re=!0,le++);for(var ze=!1;le<k;le++){switch(Se=W.getChar(w,le),Se){case"0":Me=Me*10;break;case"1":Me=Me*10+1;break;case"2":Me=Me*10+2;break;case"3":Me=Me*10+3;break;case"4":Me=Me*10+4;break;case"5":Me=Me*10+5;break;case"6":Me=Me*10+6;break;case"7":Me=Me*10+7;break;case"8":Me=Me*10+8;break;case"9":Me=Me*10+9;break;case".":we=!0,le++,ze=!0;break;default:ze=!0;break}if(ze)break}if(we)for(var lt=.1,dt=!1;le<k;le++){switch(Se=W.getChar(w,le),Se){case"0":break;case"1":Me+=lt*1;break;case"2":Me+=lt*2;break;case"3":Me+=lt*3;break;case"4":Me+=lt*4;break;case"5":Me+=lt*5;break;case"6":Me+=lt*6;break;case"7":Me+=lt*7;break;case"8":Me+=lt*8;break;case"9":Me+=lt*9;break;default:dt=!0;break}if(lt*=.1,dt)break}return re&&(Me=-Me),fe[0]=le,Me};function F(){se||(this._$Ob=null)}F.prototype._$zP=function(){this._$Ob=new Array},F.prototype._$F0=function(w){this._$Ob=w._$nP()},F.prototype._$Ur=function(w){if(w._$WS())return!0;for(var k=w._$v2(),z=this._$Ob.length-1;z>=0;--z){var fe=this._$Ob[z].getParamIndex(k);if(fe==X._$ds&&(fe=w.getParamIndex(this._$Ob[z].getParamID())),w._$Xb(fe))return!0}return!1},F.prototype._$Q2=function(w,k){for(var z=this._$Ob.length,fe=w._$v2(),le=0,re,we,Me=0;Me<z;Me++){var Se=this._$Ob[Me];if(re=Se.getParamIndex(fe),re==X._$ds&&(re=w.getParamIndex(Se.getParamID()),Se._$Pb(re,fe)),re<0)throw new Exception("err 23242 : "+Se.getParamID());var ze=re<0?0:w.getParamFloat(re);we=Se._$N2();var lt=Se._$d2(),dt=-1,pt=0,Ht,rn;if(!(we<1))if(we==1)Ht=lt[0],Ht-de._$J<ze&&ze<Ht+de._$J?(dt=0,pt=0):(dt=0,k[0]=!0);else if(Ht=lt[0],ze<Ht-de._$J)dt=0,k[0]=!0;else if(ze<Ht+de._$J)dt=0;else{for(var wt=!1,cn=1;cn<we;++cn){if(rn=lt[cn],ze<rn+de._$J){rn-de._$J<ze?dt=cn:(dt=cn-1,pt=(ze-Ht)/(rn-Ht),le++),wt=!0;break}Ht=rn}wt||(dt=we-1,pt=0,k[0]=!0)}Se._$wr(dt),Se._$AL(pt)}return le},F.prototype._$zr=function(w,k,z){var fe=1<<z;fe+1>de._$Qb&&console.log(`err 23245
`);for(var le=this._$Ob.length,re=1,we=1,Me=0,Se=0;Se<fe;++Se)w[Se]=0;for(var ze=0;ze<le;++ze){var lt=this._$Ob[ze];if(lt._$SL()==0){var dt=lt._$Lr()*re;if(dt<0&&ft._$3T)throw new Exception("err 23246");for(var Se=0;Se<fe;++Se)w[Se]+=dt}else{for(var dt=re*lt._$Lr(),pt=re*(lt._$Lr()+1),Se=0;Se<fe;++Se)w[Se]+=(Se/we|0)%2==0?dt:pt;k[Me++]=lt._$SL(),we*=2}re*=lt._$N2()}w[fe]=65535,k[Me]=-1},F.prototype._$h2=function(w,k,z){for(var fe=new Float32Array(k),le=0;le<k;++le)fe[le]=z[le];var re=new X;re._$yP(w),re._$t2(k,fe),this._$Ob.push(re)},F.prototype._$J2=function(w){for(var k=w,z=this._$Ob.length,fe=0;fe<z;++fe){var le=this._$Ob[fe],re=le._$N2(),we=k%le._$N2(),Me=le._$d2()[we];console.log("%s[%d]=%7.2f / ",le.getParamID(),we,Me),k/=re}console.log(`
`)},F.prototype.getParamCount=function(){return this._$Ob.length},F.prototype._$zs=function(){return this._$Ob};function te(){this.m=new Float32Array(16),this.identity()}te.prototype.identity=function(){for(var w=0;w<16;w++)this.m[w]=w%5==0?1:0},te.prototype.getArray=function(){return this.m},te.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},te.prototype.setMatrix=function(w){if(!(w==null||w.length!=16))for(var k=0;k<16;k++)this.m[k]=w[k]},te.prototype.mult=function(w,k,z){return k==null?null:(this==k?this.mult_safe(this.m,w.m,k.m,z):this.mult_fast(this.m,w.m,k.m,z),k)},te.prototype.mult_safe=function(w,k,z,fe){if(w==z){var le=new Array(16);this.mult_fast(w,k,le,fe);for(var re=15;re>=0;--re)z[re]=le[re]}else this.mult_fast(w,k,z,fe)},te.prototype.mult_fast=function(w,k,z,fe){fe?(z[0]=w[0]*k[0]+w[4]*k[1]+w[8]*k[2],z[4]=w[0]*k[4]+w[4]*k[5]+w[8]*k[6],z[8]=w[0]*k[8]+w[4]*k[9]+w[8]*k[10],z[12]=w[0]*k[12]+w[4]*k[13]+w[8]*k[14]+w[12],z[1]=w[1]*k[0]+w[5]*k[1]+w[9]*k[2],z[5]=w[1]*k[4]+w[5]*k[5]+w[9]*k[6],z[9]=w[1]*k[8]+w[5]*k[9]+w[9]*k[10],z[13]=w[1]*k[12]+w[5]*k[13]+w[9]*k[14]+w[13],z[2]=w[2]*k[0]+w[6]*k[1]+w[10]*k[2],z[6]=w[2]*k[4]+w[6]*k[5]+w[10]*k[6],z[10]=w[2]*k[8]+w[6]*k[9]+w[10]*k[10],z[14]=w[2]*k[12]+w[6]*k[13]+w[10]*k[14]+w[14],z[3]=z[7]=z[11]=0,z[15]=1):(z[0]=w[0]*k[0]+w[4]*k[1]+w[8]*k[2]+w[12]*k[3],z[4]=w[0]*k[4]+w[4]*k[5]+w[8]*k[6]+w[12]*k[7],z[8]=w[0]*k[8]+w[4]*k[9]+w[8]*k[10]+w[12]*k[11],z[12]=w[0]*k[12]+w[4]*k[13]+w[8]*k[14]+w[12]*k[15],z[1]=w[1]*k[0]+w[5]*k[1]+w[9]*k[2]+w[13]*k[3],z[5]=w[1]*k[4]+w[5]*k[5]+w[9]*k[6]+w[13]*k[7],z[9]=w[1]*k[8]+w[5]*k[9]+w[9]*k[10]+w[13]*k[11],z[13]=w[1]*k[12]+w[5]*k[13]+w[9]*k[14]+w[13]*k[15],z[2]=w[2]*k[0]+w[6]*k[1]+w[10]*k[2]+w[14]*k[3],z[6]=w[2]*k[4]+w[6]*k[5]+w[10]*k[6]+w[14]*k[7],z[10]=w[2]*k[8]+w[6]*k[9]+w[10]*k[10]+w[14]*k[11],z[14]=w[2]*k[12]+w[6]*k[13]+w[10]*k[14]+w[14]*k[15],z[3]=w[3]*k[0]+w[7]*k[1]+w[11]*k[2]+w[15]*k[3],z[7]=w[3]*k[4]+w[7]*k[5]+w[11]*k[6]+w[15]*k[7],z[11]=w[3]*k[8]+w[7]*k[9]+w[11]*k[10]+w[15]*k[11],z[15]=w[3]*k[12]+w[7]*k[13]+w[11]*k[14]+w[15]*k[15])},te.prototype.translate=function(w,k,z){this.m[12]=this.m[0]*w+this.m[4]*k+this.m[8]*z+this.m[12],this.m[13]=this.m[1]*w+this.m[5]*k+this.m[9]*z+this.m[13],this.m[14]=this.m[2]*w+this.m[6]*k+this.m[10]*z+this.m[14],this.m[15]=this.m[3]*w+this.m[7]*k+this.m[11]*z+this.m[15]},te.prototype.scale=function(w,k,z){this.m[0]*=w,this.m[4]*=k,this.m[8]*=z,this.m[1]*=w,this.m[5]*=k,this.m[9]*=z,this.m[2]*=w,this.m[6]*=k,this.m[10]*=z,this.m[3]*=w,this.m[7]*=k,this.m[11]*=z},te.prototype.rotateX=function(w){var k=c.fcos(w),z=c._$9(w),fe=this.m[4];this.m[4]=fe*k+this.m[8]*z,this.m[8]=fe*-z+this.m[8]*k,fe=this.m[5],this.m[5]=fe*k+this.m[9]*z,this.m[9]=fe*-z+this.m[9]*k,fe=this.m[6],this.m[6]=fe*k+this.m[10]*z,this.m[10]=fe*-z+this.m[10]*k,fe=this.m[7],this.m[7]=fe*k+this.m[11]*z,this.m[11]=fe*-z+this.m[11]*k},te.prototype.rotateY=function(w){var k=c.fcos(w),z=c._$9(w),fe=this.m[0];this.m[0]=fe*k+this.m[8]*-z,this.m[8]=fe*z+this.m[8]*k,fe=this.m[1],this.m[1]=fe*k+this.m[9]*-z,this.m[9]=fe*z+this.m[9]*k,fe=m[2],this.m[2]=fe*k+this.m[10]*-z,this.m[10]=fe*z+this.m[10]*k,fe=m[3],this.m[3]=fe*k+this.m[11]*-z,this.m[11]=fe*z+this.m[11]*k},te.prototype.rotateZ=function(w){var k=c.fcos(w),z=c._$9(w),fe=this.m[0];this.m[0]=fe*k+this.m[4]*z,this.m[4]=fe*-z+this.m[4]*k,fe=this.m[1],this.m[1]=fe*k+this.m[5]*z,this.m[5]=fe*-z+this.m[5]*k,fe=this.m[2],this.m[2]=fe*k+this.m[6]*z,this.m[6]=fe*-z+this.m[6]*k,fe=this.m[3],this.m[3]=fe*k+this.m[7]*z,this.m[7]=fe*-z+this.m[7]*k};function G(w){se||St.prototype.constructor.call(this,w)}G.prototype=new St,G._$tP=new Object,G._$27=function(){G._$tP.clear()},G.getID=function(w){var k=G._$tP[w];return k==null&&(k=new G(w),G._$tP[w]=k),k},G.prototype._$3s=function(){return new G};function K(){se||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}K._$kS=-1,K._$pS=0,K._$hb=1,K.STATE_IDENTITY=0,K._$gb=1,K._$fo=2,K._$go=4,K.prototype.transform=function(w,k,z){var fe,le,re,we,Me,Se,ze=0,lt=0;switch(this._$hi){default:return;case K._$go|K._$fo|K._$gb:for(fe=this._$7,le=this._$H,re=this._$k,we=this._$f,Me=this._$g,Se=this._$w;--z>=0;){var dt=w[ze++],pt=w[ze++];k[lt++]=fe*dt+le*pt+re,k[lt++]=we*dt+Me*pt+Se}return;case K._$go|K._$fo:for(fe=this._$7,le=this._$H,we=this._$f,Me=this._$g;--z>=0;){var dt=w[ze++],pt=w[ze++];k[lt++]=fe*dt+le*pt,k[lt++]=we*dt+Me*pt}return;case K._$go|K._$gb:for(le=this._$H,re=this._$k,we=this._$f,Se=this._$w;--z>=0;){var dt=w[ze++];k[lt++]=le*w[ze++]+re,k[lt++]=we*dt+Se}return;case K._$go:for(le=this._$H,we=this._$f;--z>=0;){var dt=w[ze++];k[lt++]=le*w[ze++],k[lt++]=we*dt}return;case K._$fo|K._$gb:for(fe=this._$7,re=this._$k,Me=this._$g,Se=this._$w;--z>=0;)k[lt++]=fe*w[ze++]+re,k[lt++]=Me*w[ze++]+Se;return;case K._$fo:for(fe=this._$7,Me=this._$g;--z>=0;)k[lt++]=fe*w[ze++],k[lt++]=Me*w[ze++];return;case K._$gb:for(re=this._$k,Se=this._$w;--z>=0;)k[lt++]=w[ze++]+re,k[lt++]=w[ze++]+Se;return;case K.STATE_IDENTITY:(w!=k||ze!=lt)&&j._$jT(w,ze,k,lt,z*2);return}},K.prototype.update=function(){this._$H==0&&this._$f==0?this._$7==1&&this._$g==1?this._$k==0&&this._$w==0?(this._$hi=K.STATE_IDENTITY,this._$Z=K._$pS):(this._$hi=K._$gb,this._$Z=K._$hb):this._$k==0&&this._$w==0?(this._$hi=K._$fo,this._$Z=K._$kS):(this._$hi=K._$fo|K._$gb,this._$Z=K._$kS):this._$7==0&&this._$g==0?this._$k==0&&this._$w==0?(this._$hi=K._$go,this._$Z=K._$kS):(this._$hi=K._$go|K._$gb,this._$Z=K._$kS):this._$k==0&&this._$w==0?(this._$hi=K._$go|K._$fo,this._$Z=K._$kS):(this._$hi=K._$go|K._$fo|K._$gb,this._$Z=K._$kS)},K.prototype._$RT=function(w){this._$IT(w);var k=w[0],z=w[2],fe=w[1],le=w[3],re=Math.sqrt(k*k+fe*fe),we=k*le-z*fe;re==0?ft._$so&&console.log("affine._$RT() / rt==0"):(w[0]=re,w[1]=we/re,w[2]=(fe*le+k*z)/we,w[3]=Math.atan2(fe,k))},K.prototype._$ho=function(w,k,z,fe){var le=new Float32Array(6),re=new Float32Array(6);w._$RT(le),k._$RT(re);var we=new Float32Array(6);we[0]=le[0]+(re[0]-le[0])*z,we[1]=le[1]+(re[1]-le[1])*z,we[2]=le[2]+(re[2]-le[2])*z,we[3]=le[3]+(re[3]-le[3])*z,we[4]=le[4]+(re[4]-le[4])*z,we[5]=le[5]+(re[5]-le[5])*z,fe._$CT(we)},K.prototype._$CT=function(w){var k=Math.cos(w[3]),z=Math.sin(w[3]);this._$7=w[0]*k,this._$f=w[0]*z,this._$H=w[1]*(w[2]*k-z),this._$g=w[1]*(w[2]*z+k),this._$k=w[4],this._$w=w[5],this.update()},K.prototype._$IT=function(w){w[0]=this._$7,w[1]=this._$f,w[2]=this._$H,w[3]=this._$g,w[4]=this._$k,w[5]=this._$w};function ee(){se||(s.prototype.constructor.call(this),this.motions=new Array,this._$7r=null,this._$7r=ee._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}ee.prototype=new s,ee._$cs="VISIBLE:",ee._$ar="LAYOUT:",ee._$Co=0,ee._$D2=[],ee._$1T=1,ee.loadMotion=function(w){var k=new ee,z=[0],fe=w.length;k._$yT=0;for(var le=0;le<fe;++le){var re=w[le]&255;if(!(re==`
`||re=="\r")){if(re=="#"){for(;le<fe&&!(w[le]==`
`||w[le]=="\r");++le);continue}if(re=="$"){for(var we=le,Me=-1;le<fe&&(re=w[le]&255,!(re=="\r"||re==`
`));++le)if(re=="="){Me=le;break}if(Me>=0)for(Me==we+4&&w[we+1]=="f"&&w[we+2]=="p"&&w[we+3]=="s",le=Me+1;le<fe&&(re=w[le]&255,!(re=="\r"||re==`
`));++le)re==","||re==" "||re=="	"||(W._$LS(w,fe,le,z),le=z[0]);for(;le<fe&&!(w[le]==`
`||w[le]=="\r");++le);continue}if("a"<=re&&re<="z"||"A"<=re&&re<="Z"||re=="_"){for(var we=le,Me=-1;le<fe&&(re=w[le]&255,!(re=="\r"||re==`
`));++le)if(re=="="){Me=le;break}if(Me>=0){var Se=new ae;W.startsWith(w,we,ee._$cs)?(Se._$RP=ae._$hs,Se._$4P=new String(w,we,Me-we)):W.startsWith(w,we,ee._$ar)?(Se._$4P=new String(w,we+7,Me-we-7),W.startsWith(w,we+7,"ANCHOR_X")?Se._$RP=ae._$xs:W.startsWith(w,we+7,"ANCHOR_Y")?Se._$RP=ae._$us:W.startsWith(w,we+7,"SCALE_X")?Se._$RP=ae._$qs:W.startsWith(w,we+7,"SCALE_Y")?Se._$RP=ae._$Ys:W.startsWith(w,we+7,"X")?Se._$RP=ae._$ws:W.startsWith(w,we+7,"Y")&&(Se._$RP=ae._$Ns)):(Se._$RP=ae._$Fr,Se._$4P=new String(w,we,Me-we)),k.motions.push(Se);var ze=0;for(ee._$D2.clear(),le=Me+1;le<fe&&(re=w[le]&255,!(re=="\r"||re==`
`));++le)re==","||re==" "||re=="	"||W._$LS(w,fe,le,z);Se._$I0=ee._$D2._$BL(),ze>k._$yT&&(k._$yT=ze)}}}}return k._$AS=1e3*k._$yT/k._$D0|0,k},ee.prototype.getDurationMSec=function(){return this._$AS},ee.prototype.dump=function(){for(var w=0;w<this.motions.length;w++){var k=this.motions[w];console.log("_$wL[%s] [%d]. ",k._$4P,k._$I0.length);for(var z=0;z<k._$I0.length&&z<10;z++)console.log("%5.2f ,",k._$I0[z]);console.log(`
`)}},ee.prototype.updateParamExe=function(w,k,z,fe){for(var le=k-fe._$z2,re=le*this._$D0/1e3,we=re|0,Me=re-we,Se=0;Se<this.motions.length;Se++){var ze=this.motions[Se],lt=ze._$I0.length,dt=ze._$4P;if(ze._$RP==ae._$hs){var pt=ze._$I0[we>=lt?lt-1:we];w.setParamFloat(dt,pt)}else if(!(ae._$ws<=ze._$RP&&ze._$RP<=ae._$Ys)){var Ht=w.getParamFloat(dt),rn=ze._$I0[we>=lt?lt-1:we],wt=ze._$I0[we+1>=lt?lt-1:we+1],cn=rn+(wt-rn)*Me,on=Ht+(cn-Ht)*z;w.setParamFloat(dt,on)}}we>=this._$yT&&(this._$E?(fe._$z2=k,this.loopFadeIn&&(fe._$bs=k)):fe._$9L=!0)},ee.prototype._$r0=function(){return this._$E},ee.prototype._$aL=function(w){this._$E=w},ee.prototype.isLoopFadeIn=function(){return this.loopFadeIn},ee.prototype.setLoopFadeIn=function(w){this.loopFadeIn=w},ht.prototype.clear=function(){this.size=0},ht.prototype.add=function(w){if(this._$P.length<=this.size){var k=new Float32Array(this.size*2);j._$jT(this._$P,0,k,0,this.size),this._$P=k}this._$P[this.size++]=w},ht.prototype._$BL=function(){var w=new Float32Array(this.size);return j._$jT(this._$P,0,w,0,this.size),w},ae._$Fr=0,ae._$hs=1,ae._$ws=100,ae._$Ns=101,ae._$xs=102,ae._$us=103,ae._$qs=104,ae._$Ys=105;function de(){}de._$Ms=1,de._$Qs=2,de._$i2=0,de._$No=2,de._$do=de._$Ms,de._$Ls=!0,de._$1r=5,de._$Qb=65,de._$J=1e-4,de._$FT=.001,de._$Ss=3;function ue(){}ue._$o7=6,ue._$S7=7,ue._$s7=8,ue._$77=9,ue.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,ue.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,ue._$T7=ue.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1,ue._$Is=-2004318072,ue._$h0=0,ue._$4L=23,ue._$7P=33,ue._$uT=function(w){console.log(`_$bo :: _$6 _$mo _$E0 : %d
`,w)},ue._$9o=function(w){if(w<40)return ue._$uT(w),null;if(w<50)return ue._$uT(w),null;if(w<60)return ue._$uT(w),null;if(w<100)switch(w){case 65:return new Re;case 66:return new F;case 67:return new X;case 68:return new Ge;case 69:return new T;case 70:return new qt;default:return ue._$uT(w),null}else if(w<150)switch(w){case 131:return new sn;case 133:return new Ye;case 136:return new h;case 137:return new Lt;case 142:return new Ke}return ue._$uT(w),null};function me(w){se||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=new Array(me._$is),this._$_2=new Float32Array(me._$is),this._$vr=new Float32Array(me._$is),this._$Rr=new Float32Array(me._$is),this._$Or=new Float32Array(me._$is),this._$fs=new Float32Array(me._$is),this._$Js=new Array(me._$is),this._$3S=new Array,this._$aS=new Array,this._$Bo=null,this._$F2=new Array,this._$db=new Array,this._$8b=new Array,this._$Hr=new Array,this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(de._$Qb),this._$ZP=new Float32Array(de._$1r*2),this._$Ri=w,this._$b0=me._$HP++,this.clipManager=null,this.dp_webgl=null)}me._$HP=0,me._$_0=!0,me._$V2=-1,me._$W0=-1,me._$jr=!1,me._$ZS=!0,me._$tr=-1e6,me._$lr=1e6,me._$is=32,me._$e=!1,me.prototype.getDrawDataIndex=function(w){for(var k=this._$aS.length-1;k>=0;--k)if(this._$aS[k]!=null&&this._$aS[k].getDrawDataID()==w)return k;return-1},me.prototype.getDrawData=function(w){if(w instanceof G){if(this._$Bo==null){this._$Bo=new Object;for(var k=this._$aS.length,z=0;z<k;z++){var fe=this._$aS[z],le=fe.getDrawDataID();le!=null&&(this._$Bo[le]=fe)}}return this._$Bo[id]}else return w<this._$aS.length?this._$aS[w]:null},me.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),this._$Bo!=null&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},me.prototype.init=function(){this._$co++,this._$F2.length>0&&this.release();for(var w=this._$Ri.getModelImpl(),k=w._$Xr(),z=k.length,fe=new Array,le=new Array,re=0;re<z;++re){var we=k[re];this._$F2.push(we),this._$Hr.push(we.init(this));for(var Me=we.getBaseData(),Se=Me.length,ze=0;ze<Se;++ze)fe.push(Me[ze]);for(var ze=0;ze<Se;++ze){var lt=Me[ze].init(this);lt._$l2(re),le.push(lt)}for(var dt=we.getDrawData(),pt=dt.length,ze=0;ze<pt;++ze){var Ht=dt[ze],rn=Ht.init(this);rn._$IP=re,this._$aS.push(Ht),this._$8b.push(rn)}}for(var wt=fe.length,cn=Nt._$2o();;){for(var on=!1,re=0;re<wt;++re){var Jt=fe[re];if(Jt!=null){var hn=Jt.getTargetBaseDataID();(hn==null||hn==cn||this.getBaseDataIndex(hn)>=0)&&(this._$3S.push(Jt),this._$db.push(le[re]),fe[re]=null,on=!0)}}if(!on)break}var st=w._$E2();if(st!=null){var At=st._$1s();if(At!=null)for(var ve=At.length,re=0;re<ve;++re){var en=At[re];en!=null&&this._$02(en.getParamID(),en.getDefaultValue(),en.getMinValue(),en.getMaxValue())}}this.clipManager=new e(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},me.prototype.update=function(){me._$e&&a.start("_$zL");for(var w=this._$_2.length,k=0;k<w;k++)this._$_2[k]!=this._$vr[k]&&(this._$Js[k]=me._$ZS,this._$vr[k]=this._$_2[k]);var z=!1,fe=this._$3S.length,le=this._$aS.length,re=Ie._$or(),we=Ie._$Pr(),Me=we-re+1;(this._$Ws==null||this._$Ws.length<Me)&&(this._$Ws=new Int16Array(Me),this._$Vs=new Int16Array(Me));for(var k=0;k<Me;k++)this._$Ws[k]=me._$V2,this._$Vs[k]=me._$V2;(this._$Er==null||this._$Er.length<le)&&(this._$Er=new Int16Array(le));for(var k=0;k<le;k++)this._$Er[k]=me._$W0;me._$e&&a.dump("_$zL"),me._$e&&a.start("_$UL");for(var Se=null,ze=0;ze<fe;++ze){var lt=this._$3S[ze],dt=this._$db[ze];try{lt._$Nr(this,dt),lt._$2b(this,dt)}catch(Jt){Se==null&&(Se=Jt)}}Se!=null&&me._$_0&&a._$Rb(Se),me._$e&&a.dump("_$UL"),me._$e&&a.start("_$DL");for(var pt=null,Ht=0;Ht<le;++Ht){var rn=this._$aS[Ht],wt=this._$8b[Ht];try{if(rn._$Nr(this,wt),wt._$u2())continue;rn._$2b(this,wt);var cn=Math.floor(rn._$zS(this,wt)-re),on;try{on=this._$Vs[cn]}catch(Jt){console.log(`_$li :: %s / %s 				@@_$fS
`,Jt.toString(),rn.getDrawDataID().toString()),cn=Math.floor(rn._$zS(this,wt)-re);continue}on==me._$V2?this._$Ws[cn]=Ht:this._$Er[on]=Ht,this._$Vs[cn]=Ht}catch(Jt){pt==null&&(pt=Jt,ft._$sT(ft._$H7))}}pt!=null&&me._$_0&&a._$Rb(pt),me._$e&&a.dump("_$DL"),me._$e&&a.start("_$eL");for(var k=this._$Js.length-1;k>=0;k--)this._$Js[k]=me._$jr;return this._$QT=!1,me._$e&&a.dump("_$eL"),z},me.prototype.preDraw=function(w){this.clipManager!=null&&(w._$ZT(),this.clipManager.setupClip(this,w))},me.prototype.draw=function(w){if(this._$Ws==null){a._$li("call _$Ri.update() before _$Ri.draw() ");return}var k=this._$Ws.length;w._$ZT();for(var z=0;z<k;++z){var fe=this._$Ws[z];if(fe!=me._$V2)do{var le=this._$aS[fe],re=this._$8b[fe];if(re._$yo()){var we=re._$IP,Me=this._$Hr[we];re._$VS=Me.getPartsOpacity(),le.draw(w,this,re)}var Se=this._$Er[fe];if(Se<=fe||Se==me._$W0)break;fe=Se}while(!0)}},me.prototype.getParamIndex=function(w){for(var k=this._$pb.length-1;k>=0;--k)if(this._$pb[k]==w)return k;return this._$02(w,0,me._$tr,me._$lr)},me.prototype._$BS=function(w){return this.getBaseDataIndex(w)},me.prototype.getBaseDataIndex=function(w){for(var k=this._$3S.length-1;k>=0;--k)if(this._$3S[k]!=null&&this._$3S[k].getBaseDataID()==w)return k;return-1},me.prototype._$UT=function(w,k){var z=new Float32Array(k);return j._$jT(w,0,z,0,w.length),z},me.prototype._$02=function(w,k,z,fe){if(this._$qo>=this._$pb.length){var le=this._$pb.length,re=new Array(le*2);j._$jT(this._$pb,0,re,0,le),this._$pb=re,this._$_2=this._$UT(this._$_2,le*2),this._$vr=this._$UT(this._$vr,le*2),this._$Rr=this._$UT(this._$Rr,le*2),this._$Or=this._$UT(this._$Or,le*2);var we=new Array;j._$jT(this._$Js,0,we,0,le),this._$Js=we}return this._$pb[this._$qo]=w,this._$_2[this._$qo]=k,this._$vr[this._$qo]=k,this._$Rr[this._$qo]=z,this._$Or[this._$qo]=fe,this._$Js[this._$qo]=me._$ZS,this._$qo++},me.prototype._$Zo=function(w,k){this._$3S[w]=k},me.prototype.setParamFloat=function(w,k){k<this._$Rr[w]&&(k=this._$Rr[w]),k>this._$Or[w]&&(k=this._$Or[w]),this._$_2[w]=k},me.prototype.loadParam=function(){var w=this._$_2.length;w>this._$fs.length&&(w=this._$fs.length),j._$jT(this._$fs,0,this._$_2,0,w)},me.prototype.saveParam=function(){var w=this._$_2.length;w>this._$fs.length&&(this._$fs=new Float32Array(w)),j._$jT(this._$_2,0,this._$fs,0,w)},me.prototype._$v2=function(){return this._$co},me.prototype._$WS=function(){return this._$QT},me.prototype._$Xb=function(w){return this._$Js[w]==me._$ZS},me.prototype._$vs=function(){return this._$Es},me.prototype._$Tr=function(){return this._$ZP},me.prototype.getBaseData=function(w){return this._$3S[w]},me.prototype.getParamFloat=function(w){return this._$_2[w]},me.prototype.getParamMax=function(w){return this._$Or[w]},me.prototype.getParamMin=function(w){return this._$Rr[w]},me.prototype.setPartsOpacity=function(w,k){var z=this._$Hr[w];z.setPartsOpacity(k)},me.prototype.getPartsOpacity=function(w){var k=this._$Hr[w];return k.getPartsOpacity()},me.prototype.getPartsDataIndex=function(w){for(var k=this._$F2.length-1;k>=0;--k)if(this._$F2[k]!=null&&this._$F2[k]._$p2()==w)return k;return-1},me.prototype._$q2=function(w){return this._$db[w]},me.prototype._$C2=function(w){return this._$8b[w]},me.prototype._$Bb=function(w){return this._$Hr[w]},me.prototype._$5s=function(w,k){for(var z=this._$Ws.length,fe=w,le=0;le<z;++le){var re=this._$Ws[le];if(re!=me._$V2)do{var we=this._$8b[re];we._$yo()&&(we._$GT()._$B2(this,we,fe),fe+=k);var Me=this._$Er[re];if(Me<=re||Me==me._$W0)break;re=Me}while(!0)}},me.prototype.setDrawParam=function(w){this.dp_webgl=w},me.prototype.getDrawParam=function(){return this.dp_webgl};function Ee(){}Ee._$0T=function(w){return Ee._$0T(new _$5(w))},Ee._$0T=function(w){if(!w.exists())throw new _$ls(w._$3b());for(var k=w.length(),z=new Int8Array(k),fe=new _$Xs(new _$kb(w),8192),le,re=0;(le=fe.read(z,re,k-re))>0;)re+=le;return z},Ee._$C=function(w){var k=null,z=null;try{k=w instanceof Array?w:new _$Xs(w,8192),z=new _$js;for(var fe=1e3,le,re=new Int8Array(fe);(le=k.read(re))>0;)z.write(re,0,le);return z._$TS()}finally{w!=null&&w.close(),z!=null&&(z.flush(),z.close())}};function Oe(){se||(U.prototype.constructor.call(this),this._$sb=new Int32Array(Oe._$As),this._$U2=new Array,this.transform=null,this.gl=null,Oe._$NT==null&&(Oe._$NT=Oe._$9r(256),Oe._$vS=Oe._$9r(256),Oe._$no=Oe._$vb(256)))}Oe.prototype=new U,Oe._$As=32,Oe._$Gr=!1,Oe._$NT=null,Oe._$vS=null,Oe._$no=null,Oe._$9r=function(w){var k=new Float32Array(w);return k},Oe._$vb=function(w){var k=new Int16Array(w);return k},Oe._$cr=function(w,k){return w==null||w._$yL()<k.length?(w=Oe._$9r(k.length*2),w.put(k),w._$oT(0)):(w.clear(),w.put(k),w._$oT(0)),w},Oe._$mb=function(w,k){return w==null||w._$yL()<k.length?(w=Oe._$vb(k.length*2),w.put(k),w._$oT(0)):(w.clear(),w.put(k),w._$oT(0)),w},Oe._$Hs=function(){return Oe._$Gr},Oe._$as=function(w){Oe._$Gr=w},Oe.prototype.setGL=function(w){this.gl=w},Oe.prototype.setTransform=function(w){this.transform=w},Oe.prototype._$ZT=function(){},Oe.prototype._$Uo=function(w,k,z,fe,le,re,we,Me){if(!(re<.01)){var Se=this._$U2[w],ze=re>.9?ft.EXPAND_W:0;this.gl.drawElements(Se,z,fe,le,re,ze,this.transform,Me)}},Oe.prototype._$Rs=function(){throw new Error("_$Rs")},Oe.prototype._$Ds=function(w){throw new Error("_$Ds")},Oe.prototype._$K2=function(){for(var w=0;w<this._$sb.length;w++){var k=this._$sb[w];k!=0&&(this.gl._$Sr(1,this._$sb,w),this._$sb[w]=0)}},Oe.prototype.setTexture=function(w,k){this._$sb.length<w+1&&this._$nS(w),this._$sb[w]=k},Oe.prototype.setTexture=function(w,k){this._$sb.length<w+1&&this._$nS(w),this._$U2[w]=k},Oe.prototype._$nS=function(w){var k=Math.max(this._$sb.length*2,w+1+10),z=new Int32Array(k);j._$jT(this._$sb,0,z,0,this._$sb.length),this._$sb=z;var fe=new Array;j._$jT(this._$U2,0,fe,0,this._$U2.length),this._$U2=fe};function Ge(){se||(H.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}Ge.prototype=new H,Ge._$Xo=new Float32Array(2),Ge._$io=new Float32Array(2),Ge._$0o=new Float32Array(2),Ge._$Lo=new Float32Array(2),Ge._$To=new Float32Array(2),Ge._$Po=new Float32Array(2),Ge._$gT=new Array,Ge.prototype._$zP=function(){this._$GS=new F,this._$GS._$zP(),this._$Y0=new Array},Ge.prototype.getType=function(){return H._$c2},Ge.prototype._$F0=function(w){H.prototype._$F0.call(this,w),this._$GS=w._$nP(),this._$Y0=w._$nP(),H.prototype.readV2_opacity.call(this,w)},Ge.prototype.init=function(w){var k=new $e(this);return k._$Yr=new T,this._$32()&&(k._$Wr=new T),k},Ge.prototype._$Nr=function(w,k){this!=k._$GT()&&console.log("### assert!! ### ");var z=k;if(this._$GS._$Ur(w)){var fe=Ge._$gT;fe[0]=!1;var le=this._$GS._$Q2(w,fe);k._$Ib(fe[0]),this.interpolateOpacity(w,this._$GS,k,fe);var re=w._$vs(),we=w._$Tr();if(this._$GS._$zr(re,we,le),le<=0){var vr=this._$Y0[re[0]];z._$Yr.init(vr)}else if(le==1){var vr=this._$Y0[re[0]],Me=this._$Y0[re[1]],Se=we[0];z._$Yr._$fL=vr._$fL+(Me._$fL-vr._$fL)*Se,z._$Yr._$gL=vr._$gL+(Me._$gL-vr._$gL)*Se,z._$Yr._$B0=vr._$B0+(Me._$B0-vr._$B0)*Se,z._$Yr._$z0=vr._$z0+(Me._$z0-vr._$z0)*Se,z._$Yr._$qT=vr._$qT+(Me._$qT-vr._$qT)*Se}else if(le==2){var vr=this._$Y0[re[0]],Me=this._$Y0[re[1]],ze=this._$Y0[re[2]],lt=this._$Y0[re[3]],Se=we[0],dt=we[1],pt=vr._$fL+(Me._$fL-vr._$fL)*Se,Ht=ze._$fL+(lt._$fL-ze._$fL)*Se;z._$Yr._$fL=pt+(Ht-pt)*dt,pt=vr._$gL+(Me._$gL-vr._$gL)*Se,Ht=ze._$gL+(lt._$gL-ze._$gL)*Se,z._$Yr._$gL=pt+(Ht-pt)*dt,pt=vr._$B0+(Me._$B0-vr._$B0)*Se,Ht=ze._$B0+(lt._$B0-ze._$B0)*Se,z._$Yr._$B0=pt+(Ht-pt)*dt,pt=vr._$z0+(Me._$z0-vr._$z0)*Se,Ht=ze._$z0+(lt._$z0-ze._$z0)*Se,z._$Yr._$z0=pt+(Ht-pt)*dt,pt=vr._$qT+(Me._$qT-vr._$qT)*Se,Ht=ze._$qT+(lt._$qT-ze._$qT)*Se,z._$Yr._$qT=pt+(Ht-pt)*dt}else if(le==3){var rn=this._$Y0[re[0]],wt=this._$Y0[re[1]],cn=this._$Y0[re[2]],on=this._$Y0[re[3]],Jt=this._$Y0[re[4]],hn=this._$Y0[re[5]],st=this._$Y0[re[6]],At=this._$Y0[re[7]],Se=we[0],dt=we[1],ve=we[2],pt=rn._$fL+(wt._$fL-rn._$fL)*Se,Ht=cn._$fL+(on._$fL-cn._$fL)*Se,en=Jt._$fL+(hn._$fL-Jt._$fL)*Se,Xt=st._$fL+(At._$fL-st._$fL)*Se;z._$Yr._$fL=(1-ve)*(pt+(Ht-pt)*dt)+ve*(en+(Xt-en)*dt),pt=rn._$gL+(wt._$gL-rn._$gL)*Se,Ht=cn._$gL+(on._$gL-cn._$gL)*Se,en=Jt._$gL+(hn._$gL-Jt._$gL)*Se,Xt=st._$gL+(At._$gL-st._$gL)*Se,z._$Yr._$gL=(1-ve)*(pt+(Ht-pt)*dt)+ve*(en+(Xt-en)*dt),pt=rn._$B0+(wt._$B0-rn._$B0)*Se,Ht=cn._$B0+(on._$B0-cn._$B0)*Se,en=Jt._$B0+(hn._$B0-Jt._$B0)*Se,Xt=st._$B0+(At._$B0-st._$B0)*Se,z._$Yr._$B0=(1-ve)*(pt+(Ht-pt)*dt)+ve*(en+(Xt-en)*dt),pt=rn._$z0+(wt._$z0-rn._$z0)*Se,Ht=cn._$z0+(on._$z0-cn._$z0)*Se,en=Jt._$z0+(hn._$z0-Jt._$z0)*Se,Xt=st._$z0+(At._$z0-st._$z0)*Se,z._$Yr._$z0=(1-ve)*(pt+(Ht-pt)*dt)+ve*(en+(Xt-en)*dt),pt=rn._$qT+(wt._$qT-rn._$qT)*Se,Ht=cn._$qT+(on._$qT-cn._$qT)*Se,en=Jt._$qT+(hn._$qT-Jt._$qT)*Se,Xt=st._$qT+(At._$qT-st._$qT)*Se,z._$Yr._$qT=(1-ve)*(pt+(Ht-pt)*dt)+ve*(en+(Xt-en)*dt)}else if(le==4){var hr=this._$Y0[re[0]],Pr=this._$Y0[re[1]],Sn=this._$Y0[re[2]],ni=this._$Y0[re[3]],rr=this._$Y0[re[4]],Qn=this._$Y0[re[5]],ar=this._$Y0[re[6]],pr=this._$Y0[re[7]],cr=this._$Y0[re[8]],Tr=this._$Y0[re[9]],qn=this._$Y0[re[10]],er=this._$Y0[re[11]],bn=this._$Y0[re[12]],Xn=this._$Y0[re[13]],_r=this._$Y0[re[14]],Ci=this._$Y0[re[15]],Se=we[0],dt=we[1],ve=we[2],Hr=we[3],pt=hr._$fL+(Pr._$fL-hr._$fL)*Se,Ht=Sn._$fL+(ni._$fL-Sn._$fL)*Se,en=rr._$fL+(Qn._$fL-rr._$fL)*Se,Xt=ar._$fL+(pr._$fL-ar._$fL)*Se,gr=cr._$fL+(Tr._$fL-cr._$fL)*Se,ri=qn._$fL+(er._$fL-qn._$fL)*Se,Ft=bn._$fL+(Xn._$fL-bn._$fL)*Se,xs=_r._$fL+(Ci._$fL-_r._$fL)*Se;z._$Yr._$fL=(1-Hr)*((1-ve)*(pt+(Ht-pt)*dt)+ve*(en+(Xt-en)*dt))+Hr*((1-ve)*(gr+(ri-gr)*dt)+ve*(Ft+(xs-Ft)*dt)),pt=hr._$gL+(Pr._$gL-hr._$gL)*Se,Ht=Sn._$gL+(ni._$gL-Sn._$gL)*Se,en=rr._$gL+(Qn._$gL-rr._$gL)*Se,Xt=ar._$gL+(pr._$gL-ar._$gL)*Se,gr=cr._$gL+(Tr._$gL-cr._$gL)*Se,ri=qn._$gL+(er._$gL-qn._$gL)*Se,Ft=bn._$gL+(Xn._$gL-bn._$gL)*Se,xs=_r._$gL+(Ci._$gL-_r._$gL)*Se,z._$Yr._$gL=(1-Hr)*((1-ve)*(pt+(Ht-pt)*dt)+ve*(en+(Xt-en)*dt))+Hr*((1-ve)*(gr+(ri-gr)*dt)+ve*(Ft+(xs-Ft)*dt)),pt=hr._$B0+(Pr._$B0-hr._$B0)*Se,Ht=Sn._$B0+(ni._$B0-Sn._$B0)*Se,en=rr._$B0+(Qn._$B0-rr._$B0)*Se,Xt=ar._$B0+(pr._$B0-ar._$B0)*Se,gr=cr._$B0+(Tr._$B0-cr._$B0)*Se,ri=qn._$B0+(er._$B0-qn._$B0)*Se,Ft=bn._$B0+(Xn._$B0-bn._$B0)*Se,xs=_r._$B0+(Ci._$B0-_r._$B0)*Se,z._$Yr._$B0=(1-Hr)*((1-ve)*(pt+(Ht-pt)*dt)+ve*(en+(Xt-en)*dt))+Hr*((1-ve)*(gr+(ri-gr)*dt)+ve*(Ft+(xs-Ft)*dt)),pt=hr._$z0+(Pr._$z0-hr._$z0)*Se,Ht=Sn._$z0+(ni._$z0-Sn._$z0)*Se,en=rr._$z0+(Qn._$z0-rr._$z0)*Se,Xt=ar._$z0+(pr._$z0-ar._$z0)*Se,gr=cr._$z0+(Tr._$z0-cr._$z0)*Se,ri=qn._$z0+(er._$z0-qn._$z0)*Se,Ft=bn._$z0+(Xn._$z0-bn._$z0)*Se,xs=_r._$z0+(Ci._$z0-_r._$z0)*Se,z._$Yr._$z0=(1-Hr)*((1-ve)*(pt+(Ht-pt)*dt)+ve*(en+(Xt-en)*dt))+Hr*((1-ve)*(gr+(ri-gr)*dt)+ve*(Ft+(xs-Ft)*dt)),pt=hr._$qT+(Pr._$qT-hr._$qT)*Se,Ht=Sn._$qT+(ni._$qT-Sn._$qT)*Se,en=rr._$qT+(Qn._$qT-rr._$qT)*Se,Xt=ar._$qT+(pr._$qT-ar._$qT)*Se,gr=cr._$qT+(Tr._$qT-cr._$qT)*Se,ri=qn._$qT+(er._$qT-qn._$qT)*Se,Ft=bn._$qT+(Xn._$qT-bn._$qT)*Se,xs=_r._$qT+(Ci._$qT-_r._$qT)*Se,z._$Yr._$qT=(1-Hr)*((1-ve)*(pt+(Ht-pt)*dt)+ve*(en+(Xt-en)*dt))+Hr*((1-ve)*(gr+(ri-gr)*dt)+ve*(Ft+(xs-Ft)*dt))}else{for(var wi=Math.pow(2,le)|0,Pi=new Float32Array(wi),ki=0;ki<wi;ki++){for(var Ka=ki,fo=1,wa=0;wa<le;wa++)fo*=Ka%2==0?1-we[wa]:we[wa],Ka/=2;Pi[ki]=fo}for(var is=new Array,Yi=0;Yi<wi;Yi++)is[Yi]=this._$Y0[re[Yi]];for(var Uo=0,ho=0,Oa=0,Za=0,Ma=0,Yi=0;Yi<wi;Yi++)Uo+=Pi[Yi]*is[Yi]._$fL,ho+=Pi[Yi]*is[Yi]._$gL,Oa+=Pi[Yi]*is[Yi]._$B0,Za+=Pi[Yi]*is[Yi]._$z0,Ma+=Pi[Yi]*is[Yi]._$qT;z._$Yr._$fL=Uo,z._$Yr._$gL=ho,z._$Yr._$B0=Oa,z._$Yr._$z0=Za,z._$Yr._$qT=Ma}var vr=this._$Y0[re[0]];z._$Yr.reflectX=vr.reflectX,z._$Yr.reflectY=vr.reflectY}},Ge.prototype._$2b=function(w,k){this!=k._$GT()&&console.log("### assert!! ### ");var z=k;if(z._$hS(!0),!this._$32())z.setTotalScale_notForClient(z._$Yr._$B0),z.setTotalOpacity(z.getInterpolatedOpacity());else{var fe=this.getTargetBaseDataID();if(z._$8r==H._$ur&&(z._$8r=w.getBaseDataIndex(fe)),z._$8r<0)ft._$so&&a._$li("_$L _$0P _$G :: %s",fe),z._$hS(!1);else{var le=w.getBaseData(z._$8r);if(le!=null){var re=w._$q2(z._$8r),we=Ge._$Xo;we[0]=z._$Yr._$fL,we[1]=z._$Yr._$gL;var Me=Ge._$io;Me[0]=0,Me[1]=-.1;var Se=re._$GT().getType();Se==H._$c2?Me[1]=-10:Me[1]=-.1;var ze=Ge._$0o;this._$Jr(w,le,re,we,Me,ze);var lt=c._$92(Me,ze);le._$nb(w,re,we,we,1,0,2),z._$Wr._$fL=we[0],z._$Wr._$gL=we[1],z._$Wr._$B0=z._$Yr._$B0,z._$Wr._$z0=z._$Yr._$z0,z._$Wr._$qT=z._$Yr._$qT-lt*c._$NS;var dt=re.getTotalScale();z.setTotalScale_notForClient(dt*z._$Wr._$B0);var pt=re.getTotalOpacity();z.setTotalOpacity(pt*z.getInterpolatedOpacity()),z._$Wr.reflectX=z._$Yr.reflectX,z._$Wr.reflectY=z._$Yr.reflectY,z._$hS(re._$yo())}else z._$hS(!1)}}},Ge.prototype._$nb=function(w,k,z,fe,le,re,we){this!=k._$GT()&&console.log("### assert!! ### ");for(var Me=k,Se=Me._$Wr!=null?Me._$Wr:Me._$Yr,ze=Math.sin(c._$bS*Se._$qT),lt=Math.cos(c._$bS*Se._$qT),dt=Me.getTotalScale(),pt=Se.reflectX?-1:1,Ht=Se.reflectY?-1:1,rn=lt*dt*pt,wt=-ze*dt*Ht,cn=ze*dt*pt,on=lt*dt*Ht,Jt=Se._$fL,hn=Se._$gL,st,At,ve=le*we,en=re;en<ve;en+=we)st=z[en],At=z[en+1],fe[en]=rn*st+wt*At+Jt,fe[en+1]=cn*st+on*At+hn},Ge.prototype._$Jr=function(w,k,z,fe,le,re){k!=z._$GT()&&console.log("### assert!! ### ");var we=Ge._$Lo;Ge._$Lo[0]=fe[0],Ge._$Lo[1]=fe[1],k._$nb(w,z,we,we,1,0,2);for(var Me=Ge._$To,Se=Ge._$Po,ze=10,lt=1,dt=0;dt<ze;dt++){if(Se[0]=fe[0]+lt*le[0],Se[1]=fe[1]+lt*le[1],k._$nb(w,z,Se,Me,1,0,2),Me[0]-=we[0],Me[1]-=we[1],Me[0]!=0||Me[1]!=0){re[0]=Me[0],re[1]=Me[1];return}if(Se[0]=fe[0]-lt*le[0],Se[1]=fe[1]-lt*le[1],k._$nb(w,z,Se,Me,1,0,2),Me[0]-=we[0],Me[1]-=we[1],Me[0]!=0||Me[1]!=0){Me[0]=-Me[0],Me[0]=-Me[0],re[0]=Me[0],re[1]=Me[1];return}lt*=.1}ft._$so&&console.log(`_$L0 to transform _$SP
`)};function $e(w){zt.prototype.constructor.call(this,w),this._$8r=H._$ur,this._$Yr=null,this._$Wr=null}$e.prototype=new zt;function Ie(){se||(N.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}Ie.prototype=new N,Ie._$ur=-2,Ie._$ES=500,Ie._$wb=2,Ie._$8S=3,Ie._$os=4,Ie._$52=Ie._$ES,Ie._$R2=Ie._$ES,Ie._$Sb=function(w){for(var k=w.length-1;k>=0;--k){var z=w[k];z<Ie._$52?Ie._$52=z:z>Ie._$R2&&(Ie._$R2=z)}},Ie._$or=function(){return Ie._$52},Ie._$Pr=function(){return Ie._$R2},Ie.prototype._$F0=function(w){this._$gP=w._$nP(),this._$dr=w._$nP(),this._$GS=w._$nP(),this._$qb=w._$6L(),this._$Lb=w._$cS(),this._$mS=w._$Tb(),w.getFormatVersion()>=ue._$T7?(this.clipID=w._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,Ie._$Sb(this._$Lb)},Ie.prototype.getClipIDList=function(){return this.clipIDList},Ie.prototype._$Nr=function(w,k){if(k._$IS[0]=!1,k._$Us=D._$Z2(w,this._$GS,k._$IS,this._$Lb),!ft._$Zs){if(k._$IS[0])return}k._$7s=D._$br(w,this._$GS,k._$IS,this._$mS)},Ie.prototype._$2b=function(w){},Ie.prototype.getDrawDataID=function(){return this._$gP},Ie.prototype._$j2=function(w){this._$gP=w},Ie.prototype.getOpacity=function(w,k){return k._$7s},Ie.prototype._$zS=function(w,k){return k._$Us},Ie.prototype.getTargetBaseDataID=function(){return this._$dr},Ie.prototype._$gs=function(w){this._$dr=w},Ie.prototype._$32=function(){return this._$dr!=null&&this._$dr!=Nt._$2o()},Ie.prototype.getType=function(){};function Ke(){se||(this._$NL=null,this._$3S=null,this._$aS=null,Ke._$42++)}Ke._$42=0,Ke.prototype._$1b=function(){return this._$3S},Ke.prototype.getDrawDataList=function(){return this._$aS},Ke.prototype._$F0=function(w){this._$NL=w._$nP(),this._$aS=w._$nP(),this._$3S=w._$nP()},Ke.prototype._$kr=function(w){w._$Zo(this._$3S),w._$xo(this._$aS),this._$3S=null,this._$aS=null};function Xe(){se||(t.prototype.constructor.call(this),this._$zo=new Oe)}Xe.prototype=new t,Xe.loadModel=function(w){var k=new Xe;return t._$62(k,w),k},Xe.loadModel=function(w){var k=new Xe;return t._$62(k,w),k},Xe._$to=function(){var w=new Xe;return w},Xe._$er=function(w){var k=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(k.exists()==!1)throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+k._$PL());for(var z=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],fe=Xe.loadModel(k._$3b()),le=0;le<z.length;le++){var re=new _$5(z[le]);if(re.exists()==!1)throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+re._$PL());fe.setTexture(le,_$nL._$_o(w,re._$3b()))}return fe},Xe.prototype.setGL=function(w){this._$zo.setGL(w)},Xe.prototype.setTransform=function(w){this._$zo.setTransform(w)},Xe.prototype.draw=function(){this._$5S.draw(this._$zo)},Xe.prototype._$K2=function(){this._$zo._$K2()},Xe.prototype.setTexture=function(w,k){this._$zo==null&&a._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(w,k)},Xe.prototype.setTexture=function(w,k){this._$zo==null&&a._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(w,k)},Xe.prototype._$Rs=function(){return this._$zo._$Rs()},Xe.prototype._$Ds=function(w){this._$zo._$Ds(w)},Xe.prototype.getDrawParam=function(){return this._$zo};function Ze(){se||(s.prototype.constructor.call(this),this.motions=new Array,this._$o2=null,this._$7r=Ze._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}Ze.prototype=new s,Ze._$cs="VISIBLE:",Ze._$ar="LAYOUT:",Ze.MTN_PREFIX_FADEIN="FADEIN:",Ze.MTN_PREFIX_FADEOUT="FADEOUT:",Ze._$Co=0,Ze._$1T=1,Ze.loadMotion=function(w){var k=Ee._$C(w),z=Ze.loadMotion(k);return z};function bt(w,k){return String.fromCharCode(w.getUint8(k))}Ze.loadMotion=function(w){w instanceof ArrayBuffer&&(w=new DataView(w));var k=new Ze,z=[0],fe=w.byteLength;k._$yT=0;for(var le=0;le<fe;++le){var re=bt(w,le),we=re.charCodeAt(0);if(!(re==`
`||re=="\r")){if(re=="#"){for(;le<fe&&!(bt(w,le)==`
`||bt(w,le)=="\r");++le);continue}if(re=="$"){for(var Me=le,Se=-1;le<fe&&(re=bt(w,le),!(re=="\r"||re==`
`));++le)if(re=="="){Se=le;break}if(Se>=0)for(Se==Me+4&&bt(w,Me+1)=="f"&&bt(w,Me+2)=="p"&&bt(w,Me+3)=="s",le=Se+1;le<fe&&(re=bt(w,le),!(re=="\r"||re==`
`));++le)re==","||re==" "||re=="	"||(W._$LS(w,fe,le,z),le=z[0]);for(;le<fe&&!(bt(w,le)==`
`||bt(w,le)=="\r");++le);continue}if(97<=we&&we<=122||65<=we&&we<=90||re=="_"){for(var Me=le,Se=-1;le<fe&&(re=bt(w,le),!(re=="\r"||re==`
`));++le)if(re=="="){Se=le;break}if(Se>=0){var ze=new ae;W.startsWith(w,Me,Ze._$cs)?(ze._$RP=ae._$hs,ze._$4P=W.createString(w,Me,Se-Me)):W.startsWith(w,Me,Ze._$ar)?(ze._$4P=W.createString(w,Me+7,Se-Me-7),W.startsWith(w,Me+7,"ANCHOR_X")?ze._$RP=ae._$xs:W.startsWith(w,Me+7,"ANCHOR_Y")?ze._$RP=ae._$us:W.startsWith(w,Me+7,"SCALE_X")?ze._$RP=ae._$qs:W.startsWith(w,Me+7,"SCALE_Y")?ze._$RP=ae._$Ys:W.startsWith(w,Me+7,"X")?ze._$RP=ae._$ws:W.startsWith(w,Me+7,"Y")&&(ze._$RP=ae._$Ns)):(ze._$RP=ae._$Fr,ze._$4P=W.createString(w,Me,Se-Me)),k.motions.push(ze);var lt=0,dt=[];for(le=Se+1;le<fe&&(re=bt(w,le),!(re=="\r"||re==`
`));++le)re==","||re==" "||re=="	"||W._$LS(w,fe,le,z);ze._$I0=new Float32Array(dt),lt>k._$yT&&(k._$yT=lt)}}}}return k._$rr=1e3*k._$yT/k._$D0|0,k},Ze.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},Ze.prototype.getLoopDurationMSec=function(){return this._$rr},Ze.prototype.dump=function(){for(var w=0;w<this.motions.length;w++){var k=this.motions[w];console.log("_$wL[%s] [%d]. ",k._$4P,k._$I0.length);for(var z=0;z<k._$I0.length&&z<10;z++)console.log("%5.2f ,",k._$I0[z]);console.log(`
`)}},Ze.prototype.updateParamExe=function(w,k,z,fe){for(var le=k-fe._$z2,re=le*this._$D0/1e3,we=re|0,Me=re-we,Se=0;Se<this.motions.length;Se++){var ze=this.motions[Se],lt=ze._$I0.length,dt=ze._$4P;if(ze._$RP==ae._$hs){var pt=ze._$I0[we>=lt?lt-1:we];w.setParamFloat(dt,pt)}else if(!(ae._$ws<=ze._$RP&&ze._$RP<=ae._$Ys)){var Ht=w.getParamIndex(dt),rn=w.getModelContext(),wt=rn.getParamMax(Ht),cn=rn.getParamMin(Ht),on=.4,Jt=on*(wt-cn),hn=rn.getParamFloat(Ht),st=ze._$I0[we>=lt?lt-1:we],At=ze._$I0[we+1>=lt?lt-1:we+1],ve;st<At&&At-st>Jt||st>At&&st-At>Jt?ve=st:ve=st+(At-st)*Me;var en=hn+(ve-hn)*z;w.setParamFloat(dt,en)}}we>=this._$yT&&(this._$E?(fe._$z2=k,this.loopFadeIn&&(fe._$bs=k)):fe._$9L=!0),this._$eP=z},Ze.prototype._$r0=function(){return this._$E},Ze.prototype._$aL=function(w){this._$E=w},Ze.prototype._$S0=function(){return this._$D0},Ze.prototype._$U0=function(w){this._$D0=w},Ze.prototype.isLoopFadeIn=function(){return this.loopFadeIn},Ze.prototype.setLoopFadeIn=function(w){this.loopFadeIn=w};function ht(){this._$P=new Float32Array(100),this.size=0}ht.prototype.clear=function(){this.size=0},ht.prototype.add=function(w){if(this._$P.length<=this.size){var k=new Float32Array(this.size*2);j._$jT(this._$P,0,k,0,this.size),this._$P=k}this._$P[this.size++]=w},ht.prototype._$BL=function(){var w=new Float32Array(this.size);return j._$jT(this._$P,0,w,0,this.size),w};function ae(){this._$4P=null,this._$I0=null,this._$RP=null}ae._$Fr=0,ae._$hs=1,ae._$ws=100,ae._$Ns=101,ae._$xs=102,ae._$us=103,ae._$qs=104,ae._$Ys=105;function Re(){se||(H.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}Re.prototype=new H,Re._$gT=new Array,Re.prototype._$zP=function(){this._$GS=new F,this._$GS._$zP()},Re.prototype._$F0=function(w){H.prototype._$F0.call(this,w),this._$A=w._$6L(),this._$o=w._$6L(),this._$GS=w._$nP(),this._$Eo=w._$nP(),H.prototype.readV2_opacity.call(this,w)},Re.prototype.init=function(w){var k=new rt(this),z=(this._$o+1)*(this._$A+1);return k._$Cr!=null&&(k._$Cr=null),k._$Cr=new Float32Array(z*2),k._$hr!=null&&(k._$hr=null),this._$32()?k._$hr=new Float32Array(z*2):k._$hr=null,k},Re.prototype._$Nr=function(w,k){var z=k;if(this._$GS._$Ur(w)){var fe=this._$VT(),le=Re._$gT;le[0]=!1,D._$Vr(w,this._$GS,le,fe,this._$Eo,z._$Cr,0,2),k._$Ib(le[0]),this.interpolateOpacity(w,this._$GS,k,le)}},Re.prototype._$2b=function(w,k){var z=k;if(z._$hS(!0),!this._$32())z.setTotalOpacity(z.getInterpolatedOpacity());else{var fe=this.getTargetBaseDataID();if(z._$8r==H._$ur&&(z._$8r=w.getBaseDataIndex(fe)),z._$8r<0)ft._$so&&a._$li("_$L _$0P _$G :: %s",fe),z._$hS(!1);else{var le=w.getBaseData(z._$8r),re=w._$q2(z._$8r);if(le!=null&&re._$yo()){var we=re.getTotalScale();z.setTotalScale_notForClient(we);var Me=re.getTotalOpacity();z.setTotalOpacity(Me*z.getInterpolatedOpacity()),le._$nb(w,re,z._$Cr,z._$hr,this._$VT(),0,2),z._$hS(!0)}else z._$hS(!1)}}},Re.prototype._$nb=function(w,k,z,fe,le,re,we){{var Me=k,Se=Me._$hr!=null?Me._$hr:Me._$Cr;Re.transformPoints_sdk2(z,fe,le,re,we,Se,this._$o,this._$A)}},Re.transformPoints_sdk2=function(w,k,z,fe,le,re,we,Me){for(var Se=z*le,ze,lt,dt,pt=0,Ht=0,rn=0,wt=0,cn=0,on=0,Jt=!1,hn=fe;hn<Se;hn+=le){var st,At,ve,en;if(ve=w[hn],en=w[hn+1],st=ve*we,At=en*Me,st<0||At<0||we<=st||Me<=At){var Xt=we+1;if(!Jt){Jt=!0,pt=.25*(re[(0+0*Xt)*2]+re[(we+0*Xt)*2]+re[(0+Me*Xt)*2]+re[(we+Me*Xt)*2]),Ht=.25*(re[(0+0*Xt)*2+1]+re[(we+0*Xt)*2+1]+re[(0+Me*Xt)*2+1]+re[(we+Me*Xt)*2+1]);var hr=re[(we+Me*Xt)*2]-re[(0+0*Xt)*2],Pr=re[(we+Me*Xt)*2+1]-re[(0+0*Xt)*2+1],Sn=re[(we+0*Xt)*2]-re[(0+Me*Xt)*2],ni=re[(we+0*Xt)*2+1]-re[(0+Me*Xt)*2+1];rn=(hr+Sn)*.5,wt=(Pr+ni)*.5,cn=(hr-Sn)*.5,on=(Pr-ni)*.5,pt-=.5*(rn+cn),Ht-=.5*(wt+on)}if(-2<ve&&ve<3&&-2<en&&en<3)if(ve<=0)if(en<=0){var rr=re[(0+0*Xt)*2],Qn=re[(0+0*Xt)*2+1],ar=pt-2*rn,pr=Ht-2*wt,cr=pt-2*cn,Tr=Ht-2*on,qn=pt-2*rn-2*cn,er=Ht-2*wt-2*on,bn=.5*(ve- -2),Xn=.5*(en- -2);bn+Xn<=1?(k[hn]=qn+(cr-qn)*bn+(ar-qn)*Xn,k[hn+1]=er+(Tr-er)*bn+(pr-er)*Xn):(k[hn]=rr+(ar-rr)*(1-bn)+(cr-rr)*(1-Xn),k[hn+1]=Qn+(pr-Qn)*(1-bn)+(Tr-Qn)*(1-Xn))}else if(en>=1){var cr=re[(0+Me*Xt)*2],Tr=re[(0+Me*Xt)*2+1],qn=pt-2*rn+1*cn,er=Ht-2*wt+1*on,rr=pt+3*cn,Qn=Ht+3*on,ar=pt-2*rn+3*cn,pr=Ht-2*wt+3*on,bn=.5*(ve- -2),Xn=.5*(en-1);bn+Xn<=1?(k[hn]=qn+(cr-qn)*bn+(ar-qn)*Xn,k[hn+1]=er+(Tr-er)*bn+(pr-er)*Xn):(k[hn]=rr+(ar-rr)*(1-bn)+(cr-rr)*(1-Xn),k[hn+1]=Qn+(pr-Qn)*(1-bn)+(Tr-Qn)*(1-Xn))}else{var _r=At|0;_r==Me&&(_r=Me-1);var bn=.5*(ve- -2),Xn=At-_r,Ci=_r/Me,Hr=(_r+1)/Me,cr=re[(0+_r*Xt)*2],Tr=re[(0+_r*Xt)*2+1],rr=re[(0+(_r+1)*Xt)*2],Qn=re[(0+(_r+1)*Xt)*2+1],qn=pt-2*rn+Ci*cn,er=Ht-2*wt+Ci*on,ar=pt-2*rn+Hr*cn,pr=Ht-2*wt+Hr*on;bn+Xn<=1?(k[hn]=qn+(cr-qn)*bn+(ar-qn)*Xn,k[hn+1]=er+(Tr-er)*bn+(pr-er)*Xn):(k[hn]=rr+(ar-rr)*(1-bn)+(cr-rr)*(1-Xn),k[hn+1]=Qn+(pr-Qn)*(1-bn)+(Tr-Qn)*(1-Xn))}else if(1<=ve)if(en<=0){var ar=re[(we+0*Xt)*2],pr=re[(we+0*Xt)*2+1],rr=pt+3*rn,Qn=Ht+3*wt,qn=pt+1*rn-2*cn,er=Ht+1*wt-2*on,cr=pt+3*rn-2*cn,Tr=Ht+3*wt-2*on,bn=.5*(ve-1),Xn=.5*(en- -2);bn+Xn<=1?(k[hn]=qn+(cr-qn)*bn+(ar-qn)*Xn,k[hn+1]=er+(Tr-er)*bn+(pr-er)*Xn):(k[hn]=rr+(ar-rr)*(1-bn)+(cr-rr)*(1-Xn),k[hn+1]=Qn+(pr-Qn)*(1-bn)+(Tr-Qn)*(1-Xn))}else if(en>=1){var qn=re[(we+Me*Xt)*2],er=re[(we+Me*Xt)*2+1],cr=pt+3*rn+1*cn,Tr=Ht+3*wt+1*on,ar=pt+1*rn+3*cn,pr=Ht+1*wt+3*on,rr=pt+3*rn+3*cn,Qn=Ht+3*wt+3*on,bn=.5*(ve-1),Xn=.5*(en-1);bn+Xn<=1?(k[hn]=qn+(cr-qn)*bn+(ar-qn)*Xn,k[hn+1]=er+(Tr-er)*bn+(pr-er)*Xn):(k[hn]=rr+(ar-rr)*(1-bn)+(cr-rr)*(1-Xn),k[hn+1]=Qn+(pr-Qn)*(1-bn)+(Tr-Qn)*(1-Xn))}else{var _r=At|0;_r==Me&&(_r=Me-1);var bn=.5*(ve-1),Xn=At-_r,Ci=_r/Me,Hr=(_r+1)/Me,qn=re[(we+_r*Xt)*2],er=re[(we+_r*Xt)*2+1],ar=re[(we+(_r+1)*Xt)*2],pr=re[(we+(_r+1)*Xt)*2+1],cr=pt+3*rn+Ci*cn,Tr=Ht+3*wt+Ci*on,rr=pt+3*rn+Hr*cn,Qn=Ht+3*wt+Hr*on;bn+Xn<=1?(k[hn]=qn+(cr-qn)*bn+(ar-qn)*Xn,k[hn+1]=er+(Tr-er)*bn+(pr-er)*Xn):(k[hn]=rr+(ar-rr)*(1-bn)+(cr-rr)*(1-Xn),k[hn+1]=Qn+(pr-Qn)*(1-bn)+(Tr-Qn)*(1-Xn))}else if(en<=0){var gr=st|0;gr==we&&(gr=we-1);var bn=st-gr,Xn=.5*(en- -2),ri=gr/we,Ft=(gr+1)/we,ar=re[(gr+0*Xt)*2],pr=re[(gr+0*Xt)*2+1],rr=re[(gr+1+0*Xt)*2],Qn=re[(gr+1+0*Xt)*2+1],qn=pt+ri*rn-2*cn,er=Ht+ri*wt-2*on,cr=pt+Ft*rn-2*cn,Tr=Ht+Ft*wt-2*on;bn+Xn<=1?(k[hn]=qn+(cr-qn)*bn+(ar-qn)*Xn,k[hn+1]=er+(Tr-er)*bn+(pr-er)*Xn):(k[hn]=rr+(ar-rr)*(1-bn)+(cr-rr)*(1-Xn),k[hn+1]=Qn+(pr-Qn)*(1-bn)+(Tr-Qn)*(1-Xn))}else if(en>=1){var gr=st|0;gr==we&&(gr=we-1);var bn=st-gr,Xn=.5*(en-1),ri=gr/we,Ft=(gr+1)/we,qn=re[(gr+Me*Xt)*2],er=re[(gr+Me*Xt)*2+1],cr=re[(gr+1+Me*Xt)*2],Tr=re[(gr+1+Me*Xt)*2+1],ar=pt+ri*rn+3*cn,pr=Ht+ri*wt+3*on,rr=pt+Ft*rn+3*cn,Qn=Ht+Ft*wt+3*on;bn+Xn<=1?(k[hn]=qn+(cr-qn)*bn+(ar-qn)*Xn,k[hn+1]=er+(Tr-er)*bn+(pr-er)*Xn):(k[hn]=rr+(ar-rr)*(1-bn)+(cr-rr)*(1-Xn),k[hn+1]=Qn+(pr-Qn)*(1-bn)+(Tr-Qn)*(1-Xn))}else System.err.printf(`_$li calc : %.4f , %.4f					@@BDBoxGrid
`,ve,en);else k[hn]=pt+ve*rn+en*cn,k[hn+1]=Ht+ve*wt+en*on}else lt=st-(st|0),dt=At-(At|0),ze=2*((st|0)+(At|0)*(we+1)),lt+dt<1?(k[hn]=re[ze]*(1-lt-dt)+re[ze+2]*lt+re[ze+2*(we+1)]*dt,k[hn+1]=re[ze+1]*(1-lt-dt)+re[ze+3]*lt+re[ze+2*(we+1)+1]*dt):(k[hn]=re[ze+2*(we+1)+2]*(lt-1+dt)+re[ze+2*(we+1)]*(1-lt)+re[ze+2]*(1-dt),k[hn+1]=re[ze+2*(we+1)+3]*(lt-1+dt)+re[ze+2*(we+1)+1]*(1-lt)+re[ze+3]*(1-dt))}},Re.prototype.transformPoints_sdk1=function(w,k,z,fe,le,re,we){for(var Me=k,Se,ze,lt=this._$o,dt=this._$A,pt=le*we,Ht,rn,wt,cn,on,Jt=Me._$hr!=null?Me._$hr:Me._$Cr,hn=re;hn<pt;hn+=we)ft._$ts?(Se=z[hn],ze=z[hn+1],Se<0?Se=0:Se>1&&(Se=1),ze<0?ze=0:ze>1&&(ze=1),Se*=lt,ze*=dt,Ht=Se|0,rn=ze|0,Ht>lt-1&&(Ht=lt-1),rn>dt-1&&(rn=dt-1),cn=Se-Ht,on=ze-rn,wt=2*(Ht+rn*(lt+1))):(Se=z[hn]*lt,ze=z[hn+1]*dt,cn=Se-(Se|0),on=ze-(ze|0),wt=2*((Se|0)+(ze|0)*(lt+1))),cn+on<1?(fe[hn]=Jt[wt]*(1-cn-on)+Jt[wt+2]*cn+Jt[wt+2*(lt+1)]*on,fe[hn+1]=Jt[wt+1]*(1-cn-on)+Jt[wt+3]*cn+Jt[wt+2*(lt+1)+1]*on):(fe[hn]=Jt[wt+2*(lt+1)+2]*(cn-1+on)+Jt[wt+2*(lt+1)]*(1-cn)+Jt[wt+2]*(1-on),fe[hn+1]=Jt[wt+2*(lt+1)+3]*(cn-1+on)+Jt[wt+2*(lt+1)+1]*(1-cn)+Jt[wt+3]*(1-on))},Re.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},Re.prototype.getType=function(){return H._$_b};function rt(w){zt.prototype.constructor.call(this,w),this._$8r=H._$ur,this._$Cr=null,this._$hr=null}rt.prototype=new zt;function Ye(){se||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,Ye._$42++)}Ye._$42=0,Ye.prototype._$zP=function(){this._$3S=new Array,this._$aS=new Array},Ye.prototype._$F0=function(w){this._$g0=w._$8L(),this.visible=w._$8L(),this._$NL=w._$nP(),this._$3S=w._$nP(),this._$aS=w._$nP()},Ye.prototype.init=function(w){var k=new it(this);return k.setPartsOpacity(this.isVisible()?1:0),k},Ye.prototype._$6o=function(w){if(this._$3S==null)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(w)},Ye.prototype._$3o=function(w){if(this._$aS==null)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(w)},Ye.prototype._$Zo=function(w){this._$3S=w},Ye.prototype._$xo=function(w){this._$aS=w},Ye.prototype.isVisible=function(){return this.visible},Ye.prototype._$uL=function(){return this._$g0},Ye.prototype._$KP=function(w){this.visible=w},Ye.prototype._$ET=function(w){this._$g0=w},Ye.prototype.getBaseData=function(){return this._$3S},Ye.prototype.getDrawData=function(){return this._$aS},Ye.prototype._$p2=function(){return this._$NL},Ye.prototype._$ob=function(w){this._$NL=w},Ye.prototype.getPartsID=function(){return this._$NL},Ye.prototype._$MP=function(w){this._$NL=w};function it(w){this._$VS=null,this._$e0=null,this._$e0=w}it.prototype=new d,it.prototype.getPartsOpacity=function(){return this._$VS},it.prototype.setPartsOpacity=function(w){this._$VS=w};function St(w){se||(this.id=w)}St._$L7=function(){f._$27(),Nt._$27(),G._$27(),u._$27()},St.prototype.toString=function(){return this.id};function Lt(){se||(this._$4S=null)}Lt.prototype._$1s=function(){return this._$4S},Lt.prototype._$zP=function(){this._$4S=new Array},Lt.prototype._$F0=function(w){this._$4S=w._$nP()},Lt.prototype._$Ks=function(w){this._$4S.push(w)};function xt(w,k){this.canvas=w,this.context=k,this.viewport=new Array(0,0,w.width,w.height),this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}xt.tr=new vt,xt._$50=new vt,xt._$Ti=new Array(0,0),xt._$Pi=new Array(0,0),xt._$B=new Array(0,0),xt.prototype._$lP=function(w,k,z,fe){this.viewport=new Array(w,k,z,fe)},xt.prototype._$bL=function(){this.context.save();var w=this.viewport;w!=null&&(this.context.beginPath(),this.context._$Li(w[0],w[1],w[2],w[3]),this.context.clip())},xt.prototype._$ei=function(){this.context.restore()},xt.prototype.drawElements=function(w,k,z,fe,le,re,we,Me){try{le!=this._$Qo&&(this._$Qo=le,this.context.globalAlpha=le);for(var Se=k.length,ze=w.width,lt=w.height,dt=this.context,pt=this._$xP,Ht=this._$uP,rn=this._$6r,wt=this._$3r,cn=xt.tr,on=xt._$Ti,Jt=xt._$Pi,hn=xt._$B,st=0;st<Se;st+=3){dt.save();var At=k[st],ve=k[st+1],en=k[st+2],Xt=pt+rn*z[At*2],hr=Ht+wt*z[At*2+1],Pr=pt+rn*z[ve*2],Sn=Ht+wt*z[ve*2+1],ni=pt+rn*z[en*2],rr=Ht+wt*z[en*2+1];we&&(we._$PS(Xt,hr,hn),Xt=hn[0],hr=hn[1],we._$PS(Pr,Sn,hn),Pr=hn[0],Sn=hn[1],we._$PS(ni,rr,hn),ni=hn[0],rr=hn[1]);var Qn=ze*fe[At*2],ar=lt-lt*fe[At*2+1],pr=ze*fe[ve*2],cr=lt-lt*fe[ve*2+1],Tr=ze*fe[en*2],qn=lt-lt*fe[en*2+1],er=Math.atan2(cr-ar,pr-Qn),bn=Math.atan2(Sn-hr,Pr-Xt),Xn=Pr-Xt,_r=Sn-hr,Ci=Math.sqrt(Xn*Xn+_r*_r),Hr=pr-Qn,gr=cr-ar,ri=Math.sqrt(Hr*Hr+gr*gr),Ft=Ci/ri;A._$ni(Tr,qn,Qn,ar,pr-Qn,cr-ar,-(cr-ar),pr-Qn,on),A._$ni(ni,rr,Xt,hr,Pr-Xt,Sn-hr,-(Sn-hr),Pr-Xt,Jt);var xs=(Jt[0]-on[0])/on[1],wi=Math.min(Qn,pr,Tr),Pi=Math.max(Qn,pr,Tr),ki=Math.min(ar,cr,qn),Ka=Math.max(ar,cr,qn),fo=Math.floor(wi),wa=Math.floor(ki),is=Math.ceil(Pi),Yi=Math.ceil(Ka);cn.identity(),cn.translate(Xt,hr),cn.rotate(bn),cn.scale(1,Jt[1]/on[1]),cn.shear(xs,0),cn.scale(Ft,Ft),cn.rotate(-er),cn.translate(-Qn,-ar),cn.setContext(dt);var Uo=!0,ho=1.2;if(re||(re=Uo?ho:0),ft.IGNORE_EXPAND&&(re=0),ft.USE_CACHED_POLYGON_IMAGE){var Oa=Me._$e0;if(Oa.gl_cacheImage=Oa.gl_cacheImage||{},!Oa.gl_cacheImage[st]){var Za=xt.createCanvas(is-fo,Yi-wa);ft.DEBUG_DATA.LDGL_CANVAS_MB=ft.DEBUG_DATA.LDGL_CANVAS_MB||0,ft.DEBUG_DATA.LDGL_CANVAS_MB+=(is-fo)*(Yi-wa)*4;var Ma=Za.getContext("2d");Ma.translate(-fo,-wa),xt.clip(Ma,cn,re,Ci,Qn,ar,pr,cr,Tr,qn,Xt,hr,Pr,Sn,ni,rr),Ma.drawImage(w,0,0),Oa.gl_cacheImage[st]={cacheCanvas:Za,cacheContext:Ma}}dt.drawImage(Oa.gl_cacheImage[st].cacheCanvas,fo,wa)}else ft.IGNORE_CLIP||xt.clip(dt,cn,re,Ci,Qn,ar,pr,cr,Tr,qn,Xt,hr,Pr,Sn,ni,rr),ft.USE_ADJUST_TRANSLATION&&(wi=0,Pi=ze,ki=0,Ka=lt),dt.drawImage(w,wi,ki,Pi-wi,Ka-ki,wi,ki,Pi-wi,Ka-ki);dt.restore()}}catch(vr){a._$Rb(vr)}},xt.clip=function(w,k,z,fe,le,re,we,Me,Se,ze,lt,dt,pt,Ht,rn,wt){z>.02?xt.expandClip(w,k,z,fe,lt,dt,pt,Ht,rn,wt):xt.clipWithTransform(w,null,le,re,we,Me,Se,ze)},xt.expandClip=function(w,k,z,fe,le,re,we,Me,Se,ze){var lt=we-le,dt=Me-re,pt=Se-le,Ht=ze-re,rn=lt*Ht-dt*pt>0?z:-z,wt=-dt,cn=lt,on=Se-we,Jt=ze-Me,hn=-Jt,st=on,At=Math.sqrt(on*on+Jt*Jt),ve=-Ht,en=pt,Xt=Math.sqrt(pt*pt+Ht*Ht),hr=le-rn*wt/fe,Pr=re-rn*cn/fe,Sn=we-rn*wt/fe,ni=Me-rn*cn/fe,rr=we-rn*hn/At,Qn=Me-rn*st/At,ar=Se-rn*hn/At,pr=ze-rn*st/At,cr=le+rn*ve/Xt,Tr=re+rn*en/Xt,qn=Se+rn*ve/Xt,er=ze+rn*en/Xt,bn=xt._$50,Xn=k._$P2(bn);return Xn==null?!1:(xt.clipWithTransform(w,bn,hr,Pr,Sn,ni,rr,Qn,ar,pr,qn,er,cr,Tr),!0)},xt.clipWithTransform=function(w,k,z,fe,le,re,we,Me){if(arguments.length<1+3*2){a._$li("err : @LDGL.clip()");return}if(!(arguments[1]instanceof vt)){a._$li("err : a[0] is _$6 LDTransform @LDGL.clip()");return}var Se=xt._$B,ze=k,lt=arguments;if(w.beginPath(),ze){ze._$PS(lt[2],lt[3],Se),w.moveTo(Se[0],Se[1]);for(var dt=4;dt<lt.length;dt+=2)ze._$PS(lt[dt],lt[dt+1],Se),w.lineTo(Se[0],Se[1])}else{w.moveTo(lt[2],lt[3]);for(var dt=4;dt<lt.length;dt+=2)w.lineTo(lt[dt],lt[dt+1])}w.clip()},xt.createCanvas=function(w,k){var z=document.createElement("canvas");return z.setAttribute("width",w),z.setAttribute("height",k),z||a._$li("err : "+z),z},xt.dumpValues=function(){for(var w="",k=0;k<arguments.length;k++)w+="["+k+"]= "+arguments[k].toFixed(3)+" , ";console.log(w)};function sn(){se||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}sn.prototype._$F0=function(w){this._$TT=w._$_T(),this._$LT=w._$_T(),this._$FS=w._$_T(),this._$wL=w._$nP()},sn.prototype.getMinValue=function(){return this._$TT},sn.prototype.getMaxValue=function(){return this._$LT},sn.prototype.getDefaultValue=function(){return this._$FS},sn.prototype.getParamID=function(){return this._$wL};function zt(w){se||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=w,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}zt.prototype._$yo=function(){return this._$AT&&!this._$JS},zt.prototype._$hS=function(w){this._$AT=w},zt.prototype._$GT=function(){return this._$e0},zt.prototype._$l2=function(w){this._$IP=w},zt.prototype.getPartsIndex=function(){return this._$IP},zt.prototype._$x2=function(){return this._$JS},zt.prototype._$Ib=function(w){this._$JS=w},zt.prototype.getTotalScale=function(){return this.totalScale},zt.prototype.setTotalScale_notForClient=function(w){this.totalScale=w},zt.prototype.getInterpolatedOpacity=function(){return this._$7s},zt.prototype.setInterpolatedOpacity=function(w){this._$7s=w},zt.prototype.getTotalOpacity=function(w){return this.totalOpacity},zt.prototype.setTotalOpacity=function(w){this.totalOpacity=w};function ft(){}ft._$2s="2.1.00_1",ft._$Kr=201001e3,ft._$sP=!0,ft._$so=!0,ft._$cb=!1,ft._$3T=!0,ft._$Ts=!0,ft._$fb=!0,ft._$ts=!0,ft.L2D_DEFORMER_EXTEND=!0,ft._$Wb=!1,ft._$yr=!1,ft._$Zs=!1,ft.L2D_NO_ERROR=0,ft._$i7=1e3,ft._$9s=1001,ft._$es=1100,ft._$r7=2e3,ft._$07=2001,ft._$b7=2002,ft._$H7=4e3,ft.L2D_COLOR_BLEND_MODE_MULT=0,ft.L2D_COLOR_BLEND_MODE_ADD=1,ft.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,ft._$6b=!0,ft._$cT=0,ft.clippingMaskBufferSize=256,ft.glContext=new Array,ft.frameBuffers=new Array,ft.fTexture=new Array,ft.IGNORE_CLIP=!1,ft.IGNORE_EXPAND=!1,ft.EXPAND_W=2,ft.USE_ADJUST_TRANSLATION=!0,ft.USE_CANVAS_TRANSFORM=!0,ft.USE_CACHED_POLYGON_IMAGE=!1,ft.DEBUG_DATA={},ft.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},ft.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},ft.PROFILE_IOS_DEFAULT=ft.PROFILE_IOS_QUALITY,ft.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},ft.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},ft.initProfile=function(){at.isIOS()?ft.setupProfile(ft.PROFILE_IOS_DEFAULT):at.isAndroid()?ft.setupProfile(ft.PROFILE_ANDROID):ft.setupProfile(ft.PROFILE_DESKTOP)},ft.setupProfile=function(w,k){if(typeof w=="number")switch(w){case 9901:w=ft.PROFILE_IOS_SPEED;break;case 9902:w=ft.PROFILE_IOS_QUALITY;break;case 9903:w=ft.PROFILE_IOS_DEFAULT;break;case 9904:w=ft.PROFILE_ANDROID;break;case 9905:w=ft.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+w);break}arguments.length<2&&(k=!0),k&&console.log("profile : "+w.PROFILE_NAME);for(var z in w)ft[z]=w[z],k&&console.log("  ["+z+"] = "+w[z])},ft.init=function(){ft._$6b&&(console.log("Live2D %s",ft._$2s),ft._$6b=!1,ft.initProfile())},ft.getVersionStr=function(){return ft._$2s},ft.getVersionNo=function(){return ft._$Kr},ft._$sT=function(w){ft._$cT=w},ft.getError=function(){var w=ft._$cT;return ft._$cT=0,w},ft.dispose=function(){ft.glContext=[],ft.frameBuffers=[],ft.fTexture=[]},ft.setGL=function(w,k){var z=k||0;ft.glContext[z]=w},ft.getGL=function(w){return ft.glContext[w]},ft.setClippingMaskBufferSize=function(w){ft.clippingMaskBufferSize=w},ft.getClippingMaskBufferSize=function(){return ft.clippingMaskBufferSize},ft.deleteBuffer=function(w){var k=ft.getGL(w);k.deleteFramebuffer(ft.frameBuffers[w].framebuffer),delete ft.frameBuffers[w],delete ft.glContext[w]};function tn(){}tn._$r2=function(w){return w<0?0:w>1?1:.5-.5*Math.cos(w*c.PI_F)};function _n(w){se||(this._$ib=w)}_n._$fr=-1,_n.prototype.toString=function(){return this._$ib};function qt(){se||(Ie.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=qt._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=qt._$42++)}qt.prototype=new Ie,qt._$42=0,qt._$Os=30,qt._$ms=0,qt._$ns=1,qt._$_s=2,qt._$gT=new Array,qt.prototype._$_S=function(w){this._$LP=w},qt.prototype.getTextureNo=function(){return this._$LP},qt.prototype._$ZL=function(){return this._$Qi},qt.prototype._$H2=function(){return this._$JP},qt.prototype.getNumPoints=function(){return this._$d0},qt.prototype.getType=function(){return Ie._$wb},qt.prototype._$B2=function(w,k,z){var fe=k,le=fe._$hr!=null?fe._$hr:fe._$Cr,re=de._$do;switch(re){default:case de._$Ms:throw new Error("_$L _$ro ");case de._$Qs:for(var we=this._$d0-1;we>=0;--we){var Me=we*de._$No;le[Me+4]=z}break}},qt.prototype._$zP=function(){this._$GS=new F,this._$GS._$zP()},qt.prototype._$F0=function(w){Ie.prototype._$F0.call(this,w),this._$LP=w._$6L(),this._$d0=w._$6L(),this._$Yo=w._$6L();var k=w._$nP();this._$BP=new Int16Array(this._$Yo*3);for(var z=this._$Yo*3-1;z>=0;--z)this._$BP[z]=k[z];if(this._$Eo=w._$nP(),this._$Qi=w._$nP(),w.getFormatVersion()>=ue._$s7){if(this._$JP=w._$6L(),this._$JP!=0){if(this._$JP&1){var fe=w._$6L();this._$5P==null&&(this._$5P=new Object),this._$5P._$Hb=parseInt(fe)}this._$JP&qt._$Os?this._$6s=(this._$JP&qt._$Os)>>1:this._$6s=qt._$ms,this._$JP&32&&(this.culling=!1)}}else this._$JP=0},qt.prototype.init=function(w){var k=new Pt(this),z=this._$d0*de._$No,fe=this._$32();k._$Cr!=null&&(k._$Cr=null),k._$Cr=new Float32Array(z),k._$hr!=null&&(k._$hr=null),k._$hr=fe?new Float32Array(z):null;var le=de._$do;switch(le){default:case de._$Ms:if(de._$Ls)for(var re=this._$d0-1;re>=0;--re){var we=re<<1;this._$Qi[we+1]=1-this._$Qi[we+1]}break;case de._$Qs:for(var re=this._$d0-1;re>=0;--re){var we=re<<1,Me=re*de._$No,Se=this._$Qi[we],ze=this._$Qi[we+1];k._$Cr[Me]=Se,k._$Cr[Me+1]=ze,k._$Cr[Me+4]=0,fe&&(k._$hr[Me]=Se,k._$hr[Me+1]=ze,k._$hr[Me+4]=0)}break}return k},qt.prototype._$Nr=function(w,k){var z=k;if(this!=z._$GT()&&console.log("### assert!! ### "),!!this._$GS._$Ur(w)&&(Ie.prototype._$Nr.call(this,w,z),!z._$IS[0])){var fe=qt._$gT;fe[0]=!1,D._$Vr(w,this._$GS,fe,this._$d0,this._$Eo,z._$Cr,de._$i2,de._$No)}},qt.prototype._$2b=function(w,k){try{this!=k._$GT()&&console.log("### assert!! ### ");var z=!1;k._$IS[0]&&(z=!0);var fe=k;if(!z&&(Ie.prototype._$2b.call(this,w),this._$32())){var le=this.getTargetBaseDataID();if(fe._$8r==Ie._$ur&&(fe._$8r=w.getBaseDataIndex(le)),fe._$8r<0)ft._$so&&a._$li("_$L _$0P _$G :: %s",le);else{var re=w.getBaseData(fe._$8r),we=w._$q2(fe._$8r);re!=null&&!we._$x2()?(re._$nb(w,we,fe._$Cr,fe._$hr,this._$d0,de._$i2,de._$No),fe._$AT=!0):fe._$AT=!1,fe.baseOpacity=we.getTotalOpacity()}}}catch(Me){throw Me}},qt.prototype.draw=function(w,k,z){if(this!=z._$GT()&&console.log("### assert!! ### "),!z._$IS[0]){var fe=z,le=this._$LP;le<0&&(le=1);var re=this.getOpacity(k,fe)*z._$VS*z.baseOpacity,we=fe._$hr!=null?fe._$hr:fe._$Cr;w.setClipBufPre_clipContextForDraw(z.clipBufPre_clipContext),w._$WP(this.culling),w._$Uo(le,3*this._$Yo,this._$BP,we,this._$Qi,re,this._$6s,fe)}},qt.prototype.dump=function(){console.log(`  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) 
`,this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { ");for(var w=0;w<this._$BP.length;w++)console.log("%5d ,",this._$BP[w]);console.log(`
  _$5i _$30`);for(var w=0;w<this._$Eo.length;w++){console.log(`
    _$30[%d] = `,w);for(var k=this._$Eo[w],z=0;z<k.length;z++)console.log("%6.2f, ",k[z])}console.log(`
`)},qt.prototype._$72=function(w){return this._$5P==null?null:this._$5P[w]},qt.prototype.getIndexArray=function(){return this._$BP};function Pt(w){xn.prototype.constructor.call(this,w),this._$8r=Ie._$ur,this._$Cr=null,this._$hr=null}Pt.prototype=new xn,Pt.prototype.getTransformedPoints=function(){return this._$hr!=null?this._$hr:this._$Cr};function Ct(){se||(this.x=null,this.y=null)}Ct.prototype._$HT=function(w){this.x=w.x,this.y=w.y},Ct.prototype._$HT=function(w,k){this.x=w,this.y=k};function Kt(w){se||(t.prototype.constructor.call(this),this.drawParamWebGL=new Ne(w),this.drawParamWebGL.setGL(ft.getGL(w)))}Kt.prototype=new t,Kt.loadModel=function(w){var k=new Kt;return t._$62(k,w),k},Kt.loadModel=function(w,k){var z=k||0,fe=new Kt(z);return t._$62(fe,w),fe},Kt._$to=function(){var w=new Kt;return w},Kt._$er=function(w){var k=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(k.exists()==!1)throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+k._$PL());for(var z=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],fe=Kt.loadModel(k._$3b()),le=0;le<z.length;le++){var re=new _$5(z[le]);if(re.exists()==!1)throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+re._$PL());fe.setTexture(le,_$nL._$_o(w,re._$3b()))}return fe},Kt.prototype.setGL=function(w){ft.setGL(w)},Kt.prototype.setTransform=function(w){this.drawParamWebGL.setTransform(w)},Kt.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},Kt.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},Kt.prototype._$K2=function(){this.drawParamWebGL._$K2()},Kt.prototype.setTexture=function(w,k){this.drawParamWebGL==null&&a._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(w,k)},Kt.prototype.setTexture=function(w,k){this.drawParamWebGL==null&&a._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(w,k)},Kt.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},Kt.prototype._$Ds=function(w){this.drawParamWebGL._$Ds(w)},Kt.prototype.getDrawParam=function(){return this.drawParamWebGL},Kt.prototype.setMatrix=function(w){this.drawParamWebGL.setMatrix(w)},Kt.prototype.setPremultipliedAlpha=function(w){this.drawParamWebGL.setPremultipliedAlpha(w)},Kt.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},Kt.prototype.setAnisotropy=function(w){this.drawParamWebGL.setAnisotropy(w)},Kt.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()};function $t(){se||(this.motions=null,this._$eb=!1,this.motions=new Array)}$t.prototype._$tb=function(){return this.motions},$t.prototype.startMotion=function(w,k){for(var z=null,fe=this.motions.length,le=0;le<fe;++le)z=this.motions[le],z!=null&&(z._$qS(z._$w0.getFadeOut()),this._$eb&&a._$Ji(`MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)
`,fe,z._$sr));if(w==null)return-1;z=new Te,z._$w0=w,this.motions.push(z);var re=z._$sr;return this._$eb&&a._$Ji(`MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)
`,fe,re),re},$t.prototype.updateParam=function(w){try{for(var k=!1,z=0;z<this.motions.length;z++){var fe=this.motions[z];if(fe==null){this.motions.splice(z,1),z--;continue}var le=fe._$w0;if(le==null){this.motions=this.motions.splice(z,1),z--;continue}le.updateParam(w,fe),k=!0,fe.isFinished()&&(this._$eb&&a._$Ji(`MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)
`,this.motions.length-1,fe._$sr),this.motions.splice(z,1),z--)}return k}catch(re){return a._$li(re),!0}},$t.prototype.isFinished=function(w){if(arguments.length>=1){for(var k=0;k<this.motions.length;k++){var z=this.motions[k];if(z!=null&&z._$sr==w&&!z.isFinished())return!1}return!0}else{for(var k=0;k<this.motions.length;k++){var z=this.motions[k];if(z==null){this.motions.splice(k,1),k--;continue}var fe=z._$w0;if(fe==null){this.motions.splice(k,1),k--;continue}if(!z.isFinished())return!1}return!0}},$t.prototype.stopAllMotions=function(){for(var w=0;w<this.motions.length;w++){var k=this.motions[w];if(k==null){this.motions.splice(w,1),w--;continue}var z=k._$w0;if(z==null){this.motions.splice(w,1),w--;continue}this.motions.splice(w,1),w--}},$t.prototype._$Zr=function(w){this._$eb=w},$t.prototype._$e=function(){console.log(`-- _$R --
`);for(var w=0;w<this.motions.length;w++){var k=this.motions[w],z=k._$w0;console.log(`MotionQueueEnt[%d] :: %s
`,this.motions.length,z.toString())}};function Te(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=Te._$Gs++}Te._$Gs=0,Te.prototype.isFinished=function(){return this._$9L},Te.prototype._$qS=function(w){var k=j.getUserTimeMSec(),z=k+w;(this._$Do<0||z<this._$Do)&&(this._$Do=z)},Te.prototype._$Bs=function(){return this._$sr};function vt(){this.m=new Array(1,0,0,0,1,0,0,0,1)}vt.prototype.setContext=function(w){var k=this.m;w.transform(k[0],k[1],k[3],k[4],k[6],k[7])},vt.prototype.toString=function(){for(var w="LDTransform { ",k=0;k<9;k++)w+=this.m[k].toFixed(2)+" ,";return w+=" }",w},vt.prototype.identity=function(){var w=this.m;w[0]=w[4]=w[8]=1,w[1]=w[2]=w[3]=w[5]=w[6]=w[7]=0},vt.prototype._$PS=function(w,k,z){z==null&&(z=new Array(0,0));var fe=this.m;return z[0]=fe[0]*w+fe[3]*k+fe[6],z[1]=fe[1]*w+fe[4]*k+fe[7],z},vt.prototype._$P2=function(w){w||(w=new vt);var k=this.m,z=k[0],fe=k[1],le=k[2],re=k[3],we=k[4],Me=k[5],Se=k[6],ze=k[7],lt=k[8],dt=z*we*lt+fe*Me*Se+le*re*ze-z*Me*ze-le*we*Se-fe*re*lt;if(dt==0)return null;var pt=1/dt;return w.m[0]=pt*(we*lt-ze*Me),w.m[1]=pt*(ze*le-fe*lt),w.m[2]=pt*(fe*Me-we*le),w.m[3]=pt*(Se*Me-re*lt),w.m[4]=pt*(z*lt-Se*le),w.m[5]=pt*(re*le-z*Me),w.m[6]=pt*(re*ze-Se*we),w.m[7]=pt*(Se*fe-z*ze),w.m[8]=pt*(z*we-re*fe),w},vt.prototype.transform=function(w,k,z){z==null&&(z=new Array(0,0));var fe=this.m;return z[0]=fe[0]*w+fe[3]*k+fe[6],z[1]=fe[1]*w+fe[4]*k+fe[7],z},vt.prototype.translate=function(w,k){var z=this.m;z[6]=z[0]*w+z[3]*k+z[6],z[7]=z[1]*w+z[4]*k+z[7],z[8]=z[2]*w+z[5]*k+z[8]},vt.prototype.scale=function(w,k){var z=this.m;z[0]*=w,z[1]*=w,z[2]*=w,z[3]*=k,z[4]*=k,z[5]*=k},vt.prototype.shear=function(w,k){var z=this.m,fe=z[0]+z[3]*k,le=z[1]+z[4]*k,re=z[2]+z[5]*k;z[3]=z[0]*w+z[3],z[4]=z[1]*w+z[4],z[5]=z[2]*w+z[5],z[0]=fe,z[1]=le,z[2]=re},vt.prototype.rotate=function(w){var k=this.m,z=Math.cos(w),fe=Math.sin(w),le=k[0]*z+k[3]*fe,re=k[1]*z+k[4]*fe,we=k[2]*z+k[5]*fe;k[3]=-k[0]*fe+k[3]*z,k[4]=-k[1]*fe+k[4]*z,k[5]=-k[2]*fe+k[5]*z,k[0]=le,k[1]=re,k[2]=we},vt.prototype.concatenate=function(w){var k=this.m,z=w.m,fe=k[0]*z[0]+k[3]*z[1]+k[6]*z[2],le=k[1]*z[0]+k[4]*z[1]+k[7]*z[2],re=k[2]*z[0]+k[5]*z[1]+k[8]*z[2],we=k[0]*z[3]+k[3]*z[4]+k[6]*z[5],Me=k[1]*z[3]+k[4]*z[4]+k[7]*z[5],Se=k[2]*z[3]+k[5]*z[4]+k[8]*z[5],ze=k[0]*z[6]+k[3]*z[7]+k[6]*z[8],lt=k[1]*z[6]+k[4]*z[7]+k[7]*z[8],dt=k[2]*z[6]+k[5]*z[7]+k[8]*z[8];m[0]=fe,m[1]=le,m[2]=re,m[3]=we,m[4]=Me,m[5]=Se,m[6]=ze,m[7]=lt,m[8]=dt};function Nt(w){se||St.prototype.constructor.call(this,w)}Nt.prototype=new St,Nt._$eT=null,Nt._$tP=new Object,Nt._$2o=function(){return Nt._$eT==null&&(Nt._$eT=Nt.getID("DST_BASE")),Nt._$eT},Nt._$27=function(){Nt._$tP.clear(),Nt._$eT=null},Nt.getID=function(w){var k=Nt._$tP[w];return k==null&&(k=new Nt(w),Nt._$tP[w]=k),k},Nt.prototype._$3s=function(){return new Nt};function Ne(w){se||(U.prototype.constructor.call(this),this.textures=new Array,this.transform=null,this.gl=null,this.glno=w,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}Ne.prototype=new U,Ne._$9r=function(w){var k=new Float32Array(w);return k},Ne._$vb=function(w){var k=new Int16Array(w);return k},Ne._$cr=function(w,k){return w==null||w._$yL()<k.length?(w=Ne._$9r(k.length*2),w.put(k),w._$oT(0)):(w.clear(),w.put(k),w._$oT(0)),w},Ne._$mb=function(w,k){return w==null||w._$yL()<k.length?(w=Ne._$vb(k.length*2),w.put(k),w._$oT(0)):(w.clear(),w.put(k),w._$oT(0)),w},Ne._$Hs=function(){return this._$Gr},Ne._$as=function(w){this._$Gr=w},Ne.prototype.getGL=function(){return this.gl},Ne.prototype.setGL=function(w){this.gl=w},Ne.prototype.setTransform=function(w){this.transform=w},Ne.prototype._$ZT=function(){var w=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=w.getExtension("EXT_texture_filter_anisotropic")||w.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||w.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=w.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),w.disable(w.SCISSOR_TEST),w.disable(w.STENCIL_TEST),w.disable(w.DEPTH_TEST),w.frontFace(w.CW),w.enable(w.BLEND),w.colorMask(1,1,1,1),w.bindBuffer(w.ARRAY_BUFFER,null),w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,null)},Ne.prototype._$Uo=function(w,k,z,fe,le,re,we,Me){if(!(re<.01&&this.clipBufPre_clipContextMask==null)){re>.9&&ft.EXPAND_W;var Se=this.gl;if(this.gl==null)throw new Error("gl is null");var ze=!1,lt=1,dt=1,pt=1,Ht=this._$C0*lt*re,rn=this._$tT*dt*re,wt=this._$WL*pt*re,cn=this._$lT*re;if(this.clipBufPre_clipContextMask!=null){Se.frontFace(Se.CCW),Se.useProgram(this.shaderProgram),this._$vS=De(Se,this._$vS,fe),this._$no=tt(Se,this._$no,z),Se.enableVertexAttribArray(this.a_position_Loc),Se.vertexAttribPointer(this.a_position_Loc,2,Se.FLOAT,!1,0,0),this._$NT=De(Se,this._$NT,le),Se.activeTexture(Se.TEXTURE1),Se.bindTexture(Se.TEXTURE_2D,this.textures[w]),Se.uniform1i(this.s_texture0_Loc,1),Se.enableVertexAttribArray(this.a_texCoord_Loc),Se.vertexAttribPointer(this.a_texCoord_Loc,2,Se.FLOAT,!1,0,0),Se.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask);var on=this.getClipBufPre_clipContextMask().layoutChannelNo,Jt=this.getChannelFlagAsColor(on);Se.uniform4f(this.u_channelFlag,Jt.r,Jt.g,Jt.b,Jt.a);var hn=this.getClipBufPre_clipContextMask().layoutBounds;Se.uniform4f(this.u_baseColor_Loc,hn.x*2-1,hn.y*2-1,hn._$EL()*2-1,hn._$5T()*2-1),Se.uniform1i(this.u_maskFlag_Loc,!0)}else if(ze=this.getClipBufPre_clipContextDraw()!=null,ze){Se.useProgram(this.shaderProgramOff),this._$vS=De(Se,this._$vS,fe),this._$no=tt(Se,this._$no,z),Se.enableVertexAttribArray(this.a_position_Loc_Off),Se.vertexAttribPointer(this.a_position_Loc_Off,2,Se.FLOAT,!1,0,0),this._$NT=De(Se,this._$NT,le),Se.activeTexture(Se.TEXTURE1),Se.bindTexture(Se.TEXTURE_2D,this.textures[w]),Se.uniform1i(this.s_texture0_Loc_Off,1),Se.enableVertexAttribArray(this.a_texCoord_Loc_Off),Se.vertexAttribPointer(this.a_texCoord_Loc_Off,2,Se.FLOAT,!1,0,0),Se.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),Se.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),Se.activeTexture(Se.TEXTURE2),Se.bindTexture(Se.TEXTURE_2D,ft.fTexture[this.glno]),Se.uniform1i(this.s_texture1_Loc_Off,2);var on=this.getClipBufPre_clipContextDraw().layoutChannelNo,Jt=this.getChannelFlagAsColor(on);Se.uniform4f(this.u_channelFlag_Loc_Off,Jt.r,Jt.g,Jt.b,Jt.a),Se.uniform4f(this.u_baseColor_Loc_Off,Ht,rn,wt,cn)}else Se.useProgram(this.shaderProgram),this._$vS=De(Se,this._$vS,fe),this._$no=tt(Se,this._$no,z),Se.enableVertexAttribArray(this.a_position_Loc),Se.vertexAttribPointer(this.a_position_Loc,2,Se.FLOAT,!1,0,0),this._$NT=De(Se,this._$NT,le),Se.activeTexture(Se.TEXTURE1),Se.bindTexture(Se.TEXTURE_2D,this.textures[w]),Se.uniform1i(this.s_texture0_Loc,1),Se.enableVertexAttribArray(this.a_texCoord_Loc),Se.vertexAttribPointer(this.a_texCoord_Loc,2,Se.FLOAT,!1,0,0),Se.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),Se.uniform4f(this.u_baseColor_Loc,Ht,rn,wt,cn),Se.uniform1i(this.u_maskFlag_Loc,!1);this.culling?this.gl.enable(Se.CULL_FACE):this.gl.disable(Se.CULL_FACE),this.gl.enable(Se.BLEND);var st,At,ve,en;if(this.clipBufPre_clipContextMask!=null)st=Se.ONE,At=Se.ONE_MINUS_SRC_ALPHA,ve=Se.ONE,en=Se.ONE_MINUS_SRC_ALPHA;else switch(we){case qt._$ms:st=Se.ONE,At=Se.ONE_MINUS_SRC_ALPHA,ve=Se.ONE,en=Se.ONE_MINUS_SRC_ALPHA;break;case qt._$ns:st=Se.ONE,At=Se.ONE,ve=Se.ZERO,en=Se.ONE;break;case qt._$_s:st=Se.DST_COLOR,At=Se.ONE_MINUS_SRC_ALPHA,ve=Se.ZERO,en=Se.ONE;break}Se.blendEquationSeparate(Se.FUNC_ADD,Se.FUNC_ADD),Se.blendFuncSeparate(st,At,ve,en),this.anisotropyExt&&Se.texParameteri(Se.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy);var Xt=z.length;Se.drawElements(Se.TRIANGLES,Xt,Se.UNSIGNED_SHORT,0),Se.bindTexture(Se.TEXTURE_2D,null)}};function De(w,k,z){return k==null&&(k=w.createBuffer()),w.bindBuffer(w.ARRAY_BUFFER,k),w.bufferData(w.ARRAY_BUFFER,z,w.DYNAMIC_DRAW),k}function tt(w,k,z){return k==null&&(k=w.createBuffer()),w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,k),w.bufferData(w.ELEMENT_ARRAY_BUFFER,z,w.DYNAMIC_DRAW),k}Ne.prototype._$Rs=function(){throw new Error("_$Rs")},Ne.prototype._$Ds=function(w){throw new Error("_$Ds")},Ne.prototype._$K2=function(){for(var w=0;w<this.textures.length;w++){var k=this.textures[w];k!=0&&(this.gl._$K2(1,this.textures,w),this.textures[w]=null)}},Ne.prototype.setTexture=function(w,k){this.textures[w]=k},Ne.prototype.initShader=function(){var w=this.gl;this.loadShaders2(),this.a_position_Loc=w.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=w.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=w.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=w.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=w.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=w.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=w.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=w.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=w.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"u_baseColor")},Ne.prototype.disposeShader=function(){var w=this.gl;this.shaderProgram&&(w.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(w.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},Ne.prototype.compileShader=function(w,k){var z=this.gl,re,fe=k,le=z.createShader(w);if(le==null)return a._$Ji("_$L0 to create shader"),null;z.shaderSource(le,fe),z.compileShader(le);var re=z.getShaderParameter(le,z.COMPILE_STATUS);if(!re){var we=z.getShaderInfoLog(le);return a._$Ji("_$L0 to compile shader : "+we),z.deleteShader(le),null}return le},Ne.prototype.loadShaders2=function(){var w=this.gl;if(this.shaderProgram=w.createProgram(),!this.shaderProgram||(this.shaderProgramOff=w.createProgram(),!this.shaderProgramOff))return!1;var k="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}",z="precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}",fe="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}",le="precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}";if(this.vertShader=this.compileShader(w.VERTEX_SHADER,k),!this.vertShader)return a._$Ji("Vertex shader compile _$li!"),!1;if(this.vertShaderOff=this.compileShader(w.VERTEX_SHADER,fe),!this.vertShaderOff)return a._$Ji("OffVertex shader compile _$li!"),!1;if(this.fragShader=this.compileShader(w.FRAGMENT_SHADER,z),!this.fragShader)return a._$Ji("Fragment shader compile _$li!"),!1;if(this.fragShaderOff=this.compileShader(w.FRAGMENT_SHADER,le),!this.fragShaderOff)return a._$Ji("OffFragment shader compile _$li!"),!1;w.attachShader(this.shaderProgram,this.vertShader),w.attachShader(this.shaderProgram,this.fragShader),w.attachShader(this.shaderProgramOff,this.vertShaderOff),w.attachShader(this.shaderProgramOff,this.fragShaderOff),w.linkProgram(this.shaderProgram),w.linkProgram(this.shaderProgramOff);var re=w.getProgramParameter(this.shaderProgram,w.LINK_STATUS);if(!re){var we=w.getProgramInfoLog(this.shaderProgram);return a._$Ji("_$L0 to link program: "+we),this.vertShader&&(w.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(w.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(w.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(w.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(w.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(w.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1}return!0},Ne.prototype.createFramebuffer=function(){var w=this.gl,k=ft.clippingMaskBufferSize,z=w.createFramebuffer();w.bindFramebuffer(w.FRAMEBUFFER,z);var fe=w.createRenderbuffer();w.bindRenderbuffer(w.RENDERBUFFER,fe),w.renderbufferStorage(w.RENDERBUFFER,w.RGBA4,k,k),w.framebufferRenderbuffer(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.RENDERBUFFER,fe);var le=w.createTexture();return w.bindTexture(w.TEXTURE_2D,le),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,k,k,0,w.RGBA,w.UNSIGNED_BYTE,null),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,le,0),w.bindTexture(w.TEXTURE_2D,null),w.bindRenderbuffer(w.RENDERBUFFER,null),w.bindFramebuffer(w.FRAMEBUFFER,null),ft.fTexture[this.glno]=le,{framebuffer:z,renderbuffer:fe,texture:ft.fTexture[this.glno]}};function xe(w){se||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=new Array,this._$T=w,this._$F=0)}xe.prototype._$fP=function(){var w=this._$ST(),k,z,fe;if(w&128)if((k=this._$ST())&128)if((z=this._$ST())&128){if((fe=this._$ST())&128)throw new _n("_$L _$0P  _");return(w&127)<<21|(k&127)<<14|(z&127)<<7|fe&255}else return(w&127)<<14|(k&127)<<7|z&255;else return(w&127)<<7|k&127;else return w&255},xe.prototype.getFormatVersion=function(){return this._$S2},xe.prototype._$gr=function(w){this._$S2=w},xe.prototype._$3L=function(){return this._$fP()},xe.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},xe.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},xe.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},xe.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},xe.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},xe.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new _n("_$L _$q read long")},xe.prototype._$po=function(){return this._$zT(),this._$T.getInt8(this._$F++)!=0};var Gt=!0;xe.prototype._$bT=function(){this._$zT();var w=this._$3L(),k=null;if(Gt)try{var z=new ArrayBuffer(w*2);k=new Uint16Array(z);for(var fe=0;fe<w;++fe)k[fe]=this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null,k)}catch{Gt=!1}try{var le=new Array;if(k==null)for(var fe=0;fe<w;++fe)le[fe]=this._$T.getUint8(this._$F++);else for(var fe=0;fe<w;++fe)le[fe]=k[fe];return String.fromCharCode.apply(null,le)}catch(re){console.log("read utf8 / _$rT _$L0 !! : "+re)}},xe.prototype._$cS=function(){this._$zT();for(var w=this._$3L(),k=new Int32Array(w),z=0;z<w;z++)k[z]=this._$T.getInt32(this._$F),this._$F+=4;return k},xe.prototype._$Tb=function(){this._$zT();for(var w=this._$3L(),k=new Float32Array(w),z=0;z<w;z++)k[z]=this._$T.getFloat32(this._$F),this._$F+=4;return k},xe.prototype._$5b=function(){this._$zT();for(var w=this._$3L(),k=new Float64Array(w),z=0;z<w;z++)k[z]=this._$T.getFloat64(this._$F),this._$F+=8;return k},xe.prototype._$nP=function(){return this._$Jb(-1)},xe.prototype._$Jb=function(w){if(this._$zT(),w<0&&(w=this._$3L()),w==ue._$7P){var k=this._$6L();if(0<=k&&k<this._$Ko.length)return this._$Ko[k];throw new _n("_$sL _$4i @_$m0")}else{var z=this._$4b(w);return this._$Ko.push(z),z}},xe.prototype._$4b=function(w){if(w==0)return null;if(w==50){var k=this._$bT(),z=G.getID(k);return z}else if(w==51){var k=this._$bT(),z=Nt.getID(k);return z}else if(w==134){var k=this._$bT(),z=u.getID(k);return z}else if(w==60){var k=this._$bT(),z=f.getID(k);return z}if(w>=48){var fe=ue._$9o(w);return fe!=null?(fe._$F0(this),fe):null}switch(w){case 1:return this._$bT();case 10:return this._$6L(),new i;case 11:return new P(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new P(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new R(this._$mP(),this._$mP());case 14:return new R(this._$_T(),this._$_T());case 15:for(var le=this._$3L(),z=new Array(le),re=0;re<le;re++)z[re]=this._$nP();return z;case 17:var z=new K(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());return z;case 21:return new l(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new Ct(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new _n("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+w);default:throw new _n("_$6 _$q : _$nP() NO _$i : "+w)}},xe.prototype._$8L=function(){return this._$hL==0?this._$v0=this._$ST():this._$hL==8&&(this._$v0=this._$ST(),this._$hL=0),(this._$v0>>7-this._$hL++&1)==1},xe.prototype._$zT=function(){this._$hL!=0&&(this._$hL=0)};function c(){}c._$2S=Math.PI/180,c._$bS=Math.PI/180,c._$wS=180/Math.PI,c._$NS=180/Math.PI,c.PI_F=Math.PI,c._$kT=[0,.012368,.024734,.037097,.049454,.061803,.074143,.086471,.098786,.111087,.12337,.135634,.147877,.160098,.172295,.184465,.196606,.208718,.220798,.232844,.244854,.256827,.268761,.280654,.292503,.304308,.316066,.327776,.339436,.351044,.362598,.374097,.385538,.396921,.408243,.419502,.430697,.441826,.452888,.463881,.474802,.485651,.496425,.507124,.517745,.528287,.538748,.549126,.559421,.56963,.579752,.589785,.599728,.609579,.619337,.629,.638567,.648036,.657406,.666676,.675843,.684908,.693867,.70272,.711466,.720103,.72863,.737045,.745348,.753536,.76161,.769566,.777405,.785125,.792725,.800204,.807561,.814793,.821901,.828884,.835739,.842467,.849066,.855535,.861873,.868079,.874153,.880093,.885898,.891567,.897101,.902497,.907754,.912873,.917853,.922692,.92739,.931946,.936359,.940629,.944755,.948737,.952574,.956265,.959809,.963207,.966457,.96956,.972514,.97532,.977976,.980482,.982839,.985045,.987101,.989006,.990759,.992361,.993811,.995109,.996254,.997248,.998088,.998776,.999312,.999694,.999924,1],c._$92=function(w,k){var z=Math.atan2(w[1],w[0]),fe=Math.atan2(k[1],k[0]);return c._$tS(z,fe)},c._$tS=function(w,k){for(var z=w-k;z<-Math.PI;)z+=2*Math.PI;for(;z>Math.PI;)z-=2*Math.PI;return z},c._$9=function(w){return Math.sin(w)},c.fcos=function(w){return Math.cos(w)};function xn(w){se||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=w)}xn.prototype._$u2=function(){return this._$IS[0]},xn.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},xn.prototype._$GT=function(){return this._$e0};function at(){}at._$W2=0,at.SYSTEM_INFO=null,at.USER_AGENT=navigator.userAgent,at.isIPhone=function(){return at.SYSTEM_INFO||at.setup(),at.SYSTEM_INFO._isIPhone},at.isIOS=function(){return at.SYSTEM_INFO||at.setup(),at.SYSTEM_INFO._isIPhone||at.SYSTEM_INFO._isIPad},at.isAndroid=function(){return at.SYSTEM_INFO||at.setup(),at.SYSTEM_INFO._isAndroid},at.getOSVersion=function(){return at.SYSTEM_INFO||at.setup(),at.SYSTEM_INFO.version},at.getOS=function(){return at.SYSTEM_INFO||at.setup(),at.SYSTEM_INFO._isIPhone||at.SYSTEM_INFO._isIPad?"iOS":at.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},at.setup=function(){var w=at.USER_AGENT;function k(le,re){for(var we=le.substring(re).split(/[ _,;\.]/),Me=0,Se=0;Se<=2&&!isNaN(we[Se]);Se++){var ze=parseInt(we[Se]);if(ze<0||ze>999){a._$li("err : "+ze+" @UtHtml5.setup()"),Me=0;break}Me+=ze*Math.pow(1e3,2-Se)}return Me}var z,fe=at.SYSTEM_INFO={userAgent:w};if((z=w.indexOf("iPhone OS "))>=0)fe.os="iPhone",fe._isIPhone=!0,fe.version=k(w,z+10);else if((z=w.indexOf("iPad"))>=0){if(z=w.indexOf("CPU OS"),z<0){a._$li(" err : "+w+" @UtHtml5.setup()");return}fe.os="iPad",fe._isIPad=!0,fe.version=k(w,z+7)}else(z=w.indexOf("Android"))>=0?(fe.os="Android",fe._isAndroid=!0,fe.version=k(w,z+8)):(fe.os="-",fe.version=-1)},window.UtSystem=j,window.UtDebug=a,window.LDTransform=vt,window.LDGL=xt,window.Live2D=ft,window.Live2DModelWebGL=Kt,window.Live2DModelJS=Xe,window.Live2DMotion=Ze,window.MotionQueueManager=$t,window.PhysicsHair=g,window.AMotion=s,window.PartsDataID=u,window.DrawDataID=G,window.BaseDataID=Nt,window.ParamID=f,ft.init();var se=!1})();var PR;(function(t){var e=function(){function g(){}return g.getVersion=function(){return h.ccall("csmGetVersion","number",[],[])},g.getLatestMocVersion=function(){return h.ccall("csmGetLatestMocVersion","number",[],[])},g.getMocVersion=function(v,p){return h.ccall("csmGetMocVersion","number",["number","number"],[v,p])},g.getSizeofModel=function(v){return h.ccall("csmGetSizeofModel","number",["number"],[v])},g.reviveMocInPlace=function(v,p){return h.ccall("csmReviveMocInPlace","number",["number","number"],[v,p])},g.initializeModelInPlace=function(v,p,_){return h.ccall("csmInitializeModelInPlace","number",["number","number","number"],[v,p,_])},g.getParameterCount=function(v){return h.ccall("csmGetParameterCount","number",["number"],[v])},g.getParameterIds=function(v){return h.ccall("csmGetParameterIds","number",["number"],[v])},g.getParameterMinimumValues=function(v){return h.ccall("csmGetParameterMinimumValues","number",["number"],[v])},g.getParameterTypes=function(v){return h.ccall("csmGetParameterTypes","number",["number"],[v])},g.getParameterMaximumValues=function(v){return h.ccall("csmGetParameterMaximumValues","number",["number"],[v])},g.getParameterDefaultValues=function(v){return h.ccall("csmGetParameterDefaultValues","number",["number"],[v])},g.getParameterValues=function(v){return h.ccall("csmGetParameterValues","number",["number"],[v])},g.getParameterKeyCounts=function(v){return h.ccall("csmGetParameterKeyCounts","number",["number"],[v])},g.getParameterKeyValues=function(v){return h.ccall("csmGetParameterKeyValues","number",["number"],[v])},g.getPartCount=function(v){return h.ccall("csmGetPartCount","number",["number"],[v])},g.getPartIds=function(v){return h.ccall("csmGetPartIds","number",["number"],[v])},g.getPartOpacities=function(v){return h.ccall("csmGetPartOpacities","number",["number"],[v])},g.getPartParentPartIndices=function(v){return h.ccall("csmGetPartParentPartIndices","number",["number"],[v])},g.getDrawableCount=function(v){return h.ccall("csmGetDrawableCount","number",["number"],[v])},g.getDrawableIds=function(v){return h.ccall("csmGetDrawableIds","number",["number"],[v])},g.getDrawableConstantFlags=function(v){return h.ccall("csmGetDrawableConstantFlags","number",["number"],[v])},g.getDrawableDynamicFlags=function(v){return h.ccall("csmGetDrawableDynamicFlags","number",["number"],[v])},g.getDrawableTextureIndices=function(v){return h.ccall("csmGetDrawableTextureIndices","number",["number"],[v])},g.getDrawableDrawOrders=function(v){return h.ccall("csmGetDrawableDrawOrders","number",["number"],[v])},g.getDrawableRenderOrders=function(v){return h.ccall("csmGetDrawableRenderOrders","number",["number"],[v])},g.getDrawableOpacities=function(v){return h.ccall("csmGetDrawableOpacities","number",["number"],[v])},g.getDrawableMaskCounts=function(v){return h.ccall("csmGetDrawableMaskCounts","number",["number"],[v])},g.getDrawableMasks=function(v){return h.ccall("csmGetDrawableMasks","number",["number"],[v])},g.getDrawableVertexCounts=function(v){return h.ccall("csmGetDrawableVertexCounts","number",["number"],[v])},g.getDrawableVertexPositions=function(v){return h.ccall("csmGetDrawableVertexPositions","number",["number"],[v])},g.getDrawableVertexUvs=function(v){return h.ccall("csmGetDrawableVertexUvs","number",["number"],[v])},g.getDrawableIndexCounts=function(v){return h.ccall("csmGetDrawableIndexCounts","number",["number"],[v])},g.getDrawableIndices=function(v){return h.ccall("csmGetDrawableIndices","number",["number"],[v])},g.getDrawableMultiplyColors=function(v){return h.ccall("csmGetDrawableMultiplyColors","number",["number"],[v])},g.getDrawableScreenColors=function(v){return h.ccall("csmGetDrawableScreenColors","number",["number"],[v])},g.getDrawableParentPartIndices=function(v){return h.ccall("csmGetDrawableParentPartIndices","number",["number"],[v])},g.mallocMoc=function(v){return h.ccall("csmMallocMoc","number",["number"],[v])},g.mallocModelAndInitialize=function(v){return h.ccall("csmMallocModelAndInitialize","number",["number"],[v])},g.malloc=function(v){return h.ccall("csmMalloc","number",["number"],[v])},g.setLogFunction=function(v){h.ccall("csmSetLogFunction",null,["number"],[v])},g.updateModel=function(v){h.ccall("csmUpdateModel",null,["number"],[v])},g.readCanvasInfo=function(v,p,_,S){h.ccall("csmReadCanvasInfo",null,["number","number","number","number"],[v,p,_,S])},g.resetDrawableDynamicFlags=function(v){h.ccall("csmResetDrawableDynamicFlags",null,["number"],[v])},g.free=function(v){h.ccall("csmFree",null,["number"],[v])},g}();t.AlignofMoc=64,t.AlignofModel=16,t.MocVersion_Unknown=0,t.MocVersion_30=1,t.MocVersion_33=2,t.MocVersion_40=3,t.MocVersion_42=4,t.ParameterType_Normal=0,t.ParameterType_BlendShape=1;var n=function(){function g(){}return g.csmGetVersion=function(){return e.getVersion()},g.csmGetLatestMocVersion=function(){return e.getLatestMocVersion()},g.csmGetMocVersion=function(v,p){return e.getMocVersion(v._ptr,p.byteLength)},g}();t.Version=n;var r=function(){function g(){}return g.csmSetLogFunction=function(v){g.logFunction=v;var p=h.addFunction(g.wrapLogFunction,"vi");e.setLogFunction(p)},g.csmGetLogFunction=function(){return g.logFunction},g.wrapLogFunction=function(v){var p=h.UTF8ToString(v);g.logFunction(p)},g}();t.Logging=r;var i=function(){function g(v){var p=e.mallocMoc(v.byteLength);if(p){var _=new Uint8Array(h.HEAPU8.buffer,p,v.byteLength);_.set(new Uint8Array(v)),this._ptr=e.reviveMocInPlace(p,v.byteLength),this._ptr||e.free(p)}}return g.fromArrayBuffer=function(v){if(!v)return null;var p=new g(v);return p._ptr?p:null},g.prototype._release=function(){e.free(this._ptr),this._ptr=0},g}();t.Moc=i;var s=function(){function g(v){this._ptr=e.mallocModelAndInitialize(v._ptr),this._ptr&&(this.parameters=new o(this._ptr),this.parts=new l(this._ptr),this.drawables=new u(this._ptr),this.canvasinfo=new a(this._ptr))}return g.fromMoc=function(v){var p=new g(v);return p._ptr?p:null},g.prototype.update=function(){e.updateModel(this._ptr)},g.prototype.release=function(){e.free(this._ptr),this._ptr=0},g}();t.Model=s;var a=function(){function g(v){if(v){var p=new Float32Array(2),_=p.length*p.BYTES_PER_ELEMENT,S=e.malloc(_),C=new Uint8Array(h.HEAPU8.buffer,S,_);C.set(new Uint8Array(p.buffer));var T=new Float32Array(2),A=T.length*T.BYTES_PER_ELEMENT,P=e.malloc(A),D=new Uint8Array(h.HEAPU8.buffer,P,A);D.set(new Uint8Array(T.buffer));var R=new Float32Array(1),N=R.length*R.BYTES_PER_ELEMENT,U=e.malloc(N),Y=new Uint8Array(h.HEAPU8.buffer,U,N);Y.set(new Uint8Array(R.buffer)),e.readCanvasInfo(v,C.byteOffset,D.byteOffset,Y.byteOffset),p=new Float32Array(C.buffer,C.byteOffset,C.length),T=new Float32Array(D.buffer,D.byteOffset,D.length),R=new Float32Array(Y.buffer,Y.byteOffset,Y.length),this.CanvasWidth=p[0],this.CanvasHeight=p[1],this.CanvasOriginX=T[0],this.CanvasOriginY=T[1],this.PixelsPerUnit=R[0],e.free(C.byteOffset),e.free(D.byteOffset),e.free(Y.byteOffset)}}return g}();t.CanvasInfo=a;var o=function(){function g(v){var p=0,_=null;this.count=e.getParameterCount(v),p=e.getParameterCount(v),this.ids=new Array(p);for(var S=new Uint32Array(h.HEAPU32.buffer,e.getParameterIds(v),p),C=0;C<S.length;C++)this.ids[C]=h.UTF8ToString(S[C]);p=e.getParameterCount(v),this.minimumValues=new Float32Array(h.HEAPF32.buffer,e.getParameterMinimumValues(v),p),p=e.getParameterCount(v),this.types=new Int32Array(h.HEAP32.buffer,e.getParameterTypes(v),p),p=e.getParameterCount(v),this.maximumValues=new Float32Array(h.HEAPF32.buffer,e.getParameterMaximumValues(v),p),p=e.getParameterCount(v),this.defaultValues=new Float32Array(h.HEAPF32.buffer,e.getParameterDefaultValues(v),p),p=e.getParameterCount(v),this.values=new Float32Array(h.HEAPF32.buffer,e.getParameterValues(v),p),p=e.getParameterCount(v),this.keyCounts=new Int32Array(h.HEAP32.buffer,e.getParameterKeyCounts(v),p),p=e.getParameterCount(v),_=new Int32Array(h.HEAP32.buffer,e.getParameterKeyCounts(v),p),this.keyValues=new Array(p);for(var T=new Uint32Array(h.HEAPU32.buffer,e.getParameterKeyValues(v),p),C=0;C<T.length;C++)this.keyValues[C]=new Float32Array(h.HEAPF32.buffer,T[C],_[C])}return g}();t.Parameters=o;var l=function(){function g(v){var p=0;this.count=e.getPartCount(v),p=e.getPartCount(v),this.ids=new Array(p);for(var _=new Uint32Array(h.HEAPU32.buffer,e.getPartIds(v),p),S=0;S<_.length;S++)this.ids[S]=h.UTF8ToString(_[S]);p=e.getPartCount(v),this.opacities=new Float32Array(h.HEAPF32.buffer,e.getPartOpacities(v),p),p=e.getPartCount(v),this.parentIndices=new Int32Array(h.HEAP32.buffer,e.getPartParentPartIndices(v),p)}return g}();t.Parts=l;var u=function(){function g(v){this._modelPtr=v;var p=0,_=null;this.count=e.getDrawableCount(v),p=e.getDrawableCount(v),this.ids=new Array(p);for(var S=new Uint32Array(h.HEAPU32.buffer,e.getDrawableIds(v),p),C=0;C<S.length;C++)this.ids[C]=h.UTF8ToString(S[C]);p=e.getDrawableCount(v),this.constantFlags=new Uint8Array(h.HEAPU8.buffer,e.getDrawableConstantFlags(v),p),p=e.getDrawableCount(v),this.dynamicFlags=new Uint8Array(h.HEAPU8.buffer,e.getDrawableDynamicFlags(v),p),p=e.getDrawableCount(v),this.textureIndices=new Int32Array(h.HEAP32.buffer,e.getDrawableTextureIndices(v),p),p=e.getDrawableCount(v),this.drawOrders=new Int32Array(h.HEAP32.buffer,e.getDrawableDrawOrders(v),p),p=e.getDrawableCount(v),this.renderOrders=new Int32Array(h.HEAP32.buffer,e.getDrawableRenderOrders(v),p),p=e.getDrawableCount(v),this.opacities=new Float32Array(h.HEAPF32.buffer,e.getDrawableOpacities(v),p),p=e.getDrawableCount(v),this.maskCounts=new Int32Array(h.HEAP32.buffer,e.getDrawableMaskCounts(v),p),p=e.getDrawableCount(v),this.vertexCounts=new Int32Array(h.HEAP32.buffer,e.getDrawableVertexCounts(v),p),p=e.getDrawableCount(v),this.indexCounts=new Int32Array(h.HEAP32.buffer,e.getDrawableIndexCounts(v),p),p=e.getDrawableCount(v),this.multiplyColors=new Float32Array(h.HEAPF32.buffer,e.getDrawableMultiplyColors(v),p*4),p=e.getDrawableCount(v),this.screenColors=new Float32Array(h.HEAPF32.buffer,e.getDrawableScreenColors(v),p*4),p=e.getDrawableCount(v),this.parentPartIndices=new Int32Array(h.HEAP32.buffer,e.getDrawableParentPartIndices(v),p),p=e.getDrawableCount(v),_=new Int32Array(h.HEAP32.buffer,e.getDrawableMaskCounts(v),p),this.masks=new Array(p);for(var T=new Uint32Array(h.HEAPU32.buffer,e.getDrawableMasks(v),p),C=0;C<T.length;C++)this.masks[C]=new Int32Array(h.HEAP32.buffer,T[C],_[C]);p=e.getDrawableCount(v),_=new Int32Array(h.HEAP32.buffer,e.getDrawableVertexCounts(v),p),this.vertexPositions=new Array(p);for(var A=new Uint32Array(h.HEAPU32.buffer,e.getDrawableVertexPositions(v),p),C=0;C<A.length;C++)this.vertexPositions[C]=new Float32Array(h.HEAPF32.buffer,A[C],_[C]*2);p=e.getDrawableCount(v),_=new Int32Array(h.HEAP32.buffer,e.getDrawableVertexCounts(v),p),this.vertexUvs=new Array(p);for(var P=new Uint32Array(h.HEAPU32.buffer,e.getDrawableVertexUvs(v),p),C=0;C<P.length;C++)this.vertexUvs[C]=new Float32Array(h.HEAPF32.buffer,P[C],_[C]*2);p=e.getDrawableCount(v),_=new Int32Array(h.HEAP32.buffer,e.getDrawableIndexCounts(v),p),this.indices=new Array(p);for(var D=new Uint32Array(h.HEAPU32.buffer,e.getDrawableIndices(v),p),C=0;C<D.length;C++)this.indices[C]=new Uint16Array(h.HEAPU16.buffer,D[C],_[C])}return g.prototype.resetDynamicFlags=function(){e.resetDrawableDynamicFlags(this._modelPtr)},g}();t.Drawables=u;var d=function(){function g(){}return g.hasBlendAdditiveBit=function(v){return(v&1)==1},g.hasBlendMultiplicativeBit=function(v){return(v&2)==2},g.hasIsDoubleSidedBit=function(v){return(v&4)==4},g.hasIsInvertedMaskBit=function(v){return(v&8)==8},g.hasIsVisibleBit=function(v){return(v&1)==1},g.hasVisibilityDidChangeBit=function(v){return(v&2)==2},g.hasOpacityDidChangeBit=function(v){return(v&4)==4},g.hasDrawOrderDidChangeBit=function(v){return(v&8)==8},g.hasRenderOrderDidChangeBit=function(v){return(v&16)==16},g.hasVertexPositionsDidChangeBit=function(v){return(v&32)==32},g.hasBlendColorDidChangeBit=function(v){return(v&64)==64},g}();t.Utils=d;var f=function(){var g=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(v){v=v||{};var p,_,Y={};for(_ in p=p||(v!==void 0?v:{}))p.hasOwnProperty(_)&&(Y[_]=p[_]);var S,C,T,P=!1,A=typeof window=="object",Ct=typeof importScripts=="function",P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&!A&&!Ct,D=!A&&!P&&!Ct,R="",N=(P?(R=__dirname+"/",C=function(Ne,De){tn(Ne)},T=function(Ne){return W((Ne=(Ne=C(Ne,!0)).buffer?Ne:new Uint8Array(Ne)).buffer),Ne},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(Ne){throw Ne}),process.on("unhandledRejection",bt),p.inspect=function(){return"[Emscripten Module object]"}):D?(typeof read<"u"&&(C=function(Ne){var De=tn(Ne);return De?zt(De):read(Ne)}),T=function(Ne){var De;if(!(De=tn(Ne))){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(Ne));W(typeof(De=read(Ne,"binary"))=="object")}return De},typeof print<"u"&&((console=typeof console>"u"?{}:console).log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(A||Ct)&&(Ct?R=self.location.href:document.currentScript&&(R=document.currentScript.src),R=(R=g||R).indexOf("blob:")!==0?R.substr(0,R.lastIndexOf("/")+1):"",C=function(Ne){try{var De=new XMLHttpRequest;return De.open("GET",Ne,!1),De.send(null),De.responseText}catch(tt){if(Ne=tn(Ne))return zt(Ne);throw tt}},Ct&&(T=function(Ne){try{var De=new XMLHttpRequest;return De.open("GET",Ne,!1),De.responseType="arraybuffer",De.send(null),new Uint8Array(De.response)}catch(tt){if(Ne=tn(Ne))return Ne;throw tt}}),S=function(Ne){var De=ht,tt=_n,xe=new XMLHttpRequest;xe.open("GET",De,!0),xe.responseType="arraybuffer",xe.onload=function(){var Gt;xe.status==200||xe.status==0&&xe.response?tt(xe.response):(Gt=tn(De))?tt(Gt.buffer):Ne()},xe.onerror=Ne,xe.send(null)}),p.print||console.log.bind(console)),U=p.printErr||console.warn.bind(console);for(_ in Y)Y.hasOwnProperty(_)&&(p[_]=Y[_]);var Y=null,H=Array(1),j=0,X=!1;function W(Ne,De){Ne||bt("Assertion failed: "+De)}var F,te,G,K,ee=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function de(Ne,De,tt){var xe=De+tt;for(tt=De;Ne[tt]&&!(xe<=tt);)++tt;if(16<tt-De&&Ne.subarray&&ee)return ee.decode(Ne.subarray(De,tt));for(xe="";De<tt;){var Gt,c,xn=Ne[De++];128&xn?(Gt=63&Ne[De++],(224&xn)==192?xe+=String.fromCharCode((31&xn)<<6|Gt):(c=63&Ne[De++],(xn=(240&xn)==224?(15&xn)<<12|Gt<<6|c:(7&xn)<<18|Gt<<12|c<<6|63&Ne[De++])<65536?xe+=String.fromCharCode(xn):(xn-=65536,xe+=String.fromCharCode(55296|xn>>10,56320|1023&xn)))):xe+=String.fromCharCode(xn)}return xe}function ue(Ne,De){return Ne?de(G,Ne,De):""}function me(Ne){return 0<Ne%16777216&&(Ne+=16777216-Ne%16777216),Ne}function Ee(Ne){F=Ne,p.HEAP8=te=new Int8Array(Ne),p.HEAP16=new Int16Array(Ne),p.HEAP32=K=new Int32Array(Ne),p.HEAPU8=G=new Uint8Array(Ne),p.HEAPU16=new Uint16Array(Ne),p.HEAPU32=new Uint32Array(Ne),p.HEAPF32=new Float32Array(Ne),p.HEAPF64=new Float64Array(Ne)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le"),A=p.TOTAL_MEMORY||16777216;function Oe(Ne){for(;0<Ne.length;){var De,tt=Ne.shift();typeof tt=="function"?tt():typeof(De=tt.C)=="number"?tt.w===void 0?p.dynCall_v(De):p.dynCall_vi(De,tt.w):De(tt.w===void 0?null:tt.w)}}A=(F=p.buffer||new ArrayBuffer(A)).byteLength,Ee(F),K[1052]=5247296;var Ge=[],$e=[],Ie=[],Ke=[];Math.imul&&Math.imul(4294967295,5)===-5||(Math.imul=function(Ne,De){var tt=65535&Ne,xe=65535&De;return tt*xe+((Ne>>>16)*xe+tt*(De>>>16)<<16)|0}),Math.clz32||(Math.clz32=function(Ne){var De=32,tt=Ne>>16;return tt&&(De-=16,Ne=tt),(tt=Ne>>8)&&(De-=8,Ne=tt),(tt=Ne>>4)&&(De-=4,Ne=tt),(tt=Ne>>2)&&(De-=2,Ne=tt),Ne>>1?De-2:De-Ne}),Math.trunc||(Math.trunc=function(Ne){return Ne<0?Math.ceil(Ne):Math.floor(Ne)});var Xe=0,Ze=null;function bt(Ne){throw p.onAbort&&p.onAbort(Ne),N(Ne),U(Ne),X=!0,"abort("+Ne+"). Build with -s ASSERTIONS=1 for more info."}p.preloadedImages={},p.preloadedAudios={};var ht=null,ae="data:application/octet-stream;base64,";function Re(Ne){return Ne.replace(/\b__Z[\w\d_]+/g,function(De){return De==De?De:De+" ["+De+"]"})}function rt(){var Ne=Error();if(!Ne.stack){try{throw Error(0)}catch(De){Ne=De}if(!Ne.stack)return"(no stack trace available)"}return Ne.stack.toString()}var Ye=[null,[],[]];function it(Ne,De){var tt=Ye[Ne];De===0||De===10?((Ne===1?N:U)(de(tt,0)),tt.length=0):tt.push(De)}function St(Ne,De,tt,xe){try{for(var Gt=0,c=0;c<tt;c++){for(var xn=K[De+8*c>>2],at=K[De+(8*c+4)>>2],se=0;se<at;se++)it(Ne,G[xn+se]);Gt+=at}return K[xe>>2]=Gt,0}catch(w){return typeof FS<"u"&&w instanceof FS.A||bt(w),w.B}}function Lt(){return te.length}function xt(Ne){try{var De=new ArrayBuffer(Ne);if(De.byteLength==Ne)return new Int8Array(De).set(te),Kt(De),Ee(De),1}catch{}}var sn=!(ht="data:application/octet-stream;base64,AAAAAAAAAAARAAoAERERAAAAAAUAAAAAAAAJAAAAAAsAAAAAAAAAABEADwoREREDCgcAARMJCwsAAAkGCwAACwAGEQAAABEREQAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAARAAoKERERAAoAAAIACQsAAAAJAAsAAAsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAA0AAAAEDQAAAAAJDgAAAAAADgAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAPAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAABISEgAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAoAAAAACgAAAAAJCwAAAAAACwAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAwAAAAACQwAAAAAAAwAAAwAADAxMjM0NTY3ODlBQkNERUYFAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAABgKAAAABAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAK/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBbiBlcnJvciBvY2N1cnJlZCBpbiB0aGUgaW50ZXJwb2xhdGlvbiBmb3IgYmxlbmQgc2hhcGVzLiBDb21iaW5hdGlvbkNvdW50IGlzICVkLgBbQ1NNXSBbRV1XYXJwRGVmb3JtZXI6OlRyYW5zZm9ybVRhcmdldCgpIGVycm9yLiBbJWRdIHAwMT0oJS40ZiAsICUuNGYpCgBbQ1NNXSBbRV1Jbml0aWFsaXplRGVmb3JtZXJzKCk6IFVua25vd24gRGVmb3JtZXIgVHlwZS4KAExpdmUyRCBDdWJpc20gU0RLIENvcmUgVmVyc2lvbiAlZC4lZC4lZABNT0MzAFtDU01dIFtFXWNzbVJldml2ZU1vY0luUGxhY2UgaXMgZmFpbGVkLiBDb3JydXB0ZWQgIG1vYzMgZmlsZS4KAFtDU01dIFtFXWNzbVJldml2ZU1vY0luUGxhY2UgaXMgZmFpbGVkLiBUaGUgQ29yZSB1bnN1cHBvcnQgbGF0ZXIgdGhhbiBtb2MzIHZlcjpbJWRdLiBUaGlzIG1vYzMgdmVyIGlzIFslZF0uCgBbQ1NNXSBbRV1jc21HZXRNb2NWZXJzaW9uIGlzIGZhaWxlZC4gQ29ycnVwdGVkIG1vYzMgZmlsZS4KAFtDU01dIFtFXSVzOiAlcwoAY3NtR2V0TW9jVmVyc2lvbgAiYWRkcmVzcyIgaXMgbnVsbC4AY3NtUmV2aXZlTW9jSW5QbGFjZQAiYWRkcmVzcyIgYWxpZ25tZW50IGlzIGludmFsaWQuACJzaXplIiBpcyBpbnZhbGlkLgBjc21SZWFkQ2FudmFzSW5mbwAibW9kZWwiIGlzIGludmFsaWQuACJvdXRTaXplSW5QaXhlbHMiIGlzIG51bGwuACJvdXRPcmlnaW5JblBpeGVscyIgaXMgbnVsbC4AIm91dFBpeGVsc1BlclVuaXQiIGlzIG51bGwuAGNzbUdldFNpemVvZk1vZGVsACJtb2MiIGlzIGludmFsaWQuAGNzbUluaXRpYWxpemVNb2RlbEluUGxhY2UAInNpemUiIGlzIGludmFsaWQAY3NtVXBkYXRlTW9kZWwAY3NtR2V0UGFyYW1ldGVyQ291bnQAY3NtR2V0UGFyYW1ldGVySWRzAGNzbUdldFBhcmFtZXRlclR5cGVzAGNzbUdldFBhcmFtZXRlck1pbmltdW1WYWx1ZXMAY3NtR2V0UGFyYW1ldGVyTWF4aW11bVZhbHVlcwBjc21HZXRQYXJhbWV0ZXJEZWZhdWx0VmFsdWVzAGNzbUdldFBhcmFtZXRlclZhbHVlcwBjc21HZXRQYXJ0Q291bnQAY3NtR2V0UGFydElkcwBjc21HZXRQYXJ0T3BhY2l0aWVzAGNzbUdldFBhcnRQYXJlbnRQYXJ0SW5kaWNlcwBjc21HZXREcmF3YWJsZUNvdW50AGNzbUdldERyYXdhYmxlSWRzAGNzbUdldERyYXdhYmxlQ29uc3RhbnRGbGFncwBjc21HZXREcmF3YWJsZUR5bmFtaWNGbGFncwBjc21HZXREcmF3YWJsZVRleHR1cmVJbmRpY2VzAGNzbUdldERyYXdhYmxlRHJhd09yZGVycwBjc21HZXREcmF3YWJsZVJlbmRlck9yZGVycwBjc21HZXREcmF3YWJsZU9wYWNpdGllcwBjc21HZXREcmF3YWJsZU1hc2tDb3VudHMAY3NtR2V0RHJhd2FibGVNYXNrcwBjc21HZXREcmF3YWJsZVZlcnRleENvdW50cwBjc21HZXREcmF3YWJsZVZlcnRleFBvc2l0aW9ucwBjc21HZXREcmF3YWJsZVZlcnRleFV2cwBjc21HZXREcmF3YWJsZUluZGV4Q291bnRzAGNzbUdldERyYXdhYmxlSW5kaWNlcwBjc21HZXREcmF3YWJsZU11bHRpcGx5Q29sb3JzAGNzbUdldERyYXdhYmxlU2NyZWVuQ29sb3JzAGNzbUdldERyYXdhYmxlUGFyZW50UGFydEluZGljZXMAY3NtUmVzZXREcmF3YWJsZUR5bmFtaWNGbGFncwBjc21HZXRQYXJhbWV0ZXJLZXlDb3VudHMAY3NtR2V0UGFyYW1ldGVyS2V5VmFsdWVzAFtDU01dIFtXXVJvdGF0aW9uRGVmb3JtZXI6IE5vdCBmb3VuZCB0cmFuc2Zvcm1lZCBEaXJlY3Rpb24uCgBbQ1NNXSBbRV1VcGRhdGVEZWZvcm1lckhpZXJhcmNoeSgpOiBVbmtub3duIERlZm9ybWVyIFR5cGUuCgAlcwoALSsgICAwWDB4AChudWxsKQAtMFgrMFggMFgtMHgrMHggMHgAaW5mAElORgBuYW4ATkFOAC4=");function zt(Ne){for(var De=[],tt=0;tt<Ne.length;tt++){var xe=Ne[tt];255<xe&&(sn&&W(!1,"Character code "+xe+" ("+String.fromCharCode(xe)+")  at offset "+tt+" not in 0x00-0xFF."),xe&=255),De.push(String.fromCharCode(xe))}return De.join("")}var ft=typeof atob=="function"?atob:function(Ne){var De="",tt=0;Ne=Ne.replace(/[^A-Za-z0-9\+\/=]/g,"");do var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Ne.charAt(tt++)),xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Ne.charAt(tt++)),xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Ne.charAt(tt++)),Gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Ne.charAt(tt++)),c=c<<2|xn>>4,xn=(15&xn)<<4|xe>>2,at=(3&xe)<<6|Gt;while(De+=String.fromCharCode(c),xe!==64&&(De+=String.fromCharCode(xn)),Gt!==64&&(De+=String.fromCharCode(at)),tt<Ne.length);return De};function tn(Ne){if(String.prototype.startsWith?Ne.startsWith(ae):Ne.indexOf(ae)===0){if(Ne=Ne.slice(ae.length),typeof P=="boolean"&&P){try{var De=Buffer.from(Ne,"base64")}catch{De=new Buffer(Ne,"base64")}var tt=new Uint8Array(De.buffer,De.byteOffset,De.byteLength)}else try{for(var xe=ft(Ne),Gt=new Uint8Array(xe.length),De=0;De<xe.length;++De)Gt[De]=xe.charCodeAt(De);tt=Gt}catch{throw Error("Converting base64 string to bytes failed.")}return tt}}var _n,qt,Pt,Ct=function(Ne,De,tt){var xe=new Ne.Int8Array(tt),Gt=new Ne.Int16Array(tt),c=new Ne.Int32Array(tt),xn=new Ne.Uint8Array(tt),at=new Ne.Uint16Array(tt),se=new Ne.Float32Array(tt),w=new Ne.Float64Array(tt),k=0|De.v,z=Ne.Math.floor,fe=Ne.Math.pow,le=Ne.Math.cos,re=Ne.Math.sin,we=Ne.Math.atan2,Me=Ne.Math.imul,Se=Ne.Math.clz32,ze=De.a,lt=De.b,dt=De.c,pt=De.d,Ht=De.e,rn=De.f,wt=De.g,cn=De.h,on=De.i,Jt=De.j,hn=De.k,st=De.l,At=De.m,ve=4416;function en(y){var x,L,pe,J,M,oe,Q,q,B,ne,_e,Pe,qe,Ae,He,Ue,be,ct,yt=0,Je=0,It=0|c[(y|=0)+500>>2];if(!((0|It)<=0)){Q=0|c[y+504>>2],q=0|c[y+444>>2],L=0|c[y+536>>2],Je=0;do if(pe=0|c[Q+(24*Je|0)+12>>2],J=0|c[q+(c[Q+(24*Je|0)+4>>2]<<2)>>2],M=0|c[q+(c[Q+(24*Je|0)+8>>2]<<2)>>2],oe=0|c[Q+(24*Je|0)+16>>2],y=0|c[Q+(24*Je|0)+20>>2],x=+se[L+(Je<<2)>>2],0<(0|pe))for(yt=0;be=+se[oe+(yt<<2)>>2],Pe=+se[oe+((B=1|yt)<<2)>>2],Ue=(0|at[y+(yt<<1)>>1])<<1&65534,He=+se[(ct=J+(Ue<<2)|0)>>2],_e=+se[(Ue=J+((1|Ue)<<2)|0)>>2],B=(0|at[y+(B<<1)>>1])<<1&65534,Ae=+se[(qe=M+(B<<2)|0)>>2],ne=+se[(B=M+((1|B)<<2)|0)>>2],se[ct>>2]=He+be*(Ae-He)*x,se[Ue>>2]=_e+be*(ne-_e)*x,se[qe>>2]=Ae+Pe*(He-Ae)*x,se[B>>2]=ne+Pe*(_e-ne)*x,(0|(yt=yt+2|0))<(0|pe););while((0|(Je=Je+1|0))!=(0|It))}}function Xt(y){var x=0|c[(y|=0)>>2];(0|xn[4+x>>0])<4||hr(y,0|c[y+596>>2],0|c[y+600>>2],0|c[984+x>>2],0|c[y+152>>2],0|c[796+x>>2])}function hr(y,x,L,pe,J,M){y|=0,pe|=0,J|=0,M|=0;var oe,Q,q,B,ne,_e,Pe,qe,Ae,He=0,Ue=0,be=0,ct=0,yt=0,Je=ve;if(ve=ve+16|0,qe=Je+8|0,Pe=Je,_e=(L|=0)+(12*(x|=0)|0)|0,(0|x)<=0)ve=Je;else{do{x=0|c[L>>2],Q=0|c[J+(x<<2)>>2],B=(x=0|c[M+(x<<2)>>2])<<1,yt=0|c[L+4>>2],He=0|c[L+8>>2],q=0|c[1028+(0|c[y>>2])>>2],ne=He+(48*yt|0)|0;e:do if(0<(0|yt)){if((0|x)<=0){for(;;)if(3<=(x=0|c[He+8>>2])>>>0&&(c[qe>>2]=x,Sn(0,784,qe)),ne>>>0<=(He=He+48|0)>>>0)break e}do{Ue=pe+(c[He+4>>2]<<2)|0,x=0|c[He+8>>2];t:do if(0|x)switch(yt=q+(c[Ue+(c[He+12>>2]<<2)>>2]<<2)|0,0|x){case 1:for(Ue=He+20|0,x=He+44|0,be=0;se[(ct=Q+(be<<2)|0)>>2]=+se[ct>>2]+ +se[x>>2]*(+se[yt+(be<<2)>>2]*+se[Ue>>2]),(0|(be=be+1|0))!=(0|B););break;case 2:for(Ue=q+(c[Ue+(c[He+16>>2]<<2)>>2]<<2)|0,be=He+20|0,oe=He+24|0,x=He+44|0,ct=0;se[(Ae=Q+(ct<<2)|0)>>2]=+se[Ae>>2]+ +se[x>>2]*(+se[yt+(ct<<2)>>2]*+se[be>>2]+ +se[Ue+(ct<<2)>>2]*+se[oe>>2]),(0|(ct=ct+1|0))!=(0|B););break;default:c[Pe>>2]=x,Sn(0,784,Pe);break t}while(0)}while((He=He+48|0)>>>0<ne>>>0)}while(0)}while((L=L+12|0)>>>0<_e>>>0);ve=Je}}function Pr(y){var x=0|c[(y|=0)>>2];(0|xn[4+x>>0])<4||hr(y,0|c[y+604>>2],0|c[y+608>>2],0|c[1024+x>>2],0|c[y+444>>2],0|c[892+x>>2])}function Sn(y,x,L){y|=0,x|=0,L|=0;var pe,J,M=ve;ve=ve+272|0,y=M+16|0,J=M,ve=((pe=0|c[904])&&(c[J>>2]=L,Uo(y,x,J),gu[1&pe](y)),M)}function ni(y,x,L){L|=0;var pe,J=0,M=0,oe=0,Q=0,q=0,B=0,ne=0,_e=0,qe=0,Pe=0,qe=0|xe[(y|=0)+4>>0];if(c[(x|=0)>>2]=628,Pe=0|c[(_e=y+704|0)>>2],0<(0|(q=0|c[Pe>>2]))){for(J=0|c[y+1048>>2],M=0|c[y+720>>2],Q=oe=0;Q=(1<<c[J+(c[M+(oe<<2)>>2]<<2)>>2])+Q|0,(0|(oe=oe+1|0))!=(0|q););J=Q<<2}else J=0;if(c[x+4>>2]=12*q,c[x+8>>2]=c[Pe>>2]<<2,c[x+12>>2]=c[Pe>>2]<<2,c[x+16>>2]=c[Pe>>2]<<2,c[x+20>>2]=c[Pe>>2]<<2,c[x+24>>2]=c[Pe>>2]<<2,c[x+28>>2]=J,c[x+32>>2]=c[Pe>>2]<<2,c[x+36>>2]=J,c[x+40>>2]=J,c[x+44>>2]=c[(pe=Pe+4|0)>>2]<<5,c[x+48>>2]=c[pe>>2]<<2,c[x+52>>2]=c[pe>>2]<<2,c[x+56>>2]=c[pe>>2]<<2,c[x+60>>2]=c[pe>>2]<<4,c[x+64>>2]=c[pe>>2]<<4,0<(0|(ne=0|c[(pe=Pe+8|0)>>2]))){for(M=0|c[y+796>>2],oe=0|c[y+1048>>2],Q=0|c[y+780>>2],J=B=q=0;J=(15+(c[M+(q<<2)>>2]<<3)&-16)+J|0,B=(1<<c[oe+(c[Q+(q<<2)>>2]<<2)>>2])+B|0,(0|(q=q+1|0))!=(0|ne););M=B<<2}else J=M=0;if(c[x+68>>2]=24*ne,c[x+72>>2]=c[pe>>2]<<2,c[x+76>>2]=c[pe>>2]<<2,c[x+80>>2]=c[pe>>2]<<2,c[x+84>>2]=J,c[x+88>>2]=c[pe>>2]<<4,c[x+92>>2]=c[pe>>2]<<4,c[x+96>>2]=c[pe>>2]<<2,c[x+100>>2]=M,c[x+104>>2]=c[pe>>2]<<2,c[x+108>>2]=M,c[x+112>>2]=M,c[x+116>>2]=M,c[x+120>>2]=M,c[x+124>>2]=M,c[x+128>>2]=M,c[x+132>>2]=M,c[x+136>>2]=M,c[x+140>>2]=M,c[x+144>>2]=c[pe>>2]<<2,c[x+148>>2]=c[pe>>2]<<2,c[x+152>>2]=c[pe>>2]<<2,c[x+156>>2]=c[pe>>2]<<2,c[x+160>>2]=c[pe>>2]<<2,c[x+164>>2]=c[pe>>2]<<2,0<(0|(q=0|c[(B=Pe+12|0)>>2]))){for(J=0|c[y+1048>>2],M=0|c[y+812>>2],Q=oe=0;Q=(1<<c[J+(c[M+(oe<<2)>>2]<<2)>>2])+Q|0,(0|(oe=oe+1|0))!=(0|q););J=Q<<2}else J=0;if(c[x+168>>2]=12*q,c[x+172>>2]=c[B>>2]<<2,c[x+176>>2]=c[B>>2]<<2,c[x+180>>2]=c[B>>2]<<2,c[x+184>>2]=c[B>>2]<<2,c[x+188>>2]=c[B>>2]<<2,c[x+192>>2]=c[B>>2]<<2,c[x+196>>2]=c[B>>2]<<2,c[x+200>>2]=c[B>>2]<<2,c[x+204>>2]=c[B>>2]<<4,c[x+208>>2]=c[B>>2]<<4,c[x+212>>2]=c[B>>2]<<2,c[x+216>>2]=J,c[x+220>>2]=c[B>>2]<<2,c[x+224>>2]=J,c[x+228>>2]=J,c[x+232>>2]=J,c[x+236>>2]=J,c[x+240>>2]=J,c[x+244>>2]=J,c[x+248>>2]=J,c[x+252>>2]=J,c[x+256>>2]=J,c[x+260>>2]=J,c[x+264>>2]=J,c[x+268>>2]=J,c[x+272>>2]=c[B>>2]<<2,c[x+276>>2]=c[B>>2]<<2,c[x+280>>2]=c[B>>2]<<2,c[x+284>>2]=c[B>>2]<<2,c[x+288>>2]=c[B>>2]<<2,c[x+292>>2]=c[B>>2]<<2,0<(0|(ne=0|c[(pe=Pe+16|0)>>2]))){for(M=0|c[y+892>>2],oe=0|c[y+1048>>2],Q=0|c[y+852>>2],J=B=q=0;J=(15+(c[M+(q<<2)>>2]<<3)&-16)+J|0,B=(1<<c[oe+(c[Q+(q<<2)>>2]<<2)>>2])+B|0,(0|(q=q+1|0))!=(0|ne););M=B<<2}else J=M=0;if(c[x+296>>2]=20*ne,c[x+300>>2]=c[pe>>2]<<2,c[x+304>>2]=c[pe>>2],c[x+308>>2]=c[pe>>2]<<2,c[x+312>>2]=c[pe>>2]<<2,c[x+316>>2]=c[pe>>2]<<2,c[x+320>>2]=J,c[x+324>>2]=c[pe>>2]<<2,c[x+328>>2]=c[pe>>2]<<4,c[x+332>>2]=c[pe>>2]<<4,c[x+336>>2]=c[pe>>2]<<2,c[x+340>>2]=c[pe>>2]<<2,c[x+344>>2]=c[pe>>2]<<2,c[x+348>>2]=c[pe>>2]<<4,c[x+352>>2]=c[pe>>2]<<4,c[x+356>>2]=c[pe>>2]<<2,c[x+360>>2]=M,c[x+364>>2]=c[pe>>2]<<2,c[x+368>>2]=M,c[x+372>>2]=M,c[x+376>>2]=M,c[x+380>>2]=M,c[x+384>>2]=M,c[x+388>>2]=M,c[x+392>>2]=M,c[x+396>>2]=M,c[x+400>>2]=M,c[x+404>>2]=M,c[x+408>>2]=c[pe>>2]<<2,c[x+412>>2]=c[pe>>2]<<2,c[x+416>>2]=c[pe>>2]<<2,c[x+420>>2]=c[pe>>2]<<2,c[x+424>>2]=c[pe>>2]<<2,c[x+428>>2]=c[pe>>2]<<2,_e=0|c[_e>>2],c[x+432>>2]=52*(0|c[(M=_e+20|0)>>2]),J=(pe=3<(255&qe))?0:c[M>>2]<<2,c[x+436>>2]=J,c[x+440>>2]=c[M>>2]<<2,c[x+444>>2]=28*(0|c[_e+52>>2]),0<(0|(q=0|c[Pe+48>>2]))){for(J=0|c[y+1048>>2],Q=oe=M=0;oe=(qe=0|c[J+(M<<2)>>2])+oe|0,Q=(1<<qe)+Q|0,(0|(M=M+1|0))!=(0|q););M=oe<<2,J=Q<<2}else J=M=0;if(c[x+448>>2]=36*q,c[x+452>>2]=M,c[x+456>>2]=J,c[x+460>>2]=J,c[x+488>>2]=28*(0|c[(M=Pe+72|0)>>2]),0<(0|(M=0|c[M>>2]))){for(oe=0|c[y+1152>>2],Q=0|c[y+1160>>2],J=0|c[y+1164>>2],ne=B=q=0;B=(0|B)<(0|(qe=0|c[oe+(q<<2)>>2]))?qe:B,ne=(0|(qe=(0|c[Q+(q<<2)>>2])-(0|c[J+(q<<2)>>2])|0))<(0|ne)?ne:qe+1|0,(0|(q=q+1|0))!=(0|M););M=B<<2,J=ne<<2}else J=M=0;if(c[x+492>>2]=c[Pe+76>>2]<<4,c[x+496>>2]=J,c[x+500>>2]=M,c[x+504>>2]=J,0<(0|(q=0|c[(B=Pe+80|0)>>2]))){for(J=0|c[y+1048>>2],M=0|c[y+1188>>2],Q=oe=0;Q=(1<<c[J+(c[M+(oe<<2)>>2]<<2)>>2])+Q|0,(0|(oe=oe+1|0))!=(0|q););J=Q<<2}else J=0;if(c[x+508>>2]=24*q,c[x+512>>2]=c[B>>2]<<2,c[x+516>>2]=c[B>>2]<<2,c[x+520>>2]=J,c[x+524>>2]=c[B>>2]<<2,c[x+528>>2]=J,c[x+532>>2]=J,pe){if(c[x+464>>2]=20*(0|c[_e+120>>2]),c[x+468>>2]=28*(0|c[_e+100>>2]),0<(0|(Q=0|c[Pe+104>>2]))){for(J=0|c[y+1080>>2],oe=M=0;oe=(0|c[J+(M<<2)>>2])+oe|0,(0|(M=M+1|0))!=(0|Q););J=oe<<2}else J=0;c[x+472>>2]=48*Q,c[x+476>>2]=J,c[x+480>>2]=12*(0|c[_e+108>>2]),c[x+484>>2]=12*(0|c[_e+112>>2]),J=M=c[x+540>>2]=0}else{if(0<(0|(pe=0|c[(_e=Pe+20|0)>>2]))){B=0|c[y+948>>2],ne=0|c[y+952>>2],Q=0|c[y+1036>>2],J=q=0;do if(y=0|c[ne+(q<<2)>>2],oe=(M=Q+(c[B+(q<<2)>>2]<<2)|0)+(y<<2)|0,0<(0|y))for(;J=(0|c[M>>2])+J|0,(M=M+4|0)>>>0<oe>>>0;);while((0|(q=q+1|0))!=(0|pe))}else J=0;c[x+540>>2]=pe<<2,M=J<<2,J=c[_e>>2]<<2}for(c[x+536>>2]=J,c[x+544>>2]=M,M=J=0;M=(y=15+(0|c[(Pe=x+(J<<2)|0)>>2])&-16)+(c[Pe>>2]=M)|0,(0|(J=J+1|0))!=137;);c[L>>2]=M}function rr(y,x,L){y|=0,x|=0,L|=0;var pe,J,M,oe,Q,q,B=0,ne=0,_e=0,Pe=0,qe=0,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0,Je=0,It=0,fn=0,An=0,Un=0,mn=0,Ln=0,Rn=0,Bt=0,wn=0,Fn=0,Dn=0,Ir=0,wr=0,Sr=0,Di=0,Si=0,ii=0,$r=0,Ii=0,jr=0,si=0,Nr=0,or=0,kr=0,mt=0,Oi=ve;if(ve=ve+560|0,Dn=Oi+552|0,B=(be=Oi)+556|0,hl(0|be,0,548),ni(y,be,B),L>>>0<(B=0|c[B>>2])>>>0)return ve=Oi,(mt=0)|mt;if(hl(0|x,0,0|B),mt=x+(0|c[be>>2])|0,c[(J=mt+8|0)>>2]=x+(0|c[be+4>>2]),c[mt+40>>2]=x+(0|c[be+8>>2]),c[mt+44>>2]=x+(0|c[be+12>>2]),c[mt+48>>2]=x+(0|c[be+16>>2]),c[(wn=mt+52|0)>>2]=x+(0|c[be+20>>2]),c[(Fn=mt+16|0)>>2]=x+(0|c[be+24>>2]),c[mt+24>>2]=x+(0|c[be+28>>2]),c[mt+28>>2]=x+(0|c[be+32>>2]),c[mt+32>>2]=x+(0|c[be+36>>2]),c[mt+36>>2]=x+(0|c[be+40>>2]),_e=0|c[(kr=y+704|0)>>2],c[(M=mt+308|0)>>2]=x+(0|c[be+44>>2]),c[mt+312>>2]=x+(0|c[be+48>>2]),c[mt+316>>2]=x+(0|c[be+52>>2]),c[mt+320>>2]=x+(0|c[be+56>>2]),c[mt+324>>2]=x+(0|c[be+60>>2]),c[mt+328>>2]=x+(0|c[be+64>>2]),c[(Sr=mt+60|0)>>2]=x+(0|c[be+68>>2]),c[mt+144>>2]=x+(0|c[be+72>>2]),c[mt+148>>2]=x+(0|c[be+76>>2]),B=x+(0|c[be+80>>2])|0,c[(Pe=mt+152|0)>>2]=B,0<(0|(_e=0|c[_e+8>>2]))&&(qe=x+(0|c[be+84>>2])|0,Ae=y+796|0,c[B>>2]=qe,(0|_e)!=1))for(B=0,ne=1,L=qe;L=L+(15+(c[(0|c[Ae>>2])+(B<<2)>>2]<<3)&-16)|0,c[(0|c[Pe>>2])+(ne<<2)>>2]=L,!((0|_e)<=(0|(B=ne+1|0)));)Nr=ne,ne=B,B=Nr;if(c[mt+156>>2]=x+(0|c[be+88>>2]),c[mt+160>>2]=x+(0|c[be+92>>2]),c[(Ir=mt+68|0)>>2]=x+(0|c[be+96>>2]),c[mt+76>>2]=x+(0|c[be+100>>2]),c[mt+80>>2]=x+(0|c[be+104>>2]),c[mt+84>>2]=x+(0|c[be+108>>2]),c[mt+88>>2]=x+(0|c[be+112>>2]),c[mt+92>>2]=x+(0|c[be+116>>2]),c[mt+96>>2]=x+(0|c[be+120>>2]),c[mt+100>>2]=x+(0|c[be+124>>2]),c[mt+104>>2]=x+(0|c[be+128>>2]),c[mt+108>>2]=x+(0|c[be+132>>2]),c[mt+112>>2]=x+(0|c[be+136>>2]),c[mt+116>>2]=x+(0|c[be+140>>2]),c[mt+120>>2]=x+(0|c[be+144>>2]),c[mt+124>>2]=x+(0|c[be+148>>2]),c[mt+128>>2]=x+(0|c[be+152>>2]),c[mt+132>>2]=x+(0|c[be+156>>2]),c[mt+136>>2]=x+(0|c[be+160>>2]),c[mt+140>>2]=x+(0|c[be+164>>2]),c[(oe=mt+168|0)>>2]=x+(0|c[be+168>>2]),c[mt+264>>2]=x+(0|c[be+172>>2]),c[mt+268>>2]=x+(0|c[be+176>>2]),c[mt+272>>2]=x+(0|c[be+180>>2]),c[mt+276>>2]=x+(0|c[be+184>>2]),c[mt+280>>2]=x+(0|c[be+188>>2]),c[mt+284>>2]=x+(0|c[be+192>>2]),c[mt+288>>2]=x+(0|c[be+196>>2]),c[mt+292>>2]=x+(0|c[be+200>>2]),c[mt+296>>2]=x+(0|c[be+204>>2]),c[mt+300>>2]=x+(0|c[be+208>>2]),c[(wr=mt+176|0)>>2]=x+(0|c[be+212>>2]),c[mt+184>>2]=x+(0|c[be+216>>2]),c[mt+188>>2]=x+(0|c[be+220>>2]),c[mt+192>>2]=x+(0|c[be+224>>2]),c[mt+196>>2]=x+(0|c[be+228>>2]),c[mt+200>>2]=x+(0|c[be+232>>2]),c[mt+204>>2]=x+(0|c[be+236>>2]),c[mt+208>>2]=x+(0|c[be+240>>2]),c[mt+212>>2]=x+(0|c[be+244>>2]),c[mt+216>>2]=x+(0|c[be+248>>2]),c[mt+220>>2]=x+(0|c[be+252>>2]),c[mt+224>>2]=x+(0|c[be+256>>2]),c[mt+228>>2]=x+(0|c[be+260>>2]),c[mt+232>>2]=x+(0|c[be+264>>2]),c[mt+236>>2]=x+(0|c[be+268>>2]),c[mt+240>>2]=x+(0|c[be+272>>2]),c[mt+244>>2]=x+(0|c[be+276>>2]),c[mt+248>>2]=x+(0|c[be+280>>2]),c[mt+252>>2]=x+(0|c[be+284>>2]),c[mt+256>>2]=x+(0|c[be+288>>2]),c[mt+260>>2]=x+(0|c[be+292>>2]),_e=0|c[kr>>2],c[(Si=mt+336|0)>>2]=x+(0|c[be+296>>2]),c[mt+424>>2]=x+(0|c[be+300>>2]),c[mt+432>>2]=x+(0|c[be+304>>2]),c[mt+436>>2]=x+(0|c[be+308>>2]),c[mt+440>>2]=x+(0|c[be+312>>2]),B=x+(0|c[be+316>>2])|0,c[(Pe=mt+444|0)>>2]=B,0<(0|(_e=0|c[_e+16>>2]))&&(He=x+(0|c[be+320>>2])|0,Ue=y+892|0,c[B>>2]=He,(0|_e)!=1))for(B=0,ne=1,L=He;L=L+(15+(c[(0|c[Ue>>2])+(B<<2)>>2]<<3)&-16)|0,c[(0|c[Pe>>2])+(ne<<2)>>2]=L,!((0|_e)<=(0|(B=ne+1|0)));)Nr=ne,ne=B,B=Nr;if(c[mt+448>>2]=x+(0|c[be+324>>2]),c[(ii=mt+452|0)>>2]=x+(0|c[be+328>>2]),c[($r=mt+456|0)>>2]=x+(0|c[be+332>>2]),c[mt+460>>2]=x+(0|c[be+336>>2]),c[mt+464>>2]=x+(0|c[be+340>>2]),c[mt+468>>2]=x+(0|c[be+344>>2]),c[mt+472>>2]=x+(0|c[be+348>>2]),c[mt+476>>2]=x+(0|c[be+352>>2]),c[(Di=mt+344|0)>>2]=x+(0|c[be+356>>2]),c[mt+352>>2]=x+(0|c[be+360>>2]),c[mt+356>>2]=x+(0|c[be+364>>2]),c[mt+360>>2]=x+(0|c[be+368>>2]),c[mt+364>>2]=x+(0|c[be+372>>2]),c[mt+368>>2]=x+(0|c[be+376>>2]),c[mt+372>>2]=x+(0|c[be+380>>2]),c[mt+376>>2]=x+(0|c[be+384>>2]),c[mt+380>>2]=x+(0|c[be+388>>2]),c[mt+384>>2]=x+(0|c[be+392>>2]),c[mt+388>>2]=x+(0|c[be+396>>2]),c[mt+392>>2]=x+(0|c[be+400>>2]),c[mt+396>>2]=x+(0|c[be+404>>2]),c[mt+400>>2]=x+(0|c[be+408>>2]),c[mt+404>>2]=x+(0|c[be+412>>2]),c[mt+408>>2]=x+(0|c[be+416>>2]),c[mt+412>>2]=x+(0|c[be+420>>2]),c[mt+416>>2]=x+(0|c[be+424>>2]),c[mt+420>>2]=x+(0|c[be+428>>2]),Rn=0|c[be+436>>2],pe=0|c[be+440>>2],c[(Nr=mt+544|0)>>2]=x+(0|c[be+432>>2]),c[(Bt=mt+548|0)>>2]=x+Rn,c[(Rn=mt+552|0)>>2]=x+pe,c[(pe=mt+560|0)>>2]=x+(0|c[be+444>>2]),B=0|c[kr>>2],_e=x+(0|c[be+448>>2])|0,c[(si=mt+568|0)>>2]=_e,0<(0|(B=0|c[B+48>>2])))for(L=0|c[y+1048>>2],Pe=x+(0|c[be+452>>2])|0,Ae=x+((qe=0)|c[be+456>>2])|0,Ue=x+(0|c[be+460>>2])|0;c[_e+(36*qe|0)>>2]=Pe,c[_e+(36*qe|0)+16>>2]=Ae,c[_e+(36*qe|0)+20>>2]=Ue,He=1<<(ne=0|c[L+(qe<<2)>>2]),(0|(qe=qe+1|0))!=(0|B);)Pe=Pe+(ne<<2)|0,Ae=Ae+(He<<2)|0,Ue=Ue+(He<<2)|0;if(B=0|c[kr>>2],ne=x+(0|c[be+488>>2])|0,c[(Q=mt+484|0)>>2]=ne,0<(0|(B=0|c[B+72>>2])))for(L=0|c[y+1152>>2],Pe=x+((_e=0)|c[be+492>>2])|0;Pe=(c[ne+(28*_e|0)+12>>2]=Pe)+(c[L+(_e<<2)>>2]<<4)|0,(0|(_e=_e+1|0))!=(0|B););if(c[mt+488>>2]=x+(0|c[be+496>>2]),c[mt+492>>2]=x+(0|c[be+500>>2]),c[mt+496>>2]=x+(0|c[be+504>>2]),c[(Ii=mt+504|0)>>2]=x+(0|c[be+508>>2]),c[mt+536>>2]=x+(0|c[be+512>>2]),c[(jr=mt+512|0)>>2]=x+(0|c[be+516>>2]),c[mt+520>>2]=x+(0|c[be+520>>2]),c[mt+524>>2]=x+(0|c[be+524>>2]),c[mt+528>>2]=x+(0|c[be+528>>2]),c[mt+532>>2]=x+(0|c[be+532>>2]),Ln=3<(0|xn[(q=y+4|0)>>0])){if(c[mt+576>>2]=x+(0|c[be+464>>2]),c[mt+584>>2]=x+(0|c[be+468>>2]),B=0|c[be+476>>2],_e=0|c[kr>>2],qe=x+(0|c[be+472>>2])|0,c[mt+592>>2]=qe,0<(0|(_e=0|c[_e+104>>2])))for(Pe=0|c[y+1080>>2],B=x+B|0,L=0;c[qe+(48*L|0)+40>>2]=B,(0|(ne=L+1|0))!=(0|_e);)B=B+(c[Pe+(L<<2)>>2]<<2)|0,L=ne;c[mt+600>>2]=x+(0|c[be+480>>2]),c[mt+608>>2]=x+(0|c[be+484>>2]),L=0|c[kr>>2],B=0|c[L+20>>2]}else if(L=0|c[be+536>>2],ne=0|c[be+544>>2],c[mt+616>>2]=x+(0|c[be+540>>2]),c[(be=mt+612|0)>>2]=x+L,L=0|c[kr>>2],0<(0|(B=0|c[L+20>>2])))for(Ae=y+948|0,He=y+952|0,qe=y+1036|0,Pe=x+ne|(Ue=0);;){if(B=0|c[(0|c[Ae>>2])+(Ue<<2)>>2],ne=(mn=0|c[(0|c[He>>2])+(Ue<<2)>>2])+B|0,0<(0|mn)){for(L=0|c[qe>>2],_e=0;_e=(0|c[L+(B<<2)>>2])+_e|0,(0|(B=B+1|0))<(0|ne););B=(0|c[be>>2])+(Ue<<2)|0,_e?(L=Pe,ne=_e):or=27}else B=(0|c[be>>2])+(Ue<<2)|0,or=27;if((0|or)==27&&(ne=L=or=0),c[B>>2]=L,L=0|c[kr>>2],(0|(B=0|c[L+20>>2]))<=(0|(Ue=Ue+1|0)))break;Pe=Pe+(ne<<2)|0}c[mt>>2]=y,c[mt+620>>2]=1,c[mt+624>>2]=1&xe[20+(0|c[y+708>>2])>>0],Pe=(c[mt+540>>2]=B)+-1|0;e:do if(0<(0|B)){if(x=0|c[Nr>>2],ct=0|c[y+928>>2],yt=0|c[y+924>>2],It=0|c[y+936>>2],fn=0|c[y+932>>2],An=0|c[y+940>>2],Un=0|c[y+952>>2],mn=y+948|0,be=0|c[Rn>>2],Ue=mt+584|0,He=y+956|0,!Ln)for(;;){if(c[x+(52*Pe|0)>>2]=0,c[x+(52*Pe|0)+4>>2]=c[(ne=ct+(Pe<<2)|0)>>2],c[x+(52*Pe|0)+8>>2]=c[(Rn=yt+(Pe<<2)|0)>>2],se[x+(52*Pe|0)+12>>2]=+se[Rn>>2]-+se[ne>>2],c[x+(52*Pe|0)+16>>2]=c[It+(Pe<<2)>>2],c[x+(52*Pe|0)+44>>2]=c[(ne=fn+(Pe<<2)|0)>>2],Je=+fe(.10000000149011612,0|c[An+(Pe<<2)>>2]),se[x+(52*Pe|0)+20>>2]=Je,se[x+(52*Pe|0)+24>>2]=1.5*Je,Rn=0|c[Un+(Pe<<2)>>2],_e=(c[x+(52*Pe|0)+32>>2]=Rn)?(0|c[pe>>2])+(28*(0|c[(0|c[mn>>2])+(Pe<<2)>>2])|0)|0:0,c[x+(52*Pe|0)+28>>2]=_e,c[x+(52*Pe|0)+48>>2]=1,c[be+(Pe<<2)>>2]=c[ne>>2],!(0<(0|Pe)))break e;Pe=Pe+-1|0}for(qe=0|c[y+944>>2],Ae=0|c[y+960>>2];c[x+(52*Pe|0)>>2]=c[qe+(Pe<<2)>>2],c[x+(52*Pe|0)+4>>2]=c[(_e=ct+(Pe<<2)|0)>>2],c[x+(52*Pe|0)+8>>2]=c[(Rn=yt+(Pe<<2)|0)>>2],se[x+(52*Pe|0)+12>>2]=+se[Rn>>2]-+se[_e>>2],c[x+(52*Pe|0)+16>>2]=c[It+(Pe<<2)>>2],c[x+(52*Pe|0)+44>>2]=c[(_e=fn+(Pe<<2)|0)>>2],Je=+fe(.10000000149011612,0|c[An+(Pe<<2)>>2]),se[x+(52*Pe|0)+20>>2]=Je,se[x+(52*Pe|0)+24>>2]=1.5*Je,Rn=0|c[Un+(Pe<<2)>>2],ne=(c[x+(52*Pe|0)+32>>2]=Rn)?(0|c[pe>>2])+(28*(0|c[(0|c[mn>>2])+(Pe<<2)>>2])|0)|0:0,c[x+(52*Pe|0)+28>>2]=ne,Rn=0|c[Ae+(Pe<<2)>>2],ne=(c[x+(52*Pe|0)+40>>2]=Rn)?(0|c[Ue>>2])+(28*(0|c[(0|c[He>>2])+(Pe<<2)>>2])|0)|0:0,c[x+(52*Pe|0)+36>>2]=ne,c[x+(52*Pe|0)+48>>2]=1,c[be+(Pe<<2)>>2]=c[_e>>2],0<(0|Pe);)Pe=Pe+-1|0}while(0);if(Ln?(c[Bt>>2]=c[y+944>>2],qe=L,Ae=y):(hl(0|c[Bt>>2],0,B<<2|0),Ae=0|c[mt>>2],qe=0|c[Ae+704>>2]),B=0|c[qe+52>>2],0<(0|(c[mt+556>>2]=B)))for(L=0|c[pe>>2],ne=0|c[Ae+1036>>2],_e=0|c[Ae+1132>>2],Pe=0|c[Ae+1032>>2];c[L+(28*(B=(Bt=B)+-1|0)|0)>>2]=c[ne+(B<<2)>>2],c[L+(28*B|0)+4>>2]=_e+(c[Pe+(B<<2)>>2]<<2),c[L+(28*B|0)+8>>2]=0,se[L+(28*B|0)+12>>2]=0,c[L+(28*B|0)+16>>2]=0,c[L+(28*B|0)+20>>2]=1,(c[L+(28*B|0)+24>>2]=1)<(0|Bt););if(B=0|c[qe+48>>2],0<(0|(c[mt+564>>2]=B))){He=Ae+1048|0,Ue=Ae+1040|0,Ae=Ae+1044|0;do if(qe=B,L=0|c[si>>2],ne=0|c[(0|c[He>>2])+((B=B+-1|0)<<2)>>2],0<(0|(c[L+(36*B|0)+4>>2]=ne)))for(_e=L+(36*B|0)|0,Pe=0;c[(0|c[_e>>2])+(Pe<<2)>>2]=(0|c[pe>>2])+(28*(0|c[(0|c[Ue>>2])+((0|c[(0|c[Ae>>2])+(B<<2)>>2])+Pe<<2)>>2])|0),(0|(Pe=Pe+1|0))!=(0|ne););while(c[L+(36*B|0)+8>>2]=1<<ne,c[L+(36*B|0)+24>>2]=1,(c[L+(36*B|0)+28>>2]=1)<(0|qe));ct=0|c[mt>>2],qe=0|c[ct+704>>2]}else ct=Ae;if(L=0|c[qe>>2],0<(0|(c[(x=mt+4|0)>>2]=L))){for(_e=0|c[J>>2],Ue=0|c[si>>2],be=0|c[ct+720>>2],Pe=0|c[ct+740>>2],Ae=0|c[ct+736>>2],He=0|c[ct+732>>2],B=0|c[wn>>2],ne=L;c[_e+(12*(ne=(wn=ne)+-1|0)|0)>>2]=Ue+(36*(0|c[be+(ne<<2)>>2])|0),c[_e+(12*ne|0)+4>>2]=c[Pe+(ne<<2)>>2],c[_e+(12*ne|0)+8>>2]=c[Ae+(ne<<2)>>2],se[B+(ne<<2)>>2]=0|c[He+(ne<<2)>>2]?1:0,1<(0|wn););for(ne=0|c[Fn>>2],B=0;wn=0|c[Ue+(36*(0|c[be+((L=(Fn=L)+-1|0)<<2)>>2])|0)+8>>2],B=(c[ne+(L<<2)>>2]=wn)+B|0,1<(0|Fn););L=0|c[x>>2]}else B=0;if(c[mt+20>>2]=B,c[mt+12>>2]=L,B=0|c[qe+4>>2],0<(0|(c[mt+304>>2]=B))){Ae=ct+752|0,Ue=ct+764|0,He=ct+768|0,qe=ct+772|0,be=ct+776|0,Pe=ct+760|0;do switch(_e=B,L=0|c[M>>2],c[L+((B=B+-1|0)<<5)>>2]=(0|c[si>>2])+(36*(0|c[(0|c[Ae>>2])+(B<<2)>>2])|0),c[L+(B<<5)+4>>2]=c[(0|c[Ue>>2])+(B<<2)>>2],c[L+(B<<5)+8>>2]=c[(0|c[He>>2])+(B<<2)>>2],Fn=0|c[(0|c[qe>>2])+(B<<2)>>2],c[L+(B<<5)+12>>2]=Fn,ne=0|c[(0|c[be>>2])+(B<<2)>>2],c[L+(B<<5)+16>>2]=ne,c[L+(B<<5)+28>>2]=c[(0|c[Pe>>2])+(B<<2)>>2],0|Fn){case 0:c[(0|c[Sr>>2])+(24*ne|0)+20>>2]=B,c[L+(B<<5)+20>>2]=2,c[L+(B<<5)+24>>2]=2;break;case 1:c[(0|c[oe>>2])+(12*ne|0)+8>>2]=B,c[L+(B<<5)+20>>2]=3,c[L+(B<<5)+24>>2]=3;break;default:Sn(0,937,Dn)}while(1<(0|_e));Bt=0|c[mt>>2],Ln=0|c[Bt+704>>2]}else Ln=qe,Bt=ct;if(ne=0|c[Ln+8>>2],B=(c[(x=mt+56|0)>>2]=ne)+-1|0,be=0<(0|ne))if(_e=0|c[Sr>>2],Pe=0|c[si>>2],qe=0|c[Bt+780>>2],Ae=0|c[Bt+800>>2],He=0|c[Bt+804>>2],Ue=0|c[Bt+796>>2],1<(0|xn[Bt+4>>0]))for(L=0|c[Bt+808>>2];c[_e+(24*B|0)>>2]=Pe+(36*(0|c[qe+(B<<2)>>2])|0),c[_e+(24*B|0)+4>>2]=c[Ae+(B<<2)>>2],c[_e+(24*B|0)+8>>2]=c[He+(B<<2)>>2],c[_e+(24*B|0)+16>>2]=c[Ue+(B<<2)>>2],c[_e+(24*B|0)+12>>2]=c[L+(B<<2)>>2],0<(0|B);)B=B+-1|0;else for(;c[_e+(24*B|0)>>2]=Pe+(36*(0|c[qe+(B<<2)>>2])|0),c[_e+(24*B|0)+4>>2]=c[Ae+(B<<2)>>2],c[_e+(24*B|0)+8>>2]=c[He+(B<<2)>>2],c[_e+(24*B|0)+16>>2]=c[Ue+(B<<2)>>2],(c[_e+(24*B|0)+12>>2]=0)<(0|B);)B=B+-1|0;if(L=0|c[Ln+12>>2],0<(0|(c[(He=mt+164|0)>>2]=L)))for(B=0|c[oe>>2],_e=0|c[si>>2],Pe=0|c[Bt+812>>2],qe=0|c[Bt+828>>2],Ae=L;c[B+(12*(Ae=(Dn=Ae)+-1|0)|0)>>2]=_e+(36*(0|c[Pe+(Ae<<2)>>2])|0),c[B+(12*Ae|0)+4>>2]=c[qe+(Ae<<2)>>2],1<(0|Dn););if(be){for(_e=0|c[Sr>>2],L=0|c[Ir>>2],B=0;Ir=0|c[8+(0|c[_e+(24*(ne=(Sr=ne)+-1|0)|0)>>2])>>2],B=(c[L+(ne<<2)>>2]=Ir)+B|0,1<(0|Sr););ne=0|c[x>>2],L=0|c[He>>2]}else B=0;if(c[mt+72>>2]=B,c[mt+64>>2]=ne,0<(0|L)){for(_e=0|c[oe>>2],ne=0|c[wr>>2],B=0;wr=0|c[8+(0|c[_e+(12*(L=(Sr=L)+-1|0)|0)>>2])>>2],B=(c[ne+(L<<2)>>2]=wr)+B|0,1<(0|Sr););L=0|c[He>>2]}else B=0;if(c[mt+180>>2]=B,c[mt+172>>2]=L,Rn=Bt+704|0,B=0|c[Ln+16>>2],0<(0|(c[(be=mt+332|0)>>2]=B))){for(L=0|c[Si>>2],He=0|c[si>>2],Ue=0|c[Bt+852>>2],ne=0|c[Bt+876>>2],_e=0|c[Bt+880>>2],Pe=0|c[Bt+892>>2],qe=0|c[Bt+872>>2],Ae=B;c[L+(20*(Ae=(Si=Ae)+-1|0)|0)>>2]=He+(36*(0|c[Ue+(Ae<<2)>>2])|0),c[L+(20*Ae|0)+4>>2]=c[ne+(Ae<<2)>>2],c[L+(20*Ae|0)+8>>2]=c[_e+(Ae<<2)>>2],c[L+(20*Ae|0)+16>>2]=c[Pe+(Ae<<2)>>2],c[L+(20*Ae|0)+12>>2]=c[qe+(Ae<<2)>>2],1<(0|Si););for(L=0|c[Di>>2],ne=0;Di=0|c[He+(36*(0|c[Ue+((B=(Si=B)+-1|0)<<2)>>2])|0)+8>>2],ne=(c[L+(B<<2)>>2]=Di)+ne|0,1<(0|Si););if(B=0|c[be>>2],c[mt+348>>2]=ne,0<(0|(c[mt+340>>2]=B)))for(_e=0|c[ii>>2],L=0|c[$r>>2],ne=B<<2;se[_e+((ne=($r=ne)+-4|0)<<2)>>2]=1,se[_e+((Si=$r+-3|0)<<2)>>2]=1,se[_e+((ii=$r+-2|0)<<2)>>2]=1,se[_e+(($r=$r+-1|0)<<2)>>2]=1,se[L+(ne<<2)>>2]=0,se[L+(Si<<2)>>2]=0,!(((se[L+(ii<<2)>>2]=0)|B)<=(se[L+($r<<2)>>2]=1));)B=B+-1|0}else c[mt+348>>2]=0,c[mt+340>>2]=B;if(mn=0|c[Ln+72>>2],0<(0|(c[mt+480>>2]=mn))){B=0|c[Q>>2],L=0|c[Bt+1152>>2],ne=0|c[Bt+1156>>2],_e=0|c[Bt+1160>>2],Pe=0|c[Bt+1164>>2],qe=0|c[Bt+1148>>2],yt=Bt+1172|0,fn=Bt+1168|0,It=Bt+1176|0,An=0;do if(Ae=0|c[L+(An<<2)>>2],c[B+(28*An|0)+4>>2]=Ae,c[B+(28*An|0)>>2]=c[ne+(An<<2)>>2],$r=0|c[_e+(An<<2)>>2],c[B+(28*An|0)+16>>2]=$r,He=0|c[Pe+(An<<2)>>2],c[B+(28*An|0)+20>>2]=He,c[B+(28*An|0)+24>>2]=$r+1-He,He=(c[B+(28*An|0)+8>>2]=0)|c[qe+(An<<2)>>2],0<(0|Ae))for(Ue=0|c[B+(28*An|0)+12>>2],be=0|c[yt>>2],x=0|c[fn>>2],ct=0|c[It>>2],Un=0;c[Ue+(Un<<4)+4>>2]=c[be+(($r=Un+He|0)<<2)>>2],c[Ue+(Un<<4)>>2]=c[x+($r<<2)>>2],c[Ue+(Un<<4)+8>>2]=c[ct+($r<<2)>>2],(0|(Un=Un+1|(c[Ue+(Un<<4)+12>>2]=0)))!=(0|Ae););while((0|(An=An+1|0))!=(0|mn))}L=0|c[Ln+80>>2],c[(x=mt+500|0)>>2]=L;do if(0<(0|L)){for(He=0|c[Ii>>2],Ue=0|c[si>>2],be=0|c[Bt+1188>>2],B=0|c[Bt+1200>>2],ne=0|c[Bt+1204>>2],_e=0|c[Bt+1212>>2],Pe=0|c[Bt+1216>>2],qe=0|c[Bt+1208>>2],Ae=0|c[Bt+1220>>2];c[He+(24*(L=(si=L)+-1|0)|0)>>2]=Ue+(36*(0|c[be+(L<<2)>>2])|0),c[He+(24*L|0)+4>>2]=c[B+(L<<2)>>2],c[He+(24*L|0)+8>>2]=c[ne+(L<<2)>>2],c[He+(24*L|0)+12>>2]=c[_e+(L<<2)>>2],Ii=0|c[qe+(L<<2)>>2],c[He+(24*L|0)+16>>2]=Pe+(Ii<<2),c[He+(24*L|0)+20>>2]=Ae+(Ii<<1),1<(0|si););if((0|(L=0|c[x>>2]))<=0){B=0;break}for(ne=0|c[jr>>2],B=0;jr=0|c[Ue+(36*(0|c[be+((L=(si=L)+-1|0)<<2)>>2])|0)+8>>2],B=(c[ne+(L<<2)>>2]=jr)+B|0,1<(0|si););L=0|c[x>>2]}else B=0;while(0);c[mt+516>>2]=B,c[mt+508>>2]=L;do if(3<(0|xn[q>>0])){if((255&(B=0|xe[Bt+4>>0]))<4)break;if(L=0|c[Ln+120>>2],0<(0|(c[mt+572>>2]=L)))for(Ue=0|c[mt+576>>2],ne=0|c[Nr>>2],_e=0|c[Bt+1112>>2],Pe=0|c[Bt+1124>>2],qe=0|c[Bt+1116>>2],Ae=0|c[Bt+1128>>2],He=0|c[Bt+1120>>2];c[Ue+(20*(L=(or=L)+-1|0)|0)>>2]=ne+(52*(0|c[_e+(L<<2)>>2])|0),Nr=0|c[qe+(L<<2)>>2],c[Ue+(20*L|0)+4>>2]=Pe+(Nr<<2),c[Ue+(20*L|0)+8>>2]=Ae+(Nr<<2),c[Ue+(20*L|0)+12>>2]=c[He+(L<<2)>>2],1<(0|or););if(L=0|c[Ln+100>>2],0<(0|(c[mt+580>>2]=L)))for(ne=0|c[mt+584>>2],_e=0|c[Bt+1056>>2],Pe=0|c[Bt+1132>>2],qe=0|c[Bt+1052>>2],Ae=0|c[Bt+1060>>2];c[ne+(28*(L=(or=L)+-1|0)|0)>>2]=c[_e+(L<<2)>>2],c[ne+(28*L|0)+4>>2]=Pe+(c[qe+(L<<2)>>2]<<2),c[ne+(28*L|0)+8>>2]=c[Ae+(L<<2)>>2],c[ne+(28*L|0)+12>>2]=0,se[ne+(28*L|0)+16>>2]=0,c[ne+(28*L|0)+20>>2]=1,(c[ne+(28*L|0)+24>>2]=1)<(0|or););if(L=0|c[Ln+104>>2],0<(0|(c[mt+588>>2]=L))){be=mt+592|0,ct=mt+584|0,Ue=Bt+1064|0,yt=Bt+1068|0,Ae=Bt+1080|0,x=mt+576|0,He=Bt+1108|0,qe=Bt+1076|0;do if(Pe=L,B=0|c[be>>2],c[B+(48*(L=L+-1|0)|0)>>2]=(0|c[ct>>2])+(28*(0|c[(0|c[Ue>>2])+(L<<2)>>2])|0),c[B+(48*L|0)+4>>2]=c[(0|c[yt>>2])+(L<<2)>>2],c[B+(48*L|0)+8>>2]=0,c[B+(48*L|0)+28>>2]=1,c[B+(48*L|0)+32>>2]=1,_e=0|c[(0|c[Ae>>2])+(L<<2)>>2],0<(0|(c[B+(48*L|0)+36>>2]=_e)))for(B=B+(48*L|0)+40|0,ne=0;c[(0|c[B>>2])+(ne<<2)>>2]=(0|c[x>>2])+(20*(0|c[(0|c[He>>2])+((0|c[(0|c[qe>>2])+(L<<2)>>2])+ne<<2)>>2])|0),(0|(ne=ne+1|0))!=(0|_e););while(1<(0|Pe));Ue=0|c[mt>>2],B=0|xe[Ue+4>>0]}else Ue=Bt;if(He=0|c[kr>>2],L=0|c[He+108>>2],(255&B)<4)break;if(0<(0|(c[mt+596>>2]=L)))for(ne=0|c[mt+600>>2],_e=0|c[y+1084>>2],Pe=0|c[y+1092>>2],qe=0|c[mt+592>>2],Ae=0|c[y+1088>>2],B=L;c[ne+(12*(B=(kr=B)+-1|0)|0)>>2]=c[_e+(B<<2)>>2],c[ne+(12*B|0)+4>>2]=c[Pe+(B<<2)>>2],c[ne+(12*B|0)+8>>2]=qe+(48*(0|c[Ae+(B<<2)>>2])|0),1<(0|kr););if(B=0|c[He+112>>2],0<(0|(c[mt+604>>2]=B)))for(ne=0|c[mt+608>>2],_e=0|c[y+1096>>2],Pe=0|c[y+1104>>2],qe=0|c[mt+592>>2],L=0|c[y+1100>>2];c[ne+(12*(B=(y=B)+-1|0)|0)>>2]=c[_e+(B<<2)>>2],c[ne+(12*B|0)+4>>2]=c[Pe+(B<<2)>>2],c[ne+(12*B|0)+8>>2]=qe+(48*(0|c[L+(B<<2)>>2])|0),1<(0|y););if(ne=0|c[Ue+1132>>2],_e=0|c[20+(0|c[Ue+704>>2])>>2],Pe=mt+612|0,c[mt+616>>2]=c[Ue+972>>2],B=0|c[Ue+964>>2],c[Pe>>2]=B,(0|_e)<=0||(c[B>>2]=ne+(c[c[(L=Ue+968|0)>>2]>>2]<<2),(0|_e)==1))break;for(B=1;c[(0|c[Pe>>2])+(B<<2)>>2]=ne+(c[(0|c[L>>2])+(B<<2)>>2]<<2),(0|(B=B+1|0))!=(0|_e););}else{if((0|c[Ln+20>>2])<=0)break;mn=Bt+948|0,Ln=Bt+952|0,fn=mt+612|0,An=Bt+1032|0,Un=Bt+1036|0,ct=Bt+1132|0,yt=mt+616|0,It=0;do{if(B=0|c[(0|c[mn>>2])+(It<<2)>>2],be=(y=0|c[(0|c[Ln>>2])+(It<<2)>>2])+B|0,x=0|c[(0|c[fn>>2])+(It<<2)>>2],0<(0|y)){He=0|c[An>>2],Ue=0|c[Un>>2],Ae=B,B=0;do if(L=0|c[He+(Ae<<2)>>2],qe=(y=0|c[Ue+(Ae<<2)>>2])+L|0,0<(0|y)){Pe=0|c[ct>>2];do{Je=+se[Pe+(L<<2)>>2],ne=x+(B<<2)|0;e:do if(0<(0|B))for(_e=x;;){if(+se[_e>>2]==Je)break e;if(ne>>>0<=(_e=_e+4|0)>>>0){or=146;break}}else or=146;while(0)}while((0|or)==146&&(or=0,se[ne>>2]=Je,B=B+1|0),(0|(L=L+1|0))<(0|qe))}while((0|(Ae=Ae+1|0))<(0|be))}else B=0;(function(ui,Yr){ui|=0;var bi=0,ur=0,Qa=0,Jd=0,$x=0,ef=0,Vo=0,zs=0,qc=0,ug=0;ve=(ug=ve)+208|0,Qa=(Yr|=0)<<2,c[(ef=zs=(Vo=ug)+192|0)>>2]=1,c[ef+4>>2]=0;e:do if(0|Qa){for(c[Vo+4>>2]=4,c[Vo>>2]=4,bi=Yr=4,ur=2;Yr=Yr+4+bi|0,(c[Vo+(ur<<2)>>2]=Yr)>>>0<Qa>>>0;)ef=bi,bi=Yr,ur=ur+1|0,Yr=ef;if(ui>>>0<(Jd=ui+Qa+-4|0)>>>0){$x=Jd,ef=4+zs|0,bi=ui,ur=Yr=1;do do if((3&Yr|0)!=3){if((0|c[Vo+((Qa=ur+-1|0)<<2)>>2])>>>0<($x-bi|0)>>>0?hu(bi,ur,Vo):Xd(bi,Yr,0|c[ef>>2],ur,0,Vo),(0|ur)==1){Yd(zs,1),ur=0;break}Yd(zs,Qa),ur=1;break}while(hu(bi,ur,Vo),Hc(zs,2),ur=ur+2|0,0);while(Yr=1|c[zs>>2],c[zs>>2]=Yr,(bi=bi+4|0)>>>0<Jd>>>0);Qa=0|c[(Jd=ef)>>2]}else Jd=4+zs|0,Qa=0,bi=ui,ur=Yr=1;for(Xd(bi,Yr,Qa,ur,0,Vo),Qa=4+zs|0;;){if((0|ur)==1&(0|Yr)==1){if(!(0|c[Qa>>2]))break e;qc=21}else(0|ur)<2?qc=21:(Yd(zs,2),ui=ur+-2|0,c[zs>>2]=7^c[zs>>2],Hc(zs,1),Xd(bi+(0-(0|c[Vo+(ui<<2)>>2]))+-4|0,0|c[zs>>2],0|c[Jd>>2],ur+-1|0,1,Vo),Yd(zs,1),Yr=1|c[zs>>2],c[zs>>2]=Yr,Xd(bi=bi+-4|0,Yr,0|c[Jd>>2],ui,1,Vo),ur=ui);(0|qc)==21&&(ui=(qc=0)|yh(zs),Hc(zs,ui),Yr=0|c[zs>>2],bi=bi+-4|0,ur=ui+ur|0)}}while(0);ve=ug})(x,B),c[(0|c[yt>>2])+(It<<2)>>2]=B,It=It+1|0}while((0|It)<(0|c[20+(0|c[Rn>>2])>>2]))}while(0);return wa(mt),ve=Oi,0|mt}function Qn(y,x){return 0|((y=+se[(y|=0)>>2])<(x=+se[(x|=0)>>2])?-1:x<y&1)}function ar(y){var x=0|xe[(y|=0)+4>>0];c[y+704>>2]=y+(0|c[y+64>>2]),c[y+708>>2]=y+(0|c[y+68>>2]),c[y+712>>2]=y+(0|c[y+72>>2]),c[y+716>>2]=y+(0|c[y+76>>2]),c[y+720>>2]=y+(0|c[y+80>>2]),c[y+724>>2]=y+(0|c[y+84>>2]),c[y+728>>2]=y+(0|c[y+88>>2]),c[y+732>>2]=y+(0|c[y+92>>2]),c[y+736>>2]=y+(0|c[y+96>>2]),c[y+740>>2]=y+(0|c[y+100>>2]),c[y+744>>2]=y+(0|c[y+104>>2]),c[y+748>>2]=y+(0|c[y+108>>2]),c[y+752>>2]=y+(0|c[y+112>>2]),c[y+756>>2]=y+(0|c[y+116>>2]),c[y+760>>2]=y+(0|c[y+120>>2]),c[y+764>>2]=y+(0|c[y+124>>2]),c[y+768>>2]=y+(0|c[y+128>>2]),c[y+772>>2]=y+(0|c[y+132>>2]),c[y+776>>2]=y+(0|c[y+136>>2]),c[y+780>>2]=y+(0|c[y+140>>2]),c[y+784>>2]=y+(0|c[y+144>>2]),c[y+788>>2]=y+(0|c[y+148>>2]),c[y+796>>2]=y+(0|c[y+152>>2]),c[y+800>>2]=y+(0|c[y+156>>2]),c[y+804>>2]=y+(0|c[y+160>>2]),c[y+812>>2]=y+(0|c[y+164>>2]),c[y+816>>2]=y+(0|c[y+168>>2]),c[y+820>>2]=y+(0|c[y+172>>2]),c[y+828>>2]=y+(0|c[y+176>>2]),c[y+832>>2]=y+(0|c[y+180>>2]),c[y+836>>2]=y+(0|c[y+184>>2]),c[y+840>>2]=y+(0|c[y+188>>2]),c[y+844>>2]=y+(0|c[y+192>>2]),c[y+848>>2]=y+(0|c[y+196>>2]),c[y+852>>2]=y+(0|c[y+200>>2]),c[y+856>>2]=y+(0|c[y+204>>2]),c[y+860>>2]=y+(0|c[y+208>>2]),c[y+868>>2]=y+(0|c[y+212>>2]),c[y+872>>2]=y+(0|c[y+216>>2]),c[y+876>>2]=y+(0|c[y+220>>2]),c[y+880>>2]=y+(0|c[y+224>>2]),c[y+884>>2]=y+(0|c[y+228>>2]),c[y+888>>2]=y+(0|c[y+232>>2]),c[y+892>>2]=y+(0|c[y+236>>2]),c[y+896>>2]=y+(0|c[y+240>>2]),c[y+900>>2]=y+(0|c[y+244>>2]),c[y+904>>2]=y+(0|c[y+248>>2]),c[y+908>>2]=y+(0|c[y+252>>2]),c[y+912>>2]=y+(0|c[y+256>>2]),c[y+916>>2]=y+(0|c[y+260>>2]),c[y+920>>2]=y+(0|c[y+264>>2]),c[y+924>>2]=y+(0|c[y+268>>2]),c[y+928>>2]=y+(0|c[y+272>>2]),c[y+932>>2]=y+(0|c[y+276>>2]),c[y+936>>2]=y+(0|c[y+280>>2]),c[y+940>>2]=y+(0|c[y+284>>2]),c[y+948>>2]=y+(0|c[y+288>>2]),c[y+952>>2]=y+(0|c[y+292>>2]),c[y+976>>2]=y+(0|c[y+296>>2]),c[y+980>>2]=y+(0|c[y+300>>2]),c[y+984>>2]=y+(0|c[y+304>>2]),c[y+988>>2]=y+(0|c[y+308>>2]),c[y+992>>2]=y+(0|c[y+312>>2]),c[y+996>>2]=y+(0|c[y+316>>2]),c[y+1e3>>2]=y+(0|c[y+320>>2]),c[y+1004>>2]=y+(0|c[y+324>>2]),c[y+1008>>2]=y+(0|c[y+328>>2]),c[y+1012>>2]=y+(0|c[y+332>>2]),c[y+1016>>2]=y+(0|c[y+336>>2]),c[y+1020>>2]=y+(0|c[y+340>>2]),c[y+1024>>2]=y+(0|c[y+344>>2]),c[y+1028>>2]=y+(0|c[y+348>>2]),c[y+1040>>2]=y+(0|c[y+352>>2]),c[y+1044>>2]=y+(0|c[y+356>>2]),c[y+1048>>2]=y+(0|c[y+360>>2]),c[y+1032>>2]=y+(0|c[y+364>>2]),c[y+1036>>2]=y+(0|c[y+368>>2]),c[y+1132>>2]=y+(0|c[y+372>>2]),c[y+1136>>2]=y+(0|c[y+376>>2]),c[y+1140>>2]=y+(0|c[y+380>>2]),c[y+1144>>2]=y+(0|c[y+384>>2]),c[y+1148>>2]=y+(0|c[y+388>>2]),c[y+1152>>2]=y+(0|c[y+392>>2]),c[y+1156>>2]=y+(0|c[y+396>>2]),c[y+1160>>2]=y+(0|c[y+400>>2]),c[y+1164>>2]=y+(0|c[y+404>>2]),c[y+1168>>2]=y+(0|c[y+408>>2]),c[y+1172>>2]=y+(0|c[y+412>>2]),c[y+1176>>2]=y+(0|c[y+416>>2]),c[y+1180>>2]=y+(0|c[y+420>>2]),c[y+1184>>2]=y+(0|c[y+424>>2]),c[y+1188>>2]=y+(0|c[y+428>>2]),c[y+1192>>2]=y+(0|c[y+432>>2]),c[y+1196>>2]=y+(0|c[y+436>>2]),c[y+1200>>2]=y+(0|c[y+440>>2]),c[y+1204>>2]=y+(0|c[y+444>>2]),c[y+1208>>2]=y+(0|c[y+448>>2]),c[y+1212>>2]=y+(0|c[y+452>>2]),c[y+1216>>2]=y+(0|c[y+456>>2]),c[y+1220>>2]=y+(0|c[y+460>>2]),c[y+1224>>2]=y+(0|c[y+464>>2]),(255&x)<=1||(c[y+808>>2]=y+(0|c[y+468>>2]),(255&x)<=3||(c[y+964>>2]=y+(0|c[y+472>>2]),c[y+968>>2]=y+(0|c[y+476>>2]),c[y+972>>2]=y+(0|c[y+480>>2]),c[y+792>>2]=y+(0|c[y+484>>2]),c[y+824>>2]=y+(0|c[y+488>>2]),c[y+864>>2]=y+(0|c[y+492>>2]),c[y+1228>>2]=y+(0|c[y+496>>2]),c[y+1232>>2]=y+(0|c[y+500>>2]),c[y+1236>>2]=y+(0|c[y+504>>2]),c[y+1240>>2]=y+(0|c[y+508>>2]),c[y+1244>>2]=y+(0|c[y+512>>2]),c[y+1248>>2]=y+(0|c[y+516>>2]),c[y+944>>2]=y+(0|c[y+520>>2]),c[y+956>>2]=y+(0|c[y+524>>2]),c[y+960>>2]=y+(0|c[y+528>>2]),c[y+1052>>2]=y+(0|c[y+532>>2]),c[y+1056>>2]=y+(0|c[y+536>>2]),c[y+1060>>2]=y+(0|c[y+540>>2]),c[y+1064>>2]=y+(0|c[y+544>>2]),c[y+1068>>2]=y+(0|c[y+548>>2]),c[y+1072>>2]=y+(0|c[y+552>>2]),c[y+1076>>2]=y+(0|c[y+556>>2]),c[y+1080>>2]=y+(0|c[y+560>>2]),c[y+1084>>2]=y+(0|c[y+564>>2]),c[y+1088>>2]=y+(0|c[y+568>>2]),c[y+1092>>2]=y+(0|c[y+572>>2]),c[y+1096>>2]=y+(0|c[y+576>>2]),c[y+1100>>2]=y+(0|c[y+580>>2]),c[y+1104>>2]=y+(0|c[y+584>>2]),c[y+1108>>2]=y+(0|c[y+588>>2]),c[y+1112>>2]=y+(0|c[y+592>>2]),c[y+1116>>2]=y+(0|c[y+596>>2]),c[y+1120>>2]=y+(0|c[y+600>>2]),c[y+1124>>2]=y+(0|c[y+604>>2]),c[y+1128>>2]=y+(0|c[y+608>>2])))}function pr(y){y|=0;var x,L,pe,J=0,M=0,oe=0,Q=0,q=0,B=0,ne=0,_e=0,Pe=0,qe=0,Ae=0,He=ve;if(ve=ve+32|0,M=He+24|0,c[(Ae=He)>>2]=4,c[Ae+4>>2]=2,c[Ae+8>>2]=2,function(Ue,be){Ue|=0,be|=0;var ct=0,yt=0;ve=(Ue=ve)+272|0,ct=Ue+16|0,c[(yt=Ue)>>2]=be,Uo(ct,993,yt),function(Je){Je|=0;var It=0,fn=0;ve=(It=ve)+16|0,c[(fn=It)>>2]=Je,function(An,Un,mn){An|=0,Un|=0,mn|=0,ve=(Un=ve)+16|0,c[(An=Un)>>2]=mn,ho(496,2518,An),ve=Un}(0,0,fn),ve=It}(ct),ve=Ue}(0,Ae),0|zc(y))return Sn(0,1038,He+16|0),ve=He,(Ae=0)|Ae;if(4<(255&(J=0|xe[(oe=y+4|0)>>0])))return c[M>>2]=4,c[M+4>>2]=255&J,Sn(0,1101,M),ve=He,(Ae=0)|Ae;if(0|xe[(J=y+5|0)>>0]?(ri(oe,1),Ft(y+64|0,4,160),xe[J>>0]=0,ar(y),J=0|xe[oe>>0],Ft(0|c[(M=y+704|0)>>2],4,32),ri(0|c[(Ae=y+708|0)>>2],4),ri(4+(0|c[Ae>>2])|0,4),ri(8+(0|c[Ae>>2])|0,4),ri(12+(0|c[Ae>>2])|0,4),ri(16+(0|c[Ae>>2])|0,4),ri(20+(0|c[Ae>>2])|0,1),Ft(0|c[y+720>>2],4,0|c[c[M>>2]>>2]),Ft(0|c[y+724>>2],4,0|c[c[M>>2]>>2]),Ft(0|c[y+728>>2],4,0|c[c[M>>2]>>2]),Ft(0|c[y+732>>2],4,0|c[c[M>>2]>>2]),Ft(0|c[y+736>>2],4,0|c[c[M>>2]>>2]),Ft(0|c[y+740>>2],4,0|c[c[M>>2]>>2]),Ft(0|c[y+752>>2],4,0|c[4+(0|c[M>>2])>>2]),Ft(0|c[y+756>>2],4,0|c[4+(0|c[M>>2])>>2]),Ft(0|c[y+760>>2],4,0|c[4+(0|c[M>>2])>>2]),Ft(0|c[y+764>>2],4,0|c[4+(0|c[M>>2])>>2]),Ft(0|c[y+768>>2],4,0|c[4+(0|c[M>>2])>>2]),Ft(0|c[y+772>>2],4,0|c[4+(0|c[M>>2])>>2]),Ft(0|c[y+776>>2],4,0|c[4+(0|c[M>>2])>>2]),Ft(0|c[y+780>>2],4,0|c[8+(0|c[M>>2])>>2]),Ft(0|c[y+784>>2],4,0|c[8+(0|c[M>>2])>>2]),Ft(0|c[y+788>>2],4,0|c[8+(0|c[M>>2])>>2]),Ft(0|c[y+796>>2],4,0|c[8+(0|c[M>>2])>>2]),Ft(0|c[y+800>>2],4,0|c[8+(0|c[M>>2])>>2]),Ft(0|c[y+804>>2],4,0|c[8+(0|c[M>>2])>>2]),Ft(0|c[y+812>>2],4,0|c[12+(0|c[M>>2])>>2]),Ft(0|c[y+816>>2],4,0|c[12+(0|c[M>>2])>>2]),Ft(0|c[y+820>>2],4,0|c[12+(0|c[M>>2])>>2]),Ft(0|c[y+828>>2],4,0|c[12+(0|c[M>>2])>>2]),Ft(0|c[y+852>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+856>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+860>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+868>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+872>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+876>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+880>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+884>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+888>>2],1,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+892>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+896>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+900>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+904>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+908>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+912>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+924>>2],4,0|c[20+(0|c[M>>2])>>2]),Ft(0|c[y+928>>2],4,0|c[20+(0|c[M>>2])>>2]),Ft(0|c[y+932>>2],4,0|c[20+(0|c[M>>2])>>2]),Ft(0|c[y+936>>2],4,0|c[20+(0|c[M>>2])>>2]),Ft(0|c[y+940>>2],4,0|c[20+(0|c[M>>2])>>2]),Ft(0|c[y+948>>2],4,0|c[20+(0|c[M>>2])>>2]),Ft(0|c[y+952>>2],4,0|c[20+(0|c[M>>2])>>2]),Ft(0|c[y+976>>2],4,0|c[24+(0|c[M>>2])>>2]),Ft(0|c[y+980>>2],4,0|c[28+(0|c[M>>2])>>2]),Ft(0|c[y+984>>2],4,0|c[28+(0|c[M>>2])>>2]),Ft(0|c[y+988>>2],4,0|c[32+(0|c[M>>2])>>2]),Ft(0|c[y+992>>2],4,0|c[32+(0|c[M>>2])>>2]),Ft(0|c[y+996>>2],4,0|c[32+(0|c[M>>2])>>2]),Ft(0|c[y+1e3>>2],4,0|c[32+(0|c[M>>2])>>2]),Ft(0|c[y+1004>>2],4,0|c[32+(0|c[M>>2])>>2]),Ft(0|c[y+1008>>2],4,0|c[32+(0|c[M>>2])>>2]),Ft(0|c[y+1012>>2],4,0|c[32+(0|c[M>>2])>>2]),Ft(0|c[y+1016>>2],4,0|c[36+(0|c[M>>2])>>2]),Ft(0|c[y+1020>>2],4,0|c[36+(0|c[M>>2])>>2]),Ft(0|c[y+1024>>2],4,0|c[36+(0|c[M>>2])>>2]),Ft(0|c[y+1028>>2],4,0|c[40+(0|c[M>>2])>>2]),Ft(0|c[y+1040>>2],4,0|c[44+(0|c[M>>2])>>2]),Ft(0|c[y+1044>>2],4,0|c[48+(0|c[M>>2])>>2]),Ft(0|c[y+1048>>2],4,0|c[48+(0|c[M>>2])>>2]),Ft(0|c[y+1032>>2],4,0|c[52+(0|c[M>>2])>>2]),Ft(0|c[y+1036>>2],4,0|c[52+(0|c[M>>2])>>2]),Ft(0|c[y+1132>>2],4,0|c[56+(0|c[M>>2])>>2]),Ft(0|c[y+1136>>2],4,0|c[60+(0|c[M>>2])>>2]),Ft(0|c[y+1140>>2],2,0|c[64+(0|c[M>>2])>>2]),Ft(0|c[y+1144>>2],4,0|c[68+(0|c[M>>2])>>2]),Ft(0|c[y+1148>>2],4,0|c[72+(0|c[M>>2])>>2]),Ft(0|c[y+1152>>2],4,0|c[72+(0|c[M>>2])>>2]),Ft(0|c[y+1156>>2],4,0|c[72+(0|c[M>>2])>>2]),Ft(0|c[y+1160>>2],4,0|c[72+(0|c[M>>2])>>2]),Ft(0|c[y+1164>>2],4,0|c[72+(0|c[M>>2])>>2]),Ft(0|c[y+1168>>2],4,0|c[76+(0|c[M>>2])>>2]),Ft(0|c[y+1172>>2],4,0|c[76+(0|c[M>>2])>>2]),Ft(0|c[y+1176>>2],4,0|c[76+(0|c[M>>2])>>2]),Ft(0|c[y+1188>>2],4,0|c[80+(0|c[M>>2])>>2]),Ft(0|c[y+1192>>2],4,0|c[80+(0|c[M>>2])>>2]),Ft(0|c[y+1196>>2],4,0|c[80+(0|c[M>>2])>>2]),Ft(0|c[y+1200>>2],4,0|c[80+(0|c[M>>2])>>2]),Ft(0|c[y+1204>>2],4,0|c[80+(0|c[M>>2])>>2]),Ft(0|c[y+1208>>2],4,0|c[80+(0|c[M>>2])>>2]),Ft(0|c[y+1212>>2],4,0|c[80+(0|c[M>>2])>>2]),Ft(0|c[y+1216>>2],4,0|c[84+(0|c[M>>2])>>2]),Ft(0|c[y+1220>>2],2,0|c[84+(0|c[M>>2])>>2]),Ft(0|c[y+1224>>2],4,0|c[88+(0|c[M>>2])>>2]),1<(255&J)&&(Ft(0|c[y+808>>2],4,0|c[8+(0|c[M>>2])>>2]),3<(255&J))&&(Ft(0|c[y+968>>2],4,0|c[20+(0|c[M>>2])>>2]),Ft(0|c[y+972>>2],4,0|c[20+(0|c[M>>2])>>2]),Ft(0|c[y+792>>2],4,0|c[8+(0|c[M>>2])>>2]),Ft(0|c[y+824>>2],4,0|c[12+(0|c[M>>2])>>2]),Ft(0|c[y+864>>2],4,0|c[16+(0|c[M>>2])>>2]),Ft(0|c[y+1228>>2],4,0|c[92+(0|c[M>>2])>>2]),Ft(0|c[y+1232>>2],4,0|c[92+(0|c[M>>2])>>2]),Ft(0|c[y+1236>>2],4,0|c[92+(0|c[M>>2])>>2]),Ft(0|c[y+1240>>2],4,0|c[96+(0|c[M>>2])>>2]),Ft(0|c[y+1244>>2],4,0|c[96+(0|c[M>>2])>>2]),Ft(0|c[y+1248>>2],4,0|c[96+(0|c[M>>2])>>2]),Ft(0|c[y+944>>2],4,0|c[20+(0|c[M>>2])>>2]),Ft(0|c[y+956>>2],4,0|c[20+(0|c[M>>2])>>2]),Ft(0|c[y+960>>2],4,0|c[20+(0|c[M>>2])>>2]),Ft(0|c[y+1052>>2],4,0|c[100+(0|c[M>>2])>>2]),Ft(0|c[y+1056>>2],4,0|c[100+(0|c[M>>2])>>2]),Ft(0|c[y+1060>>2],4,0|c[100+(0|c[M>>2])>>2]),Ft(0|c[y+1064>>2],4,0|c[104+(0|c[M>>2])>>2]),Ft(0|c[y+1068>>2],4,0|c[104+(0|c[M>>2])>>2]),Ft(0|c[y+1072>>2],4,0|c[104+(0|c[M>>2])>>2]),Ft(0|c[y+1076>>2],4,0|c[104+(0|c[M>>2])>>2]),Ft(0|c[y+1080>>2],4,0|c[104+(0|c[M>>2])>>2]),Ft(0|c[y+1084>>2],4,0|c[108+(0|c[M>>2])>>2]),Ft(0|c[y+1088>>2],4,0|c[108+(0|c[M>>2])>>2]),Ft(0|c[y+1092>>2],4,0|c[108+(0|c[M>>2])>>2]),Ft(0|c[y+1096>>2],4,0|c[112+(0|c[M>>2])>>2]),Ft(0|c[y+1100>>2],4,0|c[112+(0|c[M>>2])>>2]),Ft(0|c[y+1104>>2],4,0|c[112+(0|c[M>>2])>>2]),Ft(0|c[y+1108>>2],4,0|c[116+(0|c[M>>2])>>2]),Ft(0|c[y+1112>>2],4,0|c[120+(0|c[M>>2])>>2]),Ft(0|c[y+1116>>2],4,0|c[120+(0|c[M>>2])>>2]),Ft(0|c[y+1120>>2],4,0|c[120+(0|c[M>>2])>>2]),Ft(0|c[y+1124>>2],4,0|c[124+(0|c[M>>2])>>2]),Ft(0|c[y+1128>>2],4,0|c[124+(0|c[M>>2])>>2]))):(ar(y),M=y+704|0),0|c[905]||(c[905]=1),J=0|c[M>>2],0<(0|c[J>>2]))for(oe=y+716|0,Q=y+712|0,q=0;c[(0|c[Q>>2])+(q<<2)>>2]=(0|c[oe>>2])+(q<<6),J=0|c[M>>2],(0|(q=q+1|0))<(0|c[J>>2]););if(0<(0|c[J+4>>2]))for(oe=y+748|0,Q=y+744|0,q=0;c[(0|c[Q>>2])+(q<<2)>>2]=(0|c[oe>>2])+(q<<6),J=0|c[M>>2],(0|(q=q+1|0))<(0|c[J+4>>2]););if(0<(0|c[J+16>>2]))for(B=y+848|0,ne=y+832|0,qe=y+1136|0,pe=y+896|0,Pe=y+836|0,_e=y+1140|0,x=y+900|0,L=y+840|0,oe=y+1144|0,Q=y+908|0,q=y+844|0,Ae=0;c[(0|c[ne>>2])+(Ae<<2)>>2]=(0|c[B>>2])+(Ae<<6),c[(0|c[Pe>>2])+(Ae<<2)>>2]=(0|c[qe>>2])+(c[(0|c[pe>>2])+(Ae<<2)>>2]<<2),c[(0|c[L>>2])+(Ae<<2)>>2]=(0|c[_e>>2])+(c[(0|c[x>>2])+(Ae<<2)>>2]<<1),c[(0|c[q>>2])+(Ae<<2)>>2]=(0|c[oe>>2])+(c[(0|c[Q>>2])+(Ae<<2)>>2]<<2),J=0|c[M>>2],(0|(Ae=Ae+1|0))<(0|c[J+16>>2]););if(0<(0|c[J+20>>2]))for(oe=y+920|0,Q=y+916|0,q=0;c[(0|c[Q>>2])+(q<<2)>>2]=(0|c[oe>>2])+(q<<6),J=0|c[M>>2],(0|(q=q+1|0))<(0|c[J+20>>2]););if(0<(0|c[J+80>>2]))for(oe=y+1184|0,Q=y+1180|0,q=0;c[(0|c[Q>>2])+(q<<2)>>2]=(0|c[oe>>2])+(q<<6),J=0|c[M>>2],(0|(q=q+1|0))<(0|c[J+80>>2]););if(1&xe[20+(0|c[y+708>>2])>>0]||(0|(_e=0|c[J+16>>2]))<=0)return ve=He,0|(Ae=y);J=0|c[y+1140>>2],M=0|c[y+900>>2],oe=0|c[y+904>>2],q=0;do if(Q=J+(c[M+(q<<2)>>2]<<1)|0,ne=(Ae=0|c[oe+(q<<2)>>2])+-1|0,1<(0|Ae))for(B=0;qe=0|Gt[(Pe=Q+(B<<1)|0)>>1],Gt[Pe>>1]=0|Gt[(Ae=Q+(B+2<<1)|0)>>1],Gt[Ae>>1]=qe,(0|(B=B+3|0))<(0|ne););while((0|(q=q+1|0))!=(0|_e));M=0|c[y+1136>>2],oe=0|c[y+896>>2],Q=0|c[y+892>>2],B=0;do if(q=(J=M+(c[oe+(B<<2)>>2]<<2)|0)+((Ae=0|c[Q+(B<<2)>>2])<<1<<2)|0,0<(0|Ae))for(J=J+4|0;se[J>>2]=1-+se[J>>2],(J=J+8|0)>>>0<q>>>0;);while((0|(B=B+1|0))!=(0|_e));return ve=He,0|y}function cr(y){var x=ve;return ve=ve+16|0,0|zc(y|=0)?(Sn(0,1210,x),ve=x,(y=0)|y):(y=0|xn[y+4>>0],ve=x,0|y)}function Tr(y){var x,L,pe,J,ne=0,B=0,M=0,oe=0,Q=0,q=0,B=(y|=0)+64|0,ne=y+144|0;if(bn(B,0|c[y+88>>2],0|c[y+148>>2],0|c[ne>>2]),_r(B,0|c[y+92>>2],0|c[y+152>>2],0|c[796+(0|c[y>>2])>>2],2,0|c[ne>>2]),!((0|xn[4+(0|c[y>>2])>>0])<4||(bn(B,0|c[y+96>>2],0|c[(J=y+120|0)>>2],0|c[ne>>2]),bn(B,0|c[y+100>>2],0|c[(M=y+124|0)>>2],0|c[ne>>2]),bn(B,0|c[y+104>>2],0|c[(oe=y+128|0)>>2],0|c[ne>>2]),bn(B,0|c[y+108>>2],0|c[(x=y+132|0)>>2],0|c[ne>>2]),bn(B,0|c[y+112>>2],0|c[(L=y+136|0)>>2],0|c[ne>>2]),bn(B,0|c[y+116>>2],0|c[(pe=y+140|0)>>2],0|c[ne>>2]),ne=0|c[y+156>>2],B=0|c[J>>2],M=0|c[M>>2],oe=0|c[oe>>2],(0|(J=0|c[y+56>>2]))<=0))){for(q=Q=0;c[ne+(Q<<2)>>2]=c[B+(q<<2)>>2],c[ne+((1|Q)<<2)>>2]=c[M+(q<<2)>>2],c[ne+((2|Q)<<2)>>2]=c[oe+(q<<2)>>2],(0|(q=q+1|0))!=(0|J);)Q=Q+4|0;for(q=0|c[y+160>>2],Q=0|c[x>>2],oe=0|c[L>>2],ne=0|c[pe>>2],M=B=0;c[q+(B<<2)>>2]=c[Q+(M<<2)>>2],c[q+((1|B)<<2)>>2]=c[oe+(M<<2)>>2],c[q+((2|B)<<2)>>2]=c[ne+(M<<2)>>2],(0|(M=M+1|0))!=(0|J);)B=B+4|0}}function qn(y){var x,L,pe,J,ne=0,B=0,M=0,oe=0,Q=0,q=0,B=(y|=0)+172|0,ne=y+264|0;if(bn(B,0|c[y+196>>2],0|c[y+268>>2],0|c[ne>>2]),bn(B,0|c[y+200>>2],0|c[y+284>>2],0|c[ne>>2]),bn(B,0|c[y+204>>2],0|c[y+276>>2],0|c[ne>>2]),bn(B,0|c[y+208>>2],0|c[y+280>>2],0|c[ne>>2]),bn(B,0|c[y+212>>2],0|c[y+272>>2],0|c[ne>>2]),!((0|xn[4+(0|c[y>>2])>>0])<4||(bn(B,0|c[y+216>>2],0|c[(J=y+240|0)>>2],0|c[ne>>2]),bn(B,0|c[y+220>>2],0|c[(M=y+244|0)>>2],0|c[ne>>2]),bn(B,0|c[y+224>>2],0|c[(oe=y+248|0)>>2],0|c[ne>>2]),bn(B,0|c[y+228>>2],0|c[(x=y+252|0)>>2],0|c[ne>>2]),bn(B,0|c[y+232>>2],0|c[(L=y+256|0)>>2],0|c[ne>>2]),bn(B,0|c[y+236>>2],0|c[(pe=y+260|0)>>2],0|c[ne>>2]),ne=0|c[y+296>>2],B=0|c[J>>2],M=0|c[M>>2],oe=0|c[oe>>2],(0|(J=0|c[y+164>>2]))<=0))){for(q=Q=0;c[ne+(Q<<2)>>2]=c[B+(q<<2)>>2],c[ne+((1|Q)<<2)>>2]=c[M+(q<<2)>>2],c[ne+((2|Q)<<2)>>2]=c[oe+(q<<2)>>2],(0|(q=q+1|0))!=(0|J);)Q=Q+4|0;for(q=0|c[y+300>>2],Q=0|c[x>>2],oe=0|c[L>>2],ne=0|c[pe>>2],M=B=0;c[q+(B<<2)>>2]=c[Q+(M<<2)>>2],c[q+((1|B)<<2)>>2]=c[oe+(M<<2)>>2],c[q+((2|B)<<2)>>2]=c[ne+(M<<2)>>2],(0|(M=M+1|0))!=(0|J);)B=B+4|0}}function er(y){var x,L,pe,J,ne=0,B=0,M=0,oe=0,Q=0,q=0,B=(y|=0)+340|0,ne=y+424|0;if(bn(B,0|c[y+364>>2],0|c[y+448>>2],0|c[ne>>2]),Xn(B,0|c[y+368>>2],0|c[y+440>>2],0|c[ne>>2]),_r(B,0|c[y+372>>2],0|c[y+444>>2],0|c[892+(0|c[y>>2])>>2],2,0|c[ne>>2]),!((0|xn[4+(0|c[y>>2])>>0])<4||(bn(B,0|c[y+376>>2],0|c[(J=y+400|0)>>2],0|c[ne>>2]),bn(B,0|c[y+380>>2],0|c[(M=y+404|0)>>2],0|c[ne>>2]),bn(B,0|c[y+384>>2],0|c[(oe=y+408|0)>>2],0|c[ne>>2]),bn(B,0|c[y+388>>2],0|c[(x=y+412|0)>>2],0|c[ne>>2]),bn(B,0|c[y+392>>2],0|c[(L=y+416|0)>>2],0|c[ne>>2]),bn(B,0|c[y+396>>2],0|c[(pe=y+420|0)>>2],0|c[ne>>2]),ne=0|c[y+452>>2],B=0|c[J>>2],M=0|c[M>>2],oe=0|c[oe>>2],(0|(J=0|c[y+332>>2]))<=0))){for(q=Q=0;c[ne+(Q<<2)>>2]=c[B+(q<<2)>>2],c[ne+((1|Q)<<2)>>2]=c[M+(q<<2)>>2],c[ne+((2|Q)<<2)>>2]=c[oe+(q<<2)>>2],(0|(q=q+1|0))!=(0|J);)Q=Q+4|0;for(q=0|c[y+456>>2],Q=0|c[x>>2],oe=0|c[L>>2],ne=0|c[pe>>2],M=B=0;c[q+(B<<2)>>2]=c[Q+(M<<2)>>2],c[q+((1|B)<<2)>>2]=c[oe+(M<<2)>>2],c[q+((2|B)<<2)>>2]=c[ne+(M<<2)>>2],(0|(M=M+1|0))!=(0|J);)B=B+4|0}}function bn(y,x,L,pe){x|=0,L|=0,pe|=0;var J,M,oe,Q=0,q=0,B=0,ne=0,_e=0,Pe=0;if(0<(0|(Q=0|c[(y|=0)+8>>2])))for(q=0|c[y+20>>2],B=0|c[y+12>>2],ne=0;se[B+(ne<<2)>>2]=+se[x+(ne<<2)>>2]*+se[q+(ne<<2)>>2],(0|(ne=ne+1|0))!=(0|Q););if(!((0|(M=0|c[y>>2]))<=0))if(Pe=y+16|0,oe=0|c[y+4>>2],J=y+12|0,pe)for(x=ne=0;;){if(0|c[pe>>2]){if(q=(y=0|c[(0|c[Pe>>2])+(x<<2)>>2])+ne|0,0<(0|y))for(Q=0|c[J>>2],B=ne,_e=0;_e+=+se[Q+(B<<2)>>2],(0|(B=B+1|0))<(0|q););else _e=0;se[L+(x<<2)>>2]=_e}if((0|(Q=x+1|0))==(0|M))break;pe=pe+4|0,ne=(0|c[oe+(x<<2)>>2])+ne|0,x=Q}else for(ne=0|c[Pe>>2],y=x=0;;){if(q=(Pe=0|c[ne+(y<<2)>>2])+x|0,0<(0|Pe))for(Q=0|c[J>>2],B=x,_e=0;_e+=+se[Q+(B<<2)>>2],(0|(B=B+1|0))<(0|q););else _e=0;if(se[L+(y<<2)>>2]=_e,(0|(Q=y+1|0))==(0|M))break;x=(0|c[oe+(y<<2)>>2])+x|0,y=Q}}function Xn(y,x,L,pe){x|=0,L|=0,pe|=0;var J,M,oe=0,Q=0,q=0,B=0,ne=0,_e=0;if(0<(0|(oe=0|c[(y|=0)+8>>2])))for(Q=0|c[y+20>>2],q=0|c[y+12>>2],B=0;se[q+(B<<2)>>2]=+se[x+(B<<2)>>2]*+se[Q+(B<<2)>>2],(0|(B=B+1|0))!=(0|oe););if(!((0|(oe=0|c[y>>2]))<=0))if(_e=y+16|0,J=0|c[y+4>>2],M=y+12|0,pe)for(x=B=0;;){if(0|c[pe>>2]){if(Q=(q=0|c[(0|c[_e>>2])+(x<<2)>>2])+B|0,0<(0|q))for(oe=0|c[M>>2],q=B,ne=0;ne+=+se[oe+(q<<2)>>2],(0|(q=q+1|0))<(0|Q););else ne=0;c[L+(x<<2)>>2]=~~(ne+.0010000000474974513),oe=0|c[y>>2]}if(!((0|(Q=x+1|0))<(0|oe)))break;pe=pe+4|0,B=(0|c[J+(x<<2)>>2])+B|0,x=Q}else for(B=0|c[_e>>2],pe=x=0;;){if(Q=(_e=0|c[B+(pe<<2)>>2])+x|0,0<(0|_e))for(oe=0|c[M>>2],q=x,ne=0;ne+=+se[oe+(q<<2)>>2],(0|(q=q+1|0))<(0|Q););else ne=0;if(c[L+(pe<<2)>>2]=~~(ne+.0010000000474974513),!((0|(oe=pe+1|0))<(0|c[y>>2])))break;x=(0|c[J+(pe<<2)>>2])+x|0,pe=oe}}function _r(y,x,L,pe,J,M){x|=0,L|=0,pe|=0,J|=0,M|=0;var oe,Q,q,B,ne,_e=0,Pe=0,qe=0,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0,Je=0|c[(y|=0)>>2];if(!((0|Je)<=0))if(B=y+16|0,q=0|c[y+4>>2],Q=y+20|0,oe=J<<2,M)for(ct=be=0;;){if(0|c[M>>2]&&(Ae=0|c[L+(ct<<2)>>2],y=0|c[pe+(ct<<2)>>2],Ue=0|Me(y,J),He=(_e=0|c[(0|c[B>>2])+(ct<<2)>>2])+be|0,(qe=0<(0|Ue))&&hl(0|Ae,0,0|Me(oe,y)),0<(0|_e)&&(yt=0|c[Q>>2],qe))){_e=be;do for(y=0|c[x+(_e<<2)>>2],Pe=+se[yt+(_e<<2)>>2],qe=0;se[(ne=Ae+(qe<<2)|0)>>2]=+se[ne>>2]+Pe*+se[y+(qe<<2)>>2],(0|(qe=qe+1|0))!=(0|Ue););while((0|(_e=_e+1|0))<(0|He))}if((0|(y=ct+1|0))==(0|Je))break;M=M+4|0,be=(0|c[q+(ct<<2)>>2])+be|0,ct=y}else for(be=Ue=0;;){if(qe=0|c[L+(be<<2)>>2],y=0|c[pe+(be<<2)>>2],He=0|Me(y,J),Ae=(M=0|c[(0|c[B>>2])+(be<<2)>>2])+Ue|0,(_e=0<(0|He))&&hl(0|qe,0,0|Me(oe,y)),0<(0|M)&&(ct=0|c[Q>>2],_e)){M=Ue;do for(y=0|c[x+(M<<2)>>2],Pe=+se[ct+(M<<2)>>2],_e=0;se[(yt=qe+(_e<<2)|0)>>2]=+se[yt>>2]+Pe*+se[y+(_e<<2)>>2],(0|(_e=_e+1|0))!=(0|He););while((0|(M=M+1|0))<(0|Ae))}if((0|(y=be+1|0))==(0|Je))break;Ue=(0|c[q+(be<<2)>>2])+Ue|0,be=y}}function Ci(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|function(pe){pe|=0;var J,M,oe=ve;return ve=ve+560|0,J=(M=oe)+548|0,hl(0|M,0,548),ni(pe,M,J),ve=oe,0|c[J>>2]}(y),ve=L,0|x):(c[x>>2]=1515,c[x+4>>2]=1533,Sn(0,1269,x),ve=L,(x=0)|x)}function Hr(y,x,L){x|=0,L|=0;var pe,J,M=0,oe=0,Q=ve;return ve=ve+32|0,oe=Q+24|0,J=Q+16|0,M=Q+8|0,pe=Q,(y|=0)?x?((M=x)+15&-16|0)!=(0|M)?(c[J>>2]=1551,c[4+J>>2]=1342,Sn(0,1269,J),ve=Q,(oe=0)|oe):(x=0|rr(y,x,L))?(ve=Q,0|(oe=x)):(c[oe>>2]=1551,c[oe+4>>2]=1577,Sn(0,1269,oe),ve=Q,(oe=0)|oe):(c[M>>2]=1551,c[M+4>>2]=1303,Sn(0,1269,M),ve=Q,(oe=0)|oe):(c[pe>>2]=1551,c[pe+4>>2]=1533,Sn(0,1269,pe),ve=Q,(oe=0)|oe)}function gr(y,x,L,pe){if(L=+L,pe=+pe,(x=+we(+(x=+x),+(y=+y))-+we(+pe,+L))<-3.1415927410125732)for(;(x+=6.2831854820251465)<-3.1415927410125732;);if(!(3.1415927410125732<x))return+(L=x);for(;3.1415927410125732<(x+=-6.2831854820251465););return+x}function ri(y,x){y|=0,x|=0;var L;if(!((x=y+x+-1|0)>>>0<=y>>>0))for(;L=0|xe[y>>0],xe[y>>0]=0|xe[x>>0],y=y+1|0,xe[x>>0]=L,y>>>0<(x=x+-1|0)>>>0;);}function Ft(y,x,L){y|=0,x|=0;var pe,J=0,M=0;if(L|=0)do if(L=L+-1|0,(M=y)>>>0<(J=(y=y+x|0)+-1|0)>>>0)for(;pe=0|xe[M>>0],xe[M>>0]=0|xe[J>>0],M=M+1|0,xe[J>>0]=pe,M>>>0<(J=J+-1|0)>>>0;);while(0|L)}function xs(y){var x,L,pe,J=0,M=0,oe=0,Q=0,Ue=0,be=0,ct=0,q=0,He=0,B=0,ne=0,_e=0,Pe=0,qe=0,Ae=(J=0|c[(L=(y|=0)+336|0)>>2])+(20*(q=0|c[(pe=y+332|0)>>2])|0)|0,He=y+424|0,Ue=0|c[y+48>>2],be=0|c[y+316>>2],ct=0|c[y+308>>2];if(0<(0|q))for(q=0|c[He>>2],oe=0|c[y+448>>2],Q=0|c[y+444>>2];0|c[q>>2]&&((0|(M=0|c[J+4>>2]))!=-1&&(se[oe>>2]=+se[Ue+(M<<2)>>2]*+se[oe>>2]),(0|(M=0|c[J+8>>2]))!=-1&&(se[oe>>2]=+se[be+(M<<2)>>2]*+se[oe>>2],ne=0|c[Q>>2],Wc[3&c[ct+(M<<5)+24>>2]](y,M,ne,ne,0|c[J+16>>2]))),!(Ae>>>0<=(J=J+20|0)>>>0);)q=q+4|0,oe=oe+4|0,Q=Q+4|0;if(!((0|xn[4+(0|c[y>>2])>>0])<4||(ct=(J=0|c[L>>2])+(20*(ne=0|c[pe>>2])|0)|0,Ue=0|c[y+324>>2],be=0|c[y+328>>2],(0|ne)<=0)))for(Q=0|c[He>>2],M=J,oe=0|c[y+452>>2],J=0|c[y+456>>2];0|c[Q>>2]&&(0|(B=0|c[M+8>>2]))!=-1&&(_e=+se[oe>>2]*+se[(pe=Ue+((He=B<<2)<<2)|0)>>2],se[oe>>2]=_e,Pe=+se[(ne=oe+4|0)>>2]*+se[4+pe>>2],se[ne>>2]=Pe,qe=+se[(y=oe+8|0)>>2]*+se[8+pe>>2],se[oe>>2]=_e<0?0:1<_e?1:_e,se[ne>>2]=Pe<0?0:1<Pe?1:Pe,se[y>>2]=qe<0?0:1<qe?1:qe,se[oe+12>>2]=1,qe=+se[J>>2],Pe=+se[(He=be+(He<<2)|0)>>2],se[J>>2]=Pe=qe+Pe-qe*Pe,qe=+se[(y=J+4|0)>>2],_e=+se[He+4>>2],se[y>>2]=_e=qe+_e-qe*_e,x=(qe=+se[(ne=J+8|0)>>2])+(x=+se[He+8>>2])-qe*x,se[J>>2]=Pe<0?0:1<Pe?1:Pe,se[y>>2]=_e<0?0:1<_e?1:_e,se[ne>>2]=x<0?0:1<x?1:x,se[J+12>>2]=1),!(ct>>>0<=(M=M+20|0)>>>0);)Q=Q+4|0,oe=oe+16|0,J=J+16|0}function wi(y){var x,L=0|c[(y|=0)+332>>2];0|c[y+428>>2]&&(Hl(0|c[y+460>>2],0|c[y+436>>2],0|(x=L<<2)),Hl(0|c[y+464>>2],0|c[y+440>>2],0|x),Hl(0|c[y+468>>2],0|c[y+448>>2],0|x),(0|xn[4+(0|c[y>>2])>>0])<=3||(Hl(0|c[y+472>>2],0|c[y+452>>2],0|(x=L<<4)),Hl(0|c[y+476>>2],0|c[y+456>>2],0|x)))}function Pi(y){var x,L,pe,J,M,oe,Q,q,B,ne,_e,It=0,yt=0,Pe=0,qe=0,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0|xe[4+(0|c[(y|=0)>>2])>>0],Je=0|c[y+332>>2],It=y+428|0;if(0|c[y+620>>2]){if(!(((c[It>>2]=0)|Je)<=0))for(qe=y+424|0,Ae=y+432|0,It=y+448|0,yt=0;Pe=0|c[(0|c[qe>>2])+(yt<<2)>>2]&&+se[(0|c[It>>2])+(yt<<2)>>2]!=0?127:126,xe[(0|c[Ae>>2])+yt>>0]=Pe,(0|(yt=yt+1|0))!=(0|Je););}else if(0|c[It>>2]){if(!(((c[It>>2]=0)|Je)<=0))if(pe=y+424|0,oe=y+432|0,M=y+448|0,q=y+468|0,J=y+440|0,Q=y+464|0,ne=y+436|0,B=y+460|0,x=y+452|0,He=y+472|0,L=y+456|0,Ae=y+476|0,(255&yt)<=3)for(It=0;He=(0|c[(0|c[pe>>2])+(It<<2)>>2])==0,ct=+se[(0|c[M>>2])+(It<<2)>>2],be=(0|c[oe>>2])+It|0,Ue=(1&xe[be>>0])==(Ue=ct!=0&(1^He)&1)<<24>>24?Ue:2|Ue,Ue=ct!=+se[(0|c[q>>2])+(It<<2)>>2]?4|Ue:Ue,Ue=(0|c[(0|c[J>>2])+(It<<2)>>2])==(0|c[(0|c[Q>>2])+(It<<2)>>2])?Ue:8|Ue,Ue=(0|c[(0|c[ne>>2])+(It<<2)>>2])==(0|c[(0|c[B>>2])+(It<<2)>>2])?Ue:16|Ue,xe[be>>0]=He?Ue:32|Ue,(0|(It=It+1|0))!=(0|Je););else for(qe=Pe=0;_e=(0|c[(0|c[pe>>2])+(Pe<<2)>>2])==0,ct=+se[(0|c[M>>2])+(Pe<<2)>>2],yt=(0|c[oe>>2])+Pe|0,It=(1&xe[yt>>0])==(It=ct!=0&(1^_e)&1)<<24>>24?It:2|It,It=ct!=+se[(0|c[q>>2])+(Pe<<2)>>2]?4|It:It,It=(0|c[(0|c[J>>2])+(Pe<<2)>>2])==(0|c[(0|c[Q>>2])+(Pe<<2)>>2])?It:8|It,It=(0|c[(0|c[ne>>2])+(Pe<<2)>>2])==(0|c[(0|c[B>>2])+(Pe<<2)>>2])?It:16|It,It=_e?It:32|It,_e=(0|c[x>>2])+(qe<<2)|0,y=(0|c[He>>2])+(qe<<2)|0,+se[_e>>2]==+se[y>>2]&&+se[4+_e>>2]==+se[y+4>>2]&&+se[8+_e>>2]==+se[y+8>>2]&&+se[12+_e>>2]==+se[y+12>>2]&&(Ue=(0|c[L>>2])+(qe<<2)|0,be=(0|c[Ae>>2])+(qe<<2)|0,+se[Ue>>2]==+se[be>>2])&&+se[Ue+4>>2]==+se[be+4>>2]&&+se[Ue+8>>2]==+se[be+8>>2]&&+se[Ue+12>>2]==+se[be+12>>2]||(It|=64),xe[yt>>0]=It,(0|(Pe=Pe+1|0))!=(0|Je);)qe=qe+4|0}else if(!((0|Je)<=0))for(Pe=y+424|0,qe=y+432|0,It=y+448|0,yt=0;0|c[(0|c[Pe>>2])+(yt<<2)>>2]&&+se[(0|c[It>>2])+(yt<<2)>>2]!=0?(be=(0|c[qe>>2])+yt|0,xe[be>>0]=1|xe[be>>0]):(be=(0|c[qe>>2])+yt|0,xe[be>>0]=-2&xe[be>>0]),(0|(yt=yt+1|0))!=(0|Je););}function ki(y){var x,L,pe,J,M,oe,Q,Dn=0,q=0,B=0,ne=0,_e=0,Pe=0,qe=0,Fn=0,Ir=0,wr=0,Sr=0,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0,Je=0,It=0,fn=0,An=0,Un=0,mn=0,Ln=0,Rn=0,Bt=0,wn=0,Fn=0|c[(oe=(y|=0)+60|0)>>2],Dn=0|c[y>>2],Ir=0|c[Dn+784>>2],wr=0|c[(Q=y+56|0)>>2],Sr=0|c[Dn+1028>>2];if(0<(0|wr)){for(ct=y+80|0,It=y+92|0,Je=y+88|0,fn=y+84|0,yt=Dn+984|0,_e=Dn+980|0,qe=Pe=0;;){if(ne=0|c[Fn+(24*Pe|0)>>2],(0|(mn=0|c[(Dn=ne+24|0)>>2]||0|c[ne+28>>2]?15:mn))==15&&(c[((mn=0)|c[ct>>2])+(Pe<<2)>>2]=c[(be=ne+12|0)>>2],0|c[Dn>>2])&&(Ae=0|c[Ir+(Pe<<2)>>2],An=(He=0|c[ne+16>>2])+((Ln=0|c[be>>2])<<2)|0,0<(0|Ln)))for(Dn=He,q=(0|c[Je>>2])+(qe<<2)|0,B=(0|c[It>>2])+(qe<<2)|0;Ln=(0|c[Dn>>2])+Ae|0,c[B>>2]=Sr+(c[(0|c[yt>>2])+(Ln<<2)>>2]<<2),c[q>>2]=c[(0|c[_e>>2])+(Ln<<2)>>2],!(An>>>0<=(Dn=Dn+4|0)>>>0);)q=q+4|0,B=B+4|0;if(0|c[ne+28>>2]&&(Un=(Ue=0|c[ne+20>>2])+((Ln=0|c[ne+12>>2])<<2)|0,0<(0|Ln)))for(Dn=(0|c[fn>>2])+(qe<<2)|0,q=Ue;c[Dn>>2]=c[q>>2],!(Un>>>0<=(q=q+4|0)>>>0);)Dn=Dn+4|0;if((0|(Pe=Pe+1|0))==(0|wr))break;qe=(0|c[ne+8>>2])+qe|0}Dn=0|c[y>>2]}if(!((0|xn[Dn+4>>0])<4||(M=0|c[oe>>2],Ln=0|c[Dn+792>>2],(0|(oe=0|c[Q>>2]))<=0)))for(L=y+96|0,x=y+100|0,Q=y+104|0,J=y+108|0,pe=y+112|0,mn=y+116|0,An=Dn+1228|0,It=Dn+1232|0,Je=Dn+1236|0,Un=Dn+1240|0,fn=Dn+1244|0,Fn=Dn+1248|0,wr=Ir=0;;){if(Dn=0|c[M+(24*Ir|0)>>2],0|c[Dn+24>>2]&&(Rn=0|c[Ln+(Ir<<2)>>2],wn=(Bt=0|c[Dn+16>>2])+((y=0|c[Dn+12>>2])<<2)|0,0<(0|y)))for(q=0|c[An>>2],B=0|c[It>>2],ne=0|c[Je>>2],_e=0|c[Un>>2],Pe=0|c[fn>>2],qe=0|c[Fn>>2],Sr=Bt,Ae=(0|c[Q>>2])+(wr<<2)|0,He=(0|c[x>>2])+(wr<<2)|0,Ue=(0|c[L>>2])+(wr<<2)|0,be=(0|c[mn>>2])+(wr<<2)|0,ct=(0|c[pe>>2])+(wr<<2)|0,yt=(0|c[J>>2])+(wr<<2)|0;y=(0|c[Sr>>2])+Rn|0,c[Ue>>2]=c[q+(y<<2)>>2],c[He>>2]=c[B+(y<<2)>>2],c[Ae>>2]=c[ne+(y<<2)>>2],c[yt>>2]=c[_e+(y<<2)>>2],c[ct>>2]=c[Pe+(y<<2)>>2],c[be>>2]=c[qe+(y<<2)>>2],!(wn>>>0<=(Sr=Sr+4|0)>>>0);)Ae=Ae+4|0,He=He+4|0,Ue=Ue+4|0,be=be+4|0,ct=ct+4|0,yt=yt+4|0;if((0|(Ir=Ir+1|0))==(0|oe))break;wr=(0|c[Dn+8>>2])+wr|0}}function Ka(y){var x,L,pe,J,M,oe,Q=0,q=0,B=0,ne=0,_e=0,Pe=0,qe=0,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0,Je=0,Oi=0,It=0,fn=0,An=0,Un=0,mn=0,Ln=0,Rn=0,Bt=0,wn=0,Fn=0,Dn=0,Ir=0,wr=0,Sr=0,Di=0,Si=0,ii=0,$r=0,Ii=0,jr=0,si=0,Nr=0,or=0,kr=0|c[(y|=0)+168>>2],mt=0|c[y>>2],Oi=0|c[816+mt>>2];if(0<(0|(It=0|c[(oe=y+164|0)>>2])))for(wn=y+188|0,mn=y+200|0,wr=y+204|0,Di=y+208|0,J=y+212|0,Fn=y+196|0,M=y+192|0,Un=992+mt|0,Ir=996+mt|0,Sr=1e3+mt|0,pe=1004+mt|0,Dn=988+mt|0,x=1008+mt|0,Ln=y+288|0,L=1012+mt|0,Rn=y+292|0,$r=ii=0;;){if(fn=0|c[kr+(12*ii|0)>>2],(0|(Ii=0|c[(Q=fn+24|0)>>2]||0|c[fn+28>>2]?14:Ii))==14&&(c[((Ii=0)|c[wn>>2])+(ii<<2)>>2]=c[(Bt=fn+12|0)>>2],0|c[Q>>2])){if(Q=0|c[Oi+(ii<<2)>>2],Ae=(q=0|c[fn+16>>2])+((Je=0|c[Bt>>2])<<2)|0,0<(0|Je))for(B=0|c[Un>>2],ne=0|c[Ir>>2],_e=0|c[Sr>>2],Pe=0|c[pe>>2],qe=0|c[Dn>>2],He=(0|c[mn>>2])+($r<<2)|0,Ue=q,be=(0|c[Fn>>2])+($r<<2)|0,ct=(0|c[wr>>2])+($r<<2)|0,yt=(0|c[Di>>2])+($r<<2)|0,Je=(0|c[J>>2])+($r<<2)|0;or=(0|c[Ue>>2])+Q|0,c[He>>2]=c[B+(or<<2)>>2],c[ct>>2]=c[ne+(or<<2)>>2],c[yt>>2]=c[_e+(or<<2)>>2],c[Je>>2]=c[Pe+(or<<2)>>2],c[be>>2]=c[qe+(or<<2)>>2],!(Ae>>>0<=(Ue=Ue+4|0)>>>0);)He=He+4|0,be=be+4|0,ct=ct+4|0,yt=yt+4|0,Je=Je+4|0;or=(0|c[q>>2])+Q|0,c[(0|c[Ln>>2])+(ii<<2)>>2]=c[(0|c[x>>2])+(or<<2)>>2],c[(0|c[Rn>>2])+(ii<<2)>>2]=c[(0|c[L>>2])+(or<<2)>>2]}if(0|c[fn+28>>2]&&(Si=(An=0|c[fn+20>>2])+((or=0|c[fn+12>>2])<<2)|0,0<(0|or)))for(Q=(0|c[M>>2])+($r<<2)|0,q=An;c[Q>>2]=c[q>>2],!(Si>>>0<=(q=q+4|0)>>>0);)Q=Q+4|0;if((0|(ii=ii+1|0))==(0|It))break;$r=(0|c[fn+8>>2])+$r|0}if(!((0|xn[4+mt>>0])<4||(Di=0|c[824+mt>>2],(0|(wn=0|c[oe>>2]))<=0)))for(Ir=y+216|0,Dn=y+220|0,Fn=y+224|0,Sr=y+228|0,wr=y+232|0,Bt=y+236|0,Ln=1228+mt|0,Un=1232+mt|0,An=1236+mt|0,Rn=1240+mt|0,mn=1244+mt|0,Ae=1248+mt|0,Ue=He=0;;){if(qe=0|c[kr+(12*He|0)>>2],0|c[qe+24>>2]&&(si=0|c[Di+(He<<2)>>2],Nr=(jr=0|c[qe+16>>2])+((or=0|c[qe+12>>2])<<2)|0,0<(0|or)))for(Q=0|c[Ln>>2],q=0|c[Un>>2],B=0|c[An>>2],ne=0|c[Rn>>2],_e=0|c[mn>>2],Pe=0|c[Ae>>2],be=jr,ct=(0|c[Fn>>2])+(Ue<<2)|0,yt=(0|c[Dn>>2])+(Ue<<2)|0,Je=(0|c[Ir>>2])+(Ue<<2)|0,Oi=(0|c[Bt>>2])+(Ue<<2)|0,It=(0|c[wr>>2])+(Ue<<2)|0,fn=(0|c[Sr>>2])+(Ue<<2)|0;or=(0|c[be>>2])+si|0,c[Je>>2]=c[Q+(or<<2)>>2],c[yt>>2]=c[q+(or<<2)>>2],c[ct>>2]=c[B+(or<<2)>>2],c[fn>>2]=c[ne+(or<<2)>>2],c[It>>2]=c[_e+(or<<2)>>2],c[Oi>>2]=c[Pe+(or<<2)>>2],!(Nr>>>0<=(be=be+4|0)>>>0);)ct=ct+4|0,yt=yt+4|0,Je=Je+4|0,Oi=Oi+4|0,It=It+4|0,fn=fn+4|0;if((0|(He=He+1|0))==(0|wn))break;Ue=(0|c[qe+8>>2])+Ue|0}}function fo(y){var x,L,pe,J,Dn=0,M=0,oe=0,Q=0,q=0,B=0,ne=0,_e=0,Fn=0,Ir=0,wr=0,Sr=0,Pe=0,qe=0,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0,Je=0,It=0,fn=0,An=0,Un=0,mn=0,Ln=0,Rn=0,Bt=0,wn=0,Fn=0|c[(pe=(y|=0)+336|0)>>2],Dn=0|c[y>>2],Ir=0|c[Dn+856>>2],wr=0|c[(J=y+332|0)>>2],Sr=0|c[Dn+1028>>2];if(0<(0|wr)){for(Ue=y+356|0,It=y+372|0,yt=y+364|0,be=y+368|0,fn=y+360|0,ct=Dn+1024|0,Je=Dn+1016|0,B=Dn+1020|0,_e=ne=0;;){if(q=0|c[Fn+(20*ne|0)>>2],(0|(mn=0|c[(Dn=q+24|0)>>2]||0|c[q+28>>2]?15:mn))==15&&(c[((mn=0)|c[Ue>>2])+(ne<<2)>>2]=c[(He=q+12|0)>>2],0|c[Dn>>2])&&(Pe=0|c[Ir+(ne<<2)>>2],An=(qe=0|c[q+16>>2])+((Ln=0|c[He>>2])<<2)|0,0<(0|Ln)))for(Dn=(0|c[be>>2])+(_e<<2)|0,M=qe,oe=(0|c[yt>>2])+(_e<<2)|0,Q=(0|c[It>>2])+(_e<<2)|0;Ln=(0|c[M>>2])+Pe|0,c[Q>>2]=Sr+(c[(0|c[ct>>2])+(Ln<<2)>>2]<<2),c[oe>>2]=c[(0|c[Je>>2])+(Ln<<2)>>2],c[Dn>>2]=c[(0|c[B>>2])+(Ln<<2)>>2],!(An>>>0<=(M=M+4|0)>>>0);)Dn=Dn+4|0,oe=oe+4|0,Q=Q+4|0;if(0|c[q+28>>2]&&(Un=(Ae=0|c[q+20>>2])+((Ln=0|c[q+12>>2])<<2)|0,0<(0|Ln)))for(Dn=(0|c[fn>>2])+(_e<<2)|0,M=Ae;c[Dn>>2]=c[M>>2],!(Un>>>0<=(M=M+4|0)>>>0);)Dn=Dn+4|0;if((0|(ne=ne+1|0))==(0|wr))break;_e=(0|c[q+8>>2])+_e|0}Dn=0|c[y>>2]}if(!((0|xn[Dn+4>>0])<4||(L=0|c[pe>>2],Ln=0|c[Dn+864>>2],(0|(An=0|c[J>>2]))<=0)))for(pe=y+376|0,mn=y+380|0,Un=y+384|0,x=y+388|0,J=y+392|0,fn=y+396|0,Je=Dn+1228|0,ct=Dn+1232|0,be=Dn+1236|0,It=Dn+1240|0,yt=Dn+1244|0,_e=Dn+1248|0,Ir=Fn=0;;){if(Dn=0|c[L+(20*Fn|0)>>2],0|c[Dn+24>>2]&&(Rn=0|c[Ln+(Fn<<2)>>2],wn=(Bt=0|c[Dn+16>>2])+((y=0|c[Dn+12>>2])<<2)|0,0<(0|y)))for(M=0|c[Je>>2],oe=0|c[ct>>2],Q=0|c[be>>2],q=0|c[It>>2],B=0|c[yt>>2],ne=0|c[_e>>2],wr=Bt,Sr=(0|c[Un>>2])+(Ir<<2)|0,Pe=(0|c[mn>>2])+(Ir<<2)|0,qe=(0|c[pe>>2])+(Ir<<2)|0,Ae=(0|c[fn>>2])+(Ir<<2)|0,He=(0|c[J>>2])+(Ir<<2)|0,Ue=(0|c[x>>2])+(Ir<<2)|0;y=(0|c[wr>>2])+Rn|0,c[qe>>2]=c[M+(y<<2)>>2],c[Pe>>2]=c[oe+(y<<2)>>2],c[Sr>>2]=c[Q+(y<<2)>>2],c[Ue>>2]=c[q+(y<<2)>>2],c[He>>2]=c[B+(y<<2)>>2],c[Ae>>2]=c[ne+(y<<2)>>2],!(wn>>>0<=(wr=wr+4|0)>>>0);)Sr=Sr+4|0,Pe=Pe+4|0,qe=qe+4|0,Ae=Ae+4|0,He=He+4|0,Ue=Ue+4|0;if((0|(Fn=Fn+1|0))==(0|An))break;Ir=(0|c[Dn+8>>2])+Ir|0}}function wa(y){var x,L,pe,J=0;if(wi(y|=0),function(M){M|=0;var oe=0,Q=0,q=0,B=0,ne=0,_e=0,Pe=0,qe=0;if(oe=0|c[M+4>>2],ne=0|c[M>>2],_e=oe+(52*ne|0)|0,!((0|ne)<=0))for(ne=0|c[M+12>>2];Q=+se[ne>>2],B=(0|c[oe+16>>2])==0,M=oe+4|0,Q=B?(qe=+se[M>>2],Pe=+se[oe+8>>2],Q<qe?qe:Pe<Q?Pe:Q):(qe=+se[oe+12>>2],(Pe=+se[M>>2])+qe*((Q=(Q-Pe)/qe)-(0|~~+z(+Q)))),M=oe+48|0,+se[(q=oe+44|0)>>2]!=Q?(c[M>>2]=1,se[q>>2]=Q):c[M>>2]=0,B&&(se[ne>>2]=Q),!(_e>>>0<=(oe=oe+52|0)>>>0);)ne=ne+4|0}(y+540|0),function(M){M|=0;var oe=0,Q=0,q=0,B=0,ne=0,_e=0,Pe=0,qe=0,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0,Je=0,It=0,fn=0,An=0;if(oe=0|c[M+544>>2],Ue=0|c[M+540>>2],It=oe+(52*Ue|0)|0,!((0|Ue)<=0)){Ue=(0|c[M+620>>2])==0;do e:do if(!(0|c[oe>>2])&&(be=+se[oe+44>>2],ct=+se[oe+20>>2],yt=+se[oe+24>>2],Je=0|c[oe+28>>2],Ae=0|c[oe+32>>2],fn=Je+(28*Ae|0)|0,0<(0|Ae))){if(!Ue)for(Ae=Je;;){ne=0|c[Ae>>2];do if(1<=(0|ne)){if(B=0|c[Ae+4>>2],q=+se[B>>2],Q=q-ct,(0|ne)==1){ne=!(be<ct+q)|!(Q<be),Q=M=0,He=41;break}if(be<Q){B=Ae+16|0,_e=1,Q=M=0,He=43;break}if(be<ct+q)Q=M=ne=0,He=41;else{for(M=1;Q=+se[B+(M<<2)>>2],!(be<ct+Q);){if(!((0|(M=M+1|0))<(0|ne))){He=40;break}q=Q}if((0|He)==40){B=Ae+16|0,M=ne+-(_e=1)|0,Q=0,He=43;break}He=(Q=Q-ct<be?ne=0:(M=M+-1|0,(Q-=q)<yt?ne=0:(ne=0,(be-q)/Q)),41)}}else Q=M=ne=0,He=41;while(0);if((0|He)==41&&(ne|(He=0)==(0|c[(B=Ae+16|0)>>2])?(_e=1&ne,He=43):(c[Ae+24>>2]=1,c[Ae+20>>2]=1,qe=Ae+8|0,Pe=Ae+12|0,ne=0)),(0|He)==43&&(q=+se[(Pe=Ae+12|(He=0))>>2],An=q!=Q,ne=1&((0|c[(qe=Ae+8|0)>>2])!=(0|M)|An&(Q==0|q==0)),c[Ae+24>>2]=1&An,c[Ae+20>>2]=ne,ne=_e),se[Pe>>2]=Q,c[qe>>2]=M,c[B>>2]=ne,fn>>>0<=(Ae=Ae+28|0)>>>0)break e}if(!(0|c[oe+48>>2])){for(M=Je;;)if(c[M+24>>2]=0,c[M+20>>2]=0,fn>>>0<=(M=M+28|0)>>>0)break e}Ae=Je;do{ne=0|c[Ae>>2];do if(1<=(0|ne)){if(B=0|c[Ae+4>>2],q=+se[B>>2],Q=q-ct,(0|ne)==1){ne=!(be<ct+q)|!(Q<be),Q=M=0,He=24;break}if(be<Q){B=Ae+16|0,_e=1,Q=M=0,He=26;break}if(be<ct+q)Q=M=ne=0,He=24;else{for(M=1;Q=+se[B+(M<<2)>>2],!(be<ct+Q);){if(!((0|(M=M+1|0))<(0|ne))){He=21;break}q=Q}if((0|He)==21){B=Ae+16|0,M=ne+-(_e=1)|0,Q=0,He=26;break}He=(Q=Q-ct<be?ne=0:(M=M+-1|0,(Q-=q)<yt?ne=0:(ne=0,(be-q)/Q)),24)}}else Q=M=ne=0,He=24;while(0)}while((0|He)==24&&(ne|(He=0)==(0|c[(B=Ae+16|0)>>2])?(_e=1&ne,He=26):(c[Ae+24>>2]=1,c[Ae+20>>2]=1,qe=Ae+8|0,Pe=Ae+12|0,ne=0)),(0|He)==26&&(q=+se[(Pe=Ae+12|(He=0))>>2],An=q!=Q,ne=1&((0|c[(qe=Ae+8|0)>>2])!=(0|M)|An&(Q==0|q==0)),c[Ae+24>>2]=1&An,c[Ae+20>>2]=ne,ne=_e),se[Pe>>2]=Q,c[qe>>2]=M,c[B>>2]=ne,(Ae=Ae+28|0)>>>0<fn>>>0)}while(0);while((oe=oe+52|0)>>>0<It>>>0)}}(y),is(y),function(M){M|=0;var oe=0,Q=0,q=0,B=0,ne=0,_e=0,Pe=0,qe=0,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0,Je=0,It=0,fn=0,An=0,Un=0,mn=0,Ln=0,Rn=0;if(oe=0|c[M+568>>2],ct=0|c[M+564>>2],fn=oe+(36*ct|0)|0,!((0|ct)<=0)){ct=(0|c[M+620>>2])==0;do{be=0|c[oe+4>>2];e:do if(0<(0|be))for(_e=0|c[oe>>2],q=M=Q=Pe=0;;){if(B=0|c[_e+(Pe<<2)>>2],0|c[B+16>>2]){q=1,M=Q=0;break e}if(q=q||0|c[B+24>>2],M=M||0|c[B+20>>2],Q=Q+(+se[B+12>>2]!=0&1)|0,(0|be)<=(0|(Pe=Pe+1|0))){_e=Q,mn=11;break}}else q=M=_e=0,mn=11;while(0);e:do if((0|mn)==11)if(Q=ct?M:1,(mn=0)!=((M=ct?q:1)|Q|0)&&(Un=1<<_e,c[oe+12>>2]=Un,yt=0|c[oe>>2],Je=0|c[oe+16>>2],It=0|c[oe+20>>2],An=Je+(Un<<2)|0,(0|_e)!=31)){for(hl(0|Je,0,((q=Je+4|0)>>>0<An>>>0?An:q)+~Je+4&-4|0),q=It+(Un<<2)|0,B=It;se[B>>2]=1,(B=B+4|0)>>>0<q>>>0;);if(1<=(0|be)){if(!_e)for(_e=0,qe=1;;){if(B=0|c[yt+(_e<<2)>>2],Pe=0|Me(0|c[B+8>>2],qe),(ne=+se[B+12>>2])==0)for(q=0;c[(Ue=Je+(q<<2)|0)>>2]=(0|c[Ue>>2])+Pe,(0|(q=q+1|0))!=(0|Un););else c[Je>>2]=(0|c[Je>>2])+Pe,se[It>>2]=(1-ne)*+se[It>>2];if(qe=0|Me(0|c[B>>2],qe),(0|(_e=_e+1|0))==(0|be)){q=0;break e}}He=0,Ue=q=1;do if(Ae=0|c[yt+(He<<2)>>2],B=0|c[8+Ae>>2],qe=0|Me(B,Ue),(ne=+se[(Pe=12+Ae|0)>>2])==0)for(B=0;c[(Pe=Je+(B<<2)|0)>>2]=(0|c[Pe>>2])+qe,(0|(B=B+1|0))!=(0|Un););else{for(_e=0|Me(B+1|0,Ue),c[Je>>2]=(0|c[Je>>2])+qe,se[It>>2]=(1-ne)*+se[It>>2],B=1;ne=+se[Pe>>2],Rn=(B&q|0)!=0,c[(Ln=Je+(B<<2)|0)>>2]=(Rn?_e:qe)+(0|c[Ln>>2]),se[(Ln=It+(B<<2)|0)>>2]=(Rn?ne:1-ne)*+se[Ln>>2],(0|(B=B+1|0))!=(0|Un););q<<=1}while(Ue=0|Me(0|c[Ae>>2],Ue),(0|(He=He+1|0))!=(0|be));q=0}else q=0}else q=0;while(0)}while(c[oe+28>>2]=M,c[oe+24>>2]=Q,c[oe+32>>2]=q,(oe=oe+36|0)>>>0<fn>>>0)}}(y),Yi(y),L=0|c[y+4>>2],x=(J=0|c[y+52>>2])+(L<<2)|0,0<(0|L))for(;pe=+se[J>>2],se[J>>2]=pe<0?0:1<pe?1:pe,(J=J+4|0)>>>0<x>>>0;);(function(M,oe,Q){M|=0,oe|=0,Q|=0;var q=0,B=0;if(B=oe+(12*M|0)|0,!((0|M)<=0))for(q=Q;;){do if(0|c[oe+8>>2]){if((0|(M=0|c[oe+4>>2]))!=-1&&!(0|c[Q+(M<<2)>>2])){M=0;break}M=(0|c[32+(0|c[oe>>2])>>2])==0}else M=0;while(0);if(c[q>>2]=1&M,B>>>0<=(oe=oe+12|0)>>>0)break;q=q+4|0}})(L,0|c[y+8>>2],0|c[y+40>>2]),function(M){var oe,Q,q,B,ne,fn=0,_e=0,Pe=0,qe=0,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0,Je=0,It=0|c[(M|=0)+8>>2],fn=0|c[M>>2],An=0|c[fn+724>>2],Un=0|c[M+4>>2];if(!((0|Un)<=0))for(B=M+28|0,ne=M+36|0,q=M+32|0,Q=fn+976|0,qe=Pe=0;;){if(oe=0|c[It+(12*Pe|0)>>2],(0|(Je=0|c[(M=24+oe|0)>>2]||0|c[28+oe>>2]?6:Je))==6&&(c[((Je=0)|c[B>>2])+(Pe<<2)>>2]=c[(be=12+oe|0)>>2],0|c[M>>2])&&(Ue=0|c[An+(Pe<<2)>>2],ct=(Ae=0|c[16+oe>>2])+((_e=0|c[be>>2])<<2)|0,0<(0|_e)))for(M=0|c[Q>>2],fn=(0|c[ne>>2])+(qe<<2)|0,_e=Ae;c[fn>>2]=c[M+((0|c[_e>>2])+Ue<<2)>>2],!(ct>>>0<=(_e=_e+4|0)>>>0);)fn=fn+4|0;if(0|c[28+oe>>2]&&(yt=(He=0|c[20+oe>>2])+((_e=0|c[12+oe>>2])<<2)|0,0<(0|_e)))for(M=(0|c[q>>2])+(qe<<2)|0,fn=He;c[M>>2]=c[fn>>2],!(yt>>>0<=(fn=fn+4|0)>>>0);)M=M+4|0;if((0|(Pe=Pe+1|0))==(0|Un))break;qe=(0|c[8+oe>>2])+qe|0}}(y),function(M){Xn((M|=0)+12|0,0|c[M+36>>2],0|c[M+44>>2],0|c[M+40>>2])}(y),function(M){var oe=0,Q=0,q=0,B=0,ne=0,_e=0,Pe=0,qe=0,Ae=0;if(ve=(Ae=ve)+16|0,qe=Ae,oe=c[(M=M|0)+308>>2]|0,q=c[M+304>>2]|0,Pe=oe+(q<<5)|0,B=c[M+40>>2]|0,ne=c[M+312>>2]|0,_e=c[M+144>>2]|0,Q=c[M+264>>2]|0,(0|q)<=0)ve=Ae;else{for(q=ne;;){do if(0|c[oe+28>>2]){if((0|(M=0|c[oe+4>>2]))!=-1&&!(0|c[B+(M<<2)>>2])){M=0;break}if((0|(M=0|c[oe+8>>2]))!=-1&&!(0|c[ne+(M<<2)>>2])){M=0;break}M=(0|c[32+(0|c[oe>>2])>>2])==0}else M=0;while(0);switch(M&=1,c[q>>2]=M,0|c[oe+12>>2]){case 0:c[_e+(c[oe+16>>2]<<2)>>2]=M;break;case 1:c[Q+(c[oe+16>>2]<<2)>>2]=M;break;default:Sn(0,2458,qe)}if(Pe>>>0<=(oe=oe+32|0)>>>0)break;q=q+4|0}ve=Ae}}(y),ki(y),Ka(y),Tr(y),qn(y),function(M){M|=0;var oe=0,Q=0,q=0,B=0,ne=0;if(oe=0|c[M+336>>2],Q=0|c[M+332>>2],ne=oe+(20*Q|0)|0,q=0|c[M+40>>2],B=0|c[M+312>>2],!((0|Q)<=0))for(Q=0|c[M+424>>2];;){do if(0|c[oe+12>>2]){if((0|(M=0|c[oe+4>>2]))!=-1&&!(0|c[q+(M<<2)>>2])){M=0;break}if((0|(M=0|c[oe+8>>2]))!=-1&&!(0|c[B+(M<<2)>>2])){M=0;break}M=(0|c[32+(0|c[oe>>2])>>2])==0}else M=0;while(0);if(c[Q>>2]=1&M,ne>>>0<=(oe=oe+20|0)>>>0)break;Q=Q+4|0}}(y),fo(y),er(y),function(M){var oe,Q,q,B,ne,fn=0,_e=0,Pe=0,qe=0,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0,Je=0,It=0|c[(M|=0)+504>>2],fn=0|c[M>>2],An=0|c[fn+1192>>2],Un=0|c[M+500>>2];if(!((0|Un)<=0))for(B=M+524|0,ne=M+532|0,q=M+528|0,Q=fn+1224|0,qe=Pe=0;;){if(oe=0|c[It+(24*Pe|0)>>2],(0|(Je=0|c[(M=24+oe|0)>>2]||0|c[28+oe>>2]?6:Je))==6&&(c[((Je=0)|c[B>>2])+(Pe<<2)>>2]=c[(be=12+oe|0)>>2],0|c[M>>2])&&(Ue=0|c[An+(Pe<<2)>>2],ct=(Ae=0|c[16+oe>>2])+((_e=0|c[be>>2])<<2)|0,0<(0|_e)))for(M=0|c[Q>>2],fn=(0|c[ne>>2])+(qe<<2)|0,_e=Ae;c[fn>>2]=c[M+((0|c[_e>>2])+Ue<<2)>>2],!(ct>>>0<=(_e=_e+4|0)>>>0);)fn=fn+4|0;if(0|c[28+oe>>2]&&(yt=(He=0|c[20+oe>>2])+((_e=0|c[12+oe>>2])<<2)|0,0<(0|_e)))for(M=(0|c[q>>2])+(qe<<2)|0,fn=He;c[M>>2]=c[fn>>2],!(yt>>>0<=(fn=fn+4|0)>>>0);)M=M+4|0;if((0|(Pe=Pe+1|0))==(0|Un))break;qe=(0|c[8+oe>>2])+qe|0}}(y),function(M){bn((M|=0)+508|0,0|c[M+532>>2],0|c[M+536>>2],0)}(y),Xt(y),Pr(y),function(M){var oe=0,Q=0,q=0,B=0,ne=0,_e=(oe=0|c[(M|=0)+8>>2])+(12*(ne=0|c[M+4>>2])|0)|0,Pe=0|c[M+48>>2];if(!((0|ne)<=0))for(ne=0|c[M+40>>2],Q=Pe,M=0|c[M+52>>2];0|c[ne>>2]&&(q=+se[M>>2],se[Q>>2]=q,(0|(B=0|c[oe+4>>2]))!=-1)&&(se[Q>>2]=q*+se[Pe+(B<<2)>>2]),!(_e>>>0<=(oe=oe+12|0)>>>0);)ne=ne+4|0,Q=Q+4|0,M=M+4|0}(y),function(M){var oe=0,Q=0,q=0,B=0|c[(M|=0)+304>>2];if(!((0|B)<=0))for(oe=0|c[M+312>>2],Q=0|c[M+308>>2],q=0;0|c[oe>>2]&&l0[3&c[Q+20>>2]](M,q),(0|(q=q+1|0))!=(0|B);)oe=oe+4|0,Q=Q+32|0}(y),xs(y),en(y),function(M){M|=0;var oe,Q,q=0,B=0,ne=0,_e=0,Pe=0;if(!(0|c[M+624>>2]||(oe=(q=0|c[M+336>>2])+(20*(_e=0|c[M+332>>2])|0)|0,(0|_e)<=0)))for(_e=0|c[M+424>>2],M=0|c[M+444>>2];;){if(0|c[_e>>2]&&(ne=0|c[M>>2],Pe=(B=0|c[q+16>>2])<<1,0<(0|B)))for(B=1;se[(Q=ne+(B<<2)|0)>>2]=-+se[Q>>2],(0|(B=B+2|0))<(0|Pe););if(oe>>>0<=(q=q+20|0)>>>0)break;_e=_e+4|0,M=M+4|0}}(y),function(M){M|=0;var oe=0,Q=0,q=0,B=0,ne=0,_e=0,Pe=0,qe=0,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0,Je=0,It=0;if(Je=0|c[M+480>>2],It=0|c[M+484>>2],qe=It+(28*Je|0)|0,oe=0|c[M+440>>2],Q=0|c[M+44>>2],q=0|c[M+40>>2],B=0|c[M+424>>2],!((0|Je)<=0)){Ae=It;do if(0<(0|(ne=0|c[Ae+4>>2])))for(_e=0|c[Ae+12>>2],Pe=Ae+20|0,He=0;yt=0|c[_e+(He<<4)+4>>2],ct=(0|c[_e+(He<<4)>>2])==1,c[_e+(He<<4)+12>>2]=c[(0|c[(ct?q:B)+(yt<<2)>>2]?(ct?Q:oe)+(yt<<2)|0:Pe)>>2],(0|(He=He+1|0))!=(0|ne););while((Ae=Ae+28|0)>>>0<qe>>>0);be=0|c[M+436>>2],ct=M+488|0,yt=M+492|0,He=M+496|0,Ue=0;do{if(0<(0|c[(M=It+(28*Ue|0)+24|0)>>2])){for(oe=0|c[ct>>2],q=0;c[oe+(q<<2)>>2]=-1,q=q+1|0,Q=0|c[M>>2],(0|q)<(0|Q););if(0<(0|Q))for(oe=0|c[He>>2],Q=0;c[oe+(Q<<2)>>2]=-1,(0|(Q=Q+1|0))<(0|c[M>>2]););}if(0<(0|c[(Ae=It+(28*Ue|0)+4|0)>>2])){for(qe=0|c[yt>>2],Q=0;c[qe+(Q<<2)>>2]=-1,Q=Q+1|0,oe=0|c[Ae>>2],(0|Q)<(0|oe););if(0<(0|oe))for(q=0|c[It+(28*Ue|0)+12>>2],ne=It+(28*Ue|0)+20|0,B=0|c[He>>2],Pe=0;Q=(0|c[q+(Pe<<4)+12>>2])-(0|c[ne>>2])|0,oe=(0|(oe=0|c[(_e=B+(Q<<2)|0)>>2]))==-1?(0|c[ct>>2])+(Q<<2)|0:qe+(oe<<2)|0,c[oe>>2]=Pe,(0|(Pe=(c[_e>>2]=Pe)+1|0))<(0|c[Ae>>2]););}if(0<(0|(oe=0|c[M>>2]))){Pe=0|c[ct>>2],qe=It+(28*Ue|0)+12|0,Q=(_e=0)|c[It+(28*Ue|0)+8>>2];do if((0|(q=0|c[Pe+(_e<<2)>>2]))!=-1){for(B=0|c[qe>>2],ne=0|c[yt>>2];oe=(0|c[B+(q<<4)>>2])==1?(oe=0|c[B+(q<<4)+8>>2],c[It+(28*oe|0)+8>>2]=Q,0|c[It+(28*oe|0)>>2]):(c[be+(c[B+(q<<4)+4>>2]<<2)>>2]=Q,1),Q=oe+Q|0,!((0|(q=0|c[ne+((Ae=q)<<2)>>2]))<=(0|Ae)|(0|q)==-1););oe=0|c[M>>2]}while((0|(_e=_e+1|0))<(0|oe))}}while((0|(Ue=Ue+1|0))!=(0|Je))}}(y),Pi(y),c[y+620>>2]=0}function is(y){y|=0;var x,L,pe=0,J=0,M=0,oe=0,Q=0,q=0,B=0,ne=0,_e=0,Pe=0,qe=0,Ae=0,He=0,Ue=0,be=0;if(!((0|xn[4+(0|c[y>>2])>>0])<4||(L=(pe=0|c[y+544>>2])+(52*(x=0|c[y+540>>2])|0)|0,(0|x)<=0))){x=(0|c[y+620>>2])==0;do e:do if((0|c[pe>>2])==1&&(Ae=+se[pe+44>>2],He=0|c[pe+36>>2],B=0|c[pe+40>>2],Ue=He+(28*B|0)|0,0<(0|B))){if(!x)for(q=He;;){M=0|c[q>>2];do if(2<=(0|M)&&(Pe=0|c[q+4>>2],!(Ae<=(qe=+se[Pe>>2])))){for(oe=1,Q=qe;;){if(y=oe+1|0,Ae<(J=+se[Pe+(oe<<2)>>2])){B=25;break}if(!((0|y)<(0|M))){B=26;break}oe=y,Q=J}if((0|B)==25){y=oe+-1|0,J=(Ae-Q)/(J-Q);break}if((0|B)==26){y=M+-1|0,J=0;break}}else J=y=0;while(0);if(Q=+se[(oe=q+16|0)>>2],M=1&((0|c[(B=q+12|0)>>2])!=(0|y)|(be=Q!=J)&(J==0|Q==0)),c[q+24>>2]=1&be,c[q+20>>2]=M,se[oe>>2]=J,c[B>>2]=y,Ue>>>0<=(q=q+28|0)>>>0)break e}if(!(0|c[pe+48>>2])){for(y=He;;)if(c[y+24>>2]=0,Ue>>>(c[y+20>>2]=0)<=(y=y+28|0)>>>0)break e}q=He;do{M=0|c[q>>2];do if(2<=(0|M)&&(ne=0|c[q+4>>2],!(Ae<=(_e=+se[ne>>2])))){for(oe=1,Q=_e;;){if(y=oe+1|0,Ae<(J=+se[ne+(oe<<2)>>2])){B=17;break}if(!((0|y)<(0|M))){B=18;break}oe=y,Q=J}if((0|B)==17){y=oe+-1|0,J=(Ae-Q)/(J-Q);break}if((0|B)==18){y=M+-1|0,J=0;break}}else J=y=0;while(0)}while(Q=+se[(B=q+16|0)>>2],oe=1&((0|c[(be=q+12|0)>>2])!=(0|y)|(M=Q!=J)&(J==0|Q==0)),c[q+24>>2]=1&M,c[q+20>>2]=oe,se[B>>2]=J,c[be>>2]=y,(q=q+28|0)>>>0<Ue>>>0)}while(0);while((pe=pe+52|0)>>>0<L>>>0)}}function Yi(y){y|=0;var x,L,pe,J,M=0,oe=0,Q=0,q=0,B=0,ne=0,_e=0,Pe=0,qe=0,Ae=0,He=0,Ue=0;if(!((0|xn[4+(0|c[y>>2])>>0])<4||(J=(M=0|c[y+592>>2])+(48*(pe=0|c[y+588>>2])|0)|0,(0|pe)<=0))){pe=(0|c[y+620>>2])==0;do{if(y=0|c[M>>2],Q=pe?0|c[y+24>>2]:1,(Pe=pe?0|c[y+20>>2]:1)|Q){_e=0|c[y+12>>2],oe=+se[y+16>>2],ne=(0|_e)==(0|(y=0|c[y+8>>2]));do if(oe!=0){if(B=_e+1|0,ne){oe=(Q=y=c[M+8>>2]=1)-oe,ne=11;break}y=(0|B)==(0|y)?1:2,ne=10;break}while(y=1&(1^ne),ne=10,0);(0|ne)==10&&(ne=0,c[M+8>>2]=y,Q?(B=_e,y=Pe,ne=11):(B=_e,y=Pe,Q=0)),(0|ne)==11&&(se[M+20>>2]=1-oe,se[M+24>>2]=oe),y?(c[M+12>>2]=B,c[M+16>>2]=B+1):y=0}else y=Pe;x=0|c[M+36>>2];e:do if(0<(0|x)){if(L=0|c[M+40>>2],!pe)for(Ue=0,oe=1;;){He=0|c[L+(Ue<<2)>>2],ne=0|c[He+4>>2],_e=0|c[He+8>>2],Pe=0|c[He+12>>2],Ae=+se[44+(0|c[He>>2])>>2];do if(1<=(0|Pe)){if((0|Pe)==1){q=+se[_e>>2];break}if(Ae<=(q=+se[ne>>2])){q=+se[_e>>2];break}for(B=1;;){if(Ae<(qe=+se[ne+(B<<2)>>2])){ne=40;break}if(!((0|(B=B+1|0))<(0|Pe))){ne=41;break}q=qe}if((0|ne)==40){q=(1-(q=(Ae-q)/(qe-q)))*+se[_e+(B+-1<<2)>>2]+q*+se[_e+(B<<2)>>2];break}if((0|ne)==41){q=+se[_e+(Pe+-1<<2)>>2];break}}else q=1;while(0);if(oe=oe<(se[He+16>>2]=q)?oe:q,(0|(Ue=Ue+1|0))==(0|x))break e}Ue=0,oe=1;do if(He=0|c[L+(Ue<<2)>>2],B=0|c[He>>2],0|c[B+48>>2]){ne=0|c[He+4>>2],_e=0|c[He+8>>2],Pe=0|c[He+12>>2],Ae=+se[B+44>>2];do if(1<=(0|Pe)){if((0|Pe)==1){q=+se[_e>>2];break}if(Ae<=(q=+se[ne>>2])){q=+se[_e>>2];break}for(B=1;;){if(Ae<(qe=+se[ne+(B<<2)>>2])){ne=28;break}if(!((0|(B=B+1|0))<(0|Pe))){ne=27;break}q=qe}if((0|ne)==27){q=+se[_e+(Pe+-1<<2)>>2];break}if((0|ne)==28){q=(1-(q=(Ae-q)/(qe-q)))*+se[_e+(B+-1<<2)>>2]+q*+se[_e+(B<<2)>>2];break}}else q=1;while(0);se[He+16>>2]=q}else q=+se[He+16>>2];while(oe=oe<q?oe:q,(0|(Ue=Ue+1|0))!=(0|x))}else oe=1;while(0)}while(se[M+44>>2]=oe,c[M+28>>2]=y,c[M+32>>2]=Q,(M=M+48|0)>>>0<J>>>0)}}function Uo(y,x,L){y|=0,x|=0,L|=0;var pe,J,M,oe=0,Q=ve;ve=ve+144|0,Hl(0|(J=Q),640,144),c[J+48>>2]=oe=(oe=-2-y|0)>>>0<256?oe:256,c[(pe=J+20|0)>>2]=y,M=(c[J+44>>2]=y)+oe|0,c[(y=J+16|0)>>2]=M,c[J+28>>2]=M,ho(J,x,L),0|oe&&(M=0|c[pe>>2],xe[M+(((0|M)==(0|c[y>>2]))<<31>>31)>>0]=0),ve=Q}function ho(y,x,L){Za(y|=0,x|=0,L|=0)}function Oa(y,x,L,pe,J,M){y|=0,x=+x,L|=0,pe|=0,J|=0,M|=0;var oe,Q=0,q=0,B=0,ne=0,_e=0,Pe=0,qe=0,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0,Je=0,It=0,fn=0,An=0,Un=0,mn=0,Ln=0,Rn=0,Bt=ve;ve=ve+560|0,ne=Bt+32|0,mn=(B=(Ln=Rn=Bt)+540|0)+12|(c[(be=Bt+536|0)>>2]=0),vh(x),An=(0|(Q=0|dt()))<0?(vh(x=-x),Q=0|dt(),Un=1,2539):(Un=(2049&J|0)!=0&1,2048&J|0?2542:1&J|0?2545:2540);do if(!0&(2146435072&Q|0)==2146435072)Rn=(32&M|0)!=0,ws(y,32,L,Q=Un+3|0,-65537&J),vr(y,An,Un),vr(y,x!=x|!1?Rn?2566:2570:Rn?2558:2562,3),ws(y,32,L,Q,8192^J);else{if((Q=(Ae=2*+t0(x,be))!=0)&&(c[be>>2]=(0|c[be>>2])-1),(0|(yt=32|M))==97){He=0|(Pe=32&M)?An+9|0:An,qe=2|Un,Q=12-pe|0;do if(!(11<pe>>>0|(0|Q)==0)){for(x=8;x*=16,(0|(Q=Q+-1|0))!=0;);if((0|xe[He>>0])==45){x=-(x+(-Ae-x));break}x=Ae+x-x;break}while(x=Ae,0);for((0|(Q=0|fl(Q=(0|(q=0|c[be>>2]))<0?0-q|0:q,((0|Q)<0)<<31>>31,mn)))==(0|mn)&&(xe[(Q=B+11|0)>>0]=48),xe[Q+-1>>0]=43+(q>>31&2),xe[(_e=Q+-2|0)>>0]=M+15,q=(0|pe)<1,B=(8&J|0)==0,Q=Rn;ne=Q+1|0,xe[Q>>0]=Pe|xn[480+(Un=~~x)>>0],x=16*(x-(0|Un)),(ne-Ln|0)!=1||B&q&x==0||(xe[ne>>0]=46,ne=Q+2|0),x!=0;)Q=ne;ws(y,32,L,mn=(Q=0|pe&&(-2-Ln+ne|0)<(0|pe)?pe+2+(q=mn)-(B=_e)|0:(q=mn)-Ln-(B=_e)+ne|0)+qe|0,J),vr(y,He,qe),ws(y,48,L,mn,65536^J),vr(y,Rn,Ln=ne-Ln|0),ws(y,48,Q-(Ln+(Rn=q-B|0))|0,0,0),vr(y,_e,Rn),ws(y,32,L,mn,8192^J),Q=mn;break}for(q=(0|pe)<0?6:pe,x=Q?(B=(0|c[be>>2])-28|0,c[be>>2]=B,268435456*Ae):(B=0|c[be>>2],Ae),ne=oe=(0|B)<0?ne:ne+288|0;c[ne>>2]=It=~~x>>>0,ne=ne+4|0,(x=1e9*(x-(It>>>0)))!=0;);if(It=oe,0<(0|B)){Q=oe;do{if(Pe=(0|B)<29?B:29,Q>>>0<=(B=ne+-4|0)>>>0){for(_e=0;Ue=0|Ju(0|(Ue=0|Lx(0|c[B>>2],0,0|Pe)),0|dt(),0|_e,0),Je=0|Ju(0|Ue,0|(ct=0|dt()),0|(Je=0|jc(0|(_e=0|Gc(0|Ue,0|ct,1e9,0)),0|dt(),-1e9,-1)),0|dt()),dt(),c[B>>2]=Je,Q>>>0<=(B=B+-4|0)>>>0;);_e&&(c[(Q=Q+-4|0)>>2]=_e)}e:do if(Q>>>0<ne>>>0)for(;;){if(0|c[(B=ne+-4|0)>>2])break e;if(!(Q>>>0<B>>>0)){ne=B;break}ne=B}while(0)}while(B=(0|c[be>>2])-Pe|0,0<(0|(c[be>>2]=B)))}else Q=oe;if((0|B)<0){pe=1+((q+25|0)/9|0)|0,Ue=(0|yt)==102;do if(He=(0|(He=0-B|0))<9?He:9,Q>>>0<ne>>>0){for(Pe=(1<<He)-1|0,_e=He?1e9>>>He:1e9,qe=0,B=Q;Je=0|c[B>>2],c[B>>2]=(He?Je>>>He:Je)+qe,qe=0|Me(Je&Pe,_e),(B=B+4|0)>>>0<ne>>>0;);Q=0|c[Q>>2]?Q:Q+4|0,qe&&(c[ne>>2]=qe,ne=ne+4|0)}else Q=0|c[Q>>2]?Q:Q+4|0;while(ne=(0|pe)<((Je=ne-(B=Ue?oe:Q)|0)>>2|0)?B+(pe<<2)|0:ne,B=(0|c[be>>2])+He|0,(0|(c[be>>2]=B))<0);Ue=ne}else Ue=ne;if(Q>>>0<Ue>>>0){if(B=9*((B=It-Q|0)>>2)|0,10<=(_e=0|c[Q>>2])>>>0)for(ne=10;B=B+1|0,(ne=10*ne|0)>>>0<=_e>>>0;);}else B=0;if((0|(ne=q-((0|yt)==102?0:B)+(((ct=(0|q)!=0)&(be=(0|yt)==103))<<31>>31)|0))<((9*((Je=Ue-It|0)>>2)|0)-9|0)){if(pe=oe+4+((ne=(0|(Je=ne+9216|0))/9|0)+-1024<<2)|0,(0|(ne=Je+(0|Me(ne,-9))|0))<8)for(_e=10;_e=10*_e|0,(0|ne)<7;)ne=ne+1|0;else _e=10;if((qe=(pe+4|0)==(0|Ue))&(0|(Pe=(Pe=0|c[pe>>2])-(He=0|Me(ne=(Pe>>>0)/(_e>>>0)|0,_e))|0))==0)ne=pe;else if(Ae=1&ne|0?9007199254740994:9007199254740992,x=Pe>>>0<(Je=_e>>>1)>>>0?.5:qe&(0|Pe)==(0|Je)?1:1.5,Un&&(Ae=(Je=(0|xe[An>>0])==45)?-Ae:Ae,x=Je?-x:x),c[pe>>2]=He,Ae+x!=Ae){if(999999999<(c[pe>>2]=Je=He+_e|0)>>>0)for(B=pe;(ne=B+-4|0)>>>(c[B>>2]=0)<Q>>>0&&(c[(Q=Q+-4|0)>>2]=0),Je=1+(0|c[ne>>2])|0,999999999<(c[ne>>2]=Je)>>>0;)B=ne;else ne=pe;if(B=9*((B=It-Q|0)>>2)|0,10<=(Pe=0|c[Q>>2])>>>0)for(_e=10;B=B+1|0,(_e=10*_e|0)>>>0<=Pe>>>0;);}else ne=pe;Je=Q,Q=(yt=ne+4|0)>>>0<Ue>>>0?yt:Ue}else Je=Q,Q=Ue;He=0-B|0;e:do if(Je>>>0<Q>>>0)for(;;){if(0|c[(ne=Q+-4|0)>>2]){Ue=1,yt=Q;break e}if(!(Je>>>0<ne>>>0)){Ue=0,yt=ne;break}Q=ne}else Ue=0,yt=Q;while(0);do if(be){if(_e=(0|B)<(0|(Q=q+(1&(1^ct))|0))&-5<(0|B)?(q=Q+-1-B|0,M+-1|0):(q=Q+-1|0,M+-2|0),!(8&J)){if(Ue&&0|(fn=0|c[yt+-4>>2]))if((fn>>>0)%10|0)ne=0;else for(Q=10,ne=0;ne=ne+1|0,!((fn>>>0)%((Q=10*Q|0)>>>0)|0););else ne=9;if(Q=(9*((Q=yt-It|0)>>2)|0)-9|0,(32|_e)==102){q=(0|q)<(0|(M=0<(0|(M=Q-ne|0))?M:0))?q:M;break}q=(0|q)<(0|(M=0<(0|(M=Q+B-ne|0))?M:0))?q:M;break}}else _e=M;while(0);if(Pe=(pe=(0|q)!=0)?1:J>>>3&1,qe=(32|_e)==102)Q=(ct=0)<(0|B)?B:0;else{if(((ne=mn)-(Q=0|fl(Q=(0|B)<0?He:B,((0|Q)<0)<<31>>31,mn))|0)<2)for(;xe[(Q=Q+-1|0)>>0]=48,(ne-Q|0)<2;);xe[Q+-1>>0]=43+(B>>31&2),xe[(Q=Q+-2|0)>>0]=_e,Q=ne-(ct=Q)|0}if(ws(y,32,L,Q=Un+1+q+Pe+Q|0,J),vr(y,An,Un),ws(y,48,L,Q,65536^J),qe){qe=He=Rn+9|0,_e=Rn+8|0,ne=Pe=oe>>>0<Je>>>0?oe:Je;do if(B=0|fl(0|c[ne>>2],0,He),(0|ne)==(0|Pe))(0|B)==(0|He)&&(xe[_e>>0]=48,B=_e);else if(Rn>>>0<B>>>0)for(hl(0|Rn,48,B-Ln|0);Rn>>>0<(B=B+-1|0)>>>0;);while(vr(y,B,qe-B|0),(ne=ne+4|0)>>>0<=oe>>>0);if((8&J|0)==0&(1^pe)||vr(y,2574,1),ne>>>0<yt>>>0&0<(0|q))for(;;){if(Rn>>>0<(B=0|fl(0|c[ne>>2],0,He))>>>0)for(hl(0|Rn,48,B-Ln|0);Rn>>>0<(B=B+-1|0)>>>0;);if(vr(y,B,(0|q)<9?q:9),B=q+-9|0,!((ne=ne+4|0)>>>0<yt>>>0&9<(0|q))){q=B;break}q=B}ws(y,48,q+9|0,9,0)}else{if(Je>>>0<(pe=Ue?yt:Je+4|0)>>>0&-1<(0|q)){be=(8&J|0)==0,Ue=He=Rn+9|0,_e=0-Ln|0,qe=Rn+8|0,Pe=Je;do{(0|(B=0|fl(0|c[Pe>>2],0,He)))==(0|He)&&(xe[qe>>0]=48,B=qe);do if((0|Pe)==(0|Je)){if(ne=B+1|0,vr(y,B,1),be&(0|q)<1){B=ne;break}vr(y,2574,1),B=ne}else{if(B>>>0<=Rn>>>0)break;for(hl(0|Rn,48,B+_e|0);Rn>>>0<(B=B+-1|0)>>>0;);}while(0)}while(vr(y,B,(0|(Ln=Ue-B|0))<(0|q)?Ln:q),(Pe=Pe+4|0)>>>0<pe>>>0&-1<(0|(q=q-Ln|0)))}ws(y,48,q+18|0,18,0),vr(y,ct,mn-ct|0)}ws(y,32,L,Q,8192^J)}while(0);return ve=Bt,0|((0|Q)<(0|L)?L:Q)}function Za(y,x,L){y|=0,x|=0,L|=0;var pe,J,M,oe,Q,q,B,ne,_e=0,Pe=0,qe=ve;for(ve=ve+224|0,Q=qe+208|0,B=qe+80|0,Pe=(_e=ne=(q=qe)+160|0)+40|0;(0|(_e=_e+4|(c[_e>>2]=0)))<(0|Pe););c[Q>>2]=c[L>>2],0<=(0|Ma(0,x,Q,B,ne))&&(oe=32&(L=0|c[y>>2]),(0|xe[y+74>>0])<1&&(c[y>>2]=-33&L),0|c[(Pe=y+48|0)>>2]?Ma(y,x,Q,B,ne):(L=0|c[(_e=y+44|0)>>2],c[_e>>2]=q,c[(pe=y+28|0)>>2]=q,c[(M=y+20|0)>>2]=q,c[Pe>>2]=80,c[(J=y+16|0)>>2]=q+80,Ma(y,x,Q,B,ne),0|L&&(Qd[3&c[y+36>>2]](y,0,0),c[_e>>2]=L,c[Pe>>2]=0,c[J>>2]=0,c[pe>>2]=0,c[M>>2]=0)),c[y>>2]=c[y>>2]|oe),ve=qe}function Ma(y,x,L,pe,J){y|=0,L|=0,pe|=0,J|=0;var M,oe,Q,q,B,ne,_e,Pe,qe,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0,Je=0,It=0,fn=0,An=0,Un=0,mn=0,Ln=0,Rn=ve;ve=ve+64|0,ne=Rn+40|0,qe=(oe=Rn)+48|0,_e=Rn+60|0,c[(Pe=Rn+56|0)>>2]=x|=0,B=(0|y)!=0,q=M=oe+40|0,oe=oe+39|0,Q=4+qe|0,be=Ae=x=0;e:for(;;){do{do if(-1<(0|x)){if((2147483647-x|0)<(0|Ae)){c[922]=61,x=-1;break}x=Ae+x|0;break}while(0);if(Je=0|c[Pe>>2],!((Ae=0|xe[Je>>0])<<24>>24)){mn=91;break e}He=Je;t:for(;;){switch(Ae<<24>>24){case 37:mn=10;break t;case 0:Ae=He;break t}c[Pe>>2]=Un=He+1|0,Ae=0|xe[Un>>0],He=Un}t:do if((0|mn)==10){mn=0,Ae=Ue=He;do if((0|xe[Ue+1>>0])!=37)break t;while(Ae=Ae+1|0,c[Pe>>2]=Ue=Ue+2|0,(0|xe[Ue>>0])==37)}while(0)}while(Ae=Ae-Je|0,B&&vr(y,Je,Ae),(0|Ae)!=0);if(Ue=0|c[Pe>>2],yt=0|fu(Ae=0|xe[Ue+1>>0])?(He=(yt=(0|xe[Ue+2>>0])==36)?3:1,fn=yt?Ae+-48|0:-1,yt?1:be):(fn=-(He=1),be),c[Pe>>2]=He=Ue+He|0,31<(Ue=((Ae=0|xe[He>>0])<<24>>24)-32|0)>>>0|(1<<Ue&75913|0)==0)ct=0;else for(Ae=0;;){if(be=1<<Ue|Ae,c[Pe>>2]=He=He+1|0,31<(Ue=((Ae=0|xe[He>>0])<<24>>24)-32|0)>>>0|(1<<Ue&75913|0)==0){ct=be;break}Ae=be}if(Ae<<24>>24==42){if(0|fu(Ae=0|xe[(Ue=He+1|0)>>0])&&(0|xe[He+2>>0])==36)c[J+(Ae+-48<<2)>>2]=10,be=1,Ae=He+3|0,He=0|c[pe+((0|xe[Ue>>0])-48<<3)>>2];else{if(0|yt){x=-1;break}B?(be=3+(0|c[L>>2])&-4,He=0|c[be>>2],c[L>>2]=be+4,be=0,Ae=Ue):(Ae=Ue,He=be=0)}Ue=c[Pe>>2]=Ae,It=(An=(0|He)<0)?8192|ct:ct,Un=be,An=An?0-He|0:He}else{if((0|(Ae=0|dl(Pe)))<0){x=-1;break}Ue=0|c[Pe>>2],It=ct,Un=yt,An=Ae}do if((0|xe[Ue>>0])==46){if((0|xe[(Ae=Ue+1|0)>>0])!=42){c[Pe>>2]=Ae,ct=0|dl(Pe),Ae=0|c[Pe>>2];break}if(0|fu(He=0|xe[(Ae=Ue+2|0)>>0])&&(0|xe[Ue+3>>0])==36){c[J+(He+-48<<2)>>2]=10,ct=0|c[pe+((0|xe[Ae>>0])-48<<3)>>2],c[Pe>>2]=Ae=Ue+4|0;break}if(0|Un){x=-1;break e}B?(yt=3+(0|c[L>>2])&-4,He=0|c[yt>>2],c[L>>2]=yt+4):He=0,c[Pe>>2]=Ae,ct=He}else Ae=Ue,ct=-1;while(0);for(yt=0;;){if(57<((0|xe[Ae>>0])-65|0)>>>0){x=-1;break e}if(c[Pe>>2]=He=Ae+1|0,!(((be=255&(Ue=0|xe[(0|xe[Ae>>0])-65+(16+(58*yt|0))>>0]))+-1|0)>>>0<8))break;Ae=He,yt=be}if(!(Ue<<24>>24)){x=-1;break}He=-1<(0|fn);do if(Ue<<24>>24==19){if(He){x=-1;break e}mn=52}else{if(He){c[J+(fn<<2)>>2]=be,fn=0|c[(be=pe+(fn<<3)|0)+4>>2],c[(mn=ne)>>2]=c[be>>2],c[mn+4>>2]=fn,mn=52;break}if(!B){x=0;break e}zl(ne,be,L),mn=53}while(0);(0|mn)==52&&(mn=0,B?mn=53:Ae=0);t:do if((0|mn)==53){Ue=(mn=0)!=(0|yt)&(15&(Ue=0|xe[Ae>>0])|0)==3?-33&Ue:Ue,Ae=-65537&It,fn=8192&It|0?Ae:It;n:do switch(0|Ue){case 110:switch((255&yt)<<24>>24){case 0:case 1:c[c[ne>>2]>>2]=x,Ae=0;break t;case 2:Ae=0|c[ne>>2],c[Ae>>2]=x,c[Ae+4>>2]=((0|x)<0)<<31>>31,Ae=0;break t;case 3:Gt[c[ne>>2]>>1]=x,Ae=0;break t;case 4:xe[c[ne>>2]>>0]=x,Ae=0;break t;case 6:c[c[ne>>2]>>2]=x,Ae=0;break t;case 7:Ae=0|c[ne>>2],c[Ae>>2]=x,c[Ae+4>>2]=((0|x)<0)<<31>>31,Ae=0;break t;default:Ae=0;break t}case 112:Ae=8|fn,He=8<ct>>>0?ct:8,be=120,mn=65;break;case 88:case 120:Ae=fn,He=ct,be=Ue,mn=65;break;case 111:ct=(8&(Ae=fn)|0)==0|(0|(Ue=q-(yt=0|function(Bt,wn,Fn){if(Fn|=0,!((0|(Bt|=0))==0&(0|(wn|=0))==0))for(;xe[(Fn=Fn+-1|0)>>0]=7&Bt|48,Bt=0|lg(0|Bt,0|wn,3),wn=0|dt(),!((0|Bt)==0&(0|wn)==0););return 0|Fn}(Je=0|c[(It=ne)>>2],It=0|c[It+4>>2],M))|0))<(0|ct)?ct:Ue+1|0,Ue=0,He=2522,mn=71;break;case 105:case 100:if(Ae=0|c[(He=ne)>>2],(0|(He=0|c[He+4>>2]))<0){Ae=0|ua(0,0,0|Ae,0|He),He=0|dt(),c[(Ue=ne)>>2]=Ae,c[Ue+4>>2]=He,Ue=1,be=2522,mn=70;break n}Ue=(2049&fn|0)!=0&1,be=2048&fn|0?2523:1&fn|0?2524:2522,mn=70;break n;case 117:Ae=0|c[(He=ne)>>2],He=0|c[He+4>>2],Ue=0,be=2522,mn=70;break;case 99:xe[oe>>0]=c[ne>>2],Je=oe,yt=Ae,be=1,Ue=0,He=2522,Ae=q;break;case 115:Je=It=0|(It=0|c[ne>>2])?It:2532,yt=Ae,be=(Ln=(0|(fn=0|function(Bt,wn){Bt|=0;var Fn=0,Dn=0;Fn=(0|(wn|=0))!=0;r:do if(Fn&(3&Bt|0)!=0)for(;;){if(!(0|xe[Bt>>0]))break r;if(!((Fn=(0|(wn=wn+-1|0))!=0)&(3&(Bt=Bt+1|0)|0)!=0)){Dn=5;break}}else Dn=5;while(0);r:do if((0|Dn)==5){do if(Fn){if(!(0|xe[Bt>>0])){if(wn)break r;break}i:do if(3<wn>>>0)for(;;){if((-2139062144&(Fn=0|c[Bt>>2])^-2139062144)&Fn+-16843009|0)break i;if(Bt=Bt+4|0,(wn=wn+-4|0)>>>0<=3){Dn=11;break}}else Dn=11;while(0);if((0|Dn)==11&&!wn)break;for(;;){if(!(0|xe[Bt>>0]))break r;if(!(wn=wn+-1|0))break;Bt=Bt+1|0}}while(0);Bt=0}while(0);return 0|Bt}(It,ct)))==0)?ct:fn-It|0,Ue=0,He=2522,Ae=Ln?It+ct|0:fn;break;case 67:c[qe>>2]=c[ne>>2],c[Q>>2]=0,Ue=c[ne>>2]=qe,ct=-1,mn=78;break;case 83:if(ct){Ue=0|c[ne>>2],mn=78;break n}ws(y,32,An,0,fn),Ae=0,mn=88;break n;case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:Ae=0|Oa(y,+w[ne>>3],An,ct,fn,Ue);break t;default:yt=fn,be=ct,Ue=0,He=2522,Ae=q}while(0);n:do if((0|mn)==65)yt=0|ag(Je=0|c[(It=ne)>>2],It=0|c[It+4>>2],M,32&be),ct=He,Ue=(Ln=(8&Ae|0)==0|(0|Je)==0&(0|It)==0)?0:2,He=Ln?2522:2522+(be>>>4)|0,mn=71;else if((0|mn)==70)yt=0|fl(Je=Ae,It=He,M),Ae=fn,He=be,mn=71;else if((0|mn)==78){for(Ae=mn=0,yt=Ue;He=0|c[yt>>2];){if((be=(0|(He=0|Jp(_e,He)))<0)|(ct-Ae|0)>>>0<He>>>0){mn=82;break}if(!((Ae=He+Ae|0)>>>0<ct>>>0))break;yt=yt+4|0}if((0|mn)==82&&(mn=0,be)){x=-1;break e}if(ws(y,32,An,Ae,fn),Ae)for(be=0;;){if(!(He=0|c[Ue>>2])){mn=88;break n}if((0|Ae)<(0|(be=(He=0|Jp(_e,He))+be|0))){mn=88;break n}if(vr(y,_e,He),Ae>>>0<=be>>>0){mn=88;break}Ue=Ue+4|0}else Ae=0,mn=88}while(0);if((0|mn)==71)Ln=(mn=0)!=(0|ct)|(be=(0|Je)!=0|(0|It)!=0),be=q-yt+(1&(1^be))|0,Je=Ln?yt:M,yt=-1<(0|ct)?-65537&Ae:Ae,be=Ln?(0|be)<(0|ct)?ct:be:0,Ae=q;else if((0|mn)==88){mn=0,ws(y,32,An,Ae,8192^fn),Ae=(0|Ae)<(0|An)?An:Ae;break}ws(y,32,Ae=(0|An)<(0|(Ln=(It=(0|be)<(0|(fn=Ae-Je|0))?fn:be)+Ue|0))?Ln:An,Ln,yt),vr(y,He,Ue),ws(y,48,Ae,Ln,65536^yt),ws(y,48,It,fn,0),vr(y,Je,fn),ws(y,32,Ae,Ln,8192^yt)}while(0);be=Un}e:do if((0|mn)==91&&!y)if(be){for(x=1;Ae=0|c[J+(x<<2)>>2];)if(zl(pe+(x<<3)|0,Ae,L),10<=(x=x+1|0)>>>0){x=1;break e}for(Ae=0;;){if(x=x+1|0,0|Ae){x=-1;break e}if(10<=x>>>0){x=1;break e}Ae=0|c[J+(x<<2)>>2]}}else x=0;while(0);return ve=Rn,0|x}function vr(y,x,L){x|=0,L|=0,32&c[(y|=0)>>2]||og(x,L,y)}function fu(y){return((y|=0)+-48|0)>>>0<10|0}function dl(y){var x=0,pe=0,L=0,pe=0|c[(y|=0)>>2];if(0|fu((x=0|xe[pe>>0])<<24>>24))for(L=x,x=0;x=(10*x|0)-48+(L<<24>>24)|0,c[y>>2]=pe=pe+1|0,(0|fu((L=0|xe[pe>>0])<<24>>24))!=0;);else x=0;return 0|x}function zl(y,x,L){y|=0,x|=0,L|=0;var pe,J=0,M=0;e:do if(x>>>0<=20)switch(0|x){case 9:J=3+(0|c[L>>2])&-4,x=0|c[J>>2],c[L>>2]=J+4,c[y>>2]=x;break e;case 10:J=3+(0|c[L>>2])&-4,x=0|c[J>>2],c[L>>2]=J+4,c[(J=y)>>2]=x,c[J+4>>2]=((0|x)<0)<<31>>31;break e;case 11:J=3+(0|c[L>>2])&-4,x=0|c[J>>2],c[L>>2]=J+4,c[(J=y)>>2]=x,c[J+4>>2]=0;break e;case 12:J=7+(0|c[L>>2])&-8,M=0|c[(x=J)>>2],x=0|c[x+4>>2],c[L>>2]=J+8,c[(J=y)>>2]=M,c[J+4>>2]=x;break e;case 13:M=3+(0|c[L>>2])&-4,J=0|c[M>>2],c[L>>2]=M+4,c[(M=y)>>2]=J=(65535&J)<<16>>16,c[M+4>>2]=((0|J)<0)<<31>>31;break e;case 14:M=3+(0|c[L>>2])&-4,J=0|c[M>>2],c[L>>2]=M+4,c[(M=y)>>2]=65535&J,c[M+4>>2]=0;break e;case 15:M=3+(0|c[L>>2])&-4,J=0|c[M>>2],c[L>>2]=M+4,c[(M=y)>>2]=J=(255&J)<<24>>24,c[M+4>>2]=((0|J)<0)<<31>>31;break e;case 16:M=3+(0|c[L>>2])&-4,J=0|c[M>>2],c[L>>2]=M+4,c[(M=y)>>2]=255&J,c[M+4>>2]=0;break e;case 17:M=7+(0|c[L>>2])&-8,pe=+w[M>>3],c[L>>2]=M+8,w[y>>3]=pe;break e;case 18:(function(oe,Q){oe|=0;var q=7+(0|c[(Q|=0)>>2])&-8,B=+w[q>>3];c[Q>>2]=8+q,w[oe>>3]=B})(y,L);break e;default:break e}while(0)}function ag(y,x,L,pe){if(L|=0,pe|=0,!((0|(y|=0))==0&(0|(x|=0))==0))for(;xe[(L=L+-1|0)>>0]=0|xn[480+(15&y)>>0]|pe,!((0|(y=0|lg(0|y,0|x,4)))==0&(0|(x=0|dt()))==0););return 0|L}function fl(y,x,L){L|=0;var pe,J=0,M=0;if(0<(x|=0)>>>0|(0|x)==0&4294967295<(y|=0)>>>0)for(;M=0|Ju(0|(pe=y),0|(J=x),0|(M=0|jc(0|(y=0|Gc(0|y,0|x,10,0)),0|(x=0|dt()),-10,-1)),0|dt()),dt(),xe[(L=L+-1|0)>>0]=255&M|48,9<J>>>0|(0|J)==9&4294967295<pe>>>0;);if(y)for(;J=255&((M=y)+(0|Me(y=(y>>>0)/10|0,-10))|48),xe[(L=L+-1|0)>>0]=J,10<=M>>>0;);return 0|L}function ws(y,x,L,pe,J){y|=0,x|=0;var M,oe=ve;if(ve=ve+256|0,M=oe,(0|(pe|=0))<(0|(L|=0))&(73728&(J|=0)|0)==0){if(hl(0|M,x<<24>>24|0,0|((J=L-pe|0)>>>0<256?J:256)),255<J>>>0){for(pe=J;vr(y,M,256),255<(pe=pe+-256|0)>>>0;);J&=255}vr(y,M,J)}ve=oe}function Jp(y,x){return x|=0,0|(y=(y|=0)?0|e0(y,x):0)}function e0(y,x){y|=0,x|=0;do if(y){if(x>>>0<128){xe[y>>0]=x,y=1;break}if(!(0|c[916])){if((-128&x|0)==57216){xe[y>>0]=x,y=1;break}c[922]=25,y=-1;break}if(x>>>0<2048){xe[y>>0]=x>>>6|192,xe[y+1>>0]=63&x|128,y=2;break}if(x>>>0<55296|(-8192&x|0)==57344){xe[y>>0]=x>>>12|224,xe[y+1>>0]=x>>>6&63|128,xe[y+2>>0]=63&x|128,y=3;break}if((x+-65536|0)>>>0<1048576){xe[y>>0]=x>>>18|240,xe[y+1>>0]=x>>>12&63|128,xe[y+2>>0]=x>>>6&63|128,xe[y+3>>0]=63&x|128,y=4;break}c[922]=25,y=-1;break}while(y=1,0);return 0|y}function og(y,x,L){y|=0,x|=0;var pe,J=0,M=0,oe=0;(J=0|c[(M=(L|=0)+16|0)>>2])?oe=5:0|function(Q){var q=0,B=0;return B=0|xe[(q=74+(Q|=0)|0)>>0],xe[q>>0]=255+B|B,q=8&(q=0|c[Q>>2])?(c[Q>>2]=32|q,-1):(c[Q+8>>2]=0,c[Q+4>>2]=0,q=0|c[Q+44>>2],c[Q+28>>2]=q,c[Q+20>>2]=q,c[Q+16>>2]=q+(0|c[Q+48>>2]),0),0|q}(L)||(J=0|c[M>>2],oe=5);e:do if((0|oe)==5){if((J-(M=oe=0|c[(pe=L+20|0)>>2])|0)>>>0<x>>>0){Qd[3&c[L+36>>2]](L,y,x);break}t:do if((0|xe[L+75>>0])<0|(0|x)==0)J=x;else{for(oe=x;(0|xe[y+(J=oe+-1|0)>>0])!=10;){if(!J){J=x;break t}oe=J}if((0|Qd[3&c[L+36>>2]](L,y,oe))>>>0<oe>>>0)break e;M=0|c[pe>>2],J=x-oe|0,y=y+oe|0}while(0);Hl(0|M,0|y,0|J),c[pe>>2]=(0|c[pe>>2])+J}while(0)}function vh(y){return w[k>>3]=y=+y,y=0|c[k>>2],lt(0|c[k+4>>2]),0|y}function t0(y,x){x|=0;var L,pe,J=0;switch(w[k>>3]=y=+y,pe=0|lg(0|(J=0|c[k>>2]),0|(L=0|c[k+4>>2]),52),dt(),2047&pe){case 0:J=y!=0?(y=+t0(18446744073709552e3*y,x),(0|c[x>>2])-64|0):0,c[x>>2]=J;break;case 2047:break;default:c[x>>2]=(2047&pe)-1022,c[k>>2]=J,c[k+4>>2]=-2146435073&L|1071644672,y=+w[k>>3]}return+y}function zc(y){var x,J=0,L=0,pe=0,J=0|xe[(y|=0)>>0];e:do if(J<<24>>24)for(L=y,pe=4,y=1033;;){if(!(J<<24>>24==(x=0|xe[y>>0])<<24>>24&(0|(pe=pe+-1|0))!=0&x<<24>>24!=0))break e;if(y=y+1|0,!((J=0|xe[(L=L+1|0)>>0])<<24>>24)){J=0;break}}else J=0,y=1033;while(0);return(255&J)-(0|xn[y>>0])|0}function hu(y,x,L){x|=0,L|=0;var pe,J,M,oe=0,Q=0,q=ve;ve=ve+240|0,c[(M=q)>>2]=y|=0;e:do if(1<(0|x))for(Q=oe=y,y=1;;){if(-1<(0|Qn(oe,pe=(Q=Q+-4|0)+(0-(0|c[L+((J=x+-2|0)<<2)>>2]))|0))&&-1<(0|Qn(oe,Q))||(oe=M+(y<<2)|0,y=y+1|0,(0|(x=-1<(0|Qn(pe,Q))?(Q=c[oe>>2]=pe,x+-1|0):(c[oe>>2]=Q,J)))<=1))break e;oe=0|c[M>>2]}else y=1;while(0);n0(M,y),ve=q}function Hc(y,x){var L=0,pe=0,J=(y|=0)+4|0;31<(x|=0)>>>0?(L=0|c[J>>2],c[y>>2]=L,x=x+-32|(pe=c[J>>2]=0)):(L=0|c[y>>2],pe=0|c[J>>2]),c[y>>2]=pe<<32-x|(x?L>>>x:L),c[J>>2]=x?pe>>>x:pe}function Xd(y,x,L,pe,J,M){y|=0,L|=0,pe|=0,J|=0,M|=0;var oe,Q,q,B=0,ne=0,_e=ve;ve=ve+240|0,c[(Q=(q=_e)+232|0)>>2]=x|=0,c[(oe=4+Q|0)>>2]=L,c[q>>2]=y;e:do if((0|x)!=1|(0|L)!=0&&(B=y+(0-(0|c[M+(pe<<2)>>2]))|0,1<=(0|Qn(B,y))))for(x=B,ne=1,B=(0|J)==0;;){if(B&1<(0|pe)){if(-1<(0|Qn(B=y+-4|0,x))){x=y,B=ne,L=10;break e}if(-1<(0|Qn(B+(0-(0|c[M+(pe+-2<<2)>>2]))|0,x))){x=y,B=ne,L=10;break e}}if(L=ne+1|0,c[q+(ne<<2)>>2]=x,Hc(Q,J=0|yh(Q)),pe=J+pe|0,!((0|c[Q>>2])!=1|(0|c[oe>>2])!=0)){B=L,L=10;break e}if((0|Qn(B=x+(0-(0|c[M+(pe<<2)>>2]))|0,0|c[q>>2]))<1){B=L,L=10;break}y=x,x=B,ne=L,B=1}else L=9;while(0);(0|L)==9&&!(0|J)&&(x=y,B=1,L=10),(0|L)==10&&(n0(q,B),hu(x,pe,M)),ve=_e}function Yd(y,x){var L=0,pe=0,J=(y|=0)+4|0;31<(x|=0)>>>0?(L=0|c[y>>2],c[J>>2]=L,x=x+-32|(pe=c[y>>2]=0)):(L=0|c[J>>2],pe=0|c[y>>2]),c[J>>2]=((J=32-x|0)?pe>>>J:pe)|L<<x,c[y>>2]=pe<<x}function yh(y){var x;return(x=0|_h((0|c[(y|=0)>>2])-1|0))?0|x:0|(0|(y=0|_h(0|c[y+4>>2]))?y+32|0:0)}function _h(y){var x=0;if(y|=0)if(1&y)x=0;else for(x=0;x=x+1|0,!(2&y);)y>>>=1;else x=32;return 0|x}function n0(y,x){y|=0;var L,pe=0,J=ve;if(ve=ve+256|0,pe=J,2<=(0|(x|=0)))for(Hl(0|(c[y+(x<<2)>>2]=pe),0|c[y>>2],4),pe=0;Hl(0|c[(L=y+(pe<<2)|0)>>2],0|c[y+((pe=pe+1|0)<<2)>>2],4),c[L>>2]=4+(0|c[L>>2]),(0|pe)!=(0|x););ve=J}function pu(y){y|=0;var x=0,L=0,pe=0,J=0,M=0,oe=0,Q=0,q=0,B=0,ne=0,_e=0,Pe=0,qe=0,Ae=0,He=0,Ue=0,be=0,ct=0,yt=0,Je=0,It=ve;ve=ve+16|0,Pe=It;do if(y>>>0<245){if(_e=0|c[923],3&(L=(y=(B=y>>>0<11?16:y+11&-8)>>>3)?_e>>>y:_e)|0)return y=0|c[(x=(J=3732+((pe=(1&L^1)+y|0)<<1<<2)|0)+8|0)>>2],(0|(L=0|c[(M=y+8|0)>>2]))==(0|J)?c[923]=_e&~(1<<pe):(c[L+12>>2]=J,c[x>>2]=L),c[y+4>>2]=3|(Je=pe<<3),c[(Je=y+Je+4|0)>>2]=1|c[Je>>2],ve=It,0|(Je=M);if((ne=0|c[925])>>>0<B>>>0){if(0|L)return M=0|c[(x=(L=3732+((pe=((y=(pe=(Q=(pe=((pe=L<<y&((pe=2<<y)|0-pe))&0-pe)-1|0)>>>12&16)?pe>>>Q:pe)>>>5&8)|Q|(M=(pe=y?pe>>>y:pe)>>>2&4)|(x=(pe=M?pe>>>M:pe)>>>1&2)|(L=(pe=x?pe>>>x:pe)>>>1&1))+(L?pe>>>L:pe)|0)<<1<<2)|0)+8|0)>>2],(0|(y=0|c[(Q=M+8|0)>>2]))==(0|L)?c[923]=y=_e&~(1<<pe):(c[y+12>>2]=L,c[x>>2]=y,y=_e),oe=(Je=pe<<3)-B|0,c[M+4>>2]=3|B,c[(J=M+B|0)+4>>2]=1|oe,c[M+Je>>2]=oe,0|ne&&(pe=0|c[928],L=3732+((x=ne>>>3)<<1<<2)|0,y=y&(x=1<<x)?0|c[(x=y=L+8|0)>>2]:(c[923]=y|x,x=L+8|0,L),c[x>>2]=pe,c[y+12>>2]=pe,c[pe+8>>2]=y,c[pe+12>>2]=L),c[925]=oe,c[928]=J,ve=It,0|(Je=Q);if(M=0|c[924]){for(q=0|c[3996+(((pe=(q=(J=(q=(M&0-M)-1|0)>>>12&16)?q>>>J:q)>>>5&8)|J|(oe=(q=pe?q>>>pe:q)>>>2&4)|(L=(q=oe?q>>>oe:q)>>>1&2)|(Q=(q=L?q>>>L:q)>>>1&1))+(Q?q>>>Q:q)<<2)>>2],Q=(-8&c[q+4>>2])-B|0,L=q;!(!(y=0|c[L+16>>2])&&!(y=0|c[L+20>>2]));)Q=(oe=(L=(-8&c[y+4>>2])-B|0)>>>0<Q>>>0)?L:Q,L=y,q=oe?y:q;if(q>>>0<(oe=q+B|0)>>>0){J=0|c[q+24>>2],x=0|c[q+12>>2];do if((0|x)==(0|q)){if(!(x=0|c[(y=q+20|0)>>2])&&!(x=0|c[(y=q+16|0)>>2])){L=0;break}for(;;)if(L=0|c[(pe=x+20|0)>>2])x=L,y=pe;else{if(!(L=0|c[(pe=x+16|0)>>2]))break;x=L,y=pe}c[y>>2]=0,L=x}else L=0|c[q+8>>2],c[L+12>>2]=x,c[x+8>>2]=L,L=x;while(0);do if(0|J){if(x=0|c[q+28>>2],(0|q)==(0|c[(y=3996+(x<<2)|0)>>2])){if(!(c[y>>2]=L)){c[924]=M&~(1<<x);break}}else if(!(c[((0|c[(Je=J+16|0)>>2])==(0|q)?Je:J+20|0)>>2]=L))break;c[L+24>>2]=J,0|(x=0|c[q+16>>2])&&(c[L+16>>2]=x,c[x+24>>2]=L),0|(x=0|c[q+20>>2])&&(c[L+20>>2]=x,c[x+24>>2]=L)}while(0);return Q>>>0<16?(c[q+4>>2]=3|(Je=Q+B|0),c[(Je=q+Je+4|0)>>2]=1|c[Je>>2]):(c[q+4>>2]=3|B,c[oe+4>>2]=1|Q,c[oe+Q>>2]=Q,0|ne&&(pe=0|c[928],L=3732+((x=ne>>>3)<<1<<2)|0,y=(x=1<<x)&_e?0|c[(x=y=L+8|0)>>2]:(c[923]=x|_e,x=L+8|0,L),c[x>>2]=pe,c[y+12>>2]=pe,c[pe+8>>2]=y,c[pe+12>>2]=L),c[925]=Q,c[928]=oe),ve=It,0|(Je=q+8|0)}_e=B}else _e=B}else _e=B}else if(y>>>0<=4294967231)if(B=-8&(y=y+11|0),pe=0|c[924]){L=0-B|0,q=(y>>>=8)?16777215<B>>>0?31:1&((Ue=(q=14-((Q=(Q=(q=y<<(_e=(_e=y+1048320|0)>>>16&8))+520192|0)>>>16&4)|_e|(Ue=(Ue=(q<<=Q)+245760|0)>>>16&2))+((q<<=Ue)>>>15)|0)+7|0)?B>>>Ue:B)|q<<1:0,y=0|c[3996+(q<<2)>>2];e:do if(y)for(oe=B<<(((J=0)|q)==31?0:25-(q>>>1)|0),Q=y,y=0;;){if((M=(-8&c[Q+4>>2])-B|0)>>>0<L>>>0){if(!M){L=0,y=J=Q,Ue=65;break e}L=M,y=Q}if(J=(0|(Ue=0|c[Q+20>>2]))==0|(0|Ue)==(0|(Q=0|c[Q+16+(oe>>>31<<2)>>2]))?J:Ue,!Q){Ue=61;break}oe<<=1}else y=J=0,Ue=61;while(0);if((0|Ue)==61){if((0|J)==0&(0|y)==0){if(!(y=((y=2<<q)|0-y)&pe)){_e=B;break}J=0|c[3996+(((oe=(J=(Q=(J=(y&0-y)-1|0)>>>12&16)?J>>>Q:J)>>>5&8)|Q|(q=(J=oe?J>>>oe:J)>>>2&4)|(_e=(J=q?J>>>q:J)>>>1&2)|(y=(J=_e?J>>>_e:J)>>>1&1))+(y?J>>>y:J)<<2)>>2],y=0}J?Ue=65:(Q=L,M=y)}if((0|Ue)==65)for(;;){if(L=(M=(_e=(-8&c[J+4>>2])-B|0)>>>0<L>>>0)?_e:L,M=M?J:y,!(y=(y=0|c[J+16>>2])||0|c[J+20>>2])){Q=L;break}J=y,y=M}if(0|M&&Q>>>0<((0|c[925])-B|0)>>>0&&M>>>0<(ne=M+B|0)>>>0){oe=0|c[M+24>>2],x=0|c[M+12>>2];do if((0|x)==(0|M)){if(!(x=0|c[(y=M+20|0)>>2])&&!(x=0|c[(y=M+16|0)>>2])){x=0;break}for(;;)if(L=0|c[(J=x+20|0)>>2])x=L,y=J;else{if(!(L=0|c[(J=x+16|0)>>2]))break;x=L,y=J}c[y>>2]=0}else Je=0|c[M+8>>2],c[Je+12>>2]=x,c[x+8>>2]=Je;while(0);do if(oe){if(y=0|c[M+28>>2],(0|M)==(0|c[(L=3996+(y<<2)|0)>>2])){if(!(c[L>>2]=x)){pe&=~(1<<y),c[924]=pe;break}}else if(!(c[((0|c[(Je=oe+16|0)>>2])==(0|M)?Je:oe+20|0)>>2]=x))break;c[x+24>>2]=oe,0|(y=0|c[M+16>>2])&&(c[x+16>>2]=y,c[y+24>>2]=x),(y=0|c[M+20>>2])&&(c[x+20>>2]=y,c[y+24>>2]=x)}while(0);e:do if(Q>>>0<16)c[M+4>>2]=3|(Je=Q+B|0),c[(Je=M+Je+4|0)>>2]=1|c[Je>>2];else{if(c[M+4>>2]=3|B,c[ne+4>>2]=1|Q,x=(c[ne+Q>>2]=Q)>>>3,Q>>>0<256){L=3732+(x<<1<<2)|0,y=(y=0|c[923])&(x=1<<x)?0|c[(x=y=L+8|0)>>2]:(c[923]=y|x,x=L+8|0,L),c[x>>2]=ne,c[y+12>>2]=ne,c[ne+8>>2]=y,c[ne+12>>2]=L;break}if(x=3996+((L=(x=Q>>>8)?16777215<Q>>>0?31:1&((Je=(L=14-((ct=(ct=(L=x<<(yt=(yt=x+1048320|0)>>>16&8))+520192|0)>>>16&4)|yt|(Je=(Je=(L<<=ct)+245760|0)>>>16&2))+((L<<=Je)>>>15)|0)+7|0)?Q>>>Je:Q)|L<<1:0)<<2)|0,c[ne+28>>2]=L,c[(y=ne+16|0)+4>>2]=0,c[y>>2]=0,!(pe&(y=1<<L))){c[924]=pe|y,c[x>>2]=ne,c[ne+24>>2]=x,c[ne+12>>2]=ne,c[ne+8>>2]=ne;break}x=0|c[x>>2];t:do if((-8&c[x+4>>2]|0)!=(0|Q)){for(pe=Q<<((0|L)==31?0:25-(L>>>1)|0);y=0|c[(L=x+16+(pe>>>31<<2)|0)>>2];){if((-8&c[y+4>>2]|0)==(0|Q)){x=y;break t}pe<<=1,x=y}c[L>>2]=ne,c[ne+24>>2]=x,c[ne+12>>2]=ne,c[ne+8>>2]=ne;break e}while(0);Je=0|c[(yt=x+8|0)>>2],c[Je+12>>2]=ne,c[yt>>2]=ne,c[ne+8>>2]=Je,c[ne+12>>2]=x,c[ne+24>>2]=0}while(0);return ve=It,0|(Je=M+8|0)}_e=B}else _e=B;else _e=-1;while(0);if(_e>>>0<=(L=0|c[925])>>>0)return x=0|c[928],15<(y=L-_e|0)>>>0?(c[928]=Je=x+_e|0,c[925]=y,c[Je+4>>2]=1|y,c[x+L>>2]=y,c[x+4>>2]=3|_e):(c[925]=0,c[928]=0,c[x+4>>2]=3|L,c[(Je=x+L+4|0)>>2]=1|c[Je>>2]),ve=It,0|(Je=x+8|0);if(_e>>>0<(oe=0|c[926])>>>0)return c[926]=ct=oe-_e|0,Je=0|c[929],c[929]=yt=Je+_e|0,c[yt+4>>2]=1|ct,c[Je+4>>2]=3|_e,ve=It,0|(Je=Je+8|0);if(Q=_e+48|0,(B=(M=(y=0|c[1041]?0|c[1043]:(c[1043]=4096,c[1042]=4096,c[1044]=-1,c[1045]=-1,c[1046]=0,c[1034]=0,c[1041]=-16&Pe^1431655768,4096))+(q=_e+47|0)|0)&(pe=0-y|0))>>>0<=_e>>>0||0|(y=0|c[1033])&&(Pe=(ne=0|c[1031])+B|0)>>>0<=ne>>>0|y>>>0<Pe>>>0)return ve=It,(Je=0)|Je;e:do if(4&c[1034])x=0,Ue=143;else{L=0|c[929];t:do if(L){for(J=4140;!((y=0|c[J>>2])>>>0<=L>>>0&&(y+(0|c[(He=J+4|0)>>2])|0)>>>0>L>>>0);){if(!(y=0|c[J+8>>2])){Ue=128;break t}J=y}if((x=M-oe&pe)>>>0<2147483647)if((0|(y=0|mu(x)))==((0|c[J>>2])+(0|c[He>>2])|0)){if((0|y)!=-1){oe=y,M=x,Ue=145;break e}}else pe=y,Ue=136;else x=0}else Ue=128;while(0);do if((0|Ue)==128)if((0|(L=0|mu(0)))!=-1&&(x=L,Ae=(x=((Ae=(qe=0|c[1042])+-1|0)&x|0?(Ae+x&0-qe)-x|0:0)+B|0)+(qe=0|c[1031])|0,_e>>>0<x>>>0&x>>>0<2147483647)){if(0|(He=0|c[1033])&&Ae>>>0<=qe>>>0|He>>>0<Ae>>>0){x=0;break}if((0|(y=0|mu(x)))==(0|L)){oe=L,M=x,Ue=145;break e}pe=y,Ue=136}else x=0;while(0);do if((0|Ue)==136){if(L=0-x|0,!(x>>>0<Q>>>0&x>>>0<2147483647&(0|pe)!=-1)){if((0|pe)==-1){x=0;break}oe=pe,M=x,Ue=145;break e}if(2147483647<=(y=q-x+(y=0|c[1043])&0-y)>>>0){oe=pe,M=x,Ue=145;break e}if((0|mu(y))==-1){mu(L),x=0;break}oe=pe,M=y+x|0,Ue=145;break e}while(0);c[1034]=4|c[1034],Ue=143}while(0);if((0|Ue)==143&&B>>>0<2147483647&&!((0|(be=0|mu(B)))==-1|1^(ct=(_e+40|0)>>>0<(yt=(He=0|mu(0))-be|0)>>>0)|be>>>0<He>>>0&(0|be)!=-1&(0|He)!=-1^1)&&(oe=be,M=ct?yt:x,Ue=145),(0|Ue)==145){x=(0|c[1031])+M|0,(c[1031]=x)>>>0>(0|c[1032])>>>0&&(c[1032]=x),q=0|c[929];e:do if(q){for(J=4140;;){if((0|oe)==((x=0|c[J>>2])+(y=0|c[(pe=J+4|0)>>2])|0)){Ue=154;break}if(!(L=0|c[J+8>>2]))break;J=L}if((0|Ue)==154&&!(8&c[J+12>>2]|0)&&q>>>0<oe>>>0&x>>>0<=q>>>0){c[pe>>2]=y+M,yt=q+(ct=7&(ct=q+8|0)|0?0-ct&7:0)|0,ct=(Je=(0|c[926])+M|0)-ct|0,c[929]=yt,c[926]=ct,c[yt+4>>2]=1|ct,c[q+Je+4>>2]=40,c[930]=c[1045];break}for(oe>>>0<(0|c[927])>>>0&&(c[927]=oe),L=oe+M|0,y=4140;;){if((0|c[y>>2])==(0|L)){Ue=162;break}if(!(x=0|c[y+8>>2]))break;y=x}if((0|Ue)==162&&!(8&c[y+12>>2]|0)){c[y>>2]=oe,c[(ne=y+4|0)>>2]=(0|c[ne>>2])+M,B=(ne=oe+(7&(ne=oe+8|0)|0?0-ne&7:0)|0)+_e|0,Q=(x=L+(7&(x=L+8|0)|0?0-x&7:0)|0)-ne-_e|0,c[ne+4>>2]=3|_e;t:do if((0|q)==(0|x))Je=(0|c[926])+Q|0,c[926]=Je,c[929]=B,c[B+4>>2]=1|Je;else{if((0|c[928])==(0|x)){Je=(0|c[925])+Q|0,c[925]=Je,c[928]=B,c[B+4>>2]=1|Je,c[B+Je>>2]=Je;break}if((3&(y=0|c[x+4>>2])|0)==1){oe=-8&y,pe=y>>>3;n:do{if(y>>>0<256){if(y=0|c[x+8>>2],(0|(L=0|c[x+12>>2]))==(0|y)){c[923]=c[923]&~(1<<pe);break}c[y+12>>2]=L,c[L+8>>2]=y;break}M=0|c[x+24>>2],y=0|c[x+12>>2];do if((0|y)==(0|x)){if(!(y=0|c[(L=(pe=x+16|0)+4|0)>>2])){if(!(y=0|c[pe>>2])){y=0;break}L=pe}for(;;)if(pe=0|c[(J=y+20|0)>>2])y=pe,L=J;else{if(!(pe=0|c[(J=y+16|0)>>2]))break;y=pe,L=J}c[L>>2]=0}else Je=0|c[x+8>>2],c[Je+12>>2]=y,c[y+8>>2]=Je;while(0);if(!M)break;pe=3996+((L=0|c[x+28>>2])<<2)|0;do{if((0|c[pe>>2])==(0|x)){if(0|(c[pe>>2]=y))break;c[924]=c[924]&~(1<<L);break n}if(!(c[((0|c[(Je=M+16|0)>>2])==(0|x)?Je:M+20|0)>>2]=y))break n}while(0)}while(c[y+24>>2]=M,0|(L=0|c[(pe=x+16|0)>>2])&&(c[y+16>>2]=L,c[L+24>>2]=y),(L=0|c[pe+4>>2])&&(c[y+20>>2]=L,c[L+24>>2]=y,0));x=x+oe|0,J=oe+Q|0}else J=Q;if(c[(x=x+4|0)>>2]=-2&c[x>>2],c[B+4>>2]=1|J,x=(c[B+J>>2]=J)>>>3,J>>>0<256){L=3732+(x<<1<<2)|0,y=(y=0|c[923])&(x=1<<x)?0|c[(x=y=L+8|0)>>2]:(c[923]=y|x,x=L+8|0,L),c[x>>2]=B,c[y+12>>2]=B,c[B+8>>2]=y,c[B+12>>2]=L;break}x=J>>>8;do if(x){if(16777215<J>>>0){pe=31;break}pe=1&((Je=(pe=14-((ct=(ct=(pe=x<<(yt=(yt=x+1048320|0)>>>16&8))+520192|0)>>>16&4)|yt|(Je=(Je=(pe<<=ct)+245760|0)>>>16&2))+((pe<<=Je)>>>15)|0)+7|0)?J>>>Je:J)|pe<<1}else pe=0;while(0);if(y=3996+(pe<<2)|0,c[B+28>>2]=pe,c[(x=B+16|0)+4>>2]=0,!((x=(c[x>>2]=0)|c[924])&(L=1<<pe))){c[924]=x|L,c[y>>2]=B,c[B+24>>2]=y,c[B+12>>2]=B,c[B+8>>2]=B;break}x=0|c[y>>2];n:do if((-8&c[x+4>>2]|0)!=(0|J)){for(pe=J<<((0|pe)==31?0:25-(pe>>>1)|0);y=0|c[(L=x+16+(pe>>>31<<2)|0)>>2];){if((-8&c[y+4>>2]|0)==(0|J)){x=y;break n}pe<<=1,x=y}c[L>>2]=B,c[B+24>>2]=x,c[B+12>>2]=B,c[B+8>>2]=B;break t}while(0);Je=0|c[(yt=x+8|0)>>2],c[Je+12>>2]=B,c[yt>>2]=B,c[B+8>>2]=Je,c[B+12>>2]=x,c[B+24>>2]=0}while(0);return ve=It,0|(Je=ne+8|0)}for(y=4140;!((x=0|c[y>>2])>>>0<=q>>>0&&q>>>0<(Je=x+(0|c[y+4>>2])|0)>>>0);)y=0|c[y+8>>2];for(x=(y=(y=(J=Je+-47|0)+(7&(y=J+8|0)|0?0-y&7:0)|0)>>>0<(J=q+16|0)>>>0?q:y)+8|0,yt=oe+(ct=7&(ct=oe+8|0)|0?0-ct&7:0)|0,ct=(L=M+-40|0)-ct|0,c[929]=yt,c[926]=ct,c[yt+4>>2]=1|ct,c[oe+L+4>>2]=40,c[930]=c[1045],c[(L=y+4|0)>>2]=27,c[x>>2]=c[1035],c[x+4>>2]=c[1036],c[x+8>>2]=c[1037],c[x+12>>2]=c[1038],c[1035]=oe,c[1036]=M,c[1038]=0,c[1037]=x,x=y+24|0;c[(x=(yt=x)+4|0)>>2]=7,(yt+8|0)>>>0<Je>>>0;);if((0|y)!=(0|q)){if(M=y-q|0,c[L>>2]=-2&c[L>>2],c[q+4>>2]=1|M,x=(c[y>>2]=M)>>>3,M>>>0<256){L=3732+(x<<1<<2)|0,y=(y=0|c[923])&(x=1<<x)?0|c[(x=y=L+8|0)>>2]:(c[923]=y|x,x=L+8|0,L),c[x>>2]=q,c[y+12>>2]=q,c[q+8>>2]=y,c[q+12>>2]=L;break}if(L=3996+((pe=(x=M>>>8)?16777215<M>>>0?31:1&((Je=(pe=14-((ct=(ct=(pe=x<<(yt=(yt=x+1048320|0)>>>16&8))+520192|0)>>>16&4)|yt|(Je=(Je=(pe<<=ct)+245760|0)>>>16&2))+((pe<<=Je)>>>15)|0)+7|0)?M>>>Je:M)|pe<<1:0)<<2)|0,c[q+28>>2]=pe,c[q+20>>2]=0,!((x=(c[J>>2]=0)|c[924])&(y=1<<pe))){c[924]=x|y,c[L>>2]=q,c[q+24>>2]=L,c[q+12>>2]=q,c[q+8>>2]=q;break}x=0|c[L>>2];t:do if((-8&c[x+4>>2]|0)!=(0|M)){for(pe=M<<((0|pe)==31?0:25-(pe>>>1)|0);y=0|c[(L=x+16+(pe>>>31<<2)|0)>>2];){if((-8&c[y+4>>2]|0)==(0|M)){x=y;break t}pe<<=1,x=y}c[L>>2]=q,c[q+24>>2]=x,c[q+12>>2]=q,c[q+8>>2]=q;break e}while(0);Je=0|c[(yt=x+8|0)>>2],c[Je+12>>2]=q,c[yt>>2]=q,c[q+8>>2]=Je,c[q+12>>2]=x,c[q+24>>2]=0}}else(0|(Je=0|c[927]))==0|oe>>>0<Je>>>0&&(c[927]=oe),c[1035]=oe,c[1036]=M,c[1038]=0,c[932]=c[1041],c[931]=-1,c[936]=3732,c[935]=3732,c[938]=3740,c[937]=3740,c[940]=3748,c[939]=3748,c[942]=3756,c[941]=3756,c[944]=3764,c[943]=3764,c[946]=3772,c[945]=3772,c[948]=3780,c[947]=3780,c[950]=3788,c[949]=3788,c[952]=3796,c[951]=3796,c[954]=3804,c[953]=3804,c[956]=3812,c[955]=3812,c[958]=3820,c[957]=3820,c[960]=3828,c[959]=3828,c[962]=3836,c[961]=3836,c[964]=3844,c[963]=3844,c[966]=3852,c[965]=3852,c[968]=3860,c[967]=3860,c[970]=3868,c[969]=3868,c[972]=3876,c[971]=3876,c[974]=3884,c[973]=3884,c[976]=3892,c[975]=3892,c[978]=3900,c[977]=3900,c[980]=3908,c[979]=3908,c[982]=3916,c[981]=3916,c[984]=3924,c[983]=3924,c[986]=3932,c[985]=3932,c[988]=3940,c[987]=3940,c[990]=3948,c[989]=3948,c[992]=3956,c[991]=3956,c[994]=3964,c[993]=3964,c[996]=3972,c[995]=3972,c[998]=3980,c[997]=3980,yt=oe+(ct=7&(ct=oe+8|0)|0?0-ct&7:0)|0,ct=(Je=M+-40|0)-ct|0,c[929]=yt,c[926]=ct,c[yt+4>>2]=1|ct,c[oe+Je+4>>2]=40,c[930]=c[1045];while(0);if(_e>>>0<(x=0|c[926])>>>0)return c[926]=ct=x-_e|0,Je=0|c[929],c[929]=yt=Je+_e|0,c[yt+4>>2]=1|ct,c[Je+4>>2]=3|_e,ve=It,0|(Je=Je+8|0)}return c[922]=48,ve=It,(Je=0)|Je}function Kd(y){var x=0,L=0,pe=0,J=0,M=0,oe=0,Q=0,q=0,B=0;if(y|=0){pe=0|c[927],B=(L=y+-8|0)+(x=-8&(y=0|c[y+-4>>2]))|0;do if(1&y)q=Q=L;else{if(J=0|c[L>>2],!(3&y)||(oe=J+x|0,(M=L+(0-J)|0)>>>0<pe>>>0))return;if((0|c[928])==(0|M)){if((3&(y=0|c[(x=B+4|0)>>2])|0)==3)return c[925]=oe,c[x>>2]=-2&y,c[M+4>>2]=1|oe,void(c[M+oe>>2]=oe);q=Q=M,x=oe;break}if(L=J>>>3,J>>>0<256){if(y=0|c[M+8>>2],(0|(x=0|c[M+12>>2]))==(0|y)){c[923]=c[923]&~(1<<L),q=Q=M,x=oe;break}c[y+12>>2]=x,c[x+8>>2]=y,q=Q=M,x=oe;break}J=0|c[M+24>>2],y=0|c[M+12>>2];do if((0|y)==(0|M)){if(!(y=0|c[(x=(L=M+16|0)+4|0)>>2])){if(!(y=0|c[L>>2])){L=0;break}x=L}for(;;)if(L=0|c[(pe=y+20|0)>>2])y=L,x=pe;else{if(!(L=0|c[(pe=y+16|0)>>2]))break;y=L,x=pe}c[x>>2]=0,L=y}else L=0|c[M+8>>2],c[L+12>>2]=y,c[y+8>>2]=L,L=y;while(0);if(J){if(y=0|c[M+28>>2],(0|c[(x=3996+(y<<2)|0)>>2])==(0|M)){if(!(c[x>>2]=L)){c[924]=c[924]&~(1<<y),q=Q=M,x=oe;break}}else if(!(c[((0|c[(q=J+16|0)>>2])==(0|M)?q:J+20|0)>>2]=L)){q=Q=M,x=oe;break}c[L+24>>2]=J,0|(y=0|c[(x=M+16|0)>>2])&&(c[L+16>>2]=y,c[y+24>>2]=L),x=(q=Q=((y=0|c[x+4>>2])&&(c[L+20>>2]=y,c[y+24>>2]=L),M),oe)}else q=Q=M,x=oe}while(0);if(!(B>>>0<=Q>>>0)&&1&(L=0|c[(y=B+4|0)>>2])){if(2&L)c[y>>2]=-2&L,c[q+4>>2]=1|x,J=c[Q+x>>2]=x;else{if((0|c[929])==(0|B))return B=(0|c[926])+x|0,c[926]=B,c[929]=q,c[q+4>>2]=1|B,void((0|q)==(0|c[928])&&(c[928]=0,c[925]=0));if((0|c[928])==(0|B))return B=(0|c[925])+x|0,c[925]=B,c[928]=Q,c[q+4>>2]=1|B,void(c[Q+B>>2]=B);J=(-8&L)+x|0,pe=L>>>3;do{if(L>>>0<256){if(x=0|c[B+8>>2],(0|(y=0|c[B+12>>2]))==(0|x)){c[923]=c[923]&~(1<<pe);break}c[x+12>>2]=y,c[y+8>>2]=x;break}M=0|c[B+24>>2],y=0|c[B+12>>2];do if((0|y)==(0|B)){if(!(y=0|c[(x=(L=B+16|0)+4|0)>>2])){if(!(y=0|c[L>>2])){L=0;break}x=L}for(;;)if(L=0|c[(pe=y+20|0)>>2])y=L,x=pe;else{if(!(L=0|c[(pe=y+16|0)>>2]))break;y=L,x=pe}c[x>>2]=0,L=y}else L=0|c[B+8>>2],c[L+12>>2]=y,c[y+8>>2]=L,L=y;while(0);if(0|M){if(y=0|c[B+28>>2],(0|c[(x=3996+(y<<2)|0)>>2])==(0|B)){if(!(c[x>>2]=L)){c[924]=c[924]&~(1<<y);break}}else if(!(c[((0|c[(oe=M+16|0)>>2])==(0|B)?oe:M+20|0)>>2]=L))break;c[L+24>>2]=M,0|(y=0|c[(x=B+16|0)>>2])&&(c[L+16>>2]=y,c[y+24>>2]=L),0|(y=0|c[x+4>>2])&&(c[L+20>>2]=y,c[y+24>>2]=L)}}while(0);if(c[q+4>>2]=1|J,c[Q+J>>2]=J,(0|q)==(0|c[928]))return void(c[925]=J)}if(y=J>>>3,J>>>0<256)return L=3732+(y<<1<<2)|0,x=(x=0|c[923])&(y=1<<y)?0|c[(y=x=L+8|0)>>2]:(c[923]=x|y,y=L+8|0,L),c[y>>2]=q,c[x+12>>2]=q,c[q+8>>2]=x,void(c[q+12>>2]=L);x=3996+((pe=(y=J>>>8)?16777215<J>>>0?31:1&((B=(pe=14-((oe=(oe=(pe=y<<(Q=(Q=y+1048320|0)>>>16&8))+520192|0)>>>16&4)|Q|(B=(B=(pe<<=oe)+245760|0)>>>16&2))+((pe<<=B)>>>15)|0)+7|0)?J>>>B:J)|pe<<1:0)<<2)|0,c[q+28>>2]=pe,c[q+20>>2]=0,y=(c[q+16>>2]=0)|c[924],L=1<<pe;e:do if(y&L){y=0|c[x>>2];t:do if((-8&c[y+4>>2]|0)!=(0|J)){for(pe=J<<((0|pe)==31?0:25-(pe>>>1)|0);x=0|c[(L=y+16+(pe>>>31<<2)|0)>>2];){if((-8&c[x+4>>2]|0)==(0|J)){y=x;break t}pe<<=1,y=x}c[L>>2]=q,c[q+24>>2]=y,c[q+12>>2]=q,c[q+8>>2]=q;break e}while(0);B=0|c[(Q=y+8|0)>>2],c[B+12>>2]=q,c[Q>>2]=q,c[q+8>>2]=B,c[q+12>>2]=y,c[q+24>>2]=0}else c[924]=y|L,c[x>>2]=q,c[q+24>>2]=x,c[q+12>>2]=q,c[q+8>>2]=q;while(0);if(B=(0|c[931])-1|0,!(0|(c[931]=B))){for(y=4148;y=0|c[y>>2];)y=y+8|0;c[931]=-1}}}}function Zd(y,x){var q=0,L=0,pe=0,J=0,M=0,oe=0,Q=0,Q=(y|=0)+(x|=0)|0,q=0|c[y+4>>2];do if(1&q)oe=y,y=x;else{if(L=0|c[y>>2],!(3&q))return;if(M=L+x|0,(0|c[928])==(0|(J=y+(0-L)|0))){if((3&(q=0|c[(y=Q+4|0)>>2])|0)==3)return c[925]=M,c[y>>2]=-2&q,c[J+4>>2]=1|M,void(c[Q>>2]=M);oe=J,y=M;break}if(x=L>>>3,L>>>0<256){if(q=0|c[J+8>>2],(0|(y=0|c[J+12>>2]))==(0|q)){c[923]=c[923]&~(1<<x),oe=J,y=M;break}c[q+12>>2]=y,c[y+8>>2]=q,oe=J,y=M;break}pe=0|c[J+24>>2],q=0|c[J+12>>2];do if((0|q)==(0|J)){if(!(q=0|c[(y=(x=J+16|0)+4|0)>>2])){if(!(q=0|c[x>>2])){x=0;break}y=x}for(;;)if(x=0|c[(L=q+20|0)>>2])q=x,y=L;else{if(!(x=0|c[(L=q+16|0)>>2]))break;q=x,y=L}c[y>>2]=0,x=q}else x=0|c[J+8>>2],c[x+12>>2]=q,c[q+8>>2]=x,x=q;while(0);if(pe){if(q=0|c[J+28>>2],(0|c[(y=3996+(q<<2)|0)>>2])==(0|J)){if(!(c[y>>2]=x)){c[924]=c[924]&~(1<<q),oe=J,y=M;break}}else if(!(c[((0|c[(oe=pe+16|0)>>2])==(0|J)?oe:pe+20|0)>>2]=x)){oe=J,y=M;break}c[x+24>>2]=pe,0|(q=0|c[(y=J+16|0)>>2])&&(c[x+16>>2]=q,c[q+24>>2]=x),y=(oe=((q=0|c[y+4>>2])&&(c[x+20>>2]=q,c[q+24>>2]=x),J),M)}else oe=J,y=M}while(0);if(2&(x=0|c[(q=Q+4|0)>>2]))c[q>>2]=-2&x,c[oe+4>>2]=1|y,c[oe+y>>2]=y;else{if((0|c[929])==(0|Q))return Q=(0|c[926])+y|0,c[926]=Q,c[929]=oe,c[oe+4>>2]=1|Q,void((0|oe)==(0|c[928])&&(c[928]=0,c[925]=0));if((0|c[928])==(0|Q))return Q=(0|c[925])+y|0,c[925]=Q,c[928]=oe,c[oe+4>>2]=1|Q,void(c[oe+Q>>2]=Q);J=(-8&x)+y|0,L=x>>>3;do{if(x>>>0<256){if(y=0|c[Q+8>>2],(0|(q=0|c[Q+12>>2]))==(0|y)){c[923]=c[923]&~(1<<L);break}c[y+12>>2]=q,c[q+8>>2]=y;break}pe=0|c[Q+24>>2],q=0|c[Q+12>>2];do if((0|q)==(0|Q)){if(!(q=0|c[(y=(x=Q+16|0)+4|0)>>2])){if(!(q=0|c[x>>2])){x=0;break}y=x}for(;;)if(x=0|c[(L=q+20|0)>>2])q=x,y=L;else{if(!(x=0|c[(L=q+16|0)>>2]))break;q=x,y=L}c[y>>2]=0,x=q}else x=0|c[Q+8>>2],c[x+12>>2]=q,c[q+8>>2]=x,x=q;while(0);if(0|pe){if(q=0|c[Q+28>>2],(0|c[(y=3996+(q<<2)|0)>>2])==(0|Q)){if(!(c[y>>2]=x)){c[924]=c[924]&~(1<<q);break}}else if(!(c[((0|c[(M=pe+16|0)>>2])==(0|Q)?M:pe+20|0)>>2]=x))break;c[x+24>>2]=pe,0|(q=0|c[(y=Q+16|0)>>2])&&(c[x+16>>2]=q,c[q+24>>2]=x),0|(q=0|c[y+4>>2])&&(c[x+20>>2]=q,c[q+24>>2]=x)}}while(0);if(c[oe+4>>2]=1|J,c[oe+J>>2]=J,(0|oe)==(0|c[928]))return void(c[925]=J);y=J}if(q=y>>>3,y>>>0<256)return x=3732+(q<<1<<2)|0,y=(y=0|c[923])&(q=1<<q)?0|c[(q=y=x+8|0)>>2]:(c[923]=y|q,q=x+8|0,x),c[q>>2]=oe,c[y+12>>2]=oe,c[oe+8>>2]=y,void(c[oe+12>>2]=x);if(x=3996+((pe=(q=y>>>8)?16777215<y>>>0?31:1&((Q=(pe=14-((J=(J=(pe=q<<(M=(M=q+1048320|0)>>>16&8))+520192|0)>>>16&4)|M|(Q=(Q=(pe<<=J)+245760|0)>>>16&2))+((pe<<=Q)>>>15)|0)+7|0)?y>>>Q:y)|pe<<1:0)<<2)|0,c[oe+28>>2]=pe,c[oe+20>>2]=0,!((q=(c[oe+16>>2]=0)|c[924])&(L=1<<pe)))return c[924]=q|L,c[x>>2]=oe,c[oe+24>>2]=x,c[oe+12>>2]=oe,void(c[oe+8>>2]=oe);q=0|c[x>>2];e:do if((-8&c[q+4>>2]|0)!=(0|y)){for(pe=y<<((0|pe)==31?0:25-(pe>>>1)|0);x=0|c[(L=q+16+(pe>>>31<<2)|0)>>2];){if((-8&c[x+4>>2]|0)==(0|y)){q=x;break e}pe<<=1,q=x}return c[L>>2]=oe,c[oe+24>>2]=q,c[oe+12>>2]=oe,void(c[oe+8>>2]=oe)}while(0);Q=0|c[(M=q+8|0)>>2],c[Q+12>>2]=oe,c[M>>2]=oe,c[oe+8>>2]=Q,c[oe+12>>2]=q,c[oe+24>>2]=0}function r0(y,x,L){y|=0;var pe;return(3&(x|=0)|0)!=0|(0|(pe=x>>>2))==0||1073741823+pe&pe|0?0|(y=28):!((-64-x|0)>>>0<(L|=0)>>>0)&&(x=0|function(J,M){M|=0;var oe,Q=0,q=0,B=0,ne=0,_e=0;if((Q=16<(J|=0)>>>0?J:16)+-1&Q)for(J=16;J>>>0<Q>>>0;)J<<=1;else J=Q;if((-64-J|0)>>>0<=M>>>0)return c[922]=48,(ne=0)|ne;if(!(Q=0|pu(12+(oe=M>>>0<11?16:M+11&-8)+J|0)))return(ne=0)|ne;B=Q+-8|0;do if(J+-1&Q){if(q=15<((q=(Q+J+-1&0-J)-8|0)-(M=B)|0)>>>0?q:q+J|0,Q=(-8&(_e=0|c[(J=Q+-4|0)>>2]))-(M=q-M|0)|0,3&_e){c[(_e=q+4|0)>>2]=Q|1&c[_e>>2]|2,c[(Q=q+Q+4|0)>>2]=1|c[Q>>2],c[J>>2]=M|1&c[J>>2]|2,c[_e>>2]=1|c[_e>>2],Zd(B,M),J=M=q;break}c[q>>2]=(0|c[B>>2])+M,c[q+4>>2]=Q,J=M=q;break}while(J=M=B,0);return 3&(J=0|c[(Q=J+4|0)>>2])|0&&(16+oe|0)>>>0<(ne=-8&J)>>>0&&(_e=ne-oe|0,B=M+oe|0,c[Q>>2]=oe|1&J|2,c[B+4>>2]=3|_e,c[(ne=M+ne+4|0)>>2]=1|c[ne>>2],Zd(B,_e)),0|(_e=M+8|0)}(16<x>>>0?x:16,L))?(c[y>>2]=x,(y=0)|y):0|(y=48)}function mu(y){var x,L=0;return(y=(x=0|c[(L=4208)>>2])+(y|=0)|0)>>>0>(0|hn())>>>0&&!(0|At(0|y))?(c[922]=48,0|(L=-1)):(c[L>>2]=y,0|(L=x))}function jc(y,x,L,pe){x|=0,pe|=0;var J=0,M=0;return L=0|function(oe,Q){var q,B,ne,_e;return oe=((ne=0|Me(B=65535&(Q|=0),q=65535&(oe|=0)))>>>16)+(0|Me(B,_e=oe>>>16))|0,Q=0|Me(B=Q>>>16,q),0|(lt((oe>>>16)+(0|Me(B,_e))+(((65535&oe)+Q|0)>>>16)|0),oe+Q<<16|65535&ne|0)}(J=y|=0,M=L|=0),y=0|dt(),0|(lt((0|Me(x,M))+(0|Me(pe,J))+y|0&y|0),0|L)}function Ju(y,x,L,pe){return 0|(lt((x|=0)+(pe|=0)+((L=(y|=0)+(L|=0)>>>0)>>>0<y>>>0|0)>>>0|0),0|L)}function ua(y,x,L,pe){return 0|(lt(0|(pe=(x|=0)-(pe|=0)-((y|=0)>>>0<(L|=0)>>>0|0)>>>0)),y-L>>>0|0)}function i0(y){return 0|((y|=0)?31-(0|Se(y^y-1))|0:32)}function s0(y,x,L,pe,J){J|=0;var M=0,qe=0,Ae=0,oe=0,Q=0,Pe=0,q=0,B=0,ne=0,_e=0,Pe=y|=0,qe=L|=0,Ae=B=pe|=0;if(!(Q=oe=x|=0))return M=(0|J)!=0,Ae?(M&&(c[J>>2]=0|y,c[J+4>>2]=0&x),(J=B=0)|(lt(0|B),J)):(M&&(c[J>>2]=(Pe>>>0)%(qe>>>0),c[J+4>>2]=0),J=(Pe>>>(B=0))/(qe>>>0)>>>0,0|(lt(0|B),J));M=(0|Ae)==0;do{if(qe){if(!M){if((M=(0|Se(0|Ae))-(0|Se(0|Q))|0)>>>0<=31){y=Pe>>>((qe=q=M+1|0)>>>0)&(x=M-31>>31)|Q<<(Ae=31-M|0),x&=Q>>>(q>>>0),M=0,Ae=Pe<<Ae;break}return J&&(c[J>>2]=0|y,c[J+4>>2]=oe|0&x),(J=B=0)|(lt(0|B),J)}if((M=qe-1|0)&qe|0){y=(q=32-(Ae=33+(0|Se(0|qe))-(0|Se(0|Q))|0)|0)-1>>31&Q>>>((ne=Ae-32|0)>>>0)|(Q<<q|Pe>>>((qe=Ae)>>>0))&(x=ne>>31),x&=Q>>>(Ae>>>0),M=Pe<<(_e=64-Ae|0)&(oe=q>>31),Ae=(Q<<_e|Pe>>>(ne>>>0))&oe|Pe<<q&Ae-33>>31;break}return 0|J&&(c[J>>2]=M&Pe,c[J+4>>2]=0),(0|qe)==1?(_e=0|y,0|(lt(0|(ne=oe|0&x)),_e)):(ne=Q>>>((_e=0|i0(0|qe))>>>0)|0,_e=Q<<32-_e|Pe>>>(_e>>>0)|0,0|(lt(0|ne),_e))}if(M)return 0|J&&(c[J>>2]=(Q>>>0)%(qe>>>0),c[J+4>>2]=0),_e=(Q>>>(ne=0))/(qe>>>0)>>>0,0|(lt(0|ne),_e);if(!Pe)return 0|J&&(c[J>>2]=0,c[J+4>>2]=(Q>>>0)%(Ae>>>0)),_e=(Q>>>(ne=0))/(Ae>>>0)>>>0,0|(lt(0|ne),_e);if(!((M=Ae-1|0)&Ae))return 0|J&&(c[J>>2]=0|y,c[J+4>>2]=M&Q|0&x),_e=Q>>>(((ne=0)|i0(0|Ae))>>>0),0|(lt(0|ne),_e);if((M=(0|Se(0|Ae))-(0|Se(0|Q))|0)>>>0<=30){y=Q<<(Ae=31-M|0)|Pe>>>((qe=x=M+1|0)>>>0),x=Q>>>(x>>>0),M=0,Ae=Pe<<Ae;break}return J&&(c[J>>2]=0|y,c[J+4>>2]=oe|0&x),(_e=ne=0)|(lt(0|ne),_e)}while(0);if(qe){for(Q=0|Ju(0|(q=0|L),0|(Pe=B|0&pe),-1,-1),L=0|dt(),oe=Ae,Ae=0;oe=M>>>31|(pe=oe)<<1,M=Ae|M<<1,ua(0|Q,0|L,0|(pe=y<<1|pe>>>31|0),0|(B=y>>>31|x<<1|0)),Ae=1&(ne=(_e=0|dt())>>31|((0|_e)<0?-1:0)<<1),y=0|ua(0|pe,0|B,ne&q|0,(((0|_e)<0?-1:0)>>31|((0|_e)<0?-1:0)<<1)&Pe|0),x=0|dt(),(0|(qe=qe-1|0))!=0;);Q=oe,oe=0}else Q=Ae,Ae=oe=0;return(qe=0)|J&&(c[J>>2]=y,c[J+4>>2]=x),_e=-2&(M<<1|0)|Ae,0|(lt(0|(ne=(0|M)>>>31|(Q|qe)<<1|0&(qe<<1|M>>>31)|oe)),_e)}function Gc(y,x,L,pe){return 0|s0(y|=0,x|=0,L|=0,pe|=0,0)}function lg(y,x,L){return y|=0,x|=0,(0|(L|=0))<32?(lt(x>>>L|0),y>>>L|(x&(1<<L)-1)<<32-L):(lt(0),x>>>L-32|0)}function Lx(y,x,L){return y|=0,x|=0,(0|(L|=0))<32?(lt(x<<L|(y&(1<<L)-1<<32-L)>>>32-L|0),y<<L):(lt(y<<L-32|0),0)}function c3(){return 4208}function Hl(y,x,L){y|=0,x|=0;var pe,J,M;if(8192<=(0|(L|=0)))return st(0|y,0|x,0|L),0|y;if(M=0|y,J=y+L|0,(3&y)==(3&x)){for(;3&y;){if(!L)return 0|M;xe[y>>0]=0|xe[x>>0],y=y+1|0,x=x+1|0,L=L-1|0}for(pe=(L=-4&J|0)-64|0;(0|y)<=(0|pe);)c[y>>2]=c[x>>2],c[y+4>>2]=c[x+4>>2],c[y+8>>2]=c[x+8>>2],c[y+12>>2]=c[x+12>>2],c[y+16>>2]=c[x+16>>2],c[y+20>>2]=c[x+20>>2],c[y+24>>2]=c[x+24>>2],c[y+28>>2]=c[x+28>>2],c[y+32>>2]=c[x+32>>2],c[y+36>>2]=c[x+36>>2],c[y+40>>2]=c[x+40>>2],c[y+44>>2]=c[x+44>>2],c[y+48>>2]=c[x+48>>2],c[y+52>>2]=c[x+52>>2],c[y+56>>2]=c[x+56>>2],c[y+60>>2]=c[x+60>>2],y=y+64|0,x=x+64|0;for(;(0|y)<(0|L);)c[y>>2]=c[x>>2],y=y+4|0,x=x+4|0}else for(L=J-4|0;(0|y)<(0|L);)xe[y>>0]=0|xe[x>>0],xe[y+1>>0]=0|xe[x+1>>0],xe[y+2>>0]=0|xe[x+2>>0],xe[y+3>>0]=0|xe[x+3>>0],y=y+4|0,x=x+4|0;for(;(0|y)<(0|J);)xe[y>>0]=0|xe[x>>0],y=y+1|0,x=x+1|0;return 0|M}function hl(y,x,L){var pe,J,M,oe=(y|=0)+(L|=0)|0;if(x=(x|0)&255,67<=(0|L)){for(;3&y;)xe[y>>0]=x,y=y+1|0;for(M=x|x<<8|x<<16|x<<24,J=(pe=-4&oe|0)-64|0;(0|y)<=(0|J);)c[y>>2]=M,c[y+4>>2]=M,c[y+8>>2]=M,c[y+12>>2]=M,c[y+16>>2]=M,c[y+20>>2]=M,c[y+24>>2]=M,c[y+28>>2]=M,c[y+32>>2]=M,c[y+36>>2]=M,c[y+40>>2]=M,c[y+44>>2]=M,c[y+48>>2]=M,c[y+52>>2]=M,c[y+56>>2]=M,c[y+60>>2]=M,y=y+64|0;for(;(0|y)<(0|pe);)c[y>>2]=M,y=y+4|0}for(;(0|y)<(0|oe);)xe[y>>0]=x,y=y+1|0;return oe-L|0}function a0(y){return ze(0),0}function bh(y,x,L,pe){return ze(2),0}var o0=[a0,function(y){return 0|pt(0,0|(y|=0))},function(y){return 0},a0],Qd=[function(y,x,L){return ze(1),0},function(y,x,L){return 0|Ht(0,0|(y|=0),0|(x|=0),0|(L|=0))},function(y,x,L){x|=0,L|=0;var pe,J,M,oe,Q,q,B,ne=0,_e=0,Pe=0,qe=0,Ae=ve;for(ve=ve+32|0,J=(_e=Ae)+16|0,ne=0|c[(M=(y|=0)+28|0)>>2],c[_e>>2]=ne,ne=(0|c[(oe=y+20|0)>>2])-ne|0,c[_e+4>>2]=ne,c[_e+8>>2]=x,pe=y+60|0,ne=ne+(c[_e+12>>(Pe=2)]=L)|0;;){if((0|ne)==(0|(x=0|function(He){return 0|(He=(He|=0)<<16>>16?(c[922]=65535&He,-1):0)}(0|Jt(0|c[pe>>2],0|_e,0|Pe,0|J))?c[J>>2]=-1:0|c[J>>2]))){x=6;break}if((0|x)<0){x=8;break}qe=0|c[_e+4>>2],c[(q=(Q=qe>>>0<x>>>0)?_e+8|0:_e)>>2]=(0|c[q>>2])+(qe=x-(Q?qe:0)|0),c[(B=q+4|0)>>2]=(0|c[B>>2])-qe,_e=q,Pe=Pe+(Q<<31>>31)|0,ne=ne-x|0}return(0|x)==6?(qe=0|c[y+44>>2],c[y+16>>2]=qe+(0|c[y+48>>2]),c[M>>2]=qe,c[oe>>2]=qe):(0|x)==8&&(c[y+16>>2]=0,c[M>>2]=0,c[oe>>2]=0,c[y>>2]=32|c[y>>2],L=(0|Pe)==2?0:L-(0|c[_e+4>>2])|0),ve=Ae,0|L},function(y,x,L){var pe,J;return Hl(0|(J=0|c[(pe=(y|=0)+20|0)>>2]),0|(x|=0),0|(y=(L|=0)>>>0<(y=(0|c[y+16>>2])-J|0)>>>0?L:y)),c[pe>>2]=(0|c[pe>>2])+y,0|L}],jl=[bh,function(y,x,L,pe){return 0|rn(0,0|(y|=0),0|(x|=0),0|(L|=0),0|(pe|=0))},function(y,x,L,pe){return lt(0),0},bh],gu=[function(y){ze(3)},function(y){wt(0,0|(y|=0))}],l0=[function(y,x){ze(4)},function(y,x){cn(0,0|(y|=0),0|(x|=0))},function(y,x){var L,q=0,B=0,ne=0,pe=0,J=0,M=0,oe=0,Q=0,q=0|c[(L=(y|=0)+308|0)>>2],B=0|c[y+316>>2],ne=0|c[y+320>>2];(0|(pe=0|c[(J=q+((x|=0)<<5)+8|0)>>2]))==-1?(c[B+(x<<2)>>2]=c[(0|c[y+148>>2])+(c[q+(x<<5)+16>>2]<<2)>>2],se[ne+(x<<2)>>2]=1):(oe=0|c[(M=q+(x<<5)+16|0)>>2],Q=0|c[(0|c[y+152>>2])+(oe<<2)>>2],Wc[3&c[q+(pe<<5)+24>>2]](y,pe,Q,Q,0|c[(0|c[y+60>>2])+(24*oe|0)+16>>2]),J=0|c[J>>2],se[B+(x<<2)>>2]=+se[(0|c[y+148>>2])+(c[M>>2]<<2)>>2]*+se[B+(J<<2)>>2],c[ne+(x<<2)>>2]=c[ne+(J<<2)>>2]),(0|xn[4+(0|c[y>>2])>>0])<4||(q=0|c[L>>2],B=0|c[y+324>>2],L=0|c[y+328>>2],ne=x<<2,pe=c[q+(x<<5)+16>>2]<<2,(0|(q=0|c[q+(x<<5)+8>>2]))==-1?(q=0|c[y+156>>2],c[B+(ne<<2)>>2]=c[q+(pe<<2)>>2],c[B+((x=1|ne)<<2)>>2]=c[q+((J=1|pe)<<2)>>2],c[B+((Q=2|ne)<<2)>>2]=c[q+((oe=2|pe)<<2)>>2],se[B+((q=3|ne)<<2)>>2]=1,M=0|c[y+160>>2],c[L+(ne<<2)>>2]=c[M+(pe<<2)>>2],c[L+(x<<2)>>2]=c[M+(J<<2)>>2],c[L+(Q<<2)>>2]=c[M+(oe<<2)>>2]):(oe=q<<2,M=(0|c[y+156>>2])+(pe<<2)|0,se[(q=B+(ne<<2)|0)>>2]=+se[M>>2]*+se[(Q=B+(oe<<2)|0)>>2],se[q+4>>2]=+se[M+4>>2]*+se[Q+4>>2],se[q+8>>2]=+se[M+8>>2]*+se[Q+8>>2],se[B+((q=3|ne)<<2)>>2]=1,M=(0|c[y+160>>2])+(pe<<2)|0,x=+se[M>>2],J=+se[(oe=L+(oe<<2)|0)>>2],se[(Q=L+(ne<<2)|0)>>2]=x+J-x*J,J=+se[M+4>>2],x=+se[oe+4>>2],se[Q+4>>2]=J+x-J*x,x=+se[M+8>>2],J=+se[oe+8>>2],se[Q+8>>2]=x+J-x*J),se[L+(q<<2)>>2]=1)},function(y,x){var L,pe,J,M,oe,Q,q,B,ne,_e,Pe,qe,Ae,He,Ue,be=0,ct=0,yt=0,Je=0,It=0,fn=0,An=0,Un=0,mn=0,Ln=0,Rn=0,Bt=0,wn=0,Fn=ve;if(ve=ve+48|0,q=Fn+8|0,oe=Fn+40|0,M=Fn+32|0,J=(Q=Fn)+24|0,Bt=Fn+16|0,be=0|c[(Pe=(y|=0)+308|0)>>2],ne=0|c[y+316>>2],_e=0|c[y+320>>2],(0|(pe=0|c[(He=be+((x|=0)<<5)+8|0)>>2]))==-1)wn=0|c[be+(x<<5)+16>>2],c[ne+(x<<2)>>2]=c[(0|c[y+268>>2])+(wn<<2)>>2],c[_e+(x<<2)>>2]=c[(0|c[y+272>>2])+(wn<<2)>>2];else{for(B=0|c[(Ue=be+(x<<5)+16|0)>>2],It=0|c[(0|c[(qe=y+276|0)>>2])+(B<<2)>>2],c[Bt>>2]=It,B=0|c[(0|c[(Ae=y+280|0)>>2])+(B<<2)>>2],c[(Ln=Bt+4|0)>>2]=B,Rn=(0|c[be+(pe<<5)+12>>2])==1?-10:-.10000000149011612,c[oe>>2]=It,c[(It=4+oe|0)>>2]=B,Wc[3&c[(B=be+(pe<<5)+24|0)>>2]](y,pe,oe,M,1),yt=4+J|0,be=4+M|0,ct=Q+4|0,Je=9,mn=1;se[J>>2]=(Un=0*mn)+ +se[oe>>2],se[yt>>2]=(L=Rn*mn)+ +se[It>>2],Wc[3&c[B>>2]](y,pe,J,Q,1),An=+se[Q>>2]-+se[M>>2],se[Q>>2]=An,fn=+se[ct>>2]-+se[be>>2],!(An!=0|(se[ct>>2]=fn)!=0);){if(se[J>>2]=+se[oe>>2]-Un,se[yt>>2]=+se[It>>2]-L,Wc[3&c[B>>2]](y,pe,J,Q,1),fn=+se[Q>>2]-+se[M>>2],se[Q>>2]=fn,Un=+se[ct>>2]-+se[be>>2],fn!=0|(se[ct>>2]=Un)!=0){wn=6;break}if(!Je){wn=8;break}Je=Je+-1|0,mn*=.10000000149011612}(0|wn)==6?(An=-fn,fn=-Un):(0|wn)==8&&(Sn(0,2397,q),fn=An=0),Rn=180*+gr(0,Rn,An,fn)/3.1415927410125732,Wc[3&c[B>>2]](y,0|c[He>>2],Bt,Bt,1),wn=0|c[Ue>>2],c[(0|c[qe>>2])+(wn<<2)>>2]=c[Bt>>2],c[(0|c[Ae>>2])+(wn<<2)>>2]=c[Ln>>2],Bt=(0|c[y+284>>2])+(wn<<2)|0,se[Bt>>2]=+se[Bt>>2]-Rn,Bt=0|c[He>>2],se[ne+(x<<2)>>2]=+se[(0|c[y+268>>2])+(wn<<2)>>2]*+se[ne+(Bt<<2)>>2],wn=(0|c[y+272>>2])+(wn<<2)|0,Rn=+se[wn>>2]*+se[_e+(Bt<<2)>>2],se[_e+(x<<2)>>2]=Rn,se[wn>>2]=Rn}ve=((0|xn[4+(0|c[y>>2])>>0])<4||(be=0|c[Pe>>2],ct=0|c[y+324>>2],It=0|c[y+328>>2],yt=x<<2,Je=c[be+(x<<5)+16>>2]<<2,(0|(be=0|c[be+(x<<5)+8>>2]))==-1?(be=0|c[y+296>>2],c[ct+(yt<<2)>>2]=c[be+(Je<<2)>>2],c[ct+((Bt=1|yt)<<2)>>2]=c[be+((Ln=1|Je)<<2)>>2],c[ct+((x=2|yt)<<2)>>2]=c[be+((wn=2|Je)<<2)>>2],se[ct+((be=3|yt)<<2)>>2]=1,y=0|c[y+300>>2],c[It+(yt<<2)>>2]=c[y+(Je<<2)>>2],c[It+(Bt<<2)>>2]=c[y+(Ln<<2)>>2],c[It+(x<<2)>>2]=c[y+(wn<<2)>>2]):(Bt=be<<2,wn=(0|c[y+296>>2])+(Je<<2)|0,se[(be=ct+(yt<<2)|0)>>2]=+se[wn>>2]*+se[(x=ct+(Bt<<2)|0)>>2],se[be+4>>2]=+se[wn+4>>2]*+se[x+4>>2],se[be+8>>2]=+se[wn+8>>2]*+se[x+8>>2],se[ct+((be=3|yt)<<2)>>2]=1,wn=(0|c[y+300>>2])+(Je<<2)|0,mn=+se[wn>>2],Rn=+se[(y=It+(Bt<<2)|0)>>2],se[(x=It+(yt<<2)|0)>>2]=mn+Rn-mn*Rn,Rn=+se[wn+4>>2],mn=+se[y+4>>2],se[x+4>>2]=Rn+mn-Rn*mn,mn=+se[wn+8>>2],Rn=+se[y+8>>2],se[x+8>>2]=mn+Rn-mn*Rn),se[It+(be<<2)>>2]=1),Fn)}],Wc=[function(y,x,L,pe,J){ze(5)},function(y,x,L,pe,J){on(0,0|(y|=0),0|(x|=0),0|(L|=0),0|(pe|=0),0|(J|=0))},function(y,x,L,pe,J){L|=0,pe|=0;var M,oe,Q,q,B,ne,_e,Pe,qe,Ae,He,Ue,be,ct,yt,Je,It,fn,An,Un,mn,Ln,Rn,Bt=0,wn=0,Fn=0,Dn=0,Ir=0,wr=0,Sr=0,Di=0,Si=0,ii=0,$r=0,Ii=0,jr=0,si=0,Nr=0,or=0,kr=0,mt=0,Oi=0,ui=0,Yr=0,bi=0,ur=0,Qa=ve;if(ve=ve+32|0,An=Qa,x=0|c[(0|c[(y|=0)+308>>2])+((x|=0)<<5)+16>>2],Bt=0|c[y+60>>2],be=0|c[(0|c[y+152>>2])+(x<<2)>>2],ct=0|c[Bt+(24*x|0)+8>>2],yt=0|c[Bt+(24*x|0)+4>>2],Je=1+ct|0,(0|(J|=0))<=0)ve=Qa;else{It=0|ct,fn=0|yt,Ue=(0|c[Bt+(24*x|0)+12>>2])==0,oe=be+(ct<<3)|0,Q=be+((qe=0|Me(yt,Je))<<3)|0,q=be+((Pe=qe+ct|0)<<3)|0,B=4+be|0,ne=be+(ct<<3)+4|0,_e=be+(qe<<3)+4|0,Pe=be+(Pe<<3)+4|0,He=ct-1|0,Ae=yt-1|0,Ii=jr=si=Nr=wn=Fn=$r=ii=Si=Di=Yr=ui=Sr=wr=Ir=Dn=bi=mt=0;do{or=(M=+se[L+(bi<<3)>>2])*It,Oi=(kr=+se[L+(bi<<3)+4>>2])*fn,y=!(1<=M),Bt=!(1<=kr);do{if(Bt&y&!(M<0)&!(kr<0)){if(y=~~or,x=(0|Me(Je,Bt=~~Oi))+y|0,Fn=or-(0|y),wn=Oi-(0|Bt),!Ue){se[pe+(bi<<3)>>2]=(or=1-wn)*((kr=1-Fn)*+se[be+(x<<3)>>2])+or*(Fn*+se[be+((ur=x+1|0)<<3)>>2])+wn*(kr*+se[be+((y=x+Je|0)<<3)>>2])+wn*(Fn*+se[be+((Bt=y+1|0)<<3)>>2]),kr=or*(kr*+se[be+(x<<3)+4>>2])+or*(Fn*+se[be+(ur<<3)+4>>2])+wn*(kr*+se[be+(y<<3)+4>>2]),or=wn*(Fn*+se[be+(Bt<<3)+4>>2]);break}if(Fn+wn<=1){se[pe+(bi<<3)>>2]=(kr=1-Fn-wn)*+se[be+(x<<3)>>2]+Fn*+se[be+((Bt=x+1|0)<<3)>>2]+wn*+se[be+((ur=x+Je|0)<<3)>>2],kr=kr*+se[be+(x<<3)+4>>2]+Fn*+se[be+(Bt<<3)+4>>2],or=wn*+se[be+(ur<<3)+4>>2];break}se[pe+(bi<<3)>>2]=(Oi=Fn+-1+wn)*+se[be+((y=(Bt=x+Je|0)+1|0)<<3)>>2]+(kr=1-Fn)*+se[be+(Bt<<3)>>2]+(or=1-wn)*+se[be+((ur=x+1|0)<<3)>>2],kr=Oi*+se[be+(y<<3)+4>>2]+kr*+se[be+(Bt<<3)+4>>2],or*=+se[be+(ur<<3)+4>>2];break}if(mt||(Rn=+se[be>>2],Ln=+se[oe>>2],mn=+se[Q>>2],ui=+se[q>>2],Un=+se[B>>2],Ii=(si=+se[ne>>2])-(Nr=+se[_e>>2]),mt=1,ui=.25*(Rn+Ln+mn+ui)-.5*(Rn=ui-Rn),Yr=.25*(Un+si+Nr+(Yr=+se[Pe>>2]))-.5*(Un=Yr-Un),Nr=.5*((jr=Ln-mn)+Rn),si=.5*(Ii+Un),jr=.5*(Rn-jr),Ii=.5*(Un-Ii)),!(kr<3&-2<M&M<3&-2<kr)){se[pe+(bi<<3)>>2]=kr*jr+(M*Nr+ui),kr*=Ii,or=M*si+Yr;break}do{if(M<=0){if(kr<=0){Dn=ui-(wr=2*jr),Ir=Yr-(Sr=2*Ii),wr=(ii=ui-2*Nr)-wr,Sr=($r=Yr-2*si)-Sr,Di=+se[be>>2],Si=+se[B>>2],Fn=.5*(2+M),wn=.5*(kr+2);break}if(Bt){Sr=(wn=0|(Bt=(0|yt)==(0|(Bt=~~Oi))?Ae:Bt))/fn,Fn=(0|(ur=Bt+1|0))/fn,Bt=0|Me(Bt,Je),ur=0|Me(ur,Je),Dn=+se[be+(Bt<<3)>>2],Ir=+se[be+(Bt<<3)+4>>2],wr=Sr*jr+(ii=ui-2*Nr),Sr=Sr*Ii+($r=Yr-2*si),Di=+se[be+(ur<<3)>>2],Si=+se[be+(ur<<3)+4>>2],ii=Fn*jr+ii,$r=Fn*Ii+$r,Fn=.5*(2+M),wn=Oi-wn;break}Dn=+se[Q>>2],Ir=+se[_e>>2],wr=jr+(ii=ui-2*Nr),Sr=Ii+($r=Yr-2*si),Di=(wn=3*jr)+ui,Si=(Fn=3*Ii)+Yr,ii=wn+ii,$r=Fn+$r,Fn=.5*(2+M),wn=.5*(kr+-1);break}if(x=kr<=0,y){if(x){Dn=(Ir=(0|(Bt=(ur=(0|ct)==(0|(ur=~~or))?He:ur)+1|0))/It)*Nr+ui-(wr=2*jr),Ir=Ir*si+Yr-(Sr=2*Ii),wr=(Di=(Fn=0|ur)/It)*Nr+ui-wr,Sr=Di*si+Yr-Sr,Di=+se[be+(Bt<<3)>>2],Si=+se[be+(Bt<<3)+4>>2],ii=+se[be+(ur<<3)>>2],$r=+se[be+(ur<<3)+4>>2],Fn=or-Fn,wn=.5*(kr+2);break}if(Bt){c[An>>2]=bi,w[An+8>>3]=M,w[An+16>>3]=kr,Sn(0,865,An);break}Fn=0|(ur=(0|ct)==(0|(ur=~~or))?He:ur),Si=(0|(Bt=ur+1|0))/It,Dn=+se[be+((Bt=Bt+qe|0)<<3)>>2],Ir=+se[be+(Bt<<3)+4>>2],wr=+se[be+((ur=ur+qe|0)<<3)>>2],Sr=+se[be+(ur<<3)+4>>2],Di=(ii=3*jr)+(Si*Nr+ui),Si=(wn=3*Ii)+(Si*si+Yr),ii+=($r=Fn/It)*Nr+ui,$r=wn+($r*si+Yr),Fn=or-Fn,wn=.5*(kr+-1);break}if(x){Dn=(Di=3*Nr+ui)-(wr=2*jr),Ir=(Si=3*si+Yr)-(Sr=2*Ii),wr=Nr+ui-wr,Sr=si+Yr-Sr,ii=+se[oe>>2],$r=+se[ne>>2],Fn=.5*(M-1),wn=.5*(kr+2);break}if(Bt){Ir=(wn=0|(Bt=(0|yt)==(0|(Bt=~~Oi))?Ae:Bt))/fn,ii=(0|(ur=Bt+1|0))/fn,Bt=(0|Me(Bt,Je))+ct|0,ur=(0|Me(ur,Je))+ct|0,Dn=Ir*jr+(Di=3*Nr+ui),Ir=Ir*Ii+(Si=3*si+Yr),wr=+se[be+(Bt<<3)>>2],Sr=+se[be+(Bt<<3)+4>>2],Di=ii*jr+Di,Si=ii*Ii+Si,ii=+se[be+(ur<<3)>>2],$r=+se[be+(ur<<3)+4>>2],Fn=.5*(M-1),wn=Oi-wn;break}Dn=jr+(Di=3*Nr+ui),Ir=Ii+(Si=3*si+Yr),wr=+se[q>>2],Sr=+se[Pe>>2],Di=(ii=3*jr)+Di,Si=($r=3*Ii)+Si,ii+=Nr+ui,$r+=si+Yr,Fn=.5*(M-1),wn=.5*(kr+-1);break}while(0);if(Fn+wn<=1){se[pe+(bi<<3)>>2]=wr+(Dn-wr)*Fn+(ii-wr)*wn,kr=Sr+(Ir-Sr)*Fn,or=($r-Sr)*wn;break}se[pe+(bi<<3)>>2]=Di+(ii-Di)*(kr=1-Fn)+(Dn-Di)*(or=1-wn),kr=Si+($r-Si)*kr,or*=Ir-Si;break}while(0)}while(se[pe+(bi<<3)+4>>2]=kr+or,(0|(bi=bi+1|0))!=(0|J));ve=Qa}},function(y,x,L,pe,J){y|=0,x|=0,L|=0,pe|=0,J|=0;var M,oe,Q,q,B=0,ne=0,_e=0,Pe=0;if(x=0|c[(0|c[y+308>>2])+(x<<5)+16>>2],ne=3.1415927410125732*(+se[(0|c[y+168>>2])+(12*x|0)+4>>2]+ +se[(0|c[y+284>>2])+(x<<2)>>2])/180,B=+re(ne),ne=+le(ne),oe=(ne*=M=+se[(0|c[y+272>>2])+(x<<2)>>2])*(_e=0|c[(0|c[y+288>>2])+(x<<2)>>2]?-1:1),M=(B*=M)*(Pe=0|c[(0|c[y+292>>2])+(x<<2)>>2]?-1:1),_e*=B,Pe*=ne,ne=+se[(0|c[y+276>>2])+(x<<2)>>2],B=+se[(0|c[y+280>>2])+(x<<2)>>2],!((0|J)<=0))for(x=0;q=+se[L+(x<<3)>>2],Q=+se[L+(x<<3)+4>>2],se[pe+(x<<3)>>2]=oe*q-M*Q+ne,se[pe+(x<<3)+4>>2]=_e*q+Pe*Q+B,(0|(x=x+1|0))!=(0|J););}];return{___errno_location:function(){return 3688},___muldi3:jc,___udivdi3:Gc,_bitshift64Lshr:lg,_bitshift64Shl:Lx,_csmFree:function(y){Kd(y|=0)},_csmGetDrawableConstantFlags:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[888+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=1896,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableCount:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+332>>2],ve=L,0|x):(c[x>>2]=1858,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,0|(x=-1))},_csmGetDrawableDrawOrders:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+440>>2],ve=L,0|x):(c[x>>2]=1980,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableDynamicFlags:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+432>>2],ve=L,0|x):(c[x>>2]=1924,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableIds:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[832+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=1878,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableIndexCounts:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[904+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=2182,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableIndices:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[840+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=2208,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableMaskCounts:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[912+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=2056,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableMasks:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[844+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=2081,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableMultiplyColors:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+452>>2],ve=L,0|x):(c[x>>2]=2230,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableOpacities:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+448>>2],ve=L,0|x):(c[x>>2]=2032,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableParentPartIndices:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[876+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=2286,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableRenderOrders:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+436>>2],ve=L,0|x):(c[x>>2]=2005,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableScreenColors:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+456>>2],ve=L,0|x):(c[x>>2]=2259,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableTextureIndices:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[884+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=1951,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableVertexCounts:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[892+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=2101,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableVertexPositions:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+444>>2],ve=L,0|x):(c[x>>2]=2128,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetDrawableVertexUvs:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[836+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=2158,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetLatestMocVersion:function(){return 4},_csmGetMocVersion:function(y,x){x|=0;var L=ve;return ve=ve+16|0,x=L,(y|=0)?(y=0|cr(y),ve=L,0|y):(c[x>>2]=1286,c[x+4>>2]=1303,Sn(0,1269,x),ve=L,(y=0)|y)},_csmGetParameterCount:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+540>>2],ve=L,0|x):(c[x>>2]=1610,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,0|(x=-1))},_csmGetParameterDefaultValues:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[932+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=1729,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetParameterIds:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[916+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=1631,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetParameterKeyCounts:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+616>>2],ve=L,0|x):(c[x>>2]=2347,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetParameterKeyValues:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+612>>2],ve=L,0|x):(c[x>>2]=2372,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetParameterMaximumValues:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[924+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=1700,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetParameterMinimumValues:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[928+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=1671,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetParameterTypes:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+548>>2],ve=L,0|x):(c[x>>2]=1650,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetParameterValues:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+552>>2],ve=L,0|x):(c[x>>2]=1758,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetPartCount:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+4>>2],ve=L,0|x):(c[x>>2]=1780,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,0|(x=-1))},_csmGetPartIds:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[712+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=1796,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetPartOpacities:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[y+52>>2],ve=L,0|x):(c[x>>2]=1810,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetPartParentPartIndices:function(y){var x=0,L=ve;return ve=ve+16|0,x=L,(y|=0)?(x=0|c[740+(0|c[y>>2])>>2],ve=L,0|x):(c[x>>2]=1830,c[x+4>>2]=1411,Sn(0,1269,x),ve=L,(x=0)|x)},_csmGetSizeofModel:Ci,_csmGetVersion:function(){return 67239938},_csmInitializeModelInPlace:Hr,_csmMalloc:function(y){return 0|pu(y|=0)},_csmMallocMoc:function(y){var x,L=ve;return ve=ve+16|0,r0(x=L,64,y|=0),ve=L,0|c[x>>2]},_csmMallocModelAndInitialize:function(y){var x=0,L=0,pe=ve;return ve=ve+16|0,x=pe,0|(y|=0)&&!(0|r0(x,16,L=0|Ci(y)))?(x=0|Hr(y,y=0|c[x>>2],L))||(Kd(y),x=0):x=0,ve=pe,0|x},_csmReadCanvasInfo:function(y,x,L,pe){x|=0,L|=0,pe|=0;var J,M,oe,Q=0,q=ve;if(ve=ve+32|0,M=q+24|0,Q=q+16|0,oe=q+8|0,J=q,y|=0)return x?L?void(ve=(pe?(Q=0|c[708+(0|c[y>>2])>>2],c[x>>2]=c[Q+12>>2],c[x+4>>2]=c[Q+16>>2],c[L>>2]=c[Q+4>>2],c[L+4>>2]=c[Q+8>>2],c[pe>>2]=c[Q>>2]):(c[M>>2]=1393,c[4+M>>2]=1487,Sn(0,1269,M)),q)):(c[Q>>2]=1393,c[Q+4>>2]=1458,Sn(0,1269,Q),void(ve=q)):(c[oe>>2]=1393,c[4+oe>>2]=1431,Sn(0,1269,oe),void(ve=q));c[J>>2]=1393,c[J+4>>2]=1411,Sn(0,1269,J),ve=q},_csmResetDrawableDynamicFlags:function(y){var x,L=ve;ve=ve+16|0,x=L,ve=((y|=0)?c[y+428>>2]=1:(c[x>>2]=2318,c[x+4>>2]=1411,Sn(0,1269,x)),L)},_csmReviveMocInPlace:function(y,x){x|=0;var L,pe=0,J=0,M=ve;return ve=ve+32|0,J=M+16|0,L=M+8|0,pe=M,(y|=0)?((pe=y)+63&-64|0)!=(0|pe)?(c[L>>2]=1322,c[4+L>>2]=1342,Sn(0,1269,L),ve=M,(J=0)|J):0|x&&(x+63&-64|0)==(0|x)?(J=0|pr(y),ve=M,0|J):(c[J>>2]=1322,c[J+4>>2]=1374,Sn(0,1269,J),ve=M,(J=0)|J):(c[pe>>2]=1322,c[pe+4>>2]=1303,Sn(0,1269,pe),ve=M,(J=0)|J)},_csmSetLogFunction:function(y){c[904]=y|=0},_csmUpdateModel:function(y){var x,L=ve;ve=ve+16|0,x=L,ve=((y|=0)?wa(y):(c[x>>2]=1595,c[x+4>>2]=1411,Sn(0,1269,x)),L)},_emscripten_get_sbrk_ptr:c3,_emscripten_replace_memory:function(y){return xe=new Int8Array(y),xn=new Uint8Array(y),Gt=new Int16Array(y),at=new Uint16Array(y),c=new Int32Array(y),se=new Float32Array(y),w=new Float64Array(y),!0},_free:Kd,_i64Add:Ju,_i64Subtract:ua,_malloc:pu,_memcpy:Hl,_memset:hl,dynCall_ii:function(y,x){return 0|o0[3&(y|=0)](0|(x|=0))},dynCall_iiii:function(y,x,L,pe){return 0|Qd[3&(y|=0)](0|(x|=0),0|(L|=0),0|(pe|=0))},dynCall_iiiii:function(y,x,L,pe,J){return 0|jl[3&(y|=0)](0|(x|=0),0|(L|=0),0|(pe|=0),0|(J|=0))},dynCall_vi:function(y,x){gu[1&(y|=0)](0|(x|=0))},dynCall_vii:function(y,x,L){l0[3&(y|=0)](0|(x|=0),0|(L|=0))},dynCall_viiiii:function(y,x,L,pe,J,M){Wc[3&(y|=0)](0|(x|=0),0|(L|=0),0|(pe|=0),0|(J|=0),0|(M|=0))},establishStackSpace:function(y,x){ve=y|=0},stackAlloc:function(y){var x=ve;return ve=(ve=ve+(y|=0)|0)+15&-16,0|x},stackRestore:function(y){ve=y|=0},stackSave:function(){return 0|ve}}}({Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Float32Array,Float64Array},{a:bt,b:function(Ne){j=Ne},c:function(){return j},d:function(Ne,De){return H[Ne](De)},e:function(Ne,De,tt,xe){return H[Ne](De,tt,xe)},f:function(Ne,De,tt,xe,Gt){return H[Ne](De,tt,xe,Gt)},g:function(Ne,De){H[Ne](De)},h:function(Ne,De,tt){H[Ne](De,tt)},i:function(Ne,De,tt,xe,Gt,c){H[Ne](De,tt,xe,Gt,c)},j:function(){return St.apply(null,arguments)},k:Lt,l:function(Ne,De,tt){G.set(G.subarray(De,De+tt),Ne)},m:function(Ne){if(2130706432<Ne)return!1;for(var De=Math.max(Lt(),16777216);De<Ne;)De=De<=536870912?me(2*De):Math.min(me((3*De+2147483648)/4),2130706432);return!!xt(De)},n:St,o:function(){bt("OOM")},p:function(Ne){return Ne},q:Re,r:xt,s:function(){var Ne=p._fflush;Ne&&Ne(0),Ye[1].length&&it(1,10),Ye[2].length&&it(2,10)},t:rt,u:function(){var Ne=rt();return p.extraStackTrace&&(Ne+=`
`+p.extraStackTrace()),Re(Ne)},v:4400},F),Kt=(p.___errno_location=Ct.___errno_location,p.___muldi3=Ct.___muldi3,p.___udivdi3=Ct.___udivdi3,p._bitshift64Lshr=Ct._bitshift64Lshr,p._bitshift64Shl=Ct._bitshift64Shl,p._csmFree=Ct._csmFree,p._csmGetDrawableConstantFlags=Ct._csmGetDrawableConstantFlags,p._csmGetDrawableCount=Ct._csmGetDrawableCount,p._csmGetDrawableDrawOrders=Ct._csmGetDrawableDrawOrders,p._csmGetDrawableDynamicFlags=Ct._csmGetDrawableDynamicFlags,p._csmGetDrawableIds=Ct._csmGetDrawableIds,p._csmGetDrawableIndexCounts=Ct._csmGetDrawableIndexCounts,p._csmGetDrawableIndices=Ct._csmGetDrawableIndices,p._csmGetDrawableMaskCounts=Ct._csmGetDrawableMaskCounts,p._csmGetDrawableMasks=Ct._csmGetDrawableMasks,p._csmGetDrawableMultiplyColors=Ct._csmGetDrawableMultiplyColors,p._csmGetDrawableOpacities=Ct._csmGetDrawableOpacities,p._csmGetDrawableParentPartIndices=Ct._csmGetDrawableParentPartIndices,p._csmGetDrawableRenderOrders=Ct._csmGetDrawableRenderOrders,p._csmGetDrawableScreenColors=Ct._csmGetDrawableScreenColors,p._csmGetDrawableTextureIndices=Ct._csmGetDrawableTextureIndices,p._csmGetDrawableVertexCounts=Ct._csmGetDrawableVertexCounts,p._csmGetDrawableVertexPositions=Ct._csmGetDrawableVertexPositions,p._csmGetDrawableVertexUvs=Ct._csmGetDrawableVertexUvs,p._csmGetLatestMocVersion=Ct._csmGetLatestMocVersion,p._csmGetMocVersion=Ct._csmGetMocVersion,p._csmGetParameterCount=Ct._csmGetParameterCount,p._csmGetParameterDefaultValues=Ct._csmGetParameterDefaultValues,p._csmGetParameterIds=Ct._csmGetParameterIds,p._csmGetParameterKeyCounts=Ct._csmGetParameterKeyCounts,p._csmGetParameterKeyValues=Ct._csmGetParameterKeyValues,p._csmGetParameterMaximumValues=Ct._csmGetParameterMaximumValues,p._csmGetParameterMinimumValues=Ct._csmGetParameterMinimumValues,p._csmGetParameterTypes=Ct._csmGetParameterTypes,p._csmGetParameterValues=Ct._csmGetParameterValues,p._csmGetPartCount=Ct._csmGetPartCount,p._csmGetPartIds=Ct._csmGetPartIds,p._csmGetPartOpacities=Ct._csmGetPartOpacities,p._csmGetPartParentPartIndices=Ct._csmGetPartParentPartIndices,p._csmGetSizeofModel=Ct._csmGetSizeofModel,p._csmGetVersion=Ct._csmGetVersion,p._csmInitializeModelInPlace=Ct._csmInitializeModelInPlace,p._csmMalloc=Ct._csmMalloc,p._csmMallocMoc=Ct._csmMallocMoc,p._csmMallocModelAndInitialize=Ct._csmMallocModelAndInitialize,p._csmReadCanvasInfo=Ct._csmReadCanvasInfo,p._csmResetDrawableDynamicFlags=Ct._csmResetDrawableDynamicFlags,p._csmReviveMocInPlace=Ct._csmReviveMocInPlace,p._csmSetLogFunction=Ct._csmSetLogFunction,p._csmUpdateModel=Ct._csmUpdateModel,p._emscripten_get_sbrk_ptr=Ct._emscripten_get_sbrk_ptr,p._emscripten_replace_memory=Ct._emscripten_replace_memory),$t=(p._free=Ct._free,p._i64Add=Ct._i64Add,p._i64Subtract=Ct._i64Subtract,p._malloc=Ct._malloc,p._memcpy=Ct._memcpy,p._memset=Ct._memset,p.establishStackSpace=Ct.establishStackSpace,p.stackAlloc=Ct.stackAlloc),Te=p.stackRestore=Ct.stackRestore,vt=p.stackSave=Ct.stackSave;function Nt(){function Ne(){if(!Pt&&(Pt=!0,!X)){if(Oe($e),Oe(Ie),p.onRuntimeInitialized&&p.onRuntimeInitialized(),p.postRun)for(typeof p.postRun=="function"&&(p.postRun=[p.postRun]);p.postRun.length;){var De=p.postRun.shift();Ke.unshift(De)}Oe(Ke)}}if(!(0<Xe)){if(p.preRun)for(typeof p.preRun=="function"&&(p.preRun=[p.preRun]);p.preRun.length;)(function(){var De=p.preRun.shift();Ge.unshift(De)})();Oe(Ge),0<Xe||(p.setStatus?(p.setStatus("Running..."),setTimeout(function(){setTimeout(function(){p.setStatus("")},1),Ne()},1)):Ne())}}if(p.dynCall_ii=Ct.dynCall_ii,p.dynCall_iiii=Ct.dynCall_iiii,p.dynCall_iiiii=Ct.dynCall_iiiii,p.dynCall_vi=Ct.dynCall_vi,p.dynCall_vii=Ct.dynCall_vii,p.dynCall_viiiii=Ct.dynCall_viiiii,p.asm=Ct,p.ccall=function(Ne,De,tt,xe){var Gt={string:function(w){var k=0;if(w!=null&&w!==0){var z=1+(w.length<<2),fe=k=$t(z),le=G;if(0<z){for(var z=fe+z-1,re=0;re<w.length;++re){var we=w.charCodeAt(re);if((we=55296<=we&&we<=57343?65536+((1023&we)<<10)|1023&w.charCodeAt(++re):we)<=127){if(z<=fe)break;le[fe++]=we}else{if(we<=2047){if(z<=fe+1)break;le[fe++]=192|we>>6}else{if(we<=65535){if(z<=fe+2)break;le[fe++]=224|we>>12}else{if(z<=fe+3)break;le[fe++]=240|we>>18,le[fe++]=128|we>>12&63}le[fe++]=128|we>>6&63}le[fe++]=128|63&we}}le[fe]=0}}return k},array:function(w){var k=$t(w.length);return te.set(w,k),k}},c=function(w){var k=p["_"+w];return W(k,"Cannot call unknown function "+w+", make sure it is exported"),k}(Ne),xn=[];if(Ne=0,xe)for(var at=0;at<xe.length;at++){var se=Gt[tt[at]];se?(Ne===0&&(Ne=vt()),xn[at]=se(xe[at])):xn[at]=xe[at]}return tt=function(w){return De==="string"?ue(w):De==="boolean"?!!w:w}(tt=c.apply(null,xn)),Ne!==0&&Te(Ne),tt},p.UTF8ToString=ue,p.addFunction=function(Ne){for(var De=0;De<1;De++)if(!H[De])return H[De]=Ne,1+De;throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},ht&&((String.prototype.startsWith?ht.startsWith(ae):ht.indexOf(ae)===0)||(A=ht,ht=p.locateFile?p.locateFile(A,R):R+A),P||D?(Ct=T(ht),G.set(Ct,8)):(Xe++,p.monitorRunDependencies&&p.monitorRunDependencies(Xe),_n=function(Ne){Ne.byteLength&&(Ne=new Uint8Array(Ne)),G.set(Ne,8),p.memoryInitializerRequest&&delete p.memoryInitializerRequest.response,Xe--,p.monitorRunDependencies&&p.monitorRunDependencies(Xe),Xe==0&&Ze&&(Ne=Ze,Ze=null,Ne())},qt=function(){S(function(){throw"could not load memory initializer "+ht})},(R=tn(ht))?_n(R.buffer):p.memoryInitializerRequest?(A=function(){var Ne=p.memoryInitializerRequest,De=Ne.response;if(Ne.status!==200&&Ne.status!==0){if(!(De=tn(p.memoryInitializerRequestURL)))return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+Ne.status+", retrying "+ht),void qt();De=De.buffer}_n(De)},p.memoryInitializerRequest.response?setTimeout(A,0):p.memoryInitializerRequest.addEventListener("load",A)):qt())),p.then=function(Ne){var De;return Pt?Ne(p):(De=p.onRuntimeInitialized,p.onRuntimeInitialized=function(){De&&De(),Ne(p)}),p},Ze=function Ne(){Pt||Nt(),Pt||(Ze=Ne)},p.run=Nt,p.preInit)for(typeof p.preInit=="function"&&(p.preInit=[p.preInit]);0<p.preInit.length;)p.preInit.pop()();return Nt(),v}}();typeof exports=="object"&&typeof module=="object"?module.exports=f:typeof define=="function"&&define.amd?define([],function(){return f}):typeof exports=="object"&&(exports._em_module=f);var h=f()})(PR||(PR={}));window.Live2DCubismCore=PR;function snt(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}function ant(t){var e=this;return new e(function(n,r){if(!(t&&typeof t.length<"u"))return r(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return n([]);var s=i.length;function a(l,u){if(u&&(typeof u=="object"||typeof u=="function")){var d=u.then;if(typeof d=="function"){d.call(u,function(f){a(l,f)},function(f){i[l]={status:"rejected",reason:f},--s===0&&n(i)});return}}i[l]={status:"fulfilled",value:u},--s===0&&n(i)}for(var o=0;o<i.length;o++)a(o,i[o])})}function Iae(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}Iae.prototype=Error.prototype;function ont(t){var e=this;return new e(function(n,r){if(!(t&&typeof t.length<"u"))return r(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return r();for(var s=[],a=0;a<i.length;a++)try{e.resolve(i[a]).then(n).catch(function(o){s.push(o),s.length===i.length&&r(new Iae(s,"All promises were rejected"))})}catch(o){r(o)}})}var lnt=setTimeout;function Rae(t){return!!(t&&typeof t.length<"u")}function unt(){}function cnt(t,e){return function(){t.apply(e,arguments)}}function Us(t){if(!(this instanceof Us))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Mae(t,this)}function Oae(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,Us._immediateFn(function(){var n=t._state===1?e.onFulfilled:e.onRejected;if(n===null){(t._state===1?kR:S1)(e.promise,t._value);return}var r;try{r=n(t._value)}catch(i){S1(e.promise,i);return}kR(e.promise,r)})}function kR(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var n=e.then;if(e instanceof Us){t._state=3,t._value=e,DR(t);return}else if(typeof n=="function"){Mae(cnt(n,e),t);return}}t._state=1,t._value=e,DR(t)}catch(r){S1(t,r)}}function S1(t,e){t._state=2,t._value=e,DR(t)}function DR(t){t._state===2&&t._deferreds.length===0&&Us._immediateFn(function(){t._handled||Us._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)Oae(t,t._deferreds[e]);t._deferreds=null}function dnt(t,e,n){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=n}function Mae(t,e){var n=!1;try{t(function(r){n||(n=!0,kR(e,r))},function(r){n||(n=!0,S1(e,r))})}catch(r){if(n)return;n=!0,S1(e,r)}}Us.prototype.catch=function(t){return this.then(null,t)};Us.prototype.then=function(t,e){var n=new this.constructor(unt);return Oae(this,new dnt(t,e,n)),n};Us.prototype.finally=snt;Us.all=function(t){return new Us(function(e,n){if(!Rae(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(r.length===0)return e([]);var i=r.length;function s(o,l){try{if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(d){s(o,d)},n);return}}r[o]=l,--i===0&&e(r)}catch(d){n(d)}}for(var a=0;a<r.length;a++)s(a,r[a])})};Us.any=ont;Us.allSettled=ant;Us.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Us?t:new Us(function(e){e(t)})};Us.reject=function(t){return new Us(function(e,n){n(t)})};Us.race=function(t){return new Us(function(e,n){if(!Rae(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)Us.resolve(t[r]).then(e,n)})};Us._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){lnt(t,0)};Us._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var lj=Object.getOwnPropertySymbols,fnt=Object.prototype.hasOwnProperty,hnt=Object.prototype.propertyIsEnumerable;function pnt(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function mnt(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var gnt=mnt()?Object.assign:function(t,e){for(var n,r=pnt(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var a in n)fnt.call(n,a)&&(r[a]=n[a]);if(lj){i=lj(n);for(var o=0;o<i.length;o++)hnt.call(n,i[o])&&(r[i[o]]=n[i[o]])}}return r};const vnt=Ra(gnt);/*!
 * @pixi/polyfill - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Us);Object.assign||(Object.assign=vnt);var ynt=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var _nt=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-_nt}}var FP=Date.now(),uj=["ms","moz","webkit","o"];for(var BP=0;BP<uj.length&&!globalThis.requestAnimationFrame;++BP){var UP=uj[BP];globalThis.requestAnimationFrame=globalThis[UP+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[UP+"CancelAnimationFrame"]||globalThis[UP+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),n=ynt+FP-e;return n<0&&(n=0),FP=e,globalThis.self.setTimeout(function(){FP=Date.now(),t(performance.now())},n)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/constants - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Fd;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Fd||(Fd={}));var by;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(by||(by={}));var T1;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(T1||(T1={}));var br;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(br||(br={}));var Ru;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Ru||(Ru={}));var $n;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})($n||($n={}));var _p;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(_p||(_p={}));var yr;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(yr||(yr={}));var C1;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(C1||(C1={}));var dc;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(dc||(dc={}));var yc;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(yc||(yc={}));var Xu;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Xu||(Xu={}));var Yu;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Yu||(Yu={}));var Eu;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Eu||(Eu={}));var E1;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(E1||(E1={}));var Dl;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Dl||(Dl={}));var Qs;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(Qs||(Qs={}));var IR;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(IR||(IR={}));var ys;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(ys||(ys={}));var _c;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(_c||(_c={}));/*!
 * @pixi/settings - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Lae={createCanvas:function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,e){return fetch(t,e)}},VP=/iPhone/i,cj=/iPod/i,dj=/iPad/i,fj=/\biOS-universal(?:.+)Mac\b/i,zP=/\bAndroid(?:.+)Mobile\b/i,hj=/Android/i,Ig=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Hw=/Silk/i,sf=/Windows Phone/i,pj=/\bWindows(?:.+)ARM\b/i,mj=/BlackBerry/i,gj=/BB10/i,vj=/Opera Mini/i,yj=/\b(CriOS|Chrome)(?:.+)Mobile/i,_j=/Mobile(?:.+)Firefox\b/i,bj=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function bnt(t){return function(e){return e.test(t)}}function xnt(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=bnt(n),s={apple:{phone:i(VP)&&!i(sf),ipod:i(cj),tablet:!i(VP)&&(i(dj)||bj(e))&&!i(sf),universal:i(fj),device:(i(VP)||i(cj)||i(dj)||i(fj)||bj(e))&&!i(sf)},amazon:{phone:i(Ig),tablet:!i(Ig)&&i(Hw),device:i(Ig)||i(Hw)},android:{phone:!i(sf)&&i(Ig)||!i(sf)&&i(zP),tablet:!i(sf)&&!i(Ig)&&!i(zP)&&(i(Hw)||i(hj)),device:!i(sf)&&(i(Ig)||i(Hw)||i(zP)||i(hj))||i(/\bokhttp\b/i)},windows:{phone:i(sf),tablet:i(pj),device:i(sf)||i(pj)},other:{blackberry:i(mj),blackberry10:i(gj),opera:i(vj),firefox:i(_j),chrome:i(yj),device:i(mj)||i(gj)||i(vj)||i(_j)||i(yj)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}var Ou=xnt(globalThis.navigator);function wnt(){return!Ou.apple.device}function Snt(t){var e=!0;if(Ou.tablet||Ou.phone){if(Ou.apple.device){var n=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(n){var r=parseInt(n[1],10);r<11&&(e=!1)}}if(Ou.android.device){var n=navigator.userAgent.match(/Android\s([0-9.]*)/);if(n){var r=parseInt(n[1],10);r<7&&(e=!1)}}}return e?t:4}var Yn={ADAPTER:Lae,MIPMAP_TEXTURES:Xu.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:ys.NONE,SPRITE_MAX_TEXTURES:Snt(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:E1.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:yc.CLAMP,SCALE_MODE:dc.LINEAR,PRECISION_VERTEX:Dl.HIGH,PRECISION_FRAGMENT:Ou.apple.device?Dl.HIGH:Dl.MEDIUM,CAN_UPLOAD_SAME_BUFFER:wnt(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},$ae={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,v=new Array(g);h<g;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,g,v){var p=n?n+u:u;if(!this._events[p])return!1;var _=this._events[p],S=arguments.length,C,T;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,d),!0;case 3:return _.fn.call(_.context,d,f),!0;case 4:return _.fn.call(_.context,d,f,h),!0;case 5:return _.fn.call(_.context,d,f,h,g),!0;case 6:return _.fn.call(_.context,d,f,h,g,v),!0}for(T=1,C=new Array(S-1);T<S;T++)C[T-1]=arguments[T];_.fn.apply(_.context,C)}else{var A=_.length,P;for(T=0;T<A;T++)switch(_[T].once&&this.removeListener(u,_[T].fn,void 0,!0),S){case 1:_[T].fn.call(_[T].context);break;case 2:_[T].fn.call(_[T].context,d);break;case 3:_[T].fn.call(_[T].context,d,f);break;case 4:_[T].fn.call(_[T].context,d,f,h);break;default:if(!C)for(P=1,C=new Array(S-1);P<S;P++)C[P-1]=arguments[P];_[T].fn.apply(_[T].context,C)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&a(this,g);else{for(var p=0,_=[],S=v.length;p<S;p++)(v[p].fn!==d||h&&!v[p].once||f&&v[p].context!==f)&&_.push(v[p]);_.length?this._events[g]=_.length===1?_[0]:_:a(this,g)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})($ae);var Tnt=$ae.exports;const mh=Ra(Tnt);var F$={exports:{}};F$.exports=jA;F$.exports.default=jA;function jA(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=Nae(t,0,i,n,!0),a=[];if(!s||s.next===s.prev)return a;var o,l,u,d,f,h,g;if(r&&(s=knt(t,e,s,n)),t.length>80*n){o=u=t[0],l=d=t[1];for(var v=n;v<i;v+=n)f=t[v],h=t[v+1],f<o&&(o=f),h<l&&(l=h),f>u&&(u=f),h>d&&(d=h);g=Math.max(u-o,d-l),g=g!==0?32767/g:0}return A1(s,a,n,o,l,g,0),a}function Nae(t,e,n,r,i){var s,a;if(i===MR(t,e,n,r)>0)for(s=e;s<n;s+=r)a=xj(s,t[s],t[s+1],a);else for(s=n-r;s>=e;s-=r)a=xj(s,t[s],t[s+1],a);return a&&GA(a,a.next)&&(k1(a),a=a.next),a}function Nm(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(GA(n,n.next)||Ms(n.prev,n,n.next)===0)){if(k1(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function A1(t,e,n,r,i,s,a){if(t){!a&&s&&Mnt(t,r,i,s);for(var o=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?Ent(t,r,i,s):Cnt(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),k1(t),t=u.next,o=u.next;continue}if(t=u,t===o){a?a===1?(t=Ant(Nm(t),e,n),A1(t,e,n,r,i,s,2)):a===2&&Pnt(t,e,n,r,i,s):A1(Nm(t),e,n,r,i,s,1);break}}}}function Cnt(t){var e=t.prev,n=t,r=t.next;if(Ms(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,a=r.x,o=e.y,l=n.y,u=r.y,d=i<s?i<a?i:a:s<a?s:a,f=o<l?o<u?o:u:l<u?l:u,h=i>s?i>a?i:a:s>a?s:a,g=o>l?o>u?o:u:l>u?l:u,v=r.next;v!==e;){if(v.x>=d&&v.x<=h&&v.y>=f&&v.y<=g&&Zg(i,o,s,l,a,u,v.x,v.y)&&Ms(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Ent(t,e,n,r){var i=t.prev,s=t,a=t.next;if(Ms(i,s,a)>=0)return!1;for(var o=i.x,l=s.x,u=a.x,d=i.y,f=s.y,h=a.y,g=o<l?o<u?o:u:l<u?l:u,v=d<f?d<h?d:h:f<h?f:h,p=o>l?o>u?o:u:l>u?l:u,_=d>f?d>h?d:h:f>h?f:h,S=RR(g,v,e,n,r),C=RR(p,_,e,n,r),T=t.prevZ,A=t.nextZ;T&&T.z>=S&&A&&A.z<=C;){if(T.x>=g&&T.x<=p&&T.y>=v&&T.y<=_&&T!==i&&T!==a&&Zg(o,d,l,f,u,h,T.x,T.y)&&Ms(T.prev,T,T.next)>=0||(T=T.prevZ,A.x>=g&&A.x<=p&&A.y>=v&&A.y<=_&&A!==i&&A!==a&&Zg(o,d,l,f,u,h,A.x,A.y)&&Ms(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;T&&T.z>=S;){if(T.x>=g&&T.x<=p&&T.y>=v&&T.y<=_&&T!==i&&T!==a&&Zg(o,d,l,f,u,h,T.x,T.y)&&Ms(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;A&&A.z<=C;){if(A.x>=g&&A.x<=p&&A.y>=v&&A.y<=_&&A!==i&&A!==a&&Zg(o,d,l,f,u,h,A.x,A.y)&&Ms(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function Ant(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!GA(i,s)&&Fae(i,r,r.next,s)&&P1(i,s)&&P1(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),k1(r),k1(r.next),r=t=s),r=r.next}while(r!==t);return Nm(r)}function Pnt(t,e,n,r,i,s){var a=t;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&Nnt(a,o)){var l=Bae(a,o);a=Nm(a,a.next),l=Nm(l,l.next),A1(a,e,n,r,i,s,0),A1(l,e,n,r,i,s,0);return}o=o.next}a=a.next}while(a!==t)}function knt(t,e,n,r){var i=[],s,a,o,l,u;for(s=0,a=e.length;s<a;s++)o=e[s]*r,l=s<a-1?e[s+1]*r:t.length,u=Nae(t,o,l,r,!1),u===u.next&&(u.steiner=!0),i.push($nt(u));for(i.sort(Dnt),s=0;s<i.length;s++)n=Int(i[s],n);return n}function Dnt(t,e){return t.x-e.x}function Int(t,e){var n=Rnt(t,e);if(!n)return e;var r=Bae(n,t);return Nm(r,r.next),Nm(n,n.next)}function Rnt(t,e){var n=e,r=t.x,i=t.y,s=-1/0,a;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var o=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(o<=r&&o>s&&(s=o,a=n.x<n.next.x?n:n.next,o===r))return a}n=n.next}while(n!==e);if(!a)return null;var l=a,u=a.x,d=a.y,f=1/0,h;n=a;do r>=n.x&&n.x>=u&&r!==n.x&&Zg(i<d?r:s,i,u,d,i<d?s:r,i,n.x,n.y)&&(h=Math.abs(i-n.y)/(r-n.x),P1(n,t)&&(h<f||h===f&&(n.x>a.x||n.x===a.x&&Ont(a,n)))&&(a=n,f=h)),n=n.next;while(n!==l);return a}function Ont(t,e){return Ms(t.prev,t,e.prev)<0&&Ms(e.next,t,t.next)<0}function Mnt(t,e,n,r){var i=t;do i.z===0&&(i.z=RR(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Lnt(i)}function Lnt(t){var e,n,r,i,s,a,o,l,u=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,r=n,o=0,e=0;e<u&&(o++,r=r.nextZ,!!r);e++);for(l=u;o>0||l>0&&r;)o!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(a>1);return t}function RR(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function $nt(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Zg(t,e,n,r,i,s,a,o){return(i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(r-o)>=(n-a)*(e-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function Nnt(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Fnt(t,e)&&(P1(t,e)&&P1(e,t)&&Bnt(t,e)&&(Ms(t.prev,t,e.prev)||Ms(t,e.prev,e))||GA(t,e)&&Ms(t.prev,t,t.next)>0&&Ms(e.prev,e,e.next)>0)}function Ms(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function GA(t,e){return t.x===e.x&&t.y===e.y}function Fae(t,e,n,r){var i=Gw(Ms(t,e,n)),s=Gw(Ms(t,e,r)),a=Gw(Ms(n,r,t)),o=Gw(Ms(n,r,e));return!!(i!==s&&a!==o||i===0&&jw(t,n,e)||s===0&&jw(t,r,e)||a===0&&jw(n,t,r)||o===0&&jw(n,e,r))}function jw(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Gw(t){return t>0?1:t<0?-1:0}function Fnt(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Fae(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function P1(t,e){return Ms(t.prev,t,t.next)<0?Ms(t,e,t.next)>=0&&Ms(t,t.prev,e)>=0:Ms(t,e,t.prev)<0||Ms(t,t.next,e)<0}function Bnt(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Bae(t,e){var n=new OR(t.i,t.x,t.y),r=new OR(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function xj(t,e,n,r){var i=new OR(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function k1(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function OR(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}jA.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,a=Math.abs(MR(t,0,s,n));if(i)for(var o=0,l=e.length;o<l;o++){var u=e[o]*n,d=o<l-1?e[o+1]*n:t.length;a-=Math.abs(MR(t,u,d,n))}var f=0;for(o=0;o<r.length;o+=3){var h=r[o]*n,g=r[o+1]*n,v=r[o+2]*n;f+=Math.abs((t[h]-t[v])*(t[g+1]-t[h+1])-(t[h]-t[g])*(t[v+1]-t[h+1]))}return a===0&&f===0?0:Math.abs((f-a)/a)};function MR(t,e,n,r){for(var i=0,s=e,a=n-r;s<n;s+=r)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}jA.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var a=0;a<e;a++)n.vertices.push(t[i][s][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var Unt=F$.exports;const B$=Ra(Unt);var zC={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */zC.exports;(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Da=="object"&&Da;(s.global===s||s.window===s||s.self===s)&&(n=s);var a,o=2147483647,l=36,u=1,d=26,f=38,h=700,g=72,v=128,p="-",_=/^xn--/,S=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=l-u,P=Math.floor,D=String.fromCharCode,R;function N(de){throw new RangeError(T[de])}function U(de,ue){for(var me=de.length,Ee=[];me--;)Ee[me]=ue(de[me]);return Ee}function Y(de,ue){var me=de.split("@"),Ee="";me.length>1&&(Ee=me[0]+"@",de=me[1]),de=de.replace(C,".");var Oe=de.split("."),Ge=U(Oe,ue).join(".");return Ee+Ge}function H(de){for(var ue=[],me=0,Ee=de.length,Oe,Ge;me<Ee;)Oe=de.charCodeAt(me++),Oe>=55296&&Oe<=56319&&me<Ee?(Ge=de.charCodeAt(me++),(Ge&64512)==56320?ue.push(((Oe&1023)<<10)+(Ge&1023)+65536):(ue.push(Oe),me--)):ue.push(Oe);return ue}function j(de){return U(de,function(ue){var me="";return ue>65535&&(ue-=65536,me+=D(ue>>>10&1023|55296),ue=56320|ue&1023),me+=D(ue),me}).join("")}function X(de){return de-48<10?de-22:de-65<26?de-65:de-97<26?de-97:l}function W(de,ue){return de+22+75*(de<26)-((ue!=0)<<5)}function F(de,ue,me){var Ee=0;for(de=me?P(de/h):de>>1,de+=P(de/ue);de>A*d>>1;Ee+=l)de=P(de/A);return P(Ee+(A+1)*de/(de+f))}function te(de){var ue=[],me=de.length,Ee,Oe=0,Ge=v,$e=g,Ie,Ke,Xe,Ze,bt,ht,ae,Re,rt;for(Ie=de.lastIndexOf(p),Ie<0&&(Ie=0),Ke=0;Ke<Ie;++Ke)de.charCodeAt(Ke)>=128&&N("not-basic"),ue.push(de.charCodeAt(Ke));for(Xe=Ie>0?Ie+1:0;Xe<me;){for(Ze=Oe,bt=1,ht=l;Xe>=me&&N("invalid-input"),ae=X(de.charCodeAt(Xe++)),(ae>=l||ae>P((o-Oe)/bt))&&N("overflow"),Oe+=ae*bt,Re=ht<=$e?u:ht>=$e+d?d:ht-$e,!(ae<Re);ht+=l)rt=l-Re,bt>P(o/rt)&&N("overflow"),bt*=rt;Ee=ue.length+1,$e=F(Oe-Ze,Ee,Ze==0),P(Oe/Ee)>o-Ge&&N("overflow"),Ge+=P(Oe/Ee),Oe%=Ee,ue.splice(Oe++,0,Ge)}return j(ue)}function G(de){var ue,me,Ee,Oe,Ge,$e,Ie,Ke,Xe,Ze,bt,ht=[],ae,Re,rt,Ye;for(de=H(de),ae=de.length,ue=v,me=0,Ge=g,$e=0;$e<ae;++$e)bt=de[$e],bt<128&&ht.push(D(bt));for(Ee=Oe=ht.length,Oe&&ht.push(p);Ee<ae;){for(Ie=o,$e=0;$e<ae;++$e)bt=de[$e],bt>=ue&&bt<Ie&&(Ie=bt);for(Re=Ee+1,Ie-ue>P((o-me)/Re)&&N("overflow"),me+=(Ie-ue)*Re,ue=Ie,$e=0;$e<ae;++$e)if(bt=de[$e],bt<ue&&++me>o&&N("overflow"),bt==ue){for(Ke=me,Xe=l;Ze=Xe<=Ge?u:Xe>=Ge+d?d:Xe-Ge,!(Ke<Ze);Xe+=l)Ye=Ke-Ze,rt=l-Ze,ht.push(D(W(Ze+Ye%rt,0))),Ke=P(Ye/rt);ht.push(D(W(Ke,0))),Ge=F(me,Re,Ee==Oe),me=0,++Ee}++me,++ue}return ht.join("")}function K(de){return Y(de,function(ue){return _.test(ue)?te(ue.slice(4).toLowerCase()):ue})}function ee(de){return Y(de,function(ue){return S.test(ue)?"xn--"+G(ue):ue})}if(a={version:"1.4.1",ucs2:{decode:H,encode:j},decode:te,encode:G,toASCII:ee,toUnicode:K},r&&i)if(t.exports==r)i.exports=a;else for(R in a)a.hasOwnProperty(R)&&(r[R]=a[R]);else n.punycode=a})(Da)})(zC,zC.exports);var Vnt=zC.exports,f_=TypeError,U$=typeof Map=="function"&&Map.prototype,HP=Object.getOwnPropertyDescriptor&&U$?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,HC=U$&&HP&&typeof HP.get=="function"?HP.get:null,wj=U$&&Map.prototype.forEach,V$=typeof Set=="function"&&Set.prototype,jP=Object.getOwnPropertyDescriptor&&V$?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,jC=V$&&jP&&typeof jP.get=="function"?jP.get:null,Sj=V$&&Set.prototype.forEach,znt=typeof WeakMap=="function"&&WeakMap.prototype,vb=znt?WeakMap.prototype.has:null,Hnt=typeof WeakSet=="function"&&WeakSet.prototype,yb=Hnt?WeakSet.prototype.has:null,jnt=typeof WeakRef=="function"&&WeakRef.prototype,Tj=jnt?WeakRef.prototype.deref:null,Gnt=Boolean.prototype.valueOf,Wnt=Object.prototype.toString,qnt=Function.prototype.toString,Xnt=String.prototype.match,z$=String.prototype.slice,cp=String.prototype.replace,Ynt=String.prototype.toUpperCase,Cj=String.prototype.toLowerCase,Uae=RegExp.prototype.test,Ej=Array.prototype.concat,pd=Array.prototype.join,Knt=Array.prototype.slice,Aj=Math.floor,LR=typeof BigInt=="function"?BigInt.prototype.valueOf:null,GP=Object.getOwnPropertySymbols,$R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,xy=typeof Symbol=="function"&&typeof Symbol.iterator=="object",_b=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===xy||"symbol")?Symbol.toStringTag:null,Vae=Object.prototype.propertyIsEnumerable,Pj=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function kj(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Uae.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-Aj(-t):Aj(t);if(r!==t){var i=String(r),s=z$.call(e,i.length+1);return cp.call(i,n,"$&_")+"."+cp.call(cp.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return cp.call(e,n,"$&_")}var NR=X8,Dj=NR.custom,Ij=jae(Dj)?Dj:null,zae={__proto__:null,double:'"',single:"'"},Znt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},WA=function t(e,n,r,i){var s=n||{};if(mf(s,"quoteStyle")&&!mf(zae,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(mf(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=mf(s,"customInspect")?s.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(mf(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(mf(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Wae(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return o?kj(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return o?kj(e,u):u}var d=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof e=="object")return FR(e)?"[Array]":"[Object]";var f=mrt(s,r);if(typeof i>"u")i=[];else if(Gae(i,e)>=0)return"[Circular]";function h(X,W,F){if(W&&(i=Knt.call(i),i.push(W)),F){var te={depth:s.depth};return mf(s,"quoteStyle")&&(te.quoteStyle=s.quoteStyle),t(X,te,r+1,i)}return t(X,s,r+1,i)}if(typeof e=="function"&&!Rj(e)){var g=art(e),v=Ww(e,h);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(v.length>0?" { "+pd.call(v,", ")+" }":"")}if(jae(e)){var p=xy?cp.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):$R.call(e);return typeof e=="object"&&!xy?Q_(p):p}if(frt(e)){for(var _="<"+Cj.call(String(e.nodeName)),S=e.attributes||[],C=0;C<S.length;C++)_+=" "+S[C].name+"="+Hae(Qnt(S[C].value),"double",s);return _+=">",e.childNodes&&e.childNodes.length&&(_+="..."),_+="</"+Cj.call(String(e.nodeName))+">",_}if(FR(e)){if(e.length===0)return"[]";var T=Ww(e,h);return f&&!prt(T)?"["+BR(T,f)+"]":"[ "+pd.call(T,", ")+" ]"}if(ert(e)){var A=Ww(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!Vae.call(e,"cause")?"{ ["+String(e)+"] "+pd.call(Ej.call("[cause]: "+h(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+pd.call(A,", ")+" }"}if(typeof e=="object"&&a){if(Ij&&typeof e[Ij]=="function"&&NR)return NR(e,{depth:d-r});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(ort(e)){var P=[];return wj&&wj.call(e,function(X,W){P.push(h(W,e,!0)+" => "+h(X,e))}),Oj("Map",HC.call(e),P,f)}if(crt(e)){var D=[];return Sj&&Sj.call(e,function(X){D.push(h(X,e))}),Oj("Set",jC.call(e),D,f)}if(lrt(e))return WP("WeakMap");if(drt(e))return WP("WeakSet");if(urt(e))return WP("WeakRef");if(nrt(e))return Q_(h(Number(e)));if(irt(e))return Q_(h(LR.call(e)));if(rrt(e))return Q_(Gnt.call(e));if(trt(e))return Q_(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Da<"u"&&e===Da)return"{ [object globalThis] }";if(!Jnt(e)&&!Rj(e)){var R=Ww(e,h),N=Pj?Pj(e)===Object.prototype:e instanceof Object||e.constructor===Object,U=e instanceof Object?"":"null prototype",Y=!N&&_b&&Object(e)===e&&_b in e?z$.call(Zp(e),8,-1):U?"Object":"",H=N||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",j=H+(Y||U?"["+pd.call(Ej.call([],Y||[],U||[]),": ")+"] ":"");return R.length===0?j+"{}":f?j+"{"+BR(R,f)+"}":j+"{ "+pd.call(R,", ")+" }"}return String(e)};function Hae(t,e,n){var r=n.quoteStyle||e,i=zae[r];return i+t+i}function Qnt(t){return cp.call(String(t),/"/g,"&quot;")}function rg(t){return!_b||!(typeof t=="object"&&(_b in t||typeof t[_b]<"u"))}function FR(t){return Zp(t)==="[object Array]"&&rg(t)}function Jnt(t){return Zp(t)==="[object Date]"&&rg(t)}function Rj(t){return Zp(t)==="[object RegExp]"&&rg(t)}function ert(t){return Zp(t)==="[object Error]"&&rg(t)}function trt(t){return Zp(t)==="[object String]"&&rg(t)}function nrt(t){return Zp(t)==="[object Number]"&&rg(t)}function rrt(t){return Zp(t)==="[object Boolean]"&&rg(t)}function jae(t){if(xy)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!$R)return!1;try{return $R.call(t),!0}catch{}return!1}function irt(t){if(!t||typeof t!="object"||!LR)return!1;try{return LR.call(t),!0}catch{}return!1}var srt=Object.prototype.hasOwnProperty||function(t){return t in this};function mf(t,e){return srt.call(t,e)}function Zp(t){return Wnt.call(t)}function art(t){if(t.name)return t.name;var e=Xnt.call(qnt.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Gae(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function ort(t){if(!HC||!t||typeof t!="object")return!1;try{HC.call(t);try{jC.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function lrt(t){if(!vb||!t||typeof t!="object")return!1;try{vb.call(t,vb);try{yb.call(t,yb)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function urt(t){if(!Tj||!t||typeof t!="object")return!1;try{return Tj.call(t),!0}catch{}return!1}function crt(t){if(!jC||!t||typeof t!="object")return!1;try{jC.call(t);try{HC.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function drt(t){if(!yb||!t||typeof t!="object")return!1;try{yb.call(t,yb);try{vb.call(t,vb)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function frt(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Wae(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Wae(z$.call(t,0,e.maxStringLength),e)+r}var i=Znt[e.quoteStyle||"single"];i.lastIndex=0;var s=cp.call(cp.call(t,i,"\\$1"),/[\x00-\x1f]/g,hrt);return Hae(s,"single",e)}function hrt(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+Ynt.call(e.toString(16))}function Q_(t){return"Object("+t+")"}function WP(t){return t+" { ? }"}function Oj(t,e,n,r){var i=r?BR(n,r):pd.call(n,", ");return t+" ("+e+") {"+i+"}"}function prt(t){for(var e=0;e<t.length;e++)if(Gae(t[e],`
`)>=0)return!1;return!0}function mrt(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=pd.call(Array(t.indent+1)," ");else return null;return{base:n,prev:pd.call(Array(e+1),n)}}function BR(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+pd.call(t,","+n)+`
`+e.prev}function Ww(t,e){var n=FR(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=mf(t,i)?e(t[i],t):""}var s=typeof GP=="function"?GP(t):[],a;if(xy){a={};for(var o=0;o<s.length;o++)a["$"+s[o]]=s[o]}for(var l in t)mf(t,l)&&(n&&String(Number(l))===l&&l<t.length||xy&&a["$"+l]instanceof Symbol||(Uae.call(/[^\w$]/,l)?r.push(e(l,t)+": "+e(t[l],t)):r.push(l+": "+e(t[l],t))));if(typeof GP=="function")for(var u=0;u<s.length;u++)Vae.call(t,s[u])&&r.push("["+e(s[u])+"]: "+e(t[s[u]],t));return r}var grt=WA,vrt=f_,qA=function(t,e,n){for(var r=t,i;(i=r.next)!=null;r=i)if(i.key===e)return r.next=i.next,n||(i.next=t.next,t.next=i),i},yrt=function(t,e){if(t){var n=qA(t,e);return n&&n.value}},_rt=function(t,e,n){var r=qA(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},brt=function(t,e){return t?!!qA(t,e):!1},xrt=function(t,e){if(t)return qA(t,e,!0)},wrt=function(){var e,n={assert:function(r){if(!n.has(r))throw new vrt("Side channel does not contain "+grt(r))},delete:function(r){var i=e&&e.next,s=xrt(e,r);return s&&i&&i===s&&(e=void 0),!!s},get:function(r){return yrt(e,r)},has:function(r){return brt(e,r)},set:function(r,i){e||(e={next:void 0}),_rt(e,r,i)}};return n},qae=Object,Srt=Error,Trt=EvalError,Crt=RangeError,Ert=ReferenceError,Art=SyntaxError,Prt=URIError,krt=Math.abs,Drt=Math.floor,Irt=Math.max,Rrt=Math.min,Ort=Math.pow,Mrt=Math.round,Lrt=Number.isNaN||function(e){return e!==e},$rt=Lrt,Nrt=function(e){return $rt(e)||e===0?e:e<0?-1:1},Frt=Object.getOwnPropertyDescriptor,lT=Frt;if(lT)try{lT([],"length")}catch{lT=null}var Xae=lT,uT=Object.defineProperty||!1;if(uT)try{uT({},"a",{value:1})}catch{uT=!1}var Brt=uT,qP,Mj;function Urt(){return Mj||(Mj=1,qP=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,n);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),qP}var XP,Lj;function Vrt(){if(Lj)return XP;Lj=1;var t=typeof Symbol<"u"&&Symbol,e=Urt();return XP=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},XP}var YP,$j;function Yae(){return $j||($j=1,YP=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),YP}var KP,Nj;function Kae(){if(Nj)return KP;Nj=1;var t=qae;return KP=t.getPrototypeOf||null,KP}var ZP,Fj;function zrt(){if(Fj)return ZP;Fj=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(l,u){for(var d=[],f=0;f<l.length;f+=1)d[f]=l[f];for(var h=0;h<u.length;h+=1)d[h+l.length]=u[h];return d},s=function(l,u){for(var d=[],f=u||0,h=0;f<l.length;f+=1,h+=1)d[h]=l[f];return d},a=function(o,l){for(var u="",d=0;d<o.length;d+=1)u+=o[d],d+1<o.length&&(u+=l);return u};return ZP=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==r)throw new TypeError(t+u);for(var d=s(arguments,1),f,h=function(){if(this instanceof f){var S=u.apply(this,i(d,arguments));return Object(S)===S?S:this}return u.apply(l,i(d,arguments))},g=n(0,u.length-d.length),v=[],p=0;p<g;p++)v[p]="$"+p;if(f=Function("binder","return function ("+a(v,",")+"){ return binder.apply(this,arguments); }")(h),u.prototype){var _=function(){};_.prototype=u.prototype,f.prototype=new _,_.prototype=null}return f},ZP}var QP,Bj;function XA(){if(Bj)return QP;Bj=1;var t=zrt();return QP=Function.prototype.bind||t,QP}var JP,Uj;function H$(){return Uj||(Uj=1,JP=Function.prototype.call),JP}var ek,Vj;function Zae(){return Vj||(Vj=1,ek=Function.prototype.apply),ek}var Hrt=typeof Reflect<"u"&&Reflect&&Reflect.apply,jrt=XA(),Grt=Zae(),Wrt=H$(),qrt=Hrt,Xrt=qrt||jrt.call(Wrt,Grt),Yrt=XA(),Krt=f_,Zrt=H$(),Qrt=Xrt,Qae=function(e){if(e.length<1||typeof e[0]!="function")throw new Krt("a function is required");return Qrt(Yrt,Zrt,e)},tk,zj;function Jrt(){if(zj)return tk;zj=1;var t=Qae,e=Xae,n;try{n=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return tk=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(o){return s(o==null?o:i(o))}:!1,tk}var nk,Hj;function eit(){if(Hj)return nk;Hj=1;var t=Yae(),e=Kae(),n=Jrt();return nk=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,nk}var rk,jj;function tit(){if(jj)return rk;jj=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=XA();return rk=n.call(t,e),rk}var oi,nit=qae,rit=Srt,iit=Trt,sit=Crt,ait=Ert,wy=Art,Cv=f_,oit=Prt,lit=krt,uit=Drt,cit=Irt,dit=Rrt,fit=Ort,hit=Mrt,pit=Nrt,Jae=Function,ik=function(t){try{return Jae('"use strict"; return ('+t+").constructor;")()}catch{}},D1=Xae,mit=Brt,sk=function(){throw new Cv},git=D1?function(){try{return arguments.callee,sk}catch{try{return D1(arguments,"callee").get}catch{return sk}}}():sk,Rg=Vrt()(),Ba=eit(),vit=Kae(),yit=Yae(),eoe=Zae(),Dx=H$(),Vg={},_it=typeof Uint8Array>"u"||!Ba?oi:Ba(Uint8Array),gm={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?oi:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?oi:ArrayBuffer,"%ArrayIteratorPrototype%":Rg&&Ba?Ba([][Symbol.iterator]()):oi,"%AsyncFromSyncIteratorPrototype%":oi,"%AsyncFunction%":Vg,"%AsyncGenerator%":Vg,"%AsyncGeneratorFunction%":Vg,"%AsyncIteratorPrototype%":Vg,"%Atomics%":typeof Atomics>"u"?oi:Atomics,"%BigInt%":typeof BigInt>"u"?oi:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?oi:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?oi:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?oi:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":rit,"%eval%":eval,"%EvalError%":iit,"%Float16Array%":typeof Float16Array>"u"?oi:Float16Array,"%Float32Array%":typeof Float32Array>"u"?oi:Float32Array,"%Float64Array%":typeof Float64Array>"u"?oi:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?oi:FinalizationRegistry,"%Function%":Jae,"%GeneratorFunction%":Vg,"%Int8Array%":typeof Int8Array>"u"?oi:Int8Array,"%Int16Array%":typeof Int16Array>"u"?oi:Int16Array,"%Int32Array%":typeof Int32Array>"u"?oi:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Rg&&Ba?Ba(Ba([][Symbol.iterator]())):oi,"%JSON%":typeof JSON=="object"?JSON:oi,"%Map%":typeof Map>"u"?oi:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Rg||!Ba?oi:Ba(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":nit,"%Object.getOwnPropertyDescriptor%":D1,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?oi:Promise,"%Proxy%":typeof Proxy>"u"?oi:Proxy,"%RangeError%":sit,"%ReferenceError%":ait,"%Reflect%":typeof Reflect>"u"?oi:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?oi:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Rg||!Ba?oi:Ba(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?oi:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Rg&&Ba?Ba(""[Symbol.iterator]()):oi,"%Symbol%":Rg?Symbol:oi,"%SyntaxError%":wy,"%ThrowTypeError%":git,"%TypedArray%":_it,"%TypeError%":Cv,"%Uint8Array%":typeof Uint8Array>"u"?oi:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?oi:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?oi:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?oi:Uint32Array,"%URIError%":oit,"%WeakMap%":typeof WeakMap>"u"?oi:WeakMap,"%WeakRef%":typeof WeakRef>"u"?oi:WeakRef,"%WeakSet%":typeof WeakSet>"u"?oi:WeakSet,"%Function.prototype.call%":Dx,"%Function.prototype.apply%":eoe,"%Object.defineProperty%":mit,"%Object.getPrototypeOf%":vit,"%Math.abs%":lit,"%Math.floor%":uit,"%Math.max%":cit,"%Math.min%":dit,"%Math.pow%":fit,"%Math.round%":hit,"%Math.sign%":pit,"%Reflect.getPrototypeOf%":yit};if(Ba)try{null.error}catch(t){var bit=Ba(Ba(t));gm["%Error.prototype%"]=bit}var xit=function t(e){var n;if(e==="%AsyncFunction%")n=ik("async function () {}");else if(e==="%GeneratorFunction%")n=ik("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=ik("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ba&&(n=Ba(i.prototype))}return gm[e]=n,n},Gj={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ix=XA(),GC=tit(),wit=Ix.call(Dx,Array.prototype.concat),Sit=Ix.call(eoe,Array.prototype.splice),Wj=Ix.call(Dx,String.prototype.replace),WC=Ix.call(Dx,String.prototype.slice),Tit=Ix.call(Dx,RegExp.prototype.exec),Cit=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Eit=/\\(\\)?/g,Ait=function(e){var n=WC(e,0,1),r=WC(e,-1);if(n==="%"&&r!=="%")throw new wy("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new wy("invalid intrinsic syntax, expected opening `%`");var i=[];return Wj(e,Cit,function(s,a,o,l){i[i.length]=o?Wj(l,Eit,"$1"):a||s}),i},Pit=function(e,n){var r=e,i;if(GC(Gj,r)&&(i=Gj[r],r="%"+i[0]+"%"),GC(gm,r)){var s=gm[r];if(s===Vg&&(s=xit(r)),typeof s>"u"&&!n)throw new Cv("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new wy("intrinsic "+e+" does not exist!")},j$=function(e,n){if(typeof e!="string"||e.length===0)throw new Cv("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Cv('"allowMissing" argument must be a boolean');if(Tit(/^%?[^%]*%?$/,e)===null)throw new wy("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Ait(e),i=r.length>0?r[0]:"",s=Pit("%"+i+"%",n),a=s.name,o=s.value,l=!1,u=s.alias;u&&(i=u[0],Sit(r,wit([0,1],u)));for(var d=1,f=!0;d<r.length;d+=1){var h=r[d],g=WC(h,0,1),v=WC(h,-1);if((g==='"'||g==="'"||g==="`"||v==='"'||v==="'"||v==="`")&&g!==v)throw new wy("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),i+="."+h,a="%"+i+"%",GC(gm,a))o=gm[a];else if(o!=null){if(!(h in o)){if(!n)throw new Cv("base intrinsic for "+e+" exists, but the property is not available.");return}if(D1&&d+1>=r.length){var p=D1(o,h);f=!!p,f&&"get"in p&&!("originalValue"in p.get)?o=p.get:o=o[h]}else f=GC(o,h),o=o[h];f&&!l&&(gm[a]=o)}}return o},toe=j$,noe=Qae,kit=noe([toe("%String.prototype.indexOf%")]),roe=function(e,n){var r=toe(e,!!n);return typeof r=="function"&&kit(e,".prototype.")>-1?noe([r]):r},Dit=j$,Rx=roe,Iit=WA,Rit=f_,qj=Dit("%Map%",!0),Oit=Rx("Map.prototype.get",!0),Mit=Rx("Map.prototype.set",!0),Lit=Rx("Map.prototype.has",!0),$it=Rx("Map.prototype.delete",!0),Nit=Rx("Map.prototype.size",!0),ioe=!!qj&&function(){var e,n={assert:function(r){if(!n.has(r))throw new Rit("Side channel does not contain "+Iit(r))},delete:function(r){if(e){var i=$it(e,r);return Nit(e)===0&&(e=void 0),i}return!1},get:function(r){if(e)return Oit(e,r)},has:function(r){return e?Lit(e,r):!1},set:function(r,i){e||(e=new qj),Mit(e,r,i)}};return n},Fit=j$,YA=roe,Bit=WA,qw=ioe,Uit=f_,Og=Fit("%WeakMap%",!0),Vit=YA("WeakMap.prototype.get",!0),zit=YA("WeakMap.prototype.set",!0),Hit=YA("WeakMap.prototype.has",!0),jit=YA("WeakMap.prototype.delete",!0),Git=Og?function(){var e,n,r={assert:function(i){if(!r.has(i))throw new Uit("Side channel does not contain "+Bit(i))},delete:function(i){if(Og&&i&&(typeof i=="object"||typeof i=="function")){if(e)return jit(e,i)}else if(qw&&n)return n.delete(i);return!1},get:function(i){return Og&&i&&(typeof i=="object"||typeof i=="function")&&e?Vit(e,i):n&&n.get(i)},has:function(i){return Og&&i&&(typeof i=="object"||typeof i=="function")&&e?Hit(e,i):!!n&&n.has(i)},set:function(i,s){Og&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Og),zit(e,i,s)):qw&&(n||(n=qw()),n.set(i,s))}};return r}:qw,Wit=f_,qit=WA,Xit=wrt,Yit=ioe,Kit=Git,Zit=Kit||Yit||Xit,Qit=function(){var e,n={assert:function(r){if(!n.has(r))throw new Wit("Side channel does not contain "+qit(r))},delete:function(r){return!!e&&e.delete(r)},get:function(r){return e&&e.get(r)},has:function(r){return!!e&&e.has(r)},set:function(r,i){e||(e=Zit()),e.set(r,i)}};return n},Jit=String.prototype.replace,est=/%20/g,ak={RFC1738:"RFC1738",RFC3986:"RFC3986"},G$={default:ak.RFC3986,formatters:{RFC1738:function(t){return Jit.call(t,est,"+")},RFC3986:function(t){return String(t)}},RFC1738:ak.RFC1738,RFC3986:ak.RFC3986},tst=G$,ok=Object.prototype.hasOwnProperty,G0=Array.isArray,td=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),nst=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(G0(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},soe=function(e,n){for(var r=n&&n.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},rst=function t(e,n,r){if(!n)return e;if(typeof n!="object"&&typeof n!="function"){if(G0(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!ok.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return G0(e)&&!G0(n)&&(i=soe(e,r)),G0(e)&&G0(n)?(n.forEach(function(s,a){if(ok.call(e,a)){var o=e[a];o&&typeof o=="object"&&s&&typeof s=="object"?e[a]=t(o,s,r):e.push(s)}else e[a]=s}),e):Object.keys(n).reduce(function(s,a){var o=n[a];return ok.call(s,a)?s[a]=t(s[a],o,r):s[a]=o,s},i)},ist=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},sst=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},lk=1024,ast=function(e,n,r,i,s){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var o="",l=0;l<a.length;l+=lk){for(var u=a.length>=lk?a.slice(l,l+lk):a,d=[],f=0;f<u.length;++f){var h=u.charCodeAt(f);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===tst.RFC1738&&(h===40||h===41)){d[d.length]=u.charAt(f);continue}if(h<128){d[d.length]=td[h];continue}if(h<2048){d[d.length]=td[192|h>>6]+td[128|h&63];continue}if(h<55296||h>=57344){d[d.length]=td[224|h>>12]+td[128|h>>6&63]+td[128|h&63];continue}f+=1,h=65536+((h&1023)<<10|u.charCodeAt(f)&1023),d[d.length]=td[240|h>>18]+td[128|h>>12&63]+td[128|h>>6&63]+td[128|h&63]}o+=d.join("")}return o},ost=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],a=s.obj[s.prop],o=Object.keys(a),l=0;l<o.length;++l){var u=o[l],d=a[u];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:a,prop:u}),r.push(d))}return nst(n),e},lst=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ust=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},cst=function(e,n){return[].concat(e,n)},dst=function(e,n){if(G0(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},aoe={arrayToObject:soe,assign:ist,combine:cst,compact:ost,decode:sst,encode:ast,isBuffer:ust,isRegExp:lst,maybeMap:dst,merge:rst},ooe=Qit,cT=aoe,bb=G$,fst=Object.prototype.hasOwnProperty,loe={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},dd=Array.isArray,hst=Array.prototype.push,uoe=function(t,e){hst.apply(t,dd(e)?e:[e])},pst=Date.prototype.toISOString,Xj=bb.default,Ea={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:cT.encode,encodeValuesOnly:!1,filter:void 0,format:Xj,formatter:bb.formatters[Xj],indices:!1,serializeDate:function(e){return pst.call(e)},skipNulls:!1,strictNullHandling:!1},mst=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},uk={},gst=function t(e,n,r,i,s,a,o,l,u,d,f,h,g,v,p,_,S,C){for(var T=e,A=C,P=0,D=!1;(A=A.get(uk))!==void 0&&!D;){var R=A.get(e);if(P+=1,typeof R<"u"){if(R===P)throw new RangeError("Cyclic object value");D=!0}typeof A.get(uk)>"u"&&(P=0)}if(typeof d=="function"?T=d(n,T):T instanceof Date?T=g(T):r==="comma"&&dd(T)&&(T=cT.maybeMap(T,function(de){return de instanceof Date?g(de):de})),T===null){if(a)return u&&!_?u(n,Ea.encoder,S,"key",v):n;T=""}if(mst(T)||cT.isBuffer(T)){if(u){var N=_?n:u(n,Ea.encoder,S,"key",v);return[p(N)+"="+p(u(T,Ea.encoder,S,"value",v))]}return[p(n)+"="+p(String(T))]}var U=[];if(typeof T>"u")return U;var Y;if(r==="comma"&&dd(T))_&&u&&(T=cT.maybeMap(T,u)),Y=[{value:T.length>0?T.join(",")||null:void 0}];else if(dd(d))Y=d;else{var H=Object.keys(T);Y=f?H.sort(f):H}var j=l?String(n).replace(/\./g,"%2E"):String(n),X=i&&dd(T)&&T.length===1?j+"[]":j;if(s&&dd(T)&&T.length===0)return X+"[]";for(var W=0;W<Y.length;++W){var F=Y[W],te=typeof F=="object"&&F&&typeof F.value<"u"?F.value:T[F];if(!(o&&te===null)){var G=h&&l?String(F).replace(/\./g,"%2E"):String(F),K=dd(T)?typeof r=="function"?r(X,G):X:X+(h?"."+G:"["+G+"]");C.set(e,P);var ee=ooe();ee.set(uk,C),uoe(U,t(te,K,r,i,s,a,o,l,r==="comma"&&_&&dd(T)?null:u,d,f,h,g,v,p,_,S,ee))}}return U},vst=function(e){if(!e)return Ea;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||Ea.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=bb.default;if(typeof e.format<"u"){if(!fst.call(bb.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=bb.formatters[r],s=Ea.filter;(typeof e.filter=="function"||dd(e.filter))&&(s=e.filter);var a;if(e.arrayFormat in loe?a=e.arrayFormat:"indices"in e?a=e.indices?"indices":"repeat":a=Ea.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var o=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Ea.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ea.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ea.allowEmptyArrays,arrayFormat:a,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ea.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Ea.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ea.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Ea.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Ea.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ea.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ea.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ea.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ea.strictNullHandling}},yst=function(t,e){var n=t,r=vst(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):dd(r.filter)&&(s=r.filter,i=s);var a=[];if(typeof n!="object"||n===null)return"";var o=loe[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=ooe(),d=0;d<i.length;++d){var f=i[d],h=n[f];r.skipNulls&&h===null||uoe(a,gst(h,f,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}var g=a.join(r.delimiter),v=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""},Fm=aoe,UR=Object.prototype.hasOwnProperty,Yj=Array.isArray,Hs={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Fm.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},_st=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},coe=function(t,e,n){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&n>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},bst="utf8=%26%2310003%3B",xst="utf8=%E2%9C%93",wst=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=n.parameterLimit===1/0?void 0:n.parameterLimit,a=i.split(n.delimiter,n.throwOnLimitExceeded?s+1:s);if(n.throwOnLimitExceeded&&a.length>s)throw new RangeError("Parameter limit exceeded. Only "+s+" parameter"+(s===1?"":"s")+" allowed.");var o=-1,l,u=n.charset;if(n.charsetSentinel)for(l=0;l<a.length;++l)a[l].indexOf("utf8=")===0&&(a[l]===xst?u="utf-8":a[l]===bst&&(u="iso-8859-1"),o=l,l=a.length);for(l=0;l<a.length;++l)if(l!==o){var d=a[l],f=d.indexOf("]="),h=f===-1?d.indexOf("="):f+1,g,v;h===-1?(g=n.decoder(d,Hs.decoder,u,"key"),v=n.strictNullHandling?null:""):(g=n.decoder(d.slice(0,h),Hs.decoder,u,"key"),v=Fm.maybeMap(coe(d.slice(h+1),n,Yj(r[g])?r[g].length:0),function(_){return n.decoder(_,Hs.decoder,u,"value")})),v&&n.interpretNumericEntities&&u==="iso-8859-1"&&(v=_st(String(v))),d.indexOf("[]=")>-1&&(v=Yj(v)?[v]:v);var p=UR.call(r,g);p&&n.duplicates==="combine"?r[g]=Fm.combine(r[g],v):(!p||n.duplicates==="last")&&(r[g]=v)}return r},Sst=function(t,e,n,r){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var s=t.slice(0,-1).join("");i=Array.isArray(e)&&e[s]?e[s].length:0}for(var a=r?e:coe(e,n,i),o=t.length-1;o>=0;--o){var l,u=t[o];if(u==="[]"&&n.parseArrays)l=n.allowEmptyArrays&&(a===""||n.strictNullHandling&&a===null)?[]:Fm.combine([],a);else{l=n.plainObjects?{__proto__:null}:{};var d=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,f=n.decodeDotInKeys?d.replace(/%2E/g,"."):d,h=parseInt(f,10);!n.parseArrays&&f===""?l={0:a}:!isNaN(h)&&u!==f&&String(h)===f&&h>=0&&n.parseArrays&&h<=n.arrayLimit?(l=[],l[h]=a):f!=="__proto__"&&(l[f]=a)}a=l}return a},Tst=function(e,n,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=r.depth>0&&a.exec(s),u=l?s.slice(0,l.index):s,d=[];if(u){if(!r.plainObjects&&UR.call(Object.prototype,u)&&!r.allowPrototypes)return;d.push(u)}for(var f=0;r.depth>0&&(l=o.exec(s))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&UR.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(l[1])}if(l){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");d.push("["+s.slice(l.index)+"]")}return Sst(d,n,r,i)}},Cst=function(e){if(!e)return Hs;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var n=typeof e.charset>"u"?Hs.charset:e.charset,r=typeof e.duplicates>"u"?Hs.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Hs.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Hs.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Hs.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Hs.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Hs.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Hs.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Hs.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Hs.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Hs.decoder,delimiter:typeof e.delimiter=="string"||Fm.isRegExp(e.delimiter)?e.delimiter:Hs.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Hs.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Hs.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Hs.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Hs.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Hs.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Hs.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},Est=function(t,e){var n=Cst(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?{__proto__:null}:{};for(var r=typeof t=="string"?wst(t,n):t,i=n.plainObjects?{__proto__:null}:{},s=Object.keys(r),a=0;a<s.length;++a){var o=s[a],l=Tst(o,r[o],n,typeof t=="string");i=Fm.merge(i,l,n)}return n.allowSparse===!0?i:Fm.compact(i)},Ast=yst,Pst=Est,kst=G$,Dst={formats:kst,parse:Pst,stringify:Ast},Ist=Vnt;function bc(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Rst=/^([a-z0-9.+-]+:)/i,Ost=/:[0-9]*$/,Mst=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Lst=["<",">",'"',"`"," ","\r",`
`,"	"],$st=["{","}","|","\\","^","`"].concat(Lst),VR=["'"].concat($st),Kj=["%","/","?",";","#"].concat(VR),Zj=["/","?","#"],Nst=255,Qj=/^[+a-z0-9A-Z_-]{0,63}$/,Fst=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Bst={javascript:!0,"javascript:":!0},zR={javascript:!0,"javascript:":!0},Ev={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},HR=Dst;function KA(t,e,n){if(t&&typeof t=="object"&&t instanceof bc)return t;var r=new bc;return r.parse(t,e,n),r}bc.prototype.parse=function(t,e,n){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),a=/\\/g;s[0]=s[0].replace(a,"/"),t=s.join(i);var o=t;if(o=o.trim(),!n&&t.split("#").length===1){var l=Mst.exec(o);if(l)return this.path=o,this.href=o,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=HR.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=Rst.exec(o);if(u){u=u[0];var d=u.toLowerCase();this.protocol=d,o=o.substr(u.length)}if(n||u||o.match(/^\/\/[^@/]+@[^@/]+/)){var f=o.substr(0,2)==="//";f&&!(u&&zR[u])&&(o=o.substr(2),this.slashes=!0)}if(!zR[u]&&(f||u&&!Ev[u])){for(var h=-1,g=0;g<Zj.length;g++){var v=o.indexOf(Zj[g]);v!==-1&&(h===-1||v<h)&&(h=v)}var p,_;h===-1?_=o.lastIndexOf("@"):_=o.lastIndexOf("@",h),_!==-1&&(p=o.slice(0,_),o=o.slice(_+1),this.auth=decodeURIComponent(p)),h=-1;for(var g=0;g<Kj.length;g++){var v=o.indexOf(Kj[g]);v!==-1&&(h===-1||v<h)&&(h=v)}h===-1&&(h=o.length),this.host=o.slice(0,h),o=o.slice(h),this.parseHost(),this.hostname=this.hostname||"";var S=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!S)for(var C=this.hostname.split(/\./),g=0,T=C.length;g<T;g++){var A=C[g];if(A&&!A.match(Qj)){for(var P="",D=0,R=A.length;D<R;D++)A.charCodeAt(D)>127?P+="x":P+=A[D];if(!P.match(Qj)){var N=C.slice(0,g),U=C.slice(g+1),Y=A.match(Fst);Y&&(N.push(Y[1]),U.unshift(Y[2])),U.length&&(o="/"+U.join(".")+o),this.hostname=N.join(".");break}}}this.hostname.length>Nst?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=Ist.toASCII(this.hostname));var H=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+H,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!Bst[d])for(var g=0,T=VR.length;g<T;g++){var X=VR[g];if(o.indexOf(X)!==-1){var W=encodeURIComponent(X);W===X&&(W=escape(X)),o=o.split(X).join(W)}}var F=o.indexOf("#");F!==-1&&(this.hash=o.substr(F),o=o.slice(0,F));var te=o.indexOf("?");if(te!==-1?(this.search=o.substr(te),this.query=o.substr(te+1),e&&(this.query=HR.parse(this.query)),o=o.slice(0,te)):e&&(this.search="",this.query={}),o&&(this.pathname=o),Ev[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var H=this.pathname||"",G=this.search||"";this.path=H+G}return this.href=this.format(),this};function Ust(t){return typeof t=="string"&&(t=KA(t)),t instanceof bc?t.format():bc.prototype.format.call(t)}bc.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=HR.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ev[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(o){return encodeURIComponent(o)}),a=a.replace("#","%23"),e+i+n+a+r};function Vst(t,e){return KA(t,!1,!0).resolve(e)}bc.prototype.resolve=function(t){return this.resolveObject(KA(t,!1,!0)).format()};bc.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new bc;e.parse(t,!1,!0),t=e}for(var n=new bc,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),o=0;o<a.length;o++){var l=a[o];l!=="protocol"&&(n[l]=t[l])}return Ev[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!Ev[t.protocol]){for(var u=Object.keys(t),d=0;d<u.length;d++){var f=u[d];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!zR[t.protocol]){for(var T=(t.pathname||"").split("/");T.length&&!(t.host=T.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),T[0]!==""&&T.unshift(""),T.length<2&&T.unshift(""),n.pathname=T.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var h=n.pathname||"",g=n.search||"";n.path=h+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&n.pathname.charAt(0)==="/",p=t.host||t.pathname&&t.pathname.charAt(0)==="/",_=p||v||n.host&&t.pathname,S=_,C=n.pathname&&n.pathname.split("/")||[],T=t.pathname&&t.pathname.split("/")||[],A=n.protocol&&!Ev[n.protocol];if(A&&(n.hostname="",n.port=null,n.host&&(C[0]===""?C[0]=n.host:C.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(T[0]===""?T[0]=t.host:T.unshift(t.host)),t.host=null),_=_&&(T[0]===""||C[0]==="")),p)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,C=T;else if(T.length)C||(C=[]),C.pop(),C=C.concat(T),n.search=t.search,n.query=t.query;else if(t.search!=null){if(A){n.host=C.shift(),n.hostname=n.host;var P=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;P&&(n.auth=P.shift(),n.hostname=P.shift(),n.host=n.hostname)}return n.search=t.search,n.query=t.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var D=C.slice(-1)[0],R=(n.host||t.host||C.length>1)&&(D==="."||D==="..")||D==="",N=0,U=C.length;U>=0;U--)D=C[U],D==="."?C.splice(U,1):D===".."?(C.splice(U,1),N++):N&&(C.splice(U,1),N--);if(!_&&!S)for(;N--;N)C.unshift("..");_&&C[0]!==""&&(!C[0]||C[0].charAt(0)!=="/")&&C.unshift(""),R&&C.join("/").substr(-1)!=="/"&&C.push("");var Y=C[0]===""||C[0]&&C[0].charAt(0)==="/";if(A){n.hostname=Y?"":C.length?C.shift():"",n.host=n.hostname;var P=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;P&&(n.auth=P.shift(),n.hostname=P.shift(),n.host=n.hostname)}return _=_||n.host&&C.length,_&&!Y&&C.unshift(""),C.length>0?n.pathname=C.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};bc.prototype.parseHost=function(){var t=this.host,e=Ost.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var zst=KA,Hst=Vst,jst=Ust;/*!
 * @pixi/utils - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var wd={parse:zst,format:jst,resolve:Hst};function nc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function Jj(t){var e=t.split("?")[0];return e.split("#")[0]}function Gst(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Wst(t,e,n){return t.replace(new RegExp(Gst(e),"g"),n)}function qst(t,e){for(var n="",r=0,i=-1,s=0,a,o=0;o<=t.length;++o){if(o<t.length)a=t.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=o,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s!==-1?++s:s=-1}return n}var doe={toPosix:function(t){return Wst(t,"\\","/")},isUrl:function(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:function(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol:function(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol:function(t){nc(t),t=this.toPosix(t);var e="",n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){var s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute:function(t,e,n){if(this.isDataUrl(t))return t;var r=Jj(this.toPosix(e??Yn.ADAPTER.getBaseUrl())),i=Jj(this.toPosix(n??this.rootname(r)));if(nc(t),t=this.toPosix(t),t.startsWith("/"))return doe.join(i,t.slice(1));var s=this.isAbsolute(t)?t:this.join(r,t);return s},normalize:function(t){if(t=this.toPosix(t),nc(t),t.length===0)return".";var e="",n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));var r=t.endsWith("/");return t=qst(t,!1),t.length>0&&r&&(t+="/"),n?"/"+t:e+t},isAbsolute:function(t){return nc(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join:function(){for(var t=arguments,e,n=[],r=0;r<arguments.length;r++)n[r]=t[r];if(n.length===0)return".";for(var i,s=0;s<n.length;++s){var a=n[s];if(nc(a),a.length>0)if(i===void 0)i=a;else{var o=(e=n[s-1])!==null&&e!==void 0?e:"";this.extname(o)?i+="/../"+a:i+="/"+a}}return i===void 0?".":this.normalize(i)},dirname:function(t){if(nc(t),t.length===0)return".";t=this.toPosix(t);var e=t.charCodeAt(0),n=e===47,r=-1,i=!0,s=this.getProtocol(t),a=t;t=t.slice(s.length);for(var o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),e===47){if(!i){r=o;break}}else i=!1;return r===-1?n?"/":this.isUrl(a)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname:function(t){nc(t),t=this.toPosix(t);var e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){var n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename:function(t,e){nc(t),e&&nc(e),t=this.toPosix(t);var n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var a=e.length-1,o=-1;for(s=t.length-1;s>=0;--s){var l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else o===-1&&(i=!1,o=s+1),a>=0&&(l===e.charCodeAt(a)?--a===-1&&(r=s):(a=-1,r=o))}return n===r?r=o:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname:function(t){nc(t),t=this.toPosix(t);for(var e=-1,n=0,r=-1,i=!0,s=0,a=t.length-1;a>=0;--a){var o=t.charCodeAt(a);if(o===47){if(!i){n=a+1;break}continue}r===-1&&(i=!1,r=a+1),o===46?e===-1?e=a:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse:function(t){nc(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=this.toPosix(t);var n=t.charCodeAt(0),r=this.isAbsolute(t),i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;for(var s=-1,a=0,o=-1,l=!0,u=t.length-1,d=0;u>=i;--u){if(n=t.charCodeAt(u),n===47){if(!l){a=u+1;break}continue}o===-1&&(l=!1,o=u+1),n===46?s===-1?s=u:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||o===-1||d===0||d===1&&s===o-1&&s===a+1?o!==-1&&(a===0&&r?e.base=e.name=t.slice(1,o):e.base=e.name=t.slice(a,o)):(a===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,o)):(e.name=t.slice(a,s),e.base=t.slice(a,o)),e.ext=t.slice(s,o)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};Yn.RETINA_PREFIX=/@([0-9\.]+)x/;Yn.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var jR=!1,eG="6.5.9";function Xst(){jR=!0}function foe(t){var e;if(!jR){if(Yn.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var n=[`
 %c %c %c PixiJS `+eG+" -  "+t+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,n)}else globalThis.console&&globalThis.console.log("PixiJS "+eG+" - "+t+" - http://www.pixijs.com/");jR=!0}}var ck;function hoe(){return typeof ck>"u"&&(ck=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:Yn.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Yn.ADAPTER.getWebGLRenderingContext())return!1;var n=Yn.ADAPTER.createCanvas(),r=n.getContext("webgl",e)||n.getContext("experimental-webgl",e),i=!!(r&&r.getContextAttributes().stencil);if(r){var s=r.getExtension("WEBGL_lose_context");s&&s.loseContext()}return r=null,i}catch{return!1}}()),ck}var Yst="#f0f8ff",Kst="#faebd7",Zst="#00ffff",Qst="#7fffd4",Jst="#f0ffff",eat="#f5f5dc",tat="#ffe4c4",nat="#000000",rat="#ffebcd",iat="#0000ff",sat="#8a2be2",aat="#a52a2a",oat="#deb887",lat="#5f9ea0",uat="#7fff00",cat="#d2691e",dat="#ff7f50",fat="#6495ed",hat="#fff8dc",pat="#dc143c",mat="#00ffff",gat="#00008b",vat="#008b8b",yat="#b8860b",_at="#a9a9a9",bat="#006400",xat="#a9a9a9",wat="#bdb76b",Sat="#8b008b",Tat="#556b2f",Cat="#ff8c00",Eat="#9932cc",Aat="#8b0000",Pat="#e9967a",kat="#8fbc8f",Dat="#483d8b",Iat="#2f4f4f",Rat="#2f4f4f",Oat="#00ced1",Mat="#9400d3",Lat="#ff1493",$at="#00bfff",Nat="#696969",Fat="#696969",Bat="#1e90ff",Uat="#b22222",Vat="#fffaf0",zat="#228b22",Hat="#ff00ff",jat="#dcdcdc",Gat="#f8f8ff",Wat="#daa520",qat="#ffd700",Xat="#808080",Yat="#008000",Kat="#adff2f",Zat="#808080",Qat="#f0fff0",Jat="#ff69b4",eot="#cd5c5c",tot="#4b0082",not="#fffff0",rot="#f0e68c",iot="#fff0f5",sot="#e6e6fa",aot="#7cfc00",oot="#fffacd",lot="#add8e6",uot="#f08080",cot="#e0ffff",dot="#fafad2",fot="#d3d3d3",hot="#90ee90",pot="#d3d3d3",mot="#ffb6c1",got="#ffa07a",vot="#20b2aa",yot="#87cefa",_ot="#778899",bot="#778899",xot="#b0c4de",wot="#ffffe0",Sot="#00ff00",Tot="#32cd32",Cot="#faf0e6",Eot="#ff00ff",Aot="#800000",Pot="#66cdaa",kot="#0000cd",Dot="#ba55d3",Iot="#9370db",Rot="#3cb371",Oot="#7b68ee",Mot="#00fa9a",Lot="#48d1cc",$ot="#c71585",Not="#191970",Fot="#f5fffa",Bot="#ffe4e1",Uot="#ffe4b5",Vot="#ffdead",zot="#000080",Hot="#fdf5e6",jot="#808000",Got="#6b8e23",Wot="#ffa500",qot="#ff4500",Xot="#da70d6",Yot="#eee8aa",Kot="#98fb98",Zot="#afeeee",Qot="#db7093",Jot="#ffefd5",elt="#ffdab9",tlt="#cd853f",nlt="#ffc0cb",rlt="#dda0dd",ilt="#b0e0e6",slt="#800080",alt="#663399",olt="#ff0000",llt="#bc8f8f",ult="#4169e1",clt="#8b4513",dlt="#fa8072",flt="#f4a460",hlt="#2e8b57",plt="#fff5ee",mlt="#a0522d",glt="#c0c0c0",vlt="#87ceeb",ylt="#6a5acd",_lt="#708090",blt="#708090",xlt="#fffafa",wlt="#00ff7f",Slt="#4682b4",Tlt="#d2b48c",Clt="#008080",Elt="#d8bfd8",Alt="#ff6347",Plt="#40e0d0",klt="#ee82ee",Dlt="#f5deb3",Ilt="#ffffff",Rlt="#f5f5f5",Olt="#ffff00",Mlt="#9acd32",Llt={aliceblue:Yst,antiquewhite:Kst,aqua:Zst,aquamarine:Qst,azure:Jst,beige:eat,bisque:tat,black:nat,blanchedalmond:rat,blue:iat,blueviolet:sat,brown:aat,burlywood:oat,cadetblue:lat,chartreuse:uat,chocolate:cat,coral:dat,cornflowerblue:fat,cornsilk:hat,crimson:pat,cyan:mat,darkblue:gat,darkcyan:vat,darkgoldenrod:yat,darkgray:_at,darkgreen:bat,darkgrey:xat,darkkhaki:wat,darkmagenta:Sat,darkolivegreen:Tat,darkorange:Cat,darkorchid:Eat,darkred:Aat,darksalmon:Pat,darkseagreen:kat,darkslateblue:Dat,darkslategray:Iat,darkslategrey:Rat,darkturquoise:Oat,darkviolet:Mat,deeppink:Lat,deepskyblue:$at,dimgray:Nat,dimgrey:Fat,dodgerblue:Bat,firebrick:Uat,floralwhite:Vat,forestgreen:zat,fuchsia:Hat,gainsboro:jat,ghostwhite:Gat,goldenrod:Wat,gold:qat,gray:Xat,green:Yat,greenyellow:Kat,grey:Zat,honeydew:Qat,hotpink:Jat,indianred:eot,indigo:tot,ivory:not,khaki:rot,lavenderblush:iot,lavender:sot,lawngreen:aot,lemonchiffon:oot,lightblue:lot,lightcoral:uot,lightcyan:cot,lightgoldenrodyellow:dot,lightgray:fot,lightgreen:hot,lightgrey:pot,lightpink:mot,lightsalmon:got,lightseagreen:vot,lightskyblue:yot,lightslategray:_ot,lightslategrey:bot,lightsteelblue:xot,lightyellow:wot,lime:Sot,limegreen:Tot,linen:Cot,magenta:Eot,maroon:Aot,mediumaquamarine:Pot,mediumblue:kot,mediumorchid:Dot,mediumpurple:Iot,mediumseagreen:Rot,mediumslateblue:Oot,mediumspringgreen:Mot,mediumturquoise:Lot,mediumvioletred:$ot,midnightblue:Not,mintcream:Fot,mistyrose:Bot,moccasin:Uot,navajowhite:Vot,navy:zot,oldlace:Hot,olive:jot,olivedrab:Got,orange:Wot,orangered:qot,orchid:Xot,palegoldenrod:Yot,palegreen:Kot,paleturquoise:Zot,palevioletred:Qot,papayawhip:Jot,peachpuff:elt,peru:tlt,pink:nlt,plum:rlt,powderblue:ilt,purple:slt,rebeccapurple:alt,red:olt,rosybrown:llt,royalblue:ult,saddlebrown:clt,salmon:dlt,sandybrown:flt,seagreen:hlt,seashell:plt,sienna:mlt,silver:glt,skyblue:vlt,slateblue:ylt,slategray:_lt,slategrey:blt,snow:xlt,springgreen:wlt,steelblue:Slt,tan:Tlt,teal:Clt,thistle:Elt,tomato:Alt,turquoise:Plt,violet:klt,wheat:Dlt,white:Ilt,whitesmoke:Rlt,yellow:Olt,yellowgreen:Mlt};function Bm(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function W$(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function q$(t){return typeof t=="string"&&(t=Llt[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function $lt(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function Nlt(){for(var t=[],e=[],n=0;n<32;n++)t[n]=n,e[n]=n;t[br.NORMAL_NPM]=br.NORMAL,t[br.ADD_NPM]=br.ADD,t[br.SCREEN_NPM]=br.SCREEN,e[br.NORMAL]=br.NORMAL_NPM,e[br.ADD]=br.ADD_NPM,e[br.SCREEN]=br.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}var X$=Nlt();function Y$(t,e){return X$[e?1:0][t]}function poe(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function ZA(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function K$(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}function moe(t,e){e===void 0&&(e=null);var n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function QA(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var Flt={Float32Array,Uint32Array,Int32Array,Uint8Array};function Blt(t,e){for(var n=0,r=0,i={},s=0;s<t.length;s++)r+=e[s],n+=t[s].length;for(var a=new ArrayBuffer(n*4),o=null,l=0,s=0;s<t.length;s++){var u=e[s],d=t[s],f=QA(d);i[f]||(i[f]=new Flt[f](a)),o=i[f];for(var h=0;h<d.length;h++){var g=(h/u|0)*r+l,v=h%u;o[g+v]=d[h]}l+=u}return new Float32Array(a)}function I1(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function GR(t){return!(t&t-1)&&!!t}function WR(t){var e=(t>65535?1:0)<<4;t>>>=e;var n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function vm(t,e,n){var r=t.length,i;if(!(e>=r||n===0)){n=e+n>r?r-e:n;var s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}}function nm(t){return t===0?0:t<0?-1:1}var Ult=0;function Bp(){return++Ult}var tG={};function sl(t,e,n){if(n===void 0&&(n=3),!tG[e]){var r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(r))),tG[e]=!0}}var qR={},wl=Object.create(null),Cu=Object.create(null);function Vlt(){var t;for(t in wl)wl[t].destroy();for(t in Cu)Cu[t].destroy()}function zlt(){var t;for(t in wl)delete wl[t];for(t in Cu)delete Cu[t]}var XR=function(){function t(e,n,r){this.canvas=Yn.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=r||Yn.RESOLUTION,this.resize(e,n)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,n){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(n*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function goe(t){var e=t.width,n=t.height,r=t.getContext("2d",{willReadFrequently:!0}),i=r.getImageData(0,0,e,n),s=i.data,a=s.length,o={top:null,left:null,right:null,bottom:null},l=null,u,d,f;for(u=0;u<a;u+=4)s[u+3]!==0&&(d=u/4%e,f=~~(u/4/e),o.top===null&&(o.top=f),(o.left===null||d<o.left)&&(o.left=d),(o.right===null||o.right<d)&&(o.right=d+1),(o.bottom===null||o.bottom<f)&&(o.bottom=f));return o.top!==null&&(e=o.right-o.left,n=o.bottom-o.top+1,l=r.getImageData(o.left,o.top,e,n)),{height:n,width:e,data:l}}var voe=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Hlt(t){var e=voe.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var Xw;function yoe(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,Xw||(Xw=document.createElement("a")),Xw.href=t;var n=wd.parse(Xw.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function R1(t,e){var n=Yn.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):e!==void 0?e:1}const jlt=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Cu,CanvasRenderTarget:XR,DATA_URI:voe,EventEmitter:mh,ProgramCache:qR,TextureCache:wl,clearTextureCache:zlt,correctBlendMode:Y$,createIndicesForQuads:moe,decomposeDataUri:Hlt,deprecation:sl,destroyTextureCache:Vlt,determineCrossOrigin:yoe,earcut:B$,getBufferType:QA,getResolutionOfUrl:R1,hex2rgb:Bm,hex2string:W$,interleaveTypedArrays:Blt,isMobile:Ou,isPow2:GR,isWebGLSupported:hoe,log2:WR,nextPow2:I1,path:doe,premultiplyBlendMode:X$,premultiplyRgba:poe,premultiplyTint:ZA,premultiplyTintToRgba:K$,removeItems:vm,rgb2hex:$lt,sayHello:foe,sign:nm,skipHello:Xst,string2hex:q$,trimCanvas:goe,uid:Bp,url:wd},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var O1=Math.PI*2,_oe=180/Math.PI,boe=Math.PI/180,Pa;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(Pa||(Pa={}));var rs=function(){function t(e,n){e===void 0&&(e=0),n===void 0&&(n=0),this.x=0,this.y=0,this.x=e,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.x=e,this.y=n,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Yw=[new rs,new rs,new rs,new rs],yi=function(){function t(e,n,r,i){e===void 0&&(e=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=Pa.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height},t.prototype.intersects=function(e,n){if(!n){var r=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=r)return!1;var s=this.y<e.y?e.y:this.y,a=this.bottom>e.bottom?e.bottom:this.bottom;return a>s}var o=this.left,l=this.right,u=this.top,d=this.bottom;if(l<=o||d<=u)return!1;var f=Yw[0].set(e.left,e.top),h=Yw[1].set(e.left,e.bottom),g=Yw[2].set(e.right,e.top),v=Yw[3].set(e.right,e.bottom);if(g.x<=f.x||h.y<=f.y)return!1;var p=Math.sign(n.a*n.d-n.b*n.c);if(p===0||(n.apply(f,f),n.apply(h,h),n.apply(g,g),n.apply(v,v),Math.max(f.x,h.x,g.x,v.x)<=o||Math.min(f.x,h.x,g.x,v.x)>=l||Math.max(f.y,h.y,g.y,v.y)<=u||Math.min(f.y,h.y,g.y,v.y)>=d))return!1;var _=p*(h.y-f.y),S=p*(f.x-h.x),C=_*o+S*u,T=_*l+S*u,A=_*o+S*d,P=_*l+S*d;if(Math.max(C,T,A,P)<=_*f.x+S*f.y||Math.min(C,T,A,P)>=_*v.x+S*v.y)return!1;var D=p*(f.y-g.y),R=p*(g.x-f.x),N=D*o+R*u,U=D*l+R*u,Y=D*o+R*d,H=D*l+R*d;return!(Math.max(N,U,Y,H)<=D*f.x+R*f.y||Math.min(N,U,Y,H)>=D*v.x+R*v.y)},t.prototype.pad=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this},t.prototype.fit=function(e){var n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this},t.prototype.ceil=function(e,n){e===void 0&&(e=1),n===void 0&&(n=.001);var r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),xoe=function(){function t(e,n,r){e===void 0&&(e=0),n===void 0&&(n=0),r===void 0&&(r=0),this.x=e,this.y=n,this.radius=r,this.type=Pa.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,n){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r},t.prototype.getBounds=function(){return new yi(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),woe=function(){function t(e,n,r,i){e===void 0&&(e=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=e,this.y=n,this.width=r,this.height=i,this.type=Pa.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,n){if(this.width<=0||this.height<=0)return!1;var r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1},t.prototype.getBounds=function(){return new yi(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),xb=function(){function t(){for(var e=arguments,n=[],r=0;r<arguments.length;r++)n[r]=e[r];var i=Array.isArray(n[0])?n[0]:n;if(typeof i[0]!="number"){for(var s=[],a=0,o=i.length;a<o;a++)s.push(i[a].x,i[a].y);i=s}this.points=i,this.type=Pa.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),n=new t(e);return n.closeStroke=this.closeStroke,n},t.prototype.contains=function(e,n){for(var r=!1,i=this.points.length/2,s=0,a=i-1;s<i;a=s++){var o=this.points[s*2],l=this.points[s*2+1],u=this.points[a*2],d=this.points[a*2+1],f=l>n!=d>n&&e<(u-o)*((n-l)/(d-l))+o;f&&(r=!r)}return r},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,n){return e+", "+n},"")+"]")},t}(),Soe=function(){function t(e,n,r,i,s){e===void 0&&(e=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),s===void 0&&(s=20),this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=Pa.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){var r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;var i=e-(this.x+r),s=n-(this.y+r),a=r*r;if(i*i+s*s<=a||(i=e-(this.x+this.width-r),i*i+s*s<=a)||(s=n-(this.y+this.height-r),i*i+s*s<=a)||(i=e-(this.x+r),i*i+s*s<=a))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),dp=function(){function t(e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=0),this._x=r,this._y=i,this.cb=e,this.scope=n}return t.prototype.clone=function(e,n){return e===void 0&&(e=this.cb),n===void 0&&(n=this.scope),new t(e,n,this._x,this._y)},t.prototype.set=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),As=function(){function t(e,n,r,i,s,a){e===void 0&&(e=1),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=1),s===void 0&&(s=0),a===void 0&&(a=0),this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=a}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,n,r,i,s,a){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=a,this},t.prototype.toArray=function(e,n){this.array||(this.array=new Float32Array(9));var r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(e,n){n=n||new rs;var r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n},t.prototype.applyInverse=function(e,n){n=n||new rs;var r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n},t.prototype.translate=function(e,n){return this.tx+=e,this.ty+=n,this},t.prototype.scale=function(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this},t.prototype.rotate=function(e){var n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,a=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=a*n-this.ty*r,this.ty=a*r+this.ty*n,this},t.prototype.append=function(e){var n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this},t.prototype.setTransform=function(e,n,r,i,s,a,o,l,u){return this.a=Math.cos(o+u)*s,this.b=Math.sin(o+u)*s,this.c=-Math.sin(o-l)*a,this.d=Math.cos(o-l)*a,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this},t.prototype.prepend=function(e){var n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var n=this.a,r=this.b,i=this.c,s=this.d,a=e.pivot,o=-Math.atan2(-i,s),l=Math.atan2(r,n),u=Math.abs(o+l);return u<1e-5||Math.abs(O1-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(a.x*n+a.y*i),e.position.y=this.ty+(a.x*r+a.y*s),e},t.prototype.invert=function(){var e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,a=e*i-n*r;return this.a=i/a,this.b=-n/a,this.c=-r/a,this.d=e/a,this.tx=(r*this.ty-i*s)/a,this.ty=-(e*this.ty-n*s)/a,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),L0=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],$0=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],N0=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],F0=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],YR=[],Toe=[],Kw=Math.sign;function Glt(){for(var t=0;t<16;t++){var e=[];YR.push(e);for(var n=0;n<16;n++)for(var r=Kw(L0[t]*L0[n]+N0[t]*$0[n]),i=Kw($0[t]*L0[n]+F0[t]*$0[n]),s=Kw(L0[t]*N0[n]+N0[t]*F0[n]),a=Kw($0[t]*N0[n]+F0[t]*F0[n]),o=0;o<16;o++)if(L0[o]===r&&$0[o]===i&&N0[o]===s&&F0[o]===a){e.push(o);break}}for(var t=0;t<16;t++){var l=new As;l.set(L0[t],$0[t],N0[t],F0[t],0,0),Toe.push(l)}}Glt();var Ts={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return L0[t]},uY:function(t){return $0[t]},vX:function(t){return N0[t]},vY:function(t){return F0[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return YR[t][e]},sub:function(t,e){return YR[t][Ts.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?Ts.S:Ts.N:Math.abs(e)*2<=Math.abs(t)?t>0?Ts.E:Ts.W:e>0?t>0?Ts.SE:Ts.SW:t>0?Ts.NE:Ts.NW},matrixAppendRotationInv:function(t,e,n,r){n===void 0&&(n=0),r===void 0&&(r=0);var i=Toe[Ts.inv(e)];i.tx=n,i.ty=r,t.append(i)}},JA=function(){function t(){this.worldTransform=new As,this.localTransform=new As,this.position=new dp(this.onChange,this,0,0),this.scale=new dp(this.onChange,this,1,1),this.pivot=new dp(this.onChange,this,0,0),this.skew=new dp(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var n=this.localTransform;if(this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var r=e.worldTransform,i=this.worldTransform;i.a=n.a*r.a+n.b*r.c,i.b=n.a*r.b+n.b*r.d,i.c=n.c*r.a+n.d*r.c,i.d=n.c*r.b+n.d*r.d,i.tx=n.tx*r.a+n.ty*r.c+r.tx,i.ty=n.tx*r.b+n.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Yn.SORTABLE_CHILDREN=!1;var M1=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?yi.EMPTY:(e=e||new yi(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,n){var r=e.a,i=e.b,s=e.c,a=e.d,o=e.tx,l=e.ty,u=r*n.x+s*n.y+o,d=i*n.x+a*n.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)},t.prototype.addQuad=function(e){var n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,a=e[0],o=e[1];n=a<n?a:n,r=o<r?o:r,i=a>i?a:i,s=o>s?o:s,a=e[2],o=e[3],n=a<n?a:n,r=o<r?o:r,i=a>i?a:i,s=o>s?o:s,a=e[4],o=e[5],n=a<n?a:n,r=o<r?o:r,i=a>i?a:i,s=o>s?o:s,a=e[6],o=e[7],n=a<n?a:n,r=o<r?o:r,i=a>i?a:i,s=o>s?o:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s},t.prototype.addFrame=function(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)},t.prototype.addFrameMatrix=function(e,n,r,i,s){var a=e.a,o=e.b,l=e.c,u=e.d,d=e.tx,f=e.ty,h=this.minX,g=this.minY,v=this.maxX,p=this.maxY,_=a*n+l*r+d,S=o*n+u*r+f;h=_<h?_:h,g=S<g?S:g,v=_>v?_:v,p=S>p?S:p,_=a*i+l*r+d,S=o*i+u*r+f,h=_<h?_:h,g=S<g?S:g,v=_>v?_:v,p=S>p?S:p,_=a*n+l*s+d,S=o*n+u*s+f,h=_<h?_:h,g=S<g?S:g,v=_>v?_:v,p=S>p?S:p,_=a*i+l*s+d,S=o*i+u*s+f,h=_<h?_:h,g=S<g?S:g,v=_>v?_:v,p=S>p?S:p,this.minX=h,this.minY=g,this.maxX=v,this.maxY=p},t.prototype.addVertexData=function(e,n,r){for(var i=this.minX,s=this.minY,a=this.maxX,o=this.maxY,l=n;l<r;l+=2){var u=e[l],d=e[l+1];i=u<i?u:i,s=d<s?d:s,a=u>a?u:a,o=d>o?d:o}this.minX=i,this.minY=s,this.maxX=a,this.maxY=o},t.prototype.addVertices=function(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)},t.prototype.addVerticesMatrix=function(e,n,r,i,s,a){s===void 0&&(s=0),a===void 0&&(a=s);for(var o=e.a,l=e.b,u=e.c,d=e.d,f=e.tx,h=e.ty,g=this.minX,v=this.minY,p=this.maxX,_=this.maxY,S=r;S<i;S+=2){var C=n[S],T=n[S+1],A=o*C+u*T+f,P=d*T+l*C+h;g=Math.min(g,A-s),p=Math.max(p,A+s),v=Math.min(v,P-a),_=Math.max(_,P+a)}this.minX=g,this.minY=v,this.maxX=p,this.maxY=_},t.prototype.addBounds=function(e){var n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s},t.prototype.addBoundsMask=function(e,n){var r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,a=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=a){var o=this.minX,l=this.minY,u=this.maxX,d=this.maxY;this.minX=r<o?r:o,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=a>d?a:d}},t.prototype.addBoundsMatrix=function(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,n){var r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,a=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=a){var o=this.minX,l=this.minY,u=this.maxX,d=this.maxY;this.minX=r<o?r:o,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=a>d?a:d}},t.prototype.pad=function(e,n){e===void 0&&(e=0),n===void 0&&(n=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)},t.prototype.addFramePad=function(e,n,r,i,s,a){e-=s,n-=a,r+=s,i+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var KR=function(t,e){return KR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},KR(t,e)};function Z$(t,e){KR(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ys=function(t){Z$(e,t);function e(){var n=t.call(this)||this;return n.tempDisplayObjectParent=null,n.transform=new JA,n.alpha=1,n.visible=!0,n.renderable=!0,n.cullable=!1,n.cullArea=null,n.parent=null,n.worldAlpha=1,n._lastSortedIndex=0,n._zIndex=0,n.filterArea=null,n.filters=null,n._enabledFilters=null,n._bounds=new M1,n._localBounds=null,n._boundsID=0,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._maskRefCount=0,n._destroyed=!1,n.isSprite=!1,n.isMask=!1,n}return e.mixin=function(n){for(var r=Object.keys(n),i=0;i<r.length;++i){var s=r[i];Object.defineProperty(e.prototype,s,Object.getOwnPropertyDescriptor(n,s))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(n,r){return n||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new yi),r=this._boundsRect),this._bounds.getRectangle(r)},e.prototype.getLocalBounds=function(n){n||(this._localBoundsRect||(this._localBoundsRect=new yi),n=this._localBoundsRect),this._localBounds||(this._localBounds=new M1);var r=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,n);return this.parent=i,this.transform=r,this._bounds=s,this._bounds.updateID+=this._boundsID-a,o},e.prototype.toGlobal=function(n,r,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(n,r)},e.prototype.toLocal=function(n,r,i,s){return r&&(n=r.toGlobal(n,i,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(n,i)},e.prototype.setParent=function(n){if(!n||!n.addChild)throw new Error("setParent: Argument must be a Container");return n.addChild(this),n},e.prototype.setTransform=function(n,r,i,s,a,o,l,u,d){return n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=1),s===void 0&&(s=1),a===void 0&&(a=0),o===void 0&&(o=0),l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),this.position.x=n,this.position.y=r,this.scale.x=i||1,this.scale.y=s||1,this.rotation=a,this.skew.x=o,this.skew.y=l,this.pivot.x=u,this.pivot.y=d,this},e.prototype.destroy=function(n){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Q$),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var n=this.parent;return this.parent=this._tempDisplayObjectParent,n},e.prototype.disableTempParent=function(n){this.parent=n},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(n){this.transform.position.x=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(n){this.transform.position.y=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(n){this.transform.position.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(n){this.transform.scale.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(n){this.transform.pivot.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(n){this.transform.skew.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(n){this.transform.rotation=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*_oe},set:function(n){this.transform.rotation=n*boe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(n){this._zIndex=n,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var n=this;do{if(!n.visible)return!1;n=n.parent}while(n);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(n){if(this._mask!==n){if(this._mask){var r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=n,this._mask){var r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}},enumerable:!1,configurable:!0}),e}(mh),Q$=function(t){Z$(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.sortDirty=null,n}return e}(Ys);Ys.prototype.displayObjectUpdateTransform=Ys.prototype.updateTransform;function Wlt(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var Ku=function(t){Z$(e,t);function e(){var n=t.call(this)||this;return n.children=[],n.sortableChildren=Yn.SORTABLE_CHILDREN,n.sortDirty=!1,n}return e.prototype.onChildrenChange=function(n){},e.prototype.addChild=function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];if(r.length>1)for(var s=0;s<r.length;s++)this.addChild(r[s]);else{var a=r[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return r[0]},e.prototype.addChildAt=function(n,r){if(r<0||r>this.children.length)throw new Error(n+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length);return n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.splice(r,0,n),this._boundsID++,this.onChildrenChange(r),n.emit("added",this),this.emit("childAdded",n,this,r),n},e.prototype.swapChildren=function(n,r){if(n!==r){var i=this.getChildIndex(n),s=this.getChildIndex(r);this.children[i]=r,this.children[s]=n,this.onChildrenChange(i<s?i:s)}},e.prototype.getChildIndex=function(n){var r=this.children.indexOf(n);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r},e.prototype.setChildIndex=function(n,r){if(r<0||r>=this.children.length)throw new Error("The index "+r+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(n);vm(this.children,i,1),this.children.splice(r,0,n),this.onChildrenChange(r)},e.prototype.getChildAt=function(n){if(n<0||n>=this.children.length)throw new Error("getChildAt: Index ("+n+") does not exist.");return this.children[n]},e.prototype.removeChild=function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];if(r.length>1)for(var s=0;s<r.length;s++)this.removeChild(r[s]);else{var a=r[0],o=this.children.indexOf(a);if(o===-1)return null;a.parent=null,a.transform._parentID=-1,vm(this.children,o,1),this._boundsID++,this.onChildrenChange(o),a.emit("removed",this),this.emit("childRemoved",a,this,o)}return r[0]},e.prototype.removeChildAt=function(n){var r=this.getChildAt(n);return r.parent=null,r.transform._parentID=-1,vm(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n),r},e.prototype.removeChildren=function(n,r){n===void 0&&(n=0),r===void 0&&(r=this.children.length);var i=n,s=r,a=s-i,o;if(a>0&&a<=s){o=this.children.splice(i,a);for(var l=0;l<o.length;++l)o[l].parent=null,o[l].transform&&(o[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(n);for(var l=0;l<o.length;++l)o[l].emit("removed",this),this.emit("childRemoved",o[l],this,l);return o}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var n=!1,r=0,i=this.children.length;r<i;++r){var s=this.children[r];s._lastSortedIndex=r,!n&&s.zIndex!==0&&(n=!0)}n&&this.children.length>1&&this.children.sort(Wlt),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var n=0,r=this.children.length;n<r;++n){var i=this.children[n];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var n=0;n<this.children.length;n++){var r=this.children[n];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){var i=r._mask.isMaskData?r._mask.maskObject:r._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(r._bounds,i._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(n,r){r===void 0&&(r=!1);var i=t.prototype.getLocalBounds.call(this,n);if(!r)for(var s=0,a=this.children.length;s<a;++s){var o=this.children[s];o.visible&&o.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(n){var r=n.renderTexture.sourceFrame;if(r.width>0&&r.height>0){var i,s;if(this.cullArea?(i=this.cullArea,s=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&r.intersects(i,s))this._render(n);else if(this.cullArea)return;for(var a=0,o=this.children.length;a<o;++a){var l=this.children[a],u=l.cullable;l.cullable=u||!this.cullArea,l.render(n),l.cullable=u}}},e.prototype.render=function(n){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(n);else if(this.cullable)this._renderWithCulling(n);else{this._render(n);for(var r=0,i=this.children.length;r<i;++r)this.children[r].render(n)}},e.prototype.renderAdvanced=function(n){var r=this.filters,i=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<r.length;s++)r[s].enabled&&this._enabledFilters.push(r[s])}var a=r&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Qs.NONE));if(a&&n.batch.flush(),r&&this._enabledFilters&&this._enabledFilters.length&&n.filter.push(this,this._enabledFilters),i&&n.mask.push(this,this._mask),this.cullable)this._renderWithCulling(n);else{this._render(n);for(var s=0,o=this.children.length;s<o;++s)this.children[s].render(n)}a&&n.batch.flush(),i&&n.mask.pop(this),r&&this._enabledFilters&&this._enabledFilters.length&&n.filter.pop()},e.prototype._render=function(n){},e.prototype.destroy=function(n){t.prototype.destroy.call(this),this.sortDirty=!1;var r=typeof n=="boolean"?n:n&&n.children,i=this.removeChildren(0,this.children.length);if(r)for(var s=0;s<i.length;++s)i[s].destroy(n)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(n){var r=this.getLocalBounds().width;r!==0?this.scale.x=n/r:this.scale.x=1,this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(n){var r=this.getLocalBounds().height;r!==0?this.scale.y=n/r:this.scale.y=1,this._height=n},enumerable:!1,configurable:!0}),e}(Ys);Ku.prototype.containerUpdateTransform=Ku.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wb=function(){return wb=Object.assign||function(e){for(var n=arguments,r,i=1,s=arguments.length;i<s;i++){r=n[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wb.apply(this,arguments)},Wi;(function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"})(Wi||(Wi={}));var nG=function(t){if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var e=typeof t.extension!="object"?{type:t.extension}:t.extension;t=wb(wb({},e),{ref:t})}if(typeof t=="object")t=wb({},t);else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},qd={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,e=this,n=[],r=0;r<arguments.length;r++)n[r]=t[r];return n.map(nG).forEach(function(i){i.type.forEach(function(s){var a,o;return(o=(a=e._removeHandlers)[s])===null||o===void 0?void 0:o.call(a,i)})}),this},add:function(){for(var t=arguments,e=this,n=[],r=0;r<arguments.length;r++)n[r]=t[r];return n.map(nG).forEach(function(i){i.type.forEach(function(s){var a=e._addHandlers,o=e._queue;a[s]?a[s](i):(o[s]=o[s]||[],o[s].push(i))})}),this},handle:function(t,e,n){var r=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(r[t]||i[t])throw new Error("Extension type "+t+" already has a handler");r[t]=e,i[t]=n;var s=this._queue;return s[t]&&(s[t].forEach(function(a){return e(a)}),delete s[t]),this},handleByMap:function(t,e){return this.handle(t,function(n){e[n.name]=n.ref},function(n){delete e[n.name]})},handleByList:function(t,e){return this.handle(t,function(n){var r,i;e.includes(n.ref)||(e.push(n.ref),t===Wi.Loader&&((i=(r=n.ref).add)===null||i===void 0||i.call(r)))},function(n){var r=e.indexOf(n.ref);r!==-1&&e.splice(r,1)})}};/*!
 * @pixi/runner - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Va=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,n,r,i,s,a,o,l){if(arguments.length>8)throw new Error("max arguments reached");var u=this,d=u.name,f=u.items;this._aliasCount++;for(var h=0,g=f.length;h<g;h++)f[h][d](e,n,r,i,s,a,o,l);return f===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Va.prototype,{dispatch:{value:Va.prototype.emit},run:{value:Va.prototype.emit}});/*!
 * @pixi/ticker - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Yn.TARGET_FPMS=.06;var Bd;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(Bd||(Bd={}));var dk=function(){function t(e,n,r,i){n===void 0&&(n=null),r===void 0&&(r=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}return t.prototype.match=function(e,n){return n===void 0&&(n=null),this.fn===e&&this.context===n},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var n=this.next;return this.next=e?null:n,this.previous=null,n},t}(),za=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new dk(null,null,1/0),this.deltaMS=1/Yn.TARGET_FPMS,this.elapsedMS=1/Yn.TARGET_FPMS,this._tick=function(n){e._requestId=null,e.started&&(e.update(n),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,n,r){return r===void 0&&(r=Bd.NORMAL),this._addListener(new dk(e,n,r))},t.prototype.addOnce=function(e,n,r){return r===void 0&&(r=Bd.NORMAL),this._addListener(new dk(e,n,r,!0))},t.prototype._addListener=function(e){var n=this._head.next,r=this._head;if(!n)e.connect(r);else{for(;n;){if(e.priority>n.priority){e.connect(r);break}r=n,n=n.next}e.previous||e.connect(r)}return this._startIfPossible(),this},t.prototype.remove=function(e,n){for(var r=this._head.next;r;)r.match(e,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,n=this._head;n=n.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var n;if(e>this.lastTime){if(n=this.elapsedMS=e-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){var r=e-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=e-r%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*Yn.TARGET_FPMS;for(var i=this._head,s=i.next;s;)s=s.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var n=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,n)/1e3,Yn.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var n=Math.max(this.minFPS,e);this._minElapsedMS=1/(n/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Coe=function(){function t(){}return t.init=function(e){var n=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Bd.LOW)},get:function(){return this._ticker}}),this.stop=function(){n._ticker.stop()},this.start=function(){n._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?za.shared:new za,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t.extension=Wi.Application,t}();/*!
 * @pixi/core - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Yn.PREFER_ENV=Ou.any?Fd.WEBGL:Fd.WEBGL2;Yn.STRICT_TEXTURE_CACHE=!1;var L1=[];function e3(t,e){if(!t)return null;var n="";if(typeof t=="string"){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(var i=L1.length-1;i>=0;--i){var s=L1[i];if(s.test&&s.test(t,n))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZR=function(t,e){return ZR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},ZR(t,e)};function ps(t,e){ZR(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var QR=function(){return QR=Object.assign||function(e){for(var n=arguments,r,i=1,s=arguments.length;i<s;i++){r=n[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},QR.apply(this,arguments)};function qlt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Um=function(){function t(e,n){e===void 0&&(e=0),n===void 0&&(n=0),this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new Va("setRealSize"),this.onUpdate=new Va("update"),this.onError=new Va("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,n,r){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,n){return!1},t}(),ig=function(t){ps(e,t);function e(n,r){var i=this,s=r||{},a=s.width,o=s.height;if(!a||!o)throw new Error("BufferResource width or height invalid");return i=t.call(this,a,o)||this,i.data=n,i}return e.prototype.upload=function(n,r,i){var s=n.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Yu.UNPACK);var a=r.realWidth,o=r.realHeight;return i.width===a&&i.height===o?s.texSubImage2D(r.target,0,0,0,a,o,r.format,i.type,this.data):(i.width=a,i.height=o,s.texImage2D(r.target,0,i.internalFormat,a,o,0,r.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(n){return n instanceof Float32Array||n instanceof Uint8Array||n instanceof Uint32Array},e}(Um),Xlt={scaleMode:dc.NEAREST,format:$n.RGBA,alphaMode:Yu.NPM},gi=function(t){ps(e,t);function e(n,r){n===void 0&&(n=null),r===void 0&&(r=null);var i=t.call(this)||this;r=r||{};var s=r.alphaMode,a=r.mipmap,o=r.anisotropicLevel,l=r.scaleMode,u=r.width,d=r.height,f=r.wrapMode,h=r.format,g=r.type,v=r.target,p=r.resolution,_=r.resourceOptions;return n&&!(n instanceof Um)&&(n=e3(n,_),n.internal=!0),i.resolution=p||Yn.RESOLUTION,i.width=Math.round((u||0)*i.resolution)/i.resolution,i.height=Math.round((d||0)*i.resolution)/i.resolution,i._mipmap=a!==void 0?a:Yn.MIPMAP_TEXTURES,i.anisotropicLevel=o!==void 0?o:Yn.ANISOTROPIC_LEVEL,i._wrapMode=f||Yn.WRAP_MODE,i._scaleMode=l!==void 0?l:Yn.SCALE_MODE,i.format=h||$n.RGBA,i.type=g||yr.UNSIGNED_BYTE,i.target=v||_p.TEXTURE_2D,i.alphaMode=s!==void 0?s:Yu.UNPACK,i.uid=Bp(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=u>0&&d>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(n),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(n){this._mipmap!==n&&(this._mipmap=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(n){this._scaleMode!==n&&(this._scaleMode=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(n){this._wrapMode!==n&&(this._wrapMode=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(n,r){var i;return n!==void 0&&n!==this.scaleMode&&(this.scaleMode=n,i=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(n,r,i){return i=i||this.resolution,this.setRealSize(n*i,r*i,i)},e.prototype.setRealSize=function(n,r,i){return this.resolution=i||this.resolution,this.width=Math.round(n)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=GR(this.realWidth)&&GR(this.realHeight)},e.prototype.setResolution=function(n){var r=this.resolution;return r===n?this:(this.resolution=n,this.valid&&(this.width=Math.round(this.width*r)/n,this.height=Math.round(this.height*r)/n,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(n){if(this.resource===n)return this;if(this.resource)throw new Error("Resource can be set only once");return n.bind(this),this.resource=n,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(n){this.emit("error",this,n)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Cu[this.cacheId],delete wl[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(n,r,i){i===void 0&&(i=Yn.STRICT_TEXTURE_CACHE);var s=typeof n=="string",a=null;if(s)a=n;else{if(!n._pixiId){var o=r&&r.pixiIdPrefix||"pixiid";n._pixiId=o+"_"+Bp()}a=n._pixiId}var l=Cu[a];if(s&&i&&!l)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return l||(l=new e(n,r),l.cacheId=a,e.addToCache(l,a)),l},e.fromBuffer=function(n,r,i,s){n=n||new Float32Array(r*i*4);var a=new ig(n,{width:r,height:i}),o=n instanceof Float32Array?yr.FLOAT:yr.UNSIGNED_BYTE;return new e(a,Object.assign({},Xlt,s||{width:r,height:i,type:o}))},e.addToCache=function(n,r){r&&(n.textureCacheIds.indexOf(r)===-1&&n.textureCacheIds.push(r),Cu[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),Cu[r]=n)},e.removeFromCache=function(n){if(typeof n=="string"){var r=Cu[n];if(r){var i=r.textureCacheIds.indexOf(n);return i>-1&&r.textureCacheIds.splice(i,1),delete Cu[n],r}}else if(n&&n.textureCacheIds){for(var s=0;s<n.textureCacheIds.length;++s)delete Cu[n.textureCacheIds[s]];return n.textureCacheIds.length=0,n}return null},e._globalBatch=0,e}(mh),t3=function(t){ps(e,t);function e(n,r){var i=this,s=r||{},a=s.width,o=s.height;i=t.call(this,a,o)||this,i.items=[],i.itemDirtyIds=[];for(var l=0;l<n;l++){var u=new gi;i.items.push(u),i.itemDirtyIds.push(-2)}return i.length=n,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(n,r){for(var i=0;i<this.length;i++)n[i]&&(n[i].castToBaseTexture?this.addBaseTextureAt(n[i].castToBaseTexture(),i):n[i]instanceof Um?this.addResourceAt(n[i],i):this.addResourceAt(e3(n[i],r),i))},e.prototype.dispose=function(){for(var n=0,r=this.length;n<r;n++)this.items[n].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(n,r){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");return n.valid&&!this.valid&&this.resize(n.width,n.height),this.items[r].setResource(n),this},e.prototype.bind=function(n){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,n);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=n,this.items[r].on("update",n.update,n)},e.prototype.unbind=function(n){t.prototype.unbind.call(this,n);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",n.update,n)},e.prototype.load=function(){var n=this;if(this._load)return this._load;var r=this.items.map(function(s){return s.resource}).filter(function(s){return s}),i=r.map(function(s){return s.load()});return this._load=Promise.all(i).then(function(){var s=n.items[0],a=s.realWidth,o=s.realHeight;return n.resize(a,o),Promise.resolve(n)}),this._load},e}(Um),J$=function(t){ps(e,t);function e(n,r){var i=this,s=r||{},a=s.width,o=s.height,l,u;return Array.isArray(n)?(l=n,u=n.length):u=n,i=t.call(this,u,{width:a,height:o})||this,l&&i.initFromArray(l,r),i}return e.prototype.addBaseTextureAt=function(n,r){if(n.resource)this.addResourceAt(n.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(n){t.prototype.bind.call(this,n),n.target=_p.TEXTURE_2D_ARRAY},e.prototype.upload=function(n,r,i){var s=this,a=s.length,o=s.itemDirtyIds,l=s.items,u=n.gl;i.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,a,0,r.format,i.type,null);for(var d=0;d<a;d++){var f=l[d];o[d]<f.dirtyId&&(o[d]=f.dirtyId,f.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,d,f.resource.width,f.resource.height,1,r.format,i.type,f.resource.source))}return!0},e}(t3),Ud=function(t){ps(e,t);function e(n){var r=this,i=n,s=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return r=t.call(this,s,a)||this,r.source=n,r.noSubImage=!1,r}return e.crossOrigin=function(n,r,i){i===void 0&&r.indexOf("data:")!==0?n.crossOrigin=yoe(r):i!==!1&&(n.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(n,r,i,s){var a=n.gl,o=r.realWidth,l=r.realHeight;if(s=s||this.source,s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Yu.UNPACK),!this.noSubImage&&r.target===a.TEXTURE_2D&&i.width===o&&i.height===l?a.texSubImage2D(a.TEXTURE_2D,0,0,0,r.format,i.type,s):(i.width=o,i.height=l,a.texImage2D(r.target,0,i.internalFormat,r.format,i.type,s)),!0},e.prototype.update=function(){if(!this.destroyed){var n=this.source,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;this.resize(r,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Um),e5=function(t){ps(e,t);function e(n){return t.call(this,n)||this}return e.test=function(n){var r=globalThis.OffscreenCanvas;return r&&n instanceof r?!0:globalThis.HTMLCanvasElement&&n instanceof HTMLCanvasElement},e}(Ud),t5=function(t){ps(e,t);function e(n,r){var i=this,s=r||{},a=s.width,o=s.height,l=s.autoLoad,u=s.linkBaseTexture;if(n&&n.length!==e.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");i=t.call(this,6,{width:a,height:o})||this;for(var d=0;d<e.SIDES;d++)i.items[d].target=_p.TEXTURE_CUBE_MAP_POSITIVE_X+d;return i.linkBaseTexture=u!==!1,n&&i.initFromArray(n,r),l!==!1&&i.load(),i}return e.prototype.bind=function(n){t.prototype.bind.call(this,n),n.target=_p.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(n,r,i){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||n.parentTextureArray||Object.keys(n._glTextures).length>0)if(n.resource)this.addResourceAt(n.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else n.target=_p.TEXTURE_CUBE_MAP_POSITIVE_X+r,n.parentTextureArray=this.baseTexture,this.items[r]=n;return n.valid&&!this.valid&&this.resize(n.realWidth,n.realHeight),this.items[r]=n,this},e.prototype.upload=function(n,r,i){for(var s=this.itemDirtyIds,a=0;a<e.SIDES;a++){var o=this.items[a];(s[a]<o.dirtyId||i.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(n,o,i),s[a]=o.dirtyId):s[a]<-1&&(n.gl.texImage2D(o.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),s[a]=-1))}return!0},e.test=function(n){return Array.isArray(n)&&n.length===e.SIDES},e.SIDES=6,e}(t3),n3=function(t){ps(e,t);function e(n,r){var i=this;if(r=r||{},!(n instanceof HTMLImageElement)){var s=new Image;Ud.crossOrigin(s,n,r.crossorigin),s.src=n,n=s}return i=t.call(this,n)||this,!n.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=n.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(r.createBitmap!==void 0?r.createBitmap:Yn.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,i.bitmap=null,i._load=null,r.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(n){var r=this;return this._load?this._load:(n!==void 0&&(this.createBitmap=n),this._load=new Promise(function(i,s){var a=r.source;r.url=a.src;var o=function(){r.destroyed||(a.onload=null,a.onerror=null,r.resize(a.width,a.height),r._load=null,r.createBitmap?i(r.process()):i(r))};a.complete&&a.src?o():(a.onload=o,a.onerror=function(l){s(l),r.onError.emit(l)})}),this._load)},e.prototype.process=function(){var n=this,r=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,s=!r.crossOrigin||r.crossOrigin==="anonymous";return this._process=fetch(r.src,{mode:s?"cors":"no-cors"}).then(function(a){return a.blob()}).then(function(a){return i(a,0,0,r.width,r.height,{premultiplyAlpha:n.alphaMode===null||n.alphaMode===Yu.UNPACK?"premultiply":"none"})}).then(function(a){return n.destroyed?Promise.reject():(n.bitmap=a,n.update(),n._process=null,Promise.resolve(n))}),this._process},e.prototype.upload=function(n,r,i){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,n,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,n,r,i,this.bitmap),!this.preserveBitmap){var s=!0,a=r._glTextures;for(var o in a){var l=a[o];if(l!==i&&l.dirtyId!==r.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(n){return typeof n=="string"||n instanceof HTMLImageElement},e}(Ud),n5=function(t){ps(e,t);function e(n,r){var i=this;return r=r||{},i=t.call(this,Yn.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=n,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,r.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var n=this;return this._load?this._load:(this._load=new Promise(function(r){if(n._resolve=function(){n.resize(n.source.width,n.source.height),r(n)},e.SVG_XML.test(n.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");n.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n.svg)))}n._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var n=this,r=new Image;Ud.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(i){n._resolve&&(r.onerror=null,n.onError.emit(i))},r.onload=function(){if(n._resolve){var i=r.width,s=r.height;if(!i||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=i*n.scale,o=s*n.scale;(n._overrideWidth||n._overrideHeight)&&(a=n._overrideWidth||n._overrideHeight/s*i,o=n._overrideHeight||n._overrideWidth/i*s),a=Math.round(a),o=Math.round(o);var l=n.source;l.width=a,l.height=o,l._pixiId="canvas_"+Bp(),l.getContext("2d").drawImage(r,0,0,i,s,0,0,a,o),n._resolve(),n._resolve=null}}},e.getSize=function(n){var r=e.SVG_SIZE.exec(n),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(n,r){return r==="svg"||typeof n=="string"&&n.startsWith("data:image/svg+xml")||typeof n=="string"&&e.SVG_XML.test(n)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(Ud),r5=function(t){ps(e,t);function e(n,r){var i=this;if(r=r||{},!(n instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),typeof n=="string"&&(n=[n]);var a=n[0].src||n[0];Ud.crossOrigin(s,a,r.crossorigin);for(var o=0;o<n.length;++o){var l=document.createElement("source"),u=n[o],d=u.src,f=u.mime;d=d||n[o];var h=d.split("?").shift().toLowerCase(),g=h.slice(h.lastIndexOf(".")+1);f=f||e.MIME_TYPES[g]||"video/"+g,l.src=d,l.type=f,s.appendChild(l)}n=s}return i=t.call(this,n)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=r.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),r.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(n){if(!this.destroyed){var r=za.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var n=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){n.valid?i(n):(n._resolve=i,r.load())}),this._load},e.prototype._onError=function(n){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(n)},e.prototype._isSourcePlaying=function(){var n=this.source;return!n.paused&&!n.ended&&this._isSourceReady()},e.prototype._isSourceReady=function(){var n=this.source;return n.readyState>2},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(za.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(za.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var n=this.source;n.removeEventListener("canplay",this._onCanPlay),n.removeEventListener("canplaythrough",this._onCanPlay);var r=this.valid;this.resize(n.videoWidth,n.videoHeight),!r&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&n.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(za.shared.remove(this.update,this),this._isConnectedToTicker=!1);var n=this.source;n&&(n.removeEventListener("error",this._onError,!0),n.pause(),n.src="",n.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(n){n!==this._autoUpdate&&(this._autoUpdate=n,!this._autoUpdate&&this._isConnectedToTicker?(za.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(za.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(n){n!==this._updateFPS&&(this._updateFPS=n)},enumerable:!1,configurable:!0}),e.test=function(n,r){return globalThis.HTMLVideoElement&&n instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(Ud),i5=function(t){ps(e,t);function e(n){return t.call(this,n)||this}return e.test=function(n){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&n instanceof ImageBitmap},e}(Ud);L1.push(n3,i5,e5,r5,n5,ig,t5,J$);var Eoe={__proto__:null,Resource:Um,BaseImageResource:Ud,INSTALLED:L1,autoDetectResource:e3,AbstractMultiResource:t3,ArrayResource:J$,BufferResource:ig,CanvasResource:e5,CubeResource:t5,ImageResource:n3,SVGResource:n5,VideoResource:r5,ImageBitmapResource:i5},Ylt=function(t){ps(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(n,r,i){var s=n.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Yu.UNPACK);var a=r.realWidth,o=r.realHeight;return i.width===a&&i.height===o?s.texSubImage2D(r.target,0,0,0,a,o,r.format,i.type,this.data):(i.width=a,i.height=o,s.texImage2D(r.target,0,i.internalFormat,a,o,0,r.format,i.type,this.data)),!0},e}(ig),qC=function(){function t(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Va("disposeFramebuffer"),this.multisample=ys.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,n){return e===void 0&&(e=0),this.colorTextures[e]=n||new gi(null,{scaleMode:dc.NEAREST,resolution:1,mipmap:Xu.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new gi(new Ylt(null,{width:this.width,height:this.height}),{scaleMode:dc.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Xu.OFF,format:$n.DEPTH_COMPONENT,type:yr.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(e/s,n/s)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),s5=function(t){ps(e,t);function e(n){n===void 0&&(n={});var r=this;if(typeof n=="number"){var i=arguments[0],s=arguments[1],a=arguments[2],o=arguments[3];n={width:i,height:s,scaleMode:a,resolution:o}}return n.width=n.width||100,n.height=n.height||100,n.multisample=n.multisample!==void 0?n.multisample:ys.NONE,r=t.call(this,null,n)||this,r.mipmap=Xu.OFF,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new qC(r.realWidth,r.realHeight).addColorTexture(0,r),r.framebuffer.multisample=n.multisample,r.maskStack=[],r.filterStack=[{}],r}return e.prototype.resize=function(n,r){this.framebuffer.resize(n*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(gi),a5=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,n,r){var i=n.width,s=n.height;if(r){var a=e.width/2/i,o=e.height/2/s,l=e.x/i+a,u=e.y/s+o;r=Ts.add(r,Ts.NW),this.x0=l+a*Ts.uX(r),this.y0=u+o*Ts.uY(r),r=Ts.add(r,2),this.x1=l+a*Ts.uX(r),this.y1=u+o*Ts.uY(r),r=Ts.add(r,2),this.x2=l+a*Ts.uX(r),this.y2=u+o*Ts.uY(r),r=Ts.add(r,2),this.x3=l+a*Ts.uX(r),this.y3=u+o*Ts.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),rG=new a5;function Zw(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var Or=function(t){ps(e,t);function e(n,r,i,s,a,o){var l=t.call(this)||this;if(l.noFrame=!1,r||(l.noFrame=!0,r=new yi(0,0,1,1)),n instanceof e&&(n=n.baseTexture),l.baseTexture=n,l._frame=r,l.trim=s,l.valid=!1,l._uvs=rG,l.uvMatrix=null,l.orig=i||r,l._rotate=Number(a||0),a===!0)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=o?new rs(o.x,o.y):new rs(0,0),l._updateID=0,l.textureCacheIds=[],n.valid?l.noFrame?n.valid&&l.onBaseTextureUpdated(n):l.frame=r:n.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&n.on("update",l.onBaseTextureUpdated,l),l}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(n){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=n.width,this._frame.height=n.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(n){if(this.baseTexture){if(n){var r=this.baseTexture.resource;r&&r.url&&wl[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var n=this._frame.clone(),r=this._frame===this.orig?n:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&n,r,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=n),i},e.prototype.updateUvs=function(){this._uvs===rG&&(this._uvs=new a5),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(n,r,i){r===void 0&&(r={}),i===void 0&&(i=Yn.STRICT_TEXTURE_CACHE);var s=typeof n=="string",a=null;if(s)a=n;else if(n instanceof gi){if(!n.cacheId){var o=r&&r.pixiIdPrefix||"pixiid";n.cacheId=o+"-"+Bp(),gi.addToCache(n,n.cacheId)}a=n.cacheId}else{if(!n._pixiId){var o=r&&r.pixiIdPrefix||"pixiid";n._pixiId=o+"_"+Bp()}a=n._pixiId}var l=wl[a];if(s&&i&&!l)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return!l&&!(n instanceof gi)?(r.resolution||(r.resolution=R1(n)),l=new e(new gi(n,r)),l.baseTexture.cacheId=a,gi.addToCache(l.baseTexture,a),e.addToCache(l,a)):!l&&n instanceof gi&&(l=new e(n),e.addToCache(l,a)),l},e.fromURL=function(n,r){var i=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),s=e.from(n,Object.assign({resourceOptions:i},r),!1),a=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):a.load().then(function(){return Promise.resolve(s)})},e.fromBuffer=function(n,r,i,s){return new e(gi.fromBuffer(n,r,i,s))},e.fromLoader=function(n,r,i,s){var a=new gi(n,Object.assign({scaleMode:Yn.SCALE_MODE,resolution:R1(r)},s)),o=a.resource;o instanceof n3&&(o.url=r);var l=new e(a);return i||(i=r),gi.addToCache(l.baseTexture,i),e.addToCache(l,i),i!==r&&(gi.addToCache(l.baseTexture,r),e.addToCache(l,r)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(u){l.baseTexture.once("loaded",function(){return u(l)})})},e.addToCache=function(n,r){r&&(n.textureCacheIds.indexOf(r)===-1&&n.textureCacheIds.push(r),wl[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),wl[r]=n)},e.removeFromCache=function(n){if(typeof n=="string"){var r=wl[n];if(r){var i=r.textureCacheIds.indexOf(n);return i>-1&&r.textureCacheIds.splice(i,1),delete wl[n],r}}else if(n&&n.textureCacheIds){for(var s=0;s<n.textureCacheIds.length;++s)wl[n.textureCacheIds[s]]===n&&delete wl[n.textureCacheIds[s]];return n.textureCacheIds.length=0,n}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(n){this._frame=n,this.noFrame=!1;var r=n.x,i=n.y,s=n.width,a=n.height,o=r+s>this.baseTexture.width,l=i+a>this.baseTexture.height;if(o||l){var u=o&&l?"and":"or",d="X: "+r+" + "+s+" = "+(r+s)+" > "+this.baseTexture.width,f="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(d+" "+u+" "+f))}this.valid=s&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=n),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(n){this._rotate=n,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new gi),Zw(e._EMPTY),Zw(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var n=Yn.ADAPTER.createCanvas(16,16),r=n.getContext("2d");n.width=16,n.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),e._WHITE=new e(gi.from(n)),Zw(e._WHITE),Zw(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(mh),Up=function(t){ps(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(n){this.framebuffer.multisample=n},enumerable:!1,configurable:!0}),e.prototype.resize=function(n,r,i){i===void 0&&(i=!0);var s=this.baseTexture.resolution,a=Math.round(n*s)/s,o=Math.round(r*s)/s;this.valid=a>0&&o>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=o,i&&this.baseTexture.resize(a,o),this.updateUvs()},e.prototype.setResolution=function(n){var r=this.baseTexture;r.resolution!==n&&(r.setResolution(n),this.resize(r.width,r.height,!1))},e.create=function(n){for(var r=arguments,i=[],s=1;s<arguments.length;s++)i[s-1]=r[s];return typeof n=="number"&&(sl("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),n={width:n,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new s5(n))},e}(Or),Aoe=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,n,r){r===void 0&&(r=ys.NONE);var i=new s5(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new Up(i)},t.prototype.getOptimalTexture=function(e,n,r,i){r===void 0&&(r=1),i===void 0&&(i=ys.NONE);var s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=I1(e),n=I1(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);var a=this.texturePool[s].pop();return a||(a=this.createTexture(e,n,i)),a.filterPoolKey=s,a.setResolution(r),a},t.prototype.getFilterTexture=function(e,n,r){var i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||ys.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var n in this.texturePool){var r=this.texturePool[n];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var n in this.texturePool)if(Number(n)<0){var r=this.texturePool[n];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),JR=function(){function t(e,n,r,i,s,a,o){n===void 0&&(n=0),r===void 0&&(r=!1),i===void 0&&(i=yr.FLOAT),this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=a,this.instance=o}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,n,r,i,s){return new t(e,n,r,i,s)},t}(),Klt=0,pa=function(){function t(e,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=Klt++,this.disposeRunner=new Va("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===_c.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?_c.ELEMENT_ARRAY_BUFFER:_c.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),Zlt={Float32Array,Uint32Array,Int32Array,Uint8Array};function Qlt(t,e){for(var n=0,r=0,i={},s=0;s<t.length;s++)r+=e[s],n+=t[s].length;for(var a=new ArrayBuffer(n*4),o=null,l=0,s=0;s<t.length;s++){var u=e[s],d=t[s],f=QA(d);i[f]||(i[f]=new Zlt[f](a)),o=i[f];for(var h=0;h<d.length;h++){var g=(h/u|0)*r+l,v=h%u;o[g+v]=d[h]}l+=u}return new Float32Array(a)}var iG={5126:4,5123:2,5121:1},Jlt=0,eut={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},h_=function(){function t(e,n){e===void 0&&(e=[]),n===void 0&&(n={}),this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=Jlt++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Va("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,n,r,i,s,a,o,l){if(r===void 0&&(r=0),i===void 0&&(i=!1),l===void 0&&(l=!1),!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof pa||(n instanceof Array&&(n=new Float32Array(n)),n=new pa(n));var u=e.split("|");if(u.length>1){for(var d=0;d<u.length;d++)this.addAttribute(u[d],n,r,i,s);return this}var f=this.buffers.indexOf(n);return f===-1&&(this.buffers.push(n),f=this.buffers.length-1),this.attributes[e]=new JR(f,r,i,s,a,o,l),this.instanced=this.instanced||l,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof pa||(e instanceof Array&&(e=new Uint16Array(e)),e=new pa(e)),e.type=_c.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],n=[],r=new pa,i;for(i in this.attributes){var s=this.attributes[i],a=this.buffers[s.buffer];e.push(a.data),n.push(s.size*iG[s.type]/4),s.buffer=0}for(r.data=Qlt(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var n=this.attributes[e],r=this.buffers[n.buffer];return r.data.length/(n.stride/4||n.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,n=0;n<this.buffers.length;n++)e.buffers[n]=new pa(this.buffers[n].data.slice(0));for(var n in this.attributes){var r=this.attributes[n];e.attributes[n]=new JR(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=_c.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var n=new t,r=[],i=[],s=[],a,o=0;o<e.length;o++){a=e[o];for(var l=0;l<a.buffers.length;l++)i[l]=i[l]||0,i[l]+=a.buffers[l].data.length,s[l]=0}for(var o=0;o<a.buffers.length;o++)r[o]=new eut[QA(a.buffers[o].data)](i[o]),n.buffers[o]=new pa(r[o]);for(var o=0;o<e.length;o++){a=e[o];for(var l=0;l<a.buffers.length;l++)r[l].set(a.buffers[l].data,s[l]),s[l]+=a.buffers[l].data.length}if(n.attributes=a.attributes,a.indexBuffer){n.indexBuffer=n.buffers[a.buffers.indexOf(a.indexBuffer)],n.indexBuffer.type=_c.ELEMENT_ARRAY_BUFFER;for(var u=0,d=0,f=0,h=0,o=0;o<a.buffers.length;o++)if(a.buffers[o]!==a.indexBuffer){h=o;break}for(var o in a.attributes){var g=a.attributes[o];(g.buffer|0)===h&&(d+=g.size*iG[g.type]/4)}for(var o=0;o<e.length;o++){for(var v=e[o].indexBuffer.data,l=0;l<v.length;l++)n.indexBuffer.data[l+f]+=u;u+=e[o].buffers[h].data.length/d,f+=v.length}}return n},t}(),Poe=function(t){ps(e,t);function e(){var n=t.call(this)||this;return n.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),n}return e}(h_),o5=function(t){ps(e,t);function e(){var n=t.call(this)||this;return n.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),n.uvs=new Float32Array([0,0,1,0,1,1,0,1]),n.vertexBuffer=new pa(n.vertices),n.uvBuffer=new pa(n.uvs),n.addAttribute("aVertexPosition",n.vertexBuffer).addAttribute("aTextureCoord",n.uvBuffer).addIndex([0,1,2,0,2,3]),n}return e.prototype.map=function(n,r){var i=0,s=0;return this.uvs[0]=i,this.uvs[1]=s,this.uvs[2]=i+r.width/n.width,this.uvs[3]=s,this.uvs[4]=i+r.width/n.width,this.uvs[5]=s+r.height/n.height,this.uvs[6]=i,this.uvs[7]=s+r.height/n.height,i=r.x,s=r.y,this.vertices[0]=i,this.vertices[1]=s,this.vertices[2]=i+r.width,this.vertices[3]=s,this.vertices[4]=i+r.width,this.vertices[5]=s+r.height,this.vertices[6]=i,this.vertices[7]=s+r.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(h_),tut=0,bp=function(){function t(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=tut++,this.static=!!n,this.ubo=!!r,e instanceof pa?(this.buffer=e,this.buffer.type=_c.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new pa(new Float32Array(1)),this.buffer.type=_c.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,n,r){if(!this.ubo)this.uniforms[e]=new t(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,n,r){return new t(e,n,r)},t.uboFrom=function(e,n){return new t(e,n??!0,!0)},t}(),koe=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ys.NONE,this.sourceFrame=new yi,this.destinationFrame=new yi,this.bindingSourceFrame=new yi,this.bindingDestinationFrame=new yi,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Qw=[new rs,new rs,new rs,new rs],fk=new As,l5=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Aoe,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Poe,this.quadUv=new o5,this.tempRect=new yi,this.activeState={},this.globalUniforms=new bp({outputFrame:new yi,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,n){for(var r,i,s=this.renderer,a=this.defaultFilterStack,o=this.statePool.pop()||new koe,l=this.renderer.renderTexture,u=n[0].resolution,d=n[0].multisample,f=n[0].padding,h=n[0].autoFit,g=(r=n[0].legacy)!==null&&r!==void 0?r:!0,v=1;v<n.length;v++){var p=n[v];u=Math.min(u,p.resolution),d=Math.min(d,p.multisample),f=this.useMaxPadding?Math.max(f,p.padding):f+p.padding,h=h&&p.autoFit,g=g||((i=p.legacy)!==null&&i!==void 0?i:!0)}a.length===1&&(this.defaultFilterStack[0].renderTexture=l.current),a.push(o),o.resolution=u,o.multisample=d,o.legacy=g,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(f);var _=this.tempRect.copyFrom(l.sourceFrame);s.projection.transform&&this.transformAABB(fk.copyFrom(s.projection.transform).invert(),_),h?(o.sourceFrame.fit(_),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(_)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,l.current?l.current.resolution:s.resolution,l.sourceFrame,l.destinationFrame,s.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,u,d),o.filters=n,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;var S=this.tempRect;S.x=0,S.y=0,S.width=o.sourceFrame.width,S.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(l.sourceFrame),o.bindingDestinationFrame.copyFrom(l.destinationFrame),o.transform=s.projection.transform,s.projection.transform=null,l.bind(o.renderTexture,o.sourceFrame,S),s.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;var i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;var s=i.inputSize,a=i.inputPixel,o=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],a[0]=Math.round(s[0]*n.resolution),a[1]=Math.round(s[1]*n.resolution),a[2]=1/a[0],a[3]=1/a[1],o[0]=.5*a[2],o[1]=.5*a[3],o[2]=n.sourceFrame.width*s[2]-.5*a[2],o[3]=n.sourceFrame.height*s[3]-.5*a[3],n.legacy){var l=i.filterArea;l[0]=n.destinationFrame.width,l[1]=n.destinationFrame.height,l[2]=n.sourceFrame.x,l[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var u=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,u.renderTexture,Eu.BLEND,n),this.returnFilterTexture(n.renderTexture);else{var d=n.renderTexture,f=this.getOptimalFilterTexture(d.width,d.height,n.resolution);f.filterFrame=d.filterFrame;var h=0;for(h=0;h<r.length-1;++h){h===1&&n.multisample>1&&(f=this.getOptimalFilterTexture(d.width,d.height,n.resolution),f.filterFrame=d.filterFrame),r[h].apply(this,d,f,Eu.CLEAR,n);var g=d;d=f,f=g}r[h].apply(this,d,u.renderTexture,Eu.BLEND,n),h>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(f)}n.clear(),this.statePool.push(n)},t.prototype.bindAndClear=function(e,n){n===void 0&&(n=Eu.CLEAR);var r=this.renderer,i=r.renderTexture,s=r.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,i.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var o=s.stateId&1||this.forceClear;(n===Eu.CLEAR||n===Eu.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,n,r,i){var s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Ru.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Ru.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,n){var r=this.activeState,i=r.sourceFrame,s=r.destinationFrame,a=n._texture.orig,o=e.set(s.width,0,0,s.height,i.x,i.y),l=n.worldTransform.copyTo(As.TEMP_MATRIX);return l.invert(),o.prepend(l),o.scale(1/a.width,1/a.height),o.translate(n.anchor.x,n.anchor.y),o},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,n,r,i){return r===void 0&&(r=1),i===void 0&&(i=ys.NONE),this.texturePool.getOptimalTexture(e,n,r,i)},t.prototype.getFilterTexture=function(e,n,r){if(typeof e=="number"){var i=e;e=n,n=i}e=e||this.activeState.renderTexture;var s=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||ys.NONE);return s.filterFrame=e.filterFrame,s},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,n){var r=Qw[0],i=Qw[1],s=Qw[2],a=Qw[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),a.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(a,a);var o=Math.min(r.x,i.x,s.x,a.x),l=Math.min(r.y,i.y,s.y,a.y),u=Math.max(r.x,i.x,s.x,a.x),d=Math.max(r.y,i.y,s.y,a.y);n.x=o,n.y=l,n.width=u-o,n.height=d-l},t.prototype.roundFrame=function(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){var a=s.a,o=s.b,l=s.c,u=s.d;if((Math.abs(o)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(u)>1e-4))return}s=s?fk.copyFrom(s):fk.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}},t}(),Ox=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),u5=function(){function t(e){this.renderer=e,this.emptyRenderer=new Ox(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,n){for(var r=this.renderer.texture.boundTextures,i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,n,r,i){for(var s=e.elements,a=e.ids,o=e.count,l=0,u=0;u<o;u++){var d=s[u],f=d._batchLocation;if(f>=0&&f<i&&n[f]===d){a[u]=f;continue}for(;l<i;){var h=n[l];if(h&&h._batchEnabled===r&&h._batchLocation===l){l++;continue}a[u]=l,d._batchLocation=l,n[l]=d;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),sG=0,c5=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=sG++},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=sG++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var n=this.createContext(this.renderer.view,e);this.initFromContext(n)},t.prototype.createContext=function(e,n){var r;if(Yn.PREFER_ENV>=Fd.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){var n=this;e.preventDefault(),setTimeout(function(){n.gl.isContextLost()&&n.extensions.loseContext&&n.extensions.loseContext.restoreContext()},0)},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),Doe=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ys.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),nut=new yi,d5=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new qC(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new yi,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){var n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Yn.PREFER_ENV===Fd.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=function(i){return n.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,n,r){r===void 0&&(r=0);var i=this.gl;if(e){var s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var a=0;a<e.colorTextures.length;a++){var o=e.colorTextures[a];this.renderer.texture.unbind(o.parentTextureArray||o)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){var l=n.width>>r,u=n.height>>r,d=l/n.width;this.setViewport(n.x*d,n.y*d,l,u)}else{var l=e.width>>r,u=e.height>>r;this.setViewport(0,0,l,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,n,r,i){var s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,n,r,i,s){s===void 0&&(s=T1.COLOR|T1.DEPTH);var a=this.gl;a.clearColor(e,n,r,i),a.clear(s)},t.prototype.initFramebuffer=function(e){var n=this.gl,r=new Doe(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r},t.prototype.resizeFramebuffer=function(e){var n=this.gl,r=e.glFramebuffers[this.CONTEXT_UID];r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.RGBA8,e.width,e.height)),r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,s=i.length;n.drawBuffers||(s=Math.min(s,1));for(var a=0;a<s;a++){var o=i[a],l=o.parentTextureArray||o;this.renderer.texture.bind(l,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,n){var r=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures,a=s.length;r.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.RGBA8,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var o=[],l=0;l<a;l++){var u=s[l],d=u.parentTextureArray||u;this.renderer.texture.bind(d,0),!(l===0&&i.msaaBuffer)&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,u.target,d._glTextures[this.CONTEXT_UID].texture,n),o.push(r.COLOR_ATTACHMENT0+l))}if(o.length>1&&r.drawBuffers(o),e.depthTexture){var f=this.writeDepthTexture;if(f){var h=e.depthTexture;this.renderer.texture.bind(h,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,n)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var n=this.msaaSamples,r=ys.NONE;if(e<=1||n===null)return r;for(var i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=ys.NONE),r},t.prototype.blit=function(e,n,r){var i=this,s=i.current,a=i.renderer,o=i.gl,l=i.CONTEXT_UID;if(a.context.webGLVersion===2&&s){var u=s.glFramebuffers[l];if(u){if(!e){if(!u.msaaBuffer)return;var d=s.colorTextures[0];if(!d)return;u.blitFramebuffer||(u.blitFramebuffer=new qC(s.width,s.height),u.blitFramebuffer.addColorTexture(0,d)),e=u.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}n||(n=nut,n.width=s.width,n.height=s.height),r||(r=n);var f=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,f?o.NEAREST:o.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,n){var r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete e.glFramebuffers[this.CONTEXT_UID];var s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var n=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var n=e.glFramebuffers[this.CONTEXT_UID];if(!(!n||n.stencil)){e.stencil=!0;var r=e.width,i=e.height,s=this.gl,a=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,a),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=a,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,a)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new yi},t.prototype.destroy=function(){this.renderer=null},t}(),hk={5126:4,5123:2,5121:1},f5=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){var r=this.renderer.context.extensions.vertexArrayObject;Yn.PREFER_ENV===Fd.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=function(){return r.createVertexArrayOES()},e.bindVertexArray=function(s){return r.bindVertexArrayOES(s)},e.deleteVertexArray=function(s){return r.deleteVertexArrayOES(s)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(n.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(s,a){return i.vertexAttribDivisorANGLE(s,a)},e.drawElementsInstanced=function(s,a,o,l,u){return i.drawElementsInstancedANGLE(s,a,o,l,u)},e.drawArraysInstanced=function(s,a,o,l){return i.drawArraysInstancedANGLE(s,a,o,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex},t.prototype.bind=function(e,n){n=n||this.renderer.shader.shader;var r=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);var a=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?r.bindVertexArray(a):this.activateVao(e,n.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,n=this.renderer.buffer,r=0;r<e.buffers.length;r++){var i=e.buffers[r];n.update(i)}},t.prototype.checkCompatibility=function(e,n){var r=e.attributes,i=n.attributeData;for(var s in i)if(!r[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},t.prototype.getSignature=function(e,n){var r=e.attributes,i=n.attributeData,s=["g",e.id];for(var a in r)i[a]&&s.push(a,i[a].location);return s.join("-")},t.prototype.initGeometryVao=function(e,n,r){r===void 0&&(r=!0);var i=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,o=n.program;o.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,o);var l=this.getSignature(e,o),u=e.glVertexArrayObjects[this.CONTEXT_UID],d=u[l];if(d)return u[o.id]=d,d;var f=e.buffers,h=e.attributes,g={},v={};for(var p in f)g[p]=0,v[p]=0;for(var p in h)!h[p].size&&o.attributeData[p]?h[p].size=o.attributeData[p].size:h[p].size||console.warn("PIXI Geometry attribute '"+p+"' size cannot be determined (likely the bound shader does not have the attribute)"),g[h[p].buffer]+=h[p].size*hk[h[p].type];for(var p in h){var _=h[p],S=_.size;_.stride===void 0&&(g[_.buffer]===S*hk[_.type]?_.stride=0:_.stride=g[_.buffer]),_.start===void 0&&(_.start=v[_.buffer],v[_.buffer]+=S*hk[_.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(var C=0;C<f.length;C++){var T=f[C];a.bind(T),r&&T._glBuffers[s].refCount++}return this.activateVao(e,o),this._activeVao=d,u[o.id]=d,u[l]=d,d},t.prototype.disposeGeometry=function(e,n){var r;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,a=e.buffers,o=(r=this.renderer)===null||r===void 0?void 0:r.buffer;if(e.disposeRunner.remove(this),!!i){if(o)for(var l=0;l<a.length;l++){var u=a[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!n&&o.dispose(a[l],n))}if(!n){for(var d in i)if(d[0]==="g"){var f=i[d];this._activeVao===f&&this.unbind(),s.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var n=Object.keys(this.managedGeometries),r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)},t.prototype.activateVao=function(e,n){var r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,a=e.buffers,o=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);var l=null;for(var u in o){var d=o[u],f=a[d.buffer],h=f._glBuffers[i];if(n.attributeData[u]){l!==h&&(s.bind(f),l=h);var g=n.attributeData[u].location;if(r.enableVertexAttribArray(g),r.vertexAttribPointer(g,d.size,d.type||r.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)r.vertexAttribDivisor(g,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,n,r,i){var s=this.gl,a=this._activeGeometry;if(a.indexBuffer){var o=a.indexBuffer.data.BYTES_PER_ELEMENT,l=o===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;o===2||o===4&&this.canUseUInt32ElementIndex?a.instanced?s.drawElementsInstanced(e,n||a.indexBuffer.data.length,l,(r||0)*o,i||1):s.drawElements(e,n||a.indexBuffer.data.length,l,(r||0)*o):console.warn("unsupported index buffer type: uint32")}else a.instanced?s.drawArraysInstanced(e,r,n||a.getSize(),i||1):s.drawArrays(e,r,n||a.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),Ioe=function(){function t(e){e===void 0&&(e=null),this.type=Qs.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Yn.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Qs.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function aG(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function oG(t,e){var n=t.getShaderSource(e).split(`
`).map(function(u,d){return d+": "+u}),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},a=i.map(function(u){return parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(u){return u&&!s[u]?(s[u]=!0,!0):!1}),o=[""];a.forEach(function(u){n[u-1]="%c"+n[u-1]+"%c",o.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=n.join(`
`);o[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,o),console.groupEnd()}function rut(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||oG(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||oG(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function pk(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=!1;return e}function Roe(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return pk(2*e);case"bvec3":return pk(3*e);case"bvec4":return pk(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Ooe={},J_=Ooe;function Moe(){if(J_===Ooe||J_&&J_.isContextLost()){var t=Yn.ADAPTER.createCanvas(),e=void 0;Yn.PREFER_ENV>=Fd.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),J_=e}return J_}var Jw;function iut(){if(!Jw){Jw=Dl.MEDIUM;var t=Moe();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Jw=e.precision?Dl.HIGH:Dl.MEDIUM}}return Jw}function lG(t,e,n){if(t.substring(0,9)!=="precision"){var r=e;return e===Dl.HIGH&&n!==Dl.HIGH&&(r=Dl.MEDIUM),"precision "+r+` float;
`+t}else if(n!==Dl.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var sut={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Loe(t){return sut[t]}var eS=null,uG={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function $oe(t,e){if(!eS){var n=Object.keys(uG);eS={};for(var r=0;r<n.length;++r){var i=n[r];eS[t[i]]=uG[i]}}return eS[e]}var ym=[{test:function(t){return t.type==="float"&&t.size===1&&!t.isArray},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t,e){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0)},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],aut={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},out={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function lut(t,e){var n,r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var s=e[i];if(!s){!((n=t.uniforms[i])===null||n===void 0)&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var a=t.uniforms[i],o=!1,l=0;l<ym.length;l++)if(ym[l].test(s,a)){r.push(ym[l].code(i,a)),o=!0;break}if(!o){var u=s.size===1&&!s.isArray?aut:out,d=u[s.type].replace("location",'ud["'+i+'"].location');r.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+d+";")}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}var uut=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function cut(t){for(var e="",n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+="if(test == "+n+".0){}");return e}function Noe(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=e.createShader(e.FRAGMENT_SHADER);;){var r=uut.replace(/%forloop%/gi,cut(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}var e2;function dut(){if(typeof e2=="boolean")return e2;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");e2=t({a:"b"},"a","b")===!0}catch{e2=!1}return e2}var fut=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,hut=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,put=0,tS={},p_=function(){function t(e,n,r){r===void 0&&(r="pixi-shader"),this.id=put++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),tS[r]?(tS[r]++,r+="-"+tS[r]):tS[r]=1,this.vertexSrc="#define SHADER_NAME "+r+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+`
`+this.fragmentSrc,this.vertexSrc=lG(this.vertexSrc,Yn.PRECISION_VERTEX,Dl.HIGH),this.fragmentSrc=lG(this.fragmentSrc,Yn.PRECISION_FRAGMENT,iut())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return hut},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return fut},enumerable:!1,configurable:!0}),t.from=function(e,n,r){var i=e+n,s=qR[i];return s||(qR[i]=s=new t(e,n,r)),s},t}(),Mf=function(){function t(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof bp?this.uniformGroup=n:this.uniformGroup=new bp(n):this.uniformGroup=new bp({}),this.disposeRunner=new Va("disposeShader")}return t.prototype.checkUniformExists=function(e,n){if(n.uniforms[e])return!0;for(var r in n.uniforms){var i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,n,r){var i=p_.from(e,n);return new t(i,r)},t}(),mk=0,gk=1,vk=2,yk=3,_k=4,bk=5,Qp=function(){function t(){this.data=0,this.blendMode=br.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<mk)},set:function(e){!!(this.data&1<<mk)!==e&&(this.data^=1<<mk)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<gk)},set:function(e){!!(this.data&1<<gk)!==e&&(this.data^=1<<gk)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<vk)},set:function(e){!!(this.data&1<<vk)!==e&&(this.data^=1<<vk)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<yk)},set:function(e){!!(this.data&1<<yk)!==e&&(this.data^=1<<yk)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<bk)},set:function(e){!!(this.data&1<<bk)!==e&&(this.data^=1<<bk)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<_k)},set:function(e){!!(this.data&1<<_k)!==e&&(this.data^=1<<_k)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==br.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),mut=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,gut=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,gh=function(t){ps(e,t);function e(n,r,i){var s=this,a=p_.from(n||e.defaultVertexSrc,r||e.defaultFragmentSrc);return s=t.call(this,a,i)||this,s.padding=0,s.resolution=Yn.FILTER_RESOLUTION,s.multisample=Yn.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new Qp,s}return e.prototype.apply=function(n,r,i,s,a){n.applyFilter(this,r,i,s)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(n){this.state.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._resolution=n},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return gut},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return mut},enumerable:!1,configurable:!0}),e}(Mf),vut=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,yut=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,cG=new As,r3=function(){function t(e,n){this._texture=e,this.mapCoord=new As,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,n){n===void 0&&(n=e);for(var r=this.mapCoord,i=0;i<e.length;i+=2){var s=e[i],a=e[i+1];n[i]=s*r.a+a*r.c+r.tx,n[i+1]=s*r.b+a*r.d+r.ty}return n},t.prototype.update=function(e){var n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;var r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=n.orig,s=n.trim;s&&(cG.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(cG));var a=n.baseTexture,o=this.uClampFrame,l=this.clampMargin/a.resolution,u=this.clampOffset;return o[0]=(n._frame.x+l+u)/a.width,o[1]=(n._frame.y+l+u)/a.height,o[2]=(n._frame.x+n._frame.width-l+u)/a.width,o[3]=(n._frame.y+n._frame.height-l+u)/a.height,this.uClampOffset[0]=u/a.realWidth,this.uClampOffset[1]=u/a.realHeight,this.isSimple=n._frame.width===a.width&&n._frame.height===a.height&&n.rotate===0,!0},t}(),Foe=function(t){ps(e,t);function e(n,r,i){var s=this,a=null;return typeof n!="string"&&r===void 0&&i===void 0&&(a=n,n=void 0,r=void 0,i=void 0),s=t.call(this,n||vut,r||yut,i)||this,s.maskSprite=a,s.maskMatrix=new As,s}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(n){this._maskSprite=n,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(n,r,i,s){var a=this._maskSprite,o=a._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new r3(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=n.calculateSpriteMatrix(this.maskMatrix,a).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,n.applyFilter(this,r,i,s))},e}(gh),h5=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,n){var r=n;if(!r.isMaskData){var i=this.maskDataPool.pop()||new Ioe;i.pooled=!0,i.maskObject=n,r=i}var s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(s),r._colorMask=s?s._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==Qs.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Qs.SCISSOR:this.renderer.scissor.push(r);break;case Qs.STENCIL:this.renderer.stencil.push(r);break;case Qs.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Qs.COLOR:this.pushColorMask(r);break}r.type===Qs.SPRITE&&this.maskStack.push(r)},t.prototype.pop=function(e){var n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case Qs.SCISSOR:this.renderer.scissor.pop(n);break;case Qs.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case Qs.SPRITE:this.popSpriteMask(n);break;case Qs.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){var r=this.maskStack[this.maskStack.length-1];r.type===Qs.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}},t.prototype.detect=function(e){var n=e.maskObject;n?n.isSprite?e.type=Qs.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Qs.SCISSOR:e.type=Qs.STENCIL:e.type=Qs.COLOR},t.prototype.pushSpriteMask=function(e){var n,r,i=e.maskObject,s=e._target,a=e._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new Foe]));var o=this.renderer,l=o.renderTexture,u,d;if(l.current){var f=l.current;u=e.resolution||f.resolution,d=(n=e.multisample)!==null&&n!==void 0?n:f.multisample}else u=e.resolution||o.resolution,d=(r=e.multisample)!==null&&r!==void 0?r:o.multisample;a[0].resolution=u,a[0].multisample=d,a[0].maskSprite=i;var h=s.filterArea;s.filterArea=i.getBounds(!0),o.filter.push(s,a),s.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(e){var n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)},t.prototype.popColorMask=function(e){var n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)},t.prototype.destroy=function(){this.renderer=null},t}(),Boe=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var n=this.renderer.gl,r=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),dG=new As,fG=[],p5=function(t){ps(e,t);function e(n){var r=t.call(this,n)||this;return r.glConst=Yn.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,r}return e.prototype.getStackLength=function(){var n=this.maskStack[this.maskStack.length-1];return n?n._scissorCounter:0},e.prototype.calcScissorRect=function(n){var r;if(!n._scissorRectLocal){var i=n._scissorRect,s=n.maskObject,a=this.renderer,o=a.renderTexture,l=s.getBounds(!0,(r=fG.pop())!==null&&r!==void 0?r:new yi);this.roundFrameToPixels(l,o.current?o.current.resolution:a.resolution,o.sourceFrame,o.destinationFrame,a.projection.transform),i&&l.fit(i),n._scissorRectLocal=l}},e.isMatrixRotated=function(n){if(!n)return!1;var r=n.a,i=n.b,s=n.c,a=n.d;return(Math.abs(i)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(a)>1e-4)},e.prototype.testScissor=function(n){var r=n.maskObject;if(!r.isFastRect||!r.isFastRect()||e.isMatrixRotated(r.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(n);var i=n._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(n,r,i,s,a){e.isMatrixRotated(a)||(a=a?dG.copyFrom(a):dG.identity(),a.translate(-i.x,-i.y).scale(s.width/i.width,s.height/i.height).translate(s.x,s.y),this.renderer.filter.transformAABB(a,n),n.fit(s),n.x=Math.round(n.x*r),n.y=Math.round(n.y*r),n.width=Math.round(n.width*r),n.height=Math.round(n.height*r))},e.prototype.push=function(n){n._scissorRectLocal||this.calcScissorRect(n);var r=this.renderer.gl;n._scissorRect||r.enable(r.SCISSOR_TEST),n._scissorCounter++,n._scissorRect=n._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(n){var r=this.renderer.gl;n&&fG.push(n._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},e.prototype._useCurrent=function(){var n=this.maskStack[this.maskStack.length-1]._scissorRect,r;this.renderer.renderTexture.current?r=n.y:r=this.renderer.height-n.height-n.y,this.renderer.gl.scissor(n.x,r,n.width,n.height)},e}(Boe),m5=function(t){ps(e,t);function e(n){var r=t.call(this,n)||this;return r.glConst=Yn.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,r}return e.prototype.getStackLength=function(){var n=this.maskStack[this.maskStack.length-1];return n?n._stencilCounter:0},e.prototype.push=function(n){var r=n.maskObject,i=this.renderer.gl,s=n._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),n._stencilCounter++;var a=n._colorMask;a!==0&&(n._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,s,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,a!==0&&(n._colorMask=a,i.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()},e.prototype.pop=function(n){var r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=i?i._colorMask:15;s!==0&&(i._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(i._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}},e.prototype._useCurrent=function(){var n=this.renderer.gl;n.stencilFunc(n.EQUAL,this.getStackLength(),4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)},e}(Boe),g5=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new As,this.transform=null}return t.prototype.update=function(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,n,r,i){var s=this.projectionMatrix,a=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=a*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-a-n.y*s.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),b0=new yi,t2=new yi,v5=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new yi,this.destinationFrame=new yi,this.viewportFrame=new yi}return t.prototype.bind=function(e,n,r){e===void 0&&(e=null);var i=this.renderer;this.current=e;var s,a,o;e?(s=e.baseTexture,o=s.resolution,n||(b0.width=e.frame.width,b0.height=e.frame.height,n=b0),r||(t2.x=e.frame.x,t2.y=e.frame.y,t2.width=n.width,t2.height=n.height,r=t2),a=s.framebuffer):(o=i.resolution,n||(b0.width=i.screen.width,b0.height=i.screen.height,n=b0),r||(r=b0,r.width=n.width,r.height=n.height));var l=this.viewportFrame;l.x=r.x*o,l.y=r.y*o,l.width=r.width*o,l.height=r.height*o,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(a,l),this.renderer.projection.update(r,n,o,!a),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)},t.prototype.clear=function(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,s=r.width!==i.width||r.height!==i.height;if(s){var a=this.viewportFrame,o=a.x,l=a.y,u=a.width,d=a.height;o=Math.round(o),l=Math.round(l),u=Math.round(u),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,l,u,d)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function _ut(t,e,n,r,i){n.buffer.update(i)}var but={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Uoe={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Voe(t){for(var e=t.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),n=0,r=0,i=0,s=0;s<e.length;s++){var a=e[s];if(n=Uoe[a.data.type],a.data.size>1&&(n=Math.max(n,16)*a.data.size),a.dataLen=n,r%n!==0&&r<16){var o=r%n%16;r+=o,i+=o}r+n>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=n,r=n):(a.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function zoe(t,e){var n=[];for(var r in t)e[r]&&n.push(e[r]);return n.sort(function(i,s){return i.index-s.index}),n}function Hoe(t,e){if(!t.autoManage)return{size:0,syncFunc:_ut};for(var n=zoe(t.uniforms,e),r=Voe(n),i=r.uboElements,s=r.size,a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],o=0;o<i.length;o++){for(var l=i[o],u=t.uniforms[l.data.name],d=l.data.name,f=!1,h=0;h<ym.length;h++){var g=ym[h];if(g.codeUbo&&g.test(l.data,u)){a.push("offset = "+l.offset/4+";",ym[h].codeUbo(l.data.name,u)),f=!0;break}}if(!f)if(l.data.size>1){var v=Loe(l.data.type),p=Math.max(Uoe[l.data.type]/16,1),_=v/p,S=(4-_%4)%4;a.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+l.offset/4+`;

                t = 0;

                for(var i=0; i < `+l.data.size*p+`; i++)
                {
                    for(var j = 0; j < `+_+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+S+`;
                }

                `)}else{var C=but[l.data.type];a.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+l.offset/4+`;
                `+C+`;
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}var xut=function(){function t(){}return t}(),joe=function(){function t(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function wut(t,e){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var s=e.getActiveAttrib(t,i);if(s.name.indexOf("gl_")!==0){var a=$oe(e,s.type),o={type:a,name:s.name,size:Loe(a),location:e.getAttribLocation(t,s.name)};n[s.name]=o}}return n}function Sut(t,e){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;i++){var s=e.getActiveUniform(t,i),a=s.name.replace(/\[.*?\]$/,""),o=!!s.name.match(/\[.*?\]$/),l=$oe(e,s.type);n[a]={name:a,index:i,type:l,size:s.size,isArray:o,value:Roe(l,s.size)}}return n}function Goe(t,e){var n=aG(t,t.VERTEX_SHADER,e.vertexSrc),r=aG(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,n),t.attachShader(i,r),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||rut(t,i,n,r),e.attributeData=wut(i,t),e.uniformData=Sut(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var s=Object.keys(e.attributeData);s.sort(function(d,f){return d>f?1:-1});for(var a=0;a<s.length;a++)e.attributeData[s[a]].location=a,t.bindAttribLocation(i,a,s[a]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);var o={};for(var a in e.uniformData){var l=e.uniformData[a];o[a]={location:t.getUniformLocation(i,a),value:Roe(l.type,l.size)}}var u=new joe(i,o);return u}var Tut=0,nS={textureCount:0,uboCount:0},y5=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Tut++}return t.prototype.systemCheck=function(){if(!dut())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(nS.textureCount=0,nS.uboCount=0,this.syncUniformGroup(e.uniformGroup,nS)),i},t.prototype.setUniforms=function(e){var n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,n){var r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))},t.prototype.syncUniforms=function(e,n,r){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(n.uniformData,e.uniforms,this.renderer,r)},t.prototype.createSyncGroups=function(e){var n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=lut(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,n){var r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;var i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,nS,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])},t.prototype.createSyncBufferGroup=function(e,n,r){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(e,this.shader.program.uniformData,"ubo"),o=this._uboCache[a];if(o||(o=this._uboCache[a]=Hoe(e,this.shader.program.uniformData)),e.autoManage){var l=new Float32Array(o.size/4);e.buffer.update(l)}return n.uniformGroups[e.id]=o.syncFunc,n.uniformGroups[e.id]},t.prototype.getSignature=function(e,n,r){var i=e.uniforms,s=[r+"-"];for(var a in i)s.push(a),n[a]&&s.push(n[a].type);return s.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var n=this.gl,r=e.program,i=Goe(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.disposeShader=function(e){this.shader===e&&(this.shader=null)},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function Cut(t,e){return e===void 0&&(e=[]),e[br.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.ADD]=[t.ONE,t.ONE],e[br.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.NONE]=[0,0],e[br.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[br.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[br.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[br.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[br.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[br.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[br.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[br.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[br.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[br.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[br.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var Eut=0,Aut=1,Put=2,kut=3,Dut=4,Iut=5,_5=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=br.NONE,this._blendEq=!1,this.map=[],this.map[Eut]=this.setBlend,this.map[Aut]=this.setOffset,this.map[Put]=this.setCullFace,this.map[kut]=this.setDepthTest,this.map[Dut]=this.setFrontFace,this.map[Iut]=this.setDepthMask,this.checks=[],this.defaultState=new Qp,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=Cut(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var n=this.stateId^e.data,r=0;n;)n&1&&this.map[r].call(this,!!(e.data&1<<r)),n=n>>1,r++;this.stateId=e.data}for(var r=0;r<this.checks.length;r++)this.checks[r](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var n=0;n<this.map.length;n++)this.map[n].call(this,!!(e.data&1<<n));for(var n=0;n<this.checks.length;n++)this.checks[n](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var n=this.blendModes[e],r=this.gl;n.length===2?r.blendFunc(n[0],n[1]):r.blendFuncSeparate(n[0],n[1],n[2],n[3]),n.length===6?(this._blendEq=!0,r.blendEquationSeparate(n[4],n[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,n){this.gl.polygonOffset(e,n)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,n){var r=this.checks.indexOf(e);n&&r===-1?this.checks.push(e):!n&&r!==-1&&this.checks.splice(r,1)},t.checkBlendMode=function(e,n){e.setBlendMode(n.blendMode)},t.checkPolygonOffset=function(e,n){e.setPolygonOffset(1,n.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),b5=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Yn.GC_MAX_IDLE,this.checkCountMax=Yn.GC_MAX_CHECK_COUNT,this.mode=Yn.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==E1.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,n=e.managedTextures,r=!1,i=0;i<n.length;i++){var s=n[i];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),n[i]=null,r=!0)}if(r){for(var a=0,i=0;i<n.length;i++)n[i]!==null&&(n[a++]=n[i]);n.length=a}},t.prototype.unload=function(e){var n=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&n.destroyTexture(r);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function Rut(t){var e,n,r,i,s,a,o,l,u,d,f,h,g,v,p,_,S,C,T,A,P,D,R;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?R=(e={},e[yr.UNSIGNED_BYTE]=(n={},n[$n.RGBA]=t.RGBA8,n[$n.RGB]=t.RGB8,n[$n.RG]=t.RG8,n[$n.RED]=t.R8,n[$n.RGBA_INTEGER]=t.RGBA8UI,n[$n.RGB_INTEGER]=t.RGB8UI,n[$n.RG_INTEGER]=t.RG8UI,n[$n.RED_INTEGER]=t.R8UI,n[$n.ALPHA]=t.ALPHA,n[$n.LUMINANCE]=t.LUMINANCE,n[$n.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,n),e[yr.BYTE]=(r={},r[$n.RGBA]=t.RGBA8_SNORM,r[$n.RGB]=t.RGB8_SNORM,r[$n.RG]=t.RG8_SNORM,r[$n.RED]=t.R8_SNORM,r[$n.RGBA_INTEGER]=t.RGBA8I,r[$n.RGB_INTEGER]=t.RGB8I,r[$n.RG_INTEGER]=t.RG8I,r[$n.RED_INTEGER]=t.R8I,r),e[yr.UNSIGNED_SHORT]=(i={},i[$n.RGBA_INTEGER]=t.RGBA16UI,i[$n.RGB_INTEGER]=t.RGB16UI,i[$n.RG_INTEGER]=t.RG16UI,i[$n.RED_INTEGER]=t.R16UI,i[$n.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[yr.SHORT]=(s={},s[$n.RGBA_INTEGER]=t.RGBA16I,s[$n.RGB_INTEGER]=t.RGB16I,s[$n.RG_INTEGER]=t.RG16I,s[$n.RED_INTEGER]=t.R16I,s),e[yr.UNSIGNED_INT]=(a={},a[$n.RGBA_INTEGER]=t.RGBA32UI,a[$n.RGB_INTEGER]=t.RGB32UI,a[$n.RG_INTEGER]=t.RG32UI,a[$n.RED_INTEGER]=t.R32UI,a[$n.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,a),e[yr.INT]=(o={},o[$n.RGBA_INTEGER]=t.RGBA32I,o[$n.RGB_INTEGER]=t.RGB32I,o[$n.RG_INTEGER]=t.RG32I,o[$n.RED_INTEGER]=t.R32I,o),e[yr.FLOAT]=(l={},l[$n.RGBA]=t.RGBA32F,l[$n.RGB]=t.RGB32F,l[$n.RG]=t.RG32F,l[$n.RED]=t.R32F,l[$n.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,l),e[yr.HALF_FLOAT]=(u={},u[$n.RGBA]=t.RGBA16F,u[$n.RGB]=t.RGB16F,u[$n.RG]=t.RG16F,u[$n.RED]=t.R16F,u),e[yr.UNSIGNED_SHORT_5_6_5]=(d={},d[$n.RGB]=t.RGB565,d),e[yr.UNSIGNED_SHORT_4_4_4_4]=(f={},f[$n.RGBA]=t.RGBA4,f),e[yr.UNSIGNED_SHORT_5_5_5_1]=(h={},h[$n.RGBA]=t.RGB5_A1,h),e[yr.UNSIGNED_INT_2_10_10_10_REV]=(g={},g[$n.RGBA]=t.RGB10_A2,g[$n.RGBA_INTEGER]=t.RGB10_A2UI,g),e[yr.UNSIGNED_INT_10F_11F_11F_REV]=(v={},v[$n.RGB]=t.R11F_G11F_B10F,v),e[yr.UNSIGNED_INT_5_9_9_9_REV]=(p={},p[$n.RGB]=t.RGB9_E5,p),e[yr.UNSIGNED_INT_24_8]=(_={},_[$n.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,_),e[yr.FLOAT_32_UNSIGNED_INT_24_8_REV]=(S={},S[$n.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,S),e):R=(C={},C[yr.UNSIGNED_BYTE]=(T={},T[$n.RGBA]=t.RGBA,T[$n.RGB]=t.RGB,T[$n.ALPHA]=t.ALPHA,T[$n.LUMINANCE]=t.LUMINANCE,T[$n.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,T),C[yr.UNSIGNED_SHORT_5_6_5]=(A={},A[$n.RGB]=t.RGB,A),C[yr.UNSIGNED_SHORT_4_4_4_4]=(P={},P[$n.RGBA]=t.RGBA,P),C[yr.UNSIGNED_SHORT_5_5_5_1]=(D={},D[$n.RGBA]=t.RGBA,D),C),R}var dT=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=yr.UNSIGNED_BYTE,this.internalFormat=$n.RGBA,this.samplerType=0}return t}(),x5=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new gi,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Rut(e);var n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(var r=0;r<n;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new dT(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new dT(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var r=0;r<6;r++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var r=0;r<this.boundTextures.length;r++)this.bind(null,r)},t.prototype.bind=function(e,n){n===void 0&&(n=0);var r=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var n=this,r=n.gl,i=n.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<i.length;s++)i[s]===this.unknownTexture&&this.bind(null,s)}for(var s=0;s<i.length;s++)i[s]===e&&(this.currentLocation!==s&&(r.activeTexture(r.TEXTURE0+s),this.currentLocation=s),r.bindTexture(e.target,this.emptyTextures[e.target].texture),i[s]=null)},t.prototype.ensureSamplerType=function(e){var n=this,r=n.boundTextures,i=n.hasIntegerTextures,s=n.CONTEXT_UID;if(i)for(var a=e-1;a>=0;--a){var o=r[a];if(o){var l=o._glTextures[s];l.samplerType!==C1.FLOAT&&this.renderer.texture.unbind(o)}}},t.prototype.initTexture=function(e){var n=new dT(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n},t.prototype.initTextureType=function(e,n){var r,i;n.internalFormat=(i=(r=this.internalFormats[e.type])===null||r===void 0?void 0:r[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===yr.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type},t.prototype.updateTexture=function(e){var n=e._glTextures[this.CONTEXT_UID];if(n){var r=this.renderer;if(this.initTextureType(e,n),e.resource&&e.resource.upload(r,e,n))n.samplerType!==C1.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,s=e.realHeight,a=r.gl;(n.width!==i||n.height!==s||n.dirtyId<0)&&(n.width=i,n.height=s,a.texImage2D(e.target,0,n.internalFormat,i,s,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,n){var r=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){var i=this.managedTextures.indexOf(e);i!==-1&&vm(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===Xu.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=yc.CLAMP:n.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,n){var r=this.gl;if(n.mipmap&&e.mipmap!==Xu.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===dc.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===dc.LINEAR){var s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===dc.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===dc.LINEAR?r.LINEAR:r.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),Woe={__proto__:null,FilterSystem:l5,BatchSystem:u5,ContextSystem:c5,FramebufferSystem:d5,GeometrySystem:f5,MaskSystem:h5,ScissorSystem:p5,StencilSystem:m5,ProjectionSystem:g5,RenderTextureSystem:v5,ShaderSystem:y5,StateSystem:_5,TextureGCSystem:b5,TextureSystem:x5},xk=new As,qoe=function(t){ps(e,t);function e(n,r){n===void 0&&(n=by.UNKNOWN);var i=t.call(this)||this;return r=Object.assign({},Yn.RENDER_OPTIONS,r),i.options=r,i.type=n,i.screen=new yi(0,0,r.width,r.height),i.view=r.view||Yn.ADAPTER.createCanvas(),i.resolution=r.resolution||Yn.RESOLUTION,i.useContextAlpha=r.useContextAlpha,i.autoDensity=!!r.autoDensity,i.preserveDrawingBuffer=r.preserveDrawingBuffer,i.clearBeforeRender=r.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=r.backgroundColor||i._backgroundColor,i.backgroundAlpha=r.backgroundAlpha,r.transparent!==void 0&&(sl("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=r.transparent,i.backgroundAlpha=r.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(n){for(var r in n)this.plugins[r]=new n[r](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(n,r){this.view.width=Math.round(n*this.resolution),this.view.height=Math.round(r*this.resolution);var i=this.view.width/this.resolution,s=this.view.height/this.resolution;this.screen.width=i,this.screen.height=s,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=s+"px"),this.emit("resize",i,s)},e.prototype.generateTexture=function(n,r,i,s){r===void 0&&(r={}),typeof r=="number"&&(sl("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),r={scaleMode:r,resolution:i,region:s});var a=r.region,o=qlt(r,["region"]);s=a||n.getLocalBounds(null,!0),s.width===0&&(s.width=1),s.height===0&&(s.height=1);var l=Up.create(QR({width:s.width,height:s.height},o));return xk.tx=-s.x,xk.ty=-s.y,this.render(n,{renderTexture:l,clear:!1,transform:xk,skipUpdateTransform:!!n.parent}),l},e.prototype.destroy=function(n){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;n&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=by.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(n){this._backgroundColor=n,this._backgroundColorString=W$(n),Bm(n,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(n){this._backgroundColorRgba[3]=n},enumerable:!1,configurable:!0}),e}(mh),Out=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),Mut=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var n=this,r=n.gl,i=n.CONTEXT_UID,s=e._glBuffers[i]||this.createGLBuffer(e);r.bindBuffer(e.type,s.buffer)},t.prototype.bindBufferBase=function(e,n){var r=this,i=r.gl,s=r.CONTEXT_UID;if(this.boundBufferBases[n]!==e){var a=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[n]=e,i.bindBufferBase(i.UNIFORM_BUFFER,n,a.buffer)}},t.prototype.bindBufferRange=function(e,n,r){var i=this,s=i.gl,a=i.CONTEXT_UID;r=r||0;var o=e._glBuffers[a]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)},t.prototype.update=function(e){var n=this,r=n.gl,i=n.CONTEXT_UID,s=e._glBuffers[i];if(e._updateID!==s.updateID)if(s.updateID=e._updateID,r.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{var a=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,a)}},t.prototype.dispose=function(e,n){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var n=Object.keys(this.managedBuffers),r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)},t.prototype.createGLBuffer=function(e){var n=this,r=n.CONTEXT_UID,i=n.gl;return e._glBuffers[r]=new Out(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]},t}(),w5=function(t){ps(e,t);function e(n){var r=t.call(this,by.WEBGL,n)||this;return n=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new Va("destroy"),contextChange:new Va("contextChange"),reset:new Va("reset"),update:new Va("update"),postrender:new Va("postrender"),prerender:new Va("prerender"),resize:new Va("resize")},r.runners.contextChange.add(r),r.globalUniforms=new bp({projectionMatrix:new As},!0),r.addSystem(h5,"mask").addSystem(c5,"context").addSystem(_5,"state").addSystem(y5,"shader").addSystem(x5,"texture").addSystem(Mut,"buffer").addSystem(f5,"geometry").addSystem(d5,"framebuffer").addSystem(p5,"scissor").addSystem(m5,"stencil").addSystem(g5,"projection").addSystem(b5,"textureGC").addSystem(l5,"filter").addSystem(v5,"renderTexture").addSystem(u5,"batch"),r.initPlugins(e.__plugins),r.multisample=void 0,n.context?r.context.initFromContext(n.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:n.antialias,premultipliedAlpha:r.useContextAlpha&&r.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,foe(r.context.webGLVersion===2?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return e.create=function(n){if(hoe())return new e(n);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var n=this.gl,r;if(this.context.webGLVersion===1){var i=n.getParameter(n.FRAMEBUFFER_BINDING);n.bindFramebuffer(n.FRAMEBUFFER,null),r=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.FRAMEBUFFER,i)}else{var i=n.getParameter(n.DRAW_FRAMEBUFFER_BINDING);n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),r=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,i)}r>=ys.HIGH?this.multisample=ys.HIGH:r>=ys.MEDIUM?this.multisample=ys.MEDIUM:r>=ys.LOW?this.multisample=ys.LOW:this.multisample=ys.NONE},e.prototype.addSystem=function(n,r){var i=new n(this);if(this[r])throw new Error('Whoops! The name "'+r+'" is already in use');this[r]=i;for(var s in this.runners)this.runners[s].add(i);return this},e.prototype.render=function(n,r){var i,s,a,o;if(r&&(r instanceof Up?(sl("6.0.0","Renderer#render arguments changed, use options instead."),i=r,s=arguments[2],a=arguments[3],o=arguments[4]):(i=r.renderTexture,s=r.clear,a=r.transform,o=r.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(i||(this._lastObjectRendered=n),!o){var l=n.enableTempParent();n.updateTransform(),n.disableTempParent(l)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(s!==void 0?s:this.clearBeforeRender)&&this.renderTexture.clear(),n.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(n,r,i,s){r===void 0&&(r={});var a=t.prototype.generateTexture.call(this,n,r,i,s);return this.framebuffer.blit(),a},e.prototype.resize=function(n,r){t.prototype.resize.call(this,n,r),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(n){this.runners.destroy.emit();for(var r in this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,n),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return sl("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(n,r){sl("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),qd.add({name:n,type:Wi.RendererPlugin,ref:r})},e.__plugins={},e}(qoe);qd.handleByMap(Wi.RendererPlugin,w5.__plugins);function Xoe(t){return w5.create(t)}var Lut=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$ut=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Yoe=Lut,S5=$ut,Nut=function(){function t(e){sl("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),XC=function(){function t(){this.texArray=null,this.blend=0,this.type=Ru.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),YC=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),KC=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),Koe=function(t){ps(e,t);function e(n){var r=t.call(this,n)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Qp.for2d(),r.size=Yn.SPRITE_BATCH_SIZE*4,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),n.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return e.prototype.contextChange=function(){var n=this.renderer.gl;Yn.PREFER_ENV===Fd.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),Yn.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Noe(this.MAX_TEXTURES,n)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var n=e._drawCallPool,r=e._textureArrayPool,i=this.size/4,s=Math.floor(i/this.MAX_TEXTURES)+1;n.length<i;)n.push(new XC);for(;r.length<s;)r.push(new YC);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(n){n._texture.valid&&(this._vertexCount+n.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=n.vertexData.length/2,this._indexCount+=n.indices.length,this._bufferedTextures[this._bufferSize]=n._texture.baseTexture,this._bufferedElements[this._bufferSize++]=n)},e.prototype.buildTexturesAndDrawCalls=function(){var n=this,r=n._bufferedTextures,i=n.MAX_TEXTURES,s=e._textureArrayPool,a=this.renderer.batch,o=this._tempBoundTextures,l=this.renderer.textureGC.count,u=++gi._globalBatch,d=0,f=s[0],h=0;a.copyBoundTextures(o,i);for(var g=0;g<this._bufferSize;++g){var v=r[g];r[g]=null,v._batchEnabled!==u&&(f.count>=i&&(a.boundArray(f,o,u,i),this.buildDrawCalls(f,h,g),h=g,f=s[++d],++u),v._batchEnabled=u,v.touched=l,f.elements[f.count++]=v)}f.count>0&&(a.boundArray(f,o,u,i),this.buildDrawCalls(f,h,this._bufferSize),++d,++u);for(var g=0;g<o.length;g++)o[g]=null;gi._globalBatch=u},e.prototype.buildDrawCalls=function(n,r,i){var s=this,a=s._bufferedElements,o=s._attributeBuffer,l=s._indexBuffer,u=s.vertexSize,d=e._drawCallPool,f=this._dcIndex,h=this._aIndex,g=this._iIndex,v=d[f];v.start=this._iIndex,v.texArray=n;for(var p=r;p<i;++p){var _=a[p],S=_._texture.baseTexture,C=X$[S.alphaMode?1:0][_.blendMode];a[p]=null,r<p&&v.blend!==C&&(v.size=g-v.start,r=p,v=d[++f],v.texArray=n,v.start=g),this.packInterleavedGeometry(_,o,l,h,g),h+=_.vertexData.length/2*u,g+=_.indices.length,v.blend=C}r<i&&(v.size=g-v.start,++f),this._dcIndex=f,this._aIndex=h,this._iIndex=g},e.prototype.bindAndClearTexArray=function(n){for(var r=this.renderer.texture,i=0;i<n.count;i++)r.bind(n.elements[i],n.ids[i]),n.elements[i]=null;n.count=0},e.prototype.updateGeometry=function(){var n=this,r=n._packedGeometries,i=n._attributeBuffer,s=n._indexBuffer;Yn.CAN_UPLOAD_SAME_BUFFER?(r[this._flushId]._buffer.update(i.rawBinaryData),r[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,r[this._flushId]=new this.geometryClass),r[this._flushId]._buffer.update(i.rawBinaryData),r[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(r[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var n=this._dcIndex,r=this.renderer,i=r.gl,s=r.state,a=e._drawCallPool,o=null,l=0;l<n;l++){var u=a[l],d=u.texArray,f=u.type,h=u.size,g=u.start,v=u.blend;o!==d&&(o=d,this.bindAndClearTexArray(d)),this.state.blendMode=v,s.set(this.state),i.drawElements(f,h,i.UNSIGNED_SHORT,g*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Yn.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]&&this._packedGeometries[n].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(n){var r=I1(Math.ceil(n/8)),i=WR(r),s=r*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._aBuffers[s];return a||(this._aBuffers[s]=a=new KC(s*this.vertexSize*4)),a},e.prototype.getIndexBuffer=function(n){var r=I1(Math.ceil(n/12)),i=WR(r),s=r*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._iBuffers[i];return a||(this._iBuffers[i]=a=new Uint16Array(s)),a},e.prototype.packInterleavedGeometry=function(n,r,i,s,a){for(var o=r.uint32View,l=r.float32View,u=s/this.vertexSize,d=n.uvs,f=n.indices,h=n.vertexData,g=n._texture.baseTexture._batchLocation,v=Math.min(n.worldAlpha,1),p=v<1&&n._texture.baseTexture.alphaMode?ZA(n._tintRGB,v):n._tintRGB+(v*255<<24),_=0;_<h.length;_+=2)l[s++]=h[_],l[s++]=h[_+1],l[s++]=d[_],l[s++]=d[_+1],o[s++]=p,l[s++]=g;for(var _=0;_<f.length;_++)i[a++]=u+f[_]},e._drawCallPool=[],e._textureArrayPool=[],e}(Ox),Zoe=function(){function t(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},n.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(n.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var n=new Int32Array(e),r=0;r<e;r++)n[r]=r;this.defaultGroupCache[e]=bp.from({uSamplers:n},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new p_(this.vertexSrc,i)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new As,default:this.defaultGroupCache[e]};return new Mf(this.programCache[e],s)},t.prototype.generateSampleSrc=function(e){var n="";n+=`
`,n+=`
`;for(var r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+="if(vTextureId < "+r+".5)"),n+=`
{`,n+=`
	color = texture2D(uSamplers[`+r+"], vTextureCoord);",n+=`
}`;return n+=`
`,n+=`
`,n},t}(),T5=function(t){ps(e,t);function e(n){n===void 0&&(n=!1);var r=t.call(this)||this;return r._buffer=new pa(null,n,!1),r._indexBuffer=new pa(null,n,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,yr.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,yr.FLOAT).addAttribute("aColor",r._buffer,4,!0,yr.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,yr.FLOAT).addIndex(r._indexBuffer),r}return e}(h_),hG=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,pG=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Qoe=function(){function t(){}return t.create=function(e){var n=Object.assign({vertex:hG,fragment:pG,geometryClass:T5,vertexSize:6},e),r=n.vertex,i=n.fragment,s=n.vertexSize,a=n.geometryClass;return function(o){ps(l,o);function l(u){var d=o.call(this,u)||this;return d.shaderGenerator=new Zoe(r,i),d.geometryClass=a,d.vertexSize=s,d}return l}(Koe)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return hG},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return pG},enumerable:!1,configurable:!0}),t}(),C5=Qoe.create();Object.assign(C5,{extension:{name:"batch",type:Wi.RendererPlugin}});var Joe={},Fut=function(t){Object.defineProperty(Joe,t,{get:function(){return sl("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),Eoe[t]}})};for(var E5 in Eoe)Fut(E5);var ele={},But=function(t){Object.defineProperty(ele,t,{get:function(){return sl("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),Woe[t]}})};for(var E5 in Woe)But(E5);var Uut="6.5.9";/*!
 * @pixi/accessibility - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var tle={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ys.mixin(tle);var Vut=9,rS=100,zut=0,Hut=0,mG=2,gG=1,jut=-1e3,Gut=-1e3,Wut=2,nle=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ou.tablet||Ou.phone)&&this.createTouchHook();var n=document.createElement("div");n.style.width=rS+"px",n.style.height=rS+"px",n.style.position="absolute",n.style.top=zut+"px",n.style.left=Hut+"px",n.style.zIndex=mG.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,n=document.createElement("button");n.style.width=gG+"px",n.style.height=gG+"px",n.style.position="absolute",n.style.top=jut+"px",n.style.left=Gut+"px",n.style.zIndex=Wut.toString(),n.style.backgroundColor="#FF0000",n.title="select to enable accessibility for this content",n.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(n),this._hookDiv=n},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var n=e.children;if(n)for(var r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}},t.prototype.update=function(){var e=performance.now();if(!(Ou.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var n=this.renderer.view.getBoundingClientRect(),r=n.left,i=n.top,s=n.width,a=n.height,o=this.renderer,l=o.width,u=o.height,d=o.resolution,f=s/l*d,h=a/u*d,g=this.div;g.style.left=r+"px",g.style.top=i+"px",g.style.width=l+"px",g.style.height=u+"px";for(var v=0;v<this.children.length;v++){var p=this.children[v];if(p.renderId!==this.renderId)p._accessibleActive=!1,vm(this.children,v,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,v--;else{g=p._accessibleDiv;var _=p.hitArea,S=p.worldTransform;p.hitArea?(g.style.left=(S.tx+_.x*S.a)*f+"px",g.style.top=(S.ty+_.y*S.d)*h+"px",g.style.width=_.width*S.a*f+"px",g.style.height=_.height*S.d*h+"px"):(_=p.getBounds(),this.capHitArea(_),g.style.left=_.x*f+"px",g.style.top=_.y*h+"px",g.style.width=_.width*f+"px",g.style.height=_.height*h+"px",g.title!==p.accessibleTitle&&p.accessibleTitle!==null&&(g.title=p.accessibleTitle),g.getAttribute("aria-label")!==p.accessibleHint&&p.accessibleHint!==null&&g.setAttribute("aria-label",p.accessibleHint)),(p.accessibleTitle!==g.title||p.tabIndex!==g.tabIndex)&&(g.title=p.accessibleTitle,g.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(g))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var n=this.renderer,r=n.width,i=n.height;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=rS+"px",n.style.height=rS+"px",n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=mG.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var n=this.renderer.plugins.interaction,r=e.target.displayObject,i=n.eventData;n.dispatchEvent(r,"click",i),n.dispatchEvent(r,"pointertap",i),n.dispatchEvent(r,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var n=this.renderer.plugins.interaction,r=e.target.displayObject,i=n.eventData;n.dispatchEvent(r,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var n=this.renderer.plugins.interaction,r=e.target.displayObject,i=n.eventData;n.dispatchEvent(r,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===Vut&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t.extension={name:"accessibility",type:[Wi.RendererPlugin,Wi.CanvasRendererPlugin]},t}();/*!
 * @pixi/interaction - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var eO=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new rs,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,n,r){return e.worldTransform.applyInverse(r||this.global,n)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var n="buttons"in e&&e.buttons;this.buttons=Number.isInteger(n)?n:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tO=function(t,e){return tO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},tO(t,e)};function qut(t,e){tO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var rle=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),fT=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,n){n?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),Xut=function(){function t(){this._tempPoint=new rs}return t.prototype.recursiveFindHit=function(e,n,r,i,s){var a;if(!n||!n.visible)return!1;var o=e.data.global;s=n.interactive||s;var l=!1,u=s,d=!0;if(n.hitArea)i&&(n.worldTransform.applyInverse(o,this._tempPoint),n.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?l=!0:(i=!1,d=!1)),u=!1;else if(n._mask&&i){var f=n._mask.isMaskData?n._mask.maskObject:n._mask;f&&!(!((a=f.containsPoint)===null||a===void 0)&&a.call(f,o))&&(i=!1)}if(d&&n.interactiveChildren&&n.children)for(var h=n.children,g=h.length-1;g>=0;g--){var v=h[g],p=this.recursiveFindHit(e,v,r,i,u);if(p){if(!v.parent)continue;u=!1,p&&(e.target&&(i=!1),l=!0)}}return s&&(i&&!e.target&&!n.hitArea&&n.containsPoint&&n.containsPoint(o)&&(l=!0),n.interactive&&(l&&!e.target&&(e.target=n),r&&r(e,n,!!l))),l},t.prototype.findHit=function(e,n,r,i){this.recursiveFindHit(e,n,r,i,!1)},t}(),ile={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Ys.mixin(ile);var iS=1,sS={target:null,data:{global:null}},sle=function(t){qut(e,t);function e(n,r){var i=t.call(this)||this;return r=r||{},i.renderer=n,i.autoPreventDefault=r.autoPreventDefault!==void 0?r.autoPreventDefault:!0,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new eO,i.mouse.identifier=iS,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[iS]=i.mouse,i.interactionDataPool=[],i.eventData=new rle,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new Xut,i._tempDisplayObject=new Q$,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=r.useSystemTicker!==void 0?r.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(n){this._useSystemTicker=n,n?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(n,r){return sS.target=null,sS.data.global=n,r||(r=this.lastObjectRendered),this.processInteractive(sS,r,null,!0),sS.target},e.prototype.setTargetElement=function(n,r){r===void 0&&(r=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=n,this.resolution=r,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(za.system.add(this.tickerUpdate,this,Bd.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(za.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var n=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(n.msContentZooming="none",n.msTouchAction="none"):this.supportsPointerEvents&&(n.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var n=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(n.msContentZooming="",n.msTouchAction=""):this.supportsPointerEvents&&(n.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(n){this._deltaTime+=n,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var n in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(n)){var r=this.activeInteractionData[n];if(r.originalEvent&&r.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(n){n=n||"default";var r=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(r=!1),this.currentCursorMode!==n){this.currentCursorMode=n;var i=this.cursorStyles[n];if(i)switch(typeof i){case"string":r&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(n);break;case"object":r&&Object.assign(this.interactionDOMElement.style,i);break}else r&&typeof n=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,n)&&(this.interactionDOMElement.style.cursor=n)}},e.prototype.dispatchEvent=function(n,r,i){(!i.stopPropagationHint||n===i.stopsPropagatingAt)&&(i.currentTarget=n,i.type=r,n.emit(r,i),n[r]&&n[r](i))},e.prototype.delayDispatchEvent=function(n,r,i){this.delayedEvents.push({displayObject:n,eventString:r,eventData:i})},e.prototype.mapPositionToPoint=function(n,r,i){var s;this.interactionDOMElement.parentElement?s=this.interactionDOMElement.getBoundingClientRect():s={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var a=1/this.resolution;n.x=(r-s.left)*(this.interactionDOMElement.width/s.width)*a,n.y=(i-s.top)*(this.interactionDOMElement.height/s.height)*a},e.prototype.processInteractive=function(n,r,i,s){var a=this.search.findHit(n,r,i,s),o=this.delayedEvents;if(!o.length)return a;n.stopPropagationHint=!1;var l=o.length;this.delayedEvents=[];for(var u=0;u<l;u++){var d=o[u],f=d.displayObject,h=d.eventString,g=d.eventData;g.stopsPropagatingAt===f&&(g.stopPropagationHint=!0),this.dispatchEvent(f,h,g)}return a},e.prototype.onPointerDown=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var r=this.normalizeToPointerData(n);if(this.autoPreventDefault&&r[0].isNormalized){var i=n.cancelable||!("cancelable"in n);i&&n.preventDefault()}for(var s=r.length,a=0;a<s;a++){var o=r[a],l=this.getInteractionDataForPointerId(o),u=this.configureInteractionEventForDOMEvent(this.eventData,o,l);if(u.data.originalEvent=n,this.processInteractive(u,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",u),o.pointerType==="touch")this.emit("touchstart",u);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var d=o.button===2;this.emit(d?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(n,r,i){var s=n.data,a=n.data.identifier;if(i){if(r.trackedPointers[a]||(r.trackedPointers[a]=new fT(a)),this.dispatchEvent(r,"pointerdown",n),s.pointerType==="touch")this.dispatchEvent(r,"touchstart",n);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var o=s.button===2;o?r.trackedPointers[a].rightDown=!0:r.trackedPointers[a].leftDown=!0,this.dispatchEvent(r,o?"rightdown":"mousedown",n)}}},e.prototype.onPointerComplete=function(n,r,i){var s=this.normalizeToPointerData(n),a=s.length,o=n.target;n.composedPath&&n.composedPath().length>0&&(o=n.composedPath()[0]);for(var l=o!==this.interactionDOMElement?"outside":"",u=0;u<a;u++){var d=s[u],f=this.getInteractionDataForPointerId(d),h=this.configureInteractionEventForDOMEvent(this.eventData,d,f);if(h.data.originalEvent=n,this.processInteractive(h,this.lastObjectRendered,i,r||!l),this.emit(r?"pointercancel":"pointerup"+l,h),d.pointerType==="mouse"||d.pointerType==="pen"){var g=d.button===2;this.emit(g?"rightup"+l:"mouseup"+l,h)}else d.pointerType==="touch"&&(this.emit(r?"touchcancel":"touchend"+l,h),this.releaseInteractionDataForPointerId(d.pointerId))}},e.prototype.onPointerCancel=function(n){this.supportsTouchEvents&&n.pointerType==="touch"||this.onPointerComplete(n,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(n,r){var i=n.data,s=n.data.identifier;r.trackedPointers[s]!==void 0&&(delete r.trackedPointers[s],this.dispatchEvent(r,"pointercancel",n),i.pointerType==="touch"&&this.dispatchEvent(r,"touchcancel",n))},e.prototype.onPointerUp=function(n){this.supportsTouchEvents&&n.pointerType==="touch"||this.onPointerComplete(n,!1,this.processPointerUp)},e.prototype.processPointerUp=function(n,r,i){var s=n.data,a=n.data.identifier,o=r.trackedPointers[a],l=s.pointerType==="touch",u=s.pointerType==="mouse"||s.pointerType==="pen",d=!1;if(u){var f=s.button===2,h=fT.FLAGS,g=f?h.RIGHT_DOWN:h.LEFT_DOWN,v=o!==void 0&&o.flags&g;i?(this.dispatchEvent(r,f?"rightup":"mouseup",n),v&&(this.dispatchEvent(r,f?"rightclick":"click",n),d=!0)):v&&this.dispatchEvent(r,f?"rightupoutside":"mouseupoutside",n),o&&(f?o.rightDown=!1:o.leftDown=!1)}i?(this.dispatchEvent(r,"pointerup",n),l&&this.dispatchEvent(r,"touchend",n),o&&((!u||d)&&this.dispatchEvent(r,"pointertap",n),l&&(this.dispatchEvent(r,"tap",n),o.over=!1))):o&&(this.dispatchEvent(r,"pointerupoutside",n),l&&this.dispatchEvent(r,"touchendoutside",n)),o&&o.none&&delete r.trackedPointers[a]},e.prototype.onPointerMove=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var r=this.normalizeToPointerData(n);(r[0].pointerType==="mouse"||r[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=r.length,s=0;s<i;s++){var a=r[s],o=this.getInteractionDataForPointerId(a),l=this.configureInteractionEventForDOMEvent(this.eventData,a,o);l.data.originalEvent=n,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),a.pointerType==="touch"&&this.emit("touchmove",l),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",l)}r[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(n,r,i){var s=n.data,a=s.pointerType==="touch",o=s.pointerType==="mouse"||s.pointerType==="pen";o&&this.processPointerOverOut(n,r,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(r,"pointermove",n),a&&this.dispatchEvent(r,"touchmove",n),o&&this.dispatchEvent(r,"mousemove",n))},e.prototype.onPointerOut=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var r=this.normalizeToPointerData(n),i=r[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,s);a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(s.identifier)}},e.prototype.processPointerOverOut=function(n,r,i){var s=n.data,a=n.data.identifier,o=s.pointerType==="mouse"||s.pointerType==="pen",l=r.trackedPointers[a];i&&!l&&(l=r.trackedPointers[a]=new fT(a)),l!==void 0&&(i&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(r,"pointerover",n),o&&this.delayDispatchEvent(r,"mouseover",n)),o&&this.cursor===null&&(this.cursor=r.cursor)):l.over&&(l.over=!1,this.dispatchEvent(r,"pointerout",this.eventData),o&&this.dispatchEvent(r,"mouseout",n),l.none&&delete r.trackedPointers[a]))},e.prototype.onPointerOver=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var r=this.normalizeToPointerData(n),i=r[0],s=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,s);a.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",a)}},e.prototype.getInteractionDataForPointerId=function(n){var r=n.pointerId,i;return r===iS||n.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[r]?i=this.activeInteractionData[r]:(i=this.interactionDataPool.pop()||new eO,i.identifier=r,this.activeInteractionData[r]=i),i.copyEvent(n),i},e.prototype.releaseInteractionDataForPointerId=function(n){var r=this.activeInteractionData[n];r&&(delete this.activeInteractionData[n],r.reset(),this.interactionDataPool.push(r))},e.prototype.configureInteractionEventForDOMEvent=function(n,r,i){return n.data=i,this.mapPositionToPoint(i.global,r.clientX,r.clientY),r.pointerType==="touch"&&(r.globalX=i.global.x,r.globalY=i.global.y),i.originalEvent=r,n.reset(),n},e.prototype.normalizeToPointerData=function(n){var r=[];if(this.supportsTouchEvents&&n instanceof TouchEvent)for(var i=0,s=n.changedTouches.length;i<s;i++){var a=n.changedTouches[i];typeof a.button>"u"&&(a.button=n.touches.length?1:0),typeof a.buttons>"u"&&(a.buttons=n.touches.length?1:0),typeof a.isPrimary>"u"&&(a.isPrimary=n.touches.length===1&&n.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,r.push(a)}else if(!globalThis.MouseEvent||n instanceof MouseEvent&&(!this.supportsPointerEvents||!(n instanceof globalThis.PointerEvent))){var o=n;typeof o.isPrimary>"u"&&(o.isPrimary=!0),typeof o.width>"u"&&(o.width=1),typeof o.height>"u"&&(o.height=1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="mouse"),typeof o.pointerId>"u"&&(o.pointerId=iS),typeof o.pressure>"u"&&(o.pressure=.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),o.isNormalized=!0,r.push(o)}else r.push(n);return r},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e.extension={name:"interaction",type:[Wi.RendererPlugin,Wi.CanvasRendererPlugin]},e}(mh);/*!
 * @pixi/extract - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yut=new yi,Kut=4,ale=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,n,r){var i=new Image;return i.src=this.base64(e,n,r),i},t.prototype.base64=function(e,n,r){return this.canvas(e).toDataURL(n,r)},t.prototype.canvas=function(e,n){var r=this._rawPixels(e,n),i=r.pixels,s=r.width,a=r.height,o=r.flipY,l=new XR(s,a,1),u=l.context.getImageData(0,0,s,a);if(t.arrayPostDivide(i,u.data),l.context.putImageData(u,0,0),o){var d=new XR(l.width,l.height,1);d.context.scale(1,-1),d.context.drawImage(l.canvas,0,-a),l.destroy(),l=d}return l.canvas},t.prototype.pixels=function(e,n){var r=this._rawPixels(e,n).pixels;return t.arrayPostDivide(r,r),r},t.prototype._rawPixels=function(e,n){var r=this.renderer,i,s=!1,a,o=!1;if(e)if(e instanceof Up)a=e;else{var l=r.context.webGLVersion>=2?r.multisample:ys.NONE;if(a=this.renderer.generateTexture(e,{multisample:l}),l!==ys.NONE){var u=Up.create({width:a.width,height:a.height});r.framebuffer.bind(a.framebuffer),r.framebuffer.blit(u.framebuffer),r.framebuffer.bind(null),a.destroy(!0),a=u}o=!0}a?(i=a.baseTexture.resolution,n=n??a.frame,s=!1,r.renderTexture.bind(a)):(i=r.resolution,n||(n=Yut,n.width=r.width,n.height=r.height),s=!0,r.renderTexture.bind(null));var d=Math.round(n.width*i),f=Math.round(n.height*i),h=new Uint8Array(Kut*d*f),g=r.gl;return g.readPixels(Math.round(n.x*i),Math.round(n.y*i),d,f,g.RGBA,g.UNSIGNED_BYTE,h),o&&a.destroy(!0),{pixels:h,width:d,height:f,flipY:s}},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,n){for(var r=0;r<e.length;r+=4){var i=n[r+3]=e[r+3];i!==0?(n[r]=Math.round(Math.min(e[r]*255/i,255)),n[r+1]=Math.round(Math.min(e[r+1]*255/i,255)),n[r+2]=Math.round(Math.min(e[r+2]*255/i,255))):(n[r]=e[r],n[r+1]=e[r+1],n[r+2]=e[r+2])}},t.extension={name:"extract",type:Wi.RendererPlugin},t}();/*!
 * @pixi/loaders - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var aS=function(){function t(e,n,r){n===void 0&&(n=!1),this._fn=e,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function vG(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var Cf=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var n=this._head;if(e)return!!n;for(var r=[];n;)r.push(n),n=n._next;return r},t.prototype.has=function(e){if(!(e instanceof aS))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,n=[],r=0;r<arguments.length;r++)n[r]=e[r];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,n),i=i._next;return!0},t.prototype.add=function(e,n){if(n===void 0&&(n=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return vG(this,new aS(e,!1,n))},t.prototype.once=function(e,n){if(n===void 0&&(n=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return vG(this,new aS(e,!0,n))},t.prototype.detach=function(e){if(!(e instanceof aS))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function ole(t,e){e=e||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?"strict":"loose"].exec(t),i={},s=14;s--;)i[n.key[s]]=r[s]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(a,o,l){o&&(i[n.q.name][o]=l)}),i}var wk,oS=null,Zut=0,yG=200,Qut=204,Jut=1223,ect=2;function _G(){}function bG(t,e,n){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=n)}function Sk(t){return t.toString().replace("object ","")}var Ls=function(){function t(e,n,r){if(this._dequeue=_G,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof n!="string")throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,n.indexOf("data:")===0),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=r.crossOrigin===!0?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_G,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Cf,this.onProgress=new Cf,this.onComplete=new Cf,this.onAfterMiddleware=new Cf}return t.setExtensionLoadType=function(e,n){bG(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){bG(t._xhrTypeMap,e,n)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var n=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(n)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof wk>"u"&&(wk=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),wk&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,n){this._flags=n?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var n=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(e,this.url[r],Array.isArray(n)?n[r]:n));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,n,r){r||(r=e+"/"+this._getExtension(n));var i=document.createElement("source");return i.src=n,i.type=r,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(Sk(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(Sk(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(Sk(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,n="",r=typeof e.status>"u"?yG:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(n=e.responseText),r===Zut&&(n.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=yG:r===Jut&&(r=Qut);var i=r/100|0;if(i===ect)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(o){this.abort("Error trying to parse loaded json: "+o);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var s=new DOMParser;this.data=s.parseFromString(n,"text/xml")}else{var a=document.createElement("div");a.innerHTML=n,this.data=a}this.type=t.TYPE.XML}catch(o){this.abort("Error trying to parse loaded xml: "+o);return}else this.data=e.response||n;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,n){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";n=n||globalThis.location,oS||(oS=document.createElement("a")),oS.href=e;var r=ole(oS.href,{strictMode:!0}),i=!r.port&&n.port===""||r.port===n.port,s=r.protocol?r.protocol+":":"";return r.host!==n.hostname||!i||s!==n.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var n="";if(this.isDataUrl){var r=e.indexOf("/");n=e.substring(r+1,e.indexOf(";",r))}else{var i=e.indexOf("?"),s=e.indexOf("#"),a=Math.min(i>-1?i:e.length,s>-1?s:e.length);e=e.substring(0,a),n=e.substring(e.lastIndexOf(".")+1)}return n.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,avif:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,avif:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Ls||(Ls={}));function x0(){}function tct(t){return function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];if(t===null)throw new Error("Callback was already called.");var s=t;t=null,s.apply(this,r)}}var nct=function(){function t(e,n){this.data=e,this.callback=n}return t}(),Tk=function(){function t(e,n){var r=this;if(n===void 0&&(n=1),this.workers=0,this.saturated=x0,this.unsaturated=x0,this.empty=x0,this.drain=x0,this.error=x0,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,s,a){if(a&&typeof a!="function")throw new Error("task callback must be a function");if(r.started=!0,i==null&&r.idle()){setTimeout(function(){return r.drain()},1);return}var o=new nct(i,typeof a=="function"?a:x0);s?r._tasks.unshift(o):r._tasks.push(o),setTimeout(r.process,1)},this.process=function(){for(;!r.paused&&r.workers<r.concurrency&&r._tasks.length;){var i=r._tasks.shift();r._tasks.length===0&&r.empty(),r.workers+=1,r.workers===r.concurrency&&r.saturated(),r._worker(i.data,tct(r._next(i)))}},this._worker=e,n===0)throw new Error("Concurrency must not be zero");this.concurrency=n,this.buffer=n/4}return t.prototype._next=function(e){var n=this;return function(){for(var r=arguments,i=[],s=0;s<arguments.length;s++)i[s]=r[s];n.workers-=1,e.callback.apply(e,i),i[0]!=null&&n.error(i[0],e.data),n.workers<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}},t.prototype.push=function(e,n){this._insert(e,!1,n)},t.prototype.kill=function(){this.workers=0,this.drain=x0,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,n){this._insert(e,!0,n)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,n,r,i){var s=0,a=e.length;function o(l){if(l||s===a){r&&r(l);return}i?setTimeout(function(){n(e[s++],o)},1):n(e[s++],o)}o()},t.queue=function(e,n){return new t(e,n)},t}(),Ck=100,rct=/(#[\w-]+)?$/,$1=function(){function t(e,n){var r=this;e===void 0&&(e=""),n===void 0&&(n=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,u){return r._loadResource(l,u)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,u){return r._loadResource(l,u)},this._queue=Tk.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new Cf,this.onError=new Cf,this.onLoad=new Cf,this.onStart=new Cf,this.onComplete=new Cf;for(var i=0;i<t._plugins.length;++i){var s=t._plugins[i],a=s.pre,o=s.use;a&&this.pre(a),o&&this.use(o)}this._protected=!1}return t.prototype._add=function(e,n,r,i){if(this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(n=this._prepareUrl(n),this.resources[e]=new Ls(e,n,r),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var s=r.parentResource,a=[],o=0;o<s.children.length;++o)s.children[o].isComplete||a.push(s.children[o]);var l=s.progressChunk*(a.length+1),u=l/(a.length+2);s.children.push(this.resources[e]),s.progressChunk=u;for(var o=0;o<a.length;++o)a[o].progressChunk=u;this.resources[e].progressChunk=u}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var n=this.resources[e];n._onLoadBinding&&n._onLoadBinding.detach(),n.isLoading&&n.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(sl("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var n=this._queue._tasks.length,r=Ck/n,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=r;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var n=ole(e,{strictMode:!0}),r;if(n.protocol||!n.path||e.indexOf("//")===0?r=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?r=this.baseUrl+"/"+e:r=this.baseUrl+e,this.defaultQueryString){var i=rct.exec(r)[0];r=r.slice(0,r.length-i.length),r.indexOf("?")!==-1?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=i}return r},t.prototype._loadResource=function(e,n){var r=this;e._dequeue=n,Tk.eachSeries(this._beforeMiddleware,function(i,s){i.call(r,e,function(){s(e.isComplete?{}:null)})},function(){e.isComplete?r._onLoad(e):(e._onLoadBinding=e.onComplete.once(r._onLoad,r),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=Ck,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var n=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),Tk.eachSeries(this._afterMiddleware,function(r,i){r.call(n,e,i)},function(){e.onAfterMiddleware.dispatch(e),n.progress=Math.min(Ck,n.progress+e.progressChunk),n.onProgress.dispatch(n,e),e.error?n.onError.dispatch(e.error,n,e):n.onLoad.dispatch(n,e),n._resourcesParsing.splice(n._resourcesParsing.indexOf(e),1),n._queue.idle()&&n._resourcesParsing.length===0&&n._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return sl("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),qd.add({type:Wi.Loader,ref:e}),t},t._plugins=[],t}();qd.handleByList(Wi.Loader,$1._plugins);$1.prototype.add=function(e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;++s)this.add(e[s]);return this}if(typeof e=="object"&&(r=e,i=n||r.callback||r.onComplete,n=r.url,e=r.name||r.key||r.url),typeof n!="string"&&(i=r,r=n,n=e),typeof n!="string")throw new Error("No url passed to add resource to loader.");return typeof r=="function"&&(i=r,r=null),this._add(e,n,r,i)};var lle=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?$1.shared:new $1},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.extension=Wi.Application,t}(),ule=function(){function t(){}return t.add=function(){Ls.setExtensionLoadType("svg",Ls.LOAD_TYPE.XHR),Ls.setExtensionXhrType("svg",Ls.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,n){if(e.data&&(e.type===Ls.TYPE.IMAGE||e.extension==="svg")){var r=e.data,i=e.url,s=e.name,a=e.metadata;Or.fromLoader(r,i,s,a).then(function(o){e.texture=o,n()}).catch(n)}else n()},t.extension=Wi.Loader,t}(),ict="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function sct(t){for(var e="",n=0;n<t.length;){for(var r=[0,0,0],i=[0,0,0,0],s=0;s<r.length;++s)n<t.length?r[s]=t.charCodeAt(n++)&255:r[s]=0;i[0]=r[0]>>2,i[1]=(r[0]&3)<<4|r[1]>>4,i[2]=(r[1]&15)<<2|r[2]>>6,i[3]=r[2]&63;var a=n-(t.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var s=0;s<i.length;++s)e+=ict.charAt(i[s])}return e}function act(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===Ls.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var n=t.xhr.getResponseHeader("content-type");if(n&&n.indexOf("image")===0){t.data=new Image,t.data.src="data:"+n+";base64,"+sct(t.xhr.responseText),t.type=Ls.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var r=globalThis.URL||globalThis.webkitURL,i=r.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Ls.TYPE.IMAGE,t.data.onload=function(){r.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}var oct=function(){function t(){}return t.extension=Wi.Loader,t.use=act,t}();qd.add(ule,oct);/*!
 * @pixi/compressed-textures - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ui,Gr;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(Gr||(Gr={}));var N1=(Ui={},Ui[Gr.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Ui[Gr.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Ui[Gr.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Ui[Gr.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Ui[Gr.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Ui[Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Ui[Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Ui[Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Ui[Gr.COMPRESSED_R11_EAC]=.5,Ui[Gr.COMPRESSED_SIGNED_R11_EAC]=.5,Ui[Gr.COMPRESSED_RG11_EAC]=1,Ui[Gr.COMPRESSED_SIGNED_RG11_EAC]=1,Ui[Gr.COMPRESSED_RGB8_ETC2]=.5,Ui[Gr.COMPRESSED_RGBA8_ETC2_EAC]=1,Ui[Gr.COMPRESSED_SRGB8_ETC2]=.5,Ui[Gr.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Ui[Gr.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ui[Gr.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ui[Gr.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Ui[Gr.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Ui[Gr.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Ui[Gr.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Ui[Gr.COMPRESSED_RGB_ETC1_WEBGL]=.5,Ui[Gr.COMPRESSED_RGB_ATC_WEBGL]=.5,Ui[Gr.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Ui[Gr.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Ui[Gr.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,Ui);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nO=function(t,e){return nO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},nO(t,e)};function cle(t,e){nO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function lct(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})}function uct(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var dle=function(t){cle(e,t);function e(n,r){r===void 0&&(r={width:1,height:1,autoLoad:!0});var i=this,s,a;return typeof n=="string"?(s=n,a=new Uint8Array):(s=null,a=n),i=t.call(this,a,r)||this,i.origin=s,i.buffer=a?new KC(a):null,i.origin&&r.autoLoad!==!1&&i.load(),a&&a.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(n){},e.prototype.load=function(){return lct(this,void 0,Promise,function(){var n,r,i;return uct(this,function(s){switch(s.label){case 0:return[4,fetch(this.origin)];case 1:return n=s.sent(),[4,n.blob()];case 2:return r=s.sent(),[4,r.arrayBuffer()];case 3:return i=s.sent(),this.data=new Uint32Array(i),this.buffer=new KC(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(ig),ZC=function(t){cle(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.format=r.format,i.levels=r.levels||1,i._width=r.width,i._height=r.height,i._extension=e._formatToExtension(i.format),(r.levelBuffers||i.buffer)&&(i._levelBuffers=r.levelBuffers||e._createLevelBuffers(n instanceof Uint8Array?n:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(n,r,i){var s=n.gl,a=n.context.extensions[this._extension];if(!a)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var o=0,l=this.levels;o<l;o++){var u=this._levelBuffers[o],d=u.levelID,f=u.levelWidth,h=u.levelHeight,g=u.levelBuffer;s.compressedTexImage2D(s.TEXTURE_2D,d,this.format,f,h,0,g)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(n){if(n>=33776&&n<=33779)return"s3tc";if(n>=37488&&n<=37497)return"etc";if(n>=35840&&n<=35843)return"pvrtc";if(n>=36196)return"etc1";if(n>=35986&&n<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(n,r,i,s,a,o,l){for(var u=new Array(i),d=n.byteOffset,f=o,h=l,g=f+s-1&~(s-1),v=h+a-1&~(a-1),p=g*v*N1[r],_=0;_<i;_++)u[_]={levelID:_,levelWidth:i>1?f:g,levelHeight:i>1?h:v,levelBuffer:new Uint8Array(n.buffer,d,p)},d+=p,f=f>>1||1,h=h>>1||1,g=f+s-1&~(s-1),v=h+a-1&~(a-1),p=g*v*N1[r];return u},e}(dle),fle=function(){function t(){}return t.use=function(e,n){var r=e.data,i=this;if(e.type===Ls.TYPE.JSON&&r&&r.cacheID&&r.textures){for(var s=r.textures,a=void 0,o=void 0,l=0,u=s.length;l<u;l++){var d=s[l],f=d.src,h=d.format;if(h||(o=f),t.textureFormats[h]){a=f;break}}if(a=a||o,!a){n(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(a===e.url){n(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var g={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},v=wd.resolve(e.url.replace(i.baseUrl,""),a),p=r.cacheID;i.add(p,v,g,function(_){if(_.error){n(_.error);return}var S=_.texture,C=S===void 0?null:S,T=_.textures,A=T===void 0?{}:T;Object.assign(e,{texture:C,textures:A}),n()})}else n()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=Yn.ADAPTER.createCanvas(),n=e.getContext("webgl");if(!n)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var r={s3tc:n.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:n.getExtension("WEBGL_compressed_texture_etc"),etc1:n.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:n.getExtension("WEBGL_compressed_texture_atc"),astc:n.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=r}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var n in e){var r=e[n];r&&Object.assign(t._textureFormats,Object.getPrototypeOf(r))}}return t._textureFormats},enumerable:!1,configurable:!0}),t.extension=Wi.Loader,t}();function hle(t,e,n){var r={textures:{},texture:null};if(!e)return r;var i=e.map(function(s){return new Or(new gi(s,Object.assign({mipmap:Xu.OFF,alphaMode:Yu.NO_PREMULTIPLIED_ALPHA},n)))});return i.forEach(function(s,a){var o=s.baseTexture,l=t+"-"+(a+1);gi.addToCache(o,l),Or.addToCache(s,l),a===0&&(gi.addToCache(o,t),Or.addToCache(s,t),r.texture=s),r.textures[l]=s}),r}var n2,rc,Ek=4,lS=124,cct=32,xG=20,dct=542327876,uS={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},fct={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},cS={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},ac;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(ac||(ac={}));var rO;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(rO||(rO={}));var hct=1,pct=2,mct=4,gct=64,vct=512,yct=131072,_ct=827611204,bct=861165636,xct=894720068,wct=808540228,Sct=4,Tct=(n2={},n2[_ct]=Gr.COMPRESSED_RGBA_S3TC_DXT1_EXT,n2[bct]=Gr.COMPRESSED_RGBA_S3TC_DXT3_EXT,n2[xct]=Gr.COMPRESSED_RGBA_S3TC_DXT5_EXT,n2),Cct=(rc={},rc[ac.DXGI_FORMAT_BC1_TYPELESS]=Gr.COMPRESSED_RGBA_S3TC_DXT1_EXT,rc[ac.DXGI_FORMAT_BC1_UNORM]=Gr.COMPRESSED_RGBA_S3TC_DXT1_EXT,rc[ac.DXGI_FORMAT_BC2_TYPELESS]=Gr.COMPRESSED_RGBA_S3TC_DXT3_EXT,rc[ac.DXGI_FORMAT_BC2_UNORM]=Gr.COMPRESSED_RGBA_S3TC_DXT3_EXT,rc[ac.DXGI_FORMAT_BC3_TYPELESS]=Gr.COMPRESSED_RGBA_S3TC_DXT5_EXT,rc[ac.DXGI_FORMAT_BC3_UNORM]=Gr.COMPRESSED_RGBA_S3TC_DXT5_EXT,rc[ac.DXGI_FORMAT_BC1_UNORM_SRGB]=Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,rc[ac.DXGI_FORMAT_BC2_UNORM_SRGB]=Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,rc[ac.DXGI_FORMAT_BC3_UNORM_SRGB]=Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,rc);function ple(t){var e=new Uint32Array(t),n=e[0];if(n!==dct)throw new Error("Invalid DDS file magic word");var r=new Uint32Array(t,0,lS/Uint32Array.BYTES_PER_ELEMENT),i=r[uS.HEIGHT],s=r[uS.WIDTH],a=r[uS.MIPMAP_COUNT],o=new Uint32Array(t,uS.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,cct/Uint32Array.BYTES_PER_ELEMENT),l=o[hct];if(l&mct){var u=o[fct.FOURCC];if(u!==wct){var d=Tct[u],f=Ek+lS,h=new Uint8Array(t,f),g=new ZC(h,{format:d,width:s,height:i,levels:a});return[g]}var v=Ek+lS,p=new Uint32Array(e.buffer,v,xG/Uint32Array.BYTES_PER_ELEMENT),_=p[cS.DXGI_FORMAT],S=p[cS.RESOURCE_DIMENSION],C=p[cS.MISC_FLAG],T=p[cS.ARRAY_SIZE],A=Cct[_];if(A===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+_);if(C===Sct)throw new Error("DDSParser does not support cubemap textures");if(S===rO.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var P=new Array,D=Ek+lS+xG;if(T===1)P.push(new Uint8Array(t,D));else{for(var R=N1[A],N=0,U=s,Y=i,H=0;H<a;H++){var j=Math.max(1,U+3&-4),X=Math.max(1,Y+3&-4),W=j*X*R;N+=W,U=U>>>1,Y=Y>>>1}for(var F=D,H=0;H<T;H++)P.push(new Uint8Array(t,F,N)),F+=N}return P.map(function(te){return new ZC(te,{format:A,width:s,height:i,levels:a})})}throw l&gct?new Error("DDSParser does not support uncompressed texture data."):l&vct?new Error("DDSParser does not supported YUV uncompressed texture data."):l&yct?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&pct?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Oh,af,r2,wG=[171,75,84,88,32,49,49,187,13,10,26,10],Ect=67305985,ic={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},iO=64,sO=(Oh={},Oh[yr.UNSIGNED_BYTE]=1,Oh[yr.UNSIGNED_SHORT]=2,Oh[yr.INT]=4,Oh[yr.UNSIGNED_INT]=4,Oh[yr.FLOAT]=4,Oh[yr.HALF_FLOAT]=8,Oh),mle=(af={},af[$n.RGBA]=4,af[$n.RGB]=3,af[$n.RG]=2,af[$n.RED]=1,af[$n.LUMINANCE]=1,af[$n.LUMINANCE_ALPHA]=2,af[$n.ALPHA]=1,af),gle=(r2={},r2[yr.UNSIGNED_SHORT_4_4_4_4]=2,r2[yr.UNSIGNED_SHORT_5_5_5_1]=2,r2[yr.UNSIGNED_SHORT_5_6_5]=2,r2);function vle(t,e,n){n===void 0&&(n=!1);var r=new DataView(e);if(!Act(t,r))return null;var i=r.getUint32(ic.ENDIANNESS,!0)===Ect,s=r.getUint32(ic.GL_TYPE,i),a=r.getUint32(ic.GL_FORMAT,i),o=r.getUint32(ic.GL_INTERNAL_FORMAT,i),l=r.getUint32(ic.PIXEL_WIDTH,i),u=r.getUint32(ic.PIXEL_HEIGHT,i)||1,d=r.getUint32(ic.PIXEL_DEPTH,i)||1,f=r.getUint32(ic.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=r.getUint32(ic.NUMBER_OF_FACES,i),g=r.getUint32(ic.NUMBER_OF_MIPMAP_LEVELS,i),v=r.getUint32(ic.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||d!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var p=4,_=4,S=l+3&-4,C=u+3&-4,T=new Array(f),A=l*u;s===0&&(A=S*C);var P;if(s!==0?sO[s]?P=sO[s]*mle[a]:P=gle[s]:P=N1[o],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var D=n?kct(r,v,i):null,R=A*P,N=R,U=l,Y=u,H=S,j=C,X=iO+v,W=0;W<g;W++){for(var F=r.getUint32(X,i),te=X+4,G=0;G<f;G++){var K=T[G];K||(K=T[G]=new Array(g)),K[W]={levelID:W,levelWidth:g>1||s!==0?U:H,levelHeight:g>1||s!==0?Y:j,levelBuffer:new Uint8Array(e,te,N)},te+=N}X+=F+4,X=X%4!==0?X+4-X%4:X,U=U>>1||1,Y=Y>>1||1,H=U+p-1&~(p-1),j=Y+_-1&~(_-1),N=H*j*P}return s!==0?{uncompressed:T.map(function(ee){var de=ee[0].levelBuffer,ue=!1;return s===yr.FLOAT?de=new Float32Array(ee[0].levelBuffer.buffer,ee[0].levelBuffer.byteOffset,ee[0].levelBuffer.byteLength/4):s===yr.UNSIGNED_INT?(ue=!0,de=new Uint32Array(ee[0].levelBuffer.buffer,ee[0].levelBuffer.byteOffset,ee[0].levelBuffer.byteLength/4)):s===yr.INT&&(ue=!0,de=new Int32Array(ee[0].levelBuffer.buffer,ee[0].levelBuffer.byteOffset,ee[0].levelBuffer.byteLength/4)),{resource:new ig(de,{width:ee[0].levelWidth,height:ee[0].levelHeight}),type:s,format:ue?Pct(a):a}}),kvData:D}:{compressed:T.map(function(ee){return new ZC(null,{format:o,width:l,height:u,levels:g,levelBuffers:ee})}),kvData:D}}function Act(t,e){for(var n=0;n<wG.length;n++)if(e.getUint8(n)!==wG[n])return console.error(t+" is not a valid *.ktx file!"),!1;return!0}function Pct(t){switch(t){case $n.RGBA:return $n.RGBA_INTEGER;case $n.RGB:return $n.RGB_INTEGER;case $n.RG:return $n.RG_INTEGER;case $n.RED:return $n.RED_INTEGER;default:return t}}function kct(t,e,n){for(var r=new Map,i=0;i<e;){var s=t.getUint32(iO+i,n),a=iO+i+4,o=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<s&&t.getUint8(a+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=new TextDecoder().decode(new Uint8Array(t.buffer,a,l)),d=new DataView(t.buffer,a+l+1,s-l-1);r.set(u,d),i+=4+s+o}return r}Ls.setExtensionXhrType("dds",Ls.XHR_RESPONSE_TYPE.BUFFER);var yle=function(){function t(){}return t.use=function(e,n){if(e.extension==="dds"&&e.data)try{Object.assign(e,hle(e.name||e.url,ple(e.data),e.metadata))}catch(r){n(r);return}n()},t.extension=Wi.Loader,t}();Ls.setExtensionXhrType("ktx",Ls.XHR_RESPONSE_TYPE.BUFFER);var _le=function(){function t(){}return t.use=function(e,n){if(e.extension==="ktx"&&e.data)try{var r=e.name||e.url,i=vle(r,e.data,this.loadKeyValueData),s=i.compressed,a=i.uncompressed,o=i.kvData;if(s){var l=hle(r,s,e.metadata);if(o&&l.textures)for(var u in l.textures)l.textures[u].baseTexture.ktxKeyValueData=o;Object.assign(e,l)}else if(a){var d={};a.forEach(function(f,h){var g=new Or(new gi(f.resource,{mipmap:Xu.OFF,alphaMode:Yu.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),v=r+"-"+(h+1);o&&(g.baseTexture.ktxKeyValueData=o),gi.addToCache(g.baseTexture,v),Or.addToCache(g,v),h===0&&(d[r]=g,gi.addToCache(g.baseTexture,r),Or.addToCache(g,r)),d[v]=g}),Object.assign(e,{textures:d})}}catch(f){n(f);return}n()},t.extension=Wi.Loader,t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var aO=function(t,e){return aO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},aO(t,e)};function ble(t,e){aO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Dct=function(t){ble(e,t);function e(n,r,i,s){n===void 0&&(n=1500),i===void 0&&(i=16384),s===void 0&&(s=!1);var a=t.call(this)||this,o=16384;return i>o&&(i=o),a._properties=[!1,!0,!1,!1,!1],a._maxSize=n,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=br.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(r),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return e.prototype.setProperties=function(n){n&&(this._properties[0]="vertices"in n||"scale"in n?!!n.vertices||!!n.scale:this._properties[0],this._properties[1]="position"in n?!!n.position:this._properties[1],this._properties[2]="rotation"in n?!!n.rotation:this._properties[2],this._properties[3]="uvs"in n?!!n.uvs:this._properties[3],this._properties[4]="tint"in n||"alpha"in n?!!n.tint||!!n.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(n){this._tint=n,Bm(n,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(n){var r=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return r.onChildrenChange(0)})),n.batch.setObjectRenderer(n.plugins.particle),n.plugins.particle.render(this))},e.prototype.onChildrenChange=function(n){for(var r=Math.floor(n/this._batchSize);this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._buffers=null}},e.prototype.destroy=function(n){t.prototype.destroy.call(this,n),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Ku),SG=function(){function t(e,n,r){this.geometry=new h_,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||yr.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,n=0;this.indexBuffer=new pa(moe(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];i.offset=n,n+=i.size,this.dynamicStride+=i.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new pa(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var r=0;r<this.staticProperties.length;++r){var i=this.staticProperties[r];i.offset=a,a+=i.size,this.staticStride+=i.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new pa(this.staticData,!0,!1);for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===yr.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var r=0;r<this.staticProperties.length;++r){var i=this.staticProperties[r];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===yr.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,n,r){for(var i=0;i<this.dynamicProperties.length;i++){var s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===yr.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,n,r){for(var i=0;i<this.staticProperties.length;i++){var s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===yr.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),Ict=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Rct=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,xle=function(t){ble(e,t);function e(n){var r=t.call(this,n)||this;return r.shader=null,r.properties=null,r.tempMatrix=new As,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:yr.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=Mf.from(Rct,Ict,{}),r.state=Qp.for2d(),r}return e.prototype.render=function(n){var r=n.children,i=n._maxSize,s=n._batchSize,a=this.renderer,o=r.length;if(o!==0){o>i&&!n.autoResize&&(o=i);var l=n._buffers;l||(l=n._buffers=this.generateBuffers(n));var u=r[0]._texture.baseTexture,d=u.alphaMode>0;this.state.blendMode=Y$(n.blendMode,d),a.state.set(this.state);var f=a.gl,h=n.worldTransform.copyTo(this.tempMatrix);h.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=poe(n.tintRgb,n.worldAlpha,this.shader.uniforms.uColor,d),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);for(var g=!1,v=0,p=0;v<o;v+=s,p+=1){var _=o-v;_>s&&(_=s),p>=l.length&&l.push(this._generateOneMoreBuffer(n));var S=l[p];S.uploadDynamic(r,v,_);var C=n._bufferUpdateIDs[p]||0;g=g||S._updateID<C,g&&(S._updateID=n._updateID,S.uploadStatic(r,v,_)),a.geometry.bind(S.geometry),f.drawElements(f.TRIANGLES,_*6,f.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(n){for(var r=[],i=n._maxSize,s=n._batchSize,a=n._properties,o=0;o<i;o+=s)r.push(new SG(this.properties,a,s));return r},e.prototype._generateOneMoreBuffer=function(n){var r=n._batchSize,i=n._properties;return new SG(this.properties,i,r)},e.prototype.uploadVertices=function(n,r,i,s,a,o){for(var l=0,u=0,d=0,f=0,h=0;h<i;++h){var g=n[r+h],v=g._texture,p=g.scale.x,_=g.scale.y,S=v.trim,C=v.orig;S?(u=S.x-g.anchor.x*C.width,l=u+S.width,f=S.y-g.anchor.y*C.height,d=f+S.height):(l=C.width*(1-g.anchor.x),u=C.width*-g.anchor.x,d=C.height*(1-g.anchor.y),f=C.height*-g.anchor.y),s[o]=u*p,s[o+1]=f*_,s[o+a]=l*p,s[o+a+1]=f*_,s[o+a*2]=l*p,s[o+a*2+1]=d*_,s[o+a*3]=u*p,s[o+a*3+1]=d*_,o+=a*4}},e.prototype.uploadPosition=function(n,r,i,s,a,o){for(var l=0;l<i;l++){var u=n[r+l].position;s[o]=u.x,s[o+1]=u.y,s[o+a]=u.x,s[o+a+1]=u.y,s[o+a*2]=u.x,s[o+a*2+1]=u.y,s[o+a*3]=u.x,s[o+a*3+1]=u.y,o+=a*4}},e.prototype.uploadRotation=function(n,r,i,s,a,o){for(var l=0;l<i;l++){var u=n[r+l].rotation;s[o]=u,s[o+a]=u,s[o+a*2]=u,s[o+a*3]=u,o+=a*4}},e.prototype.uploadUvs=function(n,r,i,s,a,o){for(var l=0;l<i;++l){var u=n[r+l]._texture._uvs;u?(s[o]=u.x0,s[o+1]=u.y0,s[o+a]=u.x1,s[o+a+1]=u.y1,s[o+a*2]=u.x2,s[o+a*2+1]=u.y2,s[o+a*3]=u.x3,s[o+a*3+1]=u.y3,o+=a*4):(s[o]=0,s[o+1]=0,s[o+a]=0,s[o+a+1]=0,s[o+a*2]=0,s[o+a*2+1]=0,s[o+a*3]=0,s[o+a*3+1]=0,o+=a*4)}},e.prototype.uploadTint=function(n,r,i,s,a,o){for(var l=0;l<i;++l){var u=n[r+l],d=u._texture.baseTexture.alphaMode>0,f=u.alpha,h=f<1&&d?ZA(u._tintRGB,f):u._tintRGB+(f*255<<24);s[o]=h,s[o+a]=h,s[o+a*2]=h,s[o+a*3]=h,o+=a*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e.extension={name:"particle",type:Wi.RendererPlugin},e}(Ox);/*!
 * @pixi/graphics - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var gd;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(gd||(gd={}));var Pf;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(Pf||(Pf={}));var Sy={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},A5=function(){function t(){this.color=16777215,this.alpha=1,this.texture=Or.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Or.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oO=function(t,e){return oO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},oO(t,e)};function P5(t,e){oO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function TG(t,e){var n,r;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var s=0,a=0,o=t[i-2],l=t[i-1];a<i;a+=2){var u=t[a],d=t[a+1];s+=(u-o)*(d+l),o=u,l=d}if(!e&&s>0||e&&s<=0)for(var f=i/2,a=f+f%2;a<i;a+=2){var h=i-a-2,g=i-a-1,v=a,p=a+1;n=[t[v],t[h]],t[h]=n[0],t[v]=n[1],r=[t[p],t[g]],t[g]=r[0],t[p]=r[1]}}}var k5={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var n=t.points,r=t.holes,i=e.points,s=e.indices;if(n.length>=6){TG(n,!1);for(var a=[],o=0;o<r.length;o++){var l=r[o];TG(l.points,!0),a.push(n.length/2),n=n.concat(l.points)}var u=B$(n,a,2);if(!u)return;for(var d=i.length/2,o=0;o<u.length;o+=3)s.push(u[o]+d),s.push(u[o+1]+d),s.push(u[o+2]+d);for(var o=0;o<n.length;o++)i.push(n[o])}}},F1={build:function(t){var e=t.points,n,r,i,s,a,o;if(t.type===Pa.CIRC){var l=t.shape;n=l.x,r=l.y,a=o=l.radius,i=s=0}else if(t.type===Pa.ELIP){var u=t.shape;n=u.x,r=u.y,a=u.width,o=u.height,i=s=0}else{var d=t.shape,f=d.width/2,h=d.height/2;n=d.x+f,r=d.y+h,a=o=Math.max(0,Math.min(d.radius,Math.min(f,h))),i=f-a,s=h-o}if(!(a>=0&&o>=0&&i>=0&&s>=0)){e.length=0;return}var g=Math.ceil(2.3*Math.sqrt(a+o)),v=g*8+(i?4:0)+(s?4:0);if(e.length=v,v!==0){if(g===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}var p=0,_=g*4+(i?2:0)+2,S=_,C=v;{var T=i+a,A=s,P=n+T,D=n-T,R=r+A;if(e[p++]=P,e[p++]=R,e[--_]=R,e[--_]=D,s){var N=r-A;e[S++]=D,e[S++]=N,e[--C]=N,e[--C]=P}}for(var U=1;U<g;U++){var Y=Math.PI/2*(U/g),T=i+Math.cos(Y)*a,A=s+Math.sin(Y)*o,P=n+T,D=n-T,R=r+A,N=r-A;e[p++]=P,e[p++]=R,e[--_]=R,e[--_]=D,e[S++]=D,e[S++]=N,e[--C]=N,e[--C]=P}{var T=i,A=s+o,P=n+T,D=n-T,R=r+A,N=r-A;e[p++]=P,e[p++]=R,e[--C]=N,e[--C]=P,i&&(e[p++]=D,e[p++]=R,e[--C]=N,e[--C]=D)}}},triangulate:function(t,e){var n=t.points,r=e.points,i=e.indices;if(n.length!==0){var s=r.length/2,a=s,o,l;if(t.type!==Pa.RREC){var u=t.shape;o=u.x,l=u.y}else{var d=t.shape;o=d.x+d.width/2,l=d.y+d.height/2}var f=t.matrix;r.push(t.matrix?f.a*o+f.c*l+f.tx:o,t.matrix?f.b*o+f.d*l+f.ty:l),s++,r.push(n[0],n[1]);for(var h=2;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(s++,a,s);i.push(a+1,a,s)}}},wle={build:function(t){var e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,a=t.points;a.length=0,a.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate:function(t,e){var n=t.points,r=e.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Mg(t,e,n){var r=e-t;return t+r*n}function dS(t,e,n,r,i,s,a){a===void 0&&(a=[]);for(var o=20,l=a,u=0,d=0,f=0,h=0,g=0,v=0,p=0,_=0;p<=o;++p)_=p/o,u=Mg(t,n,_),d=Mg(e,r,_),f=Mg(n,i,_),h=Mg(r,s,_),g=Mg(u,f,_),v=Mg(d,h,_),!(p===0&&l[l.length-2]===g&&l[l.length-1]===v)&&l.push(g,v);return l}var Sle={build:function(t){if(B1.nextRoundedRectBehavior){F1.build(t);return}var e=t.shape,n=t.points,r=e.x,i=e.y,s=e.width,a=e.height,o=Math.max(0,Math.min(e.radius,Math.min(s,a)/2));n.length=0,o?(dS(r,i+o,r,i,r+o,i,n),dS(r+s-o,i,r+s,i,r+s,i+o,n),dS(r+s,i+a-o,r+s,i+a,r+s-o,i+a,n),dS(r+o,i+a,r,i+a,r,i+a-o,n)):n.push(r,i,r+s,i,r+s,i+a,r,i+a)},triangulate:function(t,e){if(B1.nextRoundedRectBehavior){F1.triangulate(t,e);return}for(var n=t.points,r=e.points,i=e.indices,s=r.length/2,a=B$(n,null,2),o=0,l=a.length;o<l;o+=3)i.push(a[o]+s),i.push(a[o+1]+s),i.push(a[o+2]+s);for(var o=0,l=n.length;o<l;o++)r.push(n[o],n[++o])}};function CG(t,e,n,r,i,s,a,o){var l=t-n*i,u=e-r*i,d=t+n*s,f=e+r*s,h,g;a?(h=r,g=-n):(h=-r,g=n);var v=l+h,p=u+g,_=d+h,S=f+g;return o.push(v,p),o.push(_,S),2}function w0(t,e,n,r,i,s,a,o){var l=n-t,u=r-e,d=Math.atan2(l,u),f=Math.atan2(i-t,s-e);o&&d<f?d+=Math.PI*2:!o&&d>f&&(f+=Math.PI*2);var h=d,g=f-d,v=Math.abs(g),p=Math.sqrt(l*l+u*u),_=(15*v*Math.sqrt(p)/Math.PI>>0)+1,S=g/_;if(h+=S,o){a.push(t,e),a.push(n,r);for(var C=1,T=h;C<_;C++,T+=S)a.push(t,e),a.push(t+Math.sin(T)*p,e+Math.cos(T)*p);a.push(t,e),a.push(i,s)}else{a.push(n,r),a.push(t,e);for(var C=1,T=h;C<_;C++,T+=S)a.push(t+Math.sin(T)*p,e+Math.cos(T)*p),a.push(t,e);a.push(i,s),a.push(t,e)}return _*2}function Oct(t,e){var n=t.shape,r=t.points||n.points.slice(),i=e.closePointEps;if(r.length!==0){var s=t.lineStyle,a=new rs(r[0],r[1]),o=new rs(r[r.length-2],r[r.length-1]),l=n.type!==Pa.POLY||n.closeStroke,u=Math.abs(a.x-o.x)<i&&Math.abs(a.y-o.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),o.set(r[r.length-2],r[r.length-1]));var d=(a.x+o.x)*.5,f=(o.y+a.y)*.5;r.unshift(d,f),r.push(d,f)}var h=e.points,g=r.length/2,v=r.length,p=h.length/2,_=s.width/2,S=_*_,C=s.miterLimit*s.miterLimit,T=r[0],A=r[1],P=r[2],D=r[3],R=0,N=0,U=-(A-D),Y=T-P,H=0,j=0,X=Math.sqrt(U*U+Y*Y);U/=X,Y/=X,U*=_,Y*=_;var W=s.alignment,F=(1-W)*2,te=W*2;l||(s.cap===Pf.ROUND?v+=w0(T-U*(F-te)*.5,A-Y*(F-te)*.5,T-U*F,A-Y*F,T+U*te,A+Y*te,h,!0)+2:s.cap===Pf.SQUARE&&(v+=CG(T,A,U,Y,F,te,!0,h))),h.push(T-U*F,A-Y*F),h.push(T+U*te,A+Y*te);for(var G=1;G<g-1;++G){T=r[(G-1)*2],A=r[(G-1)*2+1],P=r[G*2],D=r[G*2+1],R=r[(G+1)*2],N=r[(G+1)*2+1],U=-(A-D),Y=T-P,X=Math.sqrt(U*U+Y*Y),U/=X,Y/=X,U*=_,Y*=_,H=-(D-N),j=P-R,X=Math.sqrt(H*H+j*j),H/=X,j/=X,H*=_,j*=_;var K=P-T,ee=A-D,de=P-R,ue=N-D,me=K*de+ee*ue,Ee=ee*de-ue*K,Oe=Ee<0;if(Math.abs(Ee)<.001*Math.abs(me)){h.push(P-U*F,D-Y*F),h.push(P+U*te,D+Y*te),me>=0&&(s.join===gd.ROUND?v+=w0(P,D,P-U*F,D-Y*F,P-H*F,D-j*F,h,!1)+4:v+=2,h.push(P-H*te,D-j*te),h.push(P+H*F,D+j*F));continue}var Ge=(-U+T)*(-Y+D)-(-U+P)*(-Y+A),$e=(-H+R)*(-j+D)-(-H+P)*(-j+N),Ie=(K*$e-de*Ge)/Ee,Ke=(ue*Ge-ee*$e)/Ee,Xe=(Ie-P)*(Ie-P)+(Ke-D)*(Ke-D),Ze=P+(Ie-P)*F,bt=D+(Ke-D)*F,ht=P-(Ie-P)*te,ae=D-(Ke-D)*te,Re=Math.min(K*K+ee*ee,de*de+ue*ue),rt=Oe?F:te,Ye=Re+rt*rt*S,it=Xe<=Ye;it?s.join===gd.BEVEL||Xe/S>C?(Oe?(h.push(Ze,bt),h.push(P+U*te,D+Y*te),h.push(Ze,bt),h.push(P+H*te,D+j*te)):(h.push(P-U*F,D-Y*F),h.push(ht,ae),h.push(P-H*F,D-j*F),h.push(ht,ae)),v+=2):s.join===gd.ROUND?Oe?(h.push(Ze,bt),h.push(P+U*te,D+Y*te),v+=w0(P,D,P+U*te,D+Y*te,P+H*te,D+j*te,h,!0)+4,h.push(Ze,bt),h.push(P+H*te,D+j*te)):(h.push(P-U*F,D-Y*F),h.push(ht,ae),v+=w0(P,D,P-U*F,D-Y*F,P-H*F,D-j*F,h,!1)+4,h.push(P-H*F,D-j*F),h.push(ht,ae)):(h.push(Ze,bt),h.push(ht,ae)):(h.push(P-U*F,D-Y*F),h.push(P+U*te,D+Y*te),s.join===gd.ROUND?Oe?v+=w0(P,D,P+U*te,D+Y*te,P+H*te,D+j*te,h,!0)+2:v+=w0(P,D,P-U*F,D-Y*F,P-H*F,D-j*F,h,!1)+2:s.join===gd.MITER&&Xe/S<=C&&(Oe?(h.push(ht,ae),h.push(ht,ae)):(h.push(Ze,bt),h.push(Ze,bt)),v+=2),h.push(P-H*F,D-j*F),h.push(P+H*te,D+j*te),v+=2)}T=r[(g-2)*2],A=r[(g-2)*2+1],P=r[(g-1)*2],D=r[(g-1)*2+1],U=-(A-D),Y=T-P,X=Math.sqrt(U*U+Y*Y),U/=X,Y/=X,U*=_,Y*=_,h.push(P-U*F,D-Y*F),h.push(P+U*te,D+Y*te),l||(s.cap===Pf.ROUND?v+=w0(P-U*(F-te)*.5,D-Y*(F-te)*.5,P-U*F,D-Y*F,P+U*te,D+Y*te,h,!1)+2:s.cap===Pf.SQUARE&&(v+=CG(P,D,U,Y,F,te,!1,h)));for(var St=e.indices,Lt=Sy.epsilon*Sy.epsilon,G=p;G<v+p-2;++G)T=h[G*2],A=h[G*2+1],P=h[(G+1)*2],D=h[(G+1)*2+1],R=h[(G+2)*2],N=h[(G+2)*2+1],!(Math.abs(T*(D-N)+P*(N-A)+R*(A-D))<Lt)&&St.push(G,G+1,G+2)}}function Mct(t,e){var n=0,r=t.shape,i=t.points||r.points,s=r.type!==Pa.POLY||r.closeStroke;if(i.length!==0){var a=e.points,o=e.indices,l=i.length/2,u=a.length/2,d=u;for(a.push(i[0],i[1]),n=1;n<l;n++)a.push(i[n*2],i[n*2+1]),o.push(d,d+1),d++;s&&o.push(d,u)}}function lO(t,e){t.lineStyle.native?Mct(t,e):Oct(t,e)}var uO=function(){function t(){}return t.curveTo=function(e,n,r,i,s,a){var o=a[a.length-2],l=a[a.length-1],u=l-n,d=o-e,f=i-n,h=r-e,g=Math.abs(u*h-d*f);if(g<1e-8||s===0)return(a[a.length-2]!==e||a[a.length-1]!==n)&&a.push(e,n),null;var v=u*u+d*d,p=f*f+h*h,_=u*f+d*h,S=s*Math.sqrt(v)/g,C=s*Math.sqrt(p)/g,T=S*_/v,A=C*_/p,P=S*h+C*d,D=S*f+C*u,R=d*(C+T),N=u*(C+T),U=h*(S+A),Y=f*(S+A),H=Math.atan2(N-D,R-P),j=Math.atan2(Y-D,U-P);return{cx:P+e,cy:D+n,radius:s,startAngle:H,endAngle:j,anticlockwise:d*f>h*u}},t.arc=function(e,n,r,i,s,a,o,l,u){for(var d=o-a,f=Sy._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/O1)*40),h=d/(f*2),g=h*2,v=Math.cos(h),p=Math.sin(h),_=f-1,S=_%1/_,C=0;C<=_;++C){var T=C+S*C,A=h+a+g*T,P=Math.cos(A),D=-Math.sin(A);u.push((v*P+p*D)*s+r,(v*-D+p*P)*s+i)}},t}(),Tle=function(){function t(){}return t.curveLength=function(e,n,r,i,s,a,o,l){for(var u=10,d=0,f=0,h=0,g=0,v=0,p=0,_=0,S=0,C=0,T=0,A=0,P=e,D=n,R=1;R<=u;++R)f=R/u,h=f*f,g=h*f,v=1-f,p=v*v,_=p*v,S=_*e+3*p*f*r+3*v*h*s+g*o,C=_*n+3*p*f*i+3*v*h*a+g*l,T=P-S,A=D-C,P=S,D=C,d+=Math.sqrt(T*T+A*A);return d},t.curveTo=function(e,n,r,i,s,a,o){var l=o[o.length-2],u=o[o.length-1];o.length-=2;var d=Sy._segmentsCount(t.curveLength(l,u,e,n,r,i,s,a)),f=0,h=0,g=0,v=0,p=0;o.push(l,u);for(var _=1,S=0;_<=d;++_)S=_/d,f=1-S,h=f*f,g=h*f,v=S*S,p=v*S,o.push(g*l+3*h*S*e+3*f*v*r+p*s,g*u+3*h*S*n+3*f*v*i+p*a)},t}(),Cle=function(){function t(){}return t.curveLength=function(e,n,r,i,s,a){var o=e-2*r+s,l=n-2*i+a,u=2*r-2*e,d=2*i-2*n,f=4*(o*o+l*l),h=4*(o*u+l*d),g=u*u+d*d,v=2*Math.sqrt(f+h+g),p=Math.sqrt(f),_=2*f*p,S=2*Math.sqrt(g),C=h/p;return(_*v+p*h*(v-S)+(4*g*f-h*h)*Math.log((2*p+C+v)/(C+S)))/(4*_)},t.curveTo=function(e,n,r,i,s){for(var a=s[s.length-2],o=s[s.length-1],l=Sy._segmentsCount(t.curveLength(a,o,e,n,r,i)),u=0,d=0,f=1;f<=l;++f){var h=f/l;u=a+(e-a)*h,d=o+(n-o)*h,s.push(u+(e+(r-e)*h-u)*h,d+(n+(i-n)*h-d)*h)}},t}(),Ele=function(){function t(){this.reset()}return t.prototype.begin=function(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r},t.prototype.end=function(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),S0,hT=(S0={},S0[Pa.POLY]=k5,S0[Pa.CIRC]=F1,S0[Pa.ELIP]=F1,S0[Pa.RECT]=wle,S0[Pa.RREC]=Sle,S0),cO=[],R2=[],dO=function(){function t(e,n,r,i){n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Lg=new rs,Ale=function(t){P5(e,t);function e(){var n=t.call(this)||this;return n.closePointEps=1e-4,n.boundsPadding=0,n.uvsFloat32=null,n.indicesUint16=null,n.batchable=!1,n.points=[],n.colors=[],n.uvs=[],n.indices=[],n.textureIds=[],n.graphicsData=[],n.drawCalls=[],n.batchDirty=-1,n.batches=[],n.dirty=0,n.cacheDirty=-1,n.clearDirty=0,n.shapeIndex=0,n._bounds=new M1,n.boundsDirty=-1,n}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),R2.push(this.drawCalls[n]);this.drawCalls.length=0;for(var n=0;n<this.batches.length;n++){var r=this.batches[n];r.reset(),cO.push(r)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(n,r,i,s){r===void 0&&(r=null),i===void 0&&(i=null),s===void 0&&(s=null);var a=new dO(n,r,i,s);return this.graphicsData.push(a),this.dirty++,this},e.prototype.drawHole=function(n,r){if(r===void 0&&(r=null),!this.graphicsData.length)return null;var i=new dO(n,null,null,r),s=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=s.lineStyle,s.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(n){for(var r=this.graphicsData,i=0;i<r.length;++i){var s=r[i];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(n,Lg):Lg.copyFrom(n),s.shape.contains(Lg.x,Lg.y))){var a=!1;if(s.holes)for(var o=0;o<s.holes.length;o++){var l=s.holes[o];if(l.shape.contains(Lg.x,Lg.y)){a=!0;break}}if(!a)return!0}}return!1},e.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,r=this.graphicsData,i=null,s=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],s=i.style);for(var a=this.shapeIndex;a<r.length;a++){this.shapeIndex++;var o=r[a],l=o.fillStyle,u=o.lineStyle,d=hT[o.type];d.build(o),o.matrix&&this.transformPoints(o.points,o.matrix),(l.visible||u.visible)&&this.processHoles(o.holes);for(var f=0;f<2;f++){var h=f===0?l:u;if(h.visible){var g=h.texture.baseTexture,v=this.indices.length,p=this.points.length/2;g.wrapMode=yc.REPEAT,f===0?this.processFill(o):this.processLine(o);var _=this.points.length/2-p;_!==0&&(i&&!this._compareStyles(s,h)&&(i.end(v,p),i=null),i||(i=cO.pop()||new Ele,i.begin(h,v,p),this.batches.push(i),s=h),this.addUvs(this.points,n,h.texture,p,_,h.matrix))}}}var S=this.indices.length,C=this.points.length/2;if(i&&i.end(S,C),this.batches.length===0){this.batchable=!0;return}var T=C>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&T===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=T?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(n,r){return!(!n||!r||n.texture.baseTexture!==r.texture.baseTexture||n.color+n.alpha!==r.color+r.alpha||!!n.native!=!!r.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var n=0,r=this.graphicsData.length;n<r;n++){var i=this.graphicsData[n],s=i.fillStyle,a=i.lineStyle;if(s&&!s.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var n=this.batches,r=0,i=n.length;r<i;r++)for(var s=n[r],a=0;a<s.size;a++){var o=s.start+a;this.indicesUint16[o]=this.indicesUint16[o]-s.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var n=this.batches,r=0;r<n.length;r++)if(n[r].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var n=++gi._globalBatch,r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),R2.push(this.drawCalls[r]);this.drawCalls.length=0;var i=this.colors,s=this.textureIds,a=R2.pop();a||(a=new XC,a.texArray=new YC),a.texArray.count=0,a.start=0,a.size=0,a.type=Ru.TRIANGLES;var o=0,l=null,u=0,d=!1,f=Ru.TRIANGLES,h=0;this.drawCalls.push(a);for(var r=0;r<this.batches.length;r++){var g=this.batches[r],v=8,p=g.style,_=p.texture.baseTexture;d!==!!p.native&&(d=!!p.native,f=d?Ru.LINES:Ru.TRIANGLES,l=null,o=v,n++),l!==_&&(l=_,_._batchEnabled!==n&&(o===v&&(n++,o=0,a.size>0&&(a=R2.pop(),a||(a=new XC,a.texArray=new YC),this.drawCalls.push(a)),a.start=h,a.size=0,a.texArray.count=0,a.type=f),_.touched=1,_._batchEnabled=n,_._batchLocation=o,_.wrapMode=yc.REPEAT,a.texArray.elements[a.texArray.count++]=_,o++)),a.size+=g.size,h+=g.size,u=_._batchLocation,this.addColors(i,p.color,p.alpha,g.attribSize,g.attribStart),this.addTextureIds(s,u,g.attribSize,g.attribStart)}gi._globalBatch=n,this.packAttributes()},e.prototype.packAttributes=function(){for(var n=this.points,r=this.uvs,i=this.colors,s=this.textureIds,a=new ArrayBuffer(n.length*3*4),o=new Float32Array(a),l=new Uint32Array(a),u=0,d=0;d<n.length/2;d++)o[u++]=n[d*2],o[u++]=n[d*2+1],o[u++]=r[d*2],o[u++]=r[d*2+1],l[u++]=i[d],o[u++]=s[d];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(n){if(n.holes.length)k5.triangulate(n,this);else{var r=hT[n.type];r.triangulate(n,this)}},e.prototype.processLine=function(n){lO(n,this);for(var r=0;r<n.holes.length;r++)lO(n.holes[r],this)},e.prototype.processHoles=function(n){for(var r=0;r<n.length;r++){var i=n[r],s=hT[i.type];s.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var n=this._bounds;n.clear(),n.addVertexData(this.points,0,this.points.length),n.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(n,r){for(var i=0;i<n.length/2;i++){var s=n[i*2],a=n[i*2+1];n[i*2]=r.a*s+r.c*a+r.tx,n[i*2+1]=r.b*s+r.d*a+r.ty}},e.prototype.addColors=function(n,r,i,s,a){a===void 0&&(a=0);var o=(r>>16)+(r&65280)+((r&255)<<16),l=ZA(o,i);n.length=Math.max(n.length,a+s);for(var u=0;u<s;u++)n[a+u]=l},e.prototype.addTextureIds=function(n,r,i,s){s===void 0&&(s=0),n.length=Math.max(n.length,s+i);for(var a=0;a<i;a++)n[s+a]=r},e.prototype.addUvs=function(n,r,i,s,a,o){o===void 0&&(o=null);for(var l=0,u=r.length,d=i.frame;l<a;){var f=n[(s+l)*2],h=n[(s+l)*2+1];if(o){var g=o.a*f+o.c*h+o.tx;h=o.b*f+o.d*h+o.ty,f=g}l++,r.push(f/d.width,h/d.height)}var v=i.baseTexture;(d.width<v.width||d.height<v.height)&&this.adjustUvs(r,i,u,a)},e.prototype.adjustUvs=function(n,r,i,s){for(var a=r.baseTexture,o=1e-6,l=i+s*2,u=r.frame,d=u.width/a.width,f=u.height/a.height,h=u.x/u.width,g=u.y/u.height,v=Math.floor(n[i]+o),p=Math.floor(n[i+1]+o),_=i+2;_<l;_+=2)v=Math.min(v,Math.floor(n[_]+o)),p=Math.min(p,Math.floor(n[_+1]+o));h-=v,g-=p;for(var _=i;_<l;_+=2)n[_]=(n[_]+h)*d,n[_+1]=(n[_+1]+g)*f},e.BATCHABLE_SIZE=100,e}(T5),Ple=function(t){P5(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.width=0,n.alignment=.5,n.native=!1,n.cap=Pf.BUTT,n.join=gd.MITER,n.miterLimit=10,n}return e.prototype.clone=function(){var n=new e;return n.color=this.color,n.alpha=this.alpha,n.texture=this.texture,n.matrix=this.matrix,n.visible=this.visible,n.width=this.width,n.alignment=this.alignment,n.native=this.native,n.cap=this.cap,n.join=this.join,n.miterLimit=this.miterLimit,n},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(A5),Lct=new Float32Array(3),Ak={},B1=function(t){P5(e,t);function e(n){n===void 0&&(n=null);var r=t.call(this)||this;return r.shader=null,r.pluginName="batch",r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r._fillStyle=new A5,r._lineStyle=new Ple,r._matrix=null,r._holeMode=!1,r.state=Qp.for2d(),r._geometry=n||new Ale,r._geometry.refCount++,r._transformID=-1,r.tint=16777215,r.blendMode=br.NORMAL,r}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(n){this.state.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(n){this._tint=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(n,r,i,s,a){return n===void 0&&(n=null),r===void 0&&(r=0),i===void 0&&(i=1),s===void 0&&(s=.5),a===void 0&&(a=!1),typeof n=="number"&&(n={width:n,color:r,alpha:i,alignment:s,native:a}),this.lineTextureStyle(n)},e.prototype.lineTextureStyle=function(n){n=Object.assign({width:0,texture:Or.WHITE,color:n&&n.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Pf.BUTT,join:gd.MITER,miterLimit:10},n),this.currentPath&&this.startPoly();var r=n.width>0&&n.alpha>0;return r?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._lineStyle,{visible:r},n)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var n=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new xb,this.currentPath.closeStroke=!1,this.currentPath.points.push(n[r-2],n[r-1]))}else this.currentPath=new xb,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(n,r){return this.startPoly(),this.currentPath.points[0]=n,this.currentPath.points[1]=r,this},e.prototype.lineTo=function(n,r){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,s=i[i.length-2],a=i[i.length-1];return(s!==n||a!==r)&&i.push(n,r),this},e.prototype._initCurve=function(n,r){n===void 0&&(n=0),r===void 0&&(r=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[n,r]):this.moveTo(n,r)},e.prototype.quadraticCurveTo=function(n,r,i,s){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),Cle.curveTo(n,r,i,s,a),this},e.prototype.bezierCurveTo=function(n,r,i,s,a,o){return this._initCurve(),Tle.curveTo(n,r,i,s,a,o,this.currentPath.points),this},e.prototype.arcTo=function(n,r,i,s,a){this._initCurve(n,r);var o=this.currentPath.points,l=uO.curveTo(n,r,i,s,a,o);if(l){var u=l.cx,d=l.cy,f=l.radius,h=l.startAngle,g=l.endAngle,v=l.anticlockwise;this.arc(u,d,f,h,g,v)}return this},e.prototype.arc=function(n,r,i,s,a,o){if(o===void 0&&(o=!1),s===a)return this;!o&&a<=s?a+=O1:o&&s<=a&&(s+=O1);var l=a-s;if(l===0)return this;var u=n+Math.cos(s)*i,d=r+Math.sin(s)*i,f=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var g=Math.abs(h[h.length-2]-u),v=Math.abs(h[h.length-1]-d);g<f&&v<f||h.push(u,d)}else this.moveTo(u,d),h=this.currentPath.points;return uO.arc(u,d,n,r,i,s,a,o,h),this},e.prototype.beginFill=function(n,r){return n===void 0&&(n=0),r===void 0&&(r=1),this.beginTextureFill({texture:Or.WHITE,color:n,alpha:r})},e.prototype.beginTextureFill=function(n){n=Object.assign({texture:Or.WHITE,color:16777215,alpha:1,matrix:null},n),this.currentPath&&this.startPoly();var r=n.alpha>0;return r?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._fillStyle,{visible:r},n)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(n,r,i,s){return this.drawShape(new yi(n,r,i,s))},e.prototype.drawRoundedRect=function(n,r,i,s,a){return this.drawShape(new Soe(n,r,i,s,a))},e.prototype.drawCircle=function(n,r,i){return this.drawShape(new xoe(n,r,i))},e.prototype.drawEllipse=function(n,r,i,s){return this.drawShape(new woe(n,r,i,s))},e.prototype.drawPolygon=function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];var s,a=!0,o=r[0];o.points?(a=o.closeStroke,s=o.points):Array.isArray(r[0])?s=r[0]:s=r;var l=new xb(s);return l.closeStroke=a,this.drawShape(l),this},e.prototype.drawShape=function(n){return this._holeMode?this._geometry.drawHole(n,this._matrix):this._geometry.drawShape(n,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var n=this._geometry.graphicsData;return n.length===1&&n[0].shape.type===Pa.RECT&&!n[0].matrix&&!n[0].holes.length&&!(n[0].lineStyle.visible&&n[0].lineStyle.width)},e.prototype._render=function(n){this.finishPoly();var r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(n)):(n.batch.flush(),this._renderDirect(n))},e.prototype._populateBatches=function(){var n=this._geometry,r=this.blendMode,i=n.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=n.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(n.points);for(var s=0;s<i;s++){var a=n.batches[s],o=a.style.color,l=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),u=new Float32Array(n.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),d=new Uint16Array(n.indicesUint16.buffer,a.start*2,a.size),f={vertexData:l,blendMode:r,indices:d,uvs:u,_batchRGB:Bm(o),_tintRGB:o,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[s]=f}},e.prototype._renderBatched=function(n){if(this.batches.length){n.batch.setObjectRenderer(n.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var r=0,i=this.batches.length;r<i;r++){var s=this.batches[r];s.worldAlpha=this.worldAlpha*s.alpha,n.plugins[this.pluginName].render(s)}}},e.prototype._renderDirect=function(n){var r=this._resolveDirectShader(n),i=this._geometry,s=this.tint,a=this.worldAlpha,o=r.uniforms,l=i.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(s>>16&255)/255*a,o.tint[1]=(s>>8&255)/255*a,o.tint[2]=(s&255)/255*a,o.tint[3]=a,n.shader.bind(r),n.geometry.bind(i,r),n.state.set(this.state);for(var u=0,d=l.length;u<d;u++)this._renderDrawCallDirect(n,i.drawCalls[u])},e.prototype._renderDrawCallDirect=function(n,r){for(var i=r.texArray,s=r.type,a=r.size,o=r.start,l=i.count,u=0;u<l;u++)n.texture.bind(i.elements[u],u);n.geometry.draw(s,a,o)},e.prototype._resolveDirectShader=function(n){var r=this.shader,i=this.pluginName;if(!r){if(!Ak[i]){for(var s=n.plugins[i].MAX_TEXTURES,a=new Int32Array(s),o=0;o<s;o++)a[o]=o;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new As,default:bp.from({uSamplers:a},!0)},u=n.plugins[i]._shader.program;Ak[i]=new Mf(u,l)}r=Ak[i]}return r},e.prototype._calculateBounds=function(){this.finishPoly();var n=this._geometry;if(n.graphicsData.length){var r=n.bounds,i=r.minX,s=r.minY,a=r.maxX,o=r.maxY;this._bounds.addFrame(this.transform,i,s,a,o)}},e.prototype.containsPoint=function(n){return this.worldTransform.applyInverse(n,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var n=Bm(this.tint,Lct),r=0;r<this.batches.length;r++){var i=this.batches[r],s=i._batchRGB,a=n[0]*s[0]*255,o=n[1]*s[1]*255,l=n[2]*s[2]*255,u=(a<<16)+(o<<8)+(l|0);i._tintRGB=(u>>16)+(u&65280)+((u&255)<<16)}}},e.prototype.calculateVertices=function(){var n=this.transform._worldID;if(this._transformID!==n){this._transformID=n;for(var r=this.transform.worldTransform,i=r.a,s=r.b,a=r.c,o=r.d,l=r.tx,u=r.ty,d=this._geometry.points,f=this.vertexData,h=0,g=0;g<d.length;g+=2){var v=d[g],p=d[g+1];f[h++]=i*v+a*p+l,f[h++]=o*p+s*v+u}}},e.prototype.closePath=function(){var n=this.currentPath;return n&&(n.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(n){return this._matrix=n,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(n){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,n)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new rs,e}(Ku),$ct={buildPoly:k5,buildCircle:F1,buildRectangle:wle,buildRoundedRectangle:Sle,buildLine:lO,ArcUtils:uO,BezierUtils:Tle,QuadraticUtils:Cle,BatchPart:Ele,FILL_COMMANDS:hT,BATCH_POOL:cO,DRAW_CALL_POOL:R2};/*!
 * @pixi/sprite - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fO=function(t,e){return fO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},fO(t,e)};function Nct(t,e){fO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var i2=new rs,Fct=new Uint16Array([0,1,2,0,2,3]),m_=function(t){Nct(e,t);function e(n){var r=t.call(this)||this;return r._anchor=new dp(r._onAnchorUpdate,r,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=br.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=n||Or.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=Fct,r.pluginName="batch",r.isSprite=!0,r._roundPixels=Yn.ROUND_PIXELS,r}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=nm(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=nm(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var n=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===n._updateID)){this._textureID!==n._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=n._updateID;var r=this.transform.worldTransform,i=r.a,s=r.b,a=r.c,o=r.d,l=r.tx,u=r.ty,d=this.vertexData,f=n.trim,h=n.orig,g=this._anchor,v=0,p=0,_=0,S=0;if(f?(p=f.x-g._x*h.width,v=p+f.width,S=f.y-g._y*h.height,_=S+f.height):(p=-g._x*h.width,v=p+h.width,S=-g._y*h.height,_=S+h.height),d[0]=i*p+a*S+l,d[1]=o*S+s*p+u,d[2]=i*v+a*S+l,d[3]=o*S+s*v+u,d[4]=i*v+a*_+l,d[5]=o*_+s*v+u,d[6]=i*p+a*_+l,d[7]=o*_+s*p+u,this._roundPixels)for(var C=Yn.RESOLUTION,T=0;T<d.length;++T)d[T]=Math.round((d[T]*C|0)/C)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var n=this._texture,r=this.vertexTrimmedData,i=n.orig,s=this._anchor,a=this.transform.worldTransform,o=a.a,l=a.b,u=a.c,d=a.d,f=a.tx,h=a.ty,g=-s._x*i.width,v=g+i.width,p=-s._y*i.height,_=p+i.height;r[0]=o*g+u*p+f,r[1]=d*p+l*g+h,r[2]=o*v+u*p+f,r[3]=d*p+l*v+h,r[4]=o*v+u*_+f,r[5]=d*_+l*v+h,r[6]=o*g+u*_+f,r[7]=d*_+l*g+h},e.prototype._render=function(n){this.calculateVertices(),n.batch.setObjectRenderer(n.plugins[this.pluginName]),n.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var n=this._texture.trim,r=this._texture.orig;!n||n.width===r.width&&n.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(n){return this.children.length===0?(this._localBounds||(this._localBounds=new M1),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),n||(this._localBoundsRect||(this._localBoundsRect=new yi),n=this._localBoundsRect),this._localBounds.getRectangle(n)):t.prototype.getLocalBounds.call(this,n)},e.prototype.containsPoint=function(n){this.worldTransform.applyInverse(n,i2);var r=this._texture.orig.width,i=this._texture.orig.height,s=-r*this.anchor.x,a=0;return i2.x>=s&&i2.x<s+r&&(a=-i*this.anchor.y,i2.y>=a&&i2.y<a+i)},e.prototype.destroy=function(n){t.prototype.destroy.call(this,n),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var r=typeof n=="boolean"?n:n&&n.texture;if(r){var i=typeof n=="boolean"?n:n&&n.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(n,r){var i=n instanceof Or?n:Or.from(n,r);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(n){this._roundPixels!==n&&(this._transformID=-1),this._roundPixels=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(n){var r=nm(this.scale.x)||1;this.scale.x=r*n/this._texture.orig.width,this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(n){var r=nm(this.scale.y)||1;this.scale.y=r*n/this._texture.orig.height,this._height=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(n){this._anchor.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(n){this._tint=n,this._tintRGB=(n>>16)+(n&65280)+((n&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(n){this._texture!==n&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=n||Or.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,n&&(n.baseTexture.valid?this._onTextureUpdate():n.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Ku);/*!
 * @pixi/text - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hO=function(t,e){return hO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},hO(t,e)};function Bct(t,e){hO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ty;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Ty||(Ty={}));var Pk={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ty.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Uct=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Vm=function(){function t(e){this.styleID=0,this.reset(),Dk(this,e,e)}return t.prototype.clone=function(){var e={};return Dk(e,this,Pk),new t(e)},t.prototype.reset=function(){Dk(this,Pk,Pk)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var n=kk(e);this._dropShadowColor!==n&&(this._dropShadowColor=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var n=kk(e);this._fill!==n&&(this._fill=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){Vct(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var n=kk(e);this._stroke!==n&&(this._stroke=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,n=this.fontFamily;Array.isArray(this.fontFamily)||(n=this.fontFamily.split(","));for(var r=n.length-1;r>=0;r--){var i=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Uct.indexOf(i)<0&&(i='"'+i+'"'),n[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+n.join(",")},t}();function EG(t){return typeof t=="number"?W$(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function kk(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=EG(t[e]);return t}else return EG(t)}function Vct(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function Dk(t,e,n){for(var r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}var fS={willReadFrequently:!0},Vc=function(){function t(e,n,r,i,s,a,o,l,u){this.text=e,this.style=n,this.width=r,this.height=i,this.lines=s,this.lineWidths=a,this.lineHeight=o,this.maxLineWidth=l,this.fontProperties=u}return t.measureText=function(e,n,r,i){i===void 0&&(i=t._canvas),r=r??n.wordWrap;var s=n.toFontString(),a=t.measureFont(s);a.fontSize===0&&(a.fontSize=n.fontSize,a.ascent=n.fontSize);var o=i.getContext("2d",fS);o.font=s;for(var l=r?t.wordWrap(e,n,i):e,u=l.split(/(?:\r\n|\r|\n)/),d=new Array(u.length),f=0,h=0;h<u.length;h++){var g=o.measureText(u[h]).width+(u[h].length-1)*n.letterSpacing;d[h]=g,f=Math.max(f,g)}var v=f+n.strokeThickness;n.dropShadow&&(v+=n.dropShadowDistance);var p=n.lineHeight||a.fontSize+n.strokeThickness,_=Math.max(p,a.fontSize+n.strokeThickness)+(u.length-1)*(p+n.leading);return n.dropShadow&&(_+=n.dropShadowDistance),new t(e,n,v,_,u,d,p+n.leading,f,a)},t.wordWrap=function(e,n,r){r===void 0&&(r=t._canvas);for(var i=r.getContext("2d",fS),s=0,a="",o="",l=Object.create(null),u=n.letterSpacing,d=n.whiteSpace,f=t.collapseSpaces(d),h=t.collapseNewlines(d),g=!f,v=n.wordWrapWidth+u,p=t.tokenize(e),_=0;_<p.length;_++){var S=p[_];if(t.isNewline(S)){if(!h){o+=t.addLine(a),g=!f,a="",s=0;continue}S=" "}if(f){var C=t.isBreakingSpace(S),T=t.isBreakingSpace(a[a.length-1]);if(C&&T)continue}var A=t.getFromCache(S,u,l,i);if(A>v)if(a!==""&&(o+=t.addLine(a),a="",s=0),t.canBreakWords(S,n.breakWords))for(var P=t.wordWrapSplit(S),D=0;D<P.length;D++){for(var R=P[D],N=1;P[D+N];){var U=P[D+N],Y=R[R.length-1];if(!t.canBreakChars(Y,U,S,D,n.breakWords))R+=U;else break;N++}D+=R.length-1;var H=t.getFromCache(R,u,l,i);H+s>v&&(o+=t.addLine(a),g=!1,a="",s=0),a+=R,s+=H}else{a.length>0&&(o+=t.addLine(a),a="",s=0);var j=_===p.length-1;o+=t.addLine(S,!j),g=!1,a="",s=0}else A+s>v&&(g=!1,o+=t.addLine(a),a="",s=0),(a.length>0||!t.isBreakingSpace(S)||g)&&(a+=S,s+=A)}return o+=t.addLine(a,!1),o},t.addLine=function(e,n){return n===void 0&&(n=!0),e=t.trimRight(e),e=n?e+`
`:e,e},t.getFromCache=function(e,n,r,i){var s=r[e];if(typeof s!="number"){var a=e.length*n;s=i.measureText(e).width+a,r[e]=s}return s},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var n=e.length-1;n>=0;n--){var r=e[n];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,n){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n=[],r="";if(typeof e!="string")return n;for(var i=0;i<e.length;i++){var s=e[i],a=e[i+1];if(t.isBreakingSpace(s,a)||t.isNewline(s)){r!==""&&(n.push(r),r=""),n.push(s);continue}r+=s}return r!==""&&n.push(r),n},t.canBreakWords=function(e,n){return n},t.canBreakChars=function(e,n,r,i,s){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={ascent:0,descent:0,fontSize:0},r=t._canvas,i=t._context;i.font=e;var s=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(s).width),o=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),l=Math.ceil(t.HEIGHT_MULTIPLIER*o);o=o*t.BASELINE_MULTIPLIER|0,r.width=a,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,o);var u=i.getImageData(0,0,a,l).data,d=u.length,f=a*4,h=0,g=0,v=!1;for(h=0;h<o;++h){for(var p=0;p<f;p+=4)if(u[g+p]!==255){v=!0;break}if(!v)g+=f;else break}for(n.ascent=o-h,g=d-f,v=!1,h=l;h>o;--h){for(var p=0;p<f;p+=4)if(u[g+p]!==255){v=!0;break}if(!v)g-=f;else break}return n.descent=h-o,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var n=new OffscreenCanvas(0,0),r=n.getContext("2d",fS);if(r&&r.measureText)return t.__canvas=n,n;e=Yn.ADAPTER.createCanvas()}catch{e=Yn.ADAPTER.createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d",fS)),t.__context},enumerable:!1,configurable:!0}),t}();Vc._fonts={};Vc.METRICS_STRING="|q";Vc.BASELINE_SYMBOL="M";Vc.BASELINE_MULTIPLIER=1.4;Vc.HEIGHT_MULTIPLIER=2;Vc._newlines=[10,13];Vc._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var zct={texture:!0,children:!1,baseTexture:!0},D5=function(t){Bct(e,t);function e(n,r,i){var s=this,a=!1;i||(i=Yn.ADAPTER.createCanvas(),a=!0),i.width=3,i.height=3;var o=Or.from(i);return o.orig=new yi,o.trim=new yi,s=t.call(this,o)||this,s._ownCanvas=a,s.canvas=i,s.context=i.getContext("2d",{willReadFrequently:!0}),s._resolution=Yn.RESOLUTION,s._autoResolution=!0,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=n,s.style=r,s.localStyleID=-1,s}return e.prototype.updateText=function(n){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!(!this.dirty&&n)){this._font=this._style.toFontString();var i=this.context,s=Vc.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,o=s.height,l=s.lines,u=s.lineHeight,d=s.lineWidths,f=s.maxLineWidth,h=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=r.strokeThickness,i.textBaseline=r.textBaseline,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit;for(var g,v,p=r.dropShadow?2:1,_=0;_<p;++_){var S=r.dropShadow&&_===0,C=S?Math.ceil(Math.max(1,o)+r.padding*2):0,T=C*this._resolution;if(S){i.fillStyle="black",i.strokeStyle="black";var A=r.dropShadowColor,P=Bm(typeof A=="number"?A:q$(A)),D=r.dropShadowBlur*this._resolution,R=r.dropShadowDistance*this._resolution;i.shadowColor="rgba("+P[0]*255+","+P[1]*255+","+P[2]*255+","+r.dropShadowAlpha+")",i.shadowBlur=D,i.shadowOffsetX=Math.cos(r.dropShadowAngle)*R,i.shadowOffsetY=Math.sin(r.dropShadowAngle)*R+T}else i.fillStyle=this._generateFillStyle(r,l,s),i.strokeStyle=r.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var N=(u-h.fontSize)/2;(!e.nextLineHeightBehavior||u-h.fontSize<0)&&(N=0);for(var U=0;U<l.length;U++)g=r.strokeThickness/2,v=r.strokeThickness/2+U*u+h.ascent+N,r.align==="right"?g+=f-d[U]:r.align==="center"&&(g+=(f-d[U])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(l[U],g+r.padding,v+r.padding-C,!0),r.fill&&this.drawLetterSpacing(l[U],g+r.padding,v+r.padding-C)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(n,r,i,s){s===void 0&&(s=!1);var a=this._style,o=a.letterSpacing,l=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(o===0||l){l&&(this.context.letterSpacing=o,this.context.textLetterSpacing=o),s?this.context.strokeText(n,r,i):this.context.fillText(n,r,i);return}for(var u=r,d=Array.from?Array.from(n):n.split(""),f=this.context.measureText(n).width,h=0,g=0;g<d.length;++g){var v=d[g];s?this.context.strokeText(v,u,i):this.context.fillText(v,u,i);for(var p="",_=g+1;_<d.length;++_)p+=d[_];h=this.context.measureText(p).width,u+=f-h+o,f=h}},e.prototype.updateTexture=function(){var n=this.canvas;if(this._style.trim){var r=goe(n);r.data&&(n.width=r.width,n.height=r.height,this.context.putImageData(r.data,0,0))}var i=this._texture,s=this._style,a=s.trim?0:s.padding,o=i.baseTexture;i.trim.width=i._frame.width=n.width/this._resolution,i.trim.height=i._frame.height=n.height/this._resolution,i.trim.x=-a,i.trim.y=-a,i.orig.width=i._frame.width-a*2,i.orig.height=i._frame.height-a*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,n)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(n,r){return this.updateText(!0),this._textureID===-1&&(n=!1),t.prototype.getBounds.call(this,n,r)},e.prototype.getLocalBounds=function(n){return this.updateText(!0),t.prototype.getLocalBounds.call(this,n)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(n,r,i){var s=n.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;var a,o=n.dropShadow?n.dropShadowDistance:0,l=n.padding||0,u=this.canvas.width/this._resolution-o-l*2,d=this.canvas.height/this._resolution-o-l*2,f=s.slice(),h=n.fillGradientStops.slice();if(!h.length)for(var g=f.length+1,v=1;v<g;++v)h.push(v/g);if(f.unshift(s[0]),h.unshift(0),f.push(s[s.length-1]),h.push(1),n.fillGradientType===Ty.LINEAR_VERTICAL){a=this.context.createLinearGradient(u/2,l,u/2,d+l);for(var p=i.fontProperties.fontSize+n.strokeThickness,v=0;v<r.length;v++){var _=i.lineHeight*(v-1)+p,S=i.lineHeight*v,C=S;v>0&&_>S&&(C=(S+_)/2);var T=S+p,A=i.lineHeight*(v+1),P=T;v+1<r.length&&A<T&&(P=(T+A)/2);for(var D=(P-C)/d,R=0;R<f.length;R++){var N=0;typeof h[R]=="number"?N=h[R]:N=R/f.length;var U=Math.min(1,Math.max(0,C/d+N*D));U=Number(U.toFixed(5)),a.addColorStop(U,f[R])}}}else{a=this.context.createLinearGradient(l,d/2,u+l,d/2);for(var Y=f.length+1,H=1,v=0;v<f.length;v++){var j=void 0;typeof h[v]=="number"?j=h[v]:j=H/Y,a.addColorStop(j,f[v]),H++}}return a},e.prototype.destroy=function(n){typeof n=="boolean"&&(n={children:n}),n=Object.assign({},zct,n),t.prototype.destroy.call(this,n),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(n){this.updateText(!0);var r=nm(this.scale.x)||1;this.scale.x=r*n/this._texture.orig.width,this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(n){this.updateText(!0);var r=nm(this.scale.y)||1;this.scale.y=r*n/this._texture.orig.height,this._height=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(n){n=n||{},n instanceof Vm?this._style=n:this._style=new Vm(n),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(n){n=String(n??""),this._text!==n&&(this._text=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._autoResolution=!1,this._resolution!==n&&(this._resolution=n,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(m_);/*!
 * @pixi/prepare - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Yn.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pO=function(t,e){return pO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},pO(t,e)};function Hct(t,e){pO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var kle=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function jct(t,e){var n=!1;if(t&&t._textures&&t._textures.length){for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof Or){var i=t._textures[r].baseTexture;e.indexOf(i)===-1&&(e.push(i),n=!0)}}return n}function Gct(t,e){if(t.baseTexture instanceof gi){var n=t.baseTexture;return e.indexOf(n)===-1&&e.push(n),!0}return!1}function Wct(t,e){if(t._texture&&t._texture instanceof Or){var n=t._texture.baseTexture;return e.indexOf(n)===-1&&e.push(n),!0}return!1}function qct(t,e){return e instanceof D5?(e.updateText(!0),!0):!1}function Xct(t,e){if(e instanceof Vm){var n=e.toFontString();return Vc.measureFont(n),!0}return!1}function Yct(t,e){if(t instanceof D5){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var n=t._texture.baseTexture;return e.indexOf(n)===-1&&e.push(n),!0}return!1}function Kct(t,e){return t instanceof Vm?(e.indexOf(t)===-1&&e.push(t),!0):!1}var Dle=function(){function t(e){var n=this;this.limiter=new kle(Yn.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(Yct),this.registerFindHook(Kct),this.registerFindHook(jct),this.registerFindHook(Gct),this.registerFindHook(Wct),this.registerUploadHook(qct),this.registerUploadHook(Xct)}return t.prototype.upload=function(e,n){var r=this;return typeof e=="function"&&(n=e,e=null),n&&sl("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){e&&r.add(e);var s=function(){n==null||n(),i()};r.queue.length?(r.completes.push(s),r.ticking||(r.ticking=!0,za.system.addOnce(r.tick,r,Bd.UTILITY))):s()})},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],n=!1;if(e&&!e._destroyed){for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),n=!0;break}}n||this.queue.shift()}if(this.queue.length)za.system.addOnce(this.tick,this,Bd.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var r=0,i=s.length;r<i;r++)s[r]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var n=0,r=this.addHooks.length;n<r&&!this.addHooks[n](e,this.queue);n++);if(e instanceof Ku)for(var n=e.children.length-1;n>=0;n--)this.add(e.children[n]);return this},t.prototype.destroy=function(){this.ticking&&za.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Ile(t,e){return e instanceof gi?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Zct(t,e){if(!(e instanceof B1))return!1;var n=e.geometry;e.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var s=r[i].style.texture;s&&Ile(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function Qct(t,e){return t instanceof B1?(e.push(t),!0):!1}var Rle=function(t){Hct(e,t);function e(n){var r=t.call(this,n)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(Qct),r.registerUploadHook(Ile),r.registerUploadHook(Zct),r}return e.extension={name:"prepare",type:Wi.RendererPlugin},e}(Dle),Jct=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ole=function(){function t(e,n,r){r===void 0&&(r=null),this.linkedSheets=[],this._texture=e instanceof Or?e:null,this.baseTexture=e instanceof gi?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=n;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var n=this.data.meta.scale,r=R1(e,null);return r===null&&(r=n!==void 0?parseFloat(n):1),r!==1&&this.baseTexture.setResolution(r),r},t.prototype.parse=function(e){var n=this;return e&&sl("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(r){n._callback=function(i){e==null||e(i),r(i)},n._batchIndex=0,n._frameKeys.length<=t.BATCH_SIZE?(n._processFrames(0),n._processAnimations(),n._parseComplete()):n._nextBatch()})},t.prototype._processFrames=function(e){for(var n=e,r=t.BATCH_SIZE;n-e<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],s=this._frames[i],a=s.frame;if(a){var o=null,l=null,u=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,d=new yi(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s.rotated?o=new yi(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):o=new yi(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(l=new yi(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Or(this.baseTexture,o,d,l,s.rotated?2:0,s.anchor),Or.addToCache(this.textures[i],i)}n++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var n in e){this.animations[n]=[];for(var r=0;r<e[n].length;r++){var i=e[n][r];this.animations[n].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var n;e===void 0&&(e=!1);for(var r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((n=this._texture)===null||n===void 0||n.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},t.BATCH_SIZE=1e3,t}(),Mle=function(){function t(){}return t.use=function(e,n){var r,i,s=this,a=e.name+"_image";if(!e.data||e.type!==Ls.TYPE.JSON||!e.data.frames||s.resources[a]){n();return}var o=(i=(r=e.data)===null||r===void 0?void 0:r.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(o))for(var l=function(v){if(typeof v!="string")return"continue";var p=v.replace(".json",""),_=wd.resolve(e.url.replace(s.baseUrl,""),v);if(s.resources[p]||Object.values(s.resources).some(function(C){return wd.format(wd.parse(C.url))===_}))return"continue";var S={crossOrigin:e.crossOrigin,loadType:Ls.LOAD_TYPE.XHR,xhrType:Ls.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};s.add(p,_,S)},u=0,d=o;u<d.length;u++){var f=d[u];l(f)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},g=t.getResourcePath(e,s.baseUrl);s.add(a,g,h,function(p){if(p.error){n(p.error);return}var _=new Ole(p.texture,e.data,e.url);_.parse().then(function(){e.spritesheet=_,e.textures=_.textures,n()})})},t.getResourcePath=function(e,n){return e.isDataUrl?e.data.meta.image:wd.resolve(e.url.replace(n,""),e.data.meta.image)},t.extension=Wi.Loader,t}();/*!
 * @pixi/sprite-tiling - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mO=function(t,e){return mO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},mO(t,e)};function Lle(t,e){mO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var s2=new rs,edt=function(t){Lle(e,t);function e(n,r,i){r===void 0&&(r=100),i===void 0&&(i=100);var s=t.call(this,n)||this;return s.tileTransform=new JA,s._width=r,s._height=i,s.uvMatrix=s.texture.uvMatrix||new r3(n),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(n){this.uvMatrix.clampMargin=n,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(n){this.tileTransform.scale.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(n){this.tileTransform.position.copyFrom(n)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(n){var r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),n.batch.setObjectRenderer(n.plugins[this.pluginName]),n.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var n=this._width*-this._anchor._x,r=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,n,r,i,s)},e.prototype.getLocalBounds=function(n){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),n||(this._localBoundsRect||(this._localBoundsRect=new yi),n=this._localBoundsRect),this._bounds.getRectangle(n)):t.prototype.getLocalBounds.call(this,n)},e.prototype.containsPoint=function(n){this.worldTransform.applyInverse(n,s2);var r=this._width,i=this._height,s=-r*this.anchor._x;if(s2.x>=s&&s2.x<s+r){var a=-i*this.anchor._y;if(s2.y>=a&&s2.y<a+i)return!0}return!1},e.prototype.destroy=function(n){t.prototype.destroy.call(this,n),this.tileTransform=null,this.uvMatrix=null},e.from=function(n,r){var i=n instanceof Or?n:Or.from(n,r);return new e(i,r.width,r.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(n){this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(n){this._height=n},enumerable:!1,configurable:!0}),e}(m_),tdt=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,AG=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,ndt=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,rdt=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,idt=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,hS=new As,$le=function(t){Lle(e,t);function e(n){var r=t.call(this,n)||this;return n.runners.contextChange.add(r),r.quad=new o5,r.state=Qp.for2d(),r}return e.prototype.contextChange=function(){var n=this.renderer,r={globals:n.globalUniforms};this.simpleShader=Mf.from(AG,tdt,r),this.shader=n.context.webGLVersion>1?Mf.from(rdt,idt,r):Mf.from(AG,ndt,r)},e.prototype.render=function(n){var r=this.renderer,i=this.quad,s=i.vertices;s[0]=s[6]=n._width*-n.anchor.x,s[1]=s[3]=n._height*-n.anchor.y,s[2]=s[4]=n._width*(1-n.anchor.x),s[5]=s[7]=n._height*(1-n.anchor.y);var a=n.uvRespectAnchor?n.anchor.x:0,o=n.uvRespectAnchor?n.anchor.y:0;s=i.uvs,s[0]=s[6]=-a,s[1]=s[3]=-o,s[2]=s[4]=1-a,s[5]=s[7]=1-o,i.invalidate();var l=n._texture,u=l.baseTexture,d=u.alphaMode>0,f=n.tileTransform.localTransform,h=n.uvMatrix,g=u.isPowerOfTwo&&l.frame.width===u.width&&l.frame.height===u.height;g&&(u._glTextures[r.CONTEXT_UID]?g=u.wrapMode!==yc.CLAMP:u.wrapMode===yc.CLAMP&&(u.wrapMode=yc.REPEAT));var v=g?this.simpleShader:this.shader,p=l.width,_=l.height,S=n._width,C=n._height;hS.set(f.a*p/S,f.b*p/C,f.c*_/S,f.d*_/C,f.tx/S,f.ty/C),hS.invert(),g?hS.prepend(h.mapCoord):(v.uniforms.uMapCoord=h.mapCoord.toArray(!0),v.uniforms.uClampFrame=h.uClampFrame,v.uniforms.uClampOffset=h.uClampOffset),v.uniforms.uTransform=hS.toArray(!0),v.uniforms.uColor=K$(n.tint,n.worldAlpha,v.uniforms.uColor,d),v.uniforms.translationMatrix=n.transform.worldTransform.toArray(!0),v.uniforms.uSampler=l,r.shader.bind(v),r.geometry.bind(i),this.state.blendMode=Y$(n.blendMode,d),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:"tilingSprite",type:Wi.RendererPlugin},e}(Ox);/*!
 * @pixi/mesh - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gO=function(t,e){return gO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},gO(t,e)};function I5(t,e){gO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Nle=function(){function t(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}},t}(),Ik=new rs,PG=new xb,Cy=function(t){I5(e,t);function e(n,r,i,s){s===void 0&&(s=Ru.TRIANGLES);var a=t.call(this)||this;return a.geometry=n,a.shader=r,a.state=i||Qp.for2d(),a.drawMode=s,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=-1,a._transformID=-1,a._roundPixels=Yn.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(n){this._geometry!==n&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=n,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(n){this.shader=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(n){this.state.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(n){this._roundPixels!==n&&(this._transformID=-1),this._roundPixels=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(n){this.shader.tint=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(n){this.shader.texture=n},enumerable:!1,configurable:!0}),e.prototype._render=function(n){var r=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Ru.TRIANGLES&&r.length<e.BATCHABLE_SIZE*2?this._renderToBatch(n):this._renderDefault(n)},e.prototype._renderDefault=function(n){var r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),n.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),n.shader.bind(r),n.state.set(this.state),n.geometry.bind(this.geometry,r),n.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(n){var r=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var s=this.material.pluginName;n.batch.setObjectRenderer(n.plugins[s]),n.plugins[s].render(this)},e.prototype.calculateVertices=function(){var n=this.geometry,r=n.buffers[0],i=r.data,s=r._updateID;if(!(s===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var a=this.transform.worldTransform,o=a.a,l=a.b,u=a.c,d=a.d,f=a.tx,h=a.ty,g=this.vertexData,v=0;v<g.length/2;v++){var p=i[v*2],_=i[v*2+1];g[v*2]=o*p+u*_+f,g[v*2+1]=l*p+d*_+h}if(this._roundPixels)for(var S=Yn.RESOLUTION,v=0;v<g.length;++v)g[v]=Math.round((g[v]*S|0)/S);this.vertexDirty=s}},e.prototype.calculateUvs=function(){var n=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=n.data:(this.batchUvs||(this.batchUvs=new Nle(n,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(n){if(!this.getBounds().contains(n.x,n.y))return!1;this.worldTransform.applyInverse(n,Ik);for(var r=this.geometry.getBuffer("aVertexPosition").data,i=PG.points,s=this.geometry.getIndex().data,a=s.length,o=this.drawMode===4?3:1,l=0;l+2<a;l+=o){var u=s[l]*2,d=s[l+1]*2,f=s[l+2]*2;if(i[0]=r[u],i[1]=r[u+1],i[2]=r[d],i[3]=r[d+1],i[4]=r[f],i[5]=r[f+1],PG.contains(Ik.x,Ik.y))return!0}return!1},e.prototype.destroy=function(n){t.prototype.destroy.call(this,n),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Ku),sdt=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,adt=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Ey=function(t){I5(e,t);function e(n,r){var i=this,s={uSampler:n,alpha:1,uTextureMatrix:As.IDENTITY,uColor:new Float32Array([1,1,1,1])};return r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(s,r.uniforms),i=t.call(this,r.program||p_.from(adt,sdt),s)||this,i._colorDirty=!1,i.uvMatrix=new r3(n),i.batchable=r.program===void 0,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(n){this.uniforms.uSampler!==n&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!n.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=n,this.uvMatrix.texture=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(n){n!==this._alpha&&(this._alpha=n,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(n){n!==this._tint&&(this._tint=n,this._tintRGB=(n>>16)+(n&65280)+((n&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var n=this.texture.baseTexture;K$(this._tint,this._alpha,this.uniforms.uColor,n.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Mf),Mx=function(t){I5(e,t);function e(n,r,i){var s=t.call(this)||this,a=new pa(n),o=new pa(r,!0),l=new pa(i,!0,!0);return s.addAttribute("aVertexPosition",a,2,!1,yr.FLOAT).addAttribute("aTextureCoord",o,2,!1,yr.FLOAT).addIndex(l),s._updateId=-1,s}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(h_);/*!
 * @pixi/text-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vO=function(t,e){return vO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},vO(t,e)};function odt(t,e){vO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var U1=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),Fle=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in n){var s=n[i].match(/^[a-z]+/gm)[0],a=n[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var l in a){var u=a[l].split("="),d=u[0],f=u[1].replace(/"/gm,""),h=parseFloat(f),g=isNaN(h)?f:h;o[d]=g}r[s].push(o)}var v=new U1;return r.info.forEach(function(p){return v.info.push({face:p.face,size:parseInt(p.size,10)})}),r.common.forEach(function(p){return v.common.push({lineHeight:parseInt(p.lineHeight,10)})}),r.page.forEach(function(p){return v.page.push({id:parseInt(p.id,10),file:p.file})}),r.char.forEach(function(p){return v.char.push({id:parseInt(p.id,10),page:parseInt(p.page,10),x:parseInt(p.x,10),y:parseInt(p.y,10),width:parseInt(p.width,10),height:parseInt(p.height,10),xoffset:parseInt(p.xoffset,10),yoffset:parseInt(p.yoffset,10),xadvance:parseInt(p.xadvance,10)})}),r.kerning.forEach(function(p){return v.kerning.push({first:parseInt(p.first,10),second:parseInt(p.second,10),amount:parseInt(p.amount,10)})}),r.distanceField.forEach(function(p){return v.distanceField.push({distanceRange:parseInt(p.distanceRange,10),fieldType:p.fieldType})}),v},t}(),QC=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var n=new U1,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField"),u=0;u<r.length;u++)n.info.push({face:r[u].getAttribute("face"),size:parseInt(r[u].getAttribute("size"),10)});for(var u=0;u<i.length;u++)n.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(var u=0;u<s.length;u++)n.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(var u=0;u<a.length;u++){var d=a[u];n.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var u=0;u<o.length;u++)n.kerning.push({first:parseInt(o[u].getAttribute("first"),10),second:parseInt(o[u].getAttribute("second"),10),amount:parseInt(o[u].getAttribute("amount"),10)});for(var u=0;u<l.length;u++)n.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return n},t}(),Ble=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var n=new globalThis.DOMParser().parseFromString(e,"text/xml");return QC.test(n)}return!1},t.parse=function(e){var n=new globalThis.DOMParser().parseFromString(e,"text/xml");return QC.parse(n)},t}(),Rk=[Fle,QC,Ble];function R5(t){for(var e=0;e<Rk.length;e++)if(Rk[e].test(t))return Rk[e];return null}function ldt(t,e,n,r,i,s){var a=n.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,l=n.dropShadow?n.dropShadowDistance:0,u=n.padding||0,d=t.width/r-l-u*2,f=t.height/r-l-u*2,h=a.slice(),g=n.fillGradientStops.slice();if(!g.length)for(var v=h.length+1,p=1;p<v;++p)g.push(p/v);if(h.unshift(a[0]),g.unshift(0),h.push(a[a.length-1]),g.push(1),n.fillGradientType===Ty.LINEAR_VERTICAL){o=e.createLinearGradient(d/2,u,d/2,f+u);for(var _=0,S=s.fontProperties.fontSize+n.strokeThickness,C=S/f,p=0;p<i.length;p++)for(var T=s.lineHeight*p,A=0;A<h.length;A++){var P=0;typeof g[A]=="number"?P=g[A]:P=A/h.length;var D=T/f+P*C,R=Math.max(_,D);R=Math.min(R,1),o.addColorStop(R,h[A]),_=R}}else{o=e.createLinearGradient(u,f/2,d+u,f/2);for(var N=h.length+1,U=1,p=0;p<h.length;p++){var Y=void 0;typeof g[p]=="number"?Y=g[p]:Y=U/N,o.addColorStop(Y,h[p]),U++}}return o}function udt(t,e,n,r,i,s,a){var o=n.text,l=n.fontProperties;e.translate(r,i),e.scale(s,s);var u=a.strokeThickness/2,d=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=ldt(t,e,a,s,[o],n),e.strokeStyle=a.stroke,a.dropShadow){var f=a.dropShadowColor,h=Bm(typeof f=="number"?f:q$(f)),g=a.dropShadowBlur*s,v=a.dropShadowDistance*s;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+a.dropShadowAlpha+")",e.shadowBlur=g,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(o,u,d+n.lineHeight-l.descent),a.fill&&e.fillText(o,u,d+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Ule(t){return Array.from?Array.from(t):t.split("")}function cdt(t){typeof t=="string"&&(t=[t]);for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var s=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<s)throw new Error("[BitmapFont]: Invalid character range.");for(var o=s,l=a;o<=l;o++)e.push(String.fromCharCode(o))}else e.push.apply(e,Ule(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function pT(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var gf=function(){function t(e,n,r){var i,s,a=e.info[0],o=e.common[0],l=e.page[0],u=e.distanceField[0],d=R1(l.file),f={};this._ownsTextures=r,this.font=a.face,this.size=a.size,this.lineHeight=o.lineHeight/d,this.chars={},this.pageTextures=f;for(var h=0;h<e.page.length;h++){var g=e.page[h],v=g.id,p=g.file;f[v]=n instanceof Array?n[h]:n[p],u!=null&&u.fieldType&&u.fieldType!=="none"&&(f[v].baseTexture.alphaMode=Yu.NO_PREMULTIPLIED_ALPHA,f[v].baseTexture.mipmap=Xu.OFF)}for(var h=0;h<e.char.length;h++){var _=e.char[h],v=_.id,S=_.page,C=e.char[h],T=C.x,A=C.y,P=C.width,D=C.height,R=C.xoffset,N=C.yoffset,U=C.xadvance;T/=d,A/=d,P/=d,D/=d,R/=d,N/=d,U/=d;var Y=new yi(T+f[S].frame.x/d,A+f[S].frame.y/d,P,D);this.chars[v]={xOffset:R,yOffset:N,xAdvance:U,kerning:{},texture:new Or(f[S].baseTexture,Y),page:S}}for(var h=0;h<e.kerning.length;h++){var H=e.kerning[h],j=H.first,X=H.second,W=H.amount;j/=d,X/=d,W/=d,this.chars[X]&&(this.chars[X].kerning[j]=W)}this.distanceFieldRange=u==null?void 0:u.distanceRange,this.distanceFieldType=(s=(i=u==null?void 0:u.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&s!==void 0?s:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,n,r){var i;if(e instanceof U1)i=e;else{var s=R5(e);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(e)}n instanceof Or&&(n=[n]);var a=new t(i,n,r);return t.available[a.font]=a,a},t.uninstall=function(e){var n=t.available[e];if(!n)throw new Error("No font found named '"+e+"'");n.destroy(),delete t.available[e]},t.from=function(e,n,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,r),s=i.chars,a=i.padding,o=i.resolution,l=i.textureWidth,u=i.textureHeight,d=cdt(s),f=n instanceof Vm?n:new Vm(n),h=l,g=new U1;g.info[0]={face:f.fontFamily,size:f.fontSize},g.common[0]={lineHeight:f.fontSize};for(var v=0,p=0,_,S,C,T=0,A=[],P=0;P<d.length;P++){_||(_=Yn.ADAPTER.createCanvas(),_.width=l,_.height=u,S=_.getContext("2d"),C=new gi(_,{resolution:o}),A.push(new Or(C)),g.page.push({id:A.length-1,file:""}));var D=d[P],R=Vc.measureText(D,f,!1,_),N=R.width,U=Math.ceil(R.height),Y=Math.ceil((f.fontStyle==="italic"?2:1)*N);if(p>=u-U*o){if(p===0)throw new Error("[BitmapFont] textureHeight "+u+"px is too small "+("(fontFamily: '"+f.fontFamily+"', fontSize: "+f.fontSize+"px, char: '"+D+"')"));--P,_=null,S=null,C=null,p=0,v=0,T=0;continue}if(T=Math.max(U+R.fontProperties.descent,T),Y*o+v>=h){if(v===0)throw new Error("[BitmapFont] textureWidth "+l+"px is too small "+("(fontFamily: '"+f.fontFamily+"', fontSize: "+f.fontSize+"px, char: '"+D+"')"));--P,p+=T*o,p=Math.ceil(p),v=0,T=0;continue}udt(_,S,R,v,p,o,f);var H=pT(R.text);g.char.push({id:H,page:A.length-1,x:v/o,y:p/o,width:Y,height:U,xoffset:0,yoffset:0,xadvance:Math.ceil(N-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),v+=(Y+2*a)*o,v=Math.ceil(v)}for(var P=0,j=d.length;P<j;P++)for(var X=d[P],W=0;W<j;W++){var F=d[W],te=S.measureText(X).width,G=S.measureText(F).width,K=S.measureText(X+F).width,ee=K-(te+G);ee&&g.kerning.push({first:pT(X),second:pT(F),amount:ee})}var de=new t(g,A,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=de,de},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),ddt=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,fdt=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,kG=[],DG=[],IG=[],hdt=function(t){odt(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this)||this;i._tint=16777215;var s=Object.assign({},e.styleDefaults,r),a=s.align,o=s.tint,l=s.maxWidth,u=s.letterSpacing,d=s.fontName,f=s.fontSize;if(!gf.available[d])throw new Error('Missing BitmapFont "'+d+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=o,i._font=void 0,i._fontName=d,i._fontSize=f,i.text=n,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=u,i._anchor=new dp(function(){i.dirty=!0},i,0,0),i._roundPixels=Yn.ROUND_PIXELS,i.dirty=!0,i._resolution=Yn.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var n,r=gf.available[this._fontName],i=this.fontSize,s=i/r.size,a=new rs,o=[],l=[],u=[],d=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",f=Ule(d),h=this._maxWidth*r.size/i,g=r.distanceFieldType==="none"?kG:DG,v=null,p=0,_=0,S=0,C=-1,T=0,A=0,P=0,D=0,R=0;R<f.length;R++){var N=f[R],U=pT(N);if(/(?:\s)/.test(N)&&(C=R,T=p,D++),N==="\r"||N===`
`){l.push(p),u.push(-1),_=Math.max(_,p),++S,++A,a.x=0,a.y+=r.lineHeight,v=null,D=0;continue}var Y=r.chars[U];if(Y){v&&Y.kerning[v]&&(a.x+=Y.kerning[v]);var H=IG.pop()||{texture:Or.EMPTY,line:0,charCode:0,prevSpaces:0,position:new rs};H.texture=Y.texture,H.line=S,H.charCode=U,H.position.x=a.x+Y.xOffset+this._letterSpacing/2,H.position.y=a.y+Y.yOffset,H.prevSpaces=D,o.push(H),p=H.position.x+Math.max(Y.xAdvance-Y.xOffset,Y.texture.orig.width),a.x+=Y.xAdvance+this._letterSpacing,P=Math.max(P,Y.yOffset+Y.texture.height),v=U,C!==-1&&h>0&&a.x>h&&(++A,vm(o,1+C-A,1+R-C),R=C,C=-1,l.push(T),u.push(o.length>0?o[o.length-1].prevSpaces:0),_=Math.max(_,T),S++,a.x=0,a.y+=r.lineHeight,v=null,D=0)}}var j=f[f.length-1];j!=="\r"&&j!==`
`&&(/(?:\s)/.test(j)&&(p=T),l.push(p),_=Math.max(_,p),u.push(-1));for(var X=[],R=0;R<=S;R++){var W=0;this._align==="right"?W=_-l[R]:this._align==="center"?W=(_-l[R])/2:this._align==="justify"&&(W=u[R]<0?0:(_-l[R])/u[R]),X.push(W)}var F=o.length,te={},G=[],K=this._activePagesMeshData;g.push.apply(g,K);for(var R=0;R<F;R++){var ee=o[R].texture,de=ee.baseTexture.uid;if(!te[de]){var ue=g.pop();if(!ue){var me=new Mx,Ee=void 0,Oe=void 0;r.distanceFieldType==="none"?(Ee=new Ey(Or.EMPTY),Oe=br.NORMAL):(Ee=new Ey(Or.EMPTY,{program:p_.from(fdt,ddt),uniforms:{uFWidth:0}}),Oe=br.NORMAL_NPM);var Ge=new Cy(me,Ee);Ge.blendMode=Oe,ue={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Ge,vertices:null,uvs:null,indices:null}}ue.index=0,ue.indexCount=0,ue.vertexCount=0,ue.uvsCount=0,ue.total=0;var $e=this._textureCache;$e[de]=$e[de]||new Or(ee.baseTexture),ue.mesh.texture=$e[de],ue.mesh.tint=this._tint,G.push(ue),te[de]=ue}te[de].total++}for(var R=0;R<K.length;R++)G.indexOf(K[R])===-1&&this.removeChild(K[R].mesh);for(var R=0;R<G.length;R++)G[R].mesh.parent!==this&&this.addChild(G[R].mesh);this._activePagesMeshData=G;for(var R in te){var ue=te[R],Ie=ue.total;if(!(((n=ue.indices)===null||n===void 0?void 0:n.length)>6*Ie)||ue.vertices.length<Cy.BATCHABLE_SIZE*2)ue.vertices=new Float32Array(4*2*Ie),ue.uvs=new Float32Array(4*2*Ie),ue.indices=new Uint16Array(6*Ie);else for(var Ke=ue.total,Xe=ue.vertices,Ze=Ke*4*2;Ze<Xe.length;Ze++)Xe[Ze]=0;ue.mesh.size=6*Ie}for(var R=0;R<F;R++){var N=o[R],bt=N.position.x+X[N.line]*(this._align==="justify"?N.prevSpaces:1);this._roundPixels&&(bt=Math.round(bt));var ht=bt*s,ae=N.position.y*s,ee=N.texture,Re=te[ee.baseTexture.uid],rt=ee.frame,Ye=ee._uvs,it=Re.index++;Re.indices[it*6+0]=0+it*4,Re.indices[it*6+1]=1+it*4,Re.indices[it*6+2]=2+it*4,Re.indices[it*6+3]=0+it*4,Re.indices[it*6+4]=2+it*4,Re.indices[it*6+5]=3+it*4,Re.vertices[it*8+0]=ht,Re.vertices[it*8+1]=ae,Re.vertices[it*8+2]=ht+rt.width*s,Re.vertices[it*8+3]=ae,Re.vertices[it*8+4]=ht+rt.width*s,Re.vertices[it*8+5]=ae+rt.height*s,Re.vertices[it*8+6]=ht,Re.vertices[it*8+7]=ae+rt.height*s,Re.uvs[it*8+0]=Ye.x0,Re.uvs[it*8+1]=Ye.y0,Re.uvs[it*8+2]=Ye.x1,Re.uvs[it*8+3]=Ye.y1,Re.uvs[it*8+4]=Ye.x2,Re.uvs[it*8+5]=Ye.y2,Re.uvs[it*8+6]=Ye.x3,Re.uvs[it*8+7]=Ye.y3}this._textWidth=_*s,this._textHeight=(a.y+r.lineHeight)*s;for(var R in te){var ue=te[R];if(this.anchor.x!==0||this.anchor.y!==0)for(var St=0,Lt=this._textWidth*this.anchor.x,xt=this._textHeight*this.anchor.y,sn=0;sn<ue.total;sn++)ue.vertices[St++]-=Lt,ue.vertices[St++]-=xt,ue.vertices[St++]-=Lt,ue.vertices[St++]-=xt,ue.vertices[St++]-=Lt,ue.vertices[St++]-=xt,ue.vertices[St++]-=Lt,ue.vertices[St++]-=xt;this._maxLineHeight=P*s;var zt=ue.mesh.geometry.getBuffer("aVertexPosition"),ft=ue.mesh.geometry.getBuffer("aTextureCoord"),tn=ue.mesh.geometry.getIndex();zt.data=ue.vertices,ft.data=ue.uvs,tn.data=ue.indices,zt.update(),ft.update(),tn.update()}for(var R=0;R<o.length;R++)IG.push(o[R]);this._font=r,this.dirty=!1},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0);var r=gf.available[this._fontName],i=r.distanceFieldRange,s=r.distanceFieldType,a=r.size;if(s!=="none")for(var o=this.worldTransform,l=o.a,u=o.b,d=o.c,f=o.d,h=Math.sqrt(l*l+u*u),g=Math.sqrt(d*d+f*f),v=(Math.abs(h)+Math.abs(g))/2,p=this.fontSize/a,_=0,S=this._activePagesMeshData;_<S.length;_++){var C=S[_];C.mesh.shader.uniforms.uFWidth=v*i*p*this._resolution}t.prototype._render.call(this,n)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){var n=gf.available[this._fontName];if(!n)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==n&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(n){if(this._tint!==n){this._tint=n;for(var r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=n}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(n){this._align!==n&&(this._align=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(n){if(!gf.available[n])throw new Error('Missing BitmapFont "'+n+'"');this._fontName!==n&&(this._fontName=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){var n;return(n=this._fontSize)!==null&&n!==void 0?n:gf.available[this._fontName].size},set:function(n){this._fontSize!==n&&(this._fontSize=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(n){typeof n=="number"?this._anchor.set(n):this._anchor.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(n){n=String(n??""),this._text!==n&&(this._text=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(n){this._maxWidth!==n&&(this._maxWidth=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(n){this._letterSpacing!==n&&(this._letterSpacing=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(n){n!==this._roundPixels&&(this._roundPixels=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._autoResolution=!1,this._resolution!==n&&(this._resolution=n,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(n){var r=this._textureCache,i=gf.available[this._fontName],s=i.distanceFieldType==="none"?kG:DG;s.push.apply(s,this._activePagesMeshData);for(var a=0,o=this._activePagesMeshData;a<o.length;a++){var l=o[a];this.removeChild(l.mesh)}this._activePagesMeshData=[],s.filter(function(f){return r[f.mesh.texture.baseTexture.uid]}).forEach(function(f){f.mesh.texture=Or.EMPTY});for(var u in r){var d=r[u];d.destroy(),delete r[u]}this._font=null,this._textureCache=null,t.prototype.destroy.call(this,n)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Ku),Vle=function(){function t(){}return t.add=function(){Ls.setExtensionXhrType("fnt",Ls.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,n){var r=R5(e.data);if(!r){n();return}for(var i=t.getBaseUrl(this,e),s=r.parse(e.data),a={},o=function(p){a[p.metadata.pageFile]=p.texture,Object.keys(a).length===s.page.length&&(e.bitmapFont=gf.install(s,a,!0),n())},l=0;l<s.page.length;++l){var u=s.page[l].file,d=i+u,f=!1;for(var h in this.resources){var g=this.resources[h];if(g.url===d){g.metadata.pageFile=u,g.texture?o(g):g.onAfterMiddleware.add(o),f=!0;break}}if(!f){var v={crossOrigin:e.crossOrigin,loadType:Ls.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(d,v,o)}}},t.getBaseUrl=function(e,n){var r=n.isDataUrl?"":t.dirname(n.url);return n.isDataUrl&&(r==="."&&(r=""),e.baseUrl&&r&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(r+="/")),r=r.replace(e.baseUrl,""),r&&r.charAt(r.length-1)!=="/"&&(r+="/"),r},t.dirname=function(e){var n=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return n===e?".":n===""?"/":n},t.extension=Wi.Loader,t}();/*!
 * @pixi/filter-alpha - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yO=function(t,e){return yO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},yO(t,e)};function pdt(t,e){yO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var mdt=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,gdt=function(t){pdt(e,t);function e(n){n===void 0&&(n=1);var r=t.call(this,Yoe,mdt,{uAlpha:1})||this;return r.alpha=n,r}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(n){this.uniforms.uAlpha=n},enumerable:!1,configurable:!0}),e}(gh);/*!
 * @pixi/filter-blur - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _O=function(t,e){return _O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},_O(t,e)};function zle(t,e){_O(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var vdt=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function ydt(t,e){var n=Math.ceil(t/2),r=vdt,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var o=s.replace("%index%",a.toString());o=o.replace("%sampleIndex%",a-(n-1)+".0"),i+=o,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}var _dt={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},bdt=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function xdt(t){for(var e=_dt[t],n=e.length,r=bdt,i="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,o=0;o<t;o++){var l=s.replace("%index%",o.toString());a=o,o>=n&&(a=t-o-1),l=l.replace("%value%",e[a].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}var bO=function(t){zle(e,t);function e(n,r,i,s,a){r===void 0&&(r=8),i===void 0&&(i=4),s===void 0&&(s=Yn.FILTER_RESOLUTION),a===void 0&&(a=5);var o=this,l=ydt(a,n),u=xdt(a);return o=t.call(this,l,u)||this,o.horizontal=n,o.resolution=s,o._quality=0,o.quality=i,o.blur=r,o}return e.prototype.apply=function(n,r,i,s){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/r.width):this.uniforms.strength=1/i.height*(i.height/r.height):this.horizontal?this.uniforms.strength=1/n.renderer.width*(n.renderer.width/r.width):this.uniforms.strength=1/n.renderer.height*(n.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)n.applyFilter(this,r,i,s);else{var a=n.getFilterTexture(),o=n.renderer,l=r,u=a;this.state.blend=!1,n.applyFilter(this,l,u,Eu.CLEAR);for(var d=1;d<this.passes-1;d++){n.bindAndClear(l,Eu.BLIT),this.uniforms.uSampler=u;var f=u;u=l,l=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,n.applyFilter(this,u,i,s),n.returnFilterTexture(a)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(n){this.padding=1+Math.abs(n)*2,this.strength=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(n){this._quality=n,this.passes=n},enumerable:!1,configurable:!0}),e}(gh),wdt=function(t){zle(e,t);function e(n,r,i,s){n===void 0&&(n=8),r===void 0&&(r=4),i===void 0&&(i=Yn.FILTER_RESOLUTION),s===void 0&&(s=5);var a=t.call(this)||this;return a.blurXFilter=new bO(!0,n,r,i,s),a.blurYFilter=new bO(!1,n,r,i,s),a.resolution=i,a.quality=r,a.blur=n,a.repeatEdgePixels=!1,a}return e.prototype.apply=function(n,r,i,s){var a=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(a&&o){var l=n.getFilterTexture();this.blurXFilter.apply(n,r,l,Eu.CLEAR),this.blurYFilter.apply(n,l,i,s),n.returnFilterTexture(l)}else o?this.blurYFilter.apply(n,r,i,s):this.blurXFilter.apply(n,r,i,s)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(n){this.blurXFilter.blur=this.blurYFilter.blur=n,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(n){this.blurXFilter.quality=this.blurYFilter.quality=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(n){this.blurXFilter.blur=n,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(n){this.blurYFilter.blur=n,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(n){this.blurYFilter.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(n){this._repeatEdgePixels=n,this.updatePadding()},enumerable:!1,configurable:!0}),e}(gh);/*!
 * @pixi/filter-color-matrix - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xO=function(t,e){return xO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},xO(t,e)};function Sdt(t,e){xO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Tdt=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,wO=function(t){Sdt(e,t);function e(){var n=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return n=t.call(this,S5,Tdt,r)||this,n.alpha=1,n}return e.prototype._loadMatrix=function(n,r){r===void 0&&(r=!1);var i=n;r&&(this._multiply(i,this.uniforms.m,n),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(n,r,i){return n[0]=r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],n[1]=r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],n[2]=r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],n[3]=r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],n[4]=r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],n[5]=r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],n[6]=r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],n[7]=r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],n[8]=r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],n[9]=r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],n[10]=r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],n[11]=r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],n[12]=r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],n[13]=r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],n[14]=r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],n[15]=r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],n[16]=r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],n[17]=r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],n[18]=r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],n[19]=r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19],n},e.prototype._colorMatrix=function(n){var r=new Float32Array(n);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},e.prototype.brightness=function(n,r){var i=[n,0,0,0,0,0,n,0,0,0,0,0,n,0,0,0,0,0,1,0];this._loadMatrix(i,r)},e.prototype.tint=function(n,r){var i=n>>16&255,s=n>>8&255,a=n&255,o=[i/255,0,0,0,0,0,s/255,0,0,0,0,0,a/255,0,0,0,0,0,1,0];this._loadMatrix(o,r)},e.prototype.greyscale=function(n,r){var i=[n,n,n,0,0,n,n,n,0,0,n,n,n,0,0,0,0,0,1,0];this._loadMatrix(i,r)},e.prototype.blackAndWhite=function(n){var r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,n)},e.prototype.hue=function(n,r){n=(n||0)/180*Math.PI;var i=Math.cos(n),s=Math.sin(n),a=Math.sqrt,o=1/3,l=a(o),u=i+(1-i)*o,d=o*(1-i)-l*s,f=o*(1-i)+l*s,h=o*(1-i)+l*s,g=i+o*(1-i),v=o*(1-i)-l*s,p=o*(1-i)-l*s,_=o*(1-i)+l*s,S=i+o*(1-i),C=[u,d,f,0,0,h,g,v,0,0,p,_,S,0,0,0,0,0,1,0];this._loadMatrix(C,r)},e.prototype.contrast=function(n,r){var i=(n||0)+1,s=-.5*(i-1),a=[i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0];this._loadMatrix(a,r)},e.prototype.saturate=function(n,r){n===void 0&&(n=0);var i=n*2/3+1,s=(i-1)*-.5,a=[i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0];this._loadMatrix(a,r)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(n){var r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,n)},e.prototype.sepia=function(n){var r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,n)},e.prototype.technicolor=function(n){var r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,n)},e.prototype.polaroid=function(n){var r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,n)},e.prototype.toBGR=function(n){var r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,n)},e.prototype.kodachrome=function(n){var r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,n)},e.prototype.browni=function(n){var r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,n)},e.prototype.vintage=function(n){var r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,n)},e.prototype.colorTone=function(n,r,i,s,a){n=n||.2,r=r||.15,i=i||16770432,s=s||3375104;var o=(i>>16&255)/255,l=(i>>8&255)/255,u=(i&255)/255,d=(s>>16&255)/255,f=(s>>8&255)/255,h=(s&255)/255,g=[.3,.59,.11,0,0,o,l,u,n,0,d,f,h,r,0,o-d,l-f,u-h,0,0];this._loadMatrix(g,a)},e.prototype.night=function(n,r){n=n||.1;var i=[n*-2,-n,0,0,0,-n,0,n,0,0,0,n,n*2,0,0,0,0,0,1,0];this._loadMatrix(i,r)},e.prototype.predator=function(n,r){var i=[11.224130630493164*n,-4.794486999511719*n,-2.8746118545532227*n,0*n,.40342438220977783*n,-3.6330697536468506*n,9.193157196044922*n,-2.951810836791992*n,0*n,-1.316135048866272*n,-3.2184197902679443*n,-4.2375030517578125*n,7.476448059082031*n,0*n,.8044459223747253*n,0,0,0,1,0];this._loadMatrix(i,r)},e.prototype.lsd=function(n){var r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,n)},e.prototype.reset=function(){var n=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(n,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(n){this.uniforms.m=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(n){this.uniforms.uAlpha=n},enumerable:!1,configurable:!0}),e}(gh);wO.prototype.grayscale=wO.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SO=function(t,e){return SO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},SO(t,e)};function Cdt(t,e){SO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Edt=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Adt=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,Pdt=function(t){Cdt(e,t);function e(n,r){var i=this,s=new As;return n.renderable=!1,i=t.call(this,Adt,Edt,{mapSampler:n._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=n,i.maskMatrix=s,r==null&&(r=20),i.scale=new rs(r,r),i}return e.prototype.apply=function(n,r,i,s){this.uniforms.filterMatrix=n.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,o=Math.sqrt(a.a*a.a+a.b*a.b),l=Math.sqrt(a.c*a.c+a.d*a.d);o!==0&&l!==0&&(this.uniforms.rotation[0]=a.a/o,this.uniforms.rotation[1]=a.b/o,this.uniforms.rotation[2]=a.c/l,this.uniforms.rotation[3]=a.d/l),n.applyFilter(this,r,i,s)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(n){this.uniforms.mapSampler=n},enumerable:!1,configurable:!0}),e}(gh);/*!
 * @pixi/filter-fxaa - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TO=function(t,e){return TO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},TO(t,e)};function kdt(t,e){TO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ddt=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,Idt=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,Rdt=function(t){kdt(e,t);function e(){return t.call(this,Ddt,Idt)||this}return e}(gh);/*!
 * @pixi/filter-noise - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var CO=function(t,e){return CO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},CO(t,e)};function Odt(t,e){CO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Mdt=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,Ldt=function(t){Odt(e,t);function e(n,r){n===void 0&&(n=.5),r===void 0&&(r=Math.random());var i=t.call(this,S5,Mdt,{uNoise:0,uSeed:0})||this;return i.noise=n,i.seed=r,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(n){this.uniforms.uNoise=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(n){this.uniforms.uSeed=n},enumerable:!1,configurable:!0}),e}(gh);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Hle=new As;Ys.prototype._cacheAsBitmap=!1;Ys.prototype._cacheData=null;Ys.prototype._cacheAsBitmapResolution=null;Ys.prototype._cacheAsBitmapMultisample=ys.NONE;var $dt=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(Ys.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new $dt),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});Ys.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Ys.prototype._initCachedDisplayObject=function(e){var n;if(!(this._cacheData&&this._cacheData.sprite)){var r=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var s=this.filters[0].padding;i.pad(s)}i.ceil(Yn.RESOLUTION);var a=e.renderTexture.current,o=e.renderTexture.sourceFrame.clone(),l=e.renderTexture.destinationFrame.clone(),u=e.projection.transform,d=Up.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(n=this.cacheAsBitmapMultisample)!==null&&n!==void 0?n:e.multisample}),f="cacheAsBitmap_"+Bp();this._cacheData.textureCacheId=f,gi.addToCache(d.baseTexture,f),Or.addToCache(d,f);var h=this.transform.localTransform.copyTo(Hle).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:d,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=u,e.renderTexture.bind(a,o,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var g=new m_(d);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(i.x/i.width),g.anchor.y=-(i.y/i.height),g.alpha=r,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=g.containsPoint.bind(g)}};Ys.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Ys.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=e.context,s=e._projTransform;n.ceil(Yn.RESOLUTION);var a=Up.create({width:n.width,height:n.height}),o="cacheAsBitmap_"+Bp();this._cacheData.textureCacheId=o,gi.addToCache(a.baseTexture,o),Or.addToCache(a,o);var l=Hle;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=n.x,l.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:a,clear:!0,transform:l,skipUpdateTransform:!1}),e.context=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var u=new m_(a);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(n.x/n.width),u.anchor.y=-(n.y/n.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}};Ys.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Ys.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Ys.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,gi.removeFromCache(this._cacheData.textureCacheId),Or.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Ys.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ys.prototype.name=null;Ku.prototype.getChildByName=function(e,n){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(var r=0,i=this.children.length;r<i;r++){var s=this.children[r];if(s.getChildByName){var a=s.getChildByName(e,!0);if(a)return a}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ys.prototype.getGlobalPosition=function(e,n){return e===void 0&&(e=new rs),n===void 0&&(n=!1),this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/app - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var jle=function(){function t(){}return t.init=function(e){var n=this;Object.defineProperty(this,"resizeTo",{set:function(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){n._resizeTo&&(n.cancelResize(),n._resizeId=requestAnimationFrame(function(){return n.resize()}))},this.cancelResize=function(){n._resizeId&&(cancelAnimationFrame(n._resizeId),n._resizeId=null)},this.resize=function(){if(n._resizeTo){n.cancelResize();var r,i;if(n._resizeTo===globalThis.window)r=globalThis.innerWidth,i=globalThis.innerHeight;else{var s=n._resizeTo,a=s.clientWidth,o=s.clientHeight;r=a,i=o}n.renderer.resize(r,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=Wi.Application,t}(),O5=function(){function t(e){var n=this;this.stage=new Ku,e=Object.assign({forceCanvas:!1},e),this.renderer=Xoe(e),t._plugins.forEach(function(r){r.init.call(n,e)})}return t.registerPlugin=function(e){sl("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),qd.add({type:Wi.Application,ref:e})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,n){var r=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(s){s.destroy.call(r)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}();qd.handleByList(Wi.Application,O5._plugins);qd.add(jle);/*!
 * @pixi/mesh-extras - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EO=function(t,e){return EO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},EO(t,e)};function g_(t,e){EO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Gle=function(t){g_(e,t);function e(n,r,i,s){n===void 0&&(n=100),r===void 0&&(r=100),i===void 0&&(i=10),s===void 0&&(s=10);var a=t.call(this)||this;return a.segWidth=i,a.segHeight=s,a.width=n,a.height=r,a.build(),a}return e.prototype.build=function(){for(var n=this.segWidth*this.segHeight,r=[],i=[],s=[],a=this.segWidth-1,o=this.segHeight-1,l=this.width/a,u=this.height/o,d=0;d<n;d++){var f=d%this.segWidth,h=d/this.segWidth|0;r.push(f*l,h*u),i.push(f/a,h/o)}for(var g=a*o,d=0;d<g;d++){var v=d%a,p=d/a|0,_=p*this.segWidth+v,S=p*this.segWidth+v+1,C=(p+1)*this.segWidth+v,T=(p+1)*this.segWidth+v+1;s.push(_,S,C,S,T,C)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(Mx),Wle=function(t){g_(e,t);function e(n,r,i){n===void 0&&(n=200),i===void 0&&(i=0);var s=t.call(this,new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6))||this;return s.points=r,s._width=n,s.textureScale=i,s.build(),s}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var n=this.points;if(n){var r=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),s=this.getIndex();if(!(n.length<1)){r.data.length/4!==n.length&&(r.data=new Float32Array(n.length*4),i.data=new Float32Array(n.length*4),s.data=new Uint16Array((n.length-1)*6));var a=i.data,o=s.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var l=0,u=n[0],d=this._width*this.textureScale,f=n.length,h=0;h<f;h++){var g=h*4;if(this.textureScale>0){var v=u.x-n[h].x,p=u.y-n[h].y,_=Math.sqrt(v*v+p*p);u=n[h],l+=_/d}else l=h/(f-1);a[g]=l,a[g+1]=0,a[g+2]=l,a[g+3]=1}for(var S=0,h=0;h<f-1;h++){var g=h*2;o[S++]=g,o[S++]=g+1,o[S++]=g+2,o[S++]=g+2,o[S++]=g+1,o[S++]=g+3}i.update(),s.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var n=this.points;if(!(n.length<1)){for(var r=n[0],i,s=0,a=0,o=this.buffers[0].data,l=n.length,u=0;u<l;u++){var d=n[u],f=u*4;u<n.length-1?i=n[u+1]:i=d,a=-(i.x-r.x),s=i.y-r.y;var h=Math.sqrt(s*s+a*a),g=this.textureScale>0?this.textureScale*this._width/2:this._width/2;s/=h,a/=h,s*=g,a*=g,o[f]=d.x+s,o[f+1]=d.y+a,o[f+2]=d.x-s,o[f+3]=d.y-a,r=d}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(Mx),Ndt=function(t){g_(e,t);function e(n,r,i){i===void 0&&(i=0);var s=this,a=new Wle(n.height,r,i),o=new Ey(n);return i>0&&(n.baseTexture.wrapMode=yc.REPEAT),s=t.call(this,a,o)||this,s.autoUpdate=!0,s}return e.prototype._render=function(n){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,n)},e}(Cy),qle=function(t){g_(e,t);function e(n,r,i){var s=this,a=new Gle(n.width,n.height,r,i),o=new Ey(Or.WHITE);return s=t.call(this,a,o)||this,s.texture=n,s.autoResize=!0,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var n=this.geometry,r=this.shader.texture,i=r.width,s=r.height;this.autoResize&&(n.width!==i||n.height!==s)&&(n.width=this.shader.texture.width,n.height=this.shader.texture.height,n.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(n){this.shader.texture!==n&&(this.shader.texture=n,this._textureID=-1,n.baseTexture.valid?this.textureUpdated():n.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(n){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,n)},e.prototype.destroy=function(n){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,n)},e}(Cy),Fdt=function(t){g_(e,t);function e(n,r,i,s,a){n===void 0&&(n=Or.EMPTY);var o=this,l=new Mx(r,i,s);l.getBuffer("aVertexPosition").static=!1;var u=new Ey(n);return o=t.call(this,l,u,null,a)||this,o.autoUpdate=!0,o}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(n){this.geometry.getBuffer("aVertexPosition").data=n},enumerable:!1,configurable:!0}),e.prototype._render=function(n){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,n)},e}(Cy),pS=10,Bdt=function(t){g_(e,t);function e(n,r,i,s,a){r===void 0&&(r=pS),i===void 0&&(i=pS),s===void 0&&(s=pS),a===void 0&&(a=pS);var o=t.call(this,Or.WHITE,4,4)||this;return o._origWidth=n.orig.width,o._origHeight=n.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=r,o._rightWidth=s,o._topHeight=i,o._bottomHeight=a,o.texture=n,o}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(n){this.geometry.getBuffer("aVertexPosition").data=n},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var n=this.vertices,r=this._getMinScale();n[9]=n[11]=n[13]=n[15]=this._topHeight*r,n[17]=n[19]=n[21]=n[23]=this._height-this._bottomHeight*r,n[25]=n[27]=n[29]=n[31]=this._height},e.prototype.updateVerticalVertices=function(){var n=this.vertices,r=this._getMinScale();n[2]=n[10]=n[18]=n[26]=this._leftWidth*r,n[4]=n[12]=n[20]=n[28]=this._width-this._rightWidth*r,n[6]=n[14]=n[22]=n[30]=this._width},e.prototype._getMinScale=function(){var n=this._leftWidth+this._rightWidth,r=this._width>n?1:this._width/n,i=this._topHeight+this._bottomHeight,s=this._height>i?1:this._height/i,a=Math.min(r,s);return a},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(n){this._width=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(n){this._height=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(n){this._leftWidth=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(n){this._rightWidth=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(n){this._topHeight=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(n){this._bottomHeight=n,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var n=this.texture,r=this.geometry.buffers[1].data;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var i=1/this._origWidth,s=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=i*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-i*this._rightWidth,r[9]=r[11]=r[13]=r[15]=s*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(qle);/*!
 * @pixi/sprite-animated - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AO=function(t,e){return AO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},AO(t,e)};function Udt(t,e){AO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Vdt=function(t){Udt(e,t);function e(n,r){r===void 0&&(r=!0);var i=t.call(this,n[0]instanceof Or?n[0]:n[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=n,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(za.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(za.shared.add(this.update,this,Bd.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(n){this.stop();var r=this.currentFrame;this._currentTime=n,r!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(n){var r=this.currentFrame;this._currentTime=n,r!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(n){if(this._playing){var r=this.animationSpeed*n,i=this.currentFrame;if(this._durations!==null){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=r/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*n);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var n=this.currentFrame;this._previousFrame!==n&&(this._previousFrame=n,this._texture=this._textures[n],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(n){this.stop(),t.prototype.destroy.call(this,n),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(n){for(var r=[],i=0;i<n.length;++i)r.push(Or.from(n[i]));return new e(r)},e.fromImages=function(n){for(var r=[],i=0;i<n.length;++i)r.push(Or.from(n[i]));return new e(r)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(n){if(n[0]instanceof Or)this._textures=n,this._durations=null;else{this._textures=[],this._durations=[];for(var r=0;r<n.length;r++)this._textures.push(n[r].texture),this._durations.push(n[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var n=Math.floor(this._currentTime)%this._textures.length;return n<0&&(n+=this._textures.length),n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(n){n!==this._autoUpdate&&(this._autoUpdate=n,!this._autoUpdate&&this._isConnectedToTicker?(za.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(za.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(m_);/*!
 * pixi.js - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */qd.add(nle,ale,sle,xle,Rle,C5,$le,Vle,fle,yle,_le,Mle,Coe,lle);var zdt={AlphaFilter:gdt,BlurFilter:wdt,BlurFilterPass:bO,ColorMatrixFilter:wO,DisplacementFilter:Pdt,FXAAFilter:Rdt,NoiseFilter:Ldt};const Hdt=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return Yu},AbstractBatchRenderer:Koe,AbstractMultiResource:t3,AbstractRenderer:qoe,AccessibilityManager:nle,AnimatedSprite:Vdt,AppLoaderPlugin:lle,Application:O5,ArrayResource:J$,Attribute:JR,get BLEND_MODES(){return br},get BUFFER_BITS(){return T1},get BUFFER_TYPE(){return _c},BaseImageResource:Ud,BasePrepare:Dle,BaseRenderTexture:s5,BaseTexture:gi,BatchDrawCall:XC,BatchGeometry:T5,BatchPluginFactory:Qoe,BatchRenderer:C5,BatchShaderGenerator:Zoe,BatchSystem:u5,BatchTextureArray:YC,BitmapFont:gf,BitmapFontData:U1,BitmapFontLoader:Vle,BitmapText:hdt,BlobResource:dle,Bounds:M1,BrowserAdapter:Lae,Buffer:pa,BufferResource:ig,get CLEAR_MODES(){return Eu},get COLOR_MASK_BITS(){return IR},CanvasResource:e5,Circle:xoe,CompressedTextureLoader:fle,CompressedTextureResource:ZC,Container:Ku,ContextSystem:c5,CountLimiter:kle,CubeResource:t5,DDSLoader:yle,DEG_TO_RAD:boe,get DRAW_MODES(){return Ru},DisplayObject:Ys,get ENV(){return Fd},Ellipse:woe,get ExtensionType(){return Wi},Extract:ale,get FORMATS(){return $n},FORMATS_TO_COMPONENTS:mle,FillStyle:A5,Filter:gh,FilterState:koe,FilterSystem:l5,Framebuffer:qC,FramebufferSystem:d5,get GC_MODES(){return E1},GLFramebuffer:Doe,GLProgram:joe,GLTexture:dT,GRAPHICS_CURVES:Sy,Geometry:h_,GeometrySystem:f5,Graphics:B1,GraphicsData:dO,GraphicsGeometry:Ale,IGLUniformData:xut,INSTALLED:L1,get INTERNAL_FORMATS(){return Gr},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:N1,ImageBitmapResource:i5,ImageResource:n3,InteractionData:eO,InteractionEvent:rle,InteractionManager:sle,InteractionTrackingData:fT,KTXLoader:_le,get LINE_CAP(){return Pf},get LINE_JOIN(){return gd},LineStyle:Ple,Loader:$1,get LoaderResource(){return Ls},get MASK_TYPES(){return Qs},get MIPMAP_MODES(){return Xu},get MSAA_QUALITY(){return ys},MaskData:Ioe,MaskSystem:h5,Matrix:As,Mesh:Cy,MeshBatchUvs:Nle,MeshGeometry:Mx,MeshMaterial:Ey,NineSlicePlane:Bdt,ObjectRenderer:Ox,ObservablePoint:dp,PI_2:O1,get PRECISION(){return Dl},ParticleContainer:Dct,ParticleRenderer:xle,PlaneGeometry:Gle,Point:rs,Polygon:xb,Prepare:Rle,Program:p_,ProjectionSystem:g5,Quad:Poe,QuadUv:o5,RAD_TO_DEG:_oe,get RENDERER_TYPE(){return by},Rectangle:yi,RenderTexture:Up,RenderTexturePool:Aoe,RenderTextureSystem:v5,Renderer:w5,ResizePlugin:jle,Resource:Um,RopeGeometry:Wle,RoundedRectangle:Soe,Runner:Va,get SAMPLER_TYPES(){return C1},get SCALE_MODES(){return dc},get SHAPES(){return Pa},SVGResource:n5,ScissorSystem:p5,Shader:Mf,ShaderSystem:y5,SimpleMesh:Fdt,SimplePlane:qle,SimpleRope:Ndt,Sprite:m_,SpriteMaskFilter:Foe,Spritesheet:Ole,SpritesheetLoader:Mle,State:Qp,StateSystem:_5,StencilSystem:m5,System:Nut,get TARGETS(){return _p},get TEXT_GRADIENT(){return Ty},get TYPES(){return yr},TYPES_TO_BYTES_PER_COMPONENT:sO,TYPES_TO_BYTES_PER_PIXEL:gle,TemporaryDisplayObject:Q$,Text:D5,TextFormat:Fle,TextMetrics:Vc,TextStyle:Vm,Texture:Or,TextureGCSystem:b5,TextureLoader:ule,TextureMatrix:r3,TextureSystem:x5,TextureUvs:a5,Ticker:za,TickerPlugin:Coe,TilingSprite:edt,TilingSpriteRenderer:$le,TimeLimiter:Jct,Transform:JA,get UPDATE_PRIORITY(){return Bd},UniformGroup:bp,VERSION:Uut,VideoResource:r5,ViewableBuffer:KC,get WRAP_MODES(){return yc},XMLFormat:QC,XMLStringFormat:Ble,accessibleTarget:tle,autoDetectFormat:R5,autoDetectRenderer:Xoe,autoDetectResource:e3,checkMaxIfStatementsInShader:Noe,createUBOElements:Voe,defaultFilterVertex:S5,defaultVertex:Yoe,extensions:qd,filters:zdt,generateProgram:Goe,generateUniformBufferSync:Hoe,getTestContext:Moe,getUBOData:zoe,graphicsUtils:$ct,groupD8:Ts,interactiveTarget:ile,isMobile:Ou,parseDDS:ple,parseKTX:vle,resources:Joe,settings:Yn,systems:ele,uniformParsers:ym,utils:jlt},Symbol.toStringTag,{value:"Module"}));var T0=Math.pow,Is=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{o(n.next(l))}catch(u){i(u)}},a=l=>{try{o(n.throw(l))}catch(u){i(u)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,a);o((n=n.apply(t,e)).next())});const RG=2,OG=2;var V1;(t=>{t.supportMoreMaskDivisions=!0,t.setOpacityFromMotion=!1})(V1||(V1={}));var ro;(t=>{t.LOG_LEVEL_VERBOSE=0,t.LOG_LEVEL_WARNING=1,t.LOG_LEVEL_ERROR=2,t.LOG_LEVEL_NONE=999,t.logLevel=t.LOG_LEVEL_WARNING,t.sound=!0,t.motionSync=!0,t.motionFadingDuration=500,t.idleMotionFadingDuration=2e3,t.expressionFadingDuration=500,t.preserveExpressionOnMotion=!0,t.cubism4=V1})(ro||(ro={}));const Zi={log(t,...e){ro.logLevel<=ro.LOG_LEVEL_VERBOSE&&console.log(`[${t}]`,...e)},warn(t,...e){ro.logLevel<=ro.LOG_LEVEL_WARNING&&console.warn(`[${t}]`,...e)},error(t,...e){ro.logLevel<=ro.LOG_LEVEL_ERROR&&console.error(`[${t}]`,...e)}};function JC(t,e,n){return t<e?e:t>n?n:t}function jdt(t,e){return Math.random()*(e-t)+t}function a2(t,e,n,r,i){const s=e[r];s!==null&&typeof s===t&&(n[i]=s)}function o2(t,e,n,r,i){const s=e[r];Array.isArray(s)&&(n[i]=s.filter(a=>a!==null&&typeof a===t))}function Xle(t,e){e.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(t.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r))})})}function Gdt(t){let e=t.lastIndexOf("/");return e!=-1&&(t=t.slice(0,e)),e=t.lastIndexOf("/"),e!==-1&&(t=t.slice(e+1)),t}function Wdt(t,e){const n=t.indexOf(e);n!==-1&&t.splice(n,1)}class M5 extends mh{constructor(e,n){super(),this.expressions=[],this.reserveExpressionIndex=-1,this.destroyed=!1,this.settings=e,this.tag=`ExpressionManager(${e.name})`}init(){this.defaultExpression=this.createExpression({},void 0),this.currentExpression=this.defaultExpression,this.stopAllExpressions()}loadExpression(e){return Is(this,null,function*(){if(!this.definitions[e]){Zi.warn(this.tag,`Undefined expression at [${e}]`);return}if(this.expressions[e]===null){Zi.warn(this.tag,`Cannot set expression at [${e}] because it's already failed in loading.`);return}if(this.expressions[e])return this.expressions[e];const n=yield this._loadExpression(e);return this.expressions[e]=n,n})}_loadExpression(e){throw new Error("Not implemented.")}setRandomExpression(){return Is(this,null,function*(){if(this.definitions.length){const e=[];for(let n=0;n<this.definitions.length;n++)this.expressions[n]!==null&&this.expressions[n]!==this.currentExpression&&n!==this.reserveExpressionIndex&&e.push(n);if(e.length){const n=Math.floor(Math.random()*e.length);return this.setExpression(n)}}return!1})}resetExpression(){this._setExpression(this.defaultExpression)}restoreExpression(){this._setExpression(this.currentExpression)}setExpression(e){return Is(this,null,function*(){if(typeof e!="number"&&(e=this.getExpressionIndex(e)),!(e>-1&&e<this.definitions.length)||e===this.expressions.indexOf(this.currentExpression))return!1;this.reserveExpressionIndex=e;const n=yield this.loadExpression(e);return!n||this.reserveExpressionIndex!==e?!1:(this.reserveExpressionIndex=-1,this.currentExpression=n,this._setExpression(n),!0)})}update(e,n){return this.isFinished()?!1:this.updateParameters(e,n)}destroy(){this.destroyed=!0,this.emit("destroy");const e=this;e.definitions=void 0,e.expressions=void 0}}const MG=.01,qdt=40/7.5,Xdt=1/(.15*1e3);class Ydt{constructor(){this.targetX=0,this.targetY=0,this.x=0,this.y=0,this.vx=0,this.vy=0}focus(e,n,r=!1){this.targetX=JC(e,-1,1),this.targetY=JC(n,-1,1),r&&(this.x=this.targetX,this.y=this.targetY)}update(e){const n=this.targetX-this.x,r=this.targetY-this.y;if(Math.abs(n)<MG&&Math.abs(r)<MG)return;const i=Math.sqrt(T0(n,2)+T0(r,2)),s=qdt/(1e3/e);let a=s*(n/i)-this.vx,o=s*(r/i)-this.vy;const l=Math.sqrt(T0(a,2)+T0(o,2)),u=s*Xdt*e;l>u&&(a*=u/l,o*=u/l),this.vx+=a,this.vy+=o;const d=Math.sqrt(T0(this.vx,2)+T0(this.vy,2)),f=.5*(Math.sqrt(T0(u,2)+8*u*i)-u);d>f&&(this.vx*=f/d,this.vy*=f/d),this.x+=this.vx,this.y+=this.vy}}class i3{constructor(e){this.json=e;let n=e.url;if(typeof n!="string")throw new TypeError("The `url` field in settings JSON must be defined as a string.");this.url=n,this.name=Gdt(this.url)}resolveURL(e){return wd.resolve(this.url,e)}replaceFiles(e){this.moc=e(this.moc,"moc"),this.pose!==void 0&&(this.pose=e(this.pose,"pose")),this.physics!==void 0&&(this.physics=e(this.physics,"physics"));for(let n=0;n<this.textures.length;n++)this.textures[n]=e(this.textures[n],`textures[${n}]`)}getDefinedFiles(){const e=[];return this.replaceFiles(n=>(e.push(n),n)),e}validateFiles(e){const n=(s,a)=>{const o=this.resolveURL(s);if(!e.includes(o)){if(a)throw new Error(`File "${s}" is defined in settings, but doesn't exist in given files`);return!1}return!0};return[this.moc,...this.textures].forEach(s=>n(s,!0)),this.getDefinedFiles().filter(s=>n(s,!1))}}var PO=(t=>(t[t.NONE=0]="NONE",t[t.IDLE=1]="IDLE",t[t.NORMAL=2]="NORMAL",t[t.FORCE=3]="FORCE",t))(PO||{});class Kdt{constructor(){this.debug=!1,this.currentPriority=0,this.reservePriority=0}reserve(e,n,r){if(r<=0)return Zi.log(this.tag,"Cannot start a motion with MotionPriority.NONE."),!1;if(e===this.currentGroup&&n===this.currentIndex)return Zi.log(this.tag,"Motion is already playing.",this.dump(e,n)),!1;if(e===this.reservedGroup&&n===this.reservedIndex||e===this.reservedIdleGroup&&n===this.reservedIdleIndex)return Zi.log(this.tag,"Motion is already reserved.",this.dump(e,n)),!1;if(r===1){if(this.currentPriority!==0)return Zi.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(e,n)),!1;if(this.reservedIdleGroup!==void 0)return Zi.log(this.tag,"Cannot start idle motion because another idle motion has reserved.",this.dump(e,n)),!1;this.setReservedIdle(e,n)}else{if(r<3){if(r<=this.currentPriority)return Zi.log(this.tag,"Cannot start motion because another motion is playing as an equivalent or higher priority.",this.dump(e,n)),!1;if(r<=this.reservePriority)return Zi.log(this.tag,"Cannot start motion because another motion has reserved as an equivalent or higher priority.",this.dump(e,n)),!1}this.setReserved(e,n,r)}return!0}start(e,n,r,i){if(i===1){if(this.setReservedIdle(void 0,void 0),this.currentPriority!==0)return Zi.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(n,r)),!1}else{if(n!==this.reservedGroup||r!==this.reservedIndex)return Zi.log(this.tag,"Cannot start motion because another motion has taken the place.",this.dump(n,r)),!1;this.setReserved(void 0,void 0,0)}return e?(this.setCurrent(n,r,i),!0):!1}complete(){this.setCurrent(void 0,void 0,0)}setCurrent(e,n,r){this.currentPriority=r,this.currentGroup=e,this.currentIndex=n}setReserved(e,n,r){this.reservePriority=r,this.reservedGroup=e,this.reservedIndex=n}setReservedIdle(e,n){this.reservedIdleGroup=e,this.reservedIdleIndex=n}isActive(e,n){return e===this.currentGroup&&n===this.currentIndex||e===this.reservedGroup&&n===this.reservedIndex||e===this.reservedIdleGroup&&n===this.reservedIdleIndex}reset(){this.setCurrent(void 0,void 0,0),this.setReserved(void 0,void 0,0),this.setReservedIdle(void 0,void 0)}shouldRequestIdleMotion(){return this.currentGroup===void 0&&this.reservedIdleGroup===void 0}shouldOverrideExpression(){return!ro.preserveExpressionOnMotion&&this.currentPriority>1}dump(e,n){if(this.debug){const r=["currentPriority","reservePriority","currentGroup","currentIndex","reservedGroup","reservedIndex","reservedIdleGroup","reservedIdleIndex"];return`
<Requested> group = "${e}", index = ${n}
`+r.map(i=>"["+i+"] "+this[i]).join(`
`)}return""}}const Zdt="SoundManager",Qdt=.5;class W0{static get volume(){return this._volume}static set volume(e){this._volume=(e>1?1:e<0?0:e)||0,this.audios.forEach(n=>n.volume=this._volume)}static add(e,n,r){const i=new Audio(e);return i.volume=this._volume,i.preload="auto",i.addEventListener("ended",()=>{this.dispose(i),n==null||n()}),i.addEventListener("error",s=>{this.dispose(i),Zi.warn(Zdt,`Error occurred on "${e}"`,s.error),r==null||r(s.error)}),this.audios.push(i),i}static play(e){return new Promise((n,r)=>{var i;(i=e.play())==null||i.catch(s=>{e.dispatchEvent(new ErrorEvent("error",{error:s})),r(s)}),e.readyState===e.HAVE_ENOUGH_DATA?n():e.addEventListener("canplaythrough",n)})}static dispose(e){e.pause(),e.removeAttribute("src"),Wdt(this.audios,e)}static destroy(){for(let e=this.audios.length-1;e>=0;e--)this.dispose(this.audios[e])}}W0.audios=[];W0._volume=Qdt;class s3 extends mh{constructor(e,n){super(),this.motionGroups={},this.state=new Kdt,this.playing=!1,this.destroyed=!1,this.settings=e,this.tag=`MotionManager(${e.name})`,this.state.tag=this.tag}init(e){e!=null&&e.idleMotionGroup&&(this.groups.idle=e.idleMotionGroup),this.setupMotions(e),this.stopAllMotions()}setupMotions(e){for(const r of Object.keys(this.definitions))this.motionGroups[r]=[];let n;switch(e==null?void 0:e.motionPreload){case"NONE":return;case"ALL":n=Object.keys(this.definitions);break;case"IDLE":default:n=[this.groups.idle];break}for(const r of n)if(this.definitions[r])for(let i=0;i<this.definitions[r].length;i++)this.loadMotion(r,i).then()}loadMotion(e,n){return Is(this,null,function*(){var r;if(!((r=this.definitions[e])!=null&&r[n])){Zi.warn(this.tag,`Undefined motion at "${e}"[${n}]`);return}if(this.motionGroups[e][n]===null){Zi.warn(this.tag,`Cannot start motion at "${e}"[${n}] because it's already failed in loading.`);return}if(this.motionGroups[e][n])return this.motionGroups[e][n];const i=yield this._loadMotion(e,n);if(!this.destroyed)return this.motionGroups[e][n]=i??null,i})}_loadMotion(e,n){throw new Error("Not implemented.")}startMotion(e,n){return Is(this,arguments,function*(r,i,s=PO.NORMAL){var a;if(!this.state.reserve(r,i,s))return!1;const o=(a=this.definitions[r])==null?void 0:a[i];if(!o)return!1;this.currentAudio&&W0.dispose(this.currentAudio);let l;if(ro.sound){const d=this.getSoundFile(o);if(d)try{l=W0.add(this.settings.resolveURL(d),()=>this.currentAudio=void 0,()=>this.currentAudio=void 0),this.currentAudio=l}catch(f){Zi.warn(this.tag,"Failed to create audio",d,f)}}const u=yield this.loadMotion(r,i);if(l){const d=W0.play(l).catch(f=>Zi.warn(this.tag,"Failed to play audio",l.src,f));ro.motionSync&&(yield d)}return this.state.start(u,r,i,s)?(Zi.log(this.tag,"Start motion:",this.getMotionName(o)),this.emit("motionStart",r,i,l),this.state.shouldOverrideExpression()&&this.expressionManager&&this.expressionManager.resetExpression(),this.playing=!0,this._startMotion(u),!0):(l&&(W0.dispose(l),this.currentAudio=void 0),!1)})}startRandomMotion(e,n){return Is(this,null,function*(){const r=this.definitions[e];if(r!=null&&r.length){const i=[];for(let s=0;s<r.length;s++)this.motionGroups[e][s]!==null&&!this.state.isActive(e,s)&&i.push(s);if(i.length){const s=Math.floor(Math.random()*i.length);return this.startMotion(e,i[s],n)}}return!1})}stopAllMotions(){this._stopAllMotions(),this.state.reset(),this.currentAudio&&(W0.dispose(this.currentAudio),this.currentAudio=void 0)}update(e,n){var r;return this.isFinished()&&(this.playing&&(this.playing=!1,this.emit("motionFinish")),this.state.shouldOverrideExpression()&&((r=this.expressionManager)==null||r.restoreExpression()),this.state.complete(),this.state.shouldRequestIdleMotion()&&this.startRandomMotion(this.groups.idle,PO.IDLE)),this.updateParameters(e,n)}destroy(){var e;this.destroyed=!0,this.emit("destroy"),this.stopAllMotions(),(e=this.expressionManager)==null||e.destroy();const n=this;n.definitions=void 0,n.motionGroups=void 0}}const Jdt={x:0,y:0,width:0,height:0};class Yle extends mh{constructor(){super(...arguments),this.focusController=new Ydt,this.originalWidth=0,this.originalHeight=0,this.width=0,this.height=0,this.localTransform=new As,this.drawingMatrix=new As,this.hitAreas={},this.textureFlipY=!1,this.viewport=[0,0,0,0],this.destroyed=!1}init(){this.setupLayout(),this.setupHitAreas()}setupLayout(){const e=this,n=this.getSize();e.originalWidth=n[0],e.originalHeight=n[1];const r=Object.assign({width:RG,height:OG},this.getLayout());this.localTransform.scale(r.width/RG,r.height/OG),e.width=this.originalWidth*this.localTransform.a,e.height=this.originalHeight*this.localTransform.d;const i=r.x!==void 0&&r.x-r.width/2||r.centerX!==void 0&&r.centerX||r.left!==void 0&&r.left-r.width/2||r.right!==void 0&&r.right+r.width/2||0,s=r.y!==void 0&&r.y-r.height/2||r.centerY!==void 0&&r.centerY||r.top!==void 0&&r.top-r.height/2||r.bottom!==void 0&&r.bottom+r.height/2||0;this.localTransform.translate(this.width*i,-this.height*s)}setupHitAreas(){const e=this.getHitAreaDefs().filter(n=>n.index>=0);for(const n of e)this.hitAreas[n.name]=n}hitTest(e,n){return Object.keys(this.hitAreas).filter(r=>this.isHit(r,e,n))}isHit(e,n,r){if(!this.hitAreas[e])return!1;const i=this.hitAreas[e].index,s=this.getDrawableBounds(i,Jdt);return s.x<=n&&n<=s.x+s.width&&s.y<=r&&r<=s.y+s.height}getDrawableBounds(e,n){const r=this.getDrawableVertices(e);let i=r[0],s=r[0],a=r[1],o=r[1];for(let l=0;l<r.length;l+=2){const u=r[l],d=r[l+1];i=Math.min(u,i),s=Math.max(u,s),a=Math.min(d,a),o=Math.max(d,o)}return n??(n={}),n.x=i,n.y=a,n.width=s-i,n.height=o-a,n}updateTransform(e){this.drawingMatrix.copyFrom(e).append(this.localTransform)}update(e,n){this.focusController.update(e)}destroy(){this.destroyed=!0,this.emit("destroy"),this.motionManager.destroy(),this.motionManager=void 0}}const eft="XHRLoader";class LG extends Error{constructor(e,n,r,i=!1){super(e),this.url=n,this.status=r,this.aborted=i}}const Xo=class{static createXHR(t,e,n,r,i){const s=new XMLHttpRequest;if(Xo.allXhrSet.add(s),t){let a=Xo.xhrMap.get(t);a?a.add(s):(a=new Set([s]),Xo.xhrMap.set(t,a)),t.listeners("destroy").includes(Xo.cancelXHRs)||t.once("destroy",Xo.cancelXHRs)}return s.open("GET",e),s.responseType=n,s.onload=()=>{(s.status===200||s.status===0)&&s.response?r(s.response):s.onerror()},s.onerror=()=>{Zi.warn(eft,`Failed to load resource as ${s.responseType} (Status ${s.status}): ${e}`),i(new LG("Network error.",e,s.status))},s.onabort=()=>i(new LG("Aborted.",e,s.status,!0)),s.onloadend=()=>{var a;Xo.allXhrSet.delete(s),t&&((a=Xo.xhrMap.get(t))==null||a.delete(s))},s}static cancelXHRs(){var t;(t=Xo.xhrMap.get(this))==null||t.forEach(e=>{e.abort(),Xo.allXhrSet.delete(e)}),Xo.xhrMap.delete(this)}static release(){Xo.allXhrSet.forEach(t=>t.abort()),Xo.allXhrSet.clear(),Xo.xhrMap=new WeakMap}};let a3=Xo;a3.xhrMap=new WeakMap;a3.allXhrSet=new Set;a3.loader=(t,e)=>new Promise((n,r)=>{Xo.createXHR(t.target,t.settings?t.settings.resolveURL(t.url):t.url,t.type,s=>{t.result=s,n()},r).send()});function Kle(t,e){let n=-1;return r(0);function r(i,s){if(s)return Promise.reject(s);if(i<=n)return Promise.reject(new Error("next() called multiple times"));n=i;const a=t[i];if(!a)return Promise.resolve();try{return Promise.resolve(a(e,r.bind(null,i+1)))}catch(o){return Promise.reject(o)}}}class Vp{static load(e){return Kle(this.middlewares,e).then(()=>e.result)}}Vp.middlewares=[a3.loader];function tft(t,e={}){var n;const r={resourceOptions:{crossorigin:e.crossOrigin}};if(Or.fromURL)return Or.fromURL(t,r).catch(a=>{if(a instanceof Error)throw a;const o=new Error("Texture loading error");throw o.event=a,o});r.resourceOptions.autoLoad=!1;const i=Or.from(t,r);if(i.baseTexture.valid)return Promise.resolve(i);const s=i.baseTexture.resource;return(n=s._live2d_load)!=null||(s._live2d_load=new Promise((a,o)=>{const l=u=>{s.source.removeEventListener("error",l);const d=new Error("Texture loading error");d.event=u,o(d)};s.source.addEventListener("error",l),s.load().then(()=>a(i)).catch(l)})),s._live2d_load}const $G="Live2DFactory",Zle=(t,e)=>Is(void 0,null,function*(){if(typeof t.source=="string"){const n=yield Vp.load({url:t.source,type:"json",target:t.live2dModel});n.url=t.source,t.source=n,t.live2dModel.emit("settingsJSONLoaded",n)}return e()}),Qle=(t,e)=>Is(void 0,null,function*(){if(t.source instanceof i3)return t.settings=t.source,e();if(typeof t.source=="object"){const n=Ps.findRuntime(t.source);if(n){const r=n.createModelSettings(t.source);return t.settings=r,t.live2dModel.emit("settingsLoaded",r),e()}}throw new TypeError("Unknown settings format.")}),Jle=(t,e)=>{if(t.settings){const n=Ps.findRuntime(t.settings);if(n)return n.ready().then(e)}return e()},eue=(t,e)=>Is(void 0,null,function*(){yield e();const n=t.internalModel;if(n){const r=t.settings,i=Ps.findRuntime(r);if(i){const s=[];r.pose&&s.push(Vp.load({settings:r,url:r.pose,type:"json",target:n}).then(a=>{n.pose=i.createPose(n.coreModel,a),t.live2dModel.emit("poseLoaded",n.pose)}).catch(a=>{t.live2dModel.emit("poseLoadError",a),Zi.warn($G,"Failed to load pose.",a)})),r.physics&&s.push(Vp.load({settings:r,url:r.physics,type:"json",target:n}).then(a=>{n.physics=i.createPhysics(n.coreModel,a),t.live2dModel.emit("physicsLoaded",n.physics)}).catch(a=>{t.live2dModel.emit("physicsLoadError",a),Zi.warn($G,"Failed to load physics.",a)})),s.length&&(yield Promise.all(s))}}}),tue=(t,e)=>Is(void 0,null,function*(){if(t.settings){const n=t.live2dModel,r=t.settings.textures.map(i=>{const s=t.settings.resolveURL(i);return tft(s,{crossOrigin:t.options.crossOrigin})});if(yield e(),t.internalModel)n.internalModel=t.internalModel,n.emit("modelLoaded",t.internalModel);else throw new TypeError("Missing internal model.");n.textures=yield Promise.all(r),n.emit("textureLoaded",n.textures)}else throw new TypeError("Missing settings.")}),nue=(t,e)=>Is(void 0,null,function*(){const n=t.settings;if(n instanceof i3){const r=Ps.findRuntime(n);if(!r)throw new TypeError("Unknown model settings.");const i=yield Vp.load({settings:n,url:n.moc,type:"arraybuffer",target:t.live2dModel});if(!r.isValidMoc(i))throw new Error("Invalid moc data");const s=r.createCoreModel(i);return t.internalModel=r.createInternalModel(s,n,t.options),e()}throw new TypeError("Missing settings.")}),Ja=class{static registerRuntime(t){Ja.runtimes.push(t),Ja.runtimes.sort((e,n)=>n.version-e.version)}static findRuntime(t){for(const e of Ja.runtimes)if(e.test(t))return e}static setupLive2DModel(t,e,n){return Is(this,null,function*(){const r=new Promise(a=>t.once("textureLoaded",a)),i=new Promise(a=>t.once("modelLoaded",a)),s=Promise.all([r,i]).then(()=>t.emit("ready"));yield Kle(Ja.live2DModelMiddlewares,{live2dModel:t,source:e,options:n||{}}),yield s,t.emit("load")})}static loadMotion(t,e,n){var r,i;const s=a=>t.emit("motionLoadError",e,n,a);try{const a=(r=t.definitions[e])==null?void 0:r[n];if(!a)return Promise.resolve(void 0);t.listeners("destroy").includes(Ja.releaseTasks)||t.once("destroy",Ja.releaseTasks);let o=Ja.motionTasksMap.get(t);o||(o={},Ja.motionTasksMap.set(t,o));let l=o[e];l||(l=[],o[e]=l);const u=t.getMotionFile(a);return(i=l[n])!=null||(l[n]=Vp.load({url:u,settings:t.settings,type:t.motionDataType,target:t}).then(d=>{var f;const h=(f=Ja.motionTasksMap.get(t))==null?void 0:f[e];h&&delete h[n];const g=t.createMotion(d,e,a);return t.emit("motionLoaded",e,n,g),g}).catch(d=>{Zi.warn(t.tag,`Failed to load motion: ${u}
`,d),s(d)})),l[n]}catch(a){Zi.warn(t.tag,`Failed to load motion at "${e}"[${n}]
`,a),s(a)}return Promise.resolve(void 0)}static loadExpression(t,e){var n;const r=i=>t.emit("expressionLoadError",e,i);try{const i=t.definitions[e];if(!i)return Promise.resolve(void 0);t.listeners("destroy").includes(Ja.releaseTasks)||t.once("destroy",Ja.releaseTasks);let s=Ja.expressionTasksMap.get(t);s||(s=[],Ja.expressionTasksMap.set(t,s));const a=t.getExpressionFile(i);return(n=s[e])!=null||(s[e]=Vp.load({url:a,settings:t.settings,type:"json",target:t}).then(o=>{const l=Ja.expressionTasksMap.get(t);l&&delete l[e];const u=t.createExpression(o,i);return t.emit("expressionLoaded",e,u),u}).catch(o=>{Zi.warn(t.tag,`Failed to load expression: ${a}
`,o),r(o)})),s[e]}catch(i){Zi.warn(t.tag,`Failed to load expression at [${e}]
`,i),r(i)}return Promise.resolve(void 0)}static releaseTasks(){this instanceof s3?Ja.motionTasksMap.delete(this):Ja.expressionTasksMap.delete(this)}};let Ps=Ja;Ps.runtimes=[];Ps.urlToJSON=Zle;Ps.jsonToSettings=Qle;Ps.waitUntilReady=Jle;Ps.setupOptionals=eue;Ps.setupEssentials=tue;Ps.createInternalModel=nue;Ps.live2DModelMiddlewares=[Zle,Qle,Jle,eue,tue,nue];Ps.motionTasksMap=new WeakMap;Ps.expressionTasksMap=new WeakMap;s3.prototype._loadMotion=function(t,e){return Ps.loadMotion(this,t,e)};M5.prototype._loadExpression=function(t){return Ps.loadExpression(this,t)};class nft{constructor(){this._autoInteract=!1}get autoInteract(){return this._autoInteract}set autoInteract(e){e!==this._autoInteract&&(e?this.on("pointertap",NG,this):this.off("pointertap",NG,this),this._autoInteract=e)}registerInteraction(e){e!==this.interactionManager&&(this.unregisterInteraction(),this._autoInteract&&e&&(this.interactionManager=e,e.on("pointermove",FG,this)))}unregisterInteraction(){var e;this.interactionManager&&((e=this.interactionManager)==null||e.off("pointermove",FG,this),this.interactionManager=void 0)}}function NG(t){this.tap(t.data.global.x,t.data.global.y)}function FG(t){this.focus(t.data.global.x,t.data.global.y)}class rft extends JA{}const xu=new rs,ift=new As;let Mh;class mT extends Ku{constructor(e){super(),this.tag="Live2DModel(uninitialized)",this.textures=[],this.transform=new rft,this.anchor=new dp(this.onAnchorChange,this,0,0),this.glContextID=-1,this.elapsedTime=performance.now(),this.deltaTime=0,this.wasUpdated=!1,this._autoUpdate=!1,this.once("modelLoaded",()=>this.init(e))}static from(e,n){const r=new this(n);return Ps.setupLive2DModel(r,e,n).then(()=>r)}static fromSync(e,n){const r=new this(n);return Ps.setupLive2DModel(r,e,n).then(n==null?void 0:n.onLoad).catch(n==null?void 0:n.onError),r}static registerTicker(e){Mh=e}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){var n;Mh||(Mh=(n=window.PIXI)==null?void 0:n.Ticker),e?this._destroyed||(Mh?(Mh.shared.add(this.onTickerUpdate,this),this._autoUpdate=!0):Zi.warn(this.tag,"No Ticker registered, please call Live2DModel.registerTicker(Ticker).")):(Mh==null||Mh.shared.remove(this.onTickerUpdate,this),this._autoUpdate=!1)}init(e){this.tag=`Live2DModel(${this.internalModel.settings.name})`;const n=Object.assign({autoUpdate:!0,autoInteract:!0},e);n.autoInteract&&(this.interactive=!0),this.autoInteract=n.autoInteract,this.autoUpdate=n.autoUpdate}onAnchorChange(){this.pivot.set(this.anchor.x*this.internalModel.width,this.anchor.y*this.internalModel.height)}motion(e,n,r){return n===void 0?this.internalModel.motionManager.startRandomMotion(e,r):this.internalModel.motionManager.startMotion(e,n,r)}expression(e){return this.internalModel.motionManager.expressionManager?e===void 0?this.internalModel.motionManager.expressionManager.setRandomExpression():this.internalModel.motionManager.expressionManager.setExpression(e):Promise.resolve(!1)}focus(e,n,r=!1){xu.x=e,xu.y=n,this.toModelPosition(xu,xu,!0);let i=xu.x/this.internalModel.originalWidth*2-1,s=xu.y/this.internalModel.originalHeight*2-1,a=Math.atan2(s,i);this.internalModel.focusController.focus(Math.cos(a),-Math.sin(a),r)}tap(e,n){const r=this.hitTest(e,n);r.length&&(Zi.log(this.tag,"Hit",r),this.emit("hit",r))}hitTest(e,n){return xu.x=e,xu.y=n,this.toModelPosition(xu,xu),this.internalModel.hitTest(xu.x,xu.y)}toModelPosition(e,n=e.clone(),r){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.transform.worldTransform.applyInverse(e,n),this.internalModel.localTransform.applyInverse(n,n),n}containsPoint(e){return this.getBounds(!0).contains(e.x,e.y)}_calculateBounds(){this._bounds.addFrame(this.transform,0,0,this.internalModel.width,this.internalModel.height)}onTickerUpdate(){this.update(Mh.shared.deltaMS)}update(e){this.deltaTime+=e,this.elapsedTime+=e,this.wasUpdated=!0}_render(e){if(this.registerInteraction(e.plugins.interaction),!this.wasUpdated)return;e.batch.reset(),e.geometry.reset(),e.shader.reset(),e.state.reset();let n=!1;this.glContextID!==e.CONTEXT_UID&&(this.glContextID=e.CONTEXT_UID,this.internalModel.updateWebGLContext(e.gl,this.glContextID),n=!0);for(let s=0;s<this.textures.length;s++){const a=this.textures[s];a.valid&&((n||!a.baseTexture._glTextures[this.glContextID])&&(e.gl.pixelStorei(WebGLRenderingContext.UNPACK_FLIP_Y_WEBGL,this.internalModel.textureFlipY),e.texture.bind(a.baseTexture,0)),this.internalModel.bindTexture(s,a.baseTexture._glTextures[this.glContextID].texture),a.baseTexture.touched=e.textureGC.count)}const r=e.framebuffer.viewport;this.internalModel.viewport=[r.x,r.y,r.width,r.height],this.deltaTime&&(this.internalModel.update(this.deltaTime,this.elapsedTime),this.deltaTime=0);const i=ift.copyFrom(e.globalUniforms.uniforms.projectionMatrix).append(this.worldTransform);this.internalModel.updateTransform(i),this.internalModel.draw(e.gl),e.state.reset(),e.texture.reset()}destroy(e){this.emit("destroy"),this.autoUpdate=!1,this.unregisterInteraction(),e!=null&&e.texture&&this.textures.forEach(n=>n.destroy(e.baseTexture)),this.internalModel.destroy(),super.destroy(e)}}Xle(mT,[nft]);const md=class{static resolveURL(t,e){var n;const r=(n=md.filesMap[t])==null?void 0:n[e];if(r===void 0)throw new Error("Cannot find this file from uploaded files: "+e);return r}static upload(t,e){return Is(this,null,function*(){const n={};for(const r of e.getDefinedFiles()){const i=decodeURI(wd.resolve(e.url,r)),s=t.find(a=>a.webkitRelativePath===i);s&&(n[r]=URL.createObjectURL(s))}md.filesMap[e._objectURL]=n})}static createSettings(t){return Is(this,null,function*(){const e=t.find(a=>a.name.endsWith("model.json")||a.name.endsWith("model3.json"));if(!e)throw new TypeError("Settings file not found");const n=yield md.readText(e),r=JSON.parse(n);r.url=e.webkitRelativePath;const i=Ps.findRuntime(r);if(!i)throw new Error("Unknown settings JSON");const s=i.createModelSettings(r);return s._objectURL=URL.createObjectURL(e),s})}static readText(t){return Is(this,null,function*(){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>e(r.result),r.onerror=n,r.readAsText(t,"utf8")})})}};let L5=md;L5.filesMap={};L5.factory=(t,e)=>Is(void 0,null,function*(){if(Array.isArray(t.source)&&t.source[0]instanceof File){const n=t.source;let r=n.settings;if(!r)r=yield md.createSettings(n);else if(!r._objectURL)throw new Error('"_objectURL" must be specified in ModelSettings');r.validateFiles(n.map(i=>encodeURI(i.webkitRelativePath))),yield md.upload(n,r),r.resolveURL=function(i){return md.resolveURL(this._objectURL,i)},t.source=r,t.live2dModel.once("modelLoaded",i=>{i.once("destroy",function(){const s=this.settings._objectURL;if(URL.revokeObjectURL(s),md.filesMap[s])for(const a of Object.values(md.filesMap[s]))URL.revokeObjectURL(a);delete md.filesMap[s]})})}return e()});Ps.live2DModelMiddlewares.unshift(L5.factory);const xl=class{static unzip(t,e){return Is(this,null,function*(){const n=yield xl.getFilePaths(t),r=[];for(const s of e.getDefinedFiles()){const a=decodeURI(wd.resolve(e.url,s));n.includes(a)&&r.push(a)}const i=yield xl.getFiles(t,r);for(let s=0;s<i.length;s++){const a=r[s],o=i[s];Object.defineProperty(o,"webkitRelativePath",{value:a})}return i})}static createSettings(t){return Is(this,null,function*(){const n=(yield xl.getFilePaths(t)).find(a=>a.endsWith("model.json")||a.endsWith("model3.json"));if(!n)throw new Error("Settings file not found");const r=yield xl.readText(t,n);if(!r)throw new Error("Empty settings file: "+n);const i=JSON.parse(r);i.url=n;const s=Ps.findRuntime(i);if(!s)throw new Error("Unknown settings JSON");return s.createModelSettings(i)})}static zipReader(t,e){return Is(this,null,function*(){throw new Error("Not implemented")})}static getFilePaths(t){return Is(this,null,function*(){throw new Error("Not implemented")})}static getFiles(t,e){return Is(this,null,function*(){throw new Error("Not implemented")})}static readText(t,e){return Is(this,null,function*(){throw new Error("Not implemented")})}static releaseReader(t){}};let o3=xl;o3.ZIP_PROTOCOL="zip://";o3.uid=0;o3.factory=(t,e)=>Is(void 0,null,function*(){const n=t.source;let r,i,s;if(typeof n=="string"&&(n.endsWith(".zip")||n.startsWith(xl.ZIP_PROTOCOL))?(n.startsWith(xl.ZIP_PROTOCOL)?r=n.slice(xl.ZIP_PROTOCOL.length):r=n,i=yield Vp.load({url:r,type:"blob",target:t.live2dModel})):Array.isArray(n)&&n.length===1&&n[0]instanceof File&&n[0].name.endsWith(".zip")&&(i=n[0],r=URL.createObjectURL(i),s=n.settings),i){if(!i.size)throw new Error("Empty zip file");const a=yield xl.zipReader(i,r);s||(s=yield xl.createSettings(a)),s._objectURL=xl.ZIP_PROTOCOL+xl.uid+"/"+s.url;const o=yield xl.unzip(a,s);o.settings=s,t.source=o,r.startsWith("blob:")&&t.live2dModel.once("modelLoaded",l=>{l.once("destroy",function(){URL.revokeObjectURL(r)})}),xl.releaseReader(a)}return e()});Ps.live2DModelMiddlewares.unshift(o3.factory);if(!window.Live2D)throw new Error("Could not find Cubism 2 runtime. This plugin requires live2d.min.js to be loaded.");const sft=Live2DMotion.prototype.updateParam;Live2DMotion.prototype.updateParam=function(t,e){sft.call(this,t,e),e.isFinished()&&this.onFinishHandler&&(this.onFinishHandler(this),delete this.onFinishHandler)};class aft extends AMotion{constructor(e){super(),this.params=[],this.setFadeIn(e.fade_in>0?e.fade_in:ro.expressionFadingDuration),this.setFadeOut(e.fade_out>0?e.fade_out:ro.expressionFadingDuration),Array.isArray(e.params)&&e.params.forEach(n=>{const r=n.calc||"add";if(r==="add"){const i=n.def||0;n.val-=i}else if(r==="mult"){const i=n.def||1;n.val/=i}this.params.push({calc:r,val:n.val,id:n.id})})}updateParamExe(e,n,r,i){this.params.forEach(s=>{e.setParamFloat(s.id,s.val*r)})}}class oft extends M5{constructor(e,n){var r;super(e,n),this.queueManager=new MotionQueueManager,this.definitions=(r=this.settings.expressions)!=null?r:[],this.init()}isFinished(){return this.queueManager.isFinished()}getExpressionIndex(e){return this.definitions.findIndex(n=>n.name===e)}getExpressionFile(e){return e.file}createExpression(e,n){return new aft(e)}_setExpression(e){return this.queueManager.startMotion(e)}stopAllExpressions(){this.queueManager.stopAllMotions()}updateParameters(e,n){return this.queueManager.updateParam(e)}}class lft extends s3{constructor(e,n){super(e,n),this.groups={idle:"idle"},this.motionDataType="arraybuffer",this.queueManager=new MotionQueueManager,this.definitions=this.settings.motions,this.init(n)}init(e){super.init(e),this.settings.expressions&&(this.expressionManager=new oft(this.settings,e))}isFinished(){return this.queueManager.isFinished()}createMotion(e,n,r){const i=Live2DMotion.loadMotion(e),s=n===this.groups.idle?ro.idleMotionFadingDuration:ro.motionFadingDuration;return i.setFadeIn(r.fade_in>0?r.fade_in:s),i.setFadeOut(r.fade_out>0?r.fade_out:s),i}getMotionFile(e){return e.file}getMotionName(e){return e.file}getSoundFile(e){return e.sound}_startMotion(e,n){return e.onFinishHandler=n,this.queueManager.stopAllMotions(),this.queueManager.startMotion(e)}_stopAllMotions(){this.queueManager.stopAllMotions()}updateParameters(e,n){return this.queueManager.updateParam(e)}destroy(){super.destroy(),this.queueManager=void 0}}class uft{constructor(e){this.coreModel=e,this.blinkInterval=4e3,this.closingDuration=100,this.closedDuration=50,this.openingDuration=150,this.eyeState=0,this.eyeParamValue=1,this.closedTimer=0,this.nextBlinkTimeLeft=this.blinkInterval,this.leftParam=e.getParamIndex("PARAM_EYE_L_OPEN"),this.rightParam=e.getParamIndex("PARAM_EYE_R_OPEN")}setEyeParams(e){this.eyeParamValue=JC(e,0,1),this.coreModel.setParamFloat(this.leftParam,this.eyeParamValue),this.coreModel.setParamFloat(this.rightParam,this.eyeParamValue)}update(e){switch(this.eyeState){case 0:this.nextBlinkTimeLeft-=e,this.nextBlinkTimeLeft<0&&(this.eyeState=1,this.nextBlinkTimeLeft=this.blinkInterval+this.closingDuration+this.closedDuration+this.openingDuration+jdt(0,2e3));break;case 1:this.setEyeParams(this.eyeParamValue+e/this.closingDuration),this.eyeParamValue<=0&&(this.eyeState=2,this.closedTimer=0);break;case 2:this.closedTimer+=e,this.closedTimer>=this.closedDuration&&(this.eyeState=3);break;case 3:this.setEyeParams(this.eyeParamValue+e/this.openingDuration),this.eyeParamValue>=1&&(this.eyeState=0)}}}const C0=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class cft extends Yle{constructor(e,n,r){super(),this.textureFlipY=!0,this.drawDataCount=0,this.disableCulling=!1,this.coreModel=e,this.settings=n,this.motionManager=new lft(n,r),this.eyeBlink=new uft(e),this.eyeballXParamIndex=e.getParamIndex("PARAM_EYE_BALL_X"),this.eyeballYParamIndex=e.getParamIndex("PARAM_EYE_BALL_Y"),this.angleXParamIndex=e.getParamIndex("PARAM_ANGLE_X"),this.angleYParamIndex=e.getParamIndex("PARAM_ANGLE_Y"),this.angleZParamIndex=e.getParamIndex("PARAM_ANGLE_Z"),this.bodyAngleXParamIndex=e.getParamIndex("PARAM_BODY_ANGLE_X"),this.breathParamIndex=e.getParamIndex("PARAM_BREATH"),this.init()}init(){super.init(),this.settings.initParams&&this.settings.initParams.forEach(({id:s,value:a})=>this.coreModel.setParamFloat(s,a)),this.settings.initOpacities&&this.settings.initOpacities.forEach(({id:s,value:a})=>this.coreModel.setPartsOpacity(s,a)),this.coreModel.saveParam();const e=this.coreModel.getModelContext()._$aS;e!=null&&e.length&&(this.drawDataCount=e.length);let n=this.coreModel.drawParamWebGL.culling;Object.defineProperty(this.coreModel.drawParamWebGL,"culling",{set:s=>n=s,get:()=>this.disableCulling?!1:n});const r=this.coreModel.getModelContext().clipManager,i=r.setupClip;r.setupClip=(s,a)=>{i.call(r,s,a),a.gl.viewport(...this.viewport)}}getSize(){return[this.coreModel.getCanvasWidth(),this.coreModel.getCanvasHeight()]}getLayout(){const e={};if(this.settings.layout)for(const n of Object.keys(this.settings.layout)){let r=n;n==="center_x"?r="centerX":n==="center_y"&&(r="centerY"),e[r]=this.settings.layout[n]}return e}updateWebGLContext(e,n){const r=this.coreModel.drawParamWebGL;r.firstDraw=!0,r.setGL(e),r.glno=n;for(const a in r)r.hasOwnProperty(a)&&r[a]instanceof WebGLBuffer&&(r[a]=null);const i=this.coreModel.getModelContext().clipManager;i.curFrameNo=n;const s=e.getParameter(e.FRAMEBUFFER_BINDING);i.getMaskRenderTexture(),e.bindFramebuffer(e.FRAMEBUFFER,s)}bindTexture(e,n){this.coreModel.setTexture(e,n)}getHitAreaDefs(){var e;return((e=this.settings.hitAreas)==null?void 0:e.map(n=>({id:n.id,name:n.name,index:this.coreModel.getDrawDataIndex(n.id)})))||[]}getDrawableIDs(){const e=this.coreModel.getModelContext(),n=[];for(let r=0;r<this.drawDataCount;r++){const i=e.getDrawData(r);i&&n.push(i.getDrawDataID().id)}return n}getDrawableIndex(e){return this.coreModel.getDrawDataIndex(e)}getDrawableVertices(e){if(typeof e=="string"&&(e=this.coreModel.getDrawDataIndex(e),e===-1))throw new TypeError("Unable to find drawable ID: "+e);return this.coreModel.getTransformedPoints(e).slice()}update(e,n){var r,i,s,a;super.update(e,n);const o=this.coreModel;this.emit("beforeMotionUpdate");const l=this.motionManager.update(this.coreModel,n);this.emit("afterMotionUpdate"),o.saveParam(),(r=this.motionManager.expressionManager)==null||r.update(o,n),l||(i=this.eyeBlink)==null||i.update(e),this.updateFocus(),this.updateNaturalMovements(e,n),(s=this.physics)==null||s.update(n),(a=this.pose)==null||a.update(e),this.emit("beforeModelUpdate"),o.update(),o.loadParam()}updateFocus(){this.coreModel.addToParamFloat(this.eyeballXParamIndex,this.focusController.x),this.coreModel.addToParamFloat(this.eyeballYParamIndex,this.focusController.y),this.coreModel.addToParamFloat(this.angleXParamIndex,this.focusController.x*30),this.coreModel.addToParamFloat(this.angleYParamIndex,this.focusController.y*30),this.coreModel.addToParamFloat(this.angleZParamIndex,this.focusController.x*this.focusController.y*-30),this.coreModel.addToParamFloat(this.bodyAngleXParamIndex,this.focusController.x*10)}updateNaturalMovements(e,n){const r=n/1e3*2*Math.PI;this.coreModel.addToParamFloat(this.angleXParamIndex,15*Math.sin(r/6.5345)*.5),this.coreModel.addToParamFloat(this.angleYParamIndex,8*Math.sin(r/3.5345)*.5),this.coreModel.addToParamFloat(this.angleZParamIndex,10*Math.sin(r/5.5345)*.5),this.coreModel.addToParamFloat(this.bodyAngleXParamIndex,4*Math.sin(r/15.5345)*.5),this.coreModel.setParamFloat(this.breathParamIndex,.5+.5*Math.sin(r/3.2345))}draw(e){const n=this.disableCulling;e.getParameter(e.FRAMEBUFFER_BINDING)&&(this.disableCulling=!0);const r=this.drawingMatrix;C0[0]=r.a,C0[1]=r.b,C0[4]=r.c,C0[5]=r.d,C0[12]=r.tx,C0[13]=r.ty,this.coreModel.setMatrix(C0),this.coreModel.draw(),this.disableCulling=n}destroy(){super.destroy(),this.coreModel=void 0}}class Sb extends i3{constructor(e){if(super(e),this.motions={},!Sb.isValidJSON(e))throw new TypeError("Invalid JSON.");this.moc=e.model,o2("string",e,this,"textures","textures"),this.copy(e)}static isValidJSON(e){var n;return!!e&&typeof e.model=="string"&&((n=e.textures)==null?void 0:n.length)>0&&e.textures.every(r=>typeof r=="string")}copy(e){a2("string",e,this,"name","name"),a2("string",e,this,"pose","pose"),a2("string",e,this,"physics","physics"),a2("object",e,this,"layout","layout"),a2("object",e,this,"motions","motions"),o2("object",e,this,"hit_areas","hitAreas"),o2("object",e,this,"expressions","expressions"),o2("object",e,this,"init_params","initParams"),o2("object",e,this,"init_opacities","initOpacities")}replaceFiles(e){super.replaceFiles(e);for(const[n,r]of Object.entries(this.motions))for(let i=0;i<r.length;i++)r[i].file=e(r[i].file,`motions.${n}[${i}].file`),r[i].sound!==void 0&&(r[i].sound=e(r[i].sound,`motions.${n}[${i}].sound`));if(this.expressions)for(let n=0;n<this.expressions.length;n++)this.expressions[n].file=e(this.expressions[n].file,`expressions[${n}].file`)}}const dft={x:PhysicsHair.Src.SRC_TO_X,y:PhysicsHair.Src.SRC_TO_Y,angle:PhysicsHair.Src.SRC_TO_G_ANGLE},fft={x:PhysicsHair.Src.SRC_TO_X,y:PhysicsHair.Src.SRC_TO_Y,angle:PhysicsHair.Src.SRC_TO_G_ANGLE};class hft{constructor(e,n){this.coreModel=e,this.physicsHairs=[],n.physics_hair&&(this.physicsHairs=n.physics_hair.map(r=>{const i=new PhysicsHair;return i.setup(r.setup.length,r.setup.regist,r.setup.mass),r.src.forEach(({id:s,ptype:a,scale:o,weight:l})=>{const u=dft[a];u&&i.addSrcParam(u,s,o,l)}),r.targets.forEach(({id:s,ptype:a,scale:o,weight:l})=>{const u=fft[a];u&&i.addTargetParam(u,s,o,l)}),i}))}update(e){this.physicsHairs.forEach(n=>n.update(this.coreModel,e))}}class BG{constructor(e){this.id=e,this.paramIndex=-1,this.partsIndex=-1,this.link=[]}initIndex(e){this.paramIndex=e.getParamIndex("VISIBLE:"+this.id),this.partsIndex=e.getPartsDataIndex(PartsDataID.getID(this.id)),e.setParamFloat(this.paramIndex,1)}}class pft{constructor(e,n){this.coreModel=e,this.opacityAnimDuration=500,this.partsGroups=[],n.parts_visible&&(this.partsGroups=n.parts_visible.map(({group:r})=>r.map(({id:i,link:s})=>{const a=new BG(i);return s&&(a.link=s.map(o=>new BG(o))),a})),this.init())}init(){this.partsGroups.forEach(e=>{e.forEach(n=>{if(n.initIndex(this.coreModel),n.paramIndex>=0){const r=this.coreModel.getParamFloat(n.paramIndex)!==0;this.coreModel.setPartsOpacity(n.partsIndex,r?1:0),this.coreModel.setParamFloat(n.paramIndex,r?1:0),n.link.length>0&&n.link.forEach(i=>i.initIndex(this.coreModel))}})})}normalizePartsOpacityGroup(e,n){const r=this.coreModel,i=.5,s=.15;let a=1,o=e.findIndex(({paramIndex:l,partsIndex:u})=>u>=0&&r.getParamFloat(l)!==0);if(o>=0){const l=r.getPartsOpacity(e[o].partsIndex);a=JC(l+n/this.opacityAnimDuration,0,1)}else o=0,a=1;e.forEach(({partsIndex:l},u)=>{if(l>=0)if(o==u)r.setPartsOpacity(l,a);else{let d=r.getPartsOpacity(l),f;a<i?f=a*(i-1)/i+1:f=(1-a)*i/(1-i),(1-f)*(1-a)>s&&(f=1-s/(1-a)),d>f&&(d=f),r.setPartsOpacity(l,d)}})}copyOpacity(e){const n=this.coreModel;e.forEach(({partsIndex:r,link:i})=>{if(r>=0&&i){const s=n.getPartsOpacity(r);i.forEach(({partsIndex:a})=>{a>=0&&n.setPartsOpacity(a,s)})}})}update(e){this.partsGroups.forEach(n=>{this.normalizePartsOpacityGroup(n,e),this.copyOpacity(n)})}}Ps.registerRuntime({version:2,test(t){return t instanceof Sb||Sb.isValidJSON(t)},ready(){return Promise.resolve()},isValidMoc(t){if(t.byteLength<3)return!1;const e=new Int8Array(t,0,3);return String.fromCharCode(...e)==="moc"},createModelSettings(t){return new Sb(t)},createCoreModel(t){const e=Live2DModelWebGL.loadModel(t),n=Live2D.getError();if(n)throw n;return e},createInternalModel(t,e,n){return new cft(t,e,n)},createPose(t,e){return new pft(t,e)},createPhysics(t,e){return new hft(t,e)}});if(!window.Live2DCubismCore)throw new Error("Could not find Cubism 4 runtime. This plugin requires live2dcubismcore.js to be loaded.");class Br{constructor(e,n){this.x=e||0,this.y=n||0}add(e){const n=new Br(0,0);return n.x=this.x+e.x,n.y=this.y+e.y,n}substract(e){const n=new Br(0,0);return n.x=this.x-e.x,n.y=this.y-e.y,n}multiply(e){const n=new Br(0,0);return n.x=this.x*e.x,n.y=this.y*e.y,n}multiplyByScaler(e){return this.multiply(new Br(e,e))}division(e){const n=new Br(0,0);return n.x=this.x/e.x,n.y=this.y/e.y,n}divisionByScalar(e){return this.division(new Br(e,e))}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}getDistanceWith(e){return Math.sqrt((this.x-e.x)*(this.x-e.x)+(this.y-e.y)*(this.y-e.y))}dot(e){return this.x*e.x+this.y*e.y}normalize(){const e=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/e,this.y=this.y/e}isEqual(e){return this.x==e.x&&this.y==e.y}isNotEqual(e){return!this.isEqual(e)}}const gT=class{static range(t,e,n){return t<e?t=e:t>n&&(t=n),t}static sin(t){return Math.sin(t)}static cos(t){return Math.cos(t)}static abs(t){return Math.abs(t)}static sqrt(t){return Math.sqrt(t)}static cbrt(t){if(t===0)return t;let e=t;const n=e<0;n&&(e=-e);let r;return e===1/0?r=1/0:(r=Math.exp(Math.log(e)/3),r=(e/(r*r)+2*r)/3),n?-r:r}static getEasingSine(t){return t<0?0:t>1?1:.5-.5*this.cos(t*Math.PI)}static max(t,e){return t>e?t:e}static min(t,e){return t>e?e:t}static degreesToRadian(t){return t/180*Math.PI}static radianToDegrees(t){return t*180/Math.PI}static directionToRadian(t,e){const n=Math.atan2(e.y,e.x),r=Math.atan2(t.y,t.x);let i=n-r;for(;i<-Math.PI;)i+=Math.PI*2;for(;i>Math.PI;)i-=Math.PI*2;return i}static directionToDegrees(t,e){const n=this.directionToRadian(t,e);let r=this.radianToDegrees(n);return e.x-t.x>0&&(r=-r),r}static radianToDirection(t){const e=new Br;return e.x=this.sin(t),e.y=this.cos(t),e}static quadraticEquation(t,e,n){return this.abs(t)<gT.Epsilon?this.abs(e)<gT.Epsilon?-n:-n/e:-(e+this.sqrt(e*e-4*t*n))/(2*t)}static cardanoAlgorithmForBezier(t,e,n,r){if(this.sqrt(t)<gT.Epsilon)return this.range(this.quadraticEquation(e,n,r),0,1);const i=e/t,s=n/t,a=r/t,o=(3*s-i*i)/3,l=o/3,u=(2*i*i*i-9*i*s+27*a)/27,d=u/2,f=d*d+l*l*l,h=.5,g=h+.01;if(f<0){const C=-o/3,T=C*C*C,A=this.sqrt(T),P=-u/(2*A),D=this.range(P,-1,1),R=Math.acos(D),U=2*this.cbrt(A),Y=U*this.cos(R/3)-i/3;if(this.abs(Y-h)<g)return this.range(Y,0,1);const H=U*this.cos((R+2*Math.PI)/3)-i/3;if(this.abs(H-h)<g)return this.range(H,0,1);const j=U*this.cos((R+4*Math.PI)/3)-i/3;return this.range(j,0,1)}if(f==0){let C;d<0?C=this.cbrt(-d):C=-this.cbrt(d);const T=2*C-i/3;if(this.abs(T-h)<g)return this.range(T,0,1);const A=-C-i/3;return this.range(A,0,1)}const v=this.sqrt(f),p=this.cbrt(v-d),_=this.cbrt(v+d),S=p-_-i/3;return this.range(S,0,1)}constructor(){}};let fs=gT;fs.Epsilon=1e-5;class Mu{constructor(){this._tr=new Float32Array(16),this.loadIdentity()}static multiply(e,n,r){const i=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s=4;for(let a=0;a<s;++a)for(let o=0;o<s;++o)for(let l=0;l<s;++l)i[o+a*4]+=e[l+a*4]*n[o+l*4];for(let a=0;a<16;++a)r[a]=i[a]}loadIdentity(){const e=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(e)}setMatrix(e){for(let n=0;n<16;++n)this._tr[n]=e[n]}getArray(){return this._tr}getScaleX(){return this._tr[0]}getScaleY(){return this._tr[5]}getTranslateX(){return this._tr[12]}getTranslateY(){return this._tr[13]}transformX(e){return this._tr[0]*e+this._tr[12]}transformY(e){return this._tr[5]*e+this._tr[13]}invertTransformX(e){return(e-this._tr[12])/this._tr[0]}invertTransformY(e){return(e-this._tr[13])/this._tr[5]}translateRelative(e,n){const r=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1]);Mu.multiply(r,this._tr,this._tr)}translate(e,n){this._tr[12]=e,this._tr[13]=n}translateX(e){this._tr[12]=e}translateY(e){this._tr[13]=e}scaleRelative(e,n){const r=new Float32Array([e,0,0,0,0,n,0,0,0,0,1,0,0,0,0,1]);Mu.multiply(r,this._tr,this._tr)}scale(e,n){this._tr[0]=e,this._tr[5]=n}multiplyByMatrix(e){Mu.multiply(e.getArray(),this._tr,this._tr)}clone(){const e=new Mu;for(let n=0;n<this._tr.length;n++)e._tr[n]=this._tr[n];return e}}class $5{initialize(e){this._model=e}drawModel(){this.getModel()!=null&&this.doDrawModel()}setMvpMatrix(e){this._mvpMatrix4x4.setMatrix(e.getArray())}getMvpMatrix(){return this._mvpMatrix4x4}setModelColor(e,n,r,i){e<0?e=0:e>1&&(e=1),n<0?n=0:n>1&&(n=1),r<0?r=0:r>1&&(r=1),i<0?i=0:i>1&&(i=1),this._modelColor.R=e,this._modelColor.G=n,this._modelColor.B=r,this._modelColor.A=i}getModelColor(){return Object.assign({},this._modelColor)}setIsPremultipliedAlpha(e){this._isPremultipliedAlpha=e}isPremultipliedAlpha(){return this._isPremultipliedAlpha}setIsCulling(e){this._isCulling=e}isCulling(){return this._isCulling}setAnisotropy(e){this._anisortopy=e}getAnisotropy(){return this._anisortopy}getModel(){return this._model}constructor(){this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisortopy=0,this._modelColor=new O2,this._mvpMatrix4x4=new Mu,this._mvpMatrix4x4.loadIdentity()}}var xp=(t=>(t[t.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",t[t.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",t[t.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative",t))(xp||{});class O2{constructor(){this.R=1,this.G=1,this.B=1,this.A=1}}let nd=!1,$g=!1,Ng;const Ok={vertexOffset:0,vertexStep:2};class z1{static startUp(e){if(nd)return l2("CubismFramework.startUp() is already done."),nd;if(Live2DCubismCore._isStarted)return nd=!0,!0;if(Live2DCubismCore._isStarted=!0,Ng=e,Ng&&Live2DCubismCore.Logging.csmSetLogFunction(Ng.logFunction),nd=!0,nd){const n=Live2DCubismCore.Version.csmGetVersion(),r=(n&4278190080)>>24,i=(n&16711680)>>16,s=n&65535,a=n;l2("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+r).slice(-2),("00"+i).slice(-2),("0000"+s).slice(-4),a)}return l2("CubismFramework.startUp() is complete."),nd}static cleanUp(){nd=!1,$g=!1,Ng=void 0}static initialize(){if(!nd){M2("CubismFramework is not started.");return}if($g){M2("CubismFramework.initialize() skipped, already initialized.");return}$g=!0,l2("CubismFramework.initialize() is complete.")}static dispose(){if(!nd){M2("CubismFramework is not started.");return}if(!$g){M2("CubismFramework.dispose() skipped, not initialized.");return}$5.staticRelease(),$g=!1,l2("CubismFramework.dispose() is complete.")}static isStarted(){return nd}static isInitialized(){return $g}static coreLogFunction(e){Live2DCubismCore.Logging.csmGetLogFunction()&&Live2DCubismCore.Logging.csmGetLogFunction()(e)}static getLoggingLevel(){return Ng!=null?Ng.loggingLevel:sg.LogLevel_Off}constructor(){}}var sg=(t=>(t[t.LogLevel_Verbose=0]="LogLevel_Verbose",t[t.LogLevel_Debug=1]="LogLevel_Debug",t[t.LogLevel_Info=2]="LogLevel_Info",t[t.LogLevel_Warning=3]="LogLevel_Warning",t[t.LogLevel_Error=4]="LogLevel_Error",t[t.LogLevel_Off=5]="LogLevel_Off",t))(sg||{});const mS=()=>{};function UG(t,...e){l3.print(sg.LogLevel_Debug,"[CSM][D]"+t+`
`,e)}function l2(t,...e){l3.print(sg.LogLevel_Info,"[CSM][I]"+t+`
`,e)}function M2(t,...e){l3.print(sg.LogLevel_Warning,"[CSM][W]"+t+`
`,e)}function zg(t,...e){l3.print(sg.LogLevel_Error,"[CSM][E]"+t+`
`,e)}class l3{static print(e,n,r){if(e<z1.getLoggingLevel())return;const i=z1.coreLogFunction;if(!i)return;const s=n.replace(/{(\d+)}/g,(a,o)=>r[o]);i(s)}static dumpBytes(e,n,r){for(let i=0;i<r;i++)i%16==0&&i>0?this.print(e,`
`):i%8==0&&i>0&&this.print(e,"  "),this.print(e,"{0} ",[n[i]&255]);this.print(e,`
`)}constructor(){}}class rue{constructor(){this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=[]}release(){this._weight=0}updateParameters(e,n,r){if(!n.isAvailable()||n.isFinished())return;if(!n.isStarted()){n.setIsStarted(!0),n.setStartTime(r-this._offsetSeconds),n.setFadeInStartTime(r);const o=this.getDuration();n.getEndTime()<0&&n.setEndTime(o<=0?-1:n.getStartTime()+o)}let i=this._weight;const s=this._fadeInSeconds==0?1:fs.getEasingSine((r-n.getFadeInStartTime())/this._fadeInSeconds),a=this._fadeOutSeconds==0||n.getEndTime()<0?1:fs.getEasingSine((n.getEndTime()-r)/this._fadeOutSeconds);i=i*s*a,n.setState(r,i),this.doUpdateParameters(e,r,i,n),n.getEndTime()>0&&n.getEndTime()<r&&n.setIsFinished(!0)}setFadeInTime(e){this._fadeInSeconds=e}setFadeOutTime(e){this._fadeOutSeconds=e}getFadeOutTime(){return this._fadeOutSeconds}getFadeInTime(){return this._fadeInSeconds}setWeight(e){this._weight=e}getWeight(){return this._weight}getDuration(){return-1}getLoopDuration(){return-1}setOffsetTime(e){this._offsetSeconds=e}getFiredEvent(e,n){return this._firedEventValues}setFinishedMotionHandler(e){this._onFinishedMotion=e}getFinishedMotionHandler(){return this._onFinishedMotion}}const VG=1;class N5 extends rue{constructor(){super(),this._parameters=[]}static create(e){const n=new N5,r=e.FadeInTime,i=e.FadeOutTime;n.setFadeInTime(r!==void 0?r:VG),n.setFadeOutTime(i!==void 0?i:VG);const s=e.Parameters||[];for(let a=0;a<s.length;++a){const o=s[a],l=o.Id,u=o.Value;let d;switch(o.Blend){case"Multiply":d=B0.ExpressionBlendType_Multiply;break;case"Overwrite":d=B0.ExpressionBlendType_Overwrite;break;case"Add":default:d=B0.ExpressionBlendType_Add;break}const f={parameterId:l,blendType:d,value:u};n._parameters.push(f)}return n}doUpdateParameters(e,n,r,i){for(let s=0;s<this._parameters.length;++s){const a=this._parameters[s];switch(a.blendType){case B0.ExpressionBlendType_Add:{e.addParameterValueById(a.parameterId,a.value,r);break}case B0.ExpressionBlendType_Multiply:{e.multiplyParameterValueById(a.parameterId,a.value,r);break}case B0.ExpressionBlendType_Overwrite:{e.setParameterValueById(a.parameterId,a.value,r);break}}}}}var B0=(t=>(t[t.ExpressionBlendType_Add=0]="ExpressionBlendType_Add",t[t.ExpressionBlendType_Multiply=1]="ExpressionBlendType_Multiply",t[t.ExpressionBlendType_Overwrite=2]="ExpressionBlendType_Overwrite",t))(B0||{});class mft{constructor(){this._autoDelete=!1,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this,this._fadeOutSeconds=0,this._isTriggeredFadeOut=!1}release(){this._autoDelete&&this._motion&&this._motion.release()}setFadeOut(e){this._fadeOutSeconds=e,this._isTriggeredFadeOut=!0}startFadeOut(e,n){const r=n+e;this._isTriggeredFadeOut=!0,(this._endTimeSeconds<0||r<this._endTimeSeconds)&&(this._endTimeSeconds=r)}isFinished(){return this._finished}isStarted(){return this._started}getStartTime(){return this._startTimeSeconds}getFadeInStartTime(){return this._fadeInStartTimeSeconds}getEndTime(){return this._endTimeSeconds}setStartTime(e){this._startTimeSeconds=e}setFadeInStartTime(e){this._fadeInStartTimeSeconds=e}setEndTime(e){this._endTimeSeconds=e}setIsFinished(e){this._finished=e}setIsStarted(e){this._started=e}isAvailable(){return this._available}setIsAvailable(e){this._available=e}setState(e,n){this._stateTimeSeconds=e,this._stateWeight=n}getStateTime(){return this._stateTimeSeconds}getStateWeight(){return this._stateWeight}getLastCheckEventSeconds(){return this._lastEventCheckSeconds}setLastCheckEventSeconds(e){this._lastEventCheckSeconds=e}isTriggeredFadeOut(){return this._isTriggeredFadeOut}getFadeOutSeconds(){return this._fadeOutSeconds}}class iue{constructor(){this._userTimeSeconds=0,this._eventCustomData=null,this._motions=[]}release(){for(let e=0;e<this._motions.length;++e)this._motions[e]&&this._motions[e].release();this._motions=void 0}startMotion(e,n,r){if(e==null)return gft;let i;for(let s=0;s<this._motions.length;++s)i=this._motions[s],i!=null&&i.setFadeOut(i._motion.getFadeOutTime());return i=new mft,i._autoDelete=n,i._motion=e,this._motions.push(i),i._motionQueueEntryHandle}isFinished(){let e=0;for(;e<this._motions.length;){const n=this._motions[e];if(n==null){this._motions.splice(e,1);continue}if(n._motion==null){n.release(),this._motions.splice(e,1);continue}if(!n.isFinished())return!1;e++}return!0}isFinishedByHandle(e){for(let n=0;n<this._motions.length;n++){const r=this._motions[n];if(r!=null&&r._motionQueueEntryHandle==e&&!r.isFinished())return!1}return!0}stopAllMotions(){for(let e=0;e<this._motions.length;e++){const n=this._motions[e];n!=null&&n.release()}this._motions=[]}getCubismMotionQueueEntry(e){return this._motions.find(n=>n!=null&&n._motionQueueEntryHandle==e)}setEventCallback(e,n=null){this._eventCallBack=e,this._eventCustomData=n}doUpdateMotion(e,n){let r=!1,i=0;for(;i<this._motions.length;){const s=this._motions[i];if(s==null){this._motions.splice(i,1);continue}const a=s._motion;if(a==null){s.release(),this._motions.splice(i,1);continue}a.updateParameters(e,s,n),r=!0;const o=a.getFiredEvent(s.getLastCheckEventSeconds()-s.getStartTime(),n-s.getStartTime());for(let l=0;l<o.length;++l)this._eventCallBack(this,o[l],this._eventCustomData);s.setLastCheckEventSeconds(n),s.isFinished()?(s.release(),this._motions.splice(i,1)):(s.isTriggeredFadeOut()&&s.startFadeOut(s.getFadeOutSeconds(),n),i++)}return r}}const gft=-1;class vft extends M5{constructor(e,n){var r;super(e,n),this.queueManager=new iue,this.definitions=(r=e.expressions)!=null?r:[],this.init()}isFinished(){return this.queueManager.isFinished()}getExpressionIndex(e){return this.definitions.findIndex(n=>n.Name===e)}getExpressionFile(e){return e.File}createExpression(e,n){return N5.create(e)}_setExpression(e){return this.queueManager.startMotion(e,!1,performance.now())}stopAllExpressions(){this.queueManager.stopAllMotions()}updateParameters(e,n){return this.queueManager.doUpdateMotion(e,n)}}class sue{constructor(e){this.groups=e.Groups,this.hitAreas=e.HitAreas,this.layout=e.Layout,this.moc=e.FileReferences.Moc,this.expressions=e.FileReferences.Expressions,this.motions=e.FileReferences.Motions,this.textures=e.FileReferences.Textures,this.physics=e.FileReferences.Physics,this.pose=e.FileReferences.Pose}getEyeBlinkParameters(){var e,n;return(n=(e=this.groups)==null?void 0:e.find(r=>r.Name==="EyeBlink"))==null?void 0:n.Ids}getLipSyncParameters(){var e,n;return(n=(e=this.groups)==null?void 0:e.find(r=>r.Name==="LipSync"))==null?void 0:n.Ids}}class Av extends i3{constructor(e){if(super(e),!Av.isValidJSON(e))throw new TypeError("Invalid JSON.");Object.assign(this,new sue(e))}static isValidJSON(e){var n;return!!(e!=null&&e.FileReferences)&&typeof e.FileReferences.Moc=="string"&&((n=e.FileReferences.Textures)==null?void 0:n.length)>0&&e.FileReferences.Textures.every(r=>typeof r=="string")}replaceFiles(e){if(super.replaceFiles(e),this.motions)for(const[n,r]of Object.entries(this.motions))for(let i=0;i<r.length;i++)r[i].File=e(r[i].File,`motions.${n}[${i}].File`),r[i].Sound!==void 0&&(r[i].Sound=e(r[i].Sound,`motions.${n}[${i}].Sound`));if(this.expressions)for(let n=0;n<this.expressions.length;n++)this.expressions[n].File=e(this.expressions[n].File,`expressions[${n}].File`)}}Xle(Av,[sue]);var U0=(t=>(t[t.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",t[t.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",t[t.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity",t))(U0||{}),ld=(t=>(t[t.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",t[t.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",t[t.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",t[t.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped",t))(ld||{});class Hh{constructor(e=0,n=0){this.time=e,this.value=n}}class yft{constructor(){this.basePointIndex=0,this.segmentType=0}}class _ft{constructor(){this.id="",this.type=0,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}}class bft{constructor(){this.fireTime=0,this.value=""}}class xft{constructor(){this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=[],this.segments=[],this.points=[],this.events=[]}}class aue{constructor(e){this._json=e}release(){this._json=void 0}getMotionDuration(){return this._json.Meta.Duration}isMotionLoop(){return this._json.Meta.Loop||!1}getEvaluationOptionFlag(e){return F5.EvaluationOptionFlag_AreBeziersRistricted==e?!!this._json.Meta.AreBeziersRestricted:!1}getMotionCurveCount(){return this._json.Meta.CurveCount}getMotionFps(){return this._json.Meta.Fps}getMotionTotalSegmentCount(){return this._json.Meta.TotalSegmentCount}getMotionTotalPointCount(){return this._json.Meta.TotalPointCount}getMotionFadeInTime(){return this._json.Meta.FadeInTime}getMotionFadeOutTime(){return this._json.Meta.FadeOutTime}getMotionCurveTarget(e){return this._json.Curves[e].Target}getMotionCurveId(e){return this._json.Curves[e].Id}getMotionCurveFadeInTime(e){return this._json.Curves[e].FadeInTime}getMotionCurveFadeOutTime(e){return this._json.Curves[e].FadeOutTime}getMotionCurveSegmentCount(e){return this._json.Curves[e].Segments.length}getMotionCurveSegment(e,n){return this._json.Curves[e].Segments[n]}getEventCount(){return this._json.Meta.UserDataCount||0}getTotalEventValueSize(){return this._json.Meta.TotalUserDataSize}getEventTime(e){return this._json.UserData[e].Time}getEventValue(e){return this._json.UserData[e].Value}}var F5=(t=>(t[t.EvaluationOptionFlag_AreBeziersRistricted=0]="EvaluationOptionFlag_AreBeziersRistricted",t))(F5||{});const wft="EyeBlink",Sft="LipSync",Tft="Model",Cft="Parameter",Eft="PartOpacity",Aft=!1;function Au(t,e,n){const r=new Hh;return r.time=t.time+(e.time-t.time)*n,r.value=t.value+(e.value-t.value)*n,r}function Pft(t,e){let n=(e-t[0].time)/(t[1].time-t[0].time);return n<0&&(n=0),t[0].value+(t[1].value-t[0].value)*n}function kft(t,e){let n=(e-t[0].time)/(t[3].time-t[0].time);n<0&&(n=0);const r=Au(t[0],t[1],n),i=Au(t[1],t[2],n),s=Au(t[2],t[3],n),a=Au(r,i,n),o=Au(i,s,n);return Au(a,o,n).value}function Dft(t,e){const n=e,r=t[0].time,i=t[3].time,s=t[1].time,a=t[2].time,o=i-3*a+3*s-r,l=3*a-6*s+3*r,u=3*s-3*r,d=r-n,f=fs.cardanoAlgorithmForBezier(o,l,u,d),h=Au(t[0],t[1],f),g=Au(t[1],t[2],f),v=Au(t[2],t[3],f),p=Au(h,g,f),_=Au(g,v,f);return Au(p,_,f).value}function Ift(t,e){return t[0].value}function Rft(t,e){return t[1].value}function Mk(t,e,n){const r=t.curves[e];let i=-1;const s=r.baseSegmentIndex+r.segmentCount;let a=0;for(let l=r.baseSegmentIndex;l<s;++l)if(a=t.segments[l].basePointIndex+(t.segments[l].segmentType==ld.CubismMotionSegmentType_Bezier?3:1),t.points[a].time>n){i=l;break}if(i==-1)return t.points[a].value;const o=t.segments[i];return o.evaluate(t.points.slice(o.basePointIndex),n)}class B5 extends rue{constructor(){super(),this._eyeBlinkParameterIds=[],this._lipSyncParameterIds=[],this._sourceFrameRate=30,this._loopDurationSeconds=-1,this._isLoop=!1,this._isLoopFadeIn=!0,this._lastWeight=0}static create(e,n){const r=new B5;return r.parse(e),r._sourceFrameRate=r._motionData.fps,r._loopDurationSeconds=r._motionData.duration,r._onFinishedMotion=n,r}doUpdateParameters(e,n,r,i){this._modelCurveIdEyeBlink==null&&(this._modelCurveIdEyeBlink=wft),this._modelCurveIdLipSync==null&&(this._modelCurveIdLipSync=Sft);let s=n-i.getStartTime();s<0&&(s=0);let a=Number.MAX_VALUE,o=Number.MAX_VALUE;const l=64;let u=0,d=0;this._eyeBlinkParameterIds.length>l&&UG("too many eye blink targets : {0}",this._eyeBlinkParameterIds.length),this._lipSyncParameterIds.length>l&&UG("too many lip sync targets : {0}",this._lipSyncParameterIds.length);const f=this._fadeInSeconds<=0?1:fs.getEasingSine((n-i.getFadeInStartTime())/this._fadeInSeconds),h=this._fadeOutSeconds<=0||i.getEndTime()<0?1:fs.getEasingSine((i.getEndTime()-n)/this._fadeOutSeconds);let g,v,p,_=s;if(this._isLoop)for(;_>this._motionData.duration;)_-=this._motionData.duration;const S=this._motionData.curves;for(v=0;v<this._motionData.curveCount&&S[v].type==U0.CubismMotionCurveTarget_Model;++v)g=Mk(this._motionData,v,_),S[v].id==this._modelCurveIdEyeBlink?o=g:S[v].id==this._modelCurveIdLipSync&&(a=g);for(;v<this._motionData.curveCount&&S[v].type==U0.CubismMotionCurveTarget_Parameter;++v){if(p=e.getParameterIndex(S[v].id),p==-1)continue;const C=e.getParameterValueByIndex(p);if(g=Mk(this._motionData,v,_),o!=Number.MAX_VALUE){for(let A=0;A<this._eyeBlinkParameterIds.length&&A<l;++A)if(this._eyeBlinkParameterIds[A]==S[v].id){g*=o,d|=1<<A;break}}if(a!=Number.MAX_VALUE){for(let A=0;A<this._lipSyncParameterIds.length&&A<l;++A)if(this._lipSyncParameterIds[A]==S[v].id){g+=a,u|=1<<A;break}}let T;if(S[v].fadeInTime<0&&S[v].fadeOutTime<0)T=C+(g-C)*r;else{let A,P;S[v].fadeInTime<0?A=f:A=S[v].fadeInTime==0?1:fs.getEasingSine((n-i.getFadeInStartTime())/S[v].fadeInTime),S[v].fadeOutTime<0?P=h:P=S[v].fadeOutTime==0||i.getEndTime()<0?1:fs.getEasingSine((i.getEndTime()-n)/S[v].fadeOutTime);const D=this._weight*A*P;T=C+(g-C)*D}e.setParameterValueByIndex(p,T,1)}{if(o!=Number.MAX_VALUE)for(let C=0;C<this._eyeBlinkParameterIds.length&&C<l;++C){const T=e.getParameterValueById(this._eyeBlinkParameterIds[C]);if(d>>C&1)continue;const A=T+(o-T)*r;e.setParameterValueById(this._eyeBlinkParameterIds[C],A)}if(a!=Number.MAX_VALUE)for(let C=0;C<this._lipSyncParameterIds.length&&C<l;++C){const T=e.getParameterValueById(this._lipSyncParameterIds[C]);if(u>>C&1)continue;const A=T+(a-T)*r;e.setParameterValueById(this._lipSyncParameterIds[C],A)}}for(;v<this._motionData.curveCount&&S[v].type==U0.CubismMotionCurveTarget_PartOpacity;++v)if(g=Mk(this._motionData,v,_),V1.setOpacityFromMotion)e.setPartOpacityById(S[v].id,g);else{if(p=e.getParameterIndex(S[v].id),p==-1)continue;e.setParameterValueByIndex(p,g)}s>=this._motionData.duration&&(this._isLoop?(i.setStartTime(n),this._isLoopFadeIn&&i.setFadeInStartTime(n)):(this._onFinishedMotion&&this._onFinishedMotion(this),i.setIsFinished(!0))),this._lastWeight=r}setIsLoop(e){this._isLoop=e}isLoop(){return this._isLoop}setIsLoopFadeIn(e){this._isLoopFadeIn=e}isLoopFadeIn(){return this._isLoopFadeIn}getDuration(){return this._isLoop?-1:this._loopDurationSeconds}getLoopDuration(){return this._loopDurationSeconds}setParameterFadeInTime(e,n){const r=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==r[i].id){r[i].fadeInTime=n;return}}setParameterFadeOutTime(e,n){const r=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==r[i].id){r[i].fadeOutTime=n;return}}getParameterFadeInTime(e){const n=this._motionData.curves;for(let r=0;r<this._motionData.curveCount;++r)if(e==n[r].id)return n[r].fadeInTime;return-1}getParameterFadeOutTime(e){const n=this._motionData.curves;for(let r=0;r<this._motionData.curveCount;++r)if(e==n[r].id)return n[r].fadeOutTime;return-1}setEffectIds(e,n){this._eyeBlinkParameterIds=e,this._lipSyncParameterIds=n}release(){this._motionData=void 0}parse(e){this._motionData=new xft;let n=new aue(e);this._motionData.duration=n.getMotionDuration(),this._motionData.loop=n.isMotionLoop(),this._motionData.curveCount=n.getMotionCurveCount(),this._motionData.fps=n.getMotionFps(),this._motionData.eventCount=n.getEventCount();const r=n.getEvaluationOptionFlag(F5.EvaluationOptionFlag_AreBeziersRistricted),i=n.getMotionFadeInTime(),s=n.getMotionFadeOutTime();i!==void 0?this._fadeInSeconds=i<0?1:i:this._fadeInSeconds=1,s!==void 0?this._fadeOutSeconds=s<0?1:s:this._fadeOutSeconds=1,this._motionData.curves=Array.from({length:this._motionData.curveCount}).map(()=>new _ft),this._motionData.segments=Array.from({length:n.getMotionTotalSegmentCount()}).map(()=>new yft),this._motionData.events=Array.from({length:this._motionData.eventCount}).map(()=>new bft),this._motionData.points=[];let a=0,o=0;for(let l=0;l<this._motionData.curveCount;++l){const u=this._motionData.curves[l];switch(n.getMotionCurveTarget(l)){case Tft:u.type=U0.CubismMotionCurveTarget_Model;break;case Cft:u.type=U0.CubismMotionCurveTarget_Parameter;break;case Eft:u.type=U0.CubismMotionCurveTarget_PartOpacity;break;default:M2('Warning : Unable to get segment type from Curve! The number of "CurveCount" may be incorrect!')}u.id=n.getMotionCurveId(l),u.baseSegmentIndex=o;const d=n.getMotionCurveFadeInTime(l),f=n.getMotionCurveFadeOutTime(l);u.fadeInTime=d!==void 0?d:-1,u.fadeOutTime=f!==void 0?f:-1;for(let h=0;h<n.getMotionCurveSegmentCount(l);){switch(h==0?(this._motionData.segments[o].basePointIndex=a,this._motionData.points[a]=new Hh(n.getMotionCurveSegment(l,h),n.getMotionCurveSegment(l,h+1)),a+=1,h+=2):this._motionData.segments[o].basePointIndex=a-1,n.getMotionCurveSegment(l,h)){case ld.CubismMotionSegmentType_Linear:{this._motionData.segments[o].segmentType=ld.CubismMotionSegmentType_Linear,this._motionData.segments[o].evaluate=Pft,this._motionData.points[a]=new Hh(n.getMotionCurveSegment(l,h+1),n.getMotionCurveSegment(l,h+2)),a+=1,h+=3;break}case ld.CubismMotionSegmentType_Bezier:{this._motionData.segments[o].segmentType=ld.CubismMotionSegmentType_Bezier,r||Aft?this._motionData.segments[o].evaluate=kft:this._motionData.segments[o].evaluate=Dft,this._motionData.points[a]=new Hh(n.getMotionCurveSegment(l,h+1),n.getMotionCurveSegment(l,h+2)),this._motionData.points[a+1]=new Hh(n.getMotionCurveSegment(l,h+3),n.getMotionCurveSegment(l,h+4)),this._motionData.points[a+2]=new Hh(n.getMotionCurveSegment(l,h+5),n.getMotionCurveSegment(l,h+6)),a+=3,h+=7;break}case ld.CubismMotionSegmentType_Stepped:{this._motionData.segments[o].segmentType=ld.CubismMotionSegmentType_Stepped,this._motionData.segments[o].evaluate=Ift,this._motionData.points[a]=new Hh(n.getMotionCurveSegment(l,h+1),n.getMotionCurveSegment(l,h+2)),a+=1,h+=3;break}case ld.CubismMotionSegmentType_InverseStepped:{this._motionData.segments[o].segmentType=ld.CubismMotionSegmentType_InverseStepped,this._motionData.segments[o].evaluate=Rft,this._motionData.points[a]=new Hh(n.getMotionCurveSegment(l,h+1),n.getMotionCurveSegment(l,h+2)),a+=1,h+=3;break}}++u.segmentCount,++o}this._motionData.curves.push(u)}for(let l=0;l<n.getEventCount();++l)this._motionData.events[l].fireTime=n.getEventTime(l),this._motionData.events[l].value=n.getEventValue(l);n.release()}getFiredEvent(e,n){this._firedEventValues.length=0;for(let r=0;r<this._motionData.eventCount;++r)this._motionData.events[r].fireTime>e&&this._motionData.events[r].fireTime<=n&&this._firedEventValues.push(this._motionData.events[r].value);return this._firedEventValues}}class Oft extends s3{constructor(e,n){var r;super(e,n),this.groups={idle:"Idle"},this.motionDataType="json",this.queueManager=new iue,this.definitions=(r=e.motions)!=null?r:{},this.eyeBlinkIds=e.getEyeBlinkParameters()||[],this.lipSyncIds=e.getLipSyncParameters()||[],this.init(n)}init(e){super.init(e),this.settings.expressions&&(this.expressionManager=new vft(this.settings,e)),this.queueManager.setEventCallback((n,r,i)=>{this.emit("motion:"+r)})}isFinished(){return this.queueManager.isFinished()}_startMotion(e,n){return e.setFinishedMotionHandler(n),this.queueManager.stopAllMotions(),this.queueManager.startMotion(e,!1,performance.now())}_stopAllMotions(){this.queueManager.stopAllMotions()}createMotion(e,n,r){const i=B5.create(e),s=new aue(e),a=(n===this.groups.idle?ro.idleMotionFadingDuration:ro.motionFadingDuration)/1e3;return s.getMotionFadeInTime()===void 0&&i.setFadeInTime(r.FadeInTime>0?r.FadeInTime:a),s.getMotionFadeOutTime()===void 0&&i.setFadeOutTime(r.FadeOutTime>0?r.FadeOutTime:a),i.setEffectIds(this.eyeBlinkIds,this.lipSyncIds),i}getMotionFile(e){return e.File}getMotionName(e){return e.File}getSoundFile(e){return e.Sound}updateParameters(e,n){return this.queueManager.doUpdateMotion(e,n)}destroy(){super.destroy(),this.queueManager.release(),this.queueManager=void 0}}const Mft="ParamAngleX",Lft="ParamAngleY",$ft="ParamAngleZ",Nft="ParamEyeBallX",Fft="ParamEyeBallY",Bft="ParamBodyAngleX",Uft="ParamBreath";class U5{constructor(){this._breathParameters=[],this._currentTime=0}static create(){return new U5}setParameters(e){this._breathParameters=e}getParameters(){return this._breathParameters}updateParameters(e,n){this._currentTime+=n;const r=this._currentTime*2*3.14159;for(let i=0;i<this._breathParameters.length;++i){const s=this._breathParameters[i];e.addParameterValueById(s.parameterId,s.offset+s.peak*Math.sin(r/s.cycle),s.weight)}}}class u2{constructor(e,n,r,i,s){this.parameterId=e??void 0,this.offset=n??0,this.peak=r??0,this.cycle=i??0,this.weight=s??0}}const kO=class{static create(t){return new kO(t)}setBlinkingInterval(t){this._blinkingIntervalSeconds=t}setBlinkingSetting(t,e,n){this._closingSeconds=t,this._closedSeconds=e,this._openingSeconds=n}setParameterIds(t){this._parameterIds=t}getParameterIds(){return this._parameterIds}updateParameters(t,e){this._userTimeSeconds+=e;let n,r=0;switch(this._blinkingState){case wu.EyeState_Closing:r=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds,r>=1&&(r=1,this._blinkingState=wu.EyeState_Closed,this._stateStartTimeSeconds=this._userTimeSeconds),n=1-r;break;case wu.EyeState_Closed:r=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds,r>=1&&(this._blinkingState=wu.EyeState_Opening,this._stateStartTimeSeconds=this._userTimeSeconds),n=0;break;case wu.EyeState_Opening:r=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds,r>=1&&(r=1,this._blinkingState=wu.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming()),n=r;break;case wu.EyeState_Interval:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=wu.EyeState_Closing,this._stateStartTimeSeconds=this._userTimeSeconds),n=1;break;case wu.EyeState_First:default:this._blinkingState=wu.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming(),n=1;break}kO.CloseIfZero||(n=-n);for(let i=0;i<this._parameterIds.length;++i)t.setParameterValueById(this._parameterIds[i],n)}constructor(t){var e,n;this._blinkingState=wu.EyeState_First,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=[],t!=null&&(this._parameterIds=(n=(e=t.getEyeBlinkParameters())==null?void 0:e.slice())!=null?n:this._parameterIds)}determinNextBlinkingTiming(){const t=Math.random();return this._userTimeSeconds+t*(2*this._blinkingIntervalSeconds-1)}};let oue=kO;oue.CloseIfZero=!0;var wu=(t=>(t[t.EyeState_First=0]="EyeState_First",t[t.EyeState_Interval=1]="EyeState_Interval",t[t.EyeState_Closing=2]="EyeState_Closing",t[t.EyeState_Closed=3]="EyeState_Closed",t[t.EyeState_Opening=4]="EyeState_Opening",t))(wu||{});class DO{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}getRight(){return this.x+this.width}getBottom(){return this.y+this.height}setRect(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}expand(e,n){this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2}}const Lk=4,Vft=10;let E0,L2,IO;class $k{getChannelFlagAsColor(e){return this._channelColors[e]}getMaskRenderTexture(){let e=0;if(this._maskTexture&&this._maskTexture.texture!=0&&(this._maskTexture.frameNo=this._currentFrameNo,e=this._maskTexture.texture),e==0){const n=this._clippingMaskBufferSize;this._colorBuffer=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this._colorBuffer),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,n,n,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),e=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._colorBuffer,0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,IO),this._maskTexture=new zft(this._currentFrameNo,e)}return e}setGL(e){this.gl=e}calcClippedDrawTotalBounds(e,n){let r=Number.MAX_VALUE,i=Number.MAX_VALUE,s=Number.MIN_VALUE,a=Number.MIN_VALUE;const o=n._clippedDrawableIndexList.length;for(let l=0;l<o;l++){const u=n._clippedDrawableIndexList[l],d=e.getDrawableVertexCount(u),f=e.getDrawableVertices(u);let h=Number.MAX_VALUE,g=Number.MAX_VALUE,v=Number.MIN_VALUE,p=Number.MIN_VALUE;const _=d*Ok.vertexStep;for(let S=Ok.vertexOffset;S<_;S+=Ok.vertexStep){const C=f[S],T=f[S+1];C<h&&(h=C),C>v&&(v=C),T<g&&(g=T),T>p&&(p=T)}if(h!=Number.MAX_VALUE)if(h<r&&(r=h),g<i&&(i=g),v>s&&(s=v),p>a&&(a=p),r==Number.MAX_VALUE)n._allClippedDrawRect.x=0,n._allClippedDrawRect.y=0,n._allClippedDrawRect.width=0,n._allClippedDrawRect.height=0,n._isUsing=!1;else{n._isUsing=!0;const S=s-r,C=a-i;n._allClippedDrawRect.x=r,n._allClippedDrawRect.y=i,n._allClippedDrawRect.width=S,n._allClippedDrawRect.height=C}}}constructor(){this._maskRenderTexture=null,this._colorBuffer=null,this._currentFrameNo=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=[],this._clippingContextListForDraw=[],this._channelColors=[],this._tmpBoundsOnModel=new DO,this._tmpMatrix=new Mu,this._tmpMatrixForMask=new Mu,this._tmpMatrixForDraw=new Mu;let e=new O2;e.R=1,e.G=0,e.B=0,e.A=0,this._channelColors.push(e),e=new O2,e.R=0,e.G=1,e.B=0,e.A=0,this._channelColors.push(e),e=new O2,e.R=0,e.G=0,e.B=1,e.A=0,this._channelColors.push(e),e=new O2,e.R=0,e.G=0,e.B=0,e.A=1,this._channelColors.push(e)}release(){var e,n,r;const i=this;for(let s=0;s<this._clippingContextListForMask.length;s++)this._clippingContextListForMask[s]&&((e=this._clippingContextListForMask[s])==null||e.release());i._clippingContextListForMask=void 0,i._clippingContextListForDraw=void 0,this._maskTexture&&((n=this.gl)==null||n.deleteFramebuffer(this._maskTexture.texture),i._maskTexture=void 0),i._channelColors=void 0,(r=this.gl)==null||r.deleteTexture(this._colorBuffer),this._colorBuffer=null}initialize(e,n,r,i){for(let s=0;s<n;s++){if(i[s]<=0){this._clippingContextListForDraw.push(null);continue}let a=this.findSameClip(r[s],i[s]);a==null&&(a=new Hft(this,r[s],i[s]),this._clippingContextListForMask.push(a)),a.addClippedDrawable(s),this._clippingContextListForDraw.push(a)}}setupClippingContext(e,n){this._currentFrameNo++;let r=0;for(let i=0;i<this._clippingContextListForMask.length;i++){const s=this._clippingContextListForMask[i];this.calcClippedDrawTotalBounds(e,s),s._isUsing&&r++}if(r>0){this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._maskRenderTexture=this.getMaskRenderTexture(),n.getMvpMatrix(),n.preDraw(),this.setupLayoutBounds(r),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTexture),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(let i=0;i<this._clippingContextListForMask.length;i++){const s=this._clippingContextListForMask[i],a=s._allClippedDrawRect,o=s._layoutBounds,l=.05;this._tmpBoundsOnModel.setRect(a),this._tmpBoundsOnModel.expand(a.width*l,a.height*l);const u=o.width/this._tmpBoundsOnModel.width,d=o.height/this._tmpBoundsOnModel.height;this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(o.x,o.y),this._tmpMatrix.scaleRelative(u,d),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(o.x,o.y),this._tmpMatrix.scaleRelative(u,d),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),s._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),s._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());const f=s._clippingIdCount;for(let h=0;h<f;h++){const g=s._clippingIdList[h];e.getDrawableDynamicFlagVertexPositionsDidChange(g)&&(n.setIsCulling(e.getDrawableCulling(g)!=!1),n.setClippingContextBufferForMask(s),n.drawMesh(e.getDrawableTextureIndices(g),e.getDrawableVertexIndexCount(g),e.getDrawableVertexCount(g),e.getDrawableVertexIndices(g),e.getDrawableVertices(g),e.getDrawableVertexUvs(g),e.getDrawableOpacity(g),xp.CubismBlendMode_Normal,!1))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,IO),n.setClippingContextBufferForMask(null),this.gl.viewport(L2[0],L2[1],L2[2],L2[3])}}findSameClip(e,n){for(let r=0;r<this._clippingContextListForMask.length;r++){const i=this._clippingContextListForMask[r],s=i._clippingIdCount;if(s!=n)continue;let a=0;for(let o=0;o<s;o++){const l=i._clippingIdList[o];for(let u=0;u<s;u++)if(e[u]==l){a++;break}}if(a==s)return i}return null}setupLayoutBounds(e){let n=e/Lk,r=e%Lk;n=~~n,r=~~r;let i=0;for(let s=0;s<Lk;s++){const a=n+(s<r?1:0);if(a!=0)if(a==1){const o=this._clippingContextListForMask[i++];o._layoutChannelNo=s,o._layoutBounds.x=0,o._layoutBounds.y=0,o._layoutBounds.width=1,o._layoutBounds.height=1}else if(a==2)for(let o=0;o<a;o++){let l=o%2;l=~~l;const u=this._clippingContextListForMask[i++];u._layoutChannelNo=s,u._layoutBounds.x=l*.5,u._layoutBounds.y=0,u._layoutBounds.width=.5,u._layoutBounds.height=1}else if(a<=4)for(let o=0;o<a;o++){let l=o%2,u=o/2;l=~~l,u=~~u;const d=this._clippingContextListForMask[i++];d._layoutChannelNo=s,d._layoutBounds.x=l*.5,d._layoutBounds.y=u*.5,d._layoutBounds.width=.5,d._layoutBounds.height=.5}else if(a<=9)for(let o=0;o<a;o++){let l=o%3,u=o/3;l=~~l,u=~~u;const d=this._clippingContextListForMask[i++];d._layoutChannelNo=s,d._layoutBounds.x=l/3,d._layoutBounds.y=u/3,d._layoutBounds.width=1/3,d._layoutBounds.height=1/3}else if(V1.supportMoreMaskDivisions&&a<=16)for(let o=0;o<a;o++){let l=o%4,u=o/4;l=~~l,u=~~u;const d=this._clippingContextListForMask[i++];d._layoutChannelNo=s,d._layoutBounds.x=l/4,d._layoutBounds.y=u/4,d._layoutBounds.width=1/4,d._layoutBounds.height=1/4}else zg("not supported mask count : {0}",a)}}getColorBuffer(){return this._colorBuffer}getClippingContextListForDraw(){return this._clippingContextListForDraw}setClippingMaskBufferSize(e){this._clippingMaskBufferSize=e}getClippingMaskBufferSize(){return this._clippingMaskBufferSize}}class zft{constructor(e,n){this.frameNo=e,this.texture=n}}class Hft{constructor(e,n,r){this._isUsing=!1,this._owner=e,this._clippingIdList=n,this._clippingIdCount=r,this._allClippedDrawRect=new DO,this._layoutBounds=new DO,this._clippedDrawableIndexList=[],this._matrixForMask=new Mu,this._matrixForDraw=new Mu}release(){const e=this;e._layoutBounds=void 0,e._allClippedDrawRect=void 0,e._clippedDrawableIndexList=void 0}addClippedDrawable(e){this._clippedDrawableIndexList.push(e)}getClippingManager(){return this._owner}setGl(e){this._owner.setGL(e)}}class Pv{static getInstance(){return E0==null&&(E0=new Pv),E0}static deleteInstance(){E0&&(E0.release(),E0=void 0)}constructor(){this._shaderSets=[]}release(){this.releaseShaderProgram()}setupShaderProgram(e,n,r,i,s,a,o,l,u,d,f,h,g){f||zg("NoPremultipliedAlpha is not allowed"),this._shaderSets.length==0&&this.generateShaders();let v,p,_,S;const C=e.getClippingContextBufferForMask();if(C!=null){const T=this._shaderSets[$2.ShaderNames_SetupMask];this.gl.useProgram(T.shaderProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.uniform1i(T.samplerTexture0Location,0),o.vertex==null&&(o.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(T.attributePositionLocation),this.gl.vertexAttribPointer(T.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),o.uv==null&&(o.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,a,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(T.attributeTexCoordLocation),this.gl.vertexAttribPointer(T.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0);const A=C._layoutChannelNo,P=C.getClippingManager().getChannelFlagAsColor(A);this.gl.uniform4f(T.uniformChannelFlagLocation,P.R,P.G,P.B,P.A),this.gl.uniformMatrix4fv(T.uniformClipMatrixLocation,!1,C._matrixForMask.getArray());const D=C._layoutBounds;this.gl.uniform4f(T.uniformBaseColorLocation,D.x*2-1,D.y*2-1,D.getRight()*2-1,D.getBottom()*2-1),v=this.gl.ZERO,p=this.gl.ONE_MINUS_SRC_COLOR,_=this.gl.ZERO,S=this.gl.ONE_MINUS_SRC_ALPHA}else{const T=e.getClippingContextBufferForDraw(),P=T!=null?g?2:1:0;let D;switch(u){case xp.CubismBlendMode_Normal:default:D=this._shaderSets[$2.ShaderNames_NormalPremultipliedAlpha+P],v=this.gl.ONE,p=this.gl.ONE_MINUS_SRC_ALPHA,_=this.gl.ONE,S=this.gl.ONE_MINUS_SRC_ALPHA;break;case xp.CubismBlendMode_Additive:D=this._shaderSets[$2.ShaderNames_AddPremultipliedAlpha+P],v=this.gl.ONE,p=this.gl.ONE,_=this.gl.ZERO,S=this.gl.ONE;break;case xp.CubismBlendMode_Multiplicative:D=this._shaderSets[$2.ShaderNames_MultPremultipliedAlpha+P],v=this.gl.DST_COLOR,p=this.gl.ONE_MINUS_SRC_ALPHA,_=this.gl.ZERO,S=this.gl.ONE;break}if(this.gl.useProgram(D.shaderProgram),o.vertex==null&&(o.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(D.attributePositionLocation),this.gl.vertexAttribPointer(D.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),o.uv==null&&(o.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,a,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(D.attributeTexCoordLocation),this.gl.vertexAttribPointer(D.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),T!=null){this.gl.activeTexture(this.gl.TEXTURE1);const R=T.getClippingManager().getColorBuffer();this.gl.bindTexture(this.gl.TEXTURE_2D,R),this.gl.uniform1i(D.samplerTexture1Location,1),this.gl.uniformMatrix4fv(D.uniformClipMatrixLocation,!1,T._matrixForDraw.getArray());const N=T._layoutChannelNo,U=T.getClippingManager().getChannelFlagAsColor(N);this.gl.uniform4f(D.uniformChannelFlagLocation,U.R,U.G,U.B,U.A)}this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.uniform1i(D.samplerTexture0Location,0),this.gl.uniformMatrix4fv(D.uniformMatrixLocation,!1,h.getArray()),this.gl.uniform4f(D.uniformBaseColorLocation,d.R,d.G,d.B,d.A)}o.index==null&&(o.index=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,o.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,s,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(v,p,_,S)}releaseShaderProgram(){for(let e=0;e<this._shaderSets.length;e++)this.gl.deleteProgram(this._shaderSets[e].shaderProgram),this._shaderSets[e].shaderProgram=0;this._shaderSets=[]}generateShaders(){for(let e=0;e<Vft;e++)this._shaderSets.push({});this._shaderSets[0].shaderProgram=this.loadShaderProgram(jft,Gft),this._shaderSets[1].shaderProgram=this.loadShaderProgram(Wft,qft),this._shaderSets[2].shaderProgram=this.loadShaderProgram(zG,Xft),this._shaderSets[3].shaderProgram=this.loadShaderProgram(zG,Yft),this._shaderSets[4].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[5].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[6].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[7].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[8].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[9].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[0].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_position"),this._shaderSets[0].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_texCoord"),this._shaderSets[0].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"s_texture0"),this._shaderSets[0].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_clipMatrix"),this._shaderSets[0].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_channelFlag"),this._shaderSets[0].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_baseColor"),this._shaderSets[1].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_position"),this._shaderSets[1].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_texCoord"),this._shaderSets[1].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"s_texture0"),this._shaderSets[1].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_matrix"),this._shaderSets[1].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_baseColor"),this._shaderSets[2].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_position"),this._shaderSets[2].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_texCoord"),this._shaderSets[2].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture0"),this._shaderSets[2].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture1"),this._shaderSets[2].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_matrix"),this._shaderSets[2].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_clipMatrix"),this._shaderSets[2].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_channelFlag"),this._shaderSets[2].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_baseColor"),this._shaderSets[3].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_position"),this._shaderSets[3].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_texCoord"),this._shaderSets[3].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture0"),this._shaderSets[3].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture1"),this._shaderSets[3].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_matrix"),this._shaderSets[3].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_clipMatrix"),this._shaderSets[3].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_channelFlag"),this._shaderSets[3].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_baseColor"),this._shaderSets[4].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_position"),this._shaderSets[4].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_texCoord"),this._shaderSets[4].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"s_texture0"),this._shaderSets[4].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_matrix"),this._shaderSets[4].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_baseColor"),this._shaderSets[5].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_position"),this._shaderSets[5].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_texCoord"),this._shaderSets[5].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture0"),this._shaderSets[5].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture1"),this._shaderSets[5].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_matrix"),this._shaderSets[5].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_clipMatrix"),this._shaderSets[5].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_channelFlag"),this._shaderSets[5].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_baseColor"),this._shaderSets[6].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_position"),this._shaderSets[6].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_texCoord"),this._shaderSets[6].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture0"),this._shaderSets[6].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture1"),this._shaderSets[6].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_matrix"),this._shaderSets[6].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_clipMatrix"),this._shaderSets[6].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_channelFlag"),this._shaderSets[6].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_baseColor"),this._shaderSets[7].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_position"),this._shaderSets[7].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_texCoord"),this._shaderSets[7].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"s_texture0"),this._shaderSets[7].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_matrix"),this._shaderSets[7].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_baseColor"),this._shaderSets[8].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_position"),this._shaderSets[8].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_texCoord"),this._shaderSets[8].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture0"),this._shaderSets[8].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture1"),this._shaderSets[8].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_matrix"),this._shaderSets[8].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_clipMatrix"),this._shaderSets[8].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_channelFlag"),this._shaderSets[8].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_baseColor"),this._shaderSets[9].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_position"),this._shaderSets[9].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_texCoord"),this._shaderSets[9].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture0"),this._shaderSets[9].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture1"),this._shaderSets[9].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_matrix"),this._shaderSets[9].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_clipMatrix"),this._shaderSets[9].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_channelFlag"),this._shaderSets[9].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_baseColor")}loadShaderProgram(e,n){let r=this.gl.createProgram(),i=this.compileShaderSource(this.gl.VERTEX_SHADER,e);if(!i)return zg("Vertex shader compile error!"),0;let s=this.compileShaderSource(this.gl.FRAGMENT_SHADER,n);return s?(this.gl.attachShader(r,i),this.gl.attachShader(r,s),this.gl.linkProgram(r),this.gl.getProgramParameter(r,this.gl.LINK_STATUS)?(this.gl.deleteShader(i),this.gl.deleteShader(s),r):(zg("Failed to link program: {0}",r),this.gl.deleteShader(i),this.gl.deleteShader(s),r&&this.gl.deleteProgram(r),0)):(zg("Vertex shader compile error!"),0)}compileShaderSource(e,n){const r=n,i=this.gl.createShader(e);if(this.gl.shaderSource(i,r),this.gl.compileShader(i),!i){const a=this.gl.getShaderInfoLog(i);zg("Shader compile log: {0} ",a)}return this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(this.gl.deleteShader(i),null)}setGl(e){this.gl=e}}var $2=(t=>(t[t.ShaderNames_SetupMask=0]="ShaderNames_SetupMask",t[t.ShaderNames_NormalPremultipliedAlpha=1]="ShaderNames_NormalPremultipliedAlpha",t[t.ShaderNames_NormalMaskedPremultipliedAlpha=2]="ShaderNames_NormalMaskedPremultipliedAlpha",t[t.ShaderNames_NomralMaskedInvertedPremultipliedAlpha=3]="ShaderNames_NomralMaskedInvertedPremultipliedAlpha",t[t.ShaderNames_AddPremultipliedAlpha=4]="ShaderNames_AddPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlpha=5]="ShaderNames_AddMaskedPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlphaInverted=6]="ShaderNames_AddMaskedPremultipliedAlphaInverted",t[t.ShaderNames_MultPremultipliedAlpha=7]="ShaderNames_MultPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlpha=8]="ShaderNames_MultMaskedPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlphaInverted=9]="ShaderNames_MultMaskedPremultipliedAlphaInverted",t))($2||{});const jft="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",Gft="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",Wft="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",zG="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",qft="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;void main(){   gl_FragColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;}",Xft="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;void main(){   vec4 col_formask = texture2D(s_texture0 , v_texCoord) * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",Yft="precision mediump float;varying vec2 v_texCoord;varying vec4 v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4 u_channelFlag;uniform vec4 u_baseColor;void main(){vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;col_formask = col_formask * (1.0 - maskVal);gl_FragColor = col_formask;}";class lue extends $5{constructor(){super(),this._clippingContextBufferForMask=null,this._clippingContextBufferForDraw=null,this._clippingManager=new $k,this.firstDraw=!0,this._textures={},this._sortedDrawableIndexList=[],this._bufferData={vertex:null,uv:null,index:null}}initialize(e){e.isUsingMasking()&&(this._clippingManager=new $k,this._clippingManager.initialize(e,e.getDrawableCount(),e.getDrawableMasks(),e.getDrawableMaskCounts()));for(let n=e.getDrawableCount()-1;n>=0;n--)this._sortedDrawableIndexList[n]=0;super.initialize(e)}bindTexture(e,n){this._textures[e]=n}getBindedTextures(){return this._textures}setClippingMaskBufferSize(e){this._clippingManager.release(),this._clippingManager=new $k,this._clippingManager.setClippingMaskBufferSize(e),this._clippingManager.initialize(this.getModel(),this.getModel().getDrawableCount(),this.getModel().getDrawableMasks(),this.getModel().getDrawableMaskCounts())}getClippingMaskBufferSize(){return this._clippingManager.getClippingMaskBufferSize()}release(){var e,n,r;const i=this;this._clippingManager.release(),i._clippingManager=void 0,(e=this.gl)==null||e.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,(n=this.gl)==null||n.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,(r=this.gl)==null||r.deleteBuffer(this._bufferData.index),this._bufferData.index=null,i._bufferData=void 0,i._textures=void 0}doDrawModel(){this.preDraw(),this._clippingManager!=null&&this._clippingManager.setupClippingContext(this.getModel(),this);const e=this.getModel().getDrawableCount(),n=this.getModel().getDrawableRenderOrders();for(let r=0;r<e;++r){const i=n[r];this._sortedDrawableIndexList[i]=r}for(let r=0;r<e;++r){const i=this._sortedDrawableIndexList[r];this.getModel().getDrawableDynamicFlagIsVisible(i)&&(this.setClippingContextBufferForDraw(this._clippingManager!=null?this._clippingManager.getClippingContextListForDraw()[i]:null),this.setIsCulling(this.getModel().getDrawableCulling(i)),this.drawMesh(this.getModel().getDrawableTextureIndices(i),this.getModel().getDrawableVertexIndexCount(i),this.getModel().getDrawableVertexCount(i),this.getModel().getDrawableVertexIndices(i),this.getModel().getDrawableVertices(i),this.getModel().getDrawableVertexUvs(i),this.getModel().getDrawableOpacity(i),this.getModel().getDrawableBlendMode(i),this.getModel().getDrawableInvertedMaskBit(i)))}}drawMesh(e,n,r,i,s,a,o,l,u){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW);const d=this.getModelColor();this.getClippingContextBufferForMask()==null&&(d.A*=o,this.isPremultipliedAlpha()&&(d.R*=d.A,d.G*=d.A,d.B*=d.A));let f=null;this._textures[e]!=null&&(f=this._textures[e]),Pv.getInstance().setupShaderProgram(this,f,r,s,i,a,this._bufferData,o,l,d,this.isPremultipliedAlpha(),this.getMvpMatrix(),u),this.gl.drawElements(this.gl.TRIANGLES,n,this.gl.UNSIGNED_SHORT,0),this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)}static doStaticRelease(){Pv.deleteInstance()}setRenderState(e,n){IO=e,L2=n}preDraw(){this.firstDraw&&(this.firstDraw=!1,this._anisortopy=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null)}setClippingContextBufferForMask(e){this._clippingContextBufferForMask=e}getClippingContextBufferForMask(){return this._clippingContextBufferForMask}setClippingContextBufferForDraw(e){this._clippingContextBufferForDraw=e}getClippingContextBufferForDraw(){return this._clippingContextBufferForDraw}startUp(e){this.gl=e,this._clippingManager.setGL(e),Pv.getInstance().setGl(e)}}$5.staticRelease=()=>{lue.doStaticRelease()};const HG=new Mu;class Kft extends Yle{constructor(e,n,r){super(),this.lipSync=!0,this.breath=U5.create(),this.renderer=new lue,this.idParamAngleX=Mft,this.idParamAngleY=Lft,this.idParamAngleZ=$ft,this.idParamEyeBallX=Nft,this.idParamEyeBallY=Fft,this.idParamBodyAngleX=Bft,this.idParamBreath=Uft,this.pixelsPerUnit=1,this.centeringTransform=new As,this.coreModel=e,this.settings=n,this.motionManager=new Oft(n,r),this.init()}init(){var e;super.init(),((e=this.settings.getEyeBlinkParameters())==null?void 0:e.length)>0&&(this.eyeBlink=oue.create(this.settings)),this.breath.setParameters([new u2(this.idParamAngleX,0,15,6.5345,.5),new u2(this.idParamAngleY,0,8,3.5345,.5),new u2(this.idParamAngleZ,0,10,5.5345,.5),new u2(this.idParamBodyAngleX,0,4,15.5345,.5),new u2(this.idParamBreath,0,.5,3.2345,.5)]),this.renderer.initialize(this.coreModel),this.renderer.setIsPremultipliedAlpha(!0)}getSize(){return[this.coreModel.getModel().canvasinfo.CanvasWidth,this.coreModel.getModel().canvasinfo.CanvasHeight]}getLayout(){const e={};if(this.settings.layout)for(const n of Object.keys(this.settings.layout)){const r=n.charAt(0).toLowerCase()+n.slice(1);e[r]=this.settings.layout[n]}return e}setupLayout(){super.setupLayout(),this.pixelsPerUnit=this.coreModel.getModel().canvasinfo.PixelsPerUnit,this.centeringTransform.scale(this.pixelsPerUnit,this.pixelsPerUnit).translate(this.originalWidth/2,this.originalHeight/2)}updateWebGLContext(e,n){this.renderer.firstDraw=!0,this.renderer._bufferData={vertex:null,uv:null,index:null},this.renderer.startUp(e),this.renderer._clippingManager._currentFrameNo=n,this.renderer._clippingManager._maskTexture=void 0,Pv.getInstance()._shaderSets=[]}bindTexture(e,n){this.renderer.bindTexture(e,n)}getHitAreaDefs(){var e,n;return(n=(e=this.settings.hitAreas)==null?void 0:e.map(r=>({id:r.Id,name:r.Name,index:this.coreModel.getDrawableIndex(r.Id)})))!=null?n:[]}getDrawableIDs(){return this.coreModel.getDrawableIds()}getDrawableIndex(e){return this.coreModel.getDrawableIndex(e)}getDrawableVertices(e){if(typeof e=="string"&&(e=this.coreModel.getDrawableIndex(e),e===-1))throw new TypeError("Unable to find drawable ID: "+e);const n=this.coreModel.getDrawableVertices(e).slice();for(let r=0;r<n.length;r+=2)n[r]=n[r]*this.pixelsPerUnit+this.originalWidth/2,n[r+1]=-n[r+1]*this.pixelsPerUnit+this.originalHeight/2;return n}updateTransform(e){this.drawingMatrix.copyFrom(this.centeringTransform).prepend(this.localTransform).prepend(e)}update(e,n){var r,i,s,a;super.update(e,n),e/=1e3,n/=1e3;const o=this.coreModel;this.emit("beforeMotionUpdate");const l=this.motionManager.update(this.coreModel,n);this.emit("afterMotionUpdate"),o.saveParameters(),(r=this.motionManager.expressionManager)==null||r.update(o,n),l||(i=this.eyeBlink)==null||i.updateParameters(o,e),this.updateFocus(),this.updateNaturalMovements(e*1e3,n*1e3),(s=this.physics)==null||s.evaluate(o,e),(a=this.pose)==null||a.updateParameters(o,e),this.emit("beforeModelUpdate"),o.update(),o.loadParameters()}updateFocus(){this.coreModel.addParameterValueById(this.idParamEyeBallX,this.focusController.x),this.coreModel.addParameterValueById(this.idParamEyeBallY,this.focusController.y),this.coreModel.addParameterValueById(this.idParamAngleX,this.focusController.x*30),this.coreModel.addParameterValueById(this.idParamAngleY,this.focusController.y*30),this.coreModel.addParameterValueById(this.idParamAngleZ,this.focusController.x*this.focusController.y*-30),this.coreModel.addParameterValueById(this.idParamBodyAngleX,this.focusController.x*10)}updateNaturalMovements(e,n){var r;(r=this.breath)==null||r.updateParameters(this.coreModel,e/1e3)}draw(e){const n=this.drawingMatrix,r=HG.getArray();r[0]=n.a,r[1]=n.b,r[4]=-n.c,r[5]=-n.d,r[12]=n.tx,r[13]=n.ty,this.renderer.setMvpMatrix(HG),this.renderer.setRenderState(e.getParameter(e.FRAMEBUFFER_BINDING),this.viewport),this.renderer.drawModel()}destroy(){super.destroy(),this.renderer.release(),this.coreModel.release(),this.renderer=void 0,this.coreModel=void 0}}let gS,jG=20;function Zft(){return z1.isStarted()?Promise.resolve():(gS??(gS=new Promise((t,e)=>{function n(){try{Qft(),t()}catch(r){if(jG--,jG<0){const i=new Error("Failed to start up Cubism 4 framework.");i.cause=r,e(i);return}Zi.log("Cubism4","Startup failed, retrying 10ms later..."),setTimeout(n,10)}}n()})),gS)}function Qft(t){t=Object.assign({logFunction:console.log,loggingLevel:sg.LogLevel_Verbose},t),z1.startUp(t),z1.initialize()}const Jft=.001,GG=.5;class V5{static create(e){const n=new V5;typeof e.FadeInTime=="number"&&(n._fadeTimeSeconds=e.FadeInTime,n._fadeTimeSeconds<=0&&(n._fadeTimeSeconds=GG));const r=e.Groups,i=r.length;for(let s=0;s<i;++s){const a=r[s],o=a.length;let l=0;for(let u=0;u<o;++u){const d=a[u],f=new eE;f.partId=d.Id;const h=d.Link;if(h){const g=h.length;for(let v=0;v<g;++v){const p=new eE;p.partId=h[v],f.link.push(p)}}n._partGroups.push(f),++l}n._partGroupCounts.push(l)}return n}updateParameters(e,n){e!=this._lastModel&&this.reset(e),this._lastModel=e,n<0&&(n=0);let r=0;for(let i=0;i<this._partGroupCounts.length;i++){const s=this._partGroupCounts[i];this.doFade(e,n,r,s),r+=s}this.copyPartOpacities(e)}reset(e){let n=0;for(let r=0;r<this._partGroupCounts.length;++r){const i=this._partGroupCounts[r];for(let s=n;s<n+i;++s){this._partGroups[s].initialize(e);const a=this._partGroups[s].partIndex,o=this._partGroups[s].parameterIndex;if(!(a<0)){e.setPartOpacityByIndex(a,s==n?1:0),e.setParameterValueByIndex(o,s==n?1:0);for(let l=0;l<this._partGroups[s].link.length;++l)this._partGroups[s].link[l].initialize(e)}}n+=i}}copyPartOpacities(e){for(let n=0;n<this._partGroups.length;++n){const r=this._partGroups[n];if(r.link.length==0)continue;const i=this._partGroups[n].partIndex,s=e.getPartOpacityByIndex(i);for(let a=0;a<r.link.length;++a){const l=r.link[a].partIndex;l<0||e.setPartOpacityByIndex(l,s)}}}doFade(e,n,r,i){let s=-1,a=1;const o=.5,l=.15;for(let u=r;u<r+i;++u){const d=this._partGroups[u].partIndex,f=this._partGroups[u].parameterIndex;if(e.getParameterValueByIndex(f)>Jft){if(s>=0)break;s=u,a=e.getPartOpacityByIndex(d),a+=n/this._fadeTimeSeconds,a>1&&(a=1)}}s<0&&(s=0,a=1);for(let u=r;u<r+i;++u){const d=this._partGroups[u].partIndex;if(s==u)e.setPartOpacityByIndex(d,a);else{let f=e.getPartOpacityByIndex(d),h;a<o?h=a*(o-1)/o+1:h=(1-a)*o/(1-o),(1-h)*(1-a)>l&&(h=1-l/(1-a)),f>h&&(f=h),e.setPartOpacityByIndex(d,f)}}}constructor(){this._fadeTimeSeconds=GG,this._lastModel=void 0,this._partGroups=[],this._partGroupCounts=[]}}class eE{constructor(e){this.parameterIndex=0,this.partIndex=0,this.partId="",this.link=[],e!=null&&this.assignment(e)}assignment(e){return this.partId=e.partId,this.link=e.link.map(n=>n.clone()),this}initialize(e){this.parameterIndex=e.getParameterIndex(this.partId),this.partIndex=e.getPartIndex(this.partId),e.setParameterValueByIndex(this.parameterIndex,1)}clone(){const e=new eE;return e.partId=this.partId,e.parameterIndex=this.parameterIndex,e.partIndex=this.partIndex,e.link=this.link.map(n=>n.clone()),e}}class eht{update(){this._model.update(),this._model.drawables.resetDynamicFlags()}getCanvasWidth(){return this._model==null?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit}getCanvasHeight(){return this._model==null?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit}saveParameters(){const e=this._model.parameters.count,n=this._savedParameters.length;for(let r=0;r<e;++r)r<n?this._savedParameters[r]=this._parameterValues[r]:this._savedParameters.push(this._parameterValues[r])}getModel(){return this._model}getPartIndex(e){let n;const r=this._model.parts.count;for(n=0;n<r;++n)if(e==this._partIds[n])return n;return e in this._notExistPartId?this._notExistPartId[e]:(n=r+this._notExistPartId.length,this._notExistPartId[e]=n,this._notExistPartOpacities[n]=0,n)}getPartCount(){return this._model.parts.count}setPartOpacityByIndex(e,n){if(e in this._notExistPartOpacities){this._notExistPartOpacities[e]=n;return}mS(0<=e&&e<this.getPartCount()),this._partOpacities[e]=n}setPartOpacityById(e,n){const r=this.getPartIndex(e);r<0||this.setPartOpacityByIndex(r,n)}getPartOpacityByIndex(e){return e in this._notExistPartOpacities?this._notExistPartOpacities[e]:(mS(0<=e&&e<this.getPartCount()),this._partOpacities[e])}getPartOpacityById(e){const n=this.getPartIndex(e);return n<0?0:this.getPartOpacityByIndex(n)}getParameterIndex(e){let n;const r=this._model.parameters.count;for(n=0;n<r;++n)if(e==this._parameterIds[n])return n;return e in this._notExistParameterId?this._notExistParameterId[e]:(n=this._model.parameters.count+Object.keys(this._notExistParameterId).length,this._notExistParameterId[e]=n,this._notExistParameterValues[n]=0,n)}getParameterCount(){return this._model.parameters.count}getParameterMaximumValue(e){return this._model.parameters.maximumValues[e]}getParameterMinimumValue(e){return this._model.parameters.minimumValues[e]}getParameterDefaultValue(e){return this._model.parameters.defaultValues[e]}getParameterValueByIndex(e){return e in this._notExistParameterValues?this._notExistParameterValues[e]:(mS(0<=e&&e<this.getParameterCount()),this._parameterValues[e])}getParameterValueById(e){const n=this.getParameterIndex(e);return this.getParameterValueByIndex(n)}setParameterValueByIndex(e,n,r=1){if(e in this._notExistParameterValues){this._notExistParameterValues[e]=r==1?n:this._notExistParameterValues[e]*(1-r)+n*r;return}mS(0<=e&&e<this.getParameterCount()),this._model.parameters.maximumValues[e]<n&&(n=this._model.parameters.maximumValues[e]),this._model.parameters.minimumValues[e]>n&&(n=this._model.parameters.minimumValues[e]),this._parameterValues[e]=r==1?n:this._parameterValues[e]=this._parameterValues[e]*(1-r)+n*r}setParameterValueById(e,n,r=1){const i=this.getParameterIndex(e);this.setParameterValueByIndex(i,n,r)}addParameterValueByIndex(e,n,r=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)+n*r)}addParameterValueById(e,n,r=1){const i=this.getParameterIndex(e);this.addParameterValueByIndex(i,n,r)}multiplyParameterValueById(e,n,r=1){const i=this.getParameterIndex(e);this.multiplyParameterValueByIndex(i,n,r)}multiplyParameterValueByIndex(e,n,r=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)*(1+(n-1)*r))}getDrawableIds(){return this._drawableIds.slice()}getDrawableIndex(e){const n=this._model.drawables.count;for(let r=0;r<n;++r)if(this._drawableIds[r]==e)return r;return-1}getDrawableCount(){return this._model.drawables.count}getDrawableId(e){return this._model.drawables.ids[e]}getDrawableRenderOrders(){return this._model.drawables.renderOrders}getDrawableTextureIndices(e){return this._model.drawables.textureIndices[e]}getDrawableDynamicFlagVertexPositionsDidChange(e){const n=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(n[e])}getDrawableVertexIndexCount(e){return this._model.drawables.indexCounts[e]}getDrawableVertexCount(e){return this._model.drawables.vertexCounts[e]}getDrawableVertices(e){return this.getDrawableVertexPositions(e)}getDrawableVertexIndices(e){return this._model.drawables.indices[e]}getDrawableVertexPositions(e){return this._model.drawables.vertexPositions[e]}getDrawableVertexUvs(e){return this._model.drawables.vertexUvs[e]}getDrawableOpacity(e){return this._model.drawables.opacities[e]}getDrawableCulling(e){const n=this._model.drawables.constantFlags;return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(n[e])}getDrawableBlendMode(e){const n=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(n[e])?xp.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(n[e])?xp.CubismBlendMode_Multiplicative:xp.CubismBlendMode_Normal}getDrawableInvertedMaskBit(e){const n=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasIsInvertedMaskBit(n[e])}getDrawableMasks(){return this._model.drawables.masks}getDrawableMaskCounts(){return this._model.drawables.maskCounts}isUsingMasking(){for(let e=0;e<this._model.drawables.count;++e)if(!(this._model.drawables.maskCounts[e]<=0))return!0;return!1}getDrawableDynamicFlagIsVisible(e){const n=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasIsVisibleBit(n[e])}getDrawableDynamicFlagVisibilityDidChange(e){const n=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(n[e])}getDrawableDynamicFlagOpacityDidChange(e){const n=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasOpacityDidChangeBit(n[e])}getDrawableDynamicFlagRenderOrderDidChange(e){const n=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(n[e])}loadParameters(){let e=this._model.parameters.count;const n=this._savedParameters.length;e>n&&(e=n);for(let r=0;r<e;++r)this._parameterValues[r]=this._savedParameters[r]}initialize(){this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;{const e=this._model.parameters.ids,n=this._model.parameters.count;for(let r=0;r<n;++r)this._parameterIds.push(e[r])}{const e=this._model.parts.ids,n=this._model.parts.count;for(let r=0;r<n;++r)this._partIds.push(e[r])}{const e=this._model.drawables.ids,n=this._model.drawables.count;for(let r=0;r<n;++r)this._drawableIds.push(e[r])}}constructor(e){this._model=e,this._savedParameters=[],this._parameterIds=[],this._drawableIds=[],this._partIds=[],this._notExistPartId={},this._notExistParameterId={},this._notExistParameterValues={},this._notExistPartOpacities={},this.initialize()}release(){this._model.release(),this._model=void 0}}class z5{static create(e){const n=Live2DCubismCore.Moc.fromArrayBuffer(e);if(n)return new z5(n);throw new Error("Unknown error")}createModel(){let e;const n=Live2DCubismCore.Model.fromMoc(this._moc);if(n)return e=new eht(n),++this._modelCount,e;throw new Error("Unknown error")}deleteModel(e){e!=null&&--this._modelCount}constructor(e){this._moc=e,this._modelCount=0}release(){this._moc._release(),this._moc=void 0}}var RO=(t=>(t[t.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter",t))(RO||{}),V0=(t=>(t[t.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",t[t.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",t[t.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle",t))(V0||{});class tht{constructor(){this.initialPosition=new Br(0,0),this.position=new Br(0,0),this.lastPosition=new Br(0,0),this.lastGravity=new Br(0,0),this.force=new Br(0,0),this.velocity=new Br(0,0)}}class nht{constructor(){this.normalizationPosition={},this.normalizationAngle={}}}class rht{constructor(){this.source={}}}class iht{constructor(){this.destination={},this.translationScale=new Br(0,0)}}class sht{constructor(){this.settings=[],this.inputs=[],this.outputs=[],this.particles=[],this.gravity=new Br(0,0),this.wind=new Br(0,0)}}class aht{constructor(e){this._json=e}release(){this._json=void 0}getGravity(){const e=new Br(0,0);return e.x=this._json.Meta.EffectiveForces.Gravity.X,e.y=this._json.Meta.EffectiveForces.Gravity.Y,e}getWind(){const e=new Br(0,0);return e.x=this._json.Meta.EffectiveForces.Wind.X,e.y=this._json.Meta.EffectiveForces.Wind.Y,e}getSubRigCount(){return this._json.Meta.PhysicsSettingCount}getTotalInputCount(){return this._json.Meta.TotalInputCount}getTotalOutputCount(){return this._json.Meta.TotalOutputCount}getVertexCount(){return this._json.Meta.VertexCount}getNormalizationPositionMinimumValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Minimum}getNormalizationPositionMaximumValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Maximum}getNormalizationPositionDefaultValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Default}getNormalizationAngleMinimumValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Minimum}getNormalizationAngleMaximumValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Maximum}getNormalizationAngleDefaultValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Default}getInputCount(e){return this._json.PhysicsSettings[e].Input.length}getInputWeight(e,n){return this._json.PhysicsSettings[e].Input[n].Weight}getInputReflect(e,n){return this._json.PhysicsSettings[e].Input[n].Reflect}getInputType(e,n){return this._json.PhysicsSettings[e].Input[n].Type}getInputSourceId(e,n){return this._json.PhysicsSettings[e].Input[n].Source.Id}getOutputCount(e){return this._json.PhysicsSettings[e].Output.length}getOutputVertexIndex(e,n){return this._json.PhysicsSettings[e].Output[n].VertexIndex}getOutputAngleScale(e,n){return this._json.PhysicsSettings[e].Output[n].Scale}getOutputWeight(e,n){return this._json.PhysicsSettings[e].Output[n].Weight}getOutputDestinationId(e,n){return this._json.PhysicsSettings[e].Output[n].Destination.Id}getOutputType(e,n){return this._json.PhysicsSettings[e].Output[n].Type}getOutputReflect(e,n){return this._json.PhysicsSettings[e].Output[n].Reflect}getParticleCount(e){return this._json.PhysicsSettings[e].Vertices.length}getParticleMobility(e,n){return this._json.PhysicsSettings[e].Vertices[n].Mobility}getParticleDelay(e,n){return this._json.PhysicsSettings[e].Vertices[n].Delay}getParticleAcceleration(e,n){return this._json.PhysicsSettings[e].Vertices[n].Acceleration}getParticleRadius(e,n){return this._json.PhysicsSettings[e].Vertices[n].Radius}getParticlePosition(e,n){const r=new Br(0,0);return r.x=this._json.PhysicsSettings[e].Vertices[n].Position.X,r.y=this._json.PhysicsSettings[e].Vertices[n].Position.Y,r}}const WG="X",qG="Y",XG="Angle",oht=5,uue=100,lht=.001;class H5{static create(e){const n=new H5;return n.parse(e),n._physicsRig.gravity.y=0,n}evaluate(e,n){let r,i,s,a;const o=new Br;let l,u,d,f,h,g,v,p;h=e.getModel().parameters.values,g=e.getModel().parameters.maximumValues,v=e.getModel().parameters.minimumValues,p=e.getModel().parameters.defaultValues;for(let _=0;_<this._physicsRig.subRigCount;++_){r={angle:0},o.x=0,o.y=0,l=this._physicsRig.settings[_],u=this._physicsRig.inputs.slice(l.baseInputIndex),d=this._physicsRig.outputs.slice(l.baseOutputIndex),f=this._physicsRig.particles.slice(l.baseParticleIndex);for(let S=0;S<l.inputCount;++S)i=u[S].weight/uue,u[S].sourceParameterIndex==-1&&(u[S].sourceParameterIndex=e.getParameterIndex(u[S].source.id)),u[S].getNormalizedParameterValue(o,r,h[u[S].sourceParameterIndex],v[u[S].sourceParameterIndex],g[u[S].sourceParameterIndex],p[u[S].sourceParameterIndex],l.normalizationPosition,l.normalizationAngle,u[S].reflect,i);s=fs.degreesToRadian(-r.angle),o.x=o.x*fs.cos(s)-o.y*fs.sin(s),o.y=o.x*fs.sin(s)+o.y*fs.cos(s),xht(f,l.particleCount,o,r.angle,this._options.wind,lht*l.normalizationPosition.maximum,n,oht);for(let S=0;S<l.outputCount;++S){const C=d[S].vertexIndex;if(C<1||C>=l.particleCount)break;d[S].destinationParameterIndex==-1&&(d[S].destinationParameterIndex=e.getParameterIndex(d[S].destination.id));const T=new Br;T.x=f[C].position.x-f[C-1].position.x,T.y=f[C].position.y-f[C-1].position.y,a=d[S].getValue(T,f,C,d[S].reflect,this._options.gravity);const A=d[S].destinationParameterIndex,P=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(h.subarray(A))):h.slice(A);wht(P,v[A],g[A],a,d[S]);for(let D=A,R=0;D<h.length;D++,R++)h[D]=P[R]}}}setOptions(e){this._options=e}getOption(){return this._options}constructor(){this._options=new uht,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0}release(){this._physicsRig=void 0}parse(e){this._physicsRig=new sht;let n=new aht(e);this._physicsRig.gravity=n.getGravity(),this._physicsRig.wind=n.getWind(),this._physicsRig.subRigCount=n.getSubRigCount();let r=0,i=0,s=0;for(let a=0;a<this._physicsRig.subRigCount;++a){const o=new nht;o.normalizationPosition.minimum=n.getNormalizationPositionMinimumValue(a),o.normalizationPosition.maximum=n.getNormalizationPositionMaximumValue(a),o.normalizationPosition.defalut=n.getNormalizationPositionDefaultValue(a),o.normalizationAngle.minimum=n.getNormalizationAngleMinimumValue(a),o.normalizationAngle.maximum=n.getNormalizationAngleMaximumValue(a),o.normalizationAngle.defalut=n.getNormalizationAngleDefaultValue(a),o.inputCount=n.getInputCount(a),o.baseInputIndex=r,r+=o.inputCount;for(let l=0;l<o.inputCount;++l){const u=new rht;switch(u.sourceParameterIndex=-1,u.weight=n.getInputWeight(a,l),u.reflect=n.getInputReflect(a,l),n.getInputType(a,l)){case WG:u.type=V0.CubismPhysicsSource_X,u.getNormalizedParameterValue=cht;break;case qG:u.type=V0.CubismPhysicsSource_Y,u.getNormalizedParameterValue=dht;break;case XG:u.type=V0.CubismPhysicsSource_Angle,u.getNormalizedParameterValue=fht;break}u.source.targetType=RO.CubismPhysicsTargetType_Parameter,u.source.id=n.getInputSourceId(a,l),this._physicsRig.inputs.push(u)}o.outputCount=n.getOutputCount(a),o.baseOutputIndex=i,i+=o.outputCount;for(let l=0;l<o.outputCount;++l){const u=new iht;switch(u.destinationParameterIndex=-1,u.vertexIndex=n.getOutputVertexIndex(a,l),u.angleScale=n.getOutputAngleScale(a,l),u.weight=n.getOutputWeight(a,l),u.destination.targetType=RO.CubismPhysicsTargetType_Parameter,u.destination.id=n.getOutputDestinationId(a,l),n.getOutputType(a,l)){case WG:u.type=V0.CubismPhysicsSource_X,u.getValue=hht,u.getScale=yht;break;case qG:u.type=V0.CubismPhysicsSource_Y,u.getValue=pht,u.getScale=_ht;break;case XG:u.type=V0.CubismPhysicsSource_Angle,u.getValue=mht,u.getScale=bht;break}u.reflect=n.getOutputReflect(a,l),this._physicsRig.outputs.push(u)}o.particleCount=n.getParticleCount(a),o.baseParticleIndex=s,s+=o.particleCount;for(let l=0;l<o.particleCount;++l){const u=new tht;u.mobility=n.getParticleMobility(a,l),u.delay=n.getParticleDelay(a,l),u.acceleration=n.getParticleAcceleration(a,l),u.radius=n.getParticleRadius(a,l),u.position=n.getParticlePosition(a,l),this._physicsRig.particles.push(u)}this._physicsRig.settings.push(o)}this.initialize(),n.release()}initialize(){let e,n,r;for(let i=0;i<this._physicsRig.subRigCount;++i){n=this._physicsRig.settings[i],e=this._physicsRig.particles.slice(n.baseParticleIndex),e[0].initialPosition=new Br(0,0),e[0].lastPosition=new Br(e[0].initialPosition.x,e[0].initialPosition.y),e[0].lastGravity=new Br(0,-1),e[0].lastGravity.y*=-1,e[0].velocity=new Br(0,0),e[0].force=new Br(0,0);for(let s=1;s<n.particleCount;++s)r=new Br(0,0),r.y=e[s].radius,e[s].initialPosition=new Br(e[s-1].initialPosition.x+r.x,e[s-1].initialPosition.y+r.y),e[s].position=new Br(e[s].initialPosition.x,e[s].initialPosition.y),e[s].lastPosition=new Br(e[s].initialPosition.x,e[s].initialPosition.y),e[s].lastGravity=new Br(0,-1),e[s].lastGravity.y*=-1,e[s].velocity=new Br(0,0),e[s].force=new Br(0,0)}}}class uht{constructor(){this.gravity=new Br(0,0),this.wind=new Br(0,0)}}function cht(t,e,n,r,i,s,a,o,l,u){t.x+=j5(n,r,i,s,a.minimum,a.maximum,a.defalut,l)*u}function dht(t,e,n,r,i,s,a,o,l,u){t.y+=j5(n,r,i,s,a.minimum,a.maximum,a.defalut,l)*u}function fht(t,e,n,r,i,s,a,o,l,u){e.angle+=j5(n,r,i,s,o.minimum,o.maximum,o.defalut,l)*u}function hht(t,e,n,r,i){let s=t.x;return r&&(s*=-1),s}function pht(t,e,n,r,i){let s=t.y;return r&&(s*=-1),s}function mht(t,e,n,r,i){let s;return n>=2?i=e[n-1].position.substract(e[n-2].position):i=i.multiplyByScaler(-1),s=fs.directionToRadian(i,t),r&&(s*=-1),s}function ght(t,e){return Math.abs(Math.max(t,e)-Math.min(t,e))}function vht(t,e){return Math.min(t,e)+ght(t,e)/2}function yht(t,e){return t.x}function _ht(t,e){return t.y}function bht(t,e){return e}function xht(t,e,n,r,i,s,a,o){let l,u,d,f,h=new Br(0,0),g=new Br(0,0),v=new Br(0,0),p=new Br(0,0);t[0].position=new Br(n.x,n.y),l=fs.degreesToRadian(r),f=fs.radianToDirection(l),f.normalize();for(let _=1;_<e;++_)t[_].force=f.multiplyByScaler(t[_].acceleration).add(i),t[_].lastPosition=new Br(t[_].position.x,t[_].position.y),u=t[_].delay*a*30,h=t[_].position.substract(t[_-1].position),d=fs.directionToRadian(t[_].lastGravity,f)/o,h.x=fs.cos(d)*h.x-h.y*fs.sin(d),h.y=fs.sin(d)*h.x+h.y*fs.cos(d),t[_].position=t[_-1].position.add(h),g=t[_].velocity.multiplyByScaler(u),v=t[_].force.multiplyByScaler(u).multiplyByScaler(u),t[_].position=t[_].position.add(g).add(v),p=t[_].position.substract(t[_-1].position),p.normalize(),t[_].position=t[_-1].position.add(p.multiplyByScaler(t[_].radius)),fs.abs(t[_].position.x)<s&&(t[_].position.x=0),u!=0&&(t[_].velocity=t[_].position.substract(t[_].lastPosition),t[_].velocity=t[_].velocity.divisionByScalar(u),t[_].velocity=t[_].velocity.multiplyByScaler(t[_].mobility)),t[_].force=new Br(0,0),t[_].lastGravity=new Br(f.x,f.y)}function wht(t,e,n,r,i){let s,a,o;s=i.getScale(i.translationScale,i.angleScale),a=r*s,a<e?(a<i.valueBelowMinimum&&(i.valueBelowMinimum=a),a=e):a>n&&(a>i.valueExceededMaximum&&(i.valueExceededMaximum=a),a=n),o=i.weight/uue,o>=1||(a=t[0]*(1-o)+a*o),t[0]=a}function j5(t,e,n,r,i,s,a,o){let l=0;const u=fs.max(n,e);u<t&&(t=u);const d=fs.min(n,e);d>t&&(t=d);const f=fs.min(i,s),h=fs.max(i,s),g=a,v=vht(d,u),p=t-v;switch(Math.sign(p)){case 1:{const _=h-g,S=u-v;S!=0&&(l=p*(_/S),l+=g);break}case-1:{const _=f-g,S=d-v;S!=0&&(l=p*(_/S),l+=g);break}case 0:{l=g;break}}return o?l:l*-1}Ps.registerRuntime({version:4,ready:Zft,test(t){return t instanceof Av||Av.isValidJSON(t)},isValidMoc(t){if(t.byteLength<4)return!1;const e=new Int8Array(t,0,4);return String.fromCharCode(...e)==="MOC3"},createModelSettings(t){return new Av(t)},createCoreModel(t){const e=z5.create(t);try{const n=e.createModel();return n.__moc=e,n}catch(n){try{e.release()}catch{}throw n}},createInternalModel(t,e,n){const r=new Kft(t,e,n),i=t;return i.__moc&&(r.__moc=i.__moc,delete i.__moc,r.once("destroy",Sht)),r},createPhysics(t,e){return H5.create(e)},createPose(t,e){return V5.create(e)}});function Sht(){var t;(t=this.__moc)==null||t.release()}window.PIXI=Hdt;const Tht=new O5({view:document.getElementById("Kurisu"),autoStart:!0,resizeTo:window,backgroundAlpha:0}),Cht="/Rintaro/Rintaro.model3.json",Eht="/Christina/Christina.model3.json",Aht="/Mayuri/Mayuri.model3.json";Pht();let yl;async function Pht(){yl=await Promise.all([mT.from(Eht),mT.from(Cht),mT.from(Aht)]),yl.forEach(r=>{Tht.stage.addChild(r);const i=innerWidth*.4/r.width,s=innerHeight*.8/r.height;r.scale.set(Math.min(i,s)),r.y=innerHeight*.1,r.on("pointertap",()=>{yl[0].motion("tap")}),r.on("pointerleave",()=>{yl[0].motion("Idle")}),r.on("pointertap",()=>{yl[0].motion("tap")}),r.on("pointerupoutside",()=>{yl[0].motion("pose")})});const t=yl[2],e=yl[1],n=yl[0];n.x=(innerWidth-t.width-e.width-n.width)/3,e.x=n.x+n.width,t.x=e.x+e.width,Iht(yl[0]),yl[0].on("pointertap",()=>{yl[0].motion("tap")})}var OO,eo={originScale:1,scale:1,pageX:0,pageY:0,pageX2:0,pageY2:0};document.addEventListener("touchstart",function(t){var e=t.touches,n=e[0],r=e[1];eo.pageX=n.pageX,eo.pageY=n.pageY,r!=null&&(eo.pageX2=r.pageX,eo.pageY2=r.pageY),eo.originScale=eo.scale||1});document.addEventListener("touchmove",function(t){var e=t.touches,n=e[0],r=e[1];if(r!=null){eo.pageX2||(eo.pageX2=r.pageX),eo.pageY2||(eo.pageY2=r.pageY);var i=function(o,l){return Math.hypot(l.x-o.x,l.y-o.y)},s=i({x:n.pageX,y:n.pageY},{x:r.pageX,y:r.pageY})/i({x:eo.pageX,y:eo.pageY},{x:eo.pageX2,y:eo.pageY2}),a=eo.originScale*s;eo.scale=a,yl[0].scale.set(eo.scale)}});function kht(t){window.innerWidth<window.innerHeight?OO=.3:OO=.8;for(let e in t)Dht(t[e])}const Dht=t=>{t&&t.scale&&t.scale.set(OO)};window.onresize=function(){kht(yl),Et.width=window.innerWidth};function Iht(t){t.buttonMode=!0,t.on("pointerdown",e=>{t.dragging=!0,t._pointerX=e.data.global.x-t.x,t._pointerY=e.data.global.y-t.y}),t.on("pointermove",e=>{t.dragging&&(t.position.x=e.data.global.x-t._pointerX,t.position.y=e.data.global.y-t._pointerY)}),t.on("pointerupoutside",()=>t.dragging=!1),t.on("pointerup",()=>t.dragging=!1)}const Rht=kt({__name:"Tabs",setup(t){const e=ye("Home");return(n,r)=>{const i=int,s=A4e,a=Dae,o=E4e;return ge(),Tt(o,{modelValue:e.value,"onUpdate:modelValue":r[0]||(r[0]=l=>e.value=l),type:"card"},{default:ie(()=>[V(s,{label:"Home",name:"Home"},{default:ie(()=>[V(i)]),_:1}),V(s,{label:"Labroom",name:"Labroom"}),b(Et).width>768&&b(ke).permission!=null&&b(ke).permission.includes("admin")?(ge(),Tt(s,{key:0,label:"Dashboard",name:"Dashboard"},{default:ie(()=>[V(a,{class:"hidden-sm-and-down"}),r[1]||(r[1]=Ve("span",{class:"hidden-md-and-up"},"not support",-1))]),_:1})):gt("",!0)]),_:1},8,["modelValue"])}}});const Oht={};function Mht(t,e){const n=Rht,r=nK,i=KAe;return ge(),Tt(i,{gutter:10},{default:ie(()=>[V(r,{xs:24,sm:24,md:24,lg:24,xl:24},{default:ie(()=>[V(n)]),_:1})]),_:1})}const Lht=kx(Oht,[["render",Mht]]);const $ht={};function Nht(t,e){const n=Lht,r=Ltt,i=Rtt;return ge(),Fe(Tn,null,[V(n),V(r),V(i)],64)}const Fht=kx($ht,[["render",Nht]]);/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Hg=typeof document<"u";function cue(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Bht(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&cue(t.default)}const Mi=Object.assign;function Nk(t,e){const n={};for(const r in e){const i=e[r];n[r]=kc(i)?i.map(t):t(i)}return n}const Tb=()=>{},kc=Array.isArray;function YG(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const due=/#/g,Uht=/&/g,Vht=/\//g,zht=/=/g,Hht=/\?/g,fue=/\+/g,jht=/%5B/g,Ght=/%5D/g,hue=/%5E/g,Wht=/%60/g,pue=/%7B/g,qht=/%7C/g,mue=/%7D/g,Xht=/%20/g;function G5(t){return t==null?"":encodeURI(""+t).replace(qht,"|").replace(jht,"[").replace(Ght,"]")}function Yht(t){return G5(t).replace(pue,"{").replace(mue,"}").replace(hue,"^")}function MO(t){return G5(t).replace(fue,"%2B").replace(Xht,"+").replace(due,"%23").replace(Uht,"%26").replace(Wht,"`").replace(pue,"{").replace(mue,"}").replace(hue,"^")}function Kht(t){return MO(t).replace(zht,"%3D")}function Zht(t){return G5(t).replace(due,"%23").replace(Hht,"%3F")}function Qht(t){return Zht(t).replace(Vht,"%2F")}function H1(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Jht=/\/$/,ept=t=>t.replace(Jht,"");function Fk(t,e,n="/"){let r,i={},s="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return l=o>=0&&l>o?-1:l,l>=0&&(r=e.slice(0,l),s=e.slice(l,o>0?o:e.length),i=t(s.slice(1))),o>=0&&(r=r||e.slice(0,o),a=e.slice(o,e.length)),r=ipt(r??e,n),{fullPath:r+s+a,path:r,query:i,hash:H1(a)}}function tpt(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function KG(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function npt(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ay(e.matched[r],n.matched[i])&&gue(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ay(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function gue(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!rpt(t[n],e[n]))return!1;return!0}function rpt(t,e){return kc(t)?ZG(t,e):kc(e)?ZG(e,t):(t==null?void 0:t.valueOf())===(e==null?void 0:e.valueOf())}function ZG(t,e){return kc(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function ipt(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,o;for(a=0;a<r.length;a++)if(o=r[a],o!==".")if(o==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a).join("/")}const Lh={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let LO=function(t){return t.pop="pop",t.push="push",t}({}),Bk=function(t){return t.back="back",t.forward="forward",t.unknown="",t}({});function spt(t){if(!t)if(Hg){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ept(t)}const apt=/^[^#]+#/;function opt(t,e){return t.replace(apt,"#")+e}function lpt(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const u3=()=>({left:window.scrollX,top:window.scrollY});function upt(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=lpt(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function QG(t,e){return(history.state?history.state.position-e:-1)+t}const $O=new Map;function cpt(t,e){$O.set(t,e)}function dpt(t){const e=$O.get(t);return $O.delete(t),e}function fpt(t){return typeof t=="string"||t&&typeof t=="object"}function vue(t){return typeof t=="string"||typeof t=="symbol"}let js=function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t}({});const yue=Symbol("");js.MATCHER_NOT_FOUND+"",js.NAVIGATION_GUARD_REDIRECT+"",js.NAVIGATION_ABORTED+"",js.NAVIGATION_CANCELLED+"",js.NAVIGATION_DUPLICATED+"";function Py(t,e){return Mi(new Error,{type:t,[yue]:!0},e)}function of(t,e){return t instanceof Error&&yue in t&&(e==null||!!(t.type&e))}const hpt=["params","query","hash"];function ppt(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of hpt)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function mpt(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(fue," "),s=i.indexOf("="),a=H1(s<0?i:i.slice(0,s)),o=s<0?null:H1(i.slice(s+1));if(a in e){let l=e[a];kc(l)||(l=e[a]=[l]),l.push(o)}else e[a]=o}return e}function JG(t){let e="";for(let n in t){const r=t[n];if(n=Kht(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(kc(r)?r.map(i=>i&&MO(i)):[r&&MO(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function gpt(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=kc(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const vpt=Symbol(""),eW=Symbol(""),W5=Symbol(""),_ue=Symbol(""),NO=Symbol("");function c2(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Yh(t,e,n,r,i,s=a=>a()){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{const u=h=>{h===!1?l(Py(js.NAVIGATION_ABORTED,{from:n,to:e})):h instanceof Error?l(h):fpt(h)?l(Py(js.NAVIGATION_GUARD_REDIRECT,{from:e,to:h})):(a&&r.enterCallbacks[i]===a&&typeof h=="function"&&a.push(h),o())},d=s(()=>t.call(r&&r.instances[i],e,n,u));let f=Promise.resolve(d);t.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function Uk(t,e,n,r,i=s=>s()){const s=[];for(const a of t)for(const o in a.components){let l=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(cue(l)){const u=(l.__vccOpts||l)[e];u&&s.push(Yh(u,n,r,a,o,i))}else{let u=l();s.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const f=Bht(d)?d.default:d;a.mods[o]=d,a.components[o]=f;const h=(f.__vccOpts||f)[e];return h&&Yh(h,n,r,a,o,i)()}))}}return s}function ypt(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const o=e.matched[a];o&&(t.matched.find(u=>Ay(u,o))?r.push(o):n.push(o));const l=t.matched[a];l&&(e.matched.find(u=>Ay(u,l))||i.push(l))}return[n,r,i]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let _pt=()=>location.protocol+"//"+location.host;function bue(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,o=i.slice(a);return o[0]!=="/"&&(o="/"+o),KG(o,"")}return KG(n,t)+r+i}function bpt(t,e,n,r){let i=[],s=[],a=null;const o=({state:h})=>{const g=bue(t,location),v=n.value,p=e.value;let _=0;if(h){if(n.value=g,e.value=h,a&&a===v){a=null;return}_=p?h.position-p.position:0}else r(g);i.forEach(S=>{S(n.value,v,{delta:_,type:LO.pop,direction:_?_>0?Bk.forward:Bk.back:Bk.unknown})})};function l(){a=n.value}function u(h){i.push(h);const g=()=>{const v=i.indexOf(h);v>-1&&i.splice(v,1)};return s.push(g),g}function d(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(Mi({},h.state,{scroll:u3()}),"")}}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",o),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",o),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:l,listen:u,destroy:f}}function tW(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?u3():null}}function xpt(t){const{history:e,location:n}=window,r={value:bue(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,d){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:_pt()+t+l;try{e[d?"replaceState":"pushState"](u,"",h),i.value=u}catch(g){console.error(g),n[d?"replace":"assign"](h)}}function a(l,u){s(l,Mi({},e.state,tW(i.value.back,l,i.value.forward,!0),u,{position:i.value.position}),!0),r.value=l}function o(l,u){const d=Mi({},i.value,e.state,{forward:l,scroll:u3()});s(d.current,d,!0),s(l,Mi({},tW(r.value,l,null),{position:d.position+1},u),!1),r.value=l}return{location:r,state:i,push:o,replace:a}}function wpt(t){t=spt(t);const e=xpt(t),n=bpt(t,e.state,e.location,e.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=Mi({location:"",base:t,go:r,createHref:opt.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}let rm=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t}({});var Ta=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t}(Ta||{});const Spt={type:rm.Static,value:""},Tpt=/[a-zA-Z0-9_]/;function Cpt(t){if(!t)return[[]];if(t==="/")return[[Spt]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=Ta.Static,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let o=0,l,u="",d="";function f(){u&&(n===Ta.Static?s.push({type:rm.Static,value:u}):n===Ta.Param||n===Ta.ParamRegExp||n===Ta.ParamRegExpEnd?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:rm.Param,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&n!==Ta.ParamRegExp){r=n,n=Ta.EscapeNext;continue}switch(n){case Ta.Static:l==="/"?(u&&f(),a()):l===":"?(f(),n=Ta.Param):h();break;case Ta.EscapeNext:h(),n=r;break;case Ta.Param:l==="("?n=Ta.ParamRegExp:Tpt.test(l)?h():(f(),n=Ta.Static,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case Ta.ParamRegExp:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=Ta.ParamRegExpEnd:d+=l;break;case Ta.ParamRegExpEnd:f(),n=Ta.Static,l!=="*"&&l!=="?"&&l!=="+"&&o--,d="";break;default:e("Unknown state");break}}return n===Ta.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),f(),a(),i}const nW="[^/]+?",Ept={sensitive:!1,strict:!1,start:!0,end:!0};var Qo=function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t}(Qo||{});const Apt=/[.+*?^${}()[\]/\\]/g;function Ppt(t,e){const n=Mi({},Ept,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const d=u.length?[]:[Qo.Root];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const h=u[f];let g=Qo.Segment+(n.sensitive?Qo.BonusCaseSensitive:0);if(h.type===rm.Static)f||(i+="/"),i+=h.value.replace(Apt,"\\$&"),g+=Qo.Static;else if(h.type===rm.Param){const{value:v,repeatable:p,optional:_,regexp:S}=h;s.push({name:v,repeatable:p,optional:_});const C=S||nW;if(C!==nW){g+=Qo.BonusCustomRegExp;try{`${C}`}catch(A){throw new Error(`Invalid custom RegExp for param "${v}" (${C}): `+A.message)}}let T=p?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;f||(T=_&&u.length<2?`(?:/${T})`:"/"+T),_&&(T+="?"),i+=T,g+=Qo.Dynamic,_&&(g+=Qo.BonusOptional),p&&(g+=Qo.BonusRepeatable),C===".*"&&(g+=Qo.BonusWildcard)}d.push(g)}r.push(d)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=Qo.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function o(u){const d=u.match(a),f={};if(!d)return null;for(let h=1;h<d.length;h++){const g=d[h]||"",v=s[h-1];f[v.name]=g&&v.repeatable?g.split("/"):g}return f}function l(u){let d="",f=!1;for(const h of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const g of h)if(g.type===rm.Static)d+=g.value;else if(g.type===rm.Param){const{value:v,repeatable:p,optional:_}=g,S=v in u?u[v]:"";if(kc(S)&&!p)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const C=kc(S)?S.join("/"):S;if(!C)if(_)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);d+=C}}return d||"/"}return{re:a,score:r,keys:s,parse:o,stringify:l}}function kpt(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===Qo.Static+Qo.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Qo.Static+Qo.Segment?1:-1:0}function xue(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=kpt(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(rW(r))return 1;if(rW(i))return-1}return i.length-r.length}function rW(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Dpt={strict:!1,end:!0,sensitive:!1};function Ipt(t,e,n){const r=Ppt(Cpt(t.path),n),i=Mi(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Rpt(t,e){const n=[],r=new Map;e=YG(Dpt,e);function i(f){return r.get(f)}function s(f,h,g){const v=!g,p=sW(f);p.aliasOf=g&&g.record;const _=YG(e,f),S=[p];if("alias"in f){const A=typeof f.alias=="string"?[f.alias]:f.alias;for(const P of A)S.push(sW(Mi({},p,{components:g?g.record.components:p.components,path:P,aliasOf:g?g.record:p})))}let C,T;for(const A of S){const{path:P}=A;if(h&&P[0]!=="/"){const D=h.record.path,R=D[D.length-1]==="/"?"":"/";A.path=h.record.path+(P&&R+P)}if(C=Ipt(A,h,_),g?g.alias.push(C):(T=T||C,T!==C&&T.alias.push(C),v&&f.name&&!aW(C)&&a(f.name)),wue(C)&&l(C),p.children){const D=p.children;for(let R=0;R<D.length;R++)s(D[R],C,g&&g.children[R])}g=g||C}return T?()=>{a(T)}:Tb}function a(f){if(vue(f)){const h=r.get(f);h&&(r.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&r.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function o(){return n}function l(f){const h=Lpt(f,n);n.splice(h,0,f),f.record.name&&!aW(f)&&r.set(f.record.name,f)}function u(f,h){let g,v={},p,_;if("name"in f&&f.name){if(g=r.get(f.name),!g)throw Py(js.MATCHER_NOT_FOUND,{location:f});_=g.record.name,v=Mi(iW(h.params,g.keys.filter(T=>!T.optional).concat(g.parent?g.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),f.params&&iW(f.params,g.keys.map(T=>T.name))),p=g.stringify(v)}else if(f.path!=null)p=f.path,g=n.find(T=>T.re.test(p)),g&&(v=g.parse(p),_=g.record.name);else{if(g=h.name?r.get(h.name):n.find(T=>T.re.test(h.path)),!g)throw Py(js.MATCHER_NOT_FOUND,{location:f,currentLocation:h});_=g.record.name,v=Mi({},h.params,f.params),p=g.stringify(v)}const S=[];let C=g;for(;C;)S.unshift(C.record),C=C.parent;return{name:_,path:p,params:v,matched:S,meta:Mpt(S)}}t.forEach(f=>s(f));function d(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:a,clearRoutes:d,getRoutes:o,getRecordMatcher:i}}function iW(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function sW(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Opt(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Opt(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function aW(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Mpt(t){return t.reduce((e,n)=>Mi(e,n.meta),{})}function Lpt(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;xue(t,e[s])<0?r=s:n=s+1}const i=$pt(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function $pt(t){let e=t;for(;e=e.parent;)if(wue(e)&&xue(t,e)===0)return e}function wue({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function oW(t){const e=In(W5),n=In(_ue),r=he(()=>{const l=b(t.to);return e.resolve(l)}),i=he(()=>{const{matched:l}=r.value,{length:u}=l,d=l[u-1],f=n.matched;if(!d||!f.length)return-1;const h=f.findIndex(Ay.bind(null,d));if(h>-1)return h;const g=lW(l[u-2]);return u>1&&lW(d)===g&&f[f.length-1].path!==g?f.findIndex(Ay.bind(null,l[u-2])):h}),s=he(()=>i.value>-1&&Vpt(n.params,r.value.params)),a=he(()=>i.value>-1&&i.value===n.matched.length-1&&gue(n.params,r.value.params));function o(l={}){if(Upt(l)){const u=e[b(t.replace)?"replace":"push"](b(t.to)).catch(Tb);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:he(()=>r.value.href),isActive:s,isExactActive:a,navigate:o}}function Npt(t){return t.length===1?t[0]:t}const Fpt=kt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:oW,setup(t,{slots:e}){const n=lr(oW(t)),{options:r}=In(W5),i=he(()=>({[uW(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[uW(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&Npt(e.default(n));return t.custom?s:En("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Bpt=Fpt;function Upt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Vpt(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!kc(i)||i.length!==r.length||r.some((s,a)=>s.valueOf()!==i[a].valueOf()))return!1}return!0}function lW(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const uW=(t,e,n)=>t??e??n,zpt=kt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=In(NO),i=he(()=>t.route||r.value),s=In(eW,0),a=he(()=>{let u=b(s);const{matched:d}=i.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),o=he(()=>i.value.matched[a.value]);pi(eW,he(()=>a.value+1)),pi(vpt,o),pi(NO,i);const l=ye();return Zt(()=>[l.value,o.value,t.name],([u,d,f],[h,g,v])=>{d&&(d.instances[f]=u,g&&g!==d&&u&&u===h&&(d.leaveGuards.size||(d.leaveGuards=g.leaveGuards),d.updateGuards.size||(d.updateGuards=g.updateGuards))),u&&d&&(!g||!Ay(d,g)||!h)&&(d.enterCallbacks[f]||[]).forEach(p=>p(u))},{flush:"post"}),()=>{const u=i.value,d=t.name,f=o.value,h=f&&f.components[d];if(!h)return cW(n.default,{Component:h,route:u});const g=f.props[d],v=g?g===!0?u.params:typeof g=="function"?g(u):g:null,_=En(h,Mi({},v,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(f.instances[d]=null)},ref:l}));return cW(n.default,{Component:_,route:u})||_}}});function cW(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Hpt=zpt;function jpt(t){const e=Rpt(t.routes,t),n=t.parseQuery||mpt,r=t.stringifyQuery||JG,i=t.history,s=c2(),a=c2(),o=c2(),l=qa(Lh);let u=Lh;Hg&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Nk.bind(null,Ie=>""+Ie),f=Nk.bind(null,Qht),h=Nk.bind(null,H1);function g(Ie,Ke){let Xe,Ze;return vue(Ie)?(Xe=e.getRecordMatcher(Ie),Ze=Ke):Ze=Ie,e.addRoute(Ze,Xe)}function v(Ie){const Ke=e.getRecordMatcher(Ie);Ke&&e.removeRoute(Ke)}function p(){return e.getRoutes().map(Ie=>Ie.record)}function _(Ie){return!!e.getRecordMatcher(Ie)}function S(Ie,Ke){if(Ke=Mi({},Ke||l.value),typeof Ie=="string"){const Re=Fk(n,Ie,Ke.path),rt=e.resolve({path:Re.path},Ke),Ye=i.createHref(Re.fullPath);return Mi(Re,rt,{params:h(rt.params),hash:H1(Re.hash),redirectedFrom:void 0,href:Ye})}let Xe;if(Ie.path!=null)Xe=Mi({},Ie,{path:Fk(n,Ie.path,Ke.path).path});else{const Re=Mi({},Ie.params);for(const rt in Re)Re[rt]==null&&delete Re[rt];Xe=Mi({},Ie,{params:f(Re)}),Ke.params=f(Ke.params)}const Ze=e.resolve(Xe,Ke),bt=Ie.hash||"";Ze.params=d(h(Ze.params));const ht=tpt(r,Mi({},Ie,{hash:Yht(bt),path:Ze.path})),ae=i.createHref(ht);return Mi({fullPath:ht,hash:bt,query:r===JG?gpt(Ie.query):Ie.query||{}},Ze,{redirectedFrom:void 0,href:ae})}function C(Ie){return typeof Ie=="string"?Fk(n,Ie,l.value.path):Mi({},Ie)}function T(Ie,Ke){if(u!==Ie)return Py(js.NAVIGATION_CANCELLED,{from:Ke,to:Ie})}function A(Ie){return R(Ie)}function P(Ie){return A(Mi(C(Ie),{replace:!0}))}function D(Ie,Ke){const Xe=Ie.matched[Ie.matched.length-1];if(Xe&&Xe.redirect){const{redirect:Ze}=Xe;let bt=typeof Ze=="function"?Ze(Ie,Ke):Ze;return typeof bt=="string"&&(bt=bt.includes("?")||bt.includes("#")?bt=C(bt):{path:bt},bt.params={}),Mi({query:Ie.query,hash:Ie.hash,params:bt.path!=null?{}:Ie.params},bt)}}function R(Ie,Ke){const Xe=u=S(Ie),Ze=l.value,bt=Ie.state,ht=Ie.force,ae=Ie.replace===!0,Re=D(Xe,Ze);if(Re)return R(Mi(C(Re),{state:typeof Re=="object"?Mi({},bt,Re.state):bt,force:ht,replace:ae}),Ke||Xe);const rt=Xe;rt.redirectedFrom=Ke;let Ye;return!ht&&npt(r,Ze,Xe)&&(Ye=Py(js.NAVIGATION_DUPLICATED,{to:rt,from:Ze}),ue(Ze,Ze,!0,!1)),(Ye?Promise.resolve(Ye):Y(rt,Ze)).catch(it=>of(it)?of(it,js.NAVIGATION_GUARD_REDIRECT)?it:de(it):K(it,rt,Ze)).then(it=>{if(it){if(of(it,js.NAVIGATION_GUARD_REDIRECT))return R(Mi({replace:ae},C(it.to),{state:typeof it.to=="object"?Mi({},bt,it.to.state):bt,force:ht}),Ke||rt)}else it=j(rt,Ze,!0,ae,bt);return H(rt,Ze,it),it})}function N(Ie,Ke){const Xe=T(Ie,Ke);return Xe?Promise.reject(Xe):Promise.resolve()}function U(Ie){const Ke=Oe.values().next().value;return Ke&&typeof Ke.runWithContext=="function"?Ke.runWithContext(Ie):Ie()}function Y(Ie,Ke){let Xe;const[Ze,bt,ht]=ypt(Ie,Ke);Xe=Uk(Ze.reverse(),"beforeRouteLeave",Ie,Ke);for(const Re of Ze)Re.leaveGuards.forEach(rt=>{Xe.push(Yh(rt,Ie,Ke))});const ae=N.bind(null,Ie,Ke);return Xe.push(ae),$e(Xe).then(()=>{Xe=[];for(const Re of s.list())Xe.push(Yh(Re,Ie,Ke));return Xe.push(ae),$e(Xe)}).then(()=>{Xe=Uk(bt,"beforeRouteUpdate",Ie,Ke);for(const Re of bt)Re.updateGuards.forEach(rt=>{Xe.push(Yh(rt,Ie,Ke))});return Xe.push(ae),$e(Xe)}).then(()=>{Xe=[];for(const Re of ht)if(Re.beforeEnter)if(kc(Re.beforeEnter))for(const rt of Re.beforeEnter)Xe.push(Yh(rt,Ie,Ke));else Xe.push(Yh(Re.beforeEnter,Ie,Ke));return Xe.push(ae),$e(Xe)}).then(()=>(Ie.matched.forEach(Re=>Re.enterCallbacks={}),Xe=Uk(ht,"beforeRouteEnter",Ie,Ke,U),Xe.push(ae),$e(Xe))).then(()=>{Xe=[];for(const Re of a.list())Xe.push(Yh(Re,Ie,Ke));return Xe.push(ae),$e(Xe)}).catch(Re=>of(Re,js.NAVIGATION_CANCELLED)?Re:Promise.reject(Re))}function H(Ie,Ke,Xe){o.list().forEach(Ze=>U(()=>Ze(Ie,Ke,Xe)))}function j(Ie,Ke,Xe,Ze,bt){const ht=T(Ie,Ke);if(ht)return ht;const ae=Ke===Lh,Re=Hg?history.state:{};Xe&&(Ze||ae?i.replace(Ie.fullPath,Mi({scroll:ae&&Re&&Re.scroll},bt)):i.push(Ie.fullPath,bt)),l.value=Ie,ue(Ie,Ke,Xe,ae),de()}let X;function W(){X||(X=i.listen((Ie,Ke,Xe)=>{if(!Ge.listening)return;const Ze=S(Ie),bt=D(Ze,Ge.currentRoute.value);if(bt){R(Mi(bt,{replace:!0,force:!0}),Ze).catch(Tb);return}u=Ze;const ht=l.value;Hg&&cpt(QG(ht.fullPath,Xe.delta),u3()),Y(Ze,ht).catch(ae=>of(ae,js.NAVIGATION_ABORTED|js.NAVIGATION_CANCELLED)?ae:of(ae,js.NAVIGATION_GUARD_REDIRECT)?(R(Mi(C(ae.to),{force:!0}),Ze).then(Re=>{of(Re,js.NAVIGATION_ABORTED|js.NAVIGATION_DUPLICATED)&&!Xe.delta&&Xe.type===LO.pop&&i.go(-1,!1)}).catch(Tb),Promise.reject()):(Xe.delta&&i.go(-Xe.delta,!1),K(ae,Ze,ht))).then(ae=>{ae=ae||j(Ze,ht,!1),ae&&(Xe.delta&&!of(ae,js.NAVIGATION_CANCELLED)?i.go(-Xe.delta,!1):Xe.type===LO.pop&&of(ae,js.NAVIGATION_ABORTED|js.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),H(Ze,ht,ae)}).catch(Tb)}))}let F=c2(),te=c2(),G;function K(Ie,Ke,Xe){de(Ie);const Ze=te.list();return Ze.length?Ze.forEach(bt=>bt(Ie,Ke,Xe)):console.error(Ie),Promise.reject(Ie)}function ee(){return G&&l.value!==Lh?Promise.resolve():new Promise((Ie,Ke)=>{F.add([Ie,Ke])})}function de(Ie){return G||(G=!Ie,W(),F.list().forEach(([Ke,Xe])=>Ie?Xe(Ie):Ke()),F.reset()),Ie}function ue(Ie,Ke,Xe,Ze){const{scrollBehavior:bt}=t;if(!Hg||!bt)return Promise.resolve();const ht=!Xe&&dpt(QG(Ie.fullPath,0))||(Ze||!Xe)&&history.state&&history.state.scroll||null;return Vn().then(()=>bt(Ie,Ke,ht)).then(ae=>ae&&upt(ae)).catch(ae=>K(ae,Ie,Ke))}const me=Ie=>i.go(Ie);let Ee;const Oe=new Set,Ge={currentRoute:l,listening:!0,addRoute:g,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:_,getRoutes:p,resolve:S,options:t,push:A,replace:P,go:me,back:()=>me(-1),forward:()=>me(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:te.add,isReady:ee,install(Ie){Ie.component("RouterLink",Bpt),Ie.component("RouterView",Hpt),Ie.config.globalProperties.$router=Ge,Object.defineProperty(Ie.config.globalProperties,"$route",{enumerable:!0,get:()=>b(l)}),Hg&&!Ee&&l.value===Lh&&(Ee=!0,A(i.location).catch(Ze=>{}));const Ke={};for(const Ze in Lh)Object.defineProperty(Ke,Ze,{get:()=>l.value[Ze],enumerable:!0});Ie.provide(W5,Ge),Ie.provide(_ue,dE(Ke)),Ie.provide(NO,l);const Xe=Ie.unmount;Oe.add(Ie),Ie.unmount=function(){Oe.delete(Ie),Oe.size<1&&(u=Lh,X&&X(),X=null,l.value=Lh,Ee=!1,G=!1),Xe()}}};function $e(Ie){return Ie.reduce((Ke,Xe)=>Ke.then(()=>U(Xe)),Promise.resolve())}return Ge}const Gpt={path:"/",children:[{path:"kubernetes",name:"kubernetes",component:()=>v2(()=>import("./Kubernetes-caae9ec9.js"),[])},{path:"kibana",name:"kibana",component:()=>v2(()=>import("./Kibana-6a1046a7.js"),[])},{path:"harbor",name:"harbor",component:()=>v2(()=>import("./Harbor-fc399fb1.js"),[])},{path:"kafka",name:"kafka",component:()=>v2(()=>import("./Kafka-c52a38d6.js"),[])}]},Wpt=[Gpt],qpt=jpt({history:wpt(),routes:Wpt});if(typeof window<"u"){let t=function(){var e=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML=`<symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-0">
                <ellipse class="nixie-number-part" cx="128" cy="256" rx="115" ry="246" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-1">
                <line class="nixie-number-part" x1="128" y1="10" x2="66" y2="72" />
                <line class="nixie-number-part" x1="128" y1="492" x2="128" y2="10" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-2">
                <path class="nixie-number-part" d="M38.3,66.4C59.3,32,91.7,10,128,10c63.5,0,115,67.5,115,150.7s-51.5,150.7-115,150.7" />
                <path class="nixie-number-part" d="M13,496c0-102,51.5-184.7,115-184.7" />
                <line class="nixie-number-part" x1="13" y1="496" x2="227.3" y2="496" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-3">
                <path class="nixie-number-part" d="M22,410.8c16.8,46.4,57.9,86.3,106,85.9c59.7-0.5,115-63,115-140.6c0-74.1-50.4-126.7-93.5-138.1" />
                <line class="nixie-number-part" x1="149.5" y1="218" x2="243" y2="13" />
                <line class="nixie-number-part" x1="27.3" y1="13" x2="243" y2="13" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-4">
                <line class="nixie-number-part" x1="196.2" y1="13" x2="196.2" y2="496.7" />
                <line class="nixie-number-part" x1="196.2" y1="356.1" x2="22" y2="356.1" />
                <line class="nixie-number-part" x1="196.2" y1="13" x2="22" y2="356.1" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-5">
                <path class="nixie-number-part" d="M38.3,442.6C59.3,477,91.7,499,128,499c63.5,0,115-67.5,115-150.7s-51.5-150.7-115-150.7" />
                <path class="nixie-number-part" d="M13,13c0,102,51.5,184.7,115,184.7" />
                <line class="nixie-number-part" x1="13" y1="13" x2="227.3" y2="13" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-6">
                <circle class="nixie-number-part" cx="128" cy="384" r="115" />
                <line class="nixie-number-part" x1="18.6" y1="348.3" x2="120.2" y2="13" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-7">
                <line class="nixie-number-part" x1="15.5" y1="13" x2="240.5" y2="13" />
                <line class="nixie-number-part" x1="128" y1="496.7" x2="240.5" y2="13" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-8">
                <ellipse class="nixie-number-part" cx="128" cy="129" rx="99.2" ry="116" />
                <ellipse class="nixie-number-part" cx="128" cy="370.8" rx="112.5" ry="125.8" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-9">
                <circle class="nixie-number-part" cx="128" cy="128" r="115" />
                <line class="nixie-number-part" x1="237.4" y1="163.7" x2="135.8" y2="499" />
            </symbol>`,e.insertBefore(n,e.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t()}const Xpt=zOe(),q5=Uq(Fht);q5.use(qpt);q5.use(Xpt);q5.mount("#app");export{Ve as a,Fe as c,kt as d,Rp as f,dr as n,ge as o,Wy as t};
