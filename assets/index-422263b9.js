var cae=Object.defineProperty;var dae=(t,e,r)=>e in t?cae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var dn=(t,e,r)=>(dae(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function HD(t,e){const r=new Set(t.split(","));return e?n=>r.has(n.toLowerCase()):n=>r.has(n)}const ns={},sg=[],Wn=()=>{},fae=()=>!1,QT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),GD=t=>t.startsWith("onUpdate:"),Zs=Object.assign,WD=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},hae=Object.prototype.hasOwnProperty,Nn=(t,e)=>hae.call(t,e),cr=Array.isArray,og=t=>Ub(t)==="[object Map]",JT=t=>Ub(t)==="[object Set]",pS=t=>Ub(t)==="[object Date]",Fr=t=>typeof t=="function",on=t=>typeof t=="string",Lh=t=>typeof t=="symbol",En=t=>t!==null&&typeof t=="object",qD=t=>(En(t)||Fr(t))&&Fr(t.then)&&Fr(t.catch),oG=Object.prototype.toString,Ub=t=>oG.call(t),dw=t=>Ub(t).slice(8,-1),mS=t=>Ub(t)==="[object Object]",XD=t=>on(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ny=HD(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),eE=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},pae=/-(\w)/g,nc=eE(t=>t.replace(pae,(e,r)=>r?r.toUpperCase():"")),mae=/\B([A-Z])/g,Kh=eE(t=>t.replace(mae,"-$1").toLowerCase()),Vb=eE(t=>t.charAt(0).toUpperCase()+t.slice(1)),fw=eE(t=>t?`on${Vb(t)}`:""),Fh=(t,e)=>!Object.is(t,e),hw=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},gS=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},kP=t=>{const e=parseFloat(t);return isNaN(e)?t:e},gae=t=>{const e=on(t)?Number(t):NaN;return isNaN(e)?t:e};let A5;const aG=()=>A5||(A5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sn(t){if(cr(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=on(n)?bae(n):sn(n);if(i)for(const s in i)e[s]=i[s]}return e}else if(on(t)||En(t))return t}const vae=/;(?![^(]*\))/g,_ae=/:([^]+)/,yae=/\/\*[^]*?\*\//g;function bae(t){const e={};return t.replace(yae,"").split(vae).forEach(r=>{if(r){const n=r.split(_ae);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ee(t){let e="";if(on(t))e=t;else if(cr(t))for(let r=0;r<t.length;r++){const n=Ee(t[r]);n&&(e+=n+" ")}else if(En(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const xae="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wae=HD(xae);function lG(t){return!!t||t===""}function Sae(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=Dg(t[n],e[n]);return r}function Dg(t,e){if(t===e)return!0;let r=pS(t),n=pS(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=Lh(t),n=Lh(e),r||n)return t===e;if(r=cr(t),n=cr(e),r||n)return r&&n?Sae(t,e):!1;if(r=En(t),n=En(e),r||n){if(!r||!n)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Dg(t[o],e[o]))return!1}}return String(t)===String(e)}function uG(t,e){return t.findIndex(r=>Dg(r,e))}const hr=t=>on(t)?t:t==null?"":cr(t)||En(t)&&(t.toString===oG||!Fr(t.toString))?JSON.stringify(t,cG,2):String(t),cG=(t,e)=>e&&e.__v_isRef?cG(t,e.value):og(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],s)=>(r[rA(n,s)+" =>"]=i,r),{})}:JT(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>rA(r))}:Lh(e)?rA(e):En(e)&&!cr(e)&&!mS(e)?String(e):e,rA=(t,e="")=>{var r;return Lh(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ml;class dG{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ml,!e&&ml&&(this.index=(ml.scopes||(ml.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=ml;try{return ml=this,e()}finally{ml=r}}}on(){ml=this}off(){ml=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Tae(t){return new dG(t)}function Eae(t,e=ml){e&&e.active&&e.effects.push(t)}function fG(){return ml}function hG(t){ml&&ml.cleanups.push(t)}let _0;class YD{constructor(e,r,n,i){this.fn=e,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Eae(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,rm();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(Cae(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),nm()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Ah,r=_0;try{return Ah=!0,_0=this,this._runnings++,P5(this),this.fn()}finally{k5(this),this._runnings--,_0=r,Ah=e}}stop(){var e;this.active&&(P5(this),k5(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Cae(t){return t.value}function P5(t){t._trackId++,t._depsLength=0}function k5(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)pG(t.deps[e],t);t.deps.length=t._depsLength}}function pG(t,e){const r=t.get(e);r!==void 0&&e._trackId!==r&&(t.delete(e),t.size===0&&t.cleanup())}let Ah=!0,IP=0;const mG=[];function rm(){mG.push(Ah),Ah=!1}function nm(){const t=mG.pop();Ah=t===void 0?!0:t}function KD(){IP++}function ZD(){for(IP--;!IP&&OP.length;)OP.shift()()}function gG(t,e,r){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&pG(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const OP=[];function vG(t,e,r){KD();for(const n of t.keys()){let i;n._dirtyLevel<e&&(i??(i=t.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=e),n._shouldSchedule&&(i??(i=t.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&OP.push(n.scheduler)))}ZD()}const _G=(t,e)=>{const r=new Map;return r.cleanup=t,r.computed=e,r},vS=new WeakMap,y0=Symbol(""),DP=Symbol("");function tl(t,e,r){if(Ah&&_0){let n=vS.get(t);n||vS.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=_G(()=>n.delete(r))),gG(_0,i)}}function of(t,e,r,n,i,s){const o=vS.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(r==="length"&&cr(t)){const l=Number(n);o.forEach((u,d)=>{(d==="length"||!Lh(d)&&d>=l)&&a.push(u)})}else switch(r!==void 0&&a.push(o.get(r)),e){case"add":cr(t)?XD(r)&&a.push(o.get("length")):(a.push(o.get(y0)),og(t)&&a.push(o.get(DP)));break;case"delete":cr(t)||(a.push(o.get(y0)),og(t)&&a.push(o.get(DP)));break;case"set":og(t)&&a.push(o.get(y0));break}KD();for(const l of a)l&&vG(l,4);ZD()}function Aae(t,e){var r;return(r=vS.get(t))==null?void 0:r.get(e)}const Pae=HD("__proto__,__v_isRef,__isVue"),yG=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Lh)),I5=kae();function kae(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=Hn(this);for(let s=0,o=this.length;s<o;s++)tl(n,"get",s+"");const i=n[e](...r);return i===-1||i===!1?n[e](...r.map(Hn)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){rm(),KD();const n=Hn(this)[e].apply(this,r);return ZD(),nm(),n}}),t}function Iae(t){const e=Hn(this);return tl(e,"has",t),e.hasOwnProperty(t)}class bG{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?jae:TG:s?SG:wG).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=cr(e);if(!i){if(o&&Nn(I5,r))return Reflect.get(I5,r,n);if(r==="hasOwnProperty")return Iae}const a=Reflect.get(e,r,n);return(Lh(r)?yG.has(r):Pae(r))||(i||tl(e,"get",r),s)?a:Kr(a)?o&&XD(r)?a:a.value:En(a)?i?kv(a):vn(a):a}}class xG extends bG{constructor(e=!1){super(!1,e)}set(e,r,n,i){let s=e[r];if(!this._isShallow){const l=Mg(s);if(!_S(n)&&!Mg(n)&&(s=Hn(s),n=Hn(n)),!cr(e)&&Kr(s)&&!Kr(n))return l?!1:(s.value=n,!0)}const o=cr(e)&&XD(r)?Number(r)<e.length:Nn(e,r),a=Reflect.set(e,r,n,i);return e===Hn(i)&&(o?Fh(n,s)&&of(e,"set",r,n):of(e,"add",r,n)),a}deleteProperty(e,r){const n=Nn(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&of(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!Lh(r)||!yG.has(r))&&tl(e,"has",r),n}ownKeys(e){return tl(e,"iterate",cr(e)?"length":y0),Reflect.ownKeys(e)}}class Oae extends bG{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Dae=new xG,Mae=new Oae,Rae=new xG(!0),QD=t=>t,tE=t=>Reflect.getPrototypeOf(t);function P1(t,e,r=!1,n=!1){t=t.__v_raw;const i=Hn(t),s=Hn(e);r||(Fh(e,s)&&tl(i,"get",e),tl(i,"get",s));const{has:o}=tE(i),a=n?QD:r?rM:S2;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function k1(t,e=!1){const r=this.__v_raw,n=Hn(r),i=Hn(t);return e||(Fh(t,i)&&tl(n,"has",t),tl(n,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function I1(t,e=!1){return t=t.__v_raw,!e&&tl(Hn(t),"iterate",y0),Reflect.get(t,"size",t)}function O5(t){t=Hn(t);const e=Hn(this);return tE(e).has.call(e,t)||(e.add(t),of(e,"add",t,t)),this}function D5(t,e){e=Hn(e);const r=Hn(this),{has:n,get:i}=tE(r);let s=n.call(r,t);s||(t=Hn(t),s=n.call(r,t));const o=i.call(r,t);return r.set(t,e),s?Fh(e,o)&&of(r,"set",t,e):of(r,"add",t,e),this}function M5(t){const e=Hn(this),{has:r,get:n}=tE(e);let i=r.call(e,t);i||(t=Hn(t),i=r.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return i&&of(e,"delete",t,void 0),s}function R5(){const t=Hn(this),e=t.size!==0,r=t.clear();return e&&of(t,"clear",void 0,void 0),r}function O1(t,e){return function(n,i){const s=this,o=s.__v_raw,a=Hn(o),l=e?QD:t?rM:S2;return!t&&tl(a,"iterate",y0),o.forEach((u,d)=>n.call(i,l(u),l(d),s))}}function D1(t,e,r){return function(...n){const i=this.__v_raw,s=Hn(i),o=og(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...n),d=r?QD:e?rM:S2;return!e&&tl(s,"iterate",l?DP:y0),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function jf(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function $ae(){const t={get(s){return P1(this,s)},get size(){return I1(this)},has:k1,add:O5,set:D5,delete:M5,clear:R5,forEach:O1(!1,!1)},e={get(s){return P1(this,s,!1,!0)},get size(){return I1(this)},has:k1,add:O5,set:D5,delete:M5,clear:R5,forEach:O1(!1,!0)},r={get(s){return P1(this,s,!0)},get size(){return I1(this,!0)},has(s){return k1.call(this,s,!0)},add:jf("add"),set:jf("set"),delete:jf("delete"),clear:jf("clear"),forEach:O1(!0,!1)},n={get(s){return P1(this,s,!0,!0)},get size(){return I1(this,!0)},has(s){return k1.call(this,s,!0)},add:jf("add"),set:jf("set"),delete:jf("delete"),clear:jf("clear"),forEach:O1(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=D1(s,!1,!1),r[s]=D1(s,!0,!1),e[s]=D1(s,!1,!0),n[s]=D1(s,!0,!0)}),[t,r,e,n]}const[Lae,Fae,Nae,Bae]=$ae();function JD(t,e){const r=e?t?Bae:Nae:t?Fae:Lae;return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Nn(r,i)&&i in n?r:n,i,s)}const Uae={get:JD(!1,!1)},Vae={get:JD(!1,!0)},zae={get:JD(!0,!1)},wG=new WeakMap,SG=new WeakMap,TG=new WeakMap,jae=new WeakMap;function Hae(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gae(t){return t.__v_skip||!Object.isExtensible(t)?0:Hae(dw(t))}function vn(t){return Mg(t)?t:tM(t,!1,Dae,Uae,wG)}function eM(t){return tM(t,!1,Rae,Vae,SG)}function kv(t){return tM(t,!0,Mae,zae,TG)}function tM(t,e,r,n,i){if(!En(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=Gae(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return i.set(t,a),a}function ag(t){return Mg(t)?ag(t.__v_raw):!!(t&&t.__v_isReactive)}function Mg(t){return!!(t&&t.__v_isReadonly)}function _S(t){return!!(t&&t.__v_isShallow)}function rE(t){return ag(t)||Mg(t)}function Hn(t){const e=t&&t.__v_raw;return e?Hn(e):t}function yS(t){return Object.isExtensible(t)&&gS(t,"__v_skip",!0),t}const S2=t=>En(t)?vn(t):t,rM=t=>En(t)?kv(t):t;class EG{constructor(e,r,n,i){this.getter=e,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new YD(()=>e(this._value),()=>pw(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=Hn(this);return(!e._cacheable||e.effect.dirty)&&Fh(e._value,e._value=e.effect.run())&&pw(e,4),AG(e),e.effect._dirtyLevel>=2&&pw(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function CG(t,e,r=!1){let n,i;const s=Fr(t);return s?(n=t,i=Wn):(n=t.get,i=t.set),new EG(n,i,s||!i,r)}function AG(t){var e;Ah&&_0&&(t=Hn(t),gG(_0,(e=t.dep)!=null?e:t.dep=_G(()=>t.dep=void 0,t instanceof EG?t:void 0)))}function pw(t,e=4,r){t=Hn(t);const n=t.dep;n&&vG(n,e)}function Kr(t){return!!(t&&t.__v_isRef===!0)}function ye(t){return PG(t,!1)}function wa(t){return PG(t,!0)}function PG(t,e){return Kr(t)?t:new Wae(t,e)}class Wae{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:Hn(e),this._value=r?e:S2(e)}get value(){return AG(this),this._value}set value(e){const r=this.__v_isShallow||_S(e)||Mg(e);e=r?e:Hn(e),Fh(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:S2(e),pw(this,4))}}function y(t){return Kr(t)?t.value:t}const qae={get:(t,e,r)=>y(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Kr(i)&&!Kr(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function kG(t){return ag(t)?t:new Proxy(t,qae)}function gd(t){const e=cr(t)?new Array(t.length):{};for(const r in t)e[r]=IG(t,r);return e}class Xae{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Aae(Hn(this._object),this._key)}}class Yae{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function oo(t,e,r){return Kr(t)?t:Fr(t)?new Yae(t):En(t)&&arguments.length>1?IG(t,e,r):ye(t)}function IG(t,e,r){const n=t[e];return Kr(n)?n:new Xae(t,e,r)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ph(t,e,r,n){try{return n?t(...n):t()}catch(i){nE(i,e,r)}}function su(t,e,r,n){if(Fr(t)){const s=Ph(t,e,r,n);return s&&qD(s)&&s.catch(o=>{nE(o,e,r)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(su(t[s],e,r,n));return i}function nE(t,e,r,n=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const u=s.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Ph(l,null,10,[t,o,a]);return}}Kae(t,r,i,n)}function Kae(t,e,r,n=!0){console.error(t)}let T2=!1,MP=!1;const Qo=[];let Vc=0;const lg=[];let dh=null,e0=0;const OG=Promise.resolve();let nM=null;function Hr(t){const e=nM||OG;return t?e.then(this?t.bind(this):t):e}function Zae(t){let e=Vc+1,r=Qo.length;for(;e<r;){const n=e+r>>>1,i=Qo[n],s=E2(i);s<t||s===t&&i.pre?e=n+1:r=n}return e}function iM(t){(!Qo.length||!Qo.includes(t,T2&&t.allowRecurse?Vc+1:Vc))&&(t.id==null?Qo.push(t):Qo.splice(Zae(t.id),0,t),DG())}function DG(){!T2&&!MP&&(MP=!0,nM=OG.then(RG))}function Qae(t){const e=Qo.indexOf(t);e>Vc&&Qo.splice(e,1)}function Jae(t){cr(t)?lg.push(...t):(!dh||!dh.includes(t,t.allowRecurse?e0+1:e0))&&lg.push(t),DG()}function $5(t,e,r=T2?Vc+1:0){for(;r<Qo.length;r++){const n=Qo[r];if(n&&n.pre){if(t&&n.id!==t.uid)continue;Qo.splice(r,1),r--,n()}}}function MG(t){if(lg.length){const e=[...new Set(lg)].sort((r,n)=>E2(r)-E2(n));if(lg.length=0,dh){dh.push(...e);return}for(dh=e,e0=0;e0<dh.length;e0++)dh[e0]();dh=null,e0=0}}const E2=t=>t.id==null?1/0:t.id,ele=(t,e)=>{const r=E2(t)-E2(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function RG(t){MP=!1,T2=!0,Qo.sort(ele);const e=Wn;try{for(Vc=0;Vc<Qo.length;Vc++){const r=Qo[Vc];r&&r.active!==!1&&Ph(r,null,14)}}finally{Vc=0,Qo.length=0,MG(),T2=!1,nM=null,(Qo.length||lg.length)&&RG()}}function tle(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||ns;let i=r;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in n){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=n[d]||ns;h&&(i=r.map(g=>on(g)?g.trim():g)),f&&(i=r.map(kP))}let a,l=n[a=fw(e)]||n[a=fw(nc(e))];!l&&s&&(l=n[a=fw(Kh(e))]),l&&su(l,t,6,i);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,su(u,t,6,i)}}function $G(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Fr(t)){const l=u=>{const d=$G(u,e,!0);d&&(a=!0,Zs(o,d))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(En(t)&&n.set(t,null),null):(cr(s)?s.forEach(l=>o[l]=null):Zs(o,s),En(t)&&n.set(t,o),o)}function iE(t,e){return!t||!QT(e)?!1:(e=e.slice(2).replace(/Once$/,""),Nn(t,e[0].toLowerCase()+e.slice(1))||Nn(t,Kh(e))||Nn(t,e))}let ao=null,sE=null;function bS(t){const e=ao;return ao=t,sE=t&&t.type.__scopeId||null,e}function LG(t){sE=t}function FG(){sE=null}function ne(t,e=ao,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&Y5(-1);const s=bS(e);let o;try{o=t(...i)}finally{bS(s),n._d&&Y5(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function nA(t){const{type:e,vnode:r,proxy:n,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:d,renderCache:f,data:h,setupState:g,ctx:p,inheritAttrs:v}=t;let b,S;const T=bS(t);try{if(r.shapeFlag&4){const C=i||n,P=C;b=Lc(d.call(P,C,f,s,g,h,p)),S=l}else{const C=e;b=Lc(C.length>1?C(s,{attrs:l,slots:a,emit:u}):C(s,null)),S=e.props?l:rle(l)}}catch(C){jy.length=0,nE(C,t,1),b=N(Za)}let E=b;if(S&&v!==!1){const C=Object.keys(S),{shapeFlag:P}=E;C.length&&P&7&&(o&&C.some(GD)&&(S=nle(S,o)),E=mf(E,S))}return r.dirs&&(E=mf(E),E.dirs=E.dirs?E.dirs.concat(r.dirs):r.dirs),r.transition&&(E.transition=r.transition),b=E,bS(T),b}const rle=t=>{let e;for(const r in t)(r==="class"||r==="style"||QT(r))&&((e||(e={}))[r]=t[r]);return e},nle=(t,e)=>{const r={};for(const n in t)(!GD(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function ile(t,e,r){const{props:n,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?L5(n,o,u):!!o;if(l&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(o[h]!==n[h]&&!iE(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?L5(n,o,u):!0:!!o;return!1}function L5(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!iE(r,s))return!0}return!1}function sle({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const sM="components",ole="directives";function qn(t,e){return aM(sM,t,!0,e)||t}const NG=Symbol.for("v-ndc");function vi(t){return on(t)?aM(sM,t,!1)||t:t||NG}function oM(t){return aM(ole,t)}function aM(t,e,r=!0,n=!1){const i=ao||Bo;if(i){const s=i.type;if(t===sM){const a=Kle(s,!1);if(a&&(a===e||a===nc(e)||a===Vb(nc(e))))return s}const o=F5(i[t]||s[t],e)||F5(i.appContext[t],e);return!o&&n?s:o}}function F5(t,e){return t&&(t[e]||t[nc(e)]||t[Vb(nc(e))])}const ale=t=>t.__isSuspense;function lle(t,e){e&&e.pendingBranch?cr(t)?e.effects.push(...t):e.effects.push(t):Jae(t)}const ule=Symbol.for("v-scx"),cle=()=>Mr(ule);function qu(t,e){return lM(t,null,e)}const M1={};function Gt(t,e,r){return lM(t,e,r)}function lM(t,e,{immediate:r,deep:n,flush:i,once:s,onTrack:o,onTrigger:a}=ns){if(e&&s){const D=e;e=(...L)=>{D(...L),P()}}const l=Bo,u=D=>n===!0?D:o0(D,n===!1?1:void 0);let d,f=!1,h=!1;if(Kr(t)?(d=()=>t.value,f=_S(t)):ag(t)?(d=()=>u(t),f=!0):cr(t)?(h=!0,f=t.some(D=>ag(D)||_S(D)),d=()=>t.map(D=>{if(Kr(D))return D.value;if(ag(D))return u(D);if(Fr(D))return Ph(D,l,2)})):Fr(t)?e?d=()=>Ph(t,l,2):d=()=>(g&&g(),su(t,l,3,[p])):d=Wn,e&&n){const D=d;d=()=>o0(D())}let g,p=D=>{g=E.onStop=()=>{Ph(D,l,4),g=E.onStop=void 0}},v;if(dE)if(p=Wn,e?r&&su(e,l,3,[d(),h?[]:void 0,p]):d(),i==="sync"){const D=cle();v=D.__watcherHandles||(D.__watcherHandles=[])}else return Wn;let b=h?new Array(t.length).fill(M1):M1;const S=()=>{if(!(!E.active||!E.dirty))if(e){const D=E.run();(n||f||(h?D.some((L,j)=>Fh(L,b[j])):Fh(D,b)))&&(g&&g(),su(e,l,3,[D,b===M1?void 0:h&&b[0]===M1?[]:b,p]),b=D)}else E.run()};S.allowRecurse=!!e;let T;i==="sync"?T=S:i==="post"?T=()=>Ba(S,l&&l.suspense):(S.pre=!0,l&&(S.id=l.uid),T=()=>iM(S));const E=new YD(d,Wn,T),C=fG(),P=()=>{E.stop(),C&&WD(C.effects,E)};return e?r?S():b=E.run():i==="post"?Ba(E.run.bind(E),l&&l.suspense):E.run(),v&&v.push(P),P}function dle(t,e,r){const n=this.proxy,i=on(t)?t.includes(".")?BG(n,t):()=>n[t]:t.bind(n,n);let s;Fr(e)?s=e:(s=e.handler,r=e);const o=zb(this),a=lM(i,s.bind(n),r);return o(),a}function BG(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function o0(t,e,r=0,n){if(!En(t)||t.__v_skip)return t;if(e&&e>0){if(r>=e)return t;r++}if(n=n||new Set,n.has(t))return t;if(n.add(t),Kr(t))o0(t.value,e,r,n);else if(cr(t))for(let i=0;i<t.length;i++)o0(t[i],e,r,n);else if(JT(t)||og(t))t.forEach(i=>{o0(i,e,r,n)});else if(mS(t))for(const i in t)o0(t[i],e,r,n);return t}function xn(t,e){if(ao===null)return t;const r=fE(ao)||ao.proxy,n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=ns]=e[i];s&&(Fr(s)&&(s={mounted:s,updated:s}),s.deep&&o0(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Sp(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[n];l&&(rm(),su(l,r,8,[t.el,a,t,e]),nm())}}const fh=Symbol("_leaveCb"),R1=Symbol("_enterCb");function UG(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Un(()=>{t.isMounted=!0}),Vs(()=>{t.isUnmounting=!0}),t}const Ul=[Function,Array],VG={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ul,onEnter:Ul,onAfterEnter:Ul,onEnterCancelled:Ul,onBeforeLeave:Ul,onLeave:Ul,onAfterLeave:Ul,onLeaveCancelled:Ul,onBeforeAppear:Ul,onAppear:Ul,onAfterAppear:Ul,onAppearCancelled:Ul},fle={name:"BaseTransition",props:VG,setup(t,{slots:e}){const r=kn(),n=UG();return()=>{const i=e.default&&uM(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const h of i)if(h.type!==Za){s=h;break}}const o=Hn(t),{mode:a}=o;if(n.isLeaving)return iA(s);const l=N5(s);if(!l)return iA(s);const u=C2(l,o,n,r);A2(l,u);const d=r.subTree,f=d&&N5(d);if(f&&f.type!==Za&&!t0(l,f)){const h=C2(f,o,n,r);if(A2(f,h),a==="out-in")return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},iA(s);a==="in-out"&&l.type!==Za&&(h.delayLeave=(g,p,v)=>{const b=zG(n,f);b[String(f.key)]=f,g[fh]=()=>{p(),g[fh]=void 0,delete u.delayedLeave},u.delayedLeave=v})}return s}}},hle=fle;function zG(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function C2(t,e,r,n){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:g,onLeaveCancelled:p,onBeforeAppear:v,onAppear:b,onAfterAppear:S,onAppearCancelled:T}=e,E=String(t.key),C=zG(r,t),P=(j,te)=>{j&&su(j,n,9,te)},D=(j,te)=>{const se=te[1];P(j,te),cr(j)?j.every(q=>q.length<=1)&&se():j.length<=1&&se()},L={mode:s,persisted:o,beforeEnter(j){let te=a;if(!r.isMounted)if(i)te=v||a;else return;j[fh]&&j[fh](!0);const se=C[E];se&&t0(t,se)&&se.el[fh]&&se.el[fh](),P(te,[j])},enter(j){let te=l,se=u,q=d;if(!r.isMounted)if(i)te=b||l,se=S||u,q=T||d;else return;let X=!1;const Q=j[R1]=$=>{X||(X=!0,$?P(q,[j]):P(se,[j]),L.delayedLeave&&L.delayedLeave(),j[R1]=void 0)};te?D(te,[j,Q]):Q()},leave(j,te){const se=String(t.key);if(j[R1]&&j[R1](!0),r.isUnmounting)return te();P(f,[j]);let q=!1;const X=j[fh]=Q=>{q||(q=!0,te(),Q?P(p,[j]):P(g,[j]),j[fh]=void 0,C[se]===t&&delete C[se])};C[se]=t,h?D(h,[j,X]):X()},clone(j){return C2(j,e,r,n)}};return L}function iA(t){if(oE(t))return t=mf(t),t.children=null,t}function N5(t){return oE(t)?t.children?t.children[0]:void 0:t}function A2(t,e){t.shapeFlag&6&&t.component?A2(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function uM(t,e=!1,r){let n=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:s);o.type===Ar?(o.patchFlag&128&&i++,n=n.concat(uM(o.children,e,a))):(e||o.type!==Za)&&n.push(a!=null?mf(o,{key:a}):o)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function rt(t,e){return Fr(t)?(()=>Zs({name:t.name},e,{setup:t}))():t}const By=t=>!!t.type.__asyncLoader,oE=t=>t.type.__isKeepAlive;function ple(t,e){HG(t,"a",e)}function jG(t,e){HG(t,"da",e)}function HG(t,e,r=Bo){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(aE(e,n,r),r){let i=r.parent;for(;i&&i.parent;)oE(i.parent.vnode)&&mle(n,e,r,i),i=i.parent}}function mle(t,e,r,n){const i=aE(e,t,n,!0);Qh(()=>{WD(n[e],i)},r)}function aE(t,e,r=Bo,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(r.isUnmounted)return;rm();const a=zb(r),l=su(e,r,t,o);return a(),nm(),l});return n?i.unshift(s):i.push(s),s}}const Tf=t=>(e,r=Bo)=>(!dE||t==="sp")&&aE(t,(...n)=>e(...n),r),lE=Tf("bm"),Un=Tf("m"),GG=Tf("bu"),Zh=Tf("u"),Vs=Tf("bum"),Qh=Tf("um"),gle=Tf("sp"),vle=Tf("rtg"),_le=Tf("rtc");function yle(t,e=Bo){aE("ec",t,e)}function xi(t,e,r,n){let i;const s=r&&r[n];if(cr(t)||on(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(En(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return r&&(r[n]=i),i}function RP(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(cr(n))for(let i=0;i<n.length;i++)t[n[i].name]=n[i].fn;else n&&(t[n.name]=n.key?(...i)=>{const s=n.fn(...i);return s&&(s.key=n.key),s}:n.fn)}return t}function Yt(t,e,r={},n,i){if(ao.isCE||ao.parent&&By(ao.parent)&&ao.parent.isCE)return e!=="default"&&(r.name=e),N("slot",r,n&&n());let s=t[e];s&&s._c&&(s._d=!1),he();const o=s&&WG(s(r)),a=At(Ar,{key:r.key||o&&o.key||`_${e}`},o||(n?n():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function WG(t){return t.some(e=>rl(e)?!(e.type===Za||e.type===Ar&&!WG(e.children)):!0)?t:null}function ble(t,e){const r={};for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:fw(n)]=t[n];return r}const $P=t=>t?sW(t)?fE(t)||t.proxy:$P(t.parent):null,Uy=Zs(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$P(t.parent),$root:t=>$P(t.root),$emit:t=>t.emit,$options:t=>cM(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,iM(t.update)}),$nextTick:t=>t.n||(t.n=Hr.bind(t.proxy)),$watch:t=>dle.bind(t)}),sA=(t,e)=>t!==ns&&!t.__isScriptSetup&&Nn(t,e),xle={get({_:t},e){const{ctx:r,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(sA(n,e))return o[e]=1,n[e];if(i!==ns&&Nn(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Nn(u,e))return o[e]=3,s[e];if(r!==ns&&Nn(r,e))return o[e]=4,r[e];LP&&(o[e]=0)}}const d=Uy[e];let f,h;if(d)return e==="$attrs"&&tl(t,"get",e),d(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==ns&&Nn(r,e))return o[e]=4,r[e];if(h=l.config.globalProperties,Nn(h,e))return h[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return sA(i,e)?(i[e]=r,!0):n!==ns&&Nn(n,e)?(n[e]=r,!0):Nn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s}},o){let a;return!!r[o]||t!==ns&&Nn(t,o)||sA(e,o)||(a=s[0])&&Nn(a,o)||Nn(n,o)||Nn(Uy,o)||Nn(i.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Nn(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Ml(){return qG().slots}function Iv(){return qG().attrs}function qG(){const t=kn();return t.setupContext||(t.setupContext=aW(t))}function B5(t){return cr(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let LP=!0;function wle(t){const e=cM(t),r=t.proxy,n=t.ctx;LP=!1,e.beforeCreate&&U5(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:d,beforeMount:f,mounted:h,beforeUpdate:g,updated:p,activated:v,deactivated:b,beforeDestroy:S,beforeUnmount:T,destroyed:E,unmounted:C,render:P,renderTracked:D,renderTriggered:L,errorCaptured:j,serverPrefetch:te,expose:se,inheritAttrs:q,components:X,directives:Q,filters:$}=e;if(u&&Sle(u,n,null),o)for(const ee in o){const ae=o[ee];Fr(ae)&&(n[ee]=ae.bind(r))}if(i){const ee=i.call(r,r);En(ee)&&(t.data=vn(ee))}if(LP=!0,s)for(const ee in s){const ae=s[ee],H=Fr(ae)?ae.bind(r,r):Fr(ae.get)?ae.get.bind(r,r):Wn,J=!Fr(ae)&&Fr(ae.set)?ae.set.bind(r):Wn,ie=pe({get:H,set:J});Object.defineProperty(n,ee,{enumerable:!0,configurable:!0,get:()=>ie.value,set:xe=>ie.value=xe})}if(a)for(const ee in a)XG(a[ee],n,r,ee);if(l){const ee=Fr(l)?l.call(r):l;Reflect.ownKeys(ee).forEach(ae=>{_i(ae,ee[ae])})}d&&U5(d,t,"c");function Y(ee,ae){cr(ae)?ae.forEach(H=>ee(H.bind(r))):ae&&ee(ae.bind(r))}if(Y(lE,f),Y(Un,h),Y(GG,g),Y(Zh,p),Y(ple,v),Y(jG,b),Y(yle,j),Y(_le,D),Y(vle,L),Y(Vs,T),Y(Qh,C),Y(gle,te),cr(se))if(se.length){const ee=t.exposed||(t.exposed={});se.forEach(ae=>{Object.defineProperty(ee,ae,{get:()=>r[ae],set:H=>r[ae]=H})})}else t.exposed||(t.exposed={});P&&t.render===Wn&&(t.render=P),q!=null&&(t.inheritAttrs=q),X&&(t.components=X),Q&&(t.directives=Q)}function Sle(t,e,r=Wn){cr(t)&&(t=FP(t));for(const n in t){const i=t[n];let s;En(i)?"default"in i?s=Mr(i.from||n,i.default,!0):s=Mr(i.from||n):s=Mr(i),Kr(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function U5(t,e,r){su(cr(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function XG(t,e,r,n){const i=n.includes(".")?BG(r,n):()=>r[n];if(on(t)){const s=e[t];Fr(s)&&Gt(i,s)}else if(Fr(t))Gt(i,t.bind(r));else if(En(t))if(cr(t))t.forEach(s=>XG(s,e,r,n));else{const s=Fr(t.handler)?t.handler.bind(r):e[t.handler];Fr(s)&&Gt(i,s,t)}}function cM(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!r&&!n?l=e:(l={},i.length&&i.forEach(u=>xS(l,u,o,!0)),xS(l,e,o)),En(e)&&s.set(e,l),l}function xS(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&xS(t,s,r,!0),i&&i.forEach(o=>xS(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=Tle[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Tle={data:V5,props:z5,emits:z5,methods:my,computed:my,beforeCreate:da,created:da,beforeMount:da,mounted:da,beforeUpdate:da,updated:da,beforeDestroy:da,beforeUnmount:da,destroyed:da,unmounted:da,activated:da,deactivated:da,errorCaptured:da,serverPrefetch:da,components:my,directives:my,watch:Cle,provide:V5,inject:Ele};function V5(t,e){return e?t?function(){return Zs(Fr(t)?t.call(this,this):t,Fr(e)?e.call(this,this):e)}:e:t}function Ele(t,e){return my(FP(t),FP(e))}function FP(t){if(cr(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function da(t,e){return t?[...new Set([].concat(t,e))]:e}function my(t,e){return t?Zs(Object.create(null),t,e):e}function z5(t,e){return t?cr(t)&&cr(e)?[...new Set([...t,...e])]:Zs(Object.create(null),B5(t),B5(e??{})):e}function Cle(t,e){if(!t)return e;if(!e)return t;const r=Zs(Object.create(null),t);for(const n in e)r[n]=da(t[n],e[n]);return r}function YG(){return{app:null,config:{isNativeTag:fae,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ale=0;function Ple(t,e){return function(n,i=null){Fr(n)||(n=Zs({},n)),i!=null&&!En(i)&&(i=null);const s=YG(),o=new WeakSet;let a=!1;const l=s.app={_uid:Ale++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:lW,get config(){return s.config},set config(u){},use(u,...d){return o.has(u)||(u&&Fr(u.install)?(o.add(u),u.install(l,...d)):Fr(u)&&(o.add(u),u(l,...d))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,d){return d?(s.components[u]=d,l):s.components[u]},directive(u,d){return d?(s.directives[u]=d,l):s.directives[u]},mount(u,d,f){if(!a){const h=N(n,i);return h.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),d&&e?e(h,u):t(h,u,f),a=!0,l._container=u,u.__vue_app__=l,fE(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,d){return s.provides[u]=d,l},runWithContext(u){const d=Vy;Vy=l;try{return u()}finally{Vy=d}}};return l}}let Vy=null;function _i(t,e){if(Bo){let r=Bo.provides;const n=Bo.parent&&Bo.parent.provides;n===r&&(r=Bo.provides=Object.create(n)),r[t]=e}}function Mr(t,e,r=!1){const n=Bo||ao;if(n||Vy){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Vy._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return r&&Fr(e)?e.call(n&&n.proxy):e}}function kle(t,e,r,n=!1){const i={},s={};gS(s,cE,1),t.propsDefaults=Object.create(null),KG(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:eM(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Ile(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Hn(i),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(iE(t.emitsOptions,h))continue;const g=e[h];if(l)if(Nn(s,h))g!==s[h]&&(s[h]=g,u=!0);else{const p=nc(h);i[p]=NP(l,a,p,g,t,!1)}else g!==s[h]&&(s[h]=g,u=!0)}}}else{KG(t,e,i,s)&&(u=!0);let d;for(const f in a)(!e||!Nn(e,f)&&((d=Kh(f))===f||!Nn(e,d)))&&(l?r&&(r[f]!==void 0||r[d]!==void 0)&&(i[f]=NP(l,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!Nn(e,f))&&(delete s[f],u=!0)}u&&of(t,"set","$attrs")}function KG(t,e,r,n){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ny(l))continue;const u=e[l];let d;i&&Nn(i,d=nc(l))?!s||!s.includes(d)?r[d]=u:(a||(a={}))[d]=u:iE(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(s){const l=Hn(r),u=a||ns;for(let d=0;d<s.length;d++){const f=s[d];r[f]=NP(i,l,f,u[f],t,!Nn(u,f))}}return o}function NP(t,e,r,n,i,s){const o=t[r];if(o!=null){const a=Nn(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Fr(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const d=zb(i);n=u[r]=l.call(null,e),d()}}else n=l}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===Kh(r))&&(n=!0))}return n}function ZG(t,e,r=!1){const n=e.propsCache,i=n.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Fr(t)){const d=f=>{l=!0;const[h,g]=ZG(f,e,!0);Zs(o,h),g&&a.push(...g)};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return En(t)&&n.set(t,sg),sg;if(cr(s))for(let d=0;d<s.length;d++){const f=nc(s[d]);j5(f)&&(o[f]=ns)}else if(s)for(const d in s){const f=nc(d);if(j5(f)){const h=s[d],g=o[f]=cr(h)||Fr(h)?{type:h}:Zs({},h);if(g){const p=W5(Boolean,g.type),v=W5(String,g.type);g[0]=p>-1,g[1]=v<0||p<v,(p>-1||Nn(g,"default"))&&a.push(f)}}}const u=[o,a];return En(t)&&n.set(t,u),u}function j5(t){return t[0]!=="$"&&!Ny(t)}function H5(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function G5(t,e){return H5(t)===H5(e)}function W5(t,e){return cr(e)?e.findIndex(r=>G5(r,t)):Fr(e)&&G5(e,t)?0:-1}const QG=t=>t[0]==="_"||t==="$stable",dM=t=>cr(t)?t.map(Lc):[Lc(t)],Ole=(t,e,r)=>{if(e._n)return e;const n=ne((...i)=>dM(e(...i)),r);return n._c=!1,n},JG=(t,e,r)=>{const n=t._ctx;for(const i in t){if(QG(i))continue;const s=t[i];if(Fr(s))e[i]=Ole(i,s,n);else if(s!=null){const o=dM(s);e[i]=()=>o}}},eW=(t,e)=>{const r=dM(e);t.slots.default=()=>r},Dle=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=Hn(e),gS(e,"_",r)):JG(e,t.slots={})}else t.slots={},e&&eW(t,e);gS(t.slots,cE,1)},Mle=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,o=ns;if(n.shapeFlag&32){const a=e._;a?r&&a===1?s=!1:(Zs(i,e),!r&&a===1&&delete i._):(s=!e.$stable,JG(e,i)),o=e}else e&&(eW(t,e),o={default:1});if(s)for(const a in i)!QG(a)&&o[a]==null&&delete i[a]};function BP(t,e,r,n,i=!1){if(cr(t)){t.forEach((h,g)=>BP(h,e&&(cr(e)?e[g]:e),r,n,i));return}if(By(n)&&!i)return;const s=n.shapeFlag&4?fE(n.component)||n.component.proxy:n.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,d=a.refs===ns?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(on(u)?(d[u]=null,Nn(f,u)&&(f[u]=null)):Kr(u)&&(u.value=null)),Fr(l))Ph(l,a,12,[o,d]);else{const h=on(l),g=Kr(l);if(h||g){const p=()=>{if(t.f){const v=h?Nn(f,l)?f[l]:d[l]:l.value;i?cr(v)&&WD(v,s):cr(v)?v.includes(s)||v.push(s):h?(d[l]=[s],Nn(f,l)&&(f[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else h?(d[l]=o,Nn(f,l)&&(f[l]=o)):g&&(l.value=o,t.k&&(d[t.k]=o))};o?(p.id=-1,Ba(p,r)):p()}}}const Ba=lle;function Rle(t){return $le(t)}function $le(t,e){const r=aG();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:d,parentNode:f,nextSibling:h,setScopeId:g=Wn,insertStaticContent:p}=t,v=(le,Oe,nt,Ke=null,ct=null,Ot=null,Dt=void 0,_t=null,Mt=!!Oe.dynamicChildren)=>{if(le===Oe)return;le&&!t0(le,Oe)&&(Ke=Re(le),xe(le,ct,Ot,!0),le=null),Oe.patchFlag===-2&&(Mt=!1,Oe.dynamicChildren=null);const{type:Rt,ref:tt,shapeFlag:Zt}=Oe;switch(Rt){case Ov:b(le,Oe,nt,Ke);break;case Za:S(le,Oe,nt,Ke);break;case aA:le==null&&T(Oe,nt,Ke,Dt);break;case Ar:X(le,Oe,nt,Ke,ct,Ot,Dt,_t,Mt);break;default:Zt&1?P(le,Oe,nt,Ke,ct,Ot,Dt,_t,Mt):Zt&6?Q(le,Oe,nt,Ke,ct,Ot,Dt,_t,Mt):(Zt&64||Zt&128)&&Rt.process(le,Oe,nt,Ke,ct,Ot,Dt,_t,Mt,pt)}tt!=null&&ct&&BP(tt,le&&le.ref,Ot,Oe||le,!Oe)},b=(le,Oe,nt,Ke)=>{if(le==null)n(Oe.el=a(Oe.children),nt,Ke);else{const ct=Oe.el=le.el;Oe.children!==le.children&&u(ct,Oe.children)}},S=(le,Oe,nt,Ke)=>{le==null?n(Oe.el=l(Oe.children||""),nt,Ke):Oe.el=le.el},T=(le,Oe,nt,Ke)=>{[le.el,le.anchor]=p(le.children,Oe,nt,Ke,le.el,le.anchor)},E=({el:le,anchor:Oe},nt,Ke)=>{let ct;for(;le&&le!==Oe;)ct=h(le),n(le,nt,Ke),le=ct;n(Oe,nt,Ke)},C=({el:le,anchor:Oe})=>{let nt;for(;le&&le!==Oe;)nt=h(le),i(le),le=nt;i(Oe)},P=(le,Oe,nt,Ke,ct,Ot,Dt,_t,Mt)=>{Oe.type==="svg"?Dt="svg":Oe.type==="math"&&(Dt="mathml"),le==null?D(Oe,nt,Ke,ct,Ot,Dt,_t,Mt):te(le,Oe,ct,Ot,Dt,_t,Mt)},D=(le,Oe,nt,Ke,ct,Ot,Dt,_t)=>{let Mt,Rt;const{props:tt,shapeFlag:Zt,transition:mt,dirs:Tt}=le;if(Mt=le.el=o(le.type,Ot,tt&&tt.is,tt),Zt&8?d(Mt,le.children):Zt&16&&j(le.children,Mt,null,Ke,ct,oA(le,Ot),Dt,_t),Tt&&Sp(le,null,Ke,"created"),L(Mt,le,le.scopeId,Dt,Ke),tt){for(const Bt in tt)Bt!=="value"&&!Ny(Bt)&&s(Mt,Bt,null,tt[Bt],Ot,le.children,Ke,ct,lt);"value"in tt&&s(Mt,"value",null,tt.value,Ot),(Rt=tt.onVnodeBeforeMount)&&Pc(Rt,Ke,le)}Tt&&Sp(le,null,Ke,"beforeMount");const mr=Lle(ct,mt);mr&&mt.beforeEnter(Mt),n(Mt,Oe,nt),((Rt=tt&&tt.onVnodeMounted)||mr||Tt)&&Ba(()=>{Rt&&Pc(Rt,Ke,le),mr&&mt.enter(Mt),Tt&&Sp(le,null,Ke,"mounted")},ct)},L=(le,Oe,nt,Ke,ct)=>{if(nt&&g(le,nt),Ke)for(let Ot=0;Ot<Ke.length;Ot++)g(le,Ke[Ot]);if(ct){let Ot=ct.subTree;if(Oe===Ot){const Dt=ct.vnode;L(le,Dt,Dt.scopeId,Dt.slotScopeIds,ct.parent)}}},j=(le,Oe,nt,Ke,ct,Ot,Dt,_t,Mt=0)=>{for(let Rt=Mt;Rt<le.length;Rt++){const tt=le[Rt]=_t?hh(le[Rt]):Lc(le[Rt]);v(null,tt,Oe,nt,Ke,ct,Ot,Dt,_t)}},te=(le,Oe,nt,Ke,ct,Ot,Dt)=>{const _t=Oe.el=le.el;let{patchFlag:Mt,dynamicChildren:Rt,dirs:tt}=Oe;Mt|=le.patchFlag&16;const Zt=le.props||ns,mt=Oe.props||ns;let Tt;if(nt&&Tp(nt,!1),(Tt=mt.onVnodeBeforeUpdate)&&Pc(Tt,nt,Oe,le),tt&&Sp(Oe,le,nt,"beforeUpdate"),nt&&Tp(nt,!0),Rt?se(le.dynamicChildren,Rt,_t,nt,Ke,oA(Oe,ct),Ot):Dt||ae(le,Oe,_t,null,nt,Ke,oA(Oe,ct),Ot,!1),Mt>0){if(Mt&16)q(_t,Oe,Zt,mt,nt,Ke,ct);else if(Mt&2&&Zt.class!==mt.class&&s(_t,"class",null,mt.class,ct),Mt&4&&s(_t,"style",Zt.style,mt.style,ct),Mt&8){const mr=Oe.dynamicProps;for(let Bt=0;Bt<mr.length;Bt++){const Ir=mr[Bt],ot=Zt[Ir],_e=mt[Ir];(_e!==ot||Ir==="value")&&s(_t,Ir,ot,_e,ct,le.children,nt,Ke,lt)}}Mt&1&&le.children!==Oe.children&&d(_t,Oe.children)}else!Dt&&Rt==null&&q(_t,Oe,Zt,mt,nt,Ke,ct);((Tt=mt.onVnodeUpdated)||tt)&&Ba(()=>{Tt&&Pc(Tt,nt,Oe,le),tt&&Sp(Oe,le,nt,"updated")},Ke)},se=(le,Oe,nt,Ke,ct,Ot,Dt)=>{for(let _t=0;_t<Oe.length;_t++){const Mt=le[_t],Rt=Oe[_t],tt=Mt.el&&(Mt.type===Ar||!t0(Mt,Rt)||Mt.shapeFlag&70)?f(Mt.el):nt;v(Mt,Rt,tt,null,Ke,ct,Ot,Dt,!0)}},q=(le,Oe,nt,Ke,ct,Ot,Dt)=>{if(nt!==Ke){if(nt!==ns)for(const _t in nt)!Ny(_t)&&!(_t in Ke)&&s(le,_t,nt[_t],null,Dt,Oe.children,ct,Ot,lt);for(const _t in Ke){if(Ny(_t))continue;const Mt=Ke[_t],Rt=nt[_t];Mt!==Rt&&_t!=="value"&&s(le,_t,Rt,Mt,Dt,Oe.children,ct,Ot,lt)}"value"in Ke&&s(le,"value",nt.value,Ke.value,Dt)}},X=(le,Oe,nt,Ke,ct,Ot,Dt,_t,Mt)=>{const Rt=Oe.el=le?le.el:a(""),tt=Oe.anchor=le?le.anchor:a("");let{patchFlag:Zt,dynamicChildren:mt,slotScopeIds:Tt}=Oe;Tt&&(_t=_t?_t.concat(Tt):Tt),le==null?(n(Rt,nt,Ke),n(tt,nt,Ke),j(Oe.children||[],nt,tt,ct,Ot,Dt,_t,Mt)):Zt>0&&Zt&64&&mt&&le.dynamicChildren?(se(le.dynamicChildren,mt,nt,ct,Ot,Dt,_t),(Oe.key!=null||ct&&Oe===ct.subTree)&&fM(le,Oe,!0)):ae(le,Oe,nt,tt,ct,Ot,Dt,_t,Mt)},Q=(le,Oe,nt,Ke,ct,Ot,Dt,_t,Mt)=>{Oe.slotScopeIds=_t,le==null?Oe.shapeFlag&512?ct.ctx.activate(Oe,nt,Ke,Dt,Mt):$(Oe,nt,Ke,ct,Ot,Dt,Mt):V(le,Oe,Mt)},$=(le,Oe,nt,Ke,ct,Ot,Dt)=>{const _t=le.component=Wle(le,Ke,ct);if(oE(le)&&(_t.ctx.renderer=pt),qle(_t),_t.asyncDep){if(ct&&ct.registerDep(_t,Y),!le.el){const Mt=_t.subTree=N(Za);S(null,Mt,Oe,nt)}}else Y(_t,le,Oe,nt,ct,Ot,Dt)},V=(le,Oe,nt)=>{const Ke=Oe.component=le.component;if(ile(le,Oe,nt))if(Ke.asyncDep&&!Ke.asyncResolved){ee(Ke,Oe,nt);return}else Ke.next=Oe,Qae(Ke.update),Ke.effect.dirty=!0,Ke.update();else Oe.el=le.el,Ke.vnode=Oe},Y=(le,Oe,nt,Ke,ct,Ot,Dt)=>{const _t=()=>{if(le.isMounted){let{next:tt,bu:Zt,u:mt,parent:Tt,vnode:mr}=le;{const ze=tW(le);if(ze){tt&&(tt.el=mr.el,ee(le,tt,Dt)),ze.asyncDep.then(()=>{le.isUnmounted||_t()});return}}let Bt=tt,Ir;Tp(le,!1),tt?(tt.el=mr.el,ee(le,tt,Dt)):tt=mr,Zt&&hw(Zt),(Ir=tt.props&&tt.props.onVnodeBeforeUpdate)&&Pc(Ir,Tt,tt,mr),Tp(le,!0);const ot=nA(le),_e=le.subTree;le.subTree=ot,v(_e,ot,f(_e.el),Re(_e),le,ct,Ot),tt.el=ot.el,Bt===null&&sle(le,ot.el),mt&&Ba(mt,ct),(Ir=tt.props&&tt.props.onVnodeUpdated)&&Ba(()=>Pc(Ir,Tt,tt,mr),ct)}else{let tt;const{el:Zt,props:mt}=Oe,{bm:Tt,m:mr,parent:Bt}=le,Ir=By(Oe);if(Tp(le,!1),Tt&&hw(Tt),!Ir&&(tt=mt&&mt.onVnodeBeforeMount)&&Pc(tt,Bt,Oe),Tp(le,!0),Zt&&yt){const ot=()=>{le.subTree=nA(le),yt(Zt,le.subTree,le,ct,null)};Ir?Oe.type.__asyncLoader().then(()=>!le.isUnmounted&&ot()):ot()}else{const ot=le.subTree=nA(le);v(null,ot,nt,Ke,le,ct,Ot),Oe.el=ot.el}if(mr&&Ba(mr,ct),!Ir&&(tt=mt&&mt.onVnodeMounted)){const ot=Oe;Ba(()=>Pc(tt,Bt,ot),ct)}(Oe.shapeFlag&256||Bt&&By(Bt.vnode)&&Bt.vnode.shapeFlag&256)&&le.a&&Ba(le.a,ct),le.isMounted=!0,Oe=nt=Ke=null}},Mt=le.effect=new YD(_t,Wn,()=>iM(Rt),le.scope),Rt=le.update=()=>{Mt.dirty&&Mt.run()};Rt.id=le.uid,Tp(le,!0),Rt()},ee=(le,Oe,nt)=>{Oe.component=le;const Ke=le.vnode.props;le.vnode=Oe,le.next=null,Ile(le,Oe.props,Ke,nt),Mle(le,Oe.children,nt),rm(),$5(le),nm()},ae=(le,Oe,nt,Ke,ct,Ot,Dt,_t,Mt=!1)=>{const Rt=le&&le.children,tt=le?le.shapeFlag:0,Zt=Oe.children,{patchFlag:mt,shapeFlag:Tt}=Oe;if(mt>0){if(mt&128){J(Rt,Zt,nt,Ke,ct,Ot,Dt,_t,Mt);return}else if(mt&256){H(Rt,Zt,nt,Ke,ct,Ot,Dt,_t,Mt);return}}Tt&8?(tt&16&&lt(Rt,ct,Ot),Zt!==Rt&&d(nt,Zt)):tt&16?Tt&16?J(Rt,Zt,nt,Ke,ct,Ot,Dt,_t,Mt):lt(Rt,ct,Ot,!0):(tt&8&&d(nt,""),Tt&16&&j(Zt,nt,Ke,ct,Ot,Dt,_t,Mt))},H=(le,Oe,nt,Ke,ct,Ot,Dt,_t,Mt)=>{le=le||sg,Oe=Oe||sg;const Rt=le.length,tt=Oe.length,Zt=Math.min(Rt,tt);let mt;for(mt=0;mt<Zt;mt++){const Tt=Oe[mt]=Mt?hh(Oe[mt]):Lc(Oe[mt]);v(le[mt],Tt,nt,null,ct,Ot,Dt,_t,Mt)}Rt>tt?lt(le,ct,Ot,!0,!1,Zt):j(Oe,nt,Ke,ct,Ot,Dt,_t,Mt,Zt)},J=(le,Oe,nt,Ke,ct,Ot,Dt,_t,Mt)=>{let Rt=0;const tt=Oe.length;let Zt=le.length-1,mt=tt-1;for(;Rt<=Zt&&Rt<=mt;){const Tt=le[Rt],mr=Oe[Rt]=Mt?hh(Oe[Rt]):Lc(Oe[Rt]);if(t0(Tt,mr))v(Tt,mr,nt,null,ct,Ot,Dt,_t,Mt);else break;Rt++}for(;Rt<=Zt&&Rt<=mt;){const Tt=le[Zt],mr=Oe[mt]=Mt?hh(Oe[mt]):Lc(Oe[mt]);if(t0(Tt,mr))v(Tt,mr,nt,null,ct,Ot,Dt,_t,Mt);else break;Zt--,mt--}if(Rt>Zt){if(Rt<=mt){const Tt=mt+1,mr=Tt<tt?Oe[Tt].el:Ke;for(;Rt<=mt;)v(null,Oe[Rt]=Mt?hh(Oe[Rt]):Lc(Oe[Rt]),nt,mr,ct,Ot,Dt,_t,Mt),Rt++}}else if(Rt>mt)for(;Rt<=Zt;)xe(le[Rt],ct,Ot,!0),Rt++;else{const Tt=Rt,mr=Rt,Bt=new Map;for(Rt=mr;Rt<=mt;Rt++){const Ae=Oe[Rt]=Mt?hh(Oe[Rt]):Lc(Oe[Rt]);Ae.key!=null&&Bt.set(Ae.key,Rt)}let Ir,ot=0;const _e=mt-mr+1;let ze=!1,ke=0;const me=new Array(_e);for(Rt=0;Rt<_e;Rt++)me[Rt]=0;for(Rt=Tt;Rt<=Zt;Rt++){const Ae=le[Rt];if(ot>=_e){xe(Ae,ct,Ot,!0);continue}let Le;if(Ae.key!=null)Le=Bt.get(Ae.key);else for(Ir=mr;Ir<=mt;Ir++)if(me[Ir-mr]===0&&t0(Ae,Oe[Ir])){Le=Ir;break}Le===void 0?xe(Ae,ct,Ot,!0):(me[Le-mr]=Rt+1,Le>=ke?ke=Le:ze=!0,v(Ae,Oe[Le],nt,null,ct,Ot,Dt,_t,Mt),ot++)}const De=ze?Fle(me):sg;for(Ir=De.length-1,Rt=_e-1;Rt>=0;Rt--){const Ae=mr+Rt,Le=Oe[Ae],rr=Ae+1<tt?Oe[Ae+1].el:Ke;me[Rt]===0?v(null,Le,nt,rr,ct,Ot,Dt,_t,Mt):ze&&(Ir<0||Rt!==De[Ir]?ie(Le,nt,rr,2):Ir--)}}},ie=(le,Oe,nt,Ke,ct=null)=>{const{el:Ot,type:Dt,transition:_t,children:Mt,shapeFlag:Rt}=le;if(Rt&6){ie(le.component.subTree,Oe,nt,Ke);return}if(Rt&128){le.suspense.move(Oe,nt,Ke);return}if(Rt&64){Dt.move(le,Oe,nt,pt);return}if(Dt===Ar){n(Ot,Oe,nt);for(let Zt=0;Zt<Mt.length;Zt++)ie(Mt[Zt],Oe,nt,Ke);n(le.anchor,Oe,nt);return}if(Dt===aA){E(le,Oe,nt);return}if(Ke!==2&&Rt&1&&_t)if(Ke===0)_t.beforeEnter(Ot),n(Ot,Oe,nt),Ba(()=>_t.enter(Ot),ct);else{const{leave:Zt,delayLeave:mt,afterLeave:Tt}=_t,mr=()=>n(Ot,Oe,nt),Bt=()=>{Zt(Ot,()=>{mr(),Tt&&Tt()})};mt?mt(Ot,mr,Bt):Bt()}else n(Ot,Oe,nt)},xe=(le,Oe,nt,Ke=!1,ct=!1)=>{const{type:Ot,props:Dt,ref:_t,children:Mt,dynamicChildren:Rt,shapeFlag:tt,patchFlag:Zt,dirs:mt}=le;if(_t!=null&&BP(_t,null,nt,le,!0),tt&256){Oe.ctx.deactivate(le);return}const Tt=tt&1&&mt,mr=!By(le);let Bt;if(mr&&(Bt=Dt&&Dt.onVnodeBeforeUnmount)&&Pc(Bt,Oe,le),tt&6)Je(le.component,nt,Ke);else{if(tt&128){le.suspense.unmount(nt,Ke);return}Tt&&Sp(le,null,Oe,"beforeUnmount"),tt&64?le.type.remove(le,Oe,nt,ct,pt,Ke):Rt&&(Ot!==Ar||Zt>0&&Zt&64)?lt(Rt,Oe,nt,!1,!0):(Ot===Ar&&Zt&384||!ct&&tt&16)&&lt(Mt,Oe,nt),Ke&&qe(le)}(mr&&(Bt=Dt&&Dt.onVnodeUnmounted)||Tt)&&Ba(()=>{Bt&&Pc(Bt,Oe,le),Tt&&Sp(le,null,Oe,"unmounted")},nt)},qe=le=>{const{type:Oe,el:nt,anchor:Ke,transition:ct}=le;if(Oe===Ar){et(nt,Ke);return}if(Oe===aA){C(le);return}const Ot=()=>{i(nt),ct&&!ct.persisted&&ct.afterLeave&&ct.afterLeave()};if(le.shapeFlag&1&&ct&&!ct.persisted){const{leave:Dt,delayLeave:_t}=ct,Mt=()=>Dt(nt,Ot);_t?_t(le.el,Ot,Mt):Mt()}else Ot()},et=(le,Oe)=>{let nt;for(;le!==Oe;)nt=h(le),i(le),le=nt;i(Oe)},Je=(le,Oe,nt)=>{const{bum:Ke,scope:ct,update:Ot,subTree:Dt,um:_t}=le;Ke&&hw(Ke),ct.stop(),Ot&&(Ot.active=!1,xe(Dt,le,Oe,nt)),_t&&Ba(_t,Oe),Ba(()=>{le.isUnmounted=!0},Oe),Oe&&Oe.pendingBranch&&!Oe.isUnmounted&&le.asyncDep&&!le.asyncResolved&&le.suspenseId===Oe.pendingId&&(Oe.deps--,Oe.deps===0&&Oe.resolve())},lt=(le,Oe,nt,Ke=!1,ct=!1,Ot=0)=>{for(let Dt=Ot;Dt<le.length;Dt++)xe(le[Dt],Oe,nt,Ke,ct)},Re=le=>le.shapeFlag&6?Re(le.component.subTree):le.shapeFlag&128?le.suspense.next():h(le.anchor||le.el);let wt=!1;const vt=(le,Oe,nt)=>{le==null?Oe._vnode&&xe(Oe._vnode,null,null,!0):v(Oe._vnode||null,le,Oe,null,null,null,nt),wt||(wt=!0,$5(),MG(),wt=!1),Oe._vnode=le},pt={p:v,um:xe,m:ie,r:qe,mt:$,mc:j,pc:ae,pbc:se,n:Re,o:t};let Ut,yt;return e&&([Ut,yt]=e(pt)),{render:vt,hydrate:Ut,createApp:Ple(vt,Ut)}}function oA({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Tp({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function Lle(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function fM(t,e,r=!1){const n=t.children,i=e.children;if(cr(n)&&cr(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=hh(i[s]),a.el=o.el),r||fM(o,a)),a.type===Ov&&(a.el=o.el)}}function Fle(t){const e=t.slice(),r=[0];let n,i,s,o,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(i=r[r.length-1],t[i]<u){e[n]=i,r.push(n);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,t[r[a]]<u?s=a+1:o=a;u<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}function tW(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:tW(e)}const Nle=t=>t.__isTeleport,zy=t=>t&&(t.disabled||t.disabled===""),q5=t=>typeof SVGElement<"u"&&t instanceof SVGElement,X5=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,UP=(t,e)=>{const r=t&&t.to;return on(r)?e?e(r):null:r},Ble={name:"Teleport",__isTeleport:!0,process(t,e,r,n,i,s,o,a,l,u){const{mc:d,pc:f,pbc:h,o:{insert:g,querySelector:p,createText:v,createComment:b}}=u,S=zy(e.props);let{shapeFlag:T,children:E,dynamicChildren:C}=e;if(t==null){const P=e.el=v(""),D=e.anchor=v("");g(P,r,n),g(D,r,n);const L=e.target=UP(e.props,p),j=e.targetAnchor=v("");L&&(g(j,L),o==="svg"||q5(L)?o="svg":(o==="mathml"||X5(L))&&(o="mathml"));const te=(se,q)=>{T&16&&d(E,se,q,i,s,o,a,l)};S?te(r,D):L&&te(L,j)}else{e.el=t.el;const P=e.anchor=t.anchor,D=e.target=t.target,L=e.targetAnchor=t.targetAnchor,j=zy(t.props),te=j?r:D,se=j?P:L;if(o==="svg"||q5(D)?o="svg":(o==="mathml"||X5(D))&&(o="mathml"),C?(h(t.dynamicChildren,C,te,i,s,o,a),fM(t,e,!0)):l||f(t,e,te,se,i,s,o,a,!1),S)j?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):$1(e,r,P,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const q=e.target=UP(e.props,p);q&&$1(e,q,null,u,0)}else j&&$1(e,D,L,u,1)}rW(e)},remove(t,e,r,n,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:d,target:f,props:h}=t;if(f&&s(d),o&&s(u),a&16){const g=o||!zy(h);for(let p=0;p<l.length;p++){const v=l[p];i(v,e,r,g,!!v.dynamicChildren)}}},move:$1,hydrate:Ule};function $1(t,e,r,{o:{insert:n},m:i},s=2){s===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:l,children:u,props:d}=t,f=s===2;if(f&&n(o,e,r),(!f||zy(d))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,r,2);f&&n(a,e,r)}function Ule(t,e,r,n,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const d=e.target=UP(e.props,l);if(d){const f=d._lpa||d.firstChild;if(e.shapeFlag&16)if(zy(e.props))e.anchor=u(o(t),e,a(t),r,n,i,s),e.targetAnchor=f;else{e.anchor=o(t);let h=f;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(f,e,d,r,n,i,s)}rW(e)}return e.anchor&&o(e.anchor)}const uE=Ble;function rW(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Ar=Symbol.for("v-fgt"),Ov=Symbol.for("v-txt"),Za=Symbol.for("v-cmt"),aA=Symbol.for("v-stc"),jy=[];let zu=null;function he(t=!1){jy.push(zu=t?null:[])}function Vle(){jy.pop(),zu=jy[jy.length-1]||null}let P2=1;function Y5(t){P2+=t}function nW(t){return t.dynamicChildren=P2>0?zu||sg:null,Vle(),P2>0&&zu&&zu.push(t),t}function Ue(t,e,r,n,i,s){return nW(He(t,e,r,n,i,s,!0))}function At(t,e,r,n,i){return nW(N(t,e,r,n,i,!0))}function rl(t){return t?t.__v_isVNode===!0:!1}function t0(t,e){return t.type===e.type&&t.key===e.key}const cE="__vInternal",iW=({key:t})=>t??null,mw=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?on(t)||Kr(t)||Fr(t)?{i:ao,r:t,k:e,f:!!r}:t:null);function He(t,e=null,r=null,n=0,i=null,s=t===Ar?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&iW(e),ref:e&&mw(e),scopeId:sE,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ao};return a?(hM(l,r),s&128&&t.normalize(l)):r&&(l.shapeFlag|=on(r)?8:16),P2>0&&!o&&zu&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&zu.push(l),l}const N=zle;function zle(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===NG)&&(t=Za),rl(t)){const a=mf(t,e,!0);return r&&hM(a,r),P2>0&&!s&&zu&&(a.shapeFlag&6?zu[zu.indexOf(t)]=a:zu.push(a)),a.patchFlag|=-2,a}if(Zle(t)&&(t=t.__vccOpts),e){e=jle(e);let{class:a,style:l}=e;a&&!on(a)&&(e.class=Ee(a)),En(l)&&(rE(l)&&!cr(l)&&(l=Zs({},l)),e.style=sn(l))}const o=on(t)?1:ale(t)?128:Nle(t)?64:En(t)?4:Fr(t)?2:0;return He(t,e,r,n,i,o,s,!0)}function jle(t){return t?rE(t)||cE in t?Zs({},t):t:null}function mf(t,e,r=!1){const{props:n,ref:i,patchFlag:s,children:o}=t,a=e?Eo(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&iW(a),ref:e&&e.ref?r&&i?cr(i)?i.concat(mw(e)):[i,mw(e)]:mw(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ar?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&mf(t.ssContent),ssFallback:t.ssFallback&&mf(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function It(t=" ",e=0){return N(Ov,null,t,e)}function xt(t="",e=!1){return e?(he(),At(Za,null,t)):N(Za,null,t)}function Lc(t){return t==null||typeof t=="boolean"?N(Za):cr(t)?N(Ar,null,t.slice()):typeof t=="object"?hh(t):N(Ov,null,String(t))}function hh(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:mf(t)}function hM(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(cr(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),hM(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!(cE in e)?e._ctx=ao:i===3&&ao&&(ao.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Fr(e)?(e={default:e,_ctx:ao},r=32):(e=String(e),n&64?(r=16,e=[It(e)]):r=8);t.children=e,t.shapeFlag|=r}function Eo(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Ee([e.class,n.class]));else if(i==="style")e.style=sn([e.style,n.style]);else if(QT(i)){const s=e[i],o=n[i];o&&s!==o&&!(cr(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=n[i])}return e}function Pc(t,e,r,n=null){su(t,e,7,[r,n])}const Hle=YG();let Gle=0;function Wle(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||Hle,s={uid:Gle++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new dG(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ZG(n,i),emitsOptions:$G(n,i),emit:null,emitted:null,propsDefaults:ns,inheritAttrs:n.inheritAttrs,ctx:ns,data:ns,props:ns,attrs:ns,slots:ns,refs:ns,setupState:ns,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=tle.bind(null,s),t.ce&&t.ce(s),s}let Bo=null;const kn=()=>Bo||ao;let wS,VP;{const t=aG(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};wS=e("__VUE_INSTANCE_SETTERS__",r=>Bo=r),VP=e("__VUE_SSR_SETTERS__",r=>dE=r)}const zb=t=>{const e=Bo;return wS(t),t.scope.on(),()=>{t.scope.off(),wS(e)}},K5=()=>{Bo&&Bo.scope.off(),wS(null)};function sW(t){return t.vnode.shapeFlag&4}let dE=!1;function qle(t,e=!1){e&&VP(e);const{props:r,children:n}=t.vnode,i=sW(t);kle(t,r,i,e),Dle(t,n);const s=i?Xle(t,e):void 0;return e&&VP(!1),s}function Xle(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=yS(new Proxy(t.ctx,xle));const{setup:n}=r;if(n){const i=t.setupContext=n.length>1?aW(t):null,s=zb(t);rm();const o=Ph(n,t,0,[t.props,i]);if(nm(),s(),qD(o)){if(o.then(K5,K5),e)return o.then(a=>{Z5(t,a,e)}).catch(a=>{nE(a,t,0)});t.asyncDep=o}else Z5(t,o,e)}else oW(t,e)}function Z5(t,e,r){Fr(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:En(e)&&(t.setupState=kG(e)),oW(t,r)}let Q5;function oW(t,e,r){const n=t.type;if(!t.render){if(!e&&Q5&&!n.render){const i=n.template||cM(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,u=Zs(Zs({isCustomElement:s,delimiters:a},o),l);n.render=Q5(i,u)}}t.render=n.render||Wn}{const i=zb(t);rm();try{wle(t)}finally{nm(),i()}}}function Yle(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return tl(t,"get","$attrs"),e[r]}}))}function aW(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return Yle(t)},slots:t.slots,emit:t.emit,expose:e}}function fE(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(kG(yS(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Uy)return Uy[r](t)},has(e,r){return r in e||r in Uy}}))}function Kle(t,e=!0){return Fr(t)?t.displayName||t.name:t.name||e&&t.__name}function Zle(t){return Fr(t)&&"__vccOpts"in t}const pe=(t,e)=>CG(t,e,dE);function Tr(t,e,r){const n=arguments.length;return n===2?En(e)&&!cr(e)?rl(e)?N(t,null,[e]):N(t,e):N(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&rl(r)&&(r=[r]),N(t,e,r))}const lW="3.4.21",Qle=Wn;/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Jle="http://www.w3.org/2000/svg",eue="http://www.w3.org/1998/Math/MathML",ph=typeof document<"u"?document:null,J5=ph&&ph.createElement("template"),tue={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?ph.createElementNS(Jle,t):e==="mathml"?ph.createElementNS(eue,t):ph.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>ph.createTextNode(t),createComment:t=>ph.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ph.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const o=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{J5.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const a=J5.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Hf="transition",h_="animation",Rg=Symbol("_vtc"),sa=(t,{slots:e})=>Tr(hle,cW(t),e);sa.displayName="Transition";const uW={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},rue=sa.props=Zs({},VG,uW),Ep=(t,e=[])=>{cr(t)?t.forEach(r=>r(...e)):t&&t(...e)},eL=t=>t?cr(t)?t.some(e=>e.length>1):t.length>1:!1;function cW(t){const e={};for(const X in t)X in uW||(e[X]=t[X]);if(t.css===!1)return e;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:d=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:g=`${r}-leave-to`}=t,p=nue(i),v=p&&p[0],b=p&&p[1],{onBeforeEnter:S,onEnter:T,onEnterCancelled:E,onLeave:C,onLeaveCancelled:P,onBeforeAppear:D=S,onAppear:L=T,onAppearCancelled:j=E}=e,te=(X,Q,$)=>{ih(X,Q?d:a),ih(X,Q?u:o),$&&$()},se=(X,Q)=>{X._isLeaving=!1,ih(X,f),ih(X,g),ih(X,h),Q&&Q()},q=X=>(Q,$)=>{const V=X?L:T,Y=()=>te(Q,X,$);Ep(V,[Q,Y]),tL(()=>{ih(Q,X?l:s),zd(Q,X?d:a),eL(V)||rL(Q,n,v,Y)})};return Zs(e,{onBeforeEnter(X){Ep(S,[X]),zd(X,s),zd(X,o)},onBeforeAppear(X){Ep(D,[X]),zd(X,l),zd(X,u)},onEnter:q(!1),onAppear:q(!0),onLeave(X,Q){X._isLeaving=!0;const $=()=>se(X,Q);zd(X,f),fW(),zd(X,h),tL(()=>{X._isLeaving&&(ih(X,f),zd(X,g),eL(C)||rL(X,n,b,$))}),Ep(C,[X,$])},onEnterCancelled(X){te(X,!1),Ep(E,[X])},onAppearCancelled(X){te(X,!0),Ep(j,[X])},onLeaveCancelled(X){se(X),Ep(P,[X])}})}function nue(t){if(t==null)return null;if(En(t))return[lA(t.enter),lA(t.leave)];{const e=lA(t);return[e,e]}}function lA(t){return gae(t)}function zd(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Rg]||(t[Rg]=new Set)).add(e)}function ih(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Rg];r&&(r.delete(e),r.size||(t[Rg]=void 0))}function tL(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let iue=0;function rL(t,e,r,n){const i=t._endId=++iue,s=()=>{i===t._endId&&n()};if(r)return setTimeout(s,r);const{type:o,timeout:a,propCount:l}=dW(t,e);if(!o)return n();const u=o+"end";let d=0;const f=()=>{t.removeEventListener(u,h),s()},h=g=>{g.target===t&&++d>=l&&f()};setTimeout(()=>{d<l&&f()},a+1),t.addEventListener(u,h)}function dW(t,e){const r=window.getComputedStyle(t),n=p=>(r[p]||"").split(", "),i=n(`${Hf}Delay`),s=n(`${Hf}Duration`),o=nL(i,s),a=n(`${h_}Delay`),l=n(`${h_}Duration`),u=nL(a,l);let d=null,f=0,h=0;e===Hf?o>0&&(d=Hf,f=o,h=s.length):e===h_?u>0&&(d=h_,f=u,h=l.length):(f=Math.max(o,u),d=f>0?o>u?Hf:h_:null,h=d?d===Hf?s.length:l.length:0);const g=d===Hf&&/\b(transform|all)(,|$)/.test(n(`${Hf}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:g}}function nL(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>iL(r)+iL(t[n])))}function iL(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function fW(){return document.body.offsetHeight}function sue(t,e,r){const n=t[Rg];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const SS=Symbol("_vod"),hW=Symbol("_vsh"),Ci={beforeMount(t,{value:e},{transition:r}){t[SS]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):p_(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),p_(t,!0),n.enter(t)):n.leave(t,()=>{p_(t,!1)}):p_(t,e))},beforeUnmount(t,{value:e}){p_(t,e)}};function p_(t,e){t.style.display=e?t[SS]:"none",t[hW]=!e}const oue=Symbol(""),aue=/(^|;)\s*display\s*:/;function lue(t,e,r){const n=t.style,i=on(r);let s=!1;if(r&&!i){if(e)if(on(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&gw(n,a,"")}else for(const o in e)r[o]==null&&gw(n,o,"");for(const o in r)o==="display"&&(s=!0),gw(n,o,r[o])}else if(i){if(e!==r){const o=n[oue];o&&(r+=";"+o),n.cssText=r,s=aue.test(r)}}else e&&t.removeAttribute("style");SS in t&&(t[SS]=s?n.display:"",t[hW]&&(n.display="none"))}const sL=/\s*!important$/;function gw(t,e,r){if(cr(r))r.forEach(n=>gw(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=uue(t,e);sL.test(r)?t.setProperty(Kh(n),r.replace(sL,""),"important"):t[n]=r}}const oL=["Webkit","Moz","ms"],uA={};function uue(t,e){const r=uA[e];if(r)return r;let n=nc(e);if(n!=="filter"&&n in t)return uA[e]=n;n=Vb(n);for(let i=0;i<oL.length;i++){const s=oL[i]+n;if(s in t)return uA[e]=s}return e}const aL="http://www.w3.org/1999/xlink";function cue(t,e,r,n,i){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(aL,e.slice(6,e.length)):t.setAttributeNS(aL,e,r);else{const s=wae(e);r==null||s&&!lG(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function due(t,e,r,n,i,s,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,i,s),t[e]=r??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,d=r??"";(u!==d||!("_value"in t))&&(t.value=d),r==null&&t.removeAttribute(e),t._value=r;return}let l=!1;if(r===""||r==null){const u=typeof t[e];u==="boolean"?r=lG(r):r==null&&u==="string"?(r="",l=!0):u==="number"&&(r=0,l=!0)}try{t[e]=r}catch{}l&&t.removeAttribute(e)}function _h(t,e,r,n){t.addEventListener(e,r,n)}function fue(t,e,r,n){t.removeEventListener(e,r,n)}const lL=Symbol("_vei");function hue(t,e,r,n,i=null){const s=t[lL]||(t[lL]={}),o=s[e];if(n&&o)o.value=n;else{const[a,l]=pue(e);if(n){const u=s[e]=vue(n,i);_h(t,a,u,l)}else o&&(fue(t,a,o,l),s[e]=void 0)}}const uL=/(?:Once|Passive|Capture)$/;function pue(t){let e;if(uL.test(t)){e={};let n;for(;n=t.match(uL);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Kh(t.slice(2)),e]}let cA=0;const mue=Promise.resolve(),gue=()=>cA||(mue.then(()=>cA=0),cA=Date.now());function vue(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;su(_ue(n,r.value),e,5,[n])};return r.value=t,r.attached=gue(),r}function _ue(t,e){if(cr(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const cL=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,yue=(t,e,r,n,i,s,o,a,l)=>{const u=i==="svg";e==="class"?sue(t,n,u):e==="style"?lue(t,r,n):QT(e)?GD(e)||hue(t,e,r,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):bue(t,e,n,u))?due(t,e,n,s,o,a,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),cue(t,e,n,u))};function bue(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&cL(e)&&Fr(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return cL(e)&&on(r)?!1:e in t}const pW=new WeakMap,mW=new WeakMap,TS=Symbol("_moveCb"),dL=Symbol("_enterCb"),gW={name:"TransitionGroup",props:Zs({},rue,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=kn(),n=UG();let i,s;return Zh(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!Eue(i[0].el,r.vnode.el,o))return;i.forEach(wue),i.forEach(Sue);const a=i.filter(Tue);fW(),a.forEach(l=>{const u=l.el,d=u.style;zd(u,o),d.transform=d.webkitTransform=d.transitionDuration="";const f=u[TS]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",f),u[TS]=null,ih(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=Hn(t),a=cW(o);let l=o.tag||Ar;i=s,s=e.default?uM(e.default()):[];for(let u=0;u<s.length;u++){const d=s[u];d.key!=null&&A2(d,C2(d,a,n,r))}if(i)for(let u=0;u<i.length;u++){const d=i[u];A2(d,C2(d,a,n,r)),pW.set(d,d.el.getBoundingClientRect())}return N(l,null,s)}}},xue=t=>delete t.mode;gW.props;const vW=gW;function wue(t){const e=t.el;e[TS]&&e[TS](),e[dL]&&e[dL]()}function Sue(t){mW.set(t,t.el.getBoundingClientRect())}function Tue(t){const e=pW.get(t),r=mW.get(t),n=e.left-r.left,i=e.top-r.top;if(n||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${n}px,${i}px)`,s.transitionDuration="0s",t}}function Eue(t,e,r){const n=t.cloneNode(),i=t[Rg];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(n);const{hasTransform:o}=dW(n);return s.removeChild(n),o}const $g=t=>{const e=t.props["onUpdate:modelValue"]||!1;return cr(e)?r=>hw(e,r):e};function Cue(t){t.target.composing=!0}function fL(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const af=Symbol("_assign"),_W={created(t,{modifiers:{lazy:e,trim:r,number:n}},i){t[af]=$g(i);const s=n||i.props&&i.props.type==="number";_h(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),s&&(a=kP(a)),t[af](a)}),r&&_h(t,"change",()=>{t.value=t.value.trim()}),e||(_h(t,"compositionstart",Cue),_h(t,"compositionend",fL),_h(t,"change",fL))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:i}},s){if(t[af]=$g(s),t.composing)return;const o=i||t.type==="number"?kP(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(r||n&&t.value.trim()===a)||(t.value=a))}},ES={deep:!0,created(t,e,r){t[af]=$g(r),_h(t,"change",()=>{const n=t._modelValue,i=bW(t),s=t.checked,o=t[af];if(cr(n)){const a=uG(n,i),l=a!==-1;if(s&&!l)o(n.concat(i));else if(!s&&l){const u=[...n];u.splice(a,1),o(u)}}else if(JT(n)){const a=new Set(n);s?a.add(i):a.delete(i),o(a)}else o(xW(t,s))})},mounted:hL,beforeUpdate(t,e,r){t[af]=$g(r),hL(t,e,r)}};function hL(t,{value:e,oldValue:r},n){t._modelValue=e,cr(e)?t.checked=uG(e,n.props.value)>-1:JT(e)?t.checked=e.has(n.props.value):e!==r&&(t.checked=Dg(e,xW(t,!0)))}const yW={created(t,{value:e},r){t.checked=Dg(e,r.props.value),t[af]=$g(r),_h(t,"change",()=>{t[af](bW(t))})},beforeUpdate(t,{value:e,oldValue:r},n){t[af]=$g(n),e!==r&&(t.checked=Dg(e,n.props.value))}};function bW(t){return"_value"in t?t._value:t.value}function xW(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const Aue=["ctrl","shift","alt","meta"],Pue={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Aue.some(r=>t[`${r}Key`]&&!e.includes(r))},yn=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=Pue[e[o]];if(a&&a(i,e))return}return t(i,...s)})},kue={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Zi=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const s=Kh(i.key);if(e.some(o=>o===s||kue[o]===s))return t(i)})},Iue=Zs({patchProp:yue},tue);let pL;function wW(){return pL||(pL=Rle(Iue))}const Nh=(...t)=>{wW().render(...t)},SW=(...t)=>{const e=wW().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=Due(n);if(!i)return;const s=e._component;!Fr(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=r(i,!1,Oue(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Oue(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Due(t){return on(t)?document.querySelector(t):t}const Mue='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Rue=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,mL=t=>Array.from(t.querySelectorAll(Mue)).filter(e=>$ue(e)&&Rue(e)),$ue=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},vw=function(t,e,...r){let n;e.includes("mouse")||e.includes("click")?n="MouseEvents":e.includes("key")?n="KeyboardEvent":n="HTMLEvents";const i=document.createEvent(n);return i.initEvent(e,...r),t.dispatchEvent(i),t},TW=t=>!t.getAttribute("aria-owns"),EW=(t,e,r)=>{const{parentNode:n}=t;if(!n)return null;const i=n.querySelectorAll(r),s=Array.prototype.indexOf.call(i,t);return i[s+e]||null},_w=t=>{t&&(t.focus(),!TW(t)&&t.click())},qd=(t,e,{checkForDefaultPrevented:r=!0}={})=>i=>{const s=t==null?void 0:t(i);if(r===!1||!s)return e==null?void 0:e(i)};var Lue=Object.defineProperty,Fue=Object.defineProperties,Nue=Object.getOwnPropertyDescriptors,gL=Object.getOwnPropertySymbols,Bue=Object.prototype.hasOwnProperty,Uue=Object.prototype.propertyIsEnumerable,vL=(t,e,r)=>e in t?Lue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vue=(t,e)=>{for(var r in e||(e={}))Bue.call(e,r)&&vL(t,r,e[r]);if(gL)for(var r of gL(e))Uue.call(e,r)&&vL(t,r,e[r]);return t},zue=(t,e)=>Fue(t,Nue(e));function _L(t,e){var r;const n=wa();return qu(()=>{n.value=t()},zue(Vue({},e),{flush:(r=e==null?void 0:e.flush)!=null?r:"sync"})),kv(n)}var yL;const $n=typeof window<"u",jue=t=>typeof t<"u",CW=t=>typeof t=="function",Hue=t=>typeof t=="string",Lg=()=>{},Gue=$n&&((yL=window==null?void 0:window.navigator)==null?void 0:yL.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ic(t){return typeof t=="function"?t():y(t)}function pM(t,e){function r(...n){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(i).catch(s)})}return r}const AW=t=>t();function Wue(t,e={}){let r,n,i=Lg;const s=a=>{clearTimeout(a),i(),i=Lg};return a=>{const l=ic(t),u=ic(e.maxWait);return r&&s(r),l<=0||u!==void 0&&u<=0?(n&&(s(n),n=null),Promise.resolve(a())):new Promise((d,f)=>{i=e.rejectOnCancel?f:d,u&&!n&&(n=setTimeout(()=>{r&&s(r),n=null,d(a())},u)),r=setTimeout(()=>{n&&s(n),n=null,d(a())},l)})}}function que(t,e=!0,r=!0,n=!1){let i=0,s,o=!0,a=Lg,l;const u=()=>{s&&(clearTimeout(s),s=void 0,a(),a=Lg)};return f=>{const h=ic(t),g=Date.now()-i,p=()=>l=f();return u(),h<=0?(i=Date.now(),p()):(g>h&&(r||!o)?(i=Date.now(),p()):e&&(l=new Promise((v,b)=>{a=n?b:v,s=setTimeout(()=>{i=Date.now(),o=!0,v(p()),u()},Math.max(0,h-g))})),!r&&!s&&(s=setTimeout(()=>o=!0,h)),o=!1,l)}}function Xue(t=AW){const e=ye(!0);function r(){e.value=!1}function n(){e.value=!0}const i=(...s)=>{e.value&&t(...s)};return{isActive:kv(e),pause:r,resume:n,eventFilter:i}}function Yue(t){return t}function Dv(t){return fG()?(hG(t),!0):!1}function Kue(t,e=200,r={}){return pM(Wue(e,r),t)}function Zue(t,e=200,r={}){const n=ye(t.value),i=Kue(()=>{n.value=t.value},e,r);return Gt(t,()=>i()),n}function Que(t,e=200,r=!1,n=!0,i=!1){return pM(que(e,r,n,i),t)}function Jue(t){return typeof t=="function"?pe(t):ye(t)}function PW(t,e=!0){kn()?Un(t):e?t():Hr(t)}function Fg(t,e,r={}){const{immediate:n=!0}=r,i=ye(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}function a(){i.value=!1,o()}function l(...u){o(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,t(...u)},ic(e))}return n&&(i.value=!0,$n&&l()),Dv(a),{isPending:kv(i),start:l,stop:a}}function ece(t=!1,e={}){const{truthyValue:r=!0,falsyValue:n=!1}=e,i=Kr(t),s=ye(t);function o(a){if(arguments.length)return s.value=a,s.value;{const l=ic(r);return s.value=s.value===l?ic(n):l,s.value}}return i?o:[s,o]}var bL=Object.getOwnPropertySymbols,tce=Object.prototype.hasOwnProperty,rce=Object.prototype.propertyIsEnumerable,nce=(t,e)=>{var r={};for(var n in t)tce.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&bL)for(var n of bL(t))e.indexOf(n)<0&&rce.call(t,n)&&(r[n]=t[n]);return r};function ice(t,e,r={}){const n=r,{eventFilter:i=AW}=n,s=nce(n,["eventFilter"]);return Gt(t,pM(i,e),s)}var sce=Object.defineProperty,oce=Object.defineProperties,ace=Object.getOwnPropertyDescriptors,CS=Object.getOwnPropertySymbols,kW=Object.prototype.hasOwnProperty,IW=Object.prototype.propertyIsEnumerable,xL=(t,e,r)=>e in t?sce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lce=(t,e)=>{for(var r in e||(e={}))kW.call(e,r)&&xL(t,r,e[r]);if(CS)for(var r of CS(e))IW.call(e,r)&&xL(t,r,e[r]);return t},uce=(t,e)=>oce(t,ace(e)),cce=(t,e)=>{var r={};for(var n in t)kW.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&CS)for(var n of CS(t))e.indexOf(n)<0&&IW.call(t,n)&&(r[n]=t[n]);return r};function dce(t,e,r={}){const n=r,{eventFilter:i}=n,s=cce(n,["eventFilter"]),{eventFilter:o,pause:a,resume:l,isActive:u}=Xue(i);return{stop:ice(t,e,uce(lce({},s),{eventFilter:o})),pause:a,resume:l,isActive:u}}function Hc(t){var e;const r=ic(t);return(e=r==null?void 0:r.$el)!=null?e:r}const sc=$n?window:void 0,fce=$n?window.document:void 0;function ks(...t){let e,r,n,i;if(Hue(t[0])||Array.isArray(t[0])?([r,n,i]=t,e=sc):[e,r,n,i]=t,!e)return Lg;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const s=[],o=()=>{s.forEach(d=>d()),s.length=0},a=(d,f,h,g)=>(d.addEventListener(f,h,g),()=>d.removeEventListener(f,h,g)),l=Gt(()=>[Hc(e),ic(i)],([d,f])=>{o(),d&&s.push(...r.flatMap(h=>n.map(g=>a(d,h,g,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return Dv(u),u}let wL=!1;function OW(t,e,r={}){const{window:n=sc,ignore:i=[],capture:s=!0,detectIframe:o=!1}=r;if(!n)return;Gue&&!wL&&(wL=!0,Array.from(n.document.body.children).forEach(h=>h.addEventListener("click",Lg)));let a=!0;const l=h=>i.some(g=>{if(typeof g=="string")return Array.from(n.document.querySelectorAll(g)).some(p=>p===h.target||h.composedPath().includes(p));{const p=Hc(g);return p&&(h.target===p||h.composedPath().includes(p))}}),d=[ks(n,"click",h=>{const g=Hc(t);if(!(!g||g===h.target||h.composedPath().includes(g))){if(h.detail===0&&(a=!l(h)),!a){a=!0;return}e(h)}},{passive:!0,capture:s}),ks(n,"pointerdown",h=>{const g=Hc(t);g&&(a=!h.composedPath().includes(g)&&!l(h))},{passive:!0}),o&&ks(n,"blur",h=>{var g;const p=Hc(t);((g=n.document.activeElement)==null?void 0:g.tagName)==="IFRAME"&&!(p!=null&&p.contains(n.document.activeElement))&&e(h)})].filter(Boolean);return()=>d.forEach(h=>h())}function mM(t,e=!1){const r=ye(),n=()=>r.value=!!t();return n(),PW(n,e),r}function hce(t,e={}){const{window:r=sc}=e,n=mM(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let i;const s=ye(!1),o=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",a):i.removeListener(a))},a=()=>{n.value&&(o(),i=r.matchMedia(Jue(t).value),s.value=i.matches,"addEventListener"in i?i.addEventListener("change",a):i.addListener(a))};return qu(a),Dv(()=>o()),s}function pce(t){return JSON.parse(JSON.stringify(t))}const zP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jP="__vueuse_ssr_handlers__";zP[jP]=zP[jP]||{};const mce=zP[jP];function DW(t,e){return mce[t]||e}function gce(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}var vce=Object.defineProperty,SL=Object.getOwnPropertySymbols,_ce=Object.prototype.hasOwnProperty,yce=Object.prototype.propertyIsEnumerable,TL=(t,e,r)=>e in t?vce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,EL=(t,e)=>{for(var r in e||(e={}))_ce.call(e,r)&&TL(t,r,e[r]);if(SL)for(var r of SL(e))yce.call(e,r)&&TL(t,r,e[r]);return t};const bce={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},CL="vueuse-storage";function xce(t,e,r,n={}){var i;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:d,window:f=sc,eventFilter:h,onError:g=j=>{console.error(j)}}=n,p=(d?wa:ye)(e);if(!r)try{r=DW("getDefaultStorage",()=>{var j;return(j=sc)==null?void 0:j.localStorage})()}catch(j){g(j)}if(!r)return p;const v=ic(e),b=gce(v),S=(i=n.serializer)!=null?i:bce[b],{pause:T,resume:E}=dce(p,()=>C(p.value),{flush:s,deep:o,eventFilter:h});return f&&a&&(ks(f,"storage",L),ks(f,CL,D)),L(),p;function C(j){try{if(j==null)r.removeItem(t);else{const te=S.write(j),se=r.getItem(t);se!==te&&(r.setItem(t,te),f&&f.dispatchEvent(new CustomEvent(CL,{detail:{key:t,oldValue:se,newValue:te,storageArea:r}})))}}catch(te){g(te)}}function P(j){const te=j?j.newValue:r.getItem(t);if(te==null)return l&&v!==null&&r.setItem(t,S.write(v)),v;if(!j&&u){const se=S.read(te);return CW(u)?u(se,v):b==="object"&&!Array.isArray(se)?EL(EL({},v),se):se}else return typeof te!="string"?te:S.read(te)}function D(j){L(j.detail)}function L(j){if(!(j&&j.storageArea!==r)){if(j&&j.key==null){p.value=v;return}if(!(j&&j.key!==t)){T();try{p.value=P(j)}catch(te){g(te)}finally{j?Hr(E):E()}}}}}function MW(t){return hce("(prefers-color-scheme: dark)",t)}var wce=Object.defineProperty,AL=Object.getOwnPropertySymbols,Sce=Object.prototype.hasOwnProperty,Tce=Object.prototype.propertyIsEnumerable,PL=(t,e,r)=>e in t?wce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ece=(t,e)=>{for(var r in e||(e={}))Sce.call(e,r)&&PL(t,r,e[r]);if(AL)for(var r of AL(e))Tce.call(e,r)&&PL(t,r,e[r]);return t};function Cce(t={}){const{selector:e="html",attribute:r="class",initialValue:n="auto",window:i=sc,storage:s,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:l,emitAuto:u}=t,d=Ece({auto:"",light:"light",dark:"dark"},t.modes||{}),f=MW({window:i}),h=pe(()=>f.value?"dark":"light"),g=l||(o==null?ye(n):xce(o,n,s,{window:i,listenToStorageChanges:a})),p=pe({get(){return g.value==="auto"&&!u?h.value:g.value},set(T){g.value=T}}),v=DW("updateHTMLAttrs",(T,E,C)=>{const P=i==null?void 0:i.document.querySelector(T);if(P)if(E==="class"){const D=C.split(/\s/g);Object.values(d).flatMap(L=>(L||"").split(/\s/g)).filter(Boolean).forEach(L=>{D.includes(L)?P.classList.add(L):P.classList.remove(L)})}else P.setAttribute(E,C)});function b(T){var E;const C=T==="auto"?h.value:T;v(e,r,(E=d[C])!=null?E:C)}function S(T){t.onChanged?t.onChanged(T,b):b(T)}return Gt(p,S,{flush:"post",immediate:!0}),u&&Gt(h,()=>S(p.value),{flush:"post"}),PW(()=>S(p.value)),p}function Ace(t,e,{window:r=sc,initialValue:n=""}={}){const i=ye(n),s=pe(()=>{var o;return Hc(e)||((o=r==null?void 0:r.document)==null?void 0:o.documentElement)});return Gt([s,()=>ic(t)],([o,a])=>{var l;if(o&&r){const u=(l=r.getComputedStyle(o).getPropertyValue(a))==null?void 0:l.trim();i.value=u||n}},{immediate:!0}),Gt(i,o=>{var a;(a=s.value)!=null&&a.style&&s.value.style.setProperty(ic(t),o)}),i}var Pce=Object.defineProperty,kce=Object.defineProperties,Ice=Object.getOwnPropertyDescriptors,kL=Object.getOwnPropertySymbols,Oce=Object.prototype.hasOwnProperty,Dce=Object.prototype.propertyIsEnumerable,IL=(t,e,r)=>e in t?Pce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mce=(t,e)=>{for(var r in e||(e={}))Oce.call(e,r)&&IL(t,r,e[r]);if(kL)for(var r of kL(e))Dce.call(e,r)&&IL(t,r,e[r]);return t},Rce=(t,e)=>kce(t,Ice(e));function $ce(t={}){const{valueDark:e="dark",valueLight:r="",window:n=sc}=t,i=Cce(Rce(Mce({},t),{onChanged:(a,l)=>{var u;t.onChanged?(u=t.onChanged)==null||u.call(t,a==="dark"):l(a)},modes:{dark:e,light:r}})),s=MW({window:n});return pe({get(){return i.value==="dark"},set(a){a===s.value?i.value="auto":i.value=a?"dark":"light"}})}function Lce({document:t=fce}={}){if(!t)return ye("visible");const e=ye(t.visibilityState);return ks(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var OL=Object.getOwnPropertySymbols,Fce=Object.prototype.hasOwnProperty,Nce=Object.prototype.propertyIsEnumerable,Bce=(t,e)=>{var r={};for(var n in t)Fce.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&OL)for(var n of OL(t))e.indexOf(n)<0&&Nce.call(t,n)&&(r[n]=t[n]);return r};function Fo(t,e,r={}){const n=r,{window:i=sc}=n,s=Bce(n,["window"]);let o;const a=mM(()=>i&&"ResizeObserver"in i),l=()=>{o&&(o.disconnect(),o=void 0)},u=Gt(()=>Hc(t),f=>{l(),a.value&&i&&f&&(o=new ResizeObserver(e),o.observe(f,s))},{immediate:!0,flush:"post"}),d=()=>{l(),u()};return Dv(d),{isSupported:a,stop:d}}var DL=Object.getOwnPropertySymbols,Uce=Object.prototype.hasOwnProperty,Vce=Object.prototype.propertyIsEnumerable,zce=(t,e)=>{var r={};for(var n in t)Uce.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&DL)for(var n of DL(t))e.indexOf(n)<0&&Vce.call(t,n)&&(r[n]=t[n]);return r};function jce(t,e,r={}){const n=r,{window:i=sc}=n,s=zce(n,["window"]);let o;const a=mM(()=>i&&"MutationObserver"in i),l=()=>{o&&(o.disconnect(),o=void 0)},u=Gt(()=>Hc(t),f=>{l(),a.value&&i&&f&&(o=new MutationObserver(e),o.observe(f,s))},{immediate:!0}),d=()=>{l(),u()};return Dv(d),{isSupported:a,stop:d}}var ML;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(ML||(ML={}));var Hce=Object.defineProperty,RL=Object.getOwnPropertySymbols,Gce=Object.prototype.hasOwnProperty,Wce=Object.prototype.propertyIsEnumerable,$L=(t,e,r)=>e in t?Hce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qce=(t,e)=>{for(var r in e||(e={}))Gce.call(e,r)&&$L(t,r,e[r]);if(RL)for(var r of RL(e))Wce.call(e,r)&&$L(t,r,e[r]);return t};const Xce={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};qce({linear:Yue},Xce);function Yce(t,e,r,n={}){var i,s,o;const{clone:a=!1,passive:l=!1,eventName:u,deep:d=!1,defaultValue:f}=n,h=kn(),g=r||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((o=(s=h==null?void 0:h.proxy)==null?void 0:s.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let p=u;e||(e="modelValue"),p=u||p||`update:${e.toString()}`;const v=S=>a?CW(a)?a(S):pce(S):S,b=()=>jue(t[e])?v(t[e]):f;if(l){const S=b(),T=ye(S);return Gt(()=>t[e],E=>T.value=v(E)),Gt(T,E=>{(E!==t[e]||d)&&g(p,E)},{deep:d}),T}else return pe({get(){return b()},set(S){g(p,S)}})}function Kce({window:t=sc}={}){if(!t)return ye(!1);const e=ye(t.document.hasFocus());return ks(t,"blur",()=>{e.value=!1}),ks(t,"focus",()=>{e.value=!0}),e}const Zce=()=>$n&&/firefox/i.test(window.navigator.userAgent),Qce=(t,e)=>{if(!$n||!t||!e)return!1;const r=t.getBoundingClientRect();let n;return e instanceof Element?n=e.getBoundingClientRect():n={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},r.top<n.bottom&&r.bottom>n.top&&r.right>n.left&&r.left<n.right};var Jce=typeof global=="object"&&global&&global.Object===Object&&global;const RW=Jce;var ede=typeof self=="object"&&self&&self.Object===Object&&self,tde=RW||ede||Function("return this")();const dc=tde;var rde=dc.Symbol;const hu=rde;var $W=Object.prototype,nde=$W.hasOwnProperty,ide=$W.toString,m_=hu?hu.toStringTag:void 0;function sde(t){var e=nde.call(t,m_),r=t[m_];try{t[m_]=void 0;var n=!0}catch{}var i=ide.call(t);return n&&(e?t[m_]=r:delete t[m_]),i}var ode=Object.prototype,ade=ode.toString;function lde(t){return ade.call(t)}var ude="[object Null]",cde="[object Undefined]",LL=hu?hu.toStringTag:void 0;function im(t){return t==null?t===void 0?cde:ude:LL&&LL in Object(t)?sde(t):lde(t)}function od(t){return t!=null&&typeof t=="object"}var dde="[object Symbol]";function hE(t){return typeof t=="symbol"||od(t)&&im(t)==dde}function LW(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var fde=Array.isArray;const Aa=fde;var hde=1/0,FL=hu?hu.prototype:void 0,NL=FL?FL.toString:void 0;function FW(t){if(typeof t=="string")return t;if(Aa(t))return LW(t,FW)+"";if(hE(t))return NL?NL.call(t):"";var e=t+"";return e=="0"&&1/t==-hde?"-0":e}var pde=/\s/;function mde(t){for(var e=t.length;e--&&pde.test(t.charAt(e)););return e}var gde=/^\s+/;function vde(t){return t&&t.slice(0,mde(t)+1).replace(gde,"")}function Pa(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var BL=0/0,_de=/^[-+]0x[0-9a-f]+$/i,yde=/^0b[01]+$/i,bde=/^0o[0-7]+$/i,xde=parseInt;function HP(t){if(typeof t=="number")return t;if(hE(t))return BL;if(Pa(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Pa(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=vde(t);var r=yde.test(t);return r||bde.test(t)?xde(t.slice(2),r?2:8):_de.test(t)?BL:+t}var UL=1/0,wde=17976931348623157e292;function Sde(t){if(!t)return t===0?t:0;if(t=HP(t),t===UL||t===-UL){var e=t<0?-1:1;return e*wde}return t===t?t:0}function Tde(t){var e=Sde(t),r=e%1;return e===e?r?e-r:e:0}function gM(t){return t}var Ede="[object AsyncFunction]",Cde="[object Function]",Ade="[object GeneratorFunction]",Pde="[object Proxy]";function vM(t){if(!Pa(t))return!1;var e=im(t);return e==Cde||e==Ade||e==Ede||e==Pde}var kde=dc["__core-js_shared__"];const dA=kde;var VL=function(){var t=/[^.]+$/.exec(dA&&dA.keys&&dA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ide(t){return!!VL&&VL in t}var Ode=Function.prototype,Dde=Ode.toString;function sm(t){if(t!=null){try{return Dde.call(t)}catch{}try{return t+""}catch{}}return""}var Mde=/[\\^$.*+?()[\]{}|]/g,Rde=/^\[object .+?Constructor\]$/,$de=Function.prototype,Lde=Object.prototype,Fde=$de.toString,Nde=Lde.hasOwnProperty,Bde=RegExp("^"+Fde.call(Nde).replace(Mde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ude(t){if(!Pa(t)||Ide(t))return!1;var e=vM(t)?Bde:Rde;return e.test(sm(t))}function Vde(t,e){return t==null?void 0:t[e]}function om(t,e){var r=Vde(t,e);return Ude(r)?r:void 0}var zde=om(dc,"WeakMap");const GP=zde;var zL=Object.create,jde=function(){function t(){}return function(e){if(!Pa(e))return{};if(zL)return zL(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const Hde=jde;function Gde(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function NW(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Wde=800,qde=16,Xde=Date.now;function Yde(t){var e=0,r=0;return function(){var n=Xde(),i=qde-(n-r);if(r=n,i>0){if(++e>=Wde)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Kde(t){return function(){return t}}var Zde=function(){try{var t=om(Object,"defineProperty");return t({},"",{}),t}catch{}}();const AS=Zde;var Qde=AS?function(t,e){return AS(t,"toString",{configurable:!0,enumerable:!1,value:Kde(e),writable:!0})}:gM;const Jde=Qde;var efe=Yde(Jde);const BW=efe;function tfe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function rfe(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var nfe=9007199254740991,ife=/^(?:0|[1-9]\d*)$/;function pE(t,e){var r=typeof t;return e=e??nfe,!!e&&(r=="number"||r!="symbol"&&ife.test(t))&&t>-1&&t%1==0&&t<e}function _M(t,e,r){e=="__proto__"&&AS?AS(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function jb(t,e){return t===e||t!==t&&e!==e}var sfe=Object.prototype,ofe=sfe.hasOwnProperty;function yM(t,e,r){var n=t[e];(!(ofe.call(t,e)&&jb(n,r))||r===void 0&&!(e in t))&&_M(t,e,r)}function Hb(t,e,r,n){var i=!r;r||(r={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=n?n(r[a],t[a],a,r,t):void 0;l===void 0&&(l=t[a]),i?_M(r,a,l):yM(r,a,l)}return r}var jL=Math.max;function UW(t,e,r){return e=jL(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=jL(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),Gde(t,this,a)}}function afe(t,e){return BW(UW(t,e,gM),t+"")}var lfe=9007199254740991;function bM(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lfe}function Mv(t){return t!=null&&bM(t.length)&&!vM(t)}function ufe(t,e,r){if(!Pa(r))return!1;var n=typeof e;return(n=="number"?Mv(r)&&pE(e,r.length):n=="string"&&e in r)?jb(r[e],t):!1}function cfe(t){return afe(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&ufe(r[0],r[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,s)}return e})}var dfe=Object.prototype;function xM(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||dfe;return t===r}function ffe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var hfe="[object Arguments]";function HL(t){return od(t)&&im(t)==hfe}var VW=Object.prototype,pfe=VW.hasOwnProperty,mfe=VW.propertyIsEnumerable,gfe=HL(function(){return arguments}())?HL:function(t){return od(t)&&pfe.call(t,"callee")&&!mfe.call(t,"callee")};const k2=gfe;function vfe(){return!1}var zW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,GL=zW&&typeof module=="object"&&module&&!module.nodeType&&module,_fe=GL&&GL.exports===zW,WL=_fe?dc.Buffer:void 0,yfe=WL?WL.isBuffer:void 0,bfe=yfe||vfe;const I2=bfe;var xfe="[object Arguments]",wfe="[object Array]",Sfe="[object Boolean]",Tfe="[object Date]",Efe="[object Error]",Cfe="[object Function]",Afe="[object Map]",Pfe="[object Number]",kfe="[object Object]",Ife="[object RegExp]",Ofe="[object Set]",Dfe="[object String]",Mfe="[object WeakMap]",Rfe="[object ArrayBuffer]",$fe="[object DataView]",Lfe="[object Float32Array]",Ffe="[object Float64Array]",Nfe="[object Int8Array]",Bfe="[object Int16Array]",Ufe="[object Int32Array]",Vfe="[object Uint8Array]",zfe="[object Uint8ClampedArray]",jfe="[object Uint16Array]",Hfe="[object Uint32Array]",es={};es[Lfe]=es[Ffe]=es[Nfe]=es[Bfe]=es[Ufe]=es[Vfe]=es[zfe]=es[jfe]=es[Hfe]=!0;es[xfe]=es[wfe]=es[Rfe]=es[Sfe]=es[$fe]=es[Tfe]=es[Efe]=es[Cfe]=es[Afe]=es[Pfe]=es[kfe]=es[Ife]=es[Ofe]=es[Dfe]=es[Mfe]=!1;function Gfe(t){return od(t)&&bM(t.length)&&!!es[im(t)]}function wM(t){return function(e){return t(e)}}var jW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Hy=jW&&typeof module=="object"&&module&&!module.nodeType&&module,Wfe=Hy&&Hy.exports===jW,fA=Wfe&&RW.process,qfe=function(){try{var t=Hy&&Hy.require&&Hy.require("util").types;return t||fA&&fA.binding&&fA.binding("util")}catch{}}();const Ng=qfe;var qL=Ng&&Ng.isTypedArray,Xfe=qL?wM(qL):Gfe;const SM=Xfe;var Yfe=Object.prototype,Kfe=Yfe.hasOwnProperty;function HW(t,e){var r=Aa(t),n=!r&&k2(t),i=!r&&!n&&I2(t),s=!r&&!n&&!i&&SM(t),o=r||n||i||s,a=o?ffe(t.length,String):[],l=a.length;for(var u in t)(e||Kfe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||pE(u,l)))&&a.push(u);return a}function GW(t,e){return function(r){return t(e(r))}}var Zfe=GW(Object.keys,Object);const Qfe=Zfe;var Jfe=Object.prototype,ehe=Jfe.hasOwnProperty;function the(t){if(!xM(t))return Qfe(t);var e=[];for(var r in Object(t))ehe.call(t,r)&&r!="constructor"&&e.push(r);return e}function Gb(t){return Mv(t)?HW(t):the(t)}function rhe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var nhe=Object.prototype,ihe=nhe.hasOwnProperty;function she(t){if(!Pa(t))return rhe(t);var e=xM(t),r=[];for(var n in t)n=="constructor"&&(e||!ihe.call(t,n))||r.push(n);return r}function Wb(t){return Mv(t)?HW(t,!0):she(t)}var ohe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ahe=/^\w*$/;function TM(t,e){if(Aa(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||hE(t)?!0:ahe.test(t)||!ohe.test(t)||e!=null&&t in Object(e)}var lhe=om(Object,"create");const O2=lhe;function uhe(){this.__data__=O2?O2(null):{},this.size=0}function che(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var dhe="__lodash_hash_undefined__",fhe=Object.prototype,hhe=fhe.hasOwnProperty;function phe(t){var e=this.__data__;if(O2){var r=e[t];return r===dhe?void 0:r}return hhe.call(e,t)?e[t]:void 0}var mhe=Object.prototype,ghe=mhe.hasOwnProperty;function vhe(t){var e=this.__data__;return O2?e[t]!==void 0:ghe.call(e,t)}var _he="__lodash_hash_undefined__";function yhe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=O2&&e===void 0?_he:e,this}function $0(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$0.prototype.clear=uhe;$0.prototype.delete=che;$0.prototype.get=phe;$0.prototype.has=vhe;$0.prototype.set=yhe;function bhe(){this.__data__=[],this.size=0}function mE(t,e){for(var r=t.length;r--;)if(jb(t[r][0],e))return r;return-1}var xhe=Array.prototype,whe=xhe.splice;function She(t){var e=this.__data__,r=mE(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():whe.call(e,r,1),--this.size,!0}function The(t){var e=this.__data__,r=mE(e,t);return r<0?void 0:e[r][1]}function Ehe(t){return mE(this.__data__,t)>-1}function Che(t,e){var r=this.__data__,n=mE(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Ef(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ef.prototype.clear=bhe;Ef.prototype.delete=She;Ef.prototype.get=The;Ef.prototype.has=Ehe;Ef.prototype.set=Che;var Ahe=om(dc,"Map");const D2=Ahe;function Phe(){this.size=0,this.__data__={hash:new $0,map:new(D2||Ef),string:new $0}}function khe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function gE(t,e){var r=t.__data__;return khe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Ihe(t){var e=gE(this,t).delete(t);return this.size-=e?1:0,e}function Ohe(t){return gE(this,t).get(t)}function Dhe(t){return gE(this,t).has(t)}function Mhe(t,e){var r=gE(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Cf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Cf.prototype.clear=Phe;Cf.prototype.delete=Ihe;Cf.prototype.get=Ohe;Cf.prototype.has=Dhe;Cf.prototype.set=Mhe;var Rhe="Expected a function";function EM(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Rhe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(EM.Cache||Cf),r}EM.Cache=Cf;var $he=500;function Lhe(t){var e=EM(t,function(n){return r.size===$he&&r.clear(),n}),r=e.cache;return e}var Fhe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nhe=/\\(\\)?/g,Bhe=Lhe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Fhe,function(r,n,i,s){e.push(i?s.replace(Nhe,"$1"):n||r)}),e});const Uhe=Bhe;function Vhe(t){return t==null?"":FW(t)}function vE(t,e){return Aa(t)?t:TM(t,e)?[t]:Uhe(Vhe(t))}var zhe=1/0;function qb(t){if(typeof t=="string"||hE(t))return t;var e=t+"";return e=="0"&&1/t==-zhe?"-0":e}function CM(t,e){e=vE(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[qb(e[r++])];return r&&r==n?t:void 0}function Yl(t,e,r){var n=t==null?void 0:CM(t,e);return n===void 0?r:n}function AM(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var XL=hu?hu.isConcatSpreadable:void 0;function jhe(t){return Aa(t)||k2(t)||!!(XL&&t&&t[XL])}function _E(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=jhe),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?_E(a,e-1,r,n,i):AM(i,a):n||(i[i.length]=a)}return i}function WW(t){var e=t==null?0:t.length;return e?_E(t,1):[]}function Hhe(t){return BW(UW(t,void 0,WW),t+"")}var Ghe=GW(Object.getPrototypeOf,Object);const PM=Ghe;var Whe="[object Object]",qhe=Function.prototype,Xhe=Object.prototype,qW=qhe.toString,Yhe=Xhe.hasOwnProperty,Khe=qW.call(Object);function Zhe(t){if(!od(t)||im(t)!=Whe)return!1;var e=PM(t);if(e===null)return!0;var r=Yhe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&qW.call(r)==Khe}function WP(){if(!arguments.length)return[];var t=arguments[0];return Aa(t)?t:[t]}function Qhe(){this.__data__=new Ef,this.size=0}function Jhe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function epe(t){return this.__data__.get(t)}function tpe(t){return this.__data__.has(t)}var rpe=200;function npe(t,e){var r=this.__data__;if(r instanceof Ef){var n=r.__data__;if(!D2||n.length<rpe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Cf(n)}return r.set(t,e),this.size=r.size,this}function Xu(t){var e=this.__data__=new Ef(t);this.size=e.size}Xu.prototype.clear=Qhe;Xu.prototype.delete=Jhe;Xu.prototype.get=epe;Xu.prototype.has=tpe;Xu.prototype.set=npe;function ipe(t,e){return t&&Hb(e,Gb(e),t)}function spe(t,e){return t&&Hb(e,Wb(e),t)}var XW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,YL=XW&&typeof module=="object"&&module&&!module.nodeType&&module,ope=YL&&YL.exports===XW,KL=ope?dc.Buffer:void 0,ZL=KL?KL.allocUnsafe:void 0;function YW(t,e){if(e)return t.slice();var r=t.length,n=ZL?ZL(r):new t.constructor(r);return t.copy(n),n}function ape(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}function KW(){return[]}var lpe=Object.prototype,upe=lpe.propertyIsEnumerable,QL=Object.getOwnPropertySymbols,cpe=QL?function(t){return t==null?[]:(t=Object(t),ape(QL(t),function(e){return upe.call(t,e)}))}:KW;const kM=cpe;function dpe(t,e){return Hb(t,kM(t),e)}var fpe=Object.getOwnPropertySymbols,hpe=fpe?function(t){for(var e=[];t;)AM(e,kM(t)),t=PM(t);return e}:KW;const ZW=hpe;function ppe(t,e){return Hb(t,ZW(t),e)}function QW(t,e,r){var n=e(t);return Aa(t)?n:AM(n,r(t))}function qP(t){return QW(t,Gb,kM)}function mpe(t){return QW(t,Wb,ZW)}var gpe=om(dc,"DataView");const XP=gpe;var vpe=om(dc,"Promise");const YP=vpe;var _pe=om(dc,"Set");const KP=_pe;var JL="[object Map]",ype="[object Object]",eF="[object Promise]",tF="[object Set]",rF="[object WeakMap]",nF="[object DataView]",bpe=sm(XP),xpe=sm(D2),wpe=sm(YP),Spe=sm(KP),Tpe=sm(GP),Vp=im;(XP&&Vp(new XP(new ArrayBuffer(1)))!=nF||D2&&Vp(new D2)!=JL||YP&&Vp(YP.resolve())!=eF||KP&&Vp(new KP)!=tF||GP&&Vp(new GP)!=rF)&&(Vp=function(t){var e=im(t),r=e==ype?t.constructor:void 0,n=r?sm(r):"";if(n)switch(n){case bpe:return nF;case xpe:return JL;case wpe:return eF;case Spe:return tF;case Tpe:return rF}return e});const M2=Vp;var Epe=Object.prototype,Cpe=Epe.hasOwnProperty;function Ape(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Cpe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Ppe=dc.Uint8Array;const PS=Ppe;function IM(t){var e=new t.constructor(t.byteLength);return new PS(e).set(new PS(t)),e}function kpe(t,e){var r=e?IM(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Ipe=/\w*$/;function Ope(t){var e=new t.constructor(t.source,Ipe.exec(t));return e.lastIndex=t.lastIndex,e}var iF=hu?hu.prototype:void 0,sF=iF?iF.valueOf:void 0;function Dpe(t){return sF?Object(sF.call(t)):{}}function JW(t,e){var r=e?IM(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Mpe="[object Boolean]",Rpe="[object Date]",$pe="[object Map]",Lpe="[object Number]",Fpe="[object RegExp]",Npe="[object Set]",Bpe="[object String]",Upe="[object Symbol]",Vpe="[object ArrayBuffer]",zpe="[object DataView]",jpe="[object Float32Array]",Hpe="[object Float64Array]",Gpe="[object Int8Array]",Wpe="[object Int16Array]",qpe="[object Int32Array]",Xpe="[object Uint8Array]",Ype="[object Uint8ClampedArray]",Kpe="[object Uint16Array]",Zpe="[object Uint32Array]";function Qpe(t,e,r){var n=t.constructor;switch(e){case Vpe:return IM(t);case Mpe:case Rpe:return new n(+t);case zpe:return kpe(t,r);case jpe:case Hpe:case Gpe:case Wpe:case qpe:case Xpe:case Ype:case Kpe:case Zpe:return JW(t,r);case $pe:return new n;case Lpe:case Bpe:return new n(t);case Fpe:return Ope(t);case Npe:return new n;case Upe:return Dpe(t)}}function eq(t){return typeof t.constructor=="function"&&!xM(t)?Hde(PM(t)):{}}var Jpe="[object Map]";function e0e(t){return od(t)&&M2(t)==Jpe}var oF=Ng&&Ng.isMap,t0e=oF?wM(oF):e0e;const r0e=t0e;var n0e="[object Set]";function i0e(t){return od(t)&&M2(t)==n0e}var aF=Ng&&Ng.isSet,s0e=aF?wM(aF):i0e;const o0e=s0e;var a0e=1,l0e=2,u0e=4,tq="[object Arguments]",c0e="[object Array]",d0e="[object Boolean]",f0e="[object Date]",h0e="[object Error]",rq="[object Function]",p0e="[object GeneratorFunction]",m0e="[object Map]",g0e="[object Number]",nq="[object Object]",v0e="[object RegExp]",_0e="[object Set]",y0e="[object String]",b0e="[object Symbol]",x0e="[object WeakMap]",w0e="[object ArrayBuffer]",S0e="[object DataView]",T0e="[object Float32Array]",E0e="[object Float64Array]",C0e="[object Int8Array]",A0e="[object Int16Array]",P0e="[object Int32Array]",k0e="[object Uint8Array]",I0e="[object Uint8ClampedArray]",O0e="[object Uint16Array]",D0e="[object Uint32Array]",Gi={};Gi[tq]=Gi[c0e]=Gi[w0e]=Gi[S0e]=Gi[d0e]=Gi[f0e]=Gi[T0e]=Gi[E0e]=Gi[C0e]=Gi[A0e]=Gi[P0e]=Gi[m0e]=Gi[g0e]=Gi[nq]=Gi[v0e]=Gi[_0e]=Gi[y0e]=Gi[b0e]=Gi[k0e]=Gi[I0e]=Gi[O0e]=Gi[D0e]=!0;Gi[h0e]=Gi[rq]=Gi[x0e]=!1;function Gy(t,e,r,n,i,s){var o,a=e&a0e,l=e&l0e,u=e&u0e;if(r&&(o=i?r(t,n,i,s):r(t)),o!==void 0)return o;if(!Pa(t))return t;var d=Aa(t);if(d){if(o=Ape(t),!a)return NW(t,o)}else{var f=M2(t),h=f==rq||f==p0e;if(I2(t))return YW(t,a);if(f==nq||f==tq||h&&!i){if(o=l||h?{}:eq(t),!a)return l?ppe(t,spe(o,t)):dpe(t,ipe(o,t))}else{if(!Gi[f])return i?t:{};o=Qpe(t,f,a)}}s||(s=new Xu);var g=s.get(t);if(g)return g;s.set(t,o),o0e(t)?t.forEach(function(b){o.add(Gy(b,e,r,b,t,s))}):r0e(t)&&t.forEach(function(b,S){o.set(S,Gy(b,e,r,S,t,s))});var p=u?l?mpe:qP:l?Wb:Gb,v=d?void 0:p(t);return tfe(v||t,function(b,S){v&&(S=b,b=t[S]),yM(o,S,Gy(b,e,r,S,t,s))}),o}var M0e=4;function lF(t){return Gy(t,M0e)}var R0e=1,$0e=4;function kS(t){return Gy(t,R0e|$0e)}var L0e="__lodash_hash_undefined__";function F0e(t){return this.__data__.set(t,L0e),this}function N0e(t){return this.__data__.has(t)}function IS(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Cf;++e<r;)this.add(t[e])}IS.prototype.add=IS.prototype.push=F0e;IS.prototype.has=N0e;function B0e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function U0e(t,e){return t.has(e)}var V0e=1,z0e=2;function iq(t,e,r,n,i,s){var o=r&V0e,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,g=r&z0e?new IS:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var p=t[f],v=e[f];if(n)var b=o?n(v,p,f,e,t,s):n(p,v,f,t,e,s);if(b!==void 0){if(b)continue;h=!1;break}if(g){if(!B0e(e,function(S,T){if(!U0e(g,T)&&(p===S||i(p,S,r,n,s)))return g.push(T)})){h=!1;break}}else if(!(p===v||i(p,v,r,n,s))){h=!1;break}}return s.delete(t),s.delete(e),h}function j0e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function H0e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var G0e=1,W0e=2,q0e="[object Boolean]",X0e="[object Date]",Y0e="[object Error]",K0e="[object Map]",Z0e="[object Number]",Q0e="[object RegExp]",J0e="[object Set]",eme="[object String]",tme="[object Symbol]",rme="[object ArrayBuffer]",nme="[object DataView]",uF=hu?hu.prototype:void 0,hA=uF?uF.valueOf:void 0;function ime(t,e,r,n,i,s,o){switch(r){case nme:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rme:return!(t.byteLength!=e.byteLength||!s(new PS(t),new PS(e)));case q0e:case X0e:case Z0e:return jb(+t,+e);case Y0e:return t.name==e.name&&t.message==e.message;case Q0e:case eme:return t==e+"";case K0e:var a=j0e;case J0e:var l=n&G0e;if(a||(a=H0e),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=W0e,o.set(t,e);var d=iq(a(t),a(e),n,i,s,o);return o.delete(t),d;case tme:if(hA)return hA.call(t)==hA.call(e)}return!1}var sme=1,ome=Object.prototype,ame=ome.hasOwnProperty;function lme(t,e,r,n,i,s){var o=r&sme,a=qP(t),l=a.length,u=qP(e),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=a[f];if(!(o?h in e:ame.call(e,h)))return!1}var g=s.get(t),p=s.get(e);if(g&&p)return g==e&&p==t;var v=!0;s.set(t,e),s.set(e,t);for(var b=o;++f<l;){h=a[f];var S=t[h],T=e[h];if(n)var E=o?n(T,S,h,e,t,s):n(S,T,h,t,e,s);if(!(E===void 0?S===T||i(S,T,r,n,s):E)){v=!1;break}b||(b=h=="constructor")}if(v&&!b){var C=t.constructor,P=e.constructor;C!=P&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof P=="function"&&P instanceof P)&&(v=!1)}return s.delete(t),s.delete(e),v}var ume=1,cF="[object Arguments]",dF="[object Array]",L1="[object Object]",cme=Object.prototype,fF=cme.hasOwnProperty;function dme(t,e,r,n,i,s){var o=Aa(t),a=Aa(e),l=o?dF:M2(t),u=a?dF:M2(e);l=l==cF?L1:l,u=u==cF?L1:u;var d=l==L1,f=u==L1,h=l==u;if(h&&I2(t)){if(!I2(e))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new Xu),o||SM(t)?iq(t,e,r,n,i,s):ime(t,e,l,r,n,i,s);if(!(r&ume)){var g=d&&fF.call(t,"__wrapped__"),p=f&&fF.call(e,"__wrapped__");if(g||p){var v=g?t.value():t,b=p?e.value():e;return s||(s=new Xu),i(v,b,r,n,s)}}return h?(s||(s=new Xu),lme(t,e,r,n,i,s)):!1}function yE(t,e,r,n,i){return t===e?!0:t==null||e==null||!od(t)&&!od(e)?t!==t&&e!==e:dme(t,e,r,n,yE,i)}var fme=1,hme=2;function pme(t,e,r,n){var i=r.length,s=i,o=!n;if(t==null)return!s;for(t=Object(t);i--;){var a=r[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=r[i];var l=a[0],u=t[l],d=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Xu;if(n)var h=n(u,d,l,t,e,f);if(!(h===void 0?yE(d,u,fme|hme,n,f):h))return!1}}return!0}function sq(t){return t===t&&!Pa(t)}function mme(t){for(var e=Gb(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,sq(i)]}return e}function oq(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function gme(t){var e=mme(t);return e.length==1&&e[0][2]?oq(e[0][0],e[0][1]):function(r){return r===t||pme(r,t,e)}}function vme(t,e){return t!=null&&e in Object(t)}function _me(t,e,r){e=vE(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var o=qb(e[n]);if(!(s=t!=null&&r(t,o)))break;t=t[o]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&bM(i)&&pE(o,i)&&(Aa(t)||k2(t)))}function aq(t,e){return t!=null&&_me(t,e,vme)}var yme=1,bme=2;function xme(t,e){return TM(t)&&sq(e)?oq(qb(t),e):function(r){var n=Yl(r,t);return n===void 0&&n===e?aq(r,t):yE(e,n,yme|bme)}}function wme(t){return function(e){return e==null?void 0:e[t]}}function Sme(t){return function(e){return CM(e,t)}}function Tme(t){return TM(t)?wme(qb(t)):Sme(t)}function lq(t){return typeof t=="function"?t:t==null?gM:typeof t=="object"?Aa(t)?xme(t[0],t[1]):gme(t):Tme(t)}function Eme(t){return function(e,r,n){for(var i=-1,s=Object(e),o=n(e),a=o.length;a--;){var l=o[t?a:++i];if(r(s[l],l,s)===!1)break}return e}}var Cme=Eme();const uq=Cme;function Ame(t,e){return t&&uq(t,e,Gb)}function Pme(t,e){return function(r,n){if(r==null)return r;if(!Mv(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=Object(r);(e?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var kme=Pme(Ame);const Ime=kme;var Ome=function(){return dc.Date.now()};const pA=Ome;var Dme="Expected a function",Mme=Math.max,Rme=Math.min;function Bh(t,e,r){var n,i,s,o,a,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Dme);e=HP(e)||0,Pa(r)&&(d=!!r.leading,f="maxWait"in r,s=f?Mme(HP(r.maxWait)||0,e):s,h="trailing"in r?!!r.trailing:h);function g(D){var L=n,j=i;return n=i=void 0,u=D,o=t.apply(j,L),o}function p(D){return u=D,a=setTimeout(S,e),d?g(D):o}function v(D){var L=D-l,j=D-u,te=e-L;return f?Rme(te,s-j):te}function b(D){var L=D-l,j=D-u;return l===void 0||L>=e||L<0||f&&j>=s}function S(){var D=pA();if(b(D))return T(D);a=setTimeout(S,v(D))}function T(D){return a=void 0,h&&n?g(D):(n=i=void 0,o)}function E(){a!==void 0&&clearTimeout(a),u=0,n=l=i=a=void 0}function C(){return a===void 0?o:T(pA())}function P(){var D=pA(),L=b(D);if(n=arguments,i=this,l=D,L){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(S,e),g(l)}return a===void 0&&(a=setTimeout(S,e)),o}return P.cancel=E,P.flush=C,P}function ZP(t,e,r){(r!==void 0&&!jb(t[e],r)||r===void 0&&!(e in t))&&_M(t,e,r)}function $me(t){return od(t)&&Mv(t)}function QP(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Lme(t){return Hb(t,Wb(t))}function Fme(t,e,r,n,i,s,o){var a=QP(t,r),l=QP(e,r),u=o.get(l);if(u){ZP(t,r,u);return}var d=s?s(a,l,r+"",t,e,o):void 0,f=d===void 0;if(f){var h=Aa(l),g=!h&&I2(l),p=!h&&!g&&SM(l);d=l,h||g||p?Aa(a)?d=a:$me(a)?d=NW(a):g?(f=!1,d=YW(l,!0)):p?(f=!1,d=JW(l,!0)):d=[]:Zhe(l)||k2(l)?(d=a,k2(a)?d=Lme(a):(!Pa(a)||vM(a))&&(d=eq(l))):f=!1}f&&(o.set(l,d),i(d,l,n,s,o),o.delete(l)),ZP(t,r,d)}function cq(t,e,r,n,i){t!==e&&uq(e,function(s,o){if(i||(i=new Xu),Pa(s))Fme(t,e,o,r,cq,n,i);else{var a=n?n(QP(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),ZP(t,o,a)}},Wb)}var Nme=Math.max,Bme=Math.min;function Ume(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=n-1;return r!==void 0&&(i=Tde(r),i=r<0?Nme(n+i,0):Bme(i,n-1)),rfe(t,lq(e),i,!0)}function Vme(t,e){var r=-1,n=Mv(t)?Array(t.length):[];return Ime(t,function(i,s,o){n[++r]=e(i,s,o)}),n}function zme(t,e){var r=Aa(t)?LW:Vme;return r(t,lq(e))}function jme(t,e){return _E(zme(t,e),1)}var Hme=1/0;function Gme(t){var e=t==null?0:t.length;return e?_E(t,Hme):[]}function OS(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n}function bl(t,e){return yE(t,e)}function oc(t){return t==null}function dq(t){return t===void 0}var Wme=cfe(function(t,e,r){cq(t,e,r)});const qme=Wme;function fq(t,e,r,n){if(!Pa(t))return t;e=vE(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var l=qb(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var d=a[l];u=n?n(d,l,a):void 0,u===void 0&&(u=Pa(d)?d:pE(e[i+1])?[]:{})}yM(a,l,u),a=a[l]}return t}function Xme(t,e,r){for(var n=-1,i=e.length,s={};++n<i;){var o=e[n],a=CM(t,o);r(a,o)&&fq(s,vE(o,t),a)}return s}function Yme(t,e){return Xme(t,e,function(r,n){return aq(t,n)})}var Kme=Hhe(function(t,e){return t==null?{}:Yme(t,e)});const Zme=Kme;function Qme(t,e,r){return t==null?t:fq(t,e,r)}var Jme="Expected a function";function mA(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Jme);return Pa(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Bh(t,e,{leading:n,maxWait:e,trailing:i})}const Pl=t=>t===void 0,pu=t=>typeof t=="boolean",Yn=t=>typeof t=="number",Kl=t=>!t&&t!==0||cr(t)&&t.length===0||En(t)&&!Object.keys(t).length,mu=t=>typeof Element>"u"?!1:t instanceof Element,R2=t=>oc(t),ege=t=>on(t)?!Number.isNaN(Number(t)):!1,tge=t=>$n?window.requestAnimationFrame(t):setTimeout(t,16),rge=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),zc=t=>Vb(t),JP=t=>Object.keys(t),nge=t=>Object.entries(t),yw=(t,e,r)=>({get value(){return Yl(t,e,r)},set value(n){Qme(t,e,n)}});class ige extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function nl(t,e){throw new ige(`[${t}] ${e}`)}const hq=(t="")=>t.split(" ").filter(e=>!!e.trim()),Zc=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},ju=(t,e)=>{!t||!e.trim()||t.classList.add(...hq(e))},xl=(t,e)=>{!t||!e.trim()||t.classList.remove(...hq(e))},yh=(t,e)=>{var r;if(!$n||!t||!e)return"";let n=nc(e);n==="float"&&(n="cssFloat");try{const i=t.style[n];if(i)return i;const s=(r=document.defaultView)==null?void 0:r.getComputedStyle(t,"");return s?s[n]:""}catch{return t.style[n]}};function ad(t,e="px"){if(!t)return"";if(Yn(t)||ege(t))return`${t}${e}`;if(on(t))return t}const sge=(t,e)=>{if(!$n)return!1;const r={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],n=yh(t,r);return["scroll","auto","overlay"].some(i=>n.includes(i))},oge=(t,e)=>{if(!$n)return;let r=t;for(;r;){if([window,document,document.documentElement].includes(r))return window;if(sge(r,e))return r;r=r.parentNode}return r};let F1;const age=t=>{var e;if(!$n)return 0;if(F1!==void 0)return F1;const r=document.createElement("div");r.className=`${t}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const n=r.offsetWidth;r.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",r.appendChild(i);const s=i.offsetWidth;return(e=r.parentNode)==null||e.removeChild(r),F1=n-s,F1};function pq(t,e){if(!$n)return;if(!e){t.scrollTop=0;return}const r=[];let n=e.offsetParent;for(;n!==null&&t!==n&&t.contains(n);)r.push(n),n=n.offsetParent;const i=e.offsetTop+r.reduce((l,u)=>l+u.offsetTop,0),s=i+e.offsetHeight,o=t.scrollTop,a=o+t.clientHeight;i<o?t.scrollTop=i:s>a&&(t.scrollTop=s-t.clientHeight)}/*! Element Plus Icons Vue v2.3.1 */var lge=rt({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Xb=lge,uge=rt({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),L0=uge,cge=rt({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),ou=cge,dge=rt({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),mq=dge,fge=rt({name:"Calendar",__name:"calendar",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),hge=fge,pge=rt({name:"Check",__name:"check",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),bE=pge,mge=rt({name:"CircleCheck",__name:"circle-check",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),He("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),OM=mge,gge=rt({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),gq=gge,vge=rt({name:"CircleClose",__name:"circle-close",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),He("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Rv=vge,_ge=rt({name:"Clock",__name:"clock",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),He("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),He("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),yge=_ge,bge=rt({name:"Close",__name:"close",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),gf=bge,xge=rt({name:"Coin",__name:"coin",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"m161.92 580.736 29.888 58.88C171.328 659.776 160 681.728 160 704c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 615.808 928 657.664 928 704c0 129.728-188.544 224-416 224S96 833.728 96 704c0-46.592 24.32-88.576 65.92-123.264z"}),He("path",{fill:"currentColor",d:"m161.92 388.736 29.888 58.88C171.328 467.84 160 489.792 160 512c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 423.808 928 465.664 928 512c0 129.728-188.544 224-416 224S96 641.728 96 512c0-46.592 24.32-88.576 65.92-123.264z"}),He("path",{fill:"currentColor",d:"M512 544c-227.456 0-416-94.272-416-224S284.544 96 512 96s416 94.272 416 224-188.544 224-416 224m0-64c196.672 0 352-77.696 352-160S708.672 160 512 160s-352 77.696-352 160 155.328 160 352 160"})]))}}),hF=xge,wge=rt({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),Bg=wge,Sge=rt({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Ug=Sge,Tge=rt({name:"Delete",__name:"delete",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),Ege=Tge,Cge=rt({name:"Document",__name:"document",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),Age=Cge,Pge=rt({name:"Expand",__name:"expand",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M128 192h768v128H128zm0 256h512v128H128zm0 256h768v128H128zm576-352 192 160-192 128z"})]))}}),kge=Pge,Ige=rt({name:"Fold",__name:"fold",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M896 192H128v128h768zm0 256H384v128h512zm0 256H128v128h768zM320 384 128 512l192 128z"})]))}}),Oge=Ige,Dge=rt({name:"FullScreen",__name:"full-screen",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),Mge=Dge,Rge=rt({name:"Hide",__name:"hide",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),He("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),$ge=Rge,Lge=rt({name:"InfoFilled",__name:"info-filled",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),vq=Lge,Fge=rt({name:"Iphone",__name:"iphone",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96zm304-144a48 48 0 1 1-96 0 48 48 0 0 1 96 0"})]))}}),Nge=Fge,Bge=rt({name:"Loading",__name:"loading",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Yb=Bge,Uge=rt({name:"Menu",__name:"menu",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z"})]))}}),Vge=Uge,zge=rt({name:"MessageBox",__name:"message-box",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M288 384h448v64H288zm96-128h256v64H384zM131.456 512H384v128h256V512h252.544L721.856 192H302.144zM896 576H704v128H320V576H128v256h768zM275.776 128h472.448a32 32 0 0 1 28.608 17.664l179.84 359.552A32 32 0 0 1 960 519.552V864a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V519.552a32 32 0 0 1 3.392-14.336l179.776-359.552A32 32 0 0 1 275.776 128z"})]))}}),jge=zge,Hge=rt({name:"Message",__name:"message",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M128 224v512a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V224zm0-64h768a64 64 0 0 1 64 64v512a128 128 0 0 1-128 128H192A128 128 0 0 1 64 736V224a64 64 0 0 1 64-64"}),He("path",{fill:"currentColor",d:"M904 224 656.512 506.88a192 192 0 0 1-289.024 0L120 224zm-698.944 0 210.56 240.704a128 128 0 0 0 192.704 0L818.944 224H205.056"})]))}}),pF=Hge,Gge=rt({name:"MoreFilled",__name:"more-filled",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),mF=Gge,Wge=rt({name:"More",__name:"more",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),qge=Wge,Xge=rt({name:"Operation",__name:"operation",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64z"})]))}}),Yge=Xge,Kge=rt({name:"Platform",__name:"platform",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M448 832v-64h128v64h192v64H256v-64zM128 704V128h768v576z"})]))}}),Zge=Kge,Qge=rt({name:"Plus",__name:"plus",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),_q=Qge,Jge=rt({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),eve=Jge,tve=rt({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),rve=tve,nve=rt({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),ive=nve,sve=rt({name:"Search",__name:"search",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),ove=sve,ave=rt({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),yq=ave,lve=rt({name:"SwitchButton",__name:"switch-button",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"}),He("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32"})]))}}),uve=lve,cve=rt({name:"Timer",__name:"timer",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M512 896a320 320 0 1 0 0-640 320 320 0 0 0 0 640m0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768"}),He("path",{fill:"currentColor",d:"M512 320a32 32 0 0 1 32 32l-.512 224a32 32 0 1 1-64 0L480 352a32 32 0 0 1 32-32"}),He("path",{fill:"currentColor",d:"M448 576a64 64 0 1 0 128 0 64 64 0 1 0-128 0m96-448v128h-64V128h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64z"})]))}}),dve=cve,fve=rt({name:"UploadFilled",__name:"upload-filled",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6z"})]))}}),hve=fve,pve=rt({name:"UserFilled",__name:"user-filled",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0m544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"})]))}}),mve=pve,gve=rt({name:"View",__name:"view",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),vve=gve,_ve=rt({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),DM=_ve,yve=rt({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),bq=yve,bve=rt({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,r)=>(he(),Ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[He("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),xve=bve;const xq="__epPropKey",Vt=t=>t,wve=t=>En(t)&&!!t[xq],xE=(t,e)=>{if(!En(t)||wve(t))return t;const{values:r,required:n,default:i,type:s,validator:o}=t,l={type:s,required:!!n,validator:r||o?u=>{let d=!1,f=[];if(r&&(f=Array.from(r),Nn(t,"default")&&f.push(i),d||(d=f.includes(u))),o&&(d||(d=o(u))),!d&&f.length>0){const h=[...new Set(f)].map(g=>JSON.stringify(g)).join(", ");Qle(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${h}], got value ${JSON.stringify(u)}.`)}return d}:void 0,[xq]:!0};return Nn(t,"default")&&(l.default=i),l},Or=t=>OS(Object.entries(t).map(([e,r])=>[e,xE(r,e)])),Ys=Vt([String,Object,Function]),wq={Close:gf},Sq={Close:gf,SuccessFilled:yq,InfoFilled:vq,WarningFilled:DM,CircleCloseFilled:gq},Vg={success:yq,warning:DM,error:gq,info:vq},Tq={validating:Yb,success:OM,error:Rv},$i=(t,e)=>{if(t.install=r=>{for(const n of[t,...Object.values(e??{})])r.component(n.name,n)},e)for(const[r,n]of Object.entries(e))t[r]=n;return t},Eq=(t,e)=>(t.install=r=>{t._context=r._context,r.config.globalProperties[e]=t},t),ko=t=>(t.install=Wn,t),Sve=(...t)=>e=>{t.forEach(r=>{Fr(r)?r(e):r.value=e})},Xr={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Tve=["year","years","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Li="update:modelValue",vf="change",Jh=["","default","small","large"],Eve=t=>["",...Jh].includes(t);var bw=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(bw||{});const Wy=t=>{const e=cr(t)?t:[t],r=[];return e.forEach(n=>{var i;cr(n)?r.push(...Wy(n)):rl(n)&&cr(n.children)?r.push(...Wy(n.children)):(r.push(n),rl(n)&&((i=n.component)!=null&&i.subTree)&&r.push(...Wy(n.component.subTree)))}),r},gF=t=>[...new Set(t)],gl=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],MM=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),xo=t=>t,Cve=["class","style"],Ave=/^on[A-Z]/,Cq=(t={})=>{const{excludeListeners:e=!1,excludeKeys:r}=t,n=pe(()=>((r==null?void 0:r.value)||[]).concat(Cve)),i=kn();return pe(i?()=>{var s;return OS(Object.entries((s=i.proxy)==null?void 0:s.$attrs).filter(([o])=>!n.value.includes(o)&&!(e&&Ave.test(o))))}:()=>({}))},b0=({from:t,replacement:e,scope:r,version:n,ref:i,type:s="API"},o)=>{Gt(()=>y(o),a=>{},{immediate:!0})},Aq=(t,e,r,n)=>{let i={offsetX:0,offsetY:0};const s=l=>{const u=l.clientX,d=l.clientY,{offsetX:f,offsetY:h}=i,g=t.value.getBoundingClientRect(),p=g.left,v=g.top,b=g.width,S=g.height,T=document.documentElement.clientWidth,E=document.documentElement.clientHeight,C=-p+f,P=-v+h,D=T-p-b+f,L=E-v-S+h,j=se=>{let q=f+se.clientX-u,X=h+se.clientY-d;n!=null&&n.value||(q=Math.min(Math.max(q,C),D),X=Math.min(Math.max(X,P),L)),i={offsetX:q,offsetY:X},t.value&&(t.value.style.transform=`translate(${ad(q)}, ${ad(X)})`)},te=()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",te)};document.addEventListener("mousemove",j),document.addEventListener("mouseup",te)},o=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",s)},a=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",s)};Un(()=>{qu(()=>{r.value?o():a()})}),Vs(()=>{a()})};var Pve={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const kve=t=>(e,r)=>Ive(e,r,y(t)),Ive=(t,e,r)=>Yl(r,t,t).replace(/\{(\w+)\}/g,(n,i)=>{var s;return`${(s=e==null?void 0:e[i])!=null?s:`{${i}}`}`}),Ove=t=>{const e=pe(()=>y(t).name),r=Kr(t)?t:ye(t);return{lang:e,locale:r,t:kve(t)}},Pq=Symbol("localeContextKey"),Ti=t=>{const e=t||Mr(Pq,ye());return Ove(pe(()=>e.value||Pve))},qy="el",Dve="is-",Cp=(t,e,r,n,i)=>{let s=`${t}-${e}`;return r&&(s+=`-${r}`),n&&(s+=`__${n}`),i&&(s+=`--${i}`),s},kq=Symbol("namespaceContextKey"),RM=t=>{const e=t||(kn()?Mr(kq,ye(qy)):ye(qy));return pe(()=>y(e)||qy)},sr=(t,e)=>{const r=RM(e);return{namespace:r,b:(v="")=>Cp(r.value,t,v,"",""),e:v=>v?Cp(r.value,t,"",v,""):"",m:v=>v?Cp(r.value,t,"","",v):"",be:(v,b)=>v&&b?Cp(r.value,t,v,b,""):"",em:(v,b)=>v&&b?Cp(r.value,t,"",v,b):"",bm:(v,b)=>v&&b?Cp(r.value,t,v,"",b):"",bem:(v,b,S)=>v&&b&&S?Cp(r.value,t,v,b,S):"",is:(v,...b)=>{const S=b.length>=1?b[0]:!0;return v&&S?`${Dve}${v}`:""},cssVar:v=>{const b={};for(const S in v)v[S]&&(b[`--${r.value}-${S}`]=v[S]);return b},cssVarName:v=>`--${r.value}-${v}`,cssVarBlock:v=>{const b={};for(const S in v)v[S]&&(b[`--${r.value}-${t}-${S}`]=v[S]);return b},cssVarBlockName:v=>`--${r.value}-${t}-${v}`}},Iq=(t,e={})=>{Kr(t)||nl("[useLockscreen]","You need to pass a ref param to this function");const r=e.ns||sr("popup"),n=CG(()=>r.bm("parent","hidden"));if(!$n||Zc(document.body,n.value))return;let i=0,s=!1,o="0";const a=()=>{setTimeout(()=>{xl(document==null?void 0:document.body,n.value),s&&document&&(document.body.style.width=o)},200)};Gt(t,l=>{if(!l){a();return}s=!Zc(document.body,n.value),s&&(o=document.body.style.width),i=age(r.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,d=yh(document.body,"overflowY");i>0&&(u||d==="scroll")&&s&&(document.body.style.width=`calc(100% - ${i}px)`),ju(document.body,n.value)}),hG(()=>a())},Mve=xE({type:Vt(Boolean),default:null}),Rve=xE({type:Vt(Function)}),Oq=t=>{const e=`update:${t}`,r=`onUpdate:${t}`,n=[e],i={[t]:Mve,[r]:Rve};return{useModelToggle:({indicator:o,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:d,onHide:f})=>{const h=kn(),{emit:g}=h,p=h.props,v=pe(()=>Fr(p[r])),b=pe(()=>p[t]===null),S=L=>{o.value!==!0&&(o.value=!0,a&&(a.value=L),Fr(d)&&d(L))},T=L=>{o.value!==!1&&(o.value=!1,a&&(a.value=L),Fr(f)&&f(L))},E=L=>{if(p.disabled===!0||Fr(u)&&!u())return;const j=v.value&&$n;j&&g(e,!0),(b.value||!j)&&S(L)},C=L=>{if(p.disabled===!0||!$n)return;const j=v.value&&$n;j&&g(e,!1),(b.value||!j)&&T(L)},P=L=>{pu(L)&&(p.disabled&&L?v.value&&g(e,!1):o.value!==L&&(L?S():T()))},D=()=>{o.value?C():E()};return Gt(()=>p[t],P),l&&h.appContext.config.globalProperties.$route!==void 0&&Gt(()=>({...h.proxy.$route}),()=>{l.value&&o.value&&C()}),Un(()=>{P(p[t])}),{hide:C,show:E,toggle:D,hasUpdateHandler:v}},useModelToggleProps:i,useModelToggleEmits:n}};Oq("modelValue");const Dq=t=>{const e=kn();return pe(()=>{var r,n;return(n=(r=e==null?void 0:e.proxy)==null?void 0:r.$props)==null?void 0:n[t]})};var Qa="top",gu="bottom",vu="right",Ja="left",$M="auto",Kb=[Qa,gu,vu,Ja],zg="start",$2="end",$ve="clippingParents",Mq="viewport",g_="popper",Lve="reference",vF=Kb.reduce(function(t,e){return t.concat([e+"-"+zg,e+"-"+$2])},[]),wE=[].concat(Kb,[$M]).reduce(function(t,e){return t.concat([e,e+"-"+zg,e+"-"+$2])},[]),Fve="beforeRead",Nve="read",Bve="afterRead",Uve="beforeMain",Vve="main",zve="afterMain",jve="beforeWrite",Hve="write",Gve="afterWrite",Wve=[Fve,Nve,Bve,Uve,Vve,zve,jve,Hve,Gve];function ld(t){return t?(t.nodeName||"").toLowerCase():null}function fc(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function jg(t){var e=fc(t).Element;return t instanceof e||t instanceof Element}function au(t){var e=fc(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function LM(t){if(typeof ShadowRoot>"u")return!1;var e=fc(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function qve(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!au(s)||!ld(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Xve(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=o.reduce(function(l,u){return l[u]="",l},{});!au(i)||!ld(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var Rq={name:"applyStyles",enabled:!0,phase:"write",fn:qve,effect:Xve,requires:["computeStyles"]};function Qc(t){return t.split("-")[0]}var x0=Math.max,DS=Math.min,Hg=Math.round;function Gg(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),n=1,i=1;if(au(t)&&e){var s=t.offsetHeight,o=t.offsetWidth;o>0&&(n=Hg(r.width)/o||1),s>0&&(i=Hg(r.height)/s||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function FM(t){var e=Gg(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function $q(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&LM(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function _f(t){return fc(t).getComputedStyle(t)}function Yve(t){return["table","td","th"].indexOf(ld(t))>=0}function ep(t){return((jg(t)?t.ownerDocument:t.document)||window.document).documentElement}function SE(t){return ld(t)==="html"?t:t.assignedSlot||t.parentNode||(LM(t)?t.host:null)||ep(t)}function _F(t){return!au(t)||_f(t).position==="fixed"?null:t.offsetParent}function Kve(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&au(t)){var n=_f(t);if(n.position==="fixed")return null}var i=SE(t);for(LM(i)&&(i=i.host);au(i)&&["html","body"].indexOf(ld(i))<0;){var s=_f(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Zb(t){for(var e=fc(t),r=_F(t);r&&Yve(r)&&_f(r).position==="static";)r=_F(r);return r&&(ld(r)==="html"||ld(r)==="body"&&_f(r).position==="static")?e:r||Kve(t)||e}function NM(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Xy(t,e,r){return x0(t,DS(e,r))}function Zve(t,e,r){var n=Xy(t,e,r);return n>r?r:n}function Lq(){return{top:0,right:0,bottom:0,left:0}}function Fq(t){return Object.assign({},Lq(),t)}function Nq(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Qve=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Fq(typeof t!="number"?t:Nq(t,Kb))};function Jve(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=Qc(r.placement),l=NM(a),u=[Ja,vu].indexOf(a)>=0,d=u?"height":"width";if(!(!s||!o)){var f=Qve(i.padding,r),h=FM(s),g=l==="y"?Qa:Ja,p=l==="y"?gu:vu,v=r.rects.reference[d]+r.rects.reference[l]-o[l]-r.rects.popper[d],b=o[l]-r.rects.reference[l],S=Zb(s),T=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,E=v/2-b/2,C=f[g],P=T-h[d]-f[p],D=T/2-h[d]/2+E,L=Xy(C,D,P),j=l;r.modifiersData[n]=(e={},e[j]=L,e.centerOffset=L-D,e)}}function e_e(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!$q(e.elements.popper,i)||(e.elements.arrow=i))}var t_e={name:"arrow",enabled:!0,phase:"main",fn:Jve,effect:e_e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wg(t){return t.split("-")[1]}var r_e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function n_e(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:Hg(e*i)/i||0,y:Hg(r*i)/i||0}}function yF(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,f=t.isFixed,h=o.x,g=h===void 0?0:h,p=o.y,v=p===void 0?0:p,b=typeof d=="function"?d({x:g,y:v}):{x:g,y:v};g=b.x,v=b.y;var S=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),E=Ja,C=Qa,P=window;if(u){var D=Zb(r),L="clientHeight",j="clientWidth";if(D===fc(r)&&(D=ep(r),_f(D).position!=="static"&&a==="absolute"&&(L="scrollHeight",j="scrollWidth")),D=D,i===Qa||(i===Ja||i===vu)&&s===$2){C=gu;var te=f&&D===P&&P.visualViewport?P.visualViewport.height:D[L];v-=te-n.height,v*=l?1:-1}if(i===Ja||(i===Qa||i===gu)&&s===$2){E=vu;var se=f&&D===P&&P.visualViewport?P.visualViewport.width:D[j];g-=se-n.width,g*=l?1:-1}}var q=Object.assign({position:a},u&&r_e),X=d===!0?n_e({x:g,y:v}):{x:g,y:v};if(g=X.x,v=X.y,l){var Q;return Object.assign({},q,(Q={},Q[C]=T?"0":"",Q[E]=S?"0":"",Q.transform=(P.devicePixelRatio||1)<=1?"translate("+g+"px, "+v+"px)":"translate3d("+g+"px, "+v+"px, 0)",Q))}return Object.assign({},q,(e={},e[C]=T?v+"px":"",e[E]=S?g+"px":"",e.transform="",e))}function i_e(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,l=a===void 0?!0:a,u={placement:Qc(e.placement),variation:Wg(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yF(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yF(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Bq={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:i_e,data:{}},N1={passive:!0};function s_e(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,o=n.resize,a=o===void 0?!0:o,l=fc(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",r.update,N1)}),a&&l.addEventListener("resize",r.update,N1),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",r.update,N1)}),a&&l.removeEventListener("resize",r.update,N1)}}var Uq={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:s_e,data:{}},o_e={left:"right",right:"left",bottom:"top",top:"bottom"};function xw(t){return t.replace(/left|right|bottom|top/g,function(e){return o_e[e]})}var a_e={start:"end",end:"start"};function bF(t){return t.replace(/start|end/g,function(e){return a_e[e]})}function BM(t){var e=fc(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function UM(t){return Gg(ep(t)).left+BM(t).scrollLeft}function l_e(t){var e=fc(t),r=ep(t),n=e.visualViewport,i=r.clientWidth,s=r.clientHeight,o=0,a=0;return n&&(i=n.width,s=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,a=n.offsetTop)),{width:i,height:s,x:o+UM(t),y:a}}function u_e(t){var e,r=ep(t),n=BM(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=x0(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=x0(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+UM(t),l=-n.scrollTop;return _f(i||r).direction==="rtl"&&(a+=x0(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function VM(t){var e=_f(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function Vq(t){return["html","body","#document"].indexOf(ld(t))>=0?t.ownerDocument.body:au(t)&&VM(t)?t:Vq(SE(t))}function Yy(t,e){var r;e===void 0&&(e=[]);var n=Vq(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=fc(n),o=i?[s].concat(s.visualViewport||[],VM(n)?n:[]):n,a=e.concat(o);return i?a:a.concat(Yy(SE(o)))}function ek(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function c_e(t){var e=Gg(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function xF(t,e){return e===Mq?ek(l_e(t)):jg(e)?c_e(e):ek(u_e(ep(t)))}function d_e(t){var e=Yy(SE(t)),r=["absolute","fixed"].indexOf(_f(t).position)>=0,n=r&&au(t)?Zb(t):t;return jg(n)?e.filter(function(i){return jg(i)&&$q(i,n)&&ld(i)!=="body"}):[]}function f_e(t,e,r){var n=e==="clippingParents"?d_e(t):[].concat(e),i=[].concat(n,[r]),s=i[0],o=i.reduce(function(a,l){var u=xF(t,l);return a.top=x0(u.top,a.top),a.right=DS(u.right,a.right),a.bottom=DS(u.bottom,a.bottom),a.left=x0(u.left,a.left),a},xF(t,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function zq(t){var e=t.reference,r=t.element,n=t.placement,i=n?Qc(n):null,s=n?Wg(n):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(i){case Qa:l={x:o,y:e.y-r.height};break;case gu:l={x:o,y:e.y+e.height};break;case vu:l={x:e.x+e.width,y:a};break;case Ja:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?NM(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case zg:l[u]=l[u]-(e[d]/2-r[d]/2);break;case $2:l[u]=l[u]+(e[d]/2-r[d]/2);break}}return l}function L2(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.boundary,o=s===void 0?$ve:s,a=r.rootBoundary,l=a===void 0?Mq:a,u=r.elementContext,d=u===void 0?g_:u,f=r.altBoundary,h=f===void 0?!1:f,g=r.padding,p=g===void 0?0:g,v=Fq(typeof p!="number"?p:Nq(p,Kb)),b=d===g_?Lve:g_,S=t.rects.popper,T=t.elements[h?b:d],E=f_e(jg(T)?T:T.contextElement||ep(t.elements.popper),o,l),C=Gg(t.elements.reference),P=zq({reference:C,element:S,strategy:"absolute",placement:i}),D=ek(Object.assign({},S,P)),L=d===g_?D:C,j={top:E.top-L.top+v.top,bottom:L.bottom-E.bottom+v.bottom,left:E.left-L.left+v.left,right:L.right-E.right+v.right},te=t.modifiersData.offset;if(d===g_&&te){var se=te[i];Object.keys(j).forEach(function(q){var X=[vu,gu].indexOf(q)>=0?1:-1,Q=[Qa,gu].indexOf(q)>=0?"y":"x";j[q]+=se[Q]*X})}return j}function h_e(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?wE:l,d=Wg(n),f=d?a?vF:vF.filter(function(p){return Wg(p)===d}):Kb,h=f.filter(function(p){return u.indexOf(p)>=0});h.length===0&&(h=f);var g=h.reduce(function(p,v){return p[v]=L2(t,{placement:v,boundary:i,rootBoundary:s,padding:o})[Qc(v)],p},{});return Object.keys(g).sort(function(p,v){return g[p]-g[v]})}function p_e(t){if(Qc(t)===$M)return[];var e=xw(t);return[bF(t),e,bF(e)]}function m_e(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,g=r.flipVariations,p=g===void 0?!0:g,v=r.allowedAutoPlacements,b=e.options.placement,S=Qc(b),T=S===b,E=l||(T||!p?[xw(b)]:p_e(b)),C=[b].concat(E).reduce(function(et,Je){return et.concat(Qc(Je)===$M?h_e(e,{placement:Je,boundary:d,rootBoundary:f,padding:u,flipVariations:p,allowedAutoPlacements:v}):Je)},[]),P=e.rects.reference,D=e.rects.popper,L=new Map,j=!0,te=C[0],se=0;se<C.length;se++){var q=C[se],X=Qc(q),Q=Wg(q)===zg,$=[Qa,gu].indexOf(X)>=0,V=$?"width":"height",Y=L2(e,{placement:q,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),ee=$?Q?vu:Ja:Q?gu:Qa;P[V]>D[V]&&(ee=xw(ee));var ae=xw(ee),H=[];if(s&&H.push(Y[X]<=0),a&&H.push(Y[ee]<=0,Y[ae]<=0),H.every(function(et){return et})){te=q,j=!1;break}L.set(q,H)}if(j)for(var J=p?3:1,ie=function(et){var Je=C.find(function(lt){var Re=L.get(lt);if(Re)return Re.slice(0,et).every(function(wt){return wt})});if(Je)return te=Je,"break"},xe=J;xe>0;xe--){var qe=ie(xe);if(qe==="break")break}e.placement!==te&&(e.modifiersData[n]._skip=!0,e.placement=te,e.reset=!0)}}var g_e={name:"flip",enabled:!0,phase:"main",fn:m_e,requiresIfExists:["offset"],data:{_skip:!1}};function wF(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function SF(t){return[Qa,vu,gu,Ja].some(function(e){return t[e]>=0})}function v_e(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=L2(e,{elementContext:"reference"}),a=L2(e,{altBoundary:!0}),l=wF(o,n),u=wF(a,i,s),d=SF(l),f=SF(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}var __e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:v_e};function y_e(t,e,r){var n=Qc(t),i=[Ja,Qa].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Ja,vu].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function b_e(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,o=wE.reduce(function(d,f){return d[f]=y_e(f,e.rects,s),d},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=o}var x_e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:b_e};function w_e(t){var e=t.state,r=t.name;e.modifiersData[r]=zq({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var jq={name:"popperOffsets",enabled:!0,phase:"read",fn:w_e,data:{}};function S_e(t){return t==="x"?"y":"x"}function T_e(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,g=h===void 0?!0:h,p=r.tetherOffset,v=p===void 0?0:p,b=L2(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),S=Qc(e.placement),T=Wg(e.placement),E=!T,C=NM(S),P=S_e(C),D=e.modifiersData.popperOffsets,L=e.rects.reference,j=e.rects.popper,te=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,se=typeof te=="number"?{mainAxis:te,altAxis:te}:Object.assign({mainAxis:0,altAxis:0},te),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,X={x:0,y:0};if(D){if(s){var Q,$=C==="y"?Qa:Ja,V=C==="y"?gu:vu,Y=C==="y"?"height":"width",ee=D[C],ae=ee+b[$],H=ee-b[V],J=g?-j[Y]/2:0,ie=T===zg?L[Y]:j[Y],xe=T===zg?-j[Y]:-L[Y],qe=e.elements.arrow,et=g&&qe?FM(qe):{width:0,height:0},Je=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Lq(),lt=Je[$],Re=Je[V],wt=Xy(0,L[Y],et[Y]),vt=E?L[Y]/2-J-wt-lt-se.mainAxis:ie-wt-lt-se.mainAxis,pt=E?-L[Y]/2+J+wt+Re+se.mainAxis:xe+wt+Re+se.mainAxis,Ut=e.elements.arrow&&Zb(e.elements.arrow),yt=Ut?C==="y"?Ut.clientTop||0:Ut.clientLeft||0:0,le=(Q=q==null?void 0:q[C])!=null?Q:0,Oe=ee+vt-le-yt,nt=ee+pt-le,Ke=Xy(g?DS(ae,Oe):ae,ee,g?x0(H,nt):H);D[C]=Ke,X[C]=Ke-ee}if(a){var ct,Ot=C==="x"?Qa:Ja,Dt=C==="x"?gu:vu,_t=D[P],Mt=P==="y"?"height":"width",Rt=_t+b[Ot],tt=_t-b[Dt],Zt=[Qa,Ja].indexOf(S)!==-1,mt=(ct=q==null?void 0:q[P])!=null?ct:0,Tt=Zt?Rt:_t-L[Mt]-j[Mt]-mt+se.altAxis,mr=Zt?_t+L[Mt]+j[Mt]-mt-se.altAxis:tt,Bt=g&&Zt?Zve(Tt,_t,mr):Xy(g?Tt:Rt,_t,g?mr:tt);D[P]=Bt,X[P]=Bt-_t}e.modifiersData[n]=X}}var E_e={name:"preventOverflow",enabled:!0,phase:"main",fn:T_e,requiresIfExists:["offset"]};function C_e(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function A_e(t){return t===fc(t)||!au(t)?BM(t):C_e(t)}function P_e(t){var e=t.getBoundingClientRect(),r=Hg(e.width)/t.offsetWidth||1,n=Hg(e.height)/t.offsetHeight||1;return r!==1||n!==1}function k_e(t,e,r){r===void 0&&(r=!1);var n=au(e),i=au(e)&&P_e(e),s=ep(e),o=Gg(t,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((ld(e)!=="body"||VM(s))&&(a=A_e(e)),au(e)?(l=Gg(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=UM(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function I_e(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&i(l)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function O_e(t){var e=I_e(t);return Wve.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function D_e(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function M_e(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var TF={placement:"bottom",modifiers:[],strategy:"absolute"};function EF(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function zM(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?TF:i;return function(o,a,l){l===void 0&&(l=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},TF,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(v){var b=typeof v=="function"?v(u.options):v;p(),u.options=Object.assign({},s,u.options,b),u.scrollParents={reference:jg(o)?Yy(o):o.contextElement?Yy(o.contextElement):[],popper:Yy(a)};var S=O_e(M_e([].concat(n,u.options.modifiers)));return u.orderedModifiers=S.filter(function(T){return T.enabled}),g(),h.update()},forceUpdate:function(){if(!f){var v=u.elements,b=v.reference,S=v.popper;if(EF(b,S)){u.rects={reference:k_e(b,Zb(S),u.options.strategy==="fixed"),popper:FM(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(j){return u.modifiersData[j.name]=Object.assign({},j.data)});for(var T=0;T<u.orderedModifiers.length;T++){if(u.reset===!0){u.reset=!1,T=-1;continue}var E=u.orderedModifiers[T],C=E.fn,P=E.options,D=P===void 0?{}:P,L=E.name;typeof C=="function"&&(u=C({state:u,options:D,name:L,instance:h})||u)}}}},update:D_e(function(){return new Promise(function(v){h.forceUpdate(),v(u)})}),destroy:function(){p(),f=!0}};if(!EF(o,a))return h;h.setOptions(l).then(function(v){!f&&l.onFirstUpdate&&l.onFirstUpdate(v)});function g(){u.orderedModifiers.forEach(function(v){var b=v.name,S=v.options,T=S===void 0?{}:S,E=v.effect;if(typeof E=="function"){var C=E({state:u,name:b,instance:h,options:T}),P=function(){};d.push(C||P)}})}function p(){d.forEach(function(v){return v()}),d=[]}return h}}zM();var R_e=[Uq,jq,Bq,Rq];zM({defaultModifiers:R_e});var $_e=[Uq,jq,Bq,Rq,x_e,g_e,E_e,t_e,__e],L_e=zM({defaultModifiers:$_e});const F_e=(t,e,r={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=N_e(l);Object.assign(o.value,u)},requires:["computeStyles"]},i=pe(()=>{const{onFirstUpdate:l,placement:u,strategy:d,modifiers:f}=y(r);return{onFirstUpdate:l,placement:u||"bottom",strategy:d||"absolute",modifiers:[...f||[],n,{name:"applyStyles",enabled:!1}]}}),s=wa(),o=ye({styles:{popper:{position:y(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{s.value&&(s.value.destroy(),s.value=void 0)};return Gt(i,l=>{const u=y(s);u&&u.setOptions(l)},{deep:!0}),Gt([t,e],([l,u])=>{a(),!(!l||!u)&&(s.value=L_e(l,u,y(i)))}),Vs(()=>{a()}),{state:pe(()=>{var l;return{...((l=y(s))==null?void 0:l.state)||{}}}),styles:pe(()=>y(o).styles),attributes:pe(()=>y(o).attributes),update:()=>{var l;return(l=y(s))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=y(s))==null?void 0:l.forceUpdate()},instanceRef:pe(()=>y(s))}};function N_e(t){const e=Object.keys(t.elements),r=OS(e.map(i=>[i,t.styles[i]||{}])),n=OS(e.map(i=>[i,t.attributes[i]]));return{styles:r,attributes:n}}const jM=t=>{if(!t)return{onClick:Wn,onMousedown:Wn,onMouseup:Wn};let e=!1,r=!1;return{onClick:o=>{e&&r&&t(o),e=r=!1},onMousedown:o=>{e=o.target===o.currentTarget},onMouseup:o=>{r=o.target===o.currentTarget}}};function CF(){let t;const e=(n,i)=>{r(),t=window.setTimeout(n,i)},r=()=>window.clearTimeout(t);return Dv(()=>r()),{registerTimeout:e,cancelTimeout:r}}const AF={prefix:Math.floor(Math.random()*1e4),current:0},B_e=Symbol("elIdInjection"),Hq=()=>kn()?Mr(B_e,AF):AF,ac=t=>{const e=Hq(),r=RM();return pe(()=>y(t)||`${r.value}-id-${e.prefix}-${e.current++}`)};let qm=[];const PF=t=>{const e=t;e.key===Xr.esc&&qm.forEach(r=>r(e))},U_e=t=>{Un(()=>{qm.length===0&&document.addEventListener("keydown",PF),$n&&qm.push(t)}),Vs(()=>{qm=qm.filter(e=>e!==t),qm.length===0&&$n&&document.removeEventListener("keydown",PF)})};let kF;const Gq=()=>{const t=RM(),e=Hq(),r=pe(()=>`${t.value}-popper-container-${e.prefix}`),n=pe(()=>`#${r.value}`);return{id:r,selector:n}},V_e=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},z_e=()=>{const{id:t,selector:e}=Gq();return lE(()=>{$n&&!kF&&!document.body.querySelector(e.value)&&(kF=V_e(t.value))}),{id:t,selector:e}},j_e=Or({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),H_e=({showAfter:t,hideAfter:e,autoClose:r,open:n,close:i})=>{const{registerTimeout:s}=CF(),{registerTimeout:o,cancelTimeout:a}=CF();return{onOpen:d=>{s(()=>{n(d);const f=y(r);Yn(f)&&f>0&&o(()=>{i(d)},f)},y(t))},onClose:d=>{a(),s(()=>{i(d)},y(e))}}},Wq=Symbol("elForwardRef"),G_e=t=>{_i(Wq,{setForwardRef:r=>{t.value=r}})},W_e=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),IF={current:0},OF=ye(0),qq=2e3,DF=Symbol("elZIndexContextKey"),Xq=Symbol("zIndexContextKey"),TE=t=>{const e=kn()?Mr(DF,IF):IF,r=t||(kn()?Mr(Xq,void 0):void 0),n=pe(()=>{const o=y(r);return Yn(o)?o:qq}),i=pe(()=>n.value+OF.value),s=()=>(e.current++,OF.value=e.current,i.value);return!$n&&Mr(DF),{initialZIndex:n,currentZIndex:i,nextZIndex:s}};function q_e(t){const e=ye();function r(){if(t.value==null)return;const{selectionStart:i,selectionEnd:s,value:o}=t.value;if(i==null||s==null)return;const a=o.slice(0,Math.max(0,i)),l=o.slice(Math.max(0,s));e.value={selectionStart:i,selectionEnd:s,value:o,beforeTxt:a,afterTxt:l}}function n(){if(t.value==null||e.value==null)return;const{value:i}=t.value,{beforeTxt:s,afterTxt:o,selectionStart:a}=e.value;if(s==null||o==null||a==null)return;let l=i.length;if(i.endsWith(o))l=i.length-o.length;else if(i.startsWith(s))l=s.length;else{const u=s[a-1],d=i.indexOf(u,a-1);d!==-1&&(l=d+1)}t.value.setSelectionRange(l,l)}return[r,n]}const X_e=(t,e,r)=>Wy(t.subTree).filter(s=>{var o;return rl(s)&&((o=s.type)==null?void 0:o.name)===e&&!!s.component}).map(s=>s.component.uid).map(s=>r[s]).filter(s=>!!s),Y_e=(t,e)=>{const r={},n=wa([]);return{children:n,addChild:o=>{r[o.uid]=o,n.value=X_e(t,e,r)},removeChild:o=>{delete r[o],n.value=n.value.filter(a=>a.uid!==o)}}},vd=xE({type:String,values:Jh,required:!1}),Yq=Symbol("size"),K_e=()=>{const t=Mr(Yq,{});return pe(()=>y(t.size)||"")};function Kq(t,{afterFocus:e,beforeBlur:r,afterBlur:n}={}){const i=kn(),{emit:s}=i,o=wa(),a=ye(!1),l=f=>{a.value||(a.value=!0,s("focus",f),e==null||e())},u=f=>{var h;Fr(r)&&r(f)||f.relatedTarget&&((h=o.value)!=null&&h.contains(f.relatedTarget))||(a.value=!1,s("blur",f),n==null||n())},d=()=>{var f;(f=t.value)==null||f.focus()};return Gt(o,f=>{f&&f.setAttribute("tabindex","-1")}),ks(o,"click",d),{wrapperRef:o,isFocused:a,handleFocus:l,handleBlur:u}}const Zq=Symbol(),MS=ye();function EE(t,e=void 0){const r=kn()?Mr(Zq,MS):MS;return t?pe(()=>{var n,i;return(i=(n=r.value)==null?void 0:n[t])!=null?i:e}):r}function CE(t,e){const r=EE(),n=sr(t,pe(()=>{var a;return((a=r.value)==null?void 0:a.namespace)||qy})),i=Ti(pe(()=>{var a;return(a=r.value)==null?void 0:a.locale})),s=TE(pe(()=>{var a;return((a=r.value)==null?void 0:a.zIndex)||qq})),o=pe(()=>{var a;return y(e)||((a=r.value)==null?void 0:a.size)||""});return Z_e(pe(()=>y(r)||{})),{ns:n,locale:i,zIndex:s,size:o}}const Z_e=(t,e,r=!1)=>{var n;const i=!!kn(),s=i?EE():void 0,o=(n=e==null?void 0:e.provide)!=null?n:i?_i:void 0;if(!o)return;const a=pe(()=>{const l=y(t);return s!=null&&s.value?Q_e(s.value,l):l});return o(Zq,a),o(Pq,pe(()=>a.value.locale)),o(kq,pe(()=>a.value.namespace)),o(Xq,pe(()=>a.value.zIndex)),o(Yq,{size:pe(()=>a.value.size||"")}),(r||!MS.value)&&(MS.value=a.value),a},Q_e=(t,e)=>{var r;const n=[...new Set([...JP(t),...JP(e)])],i={};for(const s of n)i[s]=(r=e[s])!=null?r:t[s];return i},MF={};var kr=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r};const J_e=Or({size:{type:Vt([Number,String])},color:{type:String}}),eye=rt({name:"ElIcon",inheritAttrs:!1}),tye=rt({...eye,props:J_e,setup(t){const e=t,r=sr("icon"),n=pe(()=>{const{size:i,color:s}=e;return!i&&!s?{}:{fontSize:Pl(i)?void 0:ad(i),"--color":s}});return(i,s)=>(he(),Ue("i",Eo({class:y(r).b(),style:y(n)},i.$attrs),[Yt(i.$slots,"default")],16))}});var rye=kr(tye,[["__file","icon.vue"]]);const Dr=$i(rye),$v=Symbol("formContextKey"),F0=Symbol("formItemContextKey"),_u=(t,e={})=>{const r=ye(void 0),n=e.prop?r:Dq("size"),i=e.global?r:K_e(),s=e.form?{size:void 0}:Mr($v,void 0),o=e.formItem?{size:void 0}:Mr(F0,void 0);return pe(()=>n.value||y(t)||(o==null?void 0:o.size)||(s==null?void 0:s.size)||i.value||"")},Af=t=>{const e=Dq("disabled"),r=Mr($v,void 0);return pe(()=>e.value||y(t)||(r==null?void 0:r.disabled)||!1)},_d=()=>{const t=Mr($v,void 0),e=Mr(F0,void 0);return{form:t,formItem:e}},Qb=(t,{formItemContext:e,disableIdGeneration:r,disableIdManagement:n})=>{r||(r=ye(!1)),n||(n=ye(!1));const i=ye();let s;const o=pe(()=>{var a;return!!(!t.label&&e&&e.inputIds&&((a=e.inputIds)==null?void 0:a.length)<=1)});return Un(()=>{s=Gt([oo(t,"id"),r],([a,l])=>{const u=a??(l?void 0:ac().value);u!==i.value&&(e!=null&&e.removeInputId&&(i.value&&e.removeInputId(i.value),!(n!=null&&n.value)&&!l&&u&&e.addInputId(u)),i.value=u)},{immediate:!0})}),Qh(()=>{s&&s(),e!=null&&e.removeInputId&&i.value&&e.removeInputId(i.value)}),{isLabeledByFormItem:o,inputId:i}},nye=Or({size:{type:String,values:Jh},disabled:Boolean}),iye=Or({...nye,model:Object,rules:{type:Vt(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),sye={validate:(t,e,r)=>(cr(t)||on(t))&&pu(e)&&on(r)};function oye(){const t=ye([]),e=pe(()=>{if(!t.value.length)return"0";const s=Math.max(...t.value);return s?`${s}px`:""});function r(s){const o=t.value.indexOf(s);return o===-1&&e.value,o}function n(s,o){if(s&&o){const a=r(o);t.value.splice(a,1,s)}else s&&t.value.push(s)}function i(s){const o=r(s);o>-1&&t.value.splice(o,1)}return{autoLabelWidth:e,registerLabelWidth:n,deregisterLabelWidth:i}}const B1=(t,e)=>{const r=WP(e);return r.length>0?t.filter(n=>n.prop&&r.includes(n.prop)):t},aye="ElForm",lye=rt({name:aye}),uye=rt({...lye,props:iye,emits:sye,setup(t,{expose:e,emit:r}){const n=t,i=[],s=_u(),o=sr("form"),a=pe(()=>{const{labelPosition:E,inline:C}=n;return[o.b(),o.m(s.value||"default"),{[o.m(`label-${E}`)]:E,[o.m("inline")]:C}]}),l=E=>i.find(C=>C.prop===E),u=E=>{i.push(E)},d=E=>{E.prop&&i.splice(i.indexOf(E),1)},f=(E=[])=>{n.model&&B1(i,E).forEach(C=>C.resetField())},h=(E=[])=>{B1(i,E).forEach(C=>C.clearValidate())},g=pe(()=>!!n.model),p=E=>{if(i.length===0)return[];const C=B1(i,E);return C.length?C:[]},v=async E=>S(void 0,E),b=async(E=[])=>{if(!g.value)return!1;const C=p(E);if(C.length===0)return!0;let P={};for(const D of C)try{await D.validate("")}catch(L){P={...P,...L}}return Object.keys(P).length===0?!0:Promise.reject(P)},S=async(E=[],C)=>{const P=!Fr(C);try{const D=await b(E);return D===!0&&(C==null||C(D)),D}catch(D){if(D instanceof Error)throw D;const L=D;return n.scrollToError&&T(Object.keys(L)[0]),C==null||C(!1,L),P&&Promise.reject(L)}},T=E=>{var C;const P=B1(i,E)[0];P&&((C=P.$el)==null||C.scrollIntoView(n.scrollIntoViewOptions))};return Gt(()=>n.rules,()=>{n.validateOnRuleChange&&v().catch(E=>void 0)},{deep:!0}),_i($v,vn({...gd(n),emit:r,resetFields:f,clearValidate:h,validateField:S,getField:l,addField:u,removeField:d,...oye()})),e({validate:v,validateField:S,resetFields:f,clearValidate:h,scrollToField:T}),(E,C)=>(he(),Ue("form",{class:Ee(y(a))},[Yt(E.$slots,"default")],2))}});var cye=kr(uye,[["__file","form.vue"]]);function a0(){return a0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a0.apply(this,arguments)}function dye(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,F2(t,e)}function tk(t){return tk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tk(t)}function F2(t,e){return F2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F2(t,e)}function fye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ww(t,e,r){return fye()?ww=Reflect.construct.bind():ww=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),u=new l;return o&&F2(u,o.prototype),u},ww.apply(null,arguments)}function hye(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function rk(t){var e=typeof Map=="function"?new Map:void 0;return rk=function(n){if(n===null||!hye(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return ww(n,arguments,tk(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),F2(i,n)},rk(t)}var pye=/%[sdj%]/g,mye=function(){};function nk(t){if(!t||!t.length)return null;var e={};return t.forEach(function(r){var n=r.field;e[n]=e[n]||[],e[n].push(r)}),e}function yl(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=0,s=r.length;if(typeof t=="function")return t.apply(null,r);if(typeof t=="string"){var o=t.replace(pye,function(a){if(a==="%%")return"%";if(i>=s)return a;switch(a){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch{return"[Circular]"}break;default:return a}});return o}return t}function gye(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function co(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||gye(e)&&typeof t=="string"&&!t)}function vye(t,e,r){var n=[],i=0,s=t.length;function o(a){n.push.apply(n,a||[]),i++,i===s&&r(n)}t.forEach(function(a){e(a,o)})}function RF(t,e,r){var n=0,i=t.length;function s(o){if(o&&o.length){r(o);return}var a=n;n=n+1,a<i?e(t[a],s):r([])}s([])}function _ye(t){var e=[];return Object.keys(t).forEach(function(r){e.push.apply(e,t[r]||[])}),e}var $F=function(t){dye(e,t);function e(r,n){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=r,i.fields=n,i}return e}(rk(Error));function yye(t,e,r,n,i){if(e.first){var s=new Promise(function(h,g){var p=function(S){return n(S),S.length?g(new $F(S,nk(S))):h(i)},v=_ye(t);RF(v,r,p)});return s.catch(function(h){return h}),s}var o=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,u=0,d=[],f=new Promise(function(h,g){var p=function(b){if(d.push.apply(d,b),u++,u===l)return n(d),d.length?g(new $F(d,nk(d))):h(i)};a.length||(n(d),h(i)),a.forEach(function(v){var b=t[v];o.indexOf(v)!==-1?RF(b,r,p):vye(b,r,p)})});return f.catch(function(h){return h}),f}function bye(t){return!!(t&&t.message!==void 0)}function xye(t,e){for(var r=t,n=0;n<e.length;n++){if(r==null)return r;r=r[e[n]]}return r}function LF(t,e){return function(r){var n;return t.fullFields?n=xye(e,t.fullFields):n=e[r.field||t.fullField],bye(r)?(r.field=r.field||t.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||t.fullField}}}function FF(t,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];typeof n=="object"&&typeof t[r]=="object"?t[r]=a0({},t[r],n):t[r]=n}}return t}var Qq=function(e,r,n,i,s,o){e.required&&(!n.hasOwnProperty(e.field)||co(r,o||e.type))&&i.push(yl(s.messages.required,e.fullField))},wye=function(e,r,n,i,s){(/^\s+$/.test(r)||r==="")&&i.push(yl(s.messages.whitespace,e.fullField))},U1,Sye=function(){if(U1)return U1;var t="[a-fA-F\\d:]",e=function(C){return C&&C.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+r+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+r+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+r+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+r+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+r+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+r+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+r+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+r+"$)|(?:^"+i+"$)"),o=new RegExp("^"+r+"$"),a=new RegExp("^"+i+"$"),l=function(C){return C&&C.exact?s:new RegExp("(?:"+e(C)+r+e(C)+")|(?:"+e(C)+i+e(C)+")","g")};l.v4=function(E){return E&&E.exact?o:new RegExp(""+e(E)+r+e(E),"g")},l.v6=function(E){return E&&E.exact?a:new RegExp(""+e(E)+i+e(E),"g")};var u="(?:(?:[a-z]+:)?//)",d="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,h=l.v6().source,g="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",v="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",S='(?:[/?#][^\\s"]*)?',T="(?:"+u+"|www\\.)"+d+"(?:localhost|"+f+"|"+h+"|"+g+p+v+")"+b+S;return U1=new RegExp("(?:^"+T+"$)","i"),U1},NF={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},gy={integer:function(e){return gy.number(e)&&parseInt(e,10)===e},float:function(e){return gy.number(e)&&!gy.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!gy.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(NF.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Sye())},hex:function(e){return typeof e=="string"&&!!e.match(NF.hex)}},Tye=function(e,r,n,i,s){if(e.required&&r===void 0){Qq(e,r,n,i,s);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;o.indexOf(a)>-1?gy[a](r)||i.push(yl(s.messages.types[a],e.fullField,e.type)):a&&typeof r!==e.type&&i.push(yl(s.messages.types[a],e.fullField,e.type))},Eye=function(e,r,n,i,s){var o=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=r,f=null,h=typeof r=="number",g=typeof r=="string",p=Array.isArray(r);if(h?f="number":g?f="string":p&&(f="array"),!f)return!1;p&&(d=r.length),g&&(d=r.replace(u,"_").length),o?d!==e.len&&i.push(yl(s.messages[f].len,e.fullField,e.len)):a&&!l&&d<e.min?i.push(yl(s.messages[f].min,e.fullField,e.min)):l&&!a&&d>e.max?i.push(yl(s.messages[f].max,e.fullField,e.max)):a&&l&&(d<e.min||d>e.max)&&i.push(yl(s.messages[f].range,e.fullField,e.min,e.max))},Cm="enum",Cye=function(e,r,n,i,s){e[Cm]=Array.isArray(e[Cm])?e[Cm]:[],e[Cm].indexOf(r)===-1&&i.push(yl(s.messages[Cm],e.fullField,e[Cm].join(", ")))},Aye=function(e,r,n,i,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||i.push(yl(s.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(r)||i.push(yl(s.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},ii={required:Qq,whitespace:wye,type:Tye,range:Eye,enum:Cye,pattern:Aye},Pye=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(co(r,"string")&&!e.required)return n();ii.required(e,r,i,o,s,"string"),co(r,"string")||(ii.type(e,r,i,o,s),ii.range(e,r,i,o,s),ii.pattern(e,r,i,o,s),e.whitespace===!0&&ii.whitespace(e,r,i,o,s))}n(o)},kye=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(co(r)&&!e.required)return n();ii.required(e,r,i,o,s),r!==void 0&&ii.type(e,r,i,o,s)}n(o)},Iye=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(r===""&&(r=void 0),co(r)&&!e.required)return n();ii.required(e,r,i,o,s),r!==void 0&&(ii.type(e,r,i,o,s),ii.range(e,r,i,o,s))}n(o)},Oye=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(co(r)&&!e.required)return n();ii.required(e,r,i,o,s),r!==void 0&&ii.type(e,r,i,o,s)}n(o)},Dye=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(co(r)&&!e.required)return n();ii.required(e,r,i,o,s),co(r)||ii.type(e,r,i,o,s)}n(o)},Mye=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(co(r)&&!e.required)return n();ii.required(e,r,i,o,s),r!==void 0&&(ii.type(e,r,i,o,s),ii.range(e,r,i,o,s))}n(o)},Rye=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(co(r)&&!e.required)return n();ii.required(e,r,i,o,s),r!==void 0&&(ii.type(e,r,i,o,s),ii.range(e,r,i,o,s))}n(o)},$ye=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(r==null&&!e.required)return n();ii.required(e,r,i,o,s,"array"),r!=null&&(ii.type(e,r,i,o,s),ii.range(e,r,i,o,s))}n(o)},Lye=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(co(r)&&!e.required)return n();ii.required(e,r,i,o,s),r!==void 0&&ii.type(e,r,i,o,s)}n(o)},Fye="enum",Nye=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(co(r)&&!e.required)return n();ii.required(e,r,i,o,s),r!==void 0&&ii[Fye](e,r,i,o,s)}n(o)},Bye=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(co(r,"string")&&!e.required)return n();ii.required(e,r,i,o,s),co(r,"string")||ii.pattern(e,r,i,o,s)}n(o)},Uye=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(co(r,"date")&&!e.required)return n();if(ii.required(e,r,i,o,s),!co(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),ii.type(e,l,i,o,s),l&&ii.range(e,l.getTime(),i,o,s)}}n(o)},Vye=function(e,r,n,i,s){var o=[],a=Array.isArray(r)?"array":typeof r;ii.required(e,r,i,o,s,a),n(o)},gA=function(e,r,n,i,s){var o=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(co(r,o)&&!e.required)return n();ii.required(e,r,i,a,s,o),co(r,o)||ii.type(e,r,i,a,s)}n(a)},zye=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(co(r)&&!e.required)return n();ii.required(e,r,i,o,s)}n(o)},Ky={string:Pye,method:kye,number:Iye,boolean:Oye,regexp:Dye,integer:Mye,float:Rye,array:$ye,object:Lye,enum:Nye,pattern:Bye,date:Uye,url:gA,hex:gA,email:gA,required:Vye,any:zye};function ik(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var sk=ik(),Jb=function(){function t(r){this.rules=null,this._messages=sk,this.define(r)}var e=t.prototype;return e.define=function(n){var i=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(s){var o=n[s];i.rules[s]=Array.isArray(o)?o:[o]})},e.messages=function(n){return n&&(this._messages=FF(ik(),n)),this._messages},e.validate=function(n,i,s){var o=this;i===void 0&&(i={}),s===void 0&&(s=function(){});var a=n,l=i,u=s;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,a),Promise.resolve(a);function d(v){var b=[],S={};function T(C){if(Array.isArray(C)){var P;b=(P=b).concat.apply(P,C)}else b.push(C)}for(var E=0;E<v.length;E++)T(v[E]);b.length?(S=nk(b),u(b,S)):u(null,a)}if(l.messages){var f=this.messages();f===sk&&(f=ik()),FF(f,l.messages),l.messages=f}else l.messages=this.messages();var h={},g=l.keys||Object.keys(this.rules);g.forEach(function(v){var b=o.rules[v],S=a[v];b.forEach(function(T){var E=T;typeof E.transform=="function"&&(a===n&&(a=a0({},a)),S=a[v]=E.transform(S)),typeof E=="function"?E={validator:E}:E=a0({},E),E.validator=o.getValidationMethod(E),E.validator&&(E.field=v,E.fullField=E.fullField||v,E.type=o.getType(E),h[v]=h[v]||[],h[v].push({rule:E,value:S,source:a,field:v}))})});var p={};return yye(h,l,function(v,b){var S=v.rule,T=(S.type==="object"||S.type==="array")&&(typeof S.fields=="object"||typeof S.defaultField=="object");T=T&&(S.required||!S.required&&v.value),S.field=v.field;function E(D,L){return a0({},L,{fullField:S.fullField+"."+D,fullFields:S.fullFields?[].concat(S.fullFields,[D]):[D]})}function C(D){D===void 0&&(D=[]);var L=Array.isArray(D)?D:[D];!l.suppressWarning&&L.length&&t.warning("async-validator:",L),L.length&&S.message!==void 0&&(L=[].concat(S.message));var j=L.map(LF(S,a));if(l.first&&j.length)return p[S.field]=1,b(j);if(!T)b(j);else{if(S.required&&!v.value)return S.message!==void 0?j=[].concat(S.message).map(LF(S,a)):l.error&&(j=[l.error(S,yl(l.messages.required,S.field))]),b(j);var te={};S.defaultField&&Object.keys(v.value).map(function(X){te[X]=S.defaultField}),te=a0({},te,v.rule.fields);var se={};Object.keys(te).forEach(function(X){var Q=te[X],$=Array.isArray(Q)?Q:[Q];se[X]=$.map(E.bind(null,X))});var q=new t(se);q.messages(l.messages),v.rule.options&&(v.rule.options.messages=l.messages,v.rule.options.error=l.error),q.validate(v.value,v.rule.options||l,function(X){var Q=[];j&&j.length&&Q.push.apply(Q,j),X&&X.length&&Q.push.apply(Q,X),b(Q.length?Q:null)})}}var P;if(S.asyncValidator)P=S.asyncValidator(S,v.value,C,v.source,l);else if(S.validator){try{P=S.validator(S,v.value,C,v.source,l)}catch(D){console.error==null||console.error(D),l.suppressValidatorError||setTimeout(function(){throw D},0),C(D.message)}P===!0?C():P===!1?C(typeof S.message=="function"?S.message(S.fullField||S.field):S.message||(S.fullField||S.field)+" fails"):P instanceof Array?C(P):P instanceof Error&&C(P.message)}P&&P.then&&P.then(function(){return C()},function(D){return C(D)})},function(v){d(v)},a)},e.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Ky.hasOwnProperty(n.type))throw new Error(yl("Unknown rule type %s",n.type));return n.type||"string"},e.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var i=Object.keys(n),s=i.indexOf("message");return s!==-1&&i.splice(s,1),i.length===1&&i[0]==="required"?Ky.required:Ky[this.getType(n)]||void 0},t}();Jb.register=function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Ky[e]=r};Jb.warning=mye;Jb.messages=sk;Jb.validators=Ky;const jye=["","error","validating","success"],Hye=Or({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:Vt([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Vt([Object,Array])},error:String,validateStatus:{type:String,values:jye},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Jh}}),BF="ElLabelWrap";var Gye=rt({name:BF,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const r=Mr($v,void 0),n=Mr(F0);n||nl(BF,"usage: <el-form-item><label-wrap /></el-form-item>");const i=sr("form"),s=ye(),o=ye(0),a=()=>{var d;if((d=s.value)!=null&&d.firstElementChild){const f=window.getComputedStyle(s.value.firstElementChild).width;return Math.ceil(Number.parseFloat(f))}else return 0},l=(d="update")=>{Hr(()=>{e.default&&t.isAutoWidth&&(d==="update"?o.value=a():d==="remove"&&(r==null||r.deregisterLabelWidth(o.value)))})},u=()=>l("update");return Un(()=>{u()}),Vs(()=>{l("remove")}),Zh(()=>u()),Gt(o,(d,f)=>{t.updateAll&&(r==null||r.registerLabelWidth(d,f))}),Fo(pe(()=>{var d,f;return(f=(d=s.value)==null?void 0:d.firstElementChild)!=null?f:null}),u),()=>{var d,f;if(!e)return null;const{isAutoWidth:h}=t;if(h){const g=r==null?void 0:r.autoLabelWidth,p=n==null?void 0:n.hasLabel,v={};if(p&&g&&g!=="auto"){const b=Math.max(0,Number.parseInt(g,10)-o.value),S=r.labelPosition==="left"?"marginRight":"marginLeft";b&&(v[S]=`${b}px`)}return N("div",{ref:s,class:[i.be("item","label-wrap")],style:v},[(d=e.default)==null?void 0:d.call(e)])}else return N(Ar,{ref:s},[(f=e.default)==null?void 0:f.call(e)])}}});const Wye=["role","aria-labelledby"],qye=rt({name:"ElFormItem"}),Xye=rt({...qye,props:Hye,setup(t,{expose:e}){const r=t,n=Ml(),i=Mr($v,void 0),s=Mr(F0,void 0),o=_u(void 0,{formItem:!1}),a=sr("form-item"),l=ac().value,u=ye([]),d=ye(""),f=Zue(d,100),h=ye(""),g=ye();let p,v=!1;const b=pe(()=>{if((i==null?void 0:i.labelPosition)==="top")return{};const Re=ad(r.labelWidth||(i==null?void 0:i.labelWidth)||"");return Re?{width:Re}:{}}),S=pe(()=>{if((i==null?void 0:i.labelPosition)==="top"||i!=null&&i.inline)return{};if(!r.label&&!r.labelWidth&&te)return{};const Re=ad(r.labelWidth||(i==null?void 0:i.labelWidth)||"");return!r.label&&!n.label?{marginLeft:Re}:{}}),T=pe(()=>[a.b(),a.m(o.value),a.is("error",d.value==="error"),a.is("validating",d.value==="validating"),a.is("success",d.value==="success"),a.is("required",$.value||r.required),a.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[a.m("feedback")]:i==null?void 0:i.statusIcon}]),E=pe(()=>pu(r.inlineMessage)?r.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),C=pe(()=>[a.e("error"),{[a.em("error","inline")]:E.value}]),P=pe(()=>r.prop?on(r.prop)?r.prop:r.prop.join("."):""),D=pe(()=>!!(r.label||n.label)),L=pe(()=>r.for||(u.value.length===1?u.value[0]:void 0)),j=pe(()=>!L.value&&D.value),te=!!s,se=pe(()=>{const Re=i==null?void 0:i.model;if(!(!Re||!r.prop))return yw(Re,r.prop).value}),q=pe(()=>{const{required:Re}=r,wt=[];r.rules&&wt.push(...WP(r.rules));const vt=i==null?void 0:i.rules;if(vt&&r.prop){const pt=yw(vt,r.prop).value;pt&&wt.push(...WP(pt))}if(Re!==void 0){const pt=wt.map((Ut,yt)=>[Ut,yt]).filter(([Ut])=>Object.keys(Ut).includes("required"));if(pt.length>0)for(const[Ut,yt]of pt)Ut.required!==Re&&(wt[yt]={...Ut,required:Re});else wt.push({required:Re})}return wt}),X=pe(()=>q.value.length>0),Q=Re=>q.value.filter(vt=>!vt.trigger||!Re?!0:Array.isArray(vt.trigger)?vt.trigger.includes(Re):vt.trigger===Re).map(({trigger:vt,...pt})=>pt),$=pe(()=>q.value.some(Re=>Re.required)),V=pe(()=>{var Re;return f.value==="error"&&r.showMessage&&((Re=i==null?void 0:i.showMessage)!=null?Re:!0)}),Y=pe(()=>`${r.label||""}${(i==null?void 0:i.labelSuffix)||""}`),ee=Re=>{d.value=Re},ae=Re=>{var wt,vt;const{errors:pt,fields:Ut}=Re;(!pt||!Ut)&&console.error(Re),ee("error"),h.value=pt?(vt=(wt=pt==null?void 0:pt[0])==null?void 0:wt.message)!=null?vt:`${r.prop} is required`:"",i==null||i.emit("validate",r.prop,!1,h.value)},H=()=>{ee("success"),i==null||i.emit("validate",r.prop,!0,"")},J=async Re=>{const wt=P.value;return new Jb({[wt]:Re}).validate({[wt]:se.value},{firstFields:!0}).then(()=>(H(),!0)).catch(pt=>(ae(pt),Promise.reject(pt)))},ie=async(Re,wt)=>{if(v||!r.prop)return!1;const vt=Fr(wt);if(!X.value)return wt==null||wt(!1),!1;const pt=Q(Re);return pt.length===0?(wt==null||wt(!0),!0):(ee("validating"),J(pt).then(()=>(wt==null||wt(!0),!0)).catch(Ut=>{const{fields:yt}=Ut;return wt==null||wt(!1,yt),vt?!1:Promise.reject(yt)}))},xe=()=>{ee(""),h.value="",v=!1},qe=async()=>{const Re=i==null?void 0:i.model;if(!Re||!r.prop)return;const wt=yw(Re,r.prop);v=!0,wt.value=lF(p),await Hr(),xe(),v=!1},et=Re=>{u.value.includes(Re)||u.value.push(Re)},Je=Re=>{u.value=u.value.filter(wt=>wt!==Re)};Gt(()=>r.error,Re=>{h.value=Re||"",ee(Re?"error":"")},{immediate:!0}),Gt(()=>r.validateStatus,Re=>ee(Re||""));const lt=vn({...gd(r),$el:g,size:o,validateState:d,labelId:l,inputIds:u,isGroup:j,hasLabel:D,fieldValue:se,addInputId:et,removeInputId:Je,resetField:qe,clearValidate:xe,validate:ie});return _i(F0,lt),Un(()=>{r.prop&&(i==null||i.addField(lt),p=lF(se.value))}),Vs(()=>{i==null||i.removeField(lt)}),e({size:o,validateMessage:h,validateState:d,validate:ie,clearValidate:xe,resetField:qe}),(Re,wt)=>{var vt;return he(),Ue("div",{ref_key:"formItemRef",ref:g,class:Ee(y(T)),role:y(j)?"group":void 0,"aria-labelledby":y(j)?y(l):void 0},[N(y(Gye),{"is-auto-width":y(b).width==="auto","update-all":((vt=y(i))==null?void 0:vt.labelWidth)==="auto"},{default:ne(()=>[y(D)?(he(),At(vi(y(L)?"label":"div"),{key:0,id:y(l),for:y(L),class:Ee(y(a).e("label")),style:sn(y(b))},{default:ne(()=>[Yt(Re.$slots,"label",{label:y(Y)},()=>[It(hr(y(Y)),1)])]),_:3},8,["id","for","class","style"])):xt("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),He("div",{class:Ee(y(a).e("content")),style:sn(y(S))},[Yt(Re.$slots,"default"),N(vW,{name:`${y(a).namespace.value}-zoom-in-top`},{default:ne(()=>[y(V)?Yt(Re.$slots,"error",{key:0,error:h.value},()=>[He("div",{class:Ee(y(C))},hr(h.value),3)]):xt("v-if",!0)]),_:3},8,["name"])],6)],10,Wye)}}});var Jq=kr(Xye,[["__file","form-item.vue"]]);const yd=$i(cye,{FormItem:Jq}),Sa=ko(Jq);let Iu;const Yye=`
  height:0 !important;
  visibility:hidden !important;
  ${Zce()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Kye=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Zye(t){const e=window.getComputedStyle(t),r=e.getPropertyValue("box-sizing"),n=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:Kye.map(o=>`${o}:${e.getPropertyValue(o)}`).join(";"),paddingSize:n,borderSize:i,boxSizing:r}}function UF(t,e=1,r){var n;Iu||(Iu=document.createElement("textarea"),document.body.appendChild(Iu));const{paddingSize:i,borderSize:s,boxSizing:o,contextStyle:a}=Zye(t);Iu.setAttribute("style",`${a};${Yye}`),Iu.value=t.value||t.placeholder||"";let l=Iu.scrollHeight;const u={};o==="border-box"?l=l+s:o==="content-box"&&(l=l-i),Iu.value="";const d=Iu.scrollHeight-i;if(Yn(e)){let f=d*e;o==="border-box"&&(f=f+i+s),l=Math.max(f,l),u.minHeight=`${f}px`}if(Yn(r)){let f=d*r;o==="border-box"&&(f=f+i+s),l=Math.min(f,l)}return u.height=`${l}px`,(n=Iu.parentNode)==null||n.removeChild(Iu),Iu=void 0,u}const Qye=Or({id:{type:String,default:void 0},size:vd,disabled:Boolean,modelValue:{type:Vt([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Vt([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ys},prefixIcon:{type:Ys},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Vt([Object,Array,String]),default:()=>xo({})},autofocus:{type:Boolean,default:!1}}),Jye={[Li]:t=>on(t),input:t=>on(t),change:t=>on(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},e2e=["role"],t2e=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],r2e=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],n2e=rt({name:"ElInput",inheritAttrs:!1}),i2e=rt({...n2e,props:Qye,emits:Jye,setup(t,{expose:e,emit:r}){const n=t,i=Iv(),s=Ml(),o=pe(()=>{const mt={};return n.containerRole==="combobox"&&(mt["aria-haspopup"]=i["aria-haspopup"],mt["aria-owns"]=i["aria-owns"],mt["aria-expanded"]=i["aria-expanded"]),mt}),a=pe(()=>[n.type==="textarea"?b.b():v.b(),v.m(g.value),v.is("disabled",p.value),v.is("exceed",et.value),{[v.b("group")]:s.prepend||s.append,[v.bm("group","append")]:s.append,[v.bm("group","prepend")]:s.prepend,[v.m("prefix")]:s.prefix||n.prefixIcon,[v.m("suffix")]:s.suffix||n.suffixIcon||n.clearable||n.showPassword,[v.bm("suffix","password-clear")]:J.value&&ie.value,[v.b("hidden")]:n.type==="hidden"},i.class]),l=pe(()=>[v.e("wrapper"),v.is("focus",se.value)]),u=Cq({excludeKeys:pe(()=>Object.keys(o.value))}),{form:d,formItem:f}=_d(),{inputId:h}=Qb(n,{formItemContext:f}),g=_u(),p=Af(),v=sr("input"),b=sr("textarea"),S=wa(),T=wa(),E=ye(!1),C=ye(!1),P=ye(!1),D=ye(),L=wa(n.inputStyle),j=pe(()=>S.value||T.value),{wrapperRef:te,isFocused:se,handleFocus:q,handleBlur:X}=Kq(j,{afterBlur(){var mt;n.validateEvent&&((mt=f==null?void 0:f.validate)==null||mt.call(f,"blur").catch(Tt=>void 0))}}),Q=pe(()=>{var mt;return(mt=d==null?void 0:d.statusIcon)!=null?mt:!1}),$=pe(()=>(f==null?void 0:f.validateState)||""),V=pe(()=>$.value&&Tq[$.value]),Y=pe(()=>P.value?vve:$ge),ee=pe(()=>[i.style]),ae=pe(()=>[n.inputStyle,L.value,{resize:n.resize}]),H=pe(()=>oc(n.modelValue)?"":String(n.modelValue)),J=pe(()=>n.clearable&&!p.value&&!n.readonly&&!!H.value&&(se.value||E.value)),ie=pe(()=>n.showPassword&&!p.value&&!n.readonly&&!!H.value&&(!!H.value||se.value)),xe=pe(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!p.value&&!n.readonly&&!n.showPassword),qe=pe(()=>H.value.length),et=pe(()=>!!xe.value&&qe.value>Number(n.maxlength)),Je=pe(()=>!!s.suffix||!!n.suffixIcon||J.value||n.showPassword||xe.value||!!$.value&&Q.value),[lt,Re]=q_e(S);Fo(T,mt=>{if(pt(),!xe.value||n.resize!=="both")return;const Tt=mt[0],{width:mr}=Tt.contentRect;D.value={right:`calc(100% - ${mr+15+6}px)`}});const wt=()=>{const{type:mt,autosize:Tt}=n;if(!(!$n||mt!=="textarea"||!T.value))if(Tt){const mr=En(Tt)?Tt.minRows:void 0,Bt=En(Tt)?Tt.maxRows:void 0,Ir=UF(T.value,mr,Bt);L.value={overflowY:"hidden",...Ir},Hr(()=>{T.value.offsetHeight,L.value=Ir})}else L.value={minHeight:UF(T.value).minHeight}},pt=(mt=>{let Tt=!1;return()=>{var mr;if(Tt||!n.autosize)return;((mr=T.value)==null?void 0:mr.offsetParent)===null||(mt(),Tt=!0)}})(wt),Ut=()=>{const mt=j.value,Tt=n.formatter?n.formatter(H.value):H.value;!mt||mt.value===Tt||(mt.value=Tt)},yt=async mt=>{lt();let{value:Tt}=mt.target;if(n.formatter&&(Tt=n.parser?n.parser(Tt):Tt),!C.value){if(Tt===H.value){Ut();return}r(Li,Tt),r("input",Tt),await Hr(),Ut(),Re()}},le=mt=>{r("change",mt.target.value)},Oe=mt=>{r("compositionstart",mt),C.value=!0},nt=mt=>{var Tt;r("compositionupdate",mt);const mr=(Tt=mt.target)==null?void 0:Tt.value,Bt=mr[mr.length-1]||"";C.value=!MM(Bt)},Ke=mt=>{r("compositionend",mt),C.value&&(C.value=!1,yt(mt))},ct=()=>{P.value=!P.value,Ot()},Ot=async()=>{var mt;await Hr(),(mt=j.value)==null||mt.focus()},Dt=()=>{var mt;return(mt=j.value)==null?void 0:mt.blur()},_t=mt=>{E.value=!1,r("mouseleave",mt)},Mt=mt=>{E.value=!0,r("mouseenter",mt)},Rt=mt=>{r("keydown",mt)},tt=()=>{var mt;(mt=j.value)==null||mt.select()},Zt=()=>{r(Li,""),r("change",""),r("clear"),r("input","")};return Gt(()=>n.modelValue,()=>{var mt;Hr(()=>wt()),n.validateEvent&&((mt=f==null?void 0:f.validate)==null||mt.call(f,"change").catch(Tt=>void 0))}),Gt(H,()=>Ut()),Gt(()=>n.type,async()=>{await Hr(),Ut(),wt()}),Un(()=>{!n.formatter&&n.parser,Ut(),Hr(wt)}),e({input:S,textarea:T,ref:j,textareaStyle:ae,autosize:oo(n,"autosize"),focus:Ot,blur:Dt,select:tt,clear:Zt,resizeTextarea:wt}),(mt,Tt)=>(he(),Ue("div",Eo(y(o),{class:y(a),style:y(ee),role:mt.containerRole,onMouseenter:Mt,onMouseleave:_t}),[xt(" input "),mt.type!=="textarea"?(he(),Ue(Ar,{key:0},[xt(" prepend slot "),mt.$slots.prepend?(he(),Ue("div",{key:0,class:Ee(y(v).be("group","prepend"))},[Yt(mt.$slots,"prepend")],2)):xt("v-if",!0),He("div",{ref_key:"wrapperRef",ref:te,class:Ee(y(l))},[xt(" prefix slot "),mt.$slots.prefix||mt.prefixIcon?(he(),Ue("span",{key:0,class:Ee(y(v).e("prefix"))},[He("span",{class:Ee(y(v).e("prefix-inner"))},[Yt(mt.$slots,"prefix"),mt.prefixIcon?(he(),At(y(Dr),{key:0,class:Ee(y(v).e("icon"))},{default:ne(()=>[(he(),At(vi(mt.prefixIcon)))]),_:1},8,["class"])):xt("v-if",!0)],2)],2)):xt("v-if",!0),He("input",Eo({id:y(h),ref_key:"input",ref:S,class:y(v).e("inner")},y(u),{minlength:mt.minlength,maxlength:mt.maxlength,type:mt.showPassword?P.value?"text":"password":mt.type,disabled:y(p),readonly:mt.readonly,autocomplete:mt.autocomplete,tabindex:mt.tabindex,"aria-label":mt.label,placeholder:mt.placeholder,style:mt.inputStyle,form:mt.form,autofocus:mt.autofocus,onCompositionstart:Oe,onCompositionupdate:nt,onCompositionend:Ke,onInput:yt,onFocus:Tt[0]||(Tt[0]=(...mr)=>y(q)&&y(q)(...mr)),onBlur:Tt[1]||(Tt[1]=(...mr)=>y(X)&&y(X)(...mr)),onChange:le,onKeydown:Rt}),null,16,t2e),xt(" suffix slot "),y(Je)?(he(),Ue("span",{key:1,class:Ee(y(v).e("suffix"))},[He("span",{class:Ee(y(v).e("suffix-inner"))},[!y(J)||!y(ie)||!y(xe)?(he(),Ue(Ar,{key:0},[Yt(mt.$slots,"suffix"),mt.suffixIcon?(he(),At(y(Dr),{key:0,class:Ee(y(v).e("icon"))},{default:ne(()=>[(he(),At(vi(mt.suffixIcon)))]),_:1},8,["class"])):xt("v-if",!0)],64)):xt("v-if",!0),y(J)?(he(),At(y(Dr),{key:1,class:Ee([y(v).e("icon"),y(v).e("clear")]),onMousedown:yn(y(Wn),["prevent"]),onClick:Zt},{default:ne(()=>[N(y(Rv))]),_:1},8,["class","onMousedown"])):xt("v-if",!0),y(ie)?(he(),At(y(Dr),{key:2,class:Ee([y(v).e("icon"),y(v).e("password")]),onClick:ct},{default:ne(()=>[(he(),At(vi(y(Y))))]),_:1},8,["class"])):xt("v-if",!0),y(xe)?(he(),Ue("span",{key:3,class:Ee(y(v).e("count"))},[He("span",{class:Ee(y(v).e("count-inner"))},hr(y(qe))+" / "+hr(mt.maxlength),3)],2)):xt("v-if",!0),y($)&&y(V)&&y(Q)?(he(),At(y(Dr),{key:4,class:Ee([y(v).e("icon"),y(v).e("validateIcon"),y(v).is("loading",y($)==="validating")])},{default:ne(()=>[(he(),At(vi(y(V))))]),_:1},8,["class"])):xt("v-if",!0)],2)],2)):xt("v-if",!0)],2),xt(" append slot "),mt.$slots.append?(he(),Ue("div",{key:1,class:Ee(y(v).be("group","append"))},[Yt(mt.$slots,"append")],2)):xt("v-if",!0)],64)):(he(),Ue(Ar,{key:1},[xt(" textarea "),He("textarea",Eo({id:y(h),ref_key:"textarea",ref:T,class:y(b).e("inner")},y(u),{minlength:mt.minlength,maxlength:mt.maxlength,tabindex:mt.tabindex,disabled:y(p),readonly:mt.readonly,autocomplete:mt.autocomplete,style:y(ae),"aria-label":mt.label,placeholder:mt.placeholder,form:mt.form,autofocus:mt.autofocus,onCompositionstart:Oe,onCompositionupdate:nt,onCompositionend:Ke,onInput:yt,onFocus:Tt[2]||(Tt[2]=(...mr)=>y(q)&&y(q)(...mr)),onBlur:Tt[3]||(Tt[3]=(...mr)=>y(X)&&y(X)(...mr)),onChange:le,onKeydown:Rt}),null,16,r2e),y(xe)?(he(),Ue("span",{key:0,style:sn(D.value),class:Ee(y(v).e("count"))},hr(y(qe))+" / "+hr(mt.maxlength),7)):xt("v-if",!0)],64))],16,e2e))}});var s2e=kr(i2e,[["__file","input.vue"]]);const as=$i(s2e),Am=4,o2e={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},a2e=({move:t,size:e,bar:r})=>({[r.size]:e,transform:`translate${r.axis}(${t}%)`}),HM=Symbol("scrollbarContextKey"),l2e=Or({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),u2e="Thumb",c2e=rt({__name:"thumb",props:l2e,setup(t){const e=t,r=Mr(HM),n=sr("scrollbar");r||nl(u2e,"can not inject scrollbar context");const i=ye(),s=ye(),o=ye({}),a=ye(!1);let l=!1,u=!1,d=$n?document.onselectstart:null;const f=pe(()=>o2e[e.vertical?"vertical":"horizontal"]),h=pe(()=>a2e({size:e.size,move:e.move,bar:f.value})),g=pe(()=>i.value[f.value.offset]**2/r.wrapElement[f.value.scrollSize]/e.ratio/s.value[f.value.offset]),p=D=>{var L;if(D.stopPropagation(),D.ctrlKey||[1,2].includes(D.button))return;(L=window.getSelection())==null||L.removeAllRanges(),b(D);const j=D.currentTarget;j&&(o.value[f.value.axis]=j[f.value.offset]-(D[f.value.client]-j.getBoundingClientRect()[f.value.direction]))},v=D=>{if(!s.value||!i.value||!r.wrapElement)return;const L=Math.abs(D.target.getBoundingClientRect()[f.value.direction]-D[f.value.client]),j=s.value[f.value.offset]/2,te=(L-j)*100*g.value/i.value[f.value.offset];r.wrapElement[f.value.scroll]=te*r.wrapElement[f.value.scrollSize]/100},b=D=>{D.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",T),d=document.onselectstart,document.onselectstart=()=>!1},S=D=>{if(!i.value||!s.value||l===!1)return;const L=o.value[f.value.axis];if(!L)return;const j=(i.value.getBoundingClientRect()[f.value.direction]-D[f.value.client])*-1,te=s.value[f.value.offset]-L,se=(j-te)*100*g.value/i.value[f.value.offset];r.wrapElement[f.value.scroll]=se*r.wrapElement[f.value.scrollSize]/100},T=()=>{l=!1,o.value[f.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",T),P(),u&&(a.value=!1)},E=()=>{u=!1,a.value=!!e.size},C=()=>{u=!0,a.value=l};Vs(()=>{P(),document.removeEventListener("mouseup",T)});const P=()=>{document.onselectstart!==d&&(document.onselectstart=d)};return ks(oo(r,"scrollbarElement"),"mousemove",E),ks(oo(r,"scrollbarElement"),"mouseleave",C),(D,L)=>(he(),At(sa,{name:y(n).b("fade"),persisted:""},{default:ne(()=>[xn(He("div",{ref_key:"instance",ref:i,class:Ee([y(n).e("bar"),y(n).is(y(f).key)]),onMousedown:v},[He("div",{ref_key:"thumb",ref:s,class:Ee(y(n).e("thumb")),style:sn(y(h)),onMousedown:p},null,38)],34),[[Ci,D.always||a.value]])]),_:1},8,["name"]))}});var VF=kr(c2e,[["__file","thumb.vue"]]);const d2e=Or({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),f2e=rt({__name:"bar",props:d2e,setup(t,{expose:e}){const r=t,n=Mr(HM),i=ye(0),s=ye(0),o=ye(""),a=ye(""),l=ye(1),u=ye(1);return e({handleScroll:h=>{if(h){const g=h.offsetHeight-Am,p=h.offsetWidth-Am;s.value=h.scrollTop*100/g*l.value,i.value=h.scrollLeft*100/p*u.value}},update:()=>{const h=n==null?void 0:n.wrapElement;if(!h)return;const g=h.offsetHeight-Am,p=h.offsetWidth-Am,v=g**2/h.scrollHeight,b=p**2/h.scrollWidth,S=Math.max(v,r.minSize),T=Math.max(b,r.minSize);l.value=v/(g-v)/(S/(g-S)),u.value=b/(p-b)/(T/(p-T)),a.value=S+Am<g?`${S}px`:"",o.value=T+Am<p?`${T}px`:""}}),(h,g)=>(he(),Ue(Ar,null,[N(VF,{move:i.value,ratio:u.value,size:o.value,always:h.always},null,8,["move","ratio","size","always"]),N(VF,{move:s.value,ratio:l.value,size:a.value,vertical:"",always:h.always},null,8,["move","ratio","size","always"])],64))}});var h2e=kr(f2e,[["__file","bar.vue"]]);const p2e=Or({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Vt([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),m2e={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(Yn)},g2e="ElScrollbar",v2e=rt({name:g2e}),_2e=rt({...v2e,props:p2e,emits:m2e,setup(t,{expose:e,emit:r}){const n=t,i=sr("scrollbar");let s,o;const a=ye(),l=ye(),u=ye(),d=ye(),f=pe(()=>{const E={};return n.height&&(E.height=ad(n.height)),n.maxHeight&&(E.maxHeight=ad(n.maxHeight)),[n.wrapStyle,E]}),h=pe(()=>[n.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!n.native}]),g=pe(()=>[i.e("view"),n.viewClass]),p=()=>{var E;l.value&&((E=d.value)==null||E.handleScroll(l.value),r("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft}))};function v(E,C){En(E)?l.value.scrollTo(E):Yn(E)&&Yn(C)&&l.value.scrollTo(E,C)}const b=E=>{Yn(E)&&(l.value.scrollTop=E)},S=E=>{Yn(E)&&(l.value.scrollLeft=E)},T=()=>{var E;(E=d.value)==null||E.update()};return Gt(()=>n.noresize,E=>{E?(s==null||s(),o==null||o()):({stop:s}=Fo(u,T),o=ks("resize",T))},{immediate:!0}),Gt(()=>[n.maxHeight,n.height],()=>{n.native||Hr(()=>{var E;T(),l.value&&((E=d.value)==null||E.handleScroll(l.value))})}),_i(HM,vn({scrollbarElement:a,wrapElement:l})),Un(()=>{n.native||Hr(()=>{T()})}),Zh(()=>T()),e({wrapRef:l,update:T,scrollTo:v,setScrollTop:b,setScrollLeft:S,handleScroll:p}),(E,C)=>(he(),Ue("div",{ref_key:"scrollbarRef",ref:a,class:Ee(y(i).b())},[He("div",{ref_key:"wrapRef",ref:l,class:Ee(y(h)),style:sn(y(f)),onScroll:p},[(he(),At(vi(E.tag),{id:E.id,ref_key:"resizeRef",ref:u,class:Ee(y(g)),style:sn(E.viewStyle),role:E.role,"aria-label":E.ariaLabel,"aria-orientation":E.ariaOrientation},{default:ne(()=>[Yt(E.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),E.native?xt("v-if",!0):(he(),At(h2e,{key:0,ref_key:"barRef",ref:d,always:E.always,"min-size":E.minSize},null,8,["always","min-size"]))],2))}});var y2e=kr(_2e,[["__file","scrollbar.vue"]]);const am=$i(y2e),GM=Symbol("popper"),eX=Symbol("popperContent"),b2e=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],tX=Or({role:{type:String,values:b2e,default:"tooltip"}}),x2e=rt({name:"ElPopper",inheritAttrs:!1}),w2e=rt({...x2e,props:tX,setup(t,{expose:e}){const r=t,n=ye(),i=ye(),s=ye(),o=ye(),a=pe(()=>r.role),l={triggerRef:n,popperInstanceRef:i,contentRef:s,referenceRef:o,role:a};return e(l),_i(GM,l),(u,d)=>Yt(u.$slots,"default")}});var S2e=kr(w2e,[["__file","popper.vue"]]);const rX=Or({arrowOffset:{type:Number,default:5}}),T2e=rt({name:"ElPopperArrow",inheritAttrs:!1}),E2e=rt({...T2e,props:rX,setup(t,{expose:e}){const r=t,n=sr("popper"),{arrowOffset:i,arrowRef:s,arrowStyle:o}=Mr(eX,void 0);return Gt(()=>r.arrowOffset,a=>{i.value=a}),Vs(()=>{s.value=void 0}),e({arrowRef:s}),(a,l)=>(he(),Ue("span",{ref_key:"arrowRef",ref:s,class:Ee(y(n).e("arrow")),style:sn(y(o)),"data-popper-arrow":""},null,6))}});var C2e=kr(E2e,[["__file","arrow.vue"]]);const A2e="ElOnlyChild",P2e=rt({name:A2e,setup(t,{slots:e,attrs:r}){var n;const i=Mr(Wq),s=W_e((n=i==null?void 0:i.setForwardRef)!=null?n:Wn);return()=>{var o;const a=(o=e.default)==null?void 0:o.call(e,r);if(!a||a.length>1)return null;const l=nX(a);return l?xn(mf(l,r),[[s]]):null}}});function nX(t){if(!t)return null;const e=t;for(const r of e){if(En(r))switch(r.type){case Za:continue;case Ov:case"svg":return zF(r);case Ar:return nX(r.children);default:return r}return zF(r)}return null}function zF(t){const e=sr("only-child");return N("span",{class:e.e("content")},[t])}const iX=Or({virtualRef:{type:Vt(Object)},virtualTriggering:Boolean,onMouseenter:{type:Vt(Function)},onMouseleave:{type:Vt(Function)},onClick:{type:Vt(Function)},onKeydown:{type:Vt(Function)},onFocus:{type:Vt(Function)},onBlur:{type:Vt(Function)},onContextmenu:{type:Vt(Function)},id:String,open:Boolean}),k2e=rt({name:"ElPopperTrigger",inheritAttrs:!1}),I2e=rt({...k2e,props:iX,setup(t,{expose:e}){const r=t,{role:n,triggerRef:i}=Mr(GM,void 0);G_e(i);const s=pe(()=>a.value?r.id:void 0),o=pe(()=>{if(n&&n.value==="tooltip")return r.open&&r.id?r.id:void 0}),a=pe(()=>{if(n&&n.value!=="tooltip")return n.value}),l=pe(()=>a.value?`${r.open}`:void 0);let u;return Un(()=>{Gt(()=>r.virtualRef,d=>{d&&(i.value=Hc(d))},{immediate:!0}),Gt(i,(d,f)=>{u==null||u(),u=void 0,mu(d)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(h=>{var g;const p=r[h];p&&(d.addEventListener(h.slice(2).toLowerCase(),p),(g=f==null?void 0:f.removeEventListener)==null||g.call(f,h.slice(2).toLowerCase(),p))}),u=Gt([s,o,a,l],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((g,p)=>{oc(h[p])?d.removeAttribute(g):d.setAttribute(g,h[p])})},{immediate:!0})),mu(f)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>f.removeAttribute(h))},{immediate:!0})}),Vs(()=>{u==null||u(),u=void 0}),e({triggerRef:i}),(d,f)=>d.virtualTriggering?xt("v-if",!0):(he(),At(y(P2e),Eo({key:0},d.$attrs,{"aria-controls":y(s),"aria-describedby":y(o),"aria-expanded":y(l),"aria-haspopup":y(a)}),{default:ne(()=>[Yt(d.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var O2e=kr(I2e,[["__file","trigger.vue"]]);const vA="focus-trap.focus-after-trapped",_A="focus-trap.focus-after-released",D2e="focus-trap.focusout-prevented",jF={cancelable:!0,bubbles:!1},M2e={cancelable:!0,bubbles:!1},HF="focusAfterTrapped",GF="focusAfterReleased",sX=Symbol("elFocusTrap"),WM=ye(),AE=ye(0),qM=ye(0);let V1=0;const oX=t=>{const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e},WF=(t,e)=>{for(const r of t)if(!R2e(r,e))return r},R2e=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},$2e=t=>{const e=oX(t),r=WF(e,t),n=WF(e.reverse(),t);return[r,n]},L2e=t=>t instanceof HTMLInputElement&&"select"in t,sh=(t,e)=>{if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),qM.value=window.performance.now(),t!==r&&L2e(t)&&e&&t.select()}};function qF(t,e){const r=[...t],n=t.indexOf(e);return n!==-1&&r.splice(n,1),r}const F2e=()=>{let t=[];return{push:n=>{const i=t[0];i&&n!==i&&i.pause(),t=qF(t,n),t.unshift(n)},remove:n=>{var i,s;t=qF(t,n),(s=(i=t[0])==null?void 0:i.resume)==null||s.call(i)}}},N2e=(t,e=!1)=>{const r=document.activeElement;for(const n of t)if(sh(n,e),document.activeElement!==r)return},XF=F2e(),B2e=()=>AE.value>qM.value,z1=()=>{WM.value="pointer",AE.value=window.performance.now()},YF=()=>{WM.value="keyboard",AE.value=window.performance.now()},U2e=()=>(Un(()=>{V1===0&&(document.addEventListener("mousedown",z1),document.addEventListener("touchstart",z1),document.addEventListener("keydown",YF)),V1++}),Vs(()=>{V1--,V1<=0&&(document.removeEventListener("mousedown",z1),document.removeEventListener("touchstart",z1),document.removeEventListener("keydown",YF))}),{focusReason:WM,lastUserFocusTimestamp:AE,lastAutomatedFocusTimestamp:qM}),j1=t=>new CustomEvent(D2e,{...M2e,detail:t}),V2e=rt({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[HF,GF,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const r=ye();let n,i;const{focusReason:s}=U2e();U_e(p=>{t.trapped&&!o.paused&&e("release-requested",p)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=p=>{if(!t.loop&&!t.trapped||o.paused)return;const{key:v,altKey:b,ctrlKey:S,metaKey:T,currentTarget:E,shiftKey:C}=p,{loop:P}=t,D=v===Xr.tab&&!b&&!S&&!T,L=document.activeElement;if(D&&L){const j=E,[te,se]=$2e(j);if(te&&se){if(!C&&L===se){const X=j1({focusReason:s.value});e("focusout-prevented",X),X.defaultPrevented||(p.preventDefault(),P&&sh(te,!0))}else if(C&&[te,j].includes(L)){const X=j1({focusReason:s.value});e("focusout-prevented",X),X.defaultPrevented||(p.preventDefault(),P&&sh(se,!0))}}else if(L===j){const X=j1({focusReason:s.value});e("focusout-prevented",X),X.defaultPrevented||p.preventDefault()}}};_i(sX,{focusTrapRef:r,onKeydown:a}),Gt(()=>t.focusTrapEl,p=>{p&&(r.value=p)},{immediate:!0}),Gt([r],([p],[v])=>{p&&(p.addEventListener("keydown",a),p.addEventListener("focusin",d),p.addEventListener("focusout",f)),v&&(v.removeEventListener("keydown",a),v.removeEventListener("focusin",d),v.removeEventListener("focusout",f))});const l=p=>{e(HF,p)},u=p=>e(GF,p),d=p=>{const v=y(r);if(!v)return;const b=p.target,S=p.relatedTarget,T=b&&v.contains(b);t.trapped||S&&v.contains(S)||(n=S),T&&e("focusin",p),!o.paused&&t.trapped&&(T?i=b:sh(i,!0))},f=p=>{const v=y(r);if(!(o.paused||!v))if(t.trapped){const b=p.relatedTarget;!oc(b)&&!v.contains(b)&&setTimeout(()=>{if(!o.paused&&t.trapped){const S=j1({focusReason:s.value});e("focusout-prevented",S),S.defaultPrevented||sh(i,!0)}},0)}else{const b=p.target;b&&v.contains(b)||e("focusout",p)}};async function h(){await Hr();const p=y(r);if(p){XF.push(o);const v=p.contains(document.activeElement)?n:document.activeElement;if(n=v,!p.contains(v)){const S=new Event(vA,jF);p.addEventListener(vA,l),p.dispatchEvent(S),S.defaultPrevented||Hr(()=>{let T=t.focusStartEl;on(T)||(sh(T),document.activeElement!==T&&(T="first")),T==="first"&&N2e(oX(p),!0),(document.activeElement===v||T==="container")&&sh(p)})}}}function g(){const p=y(r);if(p){p.removeEventListener(vA,l);const v=new CustomEvent(_A,{...jF,detail:{focusReason:s.value}});p.addEventListener(_A,u),p.dispatchEvent(v),!v.defaultPrevented&&(s.value=="keyboard"||!B2e()||p.contains(document.activeElement))&&sh(n??document.body),p.removeEventListener(_A,u),XF.remove(o)}}return Un(()=>{t.trapped&&h(),Gt(()=>t.trapped,p=>{p?h():g()})}),Vs(()=>{t.trapped&&g()}),{onKeydown:a}}});function z2e(t,e,r,n,i,s){return Yt(t.$slots,"default",{handleKeydown:t.onKeydown})}var PE=kr(V2e,[["render",z2e],["__file","focus-trap.vue"]]);const j2e=["fixed","absolute"],H2e=Or({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Vt(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:wE,default:"bottom"},popperOptions:{type:Vt(Object),default:()=>({})},strategy:{type:String,values:j2e,default:"absolute"}}),aX=Or({...H2e,id:String,style:{type:Vt([String,Array,Object])},className:{type:Vt([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Vt([String,Array,Object])},popperStyle:{type:Vt([String,Array,Object])},referenceEl:{type:Vt(Object)},triggerTargetEl:{type:Vt(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),G2e={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},W2e=(t,e=[])=>{const{placement:r,strategy:n,popperOptions:i}=t,s={placement:r,strategy:n,...i,modifiers:[...X2e(t),...e]};return Y2e(s,i==null?void 0:i.modifiers),s},q2e=t=>{if($n)return Hc(t)};function X2e(t){const{offset:e,gpuAcceleration:r,fallbackPlacements:n}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function Y2e(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const K2e=0,Z2e=t=>{const{popperInstanceRef:e,contentRef:r,triggerRef:n,role:i}=Mr(GM,void 0),s=ye(),o=ye(),a=pe(()=>({name:"eventListeners",enabled:!!t.visible})),l=pe(()=>{var S;const T=y(s),E=(S=y(o))!=null?S:K2e;return{name:"arrow",enabled:!dq(T),options:{element:T,padding:E}}}),u=pe(()=>({onFirstUpdate:()=>{p()},...W2e(t,[y(l),y(a)])})),d=pe(()=>q2e(t.referenceEl)||y(n)),{attributes:f,state:h,styles:g,update:p,forceUpdate:v,instanceRef:b}=F_e(d,r,u);return Gt(b,S=>e.value=S),Un(()=>{Gt(()=>{var S;return(S=y(d))==null?void 0:S.getBoundingClientRect()},()=>{p()})}),{attributes:f,arrowRef:s,contentRef:r,instanceRef:b,state:h,styles:g,role:i,forceUpdate:v,update:p}},Q2e=(t,{attributes:e,styles:r,role:n})=>{const{nextZIndex:i}=TE(),s=sr("popper"),o=pe(()=>y(e).popper),a=ye(Yn(t.zIndex)?t.zIndex:i()),l=pe(()=>[s.b(),s.is("pure",t.pure),s.is(t.effect),t.popperClass]),u=pe(()=>[{zIndex:y(a)},y(r).popper,t.popperStyle||{}]),d=pe(()=>n.value==="dialog"?"false":void 0),f=pe(()=>y(r).arrow||{});return{ariaModal:d,arrowStyle:f,contentAttrs:o,contentClass:l,contentStyle:u,contentZIndex:a,updateZIndex:()=>{a.value=Yn(t.zIndex)?t.zIndex:i()}}},J2e=(t,e)=>{const r=ye(!1),n=ye();return{focusStartRef:n,trapped:r,onFocusAfterReleased:u=>{var d;((d=u.detail)==null?void 0:d.focusReason)!=="pointer"&&(n.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:u=>{t.visible&&!r.value&&(u.target&&(n.value=u.target),r.value=!0)},onFocusoutPrevented:u=>{t.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,e("close")}}},ebe=rt({name:"ElPopperContent"}),tbe=rt({...ebe,props:aX,emits:G2e,setup(t,{expose:e,emit:r}){const n=t,{focusStartRef:i,trapped:s,onFocusAfterReleased:o,onFocusAfterTrapped:a,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:d}=J2e(n,r),{attributes:f,arrowRef:h,contentRef:g,styles:p,instanceRef:v,role:b,update:S}=Z2e(n),{ariaModal:T,arrowStyle:E,contentAttrs:C,contentClass:P,contentStyle:D,updateZIndex:L}=Q2e(n,{styles:p,attributes:f,role:b}),j=Mr(F0,void 0),te=ye();_i(eX,{arrowStyle:E,arrowRef:h,arrowOffset:te}),j&&(j.addInputId||j.removeInputId)&&_i(F0,{...j,addInputId:Wn,removeInputId:Wn});let se;const q=(Q=!0)=>{S(),Q&&L()},X=()=>{q(!1),n.visible&&n.focusOnShow?s.value=!0:n.visible===!1&&(s.value=!1)};return Un(()=>{Gt(()=>n.triggerTargetEl,(Q,$)=>{se==null||se(),se=void 0;const V=y(Q||g.value),Y=y($||g.value);mu(V)&&(se=Gt([b,()=>n.ariaLabel,T,()=>n.id],ee=>{["role","aria-label","aria-modal","id"].forEach((ae,H)=>{oc(ee[H])?V.removeAttribute(ae):V.setAttribute(ae,ee[H])})},{immediate:!0})),Y!==V&&mu(Y)&&["role","aria-label","aria-modal","id"].forEach(ee=>{Y.removeAttribute(ee)})},{immediate:!0}),Gt(()=>n.visible,X,{immediate:!0})}),Vs(()=>{se==null||se(),se=void 0}),e({popperContentRef:g,popperInstanceRef:v,updatePopper:q,contentStyle:D}),(Q,$)=>(he(),Ue("div",Eo({ref_key:"contentRef",ref:g},y(C),{style:y(D),class:y(P),tabindex:"-1",onMouseenter:$[0]||($[0]=V=>Q.$emit("mouseenter",V)),onMouseleave:$[1]||($[1]=V=>Q.$emit("mouseleave",V))}),[N(y(PE),{trapped:y(s),"trap-on-focus-in":!0,"focus-trap-el":y(g),"focus-start-el":y(i),onFocusAfterTrapped:y(a),onFocusAfterReleased:y(o),onFocusin:y(l),onFocusoutPrevented:y(u),onReleaseRequested:y(d)},{default:ne(()=>[Yt(Q.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var rbe=kr(tbe,[["__file","content.vue"]]);const nbe=$i(S2e),kE=Symbol("elTooltip"),IE=Or({...j_e,...aX,appendTo:{type:Vt([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Vt(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),lX=Or({...iX,disabled:Boolean,trigger:{type:Vt([String,Array]),default:"hover"},triggerKeys:{type:Vt(Array),default:()=>[Xr.enter,Xr.space]}}),{useModelToggleProps:ibe,useModelToggleEmits:sbe,useModelToggle:obe}=Oq("visible"),abe=Or({...tX,...ibe,...IE,...lX,...rX,showArrow:{type:Boolean,default:!0}}),lbe=[...sbe,"before-show","before-hide","show","hide","open","close"],ube=(t,e)=>cr(t)?t.includes(e):t===e,Pm=(t,e,r)=>n=>{ube(y(t),e)&&r(n)},cbe=rt({name:"ElTooltipTrigger"}),dbe=rt({...cbe,props:lX,setup(t,{expose:e}){const r=t,n=sr("tooltip"),{controlled:i,id:s,open:o,onOpen:a,onClose:l,onToggle:u}=Mr(kE,void 0),d=ye(null),f=()=>{if(y(i)||r.disabled)return!0},h=oo(r,"trigger"),g=qd(f,Pm(h,"hover",a)),p=qd(f,Pm(h,"hover",l)),v=qd(f,Pm(h,"click",C=>{C.button===0&&u(C)})),b=qd(f,Pm(h,"focus",a)),S=qd(f,Pm(h,"focus",l)),T=qd(f,Pm(h,"contextmenu",C=>{C.preventDefault(),u(C)})),E=qd(f,C=>{const{code:P}=C;r.triggerKeys.includes(P)&&(C.preventDefault(),u(C))});return e({triggerRef:d}),(C,P)=>(he(),At(y(O2e),{id:y(s),"virtual-ref":C.virtualRef,open:y(o),"virtual-triggering":C.virtualTriggering,class:Ee(y(n).e("trigger")),onBlur:y(S),onClick:y(v),onContextmenu:y(T),onFocus:y(b),onMouseenter:y(g),onMouseleave:y(p),onKeydown:y(E)},{default:ne(()=>[Yt(C.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var fbe=kr(dbe,[["__file","trigger.vue"]]);const hbe=rt({name:"ElTooltipContent",inheritAttrs:!1}),pbe=rt({...hbe,props:IE,setup(t,{expose:e}){const r=t,{selector:n}=Gq(),i=sr("tooltip"),s=ye(null),o=ye(!1),{controlled:a,id:l,open:u,trigger:d,onClose:f,onOpen:h,onShow:g,onHide:p,onBeforeShow:v,onBeforeHide:b}=Mr(kE,void 0),S=pe(()=>r.transition||`${i.namespace.value}-fade-in-linear`),T=pe(()=>r.persistent);Vs(()=>{o.value=!0});const E=pe(()=>y(T)?!0:y(u)),C=pe(()=>r.disabled?!1:y(u)),P=pe(()=>r.appendTo||n.value),D=pe(()=>{var ee;return(ee=r.style)!=null?ee:{}}),L=pe(()=>!y(u)),j=()=>{p()},te=()=>{if(y(a))return!0},se=qd(te,()=>{r.enterable&&y(d)==="hover"&&h()}),q=qd(te,()=>{y(d)==="hover"&&f()}),X=()=>{var ee,ae;(ae=(ee=s.value)==null?void 0:ee.updatePopper)==null||ae.call(ee),v==null||v()},Q=()=>{b==null||b()},$=()=>{g(),Y=OW(pe(()=>{var ee;return(ee=s.value)==null?void 0:ee.popperContentRef}),()=>{if(y(a))return;y(d)!=="hover"&&f()})},V=()=>{r.virtualTriggering||f()};let Y;return Gt(()=>y(u),ee=>{ee||Y==null||Y()},{flush:"post"}),Gt(()=>r.content,()=>{var ee,ae;(ae=(ee=s.value)==null?void 0:ee.updatePopper)==null||ae.call(ee)}),e({contentRef:s}),(ee,ae)=>(he(),At(uE,{disabled:!ee.teleported,to:y(P)},[N(sa,{name:y(S),onAfterLeave:j,onBeforeEnter:X,onAfterEnter:$,onBeforeLeave:Q},{default:ne(()=>[y(E)?xn((he(),At(y(rbe),Eo({key:0,id:y(l),ref_key:"contentRef",ref:s},ee.$attrs,{"aria-label":ee.ariaLabel,"aria-hidden":y(L),"boundaries-padding":ee.boundariesPadding,"fallback-placements":ee.fallbackPlacements,"gpu-acceleration":ee.gpuAcceleration,offset:ee.offset,placement:ee.placement,"popper-options":ee.popperOptions,strategy:ee.strategy,effect:ee.effect,enterable:ee.enterable,pure:ee.pure,"popper-class":ee.popperClass,"popper-style":[ee.popperStyle,y(D)],"reference-el":ee.referenceEl,"trigger-target-el":ee.triggerTargetEl,visible:y(C),"z-index":ee.zIndex,onMouseenter:y(se),onMouseleave:y(q),onBlur:V,onClose:y(f)}),{default:ne(()=>[o.value?xt("v-if",!0):Yt(ee.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Ci,y(C)]]):xt("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var mbe=kr(pbe,[["__file","content.vue"]]);const gbe=["innerHTML"],vbe={key:1},_be=rt({name:"ElTooltip"}),ybe=rt({..._be,props:abe,emits:lbe,setup(t,{expose:e,emit:r}){const n=t;z_e();const i=ac(),s=ye(),o=ye(),a=()=>{var S;const T=y(s);T&&((S=T.popperInstanceRef)==null||S.update())},l=ye(!1),u=ye(),{show:d,hide:f,hasUpdateHandler:h}=obe({indicator:l,toggleReason:u}),{onOpen:g,onClose:p}=H_e({showAfter:oo(n,"showAfter"),hideAfter:oo(n,"hideAfter"),autoClose:oo(n,"autoClose"),open:d,close:f}),v=pe(()=>pu(n.visible)&&!h.value);_i(kE,{controlled:v,id:i,open:kv(l),trigger:oo(n,"trigger"),onOpen:S=>{g(S)},onClose:S=>{p(S)},onToggle:S=>{y(l)?p(S):g(S)},onShow:()=>{r("show",u.value)},onHide:()=>{r("hide",u.value)},onBeforeShow:()=>{r("before-show",u.value)},onBeforeHide:()=>{r("before-hide",u.value)},updatePopper:a}),Gt(()=>n.disabled,S=>{S&&l.value&&(l.value=!1)});const b=S=>{var T,E;const C=(E=(T=o.value)==null?void 0:T.contentRef)==null?void 0:E.popperContentRef,P=(S==null?void 0:S.relatedTarget)||document.activeElement;return C&&C.contains(P)};return jG(()=>l.value&&f()),e({popperRef:s,contentRef:o,isFocusInsideContent:b,updatePopper:a,onOpen:g,onClose:p,hide:f}),(S,T)=>(he(),At(y(nbe),{ref_key:"popperRef",ref:s,role:S.role},{default:ne(()=>[N(fbe,{disabled:S.disabled,trigger:S.trigger,"trigger-keys":S.triggerKeys,"virtual-ref":S.virtualRef,"virtual-triggering":S.virtualTriggering},{default:ne(()=>[S.$slots.default?Yt(S.$slots,"default",{key:0}):xt("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),N(mbe,{ref_key:"contentRef",ref:o,"aria-label":S.ariaLabel,"boundaries-padding":S.boundariesPadding,content:S.content,disabled:S.disabled,effect:S.effect,enterable:S.enterable,"fallback-placements":S.fallbackPlacements,"hide-after":S.hideAfter,"gpu-acceleration":S.gpuAcceleration,offset:S.offset,persistent:S.persistent,"popper-class":S.popperClass,"popper-style":S.popperStyle,placement:S.placement,"popper-options":S.popperOptions,pure:S.pure,"raw-content":S.rawContent,"reference-el":S.referenceEl,"trigger-target-el":S.triggerTargetEl,"show-after":S.showAfter,strategy:S.strategy,teleported:S.teleported,transition:S.transition,"virtual-triggering":S.virtualTriggering,"z-index":S.zIndex,"append-to":S.appendTo},{default:ne(()=>[Yt(S.$slots,"content",{},()=>[S.rawContent?(he(),Ue("span",{key:0,innerHTML:S.content},null,8,gbe)):(he(),Ue("span",vbe,hr(S.content),1))]),S.showArrow?(he(),At(y(C2e),{key:0,"arrow-offset":S.arrowOffset},null,8,["arrow-offset"])):xt("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var bbe=kr(ybe,[["__file","tooltip.vue"]]);const Uh=$i(bbe),xbe=Or({size:{type:[Number,String],values:Jh,default:"",validator:t=>Yn(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Ys},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Vt(String),default:"cover"}}),wbe={error:t=>t instanceof Event},Sbe=["src","alt","srcset"],Tbe=rt({name:"ElAvatar"}),Ebe=rt({...Tbe,props:xbe,emits:wbe,setup(t,{emit:e}){const r=t,n=sr("avatar"),i=ye(!1),s=pe(()=>{const{size:u,icon:d,shape:f}=r,h=[n.b()];return on(u)&&h.push(n.m(u)),d&&h.push(n.m("icon")),f&&h.push(n.m(f)),h}),o=pe(()=>{const{size:u}=r;return Yn(u)?n.cssVarBlock({size:ad(u)||""}):void 0}),a=pe(()=>({objectFit:r.fit}));Gt(()=>r.src,()=>i.value=!1);function l(u){i.value=!0,e("error",u)}return(u,d)=>(he(),Ue("span",{class:Ee(y(s)),style:sn(y(o))},[(u.src||u.srcSet)&&!i.value?(he(),Ue("img",{key:0,src:u.src,alt:u.alt,srcset:u.srcSet,style:sn(y(a)),onError:l},null,44,Sbe)):u.icon?(he(),At(y(Dr),{key:1},{default:ne(()=>[(he(),At(vi(u.icon)))]),_:1})):Yt(u.$slots,"default",{key:2})],6))}});var Cbe=kr(Ebe,[["__file","avatar.vue"]]);const Abe=$i(Cbe),Pbe=Or({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String}),kbe=["textContent"],Ibe=rt({name:"ElBadge"}),Obe=rt({...Ibe,props:Pbe,setup(t,{expose:e}){const r=t,n=sr("badge"),i=pe(()=>r.isDot?"":Yn(r.value)&&Yn(r.max)?r.max<r.value?`${r.max}+`:r.value===0&&!r.showZero?"":`${r.value}`:`${r.value}`);return e({content:i}),(s,o)=>(he(),Ue("div",{class:Ee(y(n).b())},[Yt(s.$slots,"default"),N(sa,{name:`${y(n).namespace.value}-zoom-in-center`,persisted:""},{default:ne(()=>[xn(He("sup",{class:Ee([y(n).e("content"),y(n).em("content",s.type),y(n).is("fixed",!!s.$slots.default),y(n).is("dot",s.isDot)]),style:sn({backgroundColor:s.color}),textContent:hr(y(i))},null,14,kbe),[[Ci,!s.hidden&&(y(i)||s.isDot)]])]),_:1},8,["name"])],2))}});var Dbe=kr(Obe,[["__file","badge.vue"]]);const uX=$i(Dbe),cX=Symbol("buttonGroupContextKey"),Mbe=(t,e)=>{b0({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},pe(()=>t.type==="text"));const r=Mr(cX,void 0),n=EE("button"),{form:i}=_d(),s=_u(pe(()=>r==null?void 0:r.size)),o=Af(),a=ye(),l=Ml(),u=pe(()=>t.type||(r==null?void 0:r.type)||""),d=pe(()=>{var p,v,b;return(b=(v=t.autoInsertSpace)!=null?v:(p=n.value)==null?void 0:p.autoInsertSpace)!=null?b:!1}),f=pe(()=>t.tag==="button"?{ariaDisabled:o.value||t.loading,disabled:o.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),h=pe(()=>{var p;const v=(p=l.default)==null?void 0:p.call(l);if(d.value&&(v==null?void 0:v.length)===1){const b=v[0];if((b==null?void 0:b.type)===Ov){const S=b.children;return/^\p{Unified_Ideograph}{2}$/u.test(S.trim())}}return!1});return{_disabled:o,_size:s,_type:u,_ref:a,_props:f,shouldAddSpace:h,handleClick:p=>{t.nativeType==="reset"&&(i==null||i.resetFields()),e("click",p)}}},Rbe=["default","primary","success","warning","info","danger","text",""],$be=["button","submit","reset"],ok=Or({size:vd,disabled:Boolean,type:{type:String,values:Rbe,default:""},icon:{type:Ys},nativeType:{type:String,values:$be,default:"button"},loading:Boolean,loadingIcon:{type:Ys,default:()=>Yb},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Vt([String,Object]),default:"button"}}),Lbe={click:t=>t instanceof MouseEvent};function zo(t,e){Fbe(t)&&(t="100%");var r=Nbe(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function H1(t){return Math.min(1,Math.max(0,t))}function Fbe(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function Nbe(t){return typeof t=="string"&&t.indexOf("%")!==-1}function dX(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function G1(t){return t<=1?"".concat(Number(t)*100,"%"):t}function l0(t){return t.length===1?"0"+t:String(t)}function Bbe(t,e,r){return{r:zo(t,255)*255,g:zo(e,255)*255,b:zo(r,255)*255}}function KF(t,e,r){t=zo(t,255),e=zo(e,255),r=zo(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s=0,o=0,a=(n+i)/2;if(n===i)o=0,s=0;else{var l=n-i;switch(o=a>.5?l/(2-n-i):l/(n+i),n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function yA(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*(6*r):r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Ube(t,e,r){var n,i,s;if(t=zo(t,360),e=zo(e,100),r=zo(r,100),e===0)i=r,s=r,n=r;else{var o=r<.5?r*(1+e):r+e-r*e,a=2*r-o;n=yA(a,o,t+1/3),i=yA(a,o,t),s=yA(a,o,t-1/3)}return{r:n*255,g:i*255,b:s*255}}function ZF(t,e,r){t=zo(t,255),e=zo(e,255),r=zo(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s=0,o=n,a=n-i,l=n===0?0:a/n;if(n===i)s=0;else{switch(n){case t:s=(e-r)/a+(e<r?6:0);break;case e:s=(r-t)/a+2;break;case r:s=(t-e)/a+4;break}s/=6}return{h:s,s:l,v:o}}function Vbe(t,e,r){t=zo(t,360)*6,e=zo(e,100),r=zo(r,100);var n=Math.floor(t),i=t-n,s=r*(1-e),o=r*(1-i*e),a=r*(1-(1-i)*e),l=n%6,u=[r,o,s,s,a,r][l],d=[a,r,r,o,s,s][l],f=[s,s,a,r,r,o][l];return{r:u*255,g:d*255,b:f*255}}function QF(t,e,r,n){var i=[l0(Math.round(t).toString(16)),l0(Math.round(e).toString(16)),l0(Math.round(r).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function zbe(t,e,r,n,i){var s=[l0(Math.round(t).toString(16)),l0(Math.round(e).toString(16)),l0(Math.round(r).toString(16)),l0(jbe(n))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function jbe(t){return Math.round(parseFloat(t)*255).toString(16)}function JF(t){return hl(t)/255}function hl(t){return parseInt(t,16)}function Hbe(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var ak={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Gbe(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=Xbe(t)),typeof t=="object"&&(Ld(t.r)&&Ld(t.g)&&Ld(t.b)?(e=Bbe(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Ld(t.h)&&Ld(t.s)&&Ld(t.v)?(n=G1(t.s),i=G1(t.v),e=Vbe(t.h,n,i),o=!0,a="hsv"):Ld(t.h)&&Ld(t.s)&&Ld(t.l)&&(n=G1(t.s),s=G1(t.l),e=Ube(t.h,n,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=dX(r),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var Wbe="[-\\+]?\\d+%?",qbe="[-\\+]?\\d*\\.\\d+%?",wh="(?:".concat(qbe,")|(?:").concat(Wbe,")"),bA="[\\s|\\(]+(".concat(wh,")[,|\\s]+(").concat(wh,")[,|\\s]+(").concat(wh,")\\s*\\)?"),xA="[\\s|\\(]+(".concat(wh,")[,|\\s]+(").concat(wh,")[,|\\s]+(").concat(wh,")[,|\\s]+(").concat(wh,")\\s*\\)?"),Fu={CSS_UNIT:new RegExp(wh),rgb:new RegExp("rgb"+bA),rgba:new RegExp("rgba"+xA),hsl:new RegExp("hsl"+bA),hsla:new RegExp("hsla"+xA),hsv:new RegExp("hsv"+bA),hsva:new RegExp("hsva"+xA),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Xbe(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(ak[t])t=ak[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=Fu.rgb.exec(t);return r?{r:r[1],g:r[2],b:r[3]}:(r=Fu.rgba.exec(t),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Fu.hsl.exec(t),r?{h:r[1],s:r[2],l:r[3]}:(r=Fu.hsla.exec(t),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Fu.hsv.exec(t),r?{h:r[1],s:r[2],v:r[3]}:(r=Fu.hsva.exec(t),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Fu.hex8.exec(t),r?{r:hl(r[1]),g:hl(r[2]),b:hl(r[3]),a:JF(r[4]),format:e?"name":"hex8"}:(r=Fu.hex6.exec(t),r?{r:hl(r[1]),g:hl(r[2]),b:hl(r[3]),format:e?"name":"hex"}:(r=Fu.hex4.exec(t),r?{r:hl(r[1]+r[1]),g:hl(r[2]+r[2]),b:hl(r[3]+r[3]),a:JF(r[4]+r[4]),format:e?"name":"hex8"}:(r=Fu.hex3.exec(t),r?{r:hl(r[1]+r[1]),g:hl(r[2]+r[2]),b:hl(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function Ld(t){return!!Fu.CSS_UNIT.exec(String(t))}var fX=function(){function t(e,r){e===void 0&&(e=""),r===void 0&&(r={});var n;if(e instanceof t)return e;typeof e=="number"&&(e=Hbe(e)),this.originalInput=e;var i=Gbe(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:i.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),r,n,i,s=e.r/255,o=e.g/255,a=e.b/255;return s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*r+.7152*n+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=dX(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=ZF(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=ZF(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=KF(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=KF(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),QF(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),zbe(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(n,")"):"rgba(".concat(e,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(zo(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(zo(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+QF(this.r,this.g,this.b,!1),r=0,n=Object.entries(ak);r<n.length;r++){var i=n[r],s=i[0],o=i[1];if(e===o)return s}return!1},t.prototype.toString=function(e){var r=!!e;e=e??this.format;var n=!1,i=this.a<1&&this.a>=0,s=!r&&i&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=H1(r.l),new t(r)},t.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new t(r)},t.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=H1(r.l),new t(r)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=H1(r.s),new t(r)},t.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=H1(r.s),new t(r)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var r=this.toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,new t(r)},t.prototype.mix=function(e,r){r===void 0&&(r=50);var n=this.toRgb(),i=new t(e).toRgb(),s=r/100,o={r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a};return new t(o)},t.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var n=this.toHsl(),i=360/r,s=[this];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,s.push(new t(n));return s},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),n=r.h,i=r.s,s=r.v,o=[],a=1/e;e--;)o.push(new t({h:n,s:i,v:s})),s=(s+a)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new t({h:(r+72)%360,s:e.s,l:e.l}),new t({h:(r+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var r=this.toRgb(),n=new t(e).toRgb(),i=r.a+n.a*(1-r.a);return new t({r:(r.r*r.a+n.r*n.a*(1-r.a))/i,g:(r.g*r.a+n.g*n.a*(1-r.a))/i,b:(r.b*r.a+n.b*n.a*(1-r.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var r=this.toHsl(),n=r.h,i=[this],s=360/e,o=1;o<e;o++)i.push(new t({h:(n+o*s)%360,s:r.s,l:r.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function Gf(t,e=20){return t.mix("#141414",e).toString()}function Ybe(t){const e=Af(),r=sr("button");return pe(()=>{let n={};const i=t.color;if(i){const s=new fX(i),o=t.dark?s.tint(20).toString():Gf(s,20);if(t.plain)n=r.cssVarBlock({"bg-color":t.dark?Gf(s,90):s.tint(90).toString(),"text-color":i,"border-color":t.dark?Gf(s,50):s.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":o,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(n[r.cssVarBlockName("disabled-bg-color")]=t.dark?Gf(s,90):s.tint(90).toString(),n[r.cssVarBlockName("disabled-text-color")]=t.dark?Gf(s,50):s.tint(50).toString(),n[r.cssVarBlockName("disabled-border-color")]=t.dark?Gf(s,80):s.tint(80).toString());else{const a=t.dark?Gf(s,30):s.tint(30).toString(),l=s.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(n=r.cssVarBlock({"bg-color":i,"text-color":l,"border-color":i,"hover-bg-color":a,"hover-text-color":l,"hover-border-color":a,"active-bg-color":o,"active-border-color":o}),e.value){const u=t.dark?Gf(s,50):s.tint(50).toString();n[r.cssVarBlockName("disabled-bg-color")]=u,n[r.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,n[r.cssVarBlockName("disabled-border-color")]=u}}}return n})}const Kbe=rt({name:"ElButton"}),Zbe=rt({...Kbe,props:ok,emits:Lbe,setup(t,{expose:e,emit:r}){const n=t,i=Ybe(n),s=sr("button"),{_ref:o,_size:a,_type:l,_disabled:u,_props:d,shouldAddSpace:f,handleClick:h}=Mbe(n,r);return e({ref:o,size:a,type:l,disabled:u,shouldAddSpace:f}),(g,p)=>(he(),At(vi(g.tag),Eo({ref_key:"_ref",ref:o},y(d),{class:[y(s).b(),y(s).m(y(l)),y(s).m(y(a)),y(s).is("disabled",y(u)),y(s).is("loading",g.loading),y(s).is("plain",g.plain),y(s).is("round",g.round),y(s).is("circle",g.circle),y(s).is("text",g.text),y(s).is("link",g.link),y(s).is("has-bg",g.bg)],style:y(i),onClick:y(h)}),{default:ne(()=>[g.loading?(he(),Ue(Ar,{key:0},[g.$slots.loading?Yt(g.$slots,"loading",{key:0}):(he(),At(y(Dr),{key:1,class:Ee(y(s).is("loading"))},{default:ne(()=>[(he(),At(vi(g.loadingIcon)))]),_:1},8,["class"]))],64)):g.icon||g.$slots.icon?(he(),At(y(Dr),{key:1},{default:ne(()=>[g.icon?(he(),At(vi(g.icon),{key:0})):Yt(g.$slots,"icon",{key:1})]),_:3})):xt("v-if",!0),g.$slots.default?(he(),Ue("span",{key:2,class:Ee({[y(s).em("text","expand")]:y(f)})},[Yt(g.$slots,"default")],2)):xt("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Qbe=kr(Zbe,[["__file","button.vue"]]);const Jbe={size:ok.size,type:ok.type},e1e=rt({name:"ElButtonGroup"}),t1e=rt({...e1e,props:Jbe,setup(t){const e=t;_i(cX,vn({size:oo(e,"size"),type:oo(e,"type")}));const r=sr("button");return(n,i)=>(he(),Ue("div",{class:Ee(`${y(r).b("group")}`)},[Yt(n.$slots,"default")],2))}});var hX=kr(t1e,[["__file","button-group.vue"]]);const Zn=$i(Qbe,{ButtonGroup:hX});ko(hX);var Co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var pX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Co,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",d="week",f="month",h="quarter",g="year",p="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var V=["th","st","nd","rd"],Y=$%100;return"["+$+(V[(Y-20)%10]||V[Y]||V[0])+"]"}},E=function($,V,Y){var ee=String($);return!ee||ee.length>=V?$:""+Array(V+1-ee.length).join(Y)+$},C={s:E,z:function($){var V=-$.utcOffset(),Y=Math.abs(V),ee=Math.floor(Y/60),ae=Y%60;return(V<=0?"+":"-")+E(ee,2,"0")+":"+E(ae,2,"0")},m:function $(V,Y){if(V.date()<Y.date())return-$(Y,V);var ee=12*(Y.year()-V.year())+(Y.month()-V.month()),ae=V.clone().add(ee,f),H=Y-ae<0,J=V.clone().add(ee+(H?-1:1),f);return+(-(ee+(Y-ae)/(H?ae-J:J-ae))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:f,y:g,w:d,d:u,D:p,h:l,m:a,s:o,ms:s,Q:h}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},P="en",D={};D[P]=T;var L="$isDayjsObject",j=function($){return $ instanceof X||!(!$||!$[L])},te=function $(V,Y,ee){var ae;if(!V)return P;if(typeof V=="string"){var H=V.toLowerCase();D[H]&&(ae=H),Y&&(D[H]=Y,ae=H);var J=V.split("-");if(!ae&&J.length>1)return $(J[0])}else{var ie=V.name;D[ie]=V,ae=ie}return!ee&&ae&&(P=ae),ae||!ee&&P},se=function($,V){if(j($))return $.clone();var Y=typeof V=="object"?V:{};return Y.date=$,Y.args=arguments,new X(Y)},q=C;q.l=te,q.i=j,q.w=function($,V){return se($,{locale:V.$L,utc:V.$u,x:V.$x,$offset:V.$offset})};var X=function(){function $(Y){this.$L=te(Y.locale,null,!0),this.parse(Y),this.$x=this.$x||Y.x||{},this[L]=!0}var V=$.prototype;return V.parse=function(Y){this.$d=function(ee){var ae=ee.date,H=ee.utc;if(ae===null)return new Date(NaN);if(q.u(ae))return new Date;if(ae instanceof Date)return new Date(ae);if(typeof ae=="string"&&!/Z$/i.test(ae)){var J=ae.match(b);if(J){var ie=J[2]-1||0,xe=(J[7]||"0").substring(0,3);return H?new Date(Date.UTC(J[1],ie,J[3]||1,J[4]||0,J[5]||0,J[6]||0,xe)):new Date(J[1],ie,J[3]||1,J[4]||0,J[5]||0,J[6]||0,xe)}}return new Date(ae)}(Y),this.init()},V.init=function(){var Y=this.$d;this.$y=Y.getFullYear(),this.$M=Y.getMonth(),this.$D=Y.getDate(),this.$W=Y.getDay(),this.$H=Y.getHours(),this.$m=Y.getMinutes(),this.$s=Y.getSeconds(),this.$ms=Y.getMilliseconds()},V.$utils=function(){return q},V.isValid=function(){return this.$d.toString()!==v},V.isSame=function(Y,ee){var ae=se(Y);return this.startOf(ee)<=ae&&ae<=this.endOf(ee)},V.isAfter=function(Y,ee){return se(Y)<this.startOf(ee)},V.isBefore=function(Y,ee){return this.endOf(ee)<se(Y)},V.$g=function(Y,ee,ae){return q.u(Y)?this[ee]:this.set(ae,Y)},V.unix=function(){return Math.floor(this.valueOf()/1e3)},V.valueOf=function(){return this.$d.getTime()},V.startOf=function(Y,ee){var ae=this,H=!!q.u(ee)||ee,J=q.p(Y),ie=function(vt,pt){var Ut=q.w(ae.$u?Date.UTC(ae.$y,pt,vt):new Date(ae.$y,pt,vt),ae);return H?Ut:Ut.endOf(u)},xe=function(vt,pt){return q.w(ae.toDate()[vt].apply(ae.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(pt)),ae)},qe=this.$W,et=this.$M,Je=this.$D,lt="set"+(this.$u?"UTC":"");switch(J){case g:return H?ie(1,0):ie(31,11);case f:return H?ie(1,et):ie(0,et+1);case d:var Re=this.$locale().weekStart||0,wt=(qe<Re?qe+7:qe)-Re;return ie(H?Je-wt:Je+(6-wt),et);case u:case p:return xe(lt+"Hours",0);case l:return xe(lt+"Minutes",1);case a:return xe(lt+"Seconds",2);case o:return xe(lt+"Milliseconds",3);default:return this.clone()}},V.endOf=function(Y){return this.startOf(Y,!1)},V.$set=function(Y,ee){var ae,H=q.p(Y),J="set"+(this.$u?"UTC":""),ie=(ae={},ae[u]=J+"Date",ae[p]=J+"Date",ae[f]=J+"Month",ae[g]=J+"FullYear",ae[l]=J+"Hours",ae[a]=J+"Minutes",ae[o]=J+"Seconds",ae[s]=J+"Milliseconds",ae)[H],xe=H===u?this.$D+(ee-this.$W):ee;if(H===f||H===g){var qe=this.clone().set(p,1);qe.$d[ie](xe),qe.init(),this.$d=qe.set(p,Math.min(this.$D,qe.daysInMonth())).$d}else ie&&this.$d[ie](xe);return this.init(),this},V.set=function(Y,ee){return this.clone().$set(Y,ee)},V.get=function(Y){return this[q.p(Y)]()},V.add=function(Y,ee){var ae,H=this;Y=Number(Y);var J=q.p(ee),ie=function(et){var Je=se(H);return q.w(Je.date(Je.date()+Math.round(et*Y)),H)};if(J===f)return this.set(f,this.$M+Y);if(J===g)return this.set(g,this.$y+Y);if(J===u)return ie(1);if(J===d)return ie(7);var xe=(ae={},ae[a]=n,ae[l]=i,ae[o]=r,ae)[J]||1,qe=this.$d.getTime()+Y*xe;return q.w(qe,this)},V.subtract=function(Y,ee){return this.add(-1*Y,ee)},V.format=function(Y){var ee=this,ae=this.$locale();if(!this.isValid())return ae.invalidDate||v;var H=Y||"YYYY-MM-DDTHH:mm:ssZ",J=q.z(this),ie=this.$H,xe=this.$m,qe=this.$M,et=ae.weekdays,Je=ae.months,lt=ae.meridiem,Re=function(pt,Ut,yt,le){return pt&&(pt[Ut]||pt(ee,H))||yt[Ut].slice(0,le)},wt=function(pt){return q.s(ie%12||12,pt,"0")},vt=lt||function(pt,Ut,yt){var le=pt<12?"AM":"PM";return yt?le.toLowerCase():le};return H.replace(S,function(pt,Ut){return Ut||function(yt){switch(yt){case"YY":return String(ee.$y).slice(-2);case"YYYY":return q.s(ee.$y,4,"0");case"M":return qe+1;case"MM":return q.s(qe+1,2,"0");case"MMM":return Re(ae.monthsShort,qe,Je,3);case"MMMM":return Re(Je,qe);case"D":return ee.$D;case"DD":return q.s(ee.$D,2,"0");case"d":return String(ee.$W);case"dd":return Re(ae.weekdaysMin,ee.$W,et,2);case"ddd":return Re(ae.weekdaysShort,ee.$W,et,3);case"dddd":return et[ee.$W];case"H":return String(ie);case"HH":return q.s(ie,2,"0");case"h":return wt(1);case"hh":return wt(2);case"a":return vt(ie,xe,!0);case"A":return vt(ie,xe,!1);case"m":return String(xe);case"mm":return q.s(xe,2,"0");case"s":return String(ee.$s);case"ss":return q.s(ee.$s,2,"0");case"SSS":return q.s(ee.$ms,3,"0");case"Z":return J}return null}(pt)||J.replace(":","")})},V.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},V.diff=function(Y,ee,ae){var H,J=this,ie=q.p(ee),xe=se(Y),qe=(xe.utcOffset()-this.utcOffset())*n,et=this-xe,Je=function(){return q.m(J,xe)};switch(ie){case g:H=Je()/12;break;case f:H=Je();break;case h:H=Je()/3;break;case d:H=(et-qe)/6048e5;break;case u:H=(et-qe)/864e5;break;case l:H=et/i;break;case a:H=et/n;break;case o:H=et/r;break;default:H=et}return ae?H:q.a(H)},V.daysInMonth=function(){return this.endOf(f).$D},V.$locale=function(){return D[this.$L]},V.locale=function(Y,ee){if(!Y)return this.$L;var ae=this.clone(),H=te(Y,ee,!0);return H&&(ae.$L=H),ae},V.clone=function(){return q.w(this.$d,this)},V.toDate=function(){return new Date(this.valueOf())},V.toJSON=function(){return this.isValid()?this.toISOString():null},V.toISOString=function(){return this.$d.toISOString()},V.toString=function(){return this.$d.toUTCString()},$}(),Q=X.prototype;return se.prototype=Q,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",f],["$y",g],["$D",p]].forEach(function($){Q[$[1]]=function(V){return this.$g(V,$[0],$[1])}}),se.extend=function($,V){return $.$i||($(V,X,se),$.$i=!0),se},se.locale=te,se.isDayjs=j,se.unix=function($){return se(1e3*$)},se.en=D[P],se.Ls=D,se.p={},se})})(pX);var r1e=pX.exports;const Jr=zs(r1e);var mX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Co,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},l=function(v){return(v=+v)+(v>68?1900:2e3)},u=function(v){return function(b){this[v]=+b}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var S=b.match(/([+-]|\d\d)/g),T=60*S[1]+(+S[2]||0);return T===0?0:S[0]==="+"?-T:T}(v)}],f=function(v){var b=a[v];return b&&(b.indexOf?b:b.s.concat(b.f))},h=function(v,b){var S,T=a.meridiem;if(T){for(var E=1;E<=24;E+=1)if(v.indexOf(T(E,0,b))>-1){S=E>12;break}}else S=v===(b?"pm":"PM");return S},g={A:[o,function(v){this.afternoon=h(v,!1)}],a:[o,function(v){this.afternoon=h(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[i,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[i,u("day")],Do:[o,function(v){var b=a.ordinal,S=v.match(/\d+/);if(this.day=S[0],b)for(var T=1;T<=31;T+=1)b(T).replace(/\[|\]/g,"")===v&&(this.day=T)}],M:[s,u("month")],MM:[i,u("month")],MMM:[o,function(v){var b=f("months"),S=(f("monthsShort")||b.map(function(T){return T.slice(0,3)})).indexOf(v)+1;if(S<1)throw new Error;this.month=S%12||S}],MMMM:[o,function(v){var b=f("months").indexOf(v)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,u("year")],YY:[i,function(v){this.year=l(v)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function p(v){var b,S;b=v,S=a&&a.formats;for(var T=(v=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(te,se,q){var X=q&&q.toUpperCase();return se||S[q]||r[q]||S[X].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Q,$,V){return $||V.slice(1)})})).match(n),E=T.length,C=0;C<E;C+=1){var P=T[C],D=g[P],L=D&&D[0],j=D&&D[1];T[C]=j?{regex:L,parser:j}:P.replace(/^\[|\]$/g,"")}return function(te){for(var se={},q=0,X=0;q<E;q+=1){var Q=T[q];if(typeof Q=="string")X+=Q.length;else{var $=Q.regex,V=Q.parser,Y=te.slice(X),ee=$.exec(Y)[0];V.call(se,ee),te=te.replace(ee,"")}}return function(ae){var H=ae.afternoon;if(H!==void 0){var J=ae.hours;H?J<12&&(ae.hours+=12):J===12&&(ae.hours=0),delete ae.afternoon}}(se),se}}return function(v,b,S){S.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(l=v.parseTwoDigitYear);var T=b.prototype,E=T.parse;T.parse=function(C){var P=C.date,D=C.utc,L=C.args;this.$u=D;var j=L[1];if(typeof j=="string"){var te=L[2]===!0,se=L[3]===!0,q=te||se,X=L[2];se&&(X=L[2]),a=this.$locale(),!te&&X&&(a=S.Ls[X]),this.$d=function(Y,ee,ae){try{if(["x","X"].indexOf(ee)>-1)return new Date((ee==="X"?1e3:1)*Y);var H=p(ee)(Y),J=H.year,ie=H.month,xe=H.day,qe=H.hours,et=H.minutes,Je=H.seconds,lt=H.milliseconds,Re=H.zone,wt=new Date,vt=xe||(J||ie?1:wt.getDate()),pt=J||wt.getFullYear(),Ut=0;J&&!ie||(Ut=ie>0?ie-1:wt.getMonth());var yt=qe||0,le=et||0,Oe=Je||0,nt=lt||0;return Re?new Date(Date.UTC(pt,Ut,vt,yt,le,Oe,nt+60*Re.offset*1e3)):ae?new Date(Date.UTC(pt,Ut,vt,yt,le,Oe,nt)):new Date(pt,Ut,vt,yt,le,Oe,nt)}catch{return new Date("")}}(P,j,D),this.init(),X&&X!==!0&&(this.$L=this.locale(X).$L),q&&P!=this.format(j)&&(this.$d=new Date("")),a={}}else if(j instanceof Array)for(var Q=j.length,$=1;$<=Q;$+=1){L[1]=j[$-1];var V=S.apply(this,L);if(V.isValid()){this.$d=V.$d,this.$L=V.$L,this.init();break}$===Q&&(this.$d=new Date(""))}else E.call(this,C)}}})})(mX);var n1e=mX.exports;const i1e=zs(n1e),eN=["hours","minutes","seconds"],tN="HH:mm:ss",Xm="YYYY-MM-DD",s1e={date:Xm,dates:Xm,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",datetime:`${Xm} ${tN}`,monthrange:"YYYY-MM",daterange:Xm,datetimerange:`${Xm} ${tN}`},wA=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],gX=t=>Array.from(Array.from({length:t}).keys()),vX=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),_X=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),rN=function(t,e){const r=pS(t),n=pS(e);return r&&n?t.getTime()===e.getTime():!r&&!n?t===e:!1},nN=function(t,e){const r=cr(t),n=cr(e);return r&&n?t.length!==e.length?!1:t.every((i,s)=>rN(i,e[s])):!r&&!n?rN(t,e):!1},iN=function(t,e,r){const n=Kl(e)||e==="x"?Jr(t).locale(r):Jr(t,e).locale(r);return n.isValid()?n:void 0},sN=function(t,e,r){return Kl(e)?t:e==="x"?+t:Jr(t).locale(r).format(e)},SA=(t,e)=>{var r;const n=[],i=e==null?void 0:e();for(let s=0;s<t;s++)n.push((r=i==null?void 0:i.includes(s))!=null?r:!1);return n},yX=Or({disabledHours:{type:Vt(Function)},disabledMinutes:{type:Vt(Function)},disabledSeconds:{type:Vt(Function)}}),o1e=Or({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),bX=Or({id:{type:Vt([Array,String])},name:{type:Vt([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Vt([String,Object]),default:Rv},editable:{type:Boolean,default:!0},prefixIcon:{type:Vt([String,Object]),default:""},size:vd,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Vt(Object),default:()=>({})},modelValue:{type:Vt([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Vt([Date,Array])},defaultTime:{type:Vt([Date,Array])},isRange:Boolean,...yX,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,label:{type:String,default:void 0},tabindex:{type:Vt([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),a1e=["id","name","placeholder","value","disabled","readonly"],l1e=["id","name","placeholder","value","disabled","readonly"],u1e=rt({name:"Picker"}),c1e=rt({...u1e,props:bX,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:r}){const n=t,i=Iv(),{lang:s}=Ti(),o=sr("date"),a=sr("input"),l=sr("range"),{form:u,formItem:d}=_d(),f=Mr("ElPopperOptions",{}),h=ye(),g=ye(),p=ye(!1),v=ye(!1),b=ye(null);let S=!1,T=!1;const E=pe(()=>[o.b("editor"),o.bm("editor",n.type),a.e("wrapper"),o.is("disabled",xe.value),o.is("active",p.value),l.b("editor"),Ot?l.bm("editor",Ot.value):"",i.class]),C=pe(()=>[a.e("icon"),l.e("close-icon"),pt.value?"":l.e("close-icon--hidden")]);Gt(p,Ae=>{Ae?Hr(()=>{Ae&&(b.value=n.modelValue)}):(Mt.value=null,Hr(()=>{P(n.modelValue)}))});const P=(Ae,Le)=>{(Le||!nN(Ae,b.value))&&(r("change",Ae),n.validateEvent&&(d==null||d.validate("change").catch(rr=>void 0)))},D=Ae=>{if(!nN(n.modelValue,Ae)){let Le;cr(Ae)?Le=Ae.map(rr=>sN(rr,n.valueFormat,s.value)):Ae&&(Le=sN(Ae,n.valueFormat,s.value)),r("update:modelValue",Ae&&Le,s.value)}},L=Ae=>{r("keydown",Ae)},j=pe(()=>{if(g.value){const Ae=ct.value?g.value:g.value.$el;return Array.from(Ae.querySelectorAll("input"))}return[]}),te=(Ae,Le,rr)=>{const c=j.value;c.length&&(!rr||rr==="min"?(c[0].setSelectionRange(Ae,Le),c[0].focus()):rr==="max"&&(c[1].setSelectionRange(Ae,Le),c[1].focus()))},se=()=>{ae(!0,!0),Hr(()=>{T=!1})},q=(Ae="",Le=!1)=>{Le||(T=!0),p.value=Le;let rr;cr(Ae)?rr=Ae.map(c=>c.toDate()):rr=Ae&&Ae.toDate(),Mt.value=null,D(rr)},X=()=>{v.value=!0},Q=()=>{r("visible-change",!0)},$=Ae=>{(Ae==null?void 0:Ae.key)===Xr.esc&&ae(!0,!0)},V=()=>{v.value=!1,p.value=!1,T=!1,r("visible-change",!1)},Y=()=>{p.value=!0},ee=()=>{p.value=!1},ae=(Ae=!0,Le=!1)=>{T=Le;const[rr,c]=y(j);let xr=rr;!Ae&&ct.value&&(xr=c),xr&&xr.focus()},H=Ae=>{n.readonly||xe.value||p.value||T||(p.value=!0,r("focus",Ae))};let J;const ie=Ae=>{const Le=async()=>{setTimeout(()=>{var rr;J===Le&&(!((rr=h.value)!=null&&rr.isFocusInsideContent()&&!S)&&j.value.filter(c=>c.contains(document.activeElement)).length===0&&(Rt(),p.value=!1,r("blur",Ae),n.validateEvent&&(d==null||d.validate("blur").catch(c=>void 0))),S=!1)},0)};J=Le,Le()},xe=pe(()=>n.disabled||(u==null?void 0:u.disabled)),qe=pe(()=>{let Ae;if(yt.value?ze.value.getDefaultValue&&(Ae=ze.value.getDefaultValue()):cr(n.modelValue)?Ae=n.modelValue.map(Le=>iN(Le,n.valueFormat,s.value)):Ae=iN(n.modelValue,n.valueFormat,s.value),ze.value.getRangeAvailableTime){const Le=ze.value.getRangeAvailableTime(Ae);bl(Le,Ae)||(Ae=Le,D(cr(Ae)?Ae.map(rr=>rr.toDate()):Ae.toDate()))}return cr(Ae)&&Ae.some(Le=>!Le)&&(Ae=[]),Ae}),et=pe(()=>{if(!ze.value.panelReady)return"";const Ae=Zt(qe.value);return cr(Mt.value)?[Mt.value[0]||Ae&&Ae[0]||"",Mt.value[1]||Ae&&Ae[1]||""]:Mt.value!==null?Mt.value:!lt.value&&yt.value||!p.value&&yt.value?"":Ae?Re.value||wt.value?Ae.join(", "):Ae:""}),Je=pe(()=>n.type.includes("time")),lt=pe(()=>n.type.startsWith("time")),Re=pe(()=>n.type==="dates"),wt=pe(()=>n.type==="years"),vt=pe(()=>n.prefixIcon||(Je.value?yge:hge)),pt=ye(!1),Ut=Ae=>{n.readonly||xe.value||pt.value&&(Ae.stopPropagation(),se(),D(null),P(null,!0),pt.value=!1,p.value=!1,ze.value.handleClear&&ze.value.handleClear())},yt=pe(()=>{const{modelValue:Ae}=n;return!Ae||cr(Ae)&&!Ae.filter(Boolean).length}),le=async Ae=>{var Le;n.readonly||xe.value||(((Le=Ae.target)==null?void 0:Le.tagName)!=="INPUT"||j.value.includes(document.activeElement))&&(p.value=!0)},Oe=()=>{n.readonly||xe.value||!yt.value&&n.clearable&&(pt.value=!0)},nt=()=>{pt.value=!1},Ke=Ae=>{var Le;n.readonly||xe.value||(((Le=Ae.touches[0].target)==null?void 0:Le.tagName)!=="INPUT"||j.value.includes(document.activeElement))&&(p.value=!0)},ct=pe(()=>n.type.includes("range")),Ot=_u(),Dt=pe(()=>{var Ae,Le;return(Le=(Ae=y(h))==null?void 0:Ae.popperRef)==null?void 0:Le.contentRef}),_t=pe(()=>{var Ae;return y(ct)?y(g):(Ae=y(g))==null?void 0:Ae.$el});OW(_t,Ae=>{const Le=y(Dt),rr=y(_t);Le&&(Ae.target===Le||Ae.composedPath().includes(Le))||Ae.target===rr||Ae.composedPath().includes(rr)||(p.value=!1)});const Mt=ye(null),Rt=()=>{if(Mt.value){const Ae=tt(et.value);Ae&&mt(Ae)&&(D(cr(Ae)?Ae.map(Le=>Le.toDate()):Ae.toDate()),Mt.value=null)}Mt.value===""&&(D(null),P(null),Mt.value=null)},tt=Ae=>Ae?ze.value.parseUserInput(Ae):null,Zt=Ae=>Ae?ze.value.formatToString(Ae):null,mt=Ae=>ze.value.isValidValue(Ae),Tt=async Ae=>{if(n.readonly||xe.value)return;const{code:Le}=Ae;if(L(Ae),Le===Xr.esc){p.value===!0&&(p.value=!1,Ae.preventDefault(),Ae.stopPropagation());return}if(Le===Xr.down&&(ze.value.handleFocusPicker&&(Ae.preventDefault(),Ae.stopPropagation()),p.value===!1&&(p.value=!0,await Hr()),ze.value.handleFocusPicker)){ze.value.handleFocusPicker();return}if(Le===Xr.tab){S=!0;return}if(Le===Xr.enter||Le===Xr.numpadEnter){(Mt.value===null||Mt.value===""||mt(tt(et.value)))&&(Rt(),p.value=!1),Ae.stopPropagation();return}if(Mt.value){Ae.stopPropagation();return}ze.value.handleKeydownInput&&ze.value.handleKeydownInput(Ae)},mr=Ae=>{Mt.value=Ae,p.value||(p.value=!0)},Bt=Ae=>{const Le=Ae.target;Mt.value?Mt.value=[Le.value,Mt.value[1]]:Mt.value=[Le.value,null]},Ir=Ae=>{const Le=Ae.target;Mt.value?Mt.value=[Mt.value[0],Le.value]:Mt.value=[null,Le.value]},ot=()=>{var Ae;const Le=Mt.value,rr=tt(Le&&Le[0]),c=y(qe);if(rr&&rr.isValid()){Mt.value=[Zt(rr),((Ae=et.value)==null?void 0:Ae[1])||null];const xr=[rr,c&&(c[1]||null)];mt(xr)&&(D(xr),Mt.value=null)}},_e=()=>{var Ae;const Le=y(Mt),rr=tt(Le&&Le[1]),c=y(qe);if(rr&&rr.isValid()){Mt.value=[((Ae=y(et))==null?void 0:Ae[0])||null,Zt(rr)];const xr=[c&&c[0],rr];mt(xr)&&(D(xr),Mt.value=null)}},ze=ye({}),ke=Ae=>{ze.value[Ae[0]]=Ae[1],ze.value.panelReady=!0},me=Ae=>{r("calendar-change",Ae)},De=(Ae,Le,rr)=>{r("panel-change",Ae,Le,rr)};return _i("EP_PICKER_BASE",{props:n}),e({focus:ae,handleFocusInput:H,handleBlurInput:ie,handleOpen:Y,handleClose:ee,onPick:q}),(Ae,Le)=>(he(),At(y(Uh),Eo({ref_key:"refPopper",ref:h,visible:p.value,effect:"light",pure:"",trigger:"click"},Ae.$attrs,{role:"dialog",teleported:"",transition:`${y(o).namespace.value}-zoom-in-top`,"popper-class":[`${y(o).namespace.value}-picker__popper`,Ae.popperClass],"popper-options":y(f),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:X,onShow:Q,onHide:V}),{default:ne(()=>[y(ct)?(he(),Ue("div",{key:1,ref_key:"inputRef",ref:g,class:Ee(y(E)),style:sn(Ae.$attrs.style),onClick:H,onMouseenter:Oe,onMouseleave:nt,onTouchstart:Ke,onKeydown:Tt},[y(vt)?(he(),At(y(Dr),{key:0,class:Ee([y(a).e("icon"),y(l).e("icon")]),onMousedown:yn(le,["prevent"]),onTouchstart:Ke},{default:ne(()=>[(he(),At(vi(y(vt))))]),_:1},8,["class","onMousedown"])):xt("v-if",!0),He("input",{id:Ae.id&&Ae.id[0],autocomplete:"off",name:Ae.name&&Ae.name[0],placeholder:Ae.startPlaceholder,value:y(et)&&y(et)[0],disabled:y(xe),readonly:!Ae.editable||Ae.readonly,class:Ee(y(l).b("input")),onMousedown:le,onInput:Bt,onChange:ot,onFocus:H,onBlur:ie},null,42,a1e),Yt(Ae.$slots,"range-separator",{},()=>[He("span",{class:Ee(y(l).b("separator"))},hr(Ae.rangeSeparator),3)]),He("input",{id:Ae.id&&Ae.id[1],autocomplete:"off",name:Ae.name&&Ae.name[1],placeholder:Ae.endPlaceholder,value:y(et)&&y(et)[1],disabled:y(xe),readonly:!Ae.editable||Ae.readonly,class:Ee(y(l).b("input")),onMousedown:le,onFocus:H,onBlur:ie,onInput:Ir,onChange:_e},null,42,l1e),Ae.clearIcon?(he(),At(y(Dr),{key:1,class:Ee(y(C)),onClick:Ut},{default:ne(()=>[(he(),At(vi(Ae.clearIcon)))]),_:1},8,["class"])):xt("v-if",!0)],38)):(he(),At(y(as),{key:0,id:Ae.id,ref_key:"inputRef",ref:g,"container-role":"combobox","model-value":y(et),name:Ae.name,size:y(Ot),disabled:y(xe),placeholder:Ae.placeholder,class:Ee([y(o).b("editor"),y(o).bm("editor",Ae.type),Ae.$attrs.class]),style:sn(Ae.$attrs.style),readonly:!Ae.editable||Ae.readonly||y(Re)||y(wt)||Ae.type==="week",label:Ae.label,tabindex:Ae.tabindex,"validate-event":!1,onInput:mr,onFocus:H,onBlur:ie,onKeydown:Tt,onChange:Rt,onMousedown:le,onMouseenter:Oe,onMouseleave:nt,onTouchstart:Ke,onClick:Le[0]||(Le[0]=yn(()=>{},["stop"]))},{prefix:ne(()=>[y(vt)?(he(),At(y(Dr),{key:0,class:Ee(y(a).e("icon")),onMousedown:yn(le,["prevent"]),onTouchstart:Ke},{default:ne(()=>[(he(),At(vi(y(vt))))]),_:1},8,["class","onMousedown"])):xt("v-if",!0)]),suffix:ne(()=>[pt.value&&Ae.clearIcon?(he(),At(y(Dr),{key:0,class:Ee(`${y(a).e("icon")} clear-icon`),onClick:yn(Ut,["stop"])},{default:ne(()=>[(he(),At(vi(Ae.clearIcon)))]),_:1},8,["class","onClick"])):xt("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:ne(()=>[Yt(Ae.$slots,"default",{visible:p.value,actualVisible:v.value,parsedValue:y(qe),format:Ae.format,dateFormat:Ae.dateFormat,timeFormat:Ae.timeFormat,unlinkPanels:Ae.unlinkPanels,type:Ae.type,defaultValue:Ae.defaultValue,onPick:q,onSelectRange:te,onSetPickerOption:ke,onCalendarChange:me,onPanelChange:De,onKeydown:$,onMousedown:Le[1]||(Le[1]=yn(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var d1e=kr(c1e,[["__file","picker.vue"]]);const f1e=Or({...o1e,datetimeRole:String,parsedValue:{type:Vt(Object)}}),h1e=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:r})=>{const n=(o,a,l,u)=>{const d={hour:t,minute:e,second:r};let f=o;return["hour","minute","second"].forEach(h=>{if(d[h]){let g;const p=d[h];switch(h){case"minute":{g=p(f.hour(),a,u);break}case"second":{g=p(f.hour(),f.minute(),a,u);break}default:{g=p(a,u);break}}if(g!=null&&g.length&&!g.includes(f[h]())){const v=l?0:g.length-1;f=f[h](g[v])}}}),f},i={};return{timePickerOptions:i,getAvailableTime:n,onSetOption:([o,a])=>{i[o]=a}}},TA=t=>{const e=(n,i)=>n||i,r=n=>n!==!0;return t.map(e).filter(r)},xX=(t,e,r)=>({getHoursList:(o,a)=>SA(24,t&&(()=>t==null?void 0:t(o,a))),getMinutesList:(o,a,l)=>SA(60,e&&(()=>e==null?void 0:e(o,a,l))),getSecondsList:(o,a,l,u)=>SA(60,r&&(()=>r==null?void 0:r(o,a,l,u)))}),p1e=(t,e,r)=>{const{getHoursList:n,getMinutesList:i,getSecondsList:s}=xX(t,e,r);return{getAvailableHours:(u,d)=>TA(n(u,d)),getAvailableMinutes:(u,d,f)=>TA(i(u,d,f)),getAvailableSeconds:(u,d,f,h)=>TA(s(u,d,f,h))}},m1e=t=>{const e=ye(t.parsedValue);return Gt(()=>t.visible,r=>{r||(e.value=t.parsedValue)}),e},oh=new Map;let oN;$n&&(document.addEventListener("mousedown",t=>oN=t),document.addEventListener("mouseup",t=>{for(const e of oh.values())for(const{documentHandler:r}of e)r(t,oN)}));function aN(t,e){let r=[];return Array.isArray(e.arg)?r=e.arg:mu(e.arg)&&r.push(e.arg),function(n,i){const s=e.instance.popperRef,o=n.target,a=i==null?void 0:i.target,l=!e||!e.instance,u=!o||!a,d=t.contains(o)||t.contains(a),f=t===o,h=r.length&&r.some(p=>p==null?void 0:p.contains(o))||r.length&&r.includes(a),g=s&&(s.contains(o)||s.contains(a));l||u||d||f||h||g||e.value(n,i)}}const N0={beforeMount(t,e){oh.has(t)||oh.set(t,[]),oh.get(t).push({documentHandler:aN(t,e),bindingFn:e.value})},updated(t,e){oh.has(t)||oh.set(t,[]);const r=oh.get(t),n=r.findIndex(s=>s.bindingFn===e.oldValue),i={documentHandler:aN(t,e),bindingFn:e.value};n>=0?r.splice(n,1,i):r.push(i)},unmounted(t){oh.delete(t)}},g1e=100,v1e=600,lN={beforeMount(t,e){const r=e.value,{interval:n=g1e,delay:i=v1e}=Fr(r)?{}:r;let s,o;const a=()=>Fr(r)?r():r.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),s&&(clearInterval(s),s=void 0)};t.addEventListener("mousedown",u=>{u.button===0&&(l(),a(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{s=setInterval(()=>{a()},n)},i))})}},lk="_trap-focus-children",u0=[],uN=t=>{if(u0.length===0)return;const e=u0[u0.length-1][lk];if(e.length>0&&t.code===Xr.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const r=t.shiftKey,n=t.target===e[0],i=t.target===e[e.length-1];n&&r&&(t.preventDefault(),e[e.length-1].focus()),i&&!r&&(t.preventDefault(),e[0].focus())}},_1e={beforeMount(t){t[lk]=mL(t),u0.push(t),u0.length<=1&&document.addEventListener("keydown",uN)},updated(t){Hr(()=>{t[lk]=mL(t)})},unmounted(){u0.shift(),u0.length===0&&document.removeEventListener("keydown",uN)}};var cN=!1,r0,uk,ck,Sw,Tw,wX,Ew,dk,fk,hk,SX,pk,mk,TX,EX;function Ra(){if(!cN){cN=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),r=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(pk=/\b(iPhone|iP[ao]d)/.exec(t),mk=/\b(iP[ao]d)/.exec(t),hk=/Android/i.exec(t),TX=/FBAN\/\w+;/i.exec(t),EX=/Mobile/i.exec(t),SX=!!/Win64/.exec(t),e){r0=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,r0&&document&&document.documentMode&&(r0=document.documentMode);var n=/(?:Trident\/(\d+.\d+))/.exec(t);wX=n?parseFloat(n[1])+4:r0,uk=e[2]?parseFloat(e[2]):NaN,ck=e[3]?parseFloat(e[3]):NaN,Sw=e[4]?parseFloat(e[4]):NaN,Sw?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),Tw=e&&e[1]?parseFloat(e[1]):NaN):Tw=NaN}else r0=uk=ck=Tw=Sw=NaN;if(r){if(r[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Ew=i?parseFloat(i[1].replace("_",".")):!0}else Ew=!1;dk=!!r[2],fk=!!r[3]}else Ew=dk=fk=!1}}var gk={ie:function(){return Ra()||r0},ieCompatibilityMode:function(){return Ra()||wX>r0},ie64:function(){return gk.ie()&&SX},firefox:function(){return Ra()||uk},opera:function(){return Ra()||ck},webkit:function(){return Ra()||Sw},safari:function(){return gk.webkit()},chrome:function(){return Ra()||Tw},windows:function(){return Ra()||dk},osx:function(){return Ra()||Ew},linux:function(){return Ra()||fk},iphone:function(){return Ra()||pk},mobile:function(){return Ra()||pk||mk||hk||EX},nativeApp:function(){return Ra()||TX},android:function(){return Ra()||hk},ipad:function(){return Ra()||mk}},y1e=gk,W1=!!(typeof window<"u"&&window.document&&window.document.createElement),b1e={canUseDOM:W1,canUseWorkers:typeof Worker<"u",canUseEventListeners:W1&&!!(window.addEventListener||window.attachEvent),canUseViewport:W1&&!!window.screen,isInWorker:!W1},CX=b1e,AX;CX.canUseDOM&&(AX=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function x1e(t,e){if(!CX.canUseDOM||e&&!("addEventListener"in document))return!1;var r="on"+t,n=r in document;if(!n){var i=document.createElement("div");i.setAttribute(r,"return;"),n=typeof i[r]=="function"}return!n&&AX&&t==="wheel"&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var w1e=x1e,dN=10,fN=40,hN=800;function PX(t){var e=0,r=0,n=0,i=0;return"detail"in t&&(r=t.detail),"wheelDelta"in t&&(r=-t.wheelDelta/120),"wheelDeltaY"in t&&(r=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=r,r=0),n=e*dN,i=r*dN,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(n=t.deltaX),(n||i)&&t.deltaMode&&(t.deltaMode==1?(n*=fN,i*=fN):(n*=hN,i*=hN)),n&&!e&&(e=n<1?-1:1),i&&!r&&(r=i<1?-1:1),{spinX:e,spinY:r,pixelX:n,pixelY:i}}PX.getEventType=function(){return y1e.firefox()?"DOMMouseScroll":w1e("wheel")?"wheel":"mousewheel"};var S1e=PX;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const T1e=function(t,e){if(t&&t.addEventListener){const r=function(n){const i=S1e(n);e&&Reflect.apply(e,this,[n,i])};t.addEventListener("wheel",r,{passive:!0})}},E1e={beforeMount(t,e){T1e(t,e.value)}},C1e=Or({role:{type:String,required:!0},spinnerDate:{type:Vt(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Vt(String),default:""},...yX}),A1e=["onClick"],P1e=["onMouseenter"],k1e=rt({__name:"basic-time-spinner",props:C1e,emits:["change","select-range","set-option"],setup(t,{emit:e}){const r=t,n=sr("time"),{getHoursList:i,getMinutesList:s,getSecondsList:o}=xX(r.disabledHours,r.disabledMinutes,r.disabledSeconds);let a=!1;const l=ye(),u=ye(),d=ye(),f=ye(),h={hours:u,minutes:d,seconds:f},g=pe(()=>r.showSeconds?eN:eN.slice(0,2)),p=pe(()=>{const{spinnerDate:H}=r,J=H.hour(),ie=H.minute(),xe=H.second();return{hours:J,minutes:ie,seconds:xe}}),v=pe(()=>{const{hours:H,minutes:J}=y(p);return{hours:i(r.role),minutes:s(H,r.role),seconds:o(H,J,r.role)}}),b=pe(()=>{const{hours:H,minutes:J,seconds:ie}=y(p);return{hours:wA(H,23),minutes:wA(J,59),seconds:wA(ie,59)}}),S=Bh(H=>{a=!1,C(H)},200),T=H=>{if(!!!r.amPmMode)return"";const ie=r.amPmMode==="A";let xe=H<12?" am":" pm";return ie&&(xe=xe.toUpperCase()),xe},E=H=>{let J;switch(H){case"hours":J=[0,2];break;case"minutes":J=[3,5];break;case"seconds":J=[6,8];break}const[ie,xe]=J;e("select-range",ie,xe),l.value=H},C=H=>{L(H,y(p)[H])},P=()=>{C("hours"),C("minutes"),C("seconds")},D=H=>H.querySelector(`.${n.namespace.value}-scrollbar__wrap`),L=(H,J)=>{if(r.arrowControl)return;const ie=y(h[H]);ie&&ie.$el&&(D(ie.$el).scrollTop=Math.max(0,J*j(H)))},j=H=>{const J=y(h[H]),ie=J==null?void 0:J.$el.querySelector("li");return ie&&Number.parseFloat(yh(ie,"height"))||0},te=()=>{q(1)},se=()=>{q(-1)},q=H=>{l.value||E("hours");const J=l.value,ie=y(p)[J],xe=l.value==="hours"?24:60,qe=X(J,ie,H,xe);Q(J,qe),L(J,qe),Hr(()=>E(J))},X=(H,J,ie,xe)=>{let qe=(J+ie+xe)%xe;const et=y(v)[H];for(;et[qe]&&qe!==J;)qe=(qe+ie+xe)%xe;return qe},Q=(H,J)=>{if(y(v)[H][J])return;const{hours:qe,minutes:et,seconds:Je}=y(p);let lt;switch(H){case"hours":lt=r.spinnerDate.hour(J).minute(et).second(Je);break;case"minutes":lt=r.spinnerDate.hour(qe).minute(J).second(Je);break;case"seconds":lt=r.spinnerDate.hour(qe).minute(et).second(J);break}e("change",lt)},$=(H,{value:J,disabled:ie})=>{ie||(Q(H,J),E(H),L(H,J))},V=H=>{a=!0,S(H);const J=Math.min(Math.round((D(y(h[H]).$el).scrollTop-(Y(H)*.5-10)/j(H)+3)/j(H)),H==="hours"?23:59);Q(H,J)},Y=H=>y(h[H]).$el.offsetHeight,ee=()=>{const H=J=>{const ie=y(h[J]);ie&&ie.$el&&(D(ie.$el).onscroll=()=>{V(J)})};H("hours"),H("minutes"),H("seconds")};Un(()=>{Hr(()=>{!r.arrowControl&&ee(),P(),r.role==="start"&&E("hours")})});const ae=(H,J)=>{h[J].value=H};return e("set-option",[`${r.role}_scrollDown`,q]),e("set-option",[`${r.role}_emitSelectRange`,E]),Gt(()=>r.spinnerDate,()=>{a||P()}),(H,J)=>(he(),Ue("div",{class:Ee([y(n).b("spinner"),{"has-seconds":H.showSeconds}])},[H.arrowControl?xt("v-if",!0):(he(!0),Ue(Ar,{key:0},xi(y(g),ie=>(he(),At(y(am),{key:ie,ref_for:!0,ref:xe=>ae(xe,ie),class:Ee(y(n).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":y(n).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:xe=>E(ie),onMousemove:xe=>C(ie)},{default:ne(()=>[(he(!0),Ue(Ar,null,xi(y(v)[ie],(xe,qe)=>(he(),Ue("li",{key:qe,class:Ee([y(n).be("spinner","item"),y(n).is("active",qe===y(p)[ie]),y(n).is("disabled",xe)]),onClick:et=>$(ie,{value:qe,disabled:xe})},[ie==="hours"?(he(),Ue(Ar,{key:0},[It(hr(("0"+(H.amPmMode?qe%12||12:qe)).slice(-2))+hr(T(qe)),1)],64)):(he(),Ue(Ar,{key:1},[It(hr(("0"+qe).slice(-2)),1)],64))],10,A1e))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),H.arrowControl?(he(!0),Ue(Ar,{key:1},xi(y(g),ie=>(he(),Ue("div",{key:ie,class:Ee([y(n).be("spinner","wrapper"),y(n).is("arrow")]),onMouseenter:xe=>E(ie)},[xn((he(),At(y(Dr),{class:Ee(["arrow-up",y(n).be("spinner","arrow")])},{default:ne(()=>[N(y(mq))]),_:1},8,["class"])),[[y(lN),se]]),xn((he(),At(y(Dr),{class:Ee(["arrow-down",y(n).be("spinner","arrow")])},{default:ne(()=>[N(y(Xb))]),_:1},8,["class"])),[[y(lN),te]]),He("ul",{class:Ee(y(n).be("spinner","list"))},[(he(!0),Ue(Ar,null,xi(y(b)[ie],(xe,qe)=>(he(),Ue("li",{key:qe,class:Ee([y(n).be("spinner","item"),y(n).is("active",xe===y(p)[ie]),y(n).is("disabled",y(v)[ie][xe])])},[typeof xe=="number"?(he(),Ue(Ar,{key:0},[ie==="hours"?(he(),Ue(Ar,{key:0},[It(hr(("0"+(H.amPmMode?xe%12||12:xe)).slice(-2))+hr(T(xe)),1)],64)):(he(),Ue(Ar,{key:1},[It(hr(("0"+xe).slice(-2)),1)],64))],64)):xt("v-if",!0)],2))),128))],2)],42,P1e))),128)):xt("v-if",!0)],2))}});var I1e=kr(k1e,[["__file","basic-time-spinner.vue"]]);const O1e=rt({__name:"panel-time-pick",props:f1e,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const r=t,n=Mr("EP_PICKER_BASE"),{arrowControl:i,disabledHours:s,disabledMinutes:o,disabledSeconds:a,defaultValue:l}=n.props,{getAvailableHours:u,getAvailableMinutes:d,getAvailableSeconds:f}=p1e(s,o,a),h=sr("time"),{t:g,lang:p}=Ti(),v=ye([0,2]),b=m1e(r),S=pe(()=>Pl(r.actualVisible)?`${h.namespace.value}-zoom-in-top`:""),T=pe(()=>r.format.includes("ss")),E=pe(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),C=ae=>{const H=Jr(ae).locale(p.value),J=$(H);return H.isSame(J)},P=()=>{e("pick",b.value,!1)},D=(ae=!1,H=!1)=>{H||e("pick",r.parsedValue,ae)},L=ae=>{if(!r.visible)return;const H=$(ae).millisecond(0);e("pick",H,!0)},j=(ae,H)=>{e("select-range",ae,H),v.value=[ae,H]},te=ae=>{const H=[0,3].concat(T.value?[6]:[]),J=["hours","minutes"].concat(T.value?["seconds"]:[]),xe=(H.indexOf(v.value[0])+ae+H.length)%H.length;q.start_emitSelectRange(J[xe])},se=ae=>{const H=ae.code,{left:J,right:ie,up:xe,down:qe}=Xr;if([J,ie].includes(H)){te(H===J?-1:1),ae.preventDefault();return}if([xe,qe].includes(H)){const et=H===xe?-1:1;q.start_scrollDown(et),ae.preventDefault();return}},{timePickerOptions:q,onSetOption:X,getAvailableTime:Q}=h1e({getAvailableHours:u,getAvailableMinutes:d,getAvailableSeconds:f}),$=ae=>Q(ae,r.datetimeRole||"",!0),V=ae=>ae?Jr(ae,r.format).locale(p.value):null,Y=ae=>ae?ae.format(r.format):null,ee=()=>Jr(l).locale(p.value);return e("set-picker-option",["isValidValue",C]),e("set-picker-option",["formatToString",Y]),e("set-picker-option",["parseUserInput",V]),e("set-picker-option",["handleKeydownInput",se]),e("set-picker-option",["getRangeAvailableTime",$]),e("set-picker-option",["getDefaultValue",ee]),(ae,H)=>(he(),At(sa,{name:y(S)},{default:ne(()=>[ae.actualVisible||ae.visible?(he(),Ue("div",{key:0,class:Ee(y(h).b("panel"))},[He("div",{class:Ee([y(h).be("panel","content"),{"has-seconds":y(T)}])},[N(I1e,{ref:"spinner",role:ae.datetimeRole||"start","arrow-control":y(i),"show-seconds":y(T),"am-pm-mode":y(E),"spinner-date":ae.parsedValue,"disabled-hours":y(s),"disabled-minutes":y(o),"disabled-seconds":y(a),onChange:L,onSetOption:y(X),onSelectRange:j},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),He("div",{class:Ee(y(h).be("panel","footer"))},[He("button",{type:"button",class:Ee([y(h).be("panel","btn"),"cancel"]),onClick:P},hr(y(g)("el.datepicker.cancel")),3),He("button",{type:"button",class:Ee([y(h).be("panel","btn"),"confirm"]),onClick:H[0]||(H[0]=J=>D())},hr(y(g)("el.datepicker.confirm")),3)],2)],2)):xt("v-if",!0)]),_:1},8,["name"]))}});var vk=kr(O1e,[["__file","panel-time-pick.vue"]]),kX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Co,function(){return function(r,n,i){var s=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},a=function(f,h,g,p,v){var b=f.name?f:f.$locale(),S=o(b[h]),T=o(b[g]),E=S||T.map(function(P){return P.slice(0,p)});if(!v)return E;var C=b.weekStart;return E.map(function(P,D){return E[(D+(C||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(f,h){return f.formats[h]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,v,b){return v||b.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):a(f,"months")},monthsShort:function(h){return h?h.format("MMM"):a(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):a(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):a(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):a(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return d.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(f){return a(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return a(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return a(l(),"weekdaysMin","weekdays",2,f)}}})})(kX);var D1e=kX.exports;const M1e=zs(D1e),R1e=Or({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Vt([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),$1e=rt({name:"ElCard"}),L1e=rt({...$1e,props:R1e,setup(t){const e=sr("card");return(r,n)=>(he(),Ue("div",{class:Ee([y(e).b(),y(e).is(`${r.shadow}-shadow`)])},[r.$slots.header||r.header?(he(),Ue("div",{key:0,class:Ee(y(e).e("header"))},[Yt(r.$slots,"header",{},()=>[It(hr(r.header),1)])],2)):xt("v-if",!0),He("div",{class:Ee([y(e).e("body"),r.bodyClass]),style:sn(r.bodyStyle)},[Yt(r.$slots,"default")],6),r.$slots.footer||r.footer?(he(),Ue("div",{key:1,class:Ee(y(e).e("footer"))},[Yt(r.$slots,"footer",{},()=>[It(hr(r.footer),1)])],2)):xt("v-if",!0)],2))}});var F1e=kr(L1e,[["__file","card.vue"]]);const N1e=$i(F1e),IX={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:vd,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},OX={[Li]:t=>on(t)||Yn(t)||pu(t),change:t=>on(t)||Yn(t)||pu(t)},Lv=Symbol("checkboxGroupContextKey"),B1e=({model:t,isChecked:e})=>{const r=Mr(Lv,void 0),n=pe(()=>{var s,o;const a=(s=r==null?void 0:r.max)==null?void 0:s.value,l=(o=r==null?void 0:r.min)==null?void 0:o.value;return!Pl(a)&&t.value.length>=a&&!e.value||!Pl(l)&&t.value.length<=l&&e.value});return{isDisabled:Af(pe(()=>(r==null?void 0:r.disabled.value)||n.value)),isLimitDisabled:n}},U1e=(t,{model:e,isLimitExceeded:r,hasOwnLabel:n,isDisabled:i,isLabeledByFormItem:s})=>{const o=Mr(Lv,void 0),{formItem:a}=_d(),{emit:l}=kn();function u(p){var v,b,S,T;return[!0,t.trueValue,t.trueLabel].includes(p)?(b=(v=t.trueValue)!=null?v:t.trueLabel)!=null?b:!0:(T=(S=t.falseValue)!=null?S:t.falseLabel)!=null?T:!1}function d(p,v){l("change",u(p),v)}function f(p){if(r.value)return;const v=p.target;l("change",u(v.checked),p)}async function h(p){r.value||!n.value&&!i.value&&s.value&&(p.composedPath().some(S=>S.tagName==="LABEL")||(e.value=u([!1,t.falseValue,t.falseLabel].includes(e.value)),await Hr(),d(e.value,p)))}const g=pe(()=>(o==null?void 0:o.validateEvent)||t.validateEvent);return Gt(()=>t.modelValue,()=>{g.value&&(a==null||a.validate("change").catch(p=>void 0))}),{handleChange:f,onClickRoot:h}},V1e=t=>{const e=ye(!1),{emit:r}=kn(),n=Mr(Lv,void 0),i=pe(()=>Pl(n)===!1),s=ye(!1),o=pe({get(){var a,l;return i.value?(a=n==null?void 0:n.modelValue)==null?void 0:a.value:(l=t.modelValue)!=null?l:e.value},set(a){var l,u;i.value&&cr(a)?(s.value=((l=n==null?void 0:n.max)==null?void 0:l.value)!==void 0&&a.length>(n==null?void 0:n.max.value)&&a.length>o.value.length,s.value===!1&&((u=n==null?void 0:n.changeEvent)==null||u.call(n,a))):(r(Li,a),e.value=a)}});return{model:o,isGroup:i,isLimitExceeded:s}},z1e=(t,e,{model:r})=>{const n=Mr(Lv,void 0),i=ye(!1),s=pe(()=>R2(t.value)?t.label:t.value),o=pe(()=>{const d=r.value;return pu(d)?d:cr(d)?En(s.value)?d.map(Hn).some(f=>bl(f,s.value)):d.map(Hn).includes(s.value):d!=null?d===t.trueValue||d===t.trueLabel:!!d}),a=_u(pe(()=>{var d;return(d=n==null?void 0:n.size)==null?void 0:d.value}),{prop:!0}),l=_u(pe(()=>{var d;return(d=n==null?void 0:n.size)==null?void 0:d.value})),u=pe(()=>!!e.default||!R2(s.value));return{checkboxButtonSize:a,isChecked:o,isFocused:i,checkboxSize:l,hasOwnLabel:u,actualValue:s}},DX=(t,e)=>{const{formItem:r}=_d(),{model:n,isGroup:i,isLimitExceeded:s}=V1e(t),{isFocused:o,isChecked:a,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:d,actualValue:f}=z1e(t,e,{model:n}),{isDisabled:h}=B1e({model:n,isChecked:a}),{inputId:g,isLabeledByFormItem:p}=Qb(t,{formItemContext:r,disableIdGeneration:d,disableIdManagement:i}),{handleChange:v,onClickRoot:b}=U1e(t,{model:n,isLimitExceeded:s,hasOwnLabel:d,isDisabled:h,isLabeledByFormItem:p});return(()=>{function T(){var E,C;cr(n.value)&&!n.value.includes(f.value)?n.value.push(f.value):n.value=(C=(E=t.trueValue)!=null?E:t.trueLabel)!=null?C:!0}t.checked&&T()})(),b0({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},pe(()=>i.value&&R2(t.value))),b0({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},pe(()=>!!t.trueLabel)),b0({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},pe(()=>!!t.falseLabel)),{inputId:g,isLabeledByFormItem:p,isChecked:a,isDisabled:h,isFocused:o,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:d,model:n,actualValue:f,handleChange:v,onClickRoot:b}},j1e=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],H1e=["id","indeterminate","disabled","value","name","tabindex"],G1e=rt({name:"ElCheckbox"}),W1e=rt({...G1e,props:IX,emits:OX,setup(t){const e=t,r=Ml(),{inputId:n,isLabeledByFormItem:i,isChecked:s,isDisabled:o,isFocused:a,checkboxSize:l,hasOwnLabel:u,model:d,actualValue:f,handleChange:h,onClickRoot:g}=DX(e,r),p=sr("checkbox"),v=pe(()=>[p.b(),p.m(l.value),p.is("disabled",o.value),p.is("bordered",e.border),p.is("checked",s.value)]),b=pe(()=>[p.e("input"),p.is("disabled",o.value),p.is("checked",s.value),p.is("indeterminate",e.indeterminate),p.is("focus",a.value)]);return(S,T)=>(he(),At(vi(!y(u)&&y(i)?"span":"label"),{class:Ee(y(v)),"aria-controls":S.indeterminate?S.controls:null,onClick:y(g)},{default:ne(()=>{var E,C;return[He("span",{class:Ee(y(b))},[S.trueValue||S.falseValue||S.trueLabel||S.falseLabel?xn((he(),Ue("input",{key:0,id:y(n),"onUpdate:modelValue":T[0]||(T[0]=P=>Kr(d)?d.value=P:null),class:Ee(y(p).e("original")),type:"checkbox",indeterminate:S.indeterminate,name:S.name,tabindex:S.tabindex,disabled:y(o),"true-value":(E=S.trueValue)!=null?E:S.trueLabel,"false-value":(C=S.falseValue)!=null?C:S.falseLabel,onChange:T[1]||(T[1]=(...P)=>y(h)&&y(h)(...P)),onFocus:T[2]||(T[2]=P=>a.value=!0),onBlur:T[3]||(T[3]=P=>a.value=!1),onClick:T[4]||(T[4]=yn(()=>{},["stop"]))},null,42,j1e)),[[ES,y(d)]]):xn((he(),Ue("input",{key:1,id:y(n),"onUpdate:modelValue":T[5]||(T[5]=P=>Kr(d)?d.value=P:null),class:Ee(y(p).e("original")),type:"checkbox",indeterminate:S.indeterminate,disabled:y(o),value:y(f),name:S.name,tabindex:S.tabindex,onChange:T[6]||(T[6]=(...P)=>y(h)&&y(h)(...P)),onFocus:T[7]||(T[7]=P=>a.value=!0),onBlur:T[8]||(T[8]=P=>a.value=!1),onClick:T[9]||(T[9]=yn(()=>{},["stop"]))},null,42,H1e)),[[ES,y(d)]]),He("span",{class:Ee(y(p).e("inner"))},null,2)],2),y(u)?(he(),Ue("span",{key:0,class:Ee(y(p).e("label"))},[Yt(S.$slots,"default"),S.$slots.default?xt("v-if",!0):(he(),Ue(Ar,{key:0},[It(hr(S.label),1)],64))],2)):xt("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var q1e=kr(W1e,[["__file","checkbox.vue"]]);const X1e=["name","tabindex","disabled","true-value","false-value"],Y1e=["name","tabindex","disabled","value"],K1e=rt({name:"ElCheckboxButton"}),Z1e=rt({...K1e,props:IX,emits:OX,setup(t){const e=t,r=Ml(),{isFocused:n,isChecked:i,isDisabled:s,checkboxButtonSize:o,model:a,actualValue:l,handleChange:u}=DX(e,r),d=Mr(Lv,void 0),f=sr("checkbox"),h=pe(()=>{var p,v,b,S;const T=(v=(p=d==null?void 0:d.fill)==null?void 0:p.value)!=null?v:"";return{backgroundColor:T,borderColor:T,color:(S=(b=d==null?void 0:d.textColor)==null?void 0:b.value)!=null?S:"",boxShadow:T?`-1px 0 0 0 ${T}`:void 0}}),g=pe(()=>[f.b("button"),f.bm("button",o.value),f.is("disabled",s.value),f.is("checked",i.value),f.is("focus",n.value)]);return(p,v)=>{var b,S;return he(),Ue("label",{class:Ee(y(g))},[p.trueValue||p.falseValue||p.trueLabel||p.falseLabel?xn((he(),Ue("input",{key:0,"onUpdate:modelValue":v[0]||(v[0]=T=>Kr(a)?a.value=T:null),class:Ee(y(f).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:y(s),"true-value":(b=p.trueValue)!=null?b:p.trueLabel,"false-value":(S=p.falseValue)!=null?S:p.falseLabel,onChange:v[1]||(v[1]=(...T)=>y(u)&&y(u)(...T)),onFocus:v[2]||(v[2]=T=>n.value=!0),onBlur:v[3]||(v[3]=T=>n.value=!1),onClick:v[4]||(v[4]=yn(()=>{},["stop"]))},null,42,X1e)),[[ES,y(a)]]):xn((he(),Ue("input",{key:1,"onUpdate:modelValue":v[5]||(v[5]=T=>Kr(a)?a.value=T:null),class:Ee(y(f).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:y(s),value:y(l),onChange:v[6]||(v[6]=(...T)=>y(u)&&y(u)(...T)),onFocus:v[7]||(v[7]=T=>n.value=!0),onBlur:v[8]||(v[8]=T=>n.value=!1),onClick:v[9]||(v[9]=yn(()=>{},["stop"]))},null,42,Y1e)),[[ES,y(a)]]),p.$slots.default||p.label?(he(),Ue("span",{key:2,class:Ee(y(f).be("button","inner")),style:sn(y(i)?y(h):void 0)},[Yt(p.$slots,"default",{},()=>[It(hr(p.label),1)])],6)):xt("v-if",!0)],2)}}});var MX=kr(Z1e,[["__file","checkbox-button.vue"]]);const Q1e=Or({modelValue:{type:Vt(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:vd,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),J1e={[Li]:t=>cr(t),change:t=>cr(t)},exe=rt({name:"ElCheckboxGroup"}),txe=rt({...exe,props:Q1e,emits:J1e,setup(t,{emit:e}){const r=t,n=sr("checkbox"),{formItem:i}=_d(),{inputId:s,isLabeledByFormItem:o}=Qb(r,{formItemContext:i}),a=async u=>{e(Li,u),await Hr(),e("change",u)},l=pe({get(){return r.modelValue},set(u){a(u)}});return _i(Lv,{...Zme(gd(r),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:a}),Gt(()=>r.modelValue,()=>{r.validateEvent&&(i==null||i.validate("change").catch(u=>void 0))}),(u,d)=>{var f;return he(),At(vi(u.tag),{id:y(s),class:Ee(y(n).b("group")),role:"group","aria-label":y(o)?void 0:u.label||"checkbox-group","aria-labelledby":y(o)?(f=y(i))==null?void 0:f.labelId:void 0},{default:ne(()=>[Yt(u.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var RX=kr(txe,[["__file","checkbox-group.vue"]]);const yu=$i(q1e,{CheckboxButton:MX,CheckboxGroup:RX});ko(MX);const $X=ko(RX),LX=Or({modelValue:{type:[String,Number,Boolean],default:void 0},size:vd,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),rxe=Or({...LX,border:Boolean}),FX={[Li]:t=>on(t)||Yn(t)||pu(t),[vf]:t=>on(t)||Yn(t)||pu(t)},NX=Symbol("radioGroupKey"),BX=(t,e)=>{const r=ye(),n=Mr(NX,void 0),i=pe(()=>!!n),s=pe(()=>R2(t.value)?t.label:t.value),o=pe({get(){return i.value?n.modelValue:t.modelValue},set(f){i.value?n.changeEvent(f):e&&e(Li,f),r.value.checked=t.modelValue===s.value}}),a=_u(pe(()=>n==null?void 0:n.size)),l=Af(pe(()=>n==null?void 0:n.disabled)),u=ye(!1),d=pe(()=>l.value||i.value&&o.value!==s.value?-1:0);return b0({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},pe(()=>i.value&&R2(t.value))),{radioRef:r,isGroup:i,radioGroup:n,focus:u,size:a,disabled:l,tabIndex:d,modelValue:o,actualValue:s}},nxe=["value","name","disabled"],ixe=rt({name:"ElRadio"}),sxe=rt({...ixe,props:rxe,emits:FX,setup(t,{emit:e}){const r=t,n=sr("radio"),{radioRef:i,radioGroup:s,focus:o,size:a,disabled:l,modelValue:u,actualValue:d}=BX(r,e);function f(){Hr(()=>e("change",u.value))}return(h,g)=>{var p;return he(),Ue("label",{class:Ee([y(n).b(),y(n).is("disabled",y(l)),y(n).is("focus",y(o)),y(n).is("bordered",h.border),y(n).is("checked",y(u)===y(d)),y(n).m(y(a))])},[He("span",{class:Ee([y(n).e("input"),y(n).is("disabled",y(l)),y(n).is("checked",y(u)===y(d))])},[xn(He("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":g[0]||(g[0]=v=>Kr(u)?u.value=v:null),class:Ee(y(n).e("original")),value:y(d),name:h.name||((p=y(s))==null?void 0:p.name),disabled:y(l),type:"radio",onFocus:g[1]||(g[1]=v=>o.value=!0),onBlur:g[2]||(g[2]=v=>o.value=!1),onChange:f,onClick:g[3]||(g[3]=yn(()=>{},["stop"]))},null,42,nxe),[[yW,y(u)]]),He("span",{class:Ee(y(n).e("inner"))},null,2)],2),He("span",{class:Ee(y(n).e("label")),onKeydown:g[4]||(g[4]=yn(()=>{},["stop"]))},[Yt(h.$slots,"default",{},()=>[It(hr(h.label),1)])],34)],2)}}});var oxe=kr(sxe,[["__file","radio.vue"]]);const axe=Or({...LX}),lxe=["value","name","disabled"],uxe=rt({name:"ElRadioButton"}),cxe=rt({...uxe,props:axe,setup(t){const e=t,r=sr("radio"),{radioRef:n,focus:i,size:s,disabled:o,modelValue:a,radioGroup:l,actualValue:u}=BX(e),d=pe(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(f,h)=>{var g;return he(),Ue("label",{class:Ee([y(r).b("button"),y(r).is("active",y(a)===y(u)),y(r).is("disabled",y(o)),y(r).is("focus",y(i)),y(r).bm("button",y(s))])},[xn(He("input",{ref_key:"radioRef",ref:n,"onUpdate:modelValue":h[0]||(h[0]=p=>Kr(a)?a.value=p:null),class:Ee(y(r).be("button","original-radio")),value:y(u),type:"radio",name:f.name||((g=y(l))==null?void 0:g.name),disabled:y(o),onFocus:h[1]||(h[1]=p=>i.value=!0),onBlur:h[2]||(h[2]=p=>i.value=!1),onClick:h[3]||(h[3]=yn(()=>{},["stop"]))},null,42,lxe),[[yW,y(a)]]),He("span",{class:Ee(y(r).be("button","inner")),style:sn(y(a)===y(u)?y(d):{}),onKeydown:h[4]||(h[4]=yn(()=>{},["stop"]))},[Yt(f.$slots,"default",{},()=>[It(hr(f.label),1)])],38)],2)}}});var UX=kr(cxe,[["__file","radio-button.vue"]]);const dxe=Or({id:{type:String,default:void 0},size:vd,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),fxe=FX,hxe=["id","aria-label","aria-labelledby"],pxe=rt({name:"ElRadioGroup"}),mxe=rt({...pxe,props:dxe,emits:fxe,setup(t,{emit:e}){const r=t,n=sr("radio"),i=ac(),s=ye(),{formItem:o}=_d(),{inputId:a,isLabeledByFormItem:l}=Qb(r,{formItemContext:o}),u=f=>{e(Li,f),Hr(()=>e("change",f))};Un(()=>{const f=s.value.querySelectorAll("[type=radio]"),h=f[0];!Array.from(f).some(g=>g.checked)&&h&&(h.tabIndex=0)});const d=pe(()=>r.name||i.value);return _i(NX,vn({...gd(r),changeEvent:u,name:d})),Gt(()=>r.modelValue,()=>{r.validateEvent&&(o==null||o.validate("change").catch(f=>void 0))}),(f,h)=>(he(),Ue("div",{id:y(a),ref_key:"radioGroupRef",ref:s,class:Ee(y(n).b("group")),role:"radiogroup","aria-label":y(l)?void 0:f.label||"radio-group","aria-labelledby":y(l)?y(o).labelId:void 0},[Yt(f.$slots,"default")],10,hxe))}});var VX=kr(mxe,[["__file","radio-group.vue"]]);const XM=$i(oxe,{RadioButton:UX,RadioGroup:VX}),zX=ko(VX);ko(UX);var gxe=rt({name:"NodeContent",setup(){return{ns:sr("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:r}=this.$parent,{data:n,label:i}=e,{renderLabelFn:s}=r;return Tr("span",{class:t.e("label")},s?s({node:e,data:n}):i)}});const YM=Symbol(),vxe=rt({name:"ElCascaderNode",components:{ElCheckbox:yu,ElRadio:XM,NodeContent:gxe,ElIcon:Dr,Check:bE,Loading:Yb,ArrowRight:ou},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const r=Mr(YM),n=sr("cascader-node"),i=pe(()=>r.isHoverMenu),s=pe(()=>r.config.multiple),o=pe(()=>r.config.checkStrictly),a=pe(()=>{var D;return(D=r.checkedNodes[0])==null?void 0:D.uid}),l=pe(()=>t.node.isDisabled),u=pe(()=>t.node.isLeaf),d=pe(()=>o.value&&!u.value||!l.value),f=pe(()=>g(r.expandingNode)),h=pe(()=>o.value&&r.checkedNodes.some(g)),g=D=>{var L;const{level:j,uid:te}=t.node;return((L=D==null?void 0:D.pathNodes[j-1])==null?void 0:L.uid)===te},p=()=>{f.value||r.expandNode(t.node)},v=D=>{const{node:L}=t;D!==L.checked&&r.handleCheckChange(L,D)},b=()=>{r.lazyLoad(t.node,()=>{u.value||p()})},S=D=>{i.value&&(T(),!u.value&&e("expand",D))},T=()=>{const{node:D}=t;!d.value||D.loading||(D.loaded?p():b())},E=()=>{i.value&&!u.value||(u.value&&!l.value&&!o.value&&!s.value?P(!0):T())},C=D=>{o.value?(v(D),t.node.loaded&&p()):P(D)},P=D=>{t.node.loaded?(v(D),!o.value&&p()):b()};return{panel:r,isHoverMenu:i,multiple:s,checkStrictly:o,checkedNodeId:a,isDisabled:l,isLeaf:u,expandable:d,inExpandingPath:f,inCheckedPath:h,ns:n,handleHoverExpand:S,handleExpand:T,handleClick:E,handleCheck:P,handleSelectCheck:C}}}),_xe=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],yxe=He("span",null,null,-1);function bxe(t,e,r,n,i,s){const o=qn("el-checkbox"),a=qn("el-radio"),l=qn("check"),u=qn("el-icon"),d=qn("node-content"),f=qn("loading"),h=qn("arrow-right");return he(),Ue("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:Ee([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:e[2]||(e[2]=(...g)=>t.handleHoverExpand&&t.handleHoverExpand(...g)),onFocus:e[3]||(e[3]=(...g)=>t.handleHoverExpand&&t.handleHoverExpand(...g)),onClick:e[4]||(e[4]=(...g)=>t.handleClick&&t.handleClick(...g))},[xt(" prefix "),t.multiple?(he(),At(o,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:e[0]||(e[0]=yn(()=>{},["stop"])),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):t.checkStrictly?(he(),At(a,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:e[1]||(e[1]=yn(()=>{},["stop"]))},{default:ne(()=>[xt(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),yxe]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):t.isLeaf&&t.node.checked?(he(),At(u,{key:2,class:Ee(t.ns.e("prefix"))},{default:ne(()=>[N(l)]),_:1},8,["class"])):xt("v-if",!0),xt(" content "),N(d),xt(" postfix "),t.isLeaf?xt("v-if",!0):(he(),Ue(Ar,{key:3},[t.node.loading?(he(),At(u,{key:0,class:Ee([t.ns.is("loading"),t.ns.e("postfix")])},{default:ne(()=>[N(f)]),_:1},8,["class"])):(he(),At(u,{key:1,class:Ee(["arrow-right",t.ns.e("postfix")])},{default:ne(()=>[N(h)]),_:1},8,["class"]))],64))],42,_xe)}var xxe=kr(vxe,[["render",bxe],["__file","node.vue"]]);const wxe=rt({name:"ElCascaderMenu",components:{Loading:Yb,ElIcon:Dr,ElScrollbar:am,ElCascaderNode:xxe},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=kn(),r=sr("cascader-menu"),{t:n}=Ti(),i=ac();let s=null,o=null;const a=Mr(YM),l=ye(null),u=pe(()=>!t.nodes.length),d=pe(()=>!a.initialLoaded),f=pe(()=>`${i.value}-${t.index}`),h=b=>{s=b.target},g=b=>{if(!(!a.isHoverMenu||!s||!l.value))if(s.contains(b.target)){p();const S=e.vnode.el,{left:T}=S.getBoundingClientRect(),{offsetWidth:E,offsetHeight:C}=S,P=b.clientX-T,D=s.offsetTop,L=D+s.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${P} ${D} L${E} 0 V${D} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${P} ${L} L${E} ${C} V${L} Z" />
        `}else o||(o=window.setTimeout(v,a.config.hoverThreshold))},p=()=>{o&&(clearTimeout(o),o=null)},v=()=>{l.value&&(l.value.innerHTML="",p())};return{ns:r,panel:a,hoverZone:l,isEmpty:u,isLoading:d,menuId:f,t:n,handleExpand:h,handleMouseMove:g,clearHoverZone:v}}});function Sxe(t,e,r,n,i,s){const o=qn("el-cascader-node"),a=qn("loading"),l=qn("el-icon"),u=qn("el-scrollbar");return he(),At(u,{key:t.menuId,tag:"ul",role:"menu",class:Ee(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:ne(()=>{var d;return[(he(!0),Ue(Ar,null,xi(t.nodes,f=>(he(),At(o,{key:f.uid,node:f,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(he(),Ue("div",{key:0,class:Ee(t.ns.e("empty-text"))},[N(l,{size:"14",class:Ee(t.ns.is("loading"))},{default:ne(()=>[N(a)]),_:1},8,["class"]),It(" "+hr(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(he(),Ue("div",{key:1,class:Ee(t.ns.e("empty-text"))},hr(t.t("el.cascader.noData")),3)):(d=t.panel)!=null&&d.isHoverMenu?(he(),Ue("svg",{key:2,ref:"hoverZone",class:Ee(t.ns.e("hover-zone"))},null,2)):xt("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var Txe=kr(wxe,[["render",Sxe],["__file","menu.vue"]]);let Exe=0;const Cxe=t=>{const e=[t];let{parent:r}=t;for(;r;)e.unshift(r),r=r.parent;return e};let _k=class yk{constructor(e,r,n,i=!1){this.data=e,this.config=r,this.parent=n,this.root=i,this.uid=Exe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:s,label:o,children:a}=r,l=e[a],u=Cxe(this);this.level=i?0:n?n.level+1:1,this.value=e[s],this.label=e[o],this.pathNodes=u,this.pathValues=u.map(d=>d.value),this.pathLabels=u.map(d=>d.label),this.childrenData=l,this.children=(l||[]).map(d=>new yk(d,r,this)),this.loaded=!r.lazy||this.isLeaf||!Kl(l)}get isDisabled(){const{data:e,parent:r,config:n}=this,{disabled:i,checkStrictly:s}=n;return(Fr(i)?i(e,this):!!e[i])||!s&&(r==null?void 0:r.isDisabled)}get isLeaf(){const{data:e,config:r,childrenData:n,loaded:i}=this,{lazy:s,leaf:o}=r,a=Fr(o)?o(e,this):e[o];return Pl(a)?s&&!i?!1:!(Array.isArray(n)&&n.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:r,children:n}=this,i=new yk(e,this.config,this);return Array.isArray(r)?r.push(e):this.childrenData=[e],n.push(i),i}calcText(e,r){const n=e?this.pathLabels.join(r):this.label;return this.text=n,n}broadcast(e,...r){const n=`onParent${zc(e)}`;this.children.forEach(i=>{i&&(i.broadcast(e,...r),i[n]&&i[n](...r))})}emit(e,...r){const{parent:n}=this,i=`onChild${zc(e)}`;n&&(n[i]&&n[i](...r),n.emit(e,...r))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,r=e.filter(i=>!i.isDisabled),n=r.length?r.every(i=>i.checked):!1;this.setCheckState(n)}setCheckState(e){const r=this.children.length,n=this.children.reduce((i,s)=>{const o=s.checked?1:s.indeterminate?.5:0;return i+o},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&e,this.indeterminate=this.loaded&&n!==r&&n>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:r,multiple:n}=this.config;r||!n?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const bk=(t,e)=>t.reduce((r,n)=>(n.isLeaf?r.push(n):(!e&&r.push(n),r=r.concat(bk(n.children,e))),r),[]);class pN{constructor(e,r){this.config=r;const n=(e||[]).map(i=>new _k(i,this.config));this.nodes=n,this.allNodes=bk(n,!1),this.leafNodes=bk(n,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,r){const n=r?r.appendChild(e):new _k(e,this.config);r||this.nodes.push(n),this.allNodes.push(n),n.isLeaf&&this.leafNodes.push(n)}appendNodes(e,r){e.forEach(n=>this.appendNode(n,r))}getNodeByValue(e,r=!1){return!e&&e!==0?null:this.getFlattedNodes(r).find(i=>bl(i.value,e)||bl(i.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:n,level:i})=>bl(e.value,n)&&e.level===i)||null}}const jX=Or({modelValue:{type:Vt([Number,String,Array])},options:{type:Vt(Array),default:()=>[]},props:{type:Vt(Object),default:()=>({})}}),Axe={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Wn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Pxe=t=>pe(()=>({...Axe,...t.props})),mN=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},kxe=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():TW(t)&&t.click()},Ixe=(t,e)=>{const r=e.slice(0),n=r.map(s=>s.uid),i=t.reduce((s,o)=>{const a=n.indexOf(o.uid);return a>-1&&(s.push(o),r.splice(a,1),n.splice(a,1)),s},[]);return i.push(...r),i},Oxe=rt({name:"ElCascaderPanel",components:{ElCascaderMenu:Txe},props:{...jX,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Li,vf,"close","expand-change"],setup(t,{emit:e,slots:r}){let n=!1;const i=sr("cascader"),s=Pxe(t);let o=null;const a=ye(!0),l=ye([]),u=ye(null),d=ye([]),f=ye(null),h=ye([]),g=pe(()=>s.value.expandTrigger==="hover"),p=pe(()=>t.renderLabel||r.default),v=()=>{const{options:X}=t,Q=s.value;n=!1,o=new pN(X,Q),d.value=[o.getNodes()],Q.lazy&&Kl(t.options)?(a.value=!1,b(void 0,$=>{$&&(o=new pN($,Q),d.value=[o.getNodes()]),a.value=!0,j(!1,!0)})):j(!1,!0)},b=(X,Q)=>{const $=s.value;X=X||new _k({},$,void 0,!0),X.loading=!0;const V=Y=>{const ee=X,ae=ee.root?null:ee;Y&&(o==null||o.appendNodes(Y,ae)),ee.loading=!1,ee.loaded=!0,ee.childrenData=ee.childrenData||[],Q&&Q(Y)};$.lazyLoad(X,V)},S=(X,Q)=>{var $;const{level:V}=X,Y=d.value.slice(0,V);let ee;X.isLeaf?ee=X.pathNodes[V-2]:(ee=X,Y.push(X.children)),(($=f.value)==null?void 0:$.uid)!==(ee==null?void 0:ee.uid)&&(f.value=X,d.value=Y,!Q&&e("expand-change",(X==null?void 0:X.pathValues)||[]))},T=(X,Q,$=!0)=>{const{checkStrictly:V,multiple:Y}=s.value,ee=h.value[0];n=!0,!Y&&(ee==null||ee.doCheck(!1)),X.doCheck(Q),L(),$&&!Y&&!V&&e("close"),!$&&!Y&&!V&&E(X)},E=X=>{X&&(X=X.parent,E(X),X&&S(X))},C=X=>o==null?void 0:o.getFlattedNodes(X),P=X=>{var Q;return(Q=C(X))==null?void 0:Q.filter($=>$.checked!==!1)},D=()=>{h.value.forEach(X=>X.doCheck(!1)),L(),d.value=d.value.slice(0,1),f.value=null,e("expand-change",[])},L=()=>{var X;const{checkStrictly:Q,multiple:$}=s.value,V=h.value,Y=P(!Q),ee=Ixe(V,Y),ae=ee.map(H=>H.valueByOption);h.value=ee,u.value=$?ae:(X=ae[0])!=null?X:null},j=(X=!1,Q=!1)=>{const{modelValue:$}=t,{lazy:V,multiple:Y,checkStrictly:ee}=s.value,ae=!ee;if(!(!a.value||n||!Q&&bl($,u.value)))if(V&&!X){const J=gF(Gme(gl($))).map(ie=>o==null?void 0:o.getNodeByValue(ie)).filter(ie=>!!ie&&!ie.loaded&&!ie.loading);J.length?J.forEach(ie=>{b(ie,()=>j(!1,Q))}):j(!0,Q)}else{const H=Y?gl($):[$],J=gF(H.map(ie=>o==null?void 0:o.getNodeByValue(ie,ae)));te(J,Q),u.value=kS($)}},te=(X,Q=!0)=>{const{checkStrictly:$}=s.value,V=h.value,Y=X.filter(H=>!!H&&($||H.isLeaf)),ee=o==null?void 0:o.getSameNode(f.value),ae=Q&&ee||Y[0];ae?ae.pathNodes.forEach(H=>S(H,!0)):f.value=null,V.forEach(H=>H.doCheck(!1)),vn(Y).forEach(H=>H.doCheck(!0)),h.value=Y,Hr(se)},se=()=>{$n&&l.value.forEach(X=>{const Q=X==null?void 0:X.$el;if(Q){const $=Q.querySelector(`.${i.namespace.value}-scrollbar__wrap`),V=Q.querySelector(`.${i.b("node")}.${i.is("active")}`)||Q.querySelector(`.${i.b("node")}.in-active-path`);pq($,V)}})},q=X=>{const Q=X.target,{code:$}=X;switch($){case Xr.up:case Xr.down:{X.preventDefault();const V=$===Xr.up?-1:1;_w(EW(Q,V,`.${i.b("node")}[tabindex="-1"]`));break}case Xr.left:{X.preventDefault();const V=l.value[mN(Q)-1],Y=V==null?void 0:V.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);_w(Y);break}case Xr.right:{X.preventDefault();const V=l.value[mN(Q)+1],Y=V==null?void 0:V.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);_w(Y);break}case Xr.enter:kxe(Q);break}};return _i(YM,vn({config:s,expandingNode:f,checkedNodes:h,isHoverMenu:g,initialLoaded:a,renderLabelFn:p,lazyLoad:b,expandNode:S,handleCheckChange:T})),Gt([s,()=>t.options],v,{deep:!0,immediate:!0}),Gt(()=>t.modelValue,()=>{n=!1,j()},{deep:!0}),Gt(()=>u.value,X=>{bl(X,t.modelValue)||(e(Li,X),e(vf,X))}),GG(()=>l.value=[]),Un(()=>!Kl(t.modelValue)&&j()),{ns:i,menuList:l,menus:d,checkedNodes:h,handleKeyDown:q,handleCheckChange:T,getFlattedNodes:C,getCheckedNodes:P,clearCheckedNodes:D,calculateCheckedValue:L,scrollToExpandingNode:se}}});function Dxe(t,e,r,n,i,s){const o=qn("el-cascader-menu");return he(),Ue("div",{class:Ee([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:e[0]||(e[0]=(...a)=>t.handleKeyDown&&t.handleKeyDown(...a))},[(he(!0),Ue(Ar,null,xi(t.menus,(a,l)=>(he(),At(o,{key:l,ref_for:!0,ref:u=>t.menuList[l]=u,index:l,nodes:[...a]},null,8,["index","nodes"]))),128))],34)}var Cw=kr(Oxe,[["render",Dxe],["__file","index.vue"]]);Cw.install=t=>{t.component(Cw.name,Cw)};const Mxe=Cw,KM=Or({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Jh},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Rxe={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},$xe=rt({name:"ElTag"}),Lxe=rt({...$xe,props:KM,emits:Rxe,setup(t,{emit:e}){const r=t,n=_u(),i=sr("tag"),s=pe(()=>{const{type:l,hit:u,effect:d,closable:f,round:h}=r;return[i.b(),i.is("closable",f),i.m(l||"primary"),i.m(n.value),i.m(d),i.is("hit",u),i.is("round",h)]}),o=l=>{e("close",l)},a=l=>{e("click",l)};return(l,u)=>l.disableTransitions?(he(),Ue("span",{key:0,class:Ee(y(s)),style:sn({backgroundColor:l.color}),onClick:a},[He("span",{class:Ee(y(i).e("content"))},[Yt(l.$slots,"default")],2),l.closable?(he(),At(y(Dr),{key:0,class:Ee(y(i).e("close")),onClick:yn(o,["stop"])},{default:ne(()=>[N(y(gf))]),_:1},8,["class","onClick"])):xt("v-if",!0)],6)):(he(),At(sa,{key:1,name:`${y(i).namespace.value}-zoom-in-center`,appear:""},{default:ne(()=>[He("span",{class:Ee(y(s)),style:sn({backgroundColor:l.color}),onClick:a},[He("span",{class:Ee(y(i).e("content"))},[Yt(l.$slots,"default")],2),l.closable?(he(),At(y(Dr),{key:0,class:Ee(y(i).e("close")),onClick:yn(o,["stop"])},{default:ne(()=>[N(y(gf))]),_:1},8,["class","onClick"])):xt("v-if",!0)],6)]),_:3},8,["name"]))}});var Fxe=kr(Lxe,[["__file","tag.vue"]]);const xk=$i(Fxe),Nxe=Or({...jX,size:vd,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Vt(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Vt(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:IE.teleported,tagType:{...KM.type,default:"info"},validateEvent:{type:Boolean,default:!0}}),Bxe={[Li]:t=>!!t||t===null,[vf]:t=>!!t||t===null,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,visibleChange:t=>pu(t),expandChange:t=>!!t,removeTag:t=>!!t},Uxe={key:0},Vxe=["placeholder","onKeydown"],zxe=["onClick"],jxe="ElCascader",Hxe=rt({name:jxe}),Gxe=rt({...Hxe,props:Nxe,emits:Bxe,setup(t,{expose:e,emit:r}){const n=t,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:ke})=>{const{modifiersData:me,placement:De}=ke;["right","left","bottom","top"].includes(De)||(me.arrow.x=35)},requires:["arrow"]}]},s=Iv();let o=0,a=0;const l=sr("cascader"),u=sr("input"),{t:d}=Ti(),{form:f,formItem:h}=_d(),g=ye(null),p=ye(null),v=ye(null),b=ye(null),S=ye(null),T=ye(!1),E=ye(!1),C=ye(!1),P=ye(!1),D=ye(""),L=ye(""),j=ye([]),te=ye([]),se=ye([]),q=ye(!1),X=pe(()=>s.style),Q=pe(()=>n.disabled||(f==null?void 0:f.disabled)),$=pe(()=>n.placeholder||d("el.cascader.placeholder")),V=pe(()=>L.value||j.value.length>0||q.value?"":$.value),Y=_u(),ee=pe(()=>["small"].includes(Y.value)?"small":"default"),ae=pe(()=>!!n.props.multiple),H=pe(()=>!n.filterable||ae.value),J=pe(()=>ae.value?L.value:D.value),ie=pe(()=>{var ke;return((ke=b.value)==null?void 0:ke.checkedNodes)||[]}),xe=pe(()=>!n.clearable||Q.value||C.value||!E.value?!1:!!ie.value.length),qe=pe(()=>{const{showAllLevels:ke,separator:me}=n,De=ie.value;return De.length?ae.value?"":De[0].calcText(ke,me):""}),et=pe(()=>(h==null?void 0:h.validateState)||""),Je=pe({get(){return kS(n.modelValue)},set(ke){r(Li,ke),r(vf,ke),n.validateEvent&&(h==null||h.validate("change").catch(me=>void 0))}}),lt=pe(()=>[l.b(),l.m(Y.value),l.is("disabled",Q.value),s.class]),Re=pe(()=>[u.e("icon"),"icon-arrow-down",l.is("reverse",T.value)]),wt=pe(()=>l.is("focus",T.value||P.value)),vt=pe(()=>{var ke,me;return(me=(ke=g.value)==null?void 0:ke.popperRef)==null?void 0:me.contentRef}),pt=ke=>{var me,De,Ae;Q.value||(ke=ke??!T.value,ke!==T.value&&(T.value=ke,(De=(me=p.value)==null?void 0:me.input)==null||De.setAttribute("aria-expanded",`${ke}`),ke?(Ut(),Hr((Ae=b.value)==null?void 0:Ae.scrollToExpandingNode)):n.filterable&&Zt(),r("visibleChange",ke)))},Ut=()=>{Hr(()=>{var ke;(ke=g.value)==null||ke.updatePopper()})},yt=()=>{C.value=!1},le=ke=>{const{showAllLevels:me,separator:De}=n;return{node:ke,key:ke.uid,text:ke.calcText(me,De),hitState:!1,closable:!Q.value&&!ke.isDisabled,isCollapseTag:!1}},Oe=ke=>{var me;const De=ke.node;De.doCheck(!1),(me=b.value)==null||me.calculateCheckedValue(),r("removeTag",De.valueByOption)},nt=()=>{if(!ae.value)return;const ke=ie.value,me=[],De=[];if(ke.forEach(Ae=>De.push(le(Ae))),te.value=De,ke.length){ke.slice(0,n.maxCollapseTags).forEach(rr=>me.push(le(rr)));const Ae=ke.slice(n.maxCollapseTags),Le=Ae.length;Le&&(n.collapseTags?me.push({key:-1,text:`+ ${Le}`,closable:!1,isCollapseTag:!0}):Ae.forEach(rr=>me.push(le(rr))))}j.value=me},Ke=()=>{var ke,me;const{filterMethod:De,showAllLevels:Ae,separator:Le}=n,rr=(me=(ke=b.value)==null?void 0:ke.getFlattedNodes(!n.props.checkStrictly))==null?void 0:me.filter(c=>c.isDisabled?!1:(c.calcText(Ae,Le),De(c,J.value)));ae.value&&(j.value.forEach(c=>{c.hitState=!1}),te.value.forEach(c=>{c.hitState=!1})),C.value=!0,se.value=rr,Ut()},ct=()=>{var ke;let me;C.value&&S.value?me=S.value.$el.querySelector(`.${l.e("suggestion-item")}`):me=(ke=b.value)==null?void 0:ke.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),me&&(me.focus(),!C.value&&me.click())},Ot=()=>{var ke,me;const De=(ke=p.value)==null?void 0:ke.input,Ae=v.value,Le=(me=S.value)==null?void 0:me.$el;if(!(!$n||!De)){if(Le){const rr=Le.querySelector(`.${l.e("suggestion-list")}`);rr.style.minWidth=`${De.offsetWidth}px`}if(Ae){const{offsetHeight:rr}=Ae,c=j.value.length>0?`${Math.max(rr+6,o)}px`:`${o}px`;De.style.height=c,Ut()}}},Dt=ke=>{var me;return(me=b.value)==null?void 0:me.getCheckedNodes(ke)},_t=ke=>{Ut(),r("expandChange",ke)},Mt=ke=>{var me;const De=(me=ke.target)==null?void 0:me.value;if(ke.type==="compositionend")q.value=!1,Hr(()=>_e(De));else{const Ae=De[De.length-1]||"";q.value=!MM(Ae)}},Rt=ke=>{if(!q.value)switch(ke.code){case Xr.enter:pt();break;case Xr.down:pt(!0),Hr(ct),ke.preventDefault();break;case Xr.esc:T.value===!0&&(ke.preventDefault(),ke.stopPropagation(),pt(!1));break;case Xr.tab:pt(!1);break}},tt=()=>{var ke;(ke=b.value)==null||ke.clearCheckedNodes(),!T.value&&n.filterable&&Zt(),pt(!1)},Zt=()=>{const{value:ke}=qe;D.value=ke,L.value=ke},mt=ke=>{var me,De;const{checked:Ae}=ke;ae.value?(me=b.value)==null||me.handleCheckChange(ke,!Ae,!1):(!Ae&&((De=b.value)==null||De.handleCheckChange(ke,!0,!1)),pt(!1))},Tt=ke=>{const me=ke.target,{code:De}=ke;switch(De){case Xr.up:case Xr.down:{const Ae=De===Xr.up?-1:1;_w(EW(me,Ae,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case Xr.enter:me.click();break}},mr=()=>{const ke=j.value,me=ke[ke.length-1];a=L.value?0:a+1,!(!me||!a||n.collapseTags&&ke.length>1)&&(me.hitState?Oe(me):me.hitState=!0)},Bt=ke=>{const me=ke.target,De=l.e("search-input");me.className===De&&(P.value=!0),r("focus",ke)},Ir=ke=>{P.value=!1,r("blur",ke)},ot=Bh(()=>{const{value:ke}=J;if(!ke)return;const me=n.beforeFilter(ke);qD(me)?me.then(Ke).catch(()=>{}):me!==!1?Ke():yt()},n.debounce),_e=(ke,me)=>{!T.value&&pt(!0),!(me!=null&&me.isComposing)&&(ke?ot():yt())},ze=ke=>Number.parseFloat(Ace(u.cssVarName("input-height"),ke).value)-2;return Gt(C,Ut),Gt([ie,Q],nt),Gt(j,()=>{Hr(()=>Ot())}),Gt(Y,async()=>{await Hr();const ke=p.value.input;o=ze(ke)||o,Ot()}),Gt(qe,Zt,{immediate:!0}),Un(()=>{const ke=p.value.input,me=ze(ke);o=ke.offsetHeight||me,Fo(ke,Ot)}),e({getCheckedNodes:Dt,cascaderPanelRef:b,togglePopperVisible:pt,contentRef:vt}),(ke,me)=>(he(),At(y(Uh),{ref_key:"tooltipRef",ref:g,visible:T.value,teleported:ke.teleported,"popper-class":[y(l).e("dropdown"),ke.popperClass],"popper-options":i,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${y(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:yt},{default:ne(()=>[xn((he(),Ue("div",{class:Ee(y(lt)),style:sn(y(X)),onClick:me[5]||(me[5]=()=>pt(y(H)?void 0:!0)),onKeydown:Rt,onMouseenter:me[6]||(me[6]=De=>E.value=!0),onMouseleave:me[7]||(me[7]=De=>E.value=!1)},[N(y(as),{ref_key:"input",ref:p,modelValue:D.value,"onUpdate:modelValue":me[1]||(me[1]=De=>D.value=De),placeholder:y(V),readonly:y(H),disabled:y(Q),"validate-event":!1,size:y(Y),class:Ee(y(wt)),tabindex:y(ae)&&ke.filterable&&!y(Q)?-1:void 0,onCompositionstart:Mt,onCompositionupdate:Mt,onCompositionend:Mt,onFocus:Bt,onBlur:Ir,onInput:_e},{suffix:ne(()=>[y(xe)?(he(),At(y(Dr),{key:"clear",class:Ee([y(u).e("icon"),"icon-circle-close"]),onClick:yn(tt,["stop"])},{default:ne(()=>[N(y(Rv))]),_:1},8,["class","onClick"])):(he(),At(y(Dr),{key:"arrow-down",class:Ee(y(Re)),onClick:me[0]||(me[0]=yn(De=>pt(),["stop"]))},{default:ne(()=>[N(y(Xb))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),y(ae)?(he(),Ue("div",{key:0,ref_key:"tagWrapper",ref:v,class:Ee([y(l).e("tags"),y(l).is("validate",!!y(et))])},[(he(!0),Ue(Ar,null,xi(j.value,De=>(he(),At(y(xk),{key:De.key,type:ke.tagType,size:y(ee),hit:De.hitState,closable:De.closable,"disable-transitions":"",onClose:Ae=>Oe(De)},{default:ne(()=>[De.isCollapseTag===!1?(he(),Ue("span",Uxe,hr(De.text),1)):(he(),At(y(Uh),{key:1,disabled:T.value||!ke.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:ne(()=>[He("span",null,hr(De.text),1)]),content:ne(()=>[He("div",{class:Ee(y(l).e("collapse-tags"))},[(he(!0),Ue(Ar,null,xi(te.value.slice(ke.maxCollapseTags),(Ae,Le)=>(he(),Ue("div",{key:Le,class:Ee(y(l).e("collapse-tag"))},[(he(),At(y(xk),{key:Ae.key,class:"in-tooltip",type:ke.tagType,size:y(ee),hit:Ae.hitState,closable:Ae.closable,"disable-transitions":"",onClose:rr=>Oe(Ae)},{default:ne(()=>[He("span",null,hr(Ae.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),ke.filterable&&!y(Q)?xn((he(),Ue("input",{key:0,"onUpdate:modelValue":me[2]||(me[2]=De=>L.value=De),type:"text",class:Ee(y(l).e("search-input")),placeholder:y(qe)?"":y($),onInput:me[3]||(me[3]=De=>_e(L.value,De)),onClick:me[4]||(me[4]=yn(De=>pt(!0),["stop"])),onKeydown:Zi(mr,["delete"]),onCompositionstart:Mt,onCompositionupdate:Mt,onCompositionend:Mt,onFocus:Bt,onBlur:Ir},null,42,Vxe)),[[_W,L.value]]):xt("v-if",!0)],2)):xt("v-if",!0)],38)),[[y(N0),()=>pt(!1),y(vt)]])]),content:ne(()=>[xn(N(y(Mxe),{ref_key:"cascaderPanelRef",ref:b,modelValue:y(Je),"onUpdate:modelValue":me[8]||(me[8]=De=>Kr(Je)?Je.value=De:null),options:ke.options,props:n.props,border:!1,"render-label":ke.$slots.default,onExpandChange:_t,onClose:me[9]||(me[9]=De=>ke.$nextTick(()=>pt(!1)))},null,8,["modelValue","options","props","render-label"]),[[Ci,!C.value]]),ke.filterable?xn((he(),At(y(am),{key:0,ref_key:"suggestionPanel",ref:S,tag:"ul",class:Ee(y(l).e("suggestion-panel")),"view-class":y(l).e("suggestion-list"),onKeydown:Tt},{default:ne(()=>[se.value.length?(he(!0),Ue(Ar,{key:0},xi(se.value,De=>(he(),Ue("li",{key:De.uid,class:Ee([y(l).e("suggestion-item"),y(l).is("checked",De.checked)]),tabindex:-1,onClick:Ae=>mt(De)},[He("span",null,hr(De.text),1),De.checked?(he(),At(y(Dr),{key:0},{default:ne(()=>[N(y(bE))]),_:1})):xt("v-if",!0)],10,zxe))),128)):Yt(ke.$slots,"empty",{key:1},()=>[He("li",{class:Ee(y(l).e("empty-text"))},hr(y(d)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Ci,C.value]]):xt("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var Aw=kr(Gxe,[["__file","cascader.vue"]]);Aw.install=t=>{t.component(Aw.name,Aw)};const Wxe=Aw,qxe=Wxe,HX=Symbol("rowContextKey"),Xxe=["start","center","end","space-around","space-between","space-evenly"],Yxe=["top","middle","bottom"],Kxe=Or({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Xxe,default:"start"},align:{type:String,values:Yxe}}),Zxe=rt({name:"ElRow"}),Qxe=rt({...Zxe,props:Kxe,setup(t){const e=t,r=sr("row"),n=pe(()=>e.gutter);_i(HX,{gutter:n});const i=pe(()=>{const o={};return e.gutter&&(o.marginRight=o.marginLeft=`-${e.gutter/2}px`),o}),s=pe(()=>[r.b(),r.is(`justify-${e.justify}`,e.justify!=="start"),r.is(`align-${e.align}`,!!e.align)]);return(o,a)=>(he(),At(vi(o.tag),{class:Ee(y(s)),style:sn(y(i))},{default:ne(()=>[Yt(o.$slots,"default")]),_:3},8,["class","style"]))}});var Jxe=kr(Qxe,[["__file","row.vue"]]);const ewe=$i(Jxe),twe=Or({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Vt([Number,Object]),default:()=>xo({})},sm:{type:Vt([Number,Object]),default:()=>xo({})},md:{type:Vt([Number,Object]),default:()=>xo({})},lg:{type:Vt([Number,Object]),default:()=>xo({})},xl:{type:Vt([Number,Object]),default:()=>xo({})}}),rwe=rt({name:"ElCol"}),nwe=rt({...rwe,props:twe,setup(t){const e=t,{gutter:r}=Mr(HX,{gutter:pe(()=>0)}),n=sr("col"),i=pe(()=>{const o={};return r.value&&(o.paddingLeft=o.paddingRight=`${r.value/2}px`),o}),s=pe(()=>{const o=[];return["span","offset","pull","push"].forEach(u=>{const d=e[u];Yn(d)&&(u==="span"?o.push(n.b(`${e[u]}`)):d>0&&o.push(n.b(`${u}-${e[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{Yn(e[u])?o.push(n.b(`${u}-${e[u]}`)):En(e[u])&&Object.entries(e[u]).forEach(([d,f])=>{o.push(d!=="span"?n.b(`${u}-${d}-${f}`):n.b(`${u}-${f}`))})}),r.value&&o.push(n.is("guttered")),[n.b(),o]});return(o,a)=>(he(),At(vi(o.tag),{class:Ee(y(s)),style:sn(y(i))},{default:ne(()=>[Yt(o.$slots,"default")]),_:3},8,["class","style"]))}});var iwe=kr(nwe,[["__file","col.vue"]]);const GX=$i(iwe),swe=rt({name:"ElCollapseTransition"}),owe=rt({...swe,setup(t){const e=sr("collapse-transition"),r=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},n={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){r(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){r(i)},leaveCancelled(i){r(i)}};return(i,s)=>(he(),At(sa,Eo({name:y(e).b()},ble(n)),{default:ne(()=>[Yt(i.$slots,"default")]),_:3},16,["name"]))}});var Pw=kr(owe,[["__file","collapse-transition.vue"]]);Pw.install=t=>{t.component(Pw.name,Pw)};const awe=Pw,lwe=rt({name:"ElContainer"}),uwe=rt({...lwe,props:{direction:{type:String}},setup(t){const e=t,r=Ml(),n=sr("container"),i=pe(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:r&&r.default?r.default().some(o=>{const a=o.type.name;return a==="ElHeader"||a==="ElFooter"}):!1);return(s,o)=>(he(),Ue("section",{class:Ee([y(n).b(),y(n).is("vertical",y(i))])},[Yt(s.$slots,"default")],2))}});var cwe=kr(uwe,[["__file","container.vue"]]);const dwe=rt({name:"ElAside"}),fwe=rt({...dwe,props:{width:{type:String,default:null}},setup(t){const e=t,r=sr("aside"),n=pe(()=>e.width?r.cssVarBlock({width:e.width}):{});return(i,s)=>(he(),Ue("aside",{class:Ee(y(r).b()),style:sn(y(n))},[Yt(i.$slots,"default")],6))}});var WX=kr(fwe,[["__file","aside.vue"]]);const hwe=rt({name:"ElFooter"}),pwe=rt({...hwe,props:{height:{type:String,default:null}},setup(t){const e=t,r=sr("footer"),n=pe(()=>e.height?r.cssVarBlock({height:e.height}):{});return(i,s)=>(he(),Ue("footer",{class:Ee(y(r).b()),style:sn(y(n))},[Yt(i.$slots,"default")],6))}});var qX=kr(pwe,[["__file","footer.vue"]]);const mwe=rt({name:"ElHeader"}),gwe=rt({...mwe,props:{height:{type:String,default:null}},setup(t){const e=t,r=sr("header"),n=pe(()=>e.height?r.cssVarBlock({height:e.height}):{});return(i,s)=>(he(),Ue("header",{class:Ee(y(r).b()),style:sn(y(n))},[Yt(i.$slots,"default")],6))}});var XX=kr(gwe,[["__file","header.vue"]]);const vwe=rt({name:"ElMain"}),_we=rt({...vwe,setup(t){const e=sr("main");return(r,n)=>(he(),Ue("main",{class:Ee(y(e).b())},[Yt(r.$slots,"default")],2))}});var YX=kr(_we,[["__file","main.vue"]]);const ywe=$i(cwe,{Aside:WX,Footer:qX,Header:XX,Main:YX});ko(WX);ko(qX);ko(XX);const bwe=ko(YX);var KX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Co,function(){return function(r,n){var i=n.prototype,s=i.format;i.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return s.bind(this)(o);var u=this.$utils(),d=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return u.s(a.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(a.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(a.$H===0?24:a.$H),f==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return f}});return s.bind(this)(d)}}})})(KX);var xwe=KX.exports;const wwe=zs(xwe);var ZX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Co,function(){var r="week",n="year";return function(i,s,o){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var d=o(this).startOf(n).add(1,n).date(u),f=o(this).endOf(r);if(d.isBefore(f))return 1}var h=o(this).startOf(n).date(u).startOf(r).subtract(1,"millisecond"),g=this.diff(h,r,!0);return g<0?o(this).startOf("week").week():Math.ceil(g)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(ZX);var Swe=ZX.exports;const Twe=zs(Swe);var QX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Co,function(){return function(r,n){n.prototype.weekYear=function(){var i=this.month(),s=this.week(),o=this.year();return s===1&&i===11?o+1:i===0&&s>=52?o-1:o}}})})(QX);var Ewe=QX.exports;const Cwe=zs(Ewe);var JX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Co,function(){return function(r,n,i){n.prototype.dayOfYear=function(s){var o=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return s==null?o:this.add(s-o,"day")}}})})(JX);var Awe=JX.exports;const Pwe=zs(Awe);var eY={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Co,function(){return function(r,n){n.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(eY);var kwe=eY.exports;const Iwe=zs(kwe);var tY={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Co,function(){return function(r,n){n.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(tY);var Owe=tY.exports;const Dwe=zs(Owe),ZM=Symbol(),Mwe=Or({...bX,type:{type:Vt(String),default:"date"}}),Rwe=["date","dates","year","years","month","week","range"],QM=Or({disabledDate:{type:Vt(Function)},date:{type:Vt(Object),required:!0},minDate:{type:Vt(Object)},maxDate:{type:Vt(Object)},parsedValue:{type:Vt([Object,Array])},rangeState:{type:Vt(Object),default:()=>({endDate:null,selecting:!1})}}),rY=Or({type:{type:Vt(String),required:!0,values:Tve},dateFormat:String,timeFormat:String}),nY=Or({unlinkPanels:Boolean,parsedValue:{type:Vt(Array)}}),JM=t=>({type:String,values:Rwe,default:t}),$we=Or({...rY,parsedValue:{type:Vt([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Lwe=Or({...QM,cellClassName:{type:Vt(Function)},showWeekNumber:Boolean,selectionMode:JM("date")}),Fwe=["changerange","pick","select"],wk=t=>{if(!cr(t))return!1;const[e,r]=t;return Jr.isDayjs(e)&&Jr.isDayjs(r)&&e.isSameOrBefore(r)},iY=(t,{lang:e,unit:r,unlinkPanels:n})=>{let i;if(cr(t)){let[s,o]=t.map(a=>Jr(a).locale(e));return n||(o=s.add(1,r)),[s,o]}else t?i=Jr(t):i=Jr();return i=i.locale(e),[i,i.add(1,r)]},Nwe=(t,e,{columnIndexOffset:r,startDate:n,nextEndDate:i,now:s,unit:o,relativeDateGetter:a,setCellMetadata:l,setRowMetadata:u})=>{for(let d=0;d<t.row;d++){const f=e[d];for(let h=0;h<t.column;h++){let g=f[h+r];g||(g={row:d,column:h,type:"normal",inRange:!1,start:!1,end:!1});const p=d*t.column+h,v=a(p);g.dayjs=v,g.date=v.toDate(),g.timestamp=v.valueOf(),g.type="normal",g.inRange=!!(n&&v.isSameOrAfter(n,o)&&i&&v.isSameOrBefore(i,o))||!!(n&&v.isSameOrBefore(n,o)&&i&&v.isSameOrAfter(i,o)),n!=null&&n.isSameOrAfter(i)?(g.start=!!i&&v.isSame(i,o),g.end=n&&v.isSame(n,o)):(g.start=!!n&&v.isSame(n,o),g.end=!!i&&v.isSame(i,o)),v.isSame(s,o)&&(g.type="today"),l==null||l(g,{rowIndex:d,columnIndex:h}),f[h+r]=g}u==null||u(f)}},Sk=(t="")=>["normal","today"].includes(t),Bwe=(t,e)=>{const{lang:r}=Ti(),n=ye(),i=ye(),s=ye(),o=ye(),a=ye([[],[],[],[],[],[]]);let l=!1;const u=t.date.$locale().weekStart||7,d=t.date.locale("en").localeData().weekdaysShort().map(H=>H.toLowerCase()),f=pe(()=>u>3?7-u:-u),h=pe(()=>{const H=t.date.startOf("month");return H.subtract(H.day()||7,"day")}),g=pe(()=>d.concat(d).slice(u,u+7)),p=pe(()=>WW(y(C)).some(H=>H.isCurrent)),v=pe(()=>{const H=t.date.startOf("month"),J=H.day()||7,ie=H.daysInMonth(),xe=H.subtract(1,"month").daysInMonth();return{startOfMonthDay:J,dateCountOfMonth:ie,dateCountOfLastMonth:xe}}),b=pe(()=>t.selectionMode==="dates"?gl(t.parsedValue):[]),S=(H,{count:J,rowIndex:ie,columnIndex:xe})=>{const{startOfMonthDay:qe,dateCountOfMonth:et,dateCountOfLastMonth:Je}=y(v),lt=y(f);if(ie>=0&&ie<=1){const Re=qe+lt<0?7+qe+lt:qe+lt;if(xe+ie*7>=Re)return H.text=J,!0;H.text=Je-(Re-xe%7)+1+ie*7,H.type="prev-month"}else return J<=et?H.text=J:(H.text=J-et,H.type="next-month"),!0;return!1},T=(H,{columnIndex:J,rowIndex:ie},xe)=>{const{disabledDate:qe,cellClassName:et}=t,Je=y(b),lt=S(H,{count:xe,rowIndex:ie,columnIndex:J}),Re=H.dayjs.toDate();return H.selected=Je.find(wt=>wt.isSame(H.dayjs,"day")),H.isSelected=!!H.selected,H.isCurrent=D(H),H.disabled=qe==null?void 0:qe(Re),H.customClass=et==null?void 0:et(Re),lt},E=H=>{if(t.selectionMode==="week"){const[J,ie]=t.showWeekNumber?[1,7]:[0,6],xe=ae(H[J+1]);H[J].inRange=xe,H[J].start=xe,H[ie].inRange=xe,H[ie].end=xe}},C=pe(()=>{const{minDate:H,maxDate:J,rangeState:ie,showWeekNumber:xe}=t,qe=y(f),et=y(a),Je="day";let lt=1;if(xe)for(let Re=0;Re<6;Re++)et[Re][0]||(et[Re][0]={type:"week",text:y(h).add(Re*7+1,Je).week()});return Nwe({row:6,column:7},et,{startDate:H,columnIndexOffset:xe?1:0,nextEndDate:ie.endDate||J||ie.selecting&&H||null,now:Jr().locale(y(r)).startOf(Je),unit:Je,relativeDateGetter:Re=>y(h).add(Re-qe,Je),setCellMetadata:(...Re)=>{T(...Re,lt)&&(lt+=1)},setRowMetadata:E}),et});Gt(()=>t.date,async()=>{var H;(H=y(n))!=null&&H.contains(document.activeElement)&&(await Hr(),await P())});const P=async()=>{var H;return(H=y(i))==null?void 0:H.focus()},D=H=>t.selectionMode==="date"&&Sk(H.type)&&L(H,t.parsedValue),L=(H,J)=>J?Jr(J).locale(y(r)).isSame(t.date.date(Number(H.text)),"day"):!1,j=(H,J)=>{const ie=H*7+(J-(t.showWeekNumber?1:0))-y(f);return y(h).add(ie,"day")},te=H=>{var J;if(!t.rangeState.selecting)return;let ie=H.target;if(ie.tagName==="SPAN"&&(ie=(J=ie.parentNode)==null?void 0:J.parentNode),ie.tagName==="DIV"&&(ie=ie.parentNode),ie.tagName!=="TD")return;const xe=ie.parentNode.rowIndex-1,qe=ie.cellIndex;y(C)[xe][qe].disabled||(xe!==y(s)||qe!==y(o))&&(s.value=xe,o.value=qe,e("changerange",{selecting:!0,endDate:j(xe,qe)}))},se=H=>!y(p)&&(H==null?void 0:H.text)===1&&H.type==="normal"||H.isCurrent,q=H=>{l||y(p)||t.selectionMode!=="date"||ee(H,!0)},X=H=>{H.target.closest("td")&&(l=!0)},Q=H=>{H.target.closest("td")&&(l=!1)},$=H=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:H,maxDate:null}),e("select",!0)):(H>=t.minDate?e("pick",{minDate:t.minDate,maxDate:H}):e("pick",{minDate:H,maxDate:t.minDate}),e("select",!1))},V=H=>{const J=H.week(),ie=`${H.year()}w${J}`;e("pick",{year:H.year(),week:J,value:ie,date:H.startOf("week")})},Y=(H,J)=>{const ie=J?gl(t.parsedValue).filter(xe=>(xe==null?void 0:xe.valueOf())!==H.valueOf()):gl(t.parsedValue).concat([H]);e("pick",ie)},ee=(H,J=!1)=>{const ie=H.target.closest("td");if(!ie)return;const xe=ie.parentNode.rowIndex-1,qe=ie.cellIndex,et=y(C)[xe][qe];if(et.disabled||et.type==="week")return;const Je=j(xe,qe);switch(t.selectionMode){case"range":{$(Je);break}case"date":{e("pick",Je,J);break}case"week":{V(Je);break}case"dates":{Y(Je,!!et.selected);break}}},ae=H=>{if(t.selectionMode!=="week")return!1;let J=t.date.startOf("day");if(H.type==="prev-month"&&(J=J.subtract(1,"month")),H.type==="next-month"&&(J=J.add(1,"month")),J=J.date(Number.parseInt(H.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const ie=(t.parsedValue.day()-u+7)%7-1;return t.parsedValue.subtract(ie,"day").isSame(J,"day")}return!1};return{WEEKS:g,rows:C,tbodyRef:n,currentCellRef:i,focus:P,isCurrent:D,isWeekActive:ae,isSelectedCell:se,handlePickDate:ee,handleMouseUp:Q,handleMouseDown:X,handleMouseMove:te,handleFocus:q}},Uwe=(t,{isCurrent:e,isWeekActive:r})=>{const n=sr("date-table"),{t:i}=Ti(),s=pe(()=>[n.b(),{"is-week-mode":t.selectionMode==="week"}]),o=pe(()=>i("el.datepicker.dateTablePrompt")),a=pe(()=>i("el.datepicker.week"));return{tableKls:s,tableLabel:o,weekLabel:a,getCellClasses:d=>{const f=[];return Sk(d.type)&&!d.disabled?(f.push("available"),d.type==="today"&&f.push("today")):f.push(d.type),e(d)&&f.push("current"),d.inRange&&(Sk(d.type)||t.selectionMode==="week")&&(f.push("in-range"),d.start&&f.push("start-date"),d.end&&f.push("end-date")),d.disabled&&f.push("disabled"),d.selected&&f.push("selected"),d.customClass&&f.push(d.customClass),f.join(" ")},getRowKls:d=>[n.e("row"),{current:r(d)}],t:i}},Vwe=Or({cell:{type:Vt(Object)}});var zwe=rt({name:"ElDatePickerCell",props:Vwe,setup(t){const e=sr("date-table-cell"),{slots:r}=Mr(ZM);return()=>{const{cell:n}=t;return Yt(r,"default",{...n},()=>[N("div",{class:e.b()},[N("span",{class:e.e("text")},[n==null?void 0:n.text])])])}}});const jwe=["aria-label"],Hwe={key:0,scope:"col"},Gwe=["aria-label"],Wwe=["aria-current","aria-selected","tabindex"],qwe=rt({__name:"basic-date-table",props:Lwe,emits:Fwe,setup(t,{expose:e,emit:r}){const n=t,{WEEKS:i,rows:s,tbodyRef:o,currentCellRef:a,focus:l,isCurrent:u,isWeekActive:d,isSelectedCell:f,handlePickDate:h,handleMouseUp:g,handleMouseDown:p,handleMouseMove:v,handleFocus:b}=Bwe(n,r),{tableLabel:S,tableKls:T,weekLabel:E,getCellClasses:C,getRowKls:P,t:D}=Uwe(n,{isCurrent:u,isWeekActive:d});return e({focus:l}),(L,j)=>(he(),Ue("table",{"aria-label":y(S),class:Ee(y(T)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:j[1]||(j[1]=(...te)=>y(h)&&y(h)(...te)),onMousemove:j[2]||(j[2]=(...te)=>y(v)&&y(v)(...te)),onMousedown:j[3]||(j[3]=yn((...te)=>y(p)&&y(p)(...te),["prevent"])),onMouseup:j[4]||(j[4]=(...te)=>y(g)&&y(g)(...te))},[He("tbody",{ref_key:"tbodyRef",ref:o},[He("tr",null,[L.showWeekNumber?(he(),Ue("th",Hwe,hr(y(E)),1)):xt("v-if",!0),(he(!0),Ue(Ar,null,xi(y(i),(te,se)=>(he(),Ue("th",{key:se,"aria-label":y(D)("el.datepicker.weeksFull."+te),scope:"col"},hr(y(D)("el.datepicker.weeks."+te)),9,Gwe))),128))]),(he(!0),Ue(Ar,null,xi(y(s),(te,se)=>(he(),Ue("tr",{key:se,class:Ee(y(P)(te[1]))},[(he(!0),Ue(Ar,null,xi(te,(q,X)=>(he(),Ue("td",{key:`${se}.${X}`,ref_for:!0,ref:Q=>y(f)(q)&&(a.value=Q),class:Ee(y(C)(q)),"aria-current":q.isCurrent?"date":void 0,"aria-selected":q.isCurrent,tabindex:y(f)(q)?0:-1,onFocus:j[0]||(j[0]=(...Q)=>y(b)&&y(b)(...Q))},[N(y(zwe),{cell:q},null,8,["cell"])],42,Wwe))),128))],2))),128))],512)],42,jwe))}});var Tk=kr(qwe,[["__file","basic-date-table.vue"]]);const Xwe=Or({...QM,selectionMode:JM("month")}),Ywe=["aria-label"],Kwe=["aria-selected","aria-label","tabindex","onKeydown"],Zwe={class:"cell"},Qwe=rt({__name:"basic-month-table",props:Xwe,emits:["changerange","pick","select"],setup(t,{expose:e,emit:r}){const n=t,i=(C,P,D)=>{const L=Jr().locale(D).startOf("month").month(P).year(C),j=L.daysInMonth();return gX(j).map(te=>L.add(te,"day").toDate())},s=sr("month-table"),{t:o,lang:a}=Ti(),l=ye(),u=ye(),d=ye(n.date.locale("en").localeData().monthsShort().map(C=>C.toLowerCase())),f=ye([[],[],[]]),h=ye(),g=ye(),p=pe(()=>{var C,P;const D=f.value,L=Jr().locale(a.value).startOf("month");for(let j=0;j<3;j++){const te=D[j];for(let se=0;se<4;se++){const q=te[se]||(te[se]={row:j,column:se,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});q.type="normal";const X=j*4+se,Q=n.date.startOf("year").month(X),$=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;q.inRange=!!(n.minDate&&Q.isSameOrAfter(n.minDate,"month")&&$&&Q.isSameOrBefore($,"month"))||!!(n.minDate&&Q.isSameOrBefore(n.minDate,"month")&&$&&Q.isSameOrAfter($,"month")),(C=n.minDate)!=null&&C.isSameOrAfter($)?(q.start=!!($&&Q.isSame($,"month")),q.end=n.minDate&&Q.isSame(n.minDate,"month")):(q.start=!!(n.minDate&&Q.isSame(n.minDate,"month")),q.end=!!($&&Q.isSame($,"month"))),L.isSame(Q)&&(q.type="today"),q.text=X,q.disabled=((P=n.disabledDate)==null?void 0:P.call(n,Q.toDate()))||!1}}return D}),v=()=>{var C;(C=u.value)==null||C.focus()},b=C=>{const P={},D=n.date.year(),L=new Date,j=C.text;return P.disabled=n.disabledDate?i(D,j,a.value).every(n.disabledDate):!1,P.current=gl(n.parsedValue).findIndex(te=>Jr.isDayjs(te)&&te.year()===D&&te.month()===j)>=0,P.today=L.getFullYear()===D&&L.getMonth()===j,C.inRange&&(P["in-range"]=!0,C.start&&(P["start-date"]=!0),C.end&&(P["end-date"]=!0)),P},S=C=>{const P=n.date.year(),D=C.text;return gl(n.date).findIndex(L=>L.year()===P&&L.month()===D)>=0},T=C=>{var P;if(!n.rangeState.selecting)return;let D=C.target;if(D.tagName==="SPAN"&&(D=(P=D.parentNode)==null?void 0:P.parentNode),D.tagName==="DIV"&&(D=D.parentNode),D.tagName!=="TD")return;const L=D.parentNode.rowIndex,j=D.cellIndex;p.value[L][j].disabled||(L!==h.value||j!==g.value)&&(h.value=L,g.value=j,r("changerange",{selecting:!0,endDate:n.date.startOf("year").month(L*4+j)}))},E=C=>{var P;const D=(P=C.target)==null?void 0:P.closest("td");if((D==null?void 0:D.tagName)!=="TD"||Zc(D,"disabled"))return;const L=D.cellIndex,te=D.parentNode.rowIndex*4+L,se=n.date.startOf("year").month(te);n.selectionMode==="range"?n.rangeState.selecting?(n.minDate&&se>=n.minDate?r("pick",{minDate:n.minDate,maxDate:se}):r("pick",{minDate:se,maxDate:n.minDate}),r("select",!1)):(r("pick",{minDate:se,maxDate:null}),r("select",!0)):r("pick",te)};return Gt(()=>n.date,async()=>{var C,P;(C=l.value)!=null&&C.contains(document.activeElement)&&(await Hr(),(P=u.value)==null||P.focus())}),e({focus:v}),(C,P)=>(he(),Ue("table",{role:"grid","aria-label":y(o)("el.datepicker.monthTablePrompt"),class:Ee(y(s).b()),onClick:E,onMousemove:T},[He("tbody",{ref_key:"tbodyRef",ref:l},[(he(!0),Ue(Ar,null,xi(y(p),(D,L)=>(he(),Ue("tr",{key:L},[(he(!0),Ue(Ar,null,xi(D,(j,te)=>(he(),Ue("td",{key:te,ref_for:!0,ref:se=>S(j)&&(u.value=se),class:Ee(b(j)),"aria-selected":`${S(j)}`,"aria-label":y(o)(`el.datepicker.month${+j.text+1}`),tabindex:S(j)?0:-1,onKeydown:[Zi(yn(E,["prevent","stop"]),["space"]),Zi(yn(E,["prevent","stop"]),["enter"])]},[He("div",null,[He("span",Zwe,hr(y(o)("el.datepicker.months."+d.value[j.text])),1)])],42,Kwe))),128))]))),128))],512)],42,Ywe))}});var Ek=kr(Qwe,[["__file","basic-month-table.vue"]]);const{date:Jwe,disabledDate:eSe,parsedValue:tSe}=QM,rSe=Or({date:Jwe,disabledDate:eSe,parsedValue:tSe,selectionMode:JM("year")}),nSe=["aria-label"],iSe=["aria-selected","tabindex","onKeydown"],sSe={class:"cell"},oSe={key:1},aSe=rt({__name:"basic-year-table",props:rSe,emits:["pick"],setup(t,{expose:e,emit:r}){const n=t,i=(v,b)=>{const S=Jr(String(v)).locale(b).startOf("year"),E=S.endOf("year").dayOfYear();return gX(E).map(C=>S.add(C,"day").toDate())},s=sr("year-table"),{t:o,lang:a}=Ti(),l=ye(),u=ye(),d=pe(()=>Math.floor(n.date.year()/10)*10),f=()=>{var v;(v=u.value)==null||v.focus()},h=v=>{const b={},S=Jr().locale(a.value);return b.disabled=n.disabledDate?i(v,a.value).every(n.disabledDate):!1,b.current=gl(n.parsedValue).findIndex(T=>T.year()===v)>=0,b.today=S.year()===v,b},g=v=>v===d.value&&n.date.year()<d.value&&n.date.year()>d.value+9||gl(n.date).findIndex(b=>b.year()===v)>=0||gl(n.parsedValue).findIndex(b=>(b==null?void 0:b.year())===v)>=0,p=v=>{const S=v.target.closest("td");if(S&&S.textContent){if(Zc(S,"disabled"))return;const T=S.textContent||S.innerText;if(n.selectionMode==="years"){if(v.type==="keydown"){r("pick",gl(n.parsedValue),!1);return}const E=Zc(S,"current")?gl(n.parsedValue).filter(C=>(C==null?void 0:C.year())!==Number(T)):gl(n.parsedValue).concat([Jr(T)]);r("pick",E)}else r("pick",Number(T))}};return Gt(()=>n.date,async()=>{var v,b;(v=l.value)!=null&&v.contains(document.activeElement)&&(await Hr(),(b=u.value)==null||b.focus())}),e({focus:f}),(v,b)=>(he(),Ue("table",{role:"grid","aria-label":y(o)("el.datepicker.yearTablePrompt"),class:Ee(y(s).b()),onClick:p},[He("tbody",{ref_key:"tbodyRef",ref:l},[(he(),Ue(Ar,null,xi(3,(S,T)=>He("tr",{key:T},[(he(),Ue(Ar,null,xi(4,(E,C)=>(he(),Ue(Ar,{key:T+"_"+C},[T*4+C<10?(he(),Ue("td",{key:0,ref_for:!0,ref:P=>g(y(d)+T*4+C)&&(u.value=P),class:Ee(["available",h(y(d)+T*4+C)]),"aria-selected":`${g(y(d)+T*4+C)}`,tabindex:g(y(d)+T*4+C)?0:-1,onKeydown:[Zi(yn(p,["prevent","stop"]),["space"]),Zi(yn(p,["prevent","stop"]),["enter"])]},[He("div",null,[He("span",sSe,hr(y(d)+T*4+C),1)])],42,iSe)):(he(),Ue("td",oSe))],64))),64))])),64))],512)],10,nSe))}});var lSe=kr(aSe,[["__file","basic-year-table.vue"]]);const uSe=["onClick"],cSe=["aria-label"],dSe=["aria-label"],fSe=["aria-label"],hSe=["aria-label"],pSe=rt({__name:"panel-date-pick",props:$we,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const r=t,n=(_e,ze,ke)=>!0,i=sr("picker-panel"),s=sr("date-picker"),o=Iv(),a=Ml(),{t:l,lang:u}=Ti(),d=Mr("EP_PICKER_BASE"),f=Mr(kE),{shortcuts:h,disabledDate:g,cellClassName:p,defaultTime:v}=d.props,b=oo(d.props,"defaultValue"),S=ye(),T=ye(Jr().locale(u.value)),E=ye(!1);let C=!1;const P=pe(()=>Jr(v).locale(u.value)),D=pe(()=>T.value.month()),L=pe(()=>T.value.year()),j=ye([]),te=ye(null),se=ye(null),q=_e=>j.value.length>0?n(_e,j.value,r.format||"HH:mm:ss"):!0,X=_e=>v&&!Oe.value&&!E.value&&!C?P.value.year(_e.year()).month(_e.month()).date(_e.date()):lt.value?_e.millisecond(0):_e.startOf("day"),Q=(_e,...ze)=>{if(!_e)e("pick",_e,...ze);else if(cr(_e)){const ke=_e.map(X);e("pick",ke,...ze)}else e("pick",X(_e),...ze);te.value=null,se.value=null,E.value=!1,C=!1},$=async(_e,ze)=>{if(J.value==="date"){_e=_e;let ke=r.parsedValue?r.parsedValue.year(_e.year()).month(_e.month()).date(_e.date()):_e;q(ke)||(ke=j.value[0][0].year(_e.year()).month(_e.month()).date(_e.date())),T.value=ke,Q(ke,lt.value||ze),r.type==="datetime"&&(await Hr(),mr())}else J.value==="week"?Q(_e.date):J.value==="dates"&&Q(_e,!0)},V=_e=>{const ze=_e?"add":"subtract";T.value=T.value[ze](1,"month"),ot("month")},Y=_e=>{const ze=T.value,ke=_e?"add":"subtract";T.value=ee.value==="year"?ze[ke](10,"year"):ze[ke](1,"year"),ot("year")},ee=ye("date"),ae=pe(()=>{const _e=l("el.datepicker.year");if(ee.value==="year"){const ze=Math.floor(L.value/10)*10;return _e?`${ze} ${_e} - ${ze+9} ${_e}`:`${ze} - ${ze+9}`}return`${L.value} ${_e}`}),H=_e=>{const ze=Fr(_e.value)?_e.value():_e.value;if(ze){C=!0,Q(Jr(ze).locale(u.value));return}_e.onClick&&_e.onClick({attrs:o,slots:a,emit:e})},J=pe(()=>{const{type:_e}=r;return["week","month","year","years","dates"].includes(_e)?_e:"date"}),ie=pe(()=>J.value==="date"?ee.value:J.value),xe=pe(()=>!!h.length),qe=async _e=>{T.value=T.value.startOf("month").month(_e),J.value==="month"?Q(T.value,!1):(ee.value="date",["month","year","date","week"].includes(J.value)&&(Q(T.value,!0),await Hr(),mr())),ot("month")},et=async(_e,ze)=>{J.value==="year"?(T.value=T.value.startOf("year").year(_e),Q(T.value,!1)):J.value==="years"?Q(_e,ze??!0):(T.value=T.value.year(_e),ee.value="month",["month","year","date","week"].includes(J.value)&&(Q(T.value,!0),await Hr(),mr())),ot("year")},Je=async _e=>{ee.value=_e,await Hr(),mr()},lt=pe(()=>r.type==="datetime"||r.type==="datetimerange"),Re=pe(()=>{const _e=lt.value||J.value==="dates",ze=J.value==="years",ke=ee.value==="date",me=ee.value==="year";return _e&&ke||ze&&me}),wt=pe(()=>g?r.parsedValue?cr(r.parsedValue)?g(r.parsedValue[0].toDate()):g(r.parsedValue.toDate()):!0:!1),vt=()=>{if(J.value==="dates"||J.value==="years")Q(r.parsedValue);else{let _e=r.parsedValue;if(!_e){const ze=Jr(v).locale(u.value),ke=Tt();_e=ze.year(ke.year()).month(ke.month()).date(ke.date())}T.value=_e,Q(_e)}},pt=pe(()=>g?g(Jr().locale(u.value).toDate()):!1),Ut=()=>{const ze=Jr().locale(u.value).toDate();E.value=!0,(!g||!g(ze))&&q(ze)&&(T.value=Jr().locale(u.value),Q(T.value))},yt=pe(()=>r.timeFormat||_X(r.format)),le=pe(()=>r.dateFormat||vX(r.format)),Oe=pe(()=>{if(se.value)return se.value;if(!(!r.parsedValue&&!b.value))return(r.parsedValue||T.value).format(yt.value)}),nt=pe(()=>{if(te.value)return te.value;if(!(!r.parsedValue&&!b.value))return(r.parsedValue||T.value).format(le.value)}),Ke=ye(!1),ct=()=>{Ke.value=!0},Ot=()=>{Ke.value=!1},Dt=_e=>({hour:_e.hour(),minute:_e.minute(),second:_e.second(),year:_e.year(),month:_e.month(),date:_e.date()}),_t=(_e,ze,ke)=>{const{hour:me,minute:De,second:Ae}=Dt(_e),Le=r.parsedValue?r.parsedValue.hour(me).minute(De).second(Ae):_e;T.value=Le,Q(T.value,!0),ke||(Ke.value=ze)},Mt=_e=>{const ze=Jr(_e,yt.value).locale(u.value);if(ze.isValid()&&q(ze)){const{year:ke,month:me,date:De}=Dt(T.value);T.value=ze.year(ke).month(me).date(De),se.value=null,Ke.value=!1,Q(T.value,!0)}},Rt=_e=>{const ze=Jr(_e,le.value).locale(u.value);if(ze.isValid()){if(g&&g(ze.toDate()))return;const{hour:ke,minute:me,second:De}=Dt(T.value);T.value=ze.hour(ke).minute(me).second(De),te.value=null,Q(T.value,!0)}},tt=_e=>Jr.isDayjs(_e)&&_e.isValid()&&(g?!g(_e.toDate()):!0),Zt=_e=>cr(_e)?_e.map(ze=>ze.format(r.format)):_e.format(r.format),mt=_e=>Jr(_e,r.format).locale(u.value),Tt=()=>{const _e=Jr(b.value).locale(u.value);if(!b.value){const ze=P.value;return Jr().hour(ze.hour()).minute(ze.minute()).second(ze.second()).locale(u.value)}return _e},mr=async()=>{var _e;["week","month","year","date"].includes(J.value)&&((_e=S.value)==null||_e.focus(),J.value==="week"&&Ir(Xr.down))},Bt=_e=>{const{code:ze}=_e;[Xr.up,Xr.down,Xr.left,Xr.right,Xr.home,Xr.end,Xr.pageUp,Xr.pageDown].includes(ze)&&(Ir(ze),_e.stopPropagation(),_e.preventDefault()),[Xr.enter,Xr.space,Xr.numpadEnter].includes(ze)&&te.value===null&&se.value===null&&(_e.preventDefault(),Q(T.value,!1))},Ir=_e=>{var ze;const{up:ke,down:me,left:De,right:Ae,home:Le,end:rr,pageUp:c,pageDown:xr}=Xr,Yr={year:{[ke]:-4,[me]:4,[De]:-1,[Ae]:1,offset:(w,k)=>w.setFullYear(w.getFullYear()+k)},month:{[ke]:-4,[me]:4,[De]:-1,[Ae]:1,offset:(w,k)=>w.setMonth(w.getMonth()+k)},week:{[ke]:-1,[me]:1,[De]:-1,[Ae]:1,offset:(w,k)=>w.setDate(w.getDate()+k*7)},date:{[ke]:-7,[me]:7,[De]:-1,[Ae]:1,[Le]:w=>-w.getDay(),[rr]:w=>-w.getDay()+6,[c]:w=>-new Date(w.getFullYear(),w.getMonth(),0).getDate(),[xr]:w=>new Date(w.getFullYear(),w.getMonth()+1,0).getDate(),offset:(w,k)=>w.setDate(w.getDate()+k)}},fe=T.value.toDate();for(;Math.abs(T.value.diff(fe,"year",!0))<1;){const w=Yr[ie.value];if(!w)return;if(w.offset(fe,Fr(w[_e])?w[_e](fe):(ze=w[_e])!=null?ze:0),g&&g(fe))break;const k=Jr(fe).locale(u.value);T.value=k,e("pick",k,!0);break}},ot=_e=>{e("panel-change",T.value.toDate(),_e,ee.value)};return Gt(()=>J.value,_e=>{if(["month","year"].includes(_e)){ee.value=_e;return}else if(_e==="years"){ee.value="year";return}ee.value="date"},{immediate:!0}),Gt(()=>ee.value,()=>{f==null||f.updatePopper()}),Gt(()=>b.value,_e=>{_e&&(T.value=Tt())},{immediate:!0}),Gt(()=>r.parsedValue,_e=>{if(_e){if(J.value==="dates"||J.value==="years"||Array.isArray(_e))return;T.value=_e}else T.value=Tt()},{immediate:!0}),e("set-picker-option",["isValidValue",tt]),e("set-picker-option",["formatToString",Zt]),e("set-picker-option",["parseUserInput",mt]),e("set-picker-option",["handleFocusPicker",mr]),(_e,ze)=>(he(),Ue("div",{class:Ee([y(i).b(),y(s).b(),{"has-sidebar":_e.$slots.sidebar||y(xe),"has-time":y(lt)}])},[He("div",{class:Ee(y(i).e("body-wrapper"))},[Yt(_e.$slots,"sidebar",{class:Ee(y(i).e("sidebar"))}),y(xe)?(he(),Ue("div",{key:0,class:Ee(y(i).e("sidebar"))},[(he(!0),Ue(Ar,null,xi(y(h),(ke,me)=>(he(),Ue("button",{key:me,type:"button",class:Ee(y(i).e("shortcut")),onClick:De=>H(ke)},hr(ke.text),11,uSe))),128))],2)):xt("v-if",!0),He("div",{class:Ee(y(i).e("body"))},[y(lt)?(he(),Ue("div",{key:0,class:Ee(y(s).e("time-header"))},[He("span",{class:Ee(y(s).e("editor-wrap"))},[N(y(as),{placeholder:y(l)("el.datepicker.selectDate"),"model-value":y(nt),size:"small","validate-event":!1,onInput:ze[0]||(ze[0]=ke=>te.value=ke),onChange:Rt},null,8,["placeholder","model-value"])],2),xn((he(),Ue("span",{class:Ee(y(s).e("editor-wrap"))},[N(y(as),{placeholder:y(l)("el.datepicker.selectTime"),"model-value":y(Oe),size:"small","validate-event":!1,onFocus:ct,onInput:ze[1]||(ze[1]=ke=>se.value=ke),onChange:Mt},null,8,["placeholder","model-value"]),N(y(vk),{visible:Ke.value,format:y(yt),"parsed-value":T.value,onPick:_t},null,8,["visible","format","parsed-value"])],2)),[[y(N0),Ot]])],2)):xt("v-if",!0),xn(He("div",{class:Ee([y(s).e("header"),(ee.value==="year"||ee.value==="month")&&y(s).e("header--bordered")])},[He("span",{class:Ee(y(s).e("prev-btn"))},[He("button",{type:"button","aria-label":y(l)("el.datepicker.prevYear"),class:Ee(["d-arrow-left",y(i).e("icon-btn")]),onClick:ze[2]||(ze[2]=ke=>Y(!1))},[N(y(Dr),null,{default:ne(()=>[N(y(Bg))]),_:1})],10,cSe),xn(He("button",{type:"button","aria-label":y(l)("el.datepicker.prevMonth"),class:Ee([y(i).e("icon-btn"),"arrow-left"]),onClick:ze[3]||(ze[3]=ke=>V(!1))},[N(y(Dr),null,{default:ne(()=>[N(y(L0))]),_:1})],10,dSe),[[Ci,ee.value==="date"]])],2),He("span",{role:"button",class:Ee(y(s).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:ze[4]||(ze[4]=Zi(ke=>Je("year"),["enter"])),onClick:ze[5]||(ze[5]=ke=>Je("year"))},hr(y(ae)),35),xn(He("span",{role:"button","aria-live":"polite",tabindex:"0",class:Ee([y(s).e("header-label"),{active:ee.value==="month"}]),onKeydown:ze[6]||(ze[6]=Zi(ke=>Je("month"),["enter"])),onClick:ze[7]||(ze[7]=ke=>Je("month"))},hr(y(l)(`el.datepicker.month${y(D)+1}`)),35),[[Ci,ee.value==="date"]]),He("span",{class:Ee(y(s).e("next-btn"))},[xn(He("button",{type:"button","aria-label":y(l)("el.datepicker.nextMonth"),class:Ee([y(i).e("icon-btn"),"arrow-right"]),onClick:ze[8]||(ze[8]=ke=>V(!0))},[N(y(Dr),null,{default:ne(()=>[N(y(ou))]),_:1})],10,fSe),[[Ci,ee.value==="date"]]),He("button",{type:"button","aria-label":y(l)("el.datepicker.nextYear"),class:Ee([y(i).e("icon-btn"),"d-arrow-right"]),onClick:ze[9]||(ze[9]=ke=>Y(!0))},[N(y(Dr),null,{default:ne(()=>[N(y(Ug))]),_:1})],10,hSe)],2)],2),[[Ci,ee.value!=="time"]]),He("div",{class:Ee(y(i).e("content")),onKeydown:Bt},[ee.value==="date"?(he(),At(Tk,{key:0,ref_key:"currentViewRef",ref:S,"selection-mode":y(J),date:T.value,"parsed-value":_e.parsedValue,"disabled-date":y(g),"cell-class-name":y(p),onPick:$},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):xt("v-if",!0),ee.value==="year"?(he(),At(lSe,{key:1,ref_key:"currentViewRef",ref:S,"selection-mode":y(J),date:T.value,"disabled-date":y(g),"parsed-value":_e.parsedValue,onPick:et},null,8,["selection-mode","date","disabled-date","parsed-value"])):xt("v-if",!0),ee.value==="month"?(he(),At(Ek,{key:2,ref_key:"currentViewRef",ref:S,date:T.value,"parsed-value":_e.parsedValue,"disabled-date":y(g),onPick:qe},null,8,["date","parsed-value","disabled-date"])):xt("v-if",!0)],34)],2)],2),xn(He("div",{class:Ee(y(i).e("footer"))},[xn(N(y(Zn),{text:"",size:"small",class:Ee(y(i).e("link-btn")),disabled:y(pt),onClick:Ut},{default:ne(()=>[It(hr(y(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Ci,y(J)!=="dates"&&y(J)!=="years"]]),N(y(Zn),{plain:"",size:"small",class:Ee(y(i).e("link-btn")),disabled:y(wt),onClick:vt},{default:ne(()=>[It(hr(y(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[Ci,y(Re)]])],2))}});var mSe=kr(pSe,[["__file","panel-date-pick.vue"]]);const gSe=Or({...rY,...nY}),vSe=t=>{const{emit:e}=kn(),r=Iv(),n=Ml();return s=>{const o=Fr(s.value)?s.value():s.value;if(o){e("pick",[Jr(o[0]).locale(t.value),Jr(o[1]).locale(t.value)]);return}s.onClick&&s.onClick({attrs:r,slots:n,emit:e})}},sY=(t,{defaultValue:e,leftDate:r,rightDate:n,unit:i,onParsedValueChanged:s})=>{const{emit:o}=kn(),{pickerNs:a}=Mr(ZM),l=sr("date-range-picker"),{t:u,lang:d}=Ti(),f=vSe(d),h=ye(),g=ye(),p=ye({endDate:null,selecting:!1}),v=E=>{p.value=E},b=(E=!1)=>{const C=y(h),P=y(g);wk([C,P])&&o("pick",[C,P],E)},S=E=>{p.value.selecting=E,E||(p.value.endDate=null)},T=()=>{const[E,C]=iY(y(e),{lang:y(d),unit:i,unlinkPanels:t.unlinkPanels});h.value=void 0,g.value=void 0,r.value=E,n.value=C};return Gt(e,E=>{E&&T()},{immediate:!0}),Gt(()=>t.parsedValue,E=>{if(cr(E)&&E.length===2){const[C,P]=E;h.value=C,r.value=C,g.value=P,s(y(h),y(g))}else T()},{immediate:!0}),{minDate:h,maxDate:g,rangeState:p,lang:d,ppNs:a,drpNs:l,handleChangeRange:v,handleRangeConfirm:b,handleShortcutClick:f,onSelect:S,t:u}},_Se=["onClick"],ySe=["aria-label"],bSe=["aria-label"],xSe=["disabled","aria-label"],wSe=["disabled","aria-label"],SSe=["disabled","aria-label"],TSe=["disabled","aria-label"],ESe=["aria-label"],CSe=["aria-label"],q1="month",ASe=rt({__name:"panel-date-range",props:gSe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const r=t,n=Mr("EP_PICKER_BASE"),{disabledDate:i,cellClassName:s,format:o,defaultTime:a,clearable:l}=n.props,u=oo(n.props,"shortcuts"),d=oo(n.props,"defaultValue"),{lang:f}=Ti(),h=ye(Jr().locale(f.value)),g=ye(Jr().locale(f.value).add(1,q1)),{minDate:p,maxDate:v,rangeState:b,ppNs:S,drpNs:T,handleChangeRange:E,handleRangeConfirm:C,handleShortcutClick:P,onSelect:D,t:L}=sY(r,{defaultValue:d,leftDate:h,rightDate:g,unit:q1,onParsedValueChanged:ze}),j=ye({min:null,max:null}),te=ye({min:null,max:null}),se=pe(()=>`${h.value.year()} ${L("el.datepicker.year")} ${L(`el.datepicker.month${h.value.month()+1}`)}`),q=pe(()=>`${g.value.year()} ${L("el.datepicker.year")} ${L(`el.datepicker.month${g.value.month()+1}`)}`),X=pe(()=>h.value.year()),Q=pe(()=>h.value.month()),$=pe(()=>g.value.year()),V=pe(()=>g.value.month()),Y=pe(()=>!!u.value.length),ee=pe(()=>j.value.min!==null?j.value.min:p.value?p.value.format(xe.value):""),ae=pe(()=>j.value.max!==null?j.value.max:v.value||p.value?(v.value||p.value).format(xe.value):""),H=pe(()=>te.value.min!==null?te.value.min:p.value?p.value.format(ie.value):""),J=pe(()=>te.value.max!==null?te.value.max:v.value||p.value?(v.value||p.value).format(ie.value):""),ie=pe(()=>r.timeFormat||_X(o)),xe=pe(()=>r.dateFormat||vX(o)),qe=ke=>wk(ke)&&(i?!i(ke[0].toDate())&&!i(ke[1].toDate()):!0),et=()=>{h.value=h.value.subtract(1,"year"),r.unlinkPanels||(g.value=h.value.add(1,"month")),yt("year")},Je=()=>{h.value=h.value.subtract(1,"month"),r.unlinkPanels||(g.value=h.value.add(1,"month")),yt("month")},lt=()=>{r.unlinkPanels?g.value=g.value.add(1,"year"):(h.value=h.value.add(1,"year"),g.value=h.value.add(1,"month")),yt("year")},Re=()=>{r.unlinkPanels?g.value=g.value.add(1,"month"):(h.value=h.value.add(1,"month"),g.value=h.value.add(1,"month")),yt("month")},wt=()=>{h.value=h.value.add(1,"year"),yt("year")},vt=()=>{h.value=h.value.add(1,"month"),yt("month")},pt=()=>{g.value=g.value.subtract(1,"year"),yt("year")},Ut=()=>{g.value=g.value.subtract(1,"month"),yt("month")},yt=ke=>{e("panel-change",[h.value.toDate(),g.value.toDate()],ke)},le=pe(()=>{const ke=(Q.value+1)%12,me=Q.value+1>=12?1:0;return r.unlinkPanels&&new Date(X.value+me,ke)<new Date($.value,V.value)}),Oe=pe(()=>r.unlinkPanels&&$.value*12+V.value-(X.value*12+Q.value+1)>=12),nt=pe(()=>!(p.value&&v.value&&!b.value.selecting&&wk([p.value,v.value]))),Ke=pe(()=>r.type==="datetime"||r.type==="datetimerange"),ct=(ke,me)=>{if(ke)return a?Jr(a[me]||a).locale(f.value).year(ke.year()).month(ke.month()).date(ke.date()):ke},Ot=(ke,me=!0)=>{const De=ke.minDate,Ae=ke.maxDate,Le=ct(De,0),rr=ct(Ae,1);v.value===rr&&p.value===Le||(e("calendar-change",[De.toDate(),Ae&&Ae.toDate()]),v.value=rr,p.value=Le,!(!me||Ke.value)&&C())},Dt=ye(!1),_t=ye(!1),Mt=()=>{Dt.value=!1},Rt=()=>{_t.value=!1},tt=(ke,me)=>{j.value[me]=ke;const De=Jr(ke,xe.value).locale(f.value);if(De.isValid()){if(i&&i(De.toDate()))return;me==="min"?(h.value=De,p.value=(p.value||h.value).year(De.year()).month(De.month()).date(De.date()),!r.unlinkPanels&&(!v.value||v.value.isBefore(p.value))&&(g.value=De.add(1,"month"),v.value=p.value.add(1,"month"))):(g.value=De,v.value=(v.value||g.value).year(De.year()).month(De.month()).date(De.date()),!r.unlinkPanels&&(!p.value||p.value.isAfter(v.value))&&(h.value=De.subtract(1,"month"),p.value=v.value.subtract(1,"month")))}},Zt=(ke,me)=>{j.value[me]=null},mt=(ke,me)=>{te.value[me]=ke;const De=Jr(ke,ie.value).locale(f.value);De.isValid()&&(me==="min"?(Dt.value=!0,p.value=(p.value||h.value).hour(De.hour()).minute(De.minute()).second(De.second()),(!v.value||v.value.isBefore(p.value))&&(v.value=p.value)):(_t.value=!0,v.value=(v.value||g.value).hour(De.hour()).minute(De.minute()).second(De.second()),g.value=v.value,v.value&&v.value.isBefore(p.value)&&(p.value=v.value)))},Tt=(ke,me)=>{te.value[me]=null,me==="min"?(h.value=p.value,Dt.value=!1):(g.value=v.value,_t.value=!1)},mr=(ke,me,De)=>{te.value.min||(ke&&(h.value=ke,p.value=(p.value||h.value).hour(ke.hour()).minute(ke.minute()).second(ke.second())),De||(Dt.value=me),(!v.value||v.value.isBefore(p.value))&&(v.value=p.value,g.value=ke))},Bt=(ke,me,De)=>{te.value.max||(ke&&(g.value=ke,v.value=(v.value||g.value).hour(ke.hour()).minute(ke.minute()).second(ke.second())),De||(_t.value=me),v.value&&v.value.isBefore(p.value)&&(p.value=v.value))},Ir=()=>{h.value=iY(y(d),{lang:y(f),unit:"month",unlinkPanels:r.unlinkPanels})[0],g.value=h.value.add(1,"month"),v.value=void 0,p.value=void 0,e("pick",null)},ot=ke=>cr(ke)?ke.map(me=>me.format(o)):ke.format(o),_e=ke=>cr(ke)?ke.map(me=>Jr(me,o).locale(f.value)):Jr(ke,o).locale(f.value);function ze(ke,me){if(r.unlinkPanels&&me){const De=(ke==null?void 0:ke.year())||0,Ae=(ke==null?void 0:ke.month())||0,Le=me.year(),rr=me.month();g.value=De===Le&&Ae===rr?me.add(1,q1):me}else g.value=h.value.add(1,q1),me&&(g.value=g.value.hour(me.hour()).minute(me.minute()).second(me.second()))}return e("set-picker-option",["isValidValue",qe]),e("set-picker-option",["parseUserInput",_e]),e("set-picker-option",["formatToString",ot]),e("set-picker-option",["handleClear",Ir]),(ke,me)=>(he(),Ue("div",{class:Ee([y(S).b(),y(T).b(),{"has-sidebar":ke.$slots.sidebar||y(Y),"has-time":y(Ke)}])},[He("div",{class:Ee(y(S).e("body-wrapper"))},[Yt(ke.$slots,"sidebar",{class:Ee(y(S).e("sidebar"))}),y(Y)?(he(),Ue("div",{key:0,class:Ee(y(S).e("sidebar"))},[(he(!0),Ue(Ar,null,xi(y(u),(De,Ae)=>(he(),Ue("button",{key:Ae,type:"button",class:Ee(y(S).e("shortcut")),onClick:Le=>y(P)(De)},hr(De.text),11,_Se))),128))],2)):xt("v-if",!0),He("div",{class:Ee(y(S).e("body"))},[y(Ke)?(he(),Ue("div",{key:0,class:Ee(y(T).e("time-header"))},[He("span",{class:Ee(y(T).e("editors-wrap"))},[He("span",{class:Ee(y(T).e("time-picker-wrap"))},[N(y(as),{size:"small",disabled:y(b).selecting,placeholder:y(L)("el.datepicker.startDate"),class:Ee(y(T).e("editor")),"model-value":y(ee),"validate-event":!1,onInput:me[0]||(me[0]=De=>tt(De,"min")),onChange:me[1]||(me[1]=De=>Zt(De,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),xn((he(),Ue("span",{class:Ee(y(T).e("time-picker-wrap"))},[N(y(as),{size:"small",class:Ee(y(T).e("editor")),disabled:y(b).selecting,placeholder:y(L)("el.datepicker.startTime"),"model-value":y(H),"validate-event":!1,onFocus:me[2]||(me[2]=De=>Dt.value=!0),onInput:me[3]||(me[3]=De=>mt(De,"min")),onChange:me[4]||(me[4]=De=>Tt(De,"min"))},null,8,["class","disabled","placeholder","model-value"]),N(y(vk),{visible:Dt.value,format:y(ie),"datetime-role":"start","parsed-value":h.value,onPick:mr},null,8,["visible","format","parsed-value"])],2)),[[y(N0),Mt]])],2),He("span",null,[N(y(Dr),null,{default:ne(()=>[N(y(ou))]),_:1})]),He("span",{class:Ee([y(T).e("editors-wrap"),"is-right"])},[He("span",{class:Ee(y(T).e("time-picker-wrap"))},[N(y(as),{size:"small",class:Ee(y(T).e("editor")),disabled:y(b).selecting,placeholder:y(L)("el.datepicker.endDate"),"model-value":y(ae),readonly:!y(p),"validate-event":!1,onInput:me[5]||(me[5]=De=>tt(De,"max")),onChange:me[6]||(me[6]=De=>Zt(De,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),xn((he(),Ue("span",{class:Ee(y(T).e("time-picker-wrap"))},[N(y(as),{size:"small",class:Ee(y(T).e("editor")),disabled:y(b).selecting,placeholder:y(L)("el.datepicker.endTime"),"model-value":y(J),readonly:!y(p),"validate-event":!1,onFocus:me[7]||(me[7]=De=>y(p)&&(_t.value=!0)),onInput:me[8]||(me[8]=De=>mt(De,"max")),onChange:me[9]||(me[9]=De=>Tt(De,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),N(y(vk),{"datetime-role":"end",visible:_t.value,format:y(ie),"parsed-value":g.value,onPick:Bt},null,8,["visible","format","parsed-value"])],2)),[[y(N0),Rt]])],2)],2)):xt("v-if",!0),He("div",{class:Ee([[y(S).e("content"),y(T).e("content")],"is-left"])},[He("div",{class:Ee(y(T).e("header"))},[He("button",{type:"button",class:Ee([y(S).e("icon-btn"),"d-arrow-left"]),"aria-label":y(L)("el.datepicker.prevYear"),onClick:et},[N(y(Dr),null,{default:ne(()=>[N(y(Bg))]),_:1})],10,ySe),He("button",{type:"button",class:Ee([y(S).e("icon-btn"),"arrow-left"]),"aria-label":y(L)("el.datepicker.prevMonth"),onClick:Je},[N(y(Dr),null,{default:ne(()=>[N(y(L0))]),_:1})],10,bSe),ke.unlinkPanels?(he(),Ue("button",{key:0,type:"button",disabled:!y(Oe),class:Ee([[y(S).e("icon-btn"),{"is-disabled":!y(Oe)}],"d-arrow-right"]),"aria-label":y(L)("el.datepicker.nextYear"),onClick:wt},[N(y(Dr),null,{default:ne(()=>[N(y(Ug))]),_:1})],10,xSe)):xt("v-if",!0),ke.unlinkPanels?(he(),Ue("button",{key:1,type:"button",disabled:!y(le),class:Ee([[y(S).e("icon-btn"),{"is-disabled":!y(le)}],"arrow-right"]),"aria-label":y(L)("el.datepicker.nextMonth"),onClick:vt},[N(y(Dr),null,{default:ne(()=>[N(y(ou))]),_:1})],10,wSe)):xt("v-if",!0),He("div",null,hr(y(se)),1)],2),N(Tk,{"selection-mode":"range",date:h.value,"min-date":y(p),"max-date":y(v),"range-state":y(b),"disabled-date":y(i),"cell-class-name":y(s),onChangerange:y(E),onPick:Ot,onSelect:y(D)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),He("div",{class:Ee([[y(S).e("content"),y(T).e("content")],"is-right"])},[He("div",{class:Ee(y(T).e("header"))},[ke.unlinkPanels?(he(),Ue("button",{key:0,type:"button",disabled:!y(Oe),class:Ee([[y(S).e("icon-btn"),{"is-disabled":!y(Oe)}],"d-arrow-left"]),"aria-label":y(L)("el.datepicker.prevYear"),onClick:pt},[N(y(Dr),null,{default:ne(()=>[N(y(Bg))]),_:1})],10,SSe)):xt("v-if",!0),ke.unlinkPanels?(he(),Ue("button",{key:1,type:"button",disabled:!y(le),class:Ee([[y(S).e("icon-btn"),{"is-disabled":!y(le)}],"arrow-left"]),"aria-label":y(L)("el.datepicker.prevMonth"),onClick:Ut},[N(y(Dr),null,{default:ne(()=>[N(y(L0))]),_:1})],10,TSe)):xt("v-if",!0),He("button",{type:"button","aria-label":y(L)("el.datepicker.nextYear"),class:Ee([y(S).e("icon-btn"),"d-arrow-right"]),onClick:lt},[N(y(Dr),null,{default:ne(()=>[N(y(Ug))]),_:1})],10,ESe),He("button",{type:"button",class:Ee([y(S).e("icon-btn"),"arrow-right"]),"aria-label":y(L)("el.datepicker.nextMonth"),onClick:Re},[N(y(Dr),null,{default:ne(()=>[N(y(ou))]),_:1})],10,CSe),He("div",null,hr(y(q)),1)],2),N(Tk,{"selection-mode":"range",date:g.value,"min-date":y(p),"max-date":y(v),"range-state":y(b),"disabled-date":y(i),"cell-class-name":y(s),onChangerange:y(E),onPick:Ot,onSelect:y(D)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),y(Ke)?(he(),Ue("div",{key:0,class:Ee(y(S).e("footer"))},[y(l)?(he(),At(y(Zn),{key:0,text:"",size:"small",class:Ee(y(S).e("link-btn")),onClick:Ir},{default:ne(()=>[It(hr(y(L)("el.datepicker.clear")),1)]),_:1},8,["class"])):xt("v-if",!0),N(y(Zn),{plain:"",size:"small",class:Ee(y(S).e("link-btn")),disabled:y(nt),onClick:me[10]||(me[10]=De=>y(C)(!1))},{default:ne(()=>[It(hr(y(L)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):xt("v-if",!0)],2))}});var PSe=kr(ASe,[["__file","panel-date-range.vue"]]);const kSe=Or({...nY}),ISe=["pick","set-picker-option","calendar-change"],OSe=({unlinkPanels:t,leftDate:e,rightDate:r})=>{const{t:n}=Ti(),i=()=>{e.value=e.value.subtract(1,"year"),t.value||(r.value=r.value.subtract(1,"year"))},s=()=>{t.value||(e.value=e.value.add(1,"year")),r.value=r.value.add(1,"year")},o=()=>{e.value=e.value.add(1,"year")},a=()=>{r.value=r.value.subtract(1,"year")},l=pe(()=>`${e.value.year()} ${n("el.datepicker.year")}`),u=pe(()=>`${r.value.year()} ${n("el.datepicker.year")}`),d=pe(()=>e.value.year()),f=pe(()=>r.value.year()===e.value.year()?e.value.year()+1:r.value.year());return{leftPrevYear:i,rightNextYear:s,leftNextYear:o,rightPrevYear:a,leftLabel:l,rightLabel:u,leftYear:d,rightYear:f}},DSe=["onClick"],MSe=["disabled"],RSe=["disabled"],X1="year",$Se=rt({name:"DatePickerMonthRange"}),LSe=rt({...$Se,props:kSe,emits:ISe,setup(t,{emit:e}){const r=t,{lang:n}=Ti(),i=Mr("EP_PICKER_BASE"),{shortcuts:s,disabledDate:o,format:a}=i.props,l=oo(i.props,"defaultValue"),u=ye(Jr().locale(n.value)),d=ye(Jr().locale(n.value).add(1,X1)),{minDate:f,maxDate:h,rangeState:g,ppNs:p,drpNs:v,handleChangeRange:b,handleRangeConfirm:S,handleShortcutClick:T,onSelect:E}=sY(r,{defaultValue:l,leftDate:u,rightDate:d,unit:X1,onParsedValueChanged:Y}),C=pe(()=>!!s.length),{leftPrevYear:P,rightNextYear:D,leftNextYear:L,rightPrevYear:j,leftLabel:te,rightLabel:se,leftYear:q,rightYear:X}=OSe({unlinkPanels:oo(r,"unlinkPanels"),leftDate:u,rightDate:d}),Q=pe(()=>r.unlinkPanels&&X.value>q.value+1),$=(ee,ae=!0)=>{const H=ee.minDate,J=ee.maxDate;h.value===J&&f.value===H||(e("calendar-change",[H.toDate(),J&&J.toDate()]),h.value=J,f.value=H,ae&&S())},V=ee=>ee.map(ae=>ae.format(a));function Y(ee,ae){if(r.unlinkPanels&&ae){const H=(ee==null?void 0:ee.year())||0,J=ae.year();d.value=H===J?ae.add(1,X1):ae}else d.value=u.value.add(1,X1)}return e("set-picker-option",["formatToString",V]),(ee,ae)=>(he(),Ue("div",{class:Ee([y(p).b(),y(v).b(),{"has-sidebar":!!ee.$slots.sidebar||y(C)}])},[He("div",{class:Ee(y(p).e("body-wrapper"))},[Yt(ee.$slots,"sidebar",{class:Ee(y(p).e("sidebar"))}),y(C)?(he(),Ue("div",{key:0,class:Ee(y(p).e("sidebar"))},[(he(!0),Ue(Ar,null,xi(y(s),(H,J)=>(he(),Ue("button",{key:J,type:"button",class:Ee(y(p).e("shortcut")),onClick:ie=>y(T)(H)},hr(H.text),11,DSe))),128))],2)):xt("v-if",!0),He("div",{class:Ee(y(p).e("body"))},[He("div",{class:Ee([[y(p).e("content"),y(v).e("content")],"is-left"])},[He("div",{class:Ee(y(v).e("header"))},[He("button",{type:"button",class:Ee([y(p).e("icon-btn"),"d-arrow-left"]),onClick:ae[0]||(ae[0]=(...H)=>y(P)&&y(P)(...H))},[N(y(Dr),null,{default:ne(()=>[N(y(Bg))]),_:1})],2),ee.unlinkPanels?(he(),Ue("button",{key:0,type:"button",disabled:!y(Q),class:Ee([[y(p).e("icon-btn"),{[y(p).is("disabled")]:!y(Q)}],"d-arrow-right"]),onClick:ae[1]||(ae[1]=(...H)=>y(L)&&y(L)(...H))},[N(y(Dr),null,{default:ne(()=>[N(y(Ug))]),_:1})],10,MSe)):xt("v-if",!0),He("div",null,hr(y(te)),1)],2),N(Ek,{"selection-mode":"range",date:u.value,"min-date":y(f),"max-date":y(h),"range-state":y(g),"disabled-date":y(o),onChangerange:y(b),onPick:$,onSelect:y(E)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),He("div",{class:Ee([[y(p).e("content"),y(v).e("content")],"is-right"])},[He("div",{class:Ee(y(v).e("header"))},[ee.unlinkPanels?(he(),Ue("button",{key:0,type:"button",disabled:!y(Q),class:Ee([[y(p).e("icon-btn"),{"is-disabled":!y(Q)}],"d-arrow-left"]),onClick:ae[2]||(ae[2]=(...H)=>y(j)&&y(j)(...H))},[N(y(Dr),null,{default:ne(()=>[N(y(Bg))]),_:1})],10,RSe)):xt("v-if",!0),He("button",{type:"button",class:Ee([y(p).e("icon-btn"),"d-arrow-right"]),onClick:ae[3]||(ae[3]=(...H)=>y(D)&&y(D)(...H))},[N(y(Dr),null,{default:ne(()=>[N(y(Ug))]),_:1})],2),He("div",null,hr(y(se)),1)],2),N(Ek,{"selection-mode":"range",date:d.value,"min-date":y(f),"max-date":y(h),"range-state":y(g),"disabled-date":y(o),onChangerange:y(b),onPick:$,onSelect:y(E)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var FSe=kr(LSe,[["__file","panel-month-range.vue"]]);const NSe=function(t){switch(t){case"daterange":case"datetimerange":return PSe;case"monthrange":return FSe;default:return mSe}};Jr.extend(M1e);Jr.extend(wwe);Jr.extend(i1e);Jr.extend(Twe);Jr.extend(Cwe);Jr.extend(Pwe);Jr.extend(Iwe);Jr.extend(Dwe);var BSe=rt({name:"ElDatePicker",install:null,props:Mwe,emits:["update:modelValue"],setup(t,{expose:e,emit:r,slots:n}){const i=sr("picker-panel");_i("ElPopperOptions",vn(oo(t,"popperOptions"))),_i(ZM,{slots:n,pickerNs:i});const s=ye();e({focus:(l=!0)=>{var u;(u=s.value)==null||u.focus(l)},handleOpen:()=>{var l;(l=s.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=s.value)==null||l.handleClose()}});const a=l=>{r("update:modelValue",l)};return()=>{var l;const u=(l=t.format)!=null?l:s1e[t.type]||Xm,d=NSe(t.type);return N(d1e,Eo(t,{format:u,type:t.type,ref:s,"onUpdate:modelValue":a}),{default:f=>N(d,f,null),"range-separator":n["range-separator"]})}}});const kw=BSe;kw.install=t=>{t.component(kw.name,kw)};const oY=kw,USe=Or({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Vt([String,Array,Object])},zIndex:{type:Vt([String,Number])}}),VSe={click:t=>t instanceof MouseEvent},zSe="overlay";var jSe=rt({name:"ElOverlay",props:USe,emits:VSe,setup(t,{slots:e,emit:r}){const n=sr(zSe),i=l=>{r("click",l)},{onClick:s,onMousedown:o,onMouseup:a}=jM(t.customMaskEvent?void 0:i);return()=>t.mask?N("div",{class:[n.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:s,onMousedown:o,onMouseup:a},[Yt(e,"default")],bw.STYLE|bw.CLASS|bw.PROPS,["onClick","onMouseup","onMousedown"]):Tr("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Yt(e,"default")])}});const e8=jSe,aY=Symbol("dialogInjectionKey"),lY=Or({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ys},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),HSe={close:()=>!0},GSe=["aria-level"],WSe=["aria-label"],qSe=["id"],XSe=rt({name:"ElDialogContent"}),YSe=rt({...XSe,props:lY,emits:HSe,setup(t){const e=t,{t:r}=Ti(),{Close:n}=wq,{dialogRef:i,headerRef:s,bodyId:o,ns:a,style:l}=Mr(aY),{focusTrapRef:u}=Mr(sX),d=pe(()=>[a.b(),a.is("fullscreen",e.fullscreen),a.is("draggable",e.draggable),a.is("align-center",e.alignCenter),{[a.m("center")]:e.center}]),f=Sve(u,i),h=pe(()=>e.draggable),g=pe(()=>e.overflow);return Aq(i,s,h,g),(p,v)=>(he(),Ue("div",{ref:y(f),class:Ee(y(d)),style:sn(y(l)),tabindex:"-1"},[He("header",{ref_key:"headerRef",ref:s,class:Ee([y(a).e("header"),{"show-close":p.showClose}])},[Yt(p.$slots,"header",{},()=>[He("span",{role:"heading","aria-level":p.ariaLevel,class:Ee(y(a).e("title"))},hr(p.title),11,GSe)]),p.showClose?(he(),Ue("button",{key:0,"aria-label":y(r)("el.dialog.close"),class:Ee(y(a).e("headerbtn")),type:"button",onClick:v[0]||(v[0]=b=>p.$emit("close"))},[N(y(Dr),{class:Ee(y(a).e("close"))},{default:ne(()=>[(he(),At(vi(p.closeIcon||y(n))))]),_:1},8,["class"])],10,WSe)):xt("v-if",!0)],2),He("div",{id:y(o),class:Ee(y(a).e("body"))},[Yt(p.$slots,"default")],10,qSe),p.$slots.footer?(he(),Ue("footer",{key:0,class:Ee(y(a).e("footer"))},[Yt(p.$slots,"footer")],2)):xt("v-if",!0)],6))}});var KSe=kr(YSe,[["__file","dialog-content.vue"]]);const uY=Or({...lY,appendToBody:Boolean,appendTo:{type:Vt(String),default:"body"},beforeClose:{type:Vt(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),cY={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Li]:t=>pu(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},dY=(t,e)=>{var r;const i=kn().emit,{nextZIndex:s}=TE();let o="";const a=ac(),l=ac(),u=ye(!1),d=ye(!1),f=ye(!1),h=ye((r=t.zIndex)!=null?r:s());let g,p;const v=EE("namespace",qy),b=pe(()=>{const V={},Y=`--${v.value}-dialog`;return t.fullscreen||(t.top&&(V[`${Y}-margin-top`]=t.top),t.width&&(V[`${Y}-width`]=ad(t.width))),V}),S=pe(()=>t.alignCenter?{display:"flex"}:{});function T(){i("opened")}function E(){i("closed"),i(Li,!1),t.destroyOnClose&&(f.value=!1)}function C(){i("close")}function P(){p==null||p(),g==null||g(),t.openDelay&&t.openDelay>0?{stop:g}=Fg(()=>te(),t.openDelay):te()}function D(){g==null||g(),p==null||p(),t.closeDelay&&t.closeDelay>0?{stop:p}=Fg(()=>se(),t.closeDelay):se()}function L(){function V(Y){Y||(d.value=!0,u.value=!1)}t.beforeClose?t.beforeClose(V):D()}function j(){t.closeOnClickModal&&L()}function te(){$n&&(u.value=!0)}function se(){u.value=!1}function q(){i("openAutoFocus")}function X(){i("closeAutoFocus")}function Q(V){var Y;((Y=V.detail)==null?void 0:Y.focusReason)==="pointer"&&V.preventDefault()}t.lockScroll&&Iq(u);function $(){t.closeOnPressEscape&&L()}return Gt(()=>t.modelValue,V=>{V?(d.value=!1,P(),f.value=!0,h.value=dq(t.zIndex)?s():h.value++,Hr(()=>{i("open"),e.value&&(e.value.scrollTop=0)})):u.value&&D()}),Gt(()=>t.fullscreen,V=>{e.value&&(V?(o=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=o)}),Un(()=>{t.modelValue&&(u.value=!0,f.value=!0,P())}),{afterEnter:T,afterLeave:E,beforeLeave:C,handleClose:L,onModalClick:j,close:D,doClose:se,onOpenAutoFocus:q,onCloseAutoFocus:X,onCloseRequested:$,onFocusoutPrevented:Q,titleId:a,bodyId:l,closed:d,style:b,overlayDialogStyle:S,rendered:f,visible:u,zIndex:h}},ZSe=["aria-label","aria-labelledby","aria-describedby"],QSe=rt({name:"ElDialog",inheritAttrs:!1}),JSe=rt({...QSe,props:uY,emits:cY,setup(t,{expose:e}){const r=t,n=Ml();b0({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},pe(()=>!!n.title));const i=sr("dialog"),s=ye(),o=ye(),a=ye(),{visible:l,titleId:u,bodyId:d,style:f,overlayDialogStyle:h,rendered:g,zIndex:p,afterEnter:v,afterLeave:b,beforeLeave:S,handleClose:T,onModalClick:E,onOpenAutoFocus:C,onCloseAutoFocus:P,onCloseRequested:D,onFocusoutPrevented:L}=dY(r,s);_i(aY,{dialogRef:s,headerRef:o,bodyId:d,ns:i,rendered:g,style:f});const j=jM(E),te=pe(()=>r.draggable&&!r.fullscreen);return e({visible:l,dialogContentRef:a}),(se,q)=>(he(),At(uE,{to:se.appendTo,disabled:se.appendTo!=="body"?!1:!se.appendToBody},[N(sa,{name:"dialog-fade",onAfterEnter:y(v),onAfterLeave:y(b),onBeforeLeave:y(S),persisted:""},{default:ne(()=>[xn(N(y(e8),{"custom-mask-event":"",mask:se.modal,"overlay-class":se.modalClass,"z-index":y(p)},{default:ne(()=>[He("div",{role:"dialog","aria-modal":"true","aria-label":se.title||void 0,"aria-labelledby":se.title?void 0:y(u),"aria-describedby":y(d),class:Ee(`${y(i).namespace.value}-overlay-dialog`),style:sn(y(h)),onClick:q[0]||(q[0]=(...X)=>y(j).onClick&&y(j).onClick(...X)),onMousedown:q[1]||(q[1]=(...X)=>y(j).onMousedown&&y(j).onMousedown(...X)),onMouseup:q[2]||(q[2]=(...X)=>y(j).onMouseup&&y(j).onMouseup(...X))},[N(y(PE),{loop:"",trapped:y(l),"focus-start-el":"container",onFocusAfterTrapped:y(C),onFocusAfterReleased:y(P),onFocusoutPrevented:y(L),onReleaseRequested:y(D)},{default:ne(()=>[y(g)?(he(),At(KSe,Eo({key:0,ref_key:"dialogContentRef",ref:a},se.$attrs,{center:se.center,"align-center":se.alignCenter,"close-icon":se.closeIcon,draggable:y(te),overflow:se.overflow,fullscreen:se.fullscreen,"show-close":se.showClose,title:se.title,"aria-level":se.headerAriaLevel,onClose:y(T)}),RP({header:ne(()=>[se.$slots.title?Yt(se.$slots,"title",{key:1}):Yt(se.$slots,"header",{key:0,close:y(T),titleId:y(u),titleClass:y(i).e("title")})]),default:ne(()=>[Yt(se.$slots,"default")]),_:2},[se.$slots.footer?{name:"footer",fn:ne(()=>[Yt(se.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):xt("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,ZSe)]),_:3},8,["mask","overlay-class","z-index"]),[[Ci,y(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var eTe=kr(JSe,[["__file","dialog.vue"]]);const ba=$i(eTe),tTe=Or({...uY,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),rTe=cY,nTe=["aria-label","aria-labelledby","aria-describedby"],iTe=["id","aria-level"],sTe=["aria-label"],oTe=["id"],aTe=rt({name:"ElDrawer",inheritAttrs:!1}),lTe=rt({...aTe,props:tTe,emits:rTe,setup(t,{expose:e}){const r=t,n=Ml();b0({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},pe(()=>!!n.title));const i=ye(),s=ye(),o=sr("drawer"),{t:a}=Ti(),{afterEnter:l,afterLeave:u,beforeLeave:d,visible:f,rendered:h,titleId:g,bodyId:p,zIndex:v,onModalClick:b,onOpenAutoFocus:S,onCloseAutoFocus:T,onFocusoutPrevented:E,onCloseRequested:C,handleClose:P}=dY(r,i),D=pe(()=>r.direction==="rtl"||r.direction==="ltr"),L=pe(()=>ad(r.size));return e({handleClose:P,afterEnter:l,afterLeave:u}),(j,te)=>(he(),At(uE,{to:"body",disabled:!j.appendToBody},[N(sa,{name:y(o).b("fade"),onAfterEnter:y(l),onAfterLeave:y(u),onBeforeLeave:y(d),persisted:""},{default:ne(()=>[xn(N(y(e8),{mask:j.modal,"overlay-class":j.modalClass,"z-index":y(v),onClick:y(b)},{default:ne(()=>[N(y(PE),{loop:"",trapped:y(f),"focus-trap-el":i.value,"focus-start-el":s.value,onFocusAfterTrapped:y(S),onFocusAfterReleased:y(T),onFocusoutPrevented:y(E),onReleaseRequested:y(C)},{default:ne(()=>[He("div",Eo({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":j.title||void 0,"aria-labelledby":j.title?void 0:y(g),"aria-describedby":y(p)},j.$attrs,{class:[y(o).b(),j.direction,y(f)&&"open"],style:y(D)?"width: "+y(L):"height: "+y(L),role:"dialog",onClick:te[1]||(te[1]=yn(()=>{},["stop"]))}),[He("span",{ref_key:"focusStartRef",ref:s,class:Ee(y(o).e("sr-focus")),tabindex:"-1"},null,2),j.withHeader?(he(),Ue("header",{key:0,class:Ee(y(o).e("header"))},[j.$slots.title?Yt(j.$slots,"title",{key:1},()=>[xt(" DEPRECATED SLOT ")]):Yt(j.$slots,"header",{key:0,close:y(P),titleId:y(g),titleClass:y(o).e("title")},()=>[j.$slots.title?xt("v-if",!0):(he(),Ue("span",{key:0,id:y(g),role:"heading","aria-level":j.headerAriaLevel,class:Ee(y(o).e("title"))},hr(j.title),11,iTe))]),j.showClose?(he(),Ue("button",{key:2,"aria-label":y(a)("el.drawer.close"),class:Ee(y(o).e("close-btn")),type:"button",onClick:te[0]||(te[0]=(...se)=>y(P)&&y(P)(...se))},[N(y(Dr),{class:Ee(y(o).e("close"))},{default:ne(()=>[N(y(gf))]),_:1},8,["class"])],10,sTe)):xt("v-if",!0)],2)):xt("v-if",!0),y(h)?(he(),Ue("div",{key:1,id:y(p),class:Ee(y(o).e("body"))},[Yt(j.$slots,"default")],10,oTe)):xt("v-if",!0),j.$slots.footer?(he(),Ue("div",{key:2,class:Ee(y(o).e("footer"))},[Yt(j.$slots,"footer")],2)):xt("v-if",!0)],16,nTe)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Ci,y(f)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var uTe=kr(lTe,[["__file","drawer.vue"]]);const cTe=$i(uTe),dTe=Or({urlList:{type:Vt(Array),default:()=>xo([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Vt(String)}}),fTe={close:()=>!0,switch:t=>Yn(t),rotate:t=>Yn(t)},hTe=["src","crossorigin"],pTe=rt({name:"ElImageViewer"}),mTe=rt({...pTe,props:dTe,emits:fTe,setup(t,{expose:e,emit:r}){var n;const i=t,s={CONTAIN:{name:"contain",icon:yS(Mge)},ORIGINAL:{name:"original",icon:yS(ive)}},{t:o}=Ti(),a=sr("image-viewer"),{nextZIndex:l}=TE(),u=ye(),d=ye([]),f=Tae(),h=ye(!0),g=ye(i.initialIndex),p=wa(s.CONTAIN),v=ye({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),b=ye((n=i.zIndex)!=null?n:l()),S=pe(()=>{const{urlList:J}=i;return J.length<=1}),T=pe(()=>g.value===0),E=pe(()=>g.value===i.urlList.length-1),C=pe(()=>i.urlList[g.value]),P=pe(()=>[a.e("btn"),a.e("prev"),a.is("disabled",!i.infinite&&T.value)]),D=pe(()=>[a.e("btn"),a.e("next"),a.is("disabled",!i.infinite&&E.value)]),L=pe(()=>{const{scale:J,deg:ie,offsetX:xe,offsetY:qe,enableTransition:et}=v.value;let Je=xe/J,lt=qe/J;switch(ie%360){case 90:case-270:[Je,lt]=[lt,-Je];break;case 180:case-180:[Je,lt]=[-Je,-lt];break;case 270:case-90:[Je,lt]=[-lt,Je];break}const Re={transform:`scale(${J}) rotate(${ie}deg) translate(${Je}px, ${lt}px)`,transition:et?"transform .3s":""};return p.value.name===s.CONTAIN.name&&(Re.maxWidth=Re.maxHeight="100%"),Re});function j(){se(),r("close")}function te(){const J=mA(xe=>{switch(xe.code){case Xr.esc:i.closeOnPressEscape&&j();break;case Xr.space:V();break;case Xr.left:ee();break;case Xr.up:H("zoomIn");break;case Xr.right:ae();break;case Xr.down:H("zoomOut");break}}),ie=mA(xe=>{const qe=xe.deltaY||xe.deltaX;H(qe<0?"zoomIn":"zoomOut",{zoomRate:i.zoomRate,enableTransition:!1})});f.run(()=>{ks(document,"keydown",J),ks(document,"wheel",ie)})}function se(){f.stop()}function q(){h.value=!1}function X(J){h.value=!1,J.target.alt=o("el.image.error")}function Q(J){if(h.value||J.button!==0||!u.value)return;v.value.enableTransition=!1;const{offsetX:ie,offsetY:xe}=v.value,qe=J.pageX,et=J.pageY,Je=mA(Re=>{v.value={...v.value,offsetX:ie+Re.pageX-qe,offsetY:xe+Re.pageY-et}}),lt=ks(document,"mousemove",Je);ks(document,"mouseup",()=>{lt()}),J.preventDefault()}function $(){v.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function V(){if(h.value)return;const J=JP(s),ie=Object.values(s),xe=p.value.name,et=(ie.findIndex(Je=>Je.name===xe)+1)%J.length;p.value=s[J[et]],$()}function Y(J){const ie=i.urlList.length;g.value=(J+ie)%ie}function ee(){T.value&&!i.infinite||Y(g.value-1)}function ae(){E.value&&!i.infinite||Y(g.value+1)}function H(J,ie={}){if(h.value)return;const{minScale:xe,maxScale:qe}=i,{zoomRate:et,rotateDeg:Je,enableTransition:lt}={zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0,...ie};switch(J){case"zoomOut":v.value.scale>xe&&(v.value.scale=Number.parseFloat((v.value.scale/et).toFixed(3)));break;case"zoomIn":v.value.scale<qe&&(v.value.scale=Number.parseFloat((v.value.scale*et).toFixed(3)));break;case"clockwise":v.value.deg+=Je,r("rotate",v.value.deg);break;case"anticlockwise":v.value.deg-=Je,r("rotate",v.value.deg);break}v.value.enableTransition=lt}return Gt(C,()=>{Hr(()=>{const J=d.value[0];J!=null&&J.complete||(h.value=!0)})}),Gt(g,J=>{$(),r("switch",J)}),Un(()=>{var J,ie;te(),(ie=(J=u.value)==null?void 0:J.focus)==null||ie.call(J)}),e({setActiveItem:Y}),(J,ie)=>(he(),At(uE,{to:"body",disabled:!J.teleported},[N(sa,{name:"viewer-fade",appear:""},{default:ne(()=>[He("div",{ref_key:"wrapper",ref:u,tabindex:-1,class:Ee(y(a).e("wrapper")),style:sn({zIndex:b.value})},[He("div",{class:Ee(y(a).e("mask")),onClick:ie[0]||(ie[0]=yn(xe=>J.hideOnClickModal&&j(),["self"]))},null,2),xt(" CLOSE "),He("span",{class:Ee([y(a).e("btn"),y(a).e("close")]),onClick:j},[N(y(Dr),null,{default:ne(()=>[N(y(gf))]),_:1})],2),xt(" ARROW "),y(S)?xt("v-if",!0):(he(),Ue(Ar,{key:0},[He("span",{class:Ee(y(P)),onClick:ee},[N(y(Dr),null,{default:ne(()=>[N(y(L0))]),_:1})],2),He("span",{class:Ee(y(D)),onClick:ae},[N(y(Dr),null,{default:ne(()=>[N(y(ou))]),_:1})],2)],64)),xt(" ACTIONS "),He("div",{class:Ee([y(a).e("btn"),y(a).e("actions")])},[He("div",{class:Ee(y(a).e("actions__inner"))},[N(y(Dr),{onClick:ie[1]||(ie[1]=xe=>H("zoomOut"))},{default:ne(()=>[N(y(xve))]),_:1}),N(y(Dr),{onClick:ie[2]||(ie[2]=xe=>H("zoomIn"))},{default:ne(()=>[N(y(bq))]),_:1}),He("i",{class:Ee(y(a).e("actions__divider"))},null,2),N(y(Dr),{onClick:V},{default:ne(()=>[(he(),At(vi(y(p).icon)))]),_:1}),He("i",{class:Ee(y(a).e("actions__divider"))},null,2),N(y(Dr),{onClick:ie[3]||(ie[3]=xe=>H("anticlockwise"))},{default:ne(()=>[N(y(eve))]),_:1}),N(y(Dr),{onClick:ie[4]||(ie[4]=xe=>H("clockwise"))},{default:ne(()=>[N(y(rve))]),_:1})],2)],2),xt(" CANVAS "),He("div",{class:Ee(y(a).e("canvas"))},[(he(!0),Ue(Ar,null,xi(J.urlList,(xe,qe)=>xn((he(),Ue("img",{ref_for:!0,ref:et=>d.value[qe]=et,key:xe,src:xe,style:sn(y(L)),class:Ee(y(a).e("img")),crossorigin:J.crossorigin,onLoad:q,onError:X,onMousedown:Q},null,46,hTe)),[[Ci,qe===g.value]])),128))],2),Yt(J.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var gTe=kr(mTe,[["__file","image-viewer.vue"]]);const vTe=$i(gTe),_Te=Or({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Vt([String,Object])},previewSrcList:{type:Vt(Array),default:()=>xo([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Vt(String)}}),yTe={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>Yn(t),close:()=>!0,show:()=>!0},bTe=["src","loading","crossorigin"],xTe={key:0},wTe=rt({name:"ElImage",inheritAttrs:!1}),STe=rt({...wTe,props:_Te,emits:yTe,setup(t,{emit:e}){const r=t;let n="";const{t:i}=Ti(),s=sr("image"),o=Iv(),a=Cq(),l=ye(),u=ye(!1),d=ye(!0),f=ye(!1),h=ye(),g=ye(),p=$n&&"loading"in HTMLImageElement.prototype;let v,b;const S=pe(()=>[s.e("inner"),C.value&&s.e("preview"),d.value&&s.is("loading")]),T=pe(()=>o.style),E=pe(()=>{const{fit:ae}=r;return $n&&ae?{objectFit:ae}:{}}),C=pe(()=>{const{previewSrcList:ae}=r;return Array.isArray(ae)&&ae.length>0}),P=pe(()=>{const{previewSrcList:ae,initialIndex:H}=r;let J=H;return H>ae.length-1&&(J=0),J}),D=pe(()=>r.loading==="eager"?!1:!p&&r.loading==="lazy"||r.lazy),L=()=>{$n&&(d.value=!0,u.value=!1,l.value=r.src)};function j(ae){d.value=!1,u.value=!1,e("load",ae)}function te(ae){d.value=!1,u.value=!0,e("error",ae)}function se(){Qce(h.value,g.value)&&(L(),Q())}const q=Que(se,200,!0);async function X(){var ae;if(!$n)return;await Hr();const{scrollContainer:H}=r;mu(H)?g.value=H:on(H)&&H!==""?g.value=(ae=document.querySelector(H))!=null?ae:void 0:h.value&&(g.value=oge(h.value)),g.value&&(v=ks(g,"scroll",q),setTimeout(()=>se(),100))}function Q(){!$n||!g.value||!q||(v==null||v(),g.value=void 0)}function $(ae){if(ae.ctrlKey){if(ae.deltaY<0)return ae.preventDefault(),!1;if(ae.deltaY>0)return ae.preventDefault(),!1}}function V(){C.value&&(b=ks("wheel",$,{passive:!1}),n=document.body.style.overflow,document.body.style.overflow="hidden",f.value=!0,e("show"))}function Y(){b==null||b(),document.body.style.overflow=n,f.value=!1,e("close")}function ee(ae){e("switch",ae)}return Gt(()=>r.src,()=>{D.value?(d.value=!0,u.value=!1,Q(),X()):L()}),Un(()=>{D.value?X():L()}),(ae,H)=>(he(),Ue("div",{ref_key:"container",ref:h,class:Ee([y(s).b(),ae.$attrs.class]),style:sn(y(T))},[u.value?Yt(ae.$slots,"error",{key:0},()=>[He("div",{class:Ee(y(s).e("error"))},hr(y(i)("el.image.error")),3)]):(he(),Ue(Ar,{key:1},[l.value!==void 0?(he(),Ue("img",Eo({key:0},y(a),{src:l.value,loading:ae.loading,style:y(E),class:y(S),crossorigin:ae.crossorigin,onClick:V,onLoad:j,onError:te}),null,16,bTe)):xt("v-if",!0),d.value?(he(),Ue("div",{key:1,class:Ee(y(s).e("wrapper"))},[Yt(ae.$slots,"placeholder",{},()=>[He("div",{class:Ee(y(s).e("placeholder"))},null,2)])],2)):xt("v-if",!0)],64)),y(C)?(he(),Ue(Ar,{key:2},[f.value?(he(),At(y(vTe),{key:0,"z-index":ae.zIndex,"initial-index":y(P),infinite:ae.infinite,"zoom-rate":ae.zoomRate,"min-scale":ae.minScale,"max-scale":ae.maxScale,"url-list":ae.previewSrcList,"hide-on-click-modal":ae.hideOnClickModal,teleported:ae.previewTeleported,"close-on-press-escape":ae.closeOnPressEscape,onClose:Y,onSwitch:ee},{default:ne(()=>[ae.$slots.viewer?(he(),Ue("div",xTe,[Yt(ae.$slots,"viewer")])):xt("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):xt("v-if",!0)],64)):xt("v-if",!0)],6))}});var TTe=kr(STe,[["__file","image.vue"]]);const ETe=$i(TTe);let CTe=class{constructor(e,r){this.parent=e,this.domNode=r,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,r=>{r.addEventListener("keydown",n=>{let i=!1;switch(n.code){case Xr.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case Xr.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case Xr.tab:{vw(e,"mouseleave");break}case Xr.enter:case Xr.space:{i=!0,n.currentTarget.click();break}}return i&&(n.preventDefault(),n.stopPropagation()),!1})})}},ATe=class{constructor(e,r){this.domNode=e,this.submenu=null,this.submenu=null,this.init(r)}init(e){this.domNode.setAttribute("tabindex","0");const r=this.domNode.querySelector(`.${e}-menu`);r&&(this.submenu=new CTe(this,r)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let r=!1;switch(e.code){case Xr.down:{vw(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case Xr.up:{vw(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case Xr.tab:{vw(e.currentTarget,"mouseleave");break}case Xr.enter:case Xr.space:{r=!0,e.currentTarget.click();break}}r&&e.preventDefault()})}},PTe=class{constructor(e,r){this.domNode=e,this.init(r)}init(e){const r=this.domNode.childNodes;Array.from(r).forEach(n=>{n.nodeType===1&&new ATe(n,e)})}};const kTe=rt({name:"ElMenuCollapseTransition",setup(){const t=sr("menu");return{listeners:{onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,n){ju(r,`${t.namespace.value}-opacity-transition`),r.style.opacity="1",n()},onAfterEnter(r){xl(r,`${t.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),Zc(r,t.m("collapse"))?(xl(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),ju(r,t.m("collapse"))):(ju(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),xl(r,t.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){ju(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}}}}});function ITe(t,e,r,n,i,s){return he(),At(sa,Eo({mode:"out-in"},t.listeners),{default:ne(()=>[Yt(t.$slots,"default")]),_:3},16)}var OTe=kr(kTe,[["render",ITe],["__file","menu-collapse-transition.vue"]]);function fY(t,e){const r=pe(()=>{let i=t.parent;const s=[e.value];for(;i.type.name!=="ElMenu";)i.props.index&&s.unshift(i.props.index),i=i.parent;return s});return{parentMenu:pe(()=>{let i=t.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:r}}function DTe(t){return pe(()=>{const r=t.backgroundColor;return r?new fX(r).shade(20).toString():""})}const hY=(t,e)=>{const r=sr("menu");return pe(()=>r.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":DTe(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},MTe=Or({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Ys},expandOpenIcon:{type:Ys},collapseCloseIcon:{type:Ys},collapseOpenIcon:{type:Ys}}),EA="ElSubMenu";var t8=rt({name:EA,props:MTe,setup(t,{slots:e,expose:r}){const n=kn(),{indexPath:i,parentMenu:s}=fY(n,pe(()=>t.index)),o=sr("menu"),a=sr("sub-menu"),l=Mr("rootMenu");l||nl(EA,"can not inject root menu");const u=Mr(`subMenu:${s.value.uid}`);u||nl(EA,"can not inject sub menu");const d=ye({}),f=ye({});let h;const g=ye(!1),p=ye(),v=ye(null),b=pe(()=>j.value==="horizontal"&&T.value?"bottom-start":"right-start"),S=pe(()=>j.value==="horizontal"&&T.value||j.value==="vertical"&&!l.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?D.value?t.expandOpenIcon:t.expandCloseIcon:Xb:t.collapseCloseIcon&&t.collapseOpenIcon?D.value?t.collapseOpenIcon:t.collapseCloseIcon:ou),T=pe(()=>u.level===0),E=pe(()=>{const J=t.teleported;return J===void 0?T.value:J}),C=pe(()=>l.props.collapse?`${o.namespace.value}-zoom-in-left`:`${o.namespace.value}-zoom-in-top`),P=pe(()=>j.value==="horizontal"&&T.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),D=pe(()=>l.openedMenus.includes(t.index)),L=pe(()=>{let J=!1;return Object.values(d.value).forEach(ie=>{ie.active&&(J=!0)}),Object.values(f.value).forEach(ie=>{ie.active&&(J=!0)}),J}),j=pe(()=>l.props.mode),te=vn({index:t.index,indexPath:i,active:L}),se=hY(l.props,u.level+1),q=pe(()=>{var J;return(J=t.popperOffset)!=null?J:l.props.popperOffset}),X=pe(()=>{var J;return(J=t.popperClass)!=null?J:l.props.popperClass}),Q=pe(()=>{var J;return(J=t.showTimeout)!=null?J:l.props.showTimeout}),$=pe(()=>{var J;return(J=t.hideTimeout)!=null?J:l.props.hideTimeout}),V=()=>{var J,ie,xe;return(xe=(ie=(J=v.value)==null?void 0:J.popperRef)==null?void 0:ie.popperInstanceRef)==null?void 0:xe.destroy()},Y=J=>{J||V()},ee=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||t.disabled||l.handleSubMenuClick({index:t.index,indexPath:i.value,active:L.value})},ae=(J,ie=Q.value)=>{var xe;if(J.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||t.disabled){u.mouseInChild.value=!0;return}u.mouseInChild.value=!0,h==null||h(),{stop:h}=Fg(()=>{l.openMenu(t.index,i.value)},ie),E.value&&((xe=s.value.vnode.el)==null||xe.dispatchEvent(new MouseEvent("mouseenter")))}},H=(J=!1)=>{var ie;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){u.mouseInChild.value=!1;return}h==null||h(),u.mouseInChild.value=!1,{stop:h}=Fg(()=>!g.value&&l.closeMenu(t.index,i.value),$.value),E.value&&J&&((ie=u.handleMouseleave)==null||ie.call(u,!0))};Gt(()=>l.props.collapse,J=>Y(!!J));{const J=xe=>{f.value[xe.index]=xe},ie=xe=>{delete f.value[xe.index]};_i(`subMenu:${n.uid}`,{addSubMenu:J,removeSubMenu:ie,handleMouseleave:H,mouseInChild:g,level:u.level+1})}return r({opened:D}),Un(()=>{l.addSubMenu(te),u.addSubMenu(te)}),Vs(()=>{u.removeSubMenu(te),l.removeSubMenu(te)}),()=>{var J;const ie=[(J=e.title)==null?void 0:J.call(e),Tr(Dr,{class:a.e("icon-arrow"),style:{transform:D.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>on(S.value)?Tr(n.appContext.components[S.value]):Tr(S.value)})],xe=l.isMenuPopup?Tr(Uh,{ref:v,visible:D.value,effect:"light",pure:!0,offset:q.value,showArrow:!1,persistent:!0,popperClass:X.value,placement:b.value,teleported:E.value,fallbackPlacements:P.value,transition:C.value,gpuAcceleration:!1},{content:()=>{var qe;return Tr("div",{class:[o.m(j.value),o.m("popup-container"),X.value],onMouseenter:et=>ae(et,100),onMouseleave:()=>H(!0),onFocus:et=>ae(et,100)},[Tr("ul",{class:[o.b(),o.m("popup"),o.m(`popup-${b.value}`)],style:se.value},[(qe=e.default)==null?void 0:qe.call(e)])])},default:()=>Tr("div",{class:a.e("title"),onClick:ee},ie)}):Tr(Ar,{},[Tr("div",{class:a.e("title"),ref:p,onClick:ee},ie),Tr(awe,{},{default:()=>{var qe;return xn(Tr("ul",{role:"menu",class:[o.b(),o.m("inline")],style:se.value},[(qe=e.default)==null?void 0:qe.call(e)]),[[Ci,D.value]])}})]);return Tr("li",{class:[a.b(),a.is("active",L.value),a.is("opened",D.value),a.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:D.value,onMouseenter:ae,onMouseleave:()=>H(),onFocus:ae},[xe])}}});const RTe=Or({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Vt(Array),default:()=>xo([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Ys,default:()=>qge},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),CA=t=>Array.isArray(t)&&t.every(e=>on(e)),$Te={close:(t,e)=>on(t)&&CA(e),open:(t,e)=>on(t)&&CA(e),select:(t,e,r,n)=>on(t)&&CA(e)&&En(r)&&(n===void 0||n instanceof Promise)};var LTe=rt({name:"ElMenu",props:RTe,emits:$Te,setup(t,{emit:e,slots:r,expose:n}){const i=kn(),s=i.appContext.config.globalProperties.$router,o=ye(),a=sr("menu"),l=sr("sub-menu"),u=ye(-1),d=ye(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),f=ye(t.defaultActive),h=ye({}),g=ye({}),p=pe(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),v=()=>{const $=f.value&&h.value[f.value];if(!$||t.mode==="horizontal"||t.collapse)return;$.indexPath.forEach(Y=>{const ee=g.value[Y];ee&&b(Y,ee.indexPath)})},b=($,V)=>{d.value.includes($)||(t.uniqueOpened&&(d.value=d.value.filter(Y=>V.includes(Y))),d.value.push($),e("open",$,V))},S=$=>{const V=d.value.indexOf($);V!==-1&&d.value.splice(V,1)},T=($,V)=>{S($),e("close",$,V)},E=({index:$,indexPath:V})=>{d.value.includes($)?T($,V):b($,V)},C=$=>{(t.mode==="horizontal"||t.collapse)&&(d.value=[]);const{index:V,indexPath:Y}=$;if(!(oc(V)||oc(Y)))if(t.router&&s){const ee=$.route||V,ae=s.push(ee).then(H=>(H||(f.value=V),H));e("select",V,Y,{index:V,indexPath:Y,route:ee},ae)}else f.value=V,e("select",V,Y,{index:V,indexPath:Y})},P=$=>{const V=h.value,Y=V[$]||f.value&&V[f.value]||V[t.defaultActive];Y?f.value=Y.index:f.value=$},D=$=>{const V=getComputedStyle($),Y=Number.parseInt(V.marginLeft,10),ee=Number.parseInt(V.marginRight,10);return $.offsetWidth+Y+ee||0},L=()=>{var $,V;if(!o.value)return-1;const Y=Array.from((V=($=o.value)==null?void 0:$.childNodes)!=null?V:[]).filter(et=>et.nodeName!=="#comment"&&(et.nodeName!=="#text"||et.nodeValue)),ee=64,ae=getComputedStyle(o.value),H=Number.parseInt(ae.paddingLeft,10),J=Number.parseInt(ae.paddingRight,10),ie=o.value.clientWidth-H-J;let xe=0,qe=0;return Y.forEach((et,Je)=>{xe+=D(et),xe<=ie-ee&&(qe=Je+1)}),qe===Y.length?-1:qe},j=$=>g.value[$].indexPath,te=($,V=33.34)=>{let Y;return()=>{Y&&clearTimeout(Y),Y=setTimeout(()=>{$()},V)}};let se=!0;const q=()=>{if(u.value===L())return;const $=()=>{u.value=-1,Hr(()=>{u.value=L()})};se?$():te($)(),se=!1};Gt(()=>t.defaultActive,$=>{h.value[$]||(f.value=""),P($)}),Gt(()=>t.collapse,$=>{$&&(d.value=[])}),Gt(h.value,v);let X;qu(()=>{t.mode==="horizontal"&&t.ellipsis?X=Fo(o,q).stop:X==null||X()});const Q=ye(!1);{const $=ae=>{g.value[ae.index]=ae},V=ae=>{delete g.value[ae.index]};_i("rootMenu",vn({props:t,openedMenus:d,items:h,subMenus:g,activeIndex:f,isMenuPopup:p,addMenuItem:ae=>{h.value[ae.index]=ae},removeMenuItem:ae=>{delete h.value[ae.index]},addSubMenu:$,removeSubMenu:V,openMenu:b,closeMenu:T,handleMenuItemClick:C,handleSubMenuClick:E})),_i(`subMenu:${i.uid}`,{addSubMenu:$,removeSubMenu:V,mouseInChild:Q,level:0})}return Un(()=>{t.mode==="horizontal"&&new PTe(i.vnode.el,a.namespace.value)}),n({open:V=>{const{indexPath:Y}=g.value[V];Y.forEach(ee=>b(ee,Y))},close:S,handleResize:q}),()=>{var $,V;let Y=(V=($=r.default)==null?void 0:$.call(r))!=null?V:[];const ee=[];if(t.mode==="horizontal"&&o.value){const ie=Wy(Y),xe=u.value===-1?ie:ie.slice(0,u.value),qe=u.value===-1?[]:ie.slice(u.value);qe!=null&&qe.length&&t.ellipsis&&(Y=xe,ee.push(Tr(t8,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>Tr(Dr,{class:l.e("icon-more")},{default:()=>Tr(t.ellipsisIcon)}),default:()=>qe})))}const ae=hY(t,0),H=t.closeOnClickOutside?[[N0,()=>{d.value.length&&(Q.value||(d.value.forEach(ie=>e("close",ie,j(ie))),d.value=[]))}]]:[],J=xn(Tr("ul",{key:String(t.collapse),role:"menubar",ref:o,style:ae.value,class:{[a.b()]:!0,[a.m(t.mode)]:!0,[a.m("collapse")]:t.collapse}},[...Y,...ee]),H);return t.collapseTransition&&t.mode==="vertical"?Tr(OTe,()=>J):J}}});const FTe=Or({index:{type:Vt([String,null]),default:null},route:{type:Vt([String,Object])},disabled:Boolean}),NTe={click:t=>on(t.index)&&Array.isArray(t.indexPath)},AA="ElMenuItem",BTe=rt({name:AA,components:{ElTooltip:Uh},props:FTe,emits:NTe,setup(t,{emit:e}){const r=kn(),n=Mr("rootMenu"),i=sr("menu"),s=sr("menu-item");n||nl(AA,"can not inject root menu");const{parentMenu:o,indexPath:a}=fY(r,oo(t,"index")),l=Mr(`subMenu:${o.value.uid}`);l||nl(AA,"can not inject sub menu");const u=pe(()=>t.index===n.activeIndex),d=vn({index:t.index,indexPath:a,active:u}),f=()=>{t.disabled||(n.handleMenuItemClick({index:t.index,indexPath:a.value,route:t.route}),e("click",d))};return Un(()=>{l.addSubMenu(d),n.addMenuItem(d)}),Vs(()=>{l.removeSubMenu(d),n.removeMenuItem(d)}),{parentMenu:o,rootMenu:n,active:u,nsMenu:i,nsMenuItem:s,handleClick:f}}});function UTe(t,e,r,n,i,s){const o=qn("el-tooltip");return he(),Ue("li",{class:Ee([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:e[0]||(e[0]=(...a)=>t.handleClick&&t.handleClick(...a))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(he(),At(o,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:ne(()=>[Yt(t.$slots,"title")]),default:ne(()=>[He("div",{class:Ee(t.nsMenu.be("tooltip","trigger"))},[Yt(t.$slots,"default")],2)]),_:3},8,["effect"])):(he(),Ue(Ar,{key:1},[Yt(t.$slots,"default"),Yt(t.$slots,"title")],64))],2)}var pY=kr(BTe,[["render",UTe],["__file","menu-item.vue"]]);const VTe={title:String},zTe="ElMenuItemGroup",jTe=rt({name:zTe,props:VTe,setup(){return{ns:sr("menu-item-group")}}});function HTe(t,e,r,n,i,s){return he(),Ue("li",{class:Ee(t.ns.b())},[He("div",{class:Ee(t.ns.e("title"))},[t.$slots.title?Yt(t.$slots,"title",{key:1}):(he(),Ue(Ar,{key:0},[It(hr(t.title),1)],64))],2),He("ul",null,[Yt(t.$slots,"default")])],2)}var mY=kr(jTe,[["render",HTe],["__file","menu-item-group.vue"]]);const GTe=$i(LTe,{MenuItem:pY,MenuItemGroup:mY,SubMenu:t8}),WTe=ko(pY),qTe=ko(mY),XTe=ko(t8),gY=Symbol("elPaginationKey"),YTe=Or({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Ys}}),KTe={click:t=>t instanceof MouseEvent},ZTe=["disabled","aria-label","aria-disabled"],QTe={key:0},JTe=rt({name:"ElPaginationPrev"}),eEe=rt({...JTe,props:YTe,emits:KTe,setup(t){const e=t,{t:r}=Ti(),n=pe(()=>e.disabled||e.currentPage<=1);return(i,s)=>(he(),Ue("button",{type:"button",class:"btn-prev",disabled:y(n),"aria-label":i.prevText||y(r)("el.pagination.prev"),"aria-disabled":y(n),onClick:s[0]||(s[0]=o=>i.$emit("click",o))},[i.prevText?(he(),Ue("span",QTe,hr(i.prevText),1)):(he(),At(y(Dr),{key:1},{default:ne(()=>[(he(),At(vi(i.prevIcon)))]),_:1}))],8,ZTe))}});var tEe=kr(eEe,[["__file","prev.vue"]]);const rEe=Or({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Ys}}),nEe=["disabled","aria-label","aria-disabled"],iEe={key:0},sEe=rt({name:"ElPaginationNext"}),oEe=rt({...sEe,props:rEe,emits:["click"],setup(t){const e=t,{t:r}=Ti(),n=pe(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(i,s)=>(he(),Ue("button",{type:"button",class:"btn-next",disabled:y(n),"aria-label":i.nextText||y(r)("el.pagination.next"),"aria-disabled":y(n),onClick:s[0]||(s[0]=o=>i.$emit("click",o))},[i.nextText?(he(),Ue("span",iEe,hr(i.nextText),1)):(he(),At(y(Dr),{key:1},{default:ne(()=>[(he(),At(vi(i.nextIcon)))]),_:1}))],8,nEe))}});var aEe=kr(oEe,[["__file","next.vue"]]);const vY=Symbol("ElSelectGroup"),OE=Symbol("ElSelect");function lEe(t,e){const r=Mr(OE),n=Mr(vY,{disabled:!1}),i=pe(()=>r.props.multiple?d(r.props.modelValue,t.value):d([r.props.modelValue],t.value)),s=pe(()=>{if(r.props.multiple){const g=r.props.modelValue||[];return!i.value&&g.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),o=pe(()=>t.label||(En(t.value)?"":t.value)),a=pe(()=>t.value||t.label||""),l=pe(()=>t.disabled||e.groupDisabled||s.value),u=kn(),d=(g=[],p)=>{if(En(t.value)){const v=r.props.valueKey;return g&&g.some(b=>Hn(Yl(b,v))===Yl(p,v))}else return g&&g.includes(p)},f=()=>{!t.disabled&&!n.disabled&&(r.states.hoveringIndex=r.optionsArray.indexOf(u.proxy))},h=g=>{const p=new RegExp(rge(g),"i");e.visible=p.test(o.value)||t.created};return Gt(()=>o.value,()=>{!t.created&&!r.props.remote&&r.setSelected()}),Gt(()=>t.value,(g,p)=>{const{remote:v,valueKey:b}=r.props;if(bl(g,p)||(r.onOptionDestroy(p,u.proxy),r.onOptionCreate(u.proxy)),!t.created&&!v){if(b&&En(g)&&En(p)&&g[b]===p[b])return;r.setSelected()}}),Gt(()=>n.disabled,()=>{e.groupDisabled=n.disabled},{immediate:!0}),{select:r,currentLabel:o,currentValue:a,itemSelected:i,isDisabled:l,hoverItem:f,updateOption:h}}const uEe=rt({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=sr("select"),r=ac(),n=pe(()=>[e.be("dropdown","item"),e.is("disabled",y(a)),e.is("selected",y(o)),e.is("hovering",y(h))]),i=vn({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:s,itemSelected:o,isDisabled:a,select:l,hoverItem:u,updateOption:d}=lEe(t,i),{visible:f,hover:h}=gd(i),g=kn().proxy;l.onOptionCreate(g),Vs(()=>{const v=g.value,{selected:b}=l.states,T=(l.props.multiple?b:[b]).some(E=>E.value===g.value);Hr(()=>{l.states.cachedOptions.get(v)===g&&!T&&l.states.cachedOptions.delete(v)}),l.onOptionDestroy(v,g)});function p(){t.disabled!==!0&&i.groupDisabled!==!0&&l.handleOptionSelect(g)}return{ns:e,id:r,containerKls:n,currentLabel:s,itemSelected:o,isDisabled:a,select:l,hoverItem:u,updateOption:d,visible:f,hover:h,selectOptionClick:p,states:i}}}),cEe=["id","aria-disabled","aria-selected"];function dEe(t,e,r,n,i,s){return xn((he(),Ue("li",{id:t.id,class:Ee(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMouseenter:e[0]||(e[0]=(...o)=>t.hoverItem&&t.hoverItem(...o)),onClick:e[1]||(e[1]=yn((...o)=>t.selectOptionClick&&t.selectOptionClick(...o),["stop"]))},[Yt(t.$slots,"default",{},()=>[He("span",null,hr(t.currentLabel),1)])],42,cEe)),[[Ci,t.visible]])}var r8=kr(uEe,[["render",dEe],["__file","option.vue"]]);const fEe=rt({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=Mr(OE),e=sr("select"),r=pe(()=>t.props.popperClass),n=pe(()=>t.props.multiple),i=pe(()=>t.props.fitInputWidth),s=ye("");function o(){var a;s.value=`${(a=t.selectRef)==null?void 0:a.offsetWidth}px`}return Un(()=>{o(),Fo(t.selectRef,o)}),{ns:e,minWidth:s,popperClass:r,isMultiple:n,isFitInputWidth:i}}});function hEe(t,e,r,n,i,s){return he(),Ue("div",{class:Ee([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:sn({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(he(),Ue("div",{key:0,class:Ee(t.ns.be("dropdown","header"))},[Yt(t.$slots,"header")],2)):xt("v-if",!0),Yt(t.$slots,"default"),t.$slots.footer?(he(),Ue("div",{key:1,class:Ee(t.ns.be("dropdown","footer"))},[Yt(t.$slots,"footer")],2)):xt("v-if",!0)],6)}var pEe=kr(fEe,[["render",hEe],["__file","select-dropdown.vue"]]);function mEe(t){const e=ye(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:s=>{const o=s.target.value,a=o[o.length-1]||"";e.value=!MM(a)},handleCompositionEnd:s=>{e.value&&(e.value=!1,Fr(t)&&t(s))}}}const gEe=11,vEe=(t,e)=>{const{t:r}=Ti(),n=ac(),i=sr("select"),s=sr("input"),o=vn({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:t.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),a=ye(null),l=ye(null),u=ye(null),d=ye(null),f=ye(null),h=ye(null),g=ye(null),p=ye(null),v=ye(null),b=ye(null),S=ye(null),T=ye(null),{wrapperRef:E,isFocused:C,handleFocus:P,handleBlur:D}=Kq(f,{afterFocus(){t.automaticDropdown&&!L.value&&(L.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(je){var dt,at;return((dt=u.value)==null?void 0:dt.isFocusInsideContent(je))||((at=d.value)==null?void 0:at.isFocusInsideContent(je))},afterBlur(){L.value=!1,o.menuVisibleOnFocus=!1}}),L=ye(!1),j=ye(),{form:te,formItem:se}=_d(),{inputId:q}=Qb(t,{formItemContext:se}),X=pe(()=>t.disabled||(te==null?void 0:te.disabled)),Q=pe(()=>qe.value.some(je=>je.value==="")),$=pe(()=>t.multiple?cr(t.modelValue)&&t.modelValue.length>0:!oc(t.modelValue)&&(t.modelValue!==""||Q.value)),V=pe(()=>t.clearable&&!X.value&&o.inputHovering&&$.value),Y=pe(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),ee=pe(()=>i.is("reverse",Y.value&&L.value)),ae=pe(()=>(se==null?void 0:se.validateState)||""),H=pe(()=>Tq[ae.value]),J=pe(()=>t.remote?300:0),ie=pe(()=>t.loading?t.loadingText||r("el.select.loading"):t.remote&&!o.inputValue&&o.options.size===0?!1:t.filterable&&o.inputValue&&o.options.size>0&&xe.value===0?t.noMatchText||r("el.select.noMatch"):o.options.size===0?t.noDataText||r("el.select.noData"):null),xe=pe(()=>qe.value.filter(je=>je.visible).length),qe=pe(()=>{const je=Array.from(o.options.values()),dt=[];return o.optionValues.forEach(at=>{const Nt=je.findIndex(jt=>jt.value===at);Nt>-1&&dt.push(je[Nt])}),dt.length>=je.length?dt:je}),et=pe(()=>Array.from(o.cachedOptions.values())),Je=pe(()=>{const je=qe.value.filter(dt=>!dt.created).some(dt=>dt.currentLabel===o.inputValue);return t.filterable&&t.allowCreate&&o.inputValue!==""&&!je}),lt=()=>{t.filterable&&Fr(t.filterMethod)||t.filterable&&t.remote&&Fr(t.remoteMethod)||qe.value.forEach(je=>{var dt;(dt=je.updateOption)==null||dt.call(je,o.inputValue)})},Re=_u(),wt=pe(()=>["small"].includes(Re.value)?"small":"default"),vt=pe({get(){return L.value&&ie.value!==!1},set(je){L.value=je}}),pt=pe(()=>cr(t.modelValue)?t.modelValue.length===0&&!o.inputValue:t.filterable?!o.inputValue:!0),Ut=pe(()=>{var je;const dt=(je=t.placeholder)!=null?je:r("el.select.placeholder");return t.multiple||!$.value?dt:o.selectedLabel});Gt(()=>t.modelValue,(je,dt)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(o.inputValue="",yt("")),Oe(),!bl(je,dt)&&t.validateEvent&&(se==null||se.validate("change").catch(at=>void 0))},{flush:"post",deep:!0}),Gt(()=>L.value,je=>{je?yt(o.inputValue):(o.inputValue="",o.previousQuery=null,o.isBeforeHide=!0),e("visible-change",je)}),Gt(()=>o.options.entries(),()=>{var je;if(!$n)return;const dt=((je=a.value)==null?void 0:je.querySelectorAll("input"))||[];(!t.filterable&&!t.defaultFirstOption&&!Pl(t.modelValue)||!Array.from(dt).includes(document.activeElement))&&Oe(),t.defaultFirstOption&&(t.filterable||t.remote)&&xe.value&&le()},{flush:"post"}),Gt(()=>o.hoveringIndex,je=>{Yn(je)&&je>-1?j.value=qe.value[je]||{}:j.value={},qe.value.forEach(dt=>{dt.hover=j.value===dt})}),qu(()=>{o.isBeforeHide||lt()});const yt=je=>{o.previousQuery!==je&&(o.previousQuery=je,t.filterable&&Fr(t.filterMethod)?t.filterMethod(je):t.filterable&&t.remote&&Fr(t.remoteMethod)&&t.remoteMethod(je),t.defaultFirstOption&&(t.filterable||t.remote)&&xe.value?Hr(le):Hr(Ke))},le=()=>{const je=qe.value.filter(Nt=>Nt.visible&&!Nt.disabled&&!Nt.states.groupDisabled),dt=je.find(Nt=>Nt.created),at=je[0];o.hoveringIndex=_e(qe.value,dt||at)},Oe=()=>{if(t.multiple)o.selectedLabel="";else{const dt=nt(t.modelValue);o.selectedLabel=dt.currentLabel,o.selected=dt;return}const je=[];cr(t.modelValue)&&t.modelValue.forEach(dt=>{je.push(nt(dt))}),o.selected=je},nt=je=>{let dt;const at=dw(je).toLowerCase()==="object",Nt=dw(je).toLowerCase()==="null",jt=dw(je).toLowerCase()==="undefined";for(let Er=o.cachedOptions.size-1;Er>=0;Er--){const or=et.value[Er];if(at?Yl(or.value,t.valueKey)===Yl(je,t.valueKey):or.value===je){dt={value:je,currentLabel:or.currentLabel,isDisabled:or.isDisabled};break}}if(dt)return dt;const zt=at?je.label:!Nt&&!jt?je:"";return{value:je,currentLabel:zt}},Ke=()=>{t.multiple?o.hoveringIndex=qe.value.findIndex(je=>o.selected.some(dt=>ve(dt)===ve(je))):o.hoveringIndex=qe.value.findIndex(je=>ve(je)===ve(o.selected))},ct=()=>{o.selectionWidth=l.value.getBoundingClientRect().width},Ot=()=>{o.calculatorWidth=h.value.getBoundingClientRect().width},Dt=()=>{o.collapseItemWidth=S.value.getBoundingClientRect().width},_t=()=>{var je,dt;(dt=(je=u.value)==null?void 0:je.updatePopper)==null||dt.call(je)},Mt=()=>{var je,dt;(dt=(je=d.value)==null?void 0:je.updatePopper)==null||dt.call(je)},Rt=()=>{o.inputValue.length>0&&!L.value&&(L.value=!0),yt(o.inputValue)},tt=je=>{if(o.inputValue=je.target.value,t.remote)Zt();else return Rt()},Zt=Bh(()=>{Rt()},J.value),mt=je=>{bl(t.modelValue,je)||e(vf,je)},Tt=je=>Ume(je,dt=>!o.disabledOptions.has(dt)),mr=je=>{if(t.multiple&&je.code!==Xr.delete&&je.target.value.length<=0){const dt=t.modelValue.slice(),at=Tt(dt);if(at<0)return;dt.splice(at,1),e(Li,dt),mt(dt)}},Bt=(je,dt)=>{const at=o.selected.indexOf(dt);if(at>-1&&!X.value){const Nt=t.modelValue.slice();Nt.splice(at,1),e(Li,Nt),mt(Nt),e("remove-tag",dt.value)}je.stopPropagation(),xr()},Ir=je=>{je.stopPropagation();const dt=t.multiple?[]:void 0;if(t.multiple)for(const at of o.selected)at.isDisabled&&dt.push(at.value);e(Li,dt),mt(dt),o.hoveringIndex=-1,L.value=!1,e("clear"),xr()},ot=je=>{if(t.multiple){const dt=(t.modelValue||[]).slice(),at=_e(dt,je.value);at>-1?dt.splice(at,1):(t.multipleLimit<=0||dt.length<t.multipleLimit)&&dt.push(je.value),e(Li,dt),mt(dt),je.created&&yt(""),t.filterable&&!t.reserveKeyword&&(o.inputValue="")}else e(Li,je.value),mt(je.value),L.value=!1;xr(),!L.value&&Hr(()=>{ze(je)})},_e=(je=[],dt)=>{if(!En(dt))return je.indexOf(dt);const at=t.valueKey;let Nt=-1;return je.some((jt,zt)=>Hn(Yl(jt,at))===Yl(dt,at)?(Nt=zt,!0):!1),Nt},ze=je=>{var dt,at,Nt,jt,zt;const Xt=cr(je)?je[0]:je;let Er=null;if(Xt!=null&&Xt.value){const or=qe.value.filter(we=>we.value===Xt.value);or.length>0&&(Er=or[0].$el)}if(u.value&&Er){const or=(jt=(Nt=(at=(dt=u.value)==null?void 0:dt.popperRef)==null?void 0:at.contentRef)==null?void 0:Nt.querySelector)==null?void 0:jt.call(Nt,`.${i.be("dropdown","wrap")}`);or&&pq(or,Er)}(zt=T.value)==null||zt.handleScroll()},ke=je=>{o.options.set(je.value,je),o.cachedOptions.set(je.value,je),je.disabled&&o.disabledOptions.set(je.value,je)},me=(je,dt)=>{o.options.get(je)===dt&&o.options.delete(je)},{handleCompositionStart:De,handleCompositionUpdate:Ae,handleCompositionEnd:Le}=mEe(je=>tt(je)),rr=pe(()=>{var je,dt;return(dt=(je=u.value)==null?void 0:je.popperRef)==null?void 0:dt.contentRef}),c=()=>{Hr(()=>ze(o.selected))},xr=()=>{var je;(je=f.value)==null||je.focus()},Yr=()=>{w()},fe=je=>{Ir(je)},w=je=>{if(L.value=!1,C.value){const dt=new FocusEvent("focus",je);Hr(()=>D(dt))}},k=()=>{o.inputValue.length>0?o.inputValue="":L.value=!1},B=()=>{X.value||(o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:L.value=!L.value)},ce=()=>{L.value?qe.value[o.hoveringIndex]&&ot(qe.value[o.hoveringIndex]):B()},ve=je=>En(je.value)?Yl(je.value,t.valueKey):je.value,ue=pe(()=>qe.value.filter(je=>je.visible).every(je=>je.disabled)),Ie=pe(()=>t.multiple?t.collapseTags?o.selected.slice(0,t.maxCollapseTags):o.selected:[]),Me=pe(()=>t.multiple?t.collapseTags?o.selected.slice(t.maxCollapseTags):[]:[]),Se=je=>{if(!L.value){L.value=!0;return}if(!(o.options.size===0||xe.value===0)&&!ue.value){je==="next"?(o.hoveringIndex++,o.hoveringIndex===o.options.size&&(o.hoveringIndex=0)):je==="prev"&&(o.hoveringIndex--,o.hoveringIndex<0&&(o.hoveringIndex=o.options.size-1));const dt=qe.value[o.hoveringIndex];(dt.disabled===!0||dt.states.groupDisabled===!0||!dt.visible)&&Se(je),Hr(()=>ze(j.value))}},Be=()=>{if(!l.value)return 0;const je=window.getComputedStyle(l.value);return Number.parseFloat(je.gap||"6px")},it=pe(()=>{const je=Be();return{maxWidth:`${S.value&&t.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-je:o.selectionWidth}px`}}),ut=pe(()=>({maxWidth:`${o.selectionWidth}px`})),ht=pe(()=>({width:`${Math.max(o.calculatorWidth,gEe)}px`}));return t.multiple&&!cr(t.modelValue)&&e(Li,[]),!t.multiple&&cr(t.modelValue)&&e(Li,""),Fo(l,ct),Fo(h,Ot),Fo(v,_t),Fo(E,_t),Fo(b,Mt),Fo(S,Dt),Un(()=>{Oe()}),{inputId:q,contentId:n,nsSelect:i,nsInput:s,states:o,isFocused:C,expanded:L,optionsArray:qe,hoverOption:j,selectSize:Re,filteredOptionsCount:xe,resetCalculatorWidth:Ot,updateTooltip:_t,updateTagTooltip:Mt,debouncedOnInputChange:Zt,onInput:tt,deletePrevTag:mr,deleteTag:Bt,deleteSelected:Ir,handleOptionSelect:ot,scrollToOption:ze,hasModelValue:$,shouldShowPlaceholder:pt,currentPlaceholder:Ut,showClose:V,iconComponent:Y,iconReverse:ee,validateState:ae,validateIcon:H,showNewOption:Je,updateOptions:lt,collapseTagSize:wt,setSelected:Oe,selectDisabled:X,emptyText:ie,handleCompositionStart:De,handleCompositionUpdate:Ae,handleCompositionEnd:Le,onOptionCreate:ke,onOptionDestroy:me,handleMenuEnter:c,handleFocus:P,focus:xr,blur:Yr,handleBlur:D,handleClearClick:fe,handleClickOutside:w,handleEsc:k,toggleMenu:B,selectOption:ce,getValueKey:ve,navigateOptions:Se,dropdownMenuVisible:vt,showTagList:Ie,collapseTagList:Me,tagStyle:it,collapseTagStyle:ut,inputStyle:ht,popperRef:rr,inputRef:f,tooltipRef:u,tagTooltipRef:d,calculatorRef:h,prefixRef:g,suffixRef:p,selectRef:a,wrapperRef:E,selectionRef:l,scrollbarRef:T,menuRef:v,tagMenuRef:b,collapseItemRef:S}};var _Ee=rt({name:"ElOptions",setup(t,{slots:e}){const r=Mr(OE);let n=[];return()=>{var i,s;const o=(i=e.default)==null?void 0:i.call(e),a=[];function l(u){cr(u)&&u.forEach(d=>{var f,h,g,p;const v=(f=(d==null?void 0:d.type)||{})==null?void 0:f.name;v==="ElOptionGroup"?l(!on(d.children)&&!cr(d.children)&&Fr((h=d.children)==null?void 0:h.default)?(g=d.children)==null?void 0:g.default():d.children):v==="ElOption"?a.push((p=d.props)==null?void 0:p.value):cr(d.children)&&l(d.children)})}return o.length&&l((s=o[0])==null?void 0:s.children),bl(a,n)||(n=a,r&&(r.states.optionValues=a)),o}}});const yEe=Or({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:vd,effect:{type:Vt(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Vt(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:IE.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Ys,default:Rv},fitInputWidth:Boolean,suffixIcon:{type:Ys,default:Xb},tagType:{...KM.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:Vt(String),values:wE,default:"bottom-start"},fallbackPlacements:{type:Vt(Array),default:["bottom-start","top-start","right","left"]},ariaLabel:{type:String,default:void 0}}),gN="ElSelect",bEe=rt({name:gN,componentName:gN,components:{ElInput:as,ElSelectMenu:pEe,ElOption:r8,ElOptions:_Ee,ElTag:xk,ElScrollbar:am,ElTooltip:Uh,ElIcon:Dr},directives:{ClickOutside:N0},props:yEe,emits:[Li,vf,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const r=vEe(t,e);return _i(OE,vn({props:t,states:r.states,optionsArray:r.optionsArray,handleOptionSelect:r.handleOptionSelect,onOptionCreate:r.onOptionCreate,onOptionDestroy:r.onOptionDestroy,selectRef:r.selectRef,setSelected:r.setSelected})),{...r}}}),xEe=["id","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],wEe=["textContent"];function SEe(t,e,r,n,i,s){const o=qn("el-tag"),a=qn("el-tooltip"),l=qn("el-icon"),u=qn("el-option"),d=qn("el-options"),f=qn("el-scrollbar"),h=qn("el-select-menu"),g=oM("click-outside");return xn((he(),Ue("div",{ref:"selectRef",class:Ee([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:e[16]||(e[16]=p=>t.states.inputHovering=!0),onMouseleave:e[17]||(e[17]=p=>t.states.inputHovering=!1),onClick:e[18]||(e[18]=yn((...p)=>t.toggleMenu&&t.toggleMenu(...p),["prevent","stop"]))},[N(a,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[15]||(e[15]=p=>t.states.isBeforeHide=!1)},{default:ne(()=>{var p;return[He("div",{ref:"wrapperRef",class:Ee([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(he(),Ue("div",{key:0,ref:"prefixRef",class:Ee(t.nsSelect.e("prefix"))},[Yt(t.$slots,"prefix")],2)):xt("v-if",!0),He("div",{ref:"selectionRef",class:Ee([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?Yt(t.$slots,"tag",{key:0},()=>[(he(!0),Ue(Ar,null,xi(t.showTagList,v=>(he(),Ue("div",{key:t.getValueKey(v),class:Ee(t.nsSelect.e("selected-item"))},[N(o,{closable:!t.selectDisabled&&!v.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:sn(t.tagStyle),onClose:b=>t.deleteTag(b,v)},{default:ne(()=>[He("span",{class:Ee(t.nsSelect.e("tags-text"))},hr(v.currentLabel),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(he(),At(a,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:ne(()=>[He("div",{ref:"collapseItemRef",class:Ee(t.nsSelect.e("selected-item"))},[N(o,{closable:!1,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:sn(t.collapseTagStyle)},{default:ne(()=>[He("span",{class:Ee(t.nsSelect.e("tags-text"))}," + "+hr(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:ne(()=>[He("div",{ref:"tagMenuRef",class:Ee(t.nsSelect.e("selection"))},[(he(!0),Ue(Ar,null,xi(t.collapseTagList,v=>(he(),Ue("div",{key:t.getValueKey(v),class:Ee(t.nsSelect.e("selected-item"))},[N(o,{class:"in-tooltip",closable:!t.selectDisabled&&!v.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",onClose:b=>t.deleteTag(b,v)},{default:ne(()=>[He("span",{class:Ee(t.nsSelect.e("tags-text"))},hr(v.currentLabel),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):xt("v-if",!0)]):xt("v-if",!0),t.selectDisabled?xt("v-if",!0):(he(),Ue("div",{key:1,class:Ee([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[xn(He("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=v=>t.states.inputValue=v),type:"text",class:Ee([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:sn(t.inputStyle),role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((p=t.hoverOption)==null?void 0:p.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e[1]||(e[1]=(...v)=>t.handleFocus&&t.handleFocus(...v)),onBlur:e[2]||(e[2]=(...v)=>t.handleBlur&&t.handleBlur(...v)),onKeydown:[e[3]||(e[3]=Zi(yn(v=>t.navigateOptions("next"),["stop","prevent"]),["down"])),e[4]||(e[4]=Zi(yn(v=>t.navigateOptions("prev"),["stop","prevent"]),["up"])),e[5]||(e[5]=Zi(yn((...v)=>t.handleEsc&&t.handleEsc(...v),["stop","prevent"]),["esc"])),e[6]||(e[6]=Zi(yn((...v)=>t.selectOption&&t.selectOption(...v),["stop","prevent"]),["enter"])),e[7]||(e[7]=Zi(yn((...v)=>t.deletePrevTag&&t.deletePrevTag(...v),["stop"]),["delete"]))],onCompositionstart:e[8]||(e[8]=(...v)=>t.handleCompositionStart&&t.handleCompositionStart(...v)),onCompositionupdate:e[9]||(e[9]=(...v)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...v)),onCompositionend:e[10]||(e[10]=(...v)=>t.handleCompositionEnd&&t.handleCompositionEnd(...v)),onInput:e[11]||(e[11]=(...v)=>t.onInput&&t.onInput(...v)),onClick:e[12]||(e[12]=yn((...v)=>t.toggleMenu&&t.toggleMenu(...v),["stop"]))},null,46,xEe),[[_W,t.states.inputValue]]),t.filterable?(he(),Ue("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Ee(t.nsSelect.e("input-calculator")),textContent:hr(t.states.inputValue)},null,10,wEe)):xt("v-if",!0)],2)),t.shouldShowPlaceholder?(he(),Ue("div",{key:2,class:Ee([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[He("span",null,hr(t.currentPlaceholder),1)],2)):xt("v-if",!0)],2),He("div",{ref:"suffixRef",class:Ee(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(he(),At(l,{key:0,class:Ee([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:ne(()=>[(he(),At(vi(t.iconComponent)))]),_:1},8,["class"])):xt("v-if",!0),t.showClose&&t.clearIcon?(he(),At(l,{key:1,class:Ee([t.nsSelect.e("caret"),t.nsSelect.e("icon")]),onClick:t.handleClearClick},{default:ne(()=>[(he(),At(vi(t.clearIcon)))]),_:1},8,["class","onClick"])):xt("v-if",!0),t.validateState&&t.validateIcon?(he(),At(l,{key:2,class:Ee([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:ne(()=>[(he(),At(vi(t.validateIcon)))]),_:1},8,["class"])):xt("v-if",!0)],2)],2)]}),content:ne(()=>[N(h,{ref:"menuRef"},{default:ne(()=>[t.$slots.header?(he(),Ue("div",{key:0,class:Ee(t.nsSelect.be("dropdown","header")),onClick:e[13]||(e[13]=yn(()=>{},["stop"]))},[Yt(t.$slots,"header")],2)):xt("v-if",!0),xn(N(f,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:Ee([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:ne(()=>[t.showNewOption?(he(),At(u,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):xt("v-if",!0),N(d,null,{default:ne(()=>[Yt(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[Ci,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(he(),Ue("div",{key:1,class:Ee(t.nsSelect.be("dropdown","loading"))},[Yt(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(he(),Ue("div",{key:2,class:Ee(t.nsSelect.be("dropdown","empty"))},[Yt(t.$slots,"empty",{},()=>[He("span",null,hr(t.emptyText),1)])],2)):xt("v-if",!0),t.$slots.footer?(he(),Ue("div",{key:3,class:Ee(t.nsSelect.be("dropdown","footer")),onClick:e[14]||(e[14]=yn(()=>{},["stop"]))},[Yt(t.$slots,"footer")],2)):xt("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow"])],34)),[[g,t.handleClickOutside,t.popperRef]])}var TEe=kr(bEe,[["render",SEe],["__file","select.vue"]]);const EEe=rt({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=sr("select"),r=ye(null),n=kn(),i=ye([]);_i(vY,vn({...gd(t)}));const s=pe(()=>i.value.some(l=>l.visible===!0)),o=l=>{const u=[];return cr(l.children)&&l.children.forEach(d=>{var f,h;d.type&&d.type.name==="ElOption"&&d.component&&d.component.proxy?u.push(d.component.proxy):(f=d.children)!=null&&f.length?u.push(...o(d)):(h=d.component)!=null&&h.subTree&&u.push(...o(d.component.subTree))}),u},a=()=>{i.value=o(n.subTree)};return Un(()=>{a()}),jce(r,a,{attributes:!0,subtree:!0,childList:!0}),{groupRef:r,visible:s,ns:e}}});function CEe(t,e,r,n,i,s){return xn((he(),Ue("ul",{ref:"groupRef",class:Ee(t.ns.be("group","wrap"))},[He("li",{class:Ee(t.ns.be("group","title"))},hr(t.label),3),He("li",null,[He("ul",{class:Ee(t.ns.b("group"))},[Yt(t.$slots,"default")],2)])],2)),[[Ci,t.visible]])}var _Y=kr(EEe,[["render",CEe],["__file","option-group.vue"]]);const Fv=$i(TEe,{Option:r8,OptionGroup:_Y}),Vu=ko(r8);ko(_Y);const n8=()=>Mr(gY,{}),AEe=Or({pageSize:{type:Number,required:!0},pageSizes:{type:Vt(Array),default:()=>xo([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Jh}}),PEe=rt({name:"ElPaginationSizes"}),kEe=rt({...PEe,props:AEe,emits:["page-size-change"],setup(t,{emit:e}){const r=t,{t:n}=Ti(),i=sr("pagination"),s=n8(),o=ye(r.pageSize);Gt(()=>r.pageSizes,(u,d)=>{if(!bl(u,d)&&Array.isArray(u)){const f=u.includes(r.pageSize)?r.pageSize:r.pageSizes[0];e("page-size-change",f)}}),Gt(()=>r.pageSize,u=>{o.value=u});const a=pe(()=>r.pageSizes);function l(u){var d;u!==o.value&&(o.value=u,(d=s.handleSizeChange)==null||d.call(s,Number(u)))}return(u,d)=>(he(),Ue("span",{class:Ee(y(i).e("sizes"))},[N(y(Fv),{"model-value":o.value,disabled:u.disabled,"popper-class":u.popperClass,size:u.size,teleported:u.teleported,"validate-event":!1,onChange:l},{default:ne(()=>[(he(!0),Ue(Ar,null,xi(y(a),f=>(he(),At(y(Vu),{key:f,value:f,label:f+y(n)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var IEe=kr(kEe,[["__file","sizes.vue"]]);const OEe=Or({size:{type:String,values:Jh}}),DEe=["disabled"],MEe=rt({name:"ElPaginationJumper"}),REe=rt({...MEe,props:OEe,setup(t){const{t:e}=Ti(),r=sr("pagination"),{pageCount:n,disabled:i,currentPage:s,changeEvent:o}=n8(),a=ye(),l=pe(()=>{var f;return(f=a.value)!=null?f:s==null?void 0:s.value});function u(f){a.value=f?+f:""}function d(f){f=Math.trunc(+f),o==null||o(f),a.value=void 0}return(f,h)=>(he(),Ue("span",{class:Ee(y(r).e("jump")),disabled:y(i)},[He("span",{class:Ee([y(r).e("goto")])},hr(y(e)("el.pagination.goto")),3),N(y(as),{size:f.size,class:Ee([y(r).e("editor"),y(r).is("in-pagination")]),min:1,max:y(n),disabled:y(i),"model-value":y(l),"validate-event":!1,label:y(e)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:d},null,8,["size","class","max","disabled","model-value","label"]),He("span",{class:Ee([y(r).e("classifier")])},hr(y(e)("el.pagination.pageClassifier")),3)],10,DEe))}});var $Ee=kr(REe,[["__file","jumper.vue"]]);const LEe=Or({total:{type:Number,default:1e3}}),FEe=["disabled"],NEe=rt({name:"ElPaginationTotal"}),BEe=rt({...NEe,props:LEe,setup(t){const{t:e}=Ti(),r=sr("pagination"),{disabled:n}=n8();return(i,s)=>(he(),Ue("span",{class:Ee(y(r).e("total")),disabled:y(n)},hr(y(e)("el.pagination.total",{total:i.total})),11,FEe))}});var UEe=kr(BEe,[["__file","total.vue"]]);const VEe=Or({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),zEe=["onKeyup"],jEe=["aria-current","aria-label","tabindex"],HEe=["tabindex","aria-label"],GEe=["aria-current","aria-label","tabindex"],WEe=["tabindex","aria-label"],qEe=["aria-current","aria-label","tabindex"],XEe=rt({name:"ElPaginationPager"}),YEe=rt({...XEe,props:VEe,emits:["change"],setup(t,{emit:e}){const r=t,n=sr("pager"),i=sr("icon"),{t:s}=Ti(),o=ye(!1),a=ye(!1),l=ye(!1),u=ye(!1),d=ye(!1),f=ye(!1),h=pe(()=>{const C=r.pagerCount,P=(C-1)/2,D=Number(r.currentPage),L=Number(r.pageCount);let j=!1,te=!1;L>C&&(D>C-P&&(j=!0),D<L-P&&(te=!0));const se=[];if(j&&!te){const q=L-(C-2);for(let X=q;X<L;X++)se.push(X)}else if(!j&&te)for(let q=2;q<C;q++)se.push(q);else if(j&&te){const q=Math.floor(C/2)-1;for(let X=D-q;X<=D+q;X++)se.push(X)}else for(let q=2;q<L;q++)se.push(q);return se}),g=pe(()=>["more","btn-quickprev",i.b(),n.is("disabled",r.disabled)]),p=pe(()=>["more","btn-quicknext",i.b(),n.is("disabled",r.disabled)]),v=pe(()=>r.disabled?-1:0);qu(()=>{const C=(r.pagerCount-1)/2;o.value=!1,a.value=!1,r.pageCount>r.pagerCount&&(r.currentPage>r.pagerCount-C&&(o.value=!0),r.currentPage<r.pageCount-C&&(a.value=!0))});function b(C=!1){r.disabled||(C?l.value=!0:u.value=!0)}function S(C=!1){C?d.value=!0:f.value=!0}function T(C){const P=C.target;if(P.tagName.toLowerCase()==="li"&&Array.from(P.classList).includes("number")){const D=Number(P.textContent);D!==r.currentPage&&e("change",D)}else P.tagName.toLowerCase()==="li"&&Array.from(P.classList).includes("more")&&E(C)}function E(C){const P=C.target;if(P.tagName.toLowerCase()==="ul"||r.disabled)return;let D=Number(P.textContent);const L=r.pageCount,j=r.currentPage,te=r.pagerCount-2;P.className.includes("more")&&(P.className.includes("quickprev")?D=j-te:P.className.includes("quicknext")&&(D=j+te)),Number.isNaN(+D)||(D<1&&(D=1),D>L&&(D=L)),D!==j&&e("change",D)}return(C,P)=>(he(),Ue("ul",{class:Ee(y(n).b()),onClick:E,onKeyup:Zi(T,["enter"])},[C.pageCount>0?(he(),Ue("li",{key:0,class:Ee([[y(n).is("active",C.currentPage===1),y(n).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===1,"aria-label":y(s)("el.pagination.currentPage",{pager:1}),tabindex:y(v)}," 1 ",10,jEe)):xt("v-if",!0),o.value?(he(),Ue("li",{key:1,class:Ee(y(g)),tabindex:y(v),"aria-label":y(s)("el.pagination.prevPages",{pager:C.pagerCount-2}),onMouseenter:P[0]||(P[0]=D=>b(!0)),onMouseleave:P[1]||(P[1]=D=>l.value=!1),onFocus:P[2]||(P[2]=D=>S(!0)),onBlur:P[3]||(P[3]=D=>d.value=!1)},[(l.value||d.value)&&!C.disabled?(he(),At(y(Bg),{key:0})):(he(),At(y(mF),{key:1}))],42,HEe)):xt("v-if",!0),(he(!0),Ue(Ar,null,xi(y(h),D=>(he(),Ue("li",{key:D,class:Ee([[y(n).is("active",C.currentPage===D),y(n).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===D,"aria-label":y(s)("el.pagination.currentPage",{pager:D}),tabindex:y(v)},hr(D),11,GEe))),128)),a.value?(he(),Ue("li",{key:2,class:Ee(y(p)),tabindex:y(v),"aria-label":y(s)("el.pagination.nextPages",{pager:C.pagerCount-2}),onMouseenter:P[4]||(P[4]=D=>b()),onMouseleave:P[5]||(P[5]=D=>u.value=!1),onFocus:P[6]||(P[6]=D=>S()),onBlur:P[7]||(P[7]=D=>f.value=!1)},[(u.value||f.value)&&!C.disabled?(he(),At(y(Ug),{key:0})):(he(),At(y(mF),{key:1}))],42,WEe)):xt("v-if",!0),C.pageCount>1?(he(),Ue("li",{key:3,class:Ee([[y(n).is("active",C.currentPage===C.pageCount),y(n).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===C.pageCount,"aria-label":y(s)("el.pagination.currentPage",{pager:C.pageCount}),tabindex:y(v)},hr(C.pageCount),11,qEe)):xt("v-if",!0)],42,zEe))}});var KEe=kr(YEe,[["__file","pager.vue"]]);const ua=t=>typeof t!="number",ZEe=Or({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>Yn(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Vt(Array),default:()=>xo([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Ys,default:()=>L0},nextText:{type:String,default:""},nextIcon:{type:Ys,default:()=>ou},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),QEe={"update:current-page":t=>Yn(t),"update:page-size":t=>Yn(t),"size-change":t=>Yn(t),change:(t,e)=>Yn(t)&&Yn(e),"current-change":t=>Yn(t),"prev-click":t=>Yn(t),"next-click":t=>Yn(t)},vN="ElPagination";var JEe=rt({name:vN,props:ZEe,emits:QEe,setup(t,{emit:e,slots:r}){const{t:n}=Ti(),i=sr("pagination"),s=kn().vnode.props||{},o="onUpdate:currentPage"in s||"onUpdate:current-page"in s||"onCurrentChange"in s,a="onUpdate:pageSize"in s||"onUpdate:page-size"in s||"onSizeChange"in s,l=pe(()=>{if(ua(t.total)&&ua(t.pageCount)||!ua(t.currentPage)&&!o)return!1;if(t.layout.includes("sizes")){if(ua(t.pageCount)){if(!ua(t.total)&&!ua(t.pageSize)&&!a)return!1}else if(!a)return!1}return!0}),u=ye(ua(t.defaultPageSize)?10:t.defaultPageSize),d=ye(ua(t.defaultCurrentPage)?1:t.defaultCurrentPage),f=pe({get(){return ua(t.pageSize)?u.value:t.pageSize},set(E){ua(t.pageSize)&&(u.value=E),a&&(e("update:page-size",E),e("size-change",E))}}),h=pe(()=>{let E=0;return ua(t.pageCount)?ua(t.total)||(E=Math.max(1,Math.ceil(t.total/f.value))):E=t.pageCount,E}),g=pe({get(){return ua(t.currentPage)?d.value:t.currentPage},set(E){let C=E;E<1?C=1:E>h.value&&(C=h.value),ua(t.currentPage)&&(d.value=C),o&&(e("update:current-page",C),e("current-change",C))}});Gt(h,E=>{g.value>E&&(g.value=E)}),Gt([g,f],E=>{e("change",...E)},{flush:"post"});function p(E){g.value=E}function v(E){f.value=E;const C=h.value;g.value>C&&(g.value=C)}function b(){t.disabled||(g.value-=1,e("prev-click",g.value))}function S(){t.disabled||(g.value+=1,e("next-click",g.value))}function T(E,C){E&&(E.props||(E.props={}),E.props.class=[E.props.class,C].join(" "))}return _i(gY,{pageCount:h,disabled:pe(()=>t.disabled),currentPage:g,changeEvent:p,handleSizeChange:v}),()=>{var E,C;if(!l.value)return n("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&h.value<=1)return null;const P=[],D=[],L=Tr("div",{class:i.e("rightwrapper")},D),j={prev:Tr(tEe,{disabled:t.disabled,currentPage:g.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:b}),jumper:Tr($Ee,{size:t.small?"small":"default"}),pager:Tr(KEe,{currentPage:g.value,pageCount:h.value,pagerCount:t.pagerCount,onChange:p,disabled:t.disabled}),next:Tr(aEe,{disabled:t.disabled,currentPage:g.value,pageCount:h.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:S}),sizes:Tr(IEe,{pageSize:f.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:t.small?"small":"default"}),slot:(C=(E=r==null?void 0:r.default)==null?void 0:E.call(r))!=null?C:null,total:Tr(UEe,{total:ua(t.total)?0:t.total})},te=t.layout.split(",").map(q=>q.trim());let se=!1;return te.forEach(q=>{if(q==="->"){se=!0;return}se?D.push(j[q]):P.push(j[q])}),T(P[0],i.is("first")),T(P[P.length-1],i.is("last")),se&&D.length>0&&(T(D[0],i.is("first")),T(D[D.length-1],i.is("last")),P.push(L)),Tr("div",{class:[i.b(),i.is("background",t.background),{[i.m("small")]:t.small}]},P)}}});const ug=$i(JEe),eCe=Or({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Vt(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Vt([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Vt(Function),default:t=>`${t}%`}}),tCe=["aria-valuenow"],rCe={viewBox:"0 0 100 100"},nCe=["d","stroke","stroke-linecap","stroke-width"],iCe=["d","stroke","opacity","stroke-linecap","stroke-width"],sCe={key:0},oCe=rt({name:"ElProgress"}),aCe=rt({...oCe,props:eCe,setup(t){const e=t,r={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=sr("progress"),i=pe(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:T(e.percentage)})),s=pe(()=>(e.strokeWidth/e.width*100).toFixed(1)),o=pe(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(s.value)/2}`,10):0),a=pe(()=>{const E=o.value,C=e.type==="dashboard";return`
          M 50 50
          m 0 ${C?"":"-"}${E}
          a ${E} ${E} 0 1 1 0 ${C?"-":""}${E*2}
          a ${E} ${E} 0 1 1 0 ${C?"":"-"}${E*2}
          `}),l=pe(()=>2*Math.PI*o.value),u=pe(()=>e.type==="dashboard"?.75:1),d=pe(()=>`${-1*l.value*(1-u.value)/2}px`),f=pe(()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:d.value})),h=pe(()=>({strokeDasharray:`${l.value*u.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:d.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),g=pe(()=>{let E;return e.color?E=T(e.percentage):E=r[e.status]||r.default,E}),p=pe(()=>e.status==="warning"?DM:e.type==="line"?e.status==="success"?OM:Rv:e.status==="success"?bE:gf),v=pe(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),b=pe(()=>e.format(e.percentage));function S(E){const C=100/E.length;return E.map((D,L)=>on(D)?{color:D,percentage:(L+1)*C}:D).sort((D,L)=>D.percentage-L.percentage)}const T=E=>{var C;const{color:P}=e;if(Fr(P))return P(E);if(on(P))return P;{const D=S(P);for(const L of D)if(L.percentage>E)return L.color;return(C=D[D.length-1])==null?void 0:C.color}};return(E,C)=>(he(),Ue("div",{class:Ee([y(n).b(),y(n).m(E.type),y(n).is(E.status),{[y(n).m("without-text")]:!E.showText,[y(n).m("text-inside")]:E.textInside}]),role:"progressbar","aria-valuenow":E.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[E.type==="line"?(he(),Ue("div",{key:0,class:Ee(y(n).b("bar"))},[He("div",{class:Ee(y(n).be("bar","outer")),style:sn({height:`${E.strokeWidth}px`})},[He("div",{class:Ee([y(n).be("bar","inner"),{[y(n).bem("bar","inner","indeterminate")]:E.indeterminate},{[y(n).bem("bar","inner","striped")]:E.striped},{[y(n).bem("bar","inner","striped-flow")]:E.stripedFlow}]),style:sn(y(i))},[(E.showText||E.$slots.default)&&E.textInside?(he(),Ue("div",{key:0,class:Ee(y(n).be("bar","innerText"))},[Yt(E.$slots,"default",{percentage:E.percentage},()=>[He("span",null,hr(y(b)),1)])],2)):xt("v-if",!0)],6)],6)],2)):(he(),Ue("div",{key:1,class:Ee(y(n).b("circle")),style:sn({height:`${E.width}px`,width:`${E.width}px`})},[(he(),Ue("svg",rCe,[He("path",{class:Ee(y(n).be("circle","track")),d:y(a),stroke:`var(${y(n).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":E.strokeLinecap,"stroke-width":y(s),fill:"none",style:sn(y(f))},null,14,nCe),He("path",{class:Ee(y(n).be("circle","path")),d:y(a),stroke:y(g),fill:"none",opacity:E.percentage?1:0,"stroke-linecap":E.strokeLinecap,"stroke-width":y(s),style:sn(y(h))},null,14,iCe)]))],6)),(E.showText||E.$slots.default)&&!E.textInside?(he(),Ue("div",{key:2,class:Ee(y(n).e("text")),style:sn({fontSize:`${y(v)}px`})},[Yt(E.$slots,"default",{percentage:E.percentage},()=>[E.status?(he(),At(y(Dr),{key:1},{default:ne(()=>[(he(),At(vi(y(p))))]),_:1})):(he(),Ue("span",sCe,hr(y(b)),1))])],6)):xt("v-if",!0)],10,tCe))}});var lCe=kr(aCe,[["__file","progress.vue"]]);const uCe=$i(lCe),PA=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},cCe=function(t,e,r,n,i){if(!e&&!n&&(!i||Array.isArray(i)&&!i.length))return t;typeof r=="string"?r=r==="descending"?-1:1:r=r&&r<0?-1:1;const s=n?null:function(a,l){return i?(Array.isArray(i)||(i=[i]),i.map(u=>typeof u=="string"?Yl(a,u):u(a,l,t))):(e!=="$key"&&En(a)&&"$value"in a&&(a=a.$value),[En(a)?Yl(a,e):a])},o=function(a,l){if(n)return n(a.value,l.value);for(let u=0,d=a.key.length;u<d;u++){if(a.key[u]<l.key[u])return-1;if(a.key[u]>l.key[u])return 1}return 0};return t.map((a,l)=>({value:a,index:l,key:s?s(a,l):null})).sort((a,l)=>{let u=o(a,l);return u||(u=a.index-l.index),u*+r}).map(a=>a.value)},yY=function(t,e){let r=null;return t.columns.forEach(n=>{n.id===e&&(r=n)}),r},dCe=function(t,e){let r=null;for(let n=0;n<t.columns.length;n++){const i=t.columns[n];if(i.columnKey===e){r=i;break}}return r||nl("ElTable",`No column matching with column-key: ${e}`),r},_N=function(t,e,r){const n=(e.className||"").match(new RegExp(`${r}-table_[^\\s]+`,"gm"));return n?yY(t,n[0]):null},Uo=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${t[e]}`;const r=e.split(".");let n=t;for(const i of r)n=n[i];return`${n}`}else if(typeof e=="function")return e.call(null,t)},c0=function(t,e){const r={};return(t||[]).forEach((n,i)=>{r[Uo(n,e)]={row:n,index:i}}),r};function fCe(t,e){const r={};let n;for(n in t)r[n]=t[n];for(n in e)if(Nn(e,n)){const i=e[n];typeof i<"u"&&(r[n]=i)}return r}function i8(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function bY(t){return t===""||t!==void 0&&(t=i8(t),Number.isNaN(t)&&(t=80)),t}function hCe(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function pCe(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Zy(t,e,r){let n=!1;const i=t.indexOf(e),s=i!==-1,o=a=>{a==="add"?t.push(e):t.splice(i,1),n=!0,cr(e.children)&&e.children.forEach(l=>{Zy(t,l,r??!s)})};return pu(r)?r&&!s?o("add"):!r&&s&&o("remove"):o(s?"remove":"add"),n}function mCe(t,e,r="children",n="hasChildren"){const i=o=>!(Array.isArray(o)&&o.length);function s(o,a,l){e(o,a,l),a.forEach(u=>{if(u[n]){e(u,null,l+1);return}const d=u[r];i(d)||s(u,d,l+1)})}t.forEach(o=>{if(o[n]){e(o,null,0);return}const a=o[r];i(a)||s(o,a,0)})}let Hl=null;function gCe(t,e,r,n){if((Hl==null?void 0:Hl.trigger)===r)return;Hl==null||Hl();const i=n==null?void 0:n.refs.tableWrapper,s=i==null?void 0:i.dataset.prefix,o={strategy:"fixed",...t.popperOptions},a=N(Uh,{content:e,virtualTriggering:!0,virtualRef:r,appendTo:i,placement:"top",transition:"none",offset:0,hideAfter:0,...t,popperOptions:o,onHide:()=>{Hl==null||Hl()}});a.appContext={...n.appContext,...n};const l=document.createElement("div");Nh(a,l),a.component.exposed.onOpen();const u=i==null?void 0:i.querySelector(`.${s}-scrollbar__wrap`);Hl=()=>{Nh(null,l),u==null||u.removeEventListener("scroll",Hl),Hl=null},Hl.trigger=r,u==null||u.addEventListener("scroll",Hl)}function xY(t){return t.children?jme(t.children,xY):[t]}function yN(t,e){return t+e.colSpan}const wY=(t,e,r,n)=>{let i=0,s=t;const o=r.states.columns.value;if(n){const l=xY(n[t]);i=o.slice(0,o.indexOf(l[0])).reduce(yN,0),s=i+l.reduce(yN,0)-1}else i=t;let a;switch(e){case"left":s<r.states.fixedLeafColumnsLength.value&&(a="left");break;case"right":i>=o.length-r.states.rightFixedLeafColumnsLength.value&&(a="right");break;default:s<r.states.fixedLeafColumnsLength.value?a="left":i>=o.length-r.states.rightFixedLeafColumnsLength.value&&(a="right")}return a?{direction:a,start:i,after:s}:{}},s8=(t,e,r,n,i,s=0)=>{const o=[],{direction:a,start:l,after:u}=wY(e,r,n,i);if(a){const d=a==="left";o.push(`${t}-fixed-column--${a}`),d&&u+s===n.states.fixedLeafColumnsLength.value-1?o.push("is-last-column"):!d&&l-s===n.states.columns.value.length-n.states.rightFixedLeafColumnsLength.value&&o.push("is-first-column")}return o};function bN(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const o8=(t,e,r,n)=>{const{direction:i,start:s=0,after:o=0}=wY(t,e,r,n);if(!i)return;const a={},l=i==="left",u=r.states.columns.value;return l?a.left=u.slice(0,s).reduce(bN,0):a.right=u.slice(o+1).reverse().reduce(bN,0),a},qg=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function vCe(t){const e=kn(),r=ye(!1),n=ye([]);return{updateExpandRows:()=>{const l=t.data.value||[],u=t.rowKey.value;if(r.value)n.value=l.slice();else if(u){const d=c0(n.value,u);n.value=l.reduce((f,h)=>{const g=Uo(h,u);return d[g]&&f.push(h),f},[])}else n.value=[]},toggleRowExpansion:(l,u)=>{Zy(n.value,l,u)&&e.emit("expand-change",l,n.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const u=t.data.value||[],d=t.rowKey.value,f=c0(u,d);n.value=l.reduce((h,g)=>{const p=f[g];return p&&h.push(p.row),h},[])},isRowExpanded:l=>{const u=t.rowKey.value;return u?!!c0(n.value,u)[Uo(l,u)]:n.value.includes(l)},states:{expandRows:n,defaultExpandAll:r}}}function _Ce(t){const e=kn(),r=ye(null),n=ye(null),i=u=>{e.store.assertRowKey(),r.value=u,o(u)},s=()=>{r.value=null},o=u=>{const{data:d,rowKey:f}=t;let h=null;f.value&&(h=(y(d)||[]).find(g=>Uo(g,f.value)===u)),n.value=h,e.emit("current-change",n.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:s,setCurrentRowByKey:o,updateCurrentRow:u=>{const d=n.value;if(u&&u!==d){n.value=u,e.emit("current-change",n.value,d);return}!u&&d&&(n.value=null,e.emit("current-change",null,d))},updateCurrentRowData:()=>{const u=t.rowKey.value,d=t.data.value||[],f=n.value;if(!d.includes(f)&&f){if(u){const h=Uo(f,u);o(h)}else n.value=null;n.value===null&&e.emit("current-change",null,f)}else r.value&&(o(r.value),s())},states:{_currentRowKey:r,currentRow:n}}}function yCe(t){const e=ye([]),r=ye({}),n=ye(16),i=ye(!1),s=ye({}),o=ye("hasChildren"),a=ye("children"),l=kn(),u=pe(()=>{if(!t.rowKey.value)return{};const S=t.data.value||[];return f(S)}),d=pe(()=>{const S=t.rowKey.value,T=Object.keys(s.value),E={};return T.length&&T.forEach(C=>{if(s.value[C].length){const P={children:[]};s.value[C].forEach(D=>{const L=Uo(D,S);P.children.push(L),D[o.value]&&!E[L]&&(E[L]={children:[]})}),E[C]=P}}),E}),f=S=>{const T=t.rowKey.value,E={};return mCe(S,(C,P,D)=>{const L=Uo(C,T);Array.isArray(P)?E[L]={children:P.map(j=>Uo(j,T)),level:D}:i.value&&(E[L]={children:[],lazy:!0,level:D})},a.value,o.value),E},h=(S=!1,T=(E=>(E=l.store)==null?void 0:E.states.defaultExpandAll.value)())=>{var E;const C=u.value,P=d.value,D=Object.keys(C),L={};if(D.length){const j=y(r),te=[],se=(X,Q)=>{if(S)return e.value?T||e.value.includes(Q):!!(T||X!=null&&X.expanded);{const $=T||e.value&&e.value.includes(Q);return!!(X!=null&&X.expanded||$)}};D.forEach(X=>{const Q=j[X],$={...C[X]};if($.expanded=se(Q,X),$.lazy){const{loaded:V=!1,loading:Y=!1}=Q||{};$.loaded=!!V,$.loading=!!Y,te.push(X)}L[X]=$});const q=Object.keys(P);i.value&&q.length&&te.length&&q.forEach(X=>{const Q=j[X],$=P[X].children;if(te.includes(X)){if(L[X].children.length!==0)throw new Error("[ElTable]children must be an empty array.");L[X].children=$}else{const{loaded:V=!1,loading:Y=!1}=Q||{};L[X]={lazy:!0,loaded:!!V,loading:!!Y,expanded:se(Q,X),children:$,level:""}}})}r.value=L,(E=l.store)==null||E.updateTableScrollY()};Gt(()=>e.value,()=>{h(!0)}),Gt(()=>u.value,()=>{h()}),Gt(()=>d.value,()=>{h()});const g=S=>{e.value=S,h()},p=(S,T)=>{l.store.assertRowKey();const E=t.rowKey.value,C=Uo(S,E),P=C&&r.value[C];if(C&&P&&"expanded"in P){const D=P.expanded;T=typeof T>"u"?!P.expanded:T,r.value[C].expanded=T,D!==T&&l.emit("expand-change",S,T),l.store.updateTableScrollY()}},v=S=>{l.store.assertRowKey();const T=t.rowKey.value,E=Uo(S,T),C=r.value[E];i.value&&C&&"loaded"in C&&!C.loaded?b(S,E,C):p(S,void 0)},b=(S,T,E)=>{const{load:C}=l.props;C&&!r.value[T].loaded&&(r.value[T].loading=!0,C(S,E,P=>{if(!Array.isArray(P))throw new TypeError("[ElTable] data must be an array");r.value[T].loading=!1,r.value[T].loaded=!0,r.value[T].expanded=!0,P.length&&(s.value[T]=P),l.emit("expand-change",S,!0)}))};return{loadData:b,loadOrToggle:v,toggleTreeExpansion:p,updateTreeExpandKeys:g,updateTreeData:h,normalize:f,states:{expandRowKeys:e,treeData:r,indent:n,lazy:i,lazyTreeNodeMap:s,lazyColumnIdentifier:o,childrenColumnName:a}}}const bCe=(t,e)=>{const r=e.sortingColumn;return!r||typeof r.sortable=="string"?t:cCe(t,e.sortProp,e.sortOrder,r.sortMethod,r.sortBy)},Iw=t=>{const e=[];return t.forEach(r=>{r.children&&r.children.length>0?e.push.apply(e,Iw(r.children)):e.push(r)}),e};function xCe(){var t;const e=kn(),{size:r}=gd((t=e.proxy)==null?void 0:t.$props),n=ye(null),i=ye([]),s=ye([]),o=ye(!1),a=ye([]),l=ye([]),u=ye([]),d=ye([]),f=ye([]),h=ye([]),g=ye([]),p=ye([]),v=[],b=ye(0),S=ye(0),T=ye(0),E=ye(!1),C=ye([]),P=ye(!1),D=ye(!1),L=ye(null),j=ye({}),te=ye(null),se=ye(null),q=ye(null),X=ye(null),Q=ye(null);Gt(i,()=>e.state&&ee(!1),{deep:!0});const $=()=>{if(!n.value)throw new Error("[ElTable] prop row-key is required")},V=ot=>{var _e;(_e=ot.children)==null||_e.forEach(ze=>{ze.fixed=ot.fixed,V(ze)})},Y=()=>{a.value.forEach(me=>{V(me)}),d.value=a.value.filter(me=>me.fixed===!0||me.fixed==="left"),f.value=a.value.filter(me=>me.fixed==="right"),d.value.length>0&&a.value[0]&&a.value[0].type==="selection"&&!a.value[0].fixed&&(a.value[0].fixed=!0,d.value.unshift(a.value[0]));const ot=a.value.filter(me=>!me.fixed);l.value=[].concat(d.value).concat(ot).concat(f.value);const _e=Iw(ot),ze=Iw(d.value),ke=Iw(f.value);b.value=_e.length,S.value=ze.length,T.value=ke.length,u.value=[].concat(ze).concat(_e).concat(ke),o.value=d.value.length>0||f.value.length>0},ee=(ot,_e=!1)=>{ot&&Y(),_e?e.state.doLayout():e.state.debouncedUpdateLayout()},ae=ot=>C.value.includes(ot),H=()=>{E.value=!1,C.value.length&&(C.value=[],e.emit("selection-change",[]))},J=()=>{let ot;if(n.value){ot=[];const _e=c0(C.value,n.value),ze=c0(i.value,n.value);for(const ke in _e)Nn(_e,ke)&&!ze[ke]&&ot.push(_e[ke].row)}else ot=C.value.filter(_e=>!i.value.includes(_e));if(ot.length){const _e=C.value.filter(ze=>!ot.includes(ze));C.value=_e,e.emit("selection-change",_e.slice())}},ie=()=>(C.value||[]).slice(),xe=(ot,_e=void 0,ze=!0)=>{if(Zy(C.value,ot,_e)){const me=(C.value||[]).slice();ze&&e.emit("select",me,ot),e.emit("selection-change",me)}},qe=()=>{var ot,_e;const ze=D.value?!E.value:!(E.value||C.value.length);E.value=ze;let ke=!1,me=0;const De=(_e=(ot=e==null?void 0:e.store)==null?void 0:ot.states)==null?void 0:_e.rowKey.value;i.value.forEach((Ae,Le)=>{const rr=Le+me;L.value?L.value.call(null,Ae,rr)&&Zy(C.value,Ae,ze)&&(ke=!0):Zy(C.value,Ae,ze)&&(ke=!0),me+=lt(Uo(Ae,De))}),ke&&e.emit("selection-change",C.value?C.value.slice():[]),e.emit("select-all",C.value)},et=()=>{const ot=c0(C.value,n.value);i.value.forEach(_e=>{const ze=Uo(_e,n.value),ke=ot[ze];ke&&(C.value[ke.index]=_e)})},Je=()=>{var ot,_e,ze;if(((ot=i.value)==null?void 0:ot.length)===0){E.value=!1;return}let ke;n.value&&(ke=c0(C.value,n.value));const me=function(rr){return ke?!!ke[Uo(rr,n.value)]:C.value.includes(rr)};let De=!0,Ae=0,Le=0;for(let rr=0,c=(i.value||[]).length;rr<c;rr++){const xr=(ze=(_e=e==null?void 0:e.store)==null?void 0:_e.states)==null?void 0:ze.rowKey.value,Yr=rr+Le,fe=i.value[rr],w=L.value&&L.value.call(null,fe,Yr);if(me(fe))Ae++;else if(!L.value||w){De=!1;break}Le+=lt(Uo(fe,xr))}Ae===0&&(De=!1),E.value=De},lt=ot=>{var _e;if(!e||!e.store)return 0;const{treeData:ze}=e.store.states;let ke=0;const me=(_e=ze.value[ot])==null?void 0:_e.children;return me&&(ke+=me.length,me.forEach(De=>{ke+=lt(De)})),ke},Re=(ot,_e)=>{Array.isArray(ot)||(ot=[ot]);const ze={};return ot.forEach(ke=>{j.value[ke.id]=_e,ze[ke.columnKey||ke.id]=_e}),ze},wt=(ot,_e,ze)=>{se.value&&se.value!==ot&&(se.value.order=null),se.value=ot,q.value=_e,X.value=ze},vt=()=>{let ot=y(s);Object.keys(j.value).forEach(_e=>{const ze=j.value[_e];if(!ze||ze.length===0)return;const ke=yY({columns:u.value},_e);ke&&ke.filterMethod&&(ot=ot.filter(me=>ze.some(De=>ke.filterMethod.call(null,De,me,ke))))}),te.value=ot},pt=()=>{i.value=bCe(te.value,{sortingColumn:se.value,sortProp:q.value,sortOrder:X.value})},Ut=(ot=void 0)=>{ot&&ot.filter||vt(),pt()},yt=ot=>{const{tableHeaderRef:_e}=e.refs;if(!_e)return;const ze=Object.assign({},_e.filterPanels),ke=Object.keys(ze);if(ke.length)if(typeof ot=="string"&&(ot=[ot]),Array.isArray(ot)){const me=ot.map(De=>dCe({columns:u.value},De));ke.forEach(De=>{const Ae=me.find(Le=>Le.id===De);Ae&&(Ae.filteredValue=[])}),e.store.commit("filterChange",{column:me,values:[],silent:!0,multi:!0})}else ke.forEach(me=>{const De=u.value.find(Ae=>Ae.id===me);De&&(De.filteredValue=[])}),j.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},le=()=>{se.value&&(wt(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Oe,toggleRowExpansion:nt,updateExpandRows:Ke,states:ct,isRowExpanded:Ot}=vCe({data:i,rowKey:n}),{updateTreeExpandKeys:Dt,toggleTreeExpansion:_t,updateTreeData:Mt,loadOrToggle:Rt,states:tt}=yCe({data:i,rowKey:n}),{updateCurrentRowData:Zt,updateCurrentRow:mt,setCurrentRowKey:Tt,states:mr}=_Ce({data:i,rowKey:n});return{assertRowKey:$,updateColumns:Y,scheduleLayout:ee,isSelected:ae,clearSelection:H,cleanSelection:J,getSelectionRows:ie,toggleRowSelection:xe,_toggleAllSelection:qe,toggleAllSelection:null,updateSelectionByRowKey:et,updateAllSelected:Je,updateFilters:Re,updateCurrentRow:mt,updateSort:wt,execFilter:vt,execSort:pt,execQuery:Ut,clearFilter:yt,clearSort:le,toggleRowExpansion:nt,setExpandRowKeysAdapter:ot=>{Oe(ot),Dt(ot)},setCurrentRowKey:Tt,toggleRowExpansionAdapter:(ot,_e)=>{u.value.some(({type:ke})=>ke==="expand")?nt(ot,_e):_t(ot,_e)},isRowExpanded:Ot,updateExpandRows:Ke,updateCurrentRowData:Zt,loadOrToggle:Rt,updateTreeData:Mt,states:{tableSize:r,rowKey:n,data:i,_data:s,isComplex:o,_columns:a,originColumns:l,columns:u,fixedColumns:d,rightFixedColumns:f,leafColumns:h,fixedLeafColumns:g,rightFixedLeafColumns:p,updateOrderFns:v,leafColumnsLength:b,fixedLeafColumnsLength:S,rightFixedLeafColumnsLength:T,isAllSelected:E,selection:C,reserveSelection:P,selectOnIndeterminate:D,selectable:L,filters:j,filteredData:te,sortingColumn:se,sortProp:q,sortOrder:X,hoverRow:Q,...ct,...tt,...mr}}}function Ck(t,e){return t.map(r=>{var n;return r.id===e.id?e:((n=r.children)!=null&&n.length&&(r.children=Ck(r.children,e)),r)})}function Ak(t){t.forEach(e=>{var r,n;e.no=(r=e.getColumnIndex)==null?void 0:r.call(e),(n=e.children)!=null&&n.length&&Ak(e.children)}),t.sort((e,r)=>e.no-r.no)}function wCe(){const t=kn(),e=xCe();return{ns:sr("table"),...e,mutations:{setData(o,a){const l=y(o._data)!==a;o.data.value=a,o._data.value=a,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),y(o.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):l?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(o,a,l,u){const d=y(o._columns);let f=[];l?(l&&!l.children&&(l.children=[]),l.children.push(a),f=Ck(d,l)):(d.push(a),f=d),Ak(f),o._columns.value=f,o.updateOrderFns.push(u),a.type==="selection"&&(o.selectable.value=a.selectable,o.reserveSelection.value=a.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(o,a){var l;((l=a.getColumnIndex)==null?void 0:l.call(a))!==a.no&&(Ak(o._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(o,a,l,u){const d=y(o._columns)||[];if(l)l.children.splice(l.children.findIndex(h=>h.id===a.id),1),Hr(()=>{var h;((h=l.children)==null?void 0:h.length)===0&&delete l.children}),o._columns.value=Ck(d,l);else{const h=d.indexOf(a);h>-1&&(d.splice(h,1),o._columns.value=d)}const f=o.updateOrderFns.indexOf(u);f>-1&&o.updateOrderFns.splice(f,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(o,a){const{prop:l,order:u,init:d}=a;if(l){const f=y(o.columns).find(h=>h.property===l);f&&(f.order=u,t.store.updateSort(f,l,u),t.store.commit("changeSortCondition",{init:d}))}},changeSortCondition(o,a){const{sortingColumn:l,sortProp:u,sortOrder:d}=o,f=y(l),h=y(u),g=y(d);g===null&&(o.sortingColumn.value=null,o.sortProp.value=null);const p={filter:!0};t.store.execQuery(p),(!a||!(a.silent||a.init))&&t.emit("sort-change",{column:f,prop:h,order:g}),t.store.updateTableScrollY()},filterChange(o,a){const{column:l,values:u,silent:d}=a,f=t.store.updateFilters(l,u);t.store.execQuery(),d||t.emit("filter-change",f),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(o,a){t.store.toggleRowSelection(a),t.store.updateAllSelected()},setHoverRow(o,a){o.hoverRow.value=a},setCurrentRow(o,a){t.store.updateCurrentRow(a)}},commit:function(o,...a){const l=t.store.mutations;if(l[o])l[o].apply(t,[t.store.states].concat(a));else throw new Error(`Action not found: ${o}`)},updateTableScrollY:function(){Hr(()=>t.layout.updateScrollY.apply(t.layout))}}}const Qy={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function SCe(t,e){if(!t)throw new Error("Table is required.");const r=wCe();return r.toggleAllSelection=Bh(r._toggleAllSelection,10),Object.keys(Qy).forEach(n=>{SY(TY(e,n),n,r)}),TCe(r,e),r}function TCe(t,e){Object.keys(Qy).forEach(r=>{Gt(()=>TY(e,r),n=>{SY(n,r,t)})})}function SY(t,e,r){let n=t,i=Qy[e];typeof Qy[e]=="object"&&(i=i.key,n=n||Qy[e].default),r.states[i].value=n}function TY(t,e){if(e.includes(".")){const r=e.split(".");let n=t;return r.forEach(i=>{n=n[i]}),n}else return t[e]}class ECe{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ye(null),this.scrollX=ye(!1),this.scrollY=ye(!1),this.bodyWidth=ye(null),this.fixedWidth=ye(null),this.rightFixedWidth=ye(null),this.gutterWidth=0;for(const r in e)Nn(e,r)&&(Kr(this[r])?this[r].value=e[r]:this[r]=e[r]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const r=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(r!=null&&r.wrapRef)){let n=!0;const i=this.scrollY.value;return n=r.wrapRef.scrollHeight>r.wrapRef.clientHeight,this.scrollY.value=n,i!==n}return!1}setHeight(e,r="height"){if(!$n)return;const n=this.table.vnode.el;if(e=hCe(e),this.height.value=Number(e),!n&&(e||e===0))return Hr(()=>this.setHeight(e,r));typeof e=="number"?(n.style[r]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(n.style[r]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(n=>{n.isColumnGroup?e.push.apply(e,n.columns):e.push(n)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let r=e;for(;r.tagName!=="DIV";){if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}updateColumnsWidth(){if(!$n)return;const e=this.fit,r=this.table.vnode.el.clientWidth;let n=0;const i=this.getFlattenColumns(),s=i.filter(l=>typeof l.width!="number");if(i.forEach(l=>{typeof l.width=="number"&&l.realWidth&&(l.realWidth=null)}),s.length>0&&e){if(i.forEach(l=>{n+=Number(l.width||l.minWidth||80)}),n<=r){this.scrollX.value=!1;const l=r-n;if(s.length===1)s[0].realWidth=Number(s[0].minWidth||80)+l;else{const u=s.reduce((h,g)=>h+Number(g.minWidth||80),0),d=l/u;let f=0;s.forEach((h,g)=>{if(g===0)return;const p=Math.floor(Number(h.minWidth||80)*d);f+=p,h.realWidth=Number(h.minWidth||80)+p}),s[0].realWidth=Number(s[0].minWidth||80)+l-f}}else this.scrollX.value=!0,s.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(n,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),n+=l.realWidth}),this.scrollX.value=n>r,this.bodyWidth.value=n;const o=this.store.states.fixedColumns.value;if(o.length>0){let l=0;o.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.fixedWidth.value=l}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let l=0;a.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const r=this.observers.indexOf(e);r!==-1&&this.observers.splice(r,1)}notifyObservers(e){this.observers.forEach(n=>{var i,s;switch(e){case"columns":(i=n.state)==null||i.onColumnsChange(this);break;case"scrollable":(s=n.state)==null||s.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:CCe}=yu,ACe=rt({name:"ElTableFilterPanel",components:{ElCheckbox:yu,ElCheckboxGroup:CCe,ElScrollbar:am,ElTooltip:Uh,ElIcon:Dr,ArrowDown:Xb,ArrowUp:mq},directives:{ClickOutside:N0},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(t){const e=kn(),{t:r}=Ti(),n=sr("table-filter"),i=e==null?void 0:e.parent;i.filterPanels.value[t.column.id]||(i.filterPanels.value[t.column.id]=e);const s=ye(!1),o=ye(null),a=pe(()=>t.column&&t.column.filters),l=pe(()=>t.column.filterClassName?`${n.b()} ${t.column.filterClassName}`:n.b()),u=pe({get:()=>{var P;return(((P=t.column)==null?void 0:P.filteredValue)||[])[0]},set:P=>{d.value&&(typeof P<"u"&&P!==null?d.value.splice(0,1,P):d.value.splice(0,1))}}),d=pe({get(){return t.column?t.column.filteredValue||[]:[]},set(P){t.column&&t.upDataColumn("filteredValue",P)}}),f=pe(()=>t.column?t.column.filterMultiple:!0),h=P=>P.value===u.value,g=()=>{s.value=!1},p=P=>{P.stopPropagation(),s.value=!s.value},v=()=>{s.value=!1},b=()=>{E(d.value),g()},S=()=>{d.value=[],E(d.value),g()},T=P=>{u.value=P,E(typeof P<"u"&&P!==null?d.value:[]),g()},E=P=>{t.store.commit("filterChange",{column:t.column,values:P}),t.store.updateAllSelected()};Gt(s,P=>{t.column&&t.upDataColumn("filterOpened",P)},{immediate:!0});const C=pe(()=>{var P,D;return(D=(P=o.value)==null?void 0:P.popperRef)==null?void 0:D.contentRef});return{tooltipVisible:s,multiple:f,filterClassName:l,filteredValue:d,filterValue:u,filters:a,handleConfirm:b,handleReset:S,handleSelect:T,isActive:h,t:r,ns:n,showFilterPanel:p,hideFilterPanel:v,popperPaneRef:C,tooltip:o}}}),PCe={key:0},kCe=["disabled"],ICe=["label","onClick"];function OCe(t,e,r,n,i,s){const o=qn("el-checkbox"),a=qn("el-checkbox-group"),l=qn("el-scrollbar"),u=qn("arrow-up"),d=qn("arrow-down"),f=qn("el-icon"),h=qn("el-tooltip"),g=oM("click-outside");return he(),At(h,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:""},{content:ne(()=>[t.multiple?(he(),Ue("div",PCe,[He("div",{class:Ee(t.ns.e("content"))},[N(l,{"wrap-class":t.ns.e("wrap")},{default:ne(()=>[N(a,{modelValue:t.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=p=>t.filteredValue=p),class:Ee(t.ns.e("checkbox-group"))},{default:ne(()=>[(he(!0),Ue(Ar,null,xi(t.filters,p=>(he(),At(o,{key:p.value,value:p.value},{default:ne(()=>[It(hr(p.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),He("div",{class:Ee(t.ns.e("bottom"))},[He("button",{class:Ee({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...p)=>t.handleConfirm&&t.handleConfirm(...p))},hr(t.t("el.table.confirmFilter")),11,kCe),He("button",{type:"button",onClick:e[2]||(e[2]=(...p)=>t.handleReset&&t.handleReset(...p))},hr(t.t("el.table.resetFilter")),1)],2)])):(he(),Ue("ul",{key:1,class:Ee(t.ns.e("list"))},[He("li",{class:Ee([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:e[3]||(e[3]=p=>t.handleSelect(null))},hr(t.t("el.table.clearFilter")),3),(he(!0),Ue(Ar,null,xi(t.filters,p=>(he(),Ue("li",{key:p.value,class:Ee([t.ns.e("list-item"),t.ns.is("active",t.isActive(p))]),label:p.value,onClick:v=>t.handleSelect(p.value)},hr(p.text),11,ICe))),128))],2))]),default:ne(()=>[xn((he(),Ue("span",{class:Ee([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:e[4]||(e[4]=(...p)=>t.showFilterPanel&&t.showFilterPanel(...p))},[N(f,null,{default:ne(()=>[t.column.filterOpened?(he(),At(u,{key:0})):(he(),At(d,{key:1}))]),_:1})],2)),[[g,t.hideFilterPanel,t.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var DCe=kr(ACe,[["render",OCe],["__file","filter-panel.vue"]]);function EY(t){const e=kn();lE(()=>{r.value.addObserver(e)}),Un(()=>{n(r.value),i(r.value)}),Zh(()=>{n(r.value),i(r.value)}),Qh(()=>{r.value.removeObserver(e)});const r=pe(()=>{const s=t.layout;if(!s)throw new Error("Can not find table layout.");return s}),n=s=>{var o;const a=((o=t.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const l=s.getFlattenColumns(),u={};l.forEach(d=>{u[d.id]=d});for(let d=0,f=a.length;d<f;d++){const h=a[d],g=h.getAttribute("name"),p=u[g];p&&h.setAttribute("width",p.realWidth||p.width)}},i=s=>{var o,a;const l=((o=t.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let d=0,f=l.length;d<f;d++)l[d].setAttribute("width",s.scrollY.value?s.gutterWidth:"0");const u=((a=t.vnode.el)==null?void 0:a.querySelectorAll("th.gutter"))||[];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.style.width=s.scrollY.value?`${s.gutterWidth}px`:"0",h.style.display=s.scrollY.value?"":"none"}};return{tableLayout:r.value,onColumnsChange:n,onScrollableChange:i}}const bd=Symbol("ElTable");function MCe(t,e){const r=kn(),n=Mr(bd),i=v=>{v.stopPropagation()},s=(v,b)=>{!b.filters&&b.sortable?p(v,b,!1):b.filterable&&!b.sortable&&i(v),n==null||n.emit("header-click",b,v)},o=(v,b)=>{n==null||n.emit("header-contextmenu",b,v)},a=ye(null),l=ye(!1),u=ye({}),d=(v,b)=>{if($n&&!(b.children&&b.children.length>0)&&a.value&&t.border){l.value=!0;const S=n;e("set-drag-visible",!0);const E=(S==null?void 0:S.vnode.el).getBoundingClientRect().left,C=r.vnode.el.querySelector(`th.${b.id}`),P=C.getBoundingClientRect(),D=P.left-E+30;ju(C,"noclick"),u.value={startMouseLeft:v.clientX,startLeft:P.right-E,startColumnLeft:P.left-E,tableLeft:E};const L=S==null?void 0:S.refs.resizeProxy;L.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const j=se=>{const q=se.clientX-u.value.startMouseLeft,X=u.value.startLeft+q;L.style.left=`${Math.max(D,X)}px`},te=()=>{if(l.value){const{startColumnLeft:se,startLeft:q}=u.value,Q=Number.parseInt(L.style.left,10)-se;b.width=b.realWidth=Q,S==null||S.emit("header-dragend",b.width,q-se,b,v),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,a.value=null,u.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",te),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{xl(C,"noclick")},0)};document.addEventListener("mousemove",j),document.addEventListener("mouseup",te)}},f=(v,b)=>{if(b.children&&b.children.length>0)return;const S=v.target;if(!mu(S))return;const T=S==null?void 0:S.closest("th");if(!(!b||!b.resizable)&&!l.value&&t.border){const E=T.getBoundingClientRect(),C=document.body.style;E.width>12&&E.right-v.pageX<8?(C.cursor="col-resize",Zc(T,"is-sortable")&&(T.style.cursor="col-resize"),a.value=b):l.value||(C.cursor="",Zc(T,"is-sortable")&&(T.style.cursor="pointer"),a.value=null)}},h=()=>{$n&&(document.body.style.cursor="")},g=({order:v,sortOrders:b})=>{if(v==="")return b[0];const S=b.indexOf(v||null);return b[S>b.length-2?0:S+1]},p=(v,b,S)=>{var T;v.stopPropagation();const E=b.order===S?null:S||g(b),C=(T=v.target)==null?void 0:T.closest("th");if(C&&Zc(C,"noclick")){xl(C,"noclick");return}if(!b.sortable)return;const P=t.store.states;let D=P.sortProp.value,L;const j=P.sortingColumn.value;(j!==b||j===b&&j.order===null)&&(j&&(j.order=null),P.sortingColumn.value=b,D=b.property),E?L=b.order=E:L=b.order=null,P.sortProp.value=D,P.sortOrder.value=L,n==null||n.store.commit("changeSortCondition")};return{handleHeaderClick:s,handleHeaderContextMenu:o,handleMouseDown:d,handleMouseMove:f,handleMouseOut:h,handleSortClick:p,handleFilterClick:i}}function RCe(t){const e=Mr(bd),r=sr("table");return{getHeaderRowStyle:a=>{const l=e==null?void 0:e.props.headerRowStyle;return typeof l=="function"?l.call(null,{rowIndex:a}):l},getHeaderRowClass:a=>{const l=[],u=e==null?void 0:e.props.headerRowClassName;return typeof u=="string"?l.push(u):typeof u=="function"&&l.push(u.call(null,{rowIndex:a})),l.join(" ")},getHeaderCellStyle:(a,l,u,d)=>{var f;let h=(f=e==null?void 0:e.props.headerCellStyle)!=null?f:{};typeof h=="function"&&(h=h.call(null,{rowIndex:a,columnIndex:l,row:u,column:d}));const g=o8(l,d.fixed,t.store,u);return qg(g,"left"),qg(g,"right"),Object.assign({},h,g)},getHeaderCellClass:(a,l,u,d)=>{const f=s8(r.b(),l,d.fixed,t.store,u),h=[d.id,d.order,d.headerAlign,d.className,d.labelClassName,...f];d.children||h.push("is-leaf"),d.sortable&&h.push("is-sortable");const g=e==null?void 0:e.props.headerCellClassName;return typeof g=="string"?h.push(g):typeof g=="function"&&h.push(g.call(null,{rowIndex:a,columnIndex:l,row:u,column:d})),h.push(r.e("cell")),h.filter(p=>!!p).join(" ")}}}const CY=t=>{const e=[];return t.forEach(r=>{r.children?(e.push(r),e.push.apply(e,CY(r.children))):e.push(r)}),e},$Ce=t=>{let e=1;const r=(s,o)=>{if(o&&(s.level=o.level+1,e<s.level&&(e=s.level)),s.children){let a=0;s.children.forEach(l=>{r(l,s),a+=l.colSpan}),s.colSpan=a}else s.colSpan=1};t.forEach(s=>{s.level=1,r(s,void 0)});const n=[];for(let s=0;s<e;s++)n.push([]);return CY(t).forEach(s=>{s.children?(s.rowSpan=1,s.children.forEach(o=>o.isSubColumn=!0)):s.rowSpan=e-s.level+1,n[s.level-1].push(s)}),n};function LCe(t){const e=Mr(bd),r=pe(()=>$Ce(t.store.states.originColumns.value));return{isGroup:pe(()=>{const s=r.value.length>1;return s&&e&&(e.state.isGroup.value=!0),s}),toggleAllSelection:s=>{s.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:r}}var FCe=rt({name:"ElTableHeader",components:{ElCheckbox:yu},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t,{emit:e}){const r=kn(),n=Mr(bd),i=sr("table"),s=ye({}),{onColumnsChange:o,onScrollableChange:a}=EY(n);Un(async()=>{await Hr(),await Hr();const{prop:D,order:L}=t.defaultSort;n==null||n.store.commit("sort",{prop:D,order:L,init:!0})});const{handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:d,handleMouseMove:f,handleMouseOut:h,handleSortClick:g,handleFilterClick:p}=MCe(t,e),{getHeaderRowStyle:v,getHeaderRowClass:b,getHeaderCellStyle:S,getHeaderCellClass:T}=RCe(t),{isGroup:E,toggleAllSelection:C,columnRows:P}=LCe(t);return r.state={onColumnsChange:o,onScrollableChange:a},r.filterPanels=s,{ns:i,filterPanels:s,onColumnsChange:o,onScrollableChange:a,columnRows:P,getHeaderRowClass:b,getHeaderRowStyle:v,getHeaderCellClass:T,getHeaderCellStyle:S,handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:d,handleMouseMove:f,handleMouseOut:h,handleSortClick:g,handleFilterClick:p,isGroup:E,toggleAllSelection:C}},render(){const{ns:t,isGroup:e,columnRows:r,getHeaderCellStyle:n,getHeaderCellClass:i,getHeaderRowClass:s,getHeaderRowStyle:o,handleHeaderClick:a,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:d,handleSortClick:f,handleMouseOut:h,store:g,$parent:p}=this;let v=1;return Tr("thead",{class:{[t.is("group")]:e}},r.map((b,S)=>Tr("tr",{class:s(S),key:S,style:o(S)},b.map((T,E)=>(T.rowSpan>v&&(v=T.rowSpan),Tr("th",{class:i(S,E,b,T),colspan:T.colSpan,key:`${T.id}-thead`,rowspan:T.rowSpan,style:n(S,E,b,T),onClick:C=>a(C,T),onContextmenu:C=>l(C,T),onMousedown:C=>u(C,T),onMousemove:C=>d(C,T),onMouseout:h},[Tr("div",{class:["cell",T.filteredValue&&T.filteredValue.length>0?"highlight":""]},[T.renderHeader?T.renderHeader({column:T,$index:E,store:g,_self:p}):T.label,T.sortable&&Tr("span",{onClick:C=>f(C,T),class:"caret-wrapper"},[Tr("i",{onClick:C=>f(C,T,"ascending"),class:"sort-caret ascending"}),Tr("i",{onClick:C=>f(C,T,"descending"),class:"sort-caret descending"})]),T.filterable&&Tr(DCe,{store:g,placement:T.filterPlacement||"bottom-start",column:T,upDataColumn:(C,P)=>{T[C]=P}})])]))))))}});function NCe(t){const e=Mr(bd),r=ye(""),n=ye(Tr("div")),i=(p,v,b)=>{var S;const T=e,E=PA(p);let C;const P=(S=T==null?void 0:T.vnode.el)==null?void 0:S.dataset.prefix;E&&(C=_N({columns:t.store.states.columns.value},E,P),C&&(T==null||T.emit(`cell-${b}`,v,C,E,p))),T==null||T.emit(`row-${b}`,v,C,p)},s=(p,v)=>{i(p,v,"dblclick")},o=(p,v)=>{t.store.commit("setCurrentRow",v),i(p,v,"click")},a=(p,v)=>{i(p,v,"contextmenu")},l=Bh(p=>{t.store.commit("setHoverRow",p)},30),u=Bh(()=>{t.store.commit("setHoverRow",null)},30),d=p=>{const v=window.getComputedStyle(p,null),b=Number.parseInt(v.paddingLeft,10)||0,S=Number.parseInt(v.paddingRight,10)||0,T=Number.parseInt(v.paddingTop,10)||0,E=Number.parseInt(v.paddingBottom,10)||0;return{left:b,right:S,top:T,bottom:E}},f=(p,v,b)=>{let S=v.target.parentNode;for(;p>1&&(S=S==null?void 0:S.nextSibling,!(!S||S.nodeName!=="TR"));)b(S,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:s,handleClick:o,handleContextMenu:a,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(p,v,b)=>{var S;const T=e,E=PA(p),C=(S=T==null?void 0:T.vnode.el)==null?void 0:S.dataset.prefix;if(E){const ee=_N({columns:t.store.states.columns.value},E,C);E.rowSpan>1&&f(E.rowSpan,p,ju);const ae=T.hoverState={cell:E,column:ee,row:v};T==null||T.emit("cell-mouse-enter",ae.row,ae.column,ae.cell,p)}if(!b)return;const P=p.target.querySelector(".cell");if(!(Zc(P,`${C}-tooltip`)&&P.childNodes.length))return;const D=document.createRange();D.setStart(P,0),D.setEnd(P,P.childNodes.length);let L=D.getBoundingClientRect().width,j=D.getBoundingClientRect().height;L-Math.floor(L)<.001&&(L=Math.floor(L)),j-Math.floor(j)<.001&&(j=Math.floor(j));const{top:q,left:X,right:Q,bottom:$}=d(P),V=X+Q,Y=q+$;(L+V>P.offsetWidth||j+Y>P.offsetHeight||P.scrollWidth>P.offsetWidth)&&gCe(b,E.innerText||E.textContent,E,T)},handleCellMouseLeave:p=>{const v=PA(p);if(!v)return;v.rowSpan>1&&f(v.rowSpan,p,xl);const b=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",b==null?void 0:b.row,b==null?void 0:b.column,b==null?void 0:b.cell,p)},tooltipContent:r,tooltipTrigger:n}}function BCe(t){const e=Mr(bd),r=sr("table");return{getRowStyle:(u,d)=>{const f=e==null?void 0:e.props.rowStyle;return typeof f=="function"?f.call(null,{row:u,rowIndex:d}):f||null},getRowClass:(u,d)=>{const f=[r.e("row")];e!=null&&e.props.highlightCurrentRow&&u===t.store.states.currentRow.value&&f.push("current-row"),t.stripe&&d%2===1&&f.push(r.em("row","striped"));const h=e==null?void 0:e.props.rowClassName;return typeof h=="string"?f.push(h):typeof h=="function"&&f.push(h.call(null,{row:u,rowIndex:d})),f},getCellStyle:(u,d,f,h)=>{const g=e==null?void 0:e.props.cellStyle;let p=g??{};typeof g=="function"&&(p=g.call(null,{rowIndex:u,columnIndex:d,row:f,column:h}));const v=o8(d,t==null?void 0:t.fixed,t.store);return qg(v,"left"),qg(v,"right"),Object.assign({},p,v)},getCellClass:(u,d,f,h,g)=>{const p=s8(r.b(),d,t==null?void 0:t.fixed,t.store,void 0,g),v=[h.id,h.align,h.className,...p],b=e==null?void 0:e.props.cellClassName;return typeof b=="string"?v.push(b):typeof b=="function"&&v.push(b.call(null,{rowIndex:u,columnIndex:d,row:f,column:h})),v.push(r.e("cell")),v.filter(S=>!!S).join(" ")},getSpan:(u,d,f,h)=>{let g=1,p=1;const v=e==null?void 0:e.props.spanMethod;if(typeof v=="function"){const b=v({row:u,column:d,rowIndex:f,columnIndex:h});Array.isArray(b)?(g=b[0],p=b[1]):typeof b=="object"&&(g=b.rowspan,p=b.colspan)}return{rowspan:g,colspan:p}},getColspanRealWidth:(u,d,f)=>{if(d<1)return u[f].realWidth;const h=u.map(({realWidth:g,width:p})=>g||p).slice(f,f+d);return Number(h.reduce((g,p)=>Number(g)+Number(p),-1))}}}function UCe(t){const e=Mr(bd),r=sr("table"),{handleDoubleClick:n,handleClick:i,handleContextMenu:s,handleMouseEnter:o,handleMouseLeave:a,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:d,tooltipTrigger:f}=NCe(t),{getRowStyle:h,getRowClass:g,getCellStyle:p,getCellClass:v,getSpan:b,getColspanRealWidth:S}=BCe(t),T=pe(()=>t.store.states.columns.value.findIndex(({type:L})=>L==="default")),E=(L,j)=>{const te=e.props.rowKey;return te?Uo(L,te):j},C=(L,j,te,se=!1)=>{const{tooltipEffect:q,tooltipOptions:X,store:Q}=t,{indent:$,columns:V}=Q.states,Y=g(L,j);let ee=!0;return te&&(Y.push(r.em("row",`level-${te.level}`)),ee=te.display),Tr("tr",{style:[ee?null:{display:"none"},h(L,j)],class:Y,key:E(L,j),onDblclick:H=>n(H,L),onClick:H=>i(H,L),onContextmenu:H=>s(H,L),onMouseenter:()=>o(j),onMouseleave:a},V.value.map((H,J)=>{const{rowspan:ie,colspan:xe}=b(L,H,j,J);if(!ie||!xe)return null;const qe=Object.assign({},H);qe.realWidth=S(V.value,xe,J);const et={store:t.store,_self:t.context||e,column:qe,row:L,$index:j,cellIndex:J,expanded:se};J===T.value&&te&&(et.treeNode={indent:te.level*$.value,level:te.level},typeof te.expanded=="boolean"&&(et.treeNode.expanded=te.expanded,"loading"in te&&(et.treeNode.loading=te.loading),"noLazyChildren"in te&&(et.treeNode.noLazyChildren=te.noLazyChildren)));const Je=`${j},${J}`,lt=qe.columnKey||qe.rawColumnKey||"",Re=P(J,H,et),wt=H.showOverflowTooltip&&qme({effect:q},X,H.showOverflowTooltip);return Tr("td",{style:p(j,J,L,H),class:v(j,J,L,H,xe-1),key:`${lt}${Je}`,rowspan:ie,colspan:xe,onMouseenter:vt=>l(vt,L,wt),onMouseleave:u},[Re])}))},P=(L,j,te)=>j.renderCell(te);return{wrappedRowRender:(L,j)=>{const te=t.store,{isRowExpanded:se,assertRowKey:q}=te,{treeData:X,lazyTreeNodeMap:Q,childrenColumnName:$,rowKey:V}=te.states,Y=te.states.columns.value;if(Y.some(({type:ae})=>ae==="expand")){const ae=se(L),H=C(L,j,void 0,ae),J=e.renderExpanded;return ae?J?[[H,Tr("tr",{key:`expanded-row__${H.key}`},[Tr("td",{colspan:Y.length,class:`${r.e("cell")} ${r.e("expanded-cell")}`},[J({row:L,$index:j,store:te,expanded:ae})])])]]:(console.error("[Element Error]renderExpanded is required."),H):[[H]]}else if(Object.keys(X.value).length){q();const ae=Uo(L,V.value);let H=X.value[ae],J=null;H&&(J={expanded:H.expanded,level:H.level,display:!0},typeof H.lazy=="boolean"&&(typeof H.loaded=="boolean"&&H.loaded&&(J.noLazyChildren=!(H.children&&H.children.length)),J.loading=H.loading));const ie=[C(L,j,J)];if(H){let xe=0;const qe=(Je,lt)=>{Je&&Je.length&&lt&&Je.forEach(Re=>{const wt={display:lt.display&&lt.expanded,level:lt.level+1,expanded:!1,noLazyChildren:!1,loading:!1},vt=Uo(Re,V.value);if(vt==null)throw new Error("For nested data item, row-key is required.");if(H={...X.value[vt]},H&&(wt.expanded=H.expanded,H.level=H.level||wt.level,H.display=!!(H.expanded&&wt.display),typeof H.lazy=="boolean"&&(typeof H.loaded=="boolean"&&H.loaded&&(wt.noLazyChildren=!(H.children&&H.children.length)),wt.loading=H.loading)),xe++,ie.push(C(Re,j+xe,wt)),H){const pt=Q.value[vt]||Re[$.value];qe(pt,H)}})};H.display=!0;const et=Q.value[ae]||L[$.value];qe(et,H)}return ie}else return C(L,j,void 0)},tooltipContent:d,tooltipTrigger:f}}const VCe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var zCe=rt({name:"ElTableBody",props:VCe,setup(t){const e=kn(),r=Mr(bd),n=sr("table"),{wrappedRowRender:i,tooltipContent:s,tooltipTrigger:o}=UCe(t),{onColumnsChange:a,onScrollableChange:l}=EY(r),u=[];return Gt(t.store.states.hoverRow,(d,f)=>{var h;const g=e==null?void 0:e.vnode.el,p=Array.from((g==null?void 0:g.children)||[]).filter(S=>S==null?void 0:S.classList.contains(`${n.e("row")}`));let v=d;const b=(h=p[v])==null?void 0:h.childNodes;b!=null&&b.length?Array.from(b).reduce((T,E,C)=>{var P,D;const L=((P=b[C-1])==null?void 0:P.colSpan)>1,j=((D=b[C+1])==null?void 0:D.colSpan)>1;return E.nodeName!=="TD"&&!L&&!j&&T.push(C),T},[]).forEach(T=>{for(var E;v>0;){const C=(E=p[v-1])==null?void 0:E.childNodes;if(C[T]&&C[T].nodeName==="TD"){ju(C[T],"hover-cell"),u.push(C[T]);break}v--}}):(u.forEach(S=>xl(S,"hover-cell")),u.length=0),!(!t.store.states.isComplex.value||!$n)&&tge(()=>{const S=p[f],T=p[d];S&&!S.classList.contains("hover-fixed-row")&&xl(S,"hover-row"),T&&ju(T,"hover-row")})}),Qh(()=>{var d;(d=Hl)==null||d()}),{ns:n,onColumnsChange:a,onScrollableChange:l,wrappedRowRender:i,tooltipContent:s,tooltipTrigger:o}},render(){const{wrappedRowRender:t,store:e}=this,r=e.states.data.value||[];return Tr("tbody",{tabIndex:-1},[r.reduce((n,i)=>n.concat(t(i,n.length)),[])])}});function jCe(){const t=Mr(bd),e=t==null?void 0:t.store,r=pe(()=>e.states.fixedLeafColumnsLength.value),n=pe(()=>e.states.rightFixedColumns.value.length),i=pe(()=>e.states.columns.value.length),s=pe(()=>e.states.fixedColumns.value.length),o=pe(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:r,rightFixedLeafCount:n,columnsCount:i,leftFixedCount:s,rightFixedCount:o,columns:e.states.columns}}function HCe(t){const{columns:e}=jCe(),r=sr("table");return{getCellClasses:(s,o)=>{const a=s[o],l=[r.e("cell"),a.id,a.align,a.labelClassName,...s8(r.b(),o,a.fixed,t.store)];return a.className&&l.push(a.className),a.children||l.push(r.is("leaf")),l},getCellStyles:(s,o)=>{const a=o8(o,s.fixed,t.store);return qg(a,"left"),qg(a,"right"),a},columns:e}}var GCe=rt({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:r,columns:n}=HCe(t);return{ns:sr("table"),getCellClasses:e,getCellStyles:r,columns:n}},render(){const{columns:t,getCellStyles:e,getCellClasses:r,summaryMethod:n,sumText:i}=this,s=this.store.states.data.value;let o=[];return n?o=n({columns:t,data:s}):t.forEach((a,l)=>{if(l===0){o[l]=i;return}const u=s.map(g=>Number(g[a.property])),d=[];let f=!0;u.forEach(g=>{if(!Number.isNaN(+g)){f=!1;const p=`${g}`.split(".")[1];d.push(p?p.length:0)}});const h=Math.max.apply(null,d);f?o[l]="":o[l]=u.reduce((g,p)=>{const v=Number(p);return Number.isNaN(+v)?g:Number.parseFloat((g+p).toFixed(Math.min(h,20)))},0)}),Tr(Tr("tfoot",[Tr("tr",{},[...t.map((a,l)=>Tr("td",{key:l,colspan:a.colSpan,rowspan:a.rowSpan,class:r(t,l),style:e(a,l)},[Tr("div",{class:["cell",a.labelClassName]},[o[l]])]))])]))}});function WCe(t){return{setCurrentRow:d=>{t.commit("setCurrentRow",d)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(d,f)=>{t.toggleRowSelection(d,f,!1),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:d=>{t.clearFilter(d)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(d,f)=>{t.toggleRowExpansionAdapter(d,f)},clearSort:()=>{t.clearSort()},sort:(d,f)=>{t.commit("sort",{prop:d,order:f})}}}function qCe(t,e,r,n){const i=ye(!1),s=ye(null),o=ye(!1),a=H=>{o.value=H},l=ye({width:null,height:null,headerHeight:null}),u=ye(!1),d={display:"inline-block",verticalAlign:"middle"},f=ye(),h=ye(0),g=ye(0),p=ye(0),v=ye(0),b=ye(0);qu(()=>{e.setHeight(t.height)}),qu(()=>{e.setMaxHeight(t.maxHeight)}),Gt(()=>[t.currentRowKey,r.states.rowKey],([H,J])=>{!y(J)||!y(H)||r.setCurrentRowKey(`${H}`)},{immediate:!0}),Gt(()=>t.data,H=>{n.store.commit("setData",H)},{immediate:!0,deep:!0}),qu(()=>{t.expandRowKeys&&r.setExpandRowKeysAdapter(t.expandRowKeys)});const S=()=>{n.store.commit("setHoverRow",null),n.hoverState&&(n.hoverState=null)},T=(H,J)=>{const{pixelX:ie,pixelY:xe}=J;Math.abs(ie)>=Math.abs(xe)&&(n.refs.bodyWrapper.scrollLeft+=J.pixelX/5)},E=pe(()=>t.height||t.maxHeight||r.states.fixedColumns.value.length>0||r.states.rightFixedColumns.value.length>0),C=pe(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),P=()=>{E.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(te)};Un(async()=>{await Hr(),r.updateColumns(),se(),requestAnimationFrame(P);const H=n.vnode.el,J=n.refs.headerWrapper;t.flexible&&H&&H.parentElement&&(H.parentElement.style.minWidth="0"),l.value={width:f.value=H.offsetWidth,height:H.offsetHeight,headerHeight:t.showHeader&&J?J.offsetHeight:null},r.states.columns.value.forEach(ie=>{ie.filteredValue&&ie.filteredValue.length&&n.store.commit("filterChange",{column:ie,values:ie.filteredValue,silent:!0})}),n.$ready=!0});const D=(H,J)=>{if(!H)return;const ie=Array.from(H.classList).filter(xe=>!xe.startsWith("is-scrolling-"));ie.push(e.scrollX.value?J:"is-scrolling-none"),H.className=ie.join(" ")},L=H=>{const{tableWrapper:J}=n.refs;D(J,H)},j=H=>{const{tableWrapper:J}=n.refs;return!!(J&&J.classList.contains(H))},te=function(){if(!n.refs.scrollBarRef)return;if(!e.scrollX.value){const lt="is-scrolling-none";j(lt)||L(lt);return}const H=n.refs.scrollBarRef.wrapRef;if(!H)return;const{scrollLeft:J,offsetWidth:ie,scrollWidth:xe}=H,{headerWrapper:qe,footerWrapper:et}=n.refs;qe&&(qe.scrollLeft=J),et&&(et.scrollLeft=J);const Je=xe-ie-1;J>=Je?L("is-scrolling-right"):L(J===0?"is-scrolling-left":"is-scrolling-middle")},se=()=>{n.refs.scrollBarRef&&(n.refs.scrollBarRef.wrapRef&&ks(n.refs.scrollBarRef.wrapRef,"scroll",te,{passive:!0}),t.fit?Fo(n.vnode.el,q):ks(window,"resize",q),Fo(n.refs.bodyWrapper,()=>{var H,J;q(),(J=(H=n.refs)==null?void 0:H.scrollBarRef)==null||J.update()}))},q=()=>{var H,J,ie,xe;const qe=n.vnode.el;if(!n.$ready||!qe)return;let et=!1;const{width:Je,height:lt,headerHeight:Re}=l.value,wt=f.value=qe.offsetWidth;Je!==wt&&(et=!0);const vt=qe.offsetHeight;(t.height||E.value)&&lt!==vt&&(et=!0);const pt=t.tableLayout==="fixed"?n.refs.headerWrapper:(H=n.refs.tableHeaderRef)==null?void 0:H.$el;t.showHeader&&(pt==null?void 0:pt.offsetHeight)!==Re&&(et=!0),h.value=((J=n.refs.tableWrapper)==null?void 0:J.scrollHeight)||0,p.value=(pt==null?void 0:pt.scrollHeight)||0,v.value=((ie=n.refs.footerWrapper)==null?void 0:ie.offsetHeight)||0,b.value=((xe=n.refs.appendWrapper)==null?void 0:xe.offsetHeight)||0,g.value=h.value-p.value-v.value-b.value,et&&(l.value={width:wt,height:vt,headerHeight:t.showHeader&&(pt==null?void 0:pt.offsetHeight)||0},P())},X=_u(),Q=pe(()=>{const{bodyWidth:H,scrollY:J,gutterWidth:ie}=e;return H.value?`${H.value-(J.value?ie:0)}px`:""}),$=pe(()=>t.maxHeight?"fixed":t.tableLayout),V=pe(()=>{if(t.data&&t.data.length)return null;let H="100%";t.height&&g.value&&(H=`${g.value}px`);const J=f.value;return{width:J?`${J}px`:"",height:H}}),Y=pe(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),ee=pe(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${p.value+v.value}px)`}:{maxHeight:`${t.maxHeight-p.value-v.value}px`}:{});return{isHidden:i,renderExpanded:s,setDragVisible:a,isGroup:u,handleMouseLeave:S,handleHeaderFooterMousewheel:T,tableSize:X,emptyBlockStyle:V,handleFixedMousewheel:(H,J)=>{const ie=n.refs.bodyWrapper;if(Math.abs(J.spinY)>0){const xe=ie.scrollTop;J.pixelY<0&&xe!==0&&H.preventDefault(),J.pixelY>0&&ie.scrollHeight-ie.clientHeight>xe&&H.preventDefault(),ie.scrollTop+=Math.ceil(J.pixelY/5)}else ie.scrollLeft+=Math.ceil(J.pixelX/5)},resizeProxyVisible:o,bodyWidth:Q,resizeState:l,doLayout:P,tableBodyStyles:C,tableLayout:$,scrollbarViewStyle:d,tableInnerStyle:Y,scrollbarStyle:ee}}function XCe(t){const e=ye(),r=()=>{const i=t.vnode.el.querySelector(".hidden-columns"),s={childList:!0,subtree:!0},o=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{o.forEach(a=>a())}),e.value.observe(i,s)};Un(()=>{r()}),Qh(()=>{var n;(n=e.value)==null||n.disconnect()})}var YCe={data:{type:Array,default:()=>[]},size:vd,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function AY(t){const e=t.tableLayout==="auto";let r=t.columns||[];e&&r.every(i=>i.width===void 0)&&(r=[]);const n=i=>{const s={key:`${t.tableLayout}_${i.id}`,style:{},name:void 0};return e?s.style={width:`${i.width}px`}:s.name=i.id,s};return Tr("colgroup",{},r.map(i=>Tr("col",n(i))))}AY.props=["columns","tableLayout"];const KCe=()=>{const t=ye(),e=(s,o)=>{const a=t.value;a&&a.scrollTo(s,o)},r=(s,o)=>{const a=t.value;a&&Yn(o)&&["Top","Left"].includes(s)&&a[`setScroll${s}`](o)};return{scrollBarRef:t,scrollTo:e,setScrollTop:s=>r("Top",s),setScrollLeft:s=>r("Left",s)}};let ZCe=1;const QCe=rt({name:"ElTable",directives:{Mousewheel:E1e},components:{TableHeader:FCe,TableBody:zCe,TableFooter:GCe,ElScrollbar:am,hColgroup:AY},props:YCe,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:e}=Ti(),r=sr("table"),n=kn();_i(bd,n);const i=SCe(n,t);n.store=i;const s=new ECe({store:n.store,table:n,fit:t.fit,showHeader:t.showHeader});n.layout=s;const o=pe(()=>(i.states.data.value||[]).length===0),{setCurrentRow:a,getSelectionRows:l,toggleRowSelection:u,clearSelection:d,clearFilter:f,toggleAllSelection:h,toggleRowExpansion:g,clearSort:p,sort:v}=WCe(i),{isHidden:b,renderExpanded:S,setDragVisible:T,isGroup:E,handleMouseLeave:C,handleHeaderFooterMousewheel:P,tableSize:D,emptyBlockStyle:L,handleFixedMousewheel:j,resizeProxyVisible:te,bodyWidth:se,resizeState:q,doLayout:X,tableBodyStyles:Q,tableLayout:$,scrollbarViewStyle:V,tableInnerStyle:Y,scrollbarStyle:ee}=qCe(t,s,i,n),{scrollBarRef:ae,scrollTo:H,setScrollLeft:J,setScrollTop:ie}=KCe(),xe=Bh(X,50),qe=`${r.namespace.value}-table_${ZCe++}`;n.tableId=qe,n.state={isGroup:E,resizeState:q,doLayout:X,debouncedUpdateLayout:xe};const et=pe(()=>t.sumText||e("el.table.sumText")),Je=pe(()=>t.emptyText||e("el.table.emptyText"));return XCe(n),{ns:r,layout:s,store:i,handleHeaderFooterMousewheel:P,handleMouseLeave:C,tableId:qe,tableSize:D,isHidden:b,isEmpty:o,renderExpanded:S,resizeProxyVisible:te,resizeState:q,isGroup:E,bodyWidth:se,tableBodyStyles:Q,emptyBlockStyle:L,debouncedUpdateLayout:xe,handleFixedMousewheel:j,setCurrentRow:a,getSelectionRows:l,toggleRowSelection:u,clearSelection:d,clearFilter:f,toggleAllSelection:h,toggleRowExpansion:g,clearSort:p,doLayout:X,sort:v,t:e,setDragVisible:T,context:n,computedSumText:et,computedEmptyText:Je,tableLayout:$,scrollbarViewStyle:V,tableInnerStyle:Y,scrollbarStyle:ee,scrollBarRef:ae,scrollTo:H,setScrollLeft:J,setScrollTop:ie}}}),JCe=["data-prefix"],eAe={ref:"hiddenColumns",class:"hidden-columns"};function tAe(t,e,r,n,i,s){const o=qn("hColgroup"),a=qn("table-header"),l=qn("table-body"),u=qn("table-footer"),d=qn("el-scrollbar"),f=oM("mousewheel");return he(),Ue("div",{ref:"tableWrapper",class:Ee([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:sn(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:e[0]||(e[0]=(...h)=>t.handleMouseLeave&&t.handleMouseLeave(...h))},[He("div",{class:Ee(t.ns.e("inner-wrapper")),style:sn(t.tableInnerStyle)},[He("div",eAe,[Yt(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?xn((he(),Ue("div",{key:0,ref:"headerWrapper",class:Ee(t.ns.e("header-wrapper"))},[He("table",{ref:"tableHeader",class:Ee(t.ns.e("header")),style:sn(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[N(o,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),N(a,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[f,t.handleHeaderFooterMousewheel]]):xt("v-if",!0),He("div",{ref:"bodyWrapper",class:Ee(t.ns.e("body-wrapper"))},[N(d,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn},{default:ne(()=>[He("table",{ref:"tableBody",class:Ee(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:sn({width:t.bodyWidth,tableLayout:t.tableLayout})},[N(o,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(he(),At(a,{key:0,ref:"tableHeaderRef",class:Ee(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):xt("v-if",!0),N(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(he(),At(u,{key:1,class:Ee(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):xt("v-if",!0)],6),t.isEmpty?(he(),Ue("div",{key:0,ref:"emptyBlock",style:sn(t.emptyBlockStyle),class:Ee(t.ns.e("empty-block"))},[He("span",{class:Ee(t.ns.e("empty-text"))},[Yt(t.$slots,"empty",{},()=>[It(hr(t.computedEmptyText),1)])],2)],6)):xt("v-if",!0),t.$slots.append?(he(),Ue("div",{key:1,ref:"appendWrapper",class:Ee(t.ns.e("append-wrapper"))},[Yt(t.$slots,"append")],2)):xt("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),t.showSummary&&t.tableLayout==="fixed"?xn((he(),Ue("div",{key:1,ref:"footerWrapper",class:Ee(t.ns.e("footer-wrapper"))},[He("table",{class:Ee(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:sn(t.tableBodyStyles)},[N(o,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),N(u,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Ci,!t.isEmpty],[f,t.handleHeaderFooterMousewheel]]):xt("v-if",!0),t.border||t.isGroup?(he(),Ue("div",{key:2,class:Ee(t.ns.e("border-left-patch"))},null,2)):xt("v-if",!0)],6),xn(He("div",{ref:"resizeProxy",class:Ee(t.ns.e("column-resize-proxy"))},null,2),[[Ci,t.resizeProxyVisible]])],46,JCe)}var rAe=kr(QCe,[["render",tAe],["__file","table.vue"]]);const nAe={selection:"table-column--selection",expand:"table__expand-column"},iAe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},sAe=t=>nAe[t]||"",oAe={selection:{renderHeader({store:t,column:e}){function r(){return t.states.data.value&&t.states.data.value.length===0}return Tr(yu,{disabled:r(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:r,$index:n}){return Tr(yu,{disabled:e.selectable?!e.selectable.call(null,t,n):!1,size:r.states.tableSize.value,onChange:()=>{r.commit("rowSelectedChanged",t)},onClick:i=>i.stopPropagation(),modelValue:r.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let r=e+1;const n=t.index;return typeof n=="number"?r=e+n:typeof n=="function"&&(r=n(e)),Tr("div",{},[r])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:r}){const{ns:n}=e,i=[n.e("expand-icon")];return r&&i.push(n.em("expand-icon","expanded")),Tr("div",{class:i,onClick:function(o){o.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[Tr(Dr,null,{default:()=>[Tr(ou)]})]})},sortable:!1,resizable:!1}};function aAe({row:t,column:e,$index:r}){var n;const i=e.property,s=i&&yw(t,i).value;return e&&e.formatter?e.formatter(t,e,s,r):((n=s==null?void 0:s.toString)==null?void 0:n.call(s))||""}function lAe({row:t,treeNode:e,store:r},n=!1){const{ns:i}=r;if(!e)return n?[Tr("span",{class:i.e("placeholder")})]:null;const s=[],o=function(a){a.stopPropagation(),!e.loading&&r.loadOrToggle(t)};if(e.indent&&s.push(Tr("span",{class:i.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const a=[i.e("expand-icon"),e.expanded?i.em("expand-icon","expanded"):""];let l=ou;e.loading&&(l=Yb),s.push(Tr("div",{class:a,onClick:o},{default:()=>[Tr(Dr,{class:{[i.is("loading")]:e.loading}},{default:()=>[Tr(l)]})]}))}else s.push(Tr("span",{class:i.e("placeholder")}));return s}function xN(t,e){return t.reduce((r,n)=>(r[n]=n,r),e)}function uAe(t,e){const r=kn();return{registerComplexWatchers:()=>{const s=["fixed"],o={realWidth:"width",realMinWidth:"minWidth"},a=xN(s,o);Object.keys(a).forEach(l=>{const u=o[l];Nn(e,u)&&Gt(()=>e[u],d=>{let f=d;u==="width"&&l==="realWidth"&&(f=i8(d)),u==="minWidth"&&l==="realMinWidth"&&(f=bY(d)),r.columnConfig.value[u]=f,r.columnConfig.value[l]=f;const h=u==="fixed";t.value.store.scheduleLayout(h)})})},registerNormalWatchers:()=>{const s=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},a=xN(s,o);Object.keys(a).forEach(l=>{const u=o[l];Nn(e,u)&&Gt(()=>e[u],d=>{r.columnConfig.value[l]=d})})}}}function cAe(t,e,r){const n=kn(),i=ye(""),s=ye(!1),o=ye(),a=ye(),l=sr("table");qu(()=>{o.value=t.align?`is-${t.align}`:null,o.value}),qu(()=>{a.value=t.headerAlign?`is-${t.headerAlign}`:o.value,a.value});const u=pe(()=>{let C=n.vnode.vParent||n.parent;for(;C&&!C.tableId&&!C.columnId;)C=C.vnode.vParent||C.parent;return C}),d=pe(()=>{const{store:C}=n.parent;if(!C)return!1;const{treeData:P}=C.states,D=P.value;return D&&Object.keys(D).length>0}),f=ye(i8(t.width)),h=ye(bY(t.minWidth)),g=C=>(f.value&&(C.width=f.value),h.value&&(C.minWidth=h.value),!f.value&&h.value&&(C.width=void 0),C.minWidth||(C.minWidth=80),C.realWidth=Number(C.width===void 0?C.minWidth:C.width),C),p=C=>{const P=C.type,D=oAe[P]||{};Object.keys(D).forEach(j=>{const te=D[j];j!=="className"&&te!==void 0&&(C[j]=te)});const L=sAe(P);if(L){const j=`${y(l.namespace)}-${L}`;C.className=C.className?`${C.className} ${j}`:j}return C},v=C=>{Array.isArray(C)?C.forEach(D=>P(D)):P(C);function P(D){var L;((L=D==null?void 0:D.type)==null?void 0:L.name)==="ElTableColumn"&&(D.vParent=n)}};return{columnId:i,realAlign:o,isSubColumn:s,realHeaderAlign:a,columnOrTableParent:u,setColumnWidth:g,setColumnForcedProps:p,setColumnRenders:C=>{t.renderHeader||C.type!=="selection"&&(C.renderHeader=D=>(n.columnConfig.value.label,Yt(e,"header",D,()=>[C.label])));let P=C.renderCell;return C.type==="expand"?(C.renderCell=D=>Tr("div",{class:"cell"},[P(D)]),r.value.renderExpanded=D=>e.default?e.default(D):e.default):(P=P||aAe,C.renderCell=D=>{let L=null;if(e.default){const Q=e.default(D);L=Q.some($=>$.type!==Za)?Q:P(D)}else L=P(D);const{columns:j}=r.value.store.states,te=j.value.findIndex(Q=>Q.type==="default"),se=d.value&&D.cellIndex===te,q=lAe(D,se),X={class:"cell",style:{}};return C.showOverflowTooltip&&(X.class=`${X.class} ${y(l.namespace)}-tooltip`,X.style={width:`${(D.column.realWidth||Number(D.column.width))-1}px`}),v(L),Tr("div",X,[q,L])}),C},getPropsData:(...C)=>C.reduce((P,D)=>(Array.isArray(D)&&D.forEach(L=>{P[L]=t[L]}),P),{}),getColumnElIndex:(C,P)=>Array.prototype.indexOf.call(C,P),updateColumnOrder:()=>{r.value.store.commit("updateColumnOrder",n.columnConfig.value)}}}var dAe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let fAe=1;var PY=rt({name:"ElTableColumn",components:{ElCheckbox:yu},props:dAe,setup(t,{slots:e}){const r=kn(),n=ye({}),i=pe(()=>{let E=r.parent;for(;E&&!E.tableId;)E=E.parent;return E}),{registerNormalWatchers:s,registerComplexWatchers:o}=uAe(i,t),{columnId:a,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:d,setColumnWidth:f,setColumnForcedProps:h,setColumnRenders:g,getPropsData:p,getColumnElIndex:v,realAlign:b,updateColumnOrder:S}=cAe(t,e,i),T=d.value;a.value=`${T.tableId||T.columnId}_column_${fAe++}`,lE(()=>{l.value=i.value!==T;const E=t.type||"default",C=t.sortable===""?!0:t.sortable,P=Pl(t.showOverflowTooltip)?T.props.showOverflowTooltip:t.showOverflowTooltip,D={...iAe[E],id:a.value,type:E,property:t.prop||t.property,align:b,headerAlign:u,showOverflowTooltip:P,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:C,index:t.index,rawColumnKey:r.vnode.key};let q=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);q=fCe(D,q),q=pCe(g,f,h)(q),n.value=q,s(),o()}),Un(()=>{var E;const C=d.value,P=l.value?C.vnode.el.children:(E=C.refs.hiddenColumns)==null?void 0:E.children,D=()=>v(P||[],r.vnode.el);n.value.getColumnIndex=D,D()>-1&&i.value.store.commit("insertColumn",n.value,l.value?C.columnConfig.value:null,S)}),Vs(()=>{i.value.store.commit("removeColumn",n.value,l.value?T.columnConfig.value:null,S)}),r.columnId=a.value,r.columnConfig=n},render(){var t,e,r;try{const n=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),i=[];if(Array.isArray(n))for(const o of n)((r=o.type)==null?void 0:r.name)==="ElTableColumn"||o.shapeFlag&2?i.push(o):o.type===Ar&&Array.isArray(o.children)&&o.children.forEach(a=>{(a==null?void 0:a.patchFlag)!==1024&&!on(a==null?void 0:a.children)&&i.push(a)});return Tr("div",i)}catch{return Tr("div",[])}}});const Yu=$i(rAe,{TableColumn:PY}),Wi=ko(PY),DE=Symbol("tabsRootContextKey"),hAe=Or({tabs:{type:Vt(Array),default:()=>xo([])}}),kY="ElTabBar",pAe=rt({name:kY}),mAe=rt({...pAe,props:hAe,setup(t,{expose:e}){const r=t,n=kn(),i=Mr(DE);i||nl(kY,"<el-tabs><el-tab-bar /></el-tabs>");const s=sr("tabs"),o=ye(),a=ye(),l=()=>{let d=0,f=0;const h=["top","bottom"].includes(i.props.tabPosition)?"width":"height",g=h==="width"?"x":"y",p=g==="x"?"left":"top";return r.tabs.every(v=>{var b,S;const T=(S=(b=n.parent)==null?void 0:b.refs)==null?void 0:S[`tab-${v.uid}`];if(!T)return!1;if(!v.active)return!0;d=T[`offset${zc(p)}`],f=T[`client${zc(h)}`];const E=window.getComputedStyle(T);return h==="width"&&(r.tabs.length>1&&(f-=Number.parseFloat(E.paddingLeft)+Number.parseFloat(E.paddingRight)),d+=Number.parseFloat(E.paddingLeft)),!1}),{[h]:`${f}px`,transform:`translate${zc(g)}(${d}px)`}},u=()=>a.value=l();return Gt(()=>r.tabs,async()=>{await Hr(),u()},{immediate:!0}),Fo(o,()=>u()),e({ref:o,update:u}),(d,f)=>(he(),Ue("div",{ref_key:"barRef",ref:o,class:Ee([y(s).e("active-bar"),y(s).is(y(i).props.tabPosition)]),style:sn(a.value)},null,6))}});var gAe=kr(mAe,[["__file","tab-bar.vue"]]);const vAe=Or({panes:{type:Vt(Array),default:()=>xo([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),_Ae={tabClick:(t,e,r)=>r instanceof Event,tabRemove:(t,e)=>e instanceof Event},wN="ElTabNav",yAe=rt({name:wN,props:vAe,emits:_Ae,setup(t,{expose:e,emit:r}){const n=kn(),i=Mr(DE);i||nl(wN,"<el-tabs><tab-nav /></el-tabs>");const s=sr("tabs"),o=Lce(),a=Kce(),l=ye(),u=ye(),d=ye(),f=ye(),h=ye(!1),g=ye(0),p=ye(!1),v=ye(!0),b=pe(()=>["top","bottom"].includes(i.props.tabPosition)?"width":"height"),S=pe(()=>({transform:`translate${b.value==="width"?"X":"Y"}(-${g.value}px)`})),T=()=>{if(!l.value)return;const te=l.value[`offset${zc(b.value)}`],se=g.value;if(!se)return;const q=se>te?se-te:0;g.value=q},E=()=>{if(!l.value||!u.value)return;const te=u.value[`offset${zc(b.value)}`],se=l.value[`offset${zc(b.value)}`],q=g.value;if(te-q<=se)return;const X=te-q>se*2?q+se:te-se;g.value=X},C=async()=>{const te=u.value;if(!h.value||!d.value||!l.value||!te)return;await Hr();const se=d.value.querySelector(".is-active");if(!se)return;const q=l.value,X=["top","bottom"].includes(i.props.tabPosition),Q=se.getBoundingClientRect(),$=q.getBoundingClientRect(),V=X?te.offsetWidth-$.width:te.offsetHeight-$.height,Y=g.value;let ee=Y;X?(Q.left<$.left&&(ee=Y-($.left-Q.left)),Q.right>$.right&&(ee=Y+Q.right-$.right)):(Q.top<$.top&&(ee=Y-($.top-Q.top)),Q.bottom>$.bottom&&(ee=Y+(Q.bottom-$.bottom))),ee=Math.max(ee,0),g.value=Math.min(ee,V)},P=()=>{var te;if(!u.value||!l.value)return;t.stretch&&((te=f.value)==null||te.update());const se=u.value[`offset${zc(b.value)}`],q=l.value[`offset${zc(b.value)}`],X=g.value;q<se?(h.value=h.value||{},h.value.prev=X,h.value.next=X+q<se,se-X<q&&(g.value=se-q)):(h.value=!1,X>0&&(g.value=0))},D=te=>{const se=te.code,{up:q,down:X,left:Q,right:$}=Xr;if(![q,X,Q,$].includes(se))return;const V=Array.from(te.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),Y=V.indexOf(te.target);let ee;se===Q||se===q?Y===0?ee=V.length-1:ee=Y-1:Y<V.length-1?ee=Y+1:ee=0,V[ee].focus({preventScroll:!0}),V[ee].click(),L()},L=()=>{v.value&&(p.value=!0)},j=()=>p.value=!1;return Gt(o,te=>{te==="hidden"?v.value=!1:te==="visible"&&setTimeout(()=>v.value=!0,50)}),Gt(a,te=>{te?setTimeout(()=>v.value=!0,50):v.value=!1}),Fo(d,P),Un(()=>setTimeout(()=>C(),0)),Zh(()=>P()),e({scrollToActiveTab:C,removeFocus:j}),Gt(()=>t.panes,()=>n.update(),{flush:"post",deep:!0}),()=>{const te=h.value?[N("span",{class:[s.e("nav-prev"),s.is("disabled",!h.value.prev)],onClick:T},[N(Dr,null,{default:()=>[N(L0,null,null)]})]),N("span",{class:[s.e("nav-next"),s.is("disabled",!h.value.next)],onClick:E},[N(Dr,null,{default:()=>[N(ou,null,null)]})])]:null,se=t.panes.map((q,X)=>{var Q,$,V,Y;const ee=q.uid,ae=q.props.disabled,H=($=(Q=q.props.name)!=null?Q:q.index)!=null?$:`${X}`,J=!ae&&(q.isClosable||t.editable);q.index=`${X}`;const ie=J?N(Dr,{class:"is-icon-close",onClick:et=>r("tabRemove",q,et)},{default:()=>[N(gf,null,null)]}):null,xe=((Y=(V=q.slots).label)==null?void 0:Y.call(V))||q.props.label,qe=!ae&&q.active?0:-1;return N("div",{ref:`tab-${ee}`,class:[s.e("item"),s.is(i.props.tabPosition),s.is("active",q.active),s.is("disabled",ae),s.is("closable",J),s.is("focus",p.value)],id:`tab-${H}`,key:`tab-${ee}`,"aria-controls":`pane-${H}`,role:"tab","aria-selected":q.active,tabindex:qe,onFocus:()=>L(),onBlur:()=>j(),onClick:et=>{j(),r("tabClick",q,H,et)},onKeydown:et=>{J&&(et.code===Xr.delete||et.code===Xr.backspace)&&r("tabRemove",q,et)}},[xe,ie])});return N("div",{ref:d,class:[s.e("nav-wrap"),s.is("scrollable",!!h.value),s.is(i.props.tabPosition)]},[te,N("div",{class:s.e("nav-scroll"),ref:l},[N("div",{class:[s.e("nav"),s.is(i.props.tabPosition),s.is("stretch",t.stretch&&["top","bottom"].includes(i.props.tabPosition))],ref:u,style:S.value,role:"tablist",onKeydown:D},[t.type?null:N(gAe,{ref:f,tabs:[...t.panes]},null),se])])])}}}),bAe=Or({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Vt(Function),default:()=>!0},stretch:Boolean}),kA=t=>on(t)||Yn(t),xAe={[Li]:t=>kA(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>kA(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>kA(t),tabAdd:()=>!0},wAe=rt({name:"ElTabs",props:bAe,emits:xAe,setup(t,{emit:e,slots:r,expose:n}){var i;const s=sr("tabs"),{children:o,addChild:a,removeChild:l}=Y_e(kn(),"ElTabPane"),u=ye(),d=ye((i=t.modelValue)!=null?i:"0"),f=async(v,b=!1)=>{var S,T,E;if(!(d.value===v||Pl(v)))try{await((S=t.beforeLeave)==null?void 0:S.call(t,v,d.value))!==!1&&(d.value=v,b&&(e(Li,v),e("tabChange",v)),(E=(T=u.value)==null?void 0:T.removeFocus)==null||E.call(T))}catch{}},h=(v,b,S)=>{v.props.disabled||(f(b,!0),e("tabClick",v,S))},g=(v,b)=>{v.props.disabled||Pl(v.props.name)||(b.stopPropagation(),e("edit",v.props.name,"remove"),e("tabRemove",v.props.name))},p=()=>{e("edit",void 0,"add"),e("tabAdd")};return Gt(()=>t.modelValue,v=>f(v)),Gt(d,async()=>{var v;await Hr(),(v=u.value)==null||v.scrollToActiveTab()}),_i(DE,{props:t,currentName:d,registerPane:a,unregisterPane:l}),n({currentName:d}),()=>{const v=r["add-icon"],b=t.editable||t.addable?N("span",{class:s.e("new-tab"),tabindex:"0",onClick:p,onKeydown:E=>{E.code===Xr.enter&&p()}},[v?Yt(r,"add-icon"):N(Dr,{class:s.is("icon-plus")},{default:()=>[N(_q,null,null)]})]):null,S=N("div",{class:[s.e("header"),s.is(t.tabPosition)]},[b,N(yAe,{ref:u,currentName:d.value,editable:t.editable,type:t.type,panes:o.value,stretch:t.stretch,onTabClick:h,onTabRemove:g},null)]),T=N("div",{class:s.e("content")},[Yt(r,"default")]);return N("div",{class:[s.b(),s.m(t.tabPosition),{[s.m("card")]:t.type==="card",[s.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[S,T]:[T,S]])}}}),SAe=Or({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),TAe=["id","aria-hidden","aria-labelledby"],IY="ElTabPane",EAe=rt({name:IY}),CAe=rt({...EAe,props:SAe,setup(t){const e=t,r=kn(),n=Ml(),i=Mr(DE);i||nl(IY,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=sr("tab-pane"),o=ye(),a=pe(()=>e.closable||i.props.closable),l=_L(()=>{var g;return i.currentName.value===((g=e.name)!=null?g:o.value)}),u=ye(l.value),d=pe(()=>{var g;return(g=e.name)!=null?g:o.value}),f=_L(()=>!e.lazy||u.value||l.value);Gt(l,g=>{g&&(u.value=!0)});const h=vn({uid:r.uid,slots:n,props:e,paneName:d,active:l,index:o,isClosable:a});return Un(()=>{i.registerPane(h)}),Qh(()=>{i.unregisterPane(h.uid)}),(g,p)=>y(f)?xn((he(),Ue("div",{key:0,id:`pane-${y(d)}`,class:Ee(y(s).b()),role:"tabpanel","aria-hidden":!y(l),"aria-labelledby":`tab-${y(d)}`},[Yt(g.$slots,"default")],10,TAe)),[[Ci,y(l)]]):xt("v-if",!0)}});var OY=kr(CAe,[["__file","tab-pane.vue"]]);const AAe=$i(wAe,{TabPane:OY}),PAe=ko(OY),kAe=rt({name:"ElTimeline",setup(t,{slots:e}){const r=sr("timeline");return _i("timeline",e),()=>Tr("ul",{class:[r.b()]},[Yt(e,"default")])}}),IAe=Or({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Ys},hollow:{type:Boolean,default:!1}}),OAe=rt({name:"ElTimelineItem"}),DAe=rt({...OAe,props:IAe,setup(t){const e=t,r=sr("timeline-item"),n=pe(()=>[r.e("node"),r.em("node",e.size||""),r.em("node",e.type||""),r.is("hollow",e.hollow)]);return(i,s)=>(he(),Ue("li",{class:Ee([y(r).b(),{[y(r).e("center")]:i.center}])},[He("div",{class:Ee(y(r).e("tail"))},null,2),i.$slots.dot?xt("v-if",!0):(he(),Ue("div",{key:0,class:Ee(y(n)),style:sn({backgroundColor:i.color})},[i.icon?(he(),At(y(Dr),{key:0,class:Ee(y(r).e("icon"))},{default:ne(()=>[(he(),At(vi(i.icon)))]),_:1},8,["class"])):xt("v-if",!0)],6)),i.$slots.dot?(he(),Ue("div",{key:1,class:Ee(y(r).e("dot"))},[Yt(i.$slots,"dot")],2)):xt("v-if",!0),He("div",{class:Ee(y(r).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(he(),Ue("div",{key:0,class:Ee([y(r).e("timestamp"),y(r).is("top")])},hr(i.timestamp),3)):xt("v-if",!0),He("div",{class:Ee(y(r).e("content"))},[Yt(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(he(),Ue("div",{key:1,class:Ee([y(r).e("timestamp"),y(r).is("bottom")])},hr(i.timestamp),3)):xt("v-if",!0)],2)],2))}});var DY=kr(DAe,[["__file","timeline-item.vue"]]);const MAe=$i(kAe,{TimelineItem:DY}),RAe=ko(DY),MY="left-check-change",RY="right-check-change",Ym=Or({data:{type:Vt(Array),default:()=>[]},titles:{type:Vt(Array),default:()=>[]},buttonTexts:{type:Vt(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Vt(Function)},leftDefaultChecked:{type:Vt(Array),default:()=>[]},rightDefaultChecked:{type:Vt(Array),default:()=>[]},renderContent:{type:Vt(Function)},modelValue:{type:Vt(Array),default:()=>[]},format:{type:Vt(Object),default:()=>({})},filterable:Boolean,props:{type:Vt(Object),default:()=>xo({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),Pk=(t,e)=>[t,e].every(cr)||cr(t)&&oc(e),$Ae={[vf]:(t,e,r)=>[t,r].every(cr)&&["left","right"].includes(e),[Li]:t=>cr(t),[MY]:Pk,[RY]:Pk},kk="checked-change",LAe=Or({data:Ym.data,optionRender:{type:Vt(Function)},placeholder:String,title:String,filterable:Boolean,format:Ym.format,filterMethod:Ym.filterMethod,defaultChecked:Ym.leftDefaultChecked,props:Ym.props}),FAe={[kk]:Pk},e1=t=>{const e={label:"label",key:"key",disabled:"disabled"};return pe(()=>({...e,...t.props}))},NAe=(t,e,r)=>{const n=e1(t),i=pe(()=>t.data.filter(d=>Fr(t.filterMethod)?t.filterMethod(e.query,d):String(d[n.value.label]||d[n.value.key]).toLowerCase().includes(e.query.toLowerCase()))),s=pe(()=>i.value.filter(d=>!d[n.value.disabled])),o=pe(()=>{const d=e.checked.length,f=t.data.length,{noChecked:h,hasChecked:g}=t.format;return h&&g?d>0?g.replace(/\${checked}/g,d.toString()).replace(/\${total}/g,f.toString()):h.replace(/\${total}/g,f.toString()):`${d}/${f}`}),a=pe(()=>{const d=e.checked.length;return d>0&&d<s.value.length}),l=()=>{const d=s.value.map(f=>f[n.value.key]);e.allChecked=d.length>0&&d.every(f=>e.checked.includes(f))},u=d=>{e.checked=d?s.value.map(f=>f[n.value.key]):[]};return Gt(()=>e.checked,(d,f)=>{if(l(),e.checkChangeByUser){const h=d.concat(f).filter(g=>!d.includes(g)||!f.includes(g));r(kk,d,h)}else r(kk,d),e.checkChangeByUser=!0}),Gt(s,()=>{l()}),Gt(()=>t.data,()=>{const d=[],f=i.value.map(h=>h[n.value.key]);e.checked.forEach(h=>{f.includes(h)&&d.push(h)}),e.checkChangeByUser=!1,e.checked=d}),Gt(()=>t.defaultChecked,(d,f)=>{if(f&&d.length===f.length&&d.every(p=>f.includes(p)))return;const h=[],g=s.value.map(p=>p[n.value.key]);d.forEach(p=>{g.includes(p)&&h.push(p)}),e.checkChangeByUser=!1,e.checked=h},{immediate:!0}),{filteredData:i,checkableData:s,checkedSummary:o,isIndeterminate:a,updateAllChecked:l,handleAllCheckedChange:u}},BAe=(t,e)=>({onSourceCheckedChange:(i,s)=>{t.leftChecked=i,s&&e(MY,i,s)},onTargetCheckedChange:(i,s)=>{t.rightChecked=i,s&&e(RY,i,s)}}),UAe=t=>{const e=e1(t),r=pe(()=>t.data.reduce((s,o)=>(s[o[e.value.key]]=o)&&s,{})),n=pe(()=>t.data.filter(s=>!t.modelValue.includes(s[e.value.key]))),i=pe(()=>t.targetOrder==="original"?t.data.filter(s=>t.modelValue.includes(s[e.value.key])):t.modelValue.reduce((s,o)=>{const a=r.value[o];return a&&s.push(a),s},[]));return{sourceData:n,targetData:i}},VAe=(t,e,r)=>{const n=e1(t),i=(a,l,u)=>{r(Li,a),r(vf,a,l,u)};return{addToLeft:()=>{const a=t.modelValue.slice();e.rightChecked.forEach(l=>{const u=a.indexOf(l);u>-1&&a.splice(u,1)}),i(a,"left",e.rightChecked)},addToRight:()=>{let a=t.modelValue.slice();const l=t.data.filter(u=>{const d=u[n.value.key];return e.leftChecked.includes(d)&&!t.modelValue.includes(d)}).map(u=>u[n.value.key]);a=t.targetOrder==="unshift"?l.concat(a):a.concat(l),t.targetOrder==="original"&&(a=t.data.filter(u=>a.includes(u[n.value.key])).map(u=>u[n.value.key])),i(a,"right",e.leftChecked)}}},zAe=rt({name:"ElTransferPanel"}),jAe=rt({...zAe,props:LAe,emits:FAe,setup(t,{expose:e,emit:r}){const n=t,i=Ml(),s=({option:E})=>E,{t:o}=Ti(),a=sr("transfer"),l=vn({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),u=e1(n),{filteredData:d,checkedSummary:f,isIndeterminate:h,handleAllCheckedChange:g}=NAe(n,l,r),p=pe(()=>!Kl(l.query)&&Kl(d.value)),v=pe(()=>!Kl(i.default()[0].children)),{checked:b,allChecked:S,query:T}=gd(l);return e({query:T}),(E,C)=>(he(),Ue("div",{class:Ee(y(a).b("panel"))},[He("p",{class:Ee(y(a).be("panel","header"))},[N(y(yu),{modelValue:y(S),"onUpdate:modelValue":C[0]||(C[0]=P=>Kr(S)?S.value=P:null),indeterminate:y(h),"validate-event":!1,onChange:y(g)},{default:ne(()=>[It(hr(E.title)+" ",1),He("span",null,hr(y(f)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),He("div",{class:Ee([y(a).be("panel","body"),y(a).is("with-footer",y(v))])},[E.filterable?(he(),At(y(as),{key:0,modelValue:y(T),"onUpdate:modelValue":C[1]||(C[1]=P=>Kr(T)?T.value=P:null),class:Ee(y(a).be("panel","filter")),size:"default",placeholder:E.placeholder,"prefix-icon":y(ove),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):xt("v-if",!0),xn(N(y($X),{modelValue:y(b),"onUpdate:modelValue":C[2]||(C[2]=P=>Kr(b)?b.value=P:null),"validate-event":!1,class:Ee([y(a).is("filterable",E.filterable),y(a).be("panel","list")])},{default:ne(()=>[(he(!0),Ue(Ar,null,xi(y(d),P=>(he(),At(y(yu),{key:P[y(u).key],class:Ee(y(a).be("panel","item")),value:P[y(u).key],disabled:P[y(u).disabled],"validate-event":!1},{default:ne(()=>{var D;return[N(s,{option:(D=E.optionRender)==null?void 0:D.call(E,P)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Ci,!y(p)&&!y(Kl)(E.data)]]),xn(He("p",{class:Ee(y(a).be("panel","empty"))},hr(y(p)?y(o)("el.transfer.noMatch"):y(o)("el.transfer.noData")),3),[[Ci,y(p)||y(Kl)(E.data)]])],2),y(v)?(he(),Ue("p",{key:0,class:Ee(y(a).be("panel","footer"))},[Yt(E.$slots,"default")],2)):xt("v-if",!0)],2))}});var SN=kr(jAe,[["__file","transfer-panel.vue"]]);const HAe={key:0},GAe={key:0},WAe=rt({name:"ElTransfer"}),qAe=rt({...WAe,props:Ym,emits:$Ae,setup(t,{expose:e,emit:r}){const n=t,i=Ml(),{t:s}=Ti(),o=sr("transfer"),{formItem:a}=_d(),l=vn({leftChecked:[],rightChecked:[]}),u=e1(n),{sourceData:d,targetData:f}=UAe(n),{onSourceCheckedChange:h,onTargetCheckedChange:g}=BAe(l,r),{addToLeft:p,addToRight:v}=VAe(n,l,r),b=ye(),S=ye(),T=j=>{switch(j){case"left":b.value.query="";break;case"right":S.value.query="";break}},E=pe(()=>n.buttonTexts.length===2),C=pe(()=>n.titles[0]||s("el.transfer.titles.0")),P=pe(()=>n.titles[1]||s("el.transfer.titles.1")),D=pe(()=>n.filterPlaceholder||s("el.transfer.filterPlaceholder"));Gt(()=>n.modelValue,()=>{var j;n.validateEvent&&((j=a==null?void 0:a.validate)==null||j.call(a,"change").catch(te=>void 0))});const L=pe(()=>j=>n.renderContent?n.renderContent(Tr,j):i.default?i.default({option:j}):Tr("span",j[u.value.label]||j[u.value.key]));return e({clearQuery:T,leftPanel:b,rightPanel:S}),(j,te)=>(he(),Ue("div",{class:Ee(y(o).b())},[N(SN,{ref_key:"leftPanel",ref:b,data:y(d),"option-render":y(L),placeholder:y(D),title:y(C),filterable:j.filterable,format:j.format,"filter-method":j.filterMethod,"default-checked":j.leftDefaultChecked,props:n.props,onCheckedChange:y(h)},{default:ne(()=>[Yt(j.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),He("div",{class:Ee(y(o).e("buttons"))},[N(y(Zn),{type:"primary",class:Ee([y(o).e("button"),y(o).is("with-texts",y(E))]),disabled:y(Kl)(l.rightChecked),onClick:y(p)},{default:ne(()=>[N(y(Dr),null,{default:ne(()=>[N(y(L0))]),_:1}),y(Pl)(j.buttonTexts[0])?xt("v-if",!0):(he(),Ue("span",HAe,hr(j.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),N(y(Zn),{type:"primary",class:Ee([y(o).e("button"),y(o).is("with-texts",y(E))]),disabled:y(Kl)(l.leftChecked),onClick:y(v)},{default:ne(()=>[y(Pl)(j.buttonTexts[1])?xt("v-if",!0):(he(),Ue("span",GAe,hr(j.buttonTexts[1]),1)),N(y(Dr),null,{default:ne(()=>[N(y(ou))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),N(SN,{ref_key:"rightPanel",ref:S,data:y(f),"option-render":y(L),placeholder:y(D),filterable:j.filterable,format:j.format,"filter-method":j.filterMethod,title:y(P),"default-checked":j.rightDefaultChecked,props:n.props,onCheckedChange:y(g)},{default:ne(()=>[Yt(j.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var XAe=kr(qAe,[["__file","transfer.vue"]]);const $Y=$i(XAe),LY=Symbol("uploadContextKey"),YAe="ElUpload";class KAe extends Error{constructor(e,r,n,i){super(e),this.name="UploadAjaxError",this.status=r,this.method=n,this.url=i}}function TN(t,e,r){let n;return r.response?n=`${r.response.error||r.response}`:r.responseText?n=`${r.responseText}`:n=`fail to ${e.method} ${t} ${r.status}`,new KAe(n,r.status,e.method,t)}function ZAe(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const QAe=t=>{typeof XMLHttpRequest>"u"&&nl(YAe,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,r=t.action;e.upload&&e.upload.addEventListener("progress",s=>{const o=s;o.percent=s.total>0?s.loaded/s.total*100:0,t.onProgress(o)});const n=new FormData;if(t.data)for(const[s,o]of Object.entries(t.data))cr(o)&&o.length?n.append(s,...o):n.append(s,o);n.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(TN(r,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(TN(r,t,e));t.onSuccess(ZAe(e))}),e.open(t.method,r,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const i=t.headers||{};if(i instanceof Headers)i.forEach((s,o)=>e.setRequestHeader(o,s));else for(const[s,o]of Object.entries(i))oc(o)||e.setRequestHeader(s,String(o));return e.send(n),e},FY=["text","picture","picture-card"];let JAe=1;const Ik=()=>Date.now()+JAe++,NY=Or({action:{type:String,default:"#"},headers:{type:Vt(Object)},method:{type:String,default:"post"},data:{type:Vt([Object,Function,Promise]),default:()=>xo({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Vt(Array),default:()=>xo([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:FY,default:"text"},httpRequest:{type:Vt(Function),default:QAe},disabled:Boolean,limit:Number}),e3e=Or({...NY,beforeUpload:{type:Vt(Function),default:Wn},beforeRemove:{type:Vt(Function)},onRemove:{type:Vt(Function),default:Wn},onChange:{type:Vt(Function),default:Wn},onPreview:{type:Vt(Function),default:Wn},onSuccess:{type:Vt(Function),default:Wn},onProgress:{type:Vt(Function),default:Wn},onError:{type:Vt(Function),default:Wn},onExceed:{type:Vt(Function),default:Wn},crossorigin:{type:Vt(String)}}),t3e=Or({files:{type:Vt(Array),default:()=>xo([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Vt(Function),default:Wn},listType:{type:String,values:FY,default:"text"},crossorigin:{type:Vt(String)}}),r3e={remove:t=>!!t},n3e=["onKeydown"],i3e=["src","crossorigin"],s3e=["onClick"],o3e=["title"],a3e=["onClick"],l3e=["onClick"],u3e=rt({name:"ElUploadList"}),c3e=rt({...u3e,props:t3e,emits:r3e,setup(t,{emit:e}){const r=t,{t:n}=Ti(),i=sr("upload"),s=sr("icon"),o=sr("list"),a=Af(),l=ye(!1),u=pe(()=>[i.b("list"),i.bm("list",r.listType),i.is("disabled",r.disabled)]),d=f=>{e("remove",f)};return(f,h)=>(he(),At(vW,{tag:"ul",class:Ee(y(u)),name:y(o).b()},{default:ne(()=>[(he(!0),Ue(Ar,null,xi(f.files,g=>(he(),Ue("li",{key:g.uid||g.name,class:Ee([y(i).be("list","item"),y(i).is(g.status),{focusing:l.value}]),tabindex:"0",onKeydown:Zi(p=>!y(a)&&d(g),["delete"]),onFocus:h[0]||(h[0]=p=>l.value=!0),onBlur:h[1]||(h[1]=p=>l.value=!1),onClick:h[2]||(h[2]=p=>l.value=!1)},[Yt(f.$slots,"default",{file:g},()=>[f.listType==="picture"||g.status!=="uploading"&&f.listType==="picture-card"?(he(),Ue("img",{key:0,class:Ee(y(i).be("list","item-thumbnail")),src:g.url,crossorigin:f.crossorigin,alt:""},null,10,i3e)):xt("v-if",!0),g.status==="uploading"||f.listType!=="picture-card"?(he(),Ue("div",{key:1,class:Ee(y(i).be("list","item-info"))},[He("a",{class:Ee(y(i).be("list","item-name")),onClick:yn(p=>f.handlePreview(g),["prevent"])},[N(y(Dr),{class:Ee(y(s).m("document"))},{default:ne(()=>[N(y(Age))]),_:1},8,["class"]),He("span",{class:Ee(y(i).be("list","item-file-name")),title:g.name},hr(g.name),11,o3e)],10,s3e),g.status==="uploading"?(he(),At(y(uCe),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(g.percentage),style:sn(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):xt("v-if",!0)],2)):xt("v-if",!0),He("label",{class:Ee(y(i).be("list","item-status-label"))},[f.listType==="text"?(he(),At(y(Dr),{key:0,class:Ee([y(s).m("upload-success"),y(s).m("circle-check")])},{default:ne(()=>[N(y(OM))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?(he(),At(y(Dr),{key:1,class:Ee([y(s).m("upload-success"),y(s).m("check")])},{default:ne(()=>[N(y(bE))]),_:1},8,["class"])):xt("v-if",!0)],2),y(a)?xt("v-if",!0):(he(),At(y(Dr),{key:2,class:Ee(y(s).m("close")),onClick:p=>d(g)},{default:ne(()=>[N(y(gf))]),_:2},1032,["class","onClick"])),xt(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),xt(" This is a bug which needs to be fixed "),xt(" TODO: Fix the incorrect navigation interaction "),y(a)?xt("v-if",!0):(he(),Ue("i",{key:3,class:Ee(y(s).m("close-tip"))},hr(y(n)("el.upload.deleteTip")),3)),f.listType==="picture-card"?(he(),Ue("span",{key:4,class:Ee(y(i).be("list","item-actions"))},[He("span",{class:Ee(y(i).be("list","item-preview")),onClick:p=>f.handlePreview(g)},[N(y(Dr),{class:Ee(y(s).m("zoom-in"))},{default:ne(()=>[N(y(bq))]),_:1},8,["class"])],10,a3e),y(a)?xt("v-if",!0):(he(),Ue("span",{key:0,class:Ee(y(i).be("list","item-delete")),onClick:p=>d(g)},[N(y(Dr),{class:Ee(y(s).m("delete"))},{default:ne(()=>[N(y(Ege))]),_:1},8,["class"])],10,l3e))],2)):xt("v-if",!0)])],42,n3e))),128)),Yt(f.$slots,"append")]),_:3},8,["class","name"]))}});var EN=kr(c3e,[["__file","upload-list.vue"]]);const d3e=Or({disabled:{type:Boolean,default:!1}}),f3e={file:t=>cr(t)},h3e=["onDrop","onDragover"],BY="ElUploadDrag",p3e=rt({name:BY}),m3e=rt({...p3e,props:d3e,emits:f3e,setup(t,{emit:e}){Mr(LY)||nl(BY,"usage: <el-upload><el-upload-dragger /></el-upload>");const n=sr("upload"),i=ye(!1),s=Af(),o=l=>{if(s.value)return;i.value=!1,l.stopPropagation();const u=Array.from(l.dataTransfer.files);e("file",u)},a=()=>{s.value||(i.value=!0)};return(l,u)=>(he(),Ue("div",{class:Ee([y(n).b("dragger"),y(n).is("dragover",i.value)]),onDrop:yn(o,["prevent"]),onDragover:yn(a,["prevent"]),onDragleave:u[0]||(u[0]=yn(d=>i.value=!1,["prevent"]))},[Yt(l.$slots,"default")],42,h3e))}});var g3e=kr(m3e,[["__file","upload-dragger.vue"]]);const v3e=Or({...NY,beforeUpload:{type:Vt(Function),default:Wn},onRemove:{type:Vt(Function),default:Wn},onStart:{type:Vt(Function),default:Wn},onSuccess:{type:Vt(Function),default:Wn},onProgress:{type:Vt(Function),default:Wn},onError:{type:Vt(Function),default:Wn},onExceed:{type:Vt(Function),default:Wn}}),_3e=["onKeydown"],y3e=["name","multiple","accept"],b3e=rt({name:"ElUploadContent",inheritAttrs:!1}),x3e=rt({...b3e,props:v3e,setup(t,{expose:e}){const r=t,n=sr("upload"),i=Af(),s=wa({}),o=wa(),a=v=>{if(v.length===0)return;const{autoUpload:b,limit:S,fileList:T,multiple:E,onStart:C,onExceed:P}=r;if(S&&T.length+v.length>S){P(v,T);return}E||(v=v.slice(0,1));for(const D of v){const L=D;L.uid=Ik(),C(L),b&&l(L)}},l=async v=>{if(o.value.value="",!r.beforeUpload)return d(v);let b,S={};try{const E=r.data,C=r.beforeUpload(v);S=mS(r.data)?kS(r.data):r.data,b=await C,mS(r.data)&&bl(E,S)&&(S=kS(r.data))}catch{b=!1}if(b===!1){r.onRemove(v);return}let T=v;b instanceof Blob&&(b instanceof File?T=b:T=new File([b],v.name,{type:v.type})),d(Object.assign(T,{uid:v.uid}),S)},u=async(v,b)=>Fr(v)?v(b):v,d=async(v,b)=>{const{headers:S,data:T,method:E,withCredentials:C,name:P,action:D,onProgress:L,onSuccess:j,onError:te,httpRequest:se}=r;try{b=await u(b??T,v)}catch{r.onRemove(v);return}const{uid:q}=v,X={headers:S||{},withCredentials:C,file:v,data:b,method:E,filename:P,action:D,onProgress:$=>{L($,v)},onSuccess:$=>{j($,v),delete s.value[q]},onError:$=>{te($,v),delete s.value[q]}},Q=se(X);s.value[q]=Q,Q instanceof Promise&&Q.then(X.onSuccess,X.onError)},f=v=>{const b=v.target.files;b&&a(Array.from(b))},h=()=>{i.value||(o.value.value="",o.value.click())},g=()=>{h()};return e({abort:v=>{nge(s.value).filter(v?([S])=>String(v.uid)===S:()=>!0).forEach(([S,T])=>{T instanceof XMLHttpRequest&&T.abort(),delete s.value[S]})},upload:l}),(v,b)=>(he(),Ue("div",{class:Ee([y(n).b(),y(n).m(v.listType),y(n).is("drag",v.drag)]),tabindex:"0",onClick:h,onKeydown:Zi(yn(g,["self"]),["enter","space"])},[v.drag?(he(),At(g3e,{key:0,disabled:y(i),onFile:a},{default:ne(()=>[Yt(v.$slots,"default")]),_:3},8,["disabled"])):Yt(v.$slots,"default",{key:1}),He("input",{ref_key:"inputRef",ref:o,class:Ee(y(n).e("input")),name:v.name,multiple:v.multiple,accept:v.accept,type:"file",onChange:f,onClick:b[0]||(b[0]=yn(()=>{},["stop"]))},null,42,y3e)],42,_3e))}});var CN=kr(x3e,[["__file","upload-content.vue"]]);const AN="ElUpload",PN=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},w3e=(t,e)=>{const r=Yce(t,"fileList",void 0,{passive:!0}),n=h=>r.value.find(g=>g.uid===h.uid);function i(h){var g;(g=e.value)==null||g.abort(h)}function s(h=["ready","uploading","success","fail"]){r.value=r.value.filter(g=>!h.includes(g.status))}const o=(h,g)=>{const p=n(g);p&&(console.error(h),p.status="fail",r.value.splice(r.value.indexOf(p),1),t.onError(h,p,r.value),t.onChange(p,r.value))},a=(h,g)=>{const p=n(g);p&&(t.onProgress(h,p,r.value),p.status="uploading",p.percentage=Math.round(h.percent))},l=(h,g)=>{const p=n(g);p&&(p.status="success",p.response=h,t.onSuccess(h,p,r.value),t.onChange(p,r.value))},u=h=>{oc(h.uid)&&(h.uid=Ik());const g={name:h.name,percentage:0,status:"ready",size:h.size,raw:h,uid:h.uid};if(t.listType==="picture-card"||t.listType==="picture")try{g.url=URL.createObjectURL(h)}catch(p){p.message,t.onError(p,g,r.value)}r.value=[...r.value,g],t.onChange(g,r.value)},d=async h=>{const g=h instanceof File?n(h):h;g||nl(AN,"file to be removed not found");const p=v=>{i(v);const b=r.value;b.splice(b.indexOf(v),1),t.onRemove(v,b),PN(v)};t.beforeRemove?await t.beforeRemove(g,r.value)!==!1&&p(g):p(g)};function f(){r.value.filter(({status:h})=>h==="ready").forEach(({raw:h})=>{var g;return h&&((g=e.value)==null?void 0:g.upload(h))})}return Gt(()=>t.listType,h=>{h!=="picture-card"&&h!=="picture"||(r.value=r.value.map(g=>{const{raw:p,url:v}=g;if(!v&&p)try{g.url=URL.createObjectURL(p)}catch(b){t.onError(b,g,r.value)}return g}))}),Gt(r,h=>{for(const g of h)g.uid||(g.uid=Ik()),g.status||(g.status="success")},{immediate:!0,deep:!0}),{uploadFiles:r,abort:i,clearFiles:s,handleError:o,handleProgress:a,handleStart:u,handleSuccess:l,handleRemove:d,submit:f,revokeFileObjectURL:PN}},S3e=rt({name:"ElUpload"}),T3e=rt({...S3e,props:e3e,setup(t,{expose:e}){const r=t,n=Af(),i=wa(),{abort:s,submit:o,clearFiles:a,uploadFiles:l,handleStart:u,handleError:d,handleRemove:f,handleSuccess:h,handleProgress:g,revokeFileObjectURL:p}=w3e(r,i),v=pe(()=>r.listType==="picture-card"),b=pe(()=>({...r,fileList:l.value,onStart:u,onProgress:g,onSuccess:h,onError:d,onRemove:f}));return Vs(()=>{l.value.forEach(p)}),_i(LY,{accept:oo(r,"accept")}),e({abort:s,submit:o,clearFiles:a,handleStart:u,handleRemove:f}),(S,T)=>(he(),Ue("div",null,[y(v)&&S.showFileList?(he(),At(EN,{key:0,disabled:y(n),"list-type":S.listType,files:y(l),crossorigin:S.crossorigin,"handle-preview":S.onPreview,onRemove:y(f)},RP({append:ne(()=>[N(CN,Eo({ref_key:"uploadRef",ref:i},y(b)),{default:ne(()=>[S.$slots.trigger?Yt(S.$slots,"trigger",{key:0}):xt("v-if",!0),!S.$slots.trigger&&S.$slots.default?Yt(S.$slots,"default",{key:1}):xt("v-if",!0)]),_:3},16)]),_:2},[S.$slots.file?{name:"default",fn:ne(({file:E})=>[Yt(S.$slots,"file",{file:E})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):xt("v-if",!0),!y(v)||y(v)&&!S.showFileList?(he(),At(CN,Eo({key:1,ref_key:"uploadRef",ref:i},y(b)),{default:ne(()=>[S.$slots.trigger?Yt(S.$slots,"trigger",{key:0}):xt("v-if",!0),!S.$slots.trigger&&S.$slots.default?Yt(S.$slots,"default",{key:1}):xt("v-if",!0)]),_:3},16)):xt("v-if",!0),S.$slots.trigger?Yt(S.$slots,"default",{key:2}):xt("v-if",!0),Yt(S.$slots,"tip"),!y(v)&&S.showFileList?(he(),At(EN,{key:3,disabled:y(n),"list-type":S.listType,files:y(l),crossorigin:S.crossorigin,"handle-preview":S.onPreview,onRemove:y(f)},RP({_:2},[S.$slots.file?{name:"default",fn:ne(({file:E})=>[Yt(S.$slots,"file",{file:E})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):xt("v-if",!0)]))}});var E3e=kr(T3e,[["__file","upload.vue"]]);const UY=$i(E3e);function C3e(t){let e;const r=ye(!1),n=vn({...t,originalPosition:"",originalOverflow:"",visible:!1});function i(h){n.text=h}function s(){const h=n.parent,g=f.ns;if(!h.vLoadingAddClassList){let p=h.getAttribute("loading-number");p=Number.parseInt(p)-1,p?h.setAttribute("loading-number",p.toString()):(xl(h,g.bm("parent","relative")),h.removeAttribute("loading-number")),xl(h,g.bm("parent","hidden"))}o(),d.unmount()}function o(){var h,g;(g=(h=f.$el)==null?void 0:h.parentNode)==null||g.removeChild(f.$el)}function a(){var h;t.beforeClose&&!t.beforeClose()||(r.value=!0,clearTimeout(e),e=window.setTimeout(l,400),n.visible=!1,(h=t.closed)==null||h.call(t))}function l(){if(!r.value)return;const h=n.parent;r.value=!1,h.vLoadingAddClassList=void 0,s()}const d=SW(rt({name:"ElLoading",setup(h,{expose:g}){const{ns:p,zIndex:v}=CE("loading");return g({ns:p,zIndex:v}),()=>{const b=n.spinner||n.svg,S=Tr("svg",{class:"circular",viewBox:n.svgViewBox?n.svgViewBox:"0 0 50 50",...b?{innerHTML:b}:{}},[Tr("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),T=n.text?Tr("p",{class:p.b("text")},[n.text]):void 0;return Tr(sa,{name:p.b("fade"),onAfterLeave:l},{default:ne(()=>[xn(N("div",{style:{backgroundColor:n.background||""},class:[p.b("mask"),n.customClass,n.fullscreen?"is-fullscreen":""]},[Tr("div",{class:p.b("spinner")},[S,T])]),[[Ci,n.visible]])])})}}})),f=d.mount(document.createElement("div"));return{...gd(n),setText:i,removeElLoadingChild:o,close:a,handleAfterLeave:l,vm:f,get $el(){return f.$el}}}let Y1;const Ok=function(t={}){if(!$n)return;const e=A3e(t);if(e.fullscreen&&Y1)return Y1;const r=C3e({...e,closed:()=>{var i;(i=e.closed)==null||i.call(e),e.fullscreen&&(Y1=void 0)}});P3e(e,e.parent,r),kN(e,e.parent,r),e.parent.vLoadingAddClassList=()=>kN(e,e.parent,r);let n=e.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",e.parent.setAttribute("loading-number",n),e.parent.appendChild(r.$el),Hr(()=>r.visible.value=e.visible),e.fullscreen&&(Y1=r),r},A3e=t=>{var e,r,n,i;let s;return on(t.target)?s=(e=document.querySelector(t.target))!=null?e:document.body:s=t.target||document.body,{parent:s===document.body||t.body?document.body:s,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:s===document.body&&((r=t.fullscreen)!=null?r:!0),lock:(n=t.lock)!=null?n:!1,customClass:t.customClass||"",visible:(i=t.visible)!=null?i:!0,target:s}},P3e=async(t,e,r)=>{const{nextZIndex:n}=r.vm.zIndex||r.vm._.exposed.zIndex,i={};if(t.fullscreen)r.originalPosition.value=yh(document.body,"position"),r.originalOverflow.value=yh(document.body,"overflow"),i.zIndex=n();else if(t.parent===document.body){r.originalPosition.value=yh(document.body,"position"),await Hr();for(const s of["top","left"]){const o=s==="top"?"scrollTop":"scrollLeft";i[s]=`${t.target.getBoundingClientRect()[s]+document.body[o]+document.documentElement[o]-Number.parseInt(yh(document.body,`margin-${s}`),10)}px`}for(const s of["height","width"])i[s]=`${t.target.getBoundingClientRect()[s]}px`}else r.originalPosition.value=yh(e,"position");for(const[s,o]of Object.entries(i))r.$el.style[s]=o},kN=(t,e,r)=>{const n=r.vm.ns||r.vm._.exposed.ns;["absolute","fixed","sticky"].includes(r.originalPosition.value)?xl(e,n.bm("parent","relative")):ju(e,n.bm("parent","relative")),t.fullscreen&&t.lock?ju(e,n.bm("parent","hidden")):xl(e,n.bm("parent","hidden"))},Ow=Symbol("ElLoading"),IN=(t,e)=>{var r,n,i,s;const o=e.instance,a=h=>En(e.value)?e.value[h]:void 0,l=h=>{const g=on(h)&&(o==null?void 0:o[h])||h;return g&&ye(g)},u=h=>l(a(h)||t.getAttribute(`element-loading-${Kh(h)}`)),d=(r=a("fullscreen"))!=null?r:e.modifiers.fullscreen,f={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:d,target:(n=a("target"))!=null?n:d?void 0:t,body:(i=a("body"))!=null?i:e.modifiers.body,lock:(s=a("lock"))!=null?s:e.modifiers.lock};t[Ow]={options:f,instance:Ok(f)}},k3e=(t,e)=>{for(const r of Object.keys(e))Kr(e[r])&&(e[r].value=t[r])},Dk={mounted(t,e){e.value&&IN(t,e)},updated(t,e){const r=t[Ow];e.oldValue!==e.value&&(e.value&&!e.oldValue?IN(t,e):e.value&&e.oldValue?En(e.value)&&k3e(e.value,r.options):r==null||r.instance.close())},unmounted(t){var e;(e=t[Ow])==null||e.instance.close(),t[Ow]=null}},VY={install(t){t.directive("loading",Dk),t.config.globalProperties.$loading=Ok},directive:Dk,service:Ok},zY=["success","info","warning","error"],Yo=xo({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:$n?document.body:void 0}),I3e=Or({customClass:{type:String,default:Yo.customClass},center:{type:Boolean,default:Yo.center},dangerouslyUseHTMLString:{type:Boolean,default:Yo.dangerouslyUseHTMLString},duration:{type:Number,default:Yo.duration},icon:{type:Ys,default:Yo.icon},id:{type:String,default:Yo.id},message:{type:Vt([String,Object,Function]),default:Yo.message},onClose:{type:Vt(Function),default:Yo.onClose},showClose:{type:Boolean,default:Yo.showClose},type:{type:String,values:zY,default:Yo.type},plain:{type:Boolean,default:Yo.plain},offset:{type:Number,default:Yo.offset},zIndex:{type:Number,default:Yo.zIndex},grouping:{type:Boolean,default:Yo.grouping},repeatNum:{type:Number,default:Yo.repeatNum}}),O3e={destroy:()=>!0},Hu=eM([]),D3e=t=>{const e=Hu.findIndex(i=>i.id===t),r=Hu[e];let n;return e>0&&(n=Hu[e-1]),{current:r,prev:n}},M3e=t=>{const{prev:e}=D3e(t);return e?e.vm.exposed.bottom.value:0},R3e=(t,e)=>Hu.findIndex(n=>n.id===t)>0?16:e,$3e=["id"],L3e=["innerHTML"],F3e=rt({name:"ElMessage"}),N3e=rt({...F3e,props:I3e,emits:O3e,setup(t,{expose:e}){const r=t,{Close:n}=Sq,{ns:i,zIndex:s}=CE("message"),{currentZIndex:o,nextZIndex:a}=s,l=ye(),u=ye(!1),d=ye(0);let f;const h=pe(()=>r.type?r.type==="error"?"danger":r.type:"info"),g=pe(()=>{const L=r.type;return{[i.bm("icon",L)]:L&&Vg[L]}}),p=pe(()=>r.icon||Vg[r.type]||""),v=pe(()=>M3e(r.id)),b=pe(()=>R3e(r.id,r.offset)+v.value),S=pe(()=>d.value+b.value),T=pe(()=>({top:`${b.value}px`,zIndex:o.value}));function E(){r.duration!==0&&({stop:f}=Fg(()=>{P()},r.duration))}function C(){f==null||f()}function P(){u.value=!1}function D({code:L}){L===Xr.esc&&P()}return Un(()=>{E(),a(),u.value=!0}),Gt(()=>r.repeatNum,()=>{C(),E()}),ks(document,"keydown",D),Fo(l,()=>{d.value=l.value.getBoundingClientRect().height}),e({visible:u,bottom:S,close:P}),(L,j)=>(he(),At(sa,{name:y(i).b("fade"),onBeforeLeave:L.onClose,onAfterLeave:j[0]||(j[0]=te=>L.$emit("destroy")),persisted:""},{default:ne(()=>[xn(He("div",{id:L.id,ref_key:"messageRef",ref:l,class:Ee([y(i).b(),{[y(i).m(L.type)]:L.type},y(i).is("center",L.center),y(i).is("closable",L.showClose),y(i).is("plain",L.plain),L.customClass]),style:sn(y(T)),role:"alert",onMouseenter:C,onMouseleave:E},[L.repeatNum>1?(he(),At(y(uX),{key:0,value:L.repeatNum,type:y(h),class:Ee(y(i).e("badge"))},null,8,["value","type","class"])):xt("v-if",!0),y(p)?(he(),At(y(Dr),{key:1,class:Ee([y(i).e("icon"),y(g)])},{default:ne(()=>[(he(),At(vi(y(p))))]),_:1},8,["class"])):xt("v-if",!0),Yt(L.$slots,"default",{},()=>[L.dangerouslyUseHTMLString?(he(),Ue(Ar,{key:1},[xt(" Caution here, message could've been compromised, never use user's input as message "),He("p",{class:Ee(y(i).e("content")),innerHTML:L.message},null,10,L3e)],2112)):(he(),Ue("p",{key:0,class:Ee(y(i).e("content"))},hr(L.message),3))]),L.showClose?(he(),At(y(Dr),{key:2,class:Ee(y(i).e("closeBtn")),onClick:yn(P,["stop"])},{default:ne(()=>[N(y(n))]),_:1},8,["class","onClick"])):xt("v-if",!0)],46,$3e),[[Ci,u.value]])]),_:3},8,["name","onBeforeLeave"]))}});var B3e=kr(N3e,[["__file","message.vue"]]);let U3e=1;const jY=t=>{const e=!t||on(t)||rl(t)||Fr(t)?{message:t}:t,r={...Yo,...e};if(!r.appendTo)r.appendTo=document.body;else if(on(r.appendTo)){let n=document.querySelector(r.appendTo);mu(n)||(n=document.body),r.appendTo=n}return r},V3e=t=>{const e=Hu.indexOf(t);if(e===-1)return;Hu.splice(e,1);const{handler:r}=t;r.close()},z3e=({appendTo:t,...e},r)=>{const n=`message_${U3e++}`,i=e.onClose,s=document.createElement("div"),o={...e,id:n,onClose:()=>{i==null||i(),V3e(d)},onDestroy:()=>{Nh(null,s)}},a=N(B3e,o,Fr(o.message)||rl(o.message)?{default:Fr(o.message)?o.message:()=>o.message}:null);a.appContext=r||Xg._context,Nh(a,s),t.appendChild(s.firstElementChild);const l=a.component,d={id:n,vnode:a,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:a.component.props};return d},Xg=(t={},e)=>{if(!$n)return{close:()=>{}};if(Yn(MF.max)&&Hu.length>=MF.max)return{close:()=>{}};const r=jY(t);if(r.grouping&&Hu.length){const i=Hu.find(({vnode:s})=>{var o;return((o=s.props)==null?void 0:o.message)===r.message});if(i)return i.props.repeatNum+=1,i.props.type=r.type,i.handler}const n=z3e(r,e);return Hu.push(n),n.handler};zY.forEach(t=>{Xg[t]=(e={},r)=>{const n=jY(e);return Xg({...n,type:t},r)}});function j3e(t){for(const e of Hu)(!t||t===e.props.type)&&e.handler.close()}Xg.closeAll=j3e;Xg._context=null;const Dw=Eq(Xg,"$message"),H3e=rt({name:"ElMessageBox",directives:{TrapFocus:_1e},components:{ElButton:Zn,ElFocusTrap:PE,ElInput:as,ElOverlay:e8,ElIcon:Dr,...Sq},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Eve},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:r,zIndex:n,ns:i,size:s}=CE("message-box",pe(()=>t.buttonSize)),{t:o}=r,{nextZIndex:a}=n,l=ye(!1),u=vn({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:a()}),d=pe(()=>{const Y=u.type;return{[i.bm("icon",Y)]:Y&&Vg[Y]}}),f=ac(),h=ac(),g=pe(()=>u.icon||Vg[u.type]||""),p=pe(()=>!!u.message),v=ye(),b=ye(),S=ye(),T=ye(),E=ye(),C=pe(()=>u.confirmButtonClass);Gt(()=>u.inputValue,async Y=>{await Hr(),t.boxType==="prompt"&&Y!==null&&X()},{immediate:!0}),Gt(()=>l.value,Y=>{var ee,ae;Y&&(t.boxType!=="prompt"&&(u.autofocus?S.value=(ae=(ee=E.value)==null?void 0:ee.$el)!=null?ae:v.value:S.value=v.value),u.zIndex=a()),t.boxType==="prompt"&&(Y?Hr().then(()=>{var H;T.value&&T.value.$el&&(u.autofocus?S.value=(H=Q())!=null?H:v.value:S.value=v.value)}):(u.editorErrorMessage="",u.validateError=!1))});const P=pe(()=>t.draggable),D=pe(()=>t.overflow);Aq(v,b,P,D),Un(async()=>{await Hr(),t.closeOnHashChange&&window.addEventListener("hashchange",L)}),Vs(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",L)});function L(){l.value&&(l.value=!1,Hr(()=>{u.action&&e("action",u.action)}))}const j=()=>{t.closeOnClickModal&&q(u.distinguishCancelAndClose?"close":"cancel")},te=jM(j),se=Y=>{if(u.inputType!=="textarea")return Y.preventDefault(),q("confirm")},q=Y=>{var ee;t.boxType==="prompt"&&Y==="confirm"&&!X()||(u.action=Y,u.beforeClose?(ee=u.beforeClose)==null||ee.call(u,Y,u,L):L())},X=()=>{if(t.boxType==="prompt"){const Y=u.inputPattern;if(Y&&!Y.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;const ee=u.inputValidator;if(typeof ee=="function"){const ae=ee(u.inputValue);if(ae===!1)return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;if(typeof ae=="string")return u.editorErrorMessage=ae,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},Q=()=>{const Y=T.value.$refs;return Y.input||Y.textarea},$=()=>{q("close")},V=()=>{t.closeOnPressEscape&&$()};return t.lockScroll&&Iq(l),{...gd(u),ns:i,overlayEvent:te,visible:l,hasMessage:p,typeClass:d,contentId:f,inputId:h,btnSize:s,iconComponent:g,confirmButtonClasses:C,rootRef:v,focusStartRef:S,headerRef:b,inputRef:T,confirmRef:E,doClose:L,handleClose:$,onCloseRequested:V,handleWrapperClick:j,handleInputEnter:se,handleAction:q,t:o}}}),G3e=["aria-label","aria-describedby"],W3e=["aria-label"],q3e=["id"];function X3e(t,e,r,n,i,s){const o=qn("el-icon"),a=qn("close"),l=qn("el-input"),u=qn("el-button"),d=qn("el-focus-trap"),f=qn("el-overlay");return he(),At(sa,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=h=>t.$emit("vanish")),persisted:""},{default:ne(()=>[xn(N(f,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:ne(()=>[He("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:Ee(`${t.ns.namespace.value}-overlay-message-box`),onClick:e[8]||(e[8]=(...h)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(...h)),onMousedown:e[9]||(e[9]=(...h)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(...h)),onMouseup:e[10]||(e[10]=(...h)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(...h))},[N(d,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:ne(()=>[He("div",{ref:"rootRef",class:Ee([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:sn(t.customStyle),tabindex:"-1",onClick:e[7]||(e[7]=yn(()=>{},["stop"]))},[t.title!==null&&t.title!==void 0?(he(),Ue("div",{key:0,ref:"headerRef",class:Ee([t.ns.e("header"),{"show-close":t.showClose}])},[He("div",{class:Ee(t.ns.e("title"))},[t.iconComponent&&t.center?(he(),At(o,{key:0,class:Ee([t.ns.e("status"),t.typeClass])},{default:ne(()=>[(he(),At(vi(t.iconComponent)))]),_:1},8,["class"])):xt("v-if",!0),He("span",null,hr(t.title),1)],2),t.showClose?(he(),Ue("button",{key:0,type:"button",class:Ee(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:e[0]||(e[0]=h=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=Zi(yn(h=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[N(o,{class:Ee(t.ns.e("close"))},{default:ne(()=>[N(a)]),_:1},8,["class"])],42,W3e)):xt("v-if",!0)],2)):xt("v-if",!0),He("div",{id:t.contentId,class:Ee(t.ns.e("content"))},[He("div",{class:Ee(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(he(),At(o,{key:0,class:Ee([t.ns.e("status"),t.typeClass])},{default:ne(()=>[(he(),At(vi(t.iconComponent)))]),_:1},8,["class"])):xt("v-if",!0),t.hasMessage?(he(),Ue("div",{key:1,class:Ee(t.ns.e("message"))},[Yt(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(he(),At(vi(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(he(),At(vi(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:ne(()=>[It(hr(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):xt("v-if",!0)],2),xn(He("div",{class:Ee(t.ns.e("input"))},[N(l,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":e[2]||(e[2]=h=>t.inputValue=h),type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:Ee({invalid:t.validateError}),onKeydown:Zi(t.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),He("div",{class:Ee(t.ns.e("errormsg")),style:sn({visibility:t.editorErrorMessage?"visible":"hidden"})},hr(t.editorErrorMessage),7)],2),[[Ci,t.showInput]])],10,q3e),He("div",{class:Ee(t.ns.e("btns"))},[t.showCancelButton?(he(),At(u,{key:0,loading:t.cancelButtonLoading,class:Ee([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:e[3]||(e[3]=h=>t.handleAction("cancel")),onKeydown:e[4]||(e[4]=Zi(yn(h=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:ne(()=>[It(hr(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):xt("v-if",!0),xn(N(u,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,class:Ee([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:e[5]||(e[5]=h=>t.handleAction("confirm")),onKeydown:e[6]||(e[6]=Zi(yn(h=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:ne(()=>[It(hr(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[Ci,t.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,G3e)]),_:3},8,["z-index","overlay-class","mask"]),[[Ci,t.visible]])]),_:3})}var Y3e=kr(H3e,[["render",X3e],["__file","index.vue"]]);const N2=new Map,K3e=t=>{let e=document.body;return t.appendTo&&(on(t.appendTo)&&(e=document.querySelector(t.appendTo)),mu(t.appendTo)&&(e=t.appendTo),mu(e)||(e=document.body)),e},Z3e=(t,e,r=null)=>{const n=N(Y3e,t,Fr(t.message)||rl(t.message)?{default:Fr(t.message)?t.message:()=>t.message}:null);return n.appContext=r,Nh(n,e),K3e(t).appendChild(e.firstElementChild),n.component},Q3e=()=>document.createElement("div"),J3e=(t,e)=>{const r=Q3e();t.onVanish=()=>{Nh(null,r),N2.delete(i)},t.onAction=s=>{const o=N2.get(i);let a;t.showInput?a={value:i.inputValue,action:s}:a=s,t.callback?t.callback(a,n.proxy):s==="cancel"||s==="close"?t.distinguishCancelAndClose&&s!=="cancel"?o.reject("close"):o.reject("cancel"):o.resolve(a)};const n=Z3e(t,r,e),i=n.proxy;for(const s in t)Nn(t,s)&&!Nn(i.$props,s)&&(i[s]=t[s]);return i.visible=!0,i};function Nv(t,e=null){if(!$n)return Promise.reject();let r;return on(t)||rl(t)?t={message:t}:r=t.callback,new Promise((n,i)=>{const s=J3e(t,e??Nv._context);N2.set(s,{options:t,callback:r,resolve:n,reject:i})})}const e4e=["alert","confirm","prompt"],t4e={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};e4e.forEach(t=>{Nv[t]=r4e(t)});function r4e(t){return(e,r,n,i)=>{let s="";return En(r)?(n=r,s=""):Pl(r)?s="":s=r,Nv(Object.assign({title:s,message:e,type:"",...t4e[t]},n,{boxType:t}),i)}}Nv.close=()=>{N2.forEach((t,e)=>{e.doClose()}),N2.clear()};Nv._context=null;const ah=Nv;ah.install=t=>{ah._context=t._context,t.config.globalProperties.$msgbox=ah,t.config.globalProperties.$messageBox=ah,t.config.globalProperties.$alert=ah.alert,t.config.globalProperties.$confirm=ah.confirm,t.config.globalProperties.$prompt=ah.prompt};const ti=ah,HY=["success","info","warning","error"],n4e=Or({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:Ys},id:{type:String,default:""},message:{type:Vt([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:Vt(Function),default:()=>{}},onClose:{type:Vt(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...HY,""],default:""},zIndex:Number}),i4e={destroy:()=>!0},s4e=["id"],o4e=["textContent"],a4e={key:0},l4e=["innerHTML"],u4e=rt({name:"ElNotification"}),c4e=rt({...u4e,props:n4e,emits:i4e,setup(t,{expose:e}){const r=t,{ns:n,zIndex:i}=CE("notification"),{nextZIndex:s,currentZIndex:o}=i,{Close:a}=wq,l=ye(!1);let u;const d=pe(()=>{const E=r.type;return E&&Vg[r.type]?n.m(E):""}),f=pe(()=>r.type&&Vg[r.type]||r.icon),h=pe(()=>r.position.endsWith("right")?"right":"left"),g=pe(()=>r.position.startsWith("top")?"top":"bottom"),p=pe(()=>{var E;return{[g.value]:`${r.offset}px`,zIndex:(E=r.zIndex)!=null?E:o.value}});function v(){r.duration>0&&({stop:u}=Fg(()=>{l.value&&S()},r.duration))}function b(){u==null||u()}function S(){l.value=!1}function T({code:E}){E===Xr.delete||E===Xr.backspace?b():E===Xr.esc?l.value&&S():v()}return Un(()=>{v(),s(),l.value=!0}),ks(document,"keydown",T),e({visible:l,close:S}),(E,C)=>(he(),At(sa,{name:y(n).b("fade"),onBeforeLeave:E.onClose,onAfterLeave:C[1]||(C[1]=P=>E.$emit("destroy")),persisted:""},{default:ne(()=>[xn(He("div",{id:E.id,class:Ee([y(n).b(),E.customClass,y(h)]),style:sn(y(p)),role:"alert",onMouseenter:b,onMouseleave:v,onClick:C[0]||(C[0]=(...P)=>E.onClick&&E.onClick(...P))},[y(f)?(he(),At(y(Dr),{key:0,class:Ee([y(n).e("icon"),y(d)])},{default:ne(()=>[(he(),At(vi(y(f))))]),_:1},8,["class"])):xt("v-if",!0),He("div",{class:Ee(y(n).e("group"))},[He("h2",{class:Ee(y(n).e("title")),textContent:hr(E.title)},null,10,o4e),xn(He("div",{class:Ee(y(n).e("content")),style:sn(E.title?void 0:{margin:0})},[Yt(E.$slots,"default",{},()=>[E.dangerouslyUseHTMLString?(he(),Ue(Ar,{key:1},[xt(" Caution here, message could've been compromised, never use user's input as message "),He("p",{innerHTML:E.message},null,8,l4e)],2112)):(he(),Ue("p",a4e,hr(E.message),1))])],6),[[Ci,E.message]]),E.showClose?(he(),At(y(Dr),{key:0,class:Ee(y(n).e("closeBtn")),onClick:yn(S,["stop"])},{default:ne(()=>[N(y(a))]),_:1},8,["class","onClick"])):xt("v-if",!0)],2)],46,s4e),[[Ci,l.value]])]),_:3},8,["name","onBeforeLeave"]))}});var d4e=kr(c4e,[["__file","notification.vue"]]);const RS={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},Mk=16;let f4e=1;const Yg=function(t={},e=null){if(!$n)return{close:()=>{}};(typeof t=="string"||rl(t))&&(t={message:t});const r=t.position||"top-right";let n=t.offset||0;RS[r].forEach(({vm:d})=>{var f;n+=(((f=d.el)==null?void 0:f.offsetHeight)||0)+Mk}),n+=Mk;const i=`notification_${f4e++}`,s=t.onClose,o={...t,offset:n,id:i,onClose:()=>{h4e(i,r,s)}};let a=document.body;mu(t.appendTo)?a=t.appendTo:on(t.appendTo)&&(a=document.querySelector(t.appendTo)),mu(a)||(a=document.body);const l=document.createElement("div"),u=N(d4e,o,rl(o.message)?{default:()=>o.message}:null);return u.appContext=e??Yg._context,u.props.onDestroy=()=>{Nh(null,l)},Nh(u,l),RS[r].push({vm:u}),a.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};HY.forEach(t=>{Yg[t]=(e={})=>((typeof e=="string"||rl(e))&&(e={message:e}),Yg({...e,type:t}))});function h4e(t,e,r){const n=RS[e],i=n.findIndex(({vm:u})=>{var d;return((d=u.component)==null?void 0:d.props.id)===t});if(i===-1)return;const{vm:s}=n[i];if(!s)return;r==null||r(s);const o=s.el.offsetHeight,a=e.split("-")[0];n.splice(i,1);const l=n.length;if(!(l<1))for(let u=i;u<l;u++){const{el:d,component:f}=n[u].vm,h=Number.parseInt(d.style[a],10)-o-Mk;f.props.offset=h}}function p4e(){for(const t of Object.values(RS))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}Yg.closeAll=p4e;Yg._context=null;const B2=Eq(Yg,"$notify");const Pe=vn({registerToken:"",access_token:"",refresh_token:"",id_token:"",expires_in:0,grant_type:"",client_id:"",client_secret:"",username:"",nickname:"",code_verifier:"",code_challenge:"",permission:"",email_verified:!1,sub:"",redirect_uri:"",qrcodeUrl:"",accessKey:"",accessSecret:"",endpoint:"",region:"",platform:"default",bucket:"",avatarUrl:"",update(t,e){this.access_token=t,this.expires_in=e}}),Wt=vn({apiUrl:"https://api.elpsykongroo.com",statusUrl:"https://status.elpsykongroo.com:11415",authUrl:"https://auth.elpsykongroo.com",storageUrl:"https://storage.elpsykongroo.com:11415",redirectUrl:"https://elpsykongroo.com",apiKey:{}.VITE_OPENAI_API_KEY,oauth2ProxyPkceUrl:"https://pkce.elpsykongroo.com",oauth2ProxyUrl:"https://oauth2-proxy.elpsykongroo.com",pwaMode:"production",messageUrl:"https://message.elpsykongroo.com",publicKey:"BFI_ya8v4eq4RBZnPuUUQCa1jjjLyVfWeyQsHvuPVpSyLvhTC5Ott14xe27CKWbysgCd3u7LLzpsSrGZIbwhVAY",clientId:{}.VITE_CLIENT_ID,clientSecret:{}.VITE_CLIENT_SECRET,githubUrl:"https://github.com/Labman4/elpsykongroo.com",healthCheckDuration:"600",vaultUrl:"https://vault-cloud.elpsykongroo.com:8200",vaultUser:"wol",vaultPass:"helloworld",wakeMac:"A8:A1:59:6C:D7:97"});function GY(t,e){return function(){return t.apply(e,arguments)}}const{toString:m4e}=Object.prototype,{getPrototypeOf:a8}=Object,ME=(t=>e=>{const r=m4e.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),xd=t=>(t=t.toLowerCase(),e=>ME(e)===t),RE=t=>e=>typeof e===t,{isArray:Bv}=Array,U2=RE("undefined");function g4e(t){return t!==null&&!U2(t)&&t.constructor!==null&&!U2(t.constructor)&&lu(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const WY=xd("ArrayBuffer");function v4e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&WY(t.buffer),e}const _4e=RE("string"),lu=RE("function"),qY=RE("number"),$E=t=>t!==null&&typeof t=="object",y4e=t=>t===!0||t===!1,Mw=t=>{if(ME(t)!=="object")return!1;const e=a8(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},b4e=xd("Date"),x4e=xd("File"),w4e=xd("Blob"),S4e=xd("FileList"),T4e=t=>$E(t)&&lu(t.pipe),E4e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||lu(t.append)&&((e=ME(t))==="formdata"||e==="object"&&lu(t.toString)&&t.toString()==="[object FormData]"))},C4e=xd("URLSearchParams"),A4e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function t1(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Bv(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function XY(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const YY=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),KY=t=>!U2(t)&&t!==YY;function Rk(){const{caseless:t}=KY(this)&&this||{},e={},r=(n,i)=>{const s=t&&XY(e,i)||i;Mw(e[s])&&Mw(n)?e[s]=Rk(e[s],n):Mw(n)?e[s]=Rk({},n):Bv(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&t1(arguments[n],r);return e}const P4e=(t,e,r,{allOwnKeys:n}={})=>(t1(e,(i,s)=>{r&&lu(i)?t[s]=GY(i,r):t[s]=i},{allOwnKeys:n}),t),k4e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),I4e=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},O4e=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&a8(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},D4e=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},M4e=t=>{if(!t)return null;if(Bv(t))return t;let e=t.length;if(!qY(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},R4e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&a8(Uint8Array)),$4e=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},L4e=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},F4e=xd("HTMLFormElement"),N4e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),ON=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),B4e=xd("RegExp"),ZY=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};t1(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},U4e=t=>{ZY(t,(e,r)=>{if(lu(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(lu(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},V4e=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Bv(t)?n(t):n(String(t).split(e)),r},z4e=()=>{},j4e=(t,e)=>(t=+t,Number.isFinite(t)?t:e),IA="abcdefghijklmnopqrstuvwxyz",DN="0123456789",QY={DIGIT:DN,ALPHA:IA,ALPHA_DIGIT:IA+IA.toUpperCase()+DN},H4e=(t=16,e=QY.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function G4e(t){return!!(t&&lu(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const W4e=t=>{const e=new Array(10),r=(n,i)=>{if($E(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=Bv(n)?[]:{};return t1(n,(o,a)=>{const l=r(o,i+1);!U2(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},q4e=xd("AsyncFunction"),X4e=t=>t&&($E(t)||lu(t))&&lu(t.then)&&lu(t.catch),er={isArray:Bv,isArrayBuffer:WY,isBuffer:g4e,isFormData:E4e,isArrayBufferView:v4e,isString:_4e,isNumber:qY,isBoolean:y4e,isObject:$E,isPlainObject:Mw,isUndefined:U2,isDate:b4e,isFile:x4e,isBlob:w4e,isRegExp:B4e,isFunction:lu,isStream:T4e,isURLSearchParams:C4e,isTypedArray:R4e,isFileList:S4e,forEach:t1,merge:Rk,extend:P4e,trim:A4e,stripBOM:k4e,inherits:I4e,toFlatObject:O4e,kindOf:ME,kindOfTest:xd,endsWith:D4e,toArray:M4e,forEachEntry:$4e,matchAll:L4e,isHTMLForm:F4e,hasOwnProperty:ON,hasOwnProp:ON,reduceDescriptors:ZY,freezeMethods:U4e,toObjectSet:V4e,toCamelCase:N4e,noop:z4e,toFiniteNumber:j4e,findKey:XY,global:YY,isContextDefined:KY,ALPHABET:QY,generateString:H4e,isSpecCompliantForm:G4e,toJSONObject:W4e,isAsyncFn:q4e,isThenable:X4e};function pi(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}er.inherits(pi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:er.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const JY=pi.prototype,eK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{eK[t]={value:t}});Object.defineProperties(pi,eK);Object.defineProperty(JY,"isAxiosError",{value:!0});pi.from=(t,e,r,n,i,s)=>{const o=Object.create(JY);return er.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),pi.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const Y4e=null;function $k(t){return er.isPlainObject(t)||er.isArray(t)}function tK(t){return er.endsWith(t,"[]")?t.slice(0,-2):t}function MN(t,e,r){return t?t.concat(e).map(function(i,s){return i=tK(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function K4e(t){return er.isArray(t)&&!t.some($k)}const Z4e=er.toFlatObject(er,{},null,function(e){return/^is[A-Z]/.test(e)});function LE(t,e,r){if(!er.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=er.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!er.isUndefined(b[v])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&er.isSpecCompliantForm(e);if(!er.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(er.isDate(p))return p.toISOString();if(!l&&er.isBlob(p))throw new pi("Blob is not supported. Use a Buffer instead.");return er.isArrayBuffer(p)||er.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,v,b){let S=p;if(p&&!b&&typeof p=="object"){if(er.endsWith(v,"{}"))v=n?v:v.slice(0,-2),p=JSON.stringify(p);else if(er.isArray(p)&&K4e(p)||(er.isFileList(p)||er.endsWith(v,"[]"))&&(S=er.toArray(p)))return v=tK(v),S.forEach(function(E,C){!(er.isUndefined(E)||E===null)&&e.append(o===!0?MN([v],C,s):o===null?v:v+"[]",u(E))}),!1}return $k(p)?!0:(e.append(MN(b,v,s),u(p)),!1)}const f=[],h=Object.assign(Z4e,{defaultVisitor:d,convertValue:u,isVisitable:$k});function g(p,v){if(!er.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(p),er.forEach(p,function(S,T){(!(er.isUndefined(S)||S===null)&&i.call(e,S,er.isString(T)?T.trim():T,v,h))===!0&&g(S,v?v.concat(T):[T])}),f.pop()}}if(!er.isObject(t))throw new TypeError("data must be an object");return g(t),e}function RN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function l8(t,e){this._pairs=[],t&&LE(t,this,e)}const rK=l8.prototype;rK.append=function(e,r){this._pairs.push([e,r])};rK.toString=function(e){const r=e?function(n){return e.call(this,n,RN)}:RN;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Q4e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nK(t,e,r){if(!e)return t;const n=r&&r.encode||Q4e,i=r&&r.serialize;let s;if(i?s=i(e,r):s=er.isURLSearchParams(e)?e.toString():new l8(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class J4e{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){er.forEach(this.handlers,function(n){n!==null&&e(n)})}}const $N=J4e,iK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ePe=typeof URLSearchParams<"u"?URLSearchParams:l8,tPe=typeof FormData<"u"?FormData:null,rPe=typeof Blob<"u"?Blob:null,nPe={isBrowser:!0,classes:{URLSearchParams:ePe,FormData:tPe,Blob:rPe},protocols:["http","https","file","blob","url","data"]},sK=typeof window<"u"&&typeof document<"u",iPe=(t=>sK&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),sPe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),oPe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sK,hasStandardBrowserEnv:iPe,hasStandardBrowserWebWorkerEnv:sPe},Symbol.toStringTag,{value:"Module"})),Gc={...oPe,...nPe};function aPe(t,e){return LE(t,new Gc.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return Gc.isNode&&er.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function lPe(t){return er.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uPe(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function oK(t){function e(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&er.isArray(i)?i.length:o,l?(er.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!er.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&er.isArray(i[o])&&(i[o]=uPe(i[o])),!a)}if(er.isFormData(t)&&er.isFunction(t.entries)){const r={};return er.forEachEntry(t,(n,i)=>{e(lPe(n),i,r,0)}),r}return null}function cPe(t,e,r){if(er.isString(t))try{return(e||JSON.parse)(t),er.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const u8={transitional:iK,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=er.isObject(e);if(s&&er.isHTMLForm(e)&&(e=new FormData(e)),er.isFormData(e))return i?JSON.stringify(oK(e)):e;if(er.isArrayBuffer(e)||er.isBuffer(e)||er.isStream(e)||er.isFile(e)||er.isBlob(e))return e;if(er.isArrayBufferView(e))return e.buffer;if(er.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return aPe(e,this.formSerializer).toString();if((a=er.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return LE(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),cPe(e)):e}],transformResponse:[function(e){const r=this.transitional||u8.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&er.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?pi.from(a,pi.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gc.classes.FormData,Blob:Gc.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};er.forEach(["delete","get","head","post","put","patch"],t=>{u8.headers[t]={}});const c8=u8,dPe=er.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fPe=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&dPe[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},LN=Symbol("internals");function v_(t){return t&&String(t).trim().toLowerCase()}function Rw(t){return t===!1||t==null?t:er.isArray(t)?t.map(Rw):String(t)}function hPe(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const pPe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function OA(t,e,r,n,i){if(er.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!er.isString(e)){if(er.isString(n))return e.indexOf(n)!==-1;if(er.isRegExp(n))return n.test(e)}}function mPe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function gPe(t,e){const r=er.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}class FE{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,u){const d=v_(l);if(!d)throw new Error("header name must be a non-empty string");const f=er.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Rw(a))}const o=(a,l)=>er.forEach(a,(u,d)=>s(u,d,l));return er.isPlainObject(e)||e instanceof this.constructor?o(e,r):er.isString(e)&&(e=e.trim())&&!pPe(e)?o(fPe(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=v_(e),e){const n=er.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return hPe(i);if(er.isFunction(r))return r.call(this,i,n);if(er.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=v_(e),e){const n=er.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||OA(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=v_(o),o){const a=er.findKey(n,o);a&&(!r||OA(n,n[a],a,r))&&(delete n[a],i=!0)}}return er.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||OA(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return er.forEach(this,(i,s)=>{const o=er.findKey(n,s);if(o){r[o]=Rw(i),delete r[s];return}const a=e?mPe(s):String(s).trim();a!==s&&delete r[s],r[a]=Rw(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return er.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&er.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[LN]=this[LN]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=v_(o);n[a]||(gPe(i,o),n[a]=!0)}return er.isArray(e)?e.forEach(s):s(e),this}}FE.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);er.reduceDescriptors(FE.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});er.freezeMethods(FE);const lf=FE;function DA(t,e){const r=this||c8,n=e||r,i=lf.from(n.headers);let s=n.data;return er.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function aK(t){return!!(t&&t.__CANCEL__)}function r1(t,e,r){pi.call(this,t??"canceled",pi.ERR_CANCELED,e,r),this.name="CanceledError"}er.inherits(r1,pi,{__CANCEL__:!0});function vPe(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new pi("Request failed with status code "+r.status,[pi.ERR_BAD_REQUEST,pi.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const _Pe=Gc.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const o=[t+"="+encodeURIComponent(e)];er.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),er.isString(n)&&o.push("path="+n),er.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yPe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function bPe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function lK(t,e){return t&&!yPe(e)?bPe(t,e):e}const xPe=Gc.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=er.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function wPe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function SPe(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=n[s];o||(o=u),r[i]=l,n[i]=u;let f=s,h=0;for(;f!==i;)h+=r[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const g=d&&u-d;return g?Math.round(h*1e3/g):void 0}}function FN(t,e){let r=0;const n=SPe(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,l=n(a),u=s<=o;r=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};d[e?"download":"upload"]=!0,t(d)}}const TPe=typeof XMLHttpRequest<"u",EPe=TPe&&function(t){return new Promise(function(r,n){let i=t.data;const s=lf.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let d;if(er.isFormData(i)){if(Gc.hasStandardBrowserEnv||Gc.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((d=s.getContentType())!==!1){const[v,...b]=d?d.split(";").map(S=>S.trim()).filter(Boolean):[];s.setContentType([v||"multipart/form-data",...b].join("; "))}}let f=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+b))}const h=lK(t.baseURL,t.url);f.open(t.method.toUpperCase(),nK(h,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function g(){if(!f)return;const v=lf.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:v,config:t,request:f};vPe(function(E){r(E),u()},function(E){n(E),u()},S),f=null}if("onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(g)},f.onabort=function(){f&&(n(new pi("Request aborted",pi.ECONNABORTED,t,f)),f=null)},f.onerror=function(){n(new pi("Network Error",pi.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let b=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const S=t.transitional||iK;t.timeoutErrorMessage&&(b=t.timeoutErrorMessage),n(new pi(b,S.clarifyTimeoutError?pi.ETIMEDOUT:pi.ECONNABORTED,t,f)),f=null},Gc.hasStandardBrowserEnv&&(a&&er.isFunction(a)&&(a=a(t)),a||a!==!1&&xPe(h))){const v=t.xsrfHeaderName&&t.xsrfCookieName&&_Pe.read(t.xsrfCookieName);v&&s.set(t.xsrfHeaderName,v)}i===void 0&&s.setContentType(null),"setRequestHeader"in f&&er.forEach(s.toJSON(),function(b,S){f.setRequestHeader(S,b)}),er.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",FN(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",FN(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=v=>{f&&(n(!v||v.type?new r1(null,t,f):v),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const p=wPe(h);if(p&&Gc.protocols.indexOf(p)===-1){n(new pi("Unsupported protocol "+p+":",pi.ERR_BAD_REQUEST,t));return}f.send(i||null)})},Lk={http:Y4e,xhr:EPe};er.forEach(Lk,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const NN=t=>`- ${t}`,CPe=t=>er.isFunction(t)||t===null||t===!1,uK={getAdapter:t=>{t=er.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let o;if(n=r,!CPe(r)&&(n=Lk[(o=String(r)).toLowerCase()],n===void 0))throw new pi(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(NN).join(`
`):" "+NN(s[0]):"as no adapter specified";throw new pi("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Lk};function MA(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new r1(null,t)}function BN(t){return MA(t),t.headers=lf.from(t.headers),t.data=DA.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),uK.getAdapter(t.adapter||c8.adapter)(t).then(function(n){return MA(t),n.data=DA.call(t,t.transformResponse,n),n.headers=lf.from(n.headers),n},function(n){return aK(n)||(MA(t),n&&n.response&&(n.response.data=DA.call(t,t.transformResponse,n.response),n.response.headers=lf.from(n.response.headers))),Promise.reject(n)})}const UN=t=>t instanceof lf?{...t}:t;function Kg(t,e){e=e||{};const r={};function n(u,d,f){return er.isPlainObject(u)&&er.isPlainObject(d)?er.merge.call({caseless:f},u,d):er.isPlainObject(d)?er.merge({},d):er.isArray(d)?d.slice():d}function i(u,d,f){if(er.isUndefined(d)){if(!er.isUndefined(u))return n(void 0,u,f)}else return n(u,d,f)}function s(u,d){if(!er.isUndefined(d))return n(void 0,d)}function o(u,d){if(er.isUndefined(d)){if(!er.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>i(UN(u),UN(d),!0)};return er.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=l[d]||i,h=f(t[d],e[d],d);er.isUndefined(h)&&f!==a||(r[d]=h)}),r}const cK="1.6.8",d8={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{d8[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const VN={};d8.transitional=function(e,r,n){function i(s,o){return"[Axios v"+cK+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new pi(i(o," has been removed"+(r?" in "+r:"")),pi.ERR_DEPRECATED);return r&&!VN[o]&&(VN[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function APe(t,e,r){if(typeof t!="object")throw new pi("options must be an object",pi.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new pi("option "+s+" must be "+l,pi.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new pi("Unknown option "+s,pi.ERR_BAD_OPTION)}}const Fk={assertOptions:APe,validators:d8},Wf=Fk.validators;class $S{constructor(e){this.defaults=e,this.interceptors={request:new $N,response:new $N}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Kg(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Fk.assertOptions(n,{silentJSONParsing:Wf.transitional(Wf.boolean),forcedJSONParsing:Wf.transitional(Wf.boolean),clarifyTimeoutError:Wf.transitional(Wf.boolean)},!1),i!=null&&(er.isFunction(i)?r.paramsSerializer={serialize:i}:Fk.assertOptions(i,{encode:Wf.function,serialize:Wf.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&er.merge(s.common,s[r.method]);s&&er.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=lf.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,h;if(!l){const p=[BN.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=a.length;let g=r;for(f=0;f<h;){const p=a[f++],v=a[f++];try{g=p(g)}catch(b){v.call(this,b);break}}try{d=BN.call(this,g)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Kg(this.defaults,e);const r=lK(e.baseURL,e.url);return nK(r,e.params,e.paramsSerializer)}}er.forEach(["delete","get","head","options"],function(e){$S.prototype[e]=function(r,n){return this.request(Kg(n||{},{method:e,url:r,data:(n||{}).data}))}});er.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(Kg(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}$S.prototype[e]=r(),$S.prototype[e+"Form"]=r(!0)});const $w=$S;class f8{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new r1(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new f8(function(i){e=i}),cancel:e}}}const PPe=f8;function kPe(t){return function(r){return t.apply(null,r)}}function IPe(t){return er.isObject(t)&&t.isAxiosError===!0}const Nk={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nk).forEach(([t,e])=>{Nk[e]=t});const OPe=Nk;function dK(t){const e=new $w(t),r=GY($w.prototype.request,e);return er.extend(r,$w.prototype,e,{allOwnKeys:!0}),er.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return dK(Kg(t,i))},r}const Qs=dK(c8);Qs.Axios=$w;Qs.CanceledError=r1;Qs.CancelToken=PPe;Qs.isCancel=aK;Qs.VERSION=cK;Qs.toFormData=LE;Qs.AxiosError=pi;Qs.Cancel=Qs.CanceledError;Qs.all=function(e){return Promise.all(e)};Qs.spread=kPe;Qs.isAxiosError=IPe;Qs.mergeConfig=Kg;Qs.AxiosHeaders=lf;Qs.formToJSON=t=>oK(er.isHTMLForm(t)?new FormData(t):t);Qs.getAdapter=uK.getAdapter;Qs.HttpStatusCode=OPe;Qs.default=Qs;const lr=Qs;const DPe=$ce(),bh=ece(DPe);function Bk(t){this.message=t}Bk.prototype=new Error,Bk.prototype.name="InvalidCharacterError";var zN=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new Bk("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,i=0,s=0,o="";n=e.charAt(s++);~n&&(r=i%4?64*r+n:n,i++%4)?o+=String.fromCharCode(255&r>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o};function MPe(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(r){return decodeURIComponent(zN(r).replace(/(.)/g,function(n,i){var s=i.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}(e)}catch{return zN(e)}}function LS(t){this.message=t}function Uk(t,e){if(typeof t!="string")throw new LS("Invalid token specified");var r=(e=e||{}).header===!0?0:1;try{return JSON.parse(MPe(t.split(".")[r]))}catch(n){throw new LS("Invalid token specified: "+n.message)}}LS.prototype=new Error,LS.prototype.name="InvalidTokenError";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},RPe=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],a=t[r++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hK={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(h=64)),n.push(r[d],r[f],r[h],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fK(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RPe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new $Pe;const h=s<<2|a>>4;if(n.push(h),u!==64){const g=a<<4&240|u>>2;if(n.push(g),f!==64){const p=u<<6&192|f;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LPe=function(t){const e=fK(t);return hK.encodeByteArray(e,!0)},pK=function(t){return LPe(t).replace(/\./g,"")},FPe=function(t){try{return hK.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NPe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BPe=()=>NPe().__FIREBASE_DEFAULTS__,UPe=()=>{if(typeof process>"u"||typeof{}>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VPe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FPe(t[1]);return e&&JSON.parse(e)},zPe=()=>{try{return BPe()||UPe()||VPe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mK=()=>{var t;return(t=zPe())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jPe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}function gK(){try{return typeof indexedDB=="object"}catch{return!1}}function vK(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function HPe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GPe="FirebaseError";class Uv extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=GPe,Object.setPrototypeOf(this,Uv.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,NE.prototype.create)}}class NE{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?WPe(s,n):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Uv(i,a,n)}}function WPe(t,e){return t.replace(qPe,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const qPe=/\{\$([^}]+)}/g;function Vk(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(jN(s)&&jN(o)){if(!Vk(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function jN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t){return t&&t._delegate?t._delegate:t}let Vh=class{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XPe{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new jPe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KPe(e))try{this.getOrInitializeService({instanceIdentifier:zp})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=zp){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zp){return this.instances.has(e)}getOptions(e=zp){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);n===a&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:YPe(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=zp){return this.component?this.component.multipleInstances?e:zp:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YPe(t){return t===zp?void 0:t}function KPe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZPe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new XPe(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rs;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rs||(rs={}));const QPe={debug:rs.DEBUG,verbose:rs.VERBOSE,info:rs.INFO,warn:rs.WARN,error:rs.ERROR,silent:rs.SILENT},JPe=rs.INFO,eke={[rs.DEBUG]:"log",[rs.VERBOSE]:"log",[rs.INFO]:"info",[rs.WARN]:"warn",[rs.ERROR]:"error"},tke=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=eke[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rke{constructor(e){this.name=e,this._logLevel=JPe,this._logHandler=tke,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rs))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QPe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rs.DEBUG,...e),this._logHandler(this,rs.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rs.VERBOSE,...e),this._logHandler(this,rs.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rs.INFO,...e),this._logHandler(this,rs.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rs.WARN,...e),this._logHandler(this,rs.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rs.ERROR,...e),this._logHandler(this,rs.ERROR,...e)}}const nke=(t,e)=>e.some(r=>t instanceof r);let HN,GN;function ike(){return HN||(HN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ske(){return GN||(GN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _K=new WeakMap,zk=new WeakMap,yK=new WeakMap,RA=new WeakMap,p8=new WeakMap;function oke(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(uf(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&_K.set(r,t)}).catch(()=>{}),p8.set(e,t),e}function ake(t){if(zk.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zk.set(t,e)}let jk={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return zk.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yK.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return uf(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lke(t){jk=t(jk)}function uke(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call($A(this),e,...r);return yK.set(n,e.sort?e.sort():[e]),uf(n)}:ske().includes(t)?function(...e){return t.apply($A(this),e),uf(_K.get(this))}:function(...e){return uf(t.apply($A(this),e))}}function cke(t){return typeof t=="function"?uke(t):(t instanceof IDBTransaction&&ake(t),nke(t,ike())?new Proxy(t,jk):t)}function uf(t){if(t instanceof IDBRequest)return oke(t);if(RA.has(t))return RA.get(t);const e=cke(t);return e!==t&&(RA.set(t,e),p8.set(e,t)),e}const $A=t=>p8.get(t);function BE(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=uf(o);return n&&o.addEventListener("upgradeneeded",l=>{n(uf(o.result),l.oldVersion,l.newVersion,uf(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function LA(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),uf(r).then(()=>{})}const dke=["get","getKey","getAll","getAllKeys","count"],fke=["put","add","delete","clear"],FA=new Map;function WN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(FA.get(e))return FA.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=fke.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||dke.includes(r)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),i&&l.done]))[0]};return FA.set(e,s),s}lke(t=>({...t,get:(e,r,n)=>WN(e,r)||t.get(e,r,n),has:(e,r)=>!!WN(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hke{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(pke(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function pke(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hk="@firebase/app",qN="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new rke("@firebase/app"),mke="@firebase/app-compat",gke="@firebase/analytics-compat",vke="@firebase/analytics",_ke="@firebase/app-check-compat",yke="@firebase/app-check",bke="@firebase/auth",xke="@firebase/auth-compat",wke="@firebase/database",Ske="@firebase/database-compat",Tke="@firebase/functions",Eke="@firebase/functions-compat",Cke="@firebase/installations",Ake="@firebase/installations-compat",Pke="@firebase/messaging",kke="@firebase/messaging-compat",Ike="@firebase/performance",Oke="@firebase/performance-compat",Dke="@firebase/remote-config",Mke="@firebase/remote-config-compat",Rke="@firebase/storage",$ke="@firebase/storage-compat",Lke="@firebase/firestore",Fke="@firebase/firestore-compat",Nke="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="[DEFAULT]",Bke={[Hk]:"fire-core",[mke]:"fire-core-compat",[vke]:"fire-analytics",[gke]:"fire-analytics-compat",[yke]:"fire-app-check",[_ke]:"fire-app-check-compat",[bke]:"fire-auth",[xke]:"fire-auth-compat",[wke]:"fire-rtdb",[Ske]:"fire-rtdb-compat",[Tke]:"fire-fn",[Eke]:"fire-fn-compat",[Cke]:"fire-iid",[Ake]:"fire-iid-compat",[Pke]:"fire-fcm",[kke]:"fire-fcm-compat",[Ike]:"fire-perf",[Oke]:"fire-perf-compat",[Dke]:"fire-rc",[Mke]:"fire-rc-compat",[Rke]:"fire-gcs",[$ke]:"fire-gcs-compat",[Lke]:"fire-fst",[Fke]:"fire-fst-compat","fire-js":"fire-js",[Nke]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new Map,Uke=new Map,Wk=new Map;function XN(t,e){try{t.container.addComponent(e)}catch(r){B0.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function U0(t){const e=t.name;if(Wk.has(e))return B0.debug(`There were multiple attempts to register component ${e}.`),!1;Wk.set(e,t);for(const r of NS.values())XN(r,t);for(const r of Uke.values())XN(r,t);return!0}function m8(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vke={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kh=new NE("app","Firebase",Vke);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zke{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Vh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kh.create("app-deleted",{appName:this._name})}}function bK(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Gk,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw kh.create("bad-app-name",{appName:String(i)});if(r||(r=mK()),!r)throw kh.create("no-options");const s=NS.get(i);if(s){if(Vk(r,s.options)&&Vk(n,s.config))return s;throw kh.create("duplicate-app",{appName:i})}const o=new ZPe(i);for(const l of Wk.values())o.addComponent(l);const a=new zke(r,n,o);return NS.set(i,a),a}function jke(t=Gk){const e=NS.get(t);if(!e&&t===Gk&&mK())return bK();if(!e)throw kh.create("no-app",{appName:t});return e}function Ih(t,e,r){var n;let i=(n=Bke[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),B0.warn(a.join(" "));return}U0(new Vh(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hke="firebase-heartbeat-database",Gke=1,V2="firebase-heartbeat-store";let NA=null;function xK(){return NA||(NA=BE(Hke,Gke,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(V2)}catch(r){console.warn(r)}}}}).catch(t=>{throw kh.create("idb-open",{originalErrorMessage:t.message})})),NA}async function Wke(t){try{const r=(await xK()).transaction(V2),n=await r.objectStore(V2).get(wK(t));return await r.done,n}catch(e){if(e instanceof Uv)B0.warn(e.message);else{const r=kh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});B0.warn(r.message)}}}async function YN(t,e){try{const n=(await xK()).transaction(V2,"readwrite");await n.objectStore(V2).put(e,wK(t)),await n.done}catch(r){if(r instanceof Uv)B0.warn(r.message);else{const n=kh.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});B0.warn(n.message)}}}function wK(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qke=1024,Xke=30*24*60*60*1e3;class Yke{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Zke(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KN();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Xke}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=KN(),{heartbeatsToSend:n,unsentEntries:i}=Kke(this._heartbeatsCache.heartbeats),s=pK(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function KN(){return new Date().toISOString().substring(0,10)}function Kke(t,e=qke){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ZN(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),ZN(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Zke{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gK()?vK().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Wke(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return YN(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return YN(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ZN(t){return pK(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qke(t){U0(new Vh("platform-logger",e=>new hke(e),"PRIVATE")),U0(new Vh("heartbeat",e=>new Yke(e),"PRIVATE")),Ih(Hk,qN,t),Ih(Hk,qN,"esm2017"),Ih("fire-js","")}Qke("");var Jke="firebase",eIe="10.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ih(Jke,eIe,"app");const SK="@firebase/installations",g8="0.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK=1e4,EK=`w:${g8}`,CK="FIS_v2",tIe="https://firebaseinstallations.googleapis.com/v1",rIe=60*60*1e3,nIe="installations",iIe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sIe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},V0=new NE(nIe,iIe,sIe);function AK(t){return t instanceof Uv&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK({projectId:t}){return`${tIe}/projects/${t}/installations`}function kK(t){return{token:t.token,requestStatus:2,expiresIn:aIe(t.expiresIn),creationTime:Date.now()}}async function IK(t,e){const n=(await e.json()).error;return V0.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function OK({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function oIe(t,{refreshToken:e}){const r=OK(t);return r.append("Authorization",lIe(e)),r}async function DK(t){const e=await t();return e.status>=500&&e.status<600?t():e}function aIe(t){return Number(t.replace("s","000"))}function lIe(t){return`${CK} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uIe({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=PK(t),i=OK(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:r,authVersion:CK,appId:t.appId,sdkVersion:EK},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await DK(()=>fetch(n,a));if(l.ok){const u=await l.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:kK(u.authToken)}}else throw await IK("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MK(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cIe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dIe=/^[cdef][\w-]{21}$/,qk="";function fIe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=hIe(t);return dIe.test(r)?r:qk}catch{return qk}}function hIe(t){return cIe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RK=new Map;function $K(t,e){const r=UE(t);LK(r,e),pIe(r,e)}function LK(t,e){const r=RK.get(t);if(r)for(const n of r)n(e)}function pIe(t,e){const r=mIe();r&&r.postMessage({key:t,fid:e}),gIe()}let d0=null;function mIe(){return!d0&&"BroadcastChannel"in self&&(d0=new BroadcastChannel("[Firebase] FID Change"),d0.onmessage=t=>{LK(t.data.key,t.data.fid)}),d0}function gIe(){RK.size===0&&d0&&(d0.close(),d0=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vIe="firebase-installations-database",_Ie=1,z0="firebase-installations-store";let BA=null;function v8(){return BA||(BA=BE(vIe,_Ie,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(z0)}}})),BA}async function BS(t,e){const r=UE(t),i=(await v8()).transaction(z0,"readwrite"),s=i.objectStore(z0),o=await s.get(r);return await s.put(e,r),await i.done,(!o||o.fid!==e.fid)&&$K(t,e.fid),e}async function FK(t){const e=UE(t),n=(await v8()).transaction(z0,"readwrite");await n.objectStore(z0).delete(e),await n.done}async function VE(t,e){const r=UE(t),i=(await v8()).transaction(z0,"readwrite"),s=i.objectStore(z0),o=await s.get(r),a=e(o);return a===void 0?await s.delete(r):await s.put(a,r),await i.done,a&&(!o||o.fid!==a.fid)&&$K(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _8(t){let e;const r=await VE(t.appConfig,n=>{const i=yIe(n),s=bIe(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===qk?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function yIe(t){const e=t||{fid:fIe(),registrationStatus:0};return NK(e)}function bIe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(V0.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=xIe(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:wIe(t)}:{installationEntry:e}}async function xIe(t,e){try{const r=await uIe(t,e);return BS(t.appConfig,r)}catch(r){throw AK(r)&&r.customData.serverCode===409?await FK(t.appConfig):await BS(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function wIe(t){let e=await QN(t.appConfig);for(;e.registrationStatus===1;)await MK(100),e=await QN(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await _8(t);return n||r}return e}function QN(t){return VE(t,e=>{if(!e)throw V0.create("installation-not-found");return NK(e)})}function NK(t){return SIe(t)?{fid:t.fid,registrationStatus:0}:t}function SIe(t){return t.registrationStatus===1&&t.registrationTime+TK<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TIe({appConfig:t,heartbeatServiceProvider:e},r){const n=EIe(t,r),i=oIe(t,r),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:EK,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await DK(()=>fetch(n,a));if(l.ok){const u=await l.json();return kK(u)}else throw await IK("Generate Auth Token",l)}function EIe(t,{fid:e}){return`${PK(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y8(t,e=!1){let r;const n=await VE(t.appConfig,s=>{if(!BK(s))throw V0.create("not-registered");const o=s.authToken;if(!e&&PIe(o))return s;if(o.requestStatus===1)return r=CIe(t,e),s;{if(!navigator.onLine)throw V0.create("app-offline");const a=IIe(s);return r=AIe(t,a),a}});return r?await r:n.authToken}async function CIe(t,e){let r=await JN(t.appConfig);for(;r.authToken.requestStatus===1;)await MK(100),r=await JN(t.appConfig);const n=r.authToken;return n.requestStatus===0?y8(t,e):n}function JN(t){return VE(t,e=>{if(!BK(e))throw V0.create("not-registered");const r=e.authToken;return OIe(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function AIe(t,e){try{const r=await TIe(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await BS(t.appConfig,n),r}catch(r){if(AK(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await FK(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await BS(t.appConfig,n)}throw r}}function BK(t){return t!==void 0&&t.registrationStatus===2}function PIe(t){return t.requestStatus===2&&!kIe(t)}function kIe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+rIe}function IIe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function OIe(t){return t.requestStatus===1&&t.requestTime+TK<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DIe(t){const e=t,{installationEntry:r,registrationPromise:n}=await _8(e);return n?n.catch(console.error):y8(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MIe(t,e=!1){const r=t;return await RIe(r),(await y8(r,e)).token}async function RIe(t){const{registrationPromise:e}=await _8(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Ie(t){if(!t||!t.options)throw UA("App Configuration");if(!t.name)throw UA("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw UA(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function UA(t){return V0.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UK="installations",LIe="installations-internal",FIe=t=>{const e=t.getProvider("app").getImmediate(),r=$Ie(e),n=m8(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},NIe=t=>{const e=t.getProvider("app").getImmediate(),r=m8(e,UK).getImmediate();return{getId:()=>DIe(r),getToken:i=>MIe(r,i)}};function BIe(){U0(new Vh(UK,FIe,"PUBLIC")),U0(new Vh(LIe,NIe,"PRIVATE"))}BIe();Ih(SK,g8);Ih(SK,g8,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UIe="/firebase-messaging-sw.js",VIe="/firebase-cloud-messaging-push-scope",VK="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zIe="https://fcmregistrations.googleapis.com/v1",zK="google.c.a.c_id",jIe="google.c.a.c_l",HIe="google.c.a.ts",GIe="google.c.a.e";var eB;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(eB||(eB={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var z2;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(z2||(z2={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function WIe(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let s=0;s<n.length;++s)i[s]=n.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="fcm_token_details_db",qIe=5,tB="fcm_token_object_Store";async function XIe(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(VA))return null;let e=null;return(await BE(VA,qIe,{upgrade:async(n,i,s,o)=>{var a;if(i<2||!n.objectStoreNames.contains(tB))return;const l=o.objectStore(tB),u=await l.index("fcmSenderId").get(t);if(await l.clear(),!!u){if(i===2){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Xd(d.vapidKey)}}}else if(i===3){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xd(d.auth),p256dh:Xd(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xd(d.vapidKey)}}}else if(i===4){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xd(d.auth),p256dh:Xd(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xd(d.vapidKey)}}}}}})).close(),await LA(VA),await LA("fcm_vapid_details_db"),await LA("undefined"),YIe(e)?e:null}function YIe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KIe="firebase-messaging-database",ZIe=1,j0="firebase-messaging-store";let zA=null;function b8(){return zA||(zA=BE(KIe,ZIe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(j0)}}})),zA}async function jK(t){const e=w8(t),n=await(await b8()).transaction(j0).objectStore(j0).get(e);if(n)return n;{const i=await XIe(t.appConfig.senderId);if(i)return await x8(t,i),i}}async function x8(t,e){const r=w8(t),i=(await b8()).transaction(j0,"readwrite");return await i.objectStore(j0).put(e,r),await i.done,e}async function QIe(t){const e=w8(t),n=(await b8()).transaction(j0,"readwrite");await n.objectStore(j0).delete(e),await n.done}function w8({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JIe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ea=new NE("messaging","Messaging",JIe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eOe(t,e){const r=await T8(t),n=GK(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(S8(t.appConfig),i)).json()}catch(o){throw ea.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw ea.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw ea.create("token-subscribe-no-token");return s.token}async function tOe(t,e){const r=await T8(t),n=GK(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(`${S8(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw ea.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw ea.create("token-update-failed",{errorInfo:o})}if(!s.token)throw ea.create("token-update-no-token");return s.token}async function HK(t,e){const n={method:"DELETE",headers:await T8(t)};try{const s=await(await fetch(`${S8(t.appConfig)}/${e}`,n)).json();if(s.error){const o=s.error.message;throw ea.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw ea.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function S8({projectId:t}){return`${zIe}/projects/${t}/registrations`}async function T8({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function GK({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==VK&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rOe=7*24*60*60*1e3;async function nOe(t){const e=await oOe(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Xd(e.getKey("auth")),p256dh:Xd(e.getKey("p256dh"))},n=await jK(t.firebaseDependencies);if(n){if(aOe(n.subscriptionOptions,r))return Date.now()>=n.createTime+rOe?sOe(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await HK(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return rB(t.firebaseDependencies,r)}else return rB(t.firebaseDependencies,r)}async function iOe(t){const e=await jK(t.firebaseDependencies);e&&(await HK(t.firebaseDependencies,e.token),await QIe(t.firebaseDependencies));const r=await t.swRegistration.pushManager.getSubscription();return r?r.unsubscribe():!0}async function sOe(t,e){try{const r=await tOe(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await x8(t.firebaseDependencies,n),r}catch(r){throw await iOe(t),r}}async function rB(t,e){const n={token:await eOe(t,e),createTime:Date.now(),subscriptionOptions:e};return await x8(t,n),n.token}async function oOe(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:WIe(e)})}function aOe(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return r&&n&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return lOe(e,t),uOe(e,t),cOe(e,t),e}function lOe(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function uOe(t,e){e.data&&(t.data=e.data)}function cOe(t,e){var r,n,i,s,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const a=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dOe(t){return typeof t=="object"&&!!t&&zK in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */WK("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");WK("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function WK(t,e){const r=[];for(let n=0;n<t.length;n++)r.push(t.charAt(n)),n<e.length&&r.push(e.charAt(n));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fOe(t){if(!t||!t.options)throw jA("App Configuration Object");if(!t.name)throw jA("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw jA(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function jA(t){return ea.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hOe{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=fOe(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pOe(t){try{t.swRegistration=await navigator.serviceWorker.register(UIe,{scope:VIe}),t.swRegistration.update().catch(()=>{})}catch(e){throw ea.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mOe(t,e){if(!e&&!t.swRegistration&&await pOe(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw ea.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gOe(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=VK)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qK(t,e){if(!navigator)throw ea.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ea.create("permission-blocked");return await gOe(t,e==null?void 0:e.vapidKey),await mOe(t,e==null?void 0:e.serviceWorkerRegistration),nOe(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vOe(t,e,r){const n=_Oe(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[zK],message_name:r[jIe],message_time:r[HIe],message_device_time:Math.floor(Date.now()/1e3)})}function _Oe(t){switch(t){case z2.NOTIFICATION_CLICKED:return"notification_open";case z2.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yOe(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===z2.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(nB(r)):t.onMessageHandler.next(nB(r)));const n=r.data;dOe(n)&&n[GIe]==="1"&&await vOe(t,r.messageType,n)}const iB="@firebase/messaging",sB="0.12.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bOe=t=>{const e=new hOe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>yOe(e,r)),e},xOe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>qK(e,n)}};function wOe(){U0(new Vh("messaging",bOe,"PUBLIC")),U0(new Vh("messaging-internal",xOe,"PRIVATE")),Ih(iB,sB),Ih(iB,sB,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SOe(){try{await vK()}catch{return!1}return typeof window<"u"&&gK()&&HPe()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TOe(t,e){if(!navigator)throw ea.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EOe(t=jke()){return SOe().then(e=>{if(!e)throw ea.create("unsupported-browser")},e=>{throw ea.create("indexed-db-unsupported")}),m8(h8(t),"messaging").getImmediate()}async function COe(t,e){return t=h8(t),qK(t,e)}function AOe(t,e){return t=h8(t),TOe(t,e)}wOe();const Ct=vn({isDot:!1,webauthnFormVisible:!1,authFormVisible:!1,loading:!1,tmpLogin:!1,refreshlogin:!1,qrcode:!1,userInfoForm:!1,labelWidth:"100px",dialogWidth:"85%",width:window.innerWidth,userForm:!1,userTable:!1,noticeTable:!1,topicTable:!1,topicLoad:!0,noticeDrawer:!1,loadingText:"Logining"});const POe={apiKey:"AIzaSyCRthXUaRcPNWmYYq3NokfWVBRzm8uC09U",authDomain:"elpsykonngroo.firebaseapp.com",projectId:"elpsykonngroo",storageBucket:"elpsykonngroo.appspot.com",messagingSenderId:"1035237568740",appId:"1:1035237568740:web:75eb3c160355379a97bcf1"},kOe=bK(POe),XK=EOe(kOe),YK=async t=>{"serviceWorker"in navigator&&IOe(t)},IOe=async t=>{console.log("start register");const e={success:[],failure:[]},r=s=>{console.log("Service Worker registration succeeded. Scope is "+s.scope),e.success.forEach(o=>o(s))},n=s=>{console.log("Service Worker registration failed with "+s),e.failure.forEach(o=>o(s))};try{const s=await navigator.serviceWorker.register("/sw.js",{type:"classic",updateViaCache:"none"});"Notification"in window&&window.Notification.requestPermission().then(o=>{o==="granted"&&(console.log("Notification permission granted"),e.success.push(a=>{"PushManager"in window&&(console.log("PushManager available"),COe(XK,{vapidKey:Wt.publicKey,serviceWorkerRegistration:a}).then(l=>{Pe.registerToken=l;const u={baseURL:Wt.messageUrl,url:"notice/register",method:"PUT",params:{token:l,timestamp:Date.now(),user:t},headers:{"Content-Type":"application/json"},withCredentials:!0};lr(u)}))}),e.failure.push(a=>{console.log("PushManager is not available")}),r(s))})}catch(s){n(s)}const i=()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(s=>{s.forEach(o=>{o.unregister()})})};window.addEventListener("unload",i)};AOe(XK,t=>{var e,r;console.log(t),B2({title:(e=t.notification)==null?void 0:e.title,message:(r=t.notification)==null?void 0:r.body,duration:5e3}),Ct.isDot=!0});window.addEventListener("message",function(t){if(console.log(t.origin),console.log(t.data),typeof t.data=="object"&&t.data){const e=t.data.message;console.log(e),Ct.isDot=!0}});const KK=window.location.href,Zg=new URL(KK).searchParams.get("code"),ZK=new URL(KK).searchParams.get("state");Zg!=null&&ZK!=null&&(Zg.length>20?Pe.grant_type="code":Pe.grant_type="github");function OOe(){var t;t="841aa35355d86c55c1a948831ab90f23f80f71c65a08feb0dc4830a066fd55d36422c464bc58128edecf2f0bf5e0baadfda1168f8cb5883bd8ff6745454afe8b";const e=btoa(t),r={baseURL:Wt.authUrl,url:"/oauth2/token",method:"POST",data:{code_verifier:e,grant_type:"authorization_code",code:Zg,redirect_uri:Wt.redirectUrl,client_id:"pkce"},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};JK(r)}const Qg=()=>{for(var t=document.cookie.split(";"),e="",r=0;r<t.length;r++){var n=t[r].trim();if(n.indexOf("_oauth2_proxy=")==0){e=n.substring(14,n.length);break}}return e};document.addEventListener("DOMContentLoaded",async function(){await QK(),await YK("")});async function QK(){var t=Qg();if(t.length>0){t=atob(t.split("|")[0]);const e={baseURL:Wt.authUrl,url:"/access",method:"POST",data:{key:t},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};return await JK(e)}else return""}const JK=async t=>{const e=await lr(t).then(function(r){let n;return r.data==null&&r.data==""?"":r.data.id_token!=""&&r.data.id_token!=null?(Pe.update(r.data.access_token,r.data.expires_in),n=Uk(r.data.id_token),JSON.stringify(n)):r.data.at!=""&&r.data.at!=null?(Pe.refresh_token=r.data.rt,Pe.id_token=r.data.it,Pe.update(r.data.at,1200),n=Uk(Pe.id_token),JSON.stringify(n)):""}).catch(function(r){return""});if(e){const r=JSON.parse(e);Pe.sub=r.sub,Pe.permission=r.permission,Pe.email_verified=r.email_verified,Pe.client_id=r.azp,Pe.expires_in=r.exp-r.iat,Pe.update(Pe.access_token,Pe.expires_in),r.picture&&(Pe.avatarUrl=Wt.apiUrl+"/storage/object?bucket="+Pe.sub+"&key="+r.picture+"&idToken="+Pe.id_token),await YK(Pe.sub),bh(),vy()}return e};Zg!=null&&ZK==null&&OOe();const oB=ye(0);let Xk,K1=0;lr.interceptors.request.use(t=>(Xk&&(t.headers["X-CSRF-TOKEN"]=Xk),t.validateStatus=function(e){return e>=200&&e<504&&e!=401},t));lr.interceptors.response.use(async function(t){return Xk=t.headers["x-csrf-token"],t.status==403&&K1==0?K1++:K1=0,K1!=0&&(t=await lr(t.config)),t},function(t){return t.request.status===401&&(Pe.sub?t.request.response=="no access"?ti.alert("no access, please ensure and retry"):Qg().length!=0?Ct.refreshlogin=!0:Yk():t.config.url!="/access"&&ti.alert("please login first")),t.message==="Network Error"&&t.request.status===0&&t.request.responseURL===""&&(console.log("cors error"),t.response&&t.response.status===401&&(Pe.sub?t.response.data=="no access"?ti.alert("no access, please ensure and retry"):Qg().length!=0?Ct.refreshlogin=!0:Yk():t.config.url!="/access"&&ti.alert("please login first"))),(t.config.url=="/login"||t.config.url=="/register"||t.config.url=="/public/token/qrcode")&&(ti.alert("service error, please try again later"),DOe()),t});const DOe=()=>{const t={baseURL:Wt.vaultUrl,url:"/v1/auth/userpass/login/"+Wt.vaultUser,method:"POST",data:{password:Wt.vaultPass},headers:{"Content-Type":"application/json"}};lr(t).then(function(e){console.log(e.data);const r={baseURL:Wt.vaultUrl,url:"/v1/totp/code/"+Wt.vaultUser,method:"GET",headers:{"X-Vault-Token":e.data.auth.client_token}};lr(r).then(function(n){const i={baseURL:Wt.statusUrl,url:"/wol",method:"POST",data:{mac:Wt.wakeMac,code:n.data.data.code},headers:{"Content-Type":"application/x-www-form-urlencoded"}};lr(i)})})},Yk=()=>{Pe.refresh_token&&MOe()},MOe=()=>{const t={baseURL:Wt.authUrl,url:"/oauth2/token",method:"POST",data:{grant_type:"refresh_token",refresh_token:Pe.refresh_token},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,auth:{username:Wt.clientId,password:Wt.clientSecret}};lr(t).then(function(e){e.data.access_token!=""&&Pe.update(e.data.access_token,e.data.expires_in)}).catch(function(e){Qg().length==0?ti.alert("session expired, please login agian"):Ct.refreshlogin=!0})},vy=()=>{oB.value=window.setInterval(()=>{Pe.expires_in--,Pe.expires_in==10&&Qg().length==0?Yk():Pe.expires_in==0&&(ROe(),bh(),clearInterval(oB.value))},1e3)},ROe=()=>{Pe.refresh_token="",Pe.access_token=""},eZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tZ="ARRAYBUFFER not supported by this environment",rZ="UINT8ARRAY not supported by this environment";function aB(t,e,r,n){let i,s,o;const a=e||[0],l=(r=r||0)>>>3,u=n===-1?3:0;for(i=0;i<t.length;i+=1)o=i+l,s=o>>>2,a.length<=s&&a.push(0),a[s]|=t[i]<<8*(u+n*(o%4));return{value:a,binLen:8*t.length+r}}function Vv(t,e,r){switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":return function(n,i,s){return function(o,a,l,u){let d,f,h,g;if(o.length%2!=0)throw new Error("String of HEX type must be in byte increments");const p=a||[0],v=(l=l||0)>>>3,b=u===-1?3:0;for(d=0;d<o.length;d+=2){if(f=parseInt(o.substr(d,2),16),isNaN(f))throw new Error("String of HEX type contains invalid characters");for(g=(d>>>1)+v,h=g>>>2;p.length<=h;)p.push(0);p[h]|=f<<8*(b+u*(g%4))}return{value:p,binLen:4*o.length+l}}(n,i,s,r)};case"TEXT":return function(n,i,s){return function(o,a,l,u,d){let f,h,g,p,v,b,S,T,E=0;const C=l||[0],P=(u=u||0)>>>3;if(a==="UTF8")for(S=d===-1?3:0,g=0;g<o.length;g+=1)for(f=o.charCodeAt(g),h=[],128>f?h.push(f):2048>f?(h.push(192|f>>>6),h.push(128|63&f)):55296>f||57344<=f?h.push(224|f>>>12,128|f>>>6&63,128|63&f):(g+=1,f=65536+((1023&f)<<10|1023&o.charCodeAt(g)),h.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|63&f)),p=0;p<h.length;p+=1){for(b=E+P,v=b>>>2;C.length<=v;)C.push(0);C[v]|=h[p]<<8*(S+d*(b%4)),E+=1}else for(S=d===-1?2:0,T=a==="UTF16LE"&&d!==1||a!=="UTF16LE"&&d===1,g=0;g<o.length;g+=1){for(f=o.charCodeAt(g),T===!0&&(p=255&f,f=p<<8|f>>>8),b=E+P,v=b>>>2;C.length<=v;)C.push(0);C[v]|=f<<8*(S+d*(b%4)),E+=2}return{value:C,binLen:8*E+u}}(n,e,i,s,r)};case"B64":return function(n,i,s){return function(o,a,l,u){let d,f,h,g,p,v,b,S=0;const T=a||[0],E=(l=l||0)>>>3,C=u===-1?3:0,P=o.indexOf("=");if(o.search(/^[a-zA-Z0-9=+/]+$/)===-1)throw new Error("Invalid character in base-64 string");if(o=o.replace(/=/g,""),P!==-1&&P<o.length)throw new Error("Invalid '=' found in base-64 string");for(f=0;f<o.length;f+=4){for(p=o.substr(f,4),g=0,h=0;h<p.length;h+=1)d=eZ.indexOf(p.charAt(h)),g|=d<<18-6*h;for(h=0;h<p.length-1;h+=1){for(b=S+E,v=b>>>2;T.length<=v;)T.push(0);T[v]|=(g>>>16-8*h&255)<<8*(C+u*(b%4)),S+=1}}return{value:T,binLen:8*S+l}}(n,i,s,r)};case"BYTES":return function(n,i,s){return function(o,a,l,u){let d,f,h,g;const p=a||[0],v=(l=l||0)>>>3,b=u===-1?3:0;for(f=0;f<o.length;f+=1)d=o.charCodeAt(f),g=f+v,h=g>>>2,p.length<=h&&p.push(0),p[h]|=d<<8*(b+u*(g%4));return{value:p,binLen:8*o.length+l}}(n,i,s,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(tZ)}return function(n,i,s){return function(o,a,l,u){return aB(new Uint8Array(o),a,l,u)}(n,i,s,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(rZ)}return function(n,i,s){return aB(n,i,s,r)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function lB(t,e,r,n){switch(t){case"HEX":return function(i){return function(s,o,a,l){const u="0123456789abcdef";let d,f,h="";const g=o/8,p=a===-1?3:0;for(d=0;d<g;d+=1)f=s[d>>>2]>>>8*(p+a*(d%4)),h+=u.charAt(f>>>4&15)+u.charAt(15&f);return l.outputUpper?h.toUpperCase():h}(i,e,r,n)};case"B64":return function(i){return function(s,o,a,l){let u,d,f,h,g,p="";const v=o/8,b=a===-1?3:0;for(u=0;u<v;u+=3)for(h=u+1<v?s[u+1>>>2]:0,g=u+2<v?s[u+2>>>2]:0,f=(s[u>>>2]>>>8*(b+a*(u%4))&255)<<16|(h>>>8*(b+a*((u+1)%4))&255)<<8|g>>>8*(b+a*((u+2)%4))&255,d=0;d<4;d+=1)p+=8*u+6*d<=o?eZ.charAt(f>>>6*(3-d)&63):l.b64Pad;return p}(i,e,r,n)};case"BYTES":return function(i){return function(s,o,a){let l,u,d="";const f=o/8,h=a===-1?3:0;for(l=0;l<f;l+=1)u=s[l>>>2]>>>8*(h+a*(l%4))&255,d+=String.fromCharCode(u);return d}(i,e,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(tZ)}return function(i){return function(s,o,a){let l;const u=o/8,d=new ArrayBuffer(u),f=new Uint8Array(d),h=a===-1?3:0;for(l=0;l<u;l+=1)f[l]=s[l>>>2]>>>8*(h+a*(l%4))&255;return d}(i,e,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(rZ)}return function(i){return function(s,o,a){let l;const u=o/8,d=a===-1?3:0,f=new Uint8Array(u);for(l=0;l<u;l+=1)f[l]=s[l>>>2]>>>8*(d+a*(l%4))&255;return f}(i,e,r)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const n1=4294967296,Wr=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],jd=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],Hd=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i1="Chosen SHA variant is not supported",nZ="Cannot set numRounds with MAC";function US(t,e){let r,n;const i=t.binLen>>>3,s=e.binLen>>>3,o=i<<3,a=4-i<<3;if(i%4!=0){for(r=0;r<s;r+=4)n=i+r>>>2,t.value[n]|=e.value[r>>>2]<<o,t.value.push(0),t.value[n+1]|=e.value[r>>>2]>>>a;return(t.value.length<<2)-4>=s+i&&t.value.pop(),{value:t.value,binLen:t.binLen+e.binLen}}return{value:t.value.concat(e.value),binLen:t.binLen+e.binLen}}function uB(t){const e={outputUpper:!1,b64Pad:"=",outputLen:-1},r=t||{},n="Output length must be a multiple of 8";if(e.outputUpper=r.outputUpper||!1,r.b64Pad&&(e.b64Pad=r.b64Pad),r.outputLen){if(r.outputLen%8!=0)throw new Error(n);e.outputLen=r.outputLen}else if(r.shakeLen){if(r.shakeLen%8!=0)throw new Error(n);e.outputLen=r.shakeLen}if(typeof e.outputUpper!="boolean")throw new Error("Invalid outputUpper formatting option");if(typeof e.b64Pad!="string")throw new Error("Invalid b64Pad formatting option");return e}function xh(t,e,r,n){const i=t+" must include a value and format";if(!e){if(!n)throw new Error(i);return n}if(e.value===void 0||!e.format)throw new Error(i);return Vv(e.format,e.encoding||"UTF8",r)(e.value)}let zE=class{constructor(e,r,n){const i=n||{};if(this.t=r,this.i=i.encoding||"UTF8",this.numRounds=i.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=e,this.h=[],this.u=0,this.l=!1,this.A=0,this.H=!1,this.S=[],this.p=[]}update(e){let r,n=0;const i=this.m>>>5,s=this.C(e,this.h,this.u),o=s.binLen,a=s.value,l=o>>>5;for(r=0;r<l;r+=i)n+this.m<=o&&(this.U=this.v(a.slice(r,r+i),this.U),n+=this.m);return this.A+=n,this.h=a.slice(n>>>5),this.u=o%this.m,this.l=!0,this}getHash(e,r){let n,i,s=this.R;const o=uB(r);if(this.K){if(o.outputLen===-1)throw new Error("Output length must be specified in options");s=o.outputLen}const a=lB(e,s,this.T,o);if(this.H&&this.g)return a(this.g(o));for(i=this.F(this.h.slice(),this.u,this.A,this.L(this.U),s),n=1;n<this.numRounds;n+=1)this.K&&s%32!=0&&(i[i.length-1]&=16777215>>>24-s%32),i=this.F(i,s,0,this.B(this.o),s);return a(i)}setHMACKey(e,r,n){if(!this.M)throw new Error("Variant does not support HMAC");if(this.l)throw new Error("Cannot set MAC key after calling update");const i=Vv(r,(n||{}).encoding||"UTF8",this.T);this.k(i(e))}k(e){const r=this.m>>>3,n=r/4-1;let i;if(this.numRounds!==1)throw new Error(nZ);if(this.H)throw new Error("MAC key already set");for(r<e.binLen/8&&(e.value=this.F(e.value,e.binLen,0,this.B(this.o),this.R));e.value.length<=n;)e.value.push(0);for(i=0;i<=n;i+=1)this.S[i]=909522486^e.value[i],this.p[i]=1549556828^e.value[i];this.U=this.v(this.S,this.U),this.A=this.m,this.H=!0}getHMAC(e,r){const n=uB(r);return lB(e,this.R,this.T,n)(this.Y())}Y(){let e;if(!this.H)throw new Error("Cannot call getHMAC without first setting MAC key");const r=this.F(this.h.slice(),this.u,this.A,this.L(this.U),this.R);return e=this.v(this.p,this.B(this.o)),e=this.F(r,this.R,this.m,e,this.R),e}};function km(t,e){return t<<e|t>>>32-e}function Jc(t,e){return t>>>e|t<<32-e}function iZ(t,e){return t>>>e}function cB(t,e,r){return t^e^r}function sZ(t,e,r){return t&e^~t&r}function oZ(t,e,r){return t&e^t&r^e&r}function $Oe(t){return Jc(t,2)^Jc(t,13)^Jc(t,22)}function Ko(t,e){const r=(65535&t)+(65535&e);return(65535&(t>>>16)+(e>>>16)+(r>>>16))<<16|65535&r}function LOe(t,e,r,n){const i=(65535&t)+(65535&e)+(65535&r)+(65535&n);return(65535&(t>>>16)+(e>>>16)+(r>>>16)+(n>>>16)+(i>>>16))<<16|65535&i}function _y(t,e,r,n,i){const s=(65535&t)+(65535&e)+(65535&r)+(65535&n)+(65535&i);return(65535&(t>>>16)+(e>>>16)+(r>>>16)+(n>>>16)+(i>>>16)+(s>>>16))<<16|65535&s}function FOe(t){return Jc(t,7)^Jc(t,18)^iZ(t,3)}function NOe(t){return Jc(t,6)^Jc(t,11)^Jc(t,25)}function BOe(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function aZ(t,e){let r,n,i,s,o,a,l;const u=[];for(r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],l=0;l<80;l+=1)u[l]=l<16?t[l]:km(u[l-3]^u[l-8]^u[l-14]^u[l-16],1),a=l<20?_y(km(r,5),sZ(n,i,s),o,1518500249,u[l]):l<40?_y(km(r,5),cB(n,i,s),o,1859775393,u[l]):l<60?_y(km(r,5),oZ(n,i,s),o,2400959708,u[l]):_y(km(r,5),cB(n,i,s),o,3395469782,u[l]),o=s,s=i,i=km(n,30),n=r,r=a;return e[0]=Ko(r,e[0]),e[1]=Ko(n,e[1]),e[2]=Ko(i,e[2]),e[3]=Ko(s,e[3]),e[4]=Ko(o,e[4]),e}function UOe(t,e,r,n){let i;const s=15+(e+65>>>9<<4),o=e+r;for(;t.length<=s;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[s]=4294967295&o,t[s-1]=o/n1|0,i=0;i<t.length;i+=16)n=aZ(t.slice(i,i+16),n);return n}let VOe=class extends zE{constructor(e,r,n){if(e!=="SHA-1")throw new Error(i1);super(e,r,n);const i=n||{};this.M=!0,this.g=this.Y,this.T=-1,this.C=Vv(this.t,this.i,this.T),this.v=aZ,this.L=function(s){return s.slice()},this.B=BOe,this.F=UOe,this.U=[1732584193,4023233417,2562383102,271733878,3285377520],this.m=512,this.R=160,this.K=!1,i.hmacKey&&this.k(xh("hmacKey",i.hmacKey,this.T))}};function dB(t){let e;return e=t=="SHA-224"?jd.slice():Hd.slice(),e}function fB(t,e){let r,n,i,s,o,a,l,u,d,f,h;const g=[];for(r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=0;h<64;h+=1)g[h]=h<16?t[h]:LOe(Jc(p=g[h-2],17)^Jc(p,19)^iZ(p,10),g[h-7],FOe(g[h-15]),g[h-16]),d=_y(u,NOe(o),sZ(o,a,l),Wr[h],g[h]),f=Ko($Oe(r),oZ(r,n,i)),u=l,l=a,a=o,o=Ko(s,d),s=i,i=n,n=r,r=Ko(d,f);var p;return e[0]=Ko(r,e[0]),e[1]=Ko(n,e[1]),e[2]=Ko(i,e[2]),e[3]=Ko(s,e[3]),e[4]=Ko(o,e[4]),e[5]=Ko(a,e[5]),e[6]=Ko(l,e[6]),e[7]=Ko(u,e[7]),e}let zOe=class extends zE{constructor(e,r,n){if(e!=="SHA-224"&&e!=="SHA-256")throw new Error(i1);super(e,r,n);const i=n||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=Vv(this.t,this.i,this.T),this.v=fB,this.L=function(s){return s.slice()},this.B=dB,this.F=function(s,o,a,l){return function(u,d,f,h,g){let p,v;const b=15+(d+65>>>9<<4),S=d+f;for(;u.length<=b;)u.push(0);for(u[d>>>5]|=128<<24-d%32,u[b]=4294967295&S,u[b-1]=S/n1|0,p=0;p<u.length;p+=16)h=fB(u.slice(p,p+16),h);return v=g==="SHA-224"?[h[0],h[1],h[2],h[3],h[4],h[5],h[6]]:h,v}(s,o,a,l,e)},this.U=dB(e),this.m=512,this.R=e==="SHA-224"?224:256,this.K=!1,i.hmacKey&&this.k(xh("hmacKey",i.hmacKey,this.T))}},$t=class{constructor(e,r){this.N=e,this.I=r}};function hB(t,e){let r;return e>32?(r=64-e,new $t(t.I<<e|t.N>>>r,t.N<<e|t.I>>>r)):e!==0?(r=32-e,new $t(t.N<<e|t.I>>>r,t.I<<e|t.N>>>r)):t}function ed(t,e){let r;return e<32?(r=32-e,new $t(t.N>>>e|t.I<<r,t.I>>>e|t.N<<r)):(r=64-e,new $t(t.I>>>e|t.N<<r,t.N>>>e|t.I<<r))}function lZ(t,e){return new $t(t.N>>>e,t.I>>>e|t.N<<32-e)}function jOe(t,e,r){return new $t(t.N&e.N^t.N&r.N^e.N&r.N,t.I&e.I^t.I&r.I^e.I&r.I)}function HOe(t){const e=ed(t,28),r=ed(t,34),n=ed(t,39);return new $t(e.N^r.N^n.N,e.I^r.I^n.I)}function Ou(t,e){let r,n;r=(65535&t.I)+(65535&e.I),n=(t.I>>>16)+(e.I>>>16)+(r>>>16);const i=(65535&n)<<16|65535&r;return r=(65535&t.N)+(65535&e.N)+(n>>>16),n=(t.N>>>16)+(e.N>>>16)+(r>>>16),new $t((65535&n)<<16|65535&r,i)}function GOe(t,e,r,n){let i,s;i=(65535&t.I)+(65535&e.I)+(65535&r.I)+(65535&n.I),s=(t.I>>>16)+(e.I>>>16)+(r.I>>>16)+(n.I>>>16)+(i>>>16);const o=(65535&s)<<16|65535&i;return i=(65535&t.N)+(65535&e.N)+(65535&r.N)+(65535&n.N)+(s>>>16),s=(t.N>>>16)+(e.N>>>16)+(r.N>>>16)+(n.N>>>16)+(i>>>16),new $t((65535&s)<<16|65535&i,o)}function WOe(t,e,r,n,i){let s,o;s=(65535&t.I)+(65535&e.I)+(65535&r.I)+(65535&n.I)+(65535&i.I),o=(t.I>>>16)+(e.I>>>16)+(r.I>>>16)+(n.I>>>16)+(i.I>>>16)+(s>>>16);const a=(65535&o)<<16|65535&s;return s=(65535&t.N)+(65535&e.N)+(65535&r.N)+(65535&n.N)+(65535&i.N)+(o>>>16),o=(t.N>>>16)+(e.N>>>16)+(r.N>>>16)+(n.N>>>16)+(i.N>>>16)+(s>>>16),new $t((65535&o)<<16|65535&s,a)}function __(t,e){return new $t(t.N^e.N,t.I^e.I)}function qOe(t){const e=ed(t,19),r=ed(t,61),n=lZ(t,6);return new $t(e.N^r.N^n.N,e.I^r.I^n.I)}function XOe(t){const e=ed(t,1),r=ed(t,8),n=lZ(t,7);return new $t(e.N^r.N^n.N,e.I^r.I^n.I)}function YOe(t){const e=ed(t,14),r=ed(t,18),n=ed(t,41);return new $t(e.N^r.N^n.N,e.I^r.I^n.I)}const KOe=[new $t(Wr[0],3609767458),new $t(Wr[1],602891725),new $t(Wr[2],3964484399),new $t(Wr[3],2173295548),new $t(Wr[4],4081628472),new $t(Wr[5],3053834265),new $t(Wr[6],2937671579),new $t(Wr[7],3664609560),new $t(Wr[8],2734883394),new $t(Wr[9],1164996542),new $t(Wr[10],1323610764),new $t(Wr[11],3590304994),new $t(Wr[12],4068182383),new $t(Wr[13],991336113),new $t(Wr[14],633803317),new $t(Wr[15],3479774868),new $t(Wr[16],2666613458),new $t(Wr[17],944711139),new $t(Wr[18],2341262773),new $t(Wr[19],2007800933),new $t(Wr[20],1495990901),new $t(Wr[21],1856431235),new $t(Wr[22],3175218132),new $t(Wr[23],2198950837),new $t(Wr[24],3999719339),new $t(Wr[25],766784016),new $t(Wr[26],2566594879),new $t(Wr[27],3203337956),new $t(Wr[28],1034457026),new $t(Wr[29],2466948901),new $t(Wr[30],3758326383),new $t(Wr[31],168717936),new $t(Wr[32],1188179964),new $t(Wr[33],1546045734),new $t(Wr[34],1522805485),new $t(Wr[35],2643833823),new $t(Wr[36],2343527390),new $t(Wr[37],1014477480),new $t(Wr[38],1206759142),new $t(Wr[39],344077627),new $t(Wr[40],1290863460),new $t(Wr[41],3158454273),new $t(Wr[42],3505952657),new $t(Wr[43],106217008),new $t(Wr[44],3606008344),new $t(Wr[45],1432725776),new $t(Wr[46],1467031594),new $t(Wr[47],851169720),new $t(Wr[48],3100823752),new $t(Wr[49],1363258195),new $t(Wr[50],3750685593),new $t(Wr[51],3785050280),new $t(Wr[52],3318307427),new $t(Wr[53],3812723403),new $t(Wr[54],2003034995),new $t(Wr[55],3602036899),new $t(Wr[56],1575990012),new $t(Wr[57],1125592928),new $t(Wr[58],2716904306),new $t(Wr[59],442776044),new $t(Wr[60],593698344),new $t(Wr[61],3733110249),new $t(Wr[62],2999351573),new $t(Wr[63],3815920427),new $t(3391569614,3928383900),new $t(3515267271,566280711),new $t(3940187606,3454069534),new $t(4118630271,4000239992),new $t(116418474,1914138554),new $t(174292421,2731055270),new $t(289380356,3203993006),new $t(460393269,320620315),new $t(685471733,587496836),new $t(852142971,1086792851),new $t(1017036298,365543100),new $t(1126000580,2618297676),new $t(1288033470,3409855158),new $t(1501505948,4234509866),new $t(1607167915,987167468),new $t(1816402316,1246189591)];function pB(t){return t==="SHA-384"?[new $t(3418070365,jd[0]),new $t(1654270250,jd[1]),new $t(2438529370,jd[2]),new $t(355462360,jd[3]),new $t(1731405415,jd[4]),new $t(41048885895,jd[5]),new $t(3675008525,jd[6]),new $t(1203062813,jd[7])]:[new $t(Hd[0],4089235720),new $t(Hd[1],2227873595),new $t(Hd[2],4271175723),new $t(Hd[3],1595750129),new $t(Hd[4],2917565137),new $t(Hd[5],725511199),new $t(Hd[6],4215389547),new $t(Hd[7],327033209)]}function mB(t,e){let r,n,i,s,o,a,l,u,d,f,h,g;const p=[];for(r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=0;h<80;h+=1)h<16?(g=2*h,p[h]=new $t(t[g],t[g+1])):p[h]=GOe(qOe(p[h-2]),p[h-7],XOe(p[h-15]),p[h-16]),d=WOe(u,YOe(o),(b=a,S=l,new $t((v=o).N&b.N^~v.N&S.N,v.I&b.I^~v.I&S.I)),KOe[h],p[h]),f=Ou(HOe(r),jOe(r,n,i)),u=l,l=a,a=o,o=Ou(s,d),s=i,i=n,n=r,r=Ou(d,f);var v,b,S;return e[0]=Ou(r,e[0]),e[1]=Ou(n,e[1]),e[2]=Ou(i,e[2]),e[3]=Ou(s,e[3]),e[4]=Ou(o,e[4]),e[5]=Ou(a,e[5]),e[6]=Ou(l,e[6]),e[7]=Ou(u,e[7]),e}let ZOe=class extends zE{constructor(e,r,n){if(e!=="SHA-384"&&e!=="SHA-512")throw new Error(i1);super(e,r,n);const i=n||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=Vv(this.t,this.i,this.T),this.v=mB,this.L=function(s){return s.slice()},this.B=pB,this.F=function(s,o,a,l){return function(u,d,f,h,g){let p,v;const b=31+(d+129>>>10<<5),S=d+f;for(;u.length<=b;)u.push(0);for(u[d>>>5]|=128<<24-d%32,u[b]=4294967295&S,u[b-1]=S/n1|0,p=0;p<u.length;p+=32)h=mB(u.slice(p,p+32),h);return v=g==="SHA-384"?[h[0].N,h[0].I,h[1].N,h[1].I,h[2].N,h[2].I,h[3].N,h[3].I,h[4].N,h[4].I,h[5].N,h[5].I]:[h[0].N,h[0].I,h[1].N,h[1].I,h[2].N,h[2].I,h[3].N,h[3].I,h[4].N,h[4].I,h[5].N,h[5].I,h[6].N,h[6].I,h[7].N,h[7].I],v}(s,o,a,l,e)},this.U=pB(e),this.m=1024,this.R=e==="SHA-384"?384:512,this.K=!1,i.hmacKey&&this.k(xh("hmacKey",i.hmacKey,this.T))}};const QOe=[new $t(0,1),new $t(0,32898),new $t(2147483648,32906),new $t(2147483648,2147516416),new $t(0,32907),new $t(0,2147483649),new $t(2147483648,2147516545),new $t(2147483648,32777),new $t(0,138),new $t(0,136),new $t(0,2147516425),new $t(0,2147483658),new $t(0,2147516555),new $t(2147483648,139),new $t(2147483648,32905),new $t(2147483648,32771),new $t(2147483648,32770),new $t(2147483648,128),new $t(0,32778),new $t(2147483648,2147483658),new $t(2147483648,2147516545),new $t(2147483648,32896),new $t(0,2147483649),new $t(2147483648,2147516424)],JOe=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function Kk(t){let e;const r=[];for(e=0;e<5;e+=1)r[e]=[new $t(0,0),new $t(0,0),new $t(0,0),new $t(0,0),new $t(0,0)];return r}function eDe(t){let e;const r=[];for(e=0;e<5;e+=1)r[e]=t[e].slice();return r}function Z1(t,e){let r,n,i,s;const o=[],a=[];if(t!==null)for(n=0;n<t.length;n+=2)e[(n>>>1)%5][(n>>>1)/5|0]=__(e[(n>>>1)%5][(n>>>1)/5|0],new $t(t[n+1],t[n]));for(r=0;r<24;r+=1){for(s=Kk(),n=0;n<5;n+=1)o[n]=(l=e[n][0],u=e[n][1],d=e[n][2],f=e[n][3],h=e[n][4],new $t(l.N^u.N^d.N^f.N^h.N,l.I^u.I^d.I^f.I^h.I));for(n=0;n<5;n+=1)a[n]=__(o[(n+4)%5],hB(o[(n+1)%5],1));for(n=0;n<5;n+=1)for(i=0;i<5;i+=1)e[n][i]=__(e[n][i],a[n]);for(n=0;n<5;n+=1)for(i=0;i<5;i+=1)s[i][(2*n+3*i)%5]=hB(e[n][i],JOe[n][i]);for(n=0;n<5;n+=1)for(i=0;i<5;i+=1)e[n][i]=__(s[n][i],new $t(~s[(n+1)%5][i].N&s[(n+2)%5][i].N,~s[(n+1)%5][i].I&s[(n+2)%5][i].I));e[0][0]=__(e[0][0],QOe[r])}var l,u,d,f,h;return e}function uZ(t){let e,r,n=0;const i=[0,0],s=[4294967295&t,t/n1&2097151];for(e=6;e>=0;e--)r=s[e>>2]>>>8*e&255,r===0&&n===0||(i[n+1>>2]|=r<<8*(n+1),n+=1);return n=n!==0?n:1,i[0]|=n,{value:n+1>4?i:[i[0]],binLen:8+8*n}}function HA(t){return US(uZ(t.binLen),t)}function gB(t,e){let r,n=uZ(e);n=US(n,t);const i=e>>>2,s=(i-n.value.length%i)%i;for(r=0;r<s;r++)n.value.push(0);return n.value}let tDe=class extends zE{constructor(t,e,r){let n=6,i=0;super(t,e,r);const s=r||{};if(this.numRounds!==1){if(s.kmacKey||s.hmacKey)throw new Error(nZ);if(this.o==="CSHAKE128"||this.o==="CSHAKE256")throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.T=1,this.C=Vv(this.t,this.i,this.T),this.v=Z1,this.L=eDe,this.B=Kk,this.U=Kk(),this.K=!1,t){case"SHA3-224":this.m=i=1152,this.R=224,this.M=!0,this.g=this.Y;break;case"SHA3-256":this.m=i=1088,this.R=256,this.M=!0,this.g=this.Y;break;case"SHA3-384":this.m=i=832,this.R=384,this.M=!0,this.g=this.Y;break;case"SHA3-512":this.m=i=576,this.R=512,this.M=!0,this.g=this.Y;break;case"SHAKE128":n=31,this.m=i=1344,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"SHAKE256":n=31,this.m=i=1088,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"KMAC128":n=4,this.m=i=1344,this.X(r),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"KMAC256":n=4,this.m=i=1088,this.X(r),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"CSHAKE128":this.m=i=1344,n=this.O(r),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"CSHAKE256":this.m=i=1088,n=this.O(r),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;default:throw new Error(i1)}this.F=function(o,a,l,u,d){return function(f,h,g,p,v,b,S){let T,E,C=0;const P=[],D=v>>>5,L=h>>>5;for(T=0;T<L&&h>=v;T+=D)p=Z1(f.slice(T,T+D),p),h-=v;for(f=f.slice(T),h%=v;f.length<D;)f.push(0);for(T=h>>>3,f[T>>2]^=b<<T%4*8,f[D-1]^=2147483648,p=Z1(f,p);32*P.length<S&&(E=p[C%5][C/5|0],P.push(E.I),!(32*P.length>=S));)P.push(E.N),C+=1,64*C%v==0&&(Z1(null,p),C=0);return P}(o,a,0,u,i,n,d)},s.hmacKey&&this.k(xh("hmacKey",s.hmacKey,this.T))}O(t,e){const r=function(i){const s=i||{};return{funcName:xh("funcName",s.funcName,1,{value:[],binLen:0}),customization:xh("Customization",s.customization,1,{value:[],binLen:0})}}(t||{});e&&(r.funcName=e);const n=US(HA(r.funcName),HA(r.customization));if(r.customization.binLen!==0||r.funcName.binLen!==0){const i=gB(n,this.m>>>3);for(let s=0;s<i.length;s+=this.m>>>5)this.U=this.v(i.slice(s,s+(this.m>>>5)),this.U),this.A+=this.m;return 4}return 31}X(t){const e=function(n){const i=n||{};return{kmacKey:xh("kmacKey",i.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:xh("Customization",i.customization,1,{value:[],binLen:0})}}(t||{});this.O(t,e.funcName);const r=gB(HA(e.kmacKey),this.m>>>3);for(let n=0;n<r.length;n+=this.m>>>5)this.U=this.v(r.slice(n,n+(this.m>>>5)),this.U),this.A+=this.m;this.H=!0}_(t){const e=US({value:this.h.slice(),binLen:this.u},function(r){let n,i,s=0;const o=[0,0],a=[4294967295&r,r/n1&2097151];for(n=6;n>=0;n--)i=a[n>>2]>>>8*n&255,i===0&&s===0||(o[s>>2]|=i<<8*s,s+=1);return s=s!==0?s:1,o[s>>2]|=s<<8*s,{value:s+1>4?o:[o[0]],binLen:8+8*s}}(t.outputLen));return this.F(e.value,e.binLen,this.A,this.L(this.U),t.outputLen)}};class rDe{constructor(e,r,n){if(e=="SHA-1")this.P=new VOe(e,r,n);else if(e=="SHA-224"||e=="SHA-256")this.P=new zOe(e,r,n);else if(e=="SHA-384"||e=="SHA-512")this.P=new ZOe(e,r,n);else{if(e!="SHA3-224"&&e!="SHA3-256"&&e!="SHA3-384"&&e!="SHA3-512"&&e!="SHAKE128"&&e!="SHAKE256"&&e!="CSHAKE128"&&e!="CSHAKE256"&&e!="KMAC128"&&e!="KMAC256")throw new Error(i1);this.P=new tDe(e,r,n)}}update(e){return this.P.update(e),this}getHash(e,r){return this.P.getHash(e,r)}setHMACKey(e,r,n){this.P.setHMACKey(e,r,n)}getHMAC(e,r){return this.P.getHMAC(e,r)}}async function nDe(){var e=btoa("841aa35355d86c55c1a948831ab90f23f80f71c65a08feb0dc4830a066fd55d36422c464bc58128edecf2f0bf5e0baadfda1168f8cb5883bd8ff6745454afe8b");const r=new rDe("SHA-256","TEXT");r.update(e);var n=r.getHash("B64");n=n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),Pe.code_challenge=n}async function cZ(){await nDe(),document.domain=="localhost"?Pe.redirect_uri=Wt.redirectUrl:document.referrer!=""?Pe.redirect_uri=document.referrer:Pe.redirect_uri=window.location.origin;const t={baseURL:Wt.authUrl,url:"oauth2/authorize",method:"GET",params:{response_type:"code",code_challenge_method:"S256",code_challenge:Pe.code_challenge,redirect_uri:Pe.redirect_uri,scope:"openid permission",client_id:"pkce"},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,maxRedirects:0};lr(t).then(function(e){console.log(e.request.responseURL)}).catch(function(e){console.log(e)})}function dZ(t){const e="==".slice(0,(4-t.length%4)%4),r=t.replace(/-/g,"+").replace(/_/g,"/")+e,n=atob(r),i=new ArrayBuffer(n.length),s=new Uint8Array(i);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return i}function fZ(t){const e=new Uint8Array(t);let r="";for(const s of e)r+=String.fromCharCode(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var Di="copy",vl="convert";function Jg(t,e,r){if(e===Di)return r;if(e===vl)return t(r);if(e instanceof Array)return r.map(n=>Jg(t,e[0],n));if(e instanceof Object){const n={};for(const[i,s]of Object.entries(e)){if(s.derive){const o=s.derive(r);o!==void 0&&(r[i]=o)}if(!(i in r)){if(s.required)throw new Error(`Missing key: ${i}`);continue}if(r[i]==null){n[i]=null;continue}n[i]=Jg(t,s.schema,r[i])}return n}}function Zk(t,e){return{required:!0,schema:t,derive:e}}function Xi(t){return{required:!0,schema:t}}function As(t){return{required:!1,schema:t}}var hZ={type:Xi(Di),id:Xi(vl),transports:As(Di)},pZ={appid:As(Di),appidExclude:As(Di),credProps:As(Di)},mZ={appid:As(Di),appidExclude:As(Di),credProps:As(Di)},iDe={publicKey:Xi({rp:Xi(Di),user:Xi({id:Xi(vl),name:Xi(Di),displayName:Xi(Di)}),challenge:Xi(vl),pubKeyCredParams:Xi(Di),timeout:As(Di),excludeCredentials:As([hZ]),authenticatorSelection:As(Di),attestation:As(Di),extensions:As(pZ)}),signal:As(Di)},sDe={type:Xi(Di),id:Xi(Di),rawId:Xi(vl),authenticatorAttachment:As(Di),response:Xi({clientDataJSON:Xi(vl),attestationObject:Xi(vl),transports:Zk(Di,t=>{var e;return((e=t.getTransports)==null?void 0:e.call(t))||[]})}),clientExtensionResults:Zk(mZ,t=>t.getClientExtensionResults())},oDe={mediation:As(Di),publicKey:Xi({challenge:Xi(vl),timeout:As(Di),rpId:As(Di),allowCredentials:As([hZ]),userVerification:As(Di),extensions:As(pZ)}),signal:As(Di)},aDe={type:Xi(Di),id:Xi(Di),rawId:Xi(vl),authenticatorAttachment:As(Di),response:Xi({clientDataJSON:Xi(vl),authenticatorData:Xi(vl),signature:Xi(vl),userHandle:Xi(vl)}),clientExtensionResults:Zk(mZ,t=>t.getClientExtensionResults())};function lDe(t){return Jg(dZ,iDe,t)}function uDe(t){return Jg(fZ,sDe,t)}async function gZ(t){const e=await navigator.credentials.create(lDe(t));return uDe(e)}function cDe(t){return Jg(dZ,oDe,t)}function dDe(t){return Jg(fZ,aDe,t)}async function fDe(t){const e=await navigator.credentials.get(cDe(t));return dDe(e)}const hDe=()=>{Ct.qrcode=!0;const t={baseURL:Wt.apiUrl,url:"/public/key",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};lr(t).then(async function(e){Pe.code_verifier=e.data,Pe.qrcodeUrl=Wt.authUrl+"/login/qrcode?text="+e.data,Pe.code_verifier!=null&&Pe.code_verifier!=""&&pDe()})};async function pDe(){var t=new EventSource(Wt.apiUrl+"/public/token/qrcode?text="+Pe.code_verifier,{withCredentials:!0});t.onmessage=async e=>{var r=e.data.split("&&");Pe.access_token=r[0],Pe.id_token=r[1];const n=Uk(Pe.id_token),i=JSON.stringify(n),s=JSON.parse(i);Pe.permission=s.permission,Pe.sub=s.sub,Pe.email_verified=s.email_verified,Pe.client_id=s.azp,t.close(),Ct.qrcode=!1,Pe.sub!=""&&(await mDe()).data==200&&yZ("")}}const mDe=async()=>{const t={baseURL:Wt.authUrl,url:"/login/token",method:"POST",data:{token:Pe.access_token,idToken:Pe.id_token},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};return await lr(t)},E8=window.location.href,vZ=new URL(E8).searchParams.get("redirect_uri"),_Z=new URL(E8).searchParams.get("state"),GA=new URL(E8).searchParams.get("username"),WA=document.referrer;var Qd;WA!=""&&WA!=null&&(Qd=WA.split(".")[0].split("//")[1],Qd!="elpsykongroo"&&Qd!="auth"&&Qd!="preview"&&document.domain!="localhost"&&document.domain!="127.0.0.1"&&(Ct.webauthnFormVisible=!0));vZ!=null&&_Z!=null&&(Ct.webauthnFormVisible=!0);GA!=null&&GA!=null&&(Pe.sub="",Pe.username=GA,Qk());const gDe=()=>{if(Pe.username.length>0){Ct.loading=!0;const t={baseURL:Wt.authUrl,url:"/register",method:"POST",data:{username:Pe.username,display:Pe.username},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};lr(t).then(async function(e){if(e.message==="Network Error"&&e.request.status===0&&e.request.responseURL===""){Ct.loading=!1;return}if(e.data==409){ti.alert("the user already exist"),Ct.loading=!1;return}if(e.data){const r=await gZ(e.data);vDe(r)}})}},vDe=t=>{const e={baseURL:Wt.authUrl,url:"/finishAuth",method:"POST",data:{credname:Pe.username,username:Pe.username,credential:JSON.stringify(t)},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};lr(e).then(function(r){Ct.loading=!1,r.data==200?B2({title:"Register success",message:"have fun with login",duration:5e3}):B2({title:"Register failed",message:"this user already exist",duration:5e3})})};async function Qk(){if(Pe.username.length>0){Ct.loading=!0;const t={baseURL:Wt.authUrl,url:"/login",method:"POST",data:{username:Pe.username},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};lr(t).then(async function(e){if(Ct.loading=!1,e.data==200)if(Qg().length==0)Lw(Pe.username);else{const r=await QK();(r==""||r==null)&&Lw(Pe.username),Ct.webauthnFormVisible=!1}else if(e.data==202)ti.alert("already login with other user");else if(e.data==400)ti.alert("you need a authenticator, please check your email to add");else if(e.data==401)ti.alert("your account may be locked");else if(e.data==404)ti.alert("the user is not exist");else if(e.status==503)ti.alert("network error, please try again later");else if(e.status==500)ti.alert("service error, please try again later");else if(e.status!=403&&e.message!="Network Error"){Ct.loading=!0;try{if(e.data){const r=await fDe(e.data);if(r){const n={baseURL:Wt.authUrl,url:"/welcome",method:"POST",data:{username:Pe.username,credential:JSON.stringify(r)},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};lr(n).then(function(i){i.data==200?(Ct.loading=!1,Ct.webauthnFormVisible=!1,console.log(Qd),Qd==null||Qd=="elpsykongroo"||Qd=="labroom"||Qd=="preview"?Lw(Pe.username):vZ!=null&&_Z!=null&&(window.location.href=Wt.authUrl+"/oauth2/authorize"+window.location.search)):i.data==401?ti.alert("authentication failed"):window.location.href=i.data})}else Ct.tmpLogin=!0}}catch(r){console.log(r),alert(r),Ct.loading=!1;return}}})}}const Lw=t=>{document.domain!="localhost"&&document.domain!="127.0.0.1"?yZ(t):cZ()},yZ=t=>{Pe.username=="admin"||t=="admin"?window.location.href=Wt.oauth2ProxyPkceUrl+"/oauth2/start?rd=https://"+window.location.host:window.location.href=Wt.oauth2ProxyUrl+"/oauth2/start?rd=https://"+window.location.host},_De=()=>{Ct.tmpLogin=!1;const t={baseURL:Wt.authUrl,url:"/email/tmp",method:"POST",data:{username:Pe.username},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};lr(t)};async function bZ(){Dw("you will logout in 3s"),bh(),Pe.grant_type="",Pe.expires_in=5,Pe.sub="",await yDe(),await bDe(),Pe.access_token="",Pe.refresh_token="",Pe.id_token="",window.location.href=Wt.redirectUrl}async function yDe(){const t={baseURL:Wt.authUrl,url:"/oauth2/revoke",method:"POST",data:{token:Pe.access_token,client_id:Pe.client_id},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};await lr(t)}async function bDe(){const t={baseURL:Wt.authUrl,url:"/connect/logout",method:"POST",data:{id_token_hint:Pe.id_token,post_logout_redirect_uri:Wt.redirectUrl},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};await lr(t)}/*!
 * qrcode.vue v3.4.1
 * A Vue.js component to generate QRCode.
 * © 2017-2023 @scopewu(https://github.com/scopewu)
 * MIT License.
 */var VS=function(){return VS=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},VS.apply(this,arguments)};var H0;(function(t){var e=function(){function o(a,l,u,d){if(this.version=a,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=a*4+17;for(var f=[],h=0;h<this.size;h++)f.push(!1);for(var h=0;h<this.size;h++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();var g=this.addEccAndInterleave(u);if(this.drawCodewords(g),d==-1)for(var p=1e9,h=0;h<8;h++){this.applyMask(h),this.drawFormatBits(h);var v=this.getPenaltyScore();v<p&&(d=h,p=v),this.applyMask(h)}i(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}return o.encodeText=function(a,l){var u=t.QrSegment.makeSegments(a);return o.encodeSegments(u,l)},o.encodeBinary=function(a,l){var u=t.QrSegment.makeBytes(a);return o.encodeSegments([u],l)},o.encodeSegments=function(a,l,u,d,f,h){if(u===void 0&&(u=1),d===void 0&&(d=40),f===void 0&&(f=-1),h===void 0&&(h=!0),!(o.MIN_VERSION<=u&&u<=d&&d<=o.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");var g,p;for(g=u;;g++){var v=o.getNumDataCodewords(g,l)*8,b=s.getTotalBits(a,g);if(b<=v){p=b;break}if(g>=d)throw new RangeError("Data too long")}for(var S=0,T=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];S<T.length;S++){var E=T[S];h&&p<=o.getNumDataCodewords(g,E)*8&&(l=E)}for(var C=[],P=0,D=a;P<D.length;P++){var L=D[P];r(L.mode.modeBits,4,C),r(L.numChars,L.mode.numCharCountBits(g),C);for(var j=0,te=L.getData();j<te.length;j++){var se=te[j];C.push(se)}}i(C.length==p);var q=o.getNumDataCodewords(g,l)*8;i(C.length<=q),r(0,Math.min(4,q-C.length),C),r(0,(8-C.length%8)%8,C),i(C.length%8==0);for(var X=236;C.length<q;X^=253)r(X,8,C);for(var Q=[];Q.length*8<C.length;)Q.push(0);return C.forEach(function($,V){return Q[V>>>3]|=$<<7-(V&7)}),new o(g,l,Q,f)},o.prototype.getModule=function(a,l){return 0<=a&&a<this.size&&0<=l&&l<this.size&&this.modules[l][a]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var l=this.getAlignmentPatternPositions(),u=l.length,a=0;a<u;a++)for(var d=0;d<u;d++)a==0&&d==0||a==0&&d==u-1||a==u-1&&d==0||this.drawAlignmentPattern(l[a],l[d]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(a){for(var l=this.errorCorrectionLevel.formatBits<<3|a,u=l,d=0;d<10;d++)u=u<<1^(u>>>9)*1335;var f=(l<<10|u)^21522;i(f>>>15==0);for(var d=0;d<=5;d++)this.setFunctionModule(8,d,n(f,d));this.setFunctionModule(8,7,n(f,6)),this.setFunctionModule(8,8,n(f,7)),this.setFunctionModule(7,8,n(f,8));for(var d=9;d<15;d++)this.setFunctionModule(14-d,8,n(f,d));for(var d=0;d<8;d++)this.setFunctionModule(this.size-1-d,8,n(f,d));for(var d=8;d<15;d++)this.setFunctionModule(8,this.size-15+d,n(f,d));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var a=this.version,l=0;l<12;l++)a=a<<1^(a>>>11)*7973;var u=this.version<<12|a;i(u>>>18==0);for(var l=0;l<18;l++){var d=n(u,l),f=this.size-11+l%3,h=Math.floor(l/3);this.setFunctionModule(f,h,d),this.setFunctionModule(h,f,d)}}},o.prototype.drawFinderPattern=function(a,l){for(var u=-4;u<=4;u++)for(var d=-4;d<=4;d++){var f=Math.max(Math.abs(d),Math.abs(u)),h=a+d,g=l+u;0<=h&&h<this.size&&0<=g&&g<this.size&&this.setFunctionModule(h,g,f!=2&&f!=4)}},o.prototype.drawAlignmentPattern=function(a,l){for(var u=-2;u<=2;u++)for(var d=-2;d<=2;d++)this.setFunctionModule(a+d,l+u,Math.max(Math.abs(d),Math.abs(u))!=1)},o.prototype.setFunctionModule=function(a,l,u){this.modules[l][a]=u,this.isFunction[l][a]=!0},o.prototype.addEccAndInterleave=function(a){var l=this.version,u=this.errorCorrectionLevel;if(a.length!=o.getNumDataCodewords(l,u))throw new RangeError("Invalid argument");for(var d=o.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l],f=o.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l],h=Math.floor(o.getNumRawDataModules(l)/8),g=d-h%d,p=Math.floor(h/d),v=[],b=o.reedSolomonComputeDivisor(f),S=0,T=0;S<d;S++){var E=a.slice(T,T+p-f+(S<g?0:1));T+=E.length;var C=o.reedSolomonComputeRemainder(E,b);S<g&&E.push(0),v.push(E.concat(C))}for(var P=[],D=function(L){v.forEach(function(j,te){(L!=p-f||te>=g)&&P.push(j[L])})},S=0;S<v[0].length;S++)D(S);return i(P.length==h),P},o.prototype.drawCodewords=function(a){if(a.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var l=0,u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(var d=0;d<this.size;d++)for(var f=0;f<2;f++){var h=u-f,g=(u+1&2)==0,p=g?this.size-1-d:d;!this.isFunction[p][h]&&l<a.length*8&&(this.modules[p][h]=n(a[l>>>3],7-(l&7)),l++)}}i(l==a.length*8)},o.prototype.applyMask=function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var l=0;l<this.size;l++)for(var u=0;u<this.size;u++){var d=void 0;switch(a){case 0:d=(u+l)%2==0;break;case 1:d=l%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+l)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(l/2))%2==0;break;case 5:d=u*l%2+u*l%3==0;break;case 6:d=(u*l%2+u*l%3)%2==0;break;case 7:d=((u+l)%2+u*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][u]&&d&&(this.modules[l][u]=!this.modules[l][u])}},o.prototype.getPenaltyScore=function(){for(var a=0,l=0;l<this.size;l++){for(var u=!1,d=0,f=[0,0,0,0,0,0,0],h=0;h<this.size;h++)this.modules[l][h]==u?(d++,d==5?a+=o.PENALTY_N1:d>5&&a++):(this.finderPenaltyAddHistory(d,f),u||(a+=this.finderPenaltyCountPatterns(f)*o.PENALTY_N3),u=this.modules[l][h],d=1);a+=this.finderPenaltyTerminateAndCount(u,d,f)*o.PENALTY_N3}for(var h=0;h<this.size;h++){for(var u=!1,g=0,f=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[l][h]==u?(g++,g==5?a+=o.PENALTY_N1:g>5&&a++):(this.finderPenaltyAddHistory(g,f),u||(a+=this.finderPenaltyCountPatterns(f)*o.PENALTY_N3),u=this.modules[l][h],g=1);a+=this.finderPenaltyTerminateAndCount(u,g,f)*o.PENALTY_N3}for(var l=0;l<this.size-1;l++)for(var h=0;h<this.size-1;h++){var p=this.modules[l][h];p==this.modules[l][h+1]&&p==this.modules[l+1][h]&&p==this.modules[l+1][h+1]&&(a+=o.PENALTY_N2)}for(var v=0,b=0,S=this.modules;b<S.length;b++){var T=S[b];v=T.reduce(function(P,D){return P+(D?1:0)},v)}var E=this.size*this.size,C=Math.ceil(Math.abs(v*20-E*10)/E)-1;return i(0<=C&&C<=9),a+=C*o.PENALTY_N4,i(0<=a&&a<=2568888),a},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,l=this.version==32?26:Math.ceil((this.version*4+4)/(a*2-2))*2,u=[6],d=this.size-7;u.length<a;d-=l)u.splice(1,0,d);return u},o.getNumRawDataModules=function(a){if(a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version number out of range");var l=(16*a+128)*a+64;if(a>=2){var u=Math.floor(a/7)+2;l-=(25*u-10)*u-55,a>=7&&(l-=36)}return i(208<=l&&l<=29648),l},o.getNumDataCodewords=function(a,l){return Math.floor(o.getNumRawDataModules(a)/8)-o.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a]*o.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a]},o.reedSolomonComputeDivisor=function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var l=[],u=0;u<a-1;u++)l.push(0);l.push(1);for(var d=1,u=0;u<a;u++){for(var f=0;f<l.length;f++)l[f]=o.reedSolomonMultiply(l[f],d),f+1<l.length&&(l[f]^=l[f+1]);d=o.reedSolomonMultiply(d,2)}return l},o.reedSolomonComputeRemainder=function(a,l){for(var u=l.map(function(p){return 0}),d=function(p){var v=p^u.shift();u.push(0),l.forEach(function(b,S){return u[S]^=o.reedSolomonMultiply(b,v)})},f=0,h=a;f<h.length;f++){var g=h[f];d(g)}return u},o.reedSolomonMultiply=function(a,l){if(a>>>8||l>>>8)throw new RangeError("Byte out of range");for(var u=0,d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(l>>>d&1)*a;return i(u>>>8==0),u},o.prototype.finderPenaltyCountPatterns=function(a){var l=a[1];i(l<=this.size*3);var u=l>0&&a[2]==l&&a[3]==l*3&&a[4]==l&&a[5]==l;return(u&&a[0]>=l*4&&a[6]>=l?1:0)+(u&&a[6]>=l*4&&a[0]>=l?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(a,l,u){return a&&(this.finderPenaltyAddHistory(l,u),l=0),l+=this.size,this.finderPenaltyAddHistory(l,u),this.finderPenaltyCountPatterns(u)},o.prototype.finderPenaltyAddHistory=function(a,l){l[0]==0&&(a+=this.size),l.pop(),l.unshift(a)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();t.QrCode=e;function r(o,a,l){if(a<0||a>31||o>>>a)throw new RangeError("Value out of range");for(var u=a-1;u>=0;u--)l.push(o>>>u&1)}function n(o,a){return(o>>>a&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}var s=function(){function o(a,l,u){if(this.mode=a,this.numChars=l,this.bitData=u,l<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}return o.makeBytes=function(a){for(var l=[],u=0,d=a;u<d.length;u++){var f=d[u];r(f,8,l)}return new o(o.Mode.BYTE,a.length,l)},o.makeNumeric=function(a){if(!o.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var l=[],u=0;u<a.length;){var d=Math.min(a.length-u,3);r(parseInt(a.substring(u,u+d),10),d*3+1,l),u+=d}return new o(o.Mode.NUMERIC,a.length,l)},o.makeAlphanumeric=function(a){if(!o.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var l=[],u;for(u=0;u+2<=a.length;u+=2){var d=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u+1)),r(d,11,l)}return u<a.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u)),6,l),new o(o.Mode.ALPHANUMERIC,a.length,l)},o.makeSegments=function(a){return a==""?[]:o.isNumeric(a)?[o.makeNumeric(a)]:o.isAlphanumeric(a)?[o.makeAlphanumeric(a)]:[o.makeBytes(o.toUtf8ByteArray(a))]},o.makeEci=function(a){var l=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)r(a,8,l);else if(a<16384)r(2,2,l),r(a,14,l);else if(a<1e6)r(6,3,l),r(a,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)},o.isNumeric=function(a){return o.NUMERIC_REGEX.test(a)},o.isAlphanumeric=function(a){return o.ALPHANUMERIC_REGEX.test(a)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(a,l){for(var u=0,d=0,f=a;d<f.length;d++){var h=f[d],g=h.mode.numCharCountBits(l);if(h.numChars>=1<<g)return 1/0;u+=4+g+h.bitData.length}return u},o.toUtf8ByteArray=function(a){a=encodeURI(a);for(var l=[],u=0;u<a.length;u++)a.charAt(u)!="%"?l.push(a.charCodeAt(u)):(l.push(parseInt(a.substring(u+1,u+3),16)),u+=2);return l},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();t.QrSegment=s})(H0||(H0={}));(function(t){(function(e){var r=function(){function n(i,s){this.ordinal=i,this.formatBits=s}return n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),n}();e.Ecc=r})(t.QrCode||(t.QrCode={}))})(H0||(H0={}));(function(t){(function(e){var r=function(){function n(i,s){this.modeBits=i,this.numBitsCharCount=s}return n.prototype.numCharCountBits=function(i){return this.numBitsCharCount[Math.floor((i+7)/17)]},n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),n}();e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(H0||(H0={}));var Jm=H0,xZ="H",C8={L:Jm.QrCode.Ecc.LOW,M:Jm.QrCode.Ecc.MEDIUM,Q:Jm.QrCode.Ecc.QUARTILE,H:Jm.QrCode.Ecc.HIGH},xDe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function wZ(t){return t in C8}function SZ(t,e){e===void 0&&(e=0);var r=[];return t.forEach(function(n,i){var s=null;n.forEach(function(o,a){if(!o&&s!==null){r.push("M".concat(s+e," ").concat(i+e,"h").concat(a-s,"v1H").concat(s+e,"z")),s=null;return}if(a===n.length-1){if(!o)return;s===null?r.push("M".concat(a+e,",").concat(i+e," h1v1H").concat(a+e,"z")):r.push("M".concat(s+e,",").concat(i+e," h").concat(a+1-s,"v1H").concat(s+e,"z"));return}o&&s===null&&(s=a)})}),r.join("")}var A8={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:xZ,validator:function(t){return wZ(t)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0}},wDe=VS(VS({},A8),{renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}}),SDe=rt({name:"QRCodeSvg",props:A8,setup:function(t){var e=ye(0),r=ye(""),n=function(){var i=t.value,s=t.level,o=t.margin,a=Jm.QrCode.encodeText(i,C8[s]).getModules();e.value=a.length+o*2,r.value=SZ(a,o)};return n(),Zh(n),function(){return Tr("svg",{width:t.size,height:t.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e.value," ").concat(e.value)},[Tr("path",{fill:t.background,d:"M0,0 h".concat(e.value,"v").concat(e.value,"H0z")}),Tr("path",{fill:t.foreground,d:r.value})])}}}),TDe=rt({name:"QRCodeCanvas",props:A8,setup:function(t){var e=ye(null),r=function(){var n=t.value,i=t.level,s=t.size,o=t.margin,a=t.background,l=t.foreground,u=e.value;if(u){var d=u.getContext("2d");if(d){var f=Jm.QrCode.encodeText(n,C8[i]).getModules(),h=f.length+o*2,g=window.devicePixelRatio||1,p=s/h*g;u.height=u.width=s*g,d.scale(p,p),d.fillStyle=a,d.fillRect(0,0,h,h),d.fillStyle=l,xDe?d.fill(new Path2D(SZ(f,o))):f.forEach(function(v,b){v.forEach(function(S,T){S&&d.fillRect(T+o,b+o,1,1)})})}}};return Un(r),Zh(r),function(){return Tr("canvas",{ref:e,style:{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")}})}}}),EDe=rt({name:"Qrcode",render:function(){var t=this.$props,e=t.renderAs,r=t.value,n=t.size,i=t.margin,s=t.level,o=t.background,a=t.foreground,l=n>>>0,u=i>>>0,d=wZ(s)?s:xZ;return Tr(e==="svg"?SDe:TDe,{value:r,size:l,margin:u,level:d,background:o,foreground:a})},props:wDe});function CDe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var TZ={exports:{}};const ADe={},PDe=Object.freeze(Object.defineProperty({__proto__:null,default:ADe},Symbol.toStringTag,{value:"Module"})),P8=hc(PDe);(function(t){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(e,r){typeof CDe=="function"&&t&&t.exports?t.exports=r():(e.dcodeIO=e.dcodeIO||{}).bcrypt=r()})(Co,function(){var e={},r=null;function n(q){if(t&&t.exports)try{return P8.randomBytes(q)}catch{}try{var X;return(self.crypto||self.msCrypto).getRandomValues(X=new Uint32Array(q)),Array.prototype.slice.call(X)}catch{}if(!r)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return r(q)}var i=!1;try{n(1),i=!0}catch{}r=null,e.setRandomFallback=function(q){r=q},e.genSaltSync=function(q,X){if(q=q||v,typeof q!="number")throw Error("Illegal arguments: "+typeof q+", "+typeof X);q<4?q=4:q>31&&(q=31);var Q=[];return Q.push("$2a$"),q<10&&Q.push("0"),Q.push(q.toString()),Q.push("$"),Q.push(f(n(p),p)),Q.join("")},e.genSalt=function(q,X,Q){if(typeof X=="function"&&(Q=X,X=void 0),typeof q=="function"&&(Q=q,q=void 0),typeof q>"u")q=v;else if(typeof q!="number")throw Error("illegal arguments: "+typeof q);function $(V){o(function(){try{V(null,e.genSaltSync(q))}catch(Y){V(Y)}})}if(Q){if(typeof Q!="function")throw Error("Illegal callback: "+typeof Q);$(Q)}else return new Promise(function(V,Y){$(function(ee,ae){if(ee){Y(ee);return}V(ae)})})},e.hashSync=function(q,X){if(typeof X>"u"&&(X=v),typeof X=="number"&&(X=e.genSaltSync(X)),typeof q!="string"||typeof X!="string")throw Error("Illegal arguments: "+typeof q+", "+typeof X);return se(q,X)},e.hash=function(q,X,Q,$){function V(Y){typeof q=="string"&&typeof X=="number"?e.genSalt(X,function(ee,ae){se(q,ae,Y,$)}):typeof q=="string"&&typeof X=="string"?se(q,X,Y,$):o(Y.bind(this,Error("Illegal arguments: "+typeof q+", "+typeof X)))}if(Q){if(typeof Q!="function")throw Error("Illegal callback: "+typeof Q);V(Q)}else return new Promise(function(Y,ee){V(function(ae,H){if(ae){ee(ae);return}Y(H)})})};function s(q,X){for(var Q=0,$=0,V=0,Y=q.length;V<Y;++V)q.charCodeAt(V)===X.charCodeAt(V)?++Q:++$;return Q<0?!1:$===0}e.compareSync=function(q,X){if(typeof q!="string"||typeof X!="string")throw Error("Illegal arguments: "+typeof q+", "+typeof X);return X.length!==60?!1:s(e.hashSync(q,X.substr(0,X.length-31)),X)},e.compare=function(q,X,Q,$){function V(Y){if(typeof q!="string"||typeof X!="string"){o(Y.bind(this,Error("Illegal arguments: "+typeof q+", "+typeof X)));return}if(X.length!==60){o(Y.bind(this,null,!1));return}e.hash(q,X.substr(0,29),function(ee,ae){ee?Y(ee):Y(null,s(ae,X))},$)}if(Q){if(typeof Q!="function")throw Error("Illegal callback: "+typeof Q);V(Q)}else return new Promise(function(Y,ee){V(function(ae,H){if(ae){ee(ae);return}Y(H)})})},e.getRounds=function(q){if(typeof q!="string")throw Error("Illegal arguments: "+typeof q);return parseInt(q.split("$")[2],10)},e.getSalt=function(q){if(typeof q!="string")throw Error("Illegal arguments: "+typeof q);if(q.length!==60)throw Error("Illegal hash length: "+q.length+" != 60");return q.substring(0,29)};var o=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function a(q){var X=[],Q=0;return g.encodeUTF16toUTF8(function(){return Q>=q.length?null:q.charCodeAt(Q++)},function($){X.push($)}),X}var l="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],d=String.fromCharCode;function f(q,X){var Q=0,$=[],V,Y;if(X<=0||X>q.length)throw Error("Illegal len: "+X);for(;Q<X;){if(V=q[Q++]&255,$.push(l[V>>2&63]),V=(V&3)<<4,Q>=X){$.push(l[V&63]);break}if(Y=q[Q++]&255,V|=Y>>4&15,$.push(l[V&63]),V=(Y&15)<<2,Q>=X){$.push(l[V&63]);break}Y=q[Q++]&255,V|=Y>>6&3,$.push(l[V&63]),$.push(l[Y&63])}return $.join("")}function h(q,X){var Q=0,$=q.length,V=0,Y=[],ee,ae,H,J,ie,xe;if(X<=0)throw Error("Illegal len: "+X);for(;Q<$-1&&V<X&&(xe=q.charCodeAt(Q++),ee=xe<u.length?u[xe]:-1,xe=q.charCodeAt(Q++),ae=xe<u.length?u[xe]:-1,!(ee==-1||ae==-1||(ie=ee<<2>>>0,ie|=(ae&48)>>4,Y.push(d(ie)),++V>=X||Q>=$)||(xe=q.charCodeAt(Q++),H=xe<u.length?u[xe]:-1,H==-1)||(ie=(ae&15)<<4>>>0,ie|=(H&60)>>2,Y.push(d(ie)),++V>=X||Q>=$)));)xe=q.charCodeAt(Q++),J=xe<u.length?u[xe]:-1,ie=(H&3)<<6>>>0,ie|=J,Y.push(d(ie)),++V;var qe=[];for(Q=0;Q<V;Q++)qe.push(Y[Q].charCodeAt(0));return qe}var g=function(){var q={};return q.MAX_CODEPOINT=1114111,q.encodeUTF8=function(X,Q){var $=null;for(typeof X=="number"&&($=X,X=function(){return null});$!==null||($=X())!==null;)$<128?Q($&127):$<2048?(Q($>>6&31|192),Q($&63|128)):$<65536?(Q($>>12&15|224),Q($>>6&63|128),Q($&63|128)):(Q($>>18&7|240),Q($>>12&63|128),Q($>>6&63|128),Q($&63|128)),$=null},q.decodeUTF8=function(X,Q){for(var $,V,Y,ee,ae=function(H){H=H.slice(0,H.indexOf(null));var J=Error(H.toString());throw J.name="TruncatedError",J.bytes=H,J};($=X())!==null;)if(!($&128))Q($);else if(($&224)===192)(V=X())===null&&ae([$,V]),Q(($&31)<<6|V&63);else if(($&240)===224)((V=X())===null||(Y=X())===null)&&ae([$,V,Y]),Q(($&15)<<12|(V&63)<<6|Y&63);else if(($&248)===240)((V=X())===null||(Y=X())===null||(ee=X())===null)&&ae([$,V,Y,ee]),Q(($&7)<<18|(V&63)<<12|(Y&63)<<6|ee&63);else throw RangeError("Illegal starting byte: "+$)},q.UTF16toUTF8=function(X,Q){for(var $,V=null;($=V!==null?V:X())!==null;){if($>=55296&&$<=57343&&(V=X())!==null&&V>=56320&&V<=57343){Q(($-55296)*1024+V-56320+65536),V=null;continue}Q($)}V!==null&&Q(V)},q.UTF8toUTF16=function(X,Q){var $=null;for(typeof X=="number"&&($=X,X=function(){return null});$!==null||($=X())!==null;)$<=65535?Q($):($-=65536,Q(($>>10)+55296),Q($%1024+56320)),$=null},q.encodeUTF16toUTF8=function(X,Q){q.UTF16toUTF8(X,function($){q.encodeUTF8($,Q)})},q.decodeUTF8toUTF16=function(X,Q){q.decodeUTF8(X,function($){q.UTF8toUTF16($,Q)})},q.calculateCodePoint=function(X){return X<128?1:X<2048?2:X<65536?3:4},q.calculateUTF8=function(X){for(var Q,$=0;(Q=X())!==null;)$+=q.calculateCodePoint(Q);return $},q.calculateUTF16asUTF8=function(X){var Q=0,$=0;return q.UTF16toUTF8(X,function(V){++Q,$+=q.calculateCodePoint(V)}),[Q,$]},q}();Date.now=Date.now||function(){return+new Date};var p=16,v=10,b=16,S=100,T=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],E=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],C=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function P(q,X,Q,$){var V,Y=q[X],ee=q[X+1];return Y^=Q[0],V=$[Y>>>24],V+=$[256|Y>>16&255],V^=$[512|Y>>8&255],V+=$[768|Y&255],ee^=V^Q[1],V=$[ee>>>24],V+=$[256|ee>>16&255],V^=$[512|ee>>8&255],V+=$[768|ee&255],Y^=V^Q[2],V=$[Y>>>24],V+=$[256|Y>>16&255],V^=$[512|Y>>8&255],V+=$[768|Y&255],ee^=V^Q[3],V=$[ee>>>24],V+=$[256|ee>>16&255],V^=$[512|ee>>8&255],V+=$[768|ee&255],Y^=V^Q[4],V=$[Y>>>24],V+=$[256|Y>>16&255],V^=$[512|Y>>8&255],V+=$[768|Y&255],ee^=V^Q[5],V=$[ee>>>24],V+=$[256|ee>>16&255],V^=$[512|ee>>8&255],V+=$[768|ee&255],Y^=V^Q[6],V=$[Y>>>24],V+=$[256|Y>>16&255],V^=$[512|Y>>8&255],V+=$[768|Y&255],ee^=V^Q[7],V=$[ee>>>24],V+=$[256|ee>>16&255],V^=$[512|ee>>8&255],V+=$[768|ee&255],Y^=V^Q[8],V=$[Y>>>24],V+=$[256|Y>>16&255],V^=$[512|Y>>8&255],V+=$[768|Y&255],ee^=V^Q[9],V=$[ee>>>24],V+=$[256|ee>>16&255],V^=$[512|ee>>8&255],V+=$[768|ee&255],Y^=V^Q[10],V=$[Y>>>24],V+=$[256|Y>>16&255],V^=$[512|Y>>8&255],V+=$[768|Y&255],ee^=V^Q[11],V=$[ee>>>24],V+=$[256|ee>>16&255],V^=$[512|ee>>8&255],V+=$[768|ee&255],Y^=V^Q[12],V=$[Y>>>24],V+=$[256|Y>>16&255],V^=$[512|Y>>8&255],V+=$[768|Y&255],ee^=V^Q[13],V=$[ee>>>24],V+=$[256|ee>>16&255],V^=$[512|ee>>8&255],V+=$[768|ee&255],Y^=V^Q[14],V=$[Y>>>24],V+=$[256|Y>>16&255],V^=$[512|Y>>8&255],V+=$[768|Y&255],ee^=V^Q[15],V=$[ee>>>24],V+=$[256|ee>>16&255],V^=$[512|ee>>8&255],V+=$[768|ee&255],Y^=V^Q[16],q[X]=ee^Q[b+1],q[X+1]=Y,q}function D(q,X){for(var Q=0,$=0;Q<4;++Q)$=$<<8|q[X]&255,X=(X+1)%q.length;return{key:$,offp:X}}function L(q,X,Q){for(var $=0,V=[0,0],Y=X.length,ee=Q.length,ae,H=0;H<Y;H++)ae=D(q,$),$=ae.offp,X[H]=X[H]^ae.key;for(H=0;H<Y;H+=2)V=P(V,0,X,Q),X[H]=V[0],X[H+1]=V[1];for(H=0;H<ee;H+=2)V=P(V,0,X,Q),Q[H]=V[0],Q[H+1]=V[1]}function j(q,X,Q,$){for(var V=0,Y=[0,0],ee=Q.length,ae=$.length,H,J=0;J<ee;J++)H=D(X,V),V=H.offp,Q[J]=Q[J]^H.key;for(V=0,J=0;J<ee;J+=2)H=D(q,V),V=H.offp,Y[0]^=H.key,H=D(q,V),V=H.offp,Y[1]^=H.key,Y=P(Y,0,Q,$),Q[J]=Y[0],Q[J+1]=Y[1];for(J=0;J<ae;J+=2)H=D(q,V),V=H.offp,Y[0]^=H.key,H=D(q,V),V=H.offp,Y[1]^=H.key,Y=P(Y,0,Q,$),$[J]=Y[0],$[J+1]=Y[1]}function te(q,X,Q,$,V){var Y=C.slice(),ee=Y.length,ae;if(Q<4||Q>31)if(ae=Error("Illegal number of rounds (4-31): "+Q),$){o($.bind(this,ae));return}else throw ae;if(X.length!==p)if(ae=Error("Illegal salt length: "+X.length+" != "+p),$){o($.bind(this,ae));return}else throw ae;Q=1<<Q>>>0;var H,J,ie=0,xe;Int32Array?(H=new Int32Array(T),J=new Int32Array(E)):(H=T.slice(),J=E.slice()),j(X,q,H,J);function qe(){if(V&&V(ie/Q),ie<Q)for(var Je=Date.now();ie<Q&&(ie=ie+1,L(q,H,J),L(X,H,J),!(Date.now()-Je>S)););else{for(ie=0;ie<64;ie++)for(xe=0;xe<ee>>1;xe++)P(Y,xe<<1,H,J);var lt=[];for(ie=0;ie<ee;ie++)lt.push((Y[ie]>>24&255)>>>0),lt.push((Y[ie]>>16&255)>>>0),lt.push((Y[ie]>>8&255)>>>0),lt.push((Y[ie]&255)>>>0);if($){$(null,lt);return}else return lt}$&&o(qe)}if(typeof $<"u")qe();else for(var et;;)if(typeof(et=qe())<"u")return et||[]}function se(q,X,Q,$){var V;if(typeof q!="string"||typeof X!="string")if(V=Error("Invalid string / salt: Not a string"),Q){o(Q.bind(this,V));return}else throw V;var Y,ee;if(X.charAt(0)!=="$"||X.charAt(1)!=="2")if(V=Error("Invalid salt version: "+X.substring(0,2)),Q){o(Q.bind(this,V));return}else throw V;if(X.charAt(2)==="$")Y=String.fromCharCode(0),ee=3;else{if(Y=X.charAt(2),Y!=="a"&&Y!=="b"&&Y!=="y"||X.charAt(3)!=="$")if(V=Error("Invalid salt revision: "+X.substring(2,4)),Q){o(Q.bind(this,V));return}else throw V;ee=4}if(X.charAt(ee+2)>"$")if(V=Error("Missing salt rounds"),Q){o(Q.bind(this,V));return}else throw V;var ae=parseInt(X.substring(ee,ee+1),10)*10,H=parseInt(X.substring(ee+1,ee+2),10),J=ae+H,ie=X.substring(ee+3,ee+25);q+=Y>="a"?"\0":"";var xe=a(q),qe=h(ie,p);function et(Je){var lt=[];return lt.push("$2"),Y>="a"&&lt.push(Y),lt.push("$"),J<10&&lt.push("0"),lt.push(J.toString()),lt.push("$"),lt.push(f(qe,qe.length)),lt.push(f(Je,C.length*4-1)),lt.join("")}if(typeof Q>"u")return et(te(xe,qe,J));te(xe,qe,J,function(Je,lt){Je?Q(Je,null):Q(null,et(lt))},$)}return e.encodeBase64=f,e.decodeBase64=h,e})})(TZ);var kDe=TZ.exports;const Jk=zs(kDe),IDe=[],ODe=[],DDe=[],za=vn({notification:IDe,users:ODe,topic:DDe});let MDe=()=>({email:"",nickName:"",username:"",password:"",locked:!1}),gs=vn(MDe());const RDe=ye({});let no=vn(RDe),cg=()=>({sub:"",name:"",given_name:"",family_name:"",middle_name:"",nickname:"",preferred_username:"",profile:"",picture:"",website:"",email:"",email_verified:"",gender:"",birthdate:"",zoneinfo:"",locale:"",phone_number:"",phone_number_verified:"",address:"",updated_at:"",claims:"",username:""}),La=vn(cg());const $De=async()=>{let t;const e={baseURL:Wt.authUrl,url:"auth/user/"+Pe.sub,method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};return await lr(e).then(function(r){r!=null&&(t=r.data)}),t},k8=async(t,e,r)=>{let n;const i={baseURL:Wt.authUrl,url:"/auth/user",method:"GET",params:{pageNumber:t,pageSize:e,order:r},headers:{Authorization:"Bearer "+Pe.access_token}};return await lr(i).then(function(s){n=s.data,za.users=n}),n},vB=async(t,e)=>{let r,n;return r={baseURL:Wt.messageUrl,url:"notice/user",method:"GET",params:{user:t,draft:e},headers:{Authorization:"Bearer "+Pe.access_token}},t==""&&(r={baseURL:Wt.messageUrl,url:"notice/user",method:"GET",params:{user:t,draft:e}}),await lr(r).then(function(i){n=i.data,n.forEach(s=>{s.timestamp=Jr(s.timestamp).format("YYYY-MM-DD HH:mm:ss")}),za.notification=n}),n},eI=async(t,e)=>{let r;const n={baseURL:Wt.messageUrl,url:"notice",method:"POST",data:{topic:t},headers:{Authorization:"Bearer "+Pe.access_token}};return e!=""&&(n.data.draft=!!e),await lr(n).then(function(i){r=i.data,r.forEach(s=>{s.timestamp=Jr(s.timestamp).format("YYYY-MM-DD HH:mm:ss")}),za.notification=r}),r},tI=async()=>{let t;const e={baseURL:Wt.messageUrl,url:"notice/topic",method:"GET",params:{topic:""},headers:{Authorization:"Bearer "+Pe.access_token}};return await lr(e).then(function(r){t=r.data,Ct.topicLoad=!1,za.topic=t}),t},EZ=(t,e)=>{t.username=e;const r={baseURL:Wt.authUrl,url:"auth/user",method:"POST",data:t,headers:{Authorization:"Bearer "+Pe.access_token}};t.password==""||t.password==null?lr(r).then(function(n){n.status==200&&(Ct.userForm=!1)}):t.password.startsWith("{bcrypt}")?lr(r).then(function(n){n.status==200&&(Ct.userForm=!1)}):Jk.hash(t.password,10).then(function(n){t.password="{bcrypt}"+n,lr(r).then(function(i){i.status==200&&(Ct.userForm=!1)})})};async function rI(t){const e=VY.service({fullscreen:!0});Object.assign(no,cg()),La.username=t;const r={baseURL:Wt.authUrl,url:"auth/user/info/"+t,method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};let n;return await lr(r).then(function(i){if(Hr(()=>{e.close()}),i.data==null)no.value=cg();else{const o=i.data;for(var s in o)o[s]===!0?o[s]="true":o[s]===!1&&(o[s]="false");no.value=o,n=o}}),n}const LDe={class:"dialog-footer"},FDe={class:"dialog-footer"},NDe=rt({__name:"Notice",setup(t){const e=ye(!0),r=ye(!1),n=ye(!1),i=ye(!1),s=ye(""),o=ye("");let l=vn((()=>({title:"",body:"",imageUrl:"",timestamp:"",topic:"",draft:"true"}))()),d=vn((()=>({name:"",users:[],registers:[]}))());const f=(T,E)=>{s.value=E,o.value=T,r.value=!0},h=async()=>{za.users=await k8(0,10,0),e.value=!1},g=()=>{const T={baseURL:Wt.messageUrl,url:"notice",method:"PUT",data:{topic:l.topic,title:l.title,body:l.body,imageUrl:l.imageUrl,draft:l.draft},headers:{Authorization:"Bearer "+Pe.access_token}};lr(T).then(function(E){E.status==200&&(n.value=!1,eI([],""))})},p=()=>{const T={baseURL:Wt.messageUrl,url:"notice/topic",method:"PUT",data:{name:d.name,users:d.users,registers:d.registers},headers:{Authorization:"Bearer "+Pe.access_token}};lr(T).then(function(E){E.status==200&&(i.value=!1,tI())})},v=(T,E)=>{const C={baseURL:Wt.messageUrl,url:"notice/topic",method:"DELETE",params:{topic:E.name},headers:{Authorization:"Bearer "+Pe.access_token}};lr(C).then(function(P){za.topic.splice(T,1)})},b=(T,E)=>{const C={baseURL:Wt.messageUrl,url:"notice",method:"DELETE",params:{ids:E.id},headers:{Authorization:"Bearer "+Pe.access_token}};lr(C).then(function(P){za.notification.splice(T,1)})},S=(T,E)=>{const C={baseURL:Wt.messageUrl,url:"notice/push",method:"POST",data:{id:E.id,topic:E.topic,title:E.title,body:E.body,imageUrl:E.imageUrl,draft:!E.draft},headers:{Authorization:"Bearer "+Pe.access_token}};lr(C).then(function(P){eI([],"")})};return(T,E)=>{const C=N1e,P=RAe,D=MAe,L=cTe,j=ETe,te=ba,se=as,q=Sa,X=oY,Q=XM,$=zX,V=Vu,Y=Fv,ee=yd,ae=Zn,H=Wi,J=Yu;return he(),Ue(Ar,null,[N(L,{modelValue:y(Ct).noticeDrawer,"onUpdate:modelValue":E[0]||(E[0]=ie=>y(Ct).noticeDrawer=ie),"show-close":!0,"with-header":!0,size:"40%"},{default:ne(()=>[N(D,null,{default:ne(()=>[(he(!0),Ue(Ar,null,xi(y(za).notification,(ie,xe)=>(he(),At(P,{key:xe,timestamp:ie.timestamp,placement:"top"},{default:ne(()=>[N(C,{onClick:qe=>f(ie.imageUrl,ie.body)},{default:ne(()=>[He("p",null,hr(ie.title),1)]),_:2},1032,["onClick"])]),_:2},1032,["timestamp"]))),128))]),_:1})]),_:1},8,["modelValue"]),N(te,{modelValue:y(r),"onUpdate:modelValue":E[1]||(E[1]=ie=>Kr(r)?r.value=ie:null),width:y(Ct).dialogWidth,"align-center":""},{default:ne(()=>[N(j,{src:y(o)},null,8,["src"]),It(" "+hr(y(s)),1)]),_:1},8,["modelValue","width"]),N(te,{modelValue:y(n),"onUpdate:modelValue":E[10]||(E[10]=ie=>Kr(n)?n.value=ie:null),width:y(Ct).dialogWidth,"align-center":""},{footer:ne(()=>[He("span",LDe,[N(ae,{onClick:E[8]||(E[8]=ie=>n.value=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(ae,{type:"primary",onClick:E[9]||(E[9]=ie=>g())},{default:ne(()=>[It(" Confirm ")]),_:1})])]),default:ne(()=>[N(ee,null,{default:ne(()=>[N(q,{label:"title","label-width":y(Ct).labelWidth},{default:ne(()=>[N(se,{modelValue:y(l).title,"onUpdate:modelValue":E[2]||(E[2]=ie=>y(l).title=ie)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(q,{label:"body","label-width":y(Ct).labelWidth},{default:ne(()=>[N(se,{modelValue:y(l).body,"onUpdate:modelValue":E[3]||(E[3]=ie=>y(l).body=ie)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(q,{label:"imageUrl","label-width":y(Ct).labelWidth},{default:ne(()=>[N(se,{modelValue:y(l).imageUrl,"onUpdate:modelValue":E[4]||(E[4]=ie=>y(l).imageUrl=ie)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(q,{label:"timestamp","label-width":y(Ct).labelWidth},{default:ne(()=>[N(X,{ref:"datePicker",modelValue:y(l).timestamp,"onUpdate:modelValue":E[5]||(E[5]=ie=>y(l).timestamp=ie),type:"datetime","value-format":"YYYY-MM-DDTHH:mm:ss[Z]",format:"YYYY-MM-DDTHH:mm:ss[Z]"},null,8,["modelValue"])]),_:1},8,["label-width"]),N(q,{label:"draft","label-width":y(Ct).labelWidth},{default:ne(()=>[N($,{modelValue:y(l).draft,"onUpdate:modelValue":E[6]||(E[6]=ie=>y(l).draft=ie),class:"ml-4"},{default:ne(()=>[N(Q,{label:"true"},{default:ne(()=>[It("true")]),_:1}),N(Q,{label:"false"},{default:ne(()=>[It("false")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),N(q,{label:"topic","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Y,{modelValue:y(l).topic,"onUpdate:modelValue":E[7]||(E[7]=ie=>y(l).topic=ie),multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a keyword","remote-show-suffix":"","remote-method":y(tI),loading:y(Ct).topicLoad},{default:ne(()=>[(he(!0),Ue(Ar,null,xi(y(za).topic,ie=>(he(),At(V,{key:ie.name,label:ie.name,value:ie.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue","remote-method","loading"])]),_:1},8,["label-width"])]),_:1})]),_:1},8,["modelValue","width"]),N(te,{modelValue:y(i),"onUpdate:modelValue":E[16]||(E[16]=ie=>Kr(i)?i.value=ie:null),width:y(Ct).dialogWidth,"align-center":""},{footer:ne(()=>[He("span",FDe,[N(ae,{onClick:E[14]||(E[14]=ie=>i.value=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(ae,{type:"primary",onClick:E[15]||(E[15]=ie=>p())},{default:ne(()=>[It(" Confirm ")]),_:1})])]),default:ne(()=>[N(ee,null,{default:ne(()=>[N(q,{label:"name","label-width":y(Ct).labelWidth},{default:ne(()=>[N(se,{modelValue:y(d).name,"onUpdate:modelValue":E[11]||(E[11]=ie=>y(d).name=ie)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(q,{label:"users","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Y,{modelValue:y(d).users,"onUpdate:modelValue":E[12]||(E[12]=ie=>y(d).users=ie),multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a keyword","remote-show-suffix":"","remote-method":h,loading:y(e)},{default:ne(()=>[(he(!0),Ue(Ar,null,xi(y(za).users,ie=>(he(),At(V,{key:ie.username,label:ie.username,value:ie.username},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1},8,["label-width"]),N(q,{label:"registers","label-width":y(Ct).labelWidth},{default:ne(()=>[N(se,{modelValue:y(d).registers,"onUpdate:modelValue":E[13]||(E[13]=ie=>y(d).registers=ie)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1})]),_:1},8,["modelValue","width"]),N(te,{modelValue:y(Ct).topicTable,"onUpdate:modelValue":E[19]||(E[19]=ie=>y(Ct).topicTable=ie),width:y(Ct).dialogWidth,"align-center":""},{default:ne(()=>[N(ae,{type:"",onClick:E[17]||(E[17]=ie=>i.value=!0)},{default:ne(()=>[It("Add")]),_:1}),N(J,{data:y(za).topic,onSelectionChange:E[18]||(E[18]=()=>{})},{default:ne(()=>[N(H,{type:"selection"}),N(H,{property:"name",label:"name"}),N(H,{property:"registers",label:"registers"}),N(H,{property:"users",label:"users"}),N(H,null,{default:ne(ie=>[N(ae,{size:"small",type:"danger",onClick:xe=>v(ie.$index,ie.row)},{default:ne(()=>[It("Delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),N(te,{modelValue:y(Ct).noticeTable,"onUpdate:modelValue":E[22]||(E[22]=ie=>y(Ct).noticeTable=ie),width:y(Ct).dialogWidth,"align-center":""},{default:ne(()=>[N(ae,{type:"",onClick:E[20]||(E[20]=ie=>n.value=!0)},{default:ne(()=>[It("Add")]),_:1}),N(J,{data:y(za).notification,onSelectionChange:E[21]||(E[21]=()=>{})},{default:ne(()=>[N(H,{type:"selection"}),N(H,{property:"title",label:"title"}),N(H,{property:"body",label:"body"}),N(H,{property:"imageUrl",label:"imageUrl"}),N(H,{property:"timestamp",label:"timestamp"}),N(H,{property:"topic",label:"topic"}),N(H,{property:"draft",label:"draft"}),N(H,null,{default:ne(ie=>[N(ae,{size:"small",type:"danger",onClick:xe=>b(ie.$index,ie.row)},{default:ne(()=>[It("Delete")]),_:2},1032,["onClick"]),ie.row.draft?(he(),At(ae,{key:0,size:"small",type:"danger",onClick:xe=>S(ie.$index,ie.row)},{default:ne(()=>[It("Push")]),_:2},1032,["onClick"])):xt("",!0)]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"])],64)}}});function Q1(t,e,r){return new Promise((n,i)=>{var s;e!=""?s=indexedDB.open(t,e):s=indexedDB.open(t),s.onsuccess=function(o){const a=s.result;n(a)},s.onupgradeneeded=function(o){const a=s.result;for(let l of r)a.objectStoreNames.contains(l)||a.createObjectStore(l)},s.onerror=function(o){const a=s.error;i(a)}})}function J1(t,e,r,n,i){return(n==""||n==null)&&(n="readwrite"),new Promise((s,o)=>{const l=t.transaction(e,n).objectStore(e);var u;i=="all"?u=l.getAll():u=l.get(r),u.onsuccess=function(d){const f=u.result;s(f)},u.onerror=function(d){const f=u.error;o(f)}})}function qA(t,e,r,n,i,s){return(i==""||i==null)&&(i="readwrite"),new Promise((o,a)=>{const u=t.transaction(e,i).objectStore(e);var d;s=="put"?d=u.put(n,r):d=u.add(n,r),d.onsuccess=function(f){const h=d.result;o(h)},d.onerror=function(f){const h=d.error;a(h)}})}function XA(t,e,r,n){return(n==""||n==null)&&(n="readwrite"),new Promise((i,s)=>{const l=t.transaction(e,n).objectStore(e).delete(r);l.onsuccess=function(u){const d=l.result;i(d)},l.onerror=function(u){const d=l.error;s(d)}})}const BDe=async t=>{const r=new TextEncoder().encode(t);return await crypto.subtle.digest("SHA-256",r)};async function UDe(t){const e=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(e)).map(n=>n.toString(16).padStart(2,"0")).join("")}function YA(t){return btoa(String.fromCharCode(...new Uint8Array(t)))}function VDe(t){const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r.buffer}async function I8(t,e){let r;return typeof t=="string"?r=await BDe(t):r=t,await crypto.subtle.importKey("raw",r,{name:e},!1,["encrypt","decrypt"])}async function KA(t,e,r){let n=await I8(e,r),i;typeof t!="string"?i=t:i=new TextEncoder().encode(t);let s;r=="AES-GCM"?s=crypto.getRandomValues(new Uint8Array(12)):s=crypto.getRandomValues(new Uint8Array(16));let o;r=="AES-CTR"?o={counter:s,name:r,length:128}:o={name:r,iv:s};const a=await crypto.subtle.encrypt(o,n,i),l=new Uint8Array(s.length+a.byteLength);return l.set(s),l.set(new Uint8Array(a),s.length),{cipher:l,ciphertext:a,iv:s,ciphertextWithoutTag:l.slice(0,l.length-16),tag:l.slice(l.length-16,l.length)}}async function zDe(t,e,r){const n=await I8(e,r);let i;r=="AES-GCM"?(i=t.slice(0,12),t=t.slice(12,t.length)):(i=t.slice(0,16),t=t.slice(16,t.length));let s={name:r,iv:i};return await crypto.subtle.decrypt(s,n,t)}const jDe=t=>{let e=t.httpHandler;return{setHttpHandler(r){e=r},httpHandler(){return e},updateHttpClientConfig(r,n){e.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},HDe=t=>({httpHandler:t.httpHandler()});var _B;(function(t){t.HEADER="header",t.QUERY="query"})(_B||(_B={}));var yB;(function(t){t.HEADER="header",t.QUERY="query"})(yB||(yB={}));var j2;(function(t){t.HTTP="http",t.HTTPS="https"})(j2||(j2={}));var zS;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(zS||(zS={}));var bB;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(bB||(bB={}));const nI="__smithy_context";var xB;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(xB||(xB={}));var wB;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(wB||(wB={}));class ka{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){const e=new ka({...this,headers:{...this.headers}});return e.query&&(e.query=GDe(e.query)),e}}function GDe(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}class ev{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function WDe(t){return e=>async r=>{const{request:n}=r;return ka.isInstance(n)&&n.body&&t.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),e({...r,request:n})}}const qDe={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},XDe=t=>({applyToStack:e=>{e.add(WDe(t),qDe)}});const YDe=t=>e=>async r=>{if(!ka.isInstance(r.request))return e(r);const{request:n}=r,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return e(r)},KDe={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ZDe=t=>({applyToStack:e=>{e.add(YDe(t),KDe)}}),QDe=()=>(t,e)=>async r=>{var n,i;try{const s=await t(r),{clientName:o,commandName:a,logger:l,dynamoDbDocumentClientOptions:u={}}=e,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:f}=u,h=d??e.inputFilterSensitiveLog,g=f??e.outputFilterSensitiveLog,{$metadata:p,...v}=s.output;return(n=l==null?void 0:l.info)==null||n.call(l,{clientName:o,commandName:a,input:h(r.input),output:g(v),metadata:p}),s}catch(s){const{clientName:o,commandName:a,logger:l,dynamoDbDocumentClientOptions:u={}}=e,{overrideInputFilterSensitiveLog:d}=u,f=d??e.inputFilterSensitiveLog;throw(i=l==null?void 0:l.error)==null||i.call(l,{clientName:o,commandName:a,input:f(r.input),error:s,metadata:s.$metadata}),s}},JDe={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},eMe=t=>({applyToStack:e=>{e.add(QDe(),JDe)}}),SB="X-Amzn-Trace-Id",tMe="AWS_LAMBDA_FUNCTION_NAME",rMe="_X_AMZN_TRACE_ID",nMe=t=>e=>async r=>{const{request:n}=r;if(!ka.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(SB))return e(r);const i={}[tMe],s={}[rMe],o=a=>typeof a=="string"&&a.length>0;return o(i)&&o(s)&&(n.headers[SB]=s),e({...r,request:n})},iMe={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},sMe=t=>({applyToStack:e=>{e.add(nMe(t),iMe)}});class O8{trace(){}debug(){}info(){}warn(){}error(){}}const Ap=(t,e)=>{const r=[];if(t&&r.push(t),e)for(const n of e)r.push(n);return r},qf=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,jS=()=>{let t=[],e=[],r=!1;const n=new Set,i=f=>f.sort((h,g)=>TB[g.step]-TB[h.step]||EB[g.priority||"normal"]-EB[h.priority||"normal"]),s=f=>{let h=!1;const g=p=>{const v=Ap(p.name,p.aliases);if(v.includes(f)){h=!0;for(const b of v)n.delete(b);return!1}return!0};return t=t.filter(g),e=e.filter(g),h},o=f=>{let h=!1;const g=p=>{if(p.middleware===f){h=!0;for(const v of Ap(p.name,p.aliases))n.delete(v);return!1}return!0};return t=t.filter(g),e=e.filter(g),h},a=f=>{var h;return t.forEach(g=>{f.add(g.middleware,{...g})}),e.forEach(g=>{f.addRelativeTo(g.middleware,{...g})}),(h=f.identifyOnResolve)==null||h.call(f,d.identifyOnResolve()),f},l=f=>{const h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...l(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...l(g))}),h},u=(f=!1)=>{const h=[],g=[],p={};return t.forEach(b=>{const S={...b,before:[],after:[]};for(const T of Ap(S.name,S.aliases))p[T]=S;h.push(S)}),e.forEach(b=>{const S={...b,before:[],after:[]};for(const T of Ap(S.name,S.aliases))p[T]=S;g.push(S)}),g.forEach(b=>{if(b.toMiddleware){const S=p[b.toMiddleware];if(S===void 0){if(f)return;throw new Error(`${b.toMiddleware} is not found when adding ${qf(b.name,b.aliases)} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&S.after.push(b),b.relation==="before"&&S.before.push(b)}}),i(h).map(l).reduce((b,S)=>(b.push(...S),b),[])},d={add:(f,h={})=>{const{name:g,override:p,aliases:v}=h,b={step:"initialize",priority:"normal",middleware:f,...h},S=Ap(g,v);if(S.length>0){if(S.some(T=>n.has(T))){if(!p)throw new Error(`Duplicate middleware name '${qf(g,v)}'`);for(const T of S){const E=t.findIndex(P=>{var D;return P.name===T||((D=P.aliases)==null?void 0:D.some(L=>L===T))});if(E===-1)continue;const C=t[E];if(C.step!==b.step||b.priority!==C.priority)throw new Error(`"${qf(C.name,C.aliases)}" middleware with ${C.priority} priority in ${C.step} step cannot be overridden by "${qf(g,v)}" middleware with ${b.priority} priority in ${b.step} step.`);t.splice(E,1)}}for(const T of S)n.add(T)}t.push(b)},addRelativeTo:(f,h)=>{const{name:g,override:p,aliases:v}=h,b={middleware:f,...h},S=Ap(g,v);if(S.length>0){if(S.some(T=>n.has(T))){if(!p)throw new Error(`Duplicate middleware name '${qf(g,v)}'`);for(const T of S){const E=e.findIndex(P=>{var D;return P.name===T||((D=P.aliases)==null?void 0:D.some(L=>L===T))});if(E===-1)continue;const C=e[E];if(C.toMiddleware!==b.toMiddleware||C.relation!==b.relation)throw new Error(`"${qf(C.name,C.aliases)}" middleware ${C.relation} "${C.toMiddleware}" middleware cannot be overridden by "${qf(g,v)}" middleware ${b.relation} "${b.toMiddleware}" middleware.`);e.splice(E,1)}}for(const T of S)n.add(T)}e.push(b)},clone:()=>a(jS()),use:f=>{f.applyToStack(d)},remove:f=>typeof f=="string"?s(f):o(f),removeByTag:f=>{let h=!1;const g=p=>{const{tags:v,name:b,aliases:S}=p;if(v&&v.includes(f)){const T=Ap(b,S);for(const E of T)n.delete(E);return h=!0,!1}return!0};return t=t.filter(g),e=e.filter(g),h},concat:f=>{var g;const h=a(jS());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(((g=f.identifyOnResolve)==null?void 0:g.call(f))??!1)),h},applyToStack:a,identify:()=>u(!0).map(f=>{const h=f.step??f.relation+" "+f.toMiddleware;return qf(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(const g of u().map(p=>p.middleware).reverse())f=g(f,h);return r&&console.log(d.identify()),f}};return d},TB={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},EB={high:3,normal:2,low:1};class oMe{constructor(e){this.middlewareStack=jS(),this.config=e}send(e,r,n){const i=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,o=e.resolveMiddleware(this.middlewareStack,this.config,i);if(s)o(e).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(e).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const zh={},zv=new Array(64);for(let t=0,e="A".charCodeAt(0),r="Z".charCodeAt(0);t+e<=r;t++){const n=String.fromCharCode(t+e);zh[n]=t,zv[t]=n}for(let t=0,e="a".charCodeAt(0),r="z".charCodeAt(0);t+e<=r;t++){const n=String.fromCharCode(t+e),i=t+26;zh[n]=i,zv[i]=n}for(let t=0;t<10;t++){zh[t.toString(10)]=t+52;const e=t.toString(10),r=t+52;zh[e]=r,zv[r]=e}zh["+"]=62;zv[62]="+";zh["/"]=63;zv[63]="/";const dg=6,Jy=8,aMe=63,D8=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const r=new ArrayBuffer(e),n=new DataView(r);for(let i=0;i<t.length;i+=4){let s=0,o=0;for(let u=i,d=i+3;u<=d;u++)if(t[u]!=="="){if(!(t[u]in zh))throw new TypeError(`Invalid character ${t[u]} in base64 string.`);s|=zh[t[u]]<<(d-u)*dg,o+=dg}else s>>=dg;const a=i/4*3;s>>=o%Jy;const l=Math.floor(o/Jy);for(let u=0;u<l;u++){const d=(l-u-1)*Jy;n.setUint8(a+u,(s&255<<d)>>d)}}return new Uint8Array(r)},G0=t=>new TextEncoder().encode(t),fg=t=>typeof t=="string"?G0(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),M8=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function R8(t){let e;typeof t=="string"?e=G0(t):e=t;const r=typeof e=="object"&&typeof e.length=="number",n=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let s=0;s<e.length;s+=3){let o=0,a=0;for(let u=s,d=Math.min(s+3,e.length);u<d;u++)o|=e[u]<<(d-u-1)*Jy,a+=Jy;const l=Math.ceil(a/dg);o<<=l*dg-a;for(let u=1;u<=l;u++){const d=(l-u)*dg;i+=zv[(o&aMe<<d)>>d]}i+="==".slice(0,4-l)}return i}function lMe(t,e="utf-8"){return e==="base64"?R8(t):M8(t)}function uMe(t,e){return e==="base64"?w0.mutate(D8(t)):w0.mutate(G0(t))}class w0 extends Uint8Array{static fromString(e,r="utf-8"){switch(typeof e){case"string":return uMe(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,w0.prototype),e}transformToString(e="utf-8"){return lMe(this,e)}}const cMe=(t,e)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:o}=e,a=r!==void 0&&n!==void 0&&i!==void 0&&s!==void 0&&o!==void 0,l=a?o(i,t):void 0,u=t.getReader();return new ReadableStream({async pull(d){const{value:f,done:h}=await u.read();if(h){if(d.enqueue(`0\r
`),a){const g=r(await l);d.enqueue(`${s}:${g}\r
`),d.enqueue(`\r
`)}d.close()}else d.enqueue(`${(n(f)||0).toString(16)}\r
${f}\r
`)}})},f0=t=>encodeURIComponent(t).replace(/[!'()*]/g,dMe),dMe=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function CZ(t){const e=[];for(let r of Object.keys(t).sort()){const n=t[r];if(r=f0(r),Array.isArray(n))for(let i=0,s=n.length;i<s;i++)e.push(`${r}=${f0(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${f0(n)}`),e.push(i)}}return e.join("&")}function fMe(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{const n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}const hMe={supported:typeof Request<"u"&&"keepalive"in new Request("https://[::1]")};class $8{static create(e){return typeof(e==null?void 0:e.handle)=="function"?e:new $8(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,i=this.config.keepAlive===!0;if(r!=null&&r.aborted){const v=new Error("Request aborted");return v.name="AbortError",Promise.reject(v)}let s=e.path;const o=CZ(e.query||{});o&&(s+=`?${o}`),e.fragment&&(s+=`#${e.fragment}`);let a="";if(e.username!=null||e.password!=null){const v=e.username??"",b=e.password??"";a=`${v}:${b}@`}const{port:l,method:u}=e,d=`${e.protocol}//${a}${e.hostname}${l?`:${l}`:""}${s}`,h={body:u==="GET"||u==="HEAD"?void 0:e.body,headers:new Headers(e.headers),method:u};typeof AbortController<"u"&&(h.signal=r),hMe.supported&&(h.keepalive=i);const g=new Request(d,h),p=[fetch(g).then(v=>{const b=v.headers,S={};for(const E of b.entries())S[E[0]]=E[1];return v.body!=null?{response:new ev({headers:S,reason:v.statusText,statusCode:v.status,body:v.body})}:v.blob().then(E=>({response:new ev({headers:S,reason:v.statusText,statusCode:v.status,body:E})}))}),fMe(n)];return r&&p.push(new Promise((v,b)=>{r.onabort=()=>{const S=new Error("Request aborted");S.name="AbortError",b(S)}})),Promise.race(p)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}}const AZ=t=>typeof Blob=="function"&&t instanceof Blob?pMe(t):mMe(t);async function pMe(t){const e=await gMe(t),r=D8(e);return new Uint8Array(r)}async function mMe(t){let e=new Uint8Array(0);const r=t.getReader();let n=!1;for(;!n;){const{done:i,value:s}=await r.read();if(s){const o=e;e=new Uint8Array(o.length+s.length),e.set(o),e.set(s,o.length)}n=i}return e}function gMe(t){return new Promise((e,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const i=n.result??"",s=i.indexOf(","),o=s>-1?s+1:i.length;e(i.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}const PZ={},iI={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),PZ[t]=e,iI[e]=t}function kZ(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){const n=t.slice(r,r+2).toLowerCase();if(n in iI)e[r/2]=iI[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function Wa(t){let e="";for(let r=0;r<t.byteLength;r++)e+=PZ[t[r]];return e}const CB="The stream has already been transformed.",vMe=t=>{var i,s;if(!AB(t)&&!PB(t)){const o=((s=(i=t==null?void 0:t.__proto__)==null?void 0:i.constructor)==null?void 0:s.name)||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let e=!1;const r=async()=>{if(e)throw new Error(CB);return e=!0,await AZ(t)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async o=>{const a=await r();if(o==="base64")return R8(a);if(o==="hex")return Wa(a);if(o===void 0||o==="utf8"||o==="utf-8")return M8(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(CB);if(e=!0,AB(t))return n(t);if(PB(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},AB=t=>typeof Blob=="function"&&t instanceof Blob,PB=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,jE=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return w0.mutate(t);if(!t)return w0.mutate(new Uint8Array);const r=e.streamCollector(t);return w0.mutate(await r)};class Cu{constructor(){this.middlewareStack=jS()}static classBuilder(){return new _Me}resolveMiddlewareWithContext(e,r,n,{middlewareFn:i,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,smithyContext:u,additionalContext:d,CommandCtor:f}){for(const b of i.bind(this)(f,e,r,n))this.middlewareStack.use(b);const h=e.concat(this.middlewareStack),{logger:g}=r,p={logger:g,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,[nI]:{...u},...d},{requestHandler:v}=r;return h.resolve(b=>v.handle(b.request,n||{}),p)}}class _Me{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let r;return r=class extends Cu{static getEndpointParameterInstructions(){return e._ep}constructor(...[n]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=n??{},e._init(this)}resolveMiddleware(n,i,s){return this.resolveMiddlewareWithContext(n,i,s,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}const uo="***SensitiveInformation***",lc=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}},yMe=t=>{if(t!=null){if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&OZ.warn(IZ(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},bMe=Math.ceil(2**127*(2-2**-23)),kB=t=>{const e=yMe(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>bMe)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},sI=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},IB=t=>L8(t,32),OB=t=>L8(t,16),DB=t=>L8(t,8),L8=(t,e)=>{const r=sI(t);if(r!==void 0&&xMe(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},xMe=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},Bs=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},lm=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;const e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},gn=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return OZ.warn(IZ(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},wMe=t=>kB(typeof t=="string"?s1(t):t),SMe=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,s1=t=>{const e=t.match(SMe);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},F8=t=>sI(typeof t=="string"?s1(t):t),S0=t=>IB(typeof t=="string"?s1(t):t),HS=t=>OB(typeof t=="string"?s1(t):t),TMe=t=>DB(typeof t=="string"?s1(t):t),IZ=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),OZ={warn:console.warn},EMe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],N8=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function e2(t){const e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),i=t.getUTCDate(),s=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds(),l=i<10?`0${i}`:`${i}`,u=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,f=a<10?`0${a}`:`${a}`;return`${EMe[n]}, ${l} ${N8[r]} ${e} ${u}:${d}:${f} GMT`}const CMe=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),jv=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const e=CMe.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,i,s,o,a,l,u,d]=e,f=HS(G2(n)),h=Oh(i,"month",1,12),g=Oh(s,"day",1,31),p=Fw(f,h,g,{hours:o,minutes:a,seconds:l,fractionalMilliseconds:u});return d.toUpperCase()!="Z"&&p.setTime(p.getTime()-FMe(d)),p},AMe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),PMe=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),kMe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),H2=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=AMe.exec(t);if(e){const[r,n,i,s,o,a,l,u]=e;return Fw(HS(G2(s)),ZA(i),Oh(n,"day",1,31),{hours:o,minutes:a,seconds:l,fractionalMilliseconds:u})}if(e=PMe.exec(t),e){const[r,n,i,s,o,a,l,u]=e;return DMe(Fw(IMe(s),ZA(i),Oh(n,"day",1,31),{hours:o,minutes:a,seconds:l,fractionalMilliseconds:u}))}if(e=kMe.exec(t),e){const[r,n,i,s,o,a,l,u]=e;return Fw(HS(G2(u)),ZA(n),Oh(i.trimLeft(),"day",1,31),{hours:s,minutes:o,seconds:a,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},Fw=(t,e,r,n)=>{const i=e-1;return RMe(t,i,r),new Date(Date.UTC(t,i,r,Oh(n.hours,"hour",0,23),Oh(n.minutes,"minute",0,59),Oh(n.seconds,"seconds",0,60),LMe(n.fractionalMilliseconds)))},IMe=t=>{const e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+HS(G2(t));return r<e?r+100:r},OMe=50*365*24*60*60*1e3,DMe=t=>t.getTime()-new Date().getTime()>OMe?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,ZA=t=>{const e=N8.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},MMe=[31,28,31,30,31,30,31,31,30,31,30,31],RMe=(t,e,r)=>{let n=MMe[e];if(e===1&&$Me(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${N8[e]} in ${t}: ${r}`)},$Me=t=>t%4===0&&(t%100!==0||t%400===0),Oh=(t,e,r,n)=>{const i=TMe(G2(t));if(i<r||i>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return i},LMe=t=>t==null?0:wMe("0."+t)*1e3,FMe=t=>{const e=t[0];let r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);const n=Number(t.substring(1,3)),i=Number(t.substring(4,6));return r*(n*60+i)*60*1e3},G2=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)};class B8 extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,B8.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const wd=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(t[n]==null||t[n]==="")&&(t[n]=i)});const r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},NMe=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{const i=UMe(t),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new r({name:(e==null?void 0:e.code)||(e==null?void 0:e.Code)||n||s||"UnknownError",$fault:"client",$metadata:i});throw wd(o,e)},BMe=t=>({output:e,parsedBody:r,errorCode:n})=>{NMe({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},UMe=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),VMe=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},zMe=t=>{const e=[];for(const r in zS){const n=zS[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},jMe=t=>{const e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},HMe=t=>{let e=t.retryStrategy;return{setRetryStrategy(r){e=r},retryStrategy(){return e}}},GMe=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},WMe=t=>({...zMe(t),...HMe(t)}),qMe=t=>({...jMe(t),...GMe(t)});function MB(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const W0=t=>Array.isArray(t)?t:[t],DZ=t=>{const e="#text";for(const r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=DZ(t[r]));return t},oI=function(){const t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r};oI.prototype=Object.create(String.prototype,{constructor:{value:oI,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(oI,String);function Bn(t,e,r){let n,i,s;if(typeof e>"u"&&typeof r>"u")n={},s=t;else{if(n=t,typeof e=="function")return i=e,s=r,XMe(n,i,s);s=e}for(const o of Object.keys(s)){if(!Array.isArray(s[o])){n[o]=s[o];continue}YMe(n,null,s,o)}return n}const XMe=(t,e,r)=>Bn(t,Object.entries(r).reduce((n,[i,s])=>(Array.isArray(s)?n[i]=s:typeof s=="function"?n[i]=[e,s()]:n[i]=[e,s],n),{})),YMe=(t,e,r,n)=>{if(e!==null){let o=r[n];typeof o=="function"&&(o=[,o]);const[a=KMe,l=ZMe,u=n]=o;(typeof a=="function"&&a(e[u])||typeof a!="function"&&a)&&(t[n]=l(e[u]));return}let[i,s]=r[n];if(typeof s=="function"){let o;const a=i===void 0&&(o=s())!=null,l=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?t[n]=o:l&&(t[n]=s())}else{const o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(t[n]=s)}},KMe=t=>t!=null,ZMe=t=>t,QMe=(t,e,r,n,i,s)=>{if(e!=null&&e[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(i,s?o.split("/").map(a=>MB(a)).join("/"):MB(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return t},JMe="content-length";function e8e(){return(t,e)=>async r=>{var i;const{request:n}=r;if(ka.isInstance(n)&&!(JMe in n.headers)){const s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((i=e==null?void 0:e.logger)==null?void 0:i.warn)=="function"&&!(e.logger instanceof O8)?e.logger.warn(s):console.warn(s)}return t({...r})}}const t8e={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},r8e=t=>({applyToStack:e=>{e.add(e8e(),t8e)}}),n8e=t=>(e,r)=>async n=>{const i=await t.region(),s=t.region;r.__s3RegionRedirect&&(t.region=async()=>(t.region=s,r.__s3RegionRedirect));const o=await e(n);if(r.__s3RegionRedirect){const a=await t.region();if(i!==a)throw new Error("Region was not restored following S3 region redirect.")}return o},i8e={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function s8e(t){return(e,r)=>async n=>{var i,s;try{return await e(n)}catch(o){if(t.followRegionRedirects&&((i=o==null?void 0:o.$metadata)==null?void 0:i.httpStatusCode)===301){try{const a=o.$response.headers["x-amz-bucket-region"];(s=r.logger)==null||s.debug(`Redirecting from ${await t.region()} to ${a}`),r.__s3RegionRedirect=a}catch(a){throw new Error("Region redirect failed: "+a)}return e(n)}else throw o}}}const o8e={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},a8e=t=>({applyToStack:e=>{e.add(s8e(t),o8e),e.addRelativeTo(n8e(t),i8e)}}),l8e=t=>(e,r)=>async n=>{var o;const i=await e(n),{response:s}=i;if(ev.isInstance(s)&&s.headers.expires){s.headers.expiresstring=s.headers.expires;try{H2(s.headers.expires)}catch(a){(o=r.logger)==null||o.warn(`AWS SDK Warning for ${r.clientName}::${r.commandName} response parsing (${s.headers.expires}): ${a}`),delete s.headers.expires}}return i},u8e={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},c8e=t=>({applyToStack:e=>{e.addRelativeTo(l8e(),u8e)}});class HE{constructor(e={}){this.data=e,this.lastPurgeTime=Date.now()}get(e){const r=this.data[e];if(r)return r}set(e,r){return this.data[e]=r,r}delete(e){delete this.data[e]}async purgeExpired(){const e=Date.now();if(!(this.lastPurgeTime+HE.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>e))for(const r in this.data){const n=this.data[r];if(!n.isRefreshing){const i=await n.identity;i.expiration&&i.expiration.getTime()<e&&delete this.data[r]}}}}HE.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;class QA{constructor(e,r=!1,n=Date.now()){this._identity=e,this.isRefreshing=r,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}}class GE{constructor(e,r=new HE){this.createSessionFn=e,this.cache=r}async getS3ExpressIdentity(e,r){const n=r.Bucket,{cache:i}=this,s=i.get(n);return s?s.identity.then(o=>{var u,d;return(((u=o.expiration)==null?void 0:u.getTime())??0)<Date.now()?i.set(n,new QA(this.getIdentity(n))).identity:((((d=o.expiration)==null?void 0:d.getTime())??0)<Date.now()+GE.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(n).then(f=>{i.set(n,new QA(Promise.resolve(f)))})),o)}):i.set(n,new QA(this.getIdentity(n))).identity}async getIdentity(e){var i,s;await this.cache.purgeExpired().catch(o=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+o)});const r=await this.createSessionFn(e);if(!((i=r.Credentials)!=null&&i.AccessKeyId)||!((s=r.Credentials)!=null&&s.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}}GE.REFRESH_WINDOW_MS=6e4;const d8e=t=>t[nI]||(t[nI]={}),Ku=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},f8e="X-Amz-Algorithm",h8e="X-Amz-Credential",MZ="X-Amz-Date",p8e="X-Amz-SignedHeaders",m8e="X-Amz-Expires",RZ="X-Amz-Signature",$Z="X-Amz-Security-Token",LZ="authorization",FZ=MZ.toLowerCase(),g8e="date",v8e=[LZ,FZ,g8e],_8e=RZ.toLowerCase(),aI="x-amz-content-sha256",y8e=$Z.toLowerCase(),b8e={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},x8e=/^proxy-/,w8e=/^sec-/,JA="AWS4-HMAC-SHA256",S8e="AWS4-HMAC-SHA256-PAYLOAD",T8e="UNSIGNED-PAYLOAD",E8e=50,NZ="aws4_request",C8e=60*60*24*7,ex={},e3=[],t3=(t,e,r)=>`${t}/${e}/${r}/${NZ}`,A8e=async(t,e,r,n,i)=>{const s=await RB(t,e.secretAccessKey,e.accessKeyId),o=`${r}:${n}:${i}:${Wa(s)}:${e.sessionToken}`;if(o in ex)return ex[o];for(e3.push(o);e3.length>E8e;)delete ex[e3.shift()];let a=`AWS4${e.secretAccessKey}`;for(const l of[r,n,i,NZ])a=await RB(t,a,l);return ex[o]=a},RB=(t,e,r)=>{const n=new t(e);return n.update(fg(r)),n.digest()},$B=({headers:t},e,r)=>{const n={};for(const i of Object.keys(t).sort()){if(t[i]==null)continue;const s=i.toLowerCase();(s in b8e||e!=null&&e.has(s)||x8e.test(s)||w8e.test(s))&&(!r||r&&!r.has(s))||(n[s]=t[i].trim().replace(/\s+/g," "))}return n},P8e=({query:t={}})=>{const e=[],r={};for(const n of Object.keys(t).sort()){if(n.toLowerCase()===_8e)continue;e.push(n);const i=t[n];typeof i=="string"?r[n]=`${f0(n)}=${f0(i)}`:Array.isArray(i)&&(r[n]=i.slice(0).reduce((s,o)=>s.concat([`${f0(n)}=${f0(o)}`]),[]).sort().join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")},BZ=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",r3=async({headers:t,body:e},r)=>{for(const n of Object.keys(t))if(n.toLowerCase()===aI)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||BZ(e)){const n=new r;return n.update(fg(e)),Wa(await n.digest())}return T8e};class k8e{format(e){const r=[];for(const s of Object.keys(e)){const o=G0(s);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[s]))}const n=new Uint8Array(r.reduce((s,o)=>s+o.byteLength,0));let i=0;for(const s of r)n.set(s,i),i+=s.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":const s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":const a=G0(e.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);const u=new Uint8Array(l.buffer);return u.set(a,3),u;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(O8e.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!I8e.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(kZ(e.value.replace(/\-/g,"")),1),f}}}var LB;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(LB||(LB={}));const I8e=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let O8e=class UZ{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(e));n>-1&&i>0;n--,i/=256)r[n]=i;return e<0&&FB(r),new UZ(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&FB(e),parseInt(Wa(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function FB(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}const D8e=(t,e)=>{t=t.toLowerCase();for(const r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},VZ=({headers:t,query:e,...r})=>({...r,headers:{...t},query:e?M8e(e):void 0}),M8e=t=>Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{}),R8e=(t,e={})=>{var i;const{headers:r,query:n={}}=typeof t.clone=="function"?t.clone():VZ(t);for(const s of Object.keys(r)){const o=s.toLowerCase();o.slice(0,6)==="x-amz-"&&!((i=e.unhoistableHeaders)!=null&&i.has(o))&&(n[s]=r[s],delete r[s])}return{...t,headers:r,query:n}},NB=t=>{t=typeof t.clone=="function"?t.clone():VZ(t);for(const e of Object.keys(t.headers))v8e.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},$8e=t=>L8e(t).toISOString().replace(/\.\d{3}Z$/,"Z"),L8e=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class lI{constructor({applyChecksum:e,credentials:r,region:n,service:i,sha256:s,uriEscapePath:o=!0}){this.headerFormatter=new k8e,this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Ku(n),this.credentialProvider=Ku(r)}async presign(e,r={}){const{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:a,signingRegion:l,signingService:u}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);const f=l??await this.regionProvider(),{longDate:h,shortDate:g}=tx(n);if(i>C8e)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const p=t3(g,f,u??this.service),v=R8e(NB(e),{unhoistableHeaders:o});d.sessionToken&&(v.query[$Z]=d.sessionToken),v.query[f8e]=JA,v.query[h8e]=`${d.accessKeyId}/${p}`,v.query[MZ]=h,v.query[m8e]=i.toString(10);const b=$B(v,s,a);return v.query[p8e]=BB(b),v.query[RZ]=await this.getSignature(h,p,this.getSigningKey(d,f,g,u),this.createCanonicalRequest(v,b,await r3(e,this.sha256))),v}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:s,signingService:o}){const a=s??await this.regionProvider(),{shortDate:l,longDate:u}=tx(n),d=t3(l,a,o??this.service),f=await r3({headers:{},body:r},this.sha256),h=new this.sha256;h.update(e);const g=Wa(await h.digest()),p=[S8e,u,d,i,g,f].join(`
`);return this.signString(p,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:e.priorSignature}).then(o=>({message:e.message,signature:o}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const o=n??await this.regionProvider(),{shortDate:a}=tx(r),l=new this.sha256(await this.getSigningKey(s,o,a,i));return l.update(fg(e)),Wa(await l.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:s,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const l=s??await this.regionProvider(),u=NB(e),{longDate:d,shortDate:f}=tx(r),h=t3(f,l,o??this.service);u.headers[FZ]=d,a.sessionToken&&(u.headers[y8e]=a.sessionToken);const g=await r3(u,this.sha256);!D8e(aI,u.headers)&&this.applyChecksum&&(u.headers[aI]=g);const p=$B(u,i,n),v=await this.getSignature(d,h,this.getSigningKey(a,l,f,o),this.createCanonicalRequest(u,p,g));return u.headers[LZ]=`${JA} Credential=${a.accessKeyId}/${h}, SignedHeaders=${BB(p)}, Signature=${v}`,u}createCanonicalRequest(e,r,n){const i=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${P8e(e)}
${i.map(s=>`${s}:${r[s]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(e,r,n){const i=new this.sha256;i.update(fg(n));const s=await i.digest();return`${JA}
${e}
${r}
${Wa(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const r=[];for(const s of e.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?r.pop():r.push(s));const n=`${e!=null&&e.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,i){const s=await this.createStringToSign(e,r,i),o=new this.sha256(await n);return o.update(fg(s)),Wa(await o.digest())}getSigningKey(e,r,n,i){return A8e(this.sha256,e,n,r,i||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const tx=t=>{const e=$8e(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},BB=t=>Object.keys(t).sort().join(";");var UB;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(UB||(UB={}));const F8e="Directory",N8e="S3Express",B8e="sigv4-s3express",uI="X-Amz-S3session-Token",cI=uI.toLowerCase();class U8e extends lI{async signWithCredentials(e,r,n){const i=VB(r);e.headers[cI]=r.sessionToken;const s=this;return zB(s,i),s.signRequest(e,n??{})}async presignWithCredentials(e,r,n){const i=VB(r);return delete e.headers[cI],e.headers[uI]=r.sessionToken,e.query=e.query??{},e.query[uI]=r.sessionToken,zB(this,i),this.presign(e,n)}}function VB(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function zB(t,e){const r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=t.credentialProvider,i=()=>(clearTimeout(r),t.credentialProvider=n,Promise.resolve(e));t.credentialProvider=i}const V8e=t=>(e,r)=>async n=>{var i,s,o,a,l;if(r.endpointV2){const u=r.endpointV2,d=((o=(s=(i=u.properties)==null?void 0:i.authSchemes)==null?void 0:s[0])==null?void 0:o.name)===B8e;if((((a=u.properties)==null?void 0:a.backend)===N8e||((l=u.properties)==null?void 0:l.bucketType)===F8e)&&(r.isS3ExpressBucket=!0),d){const h=n.input.Bucket;if(h){const g=await t.s3ExpressIdentityProvider.getS3ExpressIdentity(await t.credentials(),{Bucket:h});r.s3ExpressIdentity=g,ka.isInstance(n.request)&&g.sessionToken&&(n.request.headers[cI]=g.sessionToken)}}}return e(n)},z8e={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},j8e=t=>({applyToStack:e=>{e.add(V8e(t),z8e)}}),H8e=(t,{session:e})=>{const[r,n]=e;return{...t,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,followRegionRedirects:t.followRegionRedirects??!1,s3ExpressIdentityProvider:t.s3ExpressIdentityProvider??new GE(async i=>r().send(new n({Bucket:i,SessionMode:"ReadWrite"}))),bucketEndpoint:t.bucketEndpoint??!1}},G8e=t=>e=>async r=>{const n=await e(r),{response:i}=n;if(!ev.isInstance(i))return n;const{statusCode:s,body:o}=i;if(s<200||s>=300)return n;const a=await zZ(o,t),l=await W8e(a,t);if(a.length===0){const u=new Error("S3 aborted request");throw u.name="InternalError",u}return l&&l.match("<Error>")&&(i.statusCode=400),i.body=a,n},zZ=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),W8e=(t,e)=>zZ(t,e).then(r=>e.utf8Encoder(r)),q8e={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},X8e=t=>({applyToStack:e=>{e.addRelativeTo(G8e(t),q8e)}}),Y8e=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function K8e(t){return(e,r)=>async n=>{var i,s,o,a;if(t.bucketEndpoint){const l=r.endpointV2;if(l){const u=n.input.Bucket;if(typeof u=="string")try{const d=new URL(u);l.url=d}catch(d){const f=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${u} could not be parsed as URL.`;throw((s=(i=r.logger)==null?void 0:i.constructor)==null?void 0:s.name)==="NoOpLogger"?console.warn(f):(a=(o=r.logger)==null?void 0:o.warn)==null||a.call(o,f),d}}}return e(n)}}const Z8e={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function Q8e({bucketEndpoint:t}){return e=>async r=>{const{input:{Bucket:n}}=r;if(!t&&typeof n=="string"&&!Y8e(n)&&n.indexOf("/")>=0){const i=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw i.name="InvalidBucketName",i}return e({...r})}}const J8e={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},eRe=t=>({applyToStack:e=>{e.add(Q8e(t),J8e),e.addRelativeTo(K8e(t),Z8e)}}),jZ=(t,e,r)=>{let n,i,s,o=!1;const a=async()=>{i||(i=t());try{n=await i,s=!0,o=!1}finally{i=void 0}return n};return e===void 0?async l=>((!s||l!=null&&l.forceRefresh)&&(n=await a()),n):async l=>((!s||l!=null&&l.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(e(n)&&await a(),n))},tRe=3e5,rRe=t=>{const e=t.credentials?nRe(t.credentials):t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t})),{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:i}=t;let s;return t.signer?s=Ku(t.signer):t.regionInfoProvider?s=()=>Ku(t.region)().then(async o=>[await t.regionInfoProvider(o,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:l,signingService:u}=o;t.signingRegion=t.signingRegion||l||a,t.signingName=t.signingName||u||t.serviceId;const d={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:r},f=t.signerConstructor||lI;return new f(d)}):s=async o=>{o=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Ku(t.region)(),properties:{}},o);const a=(o==null?void 0:o.name)==="sigv4a",l=o.signingRegion,u=o.signingName;let d;a?d=t.signingRegion||l:(t.signingRegion=t.signingRegion||l,d=t.signingRegion),t.signingName=t.signingName||u||t.serviceId;const f={...t,credentials:e,region:d,service:t.signingName,sha256:i,uriEscapePath:r},h=t.signerConstructor||lI;return new h(f)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:s}},nRe=t=>typeof t=="function"?jZ(t,e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<tRe,e=>e.expiration!==void 0):Ku(t),HZ=t=>new Date(Date.now()+t),iRe=(t,e)=>Math.abs(HZ(e).getTime()-t)>=3e5,jB=(t,e)=>{const r=Date.parse(t);return iRe(r,e)?r-Date.now():e},sRe=t=>(e,r)=>async function(n){var p,v,b,S,T,E,C;if(!ka.isInstance(n.request))return e(n);let i,s;const o=(b=(v=(p=r.endpointV2)==null?void 0:p.properties)==null?void 0:v.authSchemes)==null?void 0:b[0],a=(E=(T=(S=r.endpointV2)==null?void 0:S.properties)==null?void 0:T.authSchemes)==null?void 0:E[1];if((o==null?void 0:o.name)==="sigv4a"&&a){s=await t.signer(i=o);const P=s;(()=>{var L;if(typeof(P==null?void 0:P.getSigv4aSigner)=="function"){if(((L=P==null?void 0:P.signerOptions)==null?void 0:L.runtime)!=="node")return!1;try{return P.getSigv4aSigner(),!0}catch{}}return!1})()||(s=await t.signer(i=a))}else s=await t.signer(i=o);let u;const d=(i==null?void 0:i.name)==="sigv4a"?(C=i==null?void 0:i.signingRegionSet)==null?void 0:C.join(","):void 0,f={signingDate:HZ(t.systemClockOffset),signingRegion:d||r.signing_region,signingService:r.signing_service};if(r.s3ExpressIdentity){if(u=await s.signWithCredentials(n.request,r.s3ExpressIdentity,f),u.headers["X-Amz-Security-Token"]||u.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.")}else u=await s.sign(n.request,f);const h=await e({...n,request:u}).catch(P=>{const D=P.ServerTime??HB(P.$response);throw D&&(t.systemClockOffset=jB(D,t.systemClockOffset)),P}),g=HB(h.response);return g&&(t.systemClockOffset=jB(g,t.systemClockOffset)),h},HB=t=>{var e,r;return ev.isInstance(t)?((e=t.headers)==null?void 0:e.date)??((r=t.headers)==null?void 0:r.Date):void 0},oRe={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},aRe=t=>({applyToStack:e=>{e.addRelativeTo(sRe(t),oRe)}});function lRe(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}const uRe=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),GZ=t=>uRe.test(t)||t.startsWith("[")&&t.endsWith("]"),cRe=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),U8=(t,e=!1)=>{if(!e)return cRe.test(t);const r=t.split(".");for(const n of r)if(!U8(n))return!1;return!0},GS={},W2="endpoints";function jh(t){return typeof t!="object"||t==null?t:"ref"in t?`$${jh(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(jh).join(", ")})`:JSON.stringify(t,null,2)}class kl extends Error{constructor(e){super(e),this.name="EndpointError"}}const dRe=(t,e)=>t===e,fRe=t=>{const e=t.split("."),r=[];for(const n of e){const i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new kl(`Path: '${t}' does not end with ']'`);const s=n.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new kl(`Invalid array index: '${s}' in path: '${t}'`);i!==0&&r.push(n.slice(0,i)),r.push(s)}else r.push(n)}return r},WZ=(t,e)=>fRe(e).reduce((r,n)=>{if(typeof r!="object")throw new kl(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),hRe=t=>t!=null,pRe=t=>!t,n3={[j2.HTTP]:80,[j2.HTTPS]:443},mRe=t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:h,port:g,protocol:p="",path:v="",query:b={}}=t,S=new URL(`${p}//${h}${g?`:${g}`:""}${v}`);return S.search=Object.entries(b).map(([T,E])=>`${T}=${E}`).join("&"),S}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const r=e.href,{host:n,hostname:i,pathname:s,protocol:o,search:a}=e;if(a)return null;const l=o.slice(0,-1);if(!Object.values(j2).includes(l))return null;const u=GZ(i),d=r.includes(`${n}:${n3[l]}`)||typeof t=="string"&&t.includes(`${n}:${n3[l]}`),f=`${n}${d?`:${n3[l]}`:""}`;return{scheme:l,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}},gRe=(t,e)=>t===e,vRe=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),_Re=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),yRe={booleanEquals:dRe,getAttr:WZ,isSet:hRe,isValidHostLabel:U8,not:pRe,parseURL:mRe,stringEquals:gRe,substring:vRe,uriEncode:_Re},qZ=(t,e)=>{const r=[],n={...e.endpointParams,...e.referenceRecord};let i=0;for(;i<t.length;){const s=t.indexOf("{",i);if(s===-1){r.push(t.slice(i));break}r.push(t.slice(i,s));const o=t.indexOf("}",s);if(o===-1){r.push(t.slice(s));break}t[s+1]==="{"&&t[o+1]==="}"&&(r.push(t.slice(s+1,o)),i=o+2);const a=t.substring(s+1,o);if(a.includes("#")){const[l,u]=a.split("#");r.push(WZ(n[l],u))}else r.push(n[a]);i=o+1}return r.join("")},bRe=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],WE=(t,e,r)=>{if(typeof t=="string")return qZ(t,r);if(t.fn)return XZ(t,r);if(t.ref)return bRe(t,r);throw new kl(`'${e}': ${String(t)} is not a string, function or reference.`)},XZ=({fn:t,argv:e},r)=>{const n=e.map(s=>["boolean","number"].includes(typeof s)?s:WE(s,"arg",r)),i=t.split(".");return i[0]in GS&&i[1]!=null?GS[i[0]][i[1]](...n):yRe[t](...n)},xRe=({assign:t,...e},r)=>{var i,s;if(t&&t in r.referenceRecord)throw new kl(`'${t}' is already defined in Reference Record.`);const n=XZ(e,r);return(s=(i=r.logger)==null?void 0:i.debug)==null||s.call(i,W2,`evaluateCondition: ${jh(e)} = ${jh(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}},V8=(t=[],e)=>{var n,i;const r={};for(const s of t){const{result:o,toAssign:a}=xRe(s,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(i=(n=e.logger)==null?void 0:n.debug)==null||i.call(n,W2,`assign: ${a.name} := ${jh(a.value)}`))}return{result:!0,referenceRecord:r}},wRe=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:i.map(s=>{const o=WE(s,"Header value entry",e);if(typeof o!="string")throw new kl(`Header '${n}' value '${o}' is not a string`);return o})}),{}),YZ=(t,e)=>{if(Array.isArray(t))return t.map(r=>YZ(r,e));switch(typeof t){case"string":return qZ(t,e);case"object":if(t===null)throw new kl(`Unexpected endpoint property: ${t}`);return KZ(t,e);case"boolean":return t;default:throw new kl(`Unexpected endpoint property type: ${typeof t}`)}},KZ=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:YZ(i,e)}),{}),SRe=(t,e)=>{const r=WE(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new kl(`Endpoint URL must be a string, got ${typeof r}`)},TRe=(t,e)=>{var d,f;const{conditions:r,endpoint:n}=t,{result:i,referenceRecord:s}=V8(r,e);if(!i)return;const o={...e,referenceRecord:{...e.referenceRecord,...s}},{url:a,properties:l,headers:u}=n;return(f=(d=e.logger)==null?void 0:d.debug)==null||f.call(d,W2,`Resolving endpoint from template: ${jh(n)}`),{...u!=null&&{headers:wRe(u,o)},...l!=null&&{properties:KZ(l,o)},url:SRe(a,o)}},ERe=(t,e)=>{const{conditions:r,error:n}=t,{result:i,referenceRecord:s}=V8(r,e);if(i)throw new kl(WE(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...s}}))},CRe=(t,e)=>{const{conditions:r,rules:n}=t,{result:i,referenceRecord:s}=V8(r,e);if(i)return ZZ(n,{...e,referenceRecord:{...e.referenceRecord,...s}})},ZZ=(t,e)=>{for(const r of t)if(r.type==="endpoint"){const n=TRe(r,e);if(n)return n}else if(r.type==="error")ERe(r,e);else if(r.type==="tree"){const n=CRe(r,e);if(n)return n}else throw new kl(`Unknown endpoint rule: ${r}`);throw new kl("Rules evaluation failed")},ARe=(t,e)=>{var u,d,f,h,g;const{endpointParams:r,logger:n}=e,{parameters:i,rules:s}=t;(d=(u=e.logger)==null?void 0:u.debug)==null||d.call(u,`${W2} Initial EndpointParams: ${jh(r)}`);const o=Object.entries(i).filter(([,p])=>p.default!=null).map(([p,v])=>[p,v.default]);if(o.length>0)for(const[p,v]of o)r[p]=r[p]??v;const a=Object.entries(i).filter(([,p])=>p.required).map(([p])=>p);for(const p of a)if(r[p]==null)throw new kl(`Missing required parameter: '${p}'`);const l=ZZ(s,{endpointParams:r,logger:n,referenceRecord:{}});if((f=e.endpointParams)!=null&&f.Endpoint)try{const p=new URL(e.endpointParams.Endpoint),{protocol:v,port:b}=p;l.url.protocol=v,l.url.port=b}catch{}return(g=(h=e.logger)==null?void 0:h.debug)==null||g.call(h,`${W2} Resolved endpoint: ${jh(l)}`),l},QZ=(t,e=!1)=>{if(e){for(const r of t.split("."))if(!QZ(r))return!1;return!0}return!(!U8(t)||t.length<3||t.length>63||t!==t.toLowerCase()||GZ(t))},PRe=t=>{const e=t.split(":");if(e.length<6)return null;const[r,n,i,s,o,...a]=e;return r!=="arn"||n===""||i===""||a[0]===""?null:{partition:n,service:i,region:s,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},kRe=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],IRe="1.1",ORe={partitions:kRe,version:IRe};let DRe=ORe;const MRe=t=>{const{partitions:e}=DRe;for(const n of e){const{regions:i,outputs:s}=n;for(const[o,a]of Object.entries(i))if(o===t)return{...s,...a}}for(const n of e){const{regionRegex:i,outputs:s}=n;if(new RegExp(i).test(t))return{...s}}const r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},JZ={isVirtualHostableS3Bucket:QZ,parseArn:PRe,partition:MRe};GS.aws=JZ;const GB="user-agent",i3="x-amz-user-agent",WB=" ",s3="/",RRe=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,$Re=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,qB="-",LRe=t=>(e,r)=>async n=>{var f,h;const{request:i}=n;if(!ka.isInstance(i))return e(n);const{headers:s}=i,o=((f=r==null?void 0:r.userAgent)==null?void 0:f.map(o3))||[],a=(await t.defaultUserAgentProvider()).map(o3),l=((h=t==null?void 0:t.customUserAgent)==null?void 0:h.map(o3))||[],u=[].concat([...a,...o,...l]).join(WB),d=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(WB);return t.runtime!=="browser"?(d&&(s[i3]=s[i3]?`${s[GB]} ${d}`:d),s[GB]=u):s[i3]=u,e({...n,request:i})},o3=t=>{var o;const e=t[0].split(s3).map(a=>a.replace(RRe,qB)).join(s3),r=(o=t[1])==null?void 0:o.replace($Re,qB),n=e.indexOf(s3),i=e.substring(0,n);let s=e.substring(n+1);return i==="api"&&(s=s.toLowerCase()),[i,s,r].filter(a=>a&&a.length>0).reduce((a,l,u)=>{switch(u){case 0:return l;case 1:return`${a}/${l}`;default:return`${a}#${l}`}},"")},FRe={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},NRe=t=>({applyToStack:e=>{e.add(LRe(t),FRe)}}),BRe=!1,URe=!1,eQ=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),XB=t=>eQ(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,VRe=t=>{const{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return XB(e);const n=await e();return XB(n)},useFipsEndpoint:async()=>{const n=typeof e=="string"?e:await e();return eQ(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},zRe=t=>({...t,eventStreamMarshaller:t.eventStreamSerdeProvider(t)}),YB="content-length";function jRe(t){return e=>async r=>{const n=r.request;if(ka.isInstance(n)){const{body:i,headers:s}=n;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(YB)===-1)try{const o=t(i);n.headers={...n.headers,[YB]:String(o)}}catch{}}return e({...r,request:n})}}const HRe={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},GRe=t=>({applyToStack:e=>{e.add(jRe(t.bodyLengthChecker),HRe)}}),WRe=async t=>{const e=(t==null?void 0:t.Bucket)||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),ZRe(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!KRe(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},qRe=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,XRe=/(\d+\.){3}\d+/,YRe=/\.\./,KRe=t=>qRe.test(t)&&!XRe.test(t)&&!YRe.test(t),ZRe=t=>{const[e,r,n,,,i]=t.split(":"),s=e==="arn"&&t.split(":").length>=6,o=!!(s&&r&&n&&i);if(s&&!o)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return o},QRe=(t,e,r)=>{const n=async()=>{const i=r[t]??r[e];return typeof i=="function"?i():i};return t==="credentialScope"||e==="CredentialScope"?async()=>{const i=typeof r.credentials=="function"?await r.credentials():r.credentials;return(i==null?void 0:i.credentialScope)??(i==null?void 0:i.CredentialScope)}:t==="endpoint"||e==="endpoint"?async()=>{const i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){const{protocol:s,hostname:o,port:a,path:l}=i;return`${s}//${o}${a?":"+a:""}${l}`}}return i}:n},JRe=async t=>{};function e6e(t){const e={};if(t=t.replace(/^\?/,""),t)for(const r of t.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in e?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}return e}const WS=t=>{if(typeof t=="string")return WS(new URL(t));const{hostname:e,pathname:r,port:n,protocol:i,search:s}=t;let o;return s&&(o=e6e(s)),{hostname:e,port:n?parseInt(n):void 0,protocol:i,path:r,query:o}},tQ=t=>typeof t=="object"?"url"in t?WS(t.url):t:WS(t),rQ=async(t,e,r,n)=>{if(!r.endpoint){const o=await JRe(r.serviceId||"");o&&(r.endpoint=()=>Promise.resolve(tQ(o)))}const i=await t6e(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},t6e=async(t,e,r)=>{var s;const n={},i=((s=e==null?void 0:e.getEndpointParameterInstructions)==null?void 0:s.call(e))||{};for(const[o,a]of Object.entries(i))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=t[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await QRe(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await WRe(n),n},r6e=({config:t,instructions:e})=>(r,n)=>async i=>{var a,l,u;const s=await rQ(i.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=s,n.authSchemes=(a=s.properties)==null?void 0:a.authSchemes;const o=(l=n.authSchemes)==null?void 0:l[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;const d=d8e(n),f=(u=d==null?void 0:d.selectedHttpAuthScheme)==null?void 0:u.httpAuthOption;f&&(f.signingProperties=Object.assign(f.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...i})},n6e=(t,e)=>(r,n)=>async i=>{const{response:s}=await r(i);try{const o=await e(s,t);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){const a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+a,typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText)}throw o}},i6e=(t,e)=>(r,n)=>async i=>{var a;const s=(a=n.endpointV2)!=null&&a.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!s)throw new Error("No valid endpoint provider available.");const o=await e(i.input,{...t,endpoint:s});return r({...i,request:o})},s6e={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},z8={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function pc(t,e,r){return{applyToStack:n=>{n.add(n6e(t,r),s6e),n.add(i6e(t,e),z8)}}}const nQ={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:z8.name},mc=(t,e)=>({applyToStack:r=>{r.addRelativeTo(r6e({config:t,instructions:e}),nQ)}}),o6e=t=>{const e=t.tls??!0,{endpoint:r}=t,n=r!=null?async()=>tQ(await Ku(r)()):void 0;return{...t,endpoint:n,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:Ku(t.useDualstackEndpoint??!1),useFipsEndpoint:Ku(t.useFipsEndpoint??!1)}};var tv;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(tv||(tv={}));const qS=3,a6e=tv.STANDARD,l6e=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],u6e=["TimeoutError","RequestTimeout","RequestTimeoutException"],c6e=[500,502,503,504],d6e=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],f6e=t=>{var e;return(e=t.$metadata)==null?void 0:e.clockSkewCorrected},iQ=t=>{var e,r;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||l6e.includes(t.name)||((r=t.$retryable)==null?void 0:r.throttling)==!0},sQ=t=>{var e;return f6e(t)||u6e.includes(t.name)||d6e.includes((t==null?void 0:t.code)||"")||c6e.includes(((e=t.$metadata)==null?void 0:e.httpStatusCode)||0)},h6e=t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){const r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!sQ(t)}return!1};class p6e{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(e==null?void 0:e.beta)??.7,this.minCapacity=(e==null?void 0:e.minCapacity)??1,this.minFillRate=(e==null?void 0:e.minFillRate)??.5,this.scaleConstant=(e==null?void 0:e.scaleConstant)??.4,this.smooth=(e==null?void 0:e.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),iQ(e)){const i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}const dI=100,oQ=20*1e3,m6e=500,KB=500,g6e=5,v6e=10,_6e=1,y6e="amz-sdk-invocation-id",b6e="amz-sdk-request",x6e=()=>{let t=dI;return{computeNextBackoffDelay:n=>Math.floor(Math.min(oQ,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}},ZB=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(oQ,t),getRetryCost:()=>r});class aQ{constructor(e){this.maxAttempts=e,this.mode=tv.STANDARD,this.capacity=KB,this.retryBackoffStrategy=x6e(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return ZB({retryDelay:dI,retryCount:0})}async refreshRetryTokenForRetry(e,r){const n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){const i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?m6e:dI);const s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(i);return this.capacity-=a,ZB({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(KB,this.capacity+(e.getRetryCost()??_6e))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${qS}`),qS}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?v6e:g6e}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class w6e{constructor(e,r){this.maxAttemptsProvider=e,this.mode=tv.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new p6e,this.standardRetryStrategy=new aQ(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}let rx;const S6e=new Uint8Array(16);function T6e(){if(!rx&&(rx=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!rx))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rx(S6e)}const Mo=[];for(let t=0;t<256;++t)Mo.push((t+256).toString(16).slice(1));function E6e(t,e=0){return Mo[t[e+0]]+Mo[t[e+1]]+Mo[t[e+2]]+Mo[t[e+3]]+"-"+Mo[t[e+4]]+Mo[t[e+5]]+"-"+Mo[t[e+6]]+Mo[t[e+7]]+"-"+Mo[t[e+8]]+Mo[t[e+9]]+"-"+Mo[t[e+10]]+Mo[t[e+11]]+Mo[t[e+12]]+Mo[t[e+13]]+Mo[t[e+14]]+Mo[t[e+15]]}const C6e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),QB={randomUUID:C6e};function A6e(t,e,r){if(QB.randomUUID&&!e&&!t)return QB.randomUUID();t=t||{};const n=t.random||(t.rng||T6e)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return E6e(n)}const P6e=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),k6e=t=>{const{retryStrategy:e}=t,r=Ku(t.maxAttempts??qS);return{...t,maxAttempts:r,retryStrategy:async()=>e||(await Ku(t.retryMode)()===tv.ADAPTIVE?new w6e(r):new aQ(r))}},I6e=t=>(t==null?void 0:t.body)instanceof ReadableStream,O6e=t=>(e,r)=>async n=>{var o;let i=await t.retryStrategy();const s=await t.maxAttempts();if(D6e(i)){i=i;let a=await i.acquireInitialRetryToken(r.partition_id),l=new Error,u=0,d=0;const{request:f}=n,h=ka.isInstance(f);for(h&&(f.headers[y6e]=A6e());;)try{h&&(f.headers[b6e]=`attempt=${u+1}; max=${s}`);const{response:g,output:p}=await e(n);return i.recordSuccess(a),p.$metadata.attempts=u+1,p.$metadata.totalRetryDelay=d,{response:g,output:p}}catch(g){const p=M6e(g);if(l=P6e(g),h&&I6e(f))throw(o=r.logger instanceof O8?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),l;try{a=await i.refreshRetryTokenForRetry(a,p)}catch{throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=u+1,l.$metadata.totalRetryDelay=d,l}u=a.getRetryCount();const v=a.getRetryDelay();d+=v,await new Promise(b=>setTimeout(b,v))}}else return i=i,i!=null&&i.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,n)},D6e=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",M6e=t=>{const e={error:t,errorType:R6e(t)},r=L6e(t.$response);return r&&(e.retryAfterHint=r),e},R6e=t=>iQ(t)?"THROTTLING":sQ(t)?"TRANSIENT":h6e(t)?"SERVER_ERROR":"CLIENT_ERROR",lQ={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},$6e=t=>({applyToStack:e=>{e.add(O6e(t),lQ)}}),L6e=t=>{if(!ev.isInstance(t))return;const e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;const r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},F6e=t=>({...t,useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),gc={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class Au extends B8{constructor(e){super(e),Object.setPrototypeOf(this,Au.prototype)}}class j8 extends Au{constructor(e){super({name:"NoSuchUpload",$fault:"client",...e}),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,j8.prototype)}}class H8 extends Au{constructor(e){super({name:"ObjectNotInActiveTierError",$fault:"client",...e}),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,H8.prototype)}}class G8 extends Au{constructor(e){super({name:"BucketAlreadyExists",$fault:"client",...e}),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,G8.prototype)}}class W8 extends Au{constructor(e){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...e}),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,W8.prototype)}}class q8 extends Au{constructor(e){super({name:"NoSuchBucket",$fault:"client",...e}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,q8.prototype)}}var JB;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(JB||(JB={}));var eU;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(e.ObjectSizeGreaterThan):e.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(e.ObjectSizeLessThan):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(eU||(eU={}));var tU;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.AccessPointArn!==void 0?r.AccessPointArn(e.AccessPointArn):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(tU||(tU={}));var rU;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(rU||(rU={}));class X8 extends Au{constructor(e){super({name:"InvalidObjectState",$fault:"client",...e}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,X8.prototype),this.StorageClass=e.StorageClass,this.AccessTier=e.AccessTier}}class Y8 extends Au{constructor(e){super({name:"NoSuchKey",$fault:"client",...e}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,Y8.prototype)}}class K8 extends Au{constructor(e){super({name:"NotFound",$fault:"client",...e}),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,K8.prototype)}}const N6e=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:uo}}),B6e=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:uo}}),U6e=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:uo},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:uo}}),V6e=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:uo},...t.SSEKMSKeyId&&{SSEKMSKeyId:uo},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:uo}}),z6e=t=>({...t,...t.SecretAccessKey&&{SecretAccessKey:uo},...t.SessionToken&&{SessionToken:uo}}),j6e=t=>({...t,...t.Credentials&&{Credentials:z6e(t.Credentials)}}),H6e=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:uo}}),G6e=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:uo}}),W6e=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:uo}});nQ.name;z8.name;lQ.name;function vc(t,e){return new q6e(t,e)}class q6e{constructor(e,r){this.input=e,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:r="https",port:n,path:i}=await this.context.endpoint();this.path=i;for(const s of this.resolvePathStack)s(this.path);return new ka({protocol:r,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(r=>{this.path=`${r!=null&&r.endsWith("/")?r.slice(0,-1):r||""}`+e}),this}p(e,r,n,i){return this.resolvePathStack.push(s=>{this.path=QMe(s,this.input,e,r,n,i)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}const X6e=(t,e)=>jE(t,e).then(r=>e.utf8Encoder(r));var Z8={},qE={};(function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+e+"]["+r+"]*",i=new RegExp("^"+n+"$"),s=function(a,l){const u=[];let d=l.exec(a);for(;d;){const f=[];f.startIndex=l.lastIndex-d[0].length;const h=d.length;for(let g=0;g<h;g++)f.push(d[g]);u.push(f),d=l.exec(a)}return u},o=function(a){const l=i.exec(a);return!(l===null||typeof l>"u")};t.isExist=function(a){return typeof a<"u"},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,l,u){if(l){const d=Object.keys(l),f=d.length;for(let h=0;h<f;h++)u==="strict"?a[d[h]]=[l[d[h]]]:a[d[h]]=l[d[h]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=o,t.getAllMatches=s,t.nameRegexp=n})(qE);const Q8=qE,Y6e={allowBooleanAttributes:!1,unpairedTags:[]};Z8.validate=function(t,e){e=Object.assign({},Y6e,e);const r=[];let n=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=iU(t,s),s.err)return s}else if(t[s]==="<"){let o=s;if(s++,t[s]==="!"){s=sU(t,s);continue}else{let a=!1;t[s]==="/"&&(a=!0,s++);let l="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!==`
`&&t[s]!=="\r";s++)l+=t[s];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),s--),!n$e(l)){let f;return l.trim().length===0?f="Invalid space after '<'.":f="Tag '"+l+"' is an invalid name.",Ws("InvalidTag",f,Fa(t,s))}const u=Q6e(t,s);if(u===!1)return Ws("InvalidAttr","Attributes for '"+l+"' have open quote.",Fa(t,s));let d=u.value;if(s=u.index,d[d.length-1]==="/"){const f=s-d.length;d=d.substring(0,d.length-1);const h=oU(d,e);if(h===!0)n=!0;else return Ws(h.err.code,h.err.msg,Fa(t,f+h.err.line))}else if(a)if(u.tagClosed){if(d.trim().length>0)return Ws("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",Fa(t,o));{const f=r.pop();if(l!==f.tagName){let h=Fa(t,f.tagStartPos);return Ws("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+l+"'.",Fa(t,o))}r.length==0&&(i=!0)}}else return Ws("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",Fa(t,s));else{const f=oU(d,e);if(f!==!0)return Ws(f.err.code,f.err.msg,Fa(t,s-d.length+f.err.line));if(i===!0)return Ws("InvalidXml","Multiple possible root nodes found.",Fa(t,s));e.unpairedTags.indexOf(l)!==-1||r.push({tagName:l,tagStartPos:o}),n=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=sU(t,s);continue}else if(t[s+1]==="?"){if(s=iU(t,++s),s.err)return s}else break;else if(t[s]==="&"){const f=t$e(t,s);if(f==-1)return Ws("InvalidChar","char '&' is not expected.",Fa(t,s));s=f}else if(i===!0&&!nU(t[s]))return Ws("InvalidXml","Extra text at the end",Fa(t,s));t[s]==="<"&&s--}}else{if(nU(t[s]))continue;return Ws("InvalidChar","char '"+t[s]+"' is not expected.",Fa(t,s))}if(n){if(r.length==1)return Ws("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Fa(t,r[0].tagStartPos));if(r.length>0)return Ws("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Ws("InvalidXml","Start tag expected.",1);return!0};function nU(t){return t===" "||t==="	"||t===`
`||t==="\r"}function iU(t,e){const r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const n=t.substr(r,e-r);if(e>5&&n==="xml")return Ws("InvalidXml","XML declaration allowed only at the start of the document.",Fa(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function sU(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const K6e='"',Z6e="'";function Q6e(t,e){let r="",n="",i=!1;for(;e<t.length;e++){if(t[e]===K6e||t[e]===Z6e)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){i=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:i}}const J6e=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function oU(t,e){const r=Q8.getAllMatches(t,J6e),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return Ws("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",y_(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return Ws("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",y_(r[i]));if(r[i][3]===void 0&&!e.allowBooleanAttributes)return Ws("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",y_(r[i]));const s=r[i][2];if(!r$e(s))return Ws("InvalidAttr","Attribute '"+s+"' is an invalid name.",y_(r[i]));if(!n.hasOwnProperty(s))n[s]=1;else return Ws("InvalidAttr","Attribute '"+s+"' is repeated.",y_(r[i]))}return!0}function e$e(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function t$e(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,e$e(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function Ws(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function r$e(t){return Q8.isName(t)}function n$e(t){return Q8.isName(t)}function Fa(t,e){const r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function y_(t){return t.startIndex+t[1].length}var J8={};const uQ={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t}},i$e=function(t){return Object.assign({},uQ,t)};J8.buildOptions=i$e;J8.defaultOptions=uQ;let s$e=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};var o$e=s$e;const a$e=qE;function l$e(t,e){const r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,i=!1,s=!1,o="";for(;e<t.length;e++)if(t[e]==="<"&&!s){if(i&&d$e(t,e))e+=7,[entityName,val,e]=u$e(t,e+1),val.indexOf("&")===-1&&(r[m$e(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&f$e(t,e))e+=8;else if(i&&h$e(t,e))e+=8;else if(i&&p$e(t,e))e+=9;else if(c$e)s=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(t[e]===">"){if(s?t[e-1]==="-"&&t[e-2]==="-"&&(s=!1,n--):n--,n===0)break}else t[e]==="["?i=!0:o+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function u$e(t,e){let r="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)r+=t[e];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");const n=t[e++];let i="";for(;e<t.length&&t[e]!==n;e++)i+=t[e];return[r,i,e]}function c$e(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function d$e(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function f$e(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function h$e(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function p$e(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function m$e(t){if(a$e.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}var g$e=l$e;const v$e=/^[-+]?0x[a-fA-F0-9]+$/,_$e=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const y$e={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function b$e(t,e={}){if(e=Object.assign({},y$e,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&v$e.test(r))return Number.parseInt(r,16);{const n=_$e.exec(r);if(n){const i=n[1],s=n[2];let o=x$e(n[3]);const a=n[4]||n[6];if(!e.leadingZeros&&s.length>0&&i&&r[2]!==".")return t;if(!e.leadingZeros&&s.length>0&&!i&&r[1]!==".")return t;{const l=Number(r),u=""+l;return u.search(/[eE]/)!==-1||a?e.eNotation?l:t:r.indexOf(".")!==-1?u==="0"&&o===""||u===o||i&&u==="-"+o?l:t:s?o===u||i+o===u?l:t:r===u||r===i+u?l:t}}else return t}}function x$e(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}var w$e=b$e;const eR=qE,b_=o$e,S$e=g$e,T$e=w$e;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,eR.nameRegexp);let E$e=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=C$e,this.parseXml=O$e,this.parseTextData=A$e,this.resolveNameSpace=P$e,this.buildAttributesMap=I$e,this.isItStopNode=$$e,this.replaceEntitiesValue=M$e,this.readStopNodeData=F$e,this.saveTextToParentTag=R$e,this.addChild=D$e}};function C$e(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function A$e(t,e,r,n,i,s,o){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));const a=this.options.tagValueProcessor(e,t,r,i,s);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?hI(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?hI(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function P$e(t){if(this.options.removeNSPrefix){const e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}const k$e=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function I$e(t,e,r){if(!this.options.ignoreAttributes&&typeof t=="string"){const n=eR.getAllMatches(t,k$e),i=n.length,s={};for(let o=0;o<i;o++){const a=this.resolveNameSpace(n[o][1]);let l=n[o][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),l!==void 0){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);const d=this.options.attributeValueProcessor(a,l,e);d==null?s[u]=l:typeof d!=typeof l||d!==l?s[u]=d:s[u]=hI(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=s,o}return s}}const O$e=function(t){t=t.replace(/\r\n?/g,`
`);const e=new b_("!xml");let r=e,n="",i="";for(let s=0;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="/"){const a=h0(t,">",s,"Closing Tag is not closed.");let l=t.substring(s+2,a).trim();if(this.options.removeNSPrefix){const f=l.indexOf(":");f!==-1&&(l=l.substr(f+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&(n=this.saveTextToParentTag(n,r,i));const u=i.substring(i.lastIndexOf(".")+1);if(l&&this.options.unpairedTags.indexOf(l)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${l}>`);let d=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(d=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=i.lastIndexOf("."),i=i.substring(0,d),r=this.tagsNodeStack.pop(),n="",s=a}else if(t[s+1]==="?"){let a=fI(t,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const l=new b_(a.tagName);l.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(l[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,l,i)}s=a.closeIndex+1}else if(t.substr(s+1,3)==="!--"){const a=h0(t,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const l=t.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}s=a}else if(t.substr(s+1,2)==="!D"){const a=S$e(t,s);this.docTypeEntities=a.entities,s=a.i}else if(t.substr(s+1,2)==="!["){const a=h0(t,"]]>",s,"CDATA is not closed.")-2,l=t.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,i),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]);else{let u=this.parseTextData(l,r.tagname,i,!0,!1,!0);u==null&&(u=""),r.add(this.options.textNodeName,u)}s=a+2}else{let a=fI(t,s,this.options.removeNSPrefix),l=a.tagName,u=a.tagExp,d=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));const h=r;if(h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),l!==e.tagname&&(i+=i?"."+l:l),this.isItStopNode(this.options.stopNodes,i,l)){let g="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(l)!==-1)s=a.closeIndex;else{const v=this.readStopNodeData(t,l,f+1);if(!v)throw new Error(`Unexpected end of ${l}`);s=v.i,g=v.tagContent}const p=new b_(l);l!==u&&d&&(p[":@"]=this.buildAttributesMap(u,i,l)),g&&(g=this.parseTextData(g,l,i,!0,d,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),p.add(this.options.textNodeName,g),this.addChild(r,p,i)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),u=l):u=u.substr(0,u.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));const g=new b_(l);l!==u&&d&&(g[":@"]=this.buildAttributesMap(u,i,l)),this.addChild(r,g,i),i=i.substr(0,i.lastIndexOf("."))}else{const g=new b_(l);this.tagsNodeStack.push(r),l!==u&&d&&(g[":@"]=this.buildAttributesMap(u,i,l)),this.addChild(r,g,i),r=g}n="",s=f}}else n+=t[s];return e.child};function D$e(t,e,r){const n=this.options.updateTag(e.tagname,r,e[":@"]);n===!1||(typeof n=="string"&&(e.tagname=n),t.addChild(e))}const M$e=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){const r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function R$e(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function $$e(t,e,r){const n="*."+r;for(const i in t){const s=t[i];if(n===s||e===s)return!0}return!1}function L$e(t,e,r=">"){let n,i="";for(let s=e;s<t.length;s++){let o=t[s];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(t[s+1]===r[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function h0(t,e,r,n){const i=t.indexOf(e,r);if(i===-1)throw new Error(n);return i+e.length-1}function fI(t,e,r,n=">"){const i=L$e(t,e+1,n);if(!i)return;let s=i.data;const o=i.index,a=s.search(/\s/);let l=s,u=!0;if(a!==-1&&(l=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){const d=l.indexOf(":");d!==-1&&(l=l.substr(d+1),u=l!==i.data.substr(d+1))}return{tagName:l,tagExp:s,closeIndex:o,attrExpPresent:u}}function F$e(t,e,r){const n=r;let i=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){const s=h0(t,">",r,`${e} is not closed`);if(t.substring(r+2,s).trim()===e&&(i--,i===0))return{tagContent:t.substring(n,r),i:s};r=s}else if(t[r+1]==="?")r=h0(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=h0(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=h0(t,"]]>",r,"StopNode is not closed.")-2;else{const s=fI(t,r,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,r=s.closeIndex)}}function hI(t,e,r){if(e&&typeof t=="string"){const n=t.trim();return n==="true"?!0:n==="false"?!1:T$e(t,r)}else return eR.isExist(t)?t:""}var N$e=E$e,cQ={};function B$e(t,e){return dQ(t,e)}function dQ(t,e,r){let n;const i={};for(let s=0;s<t.length;s++){const o=t[s],a=U$e(o);let l="";if(r===void 0?l=a:l=r+"."+a,a===e.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let u=dQ(o[a],e,l);const d=z$e(u,e);o[":@"]?V$e(u,o[":@"],l,e):Object.keys(u).length===1&&u[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?u=u[e.textNodeName]:Object.keys(u).length===0&&(e.alwaysCreateTextNode?u[e.textNodeName]="":u=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(u)):e.isArray(a,l,d)?i[a]=[u]:i[a]=u}}}return typeof n=="string"?n.length>0&&(i[e.textNodeName]=n):n!==void 0&&(i[e.textNodeName]=n),i}function U$e(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];if(n!==":@")return n}}function V$e(t,e,r,n){if(e){const i=Object.keys(e),s=i.length;for(let o=0;o<s;o++){const a=i[o];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function z$e(t,e){const{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}cQ.prettify=B$e;const{buildOptions:j$e}=J8,H$e=N$e,{prettify:G$e}=cQ,W$e=Z8;let q$e=class{constructor(e){this.externalEntities={},this.options=j$e(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const s=W$e.validate(e,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const n=new H$e(this.options);n.addExternalEntities(this.externalEntities);const i=n.parseXml(e);return this.options.preserveOrder||i===void 0?i:G$e(i,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};var X$e=q$e;const Y$e=`
`;function K$e(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=Y$e),fQ(t,e,"",r)}function fQ(t,e,r,n){let i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o],l=Z$e(a);let u="";if(r.length===0?u=l:u=`${r}.${l}`,l===e.textNodeName){let p=a[l];Q$e(u,e)||(p=e.tagValueProcessor(l,p),p=hQ(p,e)),s&&(i+=n),i+=p,s=!1;continue}else if(l===e.cdataPropName){s&&(i+=n),i+=`<![CDATA[${a[l][0][e.textNodeName]}]]>`,s=!1;continue}else if(l===e.commentPropName){i+=n+`<!--${a[l][0][e.textNodeName]}-->`,s=!0;continue}else if(l[0]==="?"){const p=aU(a[":@"],e),v=l==="?xml"?"":n;let b=a[l][0][e.textNodeName];b=b.length!==0?" "+b:"",i+=v+`<${l}${b}${p}?>`,s=!0;continue}let d=n;d!==""&&(d+=e.indentBy);const f=aU(a[":@"],e),h=n+`<${l}${f}`,g=fQ(a[l],e,u,d);e.unpairedTags.indexOf(l)!==-1?e.suppressUnpairedNode?i+=h+">":i+=h+"/>":(!g||g.length===0)&&e.suppressEmptyNode?i+=h+"/>":g&&g.endsWith(">")?i+=h+`>${g}${n}</${l}>`:(i+=h+">",g&&n!==""&&(g.includes("/>")||g.includes("</"))?i+=n+e.indentBy+g+n:i+=g,i+=`</${l}>`),s=!0}return i}function Z$e(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];if(n!==":@")return n}}function aU(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){let i=e.attributeValueProcessor(n,t[n]);i=hQ(i,e),i===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${i}"`}return r}function Q$e(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function hQ(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){const n=e.entities[r];t=t.replace(n.regex,n.val)}return t}var J$e=K$e;const e5e=J$e,t5e={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function tp(t){this.options=Object.assign({},t5e,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=i5e),this.processTextOrObjNode=r5e,this.options.format?(this.indentate=n5e,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}tp.prototype.build=function(t){return this.options.preserveOrder?e5e(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};tp.prototype.j2x=function(t,e){let r="",n="";for(let i in t)if(!(typeof t[i]>"u"))if(t[i]===null)i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)n+=this.buildTextValNode(t[i],i,"",e);else if(typeof t[i]!="object"){const s=this.isAttribute(i);if(s)r+=this.buildAttrPairStr(s,""+t[i]);else if(i===this.options.textNodeName){let o=this.options.tagValueProcessor(i,""+t[i]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){const s=t[i].length;let o="";for(let a=0;a<s;a++){const l=t[i][a];typeof l>"u"||(l===null?i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar:typeof l=="object"?this.options.oneListGroup?o+=this.j2x(l,e+1).val:o+=this.processTextOrObjNode(l,i,e):o+=this.buildTextValNode(l,i,"",e))}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,"",e)),n+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const s=Object.keys(t[i]),o=s.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(s[a],""+t[i][s[a]])}else n+=this.processTextOrObjNode(t[i],i,e);return{attrStr:r,val:n}};tp.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function r5e(t,e,r){const n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}tp.prototype.buildObjectNode=function(t,e,r,n){if(t==="")return e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,s="";return e[0]==="?"&&(s="?",i=""),r&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+s+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+s+this.tagEndChar+t+this.indentate(n)+i}};tp.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};tp.prototype.buildTextValNode=function(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(n)+"<"+e+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+i+"</"+e+this.tagEndChar}};tp.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function n5e(t){return this.options.indentBy.repeat(t)}function i5e(t){return t.startsWith(this.options.attributeNamePrefix)?t.substr(this.attrPrefixLen):!1}var s5e=tp;const o5e=Z8,a5e=X$e,l5e=s5e;var u5e={XMLParser:a5e,XMLValidator:o5e,XMLBuilder:l5e};const rp=(t,e)=>X6e(t,e).then(r=>{if(r.length){const n=new u5e.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let i;try{i=n.parse(r)}catch(l){throw l&&typeof l=="object"&&Object.defineProperty(l,"$responseBodyText",{value:r}),l}const s="#text",o=Object.keys(i)[0],a=i[o];return a[s]&&(a[o]=a[s],delete a[s]),DZ(a)}return{}}),c5e=async(t,e)=>{const r=await rp(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},d5e=(t,e)=>{var r;if(((r=e==null?void 0:e.Error)==null?void 0:r.Code)!==void 0)return e.Error.Code;if((e==null?void 0:e.Code)!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};function f5e(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function h5e(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}class p5e{constructor(e){this.value=e}toString(){return h5e(""+this.value)}}class uu{static of(e,r,n){const i=new uu(e);return r!==void 0&&i.addChildNode(new p5e(r)),n!==void 0&&i.withName(n),i}constructor(e,r=[]){this.name=e,this.children=r,this.attributes={}}withName(e){return this.name=e,this}addAttribute(e,r){return this.attributes[e]=r,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,r){return r!=null&&(this.attributes[e]=r),this}cc(e,r,n=r){if(e[r]!=null){const i=uu.of(r,e[r]).withName(n);this.c(i)}}l(e,r,n,i){e[r]!=null&&i().map(o=>{o.withName(n),this.c(o)})}lc(e,r,n,i){if(e[r]!=null){const s=i(),o=new uu(n);s.map(a=>{o.c(a)}),this.c(o)}}toString(){const e=!!this.children.length;let r=`<${this.name}`;const n=this.attributes;for(const i of Object.keys(n)){const s=n[i];s!=null&&(r+=` ${i}="${f5e(""+s)}"`)}return r+=e?`>${this.children.map(i=>i.toString()).join("")}</${this.name}>`:"/>"}}class tR extends Au{constructor(e){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...e}),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,tR.prototype)}}var lU;(function(t){t.visit=(e,r)=>e.Records!==void 0?r.Records(e.Records):e.Stats!==void 0?r.Stats(e.Stats):e.Progress!==void 0?r.Progress(e.Progress):e.Cont!==void 0?r.Cont(e.Cont):e.End!==void 0?r.End(e.End):r._(e.$unknown[0],e.$unknown[1])})(lU||(lU={}));const m5e=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:uo},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:uo}}),g5e=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:uo},...t.SSEKMSKeyId&&{SSEKMSKeyId:uo},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:uo}}),v5e=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:uo}}),_5e=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:uo}}),y5e=async(t,e)=>{const r=vc(t,e),n=Bn({},_s,{"content-type":"application/xml",[Gv]:t[wl],[Wv]:t[Sl],[qv]:t[Tl],[Xv]:t[El],[Mf]:t[If],[Of]:t[Pf],[Ed]:t[Sd],[Yv]:t[Hv],[Cd]:t[Td]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Bn({[Rf]:[,"CompleteMultipartUpload"],[vR]:[,Bs(t[df],"UploadId")]});let s,o;return t.MultipartUpload!==void 0&&(o=Z5e(t.MultipartUpload),o=o.n("CompleteMultipartUpload"),s=PQ,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=o.toString()),r.m("POST").h(n).q(i).b(s),r.build()},b5e=async(t,e)=>{const r=vc(t,e),n=Bn({},_s,{[kQ]:t[pQ],[dR]:t[nR],[fR]:t[iR],[hR]:t[sR],[pR]:t[oR],[mR]:t[aR],[KS]:[()=>_s(t[X2]),()=>e2(t[X2]).toString()],[MQ]:t[_Q],[RQ]:t[yQ],[$Q]:t[bQ],[LQ]:t[xQ],[dm]:t[um],[xR]:t[cu],[SR]:t[cR],[Ed]:t[Sd],[Yv]:t[Hv],[Cd]:t[Td],[fm]:t[cm],[YE]:t[XE],[bu]:[()=>_s(t[yf]),()=>t[yf].toString()],[Mf]:t[If],[NQ]:t[SQ],[bR]:t[uR],[JS]:[()=>_s(t[Y2]),()=>(t[Y2].toISOString().split(".")[0]+"Z").toString()],[yR]:t[lR],[Of]:t[Pf],[DQ]:t[Ql],...t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((o,a)=>(o[`x-amz-meta-${a.toLowerCase()}`]=t.Metadata[a],o),{})});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Bn({[_Fe]:[,""],[Rf]:[,"CreateMultipartUpload"]});let s;return r.m("POST").h(n).q(i).b(s),r.build()},x5e=async(t,e)=>{const r=vc(t,e),n=Bn({},_s,{[bFe]:t[HLe]});r.bp("/"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1);const i=Bn({[gFe]:[,""]});let s;return r.m("GET").h(n).q(i).b(s),r.build()},w5e=async(t,e)=>{const r=vc(t,e),n=Bn({},_s,{[FQ]:t[wQ],[Mf]:t[If],[OQ]:[()=>_s(t[XS]),()=>t[XS].toString()],[Of]:t[Pf]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Bn({[Rf]:[,"DeleteObject"],[AQ]:[,t[Ta]]});let s;return r.m("DELETE").h(n).q(i).b(s),r.build()},S5e=async(t,e)=>{const r=vc(t,e),n=Bn({},_s,{"content-type":"application/xml",[FQ]:t[wQ],[Mf]:t[If],[OQ]:[()=>_s(t[XS]),()=>t[XS].toString()],[Of]:t[Pf],[wR]:t[Ql]});r.bp("/"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1);const i=Bn({[YLe]:[,""],[Rf]:[,"DeleteObjects"]});let s,o;return t.Delete!==void 0&&(o=eLe(t.Delete),s=PQ,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=o.toString()),r.m("POST").h(n).q(i).b(s),r.build()},T5e=async(t,e)=>{const r=vc(t,e),n=Bn({},_s,{[eFe]:t[ALe],[tFe]:[()=>_s(t[dU]),()=>e2(t[dU]).toString()],[rFe]:t[PLe],[nFe]:[()=>_s(t[fU]),()=>e2(t[fU]).toString()],[uFe]:t[$Le],[Ed]:t[Sd],[Yv]:t[Hv],[Cd]:t[Td],[Mf]:t[If],[Of]:t[Pf],[yFe]:t[bLe]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Bn({[Rf]:[,"GetObject"],[cFe]:[,t[LLe]],[dFe]:[,t[FLe]],[fFe]:[,t[NLe]],[hFe]:[,t[BLe]],[pFe]:[,t[ULe]],[mFe]:[()=>t.ResponseExpires!==void 0,()=>e2(t[VLe]).toString()],[AQ]:[,t[Ta]],[CQ]:[()=>t.PartNumber!==void 0,()=>t[rf].toString()]});let s;return r.m("GET").h(n).q(i).b(s),r.build()},E5e=async(t,e)=>{const r=vc(t,e),n={"content-type":"application/xml"};r.bp("/");const i=Bn({[Rf]:[,"ListBuckets"]});let s;return s="",r.m("GET").h(n).q(i).b(s),r.build()},C5e=async(t,e)=>{const r=vc(t,e),n=Bn({},_s,{[Mf]:t[If],[Of]:t[Pf],[xFe]:[()=>_s(t[hU]),()=>(t[hU]||[]).map(o=>o).join(", ")]});r.bp("/"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1);const i=Bn({[iFe]:[,"2"],[KLe]:[,t[Bw]],[ZLe]:[,t[Uw]],[sFe]:[()=>t.MaxKeys!==void 0,()=>t[Vw].toString()],[lFe]:[,t[E0]],[XLe]:[,t[Nw]],[JLe]:[()=>t.FetchOwner!==void 0,()=>t[CLe].toString()],[vFe]:[,t[Hw]]});let s;return r.m("GET").h(n).q(i).b(s),r.build()},A5e=async(t,e)=>{const r=vc(t,e),n=Bn({},_s,{[Mf]:t[If],[Of]:t[Pf],[Ed]:t[Sd],[Yv]:t[Hv],[Cd]:t[Td]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Bn({[Rf]:[,"ListParts"],[oFe]:[()=>t.MaxParts!==void 0,()=>t[zw].toString()],[aFe]:[,t[jw]],[vR]:[,Bs(t[df],"UploadId")]});let s;return r.m("GET").h(n).q(i).b(s),r.build()},P5e=async(t,e)=>{const r=vc(t,e),n=Bn({},_s,{[mR]:t[aR]||"application/octet-stream",[kQ]:t[pQ],[dR]:t[nR],[fR]:t[iR],[hR]:t[sR],[pR]:t[oR],[YS]:[()=>_s(t[q2]),()=>t[q2].toString()],[TQ]:t[vQ],[wR]:t[Ql],[Gv]:t[wl],[Wv]:t[Sl],[qv]:t[Tl],[Xv]:t[El],[KS]:[()=>_s(t[X2]),()=>e2(t[X2]).toString()],[MQ]:t[_Q],[RQ]:t[yQ],[$Q]:t[bQ],[LQ]:t[xQ],[dm]:t[um],[xR]:t[cu],[SR]:t[cR],[Ed]:t[Sd],[Yv]:t[Hv],[Cd]:t[Td],[fm]:t[cm],[YE]:t[XE],[bu]:[()=>_s(t[yf]),()=>t[yf].toString()],[Mf]:t[If],[NQ]:t[SQ],[bR]:t[uR],[JS]:[()=>_s(t[Y2]),()=>(t[Y2].toISOString().split(".")[0]+"Z").toString()],[yR]:t[lR],[Of]:t[Pf],...t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((a,l)=>(a[`x-amz-meta-${l.toLowerCase()}`]=t.Metadata[l],a),{})});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Bn({[Rf]:[,"PutObject"]});let s,o;return t.Body!==void 0&&(o=t.Body,s=o),r.m("PUT").h(n).q(i).b(s),r.build()},k5e=async(t,e)=>{const r=vc(t,e),n=Bn({},_s,{"content-type":"application/octet-stream",[YS]:[()=>_s(t[q2]),()=>t[q2].toString()],[TQ]:t[vQ],[wR]:t[Ql],[Gv]:t[wl],[Wv]:t[Sl],[qv]:t[Tl],[Xv]:t[El],[Ed]:t[Sd],[Yv]:t[Hv],[Cd]:t[Td],[Mf]:t[If],[Of]:t[Pf]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Bn({[Rf]:[,"UploadPart"],[CQ]:[Bs(t.PartNumber,"PartNumber")!=null,()=>t[rf].toString()],[vR]:[,Bs(t[df],"UploadId")]});let s,o;return t.Body!==void 0&&(o=t.Body,s=o),r.m("PUT").h(n).q(i).b(s),r.build()},I5e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return _c(t,e);const r=Bn({$metadata:Js(t),[pg]:[,t.headers[_R]],[um]:[,t.headers[dm]],[Ta]:[,t.headers[KE]],[cm]:[,t.headers[fm]],[yf]:[()=>t.headers[bu]!==void 0,()=>lc(t.headers[bu])],[kf]:[,t.headers[Df]]}),n=Bs(lm(await rp(t.body,e)),"body");return n[Zu]!=null&&(r[Zu]=gn(n[Zu])),n[wl]!=null&&(r[wl]=gn(n[wl])),n[Sl]!=null&&(r[Sl]=gn(n[Sl])),n[Tl]!=null&&(r[Tl]=gn(n[Tl])),n[El]!=null&&(r[El]=gn(n[El])),n[Cl]!=null&&(r[Cl]=gn(n[Cl])),n[Us]!=null&&(r[Us]=gn(n[Us])),n[g3]!=null&&(r[g3]=gn(n[g3])),r},O5e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return _c(t,e);const r=Bn({$metadata:Js(t),[mQ]:[()=>t.headers[ZS]!==void 0,()=>Bs(H2(t.headers[ZS]))],[gQ]:[,t.headers[IQ]],[um]:[,t.headers[dm]],[Sd]:[,t.headers[Ed]],[Td]:[,t.headers[Cd]],[cm]:[,t.headers[fm]],[XE]:[,t.headers[YE]],[yf]:[()=>t.headers[bu]!==void 0,()=>lc(t.headers[bu])],[kf]:[,t.headers[Df]],[Ql]:[,t.headers[DQ]]}),n=Bs(lm(await rp(t.body,e)),"body");return n[Zu]!=null&&(r[Zu]=gn(n[Zu])),n[Us]!=null&&(r[Us]=gn(n[Us])),n[df]!=null&&(r[df]=gn(n[df])),r},D5e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return _c(t,e);const r=Bn({$metadata:Js(t)}),n=Bs(lm(await rp(t.body,e)),"body");return n[u3]!=null&&(r[u3]=_Le(n[u3])),r},M5e=async(t,e)=>{if(t.statusCode!==204&&t.statusCode>=300)return _c(t,e);const r=Bn({$metadata:Js(t),[t2]:[()=>t.headers[QS]!==void 0,()=>lc(t.headers[QS])],[Ta]:[,t.headers[KE]],[kf]:[,t.headers[Df]]});return await jE(t.body,e),r},R5e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return _c(t,e);const r=Bn({$metadata:Js(t),[kf]:[,t.headers[Df]]}),n=Bs(lm(await rp(t.body,e)),"body");return n.Deleted===""?r[sx]=[]:n[sx]!=null&&(r[sx]=uLe(W0(n[sx]))),n.Error===""?r[cU]=[]:n[uU]!=null&&(r[cU]=dLe(W0(n[uU]))),r},$5e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return _c(t,e);const r=Bn({$metadata:Js(t),[t2]:[()=>t.headers[QS]!==void 0,()=>lc(t.headers[QS])],[yLe]:[,t.headers[WLe]],[pg]:[,t.headers[_R]],[jLe]:[,t.headers[wFe]],[T0]:[()=>t.headers[mU]!==void 0,()=>Bs(H2(t.headers[mU]))],[q2]:[()=>t.headers[YS]!==void 0,()=>F8(t.headers[YS])],[Cl]:[,t.headers[gR]],[wl]:[,t.headers[Gv]],[Sl]:[,t.headers[Wv]],[Tl]:[,t.headers[qv]],[El]:[,t.headers[Xv]],[kLe]:[()=>t.headers[gU]!==void 0,()=>S0(t.headers[gU])],[Ta]:[,t.headers[KE]],[nR]:[,t.headers[dR]],[iR]:[,t.headers[fR]],[sR]:[,t.headers[hR]],[oR]:[,t.headers[pR]],[SLe]:[,t.headers[qLe]],[aR]:[,t.headers[mR]],[X2]:[()=>t.headers[KS]!==void 0,()=>Bs(H2(t.headers[KS]))],[ELe]:[,t.headers[QLe]],[cR]:[,t.headers[SR]],[um]:[,t.headers[dm]],[Sd]:[,t.headers[Ed]],[Td]:[,t.headers[Cd]],[cm]:[,t.headers[fm]],[yf]:[()=>t.headers[bu]!==void 0,()=>lc(t.headers[bu])],[cu]:[,t.headers[xR]],[kf]:[,t.headers[Df]],[zLe]:[,t.headers[SFe]],[RLe]:[()=>t.headers[vU]!==void 0,()=>S0(t.headers[vU])],[GLe]:[()=>t.headers[_U]!==void 0,()=>S0(t.headers[_U])],[uR]:[,t.headers[bR]],[Y2]:[()=>t.headers[JS]!==void 0,()=>Bs(jv(t.headers[JS]))],[lR]:[,t.headers[yR]],Metadata:[,Object.keys(t.headers).filter(i=>i.startsWith("x-amz-meta-")).reduce((i,s)=>(i[s.substring(11)]=t.headers[s],i),{})]}),n=t.body;return e.sdkStreamMixin(n),r.Body=n,r},L5e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return _c(t,e);const r=Bn({$metadata:Js(t)}),n=Bs(lm(await rp(t.body,e)),"body");return n.Buckets===""?r[x_]=[]:n[x_]!=null&&n[x_][Zu]!=null&&(r[x_]=iLe(W0(n[x_][Zu]))),n[cf]!=null&&(r[cf]=rR(n[cf])),r},F5e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return _c(t,e);const r=Bn({$metadata:Js(t),[kf]:[,t.headers[Df]]}),n=Bs(lm(await rp(t.body,e)),"body");return n.CommonPrefixes===""?r[nx]=[]:n[nx]!=null&&(r[nx]=aLe(W0(n[nx]))),n.Contents===""?r[ix]=[]:n[ix]!=null&&(r[ix]=pLe(W0(n[ix]))),n[Nw]!=null&&(r[Nw]=gn(n[Nw])),n[Bw]!=null&&(r[Bw]=gn(n[Bw])),n[Uw]!=null&&(r[Uw]=gn(n[Uw])),n[gg]!=null&&(r[gg]=lc(n[gg])),n[m3]!=null&&(r[m3]=S0(n[m3])),n[Vw]!=null&&(r[Vw]=S0(n[Vw])),n[vg]!=null&&(r[vg]=gn(n[vg])),n[_3]!=null&&(r[_3]=gn(n[_3])),n[E0]!=null&&(r[E0]=gn(n[E0])),n[Hw]!=null&&(r[Hw]=gn(n[Hw])),r},N5e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return _c(t,e);const r=Bn({$metadata:Js(t),[mQ]:[()=>t.headers[ZS]!==void 0,()=>Bs(H2(t.headers[ZS]))],[gQ]:[,t.headers[IQ]],[kf]:[,t.headers[Df]]}),n=Bs(lm(await rp(t.body,e)),"body");return n[Zu]!=null&&(r[Zu]=gn(n[Zu])),n[Ql]!=null&&(r[Ql]=gn(n[Ql])),n[p3]!=null&&(r[p3]=fLe(n[p3])),n[gg]!=null&&(r[gg]=lc(n[gg])),n[Us]!=null&&(r[Us]=gn(n[Us])),n[zw]!=null&&(r[zw]=S0(n[zw])),n[y3]!=null&&(r[y3]=gn(n[y3])),n[cf]!=null&&(r[cf]=rR(n[cf])),n[jw]!=null&&(r[jw]=gn(n[jw])),n.Part===""?r[pI]=[]:n[pU]!=null&&(r[pI]=gLe(W0(n[pU]))),n[cu]!=null&&(r[cu]=gn(n[cu])),n[df]!=null&&(r[df]=gn(n[df])),r},B5e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return _c(t,e);const r=Bn({$metadata:Js(t),[pg]:[,t.headers[_R]],[Cl]:[,t.headers[gR]],[wl]:[,t.headers[Gv]],[Sl]:[,t.headers[Wv]],[Tl]:[,t.headers[qv]],[El]:[,t.headers[Xv]],[um]:[,t.headers[dm]],[Ta]:[,t.headers[KE]],[Sd]:[,t.headers[Ed]],[Td]:[,t.headers[Cd]],[cm]:[,t.headers[fm]],[XE]:[,t.headers[YE]],[yf]:[()=>t.headers[bu]!==void 0,()=>lc(t.headers[bu])],[kf]:[,t.headers[Df]]});return await jE(t.body,e),r},U5e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return _c(t,e);const r=Bn({$metadata:Js(t),[um]:[,t.headers[dm]],[Cl]:[,t.headers[gR]],[wl]:[,t.headers[Gv]],[Sl]:[,t.headers[Wv]],[Tl]:[,t.headers[qv]],[El]:[,t.headers[Xv]],[Sd]:[,t.headers[Ed]],[Td]:[,t.headers[Cd]],[cm]:[,t.headers[fm]],[yf]:[()=>t.headers[bu]!==void 0,()=>lc(t.headers[bu])],[kf]:[,t.headers[Df]]});return await jE(t.body,e),r},_c=async(t,e)=>{const r={...t,body:await c5e(t.body,e)},n=d5e(t,r.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await q5e(r);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await K5e(r);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await z5e(r);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await j5e(r);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await G5e(r);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await H5e(r);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await W5e(r);case"NotFound":case"com.amazonaws.s3#NotFound":throw await X5e(r);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await Y5e(r);default:const i=r.body;return V5e({output:t,parsedBody:i,errorCode:n})}},V5e=BMe(Au),z5e=async(t,e)=>{const r=Bn({});t.body;const n=new G8({$metadata:Js(t),...r});return wd(n,t.body)},j5e=async(t,e)=>{const r=Bn({});t.body;const n=new W8({$metadata:Js(t),...r});return wd(n,t.body)},H5e=async(t,e)=>{const r=Bn({}),n=t.body;n[l3]!=null&&(r[l3]=gn(n[l3])),n[cu]!=null&&(r[cu]=gn(n[cu]));const i=new X8({$metadata:Js(t),...r});return wd(i,t.body)},G5e=async(t,e)=>{const r=Bn({});t.body;const n=new q8({$metadata:Js(t),...r});return wd(n,t.body)},W5e=async(t,e)=>{const r=Bn({});t.body;const n=new Y8({$metadata:Js(t),...r});return wd(n,t.body)},q5e=async(t,e)=>{const r=Bn({});t.body;const n=new j8({$metadata:Js(t),...r});return wd(n,t.body)},X5e=async(t,e)=>{const r=Bn({});t.body;const n=new K8({$metadata:Js(t),...r});return wd(n,t.body)},Y5e=async(t,e)=>{const r=Bn({});t.body;const n=new tR({$metadata:Js(t),...r});return wd(n,t.body)},K5e=async(t,e)=>{const r=Bn({});t.body;const n=new H8({$metadata:Js(t),...r});return wd(n,t.body)},Z5e=(t,e)=>{const r=new uu(xLe);return r.l(t,"Parts","Part",()=>J5e(t[pI])),r},Q5e=(t,e)=>{const r=new uu(wLe);return r.cc(t,Cl),r.cc(t,wl),r.cc(t,Sl),r.cc(t,Tl),r.cc(t,El),t[rf]!=null&&r.c(uu.of(rf,String(t[rf])).n(rf)),r},J5e=(t,e)=>t.filter(r=>r!=null).map(r=>Q5e(r).n(EQ)),eLe=(t,e)=>{const r=new uu(TLe);return r.l(t,"Objects","Object",()=>rLe(t[MLe])),t[ox]!=null&&r.c(uu.of(ox,String(t[ox])).n(ox)),r},tLe=(t,e)=>{const r=new uu(ILe);return t[Us]!=null&&r.c(uu.of(OLe,t[Us]).n(Us)),t[Ta]!=null&&r.c(uu.of(DLe,t[Ta]).n(Ta)),r},rLe=(t,e)=>t.filter(r=>r!=null).map(r=>tLe(r).n(EQ)),nLe=(t,e)=>{const r={};return t[vg]!=null&&(r[vg]=gn(t[vg])),t[c3]!=null&&(r[c3]=Bs(jv(t[c3]))),r},iLe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>nLe(r)),sLe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>gn(r)),oLe=(t,e)=>{const r={};return t[E0]!=null&&(r[E0]=gn(t[E0])),r},aLe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>oLe(r)),lLe=(t,e)=>{const r={};return t[Us]!=null&&(r[Us]=gn(t[Us])),t[Ta]!=null&&(r[Ta]=gn(t[Ta])),t[t2]!=null&&(r[t2]=lc(t[t2])),t[f3]!=null&&(r[f3]=gn(t[f3])),r},uLe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>lLe(r)),cLe=(t,e)=>{const r={};return t[Us]!=null&&(r[Us]=gn(t[Us])),t[Ta]!=null&&(r[Ta]=gn(t[Ta])),t[d3]!=null&&(r[d3]=gn(t[d3])),t[v3]!=null&&(r[v3]=gn(t[v3])),r},dLe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>cLe(r)),fLe=(t,e)=>{const r={};return t[mg]!=null&&(r[mg]=gn(t[mg])),t[hg]!=null&&(r[hg]=gn(t[hg])),r},hLe=(t,e)=>{const r={};return t[Us]!=null&&(r[Us]=gn(t[Us])),t[T0]!=null&&(r[T0]=Bs(jv(t[T0]))),t[Cl]!=null&&(r[Cl]=gn(t[Cl])),t.ChecksumAlgorithm===""?r[Ql]=[]:t[Ql]!=null&&(r[Ql]=sLe(W0(t[Ql]))),t[_g]!=null&&(r[_g]=F8(t[_g])),t[cu]!=null&&(r[cu]=gn(t[cu])),t[cf]!=null&&(r[cf]=rR(t[cf])),t[x3]!=null&&(r[x3]=vLe(t[x3])),r},pLe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>hLe(r)),rR=(t,e)=>{const r={};return t[hg]!=null&&(r[hg]=gn(t[hg])),t[mg]!=null&&(r[mg]=gn(t[mg])),r},mLe=(t,e)=>{const r={};return t[rf]!=null&&(r[rf]=S0(t[rf])),t[T0]!=null&&(r[T0]=Bs(jv(t[T0]))),t[Cl]!=null&&(r[Cl]=gn(t[Cl])),t[_g]!=null&&(r[_g]=F8(t[_g])),t[wl]!=null&&(r[wl]=gn(t[wl])),t[Sl]!=null&&(r[Sl]=gn(t[Sl])),t[Tl]!=null&&(r[Tl]=gn(t[Tl])),t[El]!=null&&(r[El]=gn(t[El])),r},gLe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>mLe(r)),vLe=(t,e)=>{const r={};return t[h3]!=null&&(r[h3]=lc(t[h3])),t[b3]!=null&&(r[b3]=Bs(jv(t[b3]))),r},_Le=(t,e)=>{const r={};return t[a3]!=null&&(r[a3]=gn(t[a3])),t[w3]!=null&&(r[w3]=gn(t[w3])),t[S3]!=null&&(r[S3]=gn(t[S3])),t[pg]!=null&&(r[pg]=Bs(jv(t[pg]))),r},Js=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),_s=t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),pQ="ACL",mQ="AbortDate",a3="AccessKeyId",yLe="AcceptRanges",gQ="AbortRuleId",l3="AccessTier",Zu="Bucket",XS="BypassGovernanceRetention",yf="BucketKeyEnabled",x_="Buckets",u3="Credentials",Ql="ChecksumAlgorithm",nR="CacheControl",wl="ChecksumCRC32",Sl="ChecksumCRC32C",iR="ContentDisposition",c3="CreationDate",sR="ContentEncoding",oR="ContentLanguage",q2="ContentLength",bLe="ChecksumMode",vQ="ContentMD5",xLe="CompletedMultipartUpload",nx="CommonPrefixes",wLe="CompletedPart",SLe="ContentRange",Tl="ChecksumSHA1",El="ChecksumSHA256",aR="ContentType",Nw="ContinuationToken",ix="Contents",d3="Code",Bw="Delimiter",t2="DeleteMarker",f3="DeleteMarkerVersionId",hg="DisplayName",sx="Deleted",TLe="Delete",X2="Expires",Pf="ExpectedBucketOwner",ELe="ExpiresString",Uw="EncodingType",Cl="ETag",uU="Error",cU="Errors",pg="Expiration",CLe="FetchOwner",_Q="GrantFullControl",yQ="GrantRead",bQ="GrantReadACP",xQ="GrantWriteACP",mg="ID",ALe="IfMatch",dU="IfModifiedSince",PLe="IfNoneMatch",h3="IsRestoreInProgress",gg="IsTruncated",fU="IfUnmodifiedSince",p3="Initiator",Us="Key",m3="KeyCount",g3="Location",T0="LastModified",wQ="MFA",Vw="MaxKeys",kLe="MissingMeta",zw="MaxParts",v3="Message",vg="Name",_3="NextContinuationToken",y3="NextPartNumberMarker",cf="Owner",ILe="ObjectIdentifier",OLe="ObjectKey",lR="ObjectLockLegalHoldStatus",uR="ObjectLockMode",Y2="ObjectLockRetainUntilDate",hU="OptionalObjectAttributes",DLe="ObjectVersionId",MLe="Objects",E0="Prefix",RLe="PartsCount",rf="PartNumber",jw="PartNumberMarker",pU="Part",pI="Parts",ox="Quiet",$Le="Range",kf="RequestCharged",LLe="ResponseCacheControl",FLe="ResponseContentDisposition",NLe="ResponseContentEncoding",BLe="ResponseContentLanguage",ULe="ResponseContentType",VLe="ResponseExpires",b3="RestoreExpiryDate",If="RequestPayer",zLe="ReplicationStatus",x3="RestoreStatus",jLe="Restore",Hw="StartAfter",w3="SecretAccessKey",cu="StorageClass",HLe="SessionMode",um="ServerSideEncryption",Sd="SSECustomerAlgorithm",Hv="SSECustomerKey",Td="SSECustomerKeyMD5",XE="SSEKMSEncryptionContext",cm="SSEKMSKeyId",S3="SessionToken",_g="Size",SQ="Tagging",GLe="TagCount",df="UploadId",Ta="VersionId",cR="WebsiteRedirectLocation",WLe="accept-ranges",dR="cache-control",fR="content-disposition",hR="content-encoding",pR="content-language",YS="content-length",TQ="content-md5",qLe="content-range",mR="content-type",XLe="continuation-token",YLe="delete",KLe="delimiter",KS="expires",ZLe="encoding-type",gR="etag",QLe="expiresstring",JLe="fetch-owner",eFe="if-match",tFe="if-modified-since",rFe="if-none-match",nFe="if-unmodified-since",mU="last-modified",iFe="list-type",EQ="member",sFe="max-keys",oFe="max-parts",CQ="partNumber",aFe="part-number-marker",lFe="prefix",uFe="range",cFe="response-cache-control",dFe="response-content-disposition",fFe="response-content-encoding",hFe="response-content-language",pFe="response-content-type",mFe="response-expires",gFe="session",vFe="start-after",_Fe="uploads",vR="uploadId",AQ="versionId",PQ='<?xml version="1.0" encoding="UTF-8"?>',kQ="x-amz-acl",ZS="x-amz-abort-date",IQ="x-amz-abort-rule-id",OQ="x-amz-bypass-governance-retention",DQ="x-amz-checksum-algorithm",Gv="x-amz-checksum-crc32",Wv="x-amz-checksum-crc32c",yFe="x-amz-checksum-mode",qv="x-amz-checksum-sha1",Xv="x-amz-checksum-sha256",bFe="x-amz-create-session-mode",QS="x-amz-delete-marker",_R="x-amz-expiration",Of="x-amz-expected-bucket-owner",MQ="x-amz-grant-full-control",RQ="x-amz-grant-read",$Q="x-amz-grant-read-acp",LQ="x-amz-grant-write-acp",FQ="x-amz-mfa",gU="x-amz-missing-meta",vU="x-amz-mp-parts-count",yR="x-amz-object-lock-legal-hold",bR="x-amz-object-lock-mode",JS="x-amz-object-lock-retain-until-date",xFe="x-amz-optional-object-attributes",wFe="x-amz-restore",Df="x-amz-request-charged",Mf="x-amz-request-payer",SFe="x-amz-replication-status",xR="x-amz-storage-class",wR="x-amz-sdk-checksum-algorithm",dm="x-amz-server-side-encryption",fm="x-amz-server-side-encryption-aws-kms-key-id",bu="x-amz-server-side-encryption-bucket-key-enabled",YE="x-amz-server-side-encryption-context",Ed="x-amz-server-side-encryption-customer-algorithm",Yv="x-amz-server-side-encryption-customer-key",Cd="x-amz-server-side-encryption-customer-key-md5",NQ="x-amz-tagging",_U="x-amz-tagging-count",KE="x-amz-version-id",SR="x-amz-website-redirect-location",Rf="x-id";class TFe extends Cu.classBuilder().ep({...gc,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,r,n,i){return[pc(n,this.serialize,this.deserialize),mc(n,e.getEndpointParameterInstructions())]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(void 0,j6e).ser(x5e).de(D5e).build(){}const EFe="@aws-sdk/client-s3",CFe="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",AFe="3.549.0",PFe={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"yarn test:e2e:node && yarn test:e2e:browser","test:e2e:browser":"ts-mocha test/**/*.browser.ispec.ts && karma start karma.conf.js","test:e2e:node":"jest --c jest.config.e2e.js","test:unit":"ts-mocha test/unit/**/*.spec.ts"},kFe="./dist-cjs/index.js",IFe="./dist-types/index.d.ts",OFe="./dist-es/index.js",DFe=!1,MFe={"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.549.0","@aws-sdk/core":"3.549.0","@aws-sdk/credential-provider-node":"3.549.0","@aws-sdk/middleware-bucket-endpoint":"3.535.0","@aws-sdk/middleware-expect-continue":"3.535.0","@aws-sdk/middleware-flexible-checksums":"3.535.0","@aws-sdk/middleware-host-header":"3.535.0","@aws-sdk/middleware-location-constraint":"3.535.0","@aws-sdk/middleware-logger":"3.535.0","@aws-sdk/middleware-recursion-detection":"3.535.0","@aws-sdk/middleware-sdk-s3":"3.535.0","@aws-sdk/middleware-signing":"3.535.0","@aws-sdk/middleware-ssec":"3.537.0","@aws-sdk/middleware-user-agent":"3.540.0","@aws-sdk/region-config-resolver":"3.535.0","@aws-sdk/signature-v4-multi-region":"3.535.0","@aws-sdk/types":"3.535.0","@aws-sdk/util-endpoints":"3.540.0","@aws-sdk/util-user-agent-browser":"3.535.0","@aws-sdk/util-user-agent-node":"3.535.0","@aws-sdk/xml-builder":"3.535.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.1","@smithy/eventstream-serde-browser":"^2.2.0","@smithy/eventstream-serde-config-resolver":"^2.2.0","@smithy/eventstream-serde-node":"^2.2.0","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-blob-browser":"^2.2.0","@smithy/hash-node":"^2.2.0","@smithy/hash-stream-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/md5-js":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.0","@smithy/middleware-retry":"^2.3.0","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.0","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.0","@smithy/util-defaults-mode-node":"^2.3.0","@smithy/util-endpoints":"^1.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-stream":"^2.2.0","@smithy/util-utf8":"^2.3.0","@smithy/util-waiter":"^2.2.0",tslib:"^2.6.2"},RFe={"@aws-sdk/signature-v4-crt":"3.535.0","@smithy/service-client-documentation-generator":"^2.2.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},$Fe={node:">=14.0.0"},LFe={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},FFe=["dist-*/**"],NFe={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},BFe="Apache-2.0",UFe={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},VFe="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",zFe={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},jFe={name:EFe,description:CFe,version:AFe,scripts:PFe,main:kFe,types:IFe,module:OFe,sideEffects:DFe,dependencies:MFe,devDependencies:RFe,engines:$Fe,typesVersions:LFe,files:FFe,author:NFe,license:BFe,browser:UFe,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:VFe,repository:zFe};var BQ={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mI=function(t,e){return mI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},mI(t,e)};function HFe(t,e){mI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gI=function(){return gI=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},gI.apply(this,arguments)};function GFe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function WFe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function qFe(t,e){return function(r,n){e(r,n,t)}}function XFe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function YFe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function KFe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ZFe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function QFe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function vI(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function UQ(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function JFe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(UQ(arguments[e]));return t}function eNe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function K2(t){return this instanceof K2?(this.v=t,this):new K2(t)}function tNe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(g){return new Promise(function(p,v){s.push([h,g,p,v])>1||a(h,g)})})}function a(h,g){try{l(n[h](g))}catch(p){f(s[0][3],p)}}function l(h){h.value instanceof K2?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){a("next",h)}function d(h){a("throw",h)}function f(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function rNe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:K2(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function nNe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof vI=="function"?vI(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function iNe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function sNe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function oNe(t){return t&&t.__esModule?t:{default:t}}function aNe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function lNe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const uNe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return gI},__asyncDelegator:rNe,__asyncGenerator:tNe,__asyncValues:nNe,__await:K2,__awaiter:YFe,__classPrivateFieldGet:aNe,__classPrivateFieldSet:lNe,__createBinding:ZFe,__decorate:WFe,__exportStar:QFe,__extends:HFe,__generator:KFe,__importDefault:oNe,__importStar:sNe,__makeTemplateObject:iNe,__metadata:XFe,__param:qFe,__read:UQ,__rest:GFe,__spread:JFe,__spreadArrays:eNe,__values:vI},Symbol.toStringTag,{value:"Module"})),cNe=hc(uNe);var w_={},S_={},T_={},yU;function VQ(){if(yU)return T_;yU=1,Object.defineProperty(T_,"__esModule",{value:!0}),T_.isEmptyData=void 0;function t(e){return typeof e=="string"?e.length===0:e.byteLength===0}return T_.isEmptyData=t,T_}var T3={},bU;function zQ(){return bU||(bU=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_1=t.SHA_1_HMAC_ALGO=t.SHA_1_HASH=void 0,t.SHA_1_HASH={name:"SHA-1"},t.SHA_1_HMAC_ALGO={name:"HMAC",hash:t.SHA_1_HASH},t.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])}(T3)),T3}const dNe=t=>{const e=[];for(let r=0,n=t.length;r<n;r++){const i=t.charCodeAt(r);if(i<128)e.push(i);else if(i<2048)e.push(i>>6|192,i&63|128);else if(r+1<t.length&&(i&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320){const s=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023);e.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else e.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(e)},fNe=t=>{let e="";for(let r=0,n=t.length;r<n;r++){const i=t[r];if(i<128)e+=String.fromCharCode(i);else if(192<=i&&i<224){const s=t[++r];e+=String.fromCharCode((i&31)<<6|s&63)}else if(240<=i&&i<365){const o="%"+[i,t[++r],t[++r],t[++r]].map(a=>a.toString(16)).join("%");e+=decodeURIComponent(o)}else e+=String.fromCharCode((i&15)<<12|(t[++r]&63)<<6|t[++r]&63)}return e};function hNe(t){return new TextEncoder().encode(t)}function pNe(t){return new TextDecoder("utf-8").decode(t)}const mNe=t=>typeof TextEncoder=="function"?hNe(t):dNe(t),gNe=t=>typeof TextDecoder=="function"?pNe(t):fNe(t),vNe=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:mNe,toUtf8:gNe},Symbol.toStringTag,{value:"Module"})),ZE=hc(vNe),_Ne={};function yNe(){return typeof window<"u"?window:typeof self<"u"?self:_Ne}const bNe=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:yNe},Symbol.toStringTag,{value:"Module"})),Kv=hc(bNe);var xU;function jQ(){if(xU)return S_;xU=1,Object.defineProperty(S_,"__esModule",{value:!0}),S_.Sha1=void 0;var t=VQ(),e=zQ(),r=ZE,n=Kv,i=function(){function a(l){this.secret=l,this.reset()}return a.prototype.update=function(l){var u=this;(0,t.isEmptyData)(l)||(this.operation=this.operation.then(function(d){return d.onerror=function(){u.operation=Promise.reject(new Error("Error encountered updating hash"))},d.process(o(l)),d}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(l){return new Promise(function(u,d){l.onerror=function(){d(new Error("Error encountered finalizing hash"))},l.oncomplete=function(){l.result&&u(new Uint8Array(l.result)),d(new Error("Error encountered finalizing hash"))},l.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(l){return(0,n.locateWindow)().msCrypto.subtle.sign(e.SHA_1_HMAC_ALGO,l)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-1"))},a}();S_.Sha1=i;function s(a){return new Promise(function(l,u){var d=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),e.SHA_1_HMAC_ALGO,!1,["sign"]);d.oncomplete=function(){d.result&&l(d.result),u(new Error("ImportKey completed without importing key."))},d.onerror=function(){u(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return S_}var E_={},wU;function HQ(){if(wU)return E_;wU=1,Object.defineProperty(E_,"__esModule",{value:!0}),E_.Sha1=void 0;var t=ZE,e=VQ(),r=zQ(),n=Kv,i=function(){function o(a){this.toHash=new Uint8Array(0),a!==void 0&&(this.key=new Promise(function(l,u){(0,n.locateWindow)().crypto.subtle.importKey("raw",s(a),r.SHA_1_HMAC_ALGO,!1,["sign"]).then(l,u)}),this.key.catch(function(){}))}return o.prototype.update=function(a){if(!(0,e.isEmptyData)(a)){var l=s(a),u=new Uint8Array(this.toHash.byteLength+l.byteLength);u.set(this.toHash,0),u.set(l,this.toHash.byteLength),this.toHash=u}},o.prototype.digest=function(){var a=this;return this.key?this.key.then(function(l){return(0,n.locateWindow)().crypto.subtle.sign(r.SHA_1_HMAC_ALGO,l,a.toHash).then(function(u){return new Uint8Array(u)})}):(0,e.isEmptyData)(this.toHash)?Promise.resolve(r.EMPTY_DATA_SHA_1):Promise.resolve().then(function(){return(0,n.locateWindow)().crypto.subtle.digest(r.SHA_1_HASH,a.toHash)}).then(function(l){return Promise.resolve(new Uint8Array(l))})},o.prototype.reset=function(){this.toHash=new Uint8Array(0)},o}();E_.Sha1=i;function s(o){return typeof o=="string"?(0,t.fromUtf8)(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}return E_}var E3={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _I=function(t,e){return _I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_I(t,e)};function xNe(t,e){_I(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var yI=function(){return yI=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},yI.apply(this,arguments)};function wNe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function SNe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function TNe(t,e){return function(r,n){e(r,n,t)}}function ENe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function CNe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function ANe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function PNe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function kNe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function bI(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function GQ(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function INe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(GQ(arguments[e]));return t}function ONe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Z2(t){return this instanceof Z2?(this.v=t,this):new Z2(t)}function DNe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(g){return new Promise(function(p,v){s.push([h,g,p,v])>1||a(h,g)})})}function a(h,g){try{l(n[h](g))}catch(p){f(s[0][3],p)}}function l(h){h.value instanceof Z2?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){a("next",h)}function d(h){a("throw",h)}function f(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function MNe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Z2(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function RNe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof bI=="function"?bI(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function $Ne(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function LNe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function FNe(t){return t&&t.__esModule?t:{default:t}}function NNe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function BNe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const UNe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return yI},__asyncDelegator:MNe,__asyncGenerator:DNe,__asyncValues:RNe,__await:Z2,__awaiter:CNe,__classPrivateFieldGet:NNe,__classPrivateFieldSet:BNe,__createBinding:PNe,__decorate:SNe,__exportStar:kNe,__extends:xNe,__generator:ANe,__importDefault:FNe,__importStar:LNe,__makeTemplateObject:$Ne,__metadata:ENe,__param:TNe,__read:GQ,__rest:wNe,__spread:INe,__spreadArrays:ONe,__values:bI},Symbol.toStringTag,{value:"Module"})),WQ=hc(UNe);var Du={},SU;function VNe(){if(SU)return Du;SU=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.supportsZeroByteGCM=Du.supportsSubtleCrypto=Du.supportsSecureRandom=Du.supportsWebCrypto=void 0;var t=WQ,e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(o){if(n(o)&&typeof o.crypto.subtle=="object"){var a=o.crypto.subtle;return i(a)}return!1}Du.supportsWebCrypto=r;function n(o){if(typeof o=="object"&&typeof o.crypto=="object"){var a=o.crypto.getRandomValues;return typeof a=="function"}return!1}Du.supportsSecureRandom=n;function i(o){return o&&e.every(function(a){return typeof o[a]=="function"})}Du.supportsSubtleCrypto=i;function s(o){return t.__awaiter(this,void 0,void 0,function(){var a,l;return t.__generator(this,function(u){switch(u.label){case 0:if(!i(o))return[2,!1];u.label=1;case 1:return u.trys.push([1,4,,5]),[4,o.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return a=u.sent(),[4,o.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},a,new Uint8Array(0))];case 3:return l=u.sent(),[2,l.byteLength===16];case 4:return u.sent(),[2,!1];case 5:return[2]}})})}return Du.supportsZeroByteGCM=s,Du}var TU;function qQ(){return TU||(TU=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=WQ;e.__exportStar(VNe(),t)}(E3)),E3}var C3={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xI=function(t,e){return xI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},xI(t,e)};function zNe(t,e){xI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wI=function(){return wI=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},wI.apply(this,arguments)};function jNe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function HNe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function GNe(t,e){return function(r,n){e(r,n,t)}}function WNe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function qNe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function XNe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function YNe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function KNe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function SI(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function XQ(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function ZNe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(XQ(arguments[e]));return t}function QNe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Q2(t){return this instanceof Q2?(this.v=t,this):new Q2(t)}function JNe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(g){return new Promise(function(p,v){s.push([h,g,p,v])>1||a(h,g)})})}function a(h,g){try{l(n[h](g))}catch(p){f(s[0][3],p)}}function l(h){h.value instanceof Q2?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){a("next",h)}function d(h){a("throw",h)}function f(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function eBe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Q2(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function tBe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof SI=="function"?SI(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function rBe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function nBe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function iBe(t){return t&&t.__esModule?t:{default:t}}function sBe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function oBe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const aBe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return wI},__asyncDelegator:eBe,__asyncGenerator:JNe,__asyncValues:tBe,__await:Q2,__awaiter:qNe,__classPrivateFieldGet:sBe,__classPrivateFieldSet:oBe,__createBinding:YNe,__decorate:HNe,__exportStar:KNe,__extends:zNe,__generator:XNe,__importDefault:iBe,__importStar:nBe,__makeTemplateObject:rBe,__metadata:WNe,__param:GNe,__read:XQ,__rest:jNe,__spread:ZNe,__spreadArrays:QNe,__values:SI},Symbol.toStringTag,{value:"Module"})),lBe=hc(aBe);var A3={},EU;function uBe(){return EU||(EU=1,Object.defineProperty(A3,"__esModule",{value:!0})),A3}var P3={},CU;function cBe(){return CU||(CU=1,Object.defineProperty(P3,"__esModule",{value:!0})),P3}var k3={},AU;function dBe(){return AU||(AU=1,Object.defineProperty(k3,"__esModule",{value:!0})),k3}var I3={},PU;function fBe(){return PU||(PU=1,Object.defineProperty(I3,"__esModule",{value:!0})),I3}var C_={},kU;function hBe(){if(kU)return C_;kU=1,Object.defineProperty(C_,"__esModule",{value:!0}),C_.isMsWindow=void 0;var t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function e(n){return"MSInputMethodContext"in n&&"msCrypto"in n}function r(n){if(e(n)&&n.msCrypto.subtle!==void 0){var i=n.msCrypto,s=i.getRandomValues,o=i.subtle;return t.map(function(a){return o[a]}).concat(s).every(function(a){return typeof a=="function"})}return!1}return C_.isMsWindow=r,C_}var IU;function YQ(){return IU||(IU=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=lBe;e.__exportStar(uBe(),t),e.__exportStar(cBe(),t),e.__exportStar(dBe(),t),e.__exportStar(fBe(),t),e.__exportStar(hBe(),t)}(C3)),C3}var O3={},A_={},OU;function pBe(){if(OU)return A_;OU=1,Object.defineProperty(A_,"__esModule",{value:!0}),A_.convertToBuffer=void 0;var t=ZE,e=typeof Buffer<"u"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:t.fromUtf8;function r(n){return n instanceof Uint8Array?n:typeof n=="string"?e(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}return A_.convertToBuffer=r,A_}var P_={},DU;function mBe(){if(DU)return P_;DU=1,Object.defineProperty(P_,"__esModule",{value:!0}),P_.isEmptyData=void 0;function t(e){return typeof e=="string"?e.length===0:e.byteLength===0}return P_.isEmptyData=t,P_}var k_={},MU;function gBe(){if(MU)return k_;MU=1,Object.defineProperty(k_,"__esModule",{value:!0}),k_.numToUint8=void 0;function t(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}return k_.numToUint8=t,k_}var I_={},RU;function vBe(){if(RU)return I_;RU=1,Object.defineProperty(I_,"__esModule",{value:!0}),I_.uint32ArrayFrom=void 0;function t(e){if(!Uint32Array.from){for(var r=new Uint32Array(e.length),n=0;n<e.length;)r[n]=e[n],n+=1;return r}return Uint32Array.from(e)}return I_.uint32ArrayFrom=t,I_}var $U;function np(){return $U||($U=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var e=pBe();Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return e.convertToBuffer}});var r=mBe();Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=gBe();Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var i=vBe();Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})}(O3)),O3}var LU;function _Be(){if(LU)return w_;LU=1,Object.defineProperty(w_,"__esModule",{value:!0}),w_.Sha1=void 0;var t=jQ(),e=HQ(),r=qQ(),n=YQ(),i=Kv,s=np(),o=function(){function a(l){if((0,r.supportsWebCrypto)((0,i.locateWindow)()))this.hash=new e.Sha1(l);else if((0,n.isMsWindow)((0,i.locateWindow)()))this.hash=new t.Sha1(l);else throw new Error("SHA1 not supported")}return a.prototype.update=function(l,u){this.hash.update((0,s.convertToBuffer)(l))},a.prototype.digest=function(){return this.hash.digest()},a.prototype.reset=function(){this.hash.reset()},a}();return w_.Sha1=o,w_}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha1=t.Ie11Sha1=void 0;var e=cNe;e.__exportStar(_Be(),t);var r=jQ();Object.defineProperty(t,"Ie11Sha1",{enumerable:!0,get:function(){return r.Sha1}});var n=HQ();Object.defineProperty(t,"WebCryptoSha1",{enumerable:!0,get:function(){return n.Sha1}})})(BQ);var KQ={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TI=function(t,e){return TI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},TI(t,e)};function yBe(t,e){TI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var EI=function(){return EI=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},EI.apply(this,arguments)};function bBe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function xBe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function wBe(t,e){return function(r,n){e(r,n,t)}}function SBe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function TBe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function EBe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function CBe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function ABe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function CI(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ZQ(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function PBe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ZQ(arguments[e]));return t}function kBe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function J2(t){return this instanceof J2?(this.v=t,this):new J2(t)}function IBe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(g){return new Promise(function(p,v){s.push([h,g,p,v])>1||a(h,g)})})}function a(h,g){try{l(n[h](g))}catch(p){f(s[0][3],p)}}function l(h){h.value instanceof J2?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){a("next",h)}function d(h){a("throw",h)}function f(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function OBe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:J2(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function DBe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof CI=="function"?CI(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function MBe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function RBe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function $Be(t){return t&&t.__esModule?t:{default:t}}function LBe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function FBe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const NBe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return EI},__asyncDelegator:OBe,__asyncGenerator:IBe,__asyncValues:DBe,__await:J2,__awaiter:TBe,__classPrivateFieldGet:LBe,__classPrivateFieldSet:FBe,__createBinding:CBe,__decorate:xBe,__exportStar:ABe,__extends:yBe,__generator:EBe,__importDefault:$Be,__importStar:RBe,__makeTemplateObject:MBe,__metadata:SBe,__param:wBe,__read:ZQ,__rest:bBe,__spread:PBe,__spreadArrays:kBe,__values:CI},Symbol.toStringTag,{value:"Module"})),BBe=hc(NBe);var O_={},D_={},M_={},FU;function UBe(){if(FU)return M_;FU=1,Object.defineProperty(M_,"__esModule",{value:!0}),M_.isEmptyData=void 0;function t(e){return typeof e=="string"?e.length===0:e.byteLength===0}return M_.isEmptyData=t,M_}var D3={},NU;function QQ(){return NU||(NU=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(D3)),D3}var BU;function JQ(){if(BU)return D_;BU=1,Object.defineProperty(D_,"__esModule",{value:!0}),D_.Sha256=void 0;var t=UBe(),e=QQ(),r=ZE,n=Kv,i=function(){function a(l){this.secret=l,this.reset()}return a.prototype.update=function(l){var u=this;(0,t.isEmptyData)(l)||(this.operation=this.operation.then(function(d){return d.onerror=function(){u.operation=Promise.reject(new Error("Error encountered updating hash"))},d.process(o(l)),d}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(l){return new Promise(function(u,d){l.onerror=function(){d(new Error("Error encountered finalizing hash"))},l.oncomplete=function(){l.result&&u(new Uint8Array(l.result)),d(new Error("Error encountered finalizing hash"))},l.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(l){return(0,n.locateWindow)().msCrypto.subtle.sign(e.SHA_256_HMAC_ALGO,l)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-256"))},a}();D_.Sha256=i;function s(a){return new Promise(function(l,u){var d=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),e.SHA_256_HMAC_ALGO,!1,["sign"]);d.oncomplete=function(){d.result&&l(d.result),u(new Error("ImportKey completed without importing key."))},d.onerror=function(){u(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return D_}var R_={},UU;function eJ(){if(UU)return R_;UU=1,Object.defineProperty(R_,"__esModule",{value:!0}),R_.Sha256=void 0;var t=np(),e=QQ(),r=Kv,n=function(){function i(s){this.toHash=new Uint8Array(0),this.secret=s,this.reset()}return i.prototype.update=function(s){if(!(0,t.isEmptyData)(s)){var o=(0,t.convertToBuffer)(s),a=new Uint8Array(this.toHash.byteLength+o.byteLength);a.set(this.toHash,0),a.set(o,this.toHash.byteLength),this.toHash=a}},i.prototype.digest=function(){var s=this;return this.key?this.key.then(function(o){return(0,r.locateWindow)().crypto.subtle.sign(e.SHA_256_HMAC_ALGO,o,s.toHash).then(function(a){return new Uint8Array(a)})}):(0,t.isEmptyData)(this.toHash)?Promise.resolve(e.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,r.locateWindow)().crypto.subtle.digest(e.SHA_256_HASH,s.toHash)}).then(function(o){return Promise.resolve(new Uint8Array(o))})},i.prototype.reset=function(){var s=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(o,a){(0,r.locateWindow)().crypto.subtle.importKey("raw",(0,t.convertToBuffer)(s.secret),e.SHA_256_HMAC_ALGO,!1,["sign"]).then(o,a)}),this.key.catch(function(){}))},i}();return R_.Sha256=n,R_}var M3={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AI=function(t,e){return AI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},AI(t,e)};function VBe(t,e){AI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var PI=function(){return PI=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},PI.apply(this,arguments)};function zBe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function jBe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function HBe(t,e){return function(r,n){e(r,n,t)}}function GBe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function WBe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function qBe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function XBe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function YBe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function kI(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tJ(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function KBe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tJ(arguments[e]));return t}function ZBe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function eb(t){return this instanceof eb?(this.v=t,this):new eb(t)}function QBe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(g){return new Promise(function(p,v){s.push([h,g,p,v])>1||a(h,g)})})}function a(h,g){try{l(n[h](g))}catch(p){f(s[0][3],p)}}function l(h){h.value instanceof eb?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){a("next",h)}function d(h){a("throw",h)}function f(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function JBe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:eb(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function eUe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof kI=="function"?kI(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function tUe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function rUe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function nUe(t){return t&&t.__esModule?t:{default:t}}function iUe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function sUe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const oUe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return PI},__asyncDelegator:JBe,__asyncGenerator:QBe,__asyncValues:eUe,__await:eb,__awaiter:WBe,__classPrivateFieldGet:iUe,__classPrivateFieldSet:sUe,__createBinding:XBe,__decorate:jBe,__exportStar:YBe,__extends:VBe,__generator:qBe,__importDefault:nUe,__importStar:rUe,__makeTemplateObject:tUe,__metadata:GBe,__param:HBe,__read:tJ,__rest:zBe,__spread:KBe,__spreadArrays:ZBe,__values:kI},Symbol.toStringTag,{value:"Module"})),rJ=hc(oUe);var $_={},ul={},VU;function nJ(){return VU||(VU=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.MAX_HASHABLE_LENGTH=ul.INIT=ul.KEY=ul.DIGEST_LENGTH=ul.BLOCK_SIZE=void 0,ul.BLOCK_SIZE=64,ul.DIGEST_LENGTH=32,ul.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ul.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],ul.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),ul}var L_={},zU;function aUe(){if(zU)return L_;zU=1,Object.defineProperty(L_,"__esModule",{value:!0}),L_.RawSha256=void 0;var t=nJ(),e=function(){function r(){this.state=Int32Array.from(t.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var i=0,s=n.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>t.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=n[i++],s--,this.bufferLength===t.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},r.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,i=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(i.setUint8(this.bufferLength++,128),s%t.BLOCK_SIZE>=t.BLOCK_SIZE-8){for(var o=this.bufferLength;o<t.BLOCK_SIZE;o++)i.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<t.BLOCK_SIZE-8;o++)i.setUint8(o,0);i.setUint32(t.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),i.setUint32(t.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(t.DIGEST_LENGTH),o=0;o<8;o++)a[o*4]=this.state[o]>>>24&255,a[o*4+1]=this.state[o]>>>16&255,a[o*4+2]=this.state[o]>>>8&255,a[o*4+3]=this.state[o]>>>0&255;return a},r.prototype.hashBuffer=function(){for(var n=this,i=n.buffer,s=n.state,o=s[0],a=s[1],l=s[2],u=s[3],d=s[4],f=s[5],h=s[6],g=s[7],p=0;p<t.BLOCK_SIZE;p++){if(p<16)this.temp[p]=(i[p*4]&255)<<24|(i[p*4+1]&255)<<16|(i[p*4+2]&255)<<8|i[p*4+3]&255;else{var v=this.temp[p-2],b=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10;v=this.temp[p-15];var S=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;this.temp[p]=(b+this.temp[p-7]|0)+(S+this.temp[p-16]|0)}var T=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&f^~d&h)|0)+(g+(t.KEY[p]+this.temp[p]|0)|0)|0,E=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&l^a&l)|0;g=h,h=f,f=d,d=u+T|0,u=l,l=a,a=o,o=T+E|0}s[0]+=o,s[1]+=a,s[2]+=l,s[3]+=u,s[4]+=d,s[5]+=f,s[6]+=h,s[7]+=g},r}();return L_.RawSha256=e,L_}var jU;function lUe(){if(jU)return $_;jU=1,Object.defineProperty($_,"__esModule",{value:!0}),$_.Sha256=void 0;var t=rJ,e=nJ(),r=aUe(),n=np(),i=function(){function o(a){this.secret=a,this.hash=new r.RawSha256,this.reset()}return o.prototype.update=function(a){if(!((0,n.isEmptyData)(a)||this.error))try{this.hash.update((0,n.convertToBuffer)(a))}catch(l){this.error=l}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(a){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new r.RawSha256,this.secret){this.outer=new r.RawSha256;var a=s(this.secret),l=new Uint8Array(e.BLOCK_SIZE);l.set(a);for(var u=0;u<e.BLOCK_SIZE;u++)a[u]^=54,l[u]^=92;this.hash.update(a),this.outer.update(l);for(var u=0;u<a.byteLength;u++)a[u]=0}},o}();$_.Sha256=i;function s(o){var a=(0,n.convertToBuffer)(o);if(a.byteLength>e.BLOCK_SIZE){var l=new r.RawSha256;l.update(a),a=l.digest()}var u=new Uint8Array(e.BLOCK_SIZE);return u.set(a),u}return $_}var HU;function uUe(){return HU||(HU=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=rJ;e.__exportStar(lUe(),t)}(M3)),M3}var GU;function cUe(){if(GU)return O_;GU=1,Object.defineProperty(O_,"__esModule",{value:!0}),O_.Sha256=void 0;var t=JQ(),e=eJ(),r=uUe(),n=qQ(),i=YQ(),s=Kv,o=np(),a=function(){function l(u){(0,n.supportsWebCrypto)((0,s.locateWindow)())?this.hash=new e.Sha256(u):(0,i.isMsWindow)((0,s.locateWindow)())?this.hash=new t.Sha256(u):this.hash=new r.Sha256(u)}return l.prototype.update=function(u,d){this.hash.update((0,o.convertToBuffer)(u))},l.prototype.digest=function(){return this.hash.digest()},l.prototype.reset=function(){this.hash.reset()},l}();return O_.Sha256=a,O_}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0;var e=BBe;e.__exportStar(cUe(),t);var r=JQ();Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=eJ();Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(KQ);const dUe={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},iJ={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Rs={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},fa={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},lh={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ir{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const i=ir.getVersionPrecision(e),s=ir.getVersionPrecision(r);let o=Math.max(i,s),a=0;const l=ir.map([e,r],u=>{const d=o-ir.getVersionPrecision(u),f=u+new Array(d+1).join(".0");return ir.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(l[0][o]>l[1][o])return 1;if(l[0][o]===l[1][o]){if(o===a)return 0;o-=1}else if(l[0][o]<l[1][o])return-1}}static map(e,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(i=0;i<e.length;i+=1)n.push(r(e[i]));return n}static find(e,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,i=e.length;n<i;n+=1){const s=e[n];if(r(s,n))return s}}static assign(e,...r){const n=e;let i,s;if(Object.assign)return Object.assign(e,...r);for(i=0,s=r.length;i<s;i+=1){const o=r[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{n[l]=o[l]})}return e}static getBrowserAlias(e){return dUe[e]}static getBrowserTypeByAlias(e){return iJ[e]||""}}const Bi=/version\/(\d+(\.?_?\d+)+)/i,fUe=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=ir.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=ir.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=ir.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=ir.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=ir.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=ir.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=ir.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=ir.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=ir.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=ir.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=ir.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=ir.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=ir.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=ir.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=ir.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=ir.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=ir.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=ir.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=ir.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=ir.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=ir.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=ir.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=ir.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=ir.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=ir.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=ir.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=ir.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?r:e;return{name:ir.getFirstMatch(i,t),version:ir.getSecondMatch(i,t)}}}],hUe=[{test:[/Roku\/DVP/],describe(t){const e=ir.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:fa.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=ir.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:fa.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=ir.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=ir.getWindowsVersionName(e);return{name:fa.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:fa.iOS},r=ir.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=ir.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=ir.getMacOSVersionName(e),n={name:fa.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=ir.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:fa.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=ir.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=ir.getAndroidVersionName(e),n={name:fa.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=ir.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:fa.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=ir.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||ir.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||ir.getFirstMatch(/\bbb(\d+)/i,t);return{name:fa.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=ir.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:fa.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=ir.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:fa.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:fa.Linux}}},{test:[/CrOS/],describe(){return{name:fa.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=ir.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:fa.PlayStation4,version:e}}}],pUe=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=ir.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:Rs.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Rs.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Rs.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Rs.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Rs.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Rs.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Rs.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=ir.getFirstMatch(/(ipod|iphone)/i,t);return{type:Rs.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Rs.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Rs.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:Rs.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:Rs.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:Rs.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:Rs.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:Rs.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:Rs.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:Rs.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:Rs.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:Rs.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:Rs.tv}}}],mUe=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:lh.Blink};const r=ir.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:lh.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:lh.Trident},r=ir.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:lh.Presto},r=ir.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:lh.Gecko},r=ir.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:lh.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:lh.WebKit},r=ir.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];let WU=class{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=ir.find(fUe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=ir.find(hUe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=ir.find(pUe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=ir.find(mUe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ir.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const i={};let s=0;if(Object.keys(e).forEach(a=>{const l=e[a];typeof l=="string"?(i[a]=l,s+=1):typeof l=="object"&&(r[a]=l,n+=1)}),n>0){const a=Object.keys(r),l=ir.find(a,d=>this.isOS(d));if(l){const d=this.satisfies(r[l]);if(d!==void 0)return d}const u=ir.find(a,d=>this.isPlatform(d));if(u){const d=this.satisfies(r[u]);if(d!==void 0)return d}}if(s>0){const a=Object.keys(i),l=ir.find(a,u=>this.isBrowser(u,!0));if(l!==void 0)return this.compareVersion(i[l])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const s=ir.getBrowserTypeByAlias(i);return r&&s&&(i=s.toLowerCase()),i===n}compareVersion(e){let r=[0],n=e,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(i=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(i=!0,n=e.substr(1)),r.indexOf(ir.compareVersions(s,n,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class sJ{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new WU(e,r)}static parse(e){return new WU(e).getResult()}static get BROWSER_MAP(){return iJ}static get ENGINE_MAP(){return lh}static get OS_MAP(){return fa}static get PLATFORMS_MAP(){return Rs}}const gUe=({serviceId:t,clientVersion:e})=>async()=>{var i,s,o,a,l;const r=typeof window<"u"&&((i=window==null?void 0:window.navigator)!=null&&i.userAgent)?sJ.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",e],["ua","2.0"],[`os/${((s=r==null?void 0:r.os)==null?void 0:s.name)||"other"}`,(o=r==null?void 0:r.os)==null?void 0:o.version],["lang/js"],["md/browser",`${((a=r==null?void 0:r.browser)==null?void 0:a.name)??"unknown"}_${((l=r==null?void 0:r.browser)==null?void 0:l.version)??"unknown"}`]];return t&&n.push([`api/${t}`,e]),n};var R3={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var II=function(t,e){return II=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},II(t,e)};function vUe(t,e){II(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var OI=function(){return OI=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},OI.apply(this,arguments)};function _Ue(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function yUe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function bUe(t,e){return function(r,n){e(r,n,t)}}function xUe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function wUe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function SUe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function TUe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function EUe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function DI(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oJ(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function CUe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(oJ(arguments[e]));return t}function AUe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function tb(t){return this instanceof tb?(this.v=t,this):new tb(t)}function PUe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(g){return new Promise(function(p,v){s.push([h,g,p,v])>1||a(h,g)})})}function a(h,g){try{l(n[h](g))}catch(p){f(s[0][3],p)}}function l(h){h.value instanceof tb?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){a("next",h)}function d(h){a("throw",h)}function f(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function kUe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:tb(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function IUe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof DI=="function"?DI(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function OUe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function DUe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function MUe(t){return t&&t.__esModule?t:{default:t}}function RUe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function $Ue(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const LUe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return OI},__asyncDelegator:kUe,__asyncGenerator:PUe,__asyncValues:IUe,__await:tb,__awaiter:wUe,__classPrivateFieldGet:RUe,__classPrivateFieldSet:$Ue,__createBinding:TUe,__decorate:yUe,__exportStar:EUe,__extends:vUe,__generator:SUe,__importDefault:MUe,__importStar:DUe,__makeTemplateObject:OUe,__metadata:xUe,__param:bUe,__read:oJ,__rest:_Ue,__spread:CUe,__spreadArrays:AUe,__values:DI},Symbol.toStringTag,{value:"Module"})),aJ=hc(LUe);var F_={},qU;function FUe(){if(qU)return F_;qU=1,Object.defineProperty(F_,"__esModule",{value:!0}),F_.AwsCrc32=void 0;var t=aJ,e=np(),r=lJ(),n=function(){function i(){this.crc32=new r.Crc32}return i.prototype.update=function(s){(0,e.isEmptyData)(s)||this.crc32.update((0,e.convertToBuffer)(s))},i.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(s){return[2,(0,e.numToUint8)(this.crc32.digest())]})})},i.prototype.reset=function(){this.crc32=new r.Crc32},i}();return F_.AwsCrc32=n,F_}var XU;function lJ(){return XU||(XU=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var e=aJ,r=np();function n(l){return new i().update(l).digest()}t.crc32=n;var i=function(){function l(){this.checksum=4294967295}return l.prototype.update=function(u){var d,f;try{for(var h=e.__values(u),g=h.next();!g.done;g=h.next()){var p=g.value;this.checksum=this.checksum>>>8^o[(this.checksum^p)&255]}}catch(v){d={error:v}}finally{try{g&&!g.done&&(f=h.return)&&f.call(h)}finally{if(d)throw d.error}}return this},l.prototype.digest=function(){return(this.checksum^4294967295)>>>0},l}();t.Crc32=i;var s=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=(0,r.uint32ArrayFrom)(s),a=FUe();Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})}(R3)),R3}var TR=lJ();class r2{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(e));n>-1&&i>0;n--,i/=256)r[n]=i;return e<0&&YU(r),new r2(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&YU(e),parseInt(Wa(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function YU(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}class NUe{constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){const r=[];for(const s of Object.keys(e)){const o=this.fromUtf8(s);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[s]))}const n=new Uint8Array(r.reduce((s,o)=>s+o.byteLength,0));let i=0;for(const s of r)n.set(s,i),i+=s.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":const s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":const a=this.fromUtf8(e.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);const u=new Uint8Array(l.buffer);return u.set(a,3),u;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(r2.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!qUe.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(kZ(e.value.replace(/\-/g,"")),1),f}}parse(e){const r={};let n=0;for(;n<e.byteLength;){const i=e.getUint8(n++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,i));switch(n+=i,e.getUint8(n++)){case 0:r[s]={type:ZU,value:!0};break;case 1:r[s]={type:ZU,value:!1};break;case 2:r[s]={type:BUe,value:e.getInt8(n++)};break;case 3:r[s]={type:UUe,value:e.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:VUe,value:e.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:zUe,value:new r2(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const o=e.getUint16(n,!1);n+=2,r[s]={type:jUe,value:new Uint8Array(e.buffer,e.byteOffset+n,o)},n+=o;break;case 7:const a=e.getUint16(n,!1);n+=2,r[s]={type:HUe,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:GUe,value:new Date(new r2(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const l=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,r[s]={type:WUe,value:`${Wa(l.subarray(0,4))}-${Wa(l.subarray(4,6))}-${Wa(l.subarray(6,8))}-${Wa(l.subarray(8,10))}-${Wa(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var KU;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(KU||(KU={}));const ZU="boolean",BUe="byte",UUe="short",VUe="integer",zUe="long",jUe="binary",HUe="string",GUe="timestamp",WUe="uuid",qUe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,uJ=4,uh=uJ*2,jp=4,XUe=uh+jp*2;function YUe({byteLength:t,byteOffset:e,buffer:r}){if(t<XUe)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,e,t),i=n.getUint32(0,!1);if(t!==i)throw new Error("Reported message length does not match received message length");const s=n.getUint32(uJ,!1),o=n.getUint32(uh,!1),a=n.getUint32(t-jp,!1),l=new TR.Crc32().update(new Uint8Array(r,e,uh));if(o!==l.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(r,e+uh,t-(uh+jp))),a!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,e+uh+jp,s),body:new Uint8Array(r,e+uh+jp+s,i-s-(uh+jp+jp))}}class KUe{constructor(e,r){this.headerMarshaller=new NUe(e,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return r}}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return r}}}encode({headers:e,body:r}){const n=this.headerMarshaller.format(e),i=n.byteLength+r.byteLength+16,s=new Uint8Array(i),o=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new TR.Crc32;return o.setUint32(0,i,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(n,12),s.set(r,n.byteLength+12),o.setUint32(i-4,a.update(s.subarray(8,i-4)).digest(),!1),s}decode(e){const{headers:r,body:n}=YUe(e);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}}class ZUe{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.decoder.decode(e)}}class QUe{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class JUe{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const r=await this.options.deserializer(e);r!==void 0&&(yield r)}}}class e9e{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.serializer(e)}}function t9e(t){let e=0,r=0,n=null,i=null;const s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){const a=t[Symbol.asyncIterator]();for(;;){const{value:l,done:u}=await a.next();if(u){if(e)if(e===r)yield n;else throw new Error("Truncated event message received.");else return;return}const d=l.length;let f=0;for(;f<d;){if(!n){const g=d-f;i||(i=new Uint8Array(4));const p=Math.min(4-r,g);if(i.set(l.slice(f,f+p),r),r+=p,f+=p,r<4)break;s(new DataView(i.buffer).getUint32(0,!1)),i=null}const h=Math.min(e-r,d-f);n.set(l.slice(f,f+h),r),r+=h,f+=h,e&&e===r&&(yield n,n=null,e=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function r9e(t,e){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const i=new Error(r.headers[":error-message"].value||"UnknownError");throw i.name=r.headers[":error-code"].value,i}else if(n==="exception"){const i=r.headers[":exception-type"].value,s={[i]:r},o=await t(s);if(o.$unknown){const a=new Error(e(r.body));throw a.name=i,a}throw o[i]}else if(n==="event"){const i={[r.headers[":event-type"].value]:r},s=await t(i);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let n9e=class{constructor({utf8Encoder:e,utf8Decoder:r}){this.eventStreamCodec=new KUe(e,r),this.utfEncoder=e}deserialize(e,r){const n=t9e(e);return new JUe({messageStream:new ZUe({inputStream:n,decoder:this.eventStreamCodec}),deserializer:r9e(r,this.utfEncoder)})}serialize(e,r){return new QUe({messageStream:new e9e({inputStream:e,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const i9e=t=>({[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)return;yield n}}finally{e.releaseLock()}}}),s9e=t=>{const e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:i}=await e.next();if(n)return r.close();r.enqueue(i)}})};class o9e{constructor({utf8Encoder:e,utf8Decoder:r}){this.universalMarshaller=new n9e({utf8Decoder:r,utf8Encoder:e})}deserialize(e,r){const n=a9e(e)?i9e(e):e;return this.universalMarshaller.deserialize(n,r)}serialize(e,r){const n=this.universalMarshaller.serialize(e,r);return typeof ReadableStream=="function"?s9e(n):n}}const a9e=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,l9e=t=>new o9e(t);function u9e(t,e,r=1024*1024){return new Promise((n,i)=>{const s=new FileReader;s.addEventListener("error",i),s.addEventListener("abort",i);const o=t.size;let a=0;function l(){if(a>=o){n();return}s.readAsArrayBuffer(t.slice(a,Math.min(o,a+r)))}s.addEventListener("load",u=>{const d=u.target.result;e(new Uint8Array(d)),a+=d.byteLength,l()}),l()})}const c9e=async function(e,r){const n=new e;return await u9e(r,i=>{n.update(i)}),n.digest()},d9e=t=>()=>Promise.reject(t),Xf=64,f9e=16,h9e=[1732584193,4023233417,2562383102,271733878];class p9e{constructor(){this.reset()}update(e){if(m9e(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const r=g9e(e);let n=0,{byteLength:i}=r;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),i--,this.bufferLength===Xf&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:r,bufferLength:n,bytesHashed:i}=this,s=i*8;if(r.setUint8(this.bufferLength++,128),n%Xf>=Xf-8){for(let o=this.bufferLength;o<Xf;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<Xf-8;o++)r.setUint8(o,0);r.setUint32(Xf-8,s>>>0,!0),r.setUint32(Xf-4,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}const e=new DataView(new ArrayBuffer(f9e));for(let r=0;r<4;r++)e.setUint32(r*4,this.state[r],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}hashBuffer(){const{buffer:e,state:r}=this;let n=r[0],i=r[1],s=r[2],o=r[3];n=Go(n,i,s,o,e.getUint32(0,!0),7,3614090360),o=Go(o,n,i,s,e.getUint32(4,!0),12,3905402710),s=Go(s,o,n,i,e.getUint32(8,!0),17,606105819),i=Go(i,s,o,n,e.getUint32(12,!0),22,3250441966),n=Go(n,i,s,o,e.getUint32(16,!0),7,4118548399),o=Go(o,n,i,s,e.getUint32(20,!0),12,1200080426),s=Go(s,o,n,i,e.getUint32(24,!0),17,2821735955),i=Go(i,s,o,n,e.getUint32(28,!0),22,4249261313),n=Go(n,i,s,o,e.getUint32(32,!0),7,1770035416),o=Go(o,n,i,s,e.getUint32(36,!0),12,2336552879),s=Go(s,o,n,i,e.getUint32(40,!0),17,4294925233),i=Go(i,s,o,n,e.getUint32(44,!0),22,2304563134),n=Go(n,i,s,o,e.getUint32(48,!0),7,1804603682),o=Go(o,n,i,s,e.getUint32(52,!0),12,4254626195),s=Go(s,o,n,i,e.getUint32(56,!0),17,2792965006),i=Go(i,s,o,n,e.getUint32(60,!0),22,1236535329),n=Wo(n,i,s,o,e.getUint32(4,!0),5,4129170786),o=Wo(o,n,i,s,e.getUint32(24,!0),9,3225465664),s=Wo(s,o,n,i,e.getUint32(44,!0),14,643717713),i=Wo(i,s,o,n,e.getUint32(0,!0),20,3921069994),n=Wo(n,i,s,o,e.getUint32(20,!0),5,3593408605),o=Wo(o,n,i,s,e.getUint32(40,!0),9,38016083),s=Wo(s,o,n,i,e.getUint32(60,!0),14,3634488961),i=Wo(i,s,o,n,e.getUint32(16,!0),20,3889429448),n=Wo(n,i,s,o,e.getUint32(36,!0),5,568446438),o=Wo(o,n,i,s,e.getUint32(56,!0),9,3275163606),s=Wo(s,o,n,i,e.getUint32(12,!0),14,4107603335),i=Wo(i,s,o,n,e.getUint32(32,!0),20,1163531501),n=Wo(n,i,s,o,e.getUint32(52,!0),5,2850285829),o=Wo(o,n,i,s,e.getUint32(8,!0),9,4243563512),s=Wo(s,o,n,i,e.getUint32(28,!0),14,1735328473),i=Wo(i,s,o,n,e.getUint32(48,!0),20,2368359562),n=qo(n,i,s,o,e.getUint32(20,!0),4,4294588738),o=qo(o,n,i,s,e.getUint32(32,!0),11,2272392833),s=qo(s,o,n,i,e.getUint32(44,!0),16,1839030562),i=qo(i,s,o,n,e.getUint32(56,!0),23,4259657740),n=qo(n,i,s,o,e.getUint32(4,!0),4,2763975236),o=qo(o,n,i,s,e.getUint32(16,!0),11,1272893353),s=qo(s,o,n,i,e.getUint32(28,!0),16,4139469664),i=qo(i,s,o,n,e.getUint32(40,!0),23,3200236656),n=qo(n,i,s,o,e.getUint32(52,!0),4,681279174),o=qo(o,n,i,s,e.getUint32(0,!0),11,3936430074),s=qo(s,o,n,i,e.getUint32(12,!0),16,3572445317),i=qo(i,s,o,n,e.getUint32(24,!0),23,76029189),n=qo(n,i,s,o,e.getUint32(36,!0),4,3654602809),o=qo(o,n,i,s,e.getUint32(48,!0),11,3873151461),s=qo(s,o,n,i,e.getUint32(60,!0),16,530742520),i=qo(i,s,o,n,e.getUint32(8,!0),23,3299628645),n=Xo(n,i,s,o,e.getUint32(0,!0),6,4096336452),o=Xo(o,n,i,s,e.getUint32(28,!0),10,1126891415),s=Xo(s,o,n,i,e.getUint32(56,!0),15,2878612391),i=Xo(i,s,o,n,e.getUint32(20,!0),21,4237533241),n=Xo(n,i,s,o,e.getUint32(48,!0),6,1700485571),o=Xo(o,n,i,s,e.getUint32(12,!0),10,2399980690),s=Xo(s,o,n,i,e.getUint32(40,!0),15,4293915773),i=Xo(i,s,o,n,e.getUint32(4,!0),21,2240044497),n=Xo(n,i,s,o,e.getUint32(32,!0),6,1873313359),o=Xo(o,n,i,s,e.getUint32(60,!0),10,4264355552),s=Xo(s,o,n,i,e.getUint32(24,!0),15,2734768916),i=Xo(i,s,o,n,e.getUint32(52,!0),21,1309151649),n=Xo(n,i,s,o,e.getUint32(16,!0),6,4149444226),o=Xo(o,n,i,s,e.getUint32(44,!0),10,3174756917),s=Xo(s,o,n,i,e.getUint32(8,!0),15,718787259),i=Xo(i,s,o,n,e.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=i+r[1]&4294967295,r[2]=s+r[2]&4294967295,r[3]=o+r[3]&4294967295}reset(){this.state=Uint32Array.from(h9e),this.buffer=new DataView(new ArrayBuffer(Xf)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function QE(t,e,r,n,i,s){return e=(e+t&4294967295)+(n+s&4294967295)&4294967295,(e<<i|e>>>32-i)+r&4294967295}function Go(t,e,r,n,i,s,o){return QE(e&r|~e&n,t,e,i,s,o)}function Wo(t,e,r,n,i,s,o){return QE(e&n|r&~n,t,e,i,s,o)}function qo(t,e,r,n,i,s,o){return QE(e^r^n,t,e,i,s,o)}function Xo(t,e,r,n,i,s,o){return QE(r^(e|~n),t,e,i,s,o)}function m9e(t){return typeof t=="string"?t.length===0:t.byteLength===0}function g9e(t){return typeof t=="string"?G0(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}const QU=typeof TextEncoder=="function"?new TextEncoder:null,v9e=t=>{if(typeof t=="string"){if(QU)return QU.encode(t).byteLength;let e=t.length;for(let r=e-1;r>=0;r--){const n=t.charCodeAt(r);n>127&&n<=2047?e++:n>2047&&n<=65535&&(e+=2),n>=56320&&n<=57343&&r--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)},_9e={CrtSignerV4:null};class cJ{constructor(e){this.sigv4Signer=new U8e(e),this.signerOptions=e}async sign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,r)}return this.sigv4Signer.sign(e,r)}async signWithCredentials(e,r,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(e,r,n)}return this.sigv4Signer.signWithCredentials(e,r,n)}async presign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,r)}return this.sigv4Signer.presign(e,r)}async presignWithCredentials(e,r,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,r,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let e=null;try{if(e=_9e.CrtSignerV4,typeof e!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const ER="required",Ye="type",bt="conditions",Qt="fn",Jt="argv",Tn="ref",Cs="assign",Vr="url",zr="properties",dJ="backend",yc="authSchemes",Il="disableDoubleEncoding",Ol="signingName",Ad="signingRegion",jr="headers",CR="signingRegionSet",y9e=!1,Mu=!0,Zl="isSet",Ao="booleanEquals",qr="error",eT="aws.partition",ts="stringEquals",Fs="getAttr",ra="name",Fc="substring",JU="bucketSuffix",fJ="parseURL",e9="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",fr="endpoint",dr="tree",hJ="aws.isVirtualHostableS3Bucket",Gw="{url#scheme}://{Bucket}.{url#authority}{url#path}",td="not",Ww="{url#scheme}://{url#authority}{url#path}",pJ="hardwareType",mJ="regionPrefix",t9="bucketAliasSuffix",MI="outpostId",hm="isValidHostLabel",AR="sigv4a",rb="s3-outposts",rv="s3",gJ="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",vJ="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",r9="https://{Bucket}.s3.{partitionResult#dnsSuffix}",_J="aws.parseArn",yJ="bucketArn",bJ="arnType",tT="",PR="s3-object-lambda",xJ="accesspoint",kR="accessPointName",n9="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",i9="mrapPartition",s9="outpostType",o9="arnPrefix",wJ="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",a9="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",l9="https://s3.{partitionResult#dnsSuffix}",N_={[ER]:!1,[Ye]:"String"},Im={[ER]:!0,default:!1,[Ye]:"Boolean"},B_={[ER]:!1,[Ye]:"Boolean"},Nu={[Qt]:Ao,[Jt]:[{[Tn]:"Accelerate"},!0]},Hi={[Qt]:Ao,[Jt]:[{[Tn]:"UseFIPS"},!0]},ji={[Qt]:Ao,[Jt]:[{[Tn]:"UseDualStack"},!0]},Gs={[Qt]:Zl,[Jt]:[{[Tn]:"Endpoint"}]},SJ={[Qt]:eT,[Jt]:[{[Tn]:"Region"}],[Cs]:"partitionResult"},u9={[Qt]:ts,[Jt]:[{[Qt]:Fs,[Jt]:[{[Tn]:"partitionResult"},ra]},"aws-cn"]},rT={[Qt]:Zl,[Jt]:[{[Tn]:"Bucket"}]},ma={[Tn]:"Bucket"},ha={[Qt]:fJ,[Jt]:[{[Tn]:"Endpoint"}],[Cs]:"url"},qw={[Qt]:Ao,[Jt]:[{[Qt]:Fs,[Jt]:[{[Tn]:"url"},"isIp"]},!0]},TJ={[Tn]:"url"},EJ={[Qt]:"uriEncode",[Jt]:[ma],[Cs]:"uri_encoded_bucket"},Yd={[dJ]:"S3Express",[yc]:[{[Il]:!0,[ra]:"sigv4",[Ol]:"s3express",[Ad]:"{Region}"}]},Cn={},CJ={[Qt]:hJ,[Jt]:[ma,!1]},$3={[qr]:"S3Express bucket name is not a valid virtual hostable name.",[Ye]:qr},nT={[dJ]:"S3Express",[yc]:[{[Il]:!0,[ra]:"sigv4-s3express",[Ol]:"s3express",[Ad]:"{Region}"}]},c9={[Qt]:Zl,[Jt]:[{[Tn]:"UseS3ExpressControlEndpoint"}]},d9={[Qt]:Ao,[Jt]:[{[Tn]:"UseS3ExpressControlEndpoint"},!0]},On={[Qt]:td,[Jt]:[Gs]},f9={[qr]:"Unrecognized S3Express bucket name format.",[Ye]:qr},h9={[Qt]:td,[Jt]:[rT]},p9={[Tn]:pJ},m9={[bt]:[On],[qr]:"Expected a endpoint to be specified but no endpoint was found",[Ye]:qr},ax={[yc]:[{[Il]:!0,[ra]:AR,[Ol]:rb,[CR]:["*"]},{[Il]:!0,[ra]:"sigv4",[Ol]:rb,[Ad]:"{Region}"}]},L3={[Qt]:Ao,[Jt]:[{[Tn]:"ForcePathStyle"},!1]},b9e={[Tn]:"ForcePathStyle"},Hs={[Qt]:Ao,[Jt]:[{[Tn]:"Accelerate"},!1]},ro={[Qt]:ts,[Jt]:[{[Tn]:"Region"},"aws-global"]},po={[yc]:[{[Il]:!0,[ra]:"sigv4",[Ol]:rv,[Ad]:"us-east-1"}]},Jn={[Qt]:td,[Jt]:[ro]},mo={[Qt]:Ao,[Jt]:[{[Tn]:"UseGlobalEndpoint"},!0]},g9={[Vr]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[zr]:{[yc]:[{[Il]:!0,[ra]:"sigv4",[Ol]:rv,[Ad]:"{Region}"}]},[jr]:{}},Ks={[yc]:[{[Il]:!0,[ra]:"sigv4",[Ol]:rv,[Ad]:"{Region}"}]},go={[Qt]:Ao,[Jt]:[{[Tn]:"UseGlobalEndpoint"},!1]},Kn={[Qt]:Ao,[Jt]:[{[Tn]:"UseDualStack"},!1]},v9={[Vr]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[zr]:Ks,[jr]:{}},Gn={[Qt]:Ao,[Jt]:[{[Tn]:"UseFIPS"},!1]},_9={[Vr]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[zr]:Ks,[jr]:{}},y9={[Vr]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[zr]:Ks,[jr]:{}},F3={[Qt]:Ao,[Jt]:[{[Qt]:Fs,[Jt]:[TJ,"isIp"]},!1]},N3={[Vr]:gJ,[zr]:Ks,[jr]:{}},RI={[Vr]:Gw,[zr]:Ks,[jr]:{}},b9={[fr]:RI,[Ye]:fr},B3={[Vr]:vJ,[zr]:Ks,[jr]:{}},x9={[Vr]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[zr]:Ks,[jr]:{}},lx={[qr]:"Invalid region: region was not a valid DNS name.",[Ye]:qr},Ya={[Tn]:yJ},AJ={[Tn]:bJ},U3={[Qt]:Fs,[Jt]:[Ya,"service"]},IR={[Tn]:kR},w9={[bt]:[ji],[qr]:"S3 Object Lambda does not support Dual-stack",[Ye]:qr},S9={[bt]:[Nu],[qr]:"S3 Object Lambda does not support S3 Accelerate",[Ye]:qr},T9={[bt]:[{[Qt]:Zl,[Jt]:[{[Tn]:"DisableAccessPoints"}]},{[Qt]:Ao,[Jt]:[{[Tn]:"DisableAccessPoints"},!0]}],[qr]:"Access points are not supported for this operation",[Ye]:qr},V3={[bt]:[{[Qt]:Zl,[Jt]:[{[Tn]:"UseArnRegion"}]},{[Qt]:Ao,[Jt]:[{[Tn]:"UseArnRegion"},!1]},{[Qt]:td,[Jt]:[{[Qt]:ts,[Jt]:[{[Qt]:Fs,[Jt]:[Ya,"region"]},"{Region}"]}]}],[qr]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[Ye]:qr},PJ={[Qt]:Fs,[Jt]:[{[Tn]:"bucketPartition"},ra]},kJ={[Qt]:Fs,[Jt]:[Ya,"accountId"]},z3={[yc]:[{[Il]:!0,[ra]:"sigv4",[Ol]:PR,[Ad]:"{bucketArn#region}"}]},E9={[qr]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[Ye]:qr},j3={[qr]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[Ye]:qr},H3={[qr]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[Ye]:qr},G3={[qr]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[Ye]:qr},C9={[qr]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[Ye]:qr},A9={[qr]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[Ye]:qr},U_={[yc]:[{[Il]:!0,[ra]:"sigv4",[Ol]:rv,[Ad]:"{bucketArn#region}"}]},P9={[yc]:[{[Il]:!0,[ra]:AR,[Ol]:rb,[CR]:["*"]},{[Il]:!0,[ra]:"sigv4",[Ol]:rb,[Ad]:"{bucketArn#region}"}]},k9={[Qt]:_J,[Jt]:[ma]},I9={[Vr]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[zr]:Ks,[jr]:{}},O9={[Vr]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[zr]:Ks,[jr]:{}},D9={[Vr]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[zr]:Ks,[jr]:{}},W3={[Vr]:wJ,[zr]:Ks,[jr]:{}},M9={[Vr]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[zr]:Ks,[jr]:{}},R9={[Tn]:"UseObjectLambdaEndpoint"},q3={[yc]:[{[Il]:!0,[ra]:"sigv4",[Ol]:PR,[Ad]:"{Region}"}]},$9={[Vr]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[zr]:Ks,[jr]:{}},L9={[Vr]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[zr]:Ks,[jr]:{}},F9={[Vr]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[zr]:Ks,[jr]:{}},X3={[Vr]:Ww,[zr]:Ks,[jr]:{}},N9={[Vr]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[zr]:Ks,[jr]:{}},Y3=[{[Tn]:"Region"}],x9e=[{[Tn]:"Endpoint"}],w9e=[ma],K3=[ji],ux=[Nu],Pp=[Gs,ha],B9=[{[Qt]:Zl,[Jt]:[{[Tn]:"DisableS3ExpressSessionAuth"}]},{[Qt]:Ao,[Jt]:[{[Tn]:"DisableS3ExpressSessionAuth"},!0]}],U9=[qw],Z3=[EJ],Q3=[CJ],Om=[Hi],V9=[{[Qt]:Fc,[Jt]:[ma,6,14,!0],[Cs]:"s3expressAvailabilityZoneId"},{[Qt]:Fc,[Jt]:[ma,14,16,!0],[Cs]:"s3expressAvailabilityZoneDelim"},{[Qt]:ts,[Jt]:[{[Tn]:"s3expressAvailabilityZoneDelim"},"--"]}],z9=[{[bt]:[Hi],[fr]:{[Vr]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[zr]:Yd,[jr]:{}},[Ye]:fr},{[fr]:{[Vr]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[zr]:Yd,[jr]:{}},[Ye]:fr}],j9=[{[Qt]:Fc,[Jt]:[ma,6,15,!0],[Cs]:"s3expressAvailabilityZoneId"},{[Qt]:Fc,[Jt]:[ma,15,17,!0],[Cs]:"s3expressAvailabilityZoneDelim"},{[Qt]:ts,[Jt]:[{[Tn]:"s3expressAvailabilityZoneDelim"},"--"]}],H9=[{[bt]:[Hi],[fr]:{[Vr]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[zr]:nT,[jr]:{}},[Ye]:fr},{[fr]:{[Vr]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[zr]:nT,[jr]:{}},[Ye]:fr}],S9e=[rT],G9=[{[Qt]:hm,[Jt]:[{[Tn]:MI},!1]}],W9=[{[Qt]:ts,[Jt]:[{[Tn]:mJ},"beta"]}],T9e=["*"],Yf=[SJ],q9=[{[Qt]:hm,[Jt]:[{[Tn]:"Region"},!1]}],Kf=[{[Qt]:ts,[Jt]:[{[Tn]:"Region"},"us-east-1"]}],J3=[{[Qt]:ts,[Jt]:[AJ,xJ]}],X9=[{[Qt]:Fs,[Jt]:[Ya,"resourceId[1]"],[Cs]:kR},{[Qt]:td,[Jt]:[{[Qt]:ts,[Jt]:[IR,tT]}]}],E9e=[Ya,"resourceId[1]"],e4=[{[Qt]:td,[Jt]:[{[Qt]:ts,[Jt]:[{[Qt]:Fs,[Jt]:[Ya,"region"]},tT]}]}],Y9=[{[Qt]:td,[Jt]:[{[Qt]:Zl,[Jt]:[{[Qt]:Fs,[Jt]:[Ya,"resourceId[2]"]}]}]}],C9e=[Ya,"resourceId[2]"],t4=[{[Qt]:eT,[Jt]:[{[Qt]:Fs,[Jt]:[Ya,"region"]}],[Cs]:"bucketPartition"}],K9=[{[Qt]:ts,[Jt]:[PJ,{[Qt]:Fs,[Jt]:[{[Tn]:"partitionResult"},ra]}]}],r4=[{[Qt]:hm,[Jt]:[{[Qt]:Fs,[Jt]:[Ya,"region"]},!0]}],n4=[{[Qt]:hm,[Jt]:[kJ,!1]}],Z9=[{[Qt]:hm,[Jt]:[IR,!1]}],Q9=[{[Qt]:hm,[Jt]:[{[Tn]:"Region"},!0]}],A9e={version:"1.0",parameters:{Bucket:N_,Region:N_,UseFIPS:Im,UseDualStack:Im,Endpoint:N_,ForcePathStyle:Im,Accelerate:Im,UseGlobalEndpoint:Im,UseObjectLambdaEndpoint:B_,Key:N_,Prefix:N_,DisableAccessPoints:B_,DisableMultiRegionAccessPoints:Im,UseArnRegion:B_,UseS3ExpressControlEndpoint:B_,DisableS3ExpressSessionAuth:B_},rules:[{[bt]:[{[Qt]:Zl,[Jt]:Y3}],rules:[{[bt]:[Nu,Hi],error:"Accelerate cannot be used with FIPS",[Ye]:qr},{[bt]:[ji,Gs],error:"Cannot set dual-stack in combination with a custom endpoint.",[Ye]:qr},{[bt]:[Gs,Hi],error:"A custom endpoint cannot be combined with FIPS",[Ye]:qr},{[bt]:[Gs,Nu],error:"A custom endpoint cannot be combined with S3 Accelerate",[Ye]:qr},{[bt]:[Hi,SJ,u9],error:"Partition does not support FIPS",[Ye]:qr},{[bt]:[rT,{[Qt]:Fc,[Jt]:[ma,0,6,Mu],[Cs]:JU},{[Qt]:ts,[Jt]:[{[Tn]:JU},"--x-s3"]}],rules:[{[bt]:K3,error:"S3Express does not support Dual-stack.",[Ye]:qr},{[bt]:ux,error:"S3Express does not support S3 Accelerate.",[Ye]:qr},{[bt]:Pp,rules:[{[bt]:B9,rules:[{[bt]:U9,rules:[{[bt]:Z3,rules:[{endpoint:{[Vr]:e9,[zr]:Yd,[jr]:Cn},[Ye]:fr}],[Ye]:dr}],[Ye]:dr},{[bt]:Q3,rules:[{endpoint:{[Vr]:Gw,[zr]:Yd,[jr]:Cn},[Ye]:fr}],[Ye]:dr},$3],[Ye]:dr},{[bt]:U9,rules:[{[bt]:Z3,rules:[{endpoint:{[Vr]:e9,[zr]:nT,[jr]:Cn},[Ye]:fr}],[Ye]:dr}],[Ye]:dr},{[bt]:Q3,rules:[{endpoint:{[Vr]:Gw,[zr]:nT,[jr]:Cn},[Ye]:fr}],[Ye]:dr},$3],[Ye]:dr},{[bt]:[c9,d9],rules:[{[bt]:[EJ,On],rules:[{[bt]:Om,endpoint:{[Vr]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[zr]:Yd,[jr]:Cn},[Ye]:fr},{endpoint:{[Vr]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[zr]:Yd,[jr]:Cn},[Ye]:fr}],[Ye]:dr}],[Ye]:dr},{[bt]:Q3,rules:[{[bt]:B9,rules:[{[bt]:V9,rules:z9,[Ye]:dr},{[bt]:j9,rules:z9,[Ye]:dr},f9],[Ye]:dr},{[bt]:V9,rules:H9,[Ye]:dr},{[bt]:j9,rules:H9,[Ye]:dr},f9],[Ye]:dr},$3],[Ye]:dr},{[bt]:[h9,c9,d9],rules:[{[bt]:Pp,endpoint:{[Vr]:Ww,[zr]:Yd,[jr]:Cn},[Ye]:fr},{[bt]:Om,endpoint:{[Vr]:"https://s3express-control-fips.{Region}.amazonaws.com",[zr]:Yd,[jr]:Cn},[Ye]:fr},{endpoint:{[Vr]:"https://s3express-control.{Region}.amazonaws.com",[zr]:Yd,[jr]:Cn},[Ye]:fr}],[Ye]:dr},{[bt]:[rT,{[Qt]:Fc,[Jt]:[ma,49,50,Mu],[Cs]:pJ},{[Qt]:Fc,[Jt]:[ma,8,12,Mu],[Cs]:mJ},{[Qt]:Fc,[Jt]:[ma,0,7,Mu],[Cs]:t9},{[Qt]:Fc,[Jt]:[ma,32,49,Mu],[Cs]:MI},{[Qt]:eT,[Jt]:Y3,[Cs]:"regionPartition"},{[Qt]:ts,[Jt]:[{[Tn]:t9},"--op-s3"]}],rules:[{[bt]:G9,rules:[{[bt]:[{[Qt]:ts,[Jt]:[p9,"e"]}],rules:[{[bt]:W9,rules:[m9,{[bt]:Pp,endpoint:{[Vr]:"https://{Bucket}.ec2.{url#authority}",[zr]:ax,[jr]:Cn},[Ye]:fr}],[Ye]:dr},{endpoint:{[Vr]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[zr]:ax,[jr]:Cn},[Ye]:fr}],[Ye]:dr},{[bt]:[{[Qt]:ts,[Jt]:[p9,"o"]}],rules:[{[bt]:W9,rules:[m9,{[bt]:Pp,endpoint:{[Vr]:"https://{Bucket}.op-{outpostId}.{url#authority}",[zr]:ax,[jr]:Cn},[Ye]:fr}],[Ye]:dr},{endpoint:{[Vr]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[zr]:ax,[jr]:Cn},[Ye]:fr}],[Ye]:dr},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[Ye]:qr}],[Ye]:dr},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[Ye]:qr}],[Ye]:dr},{[bt]:S9e,rules:[{[bt]:[Gs,{[Qt]:td,[Jt]:[{[Qt]:Zl,[Jt]:[{[Qt]:fJ,[Jt]:x9e}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[Ye]:qr},{[bt]:[L3,CJ],rules:[{[bt]:Yf,rules:[{[bt]:q9,rules:[{[bt]:[Nu,u9],error:"S3 Accelerate cannot be used in this region",[Ye]:qr},{[bt]:[ji,Hi,Hs,On,ro],endpoint:{[Vr]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[ji,Hi,Hs,On,Jn,mo],rules:[{endpoint:g9,[Ye]:fr}],[Ye]:dr},{[bt]:[ji,Hi,Hs,On,Jn,go],endpoint:g9,[Ye]:fr},{[bt]:[Kn,Hi,Hs,On,ro],endpoint:{[Vr]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[Kn,Hi,Hs,On,Jn,mo],rules:[{endpoint:v9,[Ye]:fr}],[Ye]:dr},{[bt]:[Kn,Hi,Hs,On,Jn,go],endpoint:v9,[Ye]:fr},{[bt]:[ji,Gn,Nu,On,ro],endpoint:{[Vr]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[ji,Gn,Nu,On,Jn,mo],rules:[{endpoint:_9,[Ye]:fr}],[Ye]:dr},{[bt]:[ji,Gn,Nu,On,Jn,go],endpoint:_9,[Ye]:fr},{[bt]:[ji,Gn,Hs,On,ro],endpoint:{[Vr]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[ji,Gn,Hs,On,Jn,mo],rules:[{endpoint:y9,[Ye]:fr}],[Ye]:dr},{[bt]:[ji,Gn,Hs,On,Jn,go],endpoint:y9,[Ye]:fr},{[bt]:[Kn,Gn,Hs,Gs,ha,qw,ro],endpoint:{[Vr]:gJ,[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[Kn,Gn,Hs,Gs,ha,F3,ro],endpoint:{[Vr]:Gw,[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[Kn,Gn,Hs,Gs,ha,qw,Jn,mo],rules:[{[bt]:Kf,endpoint:N3,[Ye]:fr},{endpoint:N3,[Ye]:fr}],[Ye]:dr},{[bt]:[Kn,Gn,Hs,Gs,ha,F3,Jn,mo],rules:[{[bt]:Kf,endpoint:RI,[Ye]:fr},b9],[Ye]:dr},{[bt]:[Kn,Gn,Hs,Gs,ha,qw,Jn,go],endpoint:N3,[Ye]:fr},{[bt]:[Kn,Gn,Hs,Gs,ha,F3,Jn,go],endpoint:RI,[Ye]:fr},{[bt]:[Kn,Gn,Nu,On,ro],endpoint:{[Vr]:vJ,[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[Kn,Gn,Nu,On,Jn,mo],rules:[{[bt]:Kf,endpoint:B3,[Ye]:fr},{endpoint:B3,[Ye]:fr}],[Ye]:dr},{[bt]:[Kn,Gn,Nu,On,Jn,go],endpoint:B3,[Ye]:fr},{[bt]:[Kn,Gn,Hs,On,ro],endpoint:{[Vr]:r9,[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[Kn,Gn,Hs,On,Jn,mo],rules:[{[bt]:Kf,endpoint:{[Vr]:r9,[zr]:Ks,[jr]:Cn},[Ye]:fr},{endpoint:x9,[Ye]:fr}],[Ye]:dr},{[bt]:[Kn,Gn,Hs,On,Jn,go],endpoint:x9,[Ye]:fr}],[Ye]:dr},lx],[Ye]:dr}],[Ye]:dr},{[bt]:[Gs,ha,{[Qt]:ts,[Jt]:[{[Qt]:Fs,[Jt]:[TJ,"scheme"]},"http"]},{[Qt]:hJ,[Jt]:[ma,Mu]},L3,Gn,Kn,Hs],rules:[{[bt]:Yf,rules:[{[bt]:q9,rules:[b9],[Ye]:dr},lx],[Ye]:dr}],[Ye]:dr},{[bt]:[L3,{[Qt]:_J,[Jt]:w9e,[Cs]:yJ}],rules:[{[bt]:[{[Qt]:Fs,[Jt]:[Ya,"resourceId[0]"],[Cs]:bJ},{[Qt]:td,[Jt]:[{[Qt]:ts,[Jt]:[AJ,tT]}]}],rules:[{[bt]:[{[Qt]:ts,[Jt]:[U3,PR]}],rules:[{[bt]:J3,rules:[{[bt]:X9,rules:[w9,S9,{[bt]:e4,rules:[T9,{[bt]:Y9,rules:[V3,{[bt]:t4,rules:[{[bt]:Yf,rules:[{[bt]:K9,rules:[{[bt]:r4,rules:[{[bt]:[{[Qt]:ts,[Jt]:[kJ,tT]}],error:"Invalid ARN: Missing account id",[Ye]:qr},{[bt]:n4,rules:[{[bt]:Z9,rules:[{[bt]:Pp,endpoint:{[Vr]:n9,[zr]:z3,[jr]:Cn},[Ye]:fr},{[bt]:Om,endpoint:{[Vr]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[zr]:z3,[jr]:Cn},[Ye]:fr},{endpoint:{[Vr]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[zr]:z3,[jr]:Cn},[Ye]:fr}],[Ye]:dr},E9],[Ye]:dr},j3],[Ye]:dr},H3],[Ye]:dr},G3],[Ye]:dr}],[Ye]:dr}],[Ye]:dr},C9],[Ye]:dr},{error:"Invalid ARN: bucket ARN is missing a region",[Ye]:qr}],[Ye]:dr},A9],[Ye]:dr},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[Ye]:qr}],[Ye]:dr},{[bt]:J3,rules:[{[bt]:X9,rules:[{[bt]:e4,rules:[{[bt]:J3,rules:[{[bt]:e4,rules:[T9,{[bt]:Y9,rules:[V3,{[bt]:t4,rules:[{[bt]:Yf,rules:[{[bt]:[{[Qt]:ts,[Jt]:[PJ,"{partitionResult#name}"]}],rules:[{[bt]:r4,rules:[{[bt]:[{[Qt]:ts,[Jt]:[U3,rv]}],rules:[{[bt]:n4,rules:[{[bt]:Z9,rules:[{[bt]:ux,error:"Access Points do not support S3 Accelerate",[Ye]:qr},{[bt]:[Hi,ji],endpoint:{[Vr]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[zr]:U_,[jr]:Cn},[Ye]:fr},{[bt]:[Hi,Kn],endpoint:{[Vr]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[zr]:U_,[jr]:Cn},[Ye]:fr},{[bt]:[Gn,ji],endpoint:{[Vr]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[zr]:U_,[jr]:Cn},[Ye]:fr},{[bt]:[Gn,Kn,Gs,ha],endpoint:{[Vr]:n9,[zr]:U_,[jr]:Cn},[Ye]:fr},{[bt]:[Gn,Kn],endpoint:{[Vr]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[zr]:U_,[jr]:Cn},[Ye]:fr}],[Ye]:dr},E9],[Ye]:dr},j3],[Ye]:dr},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[Ye]:qr}],[Ye]:dr},H3],[Ye]:dr},G3],[Ye]:dr}],[Ye]:dr}],[Ye]:dr},C9],[Ye]:dr}],[Ye]:dr}],[Ye]:dr},{[bt]:[{[Qt]:hm,[Jt]:[IR,Mu]}],rules:[{[bt]:K3,error:"S3 MRAP does not support dual-stack",[Ye]:qr},{[bt]:Om,error:"S3 MRAP does not support FIPS",[Ye]:qr},{[bt]:ux,error:"S3 MRAP does not support S3 Accelerate",[Ye]:qr},{[bt]:[{[Qt]:Ao,[Jt]:[{[Tn]:"DisableMultiRegionAccessPoints"},Mu]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[Ye]:qr},{[bt]:[{[Qt]:eT,[Jt]:Y3,[Cs]:i9}],rules:[{[bt]:[{[Qt]:ts,[Jt]:[{[Qt]:Fs,[Jt]:[{[Tn]:i9},ra]},{[Qt]:Fs,[Jt]:[Ya,"partition"]}]}],rules:[{endpoint:{[Vr]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[zr]:{[yc]:[{[Il]:Mu,name:AR,[Ol]:rv,[CR]:T9e}]},[jr]:Cn},[Ye]:fr}],[Ye]:dr},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[Ye]:qr}],[Ye]:dr}],[Ye]:dr},{error:"Invalid Access Point Name",[Ye]:qr}],[Ye]:dr},A9],[Ye]:dr},{[bt]:[{[Qt]:ts,[Jt]:[U3,rb]}],rules:[{[bt]:K3,error:"S3 Outposts does not support Dual-stack",[Ye]:qr},{[bt]:Om,error:"S3 Outposts does not support FIPS",[Ye]:qr},{[bt]:ux,error:"S3 Outposts does not support S3 Accelerate",[Ye]:qr},{[bt]:[{[Qt]:Zl,[Jt]:[{[Qt]:Fs,[Jt]:[Ya,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[Ye]:qr},{[bt]:[{[Qt]:Fs,[Jt]:E9e,[Cs]:MI}],rules:[{[bt]:G9,rules:[V3,{[bt]:t4,rules:[{[bt]:Yf,rules:[{[bt]:K9,rules:[{[bt]:r4,rules:[{[bt]:n4,rules:[{[bt]:[{[Qt]:Fs,[Jt]:C9e,[Cs]:s9}],rules:[{[bt]:[{[Qt]:Fs,[Jt]:[Ya,"resourceId[3]"],[Cs]:kR}],rules:[{[bt]:[{[Qt]:ts,[Jt]:[{[Tn]:s9},xJ]}],rules:[{[bt]:Pp,endpoint:{[Vr]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[zr]:P9,[jr]:Cn},[Ye]:fr},{endpoint:{[Vr]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[zr]:P9,[jr]:Cn},[Ye]:fr}],[Ye]:dr},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[Ye]:qr}],[Ye]:dr},{error:"Invalid ARN: expected an access point name",[Ye]:qr}],[Ye]:dr},{error:"Invalid ARN: Expected a 4-component resource",[Ye]:qr}],[Ye]:dr},j3],[Ye]:dr},H3],[Ye]:dr},G3],[Ye]:dr}],[Ye]:dr}],[Ye]:dr},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[Ye]:qr}],[Ye]:dr},{error:"Invalid ARN: The Outpost Id was not set",[Ye]:qr}],[Ye]:dr},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[Ye]:qr}],[Ye]:dr},{error:"Invalid ARN: No ARN type specified",[Ye]:qr}],[Ye]:dr},{[bt]:[{[Qt]:Fc,[Jt]:[ma,0,4,y9e],[Cs]:o9},{[Qt]:ts,[Jt]:[{[Tn]:o9},"arn:"]},{[Qt]:td,[Jt]:[{[Qt]:Zl,[Jt]:[k9]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[Ye]:qr},{[bt]:[{[Qt]:Ao,[Jt]:[b9e,Mu]},k9],error:"Path-style addressing cannot be used with ARN buckets",[Ye]:qr},{[bt]:Z3,rules:[{[bt]:Yf,rules:[{[bt]:[Hs],rules:[{[bt]:[ji,On,Hi,ro],endpoint:{[Vr]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[ji,On,Hi,Jn,mo],rules:[{endpoint:I9,[Ye]:fr}],[Ye]:dr},{[bt]:[ji,On,Hi,Jn,go],endpoint:I9,[Ye]:fr},{[bt]:[Kn,On,Hi,ro],endpoint:{[Vr]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[Kn,On,Hi,Jn,mo],rules:[{endpoint:O9,[Ye]:fr}],[Ye]:dr},{[bt]:[Kn,On,Hi,Jn,go],endpoint:O9,[Ye]:fr},{[bt]:[ji,On,Gn,ro],endpoint:{[Vr]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[ji,On,Gn,Jn,mo],rules:[{endpoint:D9,[Ye]:fr}],[Ye]:dr},{[bt]:[ji,On,Gn,Jn,go],endpoint:D9,[Ye]:fr},{[bt]:[Kn,Gs,ha,Gn,ro],endpoint:{[Vr]:wJ,[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[Kn,Gs,ha,Gn,Jn,mo],rules:[{[bt]:Kf,endpoint:W3,[Ye]:fr},{endpoint:W3,[Ye]:fr}],[Ye]:dr},{[bt]:[Kn,Gs,ha,Gn,Jn,go],endpoint:W3,[Ye]:fr},{[bt]:[Kn,On,Gn,ro],endpoint:{[Vr]:a9,[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[Kn,On,Gn,Jn,mo],rules:[{[bt]:Kf,endpoint:{[Vr]:a9,[zr]:Ks,[jr]:Cn},[Ye]:fr},{endpoint:M9,[Ye]:fr}],[Ye]:dr},{[bt]:[Kn,On,Gn,Jn,go],endpoint:M9,[Ye]:fr}],[Ye]:dr},{error:"Path-style addressing cannot be used with S3 Accelerate",[Ye]:qr}],[Ye]:dr}],[Ye]:dr}],[Ye]:dr},{[bt]:[{[Qt]:Zl,[Jt]:[R9]},{[Qt]:Ao,[Jt]:[R9,Mu]}],rules:[{[bt]:Yf,rules:[{[bt]:Q9,rules:[w9,S9,{[bt]:Pp,endpoint:{[Vr]:Ww,[zr]:q3,[jr]:Cn},[Ye]:fr},{[bt]:Om,endpoint:{[Vr]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[zr]:q3,[jr]:Cn},[Ye]:fr},{endpoint:{[Vr]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[zr]:q3,[jr]:Cn},[Ye]:fr}],[Ye]:dr},lx],[Ye]:dr}],[Ye]:dr},{[bt]:[h9],rules:[{[bt]:Yf,rules:[{[bt]:Q9,rules:[{[bt]:[Hi,ji,On,ro],endpoint:{[Vr]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[Hi,ji,On,Jn,mo],rules:[{endpoint:$9,[Ye]:fr}],[Ye]:dr},{[bt]:[Hi,ji,On,Jn,go],endpoint:$9,[Ye]:fr},{[bt]:[Hi,Kn,On,ro],endpoint:{[Vr]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[Hi,Kn,On,Jn,mo],rules:[{endpoint:L9,[Ye]:fr}],[Ye]:dr},{[bt]:[Hi,Kn,On,Jn,go],endpoint:L9,[Ye]:fr},{[bt]:[Gn,ji,On,ro],endpoint:{[Vr]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[Gn,ji,On,Jn,mo],rules:[{endpoint:F9,[Ye]:fr}],[Ye]:dr},{[bt]:[Gn,ji,On,Jn,go],endpoint:F9,[Ye]:fr},{[bt]:[Gn,Kn,Gs,ha,ro],endpoint:{[Vr]:Ww,[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[Gn,Kn,Gs,ha,Jn,mo],rules:[{[bt]:Kf,endpoint:X3,[Ye]:fr},{endpoint:X3,[Ye]:fr}],[Ye]:dr},{[bt]:[Gn,Kn,Gs,ha,Jn,go],endpoint:X3,[Ye]:fr},{[bt]:[Gn,Kn,On,ro],endpoint:{[Vr]:l9,[zr]:po,[jr]:Cn},[Ye]:fr},{[bt]:[Gn,Kn,On,Jn,mo],rules:[{[bt]:Kf,endpoint:{[Vr]:l9,[zr]:Ks,[jr]:Cn},[Ye]:fr},{endpoint:N9,[Ye]:fr}],[Ye]:dr},{[bt]:[Gn,Kn,On,Jn,go],endpoint:N9,[Ye]:fr}],[Ye]:dr},lx],[Ye]:dr}],[Ye]:dr}],[Ye]:dr},{error:"A region must be set when sending requests to S3.",[Ye]:qr}]},P9e=A9e,k9e=(t,e={})=>ARe(P9e,{endpointParams:t,logger:e.logger});GS.aws=JZ;const I9e=t=>({apiVersion:"2006-03-01",base64Decoder:(t==null?void 0:t.base64Decoder)??D8,base64Encoder:(t==null?void 0:t.base64Encoder)??R8,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??k9e,extensions:(t==null?void 0:t.extensions)??[],getAwsChunkedEncodingStream:(t==null?void 0:t.getAwsChunkedEncodingStream)??cMe,logger:(t==null?void 0:t.logger)??new O8,sdkStreamMixin:(t==null?void 0:t.sdkStreamMixin)??vMe,serviceId:(t==null?void 0:t.serviceId)??"S3",signerConstructor:(t==null?void 0:t.signerConstructor)??cJ,signingEscapePath:(t==null?void 0:t.signingEscapePath)??!1,urlParser:(t==null?void 0:t.urlParser)??WS,useArnRegion:(t==null?void 0:t.useArnRegion)??!1,utf8Decoder:(t==null?void 0:t.utf8Decoder)??G0,utf8Encoder:(t==null?void 0:t.utf8Encoder)??M8}),O9e=["in-region","cross-region","mobile","standard","legacy"],D9e=({defaultsMode:t}={})=>jZ(async()=>{const e=typeof t=="function"?await t():t;switch(e==null?void 0:e.toLowerCase()){case"auto":return Promise.resolve(M9e()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e==null?void 0:e.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${O9e.join(", ")}, got ${e}`)}}),M9e=()=>{var r,n;const t=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?sJ.parse(window.navigator.userAgent):void 0,e=(n=t==null?void 0:t.platform)==null?void 0:n.type;return e==="tablet"||e==="mobile"},R9e=t=>{const e=D9e(t),r=()=>e().then(VMe),n=I9e(t);return{...n,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??v9e,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??gUe({serviceId:n.serviceId,clientVersion:jFe.version}),eventStreamSerdeProvider:(t==null?void 0:t.eventStreamSerdeProvider)??l9e,maxAttempts:(t==null?void 0:t.maxAttempts)??qS,md5:(t==null?void 0:t.md5)??p9e,region:(t==null?void 0:t.region)??d9e("Region is missing"),requestHandler:$8.create((t==null?void 0:t.requestHandler)??r),retryMode:(t==null?void 0:t.retryMode)??(async()=>(await r()).retryMode||a6e),sha1:(t==null?void 0:t.sha1)??BQ.Sha1,sha256:(t==null?void 0:t.sha256)??KQ.Sha256,streamCollector:(t==null?void 0:t.streamCollector)??AZ,streamHasher:(t==null?void 0:t.streamHasher)??c9e,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??(()=>Promise.resolve(BRe)),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??(()=>Promise.resolve(URe))}},$9e=t=>{let e=async()=>{if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");const r=t.region;return typeof r=="string"?r:r()};return{setRegion(r){e=r},region(){return e}}},L9e=t=>({region:t.region()}),i4=t=>t,F9e=(t,e)=>{const r={...i4($9e(t)),...i4(WMe(t)),...i4(jDe(t))};return e.forEach(n=>n.configure(r)),{...t,...L9e(r),...qMe(r),...HDe(r)}};class N9e extends oMe{constructor(...[e]){const r=R9e(e||{}),n=F6e(r),i=VRe(n),s=o6e(i),o=k6e(s),a=o,l=rRe(a),u=H8e(l,{session:[()=>this,TFe]}),d=lRe(u),f=zRe(d),h=F9e(f,(e==null?void 0:e.extensions)||[]);super(h),this.config=h,this.middlewareStack.use($6e(this.config)),this.middlewareStack.use(GRe(this.config)),this.middlewareStack.use(ZDe(this.config)),this.middlewareStack.use(eMe(this.config)),this.middlewareStack.use(sMe(this.config)),this.middlewareStack.use(aRe(this.config)),this.middlewareStack.use(eRe(this.config)),this.middlewareStack.use(XDe(this.config)),this.middlewareStack.use(a8e(this.config)),this.middlewareStack.use(j8e(this.config)),this.middlewareStack.use(NRe(this.config))}destroy(){super.destroy()}}function B9e(t){return e=>async r=>{const n={...r.input},i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const s of i){const o=n[s.target];if(o){let a;typeof o=="string"?V9e(o,t)?a=t.base64Decoder(o):(a=t.utf8Decoder(o),n[s.target]=t.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),n[s.target]=t.base64Encoder(a));const l=new t.md5;l.update(a),n[s.hash]=t.base64Encoder(await l.digest())}}return e({...r,input:n})}}const U9e={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Zv=t=>({applyToStack:e=>{e.add(B9e(t),U9e)}});function V9e(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}class z9e extends Cu.classBuilder().ep({...gc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[pc(n,this.serialize,this.deserialize),mc(n,e.getEndpointParameterInstructions()),X8e(n),Zv(n)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(B6e,N6e).ser(y5e).de(I5e).build(){}class j9e extends Cu.classBuilder().ep({...gc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[pc(n,this.serialize,this.deserialize),mc(n,e.getEndpointParameterInstructions()),Zv(n)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(V6e,U6e).ser(b5e).de(O5e).build(){}class H9e extends Cu.classBuilder().ep({...gc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[pc(n,this.serialize,this.deserialize),mc(n,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(w5e).de(M5e).build(){}var wo;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256"})(wo||(wo={}));var J9;(function(t){t.HEADER="header",t.TRAILER="trailer"})(J9||(J9={}));const G9e=wo.MD5,W9e=wo.CRC32,$I=[wo.CRC32,wo.CRC32C,wo.SHA1,wo.SHA256],q9e=[wo.CRC32,wo.CRC32C,wo.SHA1,wo.SHA256],X9e=(t,{requestChecksumRequired:e,requestAlgorithmMember:r},n)=>{const i=n?W9e:G9e;if(!r||!t[r])return e?i:void 0;const s=t[r];if(!$I.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${$I}.`);return s},OR=t=>t===wo.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`,Y9e=(t,e)=>{const r=t.toLowerCase();for(const n of Object.keys(e))if(r===n.toLowerCase())return!0;return!1},DR=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!BZ(t);var s4={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var LI=function(t,e){return LI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},LI(t,e)};function K9e(t,e){LI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var FI=function(){return FI=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},FI.apply(this,arguments)};function Z9e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Q9e(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function J9e(t,e){return function(r,n){e(r,n,t)}}function e7e(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function t7e(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function r7e(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function n7e(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function i7e(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function NI(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function IJ(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function s7e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(IJ(arguments[e]));return t}function o7e(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function nb(t){return this instanceof nb?(this.v=t,this):new nb(t)}function a7e(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(g){return new Promise(function(p,v){s.push([h,g,p,v])>1||a(h,g)})})}function a(h,g){try{l(n[h](g))}catch(p){f(s[0][3],p)}}function l(h){h.value instanceof nb?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){a("next",h)}function d(h){a("throw",h)}function f(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function l7e(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:nb(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function u7e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof NI=="function"?NI(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function c7e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function d7e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function f7e(t){return t&&t.__esModule?t:{default:t}}function h7e(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function p7e(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const m7e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return FI},__asyncDelegator:l7e,__asyncGenerator:a7e,__asyncValues:u7e,__await:nb,__awaiter:t7e,__classPrivateFieldGet:h7e,__classPrivateFieldSet:p7e,__createBinding:n7e,__decorate:Q9e,__exportStar:i7e,__extends:K9e,__generator:r7e,__importDefault:f7e,__importStar:d7e,__makeTemplateObject:c7e,__metadata:e7e,__param:J9e,__read:IJ,__rest:Z9e,__spread:s7e,__spreadArrays:o7e,__values:NI},Symbol.toStringTag,{value:"Module"})),OJ=hc(m7e);var V_={},e7;function g7e(){if(e7)return V_;e7=1,Object.defineProperty(V_,"__esModule",{value:!0}),V_.AwsCrc32c=void 0;var t=OJ,e=np(),r=DJ(),n=function(){function i(){this.crc32c=new r.Crc32c}return i.prototype.update=function(s){(0,e.isEmptyData)(s)||this.crc32c.update((0,e.convertToBuffer)(s))},i.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(s){return[2,(0,e.numToUint8)(this.crc32c.digest())]})})},i.prototype.reset=function(){this.crc32c=new r.Crc32c},i}();return V_.AwsCrc32c=n,V_}var t7;function DJ(){return t7||(t7=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32c=t.Crc32c=t.crc32c=void 0;var e=OJ,r=np();function n(l){return new i().update(l).digest()}t.crc32c=n;var i=function(){function l(){this.checksum=4294967295}return l.prototype.update=function(u){var d,f;try{for(var h=e.__values(u),g=h.next();!g.done;g=h.next()){var p=g.value;this.checksum=this.checksum>>>8^o[(this.checksum^p)&255]}}catch(v){d={error:v}}finally{try{g&&!g.done&&(f=h.return)&&f.call(h)}finally{if(d)throw d.error}}return this},l.prototype.digest=function(){return(this.checksum^4294967295)>>>0},l}();t.Crc32c=i;var s=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],o=(0,r.uint32ArrayFrom)(s),a=g7e();Object.defineProperty(t,"AwsCrc32c",{enumerable:!0,get:function(){return a.AwsCrc32c}})}(s4)),s4}var v7e=DJ();const MJ=(t,e)=>({[wo.MD5]:e.md5,[wo.CRC32]:TR.AwsCrc32,[wo.CRC32C]:v7e.AwsCrc32c,[wo.SHA1]:e.sha1,[wo.SHA256]:e.sha256})[t],RJ=(t,e)=>{const r=new t;return r.update(fg(e||"")),r.digest()},_7e={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},y7e=(t,e)=>(r,n)=>async i=>{if(!ka.isInstance(i.request))return r(i);const{request:s}=i,{body:o,headers:a}=s,{base64Encoder:l,streamHasher:u}=t,{input:d,requestChecksumRequired:f,requestAlgorithmMember:h}=e,g=X9e(d,{requestChecksumRequired:f,requestAlgorithmMember:h},!!n.isS3ExpressBucket);let p=o,v=a;if(g){const S=OR(g),T=MJ(g,t);if(DR(o)){const{getAwsChunkedEncodingStream:E,bodyLengthChecker:C}=t;p=E(o,{base64Encoder:l,bodyLengthChecker:C,checksumLocationName:S,checksumAlgorithmFn:T,streamHasher:u}),v={...a,"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":S},delete v["content-length"]}else if(!Y9e(S,a)){const E=await RJ(T,o);v={...a,[S]:l(E)}}}return await r({...i,request:{...s,headers:v,body:p}})},$J=(t=[])=>{const e=[];for(const r of q9e)!t.includes(r)||!$I.includes(r)||e.push(r);return e},b7e=t=>{const e=t.lastIndexOf("-");if(e!==-1){const r=t.slice(e+1);if(!r.startsWith("0")){const n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1};function r7(t){return new Blob([t]).stream()}const x7e=async(t,{streamHasher:e,checksumAlgorithmFn:r,base64Encoder:n})=>{const i=DR(t)?e(r,t):RJ(r,t);return n(await i)},w7e=async(t,{config:e,responseAlgorithms:r})=>{const n=$J(r),{body:i,headers:s}=t;for(const o of n){const a=OR(o),l=s[a];if(l){const u=MJ(o,e),{streamHasher:d,base64Encoder:f}=e,h=await x7e(i,{streamHasher:d,checksumAlgorithmFn:u,base64Encoder:f});if(h===l)break;throw new Error(`Checksum mismatch: expected "${h}" but received "${l}" in response header "${a}".`)}}},S7e={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},T7e=(t,e)=>(r,n)=>async i=>{if(!ka.isInstance(i.request))return r(i);const s=i.input,o=await r(i),a=o.response;let l;const{requestValidationModeMember:u,responseAlgorithms:d}=e;if(u&&s[u]==="ENABLED"){const{clientName:f,commandName:h}=n;if(f==="S3Client"&&h==="GetObjectCommand"&&$J(d).every(v=>{const b=OR(v),S=a.headers[b];return!S||b7e(S)}))return o;const p=DR(a.body);p&&(l=await t.streamCollector(a.body),a.body=r7(l)),await w7e(o.response,{config:t,responseAlgorithms:d}),p&&l&&(a.body=r7(l))}return o},JE=(t,e)=>({applyToStack:r=>{r.add(y7e(t,e),_7e),r.addRelativeTo(T7e(t,e),S7e)}});class E7e extends Cu.classBuilder().ep({...gc,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,r,n,i){return[pc(n,this.serialize,this.deserialize),mc(n,e.getEndpointParameterInstructions()),JE(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0})]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(S5e).de(R5e).build(){}class C7e extends Cu.classBuilder().ep({...gc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[pc(n,this.serialize,this.deserialize),mc(n,e.getEndpointParameterInstructions()),Zv(n),c8e(),JE(n,{input:this.input,requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC32","CRC32C","SHA256","SHA1"]})]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(G6e,H6e).ser(T5e).de($5e).build(){}class A7e extends Cu.classBuilder().ep({...gc}).m(function(e,r,n,i){return[pc(n,this.serialize,this.deserialize),mc(n,e.getEndpointParameterInstructions())]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(E5e).de(L5e).build(){}class P7e extends Cu.classBuilder().ep({...gc,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,r,n,i){return[pc(n,this.serialize,this.deserialize),mc(n,e.getEndpointParameterInstructions())]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(C5e).de(F5e).build(){}class k7e extends Cu.classBuilder().ep({...gc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[pc(n,this.serialize,this.deserialize),mc(n,e.getEndpointParameterInstructions()),Zv(n)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(W6e,void 0).ser(A5e).de(N5e).build(){}class I7e extends Cu.classBuilder().ep({...gc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[pc(n,this.serialize,this.deserialize),mc(n,e.getEndpointParameterInstructions()),r8e(),Zv(n),JE(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1})]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(g5e,m5e).ser(P5e).de(B5e).build(){}class O7e extends Cu.classBuilder().ep({...gc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[pc(n,this.serialize,this.deserialize),mc(n,e.getEndpointParameterInstructions()),Zv(n),JE(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1})]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(_5e,v5e).ser(k5e).de(U5e).build(){}function D7e(t){const{port:e,query:r}=t;let{protocol:n,path:i,hostname:s}=t;n&&n.slice(-1)!==":"&&(n+=":"),e&&(s+=`:${e}`),i&&i.charAt(0)!=="/"&&(i=`/${i}`);let o=r?CZ(r):"";o&&o[0]!=="?"&&(o=`?${o}`);let a="";if(t.username!=null||t.password!=null){const u=t.username??"",d=t.password??"";a=`${u}:${d}@`}let l="";return t.fragment&&(l=`#${t.fragment}`),`${n}//${a}${s}${i}${o}${l}`}const M7e="UNSIGNED-PAYLOAD",R7e="X-Amz-Content-Sha256";class n7{constructor(e){const r={service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1,applyChecksum:e.applyChecksum||!1,...e};this.signer=new cJ(r)}presign(e,{unsignableHeaders:r=new Set,unhoistableHeaders:n=new Set,...i}={}){return this.prepareRequest(e,{unsignableHeaders:r,unhoistableHeaders:n}),this.signer.presign(e,{expiresIn:900,unsignableHeaders:r,unhoistableHeaders:n,...i})}presignWithCredentials(e,r,{unsignableHeaders:n=new Set,unhoistableHeaders:i=new Set,...s}={}){return this.prepareRequest(e,{unsignableHeaders:n,unhoistableHeaders:i}),this.signer.presignWithCredentials(e,r,{expiresIn:900,unsignableHeaders:n,unhoistableHeaders:i,...s})}prepareRequest(e,{unsignableHeaders:r=new Set,unhoistableHeaders:n=new Set}={}){r.add("content-type"),Object.keys(e.headers).map(a=>a.toLowerCase()).filter(a=>a.startsWith("x-amz-server-side-encryption")).forEach(a=>{n.add(a)}),e.headers[R7e]=M7e;const i=e.headers.host,s=e.port,o=`${e.hostname}${e.port!=null?":"+s:""}`;(!i||i===e.hostname&&e.port!=null)&&(e.headers.host=o)}}const $7e=async(t,e,r={})=>{var f,h,g;let n,i;if(typeof t.config.endpointProvider=="function"){const v=(h=(f=(await rQ(e.input,e.constructor,t.config)).properties)==null?void 0:f.authSchemes)==null?void 0:h[0];(v==null?void 0:v.name)==="sigv4a"?i=(g=v==null?void 0:v.signingRegionSet)==null?void 0:g.join(","):i=v==null?void 0:v.signingRegion,n=new n7({...t.config,signingName:v==null?void 0:v.signingName,region:async()=>i})}else n=new n7(t.config);const s=(p,v)=>async b=>{const{request:S}=b;if(!ka.isInstance(S))throw new Error("Request to be presigned is not an valid HTTP request.");delete S.headers["amz-sdk-invocation-id"],delete S.headers["amz-sdk-request"],delete S.headers["x-amz-user-agent"];let T;const E={...r,signingRegion:r.signingRegion??v.signing_region??i,signingService:r.signingService??v.signing_service};return v.s3ExpressIdentity?T=await n.presignWithCredentials(S,v.s3ExpressIdentity,E):T=await n.presign(S,E),{response:{},output:{$metadata:{httpStatusCode:200},presigned:T}}},o="presignInterceptMiddleware",a=t.middlewareStack.clone();a.addRelativeTo(s,{name:o,relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});const l=e.resolveMiddleware(a,t.config,{}),{output:u}=await l({input:e.input}),{presigned:d}=u;return D7e(d)};let yy=[],by;const Jl=t=>(by!=null&&!t||(yy=[],Pe.region==""&&(Pe.platform=="cloudflare"?Pe.region="auto":Pe.region="us-east-1"),by=new N9e({forcePathStyle:!0,endpoint:Pe.endpoint,credentials:{accessKeyId:Pe.accessKey,secretAccessKey:Pe.accessSecret},region:Pe.region})),by),L7e=async(t,e,r,n,i,s)=>{const o=Jl(!1);if(yy.push(o.send(new O7e({Bucket:e,Key:r,UploadId:n,Body:t,PartNumber:i+1}))),yy.length==s){await Promise.all(yy);const a=await o.send(new k7e({Bucket:e,Key:r,UploadId:n}));await o.send(new z9e({Bucket:e,Key:r,UploadId:n,MultipartUpload:{Parts:a.Parts.map(({ETag:l,PartNumber:u})=>({ETag:l,PartNumber:u}))}})),by=null,yy=[]}},F7e=async(t,e)=>{const r=Jl(!1),n=new C7e({Bucket:t,Key:e});return await $7e(r,n,{expiresIn:3600})},N7e=async(t,e)=>(await Jl(!1).send(new j9e({Bucket:t,Key:e}))).UploadId,B7e=async t=>{const e=Jl(!1),r=new P7e({Bucket:t,MaxKeys:1e3});try{let n=!0,i=[];for(;n;){const{Contents:s,IsTruncated:o,NextContinuationToken:a}=await e.send(r);s&&s.map(l=>{const u={key:l.Key,size:l.Size,timestamp:H7e(l.LastModified)/1e3};i.push(u)}),n=o,r.input.ContinuationToken=a}return i}catch(n){console.error(n)}},U7e=async(t,e)=>{const r=Jl(!1),n=new E7e({Bucket:t,Delete:{Objects:e}});try{const{Deleted:i}=await r.send(n);return i}catch(i){console.error(i)}},V7e=async(t,e)=>{const r=Jl(!1),n=new H9e({Bucket:t,Key:e});try{return await r.send(n)}catch(i){console.error(i)}},z7e=async(t,e,r)=>{const n=Jl(!1),i=new I7e({Bucket:t,Key:e,Body:r});try{const s=await n.send(i)}catch(s){console.error(s)}},j7e=async()=>{const t=Jl(!1),e=new A7e({});try{return await t.send(e)}catch(r){console.error(r)}};function H7e(t){return Jr(t).valueOf()}var xy;typeof window<"u"?xy=window:typeof Co<"u"?xy=Co:typeof self<"u"?xy=self:xy={};var eC=xy;const Ze=zs(eC);var i7=typeof Co<"u"?Co:typeof window<"u"?window:{},G7e=P8,wy;typeof document<"u"?wy=document:(wy=i7["__GLOBAL_DOCUMENT_CACHE@4"],wy||(wy=i7["__GLOBAL_DOCUMENT_CACHE@4"]=G7e));var LJ=wy;const yr=zs(LJ);var BI={exports:{}};(function(t,e){function r(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return o[l];var d=String(l),f=n[d.toLowerCase()];if(f)return f;var f=i[d.toLowerCase()];if(f)return f;if(d.length===1)return d.charCodeAt(0)}r.isEventKey=function(u,d){if(u&&typeof u=="object"){var f=u.which||u.keyCode||u.charCode;if(f==null)return!1;if(typeof d=="string"){var h=n[d.toLowerCase()];if(h)return h===f;var h=i[d.toLowerCase()];if(h)return h===f}else if(typeof d=="number")return d===f;return!1}},e=t.exports=r;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(s=97;s<123;s++)n[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)n[s-48]=s;for(s=1;s<13;s++)n["f"+s]=s+111;for(s=0;s<10;s++)n["numpad "+s]=s+96;var o=e.names=e.title={};for(s in n)o[n[s]]=s;for(var a in i)n[a]=i[a]})(BI,BI.exports);var W7e=BI.exports;const Mn=zs(W7e);var q7e=X7e;function X7e(t,e){var r,n=null;try{r=JSON.parse(t,e)}catch(i){n=i}return[n,r]}const Y7e=zs(q7e);var MR={exports:{}};function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},du.apply(this,arguments)}const K7e=Object.freeze(Object.defineProperty({__proto__:null,default:du},Symbol.toStringTag,{value:"Module"})),Z7e=hc(K7e);var Q7e=eVe,J7e=Object.prototype.toString;function eVe(t){if(!t)return!1;var e=J7e.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var tVe=eC,rVe=function(e,r){return r===void 0&&(r=!1),function(n,i,s){if(n){e(n);return}if(i.statusCode>=400&&i.statusCode<=599){var o=s;if(r)if(tVe.TextDecoder){var a=nVe(i.headers&&i.headers["content-type"]);try{o=new TextDecoder(a).decode(s)}catch{}}else o=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:o});return}e(null,s)}};function nVe(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,r){var n=r.split("="),i=n[0],s=n[1];return i.trim()==="charset"?s.trim():e},"utf-8")}var iVe=rVe,FJ=eC,sVe=Z7e,oVe=Q7e;rd.httpHandler=iVe;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var aVe=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(n){var i=n.indexOf(":"),s=n.slice(0,i).trim().toLowerCase(),o=n.slice(i+1).trim();typeof r[s]>"u"?r[s]=o:Array.isArray(r[s])?r[s].push(o):r[s]=[r[s],o]}),r};MR.exports=rd;MR.exports.default=rd;rd.XMLHttpRequest=FJ.XMLHttpRequest||dVe;rd.XDomainRequest="withCredentials"in new rd.XMLHttpRequest?rd.XMLHttpRequest:FJ.XDomainRequest;lVe(["get","put","post","patch","head","delete"],function(t){rd[t==="delete"?"del":t]=function(e,r,n){return r=NJ(e,r,n),r.method=t.toUpperCase(),BJ(r)}});function lVe(t,e){for(var r=0;r<t.length;r++)e(t[r])}function uVe(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function NJ(t,e,r){var n=t;return oVe(e)?(r=e,typeof t=="string"&&(n={uri:t})):n=sVe({},e,{uri:t}),n.callback=r,n}function rd(t,e,r){return e=NJ(t,e,r),BJ(e)}function BJ(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,r=function(E,C,P){e||(e=!0,t.callback(E,C,P))};function n(){a.readyState===4&&setTimeout(o,0)}function i(){var T=void 0;if(a.response?T=a.response:T=a.responseText||cVe(a),v)try{T=JSON.parse(T)}catch{}return T}function s(T){return clearTimeout(b),T instanceof Error||(T=new Error(""+(T||"Unknown XMLHttpRequest Error"))),T.statusCode=0,r(T,S)}function o(){if(!u){var T;clearTimeout(b),t.useXDR&&a.status===void 0?T=200:T=a.status===1223?204:a.status;var E=S,C=null;return T!==0?(E={body:i(),statusCode:T,method:f,headers:{},url:d,rawRequest:a},a.getAllResponseHeaders&&(E.headers=aVe(a.getAllResponseHeaders()))):C=new Error("Internal XMLHttpRequest Error"),r(C,E,E.body)}}var a=t.xhr||null;a||(t.cors||t.useXDR?a=new rd.XDomainRequest:a=new rd.XMLHttpRequest);var l,u,d=a.url=t.uri||t.url,f=a.method=t.method||"GET",h=t.body||t.data,g=a.headers=t.headers||{},p=!!t.sync,v=!1,b,S={body:void 0,headers:{},statusCode:0,method:f,url:d,rawRequest:a};if("json"in t&&t.json!==!1&&(v=!0,g.accept||g.Accept||(g.Accept="application/json"),f!=="GET"&&f!=="HEAD"&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),h=JSON.stringify(t.json===!0?h:t.json))),a.onreadystatechange=n,a.onload=o,a.onerror=s,a.onprogress=function(){},a.onabort=function(){u=!0},a.ontimeout=s,a.open(f,d,!p,t.username,t.password),p||(a.withCredentials=!!t.withCredentials),!p&&t.timeout>0&&(b=setTimeout(function(){if(!u){u=!0,a.abort("timeout");var T=new Error("XMLHttpRequest timeout");T.code="ETIMEDOUT",s(T)}},t.timeout)),a.setRequestHeader)for(l in g)g.hasOwnProperty(l)&&a.setRequestHeader(l,g[l]);else if(t.headers&&!uVe(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(a.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(a),a.send(h||null),a}function cVe(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function dVe(){}var fVe=MR.exports;const UJ=zs(fVe);var VJ={exports:{}},s7=LJ,RR=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function _l(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}_l.prototype=RR(Error.prototype);_l.prototype.constructor=_l;_l.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function $R(t){function e(n,i,s,o){return(n|0)*3600+(i|0)*60+(s|0)+(o|0)/1e3}var r=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function n2(){this.values=RR(null)}n2.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Sy(t,e,r,n){var i=n?t.split(n):[t];for(var s in i)if(typeof i[s]=="string"){var o=i[s].split(r);if(o.length===2){var a=o[0].trim(),l=o[1].trim();e(a,l)}}}function hVe(t,e,r){var n=t;function i(){var a=$R(t);if(a===null)throw new _l(_l.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function s(a,l){var u=new n2;Sy(a,function(d,f){switch(d){case"region":for(var h=r.length-1;h>=0;h--)if(r[h].id===f){u.set(d,r[h].region);break}break;case"vertical":u.alt(d,f,["rl","lr"]);break;case"line":var g=f.split(","),p=g[0];u.integer(d,p),u.percent(d,p)&&u.set("snapToLines",!1),u.alt(d,p,["auto"]),g.length===2&&u.alt("lineAlign",g[1],["start","center","end"]);break;case"position":g=f.split(","),u.percent(d,g[0]),g.length===2&&u.alt("positionAlign",g[1],["start","center","end"]);break;case"size":u.percent(d,f);break;case"align":u.alt(d,f,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),t.substr(0,3)!=="-->")throw new _l(_l.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),o(),e.endTime=i(),o(),s(t,e)}var o4=s7.createElement&&s7.createElement("textarea"),pVe={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},o7={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},mVe={v:"title",lang:"lang"},a7={rt:"ruby"};function zJ(t,e){function r(){if(!e)return null;function p(b){return e=e.substr(b.length),b}var v=e.match(/^([^<]*)(<[^>]*>?)?/);return p(v[1]?v[1]:v[2])}function n(p){return o4.innerHTML=p,p=o4.textContent,o4.textContent="",p}function i(p,v){return!a7[v.localName]||a7[v.localName]===p.localName}function s(p,v){var b=pVe[p];if(!b)return null;var S=t.document.createElement(b),T=mVe[p];return T&&v&&(S[T]=v.trim()),S}for(var o=t.document.createElement("div"),a=o,l,u=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),a=a.parentNode);continue}var d=$R(l.substr(1,l.length-2)),f;if(d){f=t.document.createProcessingInstruction("timestamp",d),a.appendChild(f);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(f=s(h[1],h[3]),!f)||!i(a,f))continue;if(h[2]){var g=h[2].split(".");g.forEach(function(p){var v=/^bg_/.test(p),b=v?p.slice(3):p;if(o7.hasOwnProperty(b)){var S=v?"background-color":"color",T=o7[b];f.style[S]=T}}),f.className=g.join(" ")}u.push(h[1]),a.appendChild(f),a=f;continue}a.appendChild(t.document.createTextNode(n(l)))}return o}var l7=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function gVe(t){for(var e=0;e<l7.length;e++){var r=l7[e];if(t>=r[0]&&t<=r[1])return!0}return!1}function vVe(t){var e=[],r="",n;if(!t||!t.childNodes)return"ltr";function i(a,l){for(var u=l.childNodes.length-1;u>=0;u--)a.push(l.childNodes[u])}function s(a){if(!a||!a.length)return null;var l=a.pop(),u=l.textContent||l.innerText;if(u){var d=u.match(/^.*(\n|\r)/);return d?(a.length=0,d[0]):u}if(l.tagName==="ruby")return s(a);if(l.childNodes)return i(a,l),s(a)}for(i(e,t);r=s(e);)for(var o=0;o<r.length;o++)if(n=r.charCodeAt(o),gVe(n))return"rtl";return"ltr"}function _Ve(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,n=0,i=0;i<r.length&&r[i]!==e;i++)r[i].mode==="showing"&&n++;return++n*-1}function tC(){}tC.prototype.applyStyles=function(t,e){e=e||this.div;for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r])};tC.prototype.formatStyle=function(t,e){return t===0?0:t+e};function iT(t,e,r){tC.call(this),this.cue=e,this.cueDiv=zJ(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:vVe(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":case"line-left":i=e.position;break;case"center":i=e.position-e.size/2;break;case"end":case"line-right":i=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}iT.prototype=RR(tC.prototype);iT.prototype.constructor=iT;function va(t){var e,r,n,i;if(t.div){r=t.div.offsetHeight,n=t.div.offsetWidth,i=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||r,this.bottom=t.bottom||i+(t.height||r),this.width=t.width||n,this.lineHeight=e!==void 0?e:t.lineHeight}va.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};va.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};va.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};va.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};va.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};va.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),r=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*r;return n/(this.height*this.width)};va.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};va.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var i={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||r};return i};function yVe(t,e,r,n){function i(b,S){for(var T,E=new va(b),C=1,P=0;P<S.length;P++){for(;b.overlapsOppositeAxis(r,S[P])||b.within(r)&&b.overlapsAny(n);)b.move(S[P]);if(b.within(r))return b;var D=b.intersectPercentage(r);C>D&&(T=new va(b),C=D),b=new va(E)}return T||E}var s=new va(e),o=e.cue,a=_Ve(o),l=[];if(o.snapToLines){var u;switch(o.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var d=s.lineHeight,f=d*Math.round(a),h=r[u]+d,g=l[0];Math.abs(f)>h&&(f=f<0?-1:1,f*=Math.ceil(h/d)*d),a<0&&(f+=o.vertical===""?r.height:r.width,l=l.reverse()),s.move(g,f)}else{var p=s.lineHeight/r.height*100;switch(o.lineAlign){case"center":a-=p/2;break;case"end":a-=p;break}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}l=["+y","-x","+x","-y"],s=new va(e)}var v=i(s,l);e.move(v.toCSSCompatValues(r))}function Qv(){}Qv.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};Qv.convertCueToDOMTree=function(t,e){return!t||!e?null:zJ(t,e)};var bVe=.05,xVe="sans-serif",wVe="1.5%";Qv.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=wVe,r.appendChild(n);function i(d){for(var f=0;f<d.length;f++)if(d[f].hasBeenReset||!d[f].displayState)return!0;return!1}if(!i(e)){for(var s=0;s<e.length;s++)n.appendChild(e[s].displayState);return}var o=[],a=va.getSimpleBoxPosition(n),l=Math.round(a.height*bVe*100)/100,u={font:l+"px "+xVe};(function(){for(var d,f,h=0;h<e.length;h++)f=e[h],d=new iT(t,f,u),n.appendChild(d.div),yVe(t,d,a,o),f.displayState=d.div,o.push(va.getSimpleBoxPosition(d))})()};Qv.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]};Qv.Parser.prototype={reportOrThrowError:function(t){if(t instanceof _l)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function r(){for(var d=e.buffer,f=0;f<d.length&&d[f]!=="\r"&&d[f]!==`
`;)++f;var h=d.substr(0,f);return d[f]==="\r"&&++f,d[f]===`
`&&++f,e.buffer=d.substr(f),h}function n(d){var f=new n2;if(Sy(d,function(g,p){switch(g){case"id":f.set(g,p);break;case"width":f.percent(g,p);break;case"lines":f.integer(g,p);break;case"regionanchor":case"viewportanchor":var v=p.split(",");if(v.length!==2)break;var b=new n2;if(b.percent("x",v[0]),b.percent("y",v[1]),!b.has("x")||!b.has("y"))break;f.set(g+"X",b.get("x")),f.set(g+"Y",b.get("y"));break;case"scroll":f.alt(g,p,["up"]);break}},/=/,/\s/),f.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=f.get("width",100),h.lines=f.get("lines",3),h.regionAnchorX=f.get("regionanchorX",0),h.regionAnchorY=f.get("regionanchorY",100),h.viewportAnchorX=f.get("viewportanchorX",0),h.viewportAnchorY=f.get("viewportanchorY",100),h.scroll=f.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:f.get("id"),region:h})}}function i(d){var f=new n2;Sy(d,function(h,g){switch(h){case"MPEGT":f.integer(h+"S",g);break;case"LOCA":f.set(h+"L",$R(g));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:f.get("MPEGTS"),LOCAL:f.get("LOCAL")})}function s(d){d.match(/X-TIMESTAMP-MAP/)?Sy(d,function(f,h){switch(f){case"X-TIMESTAMP-MAP":i(h);break}},/=/):Sy(d,function(f,h){switch(f){case"Region":n(h);break}},/:/)}try{var o;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;o=r();var a=o.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new _l(_l.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:o=r(),e.state){case"HEADER":/:/.test(o)?s(o):o||(e.state="ID");continue;case"NOTE":o||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){e.state="NOTE";break}if(!o)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",o.indexOf("-->")===-1){e.cue.id=o;continue}case"CUE":try{hVe(o,e.cue,e.regionList)}catch(d){e.reportOrThrowError(d),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=o.indexOf("-->")!==-1;if(!o||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=o.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":o||(e.state="ID");continue}}}catch(d){e.reportOrThrowError(d),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new _l(_l.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var SVe=Qv,TVe="auto",EVe={"":1,lr:1,rl:1},CVe={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function AVe(t){if(typeof t!="string")return!1;var e=EVe[t.toLowerCase()];return e?t.toLowerCase():!1}function a4(t){if(typeof t!="string")return!1;var e=CVe[t.toLowerCase()];return e?t.toLowerCase():!1}function jJ(t,e,r){this.hasBeenReset=!1;var n="",i=!1,s=t,o=e,a=r,l=null,u="",d=!0,f="auto",h="start",g="auto",p="auto",v=100,b="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(S){n=""+S}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(S){i=!!S}},startTime:{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number")throw new TypeError("Start time must be set to a number.");s=S,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!="number")throw new TypeError("End time must be set to a number.");o=S,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(S){a=""+S,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(S){l=S,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(S){var T=AVe(S);if(T===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=T,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(S){d=!!S,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(S){if(typeof S!="number"&&S!==TVe)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=S,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(S){var T=a4(S);T?(h=T,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return g},set:function(S){if(S<0||S>100)throw new Error("Position must be between 0 and 100.");g=S,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(S){var T=a4(S);T?(p=T,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return v},set:function(S){if(S<0||S>100)throw new Error("Size must be between 0 and 100.");v=S,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return b},set:function(S){var T=a4(S);if(!T)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");b=T,this.hasBeenReset=!0}}}),this.displayState=void 0}jJ.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var PVe=jJ,kVe={"":!0,up:!0};function IVe(t){if(typeof t!="string")return!1;var e=kVe[t.toLowerCase()];return e?t.toLowerCase():!1}function z_(t){return typeof t=="number"&&t>=0&&t<=100}function OVe(){var t=100,e=3,r=0,n=100,i=0,s=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(a){if(!z_(a))throw new Error("Width must be between 0 and 100.");t=a}},lines:{enumerable:!0,get:function(){return e},set:function(a){if(typeof a!="number")throw new TypeError("Lines must be set to a number.");e=a}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(a){if(!z_(a))throw new Error("RegionAnchorX must be between 0 and 100.");n=a}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(a){if(!z_(a))throw new Error("RegionAnchorY must be between 0 and 100.");r=a}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(a){if(!z_(a))throw new Error("ViewportAnchorY must be between 0 and 100.");s=a}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(a){if(!z_(a))throw new Error("ViewportAnchorX must be between 0 and 100.");i=a}},scroll:{enumerable:!0,get:function(){return o},set:function(a){var l=IVe(a);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):o=l}}})}var DVe=OVe,bf=eC,pm=VJ.exports={WebVTT:SVe,VTTCue:PVe,VTTRegion:DVe};bf.vttjs=pm;bf.WebVTT=pm.WebVTT;var MVe=pm.VTTCue,RVe=pm.VTTRegion,$Ve=bf.VTTCue,LVe=bf.VTTRegion;pm.shim=function(){bf.VTTCue=MVe,bf.VTTRegion=RVe};pm.restore=function(){bf.VTTCue=$Ve,bf.VTTRegion=LVe};bf.VTTCue||pm.shim();var FVe=VJ.exports;const u7=zs(FVe);var HJ={exports:{}};(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,u,d){if(d=d||{},l=l.trim(),u=u.trim(),!u){if(!d.alwaysNormalize)return l;var f=a.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");return f.path=a.normalizePath(f.path),a.buildURLFromParts(f)}var h=a.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return d.alwaysNormalize?(h.path=a.normalizePath(h.path),a.buildURLFromParts(h)):u;var g=a.parseURL(l);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&g.path[0]!=="/"){var p=i.exec(g.path);g.netLoc=p[1],g.path=p[2]}g.netLoc&&!g.path&&(g.path="/");var v={scheme:g.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(v.netLoc=g.netLoc,h.path[0]!=="/"))if(!h.path)v.path=g.path,h.params||(v.params=g.params,h.query||(v.query=g.query));else{var b=g.path,S=b.substring(0,b.lastIndexOf("/")+1)+h.path;v.path=a.normalizePath(S)}return v.path===null&&(v.path=d.alwaysNormalize?a.normalizePath(h.path):h.path),a.buildURLFromParts(v)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()})(HJ);var NVe=HJ.exports;const c7=zs(NVe);var d7="http://example.com",rC=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=Ze.location&&Ze.location.href||"");var n=typeof Ze.URL=="function",i=/^\/\//.test(e),s=!Ze.location&&!/\/\//i.test(e);if(n?e=new Ze.URL(e,Ze.location||d7):/\/\//i.test(e)||(e=c7.buildAbsoluteURL(Ze.location&&Ze.location.href||"",e)),n){var o=new URL(r,e);return s?o.href.slice(d7.length):i?o.href.slice(o.protocol.length):o.href}return c7.buildAbsoluteURL(e,r)},LR=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,i){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(i)},e.off=function(n,i){if(!this.listeners[n])return!1;var s=this.listeners[n].indexOf(i);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(s,1),s>-1},e.trigger=function(n){var i=this.listeners[n];if(i)if(arguments.length===2)for(var s=i.length,o=0;o<s;++o)i[o].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),l=i.length,u=0;u<l;++u)i[u].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(i){n.push(i)})},t}(),BVe=function(e){return Ze.atob?Ze.atob(e):Buffer.from(e,"base64").toString("binary")};function UVe(t){for(var e=BVe(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}/*! @name m3u8-parser @version 7.1.0 @license Apache-2.0 */class VVe extends LR{constructor(){super(),this.buffer=""}push(e){let r;for(this.buffer+=e,r=this.buffer.indexOf(`
`);r>-1;r=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,r)),this.buffer=this.buffer.substring(r+1)}}const zVe=String.fromCharCode(9),l4=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),r={};return e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),r},jVe=function(){const t="[^=]*",e='"[^"]*"|[^,]*',r="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+r+")")},cl=function(t){const e={};if(!t)return e;const r=t.split(jVe());let n=r.length,i;for(;n--;)r[n]!==""&&(i=/([^=]*)=(.*)/.exec(r[n]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e};class HVe extends LR{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let r,n;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,o)=>{const a=o(e);return a===e?s:s.concat([a])},[e]).forEach(s=>{for(let o=0;o<this.customParsers.length;o++)if(this.customParsers[o].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),r=/^#EXTM3U/.exec(s),r){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(r=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),r){n={type:"tag",tagType:"inf"},r[1]&&(n.duration=parseFloat(r[1])),r[2]&&(n.title=r[2]),this.trigger("data",n);return}if(r=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"targetduration"},r[1]&&(n.duration=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"version"},r[1]&&(n.version=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"media-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),r){n={type:"tag",tagType:"playlist-type"},r[1]&&(n.playlistType=r[1]),this.trigger("data",n);return}if(r=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),r){n=du(l4(r[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n);return}if(r=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),r){n={type:"tag",tagType:"allow-cache"},r[1]&&(n.allowed=!/NO/.test(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-MAP:(.*)$/.exec(s),r){if(n={type:"tag",tagType:"map"},r[1]){const o=cl(r[1]);o.URI&&(n.uri=o.URI),o.BYTERANGE&&(n.byterange=l4(o.BYTERANGE))}this.trigger("data",n);return}if(r=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),r){if(n={type:"tag",tagType:"stream-inf"},r[1]){if(n.attributes=cl(r[1]),n.attributes.RESOLUTION){const o=n.attributes.RESOLUTION.split("x"),a={};o[0]&&(a.width=parseInt(o[0],10)),o[1]&&(a.height=parseInt(o[1],10)),n.attributes.RESOLUTION=a}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA:(.*)$/.exec(s),r){n={type:"tag",tagType:"media"},r[1]&&(n.attributes=cl(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-ENDLIST/.exec(s),r){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(r=/^#EXT-X-DISCONTINUITY/.exec(s),r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(r=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),r){n={type:"tag",tagType:"program-date-time"},r[1]&&(n.dateTimeString=r[1],n.dateTimeObject=new Date(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-KEY:(.*)$/.exec(s),r){n={type:"tag",tagType:"key"},r[1]&&(n.attributes=cl(r[1]),n.attributes.IV&&(n.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),this.trigger("data",n);return}if(r=/^#EXT-X-START:(.*)$/.exec(s),r){n={type:"tag",tagType:"start"},r[1]&&(n.attributes=cl(r[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),r){n={type:"tag",tagType:"cue-out-cont"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),r){n={type:"tag",tagType:"cue-out"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-IN:(.*)?$/.exec(s),r){n={type:"tag",tagType:"cue-in"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-SKIP:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"skip"},n.attributes=cl(r[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(zVe)),this.trigger("data",n);return}if(r=/^#EXT-X-PART:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"part"},n.attributes=cl(r[1]),["DURATION"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["INDEPENDENT","GAP"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/.test(n.attributes[o]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=l4(n.attributes.BYTERANGE)),this.trigger("data",n);return}if(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"server-control"},n.attributes=cl(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/.test(n.attributes[o]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PART-INF:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"part-inf"},n.attributes=cl(r[1]),["PART-TARGET"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"preload-hint"},n.attributes=cl(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(o){if(n.attributes.hasOwnProperty(o)){n.attributes[o]=parseInt(n.attributes[o],10);const a=o==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[a]=n.attributes[o],delete n.attributes[o]}}),this.trigger("data",n);return}if(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"rendition-report"},n.attributes=cl(r[1]),["LAST-MSN","LAST-PART"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseInt(n.attributes[o],10))}),this.trigger("data",n);return}if(r=/^#EXT-X-DATERANGE:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"daterange"},n.attributes=cl(r[1]),["ID","CLASS"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=String(n.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=new Date(n.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/i.test(n.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=n.attributes[a].toString(16))});const o=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in n.attributes){if(!o.test(a))continue;const l=/[0-9A-Fa-f]{6}/g.test(n.attributes[a]),u=/^\d+(\.\d+)?$/.test(n.attributes[a]);n.attributes[a]=l?n.attributes[a].toString(16):u?parseFloat(n.attributes[a]):String(n.attributes[a])}this.trigger("data",n);return}if(r=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),r){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(r=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(s),r){n={type:"tag",tagType:"content-steering"},n.attributes=cl(r[1]),this.trigger("data",n);return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:r,dataParser:n,segment:i}){typeof n!="function"&&(n=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:n(s),customType:r,segment:i}),!0})}addTagMapper({expression:e,map:r}){const n=i=>e.test(i)?r(i):i;this.tagMappers.push(n)}}const GVe=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Zf=function(t){const e={};return Object.keys(t).forEach(function(r){e[GVe(r)]=t[r]}),e},u4=function(t){const{serverControl:e,targetDuration:r,partTargetDuration:n}=t;if(!e)return;const i="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",a=r&&r*3,l=n&&n*2;r&&!e.hasOwnProperty(s)&&(e[s]=a,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${a}).`})),a&&e[s]<a&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${a})`}),e[s]=a),n&&!e.hasOwnProperty(o)&&(e[o]=n*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[o]}).`})),n&&e[o]<l&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[o]}) to partTargetDuration * 2 (${l}).`}),e[o]=l)};class WVe extends LR{constructor(){super(),this.lineStream=new VVe,this.parseStream=new HVe,this.lineStream.pipe(this.parseStream),this.lastProgramDateTime=null;const e=this,r=[];let n={},i,s,o=!1;const a=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let d=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],segments:[]};let f=0,h=0;const g={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&i&&(n.map=i),!n.key&&s&&(n.key=s),!n.timeline&&typeof d=="number"&&(n.timeline=d),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(p){let v,b;({tag(){({version(){p.version&&(this.manifest.version=p.version)},"allow-cache"(){this.manifest.allowCache=p.allowed,"allowed"in p||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const S={};"length"in p&&(n.byterange=S,S.length=p.length,"offset"in p||(p.offset=f)),"offset"in p&&(n.byterange=S,S.offset=p.offset),f=S.offset+S.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),p.title&&(n.title=p.title),p.duration>0&&(n.duration=p.duration),p.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!p.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(p.attributes.METHOD==="NONE"){s=null;return}if(!p.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(p.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:p.attributes};return}if(p.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:p.attributes.URI};return}if(p.attributes.KEYFORMAT===u){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(p.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(p.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),p.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(p.attributes.KEYID&&p.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:p.attributes.KEYFORMAT,keyId:p.attributes.KEYID.substring(2)},pssh:UVe(p.attributes.URI.split(",")[1])};return}p.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:p.attributes.METHOD||"AES-128",uri:p.attributes.URI},typeof p.attributes.IV<"u"&&(s.iv=p.attributes.IV)},"media-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+p.number});return}this.manifest.mediaSequence=p.number},"discontinuity-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+p.number});return}this.manifest.discontinuitySequence=p.number,d=p.number},"playlist-type"(){if(!/VOD|EVENT/.test(p.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+p.playlist});return}this.manifest.playlistType=p.playlistType},map(){i={},p.uri&&(i.uri=p.uri),p.byterange&&(i.byterange=p.byterange),s&&(i.key=s)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||l,!p.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),du(n.attributes,p.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(p.attributes&&p.attributes.TYPE&&p.attributes["GROUP-ID"]&&p.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const S=this.manifest.mediaGroups[p.attributes.TYPE];S[p.attributes["GROUP-ID"]]=S[p.attributes["GROUP-ID"]]||{},v=S[p.attributes["GROUP-ID"]],b={default:/yes/i.test(p.attributes.DEFAULT)},b.default?b.autoselect=!0:b.autoselect=/yes/i.test(p.attributes.AUTOSELECT),p.attributes.LANGUAGE&&(b.language=p.attributes.LANGUAGE),p.attributes.URI&&(b.uri=p.attributes.URI),p.attributes["INSTREAM-ID"]&&(b.instreamId=p.attributes["INSTREAM-ID"]),p.attributes.CHARACTERISTICS&&(b.characteristics=p.attributes.CHARACTERISTICS),p.attributes.FORCED&&(b.forced=/yes/i.test(p.attributes.FORCED)),v[p.attributes.NAME]=b},discontinuity(){d+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=p.dateTimeString,this.manifest.dateTimeObject=p.dateTimeObject),n.dateTimeString=p.dateTimeString,n.dateTimeObject=p.dateTimeObject;const{lastProgramDateTime:S}=this;this.lastProgramDateTime=new Date(p.dateTimeString).getTime(),S===null&&this.manifest.segments.reduceRight((T,E)=>(E.programDateTime=T-E.duration*1e3,E.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(p.duration)||p.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+p.duration});return}this.manifest.targetDuration=p.duration,u4.call(this,this.manifest)},start(){if(!p.attributes||isNaN(p.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:p.attributes["TIME-OFFSET"],precise:p.attributes.PRECISE}},"cue-out"(){n.cueOut=p.data},"cue-out-cont"(){n.cueOutCont=p.data},"cue-in"(){n.cueIn=p.data},skip(){this.manifest.skip=Zf(p.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",p.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const S=this.manifest.segments.length,T=Zf(p.attributes);n.parts=n.parts||[],n.parts.push(T),T.byterange&&(T.byterange.hasOwnProperty("offset")||(T.byterange.offset=h),h=T.byterange.offset+T.byterange.length);const E=n.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${E} for segment #${S}`,p.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((C,P)=>{C.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${P} lacks required attribute(s): LAST-PART`})})},"server-control"(){const S=this.manifest.serverControl=Zf(p.attributes);S.hasOwnProperty("canBlockReload")||(S.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),u4.call(this,this.manifest),S.canSkipDateranges&&!S.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const S=this.manifest.segments.length,T=Zf(p.attributes),E=T.type&&T.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(T),T.byterange&&(T.byterange.hasOwnProperty("offset")||(T.byterange.offset=E?h:0,E&&(h=T.byterange.offset+T.byterange.length)));const C=n.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${C} for segment #${S}`,p.attributes,["TYPE","URI"]),!!T.type)for(let P=0;P<n.preloadHints.length-1;P++){const D=n.preloadHints[P];D.type&&D.type===T.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${C} for segment #${S} has the same TYPE ${T.type} as preload hint #${P}`})}},"rendition-report"(){const S=Zf(p.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(S);const T=this.manifest.renditionReports.length-1,E=["LAST-MSN","URI"];o&&E.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${T}`,p.attributes,E)},"part-inf"(){this.manifest.partInf=Zf(p.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",p.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),u4.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Zf(p.attributes));const S=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${S}`,p.attributes,["ID","START-DATE"]);const T=this.manifest.dateRanges[S];T.endDate&&T.startDate&&new Date(T.endDate)<new Date(T.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),T.duration&&T.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),T.plannedDuration&&T.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const E=!!T.endOnNext;if(E&&!T.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),E&&(T.duration||T.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),T.duration&&T.endDate){const P=T.startDate.getTime()+T.duration*1e3;this.manifest.dateRanges[S].endDate=new Date(P)}if(!g[T.id])g[T.id]=T;else{for(const P in g[T.id])if(T[P]&&JSON.stringify(g[T.id][P])!==JSON.stringify(T[P])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const C=this.manifest.dateRanges.findIndex(P=>P.id===T.id);this.manifest.dateRanges[C]=du(this.manifest.dateRanges[C],T),g[T.id]=du(g[T.id],T),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"content-steering"(){this.manifest.contentSteering=Zf(p.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",p.attributes,["SERVER-URI"])}}[p.tagType]||a).call(e)},uri(){n.uri=p.uri,r.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),s&&(n.key=s),n.timeline=d,i&&(n.map=i),h=0,this.lastProgramDateTime!==null&&(n.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=n.duration*1e3),n={}},comment(){},custom(){p.segment?(n.custom=n.custom||{},n.custom[p.customType]=p.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[p.customType]=p.data)}})[p.type].call(e)})}warnOnMissingAttributes_(e,r,n){const i=[];n.forEach(function(s){r.hasOwnProperty(s)||i.push(s)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var C0={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},qVe=["video","audio","text"],f7=["Video","Audio","Text"],GJ=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,n,i){var s=("00"+Number(n).toString(16)).slice(-2),o=("00"+Number(i).toString(16)).slice(-2);return"avc1."+s+"00"+o})},Rc=function(e){e===void 0&&(e="");var r=e.split(","),n=[];return r.forEach(function(i){i=i.trim();var s;qVe.forEach(function(o){var a=C0[o].exec(i.toLowerCase());if(!(!a||a.length<=1)){s=o;var l=i.substring(0,a[1].length),u=i.replace(l,"");n.push({type:l,details:u,mediaType:o})}}),s||n.push({type:i,details:"",mediaType:"unknown"})}),n},XVe=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var n=e.mediaGroups.AUDIO[r];if(!n)return null;for(var i in n){var s=n[i];if(s.default&&s.playlists)return Rc(s.playlists[0].attributes.CODECS)}return null},WJ=function(e){return e===void 0&&(e=""),C0.audio.test(e.trim().toLowerCase())},YVe=function(e){return e===void 0&&(e=""),C0.text.test(e.trim().toLowerCase())},ib=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(s){return GJ(s.trim())}),n="video";r.length===1&&WJ(r[0])?n="audio":r.length===1&&YVe(r[0])&&(n="application");var i="mp4";return r.every(function(s){return C0.mp4.test(s)})?i="mp4":r.every(function(s){return C0.webm.test(s)})?i="webm":r.every(function(s){return C0.ogg.test(s)})&&(i="ogg"),n+"/"+i+';codecs="'+e+'"'}},Xw=function(e){return e===void 0&&(e=""),Ze.MediaSource&&Ze.MediaSource.isTypeSupported&&Ze.MediaSource.isTypeSupported(ib(e))||!1},c4=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var n=0;n<f7.length;n++){var i=f7[n];if(C0["muxer"+i].test(r))return!0}return!1})},h7="mp4a.40.2",KVe="avc1.4d400d",ZVe=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,QVe=/^application\/dash\+xml/i,qJ=function(e){return ZVe.test(e)?"hls":QVe.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},JVe=function(e){return e.toString(2).length},eze=function(e){return Math.ceil(JVe(e)/8)},XJ=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},tze=function(e){return XJ(e)},hn=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!tze(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Lo=Ze.BigInt||Number,UI=[Lo("0x1"),Lo("0x100"),Lo("0x10000"),Lo("0x1000000"),Lo("0x100000000"),Lo("0x10000000000"),Lo("0x1000000000000"),Lo("0x100000000000000"),Lo("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var rze=function(e,r){var n=r===void 0?{}:r,i=n.signed,s=i===void 0?!1:i,o=n.le,a=o===void 0?!1:o;e=hn(e);var l=a?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],d=u.call(e,function(h,g,p){var v=a?p:Math.abs(p+1-e.length);return h+Lo(g)*UI[v]},Lo(0));if(s){var f=UI[e.length]/Lo(2)-Lo(1);d=Lo(d),d>f&&(d-=f,d-=f,d-=Lo(2))}return Number(d)},nze=function(e,r){var n=r===void 0?{}:r,i=n.le,s=i===void 0?!1:i;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Lo(e);for(var o=eze(e),a=new Uint8Array(new ArrayBuffer(o)),l=0;l<o;l++){var u=s?l:Math.abs(l+1-a.length);a[u]=Number(e/UI[l]&Lo(255)),e<0&&(a[u]=Math.abs(~a[u]),a[u]-=l===0?1:2)}return a},YJ=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},ize=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r=r.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),r.length<=1)return hn(r[0]);var i=r.reduce(function(a,l,u){return a+(l.byteLength||l.length)},0),s=new Uint8Array(i),o=0;return r.forEach(function(a){a=hn(a),s.set(a,o),o+=a.byteLength}),s},cs=function(e,r,n){var i=n===void 0?{}:n,s=i.offset,o=s===void 0?0:s,a=i.mask,l=a===void 0?[]:a;e=hn(e),r=hn(r);var u=r.every?r.every:Array.prototype.every;return r.length&&e.length-o>=r.length&&u.call(r,function(d,f){var h=l[f]?l[f]&e[o+f]:e[o+f];return d===h})},sze=function(e,r,n){r.forEach(function(i){for(var s in e.mediaGroups[i])for(var o in e.mediaGroups[i][s]){var a=e.mediaGroups[i][s][o];n(a,i,s,o)}})},oze=function(e){return Ze.atob?Ze.atob(e):Buffer.from(e,"base64").toString("binary")};function aze(t){for(var e=oze(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}var ip={},$f={};function lze(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(e.call(void 0,i,n,t))return i}}function FR(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function uze(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var KJ=FR({HTML:"text/html",isHTML:function(t){return t===KJ.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),ZJ=FR({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===ZJ.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});$f.assign=uze;$f.find=lze;$f.freeze=FR;$f.MIME_TYPE=KJ;$f.NAMESPACE=ZJ;var QJ=$f,nd=QJ.find,sb=QJ.NAMESPACE;function cze(t){return t!==""}function dze(t){return t?t.split(/[\t\n\f\r ]+/).filter(cze):[]}function fze(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function p7(t){if(!t)return[];var e=dze(t);return Object.keys(e.reduce(fze,{}))}function hze(t){return function(e){return t&&t.indexOf(e)!==-1}}function o1(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function il(t,e){var r=t.prototype;if(!(r instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,o1(r,n),t.prototype=r=n}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var sl={},Qu=sl.ELEMENT_NODE=1,nv=sl.ATTRIBUTE_NODE=2,sT=sl.TEXT_NODE=3,JJ=sl.CDATA_SECTION_NODE=4,eee=sl.ENTITY_REFERENCE_NODE=5,pze=sl.ENTITY_NODE=6,tee=sl.PROCESSING_INSTRUCTION_NODE=7,ree=sl.COMMENT_NODE=8,nee=sl.DOCUMENT_NODE=9,iee=sl.DOCUMENT_TYPE_NODE=10,xf=sl.DOCUMENT_FRAGMENT_NODE=11,mze=sl.NOTATION_NODE=12,oa={},Po={};oa.INDEX_SIZE_ERR=(Po[1]="Index size error",1);oa.DOMSTRING_SIZE_ERR=(Po[2]="DOMString size error",2);var Ha=oa.HIERARCHY_REQUEST_ERR=(Po[3]="Hierarchy request error",3);oa.WRONG_DOCUMENT_ERR=(Po[4]="Wrong document",4);oa.INVALID_CHARACTER_ERR=(Po[5]="Invalid character",5);oa.NO_DATA_ALLOWED_ERR=(Po[6]="No data allowed",6);oa.NO_MODIFICATION_ALLOWED_ERR=(Po[7]="No modification allowed",7);var see=oa.NOT_FOUND_ERR=(Po[8]="Not found",8);oa.NOT_SUPPORTED_ERR=(Po[9]="Not supported",9);var m7=oa.INUSE_ATTRIBUTE_ERR=(Po[10]="Attribute in use",10);oa.INVALID_STATE_ERR=(Po[11]="Invalid state",11);oa.SYNTAX_ERR=(Po[12]="Syntax error",12);oa.INVALID_MODIFICATION_ERR=(Po[13]="Invalid modification",13);oa.NAMESPACE_ERR=(Po[14]="Invalid namespace",14);oa.INVALID_ACCESS_ERR=(Po[15]="Invalid access",15);function Ns(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,Po[t]),this.message=Po[t],Error.captureStackTrace&&Error.captureStackTrace(this,Ns);return r.code=t,e&&(this.message=this.message+": "+e),r}Ns.prototype=Error.prototype;o1(oa,Ns);function ff(){}ff.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)eg(this[n],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function iv(t,e){this._node=t,this._refresh=e,NR(this)}function NR(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(vee(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var n=r.length;n in t;n++)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];o1(r,t),t._inc=e}}iv.prototype.item=function(t){return NR(this),this[t]||null};il(iv,ff);function oT(){}function oee(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function g7(t,e,r,n){if(n?e[oee(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&uee(i,t,n),gze(i,t,r))}}function v7(t,e,r){var n=oee(e,r);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var s=t.ownerDocument;s&&(uee(s,t,r),r.ownerElement=null)}}else throw new Ns(see,new Error(t.tagName+"@"+r))}oT.prototype={length:0,item:ff.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Ns(m7);var r=this.getNamedItem(t.nodeName);return g7(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new Ns(m7);return r=this.getNamedItemNS(t.namespaceURI,t.localName),g7(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return v7(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return v7(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function aee(){}aee.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new a1;if(n.implementation=this,n.childNodes=new ff,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new nC;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}};function Mi(){}Mi.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return aT(this,t,e)},replaceChild:function(t,e){aT(this,t,e,dee),e&&this.removeChild(e)},removeChild:function(t){return cee(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return VI(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==sT&&t.nodeType==sT?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===t)return n}e=e.nodeType==nv?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==nv?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function lee(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}o1(sl,Mi);o1(sl,Mi.prototype);function ob(t,e){if(e(t))return!0;if(t=t.firstChild)do if(ob(t,e))return!0;while(t=t.nextSibling)}function a1(){this.ownerDocument=this}function gze(t,e,r){t&&t._inc++;var n=r.namespaceURI;n===sb.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function uee(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;i===sb.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function BR(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,s=0;i;)n[s++]=i,i=i.nextSibling;n.length=s,delete n[n.length]}}}function cee(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,BR(t.ownerDocument,t),e}function vze(t){return t&&(t.nodeType===Mi.DOCUMENT_NODE||t.nodeType===Mi.DOCUMENT_FRAGMENT_NODE||t.nodeType===Mi.ELEMENT_NODE)}function _ze(t){return t&&(sd(t)||UR(t)||wf(t)||t.nodeType===Mi.DOCUMENT_FRAGMENT_NODE||t.nodeType===Mi.COMMENT_NODE||t.nodeType===Mi.PROCESSING_INSTRUCTION_NODE)}function wf(t){return t&&t.nodeType===Mi.DOCUMENT_TYPE_NODE}function sd(t){return t&&t.nodeType===Mi.ELEMENT_NODE}function UR(t){return t&&t.nodeType===Mi.TEXT_NODE}function _7(t,e){var r=t.childNodes||[];if(nd(r,sd)||wf(e))return!1;var n=nd(r,wf);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function y7(t,e){var r=t.childNodes||[];function n(s){return sd(s)&&s!==e}if(nd(r,n))return!1;var i=nd(r,wf);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function yze(t,e,r){if(!vze(t))throw new Ns(Ha,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new Ns(see,"child not in parent");if(!_ze(e)||wf(e)&&t.nodeType!==Mi.DOCUMENT_NODE)throw new Ns(Ha,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function bze(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Mi.DOCUMENT_FRAGMENT_NODE){var s=i.filter(sd);if(s.length>1||nd(i,UR))throw new Ns(Ha,"More than one element or text in fragment");if(s.length===1&&!_7(t,r))throw new Ns(Ha,"Element in fragment can not be inserted before doctype")}if(sd(e)&&!_7(t,r))throw new Ns(Ha,"Only one element can be added and only after doctype");if(wf(e)){if(nd(n,wf))throw new Ns(Ha,"Only one doctype is allowed");var o=nd(n,sd);if(r&&n.indexOf(o)<n.indexOf(r))throw new Ns(Ha,"Doctype can only be inserted before an element");if(!r&&o)throw new Ns(Ha,"Doctype can not be appended since element is present")}}function dee(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Mi.DOCUMENT_FRAGMENT_NODE){var s=i.filter(sd);if(s.length>1||nd(i,UR))throw new Ns(Ha,"More than one element or text in fragment");if(s.length===1&&!y7(t,r))throw new Ns(Ha,"Element in fragment can not be inserted before doctype")}if(sd(e)&&!y7(t,r))throw new Ns(Ha,"Only one element can be added and only after doctype");if(wf(e)){if(nd(n,function(l){return wf(l)&&l!==r}))throw new Ns(Ha,"Only one doctype is allowed");var o=nd(n,sd);if(r&&n.indexOf(o)<n.indexOf(r))throw new Ns(Ha,"Doctype can only be inserted before an element")}}function aT(t,e,r,n){yze(t,e,r),t.nodeType===Mi.DOCUMENT_NODE&&(n||bze)(t,e,r);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===xf){var s=e.firstChild;if(s==null)return e;var o=e.lastChild}else s=o=e;var a=r?r.previousSibling:t.lastChild;s.previousSibling=a,o.nextSibling=r,a?a.nextSibling=s:t.firstChild=s,r==null?t.lastChild=o:r.previousSibling=o;do s.parentNode=t;while(s!==o&&(s=s.nextSibling));return BR(t.ownerDocument||t,t),e.nodeType==xf&&(e.firstChild=e.lastChild=null),e}function xze(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,BR(t.ownerDocument,t,e),e}a1.prototype={nodeName:"#document",nodeType:nee,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==xf){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return aT(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===Qu&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),cee(this,t)},replaceChild:function(t,e){aT(this,t,e,dee),t.ownerDocument=this,e&&this.removeChild(e),sd(t)&&(this.documentElement=t)},importNode:function(t,e){return gee(this,t,e)},getElementById:function(t){var e=null;return ob(this.documentElement,function(r){if(r.nodeType==Qu&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=p7(t);return new iv(this,function(r){var n=[];return e.length>0&&ob(r.documentElement,function(i){if(i!==r&&i.nodeType===Qu){var s=i.getAttribute("class");if(s){var o=t===s;if(!o){var a=p7(s);o=e.every(hze(a))}o&&n.push(i)}}}),n})},createElement:function(t){var e=new q0;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new ff;var r=e.attributes=new oT;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new iC;return t.ownerDocument=this,t.childNodes=new ff,t},createTextNode:function(t){var e=new VR;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new zR;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new jR;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new GR;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new lT;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new HR;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new q0,n=e.split(":"),i=r.attributes=new oT;return r.childNodes=new ff,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new lT,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}};il(a1,Mi);function q0(){this._nsMap={}}q0.prototype={nodeType:Qu,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===xf?this.insertBefore(t,null):xze(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new iv(this,function(e){var r=[];return ob(e,function(n){n!==e&&n.nodeType==Qu&&(t==="*"||n.tagName==t)&&r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new iv(this,function(r){var n=[];return ob(r,function(i){i!==r&&i.nodeType===Qu&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}};a1.prototype.getElementsByTagName=q0.prototype.getElementsByTagName;a1.prototype.getElementsByTagNameNS=q0.prototype.getElementsByTagNameNS;il(q0,Mi);function lT(){}lT.prototype.nodeType=nv;il(lT,Mi);function l1(){}l1.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Po[Ha])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),i=this.data.substring(t+e);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};il(l1,Mi);function VR(){}VR.prototype={nodeName:"#text",nodeType:sT,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};il(VR,l1);function zR(){}zR.prototype={nodeName:"#comment",nodeType:ree};il(zR,l1);function jR(){}jR.prototype={nodeName:"#cdata-section",nodeType:JJ};il(jR,l1);function nC(){}nC.prototype.nodeType=iee;il(nC,Mi);function fee(){}fee.prototype.nodeType=mze;il(fee,Mi);function hee(){}hee.prototype.nodeType=pze;il(hee,Mi);function HR(){}HR.prototype.nodeType=eee;il(HR,Mi);function iC(){}iC.prototype.nodeName="#document-fragment";iC.prototype.nodeType=xf;il(iC,Mi);function GR(){}GR.prototype.nodeType=tee;il(GR,Mi);function pee(){}pee.prototype.serializeToString=function(t,e,r){return mee.call(t,e,r)};Mi.prototype.toString=mee;function mee(t,e){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,s=n.namespaceURI;if(s&&i==null){var i=n.lookupPrefix(s);if(i==null)var o=[{namespace:s,prefix:null}]}return eg(this,r,t,e,o),r.join("")}function b7(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!i||n==="xml"&&i===sb.XML||i===sb.XMLNS)return!1;for(var s=r.length;s--;){var o=r[s];if(o.prefix===n)return o.namespace!==i}return!0}function d4(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,lee),'"')}function eg(t,e,r,n,i){if(i||(i=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Qu:var s=t.attributes,o=s.length,S=t.firstChild,a=t.tagName;r=sb.isHTML(t.namespaceURI)||r;var l=a;if(!r&&!t.prefix&&t.namespaceURI){for(var u,d=0;d<s.length;d++)if(s.item(d).name==="xmlns"){u=s.item(d).value;break}if(!u)for(var f=i.length-1;f>=0;f--){var h=i[f];if(h.prefix===""&&h.namespace===t.namespaceURI){u=h.namespace;break}}if(u!==t.namespaceURI)for(var f=i.length-1;f>=0;f--){var h=i[f];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+a);break}}}e.push("<",l);for(var g=0;g<o;g++){var p=s.item(g);p.prefix=="xmlns"?i.push({prefix:p.localName,namespace:p.value}):p.nodeName=="xmlns"&&i.push({prefix:"",namespace:p.value})}for(var g=0;g<o;g++){var p=s.item(g);if(b7(p,r,i)){var v=p.prefix||"",b=p.namespaceURI;d4(e,v?"xmlns:"+v:"xmlns",b),i.push({prefix:v,namespace:b})}eg(p,e,r,n,i)}if(a===l&&b7(t,r,i)){var v=t.prefix||"",b=t.namespaceURI;d4(e,v?"xmlns:"+v:"xmlns",b),i.push({prefix:v,namespace:b})}if(S||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),r&&/^script$/i.test(a))for(;S;)S.data?e.push(S.data):eg(S,e,r,n,i.slice()),S=S.nextSibling;else for(;S;)eg(S,e,r,n,i.slice()),S=S.nextSibling;e.push("</",l,">")}else e.push("/>");return;case nee:case xf:for(var S=t.firstChild;S;)eg(S,e,r,n,i.slice()),S=S.nextSibling;return;case nv:return d4(e,t.name,t.value);case sT:return e.push(t.data.replace(/[<&>]/g,lee));case JJ:return e.push("<![CDATA[",t.data,"]]>");case ree:return e.push("<!--",t.data,"-->");case iee:var T=t.publicId,E=t.systemId;if(e.push("<!DOCTYPE ",t.name),T)e.push(" PUBLIC ",T),E&&E!="."&&e.push(" ",E),e.push(">");else if(E&&E!=".")e.push(" SYSTEM ",E,">");else{var C=t.internalSubset;C&&e.push(" [",C,"]"),e.push(">")}return;case tee:return e.push("<?",t.target," ",t.data,"?>");case eee:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function gee(t,e,r){var n;switch(e.nodeType){case Qu:n=e.cloneNode(!1),n.ownerDocument=t;case xf:break;case nv:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(gee(t,i,r)),i=i.nextSibling;return n}function VI(t,e,r){var n=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s!="object"&&s!=n[i]&&(n[i]=s)}switch(e.childNodes&&(n.childNodes=new ff),n.ownerDocument=t,n.nodeType){case Qu:var o=e.attributes,a=n.attributes=new oT,l=o.length;a._ownerElement=n;for(var u=0;u<l;u++)n.setAttributeNode(VI(t,o.item(u),!0));break;case nv:r=!0}if(r)for(var d=e.firstChild;d;)n.appendChild(VI(t,d,r)),d=d.nextSibling;return n}function vee(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Qu:case xf:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(iv.prototype,"length",{get:function(){return NR(this),this.$$length}}),Object.defineProperty(Mi.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Qu:case xf:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),vee=function(e,r,n){e["$$"+r]=n}}}catch{}ip.DocumentType=nC;ip.DOMException=Ns;ip.DOMImplementation=aee;ip.Element=q0;ip.Node=Mi;ip.NodeList=ff;ip.XMLSerializer=pee;var sC={},_ee={};(function(t){var e=$f.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(_ee);var WR={},ab=$f.NAMESPACE,zI=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x7=new RegExp("[\\-\\.0-9"+zI.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),w7=new RegExp("^"+zI.source+x7.source+"*(?::"+zI.source+x7.source+"*)?$"),j_=0,Qf=1,Dm=2,H_=3,Mm=4,Rm=5,G_=6,cx=7;function sv(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,sv)}sv.prototype=new Error;sv.prototype.name=sv.name;function yee(){}yee.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),bee(e,e={}),wze(t,e,r,n,this.errorHandler),n.endDocument()}};function wze(t,e,r,n,i){function s(Y){if(Y>65535){Y-=65536;var ee=55296+(Y>>10),ae=56320+(Y&1023);return String.fromCharCode(ee,ae)}else return String.fromCharCode(Y)}function o(Y){var ee=Y.slice(1,-1);return Object.hasOwnProperty.call(r,ee)?r[ee]:ee.charAt(0)==="#"?s(parseInt(ee.substr(1).replace("x","0x"))):(i.error("entity not found:"+Y),Y)}function a(Y){if(Y>v){var ee=t.substring(v,Y).replace(/&#?\w+;/g,o);h&&l(v),n.characters(ee,0,Y-v),v=Y}}function l(Y,ee){for(;Y>=d&&(ee=f.exec(t));)u=ee.index,d=u+ee[0].length,h.lineNumber++;h.columnNumber=Y-u+1}for(var u=0,d=0,f=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,g=[{currentNSMap:e}],p={},v=0;;){try{var b=t.indexOf("<",v);if(b<0){if(!t.substr(v).match(/^\s*$/)){var S=n.doc,T=S.createTextNode(t.substr(v));S.appendChild(T),n.currentElement=T}return}switch(b>v&&a(b),t.charAt(b+1)){case"/":var q=t.indexOf(">",b+3),E=t.substring(b+2,q).replace(/[ \t\n\r]+$/g,""),C=g.pop();q<0?(E=t.substring(b+2).replace(/[\s<].*/,""),i.error("end tag name: "+E+" is not complete:"+C.tagName),q=b+1+E.length):E.match(/\s</)&&(E=E.replace(/[\s<].*/,""),i.error("end tag name: "+E+" maybe not complete"),q=b+1+E.length);var P=C.localNSMap,D=C.tagName==E,L=D||C.tagName&&C.tagName.toLowerCase()==E.toLowerCase();if(L){if(n.endElement(C.uri,C.localName,E),P)for(var j in P)Object.prototype.hasOwnProperty.call(P,j)&&n.endPrefixMapping(j);D||i.fatalError("end tag name: "+E+" is not match the current start tagName:"+C.tagName)}else g.push(C);q++;break;case"?":h&&l(b),q=Aze(t,b,n);break;case"!":h&&l(b),q=Cze(t,b,n,i);break;default:h&&l(b);var te=new xee,se=g[g.length-1].currentNSMap,q=Sze(t,b,te,se,o,i),X=te.length;if(!te.closed&&Eze(t,q,te.tagName,p)&&(te.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),h&&X){for(var Q=S7(h,{}),$=0;$<X;$++){var V=te[$];l(V.offset),V.locator=S7(h,{})}n.locator=Q,T7(te,n,se)&&g.push(te),n.locator=h}else T7(te,n,se)&&g.push(te);ab.isHTML(te.uri)&&!te.closed?q=Tze(t,q,te.tagName,o,n):q++}}catch(Y){if(Y instanceof sv)throw Y;i.error("element parse error: "+Y),q=-1}q>v?v=q:a(Math.max(b,v)+1)}}function S7(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function Sze(t,e,r,n,i,s){function o(h,g,p){r.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),r.addValue(h,g.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),p)}for(var a,l,u=++e,d=j_;;){var f=t.charAt(u);switch(f){case"=":if(d===Qf)a=t.slice(e,u),d=H_;else if(d===Dm)d=H_;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===H_||d===Qf)if(d===Qf&&(s.warning('attribute value must after "="'),a=t.slice(e,u)),e=u+1,u=t.indexOf(f,e),u>0)l=t.slice(e,u),o(a,l,e-1),d=Rm;else throw new Error("attribute value no end '"+f+"' match");else if(d==Mm)l=t.slice(e,u),o(a,l,e),s.warning('attribute "'+a+'" missed start quot('+f+")!!"),e=u+1,d=Rm;else throw new Error('attribute value must after "="');break;case"/":switch(d){case j_:r.setTagName(t.slice(e,u));case Rm:case G_:case cx:d=cx,r.closed=!0;case Mm:case Qf:break;case Dm:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),d==j_&&r.setTagName(t.slice(e,u)),u;case">":switch(d){case j_:r.setTagName(t.slice(e,u));case Rm:case G_:case cx:break;case Mm:case Qf:l=t.slice(e,u),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case Dm:d===Dm&&(l=a),d==Mm?(s.warning('attribute "'+l+'" missed quot(")!'),o(a,l,e)):((!ab.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),o(l,l,e));break;case H_:throw new Error("attribute value missed!!")}return u;case"":f=" ";default:if(f<=" ")switch(d){case j_:r.setTagName(t.slice(e,u)),d=G_;break;case Qf:a=t.slice(e,u),d=Dm;break;case Mm:var l=t.slice(e,u);s.warning('attribute "'+l+'" missed quot(")!!'),o(a,l,e);case Rm:d=G_;break}else switch(d){case Dm:r.tagName,(!ab.isHTML(n[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=u,d=Qf;break;case Rm:s.warning('attribute space is required"'+a+'"!!');case G_:d=Qf,e=u;break;case H_:d=Mm,e=u;break;case cx:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function T7(t,e,r){for(var n=t.tagName,i=null,f=t.length;f--;){var s=t[f],o=s.qName,a=s.value,h=o.indexOf(":");if(h>0)var l=s.prefix=o.slice(0,h),u=o.slice(h+1),d=l==="xmlns"&&u;else u=o,l=null,d=o==="xmlns"&&"";s.localName=u,d!==!1&&(i==null&&(i={},bee(r,r={})),r[d]=i[d]=a,s.uri=ab.XMLNS,e.startPrefixMapping(d,a))}for(var f=t.length;f--;){s=t[f];var l=s.prefix;l&&(l==="xml"&&(s.uri=ab.XML),l!=="xmlns"&&(s.uri=r[l||""]))}var h=n.indexOf(":");h>0?(l=t.prefix=n.slice(0,h),u=t.localName=n.slice(h+1)):(l=null,u=t.localName=n);var g=t.uri=r[l||""];if(e.startElement(g,u,n,t),t.closed){if(e.endElement(g,u,n),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=r,t.localNSMap=i,!0}function Tze(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(r)?(i.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,n),i.characters(o,0,o.length),s)}return e+1}function Eze(t,e,r,n){var i=n[r];return i==null&&(i=t.lastIndexOf("</"+r+">"),i<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function bee(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function Cze(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(r.comment(t,e+4,s-e-4),s+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,s-e-9),r.endCDATA(),s+3}var o=Pze(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],u=!1,d=!1;a>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],d=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(d=o[3][0]));var f=o[a-1];return r.startDTD(l,u,d),r.endDTD(),f.index+f[0].length}}return-1}function Aze(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function xee(){this.attributeNames={}}xee.prototype={setTagName:function(t){if(!w7.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!w7.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function Pze(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}WR.XMLReader=yee;WR.ParseError=sv;var kze=$f,Ize=ip,E7=_ee,wee=WR,Oze=Ize.DOMImplementation,C7=kze.NAMESPACE,Dze=wee.ParseError,Mze=wee.XMLReader;function See(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function Tee(t){this.options=t||{locator:{}}}Tee.prototype.parseFromString=function(t,e){var r=this.options,n=new Mze,i=r.domBuilder||new u1,s=r.errorHandler,o=r.locator,a=r.xmlns||{},l=/\/x?html?$/.test(e),u=l?E7.HTML_ENTITIES:E7.XML_ENTITIES;o&&i.setDocumentLocator(o),n.errorHandler=Rze(s,i,o),n.domBuilder=r.domBuilder||i,l&&(a[""]=C7.HTML),a.xml=a.xml||C7.XML;var d=r.normalizeLineEndings||See;return t&&typeof t=="string"?n.parse(d(t),a,u):n.errorHandler.error("invalid doc source"),i.doc};function Rze(t,e,r){if(!t){if(e instanceof u1)return e;t=e}var n={},i=t instanceof Function;r=r||{};function s(o){var a=t[o];!a&&i&&(a=t.length==2?function(l){t(o,l)}:t),n[o]=a&&function(l){a("[xmldom "+o+"]	"+l+jI(r))}||function(){}}return s("warning"),s("error"),s("fatalError"),n}function u1(){this.cdata=!1}function $m(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}u1.prototype={startDocument:function(){this.doc=new Oze().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,s=i.createElementNS(t,r||e),o=n.length;dx(this,s),this.currentElement=s,this.locator&&$m(this.locator,s);for(var a=0;a<o;a++){var t=n.getURI(a),l=n.getValue(a),r=n.getQName(a),u=i.createAttributeNS(t,r);this.locator&&$m(n.getLocator(a),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&$m(this.locator,r),dx(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=A7.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&$m(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=A7.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&$m(this.locator,n),dx(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&$m(this.locator,i),dx(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,jI(this.locator))},error:function(t){console.error("[xmldom error]	"+t,jI(this.locator))},fatalError:function(t){throw new Dze(t,this.locator)}};function jI(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function A7(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){u1.prototype[t]=function(){return null}});function dx(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}sC.__DOMHandler=u1;sC.normalizeLineEndings=See;sC.DOMParser=Tee;var $ze=sC.DOMParser;/*! @name mpd-parser @version 1.3.0 @license Apache-2.0 */const P7=t=>!!t&&typeof t=="object",So=(...t)=>t.reduce((e,r)=>(typeof r!="object"||Object.keys(r).forEach(n=>{Array.isArray(e[n])&&Array.isArray(r[n])?e[n]=e[n].concat(r[n]):P7(e[n])&&P7(r[n])?e[n]=So(e[n],r[n]):e[n]=r[n]}),e),{}),Eee=t=>Object.keys(t).map(e=>t[e]),Lze=(t,e)=>{const r=[];for(let n=t;n<e;n++)r.push(n);return r},ov=t=>t.reduce((e,r)=>e.concat(r),[]),Cee=t=>{if(!t.length)return[];const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e},Fze=(t,e)=>t.reduce((r,n,i)=>(n[e]&&r.push(i),r),[]),Nze=(t,e)=>Eee(t.reduce((r,n)=>(n.forEach(i=>{r[e(i)]=i}),r),{}));var av={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const lb=({baseUrl:t="",source:e="",range:r="",indexRange:n=""})=>{const i={uri:e,resolvedUri:rC(t||"",e)};if(r||n){const o=(r||n).split("-");let a=Ze.BigInt?Ze.BigInt(o[0]):parseInt(o[0],10),l=Ze.BigInt?Ze.BigInt(o[1]):parseInt(o[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof a=="bigint"?u=Ze.BigInt(l)-Ze.BigInt(a)+Ze.BigInt(1):u=l-a+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),i.byterange={length:u,offset:a}}return i},Bze=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=Ze.BigInt(t.offset)+Ze.BigInt(t.length)-Ze.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},k7=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),Uze={static(t){const{duration:e,timescale:r=1,sourceDuration:n,periodDuration:i}=t,s=k7(t.endNumber),o=e/r;return typeof s=="number"?{start:0,end:s}:typeof i=="number"?{start:0,end:i/o}:{start:0,end:n/o}},dynamic(t){const{NOW:e,clientOffset:r,availabilityStartTime:n,timescale:i=1,duration:s,periodStart:o=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=t,u=k7(t.endNumber),d=(e+r)/1e3,f=n+o,g=d+a-f,p=Math.ceil(g*i/s),v=Math.floor((d-f-l)*i/s),b=Math.floor((d-f)*i/s);return{start:Math.max(0,v),end:typeof u=="number"?u:Math.min(p,b)}}},Vze=t=>e=>{const{duration:r,timescale:n=1,periodStart:i,startNumber:s=1}=t;return{number:s+e,duration:r/n,timeline:i,time:e*r}},qR=t=>{const{type:e,duration:r,timescale:n=1,periodDuration:i,sourceDuration:s}=t,{start:o,end:a}=Uze[e](t),l=Lze(o,a).map(Vze(t));if(e==="static"){const u=l.length-1,d=typeof i=="number"?i:s;l[u].duration=d-r/n*u}return l},Aee=t=>{const{baseUrl:e,initialization:r={},sourceDuration:n,indexRange:i="",periodStart:s,presentationTime:o,number:a=0,duration:l}=t;if(!e)throw new Error(av.NO_BASE_URL);const u=lb({baseUrl:e,source:r.sourceURL,range:r.range}),d=lb({baseUrl:e,source:e,indexRange:i});if(d.map=u,l){const f=qR(t);f.length&&(d.duration=f[0].duration,d.timeline=f[0].timeline)}else n&&(d.duration=n,d.timeline=s);return d.presentationTime=o||s,d.number=a,[d]},XR=(t,e,r)=>{const n=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,s=t.timeline||0,o=t.sidx.byterange,a=o.offset+o.length,l=e.timescale,u=e.references.filter(b=>b.referenceType!==1),d=[],f=t.endList?"static":"dynamic",h=t.sidx.timeline;let g=h,p=t.mediaSequence||0,v;typeof e.firstOffset=="bigint"?v=Ze.BigInt(a)+e.firstOffset:v=a+e.firstOffset;for(let b=0;b<u.length;b++){const S=e.references[b],T=S.referencedSize,E=S.subsegmentDuration;let C;typeof v=="bigint"?C=v+Ze.BigInt(T)-Ze.BigInt(1):C=v+T-1;const P=`${v}-${C}`,L=Aee({baseUrl:r,timescale:l,timeline:s,periodStart:h,presentationTime:g,number:p,duration:E,sourceDuration:i,indexRange:P,type:f})[0];n&&(L.map=n),d.push(L),typeof v=="bigint"?v+=Ze.BigInt(T):v+=T,g+=E/l,p++}return t.segments=d,t},zze=["AUDIO","SUBTITLES"],jze=1/60,Pee=t=>Nze(t,({timeline:e})=>e).sort((e,r)=>e.timeline>r.timeline?1:-1),Hze=(t,e)=>{for(let r=0;r<t.length;r++)if(t[r].attributes.NAME===e)return t[r];return null},I7=t=>{let e=[];return sze(t,zze,(r,n,i,s)=>{e=e.concat(r.playlists||[])}),e},O7=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((r,n)=>{r.number=t.mediaSequence+n})},Gze=({oldPlaylists:t,newPlaylists:e,timelineStarts:r})=>{e.forEach(n=>{n.discontinuitySequence=r.findIndex(function({timeline:l}){return l===n.timeline});const i=Hze(t,n.attributes.NAME);if(!i||n.sidx)return;const s=n.segments[0],o=i.segments.findIndex(function(l){return Math.abs(l.presentationTime-s.presentationTime)<jze});if(o===-1){O7({playlist:n,mediaSequence:i.mediaSequence+i.segments.length}),n.segments[0].discontinuity=!0,n.discontinuityStarts.unshift(0),(!i.segments.length&&n.timeline>i.timeline||i.segments.length&&n.timeline>i.segments[i.segments.length-1].timeline)&&n.discontinuitySequence--;return}i.segments[o].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,n.discontinuityStarts.unshift(0),n.discontinuitySequence--),O7({playlist:n,mediaSequence:i.segments[o].number})})},Wze=({oldManifest:t,newManifest:e})=>{const r=t.playlists.concat(I7(t)),n=e.playlists.concat(I7(e));return e.timelineStarts=Pee([t.timelineStarts,e.timelineStarts]),Gze({oldPlaylists:r,newPlaylists:n,timelineStarts:e.timelineStarts}),e},oC=t=>t&&t.uri+"-"+Bze(t.byterange),f4=t=>{const e=t.reduce(function(n,i){return n[i.attributes.baseUrl]||(n[i.attributes.baseUrl]=[]),n[i.attributes.baseUrl].push(i),n},{});let r=[];return Object.values(e).forEach(n=>{const i=Eee(n.reduce((s,o)=>{const a=o.attributes.id+(o.attributes.lang||"");return s[a]?(o.segments&&(o.segments[0]&&(o.segments[0].discontinuity=!0),s[a].segments.push(...o.segments)),o.attributes.contentProtection&&(s[a].attributes.contentProtection=o.attributes.contentProtection)):(s[a]=o,s[a].attributes.timelineStarts=[]),s[a].attributes.timelineStarts.push({start:o.attributes.periodStart,timeline:o.attributes.periodStart}),s},{}));r=r.concat(i)}),r.map(n=>(n.discontinuityStarts=Fze(n.segments||[],"discontinuity"),n))},YR=(t,e)=>{const r=oC(t.sidx),n=r&&e[r]&&e[r].sidx;return n&&XR(t,n,t.sidx.resolvedUri),t},qze=(t,e={})=>{if(!Object.keys(e).length)return t;for(const r in t)t[r]=YR(t[r],e);return t},Xze=({attributes:t,segments:e,sidx:r,mediaSequence:n,discontinuitySequence:i,discontinuityStarts:s},o)=>{const a={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:i,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:n,segments:e};return t.contentProtection&&(a.contentProtection=t.contentProtection),t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),r&&(a.sidx=r),o&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a},Yze=({attributes:t,segments:e,mediaSequence:r,discontinuityStarts:n,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const o={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:n,discontinuitySequence:i,mediaSequence:r,segments:e};return t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),o},Kze=(t,e={},r=!1)=>{let n;const i=t.reduce((s,o)=>{const a=o.attributes.role&&o.attributes.role.value||"",l=o.attributes.lang||"";let u=o.attributes.label||"main";if(l&&!o.attributes.label){const f=a?` (${a})`:"";u=`${o.attributes.lang}${f}`}s[u]||(s[u]={language:l,autoselect:!0,default:a==="main",playlists:[],uri:""});const d=YR(Xze(o,r),e);return s[u].playlists.push(d),typeof n>"u"&&a==="main"&&(n=o,n.default=!0),s},{});if(!n){const s=Object.keys(i)[0];i[s].default=!0}return i},Zze=(t,e={})=>t.reduce((r,n)=>{const i=n.attributes.label||n.attributes.lang||"text";return r[i]||(r[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),r[i].playlists.push(YR(Yze(n),e)),r},{}),Qze=t=>t.reduce((e,r)=>(r&&r.forEach(n=>{const{channel:i,language:s}=n;e[s]={autoselect:!1,default:!1,instreamId:i,language:s},n.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(e[s].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(e[s]["3D"]=n["3D"])}),e),{}),Jze=({attributes:t,segments:e,sidx:r,discontinuityStarts:n})=>{const i={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:n,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(i.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),r&&(i.sidx=r),i},eje=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",tje=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",rje=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",nje=(t,e)=>{t.forEach(r=>{r.mediaSequence=0,r.discontinuitySequence=e.findIndex(function({timeline:n}){return n===r.timeline}),r.segments&&r.segments.forEach((n,i)=>{n.number=i})})},D7=t=>t?Object.keys(t).reduce((e,r)=>{const n=t[r];return e.concat(n.playlists)},[]):[],ije=({dashPlaylists:t,locations:e,contentSteering:r,sidxMapping:n={},previousManifest:i,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:o,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=t[0].attributes,d=f4(t.filter(eje)).map(Jze),f=f4(t.filter(tje)),h=f4(t.filter(rje)),g=t.map(C=>C.attributes.captionServices).filter(Boolean),p={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:o,playlists:qze(d,n)};u>=0&&(p.minimumUpdatePeriod=u*1e3),e&&(p.locations=e),r&&(p.contentSteering=r),a==="dynamic"&&(p.suggestedPresentationDelay=l),s&&s.length>0&&(p.eventStream=s);const v=p.playlists.length===0,b=f.length?Kze(f,n,v):null,S=h.length?Zze(h,n):null,T=d.concat(D7(b),D7(S)),E=T.map(({timelineStarts:C})=>C);return p.timelineStarts=Pee(E),nje(T,p.timelineStarts),b&&(p.mediaGroups.AUDIO.audio=b),S&&(p.mediaGroups.SUBTITLES.subs=S),g.length&&(p.mediaGroups["CLOSED-CAPTIONS"].cc=Qze(g)),i?Wze({oldManifest:i,newManifest:p}):p},sje=(t,e,r)=>{const{NOW:n,clientOffset:i,availabilityStartTime:s,timescale:o=1,periodStart:a=0,minimumUpdatePeriod:l=0}=t,u=(n+i)/1e3,d=s+a,h=u+l-d;return Math.ceil((h*o-e)/r)},kee=(t,e)=>{const{type:r,minimumUpdatePeriod:n=0,media:i="",sourceDuration:s,timescale:o=1,startNumber:a=1,periodStart:l}=t,u=[];let d=-1;for(let f=0;f<e.length;f++){const h=e[f],g=h.d,p=h.r||0,v=h.t||0;d<0&&(d=v),v&&v>d&&(d=v);let b;if(p<0){const E=f+1;E===e.length?r==="dynamic"&&n>0&&i.indexOf("$Number$")>0?b=sje(t,d,g):b=(s*o-d)/g:b=(e[E].t-d)/g}else b=p+1;const S=a+u.length+b;let T=a+u.length;for(;T<S;)u.push({number:T,duration:g/o,time:d,timeline:l}),d+=g,T++}return u},oje=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,aje=t=>(e,r,n,i)=>{if(e==="$$")return"$";if(typeof t[r]>"u")return e;const s=""+t[r];return r==="RepresentationID"||(n?i=parseInt(i,10):i=1,s.length>=i)?s:`${new Array(i-s.length+1).join("0")}${s}`},M7=(t,e)=>t.replace(oje,aje(e)),lje=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?qR(t):kee(t,e),uje=(t,e)=>{const r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=t,i=lb({baseUrl:t.baseUrl,source:M7(n.sourceURL,r),range:n.range});return lje(t,e).map(o=>{r.Number=o.number,r.Time=o.time;const a=M7(t.media||"",r),l=t.timescale||1,u=t.presentationTimeOffset||0,d=t.periodStart+(o.time-u)/l;return{uri:a,timeline:o.timeline,duration:o.duration,resolvedUri:rC(t.baseUrl||"",a),map:i,number:o.number,presentationTime:d}})},cje=(t,e)=>{const{baseUrl:r,initialization:n={}}=t,i=lb({baseUrl:r,source:n.sourceURL,range:n.range}),s=lb({baseUrl:r,source:e.media,range:e.mediaRange});return s.map=i,s},dje=(t,e)=>{const{duration:r,segmentUrls:n=[],periodStart:i}=t;if(!r&&!e||r&&e)throw new Error(av.SEGMENT_TIME_UNSPECIFIED);const s=n.map(l=>cje(t,l));let o;return r&&(o=qR(t)),e&&(o=kee(t,e)),o.map((l,u)=>{if(s[u]){const d=s[u],f=t.timescale||1,h=t.presentationTimeOffset||0;return d.timeline=l.timeline,d.duration=l.duration,d.number=l.number,d.presentationTime=i+(l.time-h)/f,d}}).filter(l=>l)},fje=({attributes:t,segmentInfo:e})=>{let r,n;e.template?(n=uje,r=So(t,e.template)):e.base?(n=Aee,r=So(t,e.base)):e.list&&(n=dje,r=So(t,e.list));const i={attributes:t};if(!n)return i;const s=n(r,e.segmentTimeline);if(r.duration){const{duration:o,timescale:a=1}=r;r.duration=o/a}else s.length?r.duration=s.reduce((o,a)=>Math.max(o,Math.ceil(a.duration)),0):r.duration=0;return i.attributes=r,i.segments=s,e.base&&r.indexRange&&(i.sidx=s[0],i.segments=[]),i},hje=t=>t.map(fje),fs=(t,e)=>Cee(t.childNodes).filter(({tagName:r})=>r===e),c1=t=>t.textContent.trim(),pje=t=>parseFloat(t.split("/").reduce((e,r)=>e/r)),Lm=t=>{const a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!a)return 0;const[l,u,d,f,h,g]=a.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(d||0)*86400+parseFloat(f||0)*3600+parseFloat(h||0)*60+parseFloat(g||0)},mje=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),R7={mediaPresentationDuration(t){return Lm(t)},availabilityStartTime(t){return mje(t)/1e3},minimumUpdatePeriod(t){return Lm(t)},suggestedPresentationDelay(t){return Lm(t)},type(t){return t},timeShiftBufferDepth(t){return Lm(t)},start(t){return Lm(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return pje(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?Lm(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},qs=t=>t&&t.attributes?Cee(t.attributes).reduce((e,r)=>{const n=R7[r.name]||R7.DEFAULT;return e[r.name]=n(r.value),e},{}):{},gje={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},aC=(t,e)=>e.length?ov(t.map(function(r){return e.map(function(n){const i=c1(n),s=rC(r.baseUrl,i),o=So(qs(n),{baseUrl:s});return s!==i&&!o.serviceLocation&&r.serviceLocation&&(o.serviceLocation=r.serviceLocation),o})})):t,KR=t=>{const e=fs(t,"SegmentTemplate")[0],r=fs(t,"SegmentList")[0],n=r&&fs(r,"SegmentURL").map(f=>So({tag:"SegmentURL"},qs(f))),i=fs(t,"SegmentBase")[0],s=r||e,o=s&&fs(s,"SegmentTimeline")[0],a=r||i||e,l=a&&fs(a,"Initialization")[0],u=e&&qs(e);u&&l?u.initialization=l&&qs(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const d={template:u,segmentTimeline:o&&fs(o,"S").map(f=>qs(f)),list:r&&So(qs(r),{segmentUrls:n,initialization:qs(l)}),base:i&&So(qs(i),{initialization:qs(l)})};return Object.keys(d).forEach(f=>{d[f]||delete d[f]}),d},vje=(t,e,r)=>n=>{const i=fs(n,"BaseURL"),s=aC(e,i),o=So(t,qs(n)),a=KR(n);return s.map(l=>({segmentInfo:So(r,a),attributes:So(o,l)}))},_je=t=>t.reduce((e,r)=>{const n=qs(r);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const i=gje[n.schemeIdUri];if(i){e[i]={attributes:n};const s=fs(r,"cenc:pssh")[0];if(s){const o=c1(s);e[i].pssh=o&&aze(o)}}return e},{}),yje=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{let n,i;return i=r,/^CC\d=/.test(r)?[n,i]=r.split("="):/^CC\d$/.test(r)&&(n=r),{channel:n,language:i}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){const[i,s=""]=r.split("=");n.channel=i,n.language=r,s.split(",").forEach(o=>{const[a,l]=o.split(":");a==="lang"?n.language=l:a==="er"?n.easyReader=Number(l):a==="war"?n.aspectRatio=Number(l):a==="3D"&&(n["3D"]=Number(l))})}else n.language=r;return n.channel&&(n.channel="SERVICE"+n.channel),n})},bje=t=>ov(fs(t.node,"EventStream").map(e=>{const r=qs(e),n=r.schemeIdUri;return fs(e,"Event").map(i=>{const s=qs(i),o=s.presentationTime||0,a=r.timescale||1,l=s.duration||0,u=o/a+t.attributes.start;return{schemeIdUri:n,value:r.value,id:s.id,start:u,end:u+l/a,messageData:c1(i)||s.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}})})),xje=(t,e,r)=>n=>{const i=qs(n),s=aC(e,fs(n,"BaseURL")),o=fs(n,"Role")[0],a={role:qs(o)};let l=So(t,i,a);const u=fs(n,"Accessibility")[0],d=yje(qs(u));d&&(l=So(l,{captionServices:d}));const f=fs(n,"Label")[0];if(f&&f.childNodes.length){const b=f.childNodes[0].nodeValue.trim();l=So(l,{label:b})}const h=_je(fs(n,"ContentProtection"));Object.keys(h).length&&(l=So(l,{contentProtection:h}));const g=KR(n),p=fs(n,"Representation"),v=So(r,g);return ov(p.map(vje(l,s,v)))},wje=(t,e)=>(r,n)=>{const i=aC(e,fs(r.node,"BaseURL")),s=So(t,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(s.periodDuration=r.attributes.duration);const o=fs(r.node,"AdaptationSet"),a=KR(r.node);return ov(o.map(xje(s,i,a)))},Sje=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const r=So({serverURL:c1(t[0])},qs(t[0]));return r.queryBeforeStart=r.queryBeforeStart==="true",r},Tje=({attributes:t,priorPeriodAttributes:e,mpdType:r})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&r==="static"?0:null,Eje=(t,e={})=>{const{manifestUri:r="",NOW:n=Date.now(),clientOffset:i=0,eventHandler:s=function(){}}=e,o=fs(t,"Period");if(!o.length)throw new Error(av.INVALID_NUMBER_OF_PERIOD);const a=fs(t,"Location"),l=qs(t),u=aC([{baseUrl:r}],fs(t,"BaseURL")),d=fs(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=i,a.length&&(l.locations=a.map(c1));const f=[];return o.forEach((h,g)=>{const p=qs(h),v=f[g-1];p.start=Tje({attributes:p,priorPeriodAttributes:v?v.attributes:null,mpdType:l.type}),f.push({node:h,attributes:p})}),{locations:l.locations,contentSteeringInfo:Sje(d,s),representationInfo:ov(f.map(wje(l,u))),eventStream:ov(f.map(bje))}},Iee=t=>{if(t==="")throw new Error(av.DASH_EMPTY_MANIFEST);const e=new $ze;let r,n;try{r=e.parseFromString(t,"application/xml"),n=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(av.DASH_INVALID_XML);return n},Cje=t=>{const e=fs(t,"UTCTiming")[0];if(!e)return null;const r=qs(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(av.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},Aje=(t,e={})=>{const r=Eje(Iee(t),e),n=hje(r.representationInfo);return ije({dashPlaylists:n,locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:r.eventStream})},Pje=t=>Cje(Iee(t));var Oee=Math.pow(2,32),kje=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r;return e.getBigUint64?(r=e.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):e.getUint32(0)*Oee+e.getUint32(4)},Ije={getUint64:kje,MAX_UINT32:Oee},$7=Ije.getUint64,Oje=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;r.version===0?(r.earliestPresentationTime=e.getUint32(n),r.firstOffset=e.getUint32(n+4),n+=8):(r.earliestPresentationTime=$7(t.subarray(n)),r.firstOffset=$7(t.subarray(n+8)),n+=16),n+=2;var i=e.getUint16(n);for(n+=2;i>0;n+=12,i--)r.references.push({referenceType:(t[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(t[n+8]&128),sapType:(t[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return r},Dje=Oje;const Mje=zs(Dje);var Rje=hn([73,68,51]),$je=function(e,r){r===void 0&&(r=0),e=hn(e);var n=e[r+5],i=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],s=(n&16)>>4;return s?i+20:i+10},Ty=function t(e,r){return r===void 0&&(r=0),e=hn(e),e.length-r<10||!cs(e,Rje,{offset:r})?r:(r+=$je(e,r),t(e,r))},L7=function(e){return typeof e=="string"?YJ(e):e},Lje=function(e){return Array.isArray(e)?e.map(function(r){return L7(r)}):[L7(e)]},Fje=function t(e,r,n){n===void 0&&(n=!1),r=Lje(r),e=hn(e);var i=[];if(!r.length)return i;for(var s=0;s<e.length;){var o=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,a=e.subarray(s+4,s+8);if(o===0)break;var l=s+o;if(l>e.length){if(n)break;l=e.length}var u=e.subarray(s+8,l);cs(a,r[0])&&(r.length===1?i.push(u):i.push.apply(i,t(u,r.slice(1),n))),s=l}return i},fx={EBML:hn([26,69,223,163]),DocType:hn([66,130]),Segment:hn([24,83,128,103]),SegmentInfo:hn([21,73,169,102]),Tracks:hn([22,84,174,107]),Track:hn([174]),TrackNumber:hn([215]),DefaultDuration:hn([35,227,131]),TrackEntry:hn([174]),TrackType:hn([131]),FlagDefault:hn([136]),CodecID:hn([134]),CodecPrivate:hn([99,162]),VideoTrack:hn([224]),AudioTrack:hn([225]),Cluster:hn([31,67,182,117]),Timestamp:hn([231]),TimestampScale:hn([42,215,177]),BlockGroup:hn([160]),BlockDuration:hn([155]),Block:hn([161]),SimpleBlock:hn([163])},HI=[128,64,32,16,8,4,2,1],Nje=function(e){for(var r=1,n=0;n<HI.length&&!(e&HI[n]);n++)r++;return r},uT=function(e,r,n,i){n===void 0&&(n=!0),i===void 0&&(i=!1);var s=Nje(e[r]),o=e.subarray(r,r+s);return n&&(o=Array.prototype.slice.call(e,r,r+s),o[0]^=HI[s-1]),{length:s,value:rze(o,{signed:i}),bytes:o}},F7=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return t(r)}):typeof e=="number"?nze(e):e},Bje=function(e){return Array.isArray(e)?e.map(function(r){return F7(r)}):[F7(e)]},Uje=function t(e,r,n){if(n>=r.length)return r.length;var i=uT(r,n,!1);if(cs(e.bytes,i.bytes))return n;var s=uT(r,n+i.length);return t(e,r,n+s.length+s.value+i.length)},N7=function t(e,r){r=Bje(r),e=hn(e);var n=[];if(!r.length)return n;for(var i=0;i<e.length;){var s=uT(e,i,!1),o=uT(e,i+s.length),a=i+s.length+o.length;o.value===127&&(o.value=Uje(s,e,a),o.value!==e.length&&(o.value-=a));var l=a+o.value>e.length?e.length:a+o.value,u=e.subarray(a,l);cs(r[0],s.bytes)&&(r.length===1?n.push(u):n=n.concat(t(u,r.slice(1))));var d=s.length+o.length+u.length;i+=d}return n},Vje=hn([0,0,0,1]),zje=hn([0,0,1]),jje=hn([0,0,3]),Hje=function(e){for(var r=[],n=1;n<e.length-2;)cs(e.subarray(n,n+3),jje)&&(r.push(n+2),n++),n++;if(r.length===0)return e;var i=e.length-r.length,s=new Uint8Array(i),o=0;for(n=0;n<i;o++,n++)o===r[0]&&(o++,r.shift()),s[n]=e[o];return s},Dee=function(e,r,n,i){i===void 0&&(i=1/0),e=hn(e),n=[].concat(n);for(var s=0,o,a=0;s<e.length&&(a<i||o);){var l=void 0;if(cs(e.subarray(s),Vje)?l=4:cs(e.subarray(s),zje)&&(l=3),!l){s++;continue}if(a++,o)return Hje(e.subarray(o,s));var u=void 0;r==="h264"?u=e[s+l]&31:r==="h265"&&(u=e[s+l]>>1&63),n.indexOf(u)!==-1&&(o=s+l),s+=l+(r==="h264"?1:2)}return e.subarray(0,0)},Gje=function(e,r,n){return Dee(e,"h264",r,n)},Wje=function(e,r,n){return Dee(e,"h265",r,n)},ca={webm:hn([119,101,98,109]),matroska:hn([109,97,116,114,111,115,107,97]),flac:hn([102,76,97,67]),ogg:hn([79,103,103,83]),ac3:hn([11,119]),riff:hn([82,73,70,70]),avi:hn([65,86,73]),wav:hn([87,65,86,69]),"3gp":hn([102,116,121,112,51,103]),mp4:hn([102,116,121,112]),fmp4:hn([115,116,121,112]),mov:hn([102,116,121,112,113,116]),moov:hn([109,111,111,118]),moof:hn([109,111,111,102])},lv={aac:function(e){var r=Ty(e);return cs(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=Ty(e);return cs(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=N7(e,[fx.EBML,fx.DocType])[0];return cs(r,ca.webm)},mkv:function(e){var r=N7(e,[fx.EBML,fx.DocType])[0];return cs(r,ca.matroska)},mp4:function(e){if(lv["3gp"](e)||lv.mov(e))return!1;if(cs(e,ca.mp4,{offset:4})||cs(e,ca.fmp4,{offset:4})||cs(e,ca.moof,{offset:4})||cs(e,ca.moov,{offset:4}))return!0},mov:function(e){return cs(e,ca.mov,{offset:4})},"3gp":function(e){return cs(e,ca["3gp"],{offset:4})},ac3:function(e){var r=Ty(e);return cs(e,ca.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=Ty(e);return cs(e,ca.flac,{offset:r})},ogg:function(e){return cs(e,ca.ogg)},avi:function(e){return cs(e,ca.riff)&&cs(e,ca.avi,{offset:8})},wav:function(e){return cs(e,ca.riff)&&cs(e,ca.wav,{offset:8})},h264:function(e){return Gje(e,7,3).length},h265:function(e){return Wje(e,[32,33],3).length}},GI=Object.keys(lv).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);GI.forEach(function(t){var e=lv[t];lv[t]=function(r){return e(hn(r))}});var qje=lv,ZR=function(e){e=hn(e);for(var r=0;r<GI.length;r++){var n=GI[r];if(qje[n](e))return n}return""},Xje=function(e){return Fje(e,["moof"]).length>0},QR=9e4,JR,e6,lC,t6,Mee,Ree,$ee;JR=function(t){return t*QR};e6=function(t,e){return t*e};lC=function(t){return t/QR};t6=function(t,e){return t/e};Mee=function(t,e){return JR(t6(t,e))};Ree=function(t,e){return e6(lC(t),e)};$ee=function(t,e,r){return lC(r?t:t-e)};var p0={ONE_SECOND_IN_TS:QR,secondsToVideoTs:JR,secondsToAudioTs:e6,videoTsToSeconds:lC,audioTsToSeconds:t6,audioTsToVideoTs:Mee,videoTsToAudioTs:Ree,metadataTsToSeconds:$ee};/**
 * @license
 * Video.js 8.10.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var WI="8.10.0";const Jd={},Hh=function(t,e){return Jd[t]=Jd[t]||[],e&&(Jd[t]=Jd[t].concat(e)),Jd[t]},Yje=function(t,e){Hh(t,e)},Lee=function(t,e){const r=Hh(t).indexOf(e);return r<=-1?!1:(Jd[t]=Jd[t].slice(),Jd[t].splice(r,1),!0)},Kje=function(t,e){Hh(t,[].concat(e).map(r=>{const n=(...i)=>(Lee(t,n),r(...i));return n}))},cT={prefixed:!0},Yw=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],B7=Yw[0];let Ey;for(let t=0;t<Yw.length;t++)if(Yw[t][1]in yr){Ey=Yw[t];break}if(Ey){for(let t=0;t<Ey.length;t++)cT[B7[t]]=Ey[t];cT.prefixed=Ey[0]!==B7[0]}let Ua=[];const Zje=(t,e,r)=>(n,i,s)=>{const o=e.levels[i],a=new RegExp(`^(${o})$`);let l=t;if(n!=="log"&&s.unshift(n.toUpperCase()+":"),r&&(l=`%c${t}`,s.unshift(r)),s.unshift(l+":"),Ua){Ua.push([].concat(s));const d=Ua.length-1e3;Ua.splice(0,d>0?d:0)}if(!Ze.console)return;let u=Ze.console[n];!u&&n==="debug"&&(u=Ze.console.info||Ze.console.log),!(!u||!o||!a.test(n))&&u[Array.isArray(s)?"apply":"call"](Ze.console,s)};function qI(t,e=":",r=""){let n="info",i;const s=function(...o){i("log",n,o)};return i=Zje(t,s,r),s.createLogger=(o,a,l)=>{const u=a!==void 0?a:e,d=l!==void 0?l:r,f=`${t} ${u} ${o}`;return qI(f,u,d)},s.createNewLogger=(o,a,l)=>qI(o,a,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},s.level=o=>{if(typeof o=="string"){if(!s.levels.hasOwnProperty(o))throw new Error(`"${o}" in not a valid log level`);n=o}return n},s.history=()=>Ua?[].concat(Ua):[],s.history.filter=o=>(Ua||[]).filter(a=>new RegExp(`.*${o}.*`).test(a[0])),s.history.clear=()=>{Ua&&(Ua.length=0)},s.history.disable=()=>{Ua!==null&&(Ua.length=0,Ua=null)},s.history.enable=()=>{Ua===null&&(Ua=[])},s.error=(...o)=>i("error",n,o),s.warn=(...o)=>i("warn",n,o),s.debug=(...o)=>i("debug",n,o),s}const ri=qI("VIDEOJS"),Fee=ri.createLogger,Qje=Object.prototype.toString,Nee=function(t){return ud(t)?Object.keys(t):[]};function yg(t,e){Nee(t).forEach(r=>e(t[r],r))}function Bee(t,e,r=0){return Nee(t).reduce((n,i)=>e(n,t[i],i),r)}function ud(t){return!!t&&typeof t=="object"}function uv(t){return ud(t)&&Qje.call(t)==="[object Object]"&&t.constructor===Object}function Ki(...t){const e={};return t.forEach(r=>{r&&yg(r,(n,i)=>{if(!uv(n)){e[i]=n;return}uv(e[i])||(e[i]={}),e[i]=Ki(e[i],n)})}),e}function Uee(t={}){const e=[];for(const r in t)if(t.hasOwnProperty(r)){const n=t[r];e.push(n)}return e}function uC(t,e,r,n=!0){const i=o=>Object.defineProperty(t,e,{value:o,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const o=r();return i(o),o}};return n&&(s.set=i),Object.defineProperty(t,e,s)}var Jje=Object.freeze({__proto__:null,each:yg,reduce:Bee,isObject:ud,isPlain:uv,merge:Ki,values:Uee,defineLazyProperty:uC});let r6=!1,Vee=null,cd=!1,zee,jee=!1,bg=!1,xg=!1,dd=!1,n6=null,cC=null,Hee=null,dT=!1,dC=!1,fT=!1,fC=!1;const ub=!!(Jv()&&("ontouchstart"in Ze||Ze.navigator.maxTouchPoints||Ze.DocumentTouch&&Ze.document instanceof Ze.DocumentTouch)),Jf=Ze.navigator&&Ze.navigator.userAgentData;Jf&&Jf.platform&&Jf.brands&&(cd=Jf.platform==="Android",bg=!!Jf.brands.find(t=>t.brand==="Microsoft Edge"),xg=!!Jf.brands.find(t=>t.brand==="Chromium"),dd=!bg&&xg,n6=cC=(Jf.brands.find(t=>t.brand==="Chromium")||{}).version||null,dC=Jf.platform==="Windows");if(!xg){const t=Ze.navigator&&Ze.navigator.userAgent||"";r6=/iPod/i.test(t),Vee=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),cd=/Android/i.test(t),zee=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const r=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return r&&n?parseFloat(e[1]+"."+e[2]):r||null}(),jee=/Firefox/i.test(t),bg=/Edg/i.test(t),xg=/Chrome/i.test(t)||/CriOS/i.test(t),dd=!bg&&xg,n6=cC=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Hee=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let r=e&&parseFloat(e[1]);return!r&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(r=11),r}(),dT=/Safari/i.test(t)&&!dd&&!cd&&!bg,dC=/Windows/i.test(t),fT=/iPad/i.test(t)||dT&&ub&&!/iPhone/i.test(t),fC=/iPhone/i.test(t)&&!fT}const Ea=fC||fT||r6,hC=(dT||Ea)&&!dd;var eHe=Object.freeze({__proto__:null,get IS_IPOD(){return r6},get IOS_VERSION(){return Vee},get IS_ANDROID(){return cd},get ANDROID_VERSION(){return zee},get IS_FIREFOX(){return jee},get IS_EDGE(){return bg},get IS_CHROMIUM(){return xg},get IS_CHROME(){return dd},get CHROMIUM_VERSION(){return n6},get CHROME_VERSION(){return cC},get IE_VERSION(){return Hee},get IS_SAFARI(){return dT},get IS_WINDOWS(){return dC},get IS_IPAD(){return fT},get IS_IPHONE(){return fC},TOUCH_ENABLED:ub,IS_IOS:Ea,IS_ANY_SAFARI:hC});function U7(t){return typeof t=="string"&&!!t.trim()}function tHe(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Jv(){return yr===Ze.document}function e_(t){return ud(t)&&t.nodeType===1}function Gee(){try{return Ze.parent!==Ze.self}catch{return!0}}function Wee(t){return function(e,r){if(!U7(e))return yr[t](null);U7(r)&&(r=yr.querySelector(r));const n=e_(r)?r:yr;return n[t]&&n[t](e)}}function jn(t="div",e={},r={},n){const i=yr.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const o=e[s];s==="textContent"?sp(i,o):(i[s]!==o||s==="tabIndex")&&(i[s]=o)}),Object.getOwnPropertyNames(r).forEach(function(s){i.setAttribute(s,r[s])}),n&&i6(i,n),i}function sp(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function XI(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function i2(t,e){return tHe(e),t.classList.contains(e)}function A0(t,...e){return t.classList.add(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t}function pC(t,...e){return t?(t.classList.remove(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t):(ri.warn("removeClass was called with an element that doesn't exist"),null)}function qee(t,e,r){return typeof r=="function"&&(r=r(t,e)),typeof r!="boolean"&&(r=void 0),e.split(/\s+/).forEach(n=>t.classList.toggle(n,r)),t}function Xee(t,e){Object.getOwnPropertyNames(e).forEach(function(r){const n=e[r];n===null||typeof n>"u"||n===!1?t.removeAttribute(r):t.setAttribute(r,n===!0?"":n)})}function mh(t){const e={},r=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const n=t.attributes;for(let i=n.length-1;i>=0;i--){const s=n[i].name;let o=n[i].value;r.includes(s)&&(o=o!==null),e[s]=o}}return e}function Yee(t,e){return t.getAttribute(e)}function cv(t,e,r){t.setAttribute(e,r)}function mC(t,e){t.removeAttribute(e)}function Kee(){yr.body.focus(),yr.onselectstart=function(){return!1}}function Zee(){yr.onselectstart=function(){return!0}}function dv(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(n=>{e[n]!==void 0&&(r[n]=e[n])}),r.height||(r.height=parseFloat(fv(t,"height"))),r.width||(r.width=parseFloat(fv(t,"width"))),r}}function cb(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,r=t.offsetHeight;let n=0,i=0;for(;t.offsetParent&&t!==yr[cT.fullscreenElement];)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:n,top:i,width:e,height:r}}function gC(t,e){const r={x:0,y:0};if(Ea){let d=t;for(;d&&d.nodeName.toLowerCase()!=="html";){const f=fv(d,"transform");if(/^matrix/.test(f)){const h=f.slice(7,-1).split(/,\s/).map(Number);r.x+=h[4],r.y+=h[5]}else if(/^matrix3d/.test(f)){const h=f.slice(9,-1).split(/,\s/).map(Number);r.x+=h[12],r.y+=h[13]}d=d.parentNode}}const n={},i=cb(e.target),s=cb(t),o=s.width,a=s.height;let l=e.offsetY-(s.top-i.top),u=e.offsetX-(s.left-i.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,Ea&&(u-=r.x,l-=r.y)),n.y=1-Math.max(0,Math.min(1,l/a)),n.x=Math.max(0,Math.min(1,u/o)),n}function Qee(t){return ud(t)&&t.nodeType===3}function vC(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Jee(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),e_(e)||Qee(e))return e;if(typeof e=="string"&&/\S/.test(e))return yr.createTextNode(e)}).filter(e=>e)}function i6(t,e){return Jee(e).forEach(r=>t.appendChild(r)),t}function ete(t,e){return i6(vC(t),e)}function db(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const Gh=Wee("querySelector"),tte=Wee("querySelectorAll");function fv(t,e){if(!t||!e)return"";if(typeof Ze.getComputedStyle=="function"){let r;try{r=Ze.getComputedStyle(t)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}function rte(t){[...yr.styleSheets].forEach(e=>{try{const r=[...e.cssRules].map(i=>i.cssText).join(""),n=yr.createElement("style");n.textContent=r,t.document.head.appendChild(n)}catch{const n=yr.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,t.document.head.appendChild(n)}})}var nte=Object.freeze({__proto__:null,isReal:Jv,isEl:e_,isInFrame:Gee,createEl:jn,textContent:sp,prependTo:XI,hasClass:i2,addClass:A0,removeClass:pC,toggleClass:qee,setAttributes:Xee,getAttributes:mh,getAttribute:Yee,setAttribute:cv,removeAttribute:mC,blockTextSelection:Kee,unblockTextSelection:Zee,getBoundingClientRect:dv,findPosition:cb,getPointerPosition:gC,isTextNode:Qee,emptyEl:vC,normalizeContent:Jee,appendContent:i6,insertContent:ete,isSingleLeftClick:db,$:Gh,$$:tte,computedStyle:fv,copyStyleSheetsToWindow:rte});let ite=!1,YI;const rHe=function(){if(YI.options.autoSetup===!1)return;const t=Array.prototype.slice.call(yr.getElementsByTagName("video")),e=Array.prototype.slice.call(yr.getElementsByTagName("audio")),r=Array.prototype.slice.call(yr.getElementsByTagName("video-js")),n=t.concat(e,r);if(n&&n.length>0)for(let i=0,s=n.length;i<s;i++){const o=n[i];if(o&&o.getAttribute)o.player===void 0&&o.getAttribute("data-setup")!==null&&YI(o);else{KI(1);break}}else ite||KI(1)};function KI(t,e){Jv()&&(e&&(YI=e),Ze.setTimeout(rHe,t))}function ZI(){ite=!0,Ze.removeEventListener("load",ZI)}Jv()&&(yr.readyState==="complete"?ZI():Ze.addEventListener("load",ZI));const ste=function(t){const e=yr.createElement("style");return e.className=t,e},ote=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var _a=new WeakMap;const nHe=3;let iHe=nHe;function uc(){return iHe++}function V7(t,e){if(!_a.has(t))return;const r=_a.get(t);r.handlers[e].length===0&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&_a.delete(t)}function s6(t,e,r,n){r.forEach(function(i){t(e,i,n)})}function _C(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const n=t||Ze.event;t={};for(const i in n)i!=="layerX"&&i!=="layerY"&&i!=="keyLocation"&&i!=="webkitMovementX"&&i!=="webkitMovementY"&&i!=="path"&&(i==="returnValue"&&n.preventDefault||(t[i]=n[i]));if(t.target||(t.target=t.srcElement||yr),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,t.clientX!==null&&t.clientX!==void 0){const i=yr.documentElement,s=yr.body;t.pageX=t.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let hx;const sHe=function(){if(typeof hx!="boolean"){hx=!1;try{const t=Object.defineProperty({},"passive",{get(){hx=!0}});Ze.addEventListener("test",null,t),Ze.removeEventListener("test",null,t)}catch{}}return hx},oHe=["touchstart","touchmove"];function Dl(t,e,r){if(Array.isArray(e))return s6(Dl,t,e,r);_a.has(t)||_a.set(t,{});const n=_a.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),r.guid||(r.guid=uc()),n.handlers[e].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(i,s){if(n.disabled)return;i=_C(i);const o=n.handlers[i.type];if(o){const a=o.slice(0);for(let l=0,u=a.length;l<u&&!i.isImmediatePropagationStopped();l++)try{a[l].call(t,i,s)}catch(d){ri.error(d)}}}),n.handlers[e].length===1)if(t.addEventListener){let i=!1;sHe()&&oHe.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,n.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function ta(t,e,r){if(!_a.has(t))return;const n=_a.get(t);if(!n.handlers)return;if(Array.isArray(e))return s6(ta,t,e,r);const i=function(o,a){n.handlers[a]=[],V7(o,a)};if(e===void 0){for(const o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&i(t,o);return}const s=n.handlers[e];if(s){if(!r){i(t,e);return}if(r.guid)for(let o=0;o<s.length;o++)s[o].guid===r.guid&&s.splice(o--,1);V7(t,e)}}function t_(t,e,r){const n=_a.has(t)?_a.get(t):{},i=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=_C(e),n.dispatcher&&n.dispatcher.call(t,e,r),i&&!e.isPropagationStopped()&&e.bubbles===!0)t_.call(null,i,e,r);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){_a.has(e.target)||_a.set(e.target,{});const s=_a.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function yC(t,e,r){if(Array.isArray(e))return s6(yC,t,e,r);const n=function(){ta(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||uc(),Dl(t,e,n)}function o6(t,e,r){const n=function(){ta(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||uc(),Dl(t,e,n)}var aHe=Object.freeze({__proto__:null,fixEvent:_C,on:Dl,off:ta,trigger:t_,one:yC,any:o6});const xu=30,Qi=function(t,e,r){e.guid||(e.guid=uc());const n=e.bind(t);return n.guid=r?r+"_"+e.guid:e.guid,n},fd=function(t,e){let r=Ze.performance.now();return function(...i){const s=Ze.performance.now();s-r>=e&&(t(...i),r=s)}},ate=function(t,e,r,n=Ze){let i;const s=()=>{n.clearTimeout(i),i=null},o=function(){const a=this,l=arguments;let u=function(){i=null,u=null,r||t.apply(a,l)};!i&&r&&t.apply(a,l),n.clearTimeout(i),i=n.setTimeout(u,e)};return o.cancel=s,o};var lHe=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:xu,bind_:Qi,throttle:fd,debounce:ate});let W_;class wu{on(e,r){const n=this.addEventListener;this.addEventListener=()=>{},Dl(this,e,r),this.addEventListener=n}off(e,r){ta(this,e,r)}one(e,r){const n=this.addEventListener;this.addEventListener=()=>{},yC(this,e,r),this.addEventListener=n}any(e,r){const n=this.addEventListener;this.addEventListener=()=>{},o6(this,e,r),this.addEventListener=n}trigger(e){const r=e.type||e;typeof e=="string"&&(e={type:r}),e=_C(e),this.allowedEvents_[r]&&this["on"+r]&&this["on"+r](e),t_(this,e)}queueTrigger(e){W_||(W_=new Map);const r=e.type||e;let n=W_.get(this);n||(n=new Map,W_.set(this,n));const i=n.get(r);n.delete(r),Ze.clearTimeout(i);const s=Ze.setTimeout(()=>{n.delete(r),n.size===0&&(n=null,W_.delete(this)),this.trigger(e)},0);n.set(r,s)}}wu.prototype.allowedEvents_={};wu.prototype.addEventListener=wu.prototype.on;wu.prototype.removeEventListener=wu.prototype.off;wu.prototype.dispatchEvent=wu.prototype.trigger;const bC=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,hf=t=>t instanceof wu||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),uHe=(t,e)=>{hf(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},QI=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,hT=(t,e,r)=>{if(!t||!t.nodeName&&!hf(t))throw new Error(`Invalid target for ${bC(e)}#${r}; must be a DOM node or evented object.`)},lte=(t,e,r)=>{if(!QI(t))throw new Error(`Invalid event type for ${bC(e)}#${r}; must be a non-empty string or array.`)},ute=(t,e,r)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${bC(e)}#${r}; must be a function.`)},h4=(t,e,r)=>{const n=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let i,s,o;return n?(i=t.eventBusEl_,e.length>=3&&e.shift(),[s,o]=e):[i,s,o]=e,hT(i,t,r),lte(s,t,r),ute(o,t,r),o=Qi(t,o),{isTargetingSelf:n,target:i,type:s,listener:o}},kp=(t,e,r,n)=>{hT(t,t,e),t.nodeName?aHe[e](t,r,n):t[e](r,n)},cHe={on(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=h4(this,t,"on");if(kp(r,"on",n,i),!e){const s=()=>this.off(r,n,i);s.guid=i.guid;const o=()=>this.off("dispose",s);o.guid=i.guid,kp(this,"on","dispose",s),kp(r,"on","dispose",o)}},one(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=h4(this,t,"one");if(e)kp(r,"one",n,i);else{const s=(...o)=>{this.off(r,n,s),i.apply(null,o)};s.guid=i.guid,kp(r,"one",n,s)}},any(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=h4(this,t,"any");if(e)kp(r,"any",n,i);else{const s=(...o)=>{this.off(r,n,s),i.apply(null,o)};s.guid=i.guid,kp(r,"any",n,s)}},off(t,e,r){if(!t||QI(t))ta(this.eventBusEl_,t,e);else{const n=t,i=e;hT(n,this,"off"),lte(i,this,"off"),ute(r,this,"off"),r=Qi(this,r),this.off("dispose",r),n.nodeName?(ta(n,i,r),ta(n,"dispose",r)):hf(n)&&(n.off(i,r),n.off("dispose",r))}},trigger(t,e){hT(this.eventBusEl_,this,"trigger");const r=t&&typeof t!="string"?t.type:t;if(!QI(r))throw new Error(`Invalid event type for ${bC(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return t_(this.eventBusEl_,t,e)}};function a6(t,e={}){const{eventBusKey:r}=e;if(r){if(!t[r].nodeName)throw new Error(`The eventBusKey "${r}" does not refer to an element.`);t.eventBusEl_=t[r]}else t.eventBusEl_=jn("span",{className:"vjs-event-bus"});return Object.assign(t,cHe),t.eventedCallbacks&&t.eventedCallbacks.forEach(n=>{n()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&_a.has(n)&&_a.delete(n)}),Ze.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const dHe={state:{},setState(t){typeof t=="function"&&(t=t());let e;return yg(t,(r,n)=>{this.state[n]!==r&&(e=e||{},e[n]={from:this.state[n],to:r}),this.state[n]=r}),e&&hf(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function cte(t,e){return Object.assign(t,dHe),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&hf(t)&&t.on("statechanged",t.handleStateChanged),t}const s2=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},Ps=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},dte=function(t,e){return Ps(t)===Ps(e)};var fHe=Object.freeze({__proto__:null,toLowerCase:s2,toTitleCase:Ps,titleCaseEquals:dte});class Ht{constructor(e,r,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ki({},this.options_),r=this.options_=Ki(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){const i=e&&e.id&&e.id()||"no_player";this.id_=`${i}_component_${uc()}`}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.className&&this.el_&&r.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),r.evented!==!1&&(a6(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),cte(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(n),r.reportTouchActivity!==!1&&this.enableTouchActivity()}on(e,r){}off(e,r){}one(e,r){}any(e,r){}trigger(e,r){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Ki(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,r,n){return jn(e,r,n)}localize(e,r,n=e){const i=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),o=s&&s[i],a=i&&i.split("-")[0],l=s&&s[a];let u=n;return o&&o[e]?u=o[e]:l&&l[e]&&(u=l[e]),r&&(u=u.replace(/\{(\d+)\}/g,function(d,f){const h=r[f-1];let g=h;return typeof h>"u"&&(g=d),g})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((n,i)=>n.concat(i),[]);let r=this;for(let n=0;n<e.length;n++)if(r=r.getChild(e[n]),!r||!r.getChild)return;return r}setIcon(e,r=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",i=jn("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=yr.createElementNS(n,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const o=yr.createElementNS(n,"use");return s.appendChild(o),o.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(s),this.iconIsSet_?r.replaceChild(i,r.querySelector(".vjs-icon-placeholder")):r.appendChild(i),this.iconIsSet_=!0,i}addChild(e,r={},n=this.children_.length){let i,s;if(typeof e=="string"){s=Ps(e);const o=r.componentClass||s;r.name=s;const a=Ht.getComponent(o);if(!a)throw new Error(`Component ${o} does not exist`);if(typeof a!="function")return null;i=new a(this.player_||this,r)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),s=s||i.name&&Ps(i.name()),s&&(this.childNameIndex_[s]=i,this.childNameIndex_[s2(s)]=i),typeof i.el=="function"&&i.el()){let o=null;this.children_[n+1]&&(this.children_[n+1].el_?o=this.children_[n+1].el_:e_(this.children_[n+1])&&(o=this.children_[n+1])),this.contentEl().insertBefore(i.el(),o)}return i}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let r=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){r=!0,this.children_.splice(i,1);break}if(!r)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Ps(e.name())]=null,this.childNameIndex_[s2(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const r=this.options_,n=o=>{const a=o.name;let l=o.opts;if(r[a]!==void 0&&(l=r[a]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(a,l);u&&(this[a]=u)};let i;const s=Ht.getComponent("Tech");Array.isArray(e)?i=e:i=Object.keys(e),i.concat(Object.keys(this.options_).filter(function(o){return!i.some(function(a){return typeof a=="string"?o===a:o===a.name})})).map(o=>{let a,l;return typeof o=="string"?(a=o,l=e[a]||this.options_[a]||{}):(a=o.name,l=o),{name:a,opts:l}}).filter(o=>{const a=Ht.getComponent(o.opts.componentClass||Ps(o.name));return a&&!s.isTech(a)}).forEach(n)}}buildCSSClass(){return""}ready(e,r=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}r?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)}$(e,r){return Gh(e,r||this.contentEl())}$$(e,r){return tte(e,r||this.contentEl())}hasClass(e){return i2(this.el_,e)}addClass(...e){A0(this.el_,...e)}removeClass(...e){pC(this.el_,...e)}toggleClass(e,r){qee(this.el_,e,r)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return Yee(this.el_,e)}setAttribute(e,r){cv(this.el_,e,r)}removeAttribute(e){mC(this.el_,e)}width(e,r){return this.dimension("width",e,r)}height(e,r){return this.dimension("height",e,r)}dimensions(e,r){this.width(e,!0),this.height(r)}dimension(e,r,n){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[e]=r:r==="auto"?this.el_.style[e]="":this.el_.style[e]=r+"px",n||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[e],s=i.indexOf("px");return parseInt(s!==-1?i.slice(0,s):this.el_["offset"+Ps(e)],10)}currentDimension(e){let r=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(r=fv(this.el_,e),r=parseFloat(r),r===0||isNaN(r)){const n=`offset${Ps(e)}`;r=this.el_[n]}return r}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(Mn.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,r=null;const n=10,i=200;let s;this.on("touchstart",function(a){a.touches.length===1&&(r={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},e=Ze.performance.now(),s=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)s=!1;else if(r){const l=a.touches[0].pageX-r.pageX,u=a.touches[0].pageY-r.pageY;Math.sqrt(l*l+u*u)>n&&(s=!1)}});const o=function(){s=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(a){r=null,s===!0&&Ze.performance.now()-e<i&&(a.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Qi(this.player(),this.player().reportUserActivity);let r;this.on("touchstart",function(){e(),this.clearInterval(r),r=this.setInterval(e,250)});const n=function(i){e(),this.clearInterval(r)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,r){var n;return e=Qi(this,e),this.clearTimersOnDispose_(),n=Ze.setTimeout(()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()},r),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),Ze.clearTimeout(e)),e}setInterval(e,r){e=Qi(this,e),this.clearTimersOnDispose_();const n=Ze.setInterval(e,r);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),Ze.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var r;return e=Qi(this,e),r=Ze.requestAnimationFrame(()=>{this.rafIds_.has(r)&&this.rafIds_.delete(r),e()}),this.rafIds_.add(r),r}requestNamedAnimationFrame(e,r){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),r=Qi(this,r);const n=this.requestAnimationFrame(()=>{r(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),Ze.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,r])=>{this[e].forEach((n,i)=>this[r](i))}),this.clearingTimersOnDispose_=!1}))}static registerComponent(e,r){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=Ht.getComponent("Tech"),i=n&&n.isTech(r),s=Ht===r||Ht.prototype.isPrototypeOf(r.prototype);if(i||!s){let a;throw i?a="techs must be registered using Tech.registerTech()":a="must be a Component subclass",new Error(`Illegal component, "${e}"; ${a}.`)}e=Ps(e),Ht.components_||(Ht.components_={});const o=Ht.getComponent("Player");if(e==="Player"&&o&&o.players){const a=o.players,l=Object.keys(a);if(a&&l.length>0&&l.map(u=>a[u]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Ht.components_[e]=r,Ht.components_[s2(e)]=r,r}static getComponent(e){if(!(!e||!Ht.components_))return Ht.components_[e]}}Ht.registerComponent("Component",Ht);function hHe(t,e,r){if(typeof e!="number"||e<0||e>r)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${r}).`)}function z7(t,e,r,n){return hHe(t,n,r.length-1),r[n][e]}function p4(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:z7.bind(null,"start",0,t),end:z7.bind(null,"end",1,t)},Ze.Symbol&&Ze.Symbol.iterator&&(e[Ze.Symbol.iterator]=()=>(t||[]).values()),e}function Ju(t,e){return Array.isArray(t)?p4(t):t===void 0||e===void 0?p4():p4([[t,e]])}const fte=function(t,e){t=t<0?0:t;let r=Math.floor(t%60),n=Math.floor(t/60%60),i=Math.floor(t/3600);const s=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=n=r="-"),i=i>0||o>0?i+":":"",n=((i||s>=10)&&n<10?"0"+n:n)+":",r=r<10?"0"+r:r,i+n+r};let l6=fte;function hte(t){l6=t}function pte(){l6=fte}function X0(t,e=t){return l6(t,e)}var pHe=Object.freeze({__proto__:null,createTimeRanges:Ju,createTimeRange:Ju,setFormatTime:hte,resetFormatTime:pte,formatTime:X0});function mte(t,e){let r=0,n,i;if(!e)return 0;(!t||!t.length)&&(t=Ju(0,0));for(let s=0;s<t.length;s++)n=t.start(s),i=t.end(s),i>e&&(i=e),r+=i-n;return r/e}function ya(t){if(t instanceof ya)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:ud(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=ya.defaultMessages[this.code]||"")}ya.prototype.code=0;ya.prototype.message="";ya.prototype.status=null;ya.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];ya.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let t=0;t<ya.errorTypes.length;t++)ya[ya.errorTypes[t]]=t,ya.prototype[ya.errorTypes[t]]=t;function o2(t){return t!=null&&typeof t.then=="function"}function Wc(t){o2(t)&&t.then(null,e=>{})}const JI=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((r,n,i)=>(t[n]&&(r[n]=t[n]),r),{cues:t.cues&&Array.prototype.map.call(t.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})})},mHe=function(t){const e=t.$$("track"),r=Array.prototype.map.call(e,i=>i.track);return Array.prototype.map.call(e,function(i){const s=JI(i.track);return i.src&&(s.src=i.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(i){return r.indexOf(i)===-1}).map(JI))},gHe=function(t,e){return t.forEach(function(r){const n=e.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(i=>n.addCue(i))}),e.textTracks()};var j7={textTracksToJson:mHe,jsonToTextTracks:gHe,trackToJson_:JI};const m4="vjs-modal-dialog";class r_ extends Ht{constructor(e,r){super(e,r),this.handleKeyDown_=n=>this.handleKeyDown(n),this.close_=n=>this.close(n),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=jn("div",{className:`${m4}-content`},{role:"document"}),this.descEl_=jn("p",{className:`${m4}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),sp(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${m4} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(!this.opened_){const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const r=this.closeable_=!!e;let n=this.getChild("closeButton");if(r&&!n){const i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close_)}!r&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const r=this.contentEl(),n=r.parentNode,i=r.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(r),this.empty(),ete(r,e),this.trigger("modalfill"),i?n.insertBefore(r,i):n.appendChild(r);const s=this.getChild("closeButton");s&&n.appendChild(s.el_)}empty(){this.trigger("beforemodalempty"),vC(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=yr.activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(e)||r===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(e.stopPropagation(),Mn.isEventKey(e,"Escape")&&this.closeable()){e.preventDefault(),this.close();return}if(!Mn.isEventKey(e,"Tab"))return;const r=this.focusableEls_(),n=this.el_.querySelector(":focus");let i;for(let s=0;s<r.length;s++)if(n===r[s]){i=s;break}yr.activeElement===this.el_&&(i=0),e.shiftKey&&i===0?(r[r.length-1].focus(),e.preventDefault()):!e.shiftKey&&i===r.length-1&&(r[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,r=>(r instanceof Ze.HTMLAnchorElement||r instanceof Ze.HTMLAreaElement)&&r.hasAttribute("href")||(r instanceof Ze.HTMLInputElement||r instanceof Ze.HTMLSelectElement||r instanceof Ze.HTMLTextAreaElement||r instanceof Ze.HTMLButtonElement)&&!r.hasAttribute("disabled")||r instanceof Ze.HTMLIFrameElement||r instanceof Ze.HTMLObjectElement||r instanceof Ze.HTMLEmbedElement||r.hasAttribute("tabindex")&&r.getAttribute("tabindex")!==-1||r.hasAttribute("contenteditable"))}}r_.prototype.options_={pauseOnOpen:!0,temporary:!0};Ht.registerComponent("ModalDialog",r_);class hv extends wu{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let r=0;r<e.length;r++)this.addTrack(e[r])}addTrack(e){const r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.tracks_[r]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},hf(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let r;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this[n],r.off&&r.off(),this.tracks_.splice(n,1);break}r&&this.trigger({track:r,type:"removetrack",target:this})}getTrackById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const s=this[n];if(s.id===e){r=s;break}}return r}}hv.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in hv.prototype.allowedEvents_)hv.prototype["on"+t]=null;const g4=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].enabled=!1)};class vHe extends hv{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].enabled){g4(e,e[r]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&g4(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,g4(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const v4=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].selected=!1)};class _He extends hv{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].selected){v4(e,e[r]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let r=0;r<this.length;r++)if(this[r].selected)return r;return-1},set(){}})}addTrack(e){e.selected&&v4(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,v4(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class gte extends hv{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class yHe{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let r=0,n=e.length;r<n;r++)this.addTrackElement_(e[r])}addTrackElement_(e){const r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.trackElements_[r]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let r;for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){r=this.trackElements_[n];break}return r}removeTrackElement_(e){for(let r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}}}class pT{constructor(e){pT.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const r=this.length||0;let n=0;const i=e.length;this.cues_=e,this.length_=e.length;const s=function(o){""+o in this||Object.defineProperty(this,""+o,{get(){return this.cues_[o]}})};if(r<i)for(n=r;n<i;n++)s.call(this,n)}getCueById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const s=this[n];if(s.id===e){r=s;break}}return r}}const bHe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},xHe={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},wHe={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},H7={disabled:"disabled",hidden:"hidden",showing:"showing"};class u6 extends wu{constructor(e={}){super();const r={id:e.id||"vjs_track_"+uc(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const i in r)Object.defineProperty(this,i,{get(){return r[i]},set(){}});Object.defineProperty(this,"label",{get(){return n},set(i){i!==n&&(n=i,this.trigger("labelchange"))}})}}const c6=function(t){const e=["protocol","hostname","port","pathname","search","hash","host"],r=yr.createElement("a");r.href=t;const n={};for(let i=0;i<e.length;i++)n[e[i]]=r[e[i]];return n.protocol==="http:"&&(n.host=n.host.replace(/:80$/,"")),n.protocol==="https:"&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=Ze.location.protocol),n.host||(n.host=Ze.location.host),n},vte=function(t){if(!t.match(/^https?:\/\//)){const e=yr.createElement("a");e.href=t,t=e.href}return t},d6=function(t){if(typeof t=="string"){const r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(r)return r.pop().toLowerCase()}return""},xC=function(t,e=Ze.location){const r=c6(t);return(r.protocol===":"?e.protocol:r.protocol)+r.host!==e.protocol+e.host};var SHe=Object.freeze({__proto__:null,parseUrl:c6,getAbsoluteURL:vte,getFileExtension:d6,isCrossOrigin:xC});const G7=function(t,e){const r=new Ze.WebVTT.Parser(Ze,Ze.vttjs,Ze.WebVTT.StringDecoder()),n=[];r.oncue=function(i){e.addCue(i)},r.onparsingerror=function(i){n.push(i)},r.onflush=function(){e.trigger({type:"loadeddata",target:e})},r.parse(t),n.length>0&&(Ze.console&&Ze.console.groupCollapsed&&Ze.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),n.forEach(i=>ri.error(i)),Ze.console&&Ze.console.groupEnd&&Ze.console.groupEnd()),r.flush()},W7=function(t,e){const r={uri:t},n=xC(t);n&&(r.cors=n);const i=e.tech_.crossOrigin()==="use-credentials";i&&(r.withCredentials=i),UJ(r,Qi(this,function(s,o,a){if(s)return ri.error(s,o);e.loaded_=!0,typeof Ze.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){ri.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return G7(a,e)}):G7(a,e)}))};class d1 extends u6{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const r=Ki(e,{kind:wHe[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=H7[r.mode]||"disabled";const i=r.default;(r.kind==="metadata"||r.kind==="chapters")&&(n="hidden"),super(r),this.tech_=r.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new pT(this.cues_),o=new pT(this.activeCues_);let a=!1;this.timeupdateHandler=Qi(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),n!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return n},set(u){H7[u]&&n!==u&&(n=u,!this.preload_&&n!=="disabled"&&this.cues.length===0&&W7(this.src,this),this.stopTracking(),n!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return o;const u=this.tech_.currentTime(),d=[];for(let f=0,h=this.cues.length;f<h;f++){const g=this.cues[f];g.startTime<=u&&g.endTime>=u&&d.push(g)}if(a=!1,d.length!==this.activeCues_.length)a=!0;else for(let f=0;f<d.length;f++)this.activeCues_.indexOf(d[f])===-1&&(a=!0);return this.activeCues_=d,o.setCues_(this.activeCues_),o},set(){}}}),r.src?(this.src=r.src,this.preload_||(this.loaded_=!0),(this.preload_||r.kind!=="subtitles"&&r.kind!=="captions")&&W7(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let r=e;if(!("getCueAsHTML"in r)){r=new Ze.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in r||(r[i]=e[i]);r.id=e.id,r.originalCue_=e}const n=this.tech_.textTracks();for(let i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)}removeCue(e){let r=this.cues_.length;for(;r--;){const n=this.cues_[r];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(r,1),this.cues.setCues_(this.cues_);break}}}}d1.prototype.allowedEvents_={cuechange:"cuechange"};class _te extends u6{constructor(e={}){const r=Ki(e,{kind:xHe[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"enabled",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("enabledchange"))}}),r.enabled&&(this.enabled=r.enabled),this.loaded_=!0}}class yte extends u6{constructor(e={}){const r=Ki(e,{kind:bHe[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"selected",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("selectedchange"))}}),r.selected&&(this.selected=r.selected)}}class Sf extends wu{constructor(e={}){super();let r;const n=new d1(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get(){return r}},track:{get(){return n}}}),r=Sf.NONE,n.addEventListener("loadeddata",()=>{r=Sf.LOADED,this.trigger({type:"load",target:this})})}}Sf.prototype.allowedEvents_={load:"load"};Sf.NONE=0;Sf.LOADING=1;Sf.LOADED=2;Sf.ERROR=3;const fu={audio:{ListClass:vHe,TrackClass:_te,capitalName:"Audio"},video:{ListClass:_He,TrackClass:yte,capitalName:"Video"},text:{ListClass:gte,TrackClass:d1,capitalName:"Text"}};Object.keys(fu).forEach(function(t){fu[t].getterName=`${t}Tracks`,fu[t].privateName=`${t}Tracks_`});const pv={remoteText:{ListClass:gte,TrackClass:d1,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:yHe,TrackClass:Sf,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ga=Object.assign({},fu,pv);pv.names=Object.keys(pv);fu.names=Object.keys(fu);ga.names=[].concat(pv.names).concat(fu.names);function THe(t,e,r,n,i={}){const s=t.textTracks();i.kind=e,r&&(i.label=r),n&&(i.language=n),i.tech=t;const o=new ga.text.TrackClass(i);return s.addTrack(o),o}class Rn extends Ht{constructor(e={},r=function(){}){e.reportTouchActivity=!1,super(null,e,r),this.onDurationChange_=n=>this.onDurationChange(n),this.trackProgress_=n=>this.trackProgress(n),this.trackCurrentTime_=n=>this.trackCurrentTime(n),this.stopTrackingCurrentTime_=n=>this.stopTrackingCurrentTime(n),this.disposeSourceHandler_=n=>this.disposeSourceHandler(n),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),ga.names.forEach(n=>{const i=ga[n];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(n=>{e[`native${n}Tracks`]===!1&&(this[`featuresNative${n}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new ga.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Qi(this,function(){const r=this.bufferedPercent();this.bufferedPercent_!==r&&this.trigger("progress"),this.bufferedPercent_=r,r===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Ju(0,0)}bufferedPercent(){return mte(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(fu.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(r=>{const n=this[`${r}Tracks`]()||[];let i=n.length;for(;i--;){const s=n[i];r==="text"&&this.removeRemoteTextTrack(s),n.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let r=e.length;for(;r--;){const n=e[r];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new ya(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Ju(0,0):Ju()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){fu.names.forEach(e=>{const r=fu[e],n=()=>{this.trigger(`${e}trackchange`)},i=this[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),this.on("dispose",()=>{i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})}addWebVttScript_(){if(!Ze.WebVTT)if(yr.body.contains(this.el())){if(!this.options_["vtt.js"]&&uv(u7)&&Object.keys(u7).length>0){this.trigger("vttjsloaded");return}const e=yr.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),Ze.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),r=this.remoteTextTracks(),n=a=>e.addTrack(a.track),i=a=>e.removeTrack(a.track);r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),o=()=>{s();for(let a=0;a<e.length;a++){const l=e[a];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",function(){r.off("addtrack",n),r.off("removetrack",i),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(let a=0;a<e.length;a++)e[a].removeEventListener("cuechange",s)})}addTextTrack(e,r,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return THe(this,e,r,n)}createRemoteTextTrack(e){const r=Ki(e,{tech:this});return new pv.remoteTextEl.TrackClass(r)}addRemoteTextTrack(e={},r){const n=this.createRemoteTextTrack(e);return typeof r!="boolean"&&(r=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),r===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(n.track)),n}removeRemoteTextTrack(e){const r=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const r=uc();return!this.isReady_||this.paused()?(this.queuedHanders_.add(r),this.one("playing",()=>{this.queuedHanders_.has(r)&&(this.queuedHanders_.delete(r),e())})):this.requestNamedAnimationFrame(r,e),r}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,r){return Rn.canPlayType(e.type)}static isTech(e){return e.prototype instanceof Rn||e instanceof Rn||e===Rn}static registerTech(e,r){if(Rn.techs_||(Rn.techs_={}),!Rn.isTech(r))throw new Error(`Tech ${e} must be a Tech`);if(!Rn.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Rn.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Ps(e),Rn.techs_[e]=r,Rn.techs_[s2(e)]=r,e!=="Tech"&&Rn.defaultTechOrder_.push(e),r}static getTech(e){if(e){if(Rn.techs_&&Rn.techs_[e])return Rn.techs_[e];if(e=Ps(e),Ze&&Ze.videojs&&Ze.videojs[e])return ri.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),Ze.videojs[e]}}}ga.names.forEach(function(t){const e=ga[t];Rn.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Rn.prototype.featuresVolumeControl=!0;Rn.prototype.featuresMuteControl=!0;Rn.prototype.featuresFullscreenResize=!1;Rn.prototype.featuresPlaybackRate=!1;Rn.prototype.featuresProgressEvents=!1;Rn.prototype.featuresSourceset=!1;Rn.prototype.featuresTimeupdateEvents=!1;Rn.prototype.featuresNativeTextTracks=!1;Rn.prototype.featuresVideoFrameCallback=!1;Rn.withSourceHandlers=function(t){t.registerSourceHandler=function(r,n){let i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),n===void 0&&(n=i.length),i.splice(n,0,r)},t.canPlayType=function(r){const n=t.sourceHandlers||[];let i;for(let s=0;s<n.length;s++)if(i=n[s].canPlayType(r),i)return i;return""},t.selectSourceHandler=function(r,n){const i=t.sourceHandlers||[];let s;for(let o=0;o<i.length;o++)if(s=i[o].canHandleSource(r,n),s)return i[o];return null},t.canPlaySource=function(r,n){const i=t.selectSourceHandler(r,n);return i?i.canHandleSource(r,n):""},["seekable","seeking","duration"].forEach(function(r){const n=this[r];typeof n=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(r){let n=t.selectSourceHandler(r,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:ri.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=n.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Ht.registerComponent("Tech",Rn);Rn.registerTech("Tech",Rn);Rn.defaultTechOrder_=[];const P0={},eO={},mT={};function EHe(t,e){P0[t]=P0[t]||[],P0[t].push(e)}function CHe(t,e,r){t.setTimeout(()=>Hp(e,P0[e.type],r,t),1)}function AHe(t,e){t.forEach(r=>r.setTech&&r.setTech(e))}function PHe(t,e,r){return t.reduceRight(f6(r),e[r]())}function kHe(t,e,r,n){return e[r](t.reduce(f6(r),n))}function q7(t,e,r,n=null){const i="call"+Ps(r),s=t.reduce(f6(i),n),o=s===mT,a=o?null:e[r](s);return DHe(t,r,a,o),a}const IHe={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},OHe={setCurrentTime:1,setMuted:1,setVolume:1},X7={play:1,pause:1};function f6(t){return(e,r)=>e===mT?mT:r[t]?r[t](e):e}function DHe(t,e,r,n){for(let i=t.length-1;i>=0;i--){const s=t[i];s[e]&&s[e](n,r)}}function MHe(t){eO[t.id()]=null}function RHe(t,e){const r=eO[t.id()];let n=null;if(r==null)return n=e(t),eO[t.id()]=[[e,n]],n;for(let i=0;i<r.length;i++){const[s,o]=r[i];s===e&&(n=o)}return n===null&&(n=e(t),r.push([e,n])),n}function Hp(t={},e=[],r,n,i=[],s=!1){const[o,...a]=e;if(typeof o=="string")Hp(t,P0[o],r,n,i,s);else if(o){const l=RHe(n,o);if(!l.setSource)return i.push(l),Hp(t,a,r,n,i,s);l.setSource(Object.assign({},t),function(u,d){if(u)return Hp(t,a,r,n,i,s);i.push(l),Hp(d,t.type===d.type?a:P0[d.type],r,n,i,s)})}else a.length?Hp(t,a,r,n,i,s):s?r(t,i):Hp(t,P0["*"],r,n,i,!0)}const $He={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},gT=function(t=""){const e=d6(t);return $He[e.toLowerCase()]||""},LHe=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const r=t.cache_.sources.filter(i=>i.src===e);if(r.length)return r[0].type;const n=t.$$("source");for(let i=0;i<n.length;i++){const s=n[i];if(s.type&&s.src&&s.src===e)return s.type}return gT(e)},bte=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(r){r=bte(r),Array.isArray(r)?e=e.concat(r):ud(r)&&e.push(r)}),t=e}else typeof t=="string"&&t.trim()?t=[Y7({src:t})]:ud(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[Y7(t)]:t=[];return t};function Y7(t){if(!t.type){const e=gT(t.src);e&&(t.type=e)}return t}var FHe=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-twitter">
      <path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5T1369.5 1125 1185 1335.5t-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5T285 1033q33 5 61 5 43 0 85-11-112-23-185.5-111.5T172 710v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5T884 653q-8-38-8-74 0-134 94.5-228.5T1199 256q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;class NHe extends Ht{constructor(e,r,n){const i=Ki({createEl:!1},r);if(super(e,i,n),!r.playerOptions.sources||r.playerOptions.sources.length===0)for(let s=0,o=r.playerOptions.techOrder;s<o.length;s++){const a=Ps(o[s]);let l=Rn.getTech(a);if(a||(l=Ht.getComponent(a)),l&&l.isSupported()){e.loadTech_(a);break}}else e.src(r.playerOptions.sources)}}Ht.registerComponent("MediaLoader",NHe);class wC extends Ht{constructor(e,r){super(e,r),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=n=>this.handleMouseOver(n),this.handleMouseOut_=n=>this.handleMouseOut(n),this.handleClick_=n=>this.handleClick(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.emitTapEvents(),this.enable()}createEl(e="div",r={},n={}){r=Object.assign({className:this.buildCSSClass(),tabIndex:0},r),e==="button"&&ri.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=r.tabIndex;const i=jn(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(jn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=jn("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,r=this.el()){if(e===void 0)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,sp(this.controlTextEl_,n),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&r.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){Mn.isEventKey(e,"Space")||Mn.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ht.registerComponent("ClickableComponent",wC);class tO extends wC{constructor(e,r){super(e,r),this.update(),this.update_=n=>this.update(n),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return jn("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const r=this.player().poster();this.setSrc(r),r?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(jn("picture",{className:"vjs-poster",tabIndex:-1},{},jn("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Wc(this.player_.play()):this.player_.pause())}}tO.prototype.crossorigin=tO.prototype.crossOrigin;Ht.registerComponent("PosterImage",tO);const Vl="#222",K7="#ccc",BHe={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function _4(t,e){let r;if(t.length===4)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)r=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function q_(t,e,r){try{t.style[e]=r}catch{return}}function Z7(t){return t?`${t}px`:""}class UHe extends Ht{constructor(e,r,n){super(e,r,n);const i=o=>this.updateDisplay(o),s=o=>{this.updateDisplayOverlay(),this.updateDisplay(o)};e.on("loadstart",o=>this.toggleDisplay(o)),e.on("texttrackchange",i),e.on("loadedmetadata",o=>{this.updateDisplayOverlay(),this.preselectTrack(o)}),e.ready(Qi(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const o=Ze.screen.orientation||Ze,a=Ze.screen.orientation?"change":"orientationchange";o.addEventListener(a,s),e.on("dispose",()=>o.removeEventListener(a,s));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},r=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let i,s,o;for(let a=0;a<r.length;a++){const l=r[a];n&&n.enabled&&n.language&&n.language===l.language&&l.kind in e?l.kind===n.kind?o=l:o||(o=l):n&&!n.enabled?(o=null,i=null,s=null):l.default&&(l.kind==="descriptions"&&!i?i=l:l.kind in e&&!s&&(s=l))}o?o.mode="showing":s?s.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof Ze.WebVTT=="function"&&Ze.WebVTT.processCues(Ze,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),r=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),r){const o=[];for(let a=0;a<e.length;++a){const l=e[a];l.mode==="showing"&&o.push(l)}this.updateForTrack(o);return}let n=null,i=null,s=e.length;for(;s--;){const o=e[s];o.mode==="showing"&&(o.kind==="descriptions"?n=o:i=o)}i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!Ze.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),r=this.player_.currentHeight(),n=e/r,i=this.player_.videoWidth()/this.player_.videoHeight();let s=0,o=0;Math.abs(n-i)>.1&&(n>i?s=Math.round((e-r*i)/2):o=Math.round((r-e/i)/2)),q_(this.el_,"insetInline",Z7(s)),q_(this.el_,"insetBlock",Z7(o))}updateDisplayState(e){const r=this.player_.textTrackSettings.getValues(),n=e.activeCues;let i=n.length;for(;i--;){const s=n[i];if(!s)continue;const o=s.displayState;if(r.color&&(o.firstChild.style.color=r.color),r.textOpacity&&q_(o.firstChild,"color",_4(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(o.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&q_(o.firstChild,"backgroundColor",_4(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?q_(o,"backgroundColor",_4(r.windowColor,r.windowOpacity)):o.style.backgroundColor=r.windowColor),r.edgeStyle&&(r.edgeStyle==="dropshadow"?o.firstChild.style.textShadow=`2px 2px 3px ${Vl}, 2px 2px 4px ${Vl}, 2px 2px 5px ${Vl}`:r.edgeStyle==="raised"?o.firstChild.style.textShadow=`1px 1px ${Vl}, 2px 2px ${Vl}, 3px 3px ${Vl}`:r.edgeStyle==="depressed"?o.firstChild.style.textShadow=`1px 1px ${K7}, 0 1px ${K7}, -1px -1px ${Vl}, 0 -1px ${Vl}`:r.edgeStyle==="uniform"&&(o.firstChild.style.textShadow=`0 0 4px ${Vl}, 0 0 4px ${Vl}, 0 0 4px ${Vl}, 0 0 4px ${Vl}`)),r.fontPercent&&r.fontPercent!==1){const a=Ze.parseFloat(o.style.fontSize);o.style.fontSize=a*r.fontPercent+"px",o.style.height="auto",o.style.top="auto"}r.fontFamily&&r.fontFamily!=="default"&&(r.fontFamily==="small-caps"?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=BHe[r.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof Ze.WebVTT!="function"||e.every(n=>!n.activeCues))return;const r=[];for(let n=0;n<e.length;++n){const i=e[n];for(let s=0;s<i.activeCues.length;++s)r.push(i.activeCues[s])}Ze.WebVTT.processCues(Ze,r,this.el_);for(let n=0;n<e.length;++n){const i=e[n];for(let s=0;s<i.activeCues.length;++s){const o=i.activeCues[s].displayState;A0(o,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:n)),i.language&&cv(o,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}Ht.registerComponent("TextTrackDisplay",UHe);class VHe extends Ht{createEl(){const e=this.player_.isAudio(),r=this.localize(e?"Audio Player":"Video Player"),n=jn("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Ht.registerComponent("LoadingSpinner",VHe);class Al extends wC{createEl(e,r={},n={}){e="button",r=Object.assign({className:this.buildCSSClass()},r),n=Object.assign({type:"button"},n);const i=jn(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(jn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,r={}){const n=this.constructor.name;return ri.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),Ht.prototype.addChild.call(this,e,r)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(Mn.isEventKey(e,"Space")||Mn.isEventKey(e,"Enter")){e.stopPropagation();return}super.handleKeyDown(e)}}Ht.registerComponent("Button",Al);class xte extends Al{constructor(e,r){super(e,r),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",n=>this.handleMouseDown(n))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const r=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Wc(r),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const s=()=>i.focus();o2(r)?r.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}xte.prototype.controlText_="Play Video";Ht.registerComponent("BigPlayButton",xte);class zHe extends Al{constructor(e,r){super(e,r),this.setIcon("cancel"),this.controlText(r&&r.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){Mn.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ht.registerComponent("CloseButton",zHe);class wte extends Al{constructor(e,r={}){super(e,r),r.replay=r.replay===void 0||r.replay,this.setIcon("play"),this.on(e,"play",n=>this.handlePlay(n)),this.on(e,"pause",n=>this.handlePause(n)),r.replay&&this.on(e,"ended",n=>this.handleEnded(n))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Wc(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",r=>this.handleSeeked(r))}}wte.prototype.controlText_="Play";Ht.registerComponent("PlayToggle",wte);class n_ extends Ht{constructor(e,r){super(e,r),this.on(e,["timeupdate","ended","seeking"],n=>this.update(n)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),r=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=jn("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return r.appendChild(n),this.contentEl_=jn("span",{className:`${e}-display`},{role:"presentation"}),r.appendChild(this.contentEl_),r}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=X0(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let r=this.textNode_;r&&this.contentEl_.firstChild!==r&&(r=null,ri.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=yr.createTextNode(this.formattedTime_),this.textNode_&&(r?this.contentEl_.replaceChild(this.textNode_,r):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}n_.prototype.labelText_="Time";n_.prototype.controlText_="Time";Ht.registerComponent("TimeDisplay",n_);class h6 extends n_{buildCSSClass(){return"vjs-current-time"}updateContent(e){let r;this.player_.ended()?r=this.player_.duration():r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(r)}}h6.prototype.labelText_="Current Time";h6.prototype.controlText_="Current Time";Ht.registerComponent("CurrentTimeDisplay",h6);class p6 extends n_{constructor(e,r){super(e,r);const n=i=>this.updateContent(i);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const r=this.player_.duration();this.updateTextNode_(r)}}p6.prototype.labelText_="Duration";p6.prototype.controlText_="Duration";Ht.registerComponent("DurationDisplay",p6);class jHe extends Ht{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),r=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return r.appendChild(n),e.appendChild(r),e}}Ht.registerComponent("TimeDivider",jHe);class m6 extends n_{constructor(e,r){super(e,r),this.on(e,"durationchange",n=>this.updateContent(n))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(jn("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let r;this.player_.ended()?r=0:this.player_.remainingTimeDisplay?r=this.player_.remainingTimeDisplay():r=this.player_.remainingTime(),this.updateTextNode_(r)}}m6.prototype.labelText_="Remaining Time";m6.prototype.controlText_="Remaining Time";Ht.registerComponent("RemainingTimeDisplay",m6);class HHe extends Ht{constructor(e,r){super(e,r),this.updateShowing(),this.on(this.player(),"durationchange",n=>this.updateShowing(n))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=jn("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(jn("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(yr.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}Ht.registerComponent("LiveDisplay",HHe);class Ste extends Al{constructor(e,r){super(e,r),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=n=>this.updateLiveEdgeStatus(n),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=jn("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}Ste.prototype.controlText_="Seek to live, currently playing live";Ht.registerComponent("SeekToLive",Ste);function f1(t,e,r){return t=Number(t),Math.min(r,Math.max(e,isNaN(t)?e:t))}var GHe=Object.freeze({__proto__:null,clamp:f1});class g6 extends Ht{constructor(e,r){super(e,r),this.handleMouseDown_=n=>this.handleMouseDown(n),this.handleMouseUp_=n=>this.handleMouseUp(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.handleClick_=n=>this.handleClick(n),this.handleMouseMove_=n=>this.handleMouseMove(n),this.update_=n=>this.update(n),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,r={},n={}){return r.className=r.className+" vjs-slider",r=Object.assign({tabIndex:0},r),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,r,n)}handleMouseDown(e){const r=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!dd&&e.preventDefault(),Kee(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(r,"mousemove",this.handleMouseMove_),this.on(r,"mouseup",this.handleMouseUp_),this.on(r,"touchmove",this.handleMouseMove_),this.on(r,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const r=this.bar.el_.ownerDocument;Zee(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const r=this.vertical()?"height":"width";this.bar.el().style[r]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(f1(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const r=gC(this.el_,e);return this.vertical()?r.y:r.x}handleKeyDown(e){Mn.isEventKey(e,"Left")||Mn.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Mn.isEventKey(e,"Right")||Mn.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Ht.registerComponent("Slider",g6);const y4=(t,e)=>f1(t/e*100,0,100).toFixed(2)+"%";class WHe extends Ht{constructor(e,r){super(e,r),this.partEls_=[],this.on(e,"progress",n=>this.update(n))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),r=jn("span",{className:"vjs-control-text"}),n=jn("span",{textContent:this.localize("Loaded")}),i=yr.createTextNode(": ");return this.percentageEl_=jn("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(r),r.appendChild(n),r.appendChild(i),r.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const r=this.player_.liveTracker,n=this.player_.buffered(),i=r&&r.isLive()?r.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),o=this.partEls_,a=y4(s,i);this.percent_!==a&&(this.el_.style.width=a,sp(this.percentageEl_,a),this.percent_=a);for(let l=0;l<n.length;l++){const u=n.start(l),d=n.end(l);let f=o[l];f||(f=this.el_.appendChild(jn()),o[l]=f),!(f.dataset.start===u&&f.dataset.end===d)&&(f.dataset.start=u,f.dataset.end=d,f.style.left=y4(u,s),f.style.width=y4(d-u,s))}for(let l=o.length;l>n.length;l--)this.el_.removeChild(o[l-1]);o.length=n.length})}}Ht.registerComponent("LoadProgressBar",WHe);class qHe extends Ht{constructor(e,r){super(e,r),this.update=fd(Qi(this,this.update),xu)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,r,n){const i=cb(this.el_),s=dv(this.player_.el()),o=e.width*r;if(!s||!i)return;const a=e.left-s.left+o,l=e.width-o+(s.right-e.right);let u=i.width/2;a<u?u+=u-a:l<u&&(u=l),u<0?u=0:u>i.width&&(u=i.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(n)}write(e){sp(this.el_,e)}updateTime(e,r,n,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const o=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const a=this.player_.liveTracker.liveWindow(),l=a-r*a;s=(l<1?"":"-")+X0(l,a)}else s=X0(n,o);this.update(e,r,s),i&&i()})}}Ht.registerComponent("TimeTooltip",qHe);class v6 extends Ht{constructor(e,r){super(e,r),this.setIcon("circle"),this.update=fd(Qi(this,this.update),xu)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,r){const n=this.getChild("timeTooltip");if(!n)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,r,i)}}v6.prototype.options_={children:[]};!Ea&&!cd&&v6.prototype.options_.children.push("timeTooltip");Ht.registerComponent("PlayProgressBar",v6);class Tte extends Ht{constructor(e,r){super(e,r),this.update=fd(Qi(this,this.update),xu)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r){const n=r*this.player_.duration();this.getChild("timeTooltip").updateTime(e,r,n,()=>{this.el_.style.left=`${e.width*r}px`})}}Tte.prototype.options_={children:["timeTooltip"]};Ht.registerComponent("MouseTimeDisplay",Tte);const px=5,Q7=12;class _6 extends g6{constructor(e,r){super(e,r),this.setEventHandlers_()}setEventHandlers_(){this.update_=Qi(this,this.update),this.update=fd(this.update_,xu),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in yr&&"visibilityState"in yr&&this.on(yr,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){yr.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,xu))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(yr.visibilityState==="hidden")return;const r=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const n=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let s=this.player_.duration();i&&i.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==r&&(this.el_.setAttribute("aria-valuenow",(r*100).toFixed(2)),this.percent_=r),(this.currentTime_!==n||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[X0(n,s),X0(s,s)],"{1} of {2}")),this.currentTime_=n,this.duration_=s),this.bar&&this.bar.update(dv(this.el()),this.getProgress())}),r}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let r;const n=this.player_.liveTracker;return n&&n.isLive()?(r=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(r=1)):r=e/this.player_.duration(),r}handleMouseDown(e){db(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,r=!1){if(!db(e)||isNaN(this.player_.duration()))return;!r&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let n;const i=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())n=i*this.player_.duration(),n===this.player_.duration()&&(n=n-.1);else{if(i>=.99){s.seekToLiveEdge();return}const o=s.seekableStart(),a=s.liveCurrentTime();if(n=o+i*s.liveWindow(),n>=a&&(n=a),n<=o&&(n=o+.1),n===1/0)return}this.userSeek_(n),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Wc(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+px)}stepBack(){this.userSeek_(this.player_.currentTime()-px)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const r=this.player_.liveTracker;if(Mn.isEventKey(e,"Space")||Mn.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Mn.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(Mn.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Mn(e))){e.preventDefault(),e.stopPropagation();const n=(Mn.codes[Mn(e)]-Mn.codes[0])*10/100;r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else Mn.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-px*Q7)):Mn.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+px*Q7)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in yr&&"visibilityState"in yr&&this.off(yr,"visibilitychange",this.toggleVisibility_),super.dispose()}}_6.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Ea&&!cd&&_6.prototype.options_.children.splice(1,0,"mouseTimeDisplay");Ht.registerComponent("SeekBar",_6);class Ete extends Ht{constructor(e,r){super(e,r),this.handleMouseMove=fd(Qi(this,this.handleMouseMove),xu),this.throttledHandleMouseSeek=fd(Qi(this,this.handleMouseSeek),xu),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.handleMouseDownHandler_=n=>this.handleMouseDown(n),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const r=this.getChild("seekBar");if(!r)return;const n=r.getChild("playProgressBar"),i=r.getChild("mouseTimeDisplay");if(!n&&!i)return;const s=r.el(),o=cb(s);let a=gC(s,e).x;a=f1(a,0,1),i&&i.update(o,a),n&&n.update(o,r.getProgress())}handleMouseSeek(e){const r=this.getChild("seekBar");r&&r.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Wc(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const r=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(r,"mousemove",this.throttledHandleMouseSeek),this.on(r,"touchmove",this.throttledHandleMouseSeek),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}Ete.prototype.options_={children:["seekBar"]};Ht.registerComponent("ProgressControl",Ete);class Cte extends Al{constructor(e,r){super(e,r),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],n=>this.handlePictureInPictureChange(n)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],n=>this.handlePictureInPictureEnabledChange(n)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){yr.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in Ze?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof yr.exitPictureInPicture=="function"&&super.show()}}Cte.prototype.controlText_="Picture-in-Picture";Ht.registerComponent("PictureInPictureToggle",Cte);class Ate extends Al{constructor(e,r){super(e,r),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",n=>this.handleFullscreenChange(n)),yr[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}Ate.prototype.controlText_="Fullscreen";Ht.registerComponent("FullscreenToggle",Ate);const XHe=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class YHe extends Ht{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}Ht.registerComponent("VolumeLevel",YHe);class KHe extends Ht{constructor(e,r){super(e,r),this.update=fd(Qi(this,this.update),xu)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,r,n,i){if(!n){const s=dv(this.el_),o=dv(this.player_.el()),a=e.width*r;if(!o||!s)return;const l=e.left-o.left+a,u=e.width-a+(o.right-e.right);let d=s.width/2;l<d?d+=d-l:u<d&&(d=u),d<0?d=0:d>s.width&&(d=s.width),this.el_.style.right=`-${d}px`}this.write(`${i}%`)}write(e){sp(this.el_,e)}updateVolume(e,r,n,i,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,r,n,i.toFixed(0)),s&&s()})}}Ht.registerComponent("VolumeLevelTooltip",KHe);class Pte extends Ht{constructor(e,r){super(e,r),this.update=fd(Qi(this,this.update),xu)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r,n){const i=100*r;this.getChild("volumeLevelTooltip").updateVolume(e,r,n,i,()=>{n?this.el_.style.bottom=`${e.height*r}px`:this.el_.style.left=`${e.width*r}px`})}}Pte.prototype.options_={children:["volumeLevelTooltip"]};Ht.registerComponent("MouseVolumeLevelDisplay",Pte);class SC extends g6{constructor(e,r){super(e,r),this.on("slideractive",n=>this.updateLastVolume_(n)),this.on(e,"volumechange",n=>this.updateARIAAttributes(n)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){db(e)&&super.handleMouseDown(e)}handleMouseMove(e){const r=this.getChild("mouseVolumeLevelDisplay");if(r){const n=this.el(),i=dv(n),s=this.vertical();let o=gC(n,e);o=s?o.y:o.x,o=f1(o,0,1),r.update(i,o,s)}db(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r),this.el_.setAttribute("aria-valuetext",r+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}SC.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Ea&&!cd&&SC.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");SC.prototype.playerEvent="volumechange";Ht.registerComponent("VolumeBar",SC);class kte extends Ht{constructor(e,r={}){r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||uv(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),super(e,r),XHe(this,e),this.throttledHandleMouseMove=fd(Qi(this,this.handleMouseMove),xu),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.on("mousedown",n=>this.handleMouseDown(n)),this.on("touchstart",n=>this.handleMouseDown(n)),this.on("mousemove",n=>this.handleMouseMove(n)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove),this.on(r,"touchmove",this.throttledHandleMouseMove),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove),this.off(r,"touchmove",this.throttledHandleMouseMove),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}kte.prototype.options_={children:["volumeBar"]};Ht.registerComponent("VolumeControl",kte);const ZHe=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class Ite extends Al{constructor(e,r){super(e,r),ZHe(this,e),this.on(e,["loadstart","volumechange"],n=>this.update(n))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.volume(),n=this.player_.lastVolume_();if(r===0){const i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let r=3;this.setIcon("volume-high"),Ea&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),r=0):e<.33?(this.setIcon("volume-low"),r=1):e<.67&&(this.setIcon("volume-medium"),r=2),pC(this.el_,[0,1,2,3].reduce((n,i)=>n+`${i?" ":""}vjs-vol-${i}`,"")),A0(this.el_,`vjs-vol-${r}`)}updateControlText_(){const r=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r)}}Ite.prototype.controlText_="Mute";Ht.registerComponent("MuteToggle",Ite);class Ote extends Ht{constructor(e,r={}){typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||uv(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),super(e,r),this.handleKeyPressHandler_=n=>this.handleKeyPress(n),this.on(e,["loadstart"],n=>this.volumePanelState_(n)),this.on(this.muteToggle,"keyup",n=>this.handleKeyPress(n)),this.on(this.volumeControl,"keyup",n=>this.handleVolumeControlKeyUp(n)),this.on("keydown",n=>this.handleKeyPress(n)),this.on("mouseover",n=>this.handleMouseOver(n)),this.on("mouseout",n=>this.handleMouseOut(n)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){Mn.isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Dl(yr,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),ta(yr,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){Mn.isEventKey(e,"Esc")&&this.handleMouseOut()}}Ote.prototype.options_={children:["muteToggle","volumeControl"]};Ht.registerComponent("VolumePanel",Ote);class Dte extends Al{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()?n.seekableEnd():this.player_.duration();let s;r+this.skipTime<=i?s=r+this.skipTime:s=i,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}Dte.prototype.controlText_="Skip Forward";Ht.registerComponent("SkipForward",Dte);class Mte extends Al{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()&&n.seekableStart();let s;i&&r-this.skipTime<=i?s=i:r>=this.skipTime?s=r-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}Mte.prototype.controlText_="Skip Backward";Ht.registerComponent("SkipBackward",Mte);class Rte extends Ht{constructor(e,r){super(e,r),r&&(this.menuButton_=r.menuButton),this.focusedChild_=-1,this.on("keydown",n=>this.handleKeyDown(n)),this.boundHandleBlur_=n=>this.handleBlur(n),this.boundHandleTapClick_=n=>this.handleTapClick(n)}addEventListenerForItem(e){e instanceof Ht&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Ht&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const r=this.addChild(e);r&&this.addEventListenerForItem(r)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=jn(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const r=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),Dl(r,"click",function(n){n.preventDefault(),n.stopImmediatePropagation()}),r}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const r=e.relatedTarget||yr.activeElement;if(!this.children().some(n=>n.el()===r)){const n=this.menuButton_;n&&n.buttonPressed_&&r!==n.el().firstChild&&n.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const r=this.children();if(!Array.isArray(r))return;const n=r.filter(i=>i.el()===e.target)[0];if(!n)return;n.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){Mn.isEventKey(e,"Left")||Mn.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(Mn.isEventKey(e,"Right")||Mn.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const r=this.children().slice();r.length&&r[0].hasClass("vjs-menu-title")&&r.shift(),r.length>0&&(e<0?e=0:e>=r.length&&(e=r.length-1),this.focusedChild_=e,r[e].el_.focus())}}Ht.registerComponent("Menu",Rte);class y6 extends Ht{constructor(e,r={}){super(e,r),this.menuButton_=new Al(e,r),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=Al.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Dl(yr,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new Rte(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const r=jn("li",{className:"vjs-menu-title",textContent:Ps(this.options_.title),tabIndex:-1}),n=new Ht(this.player_,{el:r});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const r=Al.prototype.buildCSSClass();return`vjs-menu-button ${e} ${r} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,r=this.menuButton_.el()){return this.menuButton_.controlText(e,r)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),ta(yr,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){Mn.isEventKey(e,"Esc")||Mn.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),Mn.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(Mn.isEventKey(e,"Up")||Mn.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(Mn.isEventKey(e,"Esc")||Mn.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(Mn.isEventKey(e,"Esc")||Mn.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Mn.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Ea&&Gee())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Ht.registerComponent("MenuButton",y6);class b6 extends y6{constructor(e,r){const n=r.tracks;if(super(e,r),this.items.length<=1&&this.hide(),!n)return;const i=Qi(this,this.update);n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)})}}Ht.registerComponent("TrackButton",b6);const QHe=["Tab","Esc","Up","Down","Right","Left"];class h1 extends wC{constructor(e,r){super(e,r),this.selectable=r.selectable,this.isSelected_=r.selected||!1,this.multiSelectable=r.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,r,n){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},r),n),s=jn("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(s):i.replaceChild(s,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){QHe.some(r=>Mn.isEventKey(e,r))||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Ht.registerComponent("MenuItem",h1);class p1 extends h1{constructor(e,r){const n=r.track,i=e.textTracks();r.label=n.label||n.language||"Unknown",r.selected=n.mode==="showing",super(e,r),this.track=n,this.kinds=(r.kinds||[r.kind||this.track.kind]).filter(Boolean);const s=(...a)=>{this.handleTracksChange.apply(this,a)},o=(...a)=>{this.handleSelectedLanguageChange.apply(this,a)};if(e.on(["loadstart","texttrackchange"],s),i.addEventListener("change",s),i.addEventListener("selectedlanguagechange",o),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),i.removeEventListener("change",s),i.removeEventListener("selectedlanguagechange",o)}),i.onchange===void 0){let a;this.on(["tap","click"],function(){if(typeof Ze.Event!="object")try{a=new Ze.Event("change")}catch{}a||(a=yr.createEvent("Event"),a.initEvent("change",!0,!0)),i.dispatchEvent(a)})}this.handleTracksChange()}handleClick(e){const r=this.track,n=this.player_.textTracks();if(super.handleClick(e),!!n)for(let i=0;i<n.length;i++){const s=n[i];this.kinds.indexOf(s.kind)!==-1&&(s===r?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const r=this.track.mode==="showing";r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Ht.registerComponent("TextTrackMenuItem",p1);class $te extends p1{constructor(e,r){r.track={player:e,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,super(e,r)}handleTracksChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,s=r.length;i<s;i++){const o=r[i];if(this.options_.kinds.indexOf(o.kind)>-1&&o.mode==="showing"){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,s=r.length;i<s;i++){const o=r[i];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&o.mode==="showing"){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Ht.registerComponent("OffTextTrackMenuItem",$te);class i_ extends b6{constructor(e,r={}){r.tracks=e.textTracks(),super(e,r)}createItems(e=[],r=p1){let n;this.label_&&(n=`${this.label_} off`),e.push(new $te(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<i.length;s++){const o=i[s];if(this.kinds_.indexOf(o.kind)>-1){const a=new r(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass(`vjs-${o.kind}-menu-item`),e.push(a)}}return e}}Ht.registerComponent("TextTrackButton",i_);class Lte extends h1{constructor(e,r){const n=r.track,i=r.cue,s=e.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=i.text,r.selected=i.startTime<=s&&s<i.endTime,super(e,r),this.track=n,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Ht.registerComponent("ChaptersTrackMenuItem",Lte);class x6 extends i_{constructor(e,r,n){super(e,r,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const r=this.findChaptersTrack();r!==this.track_?(this.setTrack(r),super.update()):(!this.items||r&&r.cues&&r.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let r=e.length-1;r>=0;r--){const n=e[r];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ps(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const r=this.track_.cues;if(!r)return e;for(let n=0,i=r.length;n<i;n++){const s=r[n],o=new Lte(this.player_,{track:this.track_,cue:s});e.push(o)}return e}}x6.prototype.kind_="chapters";x6.prototype.controlText_="Chapters";Ht.registerComponent("ChaptersButton",x6);class w6 extends i_{constructor(e,r,n){super(e,r,n),this.setIcon("audio-description");const i=e.textTracks(),s=Qi(this,this.handleTracksChange);i.addEventListener("change",s),this.on("dispose",function(){i.removeEventListener("change",s)})}handleTracksChange(e){const r=this.player().textTracks();let n=!1;for(let i=0,s=r.length;i<s;i++){const o=r[i];if(o.kind!==this.kind_&&o.mode==="showing"){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}w6.prototype.kind_="descriptions";w6.prototype.controlText_="Descriptions";Ht.registerComponent("DescriptionsButton",w6);class S6 extends i_{constructor(e,r,n){super(e,r,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}S6.prototype.kind_="subtitles";S6.prototype.controlText_="Subtitles";Ht.registerComponent("SubtitlesButton",S6);class T6 extends p1{constructor(e,r){r.track={player:e,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",super(e,r),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+r.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Ht.registerComponent("CaptionSettingsMenuItem",T6);class E6 extends i_{constructor(e,r,n){super(e,r,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new T6(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}E6.prototype.kind_="captions";E6.prototype.controlText_="Captions";Ht.registerComponent("CaptionsButton",E6);class Fte extends p1{createEl(e,r,n){const i=super.createEl(e,r,n),s=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):s.appendChild(jn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(jn("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}Ht.registerComponent("SubsCapsMenuItem",Fte);class C6 extends i_{constructor(e,r={}){super(e,r),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(Ps(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new T6(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,Fte),e}}C6.prototype.kinds_=["captions","subtitles"];C6.prototype.controlText_="Subtitles";Ht.registerComponent("SubsCapsButton",C6);class Nte extends h1{constructor(e,r){const n=r.track,i=e.audioTracks();r.label=n.label||n.language||"Unknown",r.selected=n.enabled,super(e,r),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const s=(...o)=>{this.handleTracksChange.apply(this,o)};i.addEventListener("change",s),this.on("dispose",()=>{i.removeEventListener("change",s)})}createEl(e,r,n){const i=super.createEl(e,r,n),s=i.querySelector(".vjs-menu-item-text");return["main-desc","description"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(jn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(jn("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Ht.registerComponent("AudioTrackMenuItem",Nte);class Bte extends b6{constructor(e,r={}){r.tracks=e.audioTracks(),super(e,r),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];e.push(new Nte(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}Bte.prototype.controlText_="Audio Track";Ht.registerComponent("AudioTrackButton",Bte);class A6 extends h1{constructor(e,r){const n=r.rate,i=parseFloat(n,10);r.label=n,r.selected=i===e.playbackRate(),r.selectable=!0,r.multiSelectable=!1,super(e,r),this.label=n,this.rate=i,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}A6.prototype.contentElType="button";Ht.registerComponent("PlaybackRateMenuItem",A6);class Ute extends y6{constructor(e,r){super(e,r),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",n=>this.updateVisibility(n)),this.on(e,"ratechange",n=>this.updateLabel(n)),this.on(e,"playbackrateschange",n=>this.handlePlaybackRateschange(n))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=jn("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),r=[];for(let n=e.length-1;n>=0;n--)r.push(new A6(this.player(),{rate:e[n]+"x"}));return r}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}Ute.prototype.controlText_="Playback Rate";Ht.registerComponent("PlaybackRateMenuButton",Ute);class Vte extends Ht{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",r={},n={}){return r.className||(r.className=this.buildCSSClass()),super.createEl(e,r,n)}}Ht.registerComponent("Spacer",Vte);class JHe extends Vte{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}Ht.registerComponent("CustomControlSpacer",JHe);class zte extends Ht{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}zte.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};Ht.registerComponent("ControlBar",zte);class jte extends r_{constructor(e,r){super(e,r),this.on(e,"error",n=>{this.close(),this.open(n)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}jte.prototype.options_=Object.assign({},r_.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Ht.registerComponent("ErrorDisplay",jte);const b4="vjs-text-track-settings",J7=["#000","Black"],eV=["#00F","Blue"],tV=["#0FF","Cyan"],rV=["#0F0","Green"],nV=["#F0F","Magenta"],iV=["#F00","Red"],sV=["#FFF","White"],oV=["#FF0","Yellow"],x4=["1","Opaque"],w4=["0.5","Semi-Transparent"],aV=["0","Transparent"],n0={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[J7,sV,iV,rV,eV,oV,nV,tV]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[x4,w4,aV]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[sV,J7,iV,rV,eV,oV,nV,tV]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[x4,w4]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[aV,w4,x4]}};n0.windowColor.options=n0.backgroundColor.options;function Hte(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function eGe(t,e){const r=t.options[t.options.selectedIndex].value;return Hte(r,e)}function tGe(t,e,r){if(e){for(let n=0;n<t.options.length;n++)if(Hte(t.options[n].value,r)===e){t.selectedIndex=n;break}}}class rGe extends r_{constructor(e,r){r.temporary=!1,super(e,r),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=jn("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),r.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),"click",()=>{this.setDefaults(),this.updateDisplay()}),yg(n0,n=>{this.on(this.$(n.selector),"change",this.updateDisplay)}),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,r="",n="label"){const i=n0[e],s=i.id.replace("%s",this.id_),o=[r,s].join(" ").trim(),a=`vjs_select_${uc()}`;return[`<${n} id="${s}"${n==="label"?` for="${a}" class="vjs-label"`:""}>`,this.localize(i.label),`</${n}>`,`<select aria-labelledby="${o}" id="${a}">`].concat(i.options.map(l=>{const u=s+"-"+l[1].replace(/\W+/g,"");return[`<option id="${u}" value="${l[0]}" `,`aria-labelledby="${o} ${u}">`,this.localize(l[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){const e=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){const e=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createElWinColor_(){const e=`captions-window-${this.id_}`;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${e}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",e),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}createElColors_(){return jn("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return jn("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const e=this.localize("restore all settings to the default values");return jn("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${e}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${e}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return Bee(n0,(e,r,n)=>{const i=eGe(this.$(r.selector),r.parser);return i!==void 0&&(e[n]=i),e},{})}setValues(e){yg(n0,(r,n)=>{tGe(this.$(r.selector),e[n],r.parser)})}setDefaults(){yg(n0,e=>{const r=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=r})}restoreSettings(){let e;try{e=JSON.parse(Ze.localStorage.getItem(b4))}catch(r){ri.warn(r)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?Ze.localStorage.setItem(b4,JSON.stringify(e)):Ze.localStorage.removeItem(b4)}catch(r){ri.warn(r)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const e=this.player_.controlBar,r=e&&e.subsCapsButton,n=e&&e.captionsButton;r?r.focus():n&&n.focus()}handleLanguagechange(){this.fill()}}Ht.registerComponent("TextTrackSettings",rGe);class nGe extends Ht{constructor(e,r){let n=r.ResizeObserver||Ze.ResizeObserver;r.ResizeObserver===null&&(n=!1);const i=Ki({createEl:!n,reportTouchActivity:!1},r);super(e,i),this.ResizeObserver=r.ResizeObserver||Ze.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=ate(()=>{this.resizeHandler()},100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let o=this.unloadListener_=function(){ta(this,"resize",s),ta(this,"unload",o),o=null};Dl(this.el_.contentWindow,"unload",o),Dl(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Ht.registerComponent("ResizeManager",nGe);const iGe={trackingThreshold:20,liveTolerance:15};class sGe extends Ht{constructor(e,r){const n=Ki(iGe,r,{createEl:!1});super(e,n),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const r=Number(Ze.performance.now().toFixed(4)),n=this.lastTime_===-1?0:(r-this.lastTime_)/1e3;this.lastTime_=r,this.pastSeekEnd_=this.pastSeekEnd()+n;const i=this.liveCurrentTime(),s=this.player_.currentTime();let o=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,xu),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.end(n));return r.length?r.sort()[r.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.start(n));return r.length?r.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Ht.registerComponent("LiveTracker",sGe);class oGe extends Ht{constructor(e,r){super(e,r),this.on("statechanged",n=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:jn("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${uc()}`}),description:jn("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${uc()}`})},jn("div",{className:"vjs-title-bar"},{},Uee(this.els))}updateDom_(){const e=this.player_.tech_,r=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const s=this.state[i],o=this.els[i],a=n[i];vC(o),s&&sp(o,s),r&&(r.removeAttribute(a),s&&r.setAttribute(a,o.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,r=e&&e.el_;r&&(r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Ht.registerComponent("TitleBar",oGe);const rO=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const r=t.$$("source"),n=[];let i="";if(!r.length)return!1;for(let s=0;s<r.length;s++){const o=r[s].src;o&&n.indexOf(o)===-1&&n.push(o)}return n.length?(n.length===1&&(i=n[0]),t.triggerSourceset(i),!0):!1},aGe=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=yr.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const r=yr.createDocumentFragment();for(;e.childNodes.length;)r.appendChild(e.childNodes[0]);return this.innerText="",Ze.Element.prototype.appendChild.call(this,r),this.innerHTML}}),Gte=(t,e)=>{let r={};for(let n=0;n<t.length&&(r=Object.getOwnPropertyDescriptor(t[n],e),!(r&&r.set&&r.get));n++);return r.enumerable=!0,r.configurable=!0,r},lGe=t=>Gte([t.el(),Ze.HTMLMediaElement.prototype,Ze.Element.prototype,aGe],"innerHTML"),lV=function(t){const e=t.el();if(e.resetSourceWatch_)return;const r={},n=lGe(t),i=s=>(...o)=>{const a=s.apply(e,o);return rO(t),a};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(r[s]=e[s],e[s]=i(r[s]))}),Object.defineProperty(e,"innerHTML",Ki(n,{set:i(n.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(r).forEach(s=>{e[s]=r[s]}),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)},uGe=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?vte(Ze.Element.prototype.getAttribute.call(this,"src")):""},set(t){return Ze.Element.prototype.setAttribute.call(this,"src",t),t}}),cGe=t=>Gte([t.el(),Ze.HTMLMediaElement.prototype,uGe],"src"),dGe=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const r=cGe(t),n=e.setAttribute,i=e.load;Object.defineProperty(e,"src",Ki(r,{set:s=>{const o=r.set.call(e,s);return t.triggerSourceset(e.src),o}})),e.setAttribute=(s,o)=>{const a=n.call(e,s,o);return/src/i.test(s)&&t.triggerSourceset(e.src),a},e.load=()=>{const s=i.call(e);return rO(t)||(t.triggerSourceset(""),lV(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):rO(t)||lV(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=i,e.setAttribute=n,Object.defineProperty(e,"src",r),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Br extends Rn{constructor(e,r){super(e,r);const n=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",n&&(this.el_.currentSrc!==n.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let o=s.length;const a=[];for(;o--;){const l=s[o];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!i&&!this.el_.hasAttribute("crossorigin")&&xC(l.src)&&(i=!0)):a.push(l))}for(let l=0;l<a.length;l++)this.el_.removeChild(a[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&ri.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(ub||fC)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Br.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){dGe(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let r;const n=()=>{r=[];for(let s=0;s<e.length;s++){const o=e[s];o.kind==="metadata"&&r.push({track:o,storedMode:o.mode})}};n(),e.addEventListener("change",n),this.on("dispose",()=>e.removeEventListener("change",n));const i=()=>{for(let s=0;s<r.length;s++){const o=r[s];o.track.mode==="disabled"&&o.track.mode!==o.storedMode&&(o.track.mode=o.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)})}overrideNative_(e,r){if(r!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach(i=>{this.el()[`${n}Tracks`].removeEventListener(i,this[`${n}TracksListeners_`][i])}),this[`featuresNative${e}Tracks`]=!r,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const r=fu[e],n=this.el()[r.getterName],i=this[r.getterName]();if(!this[`featuresNative${r.capitalName}Tracks`]||!n||!n.addEventListener)return;const s={change:a=>{const l={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(l),e==="text"&&this[pv.remoteText.getterName]().trigger(l)},addtrack(a){i.addTrack(a.track)},removetrack(a){i.removeTrack(a.track)}},o=function(){const a=[];for(let l=0;l<i.length;l++){let u=!1;for(let d=0;d<n.length;d++)if(n[d]===i[l]){u=!0;break}u||a.push(i[l])}for(;a.length;)i.removeTrack(a.shift())};this[r.getterName+"Listeners_"]=s,Object.keys(s).forEach(a=>{const l=s[a];n.addEventListener(a,l),this.on("dispose",u=>n.removeEventListener(a,l))}),this.on("loadstart",o),this.on("dispose",a=>this.off("loadstart",o))}proxyNativeTracks_(){fu.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),Br.disposeMediaElement(e),e=n}else{e=yr.createElement("video");const n=this.options_.tag&&mh(this.options_.tag),i=Ki({},n);(!ub||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,Xee(e,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&cv(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const r=["loop","muted","playsinline","autoplay"];for(let n=0;n<r.length;n++){const i=r[n],s=this.options_[i];typeof s<"u"&&(s?cv(e,i,i):mC(e,i),e[i]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let n=!1;const i=function(){n=!0};this.on("loadstart",i);const s=function(){n||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",s),n||this.trigger("loadstart")});return}const r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(n){this.trigger(n)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&hC?this.el_.fastSeek(e):this.el_.currentTime=e}catch(r){ri(r,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&cd&&dd&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},r=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",()=>{this.off("webkitbeginfullscreen",r),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Wc(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}},0);else try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){Br.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,r,n):super.addTextTrack(e,r,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const r=yr.createElement("track");return e.kind&&(r.kind=e.kind),e.label&&(r.label=e.label),(e.language||e.srclang)&&(r.srclang=e.language||e.srclang),e.default&&(r.default=e.default),e.id&&(r.id=e.id),e.src&&(r.src=e.src),r}addRemoteTextTrack(e,r){const n=super.addRemoteTextTrack(e,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const r=this.$$("track");let n=r.length;for(;n--;)(e===r[n]||e===r[n].track)&&this.el().removeChild(r[n])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),Ze.performance&&(e.creationTime=Ze.performance.now()),e}}uC(Br,"TEST_VID",function(){if(!Jv())return;const t=yr.createElement("video"),e=yr.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Br.isSupported=function(){try{Br.TEST_VID.volume=.5}catch{return!1}return!!(Br.TEST_VID&&Br.TEST_VID.canPlayType)};Br.canPlayType=function(t){return Br.TEST_VID.canPlayType(t)};Br.canPlaySource=function(t,e){return Br.canPlayType(t.type)};Br.canControlVolume=function(){try{const t=Br.TEST_VID.volume;Br.TEST_VID.volume=t/2+.1;const e=t!==Br.TEST_VID.volume;return e&&Ea?(Ze.setTimeout(()=>{Br&&Br.prototype&&(Br.prototype.featuresVolumeControl=t!==Br.TEST_VID.volume)}),!1):e}catch{return!1}};Br.canMuteVolume=function(){try{const t=Br.TEST_VID.muted;return Br.TEST_VID.muted=!t,Br.TEST_VID.muted?cv(Br.TEST_VID,"muted","muted"):mC(Br.TEST_VID,"muted","muted"),t!==Br.TEST_VID.muted}catch{return!1}};Br.canControlPlaybackRate=function(){if(cd&&dd&&cC<58)return!1;try{const t=Br.TEST_VID.playbackRate;return Br.TEST_VID.playbackRate=t/2+.1,t!==Br.TEST_VID.playbackRate}catch{return!1}};Br.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(yr.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(yr.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(yr.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(yr.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Br.supportsNativeTextTracks=function(){return hC||Ea&&dd};Br.supportsNativeVideoTracks=function(){return!!(Br.TEST_VID&&Br.TEST_VID.videoTracks)};Br.supportsNativeAudioTracks=function(){return!!(Br.TEST_VID&&Br.TEST_VID.audioTracks)};Br.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){uC(Br.prototype,t,()=>Br[e](),!0)});Br.prototype.featuresVolumeControl=Br.canControlVolume();Br.prototype.movingMediaElementInDOM=!Ea;Br.prototype.featuresFullscreenResize=!0;Br.prototype.featuresProgressEvents=!0;Br.prototype.featuresTimeupdateEvents=!0;Br.prototype.featuresVideoFrameCallback=!!(Br.TEST_VID&&Br.TEST_VID.requestVideoFrameCallback);Br.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Br.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let r=e.length;for(;r--;)t.removeChild(e[r]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Br.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Br.prototype["set"+Ps(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Br.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Br.prototype["set"+Ps(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Br.prototype[t]=function(){return this.el_[t]()}});Rn.withSourceHandlers(Br);Br.nativeSourceHandler={};Br.nativeSourceHandler.canPlayType=function(t){try{return Br.TEST_VID.canPlayType(t)}catch{return""}};Br.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Br.nativeSourceHandler.canPlayType(t.type);if(t.src){const r=d6(t.src);return Br.nativeSourceHandler.canPlayType(`video/${r}`)}return""};Br.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)};Br.nativeSourceHandler.dispose=function(){};Br.registerSourceHandler(Br.nativeSourceHandler);Rn.registerTech("Html5",Br);const Wte=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],S4={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},nO=["tiny","xsmall","small","medium","large","xlarge","huge"],Kw={};nO.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;Kw[t]=`vjs-layout-${e}`});const fGe={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class ss extends Ht{constructor(e,r,n){if(e.id=e.id||r.id||`vjs_video_${uc()}`,r=Object.assign(ss.getTagSettings(e),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language){const o=e.closest("[lang]");o&&(r.language=o.getAttribute("lang"))}if(super(null,r,n),this.boundDocumentFullscreenChange_=o=>this.documentFullscreenChange_(o),this.boundFullWindowOnEscKey_=o=>this.fullWindowOnEscKey(o),this.boundUpdateStyleEl_=o=>this.updateStyleEl_(o),this.boundApplyInitTime_=o=>this.applyInitTime_(o),this.boundUpdateCurrentBreakpoint_=o=>this.updateCurrentBreakpoint_(o),this.boundHandleTechClick_=o=>this.handleTechClick_(o),this.boundHandleTechDoubleClick_=o=>this.handleTechDoubleClick_(o),this.boundHandleTechTouchStart_=o=>this.handleTechTouchStart_(o),this.boundHandleTechTouchMove_=o=>this.handleTechTouchMove_(o),this.boundHandleTechTouchEnd_=o=>this.handleTechTouchEnd_(o),this.boundHandleTechTap_=o=>this.handleTechTap_(o),this.isFullscreen_=!1,this.log=Fee(this.id_),this.fsApi_=cT,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&mh(e),this.language(this.options_.language),r.languages){const o={};Object.getOwnPropertyNames(r.languages).forEach(function(a){o[a.toLowerCase()]=r.languages[a]}),this.languages_=o}else this.languages_=ss.prototype.options_.languages;this.resetCache_(),this.poster_=r.poster||"",this.controls_=!!r.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(o=>{if(typeof this[o]!="function")throw new Error(`plugin "${o}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),a6(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Dl(yr,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=Ki(this.options_);if(r.plugins&&Object.keys(r.plugins).forEach(o=>{this[o](r.plugins[o])}),r.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(r.playbackRates),r.experimentalSvgIcons){const a=new Ze.DOMParser().parseFromString(FHe,"image/svg+xml");if(a.querySelector("parsererror"))ri.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=a.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),ub&&this.addClass("vjs-touch-enabled"),Ea||this.addClass("vjs-workinghover"),ss.players[this.id_]=this;const s=WI.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",o=>this.listenForUserActivity_(o)),this.on("keydown",o=>this.handleKeyDown(o)),this.on("languagechange",o=>this.handleLanguagechange(o)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),ta(yr,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ta(yr,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),ss.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),MHe(this),ga.names.forEach(e=>{const r=ga[e],n=this[r.getterName]();n&&n.off&&n.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,r,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";n?r=this.el_=e.parentNode:i||(r=this.el_=super.createEl("div"));const s=mh(e);if(i){for(r=this.el_=e,e=this.tag=yr.createElement("video");r.children.length;)e.appendChild(r.firstChild);i2(r,"video-js")||A0(r,"video-js"),r.appendChild(e),n=this.playerElIngest_=r,Object.keys(r).forEach(a=>{try{e[a]=r[a]}catch{}})}if(e.setAttribute("tabindex","-1"),s.tabindex="-1",dd&&dC&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(a){i&&a==="class"||r.setAttribute(a,s[a]),i&&e.setAttribute(a,s[a])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=r.player=this,this.addClass("vjs-paused"),Ze.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=ste("vjs-styles-dimensions");const a=Gh(".vjs-styles-defaults"),l=Gh("head");l.insertBefore(this.styleEl_,a?a.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let a=0;a<o.length;a++){const l=o.item(a);A0(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(r,e),XI(e,r),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=r,r}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){ri.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,r){const n=e+"_";if(r===void 0)return this[n]||0;if(r===""||r==="auto"){this[n]=void 0,this.updateStyleEl_();return}const i=parseFloat(r);if(isNaN(i)){ri.error(`Improper value "${r}" supplied for for ${e}`);return}this[n]=i,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,hf(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),uHe(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(Ze.VIDEOJS_NO_DYNAMIC_STYLE===!0){const a=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),l>=0&&(u.height=l));return}let e,r,n,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?n=this.aspectRatio_:this.videoWidth()>0?n=this.videoWidth()+":"+this.videoHeight():n="16:9";const s=n.split(":"),o=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/o:e=this.videoWidth()||300,this.height_!==void 0?r=this.height_:r=e*o,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),ote(this.styleEl_,`
      .${i} {
        width: ${e}px;
        height: ${r}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${o*100}%;
      }
    `)}loadTech_(e,r){this.tech_&&this.unloadTech_();const n=Ps(e),i=e.charAt(0).toLowerCase()+e.slice(1);n!=="Html5"&&this.tag&&(Rn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const o={source:r,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};ga.names.forEach(l=>{const u=ga[l];o[u.getterName]=this[u.privateName]}),Object.assign(o,this.options_[n]),Object.assign(o,this.options_[i]),Object.assign(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),r&&r.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);const a=Rn.getTech(e);if(!a)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);this.tech_=new a(o),this.tech_.ready(Qi(this,this.handleTechReady_),!0),j7.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Wte.forEach(l=>{this.on(this.tech_,l,u=>this[`handleTech${Ps(l)}_`](u))}),Object.keys(S4).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${S4[l]}_`].bind(this),event:u});return}this[`handleTech${S4[l]}_`](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(n!=="Html5"||!this.tag)&&XI(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){ga.names.forEach(e=>{const r=ga[e];this[r.privateName]=this[r.getterName]()}),this.textTracksJson_=j7.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&ri.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":WI}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const r=()=>{const i=this.muted();this.muted(!0);const s=()=>{this.muted(i)};this.playTerminatedQueue_.push(s);const o=this.play();if(o2(o))return o.catch(a=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${a||""}`)})};let n;if(e==="any"&&!this.muted()?(n=this.play(),o2(n)&&(n=n.catch(r))):e==="muted"&&!this.muted()?n=r():n=this.play(),!!o2(n))return n.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let r=e,n="";typeof r!="string"&&(r=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!n&&(n=LHe(this,r)),this.cache_.source=Ki({},e,{src:r,type:n});const i=this.cache_.sources.filter(l=>l.src&&l.src===r),s=[],o=this.$$("source"),a=[];for(let l=0;l<o.length;l++){const u=mh(o[l]);s.push(u),u.src&&u.src===r&&a.push(u.src)}a.length&&!i.length?this.cache_.sources=s:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r}handleTechSourceset_(e){if(!this.changingSrc_){let r=s=>this.updateSourceCaches_(s);const n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(r=()=>{}),r(i),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const o=this.techGet_("currentSrc");this.lastSource_.tech=o,this.updateSourceCaches_(o)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),r=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",r))};this.on("timeupdate",r)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Wc(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const r=e.target.player;if(r&&r!==this)return;const n=this.el();let i=yr[this.fsApi_.fullscreenElement]===n;!i&&n.matches&&(i=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,r){r&&(r.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(r.isFullscreen))}handleTechFullscreenError_(e,r){this.trigger("fullscreenerror",r)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,r){this.ready(function(){if(e in OHe)return kHe(this.middleware_,this.tech_,e,r);if(e in X7)return q7(this.middleware_,this.tech_,e,r);try{this.tech_&&this.tech_[e](r)}catch(n){throw ri(n),n}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in IHe)return PHe(this.middleware_,this.tech_,e);if(e in X7)return q7(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(r){throw this.tech_[e]===void 0?(ri(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,r),r):r.name==="TypeError"?(ri(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,r),this.tech_.isReady_=!1,r):(ri(r),r)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Wc){this.playCallbacks_.push(e);const r=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),n=!!(hC||Ea);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r){this.waitToPlay_=o=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!r&&n&&this.load();return}const i=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(r){r()})}runPlayCallbacks_(e){const r=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],r.forEach(function(n){n(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Ju(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Ju(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=Ju(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return mte(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),r=this.duration();let n=e.end(e.length-1);return n>r&&(n=r),n}volume(e){let r;if(e!==void 0){r=Math.max(0,Math.min(1,e)),this.cache_.volume=r,this.techCall_("setVolume",r),r>0&&this.lastVolume_(r);return}return r=parseFloat(this.techGet_("volume")),isNaN(r)?1:r}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const r=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==r&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const r=this;return new Promise((n,i)=>{function s(){r.off("fullscreenerror",a),r.off("fullscreenchange",o)}function o(){s(),n()}function a(u,d){s(),i(d)}r.one("fullscreenchange",o),r.one("fullscreenerror",a);const l=r.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(n,i))})}requestFullscreenHelper_(e){let r;if(this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(r=e)),this.fsApi_.requestFullscreen){const n=this.el_[this.fsApi_.requestFullscreen](r);return n&&n.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),n}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((r,n)=>{function i(){e.off("fullscreenerror",o),e.off("fullscreenchange",s)}function s(){i(),r()}function o(l,u){i(),n(u)}e.one("fullscreenchange",s),e.one("fullscreenerror",o);const a=e.exitFullscreenHelper_();a&&(a.then(i,i),a.then(r,n))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=yr[this.fsApi_.exitFullscreen]();return e&&Wc(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=yr.documentElement.style.overflow,Dl(yr,"keydown",this.boundFullWindowOnEscKey_),yr.documentElement.style.overflow="hidden",A0(yr.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){Mn.isEventKey(e,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,ta(yr,"keydown",this.boundFullWindowOnEscKey_),yr.documentElement.style.overflow=this.docOrigOverflow,pC(yr.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&Ze.documentPictureInPicture){const e=yr.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(jn("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),Ze.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(r=>(rte(r),this.el_.parentNode.insertBefore(e,this.el_),r.document.body.appendChild(this.el_),r.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),r.addEventListener("pagehide",n=>{const i=n.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),r))}return"pictureInPictureEnabled"in yr&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(Ze.documentPictureInPicture&&Ze.documentPictureInPicture.window)return Ze.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in yr)return yr.exitPictureInPicture()}handleKeyDown(e){const{userActions:r}=this.options_;!r||!r.hotkeys||(i=>{const s=i.tagName.toLowerCase();if(i.isContentEditable)return!0;const o=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?o.indexOf(i.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof r.hotkeys=="function"?r.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const r=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=o=>Mn.isEventKey(o,"f"),muteKey:i=o=>Mn.isEventKey(o,"m"),playPauseKey:s=o=>Mn.isEventKey(o,"k")||Mn.isEventKey(o,"Space")}=r;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const o=Ht.getComponent("FullscreenToggle");yr[this.fsApi_.fullscreenEnabled]!==!1&&o.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),Ht.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Ht.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let r;for(let n=0,i=this.options_.techOrder;n<i.length;n++){const s=i[n];let o=Rn.getTech(s);if(o||(o=Ht.getComponent(s)),!o){ri.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(o.isSupported()&&(r=o.canPlayType(e),r))return r}return""}selectSource(e){const r=this.options_.techOrder.map(a=>[a,Rn.getTech(a)]).filter(([a,l])=>l?l.isSupported():(ri.error(`The "${a}" tech is undefined. Skipped browser support check for that tech.`),!1)),n=function(a,l,u){let d;return a.some(f=>l.some(h=>{if(d=u(f,h),d)return!0})),d};let i;const s=a=>(l,u)=>a(u,l),o=([a,l],u)=>{if(l.canPlaySource(u,this.options_[a.toLowerCase()]))return{source:u,tech:a}};return this.options_.sourceOrder?i=n(e,r,s(o)):i=n(r,e,o),i||!1}handleSrc_(e,r){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=bte(e);if(!n.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,r||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),CHe(this,n[0],(i,s)=>{if(this.middleware_=s,r||(this.cache_.sources=n),this.updateSourceCaches_(i),this.src_(i)){if(n.length>1)return this.handleSrc_(n.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}AHe(s,this.tech_)}),n.length>1){const i=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},s=()=>{this.off("error",i)};this.one("error",i),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const r=this.selectSource([e]);return r?dte(r.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Wc(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),hf(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:r,progressControl:n,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:s}=n||{};e&&e.updateContent(),r&&r.updateContent(),i&&i.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),r=[];return Object.keys(e).length!==0&&r.push(e),this.cache_.sources||r}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let r;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),r=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,r=typeof r>"u"?this.options_.autoplay:r,this.tech_&&this.techCall_("setAutoplay",r)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Hh("beforeerror").forEach(r=>{const n=r(this,e);if(!(ud(n)&&!Array.isArray(n)||typeof n=="string"||typeof n=="number"||n===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=n}),this.options_.suppressNotSupportedError&&e&&e.code===4){const r=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),this.one("loadstart",function(){this.off(["click","touchstart"],r)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new ya(e),this.addClass("vjs-error"),ri.error(`(CODE:${this.error_.code} ${ya.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Hh("error").forEach(r=>r(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(r){r.stopPropagation(),r.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,r,n;const i=Qi(this,this.reportUserActivity),s=function(f){(f.screenX!==r||f.screenY!==n)&&(r=f.screenX,n=f.screenY,i())},o=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},a=function(f){i(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",s),this.on("mouseup",a),this.on("mouseleave",a);const l=this.getChild("controlBar");l&&!Ea&&!cd&&(l.on("mouseenter",function(f){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(f){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let u;const d=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const f=this.options_.inactivityTimeout;f<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},f))};this.setInterval(d,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),r=this.getChild("ControlBar"),n=r&&r.currentHeight();e.forEach(i=>{i!==r&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),Promise.all(r).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,r,n){if(this.tech_)return this.tech_.addTextTrack(e,r,n)}addRemoteTextTrack(e,r){if(this.tech_)return this.tech_.addRemoteTextTrack(e,r)}removeRemoteTextTrack(e={}){let{track:r}=e;if(r||(r=e),this.tech_)return this.tech_.removeRemoteTextTrack(r)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),hf(this)&&this.trigger("languagechange"))}languages(){return Ki(ss.prototype.options_.languages,this.languages_)}toJSON(){const e=Ki(this.options_),r=e.tracks;e.tracks=[];for(let n=0;n<r.length;n++){let i=r[n];i=Ki(i),i.player=void 0,e.tracks[n]=i}return e}createModal(e,r){r=r||{},r.content=e||"";const n=new r_(this,r);return this.addChild(n),n.on("dispose",()=>{this.removeChild(n)}),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),r=this.currentWidth();for(let n=0;n<nO.length;n++){const i=nO[n],s=this.breakpoints_[i];if(r<=s){if(e===i)return;e&&this.removeClass(Kw[e]),this.addClass(Kw[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},fGe,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const r=this.responsive_;if(e!==r)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Kw[this.breakpoint_]||""}loadMedia(e,r){if(!e||typeof e!="object")return;const n=this.crossOrigin();this.reset(),this.cache_.media=Ki(e);const{artist:i,artwork:s,description:o,poster:a,src:l,textTracks:u,title:d}=this.cache_.media;!s&&a&&(this.cache_.media.artwork=[{src:a,type:gT(a)}]),n&&this.crossOrigin(n),l&&this.src(l),a&&this.poster(a),Array.isArray(u)&&u.forEach(f=>this.addRemoteTextTrack(f,!1)),this.titleBar&&this.titleBar.update({title:d,description:o||i||""}),this.ready(r)}getMedia(){if(!this.cache_.media){const e=this.poster(),r=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),i={src:r,textTracks:n};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:gT(i.poster)}]),i}return Ki(this.cache_.media)}static getTagSettings(e){const r={sources:[],tracks:[]},n=mh(e),i=n["data-setup"];if(i2(e,"vjs-fill")&&(n.fill=!0),i2(e,"vjs-fluid")&&(n.fluid=!0),i!==null){const[s,o]=Y7e(i||"{}");s&&ri.error(s),Object.assign(n,o)}if(Object.assign(r,n),e.hasChildNodes()){const s=e.childNodes;for(let o=0,a=s.length;o<a;o++){const l=s[o],u=l.nodeName.toLowerCase();u==="source"?r.sources.push(mh(l)):u==="track"&&r.tracks.push(mh(l))}}return r}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(r=>typeof r=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}ga.names.forEach(function(t){const e=ga[t];ss.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});ss.prototype.crossorigin=ss.prototype.crossOrigin;ss.players={};const X_=Ze.navigator;ss.prototype.options_={techOrder:Rn.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:X_&&(X_.languages&&X_.languages[0]||X_.userLanguage||X_.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,enableSmoothSeeking:!1};Wte.forEach(function(t){ss.prototype[`handleTech${Ps(t)}_`]=function(){return this.trigger(t)}});Ht.registerComponent("Player",ss);const vT="plugin",wg="activePlugins_",tg={},_T=t=>tg.hasOwnProperty(t),Zw=t=>_T(t)?tg[t]:void 0,qte=(t,e)=>{t[wg]=t[wg]||{},t[wg][e]=!0},yT=(t,e,r)=>{const n=(r?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},hGe=function(t,e){const r=function(){yT(this,{name:t,plugin:e,instance:null},!0);const n=e.apply(this,arguments);return qte(this,t),yT(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(n){r[n]=e[n]}),r},uV=(t,e)=>(e.prototype.name=t,function(...r){yT(this,{name:t,plugin:e,instance:null},!0);const n=new e(this,...r);return this[t]=()=>n,yT(this,n.getEventHash()),n});class el{constructor(e){if(this.constructor===el)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),a6(this),delete this.trigger,cte(this,this.constructor.defaultState),qte(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,r={}){return t_(this.eventBusEl_,e,this.getEventHash(r))}handleStateChanged(e){}dispose(){const{name:e,player:r}=this;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[wg][e]=!1,this.player=this.state=null,r[e]=uV(e,tg[e])}static isBasic(e){const r=typeof e=="string"?Zw(e):e;return typeof r=="function"&&!el.prototype.isPrototypeOf(r.prototype)}static registerPlugin(e,r){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(_T(e))ri.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(ss.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof r!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof r}.`);return tg[e]=r,e!==vT&&(el.isBasic(r)?ss.prototype[e]=hGe(e,r):ss.prototype[e]=uV(e,r)),r}static deregisterPlugin(e){if(e===vT)throw new Error("Cannot de-register base plugin.");_T(e)&&(delete tg[e],delete ss.prototype[e])}static getPlugins(e=Object.keys(tg)){let r;return e.forEach(n=>{const i=Zw(n);i&&(r=r||{},r[n]=i)}),r}static getPluginVersion(e){const r=Zw(e);return r&&r.VERSION||""}}el.getPlugin=Zw;el.BASE_PLUGIN_NAME=vT;el.registerPlugin(vT,el);ss.prototype.usingPlugin=function(t){return!!this[wg]&&this[wg][t]===!0};ss.prototype.hasPlugin=function(t){return!!_T(t)};function pGe(t,e){let r=!1;return function(...n){return r||ri.warn(t),r=!0,e.apply(this,n)}}function bc(t,e,r,n){return pGe(`${e} is deprecated and will be removed in ${t}.0; please use ${r} instead.`,n)}const Xte=t=>t.indexOf("#")===0?t.slice(1):t;function Ft(t,e,r){let n=Ft.getPlayer(t);if(n)return e&&ri.warn(`Player "${t}" is already initialised. Options will not be applied.`),r&&n.ready(r),n;const i=typeof t=="string"?Gh("#"+Xte(t)):t;if(!e_(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const o=("getRootNode"in i?i.getRootNode()instanceof Ze.ShadowRoot:!1)?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!o.contains(i))&&ri.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),Hh("beforesetup").forEach(l=>{const u=l(i,Ki(e));if(!ud(u)||Array.isArray(u)){ri.error("please return an object in beforesetup hooks");return}e=Ki(e,u)});const a=Ht.getComponent("Player");return n=new a(i,e,r),Hh("setup").forEach(l=>l(n)),n}Ft.hooks_=Jd;Ft.hooks=Hh;Ft.hook=Yje;Ft.hookOnce=Kje;Ft.removeHook=Lee;if(Ze.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Jv()){let t=Gh(".vjs-styles-defaults");if(!t){t=ste("vjs-styles-defaults");const e=Gh("head");e&&e.insertBefore(t,e.firstChild),ote(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}KI(1,Ft);Ft.VERSION=WI;Ft.options=ss.prototype.options_;Ft.getPlayers=()=>ss.players;Ft.getPlayer=t=>{const e=ss.players;let r;if(typeof t=="string"){const n=Xte(t),i=e[n];if(i)return i;r=Gh("#"+n)}else r=t;if(e_(r)){const{player:n,playerId:i}=r;if(n||e[i])return n||e[i]}};Ft.getAllPlayers=()=>Object.keys(ss.players).map(t=>ss.players[t]).filter(Boolean);Ft.players=ss.players;Ft.getComponent=Ht.getComponent;Ft.registerComponent=(t,e)=>(Rn.isTech(e)&&ri.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Ht.registerComponent.call(Ht,t,e));Ft.getTech=Rn.getTech;Ft.registerTech=Rn.registerTech;Ft.use=EHe;Object.defineProperty(Ft,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(Ft.middleware,"TERMINATOR",{value:mT,writeable:!1,enumerable:!0});Ft.browser=eHe;Ft.obj=Jje;Ft.mergeOptions=bc(9,"videojs.mergeOptions","videojs.obj.merge",Ki);Ft.defineLazyProperty=bc(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",uC);Ft.bind=bc(9,"videojs.bind","native Function.prototype.bind",Qi);Ft.registerPlugin=el.registerPlugin;Ft.deregisterPlugin=el.deregisterPlugin;Ft.plugin=(t,e)=>(ri.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),el.registerPlugin(t,e));Ft.getPlugins=el.getPlugins;Ft.getPlugin=el.getPlugin;Ft.getPluginVersion=el.getPluginVersion;Ft.addLanguage=function(t,e){return t=(""+t).toLowerCase(),Ft.options.languages=Ki(Ft.options.languages,{[t]:e}),Ft.options.languages[t]};Ft.log=ri;Ft.createLogger=Fee;Ft.time=pHe;Ft.createTimeRange=bc(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Ju);Ft.createTimeRanges=bc(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Ju);Ft.formatTime=bc(9,"videojs.formatTime","videojs.time.formatTime",X0);Ft.setFormatTime=bc(9,"videojs.setFormatTime","videojs.time.setFormatTime",hte);Ft.resetFormatTime=bc(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",pte);Ft.parseUrl=bc(9,"videojs.parseUrl","videojs.url.parseUrl",c6);Ft.isCrossOrigin=bc(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",xC);Ft.EventTarget=wu;Ft.any=o6;Ft.on=Dl;Ft.one=yC;Ft.off=ta;Ft.trigger=t_;Ft.xhr=UJ;Ft.TextTrack=d1;Ft.AudioTrack=_te;Ft.VideoTrack=yte;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{Ft[t]=function(){return ri.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),nte[t].apply(null,arguments)}});Ft.computedStyle=bc(9,"videojs.computedStyle","videojs.dom.computedStyle",fv);Ft.dom=nte;Ft.fn=lHe;Ft.num=GHe;Ft.str=fHe;Ft.url=SHe;/*! @name videojs-contrib-quality-levels @version 4.0.0 @license Apache-2.0 */class mGe{constructor(e){let r=this;return r.id=e.id,r.label=r.id,r.width=e.width,r.height=e.height,r.bitrate=e.bandwidth,r.frameRate=e.frameRate,r.enabled_=e.enabled,Object.defineProperty(r,"enabled",{get(){return r.enabled_()},set(n){r.enabled_(n)}}),r}}class bT extends Ft.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let r=this.getQualityLevelById(e.id);if(r)return r;const n=this.levels_.length;return r=new mGe(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(r),this.trigger({qualityLevel:r,type:"addqualitylevel"}),r}removeQualityLevel(e){let r=null;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return r&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),r}getQualityLevelById(e){for(let r=0,n=this.length;r<n;r++){const i=this[r];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}bT.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in bT.prototype.allowedEvents_)bT.prototype["on"+t]=null;var Yte="4.0.0";const gGe=function(t,e){const r=t.qualityLevels,n=new bT,i=function(){n.dispose(),t.qualityLevels=r,t.off("dispose",i)};return t.on("dispose",i),t.qualityLevels=()=>n,t.qualityLevels.VERSION=Yte,n},Kte=function(t){return gGe(this,Ft.obj.merge({},t))};Ft.registerPlugin("qualityLevels",Kte);Kte.VERSION=Yte;/*! @name @videojs/http-streaming @version 3.10.0 @license Apache-2.0 */const Ga=rC,xT=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Pu=t=>Ft.log.debug?Ft.log.debug.bind(Ft,"VHS:",`${t} >`):function(){};function Ai(...t){const e=Ft.obj||Ft;return(e.merge||e.mergeOptions).apply(e,t)}function Jo(...t){const e=Ft.time||Ft;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}const qc=1/30,Xc=qc*3,Zte=function(t,e){const r=[];let n;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&r.push([t.start(n),t.end(n)]);return Jo(r)},rg=function(t,e){return Zte(t,function(r,n){return r-Xc<=e&&n+Xc>=e})},mx=function(t,e){return Zte(t,function(r){return r-qc>=e})},vGe=function(t){if(t.length<2)return Jo();const e=[];for(let r=1;r<t.length;r++){const n=t.end(r-1),i=t.start(r);e.push([n,i])}return Jo(e)},_Ge=function(t,e){let r=null,n=null,i=0;const s=[],o=[];if(!t||!t.length||!e||!e.length)return Jo();let a=t.length;for(;a--;)s.push({time:t.start(a),type:"start"}),s.push({time:t.end(a),type:"end"});for(a=e.length;a--;)s.push({time:e.start(a),type:"start"}),s.push({time:e.end(a),type:"end"});for(s.sort(function(l,u){return l.time-u.time}),a=0;a<s.length;a++)s[a].type==="start"?(i++,i===2&&(r=s[a].time)):s[a].type==="end"&&(i--,i===1&&(n=s[a].time)),r!==null&&n!==null&&(o.push([r,n]),r=null,n=null);return Jo(o)},Qte=t=>{const e=[];if(!t||!t.length)return"";for(let r=0;r<t.length;r++)e.push(t.start(r)+" => "+t.end(r));return e.join(", ")},yGe=function(t,e,r=1){return((t.length?t.end(t.length-1):0)-e)/r},m0=t=>{const e=[];for(let r=0;r<t.length;r++)e.push({start:t.start(r),end:t.end(r)});return e},bGe=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let r=0;r<t.length;r++)if(t.start(r)!==e.start(r)||t.end(r)!==e.end(r))return!0;return!1},cV=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},P6=function(t,e){let r=0;if(!t||!t.length)return r;for(let n=0;n<t.length;n++){const i=t.start(n),s=t.end(n);if(!(e>s)){if(e>i&&e<=s){r+=s-e;continue}r+=s-i}}return r},k6=(t,e)=>{if(!e.preload)return e.duration;let r=0;return(e.parts||[]).forEach(function(n){r+=n.duration}),(e.preloadHints||[]).forEach(function(n){n.type==="PART"&&(r+=t.partTargetDuration)}),r},iO=t=>(t.segments||[]).reduce((e,r,n)=>(r.parts?r.parts.forEach(function(i,s){e.push({duration:i.duration,segmentIndex:n,partIndex:s,part:i,segment:r})}):e.push({duration:r.duration,segmentIndex:n,partIndex:null,segment:r,part:null}),e),[]),Jte=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},ere=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:r}=t;let n=(r||[]).reduce((i,s)=>i+(s.type==="PART"?1:0),0);return n+=e&&e.length?e.length:0,n},tre=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const r=Jte(e).length>0;return r&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:r&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},xGe=function(t,e){let r=0,n=e-t.mediaSequence,i=t.segments[n];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;n--;){if(i=t.segments[n],typeof i.end<"u")return{result:r+i.end,precise:!0};if(r+=k6(t,i),typeof i.start<"u")return{result:r+i.start,precise:!0}}return{result:r,precise:!1}},wGe=function(t,e){let r=0,n,i=e-t.mediaSequence;for(;i<t.segments.length;i++){if(n=t.segments[i],typeof n.start<"u")return{result:n.start-r,precise:!0};if(r+=k6(t,n),typeof n.end<"u")return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}},rre=function(t,e,r){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const n=xGe(t,e);if(n.precise)return n.result;const i=wGe(t,e);return i.precise?i.result:n.result+r},nre=function(t,e,r){if(!t)return 0;if(typeof r!="number"&&(r=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return Ze.Infinity}return rre(t,e,r)},a2=function({defaultDuration:t,durationList:e,startIndex:r,endIndex:n}){let i=0;if(r>n&&([r,n]=[n,r]),r<0){for(let s=r;s<Math.min(0,n);s++)i+=t;r=0}for(let s=r;s<n;s++)i+=e[s].duration;return i},ire=function(t,e,r,n){if(!t||!t.segments)return null;if(t.endList)return nre(t);if(e===null)return null;e=e||0;let i=rre(t,t.mediaSequence+t.segments.length,e);return r&&(n=typeof n=="number"?n:tre(null,t),i-=n),Math.max(0,i)},SGe=function(t,e,r){const i=e||0;let s=ire(t,e,!0,r);return s===null?Jo():(s<i&&(s=i),Jo(i,s))},TGe=function({playlist:t,currentTime:e,startingSegmentIndex:r,startingPartIndex:n,startTime:i,exactManifestTimings:s}){let o=e-i;const a=iO(t);let l=0;for(let u=0;u<a.length;u++){const d=a[u];if(r===d.segmentIndex&&!(typeof n=="number"&&typeof d.partIndex=="number"&&n!==d.partIndex)){l=u;break}}if(o<0){if(l>0)for(let u=l-1;u>=0;u--){const d=a[u];if(o+=d.duration,s){if(o<0)continue}else if(o+qc<=0)continue;return{partIndex:d.partIndex,segmentIndex:d.segmentIndex,startTime:i-a2({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:u})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(o-=t.targetDuration,o<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<a.length;u++){const d=a[u];o-=d.duration;const f=d.duration>qc,h=o===0,g=f&&o+qc>=0;if(!((h||g)&&u!==a.length-1)){if(s){if(o>0)continue}else if(o-qc>=0)continue;return{partIndex:d.partIndex,segmentIndex:d.segmentIndex,startTime:i+a2({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:u})}}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:e}},sre=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},I6=function(t){return t.excludeUntil&&t.excludeUntil===1/0},TC=function(t){const e=sre(t);return!t.disabled&&!e},EGe=function(t){return t.disabled},CGe=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},ore=function(t,e){return e.attributes&&e.attributes[t]},AGe=function(t,e,r,n=0){return ore("BANDWIDTH",r)?(t*r.attributes.BANDWIDTH-n*8)/e:NaN},sO=(t,e)=>{if(t.playlists.length===1)return!0;const r=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(n=>TC(n)?(n.attributes.BANDWIDTH||0)<r:!1).length===0},O6=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),dV=function(t,e){const r=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let n=!1;for(const i in r){for(const s in r[i])if(n=e(r[i][s]),n)break;if(n)break}return!!n},m1=t=>{if(!t||!t.playlists||!t.playlists.length)return dV(t,r=>r.playlists&&r.playlists.length||r.uri);for(let e=0;e<t.playlists.length;e++){const r=t.playlists[e],n=r.attributes&&r.attributes.CODECS;if(!(n&&n.split(",").every(s=>WJ(s))||dV(t,s=>O6(r,s))))return!1}return!0};var qa={liveEdgeDelay:tre,duration:nre,seekable:SGe,getMediaInfoForTime:TGe,isEnabled:TC,isDisabled:EGe,isExcluded:sre,isIncompatible:I6,playlistEnd:ire,isAes:CGe,hasAttribute:ore,estimateSegmentRequestTime:AGe,isLowestEnabledRendition:sO,isAudioOnly:m1,playlistMatch:O6,segmentDurationWithParts:k6};const{log:are}=Ft,Sg=(t,e)=>`${t}-${e}`,lre=(t,e,r)=>`placeholder-uri-${t}-${e}-${r}`,PGe=({onwarn:t,oninfo:e,manifestString:r,customTagParsers:n=[],customTagMappers:i=[],llhls:s})=>{const o=new WVe;t&&o.on("warn",t),e&&o.on("info",e),n.forEach(u=>o.addParser(u)),i.forEach(u=>o.addTagMapper(u)),o.push(r),o.end();const a=o.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){a.hasOwnProperty(u)&&delete a[u]}),a.segments&&a.segments.forEach(function(u){["parts","preloadHints"].forEach(function(d){u.hasOwnProperty(d)&&delete u[d]})})),!a.targetDuration){let u=10;a.segments&&a.segments.length&&(u=a.segments.reduce((d,f)=>Math.max(d,f.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${u}`}),a.targetDuration=u}const l=Jte(a);if(l.length&&!a.partTargetDuration){const u=l.reduce((d,f)=>Math.max(d,f.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${u}`}),are.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=u}return a},s_=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(r=>{if(t.mediaGroups[r])for(const n in t.mediaGroups[r])for(const i in t.mediaGroups[r][n]){const s=t.mediaGroups[r][n][i];e(s,r,n,i)}})},ure=({playlist:t,uri:e,id:r})=>{t.id=r,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},kGe=t=>{let e=t.playlists.length;for(;e--;){const r=t.playlists[e];ure({playlist:r,id:Sg(e,r.uri)}),r.resolvedUri=Ga(t.uri,r.uri),t.playlists[r.id]=r,t.playlists[r.uri]=r,r.attributes.BANDWIDTH||are.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},IGe=t=>{s_(t,e=>{e.uri&&(e.resolvedUri=Ga(t.uri,e.uri))})},OGe=(t,e)=>{const r=Sg(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:Ze.location.href,resolvedUri:Ze.location.href,playlists:[{uri:e,id:r,resolvedUri:e,attributes:{}}]};return n.playlists[r]=n.playlists[0],n.playlists[e]=n.playlists[0],n},cre=(t,e,r=lre)=>{t.uri=e;for(let i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){const s=`placeholder-uri-${i}`;t.playlists[i].uri=s}const n=m1(t);s_(t,(i,s,o,a)=>{if(!i.playlists||!i.playlists.length){if(n&&s==="AUDIO"&&!i.uri)for(let l=0;l<t.playlists.length;l++){const u=t.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===o)return}i.playlists=[du({},i)]}i.playlists.forEach(function(l,u){const d=r(s,o,a,l),f=Sg(u,d);l.uri?l.resolvedUri=l.resolvedUri||Ga(t.uri,l.uri):(l.uri=u===0?d:f,l.resolvedUri=l.uri),l.id=l.id||f,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),kGe(t),IGe(t)};class fV{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[r]=e;r.programDateTime!==void 0&&(this.offset_=r.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[r]=e,n=r.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce((i,s)=>(i.set(s.id,s),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},r=[];this.pendingDateRanges_.forEach((n,i)=>{if(!this.processedDateRanges_.has(i)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),r.push(n),!!n.class))if(e[n.class]){const s=e[n.class].push(n);n.classListIndex=s-1}else e[n.class]=[n],n.classListIndex=0});for(const n of r){const i=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&i[n.classListIndex+1]?n.endTime=i[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return r}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,i)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}}const{EventTarget:DGe}=Ft,MGe=(t,e)=>{if(e.endList||!e.serverControl)return t;const r={};if(e.serverControl.canBlockReload){const{preloadSegment:n}=e;let i=e.mediaSequence+e.segments.length;if(n){const s=n.parts||[],o=ere(e)-1;o>-1&&o!==s.length-1&&(r._HLS_part=o),(o>-1||s.length)&&i--}r._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(r._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){const n=new Ze.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){r.hasOwnProperty(i)&&n.searchParams.set(i,r[i])}),t=n.toString()}return t},RGe=(t,e)=>{if(!t)return e;const r=Ai(t,e);if(t.preloadHints&&!e.preloadHints&&delete r.preloadHints,t.parts&&!e.parts)delete r.parts;else if(t.parts&&e.parts)for(let n=0;n<e.parts.length;n++)t.parts&&t.parts[n]&&(r.parts[n]=Ai(t.parts[n],e.parts[n]));return!t.skipped&&e.skipped&&(r.skipped=!1),t.preload&&!e.preload&&(r.preload=!1),r},$Ge=(t,e,r)=>{const n=t.slice(),i=e.slice();r=r||0;const s=[];let o;for(let a=0;a<i.length;a++){const l=n[a+r],u=i[a];l?(o=l.map||o,s.push(RGe(l,u))):(o&&!u.map&&(u.map=o),s.push(u))}return s},dre=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=Ga(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Ga(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Ga(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Ga(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(r=>{r.resolvedUri||(r.resolvedUri=Ga(e,r.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(r=>{r.resolvedUri||(r.resolvedUri=Ga(e,r.uri))})},fre=function(t){const e=t.segments||[],r=t.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints){for(let n=0;n<r.preloadHints.length;n++)if(r.preloadHints[n].type==="MAP")return e}r.duration=t.targetDuration,r.preload=!0,e.push(r)}return e},hre=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,oO=(t,e,r=hre)=>{const n=Ai(t,{}),i=n.playlists[e.id];if(!i||r(i,e))return null;e.segments=fre(e);const s=Ai(i,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let o=0;o<e.skip.skippedSegments;o++)e.segments.unshift({skipped:!0})}s.segments=$Ge(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}s.segments.forEach(o=>{dre(o,s.resolvedUri)});for(let o=0;o<n.playlists.length;o++)n.playlists[o].id===e.id&&(n.playlists[o]=s);return n.playlists[e.id]=s,n.playlists[e.uri]=s,s_(t,(o,a,l,u)=>{if(o.playlists)for(let d=0;d<o.playlists.length;d++)e.id===o.playlists[d].id&&(o.playlists[d]=s)}),n},aO=(t,e)=>{const r=t.segments||[],n=r[r.length-1],i=n&&n.parts&&n.parts[n.parts.length-1],s=i&&i.duration||n&&n.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500};class ng extends DGe{constructor(e,r,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Pu("PlaylistLoader");const{withCredentials:i=!1}=n;this.src=e,this.vhs_=r,this.withCredentials=i,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const s=r.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new fV,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const r=this.dateRangesStorage_.getDateRangesToProcess();!r.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(r)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let r=Ga(this.main.uri,e.uri);this.llhls&&(r=MGe(r,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:r,withCredentials:this.withCredentials},(n,i)=>{if(this.request){if(n)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,r,n){const{uri:i,id:s}=r;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}parseManifest_({url:e,manifestString:r}){return PGe({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:r,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:e,playlistObject:r,url:n,id:i}){this.request=null,this.state="HAVE_METADATA";const s=r||this.parseManifest_({url:n,manifestString:e});s.lastRequest=Date.now(),ure({playlist:s,uri:n,id:i});const o=oO(this.main,s);this.targetDuration=s.partTargetDuration||s.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(aO(this.media(),!!o)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),Ze.clearTimeout(this.mediaUpdateTimeout),Ze.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new fV,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,r){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(Ze.clearTimeout(this.finalRenditionTimeout),r){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=Ze.setTimeout(this.media.bind(this,e,!1),o);return}const n=this.state,i=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(aO(e,!0)),!!i){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(o,a)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=xT(e.resolvedUri,a),o)return this.playlistRequestError(this.request,e,n);this.haveMetadata({playlistString:a.responseText,url:e.uri,id:e.id}),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}}pause(){this.mediaUpdateTimeout&&(Ze.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(Ze.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const r=this.media();if(e){const n=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=Ze.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},n);return}if(!this.started){this.start();return}r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(Ze.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=Ze.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=Ze.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(e,r)=>{if(!this.request)return;if(this.request=null,e)return this.error={status:r.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:r.responseText,code:2},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.src=xT(this.src,r);const n=this.parseManifest_({manifestString:r.responseText,url:this.src});this.setupInitialPlaylist(n)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,cre(this.main,this.srcUri()),e.playlists.forEach(n=>{n.segments=fre(n),n.segments.forEach(i=>{dre(i,n.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const r=this.srcUri()||Ze.location.href;this.main=OGe(e,r),this.haveMetadata({playlistObject:e,url:r,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,r){const n=this.main,i=e.ID;let s=n.playlists.length;for(;s--;){const o=n.playlists[s];if(o.attributes["PATHWAY-ID"]===i){const a=o.resolvedUri,l=o.id;if(r){const u=this.createCloneURI_(o.resolvedUri,e),d=Sg(i,u),f=this.createCloneAttributes_(i,o.attributes),h=this.createClonePlaylist_(o,d,e,f);n.playlists[s]=h,n.playlists[d]=h,n.playlists[u]=h}else n.playlists.splice(s,1);delete n.playlists[l],delete n.playlists[a]}}this.updateOrDeleteCloneMedia(e,r)}updateOrDeleteCloneMedia(e,r){const n=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!n.mediaGroups[s]||!n.mediaGroups[s][i])){for(const o in n.mediaGroups[s])if(o===i){for(const a in n.mediaGroups[s][o])n.mediaGroups[s][o][a].playlists.forEach((u,d)=>{const f=n.playlists[u.id],h=f.id,g=f.resolvedUri;delete n.playlists[h],delete n.playlists[g]});delete n.mediaGroups[s][o]}}}),r&&this.createClonedMediaGroups_(e)}addClonePathway(e,r={}){const n=this.main,i=n.playlists.length,s=this.createCloneURI_(r.resolvedUri,e),o=Sg(e.ID,s),a=this.createCloneAttributes_(e.ID,r.attributes),l=this.createClonePlaylist_(r,o,e,a);n.playlists[i]=l,n.playlists[o]=l,n.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const r=e.ID,n=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||i.mediaGroups[s][r]))for(const o in i.mediaGroups[s]){if(o===n)i.mediaGroups[s][r]={};else continue;for(const a in i.mediaGroups[s][o]){const l=i.mediaGroups[s][o][a];i.mediaGroups[s][r][a]=du({},l);const u=i.mediaGroups[s][r][a],d=this.createCloneURI_(l.resolvedUri,e);u.resolvedUri=d,u.uri=d,u.playlists=[],l.playlists.forEach((f,h)=>{const g=i.playlists[f.id],p=lre(s,r,a),v=Sg(r,p);if(g&&!i.playlists[v]){const b=this.createClonePlaylist_(g,v,e),S=b.resolvedUri;i.playlists[v]=b,i.playlists[S]=b}u.playlists[h]=this.createClonePlaylist_(f,v,e)})}}})}createClonePlaylist_(e,r,n,i){const s=this.createCloneURI_(e.resolvedUri,n),o={resolvedUri:s,uri:s,id:r};return e.segments&&(o.segments=[]),i&&(o.attributes=i),Ai(e,o)}createCloneURI_(e,r){const n=new URL(e);n.hostname=r["URI-REPLACEMENT"].HOST;const i=r["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(i))n.searchParams.set(s,i[s]);return n.href}createCloneAttributes_(e,r){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{r[i]&&(n[i]=e)}),n}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes.keyId;i&&r.add(i.toLowerCase())}return r}}}const{xhr:LGe}=Ft,lO=function(t,e,r,n){const i=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&i&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=i.byteLength||i.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),r.headers&&(t.responseHeaders=r.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&r.statusCode!==200&&r.statusCode!==206&&r.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(i||t.responseText)))),n(e,t)},FGe=(t,e)=>{if(!t||!t.size)return;let r=e;return t.forEach(n=>{r=n(r)}),r},NGe=(t,e,r,n)=>{!t||!t.size||t.forEach(i=>{i(e,r,n)})},pre=function(){const t=function e(r,n){r=Ai({timeout:45e3},r);const i=e.beforeRequest||Ft.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||Ft.Vhs.xhr._requestCallbackSet||new Set,o=e._responseCallbackSet||Ft.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(Ft.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(i));const a=Ft.Vhs.xhr.original===!0?LGe:Ft.Vhs.xhr,l=FGe(s,r);s.delete(i);const u=a(l||r,function(f,h){return NGe(o,u,f,h),lO(u,f,h,n)}),d=u.abort;return u.abort=function(){return u.aborted=!0,d.apply(u,arguments)},u.uri=r.uri,u.requestTime=Date.now(),u};return t.original=!0,t},BGe=function(t){let e;const r=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=Ze.BigInt(t.offset)+Ze.BigInt(t.length)-Ze.BigInt(1):e=t.offset+t.length-1,"bytes="+r+"-"+e},uO=function(t){const e={};return t.byterange&&(e.Range=BGe(t.byterange)),e},UGe=function(t,e){return t.start(e)+"-"+t.end(e)},VGe=function(t,e){const r=t.toString(16);return"00".substring(0,2-r.length)+r+(e%2?" ":"")},zGe=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},mre=function(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];XJ(n)?e[r]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[r]=n}),e},wT=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},gre=function(t){return t.resolvedUri},vre=t=>{const e=Array.prototype.slice.call(t),r=16;let n="",i,s;for(let o=0;o<e.length/r;o++)i=e.slice(o*r,o*r+r).map(VGe).join(""),s=e.slice(o*r,o*r+r).map(zGe).join(""),n+=i+" "+s+`
`;return n},jGe=({bytes:t})=>vre(t),HGe=t=>{let e="",r;for(r=0;r<t.length;r++)e+=UGe(t,r)+" ";return e};var GGe=Object.freeze({__proto__:null,createTransferableMessage:mre,initSegmentId:wT,segmentKeyId:gre,hexDump:vre,tagDump:jGe,textRanges:HGe});const _re=.25,WGe=(t,e)=>{if(!e.dateTimeObject)return null;const r=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart+r,s=t-i;return new Date(e.dateTimeObject.getTime()+s*1e3)},qGe=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,XGe=(t,e)=>{let r;try{r=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let n=e.segments[0];if(r<new Date(n.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){n=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(r<u)break}const i=e.segments[e.segments.length-1],s=i.dateTimeObject,o=i.videoTimingInfo?qGe(i.videoTimingInfo):i.duration+i.duration*_re,a=new Date(s.getTime()+o*1e3);return r>a?null:(r>new Date(s)&&(n=i),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:qa.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},YGe=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let r=0,n;for(let s=0;s<e.segments.length&&(n=e.segments[s],r=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration,!(t<=r));s++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>r){if(t>r+i.duration*_re)return null;n=i}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},KGe=(t,e)=>{let r,n;try{r=new Date(t),n=new Date(e)}catch{}const i=r.getTime();return(n.getTime()-i)/1e3},ZGe=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},QGe=({playlist:t,time:e=void 0,callback:r})=>{if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return r({message:"getProgramTime: playlist and time must be provided"});const n=YGe(e,t);if(!n)return r({message:"valid programTime was not found"});if(n.type==="estimate")return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const i={mediaSeconds:e},s=WGe(e,n.segment);return s&&(i.programDateTime=s.toISOString()),r(null,i)},yre=({programTime:t,playlist:e,retryCount:r=2,seekTo:n,pauseAfterSeek:i=!0,tech:s,callback:o})=>{if(!o)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!n)return o({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return o({message:"player must be playing a live stream to start buffering"});if(!ZGe(e))return o({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const a=XGe(t,e);if(!a)return o({message:`${t} was not found in the stream`});const l=a.segment,u=KGe(l.dateTimeObject,t);if(a.type==="estimate"){if(r===0)return o({message:`${t} is not buffered yet. Try again`});n(a.estimatedStart+u),s.one("seeked",()=>{yre({programTime:t,playlist:e,retryCount:r-1,seekTo:n,pauseAfterSeek:i,tech:s,callback:o})});return}const d=l.start+u,f=()=>o(null,s.currentTime());s.one("seeked",f),i&&s.pause(),n(d)},T4=(t,e)=>{if(t.readyState===4)return e()},JGe=(t,e,r)=>{let n=[],i,s=!1;const o=function(d,f,h,g){return f.abort(),s=!0,r(d,f,h,g)},a=function(d,f){if(s)return;if(d)return o(d,f,"",n);const h=f.responseText.substring(n&&n.byteLength||0,f.responseText.length);if(n=ize(n,YJ(h,!0)),i=i||Ty(n),n.length<10||i&&n.length<i+2)return T4(f,()=>o(d,f,"",n));const g=ZR(n);return g==="ts"&&n.length<188?T4(f,()=>o(d,f,"",n)):!g&&n.length<376?T4(f,()=>o(d,f,"",n)):o(null,f,g,n)},u=e({uri:t,beforeSend(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function({total:f,loaded:h}){return lO(d,null,{statusCode:d.status},a)})}},function(d,f){return lO(u,d,f,a)});return u},{EventTarget:eWe}=Ft,hV=function(t,e){if(!hre(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let r=0;r<t.segments.length;r++){const n=t.segments[r],i=e.segments[r];if(n.uri!==i.uri)return!1;if(!n.byterange&&!i.byterange)continue;const s=n.byterange,o=i.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}return!0},tWe=(t,e,r,n)=>{const i=n.attributes.NAME||r;return`placeholder-uri-${t}-${e}-${i}`},rWe=({mainXml:t,srcUrl:e,clientOffset:r,sidxMapping:n,previousManifest:i})=>{const s=Aje(t,{manifestUri:e,clientOffset:r,sidxMapping:n,previousManifest:i});return cre(s,e,tWe),s},nWe=(t,e)=>{s_(t,(r,n,i,s)=>{s in e.mediaGroups[n][i]||delete t.mediaGroups[n][i][s]})},iWe=(t,e,r)=>{let n=!0,i=Ai(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const o=e.playlists[s];if(o.sidx){const l=oC(o.sidx);r&&r[l]&&r[l].sidx&&XR(o,r[l].sidx,o.sidx.resolvedUri)}const a=oO(i,o,hV);a&&(i=a,n=!1)}return s_(e,(s,o,a,l)=>{if(s.playlists&&s.playlists.length){const u=s.playlists[0].id,d=oO(i,s.playlists[0],hV);d&&(i=d,l in i.mediaGroups[o][a]||(i.mediaGroups[o][a][l]=s),i.mediaGroups[o][a][l].playlists[0]=i.playlists[u],n=!1)}}),nWe(i,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:i},sWe=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,pV=(t,e)=>{const r={};for(const n in t){const s=t[n].sidx;if(s){const o=oC(s);if(!e[o])break;const a=e[o].sidxInfo;sWe(a,s)&&(r[o]=e[o])}}return r},oWe=(t,e)=>{let n=pV(t.playlists,e);return s_(t,(i,s,o,a)=>{if(i.playlists&&i.playlists.length){const l=i.playlists;n=Ai(n,pV(l,e))}}),n};class cO extends eWe{constructor(e,r,n={},i){super(),this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:s=!1}=n;if(this.vhs_=r,this.withCredentials=s,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Pu("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,r,n){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:r.status,message:"DASH request error at URL: "+r.uri,response:r.response,code:2},n&&(this.state=n),this.trigger("error"),!0}addSidxSegments_(e,r,n){const i=e.sidx&&oC(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){this.mediaRequest_=Ze.setTimeout(()=>n(!1),0);return}const s=xT(e.sidx.resolvedUri),o=(a,l)=>{if(this.requestErrored_(a,l,r))return;const u=this.mainPlaylistLoader_.sidxMapping_;let d;try{d=Mje(hn(l.response).subarray(8))}catch(f){this.requestErrored_(f,l,r);return}return u[i]={sidxInfo:e.sidx,sidx:d},XR(e,d,e.sidx.resolvedUri),n(!0)};this.request=JGe(s,this.vhs_.xhr,(a,l,u,d)=>{if(a)return o(a,l);if(!u||u!=="mp4")return o({status:l.status,message:`Unsupported ${u||"unknown"} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},l);const{offset:f,length:h}=e.sidx.byterange;if(d.length>=h+f)return o(a,{response:d.subarray(f,f+h),status:l.status,uri:l.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",headers:uO({byterange:e.sidx.byterange})},o)})}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},Ze.clearTimeout(this.minimumUpdatePeriodTimeout_),Ze.clearTimeout(this.mediaRequest_),Ze.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const r=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,r,i=>{this.haveMetadata({startingState:r,playlist:e})}))}haveMetadata({startingState:e,playlist:r}){this.state="HAVE_METADATA",this.loadedPlaylists_[r.id]=r,this.mediaRequest_=null,this.refreshMedia_(r.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),Ze.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(Ze.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){Ze.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const r=this.media();if(e){const n=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=Ze.setTimeout(()=>this.load(),n);return}if(!this.started){this.start();return}r&&!r.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=Ze.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,r)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(r,n)=>{if(this.requestErrored_(r,n)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}const i=n.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?this.mainLoaded_=Date.parse(n.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=xT(this.mainPlaylistLoader_.srcUrl,n),i){this.handleMain_(),this.syncClientServerClock_(()=>e(n,i));return}return e(n,i)})}syncClientServerClock_(e){const r=Pje(this.mainPlaylistLoader_.mainXml_);if(r===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(r.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=r.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Ga(this.mainPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials},(n,i)=>{if(!this.request)return;if(n)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();let s;r.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(i.responseHeaders.date):s=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main;let r=rWe({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(r=iWe(e,r,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=r||e;const n=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return n&&n!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=n),(!e||r&&r.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(r),!!r}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(Ze.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let r=e.main&&e.main.minimumUpdatePeriod;if(r===0&&(e.media()?r=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof r!="number"||r<=0){r<0&&this.logger_(`found invalid minimumUpdatePeriod of ${r}, not setting a timeout`);return}this.createMUPTimeout_(r)}createMUPTimeout_(e){const r=this.mainPlaylistLoader_;r.minimumUpdatePeriodTimeout_=Ze.setTimeout(()=>{r.minimumUpdatePeriodTimeout_=null,r.trigger("minimumUpdatePeriod"),r.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,r)=>{r&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=oWe(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,n=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const r=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==r[e];if(n?this.media_=r[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=Ze.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},aO(this.media(),!!n)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const r=this.mainPlaylistLoader_.main.eventStream.map(n=>({cueTime:n.start,frames:[{data:n.messageData}]}));this.addMetadataToTextTrack("EventStream",r,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes["cenc:default_KID"];i&&r.add(i.replace(/-/g,"").toLowerCase())}return r}}}var _o={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const aWe=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e.buffer},bre=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},lWe=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const r=new BlobBuilder;return r.append(t),URL.createObjectURL(r.getBlob())}},xre=function(t){return function(){const e=lWe(t),r=bre(new Worker(e));r.objURL=e;const n=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},r}},wre=function(t){return`var browserWorkerPolyFill = ${bre.toString()};
browserWorkerPolyFill(self);
`+t},Sre=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},uWe=wre(Sre(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var A={};this.on=function(R,U){A[R]||(A[R]=[]),A[R]=A[R].concat(U)},this.off=function(R,U){var F;return A[R]?(F=A[R].indexOf(U),A[R]=A[R].slice(),A[R].splice(F,1),F>-1):!1},this.trigger=function(R){var U,F,K,de;if(U=A[R],!!U)if(arguments.length===2)for(K=U.length,F=0;F<K;++F)U[F].call(this,arguments[1]);else{for(de=[],F=arguments.length,F=1;F<arguments.length;++F)de.push(arguments[F]);for(K=U.length,F=0;F<K;++F)U[F].apply(this,de)}},this.dispose=function(){A={}}}};e.prototype.pipe=function(A){return this.on("data",function(R){A.push(R)}),this.on("done",function(R){A.flush(R)}),this.on("partialdone",function(R){A.partialFlush(R)}),this.on("endedtimeline",function(R){A.endTimeline(R)}),this.on("reset",function(R){A.reset(R)}),A},e.prototype.push=function(A){this.trigger("data",A)},e.prototype.flush=function(A){this.trigger("done",A)},e.prototype.partialFlush=function(A){this.trigger("partialdone",A)},e.prototype.endTimeline=function(A){this.trigger("endedtimeline",A)},e.prototype.reset=function(A){this.trigger("reset",A)};var r=e,n=Math.pow(2,32),i=function(A){var R=new DataView(A.buffer,A.byteOffset,A.byteLength),U;return R.getBigUint64?(U=R.getBigUint64(0),U<Number.MAX_SAFE_INTEGER?Number(U):U):R.getUint32(0)*n+R.getUint32(4)},s={getUint64:i,MAX_UINT32:n},o=s.MAX_UINT32,a,l,u,d,f,h,g,p,v,b,S,T,E,C,P,D,L,j,te,se,q,X,Q,$,V,Y,ee,ae,H,J,ie,xe,qe,et,Je,lt;(function(){var A;if(Q={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(A in Q)Q.hasOwnProperty(A)&&(Q[A]=[A.charCodeAt(0),A.charCodeAt(1),A.charCodeAt(2),A.charCodeAt(3)]);$=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Y=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),V=new Uint8Array([0,0,0,1]),ee=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ae=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),H={video:ee,audio:ae},xe=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ie=new Uint8Array([0,0,0,0,0,0,0,0]),qe=new Uint8Array([0,0,0,0,0,0,0,0]),et=qe,Je=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),lt=qe,J=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(A){var R=[],U=0,F,K,de;for(F=1;F<arguments.length;F++)R.push(arguments[F]);for(F=R.length;F--;)U+=R[F].byteLength;for(K=new Uint8Array(U+8),de=new DataView(K.buffer,K.byteOffset,K.byteLength),de.setUint32(0,K.byteLength),K.set(A,4),F=0,U=8;F<R.length;F++)K.set(R[F],U),U+=R[F].byteLength;return K},l=function(){return a(Q.dinf,a(Q.dref,xe))},u=function(A){return a(Q.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,A.audioobjecttype<<3|A.samplingfrequencyindex>>>1,A.samplingfrequencyindex<<7|A.channelcount<<3,6,1,2]))},d=function(){return a(Q.ftyp,$,V,$,Y)},D=function(A){return a(Q.hdlr,H[A])},f=function(A){return a(Q.mdat,A)},P=function(A){var R=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,A.duration>>>24&255,A.duration>>>16&255,A.duration>>>8&255,A.duration&255,85,196,0,0]);return A.samplerate&&(R[12]=A.samplerate>>>24&255,R[13]=A.samplerate>>>16&255,R[14]=A.samplerate>>>8&255,R[15]=A.samplerate&255),a(Q.mdhd,R)},C=function(A){return a(Q.mdia,P(A),D(A.type),g(A))},h=function(A){return a(Q.mfhd,new Uint8Array([0,0,0,0,(A&4278190080)>>24,(A&16711680)>>16,(A&65280)>>8,A&255]))},g=function(A){return a(Q.minf,A.type==="video"?a(Q.vmhd,J):a(Q.smhd,ie),l(),j(A))},p=function(A,R){for(var U=[],F=R.length;F--;)U[F]=se(R[F]);return a.apply(null,[Q.moof,h(A)].concat(U))},v=function(A){for(var R=A.length,U=[];R--;)U[R]=T(A[R]);return a.apply(null,[Q.moov,S(4294967295)].concat(U).concat(b(A)))},b=function(A){for(var R=A.length,U=[];R--;)U[R]=q(A[R]);return a.apply(null,[Q.mvex].concat(U))},S=function(A){var R=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(A&4278190080)>>24,(A&16711680)>>16,(A&65280)>>8,A&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(Q.mvhd,R)},L=function(A){var R=A.samples||[],U=new Uint8Array(4+R.length),F,K;for(K=0;K<R.length;K++)F=R[K].flags,U[K+4]=F.dependsOn<<4|F.isDependedOn<<2|F.hasRedundancy;return a(Q.sdtp,U)},j=function(A){return a(Q.stbl,te(A),a(Q.stts,lt),a(Q.stsc,et),a(Q.stsz,Je),a(Q.stco,qe))},function(){var A,R;te=function(U){return a(Q.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),U.type==="video"?A(U):R(U))},A=function(U){var F=U.sps||[],K=U.pps||[],de=[],$e=[],Ve,We;for(Ve=0;Ve<F.length;Ve++)de.push((F[Ve].byteLength&65280)>>>8),de.push(F[Ve].byteLength&255),de=de.concat(Array.prototype.slice.call(F[Ve]));for(Ve=0;Ve<K.length;Ve++)$e.push((K[Ve].byteLength&65280)>>>8),$e.push(K[Ve].byteLength&255),$e=$e.concat(Array.prototype.slice.call(K[Ve]));if(We=[Q.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(U.width&65280)>>8,U.width&255,(U.height&65280)>>8,U.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(Q.avcC,new Uint8Array([1,U.profileIdc,U.profileCompatibility,U.levelIdc,255].concat([F.length],de,[K.length],$e))),a(Q.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],U.sarRatio){var Qe=U.sarRatio[0],St=U.sarRatio[1];We.push(a(Q.pasp,new Uint8Array([(Qe&4278190080)>>24,(Qe&16711680)>>16,(Qe&65280)>>8,Qe&255,(St&4278190080)>>24,(St&16711680)>>16,(St&65280)>>8,St&255])))}return a.apply(null,We)},R=function(U){return a(Q.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(U.channelcount&65280)>>8,U.channelcount&255,(U.samplesize&65280)>>8,U.samplesize&255,0,0,0,0,(U.samplerate&65280)>>8,U.samplerate&255,0,0]),u(U))}}(),E=function(A){var R=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(A.id&4278190080)>>24,(A.id&16711680)>>16,(A.id&65280)>>8,A.id&255,0,0,0,0,(A.duration&4278190080)>>24,(A.duration&16711680)>>16,(A.duration&65280)>>8,A.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(A.width&65280)>>8,A.width&255,0,0,(A.height&65280)>>8,A.height&255,0,0]);return a(Q.tkhd,R)},se=function(A){var R,U,F,K,de,$e,Ve;return R=a(Q.tfhd,new Uint8Array([0,0,0,58,(A.id&4278190080)>>24,(A.id&16711680)>>16,(A.id&65280)>>8,A.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),$e=Math.floor(A.baseMediaDecodeTime/o),Ve=Math.floor(A.baseMediaDecodeTime%o),U=a(Q.tfdt,new Uint8Array([1,0,0,0,$e>>>24&255,$e>>>16&255,$e>>>8&255,$e&255,Ve>>>24&255,Ve>>>16&255,Ve>>>8&255,Ve&255])),de=32+20+8+16+8+8,A.type==="audio"?(F=X(A,de),a(Q.traf,R,U,F)):(K=L(A),F=X(A,K.length+de),a(Q.traf,R,U,F,K))},T=function(A){return A.duration=A.duration||4294967295,a(Q.trak,E(A),C(A))},q=function(A){var R=new Uint8Array([0,0,0,0,(A.id&4278190080)>>24,(A.id&16711680)>>16,(A.id&65280)>>8,A.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return A.type!=="video"&&(R[R.length-1]=0),a(Q.trex,R)},function(){var A,R,U;U=function(F,K){var de=0,$e=0,Ve=0,We=0;return F.length&&(F[0].duration!==void 0&&(de=1),F[0].size!==void 0&&($e=2),F[0].flags!==void 0&&(Ve=4),F[0].compositionTimeOffset!==void 0&&(We=8)),[0,0,de|$e|Ve|We,1,(F.length&4278190080)>>>24,(F.length&16711680)>>>16,(F.length&65280)>>>8,F.length&255,(K&4278190080)>>>24,(K&16711680)>>>16,(K&65280)>>>8,K&255]},R=function(F,K){var de,$e,Ve,We,Qe,St;for(We=F.samples||[],K+=8+12+16*We.length,Ve=U(We,K),$e=new Uint8Array(Ve.length+We.length*16),$e.set(Ve),de=Ve.length,St=0;St<We.length;St++)Qe=We[St],$e[de++]=(Qe.duration&4278190080)>>>24,$e[de++]=(Qe.duration&16711680)>>>16,$e[de++]=(Qe.duration&65280)>>>8,$e[de++]=Qe.duration&255,$e[de++]=(Qe.size&4278190080)>>>24,$e[de++]=(Qe.size&16711680)>>>16,$e[de++]=(Qe.size&65280)>>>8,$e[de++]=Qe.size&255,$e[de++]=Qe.flags.isLeading<<2|Qe.flags.dependsOn,$e[de++]=Qe.flags.isDependedOn<<6|Qe.flags.hasRedundancy<<4|Qe.flags.paddingValue<<1|Qe.flags.isNonSyncSample,$e[de++]=Qe.flags.degradationPriority&61440,$e[de++]=Qe.flags.degradationPriority&15,$e[de++]=(Qe.compositionTimeOffset&4278190080)>>>24,$e[de++]=(Qe.compositionTimeOffset&16711680)>>>16,$e[de++]=(Qe.compositionTimeOffset&65280)>>>8,$e[de++]=Qe.compositionTimeOffset&255;return a(Q.trun,$e)},A=function(F,K){var de,$e,Ve,We,Qe,St;for(We=F.samples||[],K+=8+12+8*We.length,Ve=U(We,K),de=new Uint8Array(Ve.length+We.length*8),de.set(Ve),$e=Ve.length,St=0;St<We.length;St++)Qe=We[St],de[$e++]=(Qe.duration&4278190080)>>>24,de[$e++]=(Qe.duration&16711680)>>>16,de[$e++]=(Qe.duration&65280)>>>8,de[$e++]=Qe.duration&255,de[$e++]=(Qe.size&4278190080)>>>24,de[$e++]=(Qe.size&16711680)>>>16,de[$e++]=(Qe.size&65280)>>>8,de[$e++]=Qe.size&255;return a(Q.trun,de)},X=function(F,K){return F.type==="audio"?A(F,K):R(F,K)}}();var Re={ftyp:d,mdat:f,moof:p,moov:v,initSegment:function(A){var R=d(),U=v(A),F;return F=new Uint8Array(R.byteLength+U.byteLength),F.set(R),F.set(U,R.byteLength),F}},wt=function(A){var R,U,F=[],K=[];for(K.byteLength=0,K.nalCount=0,K.duration=0,F.byteLength=0,R=0;R<A.length;R++)U=A[R],U.nalUnitType==="access_unit_delimiter_rbsp"?(F.length&&(F.duration=U.dts-F.dts,K.byteLength+=F.byteLength,K.nalCount+=F.length,K.duration+=F.duration,K.push(F)),F=[U],F.byteLength=U.data.byteLength,F.pts=U.pts,F.dts=U.dts):(U.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(F.keyFrame=!0),F.duration=U.dts-F.dts,F.byteLength+=U.data.byteLength,F.push(U));return K.length&&(!F.duration||F.duration<=0)&&(F.duration=K[K.length-1].duration),K.byteLength+=F.byteLength,K.nalCount+=F.length,K.duration+=F.duration,K.push(F),K},vt=function(A){var R,U,F=[],K=[];for(F.byteLength=0,F.nalCount=0,F.duration=0,F.pts=A[0].pts,F.dts=A[0].dts,K.byteLength=0,K.nalCount=0,K.duration=0,K.pts=A[0].pts,K.dts=A[0].dts,R=0;R<A.length;R++)U=A[R],U.keyFrame?(F.length&&(K.push(F),K.byteLength+=F.byteLength,K.nalCount+=F.nalCount,K.duration+=F.duration),F=[U],F.nalCount=U.length,F.byteLength=U.byteLength,F.pts=U.pts,F.dts=U.dts,F.duration=U.duration):(F.duration+=U.duration,F.nalCount+=U.length,F.byteLength+=U.byteLength,F.push(U));return K.length&&F.duration<=0&&(F.duration=K[K.length-1].duration),K.byteLength+=F.byteLength,K.nalCount+=F.nalCount,K.duration+=F.duration,K.push(F),K},pt=function(A){var R;return!A[0][0].keyFrame&&A.length>1&&(R=A.shift(),A.byteLength-=R.byteLength,A.nalCount-=R.nalCount,A[0][0].dts=R.dts,A[0][0].pts=R.pts,A[0][0].duration+=R.duration),A},Ut=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},yt=function(A,R){var U=Ut();return U.dataOffset=R,U.compositionTimeOffset=A.pts-A.dts,U.duration=A.duration,U.size=4*A.length,U.size+=A.byteLength,A.keyFrame&&(U.flags.dependsOn=2,U.flags.isNonSyncSample=0),U},le=function(A,R){var U,F,K,de,$e,Ve=R||0,We=[];for(U=0;U<A.length;U++)for(de=A[U],F=0;F<de.length;F++)$e=de[F],K=yt($e,Ve),Ve+=K.size,We.push(K);return We},Oe=function(A){var R,U,F,K,de,$e,Ve=0,We=A.byteLength,Qe=A.nalCount,St=We+4*Qe,Lt=new Uint8Array(St),Rr=new DataView(Lt.buffer);for(R=0;R<A.length;R++)for(K=A[R],U=0;U<K.length;U++)for(de=K[U],F=0;F<de.length;F++)$e=de[F],Rr.setUint32(Ve,$e.data.byteLength),Ve+=4,Lt.set($e.data,Ve),Ve+=$e.data.byteLength;return Lt},nt=function(A,R){var U,F=R||0,K=[];return U=yt(A,F),K.push(U),K},Ke=function(A){var R,U,F=0,K=A.byteLength,de=A.length,$e=K+4*de,Ve=new Uint8Array($e),We=new DataView(Ve.buffer);for(R=0;R<A.length;R++)U=A[R],We.setUint32(F,U.data.byteLength),F+=4,Ve.set(U.data,F),F+=U.data.byteLength;return Ve},ct={groupNalsIntoFrames:wt,groupFramesIntoGops:vt,extendFirstKeyFrame:pt,generateSampleTable:le,concatenateNalData:Oe,generateSampleTableForFrame:nt,concatenateNalDataForFrame:Ke},Ot=[33,16,5,32,164,27],Dt=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],_t=function(A){for(var R=[];A--;)R.push(0);return R},Mt=function(A){return Object.keys(A).reduce(function(R,U){return R[U]=new Uint8Array(A[U].reduce(function(F,K){return F.concat(K)},[])),R},{})},Rt,tt=function(){if(!Rt){var A={96e3:[Ot,[227,64],_t(154),[56]],88200:[Ot,[231],_t(170),[56]],64e3:[Ot,[248,192],_t(240),[56]],48e3:[Ot,[255,192],_t(268),[55,148,128],_t(54),[112]],44100:[Ot,[255,192],_t(268),[55,163,128],_t(84),[112]],32e3:[Ot,[255,192],_t(268),[55,234],_t(226),[112]],24e3:[Ot,[255,192],_t(268),[55,255,128],_t(268),[111,112],_t(126),[224]],16e3:[Ot,[255,192],_t(268),[55,255,128],_t(268),[111,255],_t(269),[223,108],_t(195),[1,192]],12e3:[Dt,_t(268),[3,127,248],_t(268),[6,255,240],_t(268),[13,255,224],_t(268),[27,253,128],_t(259),[56]],11025:[Dt,_t(268),[3,127,248],_t(268),[6,255,240],_t(268),[13,255,224],_t(268),[27,255,192],_t(268),[55,175,128],_t(108),[112]],8e3:[Dt,_t(268),[3,121,16],_t(47),[7]]};Rt=Mt(A)}return Rt},Zt=9e4,mt,Tt,mr,Bt,Ir,ot,_e;mt=function(A){return A*Zt},Tt=function(A,R){return A*R},mr=function(A){return A/Zt},Bt=function(A,R){return A/R},Ir=function(A,R){return mt(Bt(A,R))},ot=function(A,R){return Tt(mr(A),R)},_e=function(A,R,U){return mr(U?A:A-R)};var ze={ONE_SECOND_IN_TS:Zt,secondsToVideoTs:mt,secondsToAudioTs:Tt,videoTsToSeconds:mr,audioTsToSeconds:Bt,audioTsToVideoTs:Ir,videoTsToAudioTs:ot,metadataTsToSeconds:_e},ke=tt,me=ze,De=function(A){var R,U,F=0;for(R=0;R<A.length;R++)U=A[R],F+=U.data.byteLength;return F},Ae=function(A,R,U,F){var K,de=0,$e=0,Ve=0,We=0,Qe,St,Lt;if(R.length&&(K=me.audioTsToVideoTs(A.baseMediaDecodeTime,A.samplerate),de=Math.ceil(me.ONE_SECOND_IN_TS/(A.samplerate/1024)),U&&F&&($e=K-Math.max(U,F),Ve=Math.floor($e/de),We=Ve*de),!(Ve<1||We>me.ONE_SECOND_IN_TS/2))){for(Qe=ke()[A.samplerate],Qe||(Qe=R[0].data),St=0;St<Ve;St++)Lt=R[0],R.splice(0,0,{data:Qe,dts:Lt.dts-de,pts:Lt.pts-de});return A.baseMediaDecodeTime-=Math.floor(me.videoTsToAudioTs(We,A.samplerate)),We}},Le=function(A,R,U){return R.minSegmentDts>=U?A:(R.minSegmentDts=1/0,A.filter(function(F){return F.dts>=U?(R.minSegmentDts=Math.min(R.minSegmentDts,F.dts),R.minSegmentPts=R.minSegmentDts,!0):!1}))},rr=function(A){var R,U,F=[];for(R=0;R<A.length;R++)U=A[R],F.push({size:U.data.byteLength,duration:1024});return F},c=function(A){var R,U,F=0,K=new Uint8Array(De(A));for(R=0;R<A.length;R++)U=A[R],K.set(U.data,F),F+=U.data.byteLength;return K},xr={prefixWithSilence:Ae,trimAdtsFramesByEarliestDts:Le,generateSampleTable:rr,concatenateFrameData:c},Yr=ze.ONE_SECOND_IN_TS,fe=function(A,R){typeof R.pts=="number"&&(A.timelineStartInfo.pts===void 0&&(A.timelineStartInfo.pts=R.pts),A.minSegmentPts===void 0?A.minSegmentPts=R.pts:A.minSegmentPts=Math.min(A.minSegmentPts,R.pts),A.maxSegmentPts===void 0?A.maxSegmentPts=R.pts:A.maxSegmentPts=Math.max(A.maxSegmentPts,R.pts)),typeof R.dts=="number"&&(A.timelineStartInfo.dts===void 0&&(A.timelineStartInfo.dts=R.dts),A.minSegmentDts===void 0?A.minSegmentDts=R.dts:A.minSegmentDts=Math.min(A.minSegmentDts,R.dts),A.maxSegmentDts===void 0?A.maxSegmentDts=R.dts:A.maxSegmentDts=Math.max(A.maxSegmentDts,R.dts))},w=function(A){delete A.minSegmentDts,delete A.maxSegmentDts,delete A.minSegmentPts,delete A.maxSegmentPts},k=function(A,R){var U,F,K=A.minSegmentDts;return R||(K-=A.timelineStartInfo.dts),U=A.timelineStartInfo.baseMediaDecodeTime,U+=K,U=Math.max(0,U),A.type==="audio"&&(F=A.samplerate/Yr,U*=F,U=Math.floor(U)),U},B={clearDtsInfo:w,calculateTrackBaseMediaDecodeTime:k,collectDtsInfo:fe},ce=4,ve=128,ue=function(A){for(var R=0,U={payloadType:-1,payloadSize:0},F=0,K=0;R<A.byteLength&&A[R]!==ve;){for(;A[R]===255;)F+=255,R++;for(F+=A[R++];A[R]===255;)K+=255,R++;if(K+=A[R++],!U.payload&&F===ce){var de=String.fromCharCode(A[R+3],A[R+4],A[R+5],A[R+6]);if(de==="GA94"){U.payloadType=F,U.payloadSize=K,U.payload=A.subarray(R,R+K);break}else U.payload=void 0}R+=K,F=0,K=0}return U},Ie=function(A){return A.payload[0]!==181||(A.payload[1]<<8|A.payload[2])!==49||String.fromCharCode(A.payload[3],A.payload[4],A.payload[5],A.payload[6])!=="GA94"||A.payload[7]!==3?null:A.payload.subarray(8,A.payload.length-1)},Me=function(A,R){var U=[],F,K,de,$e;if(!(R[0]&64))return U;for(K=R[0]&31,F=0;F<K;F++)de=F*3,$e={type:R[de+2]&3,pts:A},R[de+2]&4&&($e.ccData=R[de+3]<<8|R[de+4],U.push($e));return U},Se=function(A){for(var R=A.byteLength,U=[],F=1,K,de;F<R-2;)A[F]===0&&A[F+1]===0&&A[F+2]===3?(U.push(F+2),F+=2):F++;if(U.length===0)return A;K=R-U.length,de=new Uint8Array(K);var $e=0;for(F=0;F<K;$e++,F++)$e===U[0]&&($e++,U.shift()),de[F]=A[$e];return de},Be={parseSei:ue,parseUserData:Ie,parseCaptionPackets:Me,discardEmulationPreventionBytes:Se,USER_DATA_REGISTERED_ITU_T_T35:ce},it=r,ut=Be,ht=function(A){A=A||{},ht.prototype.init.call(this),this.parse708captions_=typeof A.parse708captions=="boolean"?A.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Kt(0,0),new Kt(0,1),new Kt(1,0),new Kt(1,1)],this.parse708captions_&&(this.cc708Stream_=new zt({captionServices:A.captionServices})),this.reset(),this.ccStreams_.forEach(function(R){R.on("data",this.trigger.bind(this,"data")),R.on("partialdone",this.trigger.bind(this,"partialdone")),R.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};ht.prototype=new it,ht.prototype.push=function(A){var R,U,F;if(A.nalUnitType==="sei_rbsp"&&(R=ut.parseSei(A.escapedRBSP),!!R.payload&&R.payloadType===ut.USER_DATA_REGISTERED_ITU_T_T35&&(U=ut.parseUserData(R),!!U))){if(A.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(A.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}F=ut.parseCaptionPackets(A.pts,U),this.captionPackets_=this.captionPackets_.concat(F),this.latestDts_!==A.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=A.dts}},ht.prototype.flushCCStreams=function(A){this.ccStreams_.forEach(function(R){return A==="flush"?R.flush():R.partialFlush()},this)},ht.prototype.flushStream=function(A){if(!this.captionPackets_.length){this.flushCCStreams(A);return}this.captionPackets_.forEach(function(R,U){R.presortIndex=U}),this.captionPackets_.sort(function(R,U){return R.pts===U.pts?R.presortIndex-U.presortIndex:R.pts-U.pts}),this.captionPackets_.forEach(function(R){R.type<2?this.dispatchCea608Packet(R):this.dispatchCea708Packet(R)},this),this.captionPackets_.length=0,this.flushCCStreams(A)},ht.prototype.flush=function(){return this.flushStream("flush")},ht.prototype.partialFlush=function(){return this.flushStream("partialFlush")},ht.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(A){A.reset()})},ht.prototype.dispatchCea608Packet=function(A){this.setsTextOrXDSActive(A)?this.activeCea608Channel_[A.type]=null:this.setsChannel1Active(A)?this.activeCea608Channel_[A.type]=0:this.setsChannel2Active(A)&&(this.activeCea608Channel_[A.type]=1),this.activeCea608Channel_[A.type]!==null&&this.ccStreams_[(A.type<<1)+this.activeCea608Channel_[A.type]].push(A)},ht.prototype.setsChannel1Active=function(A){return(A.ccData&30720)===4096},ht.prototype.setsChannel2Active=function(A){return(A.ccData&30720)===6144},ht.prototype.setsTextOrXDSActive=function(A){return(A.ccData&28928)===256||(A.ccData&30974)===4138||(A.ccData&30974)===6186},ht.prototype.dispatchCea708Packet=function(A){this.parse708captions_&&this.cc708Stream_.push(A)};var je={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},dt=function(A){var R=je[A]||A;return A&4096&&A===R?"":String.fromCharCode(R)},at=function(A){return 32<=A&&A<=127||160<=A&&A<=255},Nt=function(A){this.windowNum=A,this.reset()};Nt.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Nt.prototype.getText=function(){return this.rows.join(`
`)},Nt.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Nt.prototype.newLine=function(A){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(A),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Nt.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Nt.prototype.addText=function(A){this.rows[this.rowIdx]+=A},Nt.prototype.backspace=function(){if(!this.isEmpty()){var A=this.rows[this.rowIdx];this.rows[this.rowIdx]=A.substr(0,A.length-1)}};var jt=function(A,R,U){this.serviceNum=A,this.text="",this.currentWindow=new Nt(-1),this.windows=[],this.stream=U,typeof R=="string"&&this.createTextDecoder(R)};jt.prototype.init=function(A,R){this.startPts=A;for(var U=0;U<8;U++)this.windows[U]=new Nt(U),typeof R=="function"&&(this.windows[U].beforeRowOverflow=R)},jt.prototype.setCurrentWindow=function(A){this.currentWindow=this.windows[A]},jt.prototype.createTextDecoder=function(A){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(A)}catch(R){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+A+" encoding. "+R})}};var zt=function(A){A=A||{},zt.prototype.init.call(this);var R=this,U=A.captionServices||{},F={},K;Object.keys(U).forEach(de=>{K=U[de],/^SERVICE/.test(de)&&(F[de]=K.encoding)}),this.serviceEncodings=F,this.current708Packet=null,this.services={},this.push=function(de){de.type===3?(R.new708Packet(),R.add708Bytes(de)):(R.current708Packet===null&&R.new708Packet(),R.add708Bytes(de))}};zt.prototype=new it,zt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},zt.prototype.add708Bytes=function(A){var R=A.ccData,U=R>>>8,F=R&255;this.current708Packet.ptsVals.push(A.pts),this.current708Packet.data.push(U),this.current708Packet.data.push(F)},zt.prototype.push708Packet=function(){var A=this.current708Packet,R=A.data,U=null,F=null,K=0,de=R[K++];for(A.seq=de>>6,A.sizeCode=de&63;K<R.length;K++)de=R[K++],U=de>>5,F=de&31,U===7&&F>0&&(de=R[K++],U=de),this.pushServiceBlock(U,K,F),F>0&&(K+=F-1)},zt.prototype.pushServiceBlock=function(A,R,U){var F,K=R,de=this.current708Packet.data,$e=this.services[A];for($e||($e=this.initService(A,K));K<R+U&&K<de.length;K++)F=de[K],at(F)?K=this.handleText(K,$e):F===24?K=this.multiByteCharacter(K,$e):F===16?K=this.extendedCommands(K,$e):128<=F&&F<=135?K=this.setCurrentWindow(K,$e):152<=F&&F<=159?K=this.defineWindow(K,$e):F===136?K=this.clearWindows(K,$e):F===140?K=this.deleteWindows(K,$e):F===137?K=this.displayWindows(K,$e):F===138?K=this.hideWindows(K,$e):F===139?K=this.toggleWindows(K,$e):F===151?K=this.setWindowAttributes(K,$e):F===144?K=this.setPenAttributes(K,$e):F===145?K=this.setPenColor(K,$e):F===146?K=this.setPenLocation(K,$e):F===143?$e=this.reset(K,$e):F===8?$e.currentWindow.backspace():F===12?$e.currentWindow.clearText():F===13?$e.currentWindow.pendingNewLine=!0:F===14?$e.currentWindow.clearText():F===141&&K++},zt.prototype.extendedCommands=function(A,R){var U=this.current708Packet.data,F=U[++A];return at(F)&&(A=this.handleText(A,R,{isExtended:!0})),A},zt.prototype.getPts=function(A){return this.current708Packet.ptsVals[Math.floor(A/2)]},zt.prototype.initService=function(A,R){var F="SERVICE"+A,U=this,F,K;return F in this.serviceEncodings&&(K=this.serviceEncodings[F]),this.services[A]=new jt(A,K,U),this.services[A].init(this.getPts(R),function(de){U.flushDisplayed(de,U.services[A])}),this.services[A]},zt.prototype.handleText=function(A,R,U){var F=U&&U.isExtended,K=U&&U.isMultiByte,de=this.current708Packet.data,$e=F?4096:0,Ve=de[A],We=de[A+1],Qe=R.currentWindow,St,Lt;function Rr(tr){return tr.map(mn=>("0"+(mn&255).toString(16)).slice(-2)).join("")}if(K?(Lt=[Ve,We],A++):Lt=[Ve],R.textDecoder_&&!F)St=R.textDecoder_.decode(new Uint8Array(Lt));else if(K){const tr=Rr(Lt);St=String.fromCharCode(parseInt(tr,16))}else St=dt($e|Ve);return Qe.pendingNewLine&&!Qe.isEmpty()&&Qe.newLine(this.getPts(A)),Qe.pendingNewLine=!1,Qe.addText(St),A},zt.prototype.multiByteCharacter=function(A,R){var U=this.current708Packet.data,F=U[A+1],K=U[A+2];return at(F)&&at(K)&&(A=this.handleText(++A,R,{isMultiByte:!0})),A},zt.prototype.setCurrentWindow=function(A,R){var U=this.current708Packet.data,F=U[A],K=F&7;return R.setCurrentWindow(K),A},zt.prototype.defineWindow=function(A,R){var U=this.current708Packet.data,F=U[A],K=F&7;R.setCurrentWindow(K);var de=R.currentWindow;return F=U[++A],de.visible=(F&32)>>5,de.rowLock=(F&16)>>4,de.columnLock=(F&8)>>3,de.priority=F&7,F=U[++A],de.relativePositioning=(F&128)>>7,de.anchorVertical=F&127,F=U[++A],de.anchorHorizontal=F,F=U[++A],de.anchorPoint=(F&240)>>4,de.rowCount=F&15,F=U[++A],de.columnCount=F&63,F=U[++A],de.windowStyle=(F&56)>>3,de.penStyle=F&7,de.virtualRowCount=de.rowCount+1,A},zt.prototype.setWindowAttributes=function(A,R){var U=this.current708Packet.data,F=U[A],K=R.currentWindow.winAttr;return F=U[++A],K.fillOpacity=(F&192)>>6,K.fillRed=(F&48)>>4,K.fillGreen=(F&12)>>2,K.fillBlue=F&3,F=U[++A],K.borderType=(F&192)>>6,K.borderRed=(F&48)>>4,K.borderGreen=(F&12)>>2,K.borderBlue=F&3,F=U[++A],K.borderType+=(F&128)>>5,K.wordWrap=(F&64)>>6,K.printDirection=(F&48)>>4,K.scrollDirection=(F&12)>>2,K.justify=F&3,F=U[++A],K.effectSpeed=(F&240)>>4,K.effectDirection=(F&12)>>2,K.displayEffect=F&3,A},zt.prototype.flushDisplayed=function(A,R){for(var U=[],F=0;F<8;F++)R.windows[F].visible&&!R.windows[F].isEmpty()&&U.push(R.windows[F].getText());R.endPts=A,R.text=U.join(`

`),this.pushCaption(R),R.startPts=A},zt.prototype.pushCaption=function(A){A.text!==""&&(this.trigger("data",{startPts:A.startPts,endPts:A.endPts,text:A.text,stream:"cc708_"+A.serviceNum}),A.text="",A.startPts=A.endPts)},zt.prototype.displayWindows=function(A,R){var U=this.current708Packet.data,F=U[++A],K=this.getPts(A);this.flushDisplayed(K,R);for(var de=0;de<8;de++)F&1<<de&&(R.windows[de].visible=1);return A},zt.prototype.hideWindows=function(A,R){var U=this.current708Packet.data,F=U[++A],K=this.getPts(A);this.flushDisplayed(K,R);for(var de=0;de<8;de++)F&1<<de&&(R.windows[de].visible=0);return A},zt.prototype.toggleWindows=function(A,R){var U=this.current708Packet.data,F=U[++A],K=this.getPts(A);this.flushDisplayed(K,R);for(var de=0;de<8;de++)F&1<<de&&(R.windows[de].visible^=1);return A},zt.prototype.clearWindows=function(A,R){var U=this.current708Packet.data,F=U[++A],K=this.getPts(A);this.flushDisplayed(K,R);for(var de=0;de<8;de++)F&1<<de&&R.windows[de].clearText();return A},zt.prototype.deleteWindows=function(A,R){var U=this.current708Packet.data,F=U[++A],K=this.getPts(A);this.flushDisplayed(K,R);for(var de=0;de<8;de++)F&1<<de&&R.windows[de].reset();return A},zt.prototype.setPenAttributes=function(A,R){var U=this.current708Packet.data,F=U[A],K=R.currentWindow.penAttr;return F=U[++A],K.textTag=(F&240)>>4,K.offset=(F&12)>>2,K.penSize=F&3,F=U[++A],K.italics=(F&128)>>7,K.underline=(F&64)>>6,K.edgeType=(F&56)>>3,K.fontStyle=F&7,A},zt.prototype.setPenColor=function(A,R){var U=this.current708Packet.data,F=U[A],K=R.currentWindow.penColor;return F=U[++A],K.fgOpacity=(F&192)>>6,K.fgRed=(F&48)>>4,K.fgGreen=(F&12)>>2,K.fgBlue=F&3,F=U[++A],K.bgOpacity=(F&192)>>6,K.bgRed=(F&48)>>4,K.bgGreen=(F&12)>>2,K.bgBlue=F&3,F=U[++A],K.edgeRed=(F&48)>>4,K.edgeGreen=(F&12)>>2,K.edgeBlue=F&3,A},zt.prototype.setPenLocation=function(A,R){var U=this.current708Packet.data,F=U[A],K=R.currentWindow.penLoc;return R.currentWindow.pendingNewLine=!0,F=U[++A],K.row=F&15,F=U[++A],K.column=F&63,A},zt.prototype.reset=function(A,R){var U=this.getPts(A);return this.flushDisplayed(U,R),this.initService(R.serviceNum,A)};var Xt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Er=function(A){return A===null?"":(A=Xt[A]||A,String.fromCharCode(A))},or=14,we=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ur=function(){for(var A=[],R=or+1;R--;)A.push({text:"",indent:0,offset:0});return A},Kt=function(A,R){Kt.prototype.init.call(this),this.field_=A||0,this.dataChannel_=R||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(U){var F,K,de,$e,Ve;if(F=U.ccData&32639,F===this.lastControlCode_){this.lastControlCode_=null;return}if((F&61440)===4096?this.lastControlCode_=F:F!==this.PADDING_&&(this.lastControlCode_=null),de=F>>>8,$e=F&255,F!==this.PADDING_)if(F===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(F===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(U.pts),this.flushDisplayed(U.pts),K=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=K,this.startPts_=U.pts;else if(F===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(U.pts);else if(F===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(U.pts);else if(F===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(U.pts);else if(F===this.CARRIAGE_RETURN_)this.clearFormatting(U.pts),this.flushDisplayed(U.pts),this.shiftRowsUp_(),this.startPts_=U.pts;else if(F===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(F===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(U.pts),this.displayed_=ur();else if(F===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ur();else if(F===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(U.pts),this.displayed_=ur()),this.mode_="paintOn",this.startPts_=U.pts;else if(this.isSpecialCharacter(de,$e))de=(de&3)<<8,Ve=Er(de|$e),this[this.mode_](U.pts,Ve),this.column_++;else if(this.isExtCharacter(de,$e))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),de=(de&3)<<8,Ve=Er(de|$e),this[this.mode_](U.pts,Ve),this.column_++;else if(this.isMidRowCode(de,$e))this.clearFormatting(U.pts),this[this.mode_](U.pts," "),this.column_++,($e&14)===14&&this.addFormatting(U.pts,["i"]),($e&1)===1&&this.addFormatting(U.pts,["u"]);else if(this.isOffsetControlCode(de,$e)){const Qe=$e&3;this.nonDisplayed_[this.row_].offset=Qe,this.column_+=Qe}else if(this.isPAC(de,$e)){var We=we.indexOf(F&7968);if(this.mode_==="rollUp"&&(We-this.rollUpRows_+1<0&&(We=this.rollUpRows_-1),this.setRollUp(U.pts,We)),We!==this.row_&&(this.clearFormatting(U.pts),this.row_=We),$e&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(U.pts,["u"]),(F&16)===16){const Qe=(F&14)>>1;this.column_=Qe*4,this.nonDisplayed_[this.row_].indent+=Qe}this.isColorPAC($e)&&($e&14)===14&&this.addFormatting(U.pts,["i"])}else this.isNormalChar(de)&&($e===0&&($e=null),Ve=Er(de),Ve+=Er($e),this[this.mode_](U.pts,Ve),this.column_+=Ve.length)}};Kt.prototype=new it,Kt.prototype.flushDisplayed=function(A){const R=F=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+F+"."})},U=[];this.displayed_.forEach((F,K)=>{if(F&&F.text&&F.text.length){try{F.text=F.text.trim()}catch{R(K)}F.text.length&&U.push({text:F.text,line:K+1,position:10+Math.min(70,F.indent*10)+F.offset*2.5})}else F==null&&R(K)}),U.length&&this.trigger("data",{startPts:this.startPts_,endPts:A,content:U,stream:this.name_})},Kt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ur(),this.nonDisplayed_=ur(),this.lastControlCode_=null,this.column_=0,this.row_=or,this.rollUpRows_=2,this.formatting_=[]},Kt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Kt.prototype.isSpecialCharacter=function(A,R){return A===this.EXT_&&R>=48&&R<=63},Kt.prototype.isExtCharacter=function(A,R){return(A===this.EXT_+1||A===this.EXT_+2)&&R>=32&&R<=63},Kt.prototype.isMidRowCode=function(A,R){return A===this.EXT_&&R>=32&&R<=47},Kt.prototype.isOffsetControlCode=function(A,R){return A===this.OFFSET_&&R>=33&&R<=35},Kt.prototype.isPAC=function(A,R){return A>=this.BASE_&&A<this.BASE_+8&&R>=64&&R<=127},Kt.prototype.isColorPAC=function(A){return A>=64&&A<=79||A>=96&&A<=127},Kt.prototype.isNormalChar=function(A){return A>=32&&A<=127},Kt.prototype.setRollUp=function(A,R){if(this.mode_!=="rollUp"&&(this.row_=or,this.mode_="rollUp",this.flushDisplayed(A),this.nonDisplayed_=ur(),this.displayed_=ur()),R!==void 0&&R!==this.row_)for(var U=0;U<this.rollUpRows_;U++)this.displayed_[R-U]=this.displayed_[this.row_-U],this.displayed_[this.row_-U]={text:"",indent:0,offset:0};R===void 0&&(R=this.row_),this.topRow_=R-this.rollUpRows_+1},Kt.prototype.addFormatting=function(A,R){this.formatting_=this.formatting_.concat(R);var U=R.reduce(function(F,K){return F+"<"+K+">"},"");this[this.mode_](A,U)},Kt.prototype.clearFormatting=function(A){if(this.formatting_.length){var R=this.formatting_.reverse().reduce(function(U,F){return U+"</"+F+">"},"");this.formatting_=[],this[this.mode_](A,R)}},Kt.prototype.popOn=function(A,R){var U=this.nonDisplayed_[this.row_].text;U+=R,this.nonDisplayed_[this.row_].text=U},Kt.prototype.rollUp=function(A,R){var U=this.displayed_[this.row_].text;U+=R,this.displayed_[this.row_].text=U},Kt.prototype.shiftRowsUp_=function(){var A;for(A=0;A<this.topRow_;A++)this.displayed_[A]={text:"",indent:0,offset:0};for(A=this.row_+1;A<or+1;A++)this.displayed_[A]={text:"",indent:0,offset:0};for(A=this.topRow_;A<this.row_;A++)this.displayed_[A]=this.displayed_[A+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Kt.prototype.paintOn=function(A,R){var U=this.displayed_[this.row_].text;U+=R,this.displayed_[this.row_].text=U};var Vn={CaptionStream:ht,Cea608Stream:Kt,Cea708Stream:zt},si={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},_r=r,Ei=8589934592,Zr=4294967296,Ur="shared",Qr=function(A,R){var U=1;for(A>R&&(U=-1);Math.abs(R-A)>Zr;)A+=U*Ei;return A},rn=function(A){var R,U;rn.prototype.init.call(this),this.type_=A||Ur,this.push=function(F){if(F.type==="metadata"){this.trigger("data",F);return}this.type_!==Ur&&F.type!==this.type_||(U===void 0&&(U=F.dts),F.dts=Qr(F.dts,U),F.pts=Qr(F.pts,U),R=F.dts,this.trigger("data",F))},this.flush=function(){U=R,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){U=void 0,R=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};rn.prototype=new _r;var en={TimestampRolloverStream:rn,handleRollover:Qr},bn=(A,R,U)=>{if(!A)return-1;for(var F=U;F<A.length;F++)if(A[F]===R)return F;return-1},$r={typedArrayIndexOf:bn},Gr=$r.typedArrayIndexOf,ar={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},Lr=function(A,R,U){var F,K="";for(F=R;F<U;F++)K+="%"+("00"+A[F].toString(16)).slice(-2);return K},cn=function(A,R,U){return decodeURIComponent(Lr(A,R,U))},yi=function(A,R,U){return unescape(Lr(A,R,U))},Ln=function(A){return A[0]<<21|A[1]<<14|A[2]<<7|A[3]},an={APIC:function(A){var R=1,U,F,K="-->";A.data[0]===ar.Utf8&&(U=Gr(A.data,0,R),!(U<0)&&(A.mimeType=yi(A.data,R,U),R=U+1,A.pictureType=A.data[R],R++,F=Gr(A.data,0,R),!(F<0)&&(A.description=cn(A.data,R,F),R=F+1,A.mimeType===K?A.url=yi(A.data,R,A.data.length):A.pictureData=A.data.subarray(R,A.data.length))))},"T*":function(A){A.data[0]===ar.Utf8&&(A.value=cn(A.data,1,A.data.length).replace(/\0*$/,""),A.values=A.value.split("\0"))},TXXX:function(A){var R;A.data[0]===ar.Utf8&&(R=Gr(A.data,0,1),R!==-1&&(A.description=cn(A.data,1,R),A.value=cn(A.data,R+1,A.data.length).replace(/\0*$/,""),A.data=A.value))},"W*":function(A){A.url=yi(A.data,0,A.data.length).replace(/\0.*$/,"")},WXXX:function(A){var R;A.data[0]===ar.Utf8&&(R=Gr(A.data,0,1),R!==-1&&(A.description=cn(A.data,1,R),A.url=yi(A.data,R+1,A.data.length).replace(/\0.*$/,"")))},PRIV:function(A){var R;for(R=0;R<A.data.length;R++)if(A.data[R]===0){A.owner=yi(A.data,0,R);break}A.privateData=A.data.subarray(R+1),A.data=A.privateData}},Xn=function(A){var R,U,F=10,K=0,de=[];if(!(A.length<10||A[0]!=="I".charCodeAt(0)||A[1]!=="D".charCodeAt(0)||A[2]!=="3".charCodeAt(0))){K=Ln(A.subarray(6,10)),K+=10;var $e=A[5]&64;$e&&(F+=4,F+=Ln(A.subarray(10,14)),K-=Ln(A.subarray(16,20)));do{if(R=Ln(A.subarray(F+4,F+8)),R<1)break;U=String.fromCharCode(A[F],A[F+1],A[F+2],A[F+3]);var Ve={id:U,data:A.subarray(F+10,F+R+10)};Ve.key=Ve.id,an[Ve.id]?an[Ve.id](Ve):Ve.id[0]==="T"?an["T*"](Ve):Ve.id[0]==="W"&&an["W*"](Ve),de.push(Ve),F+=10,F+=R}while(F<K);return de}},Pt={parseId3Frames:Xn,parseSyncSafeInteger:Ln,frameParsers:an},ls=r,mi=si,wi=Pt,Si;Si=function(A){var R={descriptor:A&&A.descriptor},U=0,F=[],K=0,de;if(Si.prototype.init.call(this),this.dispatchType=mi.METADATA_STREAM_TYPE.toString(16),R.descriptor)for(de=0;de<R.descriptor.length;de++)this.dispatchType+=("00"+R.descriptor[de].toString(16)).slice(-2);this.push=function($e){var Ve,We,Qe,St,Lt,Rr;if($e.type==="timed-metadata"){if($e.dataAlignmentIndicator&&(K=0,F.length=0),F.length===0&&($e.data.length<10||$e.data[0]!=="I".charCodeAt(0)||$e.data[1]!=="D".charCodeAt(0)||$e.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(F.push($e),K+=$e.data.byteLength,F.length===1&&(U=wi.parseSyncSafeInteger($e.data.subarray(6,10)),U+=10),!(K<U)){for(Ve={data:new Uint8Array(U),frames:[],pts:F[0].pts,dts:F[0].dts},Lt=0;Lt<U;)Ve.data.set(F[0].data.subarray(0,U-Lt),Lt),Lt+=F[0].data.byteLength,K-=F[0].data.byteLength,F.shift();We=10,Ve.data[5]&64&&(We+=4,We+=wi.parseSyncSafeInteger(Ve.data.subarray(10,14)),U-=wi.parseSyncSafeInteger(Ve.data.subarray(16,20)));do{if(Qe=wi.parseSyncSafeInteger(Ve.data.subarray(We+4,We+8)),Qe<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Rr=String.fromCharCode(Ve.data[We],Ve.data[We+1],Ve.data[We+2],Ve.data[We+3]),St={id:Rr,data:Ve.data.subarray(We+10,We+Qe+10)},St.key=St.id,wi.frameParsers[St.id]?wi.frameParsers[St.id](St):St.id[0]==="T"?wi.frameParsers["T*"](St):St.id[0]==="W"&&wi.frameParsers["W*"](St),St.owner==="com.apple.streaming.transportStreamTimestamp"){var tr=St.data,mn=(tr[3]&1)<<30|tr[4]<<22|tr[5]<<14|tr[6]<<6|tr[7]>>>2;mn*=4,mn+=tr[7]&3,St.timeStamp=mn,Ve.pts===void 0&&Ve.dts===void 0&&(Ve.pts=St.timeStamp,Ve.dts=St.timeStamp),this.trigger("timestamp",St)}Ve.frames.push(St),We+=10,We+=Qe}while(We<U);this.trigger("data",Ve)}}}},Si.prototype=new ls;var Io=Si,jo=r,eo=Vn,zi=si,Fi=en.TimestampRolloverStream,aa,Ho,fo,Oo=188,ho=71;aa=function(){var A=new Uint8Array(Oo),R=0;aa.prototype.init.call(this),this.push=function(U){var F=0,K=Oo,de;for(R?(de=new Uint8Array(U.byteLength+R),de.set(A.subarray(0,R)),de.set(U,R),R=0):de=U;K<de.byteLength;){if(de[F]===ho&&de[K]===ho){this.trigger("data",de.subarray(F,K)),F+=Oo,K+=Oo;continue}F++,K++}F<de.byteLength&&(A.set(de.subarray(F),0),R=de.byteLength-F)},this.flush=function(){R===Oo&&A[0]===ho&&(this.trigger("data",A),R=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){R=0,this.trigger("reset")}},aa.prototype=new jo,Ho=function(){var A,R,U,F;Ho.prototype.init.call(this),F=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,A=function(K,de){var $e=0;de.payloadUnitStartIndicator&&($e+=K[$e]+1),de.type==="pat"?R(K.subarray($e),de):U(K.subarray($e),de)},R=function(K,de){de.section_number=K[7],de.last_section_number=K[8],F.pmtPid=(K[10]&31)<<8|K[11],de.pmtPid=F.pmtPid},U=function(K,de){var $e,Ve,We,Qe;if(K[5]&1){for(F.programMapTable={video:null,audio:null,"timed-metadata":{}},$e=(K[1]&15)<<8|K[2],Ve=3+$e-4,We=(K[10]&15)<<8|K[11],Qe=12+We;Qe<Ve;){var St=K[Qe],Lt=(K[Qe+1]&31)<<8|K[Qe+2];St===zi.H264_STREAM_TYPE&&F.programMapTable.video===null?F.programMapTable.video=Lt:St===zi.ADTS_STREAM_TYPE&&F.programMapTable.audio===null?F.programMapTable.audio=Lt:St===zi.METADATA_STREAM_TYPE&&(F.programMapTable["timed-metadata"][Lt]=St),Qe+=((K[Qe+3]&15)<<8|K[Qe+4])+5}de.programMapTable=F.programMapTable}},this.push=function(K){var de={},$e=4;if(de.payloadUnitStartIndicator=!!(K[1]&64),de.pid=K[1]&31,de.pid<<=8,de.pid|=K[2],(K[3]&48)>>>4>1&&($e+=K[$e]+1),de.pid===0)de.type="pat",A(K.subarray($e),de),this.trigger("data",de);else if(de.pid===this.pmtPid)for(de.type="pmt",A(K.subarray($e),de),this.trigger("data",de);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([K,$e,de]):this.processPes_(K,$e,de)},this.processPes_=function(K,de,$e){$e.pid===this.programMapTable.video?$e.streamType=zi.H264_STREAM_TYPE:$e.pid===this.programMapTable.audio?$e.streamType=zi.ADTS_STREAM_TYPE:$e.streamType=this.programMapTable["timed-metadata"][$e.pid],$e.type="pes",$e.data=K.subarray(de),this.trigger("data",$e)}},Ho.prototype=new jo,Ho.STREAM_TYPES={h264:27,adts:15},fo=function(){var A=this,R=!1,U={data:[],size:0},F={data:[],size:0},K={data:[],size:0},de,$e=function(We,Qe){var St;const Lt=We[0]<<16|We[1]<<8|We[2];Qe.data=new Uint8Array,Lt===1&&(Qe.packetLength=6+(We[4]<<8|We[5]),Qe.dataAlignmentIndicator=(We[6]&4)!==0,St=We[7],St&192&&(Qe.pts=(We[9]&14)<<27|(We[10]&255)<<20|(We[11]&254)<<12|(We[12]&255)<<5|(We[13]&254)>>>3,Qe.pts*=4,Qe.pts+=(We[13]&6)>>>1,Qe.dts=Qe.pts,St&64&&(Qe.dts=(We[14]&14)<<27|(We[15]&255)<<20|(We[16]&254)<<12|(We[17]&255)<<5|(We[18]&254)>>>3,Qe.dts*=4,Qe.dts+=(We[18]&6)>>>1)),Qe.data=We.subarray(9+We[8]))},Ve=function(We,Qe,St){var Lt=new Uint8Array(We.size),Rr={type:Qe},tr=0,mn=0,Pn=!1,to;if(!(!We.data.length||We.size<9)){for(Rr.trackId=We.data[0].pid,tr=0;tr<We.data.length;tr++)to=We.data[tr],Lt.set(to.data,mn),mn+=to.data.byteLength;$e(Lt,Rr),Pn=Qe==="video"||Rr.packetLength<=We.size,(St||Pn)&&(We.size=0,We.data.length=0),Pn&&A.trigger("data",Rr)}};fo.prototype.init.call(this),this.push=function(We){({pat:function(){},pes:function(){var Qe,St;switch(We.streamType){case zi.H264_STREAM_TYPE:Qe=U,St="video";break;case zi.ADTS_STREAM_TYPE:Qe=F,St="audio";break;case zi.METADATA_STREAM_TYPE:Qe=K,St="timed-metadata";break;default:return}We.payloadUnitStartIndicator&&Ve(Qe,St,!0),Qe.data.push(We),Qe.size+=We.data.byteLength},pmt:function(){var Qe={type:"metadata",tracks:[]};de=We.programMapTable,de.video!==null&&Qe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+de.video,codec:"avc",type:"video"}),de.audio!==null&&Qe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+de.audio,codec:"adts",type:"audio"}),R=!0,A.trigger("data",Qe)}})[We.type]()},this.reset=function(){U.size=0,U.data.length=0,F.size=0,F.data.length=0,this.trigger("reset")},this.flushStreams_=function(){Ve(U,"video"),Ve(F,"audio"),Ve(K,"timed-metadata")},this.flush=function(){if(!R&&de){var We={type:"metadata",tracks:[]};de.video!==null&&We.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+de.video,codec:"avc",type:"video"}),de.audio!==null&&We.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+de.audio,codec:"adts",type:"audio"}),A.trigger("data",We)}R=!1,this.flushStreams_(),this.trigger("done")}},fo.prototype=new jo;var ln={PAT_PID:0,MP2T_PACKET_LENGTH:Oo,TransportPacketStream:aa,TransportParseStream:Ho,ElementaryStream:fo,TimestampRolloverStream:Fi,CaptionStream:eo.CaptionStream,Cea608Stream:eo.Cea608Stream,Cea708Stream:eo.Cea708Stream,MetadataStream:Io};for(var Rl in zi)zi.hasOwnProperty(Rl)&&(ln[Rl]=zi[Rl]);var Ia=ln,ol=r,ym=ze.ONE_SECOND_IN_TS,Oa,us=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Oa=function(A){var R,U=0;Oa.prototype.init.call(this),this.skipWarn_=function(F,K){this.trigger("log",{level:"warn",message:`adts skiping bytes ${F} to ${K} in frame ${U} outside syncword`})},this.push=function(F){var K=0,de,$e,Ve,We,Qe;if(A||(U=0),F.type==="audio"){R&&R.length?(Ve=R,R=new Uint8Array(Ve.byteLength+F.data.byteLength),R.set(Ve),R.set(F.data,Ve.byteLength)):R=F.data;for(var St;K+7<R.length;){if(R[K]!==255||(R[K+1]&246)!==240){typeof St!="number"&&(St=K),K++;continue}if(typeof St=="number"&&(this.skipWarn_(St,K),St=null),$e=(~R[K+1]&1)*2,de=(R[K+3]&3)<<11|R[K+4]<<3|(R[K+5]&224)>>5,We=((R[K+6]&3)+1)*1024,Qe=We*ym/us[(R[K+2]&60)>>>2],R.byteLength-K<de)break;this.trigger("data",{pts:F.pts+U*Qe,dts:F.dts+U*Qe,sampleCount:We,audioobjecttype:(R[K+2]>>>6&3)+1,channelcount:(R[K+2]&1)<<2|(R[K+3]&192)>>>6,samplerate:us[(R[K+2]&60)>>>2],samplingfrequencyindex:(R[K+2]&60)>>>2,samplesize:16,data:R.subarray(K+7+$e,K+de)}),U++,K+=de}typeof St=="number"&&(this.skipWarn_(St,K),St=null),R=R.subarray(K)}},this.flush=function(){U=0,this.trigger("done")},this.reset=function(){R=void 0,this.trigger("reset")},this.endTimeline=function(){R=void 0,this.trigger("endedtimeline")}},Oa.prototype=new ol;var up=Oa,cp;cp=function(A){var R=A.byteLength,U=0,F=0;this.length=function(){return 8*R},this.bitsAvailable=function(){return 8*R+F},this.loadWord=function(){var K=A.byteLength-R,de=new Uint8Array(4),$e=Math.min(4,R);if($e===0)throw new Error("no bytes available");de.set(A.subarray(K,K+$e)),U=new DataView(de.buffer).getUint32(0),F=$e*8,R-=$e},this.skipBits=function(K){var de;F>K?(U<<=K,F-=K):(K-=F,de=Math.floor(K/8),K-=de*8,R-=de,this.loadWord(),U<<=K,F-=K)},this.readBits=function(K){var de=Math.min(F,K),$e=U>>>32-de;return F-=de,F>0?U<<=de:R>0&&this.loadWord(),de=K-de,de>0?$e<<de|this.readBits(de):$e},this.skipLeadingZeros=function(){var K;for(K=0;K<F;++K)if(U&2147483648>>>K)return U<<=K,F-=K,K;return this.loadWord(),K+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var K=this.skipLeadingZeros();return this.readBits(K+1)-1},this.readExpGolomb=function(){var K=this.readUnsignedExpGolomb();return 1&K?1+K>>>1:-1*(K>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var bm=cp,Bf=r,dp=bm,wc,$l,Sc;$l=function(){var A=0,R,U;$l.prototype.init.call(this),this.push=function(F){var K;U?(K=new Uint8Array(U.byteLength+F.data.byteLength),K.set(U),K.set(F.data,U.byteLength),U=K):U=F.data;for(var de=U.byteLength;A<de-3;A++)if(U[A+2]===1){R=A+5;break}for(;R<de;)switch(U[R]){case 0:if(U[R-1]!==0){R+=2;break}else if(U[R-2]!==0){R++;break}A+3!==R-2&&this.trigger("data",U.subarray(A+3,R-2));do R++;while(U[R]!==1&&R<de);A=R-2,R+=3;break;case 1:if(U[R-1]!==0||U[R-2]!==0){R+=3;break}this.trigger("data",U.subarray(A+3,R-2)),A=R-2,R+=3;break;default:R+=3;break}U=U.subarray(A),R-=A,A=0},this.reset=function(){U=null,A=0,this.trigger("reset")},this.flush=function(){U&&U.byteLength>3&&this.trigger("data",U.subarray(A+3)),U=null,A=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},$l.prototype=new Bf,Sc={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},wc=function(){var A=new $l,R,U,F,K,de,$e,Ve;wc.prototype.init.call(this),R=this,this.push=function(We){We.type==="video"&&(U=We.trackId,F=We.pts,K=We.dts,A.push(We))},A.on("data",function(We){var Qe={trackId:U,pts:F,dts:K,data:We,nalUnitTypeCode:We[0]&31};switch(Qe.nalUnitTypeCode){case 5:Qe.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:Qe.nalUnitType="sei_rbsp",Qe.escapedRBSP=de(We.subarray(1));break;case 7:Qe.nalUnitType="seq_parameter_set_rbsp",Qe.escapedRBSP=de(We.subarray(1)),Qe.config=$e(Qe.escapedRBSP);break;case 8:Qe.nalUnitType="pic_parameter_set_rbsp";break;case 9:Qe.nalUnitType="access_unit_delimiter_rbsp";break}R.trigger("data",Qe)}),A.on("done",function(){R.trigger("done")}),A.on("partialdone",function(){R.trigger("partialdone")}),A.on("reset",function(){R.trigger("reset")}),A.on("endedtimeline",function(){R.trigger("endedtimeline")}),this.flush=function(){A.flush()},this.partialFlush=function(){A.partialFlush()},this.reset=function(){A.reset()},this.endTimeline=function(){A.endTimeline()},Ve=function(We,Qe){var St=8,Lt=8,Rr,tr;for(Rr=0;Rr<We;Rr++)Lt!==0&&(tr=Qe.readExpGolomb(),Lt=(St+tr+256)%256),St=Lt===0?St:Lt},de=function(We){for(var Qe=We.byteLength,St=[],Lt=1,Rr,tr;Lt<Qe-2;)We[Lt]===0&&We[Lt+1]===0&&We[Lt+2]===3?(St.push(Lt+2),Lt+=2):Lt++;if(St.length===0)return We;Rr=Qe-St.length,tr=new Uint8Array(Rr);var mn=0;for(Lt=0;Lt<Rr;mn++,Lt++)mn===St[0]&&(mn++,St.shift()),tr[Lt]=We[mn];return tr},$e=function(We){var Qe=0,St=0,Lt=0,Rr=0,tr,mn,Pn,to,Bl,xp,w5,S5,T5,tA,E5,Ms=[1,1],C5,wp;if(tr=new dp(We),mn=tr.readUnsignedByte(),to=tr.readUnsignedByte(),Pn=tr.readUnsignedByte(),tr.skipUnsignedExpGolomb(),Sc[mn]&&(Bl=tr.readUnsignedExpGolomb(),Bl===3&&tr.skipBits(1),tr.skipUnsignedExpGolomb(),tr.skipUnsignedExpGolomb(),tr.skipBits(1),tr.readBoolean()))for(E5=Bl!==3?8:12,wp=0;wp<E5;wp++)tr.readBoolean()&&(wp<6?Ve(16,tr):Ve(64,tr));if(tr.skipUnsignedExpGolomb(),xp=tr.readUnsignedExpGolomb(),xp===0)tr.readUnsignedExpGolomb();else if(xp===1)for(tr.skipBits(1),tr.skipExpGolomb(),tr.skipExpGolomb(),w5=tr.readUnsignedExpGolomb(),wp=0;wp<w5;wp++)tr.skipExpGolomb();if(tr.skipUnsignedExpGolomb(),tr.skipBits(1),S5=tr.readUnsignedExpGolomb(),T5=tr.readUnsignedExpGolomb(),tA=tr.readBits(1),tA===0&&tr.skipBits(1),tr.skipBits(1),tr.readBoolean()&&(Qe=tr.readUnsignedExpGolomb(),St=tr.readUnsignedExpGolomb(),Lt=tr.readUnsignedExpGolomb(),Rr=tr.readUnsignedExpGolomb()),tr.readBoolean()&&tr.readBoolean()){switch(C5=tr.readUnsignedByte(),C5){case 1:Ms=[1,1];break;case 2:Ms=[12,11];break;case 3:Ms=[10,11];break;case 4:Ms=[16,11];break;case 5:Ms=[40,33];break;case 6:Ms=[24,11];break;case 7:Ms=[20,11];break;case 8:Ms=[32,11];break;case 9:Ms=[80,33];break;case 10:Ms=[18,11];break;case 11:Ms=[15,11];break;case 12:Ms=[64,33];break;case 13:Ms=[160,99];break;case 14:Ms=[4,3];break;case 15:Ms=[3,2];break;case 16:Ms=[2,1];break;case 255:{Ms=[tr.readUnsignedByte()<<8|tr.readUnsignedByte(),tr.readUnsignedByte()<<8|tr.readUnsignedByte()];break}}Ms&&Ms[0]/Ms[1]}return{profileIdc:mn,levelIdc:Pn,profileCompatibility:to,width:(S5+1)*16-Qe*2-St*2,height:(2-tA)*(T5+1)*16-Lt*2-Rr*2,sarRatio:Ms}}},wc.prototype=new Bf;var kd={H264Stream:wc,NalByteStream:$l},Id=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Uf=function(A,R){var U=A[R+6]<<21|A[R+7]<<14|A[R+8]<<7|A[R+9],F=A[R+5],K=(F&16)>>4;return U=U>=0?U:0,K?U+20:U+10},Vf=function(A,R){return A.length-R<10||A[R]!=="I".charCodeAt(0)||A[R+1]!=="D".charCodeAt(0)||A[R+2]!=="3".charCodeAt(0)?R:(R+=Uf(A,R),Vf(A,R))},fp=function(A){var R=Vf(A,0);return A.length>=R+2&&(A[R]&255)===255&&(A[R+1]&240)===240&&(A[R+1]&22)===16},Ll=function(A){return A[0]<<21|A[1]<<14|A[2]<<7|A[3]},Od=function(A,R,U){var F,K="";for(F=R;F<U;F++)K+="%"+("00"+A[F].toString(16)).slice(-2);return K},Dd=function(A,R,U){return unescape(Od(A,R,U))},hp=function(A,R){var U=(A[R+5]&224)>>5,F=A[R+4]<<3,K=A[R+3]&6144;return K|F|U},Fl=function(A,R){return A[R]==="I".charCodeAt(0)&&A[R+1]==="D".charCodeAt(0)&&A[R+2]==="3".charCodeAt(0)?"timed-metadata":A[R]&!0&&(A[R+1]&240)===240?"audio":null},Tc=function(A){for(var R=0;R+5<A.length;){if(A[R]!==255||(A[R+1]&246)!==240){R++;continue}return Id[(A[R+2]&60)>>>2]}return null},ku=function(A){var R,U,F,K;R=10,A[5]&64&&(R+=4,R+=Ll(A.subarray(10,14)));do{if(U=Ll(A.subarray(R+4,R+8)),U<1)return null;if(K=String.fromCharCode(A[R],A[R+1],A[R+2],A[R+3]),K==="PRIV"){F=A.subarray(R+10,R+U+10);for(var de=0;de<F.byteLength;de++)if(F[de]===0){var $e=Dd(F,0,de);if($e==="com.apple.streaming.transportStreamTimestamp"){var Ve=F.subarray(de+1),We=(Ve[3]&1)<<30|Ve[4]<<22|Ve[5]<<14|Ve[6]<<6|Ve[7]>>>2;return We*=4,We+=Ve[7]&3,We}break}}R+=10,R+=U}while(R<A.byteLength);return null},js={isLikelyAacData:fp,parseId3TagSize:Uf,parseAdtsSize:hp,parseType:Fl,parseSampleRate:Tc,parseAacTimestamp:ku},pp=r,mp=js,Ec;Ec=function(){var A=new Uint8Array,R=0;Ec.prototype.init.call(this),this.setTimestamp=function(U){R=U},this.push=function(U){var F=0,K=0,de,$e,Ve,We;for(A.length?(We=A.length,A=new Uint8Array(U.byteLength+We),A.set(A.subarray(0,We)),A.set(U,We)):A=U;A.length-K>=3;){if(A[K]==="I".charCodeAt(0)&&A[K+1]==="D".charCodeAt(0)&&A[K+2]==="3".charCodeAt(0)){if(A.length-K<10||(F=mp.parseId3TagSize(A,K),K+F>A.length))break;$e={type:"timed-metadata",data:A.subarray(K,K+F)},this.trigger("data",$e),K+=F;continue}else if((A[K]&255)===255&&(A[K+1]&240)===240){if(A.length-K<7||(F=mp.parseAdtsSize(A,K),K+F>A.length))break;Ve={type:"audio",data:A.subarray(K,K+F),pts:R,dts:R},this.trigger("data",Ve),K+=F;continue}K++}de=A.length-K,de>0?A=A.subarray(K):A=new Uint8Array},this.reset=function(){A=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){A=new Uint8Array,this.trigger("endedtimeline")}},Ec.prototype=new pp;var xm=Ec,T1=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],XC=T1,al=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Da=al,gp=r,zf=Re,vp=ct,Md=xr,ll=B,Nl=Ia,_p=ze,Cc=up,_=kd.H264Stream,x=xm,O=js.isLikelyAacData,oe=ze.ONE_SECOND_IN_TS,W=XC,I=Da,re,G,z,M,Z=function(A,R){R.stream=A,this.trigger("log",R)},ge=function(A,R){for(var U=Object.keys(R),F=0;F<U.length;F++){var K=U[F];K==="headOfPipeline"||!R[K].on||R[K].on("log",Z.bind(A,K))}},Ce=function(A,R){var U;if(A.length!==R.length)return!1;for(U=0;U<A.length;U++)if(A[U]!==R[U])return!1;return!0},Ge=function(A,R,U,F,K,de){var $e=U-R,Ve=F-R,We=K-U;return{start:{dts:A,pts:A+$e},end:{dts:A+Ve,pts:A+We},prependedContentDuration:de,baseMediaDecodeTime:A}};G=function(A,R){var U=[],F,K=0,de=0,$e=1/0;R=R||{},F=R.firstSequenceNumber||0,G.prototype.init.call(this),this.push=function(Ve){ll.collectDtsInfo(A,Ve),A&&W.forEach(function(We){A[We]=Ve[We]}),U.push(Ve)},this.setEarliestDts=function(Ve){K=Ve},this.setVideoBaseMediaDecodeTime=function(Ve){$e=Ve},this.setAudioAppendStart=function(Ve){de=Ve},this.flush=function(){var Ve,We,Qe,St,Lt,Rr,tr;if(U.length===0){this.trigger("done","AudioSegmentStream");return}Ve=Md.trimAdtsFramesByEarliestDts(U,A,K),A.baseMediaDecodeTime=ll.calculateTrackBaseMediaDecodeTime(A,R.keepOriginalTimestamps),tr=Md.prefixWithSilence(A,Ve,de,$e),A.samples=Md.generateSampleTable(Ve),Qe=zf.mdat(Md.concatenateFrameData(Ve)),U=[],We=zf.moof(F,[A]),St=new Uint8Array(We.byteLength+Qe.byteLength),F++,St.set(We),St.set(Qe,We.byteLength),ll.clearDtsInfo(A),Lt=Math.ceil(oe*1024/A.samplerate),Ve.length&&(Rr=Ve.length*Lt,this.trigger("segmentTimingInfo",Ge(_p.audioTsToVideoTs(A.baseMediaDecodeTime,A.samplerate),Ve[0].dts,Ve[0].pts,Ve[0].dts+Rr,Ve[0].pts+Rr,tr||0)),this.trigger("timingInfo",{start:Ve[0].pts,end:Ve[0].pts+Rr})),this.trigger("data",{track:A,boxes:St}),this.trigger("done","AudioSegmentStream")},this.reset=function(){ll.clearDtsInfo(A),U=[],this.trigger("reset")}},G.prototype=new gp,re=function(A,R){var U,F=[],K=[],de,$e;R=R||{},U=R.firstSequenceNumber||0,re.prototype.init.call(this),delete A.minPTS,this.gopCache_=[],this.push=function(Ve){ll.collectDtsInfo(A,Ve),Ve.nalUnitType==="seq_parameter_set_rbsp"&&!de&&(de=Ve.config,A.sps=[Ve.data],I.forEach(function(We){A[We]=de[We]},this)),Ve.nalUnitType==="pic_parameter_set_rbsp"&&!$e&&($e=Ve.data,A.pps=[Ve.data]),F.push(Ve)},this.flush=function(){for(var Ve,We,Qe,St,Lt,Rr,tr=0,mn,Pn;F.length&&F[0].nalUnitType!=="access_unit_delimiter_rbsp";)F.shift();if(F.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(Ve=vp.groupNalsIntoFrames(F),Qe=vp.groupFramesIntoGops(Ve),Qe[0][0].keyFrame||(We=this.getGopForFusion_(F[0],A),We?(tr=We.duration,Qe.unshift(We),Qe.byteLength+=We.byteLength,Qe.nalCount+=We.nalCount,Qe.pts=We.pts,Qe.dts=We.dts,Qe.duration+=We.duration):Qe=vp.extendFirstKeyFrame(Qe)),K.length){var to;if(R.alignGopsAtEnd?to=this.alignGopsAtEnd_(Qe):to=this.alignGopsAtStart_(Qe),!to){this.gopCache_.unshift({gop:Qe.pop(),pps:A.pps,sps:A.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),F=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}ll.clearDtsInfo(A),Qe=to}ll.collectDtsInfo(A,Qe),A.samples=vp.generateSampleTable(Qe),Lt=zf.mdat(vp.concatenateNalData(Qe)),A.baseMediaDecodeTime=ll.calculateTrackBaseMediaDecodeTime(A,R.keepOriginalTimestamps),this.trigger("processedGopsInfo",Qe.map(function(Bl){return{pts:Bl.pts,dts:Bl.dts,byteLength:Bl.byteLength}})),mn=Qe[0],Pn=Qe[Qe.length-1],this.trigger("segmentTimingInfo",Ge(A.baseMediaDecodeTime,mn.dts,mn.pts,Pn.dts+Pn.duration,Pn.pts+Pn.duration,tr)),this.trigger("timingInfo",{start:Qe[0].pts,end:Qe[Qe.length-1].pts+Qe[Qe.length-1].duration}),this.gopCache_.unshift({gop:Qe.pop(),pps:A.pps,sps:A.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),F=[],this.trigger("baseMediaDecodeTime",A.baseMediaDecodeTime),this.trigger("timelineStartInfo",A.timelineStartInfo),St=zf.moof(U,[A]),Rr=new Uint8Array(St.byteLength+Lt.byteLength),U++,Rr.set(St),Rr.set(Lt,St.byteLength),this.trigger("data",{track:A,boxes:Rr}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),F=[],this.gopCache_.length=0,K.length=0,this.trigger("reset")},this.resetStream_=function(){ll.clearDtsInfo(A),de=void 0,$e=void 0},this.getGopForFusion_=function(Ve){var We=45e3,Qe=1e4,St=1/0,Lt,Rr,tr,mn,Pn;for(Pn=0;Pn<this.gopCache_.length;Pn++)mn=this.gopCache_[Pn],tr=mn.gop,!(!(A.pps&&Ce(A.pps[0],mn.pps[0]))||!(A.sps&&Ce(A.sps[0],mn.sps[0])))&&(tr.dts<A.timelineStartInfo.dts||(Lt=Ve.dts-tr.dts-tr.duration,Lt>=-Qe&&Lt<=We&&(!Rr||St>Lt)&&(Rr=mn,St=Lt)));return Rr?Rr.gop:null},this.alignGopsAtStart_=function(Ve){var We,Qe,St,Lt,Rr,tr,mn,Pn;for(Rr=Ve.byteLength,tr=Ve.nalCount,mn=Ve.duration,We=Qe=0;We<K.length&&Qe<Ve.length&&(St=K[We],Lt=Ve[Qe],St.pts!==Lt.pts);){if(Lt.pts>St.pts){We++;continue}Qe++,Rr-=Lt.byteLength,tr-=Lt.nalCount,mn-=Lt.duration}return Qe===0?Ve:Qe===Ve.length?null:(Pn=Ve.slice(Qe),Pn.byteLength=Rr,Pn.duration=mn,Pn.nalCount=tr,Pn.pts=Pn[0].pts,Pn.dts=Pn[0].dts,Pn)},this.alignGopsAtEnd_=function(Ve){var We,Qe,St,Lt,Rr,tr;for(We=K.length-1,Qe=Ve.length-1,Rr=null,tr=!1;We>=0&&Qe>=0;){if(St=K[We],Lt=Ve[Qe],St.pts===Lt.pts){tr=!0;break}if(St.pts>Lt.pts){We--;continue}We===K.length-1&&(Rr=Qe),Qe--}if(!tr&&Rr===null)return null;var mn;if(tr?mn=Qe:mn=Rr,mn===0)return Ve;var Pn=Ve.slice(mn),to=Pn.reduce(function(Bl,xp){return Bl.byteLength+=xp.byteLength,Bl.duration+=xp.duration,Bl.nalCount+=xp.nalCount,Bl},{byteLength:0,duration:0,nalCount:0});return Pn.byteLength=to.byteLength,Pn.duration=to.duration,Pn.nalCount=to.nalCount,Pn.pts=Pn[0].pts,Pn.dts=Pn[0].dts,Pn},this.alignGopsWith=function(Ve){K=Ve}},re.prototype=new gp,M=function(A,R){this.numberOfTracks=0,this.metadataStream=R,A=A||{},typeof A.remux<"u"?this.remuxTracks=!!A.remux:this.remuxTracks=!0,typeof A.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=A.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,M.prototype.init.call(this),this.push=function(U){if(U.content||U.text)return this.pendingCaptions.push(U);if(U.frames)return this.pendingMetadata.push(U);this.pendingTracks.push(U.track),this.pendingBytes+=U.boxes.byteLength,U.track.type==="video"&&(this.videoTrack=U.track,this.pendingBoxes.push(U.boxes)),U.track.type==="audio"&&(this.audioTrack=U.track,this.pendingBoxes.unshift(U.boxes))}},M.prototype=new gp,M.prototype.flush=function(A){var R=0,U={captions:[],captionStreams:{},metadata:[],info:{}},F,K,de,$e=0,Ve;if(this.pendingTracks.length<this.numberOfTracks){if(A!=="VideoSegmentStream"&&A!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?($e=this.videoTrack.timelineStartInfo.pts,I.forEach(function(We){U.info[We]=this.videoTrack[We]},this)):this.audioTrack&&($e=this.audioTrack.timelineStartInfo.pts,W.forEach(function(We){U.info[We]=this.audioTrack[We]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?U.type=this.pendingTracks[0].type:U.type="combined",this.emittedTracks+=this.pendingTracks.length,de=zf.initSegment(this.pendingTracks),U.initSegment=new Uint8Array(de.byteLength),U.initSegment.set(de),U.data=new Uint8Array(this.pendingBytes),Ve=0;Ve<this.pendingBoxes.length;Ve++)U.data.set(this.pendingBoxes[Ve],R),R+=this.pendingBoxes[Ve].byteLength;for(Ve=0;Ve<this.pendingCaptions.length;Ve++)F=this.pendingCaptions[Ve],F.startTime=_p.metadataTsToSeconds(F.startPts,$e,this.keepOriginalTimestamps),F.endTime=_p.metadataTsToSeconds(F.endPts,$e,this.keepOriginalTimestamps),U.captionStreams[F.stream]=!0,U.captions.push(F);for(Ve=0;Ve<this.pendingMetadata.length;Ve++)K=this.pendingMetadata[Ve],K.cueTime=_p.metadataTsToSeconds(K.pts,$e,this.keepOriginalTimestamps),U.metadata.push(K);for(U.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",U),Ve=0;Ve<U.captions.length;Ve++)F=U.captions[Ve],this.trigger("caption",F);for(Ve=0;Ve<U.metadata.length;Ve++)K=U.metadata[Ve],this.trigger("id3Frame",K)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},M.prototype.setRemux=function(A){this.remuxTracks=A},z=function(A){var R=this,U=!0,F,K;z.prototype.init.call(this),A=A||{},this.baseMediaDecodeTime=A.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var de={};this.transmuxPipeline_=de,de.type="aac",de.metadataStream=new Nl.MetadataStream,de.aacStream=new x,de.audioTimestampRolloverStream=new Nl.TimestampRolloverStream("audio"),de.timedMetadataTimestampRolloverStream=new Nl.TimestampRolloverStream("timed-metadata"),de.adtsStream=new Cc,de.coalesceStream=new M(A,de.metadataStream),de.headOfPipeline=de.aacStream,de.aacStream.pipe(de.audioTimestampRolloverStream).pipe(de.adtsStream),de.aacStream.pipe(de.timedMetadataTimestampRolloverStream).pipe(de.metadataStream).pipe(de.coalesceStream),de.metadataStream.on("timestamp",function($e){de.aacStream.setTimestamp($e.timeStamp)}),de.aacStream.on("data",function($e){$e.type!=="timed-metadata"&&$e.type!=="audio"||de.audioSegmentStream||(K=K||{timelineStartInfo:{baseMediaDecodeTime:R.baseMediaDecodeTime},codec:"adts",type:"audio"},de.coalesceStream.numberOfTracks++,de.audioSegmentStream=new G(K,A),de.audioSegmentStream.on("log",R.getLogTrigger_("audioSegmentStream")),de.audioSegmentStream.on("timingInfo",R.trigger.bind(R,"audioTimingInfo")),de.adtsStream.pipe(de.audioSegmentStream).pipe(de.coalesceStream),R.trigger("trackinfo",{hasAudio:!!K,hasVideo:!!F}))}),de.coalesceStream.on("data",this.trigger.bind(this,"data")),de.coalesceStream.on("done",this.trigger.bind(this,"done")),ge(this,de)},this.setupTsPipeline=function(){var de={};this.transmuxPipeline_=de,de.type="ts",de.metadataStream=new Nl.MetadataStream,de.packetStream=new Nl.TransportPacketStream,de.parseStream=new Nl.TransportParseStream,de.elementaryStream=new Nl.ElementaryStream,de.timestampRolloverStream=new Nl.TimestampRolloverStream,de.adtsStream=new Cc,de.h264Stream=new _,de.captionStream=new Nl.CaptionStream(A),de.coalesceStream=new M(A,de.metadataStream),de.headOfPipeline=de.packetStream,de.packetStream.pipe(de.parseStream).pipe(de.elementaryStream).pipe(de.timestampRolloverStream),de.timestampRolloverStream.pipe(de.h264Stream),de.timestampRolloverStream.pipe(de.adtsStream),de.timestampRolloverStream.pipe(de.metadataStream).pipe(de.coalesceStream),de.h264Stream.pipe(de.captionStream).pipe(de.coalesceStream),de.elementaryStream.on("data",function($e){var Ve;if($e.type==="metadata"){for(Ve=$e.tracks.length;Ve--;)!F&&$e.tracks[Ve].type==="video"?(F=$e.tracks[Ve],F.timelineStartInfo.baseMediaDecodeTime=R.baseMediaDecodeTime):!K&&$e.tracks[Ve].type==="audio"&&(K=$e.tracks[Ve],K.timelineStartInfo.baseMediaDecodeTime=R.baseMediaDecodeTime);F&&!de.videoSegmentStream&&(de.coalesceStream.numberOfTracks++,de.videoSegmentStream=new re(F,A),de.videoSegmentStream.on("log",R.getLogTrigger_("videoSegmentStream")),de.videoSegmentStream.on("timelineStartInfo",function(We){K&&!A.keepOriginalTimestamps&&(K.timelineStartInfo=We,de.audioSegmentStream.setEarliestDts(We.dts-R.baseMediaDecodeTime))}),de.videoSegmentStream.on("processedGopsInfo",R.trigger.bind(R,"gopInfo")),de.videoSegmentStream.on("segmentTimingInfo",R.trigger.bind(R,"videoSegmentTimingInfo")),de.videoSegmentStream.on("baseMediaDecodeTime",function(We){K&&de.audioSegmentStream.setVideoBaseMediaDecodeTime(We)}),de.videoSegmentStream.on("timingInfo",R.trigger.bind(R,"videoTimingInfo")),de.h264Stream.pipe(de.videoSegmentStream).pipe(de.coalesceStream)),K&&!de.audioSegmentStream&&(de.coalesceStream.numberOfTracks++,de.audioSegmentStream=new G(K,A),de.audioSegmentStream.on("log",R.getLogTrigger_("audioSegmentStream")),de.audioSegmentStream.on("timingInfo",R.trigger.bind(R,"audioTimingInfo")),de.audioSegmentStream.on("segmentTimingInfo",R.trigger.bind(R,"audioSegmentTimingInfo")),de.adtsStream.pipe(de.audioSegmentStream).pipe(de.coalesceStream)),R.trigger("trackinfo",{hasAudio:!!K,hasVideo:!!F})}}),de.coalesceStream.on("data",this.trigger.bind(this,"data")),de.coalesceStream.on("id3Frame",function($e){$e.dispatchType=de.metadataStream.dispatchType,R.trigger("id3Frame",$e)}),de.coalesceStream.on("caption",this.trigger.bind(this,"caption")),de.coalesceStream.on("done",this.trigger.bind(this,"done")),ge(this,de)},this.setBaseMediaDecodeTime=function(de){var $e=this.transmuxPipeline_;A.keepOriginalTimestamps||(this.baseMediaDecodeTime=de),K&&(K.timelineStartInfo.dts=void 0,K.timelineStartInfo.pts=void 0,ll.clearDtsInfo(K),$e.audioTimestampRolloverStream&&$e.audioTimestampRolloverStream.discontinuity()),F&&($e.videoSegmentStream&&($e.videoSegmentStream.gopCache_=[]),F.timelineStartInfo.dts=void 0,F.timelineStartInfo.pts=void 0,ll.clearDtsInfo(F),$e.captionStream.reset()),$e.timestampRolloverStream&&$e.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(de){K&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(de)},this.setRemux=function(de){var $e=this.transmuxPipeline_;A.remux=de,$e&&$e.coalesceStream&&$e.coalesceStream.setRemux(de)},this.alignGopsWith=function(de){F&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(de)},this.getLogTrigger_=function(de){var $e=this;return function(Ve){Ve.stream=de,$e.trigger("log",Ve)}},this.push=function(de){if(U){var $e=O(de);$e&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!$e&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),U=!1}this.transmuxPipeline_.headOfPipeline.push(de)},this.flush=function(){U=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},z.prototype=new gp;var Te={Transmuxer:z,VideoSegmentStream:re,AudioSegmentStream:G,AUDIO_PROPERTIES:W,VIDEO_PROPERTIES:I,generateSegmentTimingInfo:Ge},Ne=function(A){return A>>>0},Fe=function(A){return("00"+A.toString(16)).slice(-2)},be={toUnsigned:Ne,toHexString:Fe},st=function(A){var R="";return R+=String.fromCharCode(A[0]),R+=String.fromCharCode(A[1]),R+=String.fromCharCode(A[2]),R+=String.fromCharCode(A[3]),R},gt=st,Xe=be.toUnsigned,Et=gt,qt=function(A,R){var U=[],F,K,de,$e,Ve;if(!R.length)return null;for(F=0;F<A.byteLength;)K=Xe(A[F]<<24|A[F+1]<<16|A[F+2]<<8|A[F+3]),de=Et(A.subarray(F+4,F+8)),$e=K>1?F+K:A.byteLength,de===R[0]&&(R.length===1?U.push(A.subarray(F+8,$e)):(Ve=qt(A.subarray(F+8,$e),R.slice(1)),Ve.length&&(U=U.concat(Ve)))),F=$e;return U},vr=qt,Pr=be.toUnsigned,nr=s.getUint64,wr=function(A){var R={version:A[0],flags:new Uint8Array(A.subarray(1,4))};return R.version===1?R.baseMediaDecodeTime=nr(A.subarray(4)):R.baseMediaDecodeTime=Pr(A[4]<<24|A[5]<<16|A[6]<<8|A[7]),R},br=wr,kt=function(A){return{isLeading:(A[0]&12)>>>2,dependsOn:A[0]&3,isDependedOn:(A[1]&192)>>>6,hasRedundancy:(A[1]&48)>>>4,paddingValue:(A[1]&14)>>>1,isNonSyncSample:A[1]&1,degradationPriority:A[2]<<8|A[3]}},pr=kt,Cr=pr,gr=function(A){var R={version:A[0],flags:new Uint8Array(A.subarray(1,4)),samples:[]},U=new DataView(A.buffer,A.byteOffset,A.byteLength),F=R.flags[2]&1,K=R.flags[2]&4,de=R.flags[1]&1,$e=R.flags[1]&2,Ve=R.flags[1]&4,We=R.flags[1]&8,Qe=U.getUint32(4),St=8,Lt;for(F&&(R.dataOffset=U.getInt32(St),St+=4),K&&Qe&&(Lt={flags:Cr(A.subarray(St,St+4))},St+=4,de&&(Lt.duration=U.getUint32(St),St+=4),$e&&(Lt.size=U.getUint32(St),St+=4),We&&(R.version===1?Lt.compositionTimeOffset=U.getInt32(St):Lt.compositionTimeOffset=U.getUint32(St),St+=4),R.samples.push(Lt),Qe--);Qe--;)Lt={},de&&(Lt.duration=U.getUint32(St),St+=4),$e&&(Lt.size=U.getUint32(St),St+=4),Ve&&(Lt.flags=Cr(A.subarray(St,St+4)),St+=4),We&&(R.version===1?Lt.compositionTimeOffset=U.getInt32(St):Lt.compositionTimeOffset=U.getUint32(St),St+=4),R.samples.push(Lt);return R},wn=gr,_n=function(A){var R=new DataView(A.buffer,A.byteOffset,A.byteLength),U={version:A[0],flags:new Uint8Array(A.subarray(1,4)),trackId:R.getUint32(4)},F=U.flags[2]&1,K=U.flags[2]&2,de=U.flags[2]&8,$e=U.flags[2]&16,Ve=U.flags[2]&32,We=U.flags[0]&65536,Qe=U.flags[0]&131072,St;return St=8,F&&(St+=4,U.baseDataOffset=R.getUint32(12),St+=4),K&&(U.sampleDescriptionIndex=R.getUint32(St),St+=4),de&&(U.defaultSampleDuration=R.getUint32(St),St+=4),$e&&(U.defaultSampleSize=R.getUint32(St),St+=4),Ve&&(U.defaultSampleFlags=R.getUint32(St)),We&&(U.durationIsEmpty=!0),!F&&Qe&&(U.baseDataOffsetIsMoof=!0),U},pn=_n,ci;typeof window<"u"?ci=window:typeof t<"u"?ci=t:typeof self<"u"?ci=self:ci={};var di=ci,Qn=Be.discardEmulationPreventionBytes,In=Vn.CaptionStream,fi=vr,Ni=br,oi=wn,gi=pn,tn=di,Sn=function(A,R){for(var U=A,F=0;F<R.length;F++){var K=R[F];if(U<K.size)return K;U-=K.size}return null},ft=function(A,R,U){var F=new DataView(A.buffer,A.byteOffset,A.byteLength),K={logs:[],seiNals:[]},de,$e,Ve,We;for($e=0;$e+4<A.length;$e+=Ve)if(Ve=F.getUint32($e),$e+=4,!(Ve<=0))switch(A[$e]&31){case 6:var Qe=A.subarray($e+1,$e+1+Ve),St=Sn($e,R);if(de={nalUnitType:"sei_rbsp",size:Ve,data:Qe,escapedRBSP:Qn(Qe),trackId:U},St)de.pts=St.pts,de.dts=St.dts,We=St;else if(We)de.pts=We.pts,de.dts=We.dts;else{K.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+$e+" for trackId "+U+". See mux.js#223."});break}K.seiNals.push(de);break}return K},ms=function(A,R,U){var F=R,K=U.defaultSampleDuration||0,de=U.defaultSampleSize||0,$e=U.trackId,Ve=[];return A.forEach(function(We){var Qe=oi(We),St=Qe.samples;St.forEach(function(Lt){Lt.duration===void 0&&(Lt.duration=K),Lt.size===void 0&&(Lt.size=de),Lt.trackId=$e,Lt.dts=F,Lt.compositionTimeOffset===void 0&&(Lt.compositionTimeOffset=0),typeof F=="bigint"?(Lt.pts=F+tn.BigInt(Lt.compositionTimeOffset),F+=tn.BigInt(Lt.duration)):(Lt.pts=F+Lt.compositionTimeOffset,F+=Lt.duration)}),Ve=Ve.concat(St)}),Ve},ai=function(A,R){var U=fi(A,["moof","traf"]),F=fi(A,["mdat"]),K={},de=[];return F.forEach(function($e,Ve){var We=U[Ve];de.push({mdat:$e,traf:We})}),de.forEach(function($e){var Ve=$e.mdat,We=$e.traf,Qe=fi(We,["tfhd"]),St=gi(Qe[0]),Lt=St.trackId,Rr=fi(We,["tfdt"]),tr=Rr.length>0?Ni(Rr[0]).baseMediaDecodeTime:0,mn=fi(We,["trun"]),Pn,to;R===Lt&&mn.length>0&&(Pn=ms(mn,tr,St),to=ft(Ve,Pn,Lt),K[Lt]||(K[Lt]={seiNals:[],logs:[]}),K[Lt].seiNals=K[Lt].seiNals.concat(to.seiNals),K[Lt].logs=K[Lt].logs.concat(to.logs))}),K},zn=function(A,R,U){var F;if(R===null)return null;F=ai(A,R);var K=F[R]||{};return{seiNals:K.seiNals,logs:K.logs,timescale:U}},hi=function(){var A=!1,R,U,F,K,de,$e;this.isInitialized=function(){return A},this.init=function(Ve){R=new In,A=!0,$e=Ve?Ve.isPartial:!1,R.on("data",function(We){We.startTime=We.startPts/K,We.endTime=We.endPts/K,de.captions.push(We),de.captionStreams[We.stream]=!0}),R.on("log",function(We){de.logs.push(We)})},this.isNewInit=function(Ve,We){return Ve&&Ve.length===0||We&&typeof We=="object"&&Object.keys(We).length===0?!1:F!==Ve[0]||K!==We[F]},this.parse=function(Ve,We,Qe){var St;if(this.isInitialized()){if(!We||!Qe)return null;if(this.isNewInit(We,Qe))F=We[0],K=Qe[F];else if(F===null||!K)return U.push(Ve),null}else return null;for(;U.length>0;){var Lt=U.shift();this.parse(Lt,We,Qe)}return St=zn(Ve,F,K),St&&St.logs&&(de.logs=de.logs.concat(St.logs)),St===null||!St.seiNals?de.logs.length?{logs:de.logs,captions:[],captionStreams:[]}:null:(this.pushNals(St.seiNals),this.flushStream(),de)},this.pushNals=function(Ve){if(!this.isInitialized()||!Ve||Ve.length===0)return null;Ve.forEach(function(We){R.push(We)})},this.flushStream=function(){if(!this.isInitialized())return null;$e?R.partialFlush():R.flush()},this.clearParsedCaptions=function(){de.captions=[],de.captionStreams={},de.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;R.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){U=[],F=null,K=null,de?this.clearParsedCaptions():de={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},nn=hi,Do=function(A){for(var R=0,U=String.fromCharCode(A[R]),F="";U!=="\0";)F+=U,R++,U=String.fromCharCode(A[R]);return F+=U,F},Rd={uint8ToCString:Do},yp=Rd.uint8ToCString,$d=s.getUint64,Ma=function(A){var R=4,U=A[0],F,K,de,$e,Ve,We,Qe,St;if(U===0){F=yp(A.subarray(R)),R+=F.length,K=yp(A.subarray(R)),R+=K.length;var Lt=new DataView(A.buffer);de=Lt.getUint32(R),R+=4,Ve=Lt.getUint32(R),R+=4,We=Lt.getUint32(R),R+=4,Qe=Lt.getUint32(R),R+=4}else if(U===1){var Lt=new DataView(A.buffer);de=Lt.getUint32(R),R+=4,$e=$d(A.subarray(R)),R+=8,We=Lt.getUint32(R),R+=4,Qe=Lt.getUint32(R),R+=4,F=yp(A.subarray(R)),R+=F.length,K=yp(A.subarray(R)),R+=K.length}St=new Uint8Array(A.subarray(R,A.byteLength));var Rr={scheme_id_uri:F,value:K,timescale:de||1,presentation_time:$e,presentation_time_delta:Ve,event_duration:We,id:Qe,message_data:St};return wm(U,Rr)?Rr:void 0},Es=function(A,R,U,F){return A||A===0?A/R:F+U/R},wm=function(A,R){var U=R.scheme_id_uri!=="\0",F=A===0&&Sm(R.presentation_time_delta)&&U,K=A===1&&Sm(R.presentation_time)&&U;return!(A>1)&&F||K},Sm=function(A){return A!==void 0||A!==null},joe={parseEmsgBox:Ma,scaleTime:Es},E1=be.toUnsigned,f_=be.toHexString,Ds=vr,Tm=gt,YC=joe,Hoe=pn,Goe=wn,Woe=br,qoe=s.getUint64,f5,h5,p5,m5,g5,KC,v5,ZC=di,Xoe=Pt.parseId3Frames;f5=function(A){var R={},U=Ds(A,["moov","trak"]);return U.reduce(function(F,K){var de,$e,Ve,We,Qe;return de=Ds(K,["tkhd"])[0],!de||($e=de[0],Ve=$e===0?12:20,We=E1(de[Ve]<<24|de[Ve+1]<<16|de[Ve+2]<<8|de[Ve+3]),Qe=Ds(K,["mdia","mdhd"])[0],!Qe)?null:($e=Qe[0],Ve=$e===0?12:20,F[We]=E1(Qe[Ve]<<24|Qe[Ve+1]<<16|Qe[Ve+2]<<8|Qe[Ve+3]),F)},R)},h5=function(A,R){var U;U=Ds(R,["moof","traf"]);var F=U.reduce(function(K,de){var $e=Ds(de,["tfhd"])[0],Ve=E1($e[4]<<24|$e[5]<<16|$e[6]<<8|$e[7]),We=A[Ve]||9e4,Qe=Ds(de,["tfdt"])[0],St=new DataView(Qe.buffer,Qe.byteOffset,Qe.byteLength),Lt;Qe[0]===1?Lt=qoe(Qe.subarray(4,12)):Lt=St.getUint32(4);let Rr;return typeof Lt=="bigint"?Rr=Lt/ZC.BigInt(We):typeof Lt=="number"&&!isNaN(Lt)&&(Rr=Lt/We),Rr<Number.MAX_SAFE_INTEGER&&(Rr=Number(Rr)),Rr<K&&(K=Rr),K},1/0);return typeof F=="bigint"||isFinite(F)?F:0},p5=function(A,R){var U=Ds(R,["moof","traf"]),F=0,K=0,de;if(U&&U.length){var $e=Ds(U[0],["tfhd"])[0],Ve=Ds(U[0],["trun"])[0],We=Ds(U[0],["tfdt"])[0];if($e){var Qe=Hoe($e);de=Qe.trackId}if(We){var St=Woe(We);F=St.baseMediaDecodeTime}if(Ve){var Lt=Goe(Ve);Lt.samples&&Lt.samples.length&&(K=Lt.samples[0].compositionTimeOffset||0)}}var Rr=A[de]||9e4;typeof F=="bigint"&&(K=ZC.BigInt(K),Rr=ZC.BigInt(Rr));var tr=(F+K)/Rr;return typeof tr=="bigint"&&tr<Number.MAX_SAFE_INTEGER&&(tr=Number(tr)),tr},m5=function(A){var R=Ds(A,["moov","trak"]),U=[];return R.forEach(function(F){var K=Ds(F,["mdia","hdlr"]),de=Ds(F,["tkhd"]);K.forEach(function($e,Ve){var We=Tm($e.subarray(8,12)),Qe=de[Ve],St,Lt,Rr;We==="vide"&&(St=new DataView(Qe.buffer,Qe.byteOffset,Qe.byteLength),Lt=St.getUint8(0),Rr=Lt===0?St.getUint32(12):St.getUint32(20),U.push(Rr))})}),U},KC=function(A){var R=A[0],U=R===0?12:20;return E1(A[U]<<24|A[U+1]<<16|A[U+2]<<8|A[U+3])},g5=function(A){var R=Ds(A,["moov","trak"]),U=[];return R.forEach(function(F){var K={},de=Ds(F,["tkhd"])[0],$e,Ve;de&&($e=new DataView(de.buffer,de.byteOffset,de.byteLength),Ve=$e.getUint8(0),K.id=Ve===0?$e.getUint32(12):$e.getUint32(20));var We=Ds(F,["mdia","hdlr"])[0];if(We){var Qe=Tm(We.subarray(8,12));Qe==="vide"?K.type="video":Qe==="soun"?K.type="audio":K.type=Qe}var St=Ds(F,["mdia","minf","stbl","stsd"])[0];if(St){var Lt=St.subarray(8);K.codec=Tm(Lt.subarray(4,8));var Rr=Ds(Lt,[K.codec])[0],tr,mn;Rr&&(/^[asm]vc[1-9]$/i.test(K.codec)?(tr=Rr.subarray(78),mn=Tm(tr.subarray(4,8)),mn==="avcC"&&tr.length>11?(K.codec+=".",K.codec+=f_(tr[9]),K.codec+=f_(tr[10]),K.codec+=f_(tr[11])):K.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(K.codec)?(tr=Rr.subarray(28),mn=Tm(tr.subarray(4,8)),mn==="esds"&&tr.length>20&&tr[19]!==0?(K.codec+="."+f_(tr[19]),K.codec+="."+f_(tr[20]>>>2&63).replace(/^0/,"")):K.codec="mp4a.40.2"):K.codec=K.codec.toLowerCase())}var Pn=Ds(F,["mdia","mdhd"])[0];Pn&&(K.timescale=KC(Pn)),U.push(K)}),U},v5=function(A,R=0){var U=Ds(A,["emsg"]);return U.map(F=>{var K=YC.parseEmsgBox(new Uint8Array(F)),de=Xoe(K.message_data);return{cueTime:YC.scaleTime(K.presentation_time,K.timescale,K.presentation_time_delta,R),duration:YC.scaleTime(K.event_duration,K.timescale),frames:de}})};var QC={findBox:Ds,parseType:Tm,timescale:f5,startTime:h5,compositionStartTime:p5,videoTrackIds:m5,tracks:g5,getTimescaleFromMediaHeader:KC,getEmsgID3:v5},JC=si,_5=function(A){var R=A[1]&31;return R<<=8,R|=A[2],R},C1=function(A){return!!(A[1]&64)},A1=function(A){var R=0;return(A[3]&48)>>>4>1&&(R+=A[4]+1),R},Yoe=function(A,R){var U=_5(A);return U===0?"pat":U===R?"pmt":R?"pes":null},Koe=function(A){var R=C1(A),U=4+A1(A);return R&&(U+=A[U]+1),(A[U+10]&31)<<8|A[U+11]},Zoe=function(A){var R={},U=C1(A),F=4+A1(A);if(U&&(F+=A[F]+1),!!(A[F+5]&1)){var K,de,$e;K=(A[F+1]&15)<<8|A[F+2],de=3+K-4,$e=(A[F+10]&15)<<8|A[F+11];for(var Ve=12+$e;Ve<de;){var We=F+Ve;R[(A[We+1]&31)<<8|A[We+2]]=A[We],Ve+=((A[We+3]&15)<<8|A[We+4])+5}return R}},Qoe=function(A,R){var U=_5(A),F=R[U];switch(F){case JC.H264_STREAM_TYPE:return"video";case JC.ADTS_STREAM_TYPE:return"audio";case JC.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Joe=function(A){var R=C1(A);if(!R)return null;var U=4+A1(A);if(U>=A.byteLength)return null;var F=null,K;return K=A[U+7],K&192&&(F={},F.pts=(A[U+9]&14)<<27|(A[U+10]&255)<<20|(A[U+11]&254)<<12|(A[U+12]&255)<<5|(A[U+13]&254)>>>3,F.pts*=4,F.pts+=(A[U+13]&6)>>>1,F.dts=F.pts,K&64&&(F.dts=(A[U+14]&14)<<27|(A[U+15]&255)<<20|(A[U+16]&254)<<12|(A[U+17]&255)<<5|(A[U+18]&254)>>>3,F.dts*=4,F.dts+=(A[U+18]&6)>>>1)),F},eA=function(A){switch(A){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},eae=function(A){for(var R=4+A1(A),U=A.subarray(R),F=0,K=0,de=!1,$e;K<U.byteLength-3;K++)if(U[K+2]===1){F=K+5;break}for(;F<U.byteLength;)switch(U[F]){case 0:if(U[F-1]!==0){F+=2;break}else if(U[F-2]!==0){F++;break}K+3!==F-2&&($e=eA(U[K+3]&31),$e==="slice_layer_without_partitioning_rbsp_idr"&&(de=!0));do F++;while(U[F]!==1&&F<U.length);K=F-2,F+=3;break;case 1:if(U[F-1]!==0||U[F-2]!==0){F+=3;break}$e=eA(U[K+3]&31),$e==="slice_layer_without_partitioning_rbsp_idr"&&(de=!0),K=F-2,F+=3;break;default:F+=3;break}return U=U.subarray(K),F-=K,K=0,U&&U.byteLength>3&&($e=eA(U[K+3]&31),$e==="slice_layer_without_partitioning_rbsp_idr"&&(de=!0)),de},tae={parseType:Yoe,parsePat:Koe,parsePmt:Zoe,parsePayloadUnitStartIndicator:C1,parsePesType:Qoe,parsePesTime:Joe,videoPacketContainsKeyFrame:eae},y5=si,Em=en.handleRollover,Pi={};Pi.ts=tae,Pi.aac=js;var bp=ze.ONE_SECOND_IN_TS,la=188,Ac=71,rae=function(A,R){for(var U=0,F=la,K,de;F<A.byteLength;){if(A[U]===Ac&&A[F]===Ac){switch(K=A.subarray(U,F),de=Pi.ts.parseType(K,R.pid),de){case"pat":R.pid=Pi.ts.parsePat(K);break;case"pmt":var $e=Pi.ts.parsePmt(K);R.table=R.table||{},Object.keys($e).forEach(function(Ve){R.table[Ve]=$e[Ve]});break}U+=la,F+=la;continue}U++,F++}},b5=function(A,R,U){for(var F=0,K=la,de,$e,Ve,We,Qe,St=!1;K<=A.byteLength;){if(A[F]===Ac&&(A[K]===Ac||K===A.byteLength)){switch(de=A.subarray(F,K),$e=Pi.ts.parseType(de,R.pid),$e){case"pes":Ve=Pi.ts.parsePesType(de,R.table),We=Pi.ts.parsePayloadUnitStartIndicator(de),Ve==="audio"&&We&&(Qe=Pi.ts.parsePesTime(de),Qe&&(Qe.type="audio",U.audio.push(Qe),St=!0));break}if(St)break;F+=la,K+=la;continue}F++,K++}for(K=A.byteLength,F=K-la,St=!1;F>=0;){if(A[F]===Ac&&(A[K]===Ac||K===A.byteLength)){switch(de=A.subarray(F,K),$e=Pi.ts.parseType(de,R.pid),$e){case"pes":Ve=Pi.ts.parsePesType(de,R.table),We=Pi.ts.parsePayloadUnitStartIndicator(de),Ve==="audio"&&We&&(Qe=Pi.ts.parsePesTime(de),Qe&&(Qe.type="audio",U.audio.push(Qe),St=!0));break}if(St)break;F-=la,K-=la;continue}F--,K--}},nae=function(A,R,U){for(var F=0,K=la,de,$e,Ve,We,Qe,St,Lt,Rr,tr=!1,mn={data:[],size:0};K<A.byteLength;){if(A[F]===Ac&&A[K]===Ac){switch(de=A.subarray(F,K),$e=Pi.ts.parseType(de,R.pid),$e){case"pes":if(Ve=Pi.ts.parsePesType(de,R.table),We=Pi.ts.parsePayloadUnitStartIndicator(de),Ve==="video"&&(We&&!tr&&(Qe=Pi.ts.parsePesTime(de),Qe&&(Qe.type="video",U.video.push(Qe),tr=!0)),!U.firstKeyFrame)){if(We&&mn.size!==0){for(St=new Uint8Array(mn.size),Lt=0;mn.data.length;)Rr=mn.data.shift(),St.set(Rr,Lt),Lt+=Rr.byteLength;if(Pi.ts.videoPacketContainsKeyFrame(St)){var Pn=Pi.ts.parsePesTime(St);Pn?(U.firstKeyFrame=Pn,U.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}mn.size=0}mn.data.push(de),mn.size+=de.byteLength}break}if(tr&&U.firstKeyFrame)break;F+=la,K+=la;continue}F++,K++}for(K=A.byteLength,F=K-la,tr=!1;F>=0;){if(A[F]===Ac&&A[K]===Ac){switch(de=A.subarray(F,K),$e=Pi.ts.parseType(de,R.pid),$e){case"pes":Ve=Pi.ts.parsePesType(de,R.table),We=Pi.ts.parsePayloadUnitStartIndicator(de),Ve==="video"&&We&&(Qe=Pi.ts.parsePesTime(de),Qe&&(Qe.type="video",U.video.push(Qe),tr=!0));break}if(tr)break;F-=la,K-=la;continue}F--,K--}},iae=function(A,R){if(A.audio&&A.audio.length){var U=R;(typeof U>"u"||isNaN(U))&&(U=A.audio[0].dts),A.audio.forEach(function(de){de.dts=Em(de.dts,U),de.pts=Em(de.pts,U),de.dtsTime=de.dts/bp,de.ptsTime=de.pts/bp})}if(A.video&&A.video.length){var F=R;if((typeof F>"u"||isNaN(F))&&(F=A.video[0].dts),A.video.forEach(function(de){de.dts=Em(de.dts,F),de.pts=Em(de.pts,F),de.dtsTime=de.dts/bp,de.ptsTime=de.pts/bp}),A.firstKeyFrame){var K=A.firstKeyFrame;K.dts=Em(K.dts,F),K.pts=Em(K.pts,F),K.dtsTime=K.dts/bp,K.ptsTime=K.pts/bp}}},sae=function(A){for(var R=!1,U=0,F=null,K=null,de=0,$e=0,Ve;A.length-$e>=3;){var We=Pi.aac.parseType(A,$e);switch(We){case"timed-metadata":if(A.length-$e<10){R=!0;break}if(de=Pi.aac.parseId3TagSize(A,$e),de>A.length){R=!0;break}K===null&&(Ve=A.subarray($e,$e+de),K=Pi.aac.parseAacTimestamp(Ve)),$e+=de;break;case"audio":if(A.length-$e<7){R=!0;break}if(de=Pi.aac.parseAdtsSize(A,$e),de>A.length){R=!0;break}F===null&&(Ve=A.subarray($e,$e+de),F=Pi.aac.parseSampleRate(Ve)),U++,$e+=de;break;default:$e++;break}if(R)return null}if(F===null||K===null)return null;var Qe=bp/F,St={audio:[{type:"audio",dts:K,pts:K},{type:"audio",dts:K+U*1024*Qe,pts:K+U*1024*Qe}]};return St},oae=function(A){var R={pid:null,table:null},U={};rae(A,R);for(var F in R.table)if(R.table.hasOwnProperty(F)){var K=R.table[F];switch(K){case y5.H264_STREAM_TYPE:U.video=[],nae(A,R,U),U.video.length===0&&delete U.video;break;case y5.ADTS_STREAM_TYPE:U.audio=[],b5(A,R,U),U.audio.length===0&&delete U.audio;break}}return U},aae=function(A,R){var U=Pi.aac.isLikelyAacData(A),F;return U?F=sae(A):F=oae(A),!F||!F.audio&&!F.video?null:(iae(F,R),F)},lae={inspect:aae,parseAudioPes_:b5};const uae=function(A,R){R.on("data",function(U){const F=U.initSegment;U.initSegment={data:F.buffer,byteOffset:F.byteOffset,byteLength:F.byteLength};const K=U.data;U.data=K.buffer,A.postMessage({action:"data",segment:U,byteOffset:K.byteOffset,byteLength:K.byteLength},[U.data])}),R.on("done",function(U){A.postMessage({action:"done"})}),R.on("gopInfo",function(U){A.postMessage({action:"gopInfo",gopInfo:U})}),R.on("videoSegmentTimingInfo",function(U){const F={start:{decode:ze.videoTsToSeconds(U.start.dts),presentation:ze.videoTsToSeconds(U.start.pts)},end:{decode:ze.videoTsToSeconds(U.end.dts),presentation:ze.videoTsToSeconds(U.end.pts)},baseMediaDecodeTime:ze.videoTsToSeconds(U.baseMediaDecodeTime)};U.prependedContentDuration&&(F.prependedContentDuration=ze.videoTsToSeconds(U.prependedContentDuration)),A.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:F})}),R.on("audioSegmentTimingInfo",function(U){const F={start:{decode:ze.videoTsToSeconds(U.start.dts),presentation:ze.videoTsToSeconds(U.start.pts)},end:{decode:ze.videoTsToSeconds(U.end.dts),presentation:ze.videoTsToSeconds(U.end.pts)},baseMediaDecodeTime:ze.videoTsToSeconds(U.baseMediaDecodeTime)};U.prependedContentDuration&&(F.prependedContentDuration=ze.videoTsToSeconds(U.prependedContentDuration)),A.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:F})}),R.on("id3Frame",function(U){A.postMessage({action:"id3Frame",id3Frame:U})}),R.on("caption",function(U){A.postMessage({action:"caption",caption:U})}),R.on("trackinfo",function(U){A.postMessage({action:"trackinfo",trackInfo:U})}),R.on("audioTimingInfo",function(U){A.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ze.videoTsToSeconds(U.start),end:ze.videoTsToSeconds(U.end)}})}),R.on("videoTimingInfo",function(U){A.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ze.videoTsToSeconds(U.start),end:ze.videoTsToSeconds(U.end)}})}),R.on("log",function(U){A.postMessage({action:"log",log:U})})};class x5{constructor(R,U){this.options=U||{},this.self=R,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Te.Transmuxer(this.options),uae(this.self,this.transmuxer)}pushMp4Captions(R){this.captionParser||(this.captionParser=new nn,this.captionParser.init());const U=new Uint8Array(R.data,R.byteOffset,R.byteLength),F=this.captionParser.parse(U,R.trackIds,R.timescales);this.self.postMessage({action:"mp4Captions",captions:F&&F.captions||[],logs:F&&F.logs||[],data:U.buffer},[U.buffer])}probeMp4StartTime({timescales:R,data:U}){const F=QC.startTime(R,U);this.self.postMessage({action:"probeMp4StartTime",startTime:F,data:U},[U.buffer])}probeMp4Tracks({data:R}){const U=QC.tracks(R);this.self.postMessage({action:"probeMp4Tracks",tracks:U,data:R},[R.buffer])}probeEmsgID3({data:R,offset:U}){const F=QC.getEmsgID3(R,U);this.self.postMessage({action:"probeEmsgID3",id3Frames:F,emsgData:R},[R.buffer])}probeTs({data:R,baseStartTime:U}){const F=typeof U=="number"&&!isNaN(U)?U*ze.ONE_SECOND_IN_TS:void 0,K=lae.inspect(R,F);let de=null;K&&(de={hasVideo:K.video&&K.video.length===2||!1,hasAudio:K.audio&&K.audio.length===2||!1},de.hasVideo&&(de.videoStart=K.video[0].ptsTime),de.hasAudio&&(de.audioStart=K.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:de,data:R},[R.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(R){const U=new Uint8Array(R.data,R.byteOffset,R.byteLength);this.transmuxer.push(U)}reset(){this.transmuxer.reset()}setTimestampOffset(R){const U=R.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ze.secondsToVideoTs(U)))}setAudioAppendStart(R){this.transmuxer.setAudioAppendStart(Math.ceil(ze.secondsToVideoTs(R.appendStart)))}setRemux(R){this.transmuxer.setRemux(R.remux)}flush(R){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(R){this.transmuxer.alignGopsWith(R.gopsToAlignWith.slice())}}self.onmessage=function(A){if(A.data.action==="init"&&A.data.options){this.messageHandlers=new x5(self,A.data.options);return}this.messageHandlers||(this.messageHandlers=new x5(self)),A.data&&A.data.action&&A.data.action!=="init"&&this.messageHandlers[A.data.action]&&this.messageHandlers[A.data.action](A.data)}}));var cWe=xre(uWe);const dWe=(t,e,r)=>{const{type:n,initSegment:i,captions:s,captionStreams:o,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:s,captionStreams:o,metadata:a});const d=t.data.segment.boxes||{data:t.data.segment.data},f={type:n,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(f.videoFrameDtsTime=l),typeof u<"u"&&(f.videoFramePtsTime=u),r(f)},fWe=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},hWe=(t,e)=>{e.gopInfo=t.data.gopInfo},Tre=t=>{const{transmuxer:e,bytes:r,audioAppendStart:n,gopsToAlignWith:i,remux:s,onData:o,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:d,onAudioSegmentTimingInfo:f,onId3:h,onCaptions:g,onDone:p,onEndedTimeline:v,onTransmuxerLog:b,isEndOfTimeline:S}=t,T={buffer:[]};let E=S;const C=P=>{e.currentTransmux===t&&(P.data.action==="data"&&dWe(P,T,o),P.data.action==="trackinfo"&&a(P.data.trackInfo),P.data.action==="gopInfo"&&hWe(P,T),P.data.action==="audioTimingInfo"&&l(P.data.audioTimingInfo),P.data.action==="videoTimingInfo"&&u(P.data.videoTimingInfo),P.data.action==="videoSegmentTimingInfo"&&d(P.data.videoSegmentTimingInfo),P.data.action==="audioSegmentTimingInfo"&&f(P.data.audioSegmentTimingInfo),P.data.action==="id3Frame"&&h([P.data.id3Frame],P.data.id3Frame.dispatchType),P.data.action==="caption"&&g(P.data.caption),P.data.action==="endedtimeline"&&(E=!1,v()),P.data.action==="log"&&b(P.data.log),P.data.type==="transmuxed"&&(E||(e.onmessage=null,fWe({transmuxedData:T,callback:p}),Ere(e))))};if(e.onmessage=C,n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),r.byteLength){const P=r instanceof ArrayBuffer?r:r.buffer,D=r instanceof ArrayBuffer?0:r.byteOffset;e.postMessage({action:"push",data:P,byteOffset:D,byteLength:r.byteLength},[P])}S&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},Ere=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():Tre(t.currentTransmux))},mV=(t,e)=>{t.postMessage({action:e}),Ere(t)},Cre=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,mV(e,t);return}e.transmuxQueue.push(mV.bind(null,e,t))},pWe=t=>{Cre("reset",t)},mWe=t=>{Cre("endTimeline",t)},Are=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,Tre(t);return}t.transmuxer.transmuxQueue.push(t)},gWe=t=>{const e=new cWe;e.currentTransmux=null,e.transmuxQueue=[];const r=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,r.call(e)),e.postMessage({action:"init",options:t}),e};var E4={reset:pWe,endTimeline:mWe,transmux:Are,createTransmuxer:gWe};const l2=function(t){const e=t.transmuxer,r=t.endAction||t.action,n=t.callback,i=du({},t,{endAction:null,transmuxer:null,callback:null}),s=o=>{o.data.action===r&&(e.removeEventListener("message",s),o.data.data&&(o.data.data=new Uint8Array(o.data.data,t.byteOffset||0,t.byteLength||o.data.data.byteLength),t.data&&(t.data=o.data.data)),n(o.data))};if(e.addEventListener("message",s),t.data){const o=t.data instanceof ArrayBuffer;i.byteOffset=o?0:t.data.byteOffset,i.byteLength=t.data.byteLength;const a=[o?t.data:t.data.buffer];e.postMessage(i,a)}else e.postMessage(i)},Yc={FAILURE:2,TIMEOUT:-101,ABORTED:-102},dO=t=>{t.forEach(e=>{e.abort()})},vWe=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),_We=t=>{const e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},D6=(t,e)=>e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Yc.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Yc.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Yc.FAILURE,xhr:e}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Yc.FAILURE,xhr:e}:null,gV=(t,e,r)=>(n,i)=>{const s=i.response,o=D6(n,i);if(o)return r(o,t);if(s.byteLength!==16)return r({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:Yc.FAILURE,xhr:i},t);const a=new DataView(s),l=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]);for(let u=0;u<e.length;u++)e[u].bytes=l;return r(null,t)},Pre=(t,e)=>{const r=ZR(t.map.bytes);if(r!=="mp4"){const n=t.map.resolvedUri||t.map.uri;return e({internal:!0,message:`Found unsupported ${r||"unknown"} container for initialization segment at URL: ${n}`,code:Yc.FAILURE})}l2({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:n,data:i})=>(t.map.bytes=i,n.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale))}),e(null))})},yWe=({segment:t,finishProcessingFn:e})=>(r,n)=>{const i=D6(r,n);if(i)return e(i,t);const s=new Uint8Array(n.response);if(t.map.key)return t.map.encryptedBytes=s,e(null,t);t.map.bytes=s,Pre(t,function(o){if(o)return o.xhr=n,o.status=n.status,e(o,t);e(null,t)})},bWe=({segment:t,finishProcessingFn:e,responseType:r})=>(n,i)=>{const s=D6(n,i);if(s)return e(s,t);const o=r==="arraybuffer"||!i.responseText?i.response:aWe(i.responseText.substring(t.lastReachedChar||0));return t.stats=vWe(i),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},xWe=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h})=>{const g=t.map&&t.map.tracks||{},p=!!(g.audio&&g.video);let v=n.bind(null,t,"audio","start");const b=n.bind(null,t,"audio","end");let S=n.bind(null,t,"video","start");const T=n.bind(null,t,"video","end"),E=()=>Are({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:p,onData:C=>{C.type=C.type==="combined"?"video":C.type,d(t,C)},onTrackInfo:C=>{r&&(p&&(C.isMuxed=!0),r(t,C))},onAudioTimingInfo:C=>{v&&typeof C.start<"u"&&(v(C.start),v=null),b&&typeof C.end<"u"&&b(C.end)},onVideoTimingInfo:C=>{S&&typeof C.start<"u"&&(S(C.start),S=null),T&&typeof C.end<"u"&&T(C.end)},onVideoSegmentTimingInfo:C=>{i(C)},onAudioSegmentTimingInfo:C=>{s(C)},onId3:(C,P)=>{o(t,C,P)},onCaptions:C=>{a(t,[C])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:h,onDone:C=>{f&&(C.type=C.type==="combined"?"video":C.type,f(null,t,C))}});l2({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:C=>{t.bytes=e=C.data;const P=C.result;P&&(r(t,{hasAudio:P.hasAudio,hasVideo:P.hasVideo,isMuxed:p}),r=null),E()}})},kre=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h})=>{let g=new Uint8Array(e);if(Xje(g)){t.isFmp4=!0;const{tracks:p}=t.map,v={isFmp4:!0,hasVideo:!!p.video,hasAudio:!!p.audio};p.audio&&p.audio.codec&&p.audio.codec!=="enca"&&(v.audioCodec=p.audio.codec),p.video&&p.video.codec&&p.video.codec!=="encv"&&(v.videoCodec=p.video.codec),p.video&&p.audio&&(v.isMuxed=!0),r(t,v);const b=(S,T)=>{d(t,{data:g,type:v.hasAudio&&!v.isMuxed?"audio":"video"}),T&&T.length&&o(t,T),S&&S.length&&a(t,S),f(null,t,{})};l2({action:"probeMp4StartTime",timescales:t.map.timescales,data:g,transmuxer:t.transmuxer,callback:({data:S,startTime:T})=>{e=S.buffer,t.bytes=g=S,v.hasAudio&&!v.isMuxed&&n(t,"audio","start",T),v.hasVideo&&n(t,"video","start",T),l2({action:"probeEmsgID3",data:g,transmuxer:t.transmuxer,offset:T,callback:({emsgData:E,id3Frames:C})=>{if(e=E.buffer,t.bytes=g=E,!p.video||!E.byteLength||!t.transmuxer){b(void 0,C);return}l2({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:g,timescales:t.map.timescales,trackIds:[p.video.id],callback:P=>{e=P.data.buffer,t.bytes=g=P.data,P.logs.forEach(function(D){h(Ai(D,{stream:"mp4CaptionParser"}))}),b(P.captions,C)}})}})}});return}if(!t.transmuxer){f(null,t,{});return}if(typeof t.container>"u"&&(t.container=ZR(g)),t.container!=="ts"&&t.container!=="aac"){r(t,{hasAudio:!1,hasVideo:!1}),f(null,t,{});return}xWe({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h})},Ire=function({id:t,key:e,encryptedBytes:r,decryptionWorker:n},i){const s=a=>{if(a.data.source===t){n.removeEventListener("message",s);const l=a.data.decrypted;i(new Uint8Array(l.bytes,l.byteOffset,l.byteLength))}};n.addEventListener("message",s);let o;e.bytes.slice?o=e.bytes.slice():o=new Uint32Array(Array.prototype.slice.call(e.bytes)),n.postMessage(mre({source:t,encrypted:r,key:o,iv:e.iv}),[r.buffer,o.buffer])},wWe=({decryptionWorker:t,segment:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h})=>{Ire({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t},g=>{e.bytes=g,kre({segment:e,bytes:e.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h})})},SWe=({activeXhrs:t,decryptionWorker:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h})=>{let g=0,p=!1;return(v,b)=>{if(!p){if(v)return p=!0,dO(t),f(v,b);if(g+=1,g===t.length){const S=function(){if(b.encryptedBytes)return wWe({decryptionWorker:e,segment:b,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h});kre({segment:b,bytes:b.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h})};if(b.endOfAllRequests=Date.now(),b.map&&b.map.encryptedBytes&&!b.map.bytes)return Ire({decryptionWorker:e,id:b.requestId+"-init",encryptedBytes:b.map.encryptedBytes,key:b.map.key},T=>{b.map.bytes=T,Pre(b,E=>{if(E)return dO(t),f(E,b);S()})});S()}}}},TWe=({loadendState:t,abortFn:e})=>r=>{r.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},EWe=({segment:t,progressFn:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d})=>f=>{if(!f.target.aborted)return t.stats=Ai(t.stats,_We(f)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(f,t)},CWe=({xhr:t,xhrOptions:e,decryptionWorker:r,segment:n,abortFn:i,progressFn:s,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:p,doneFn:v,onTransmuxerLog:b})=>{const S=[],T=SWe({activeXhrs:S,decryptionWorker:r,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:p,doneFn:v,onTransmuxerLog:b});if(n.key&&!n.key.bytes){const L=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&L.push(n.map.key);const j=Ai(e,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),te=gV(n,L,T),se=t(j,te);S.push(se)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const q=Ai(e,{uri:n.map.key.resolvedUri,responseType:"arraybuffer"}),X=gV(n,[n.map.key],T),Q=t(q,X);S.push(Q)}const j=Ai(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:uO(n.map)}),te=yWe({segment:n,finishProcessingFn:T}),se=t(j,te);S.push(se)}const E=Ai(e,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:uO(n)}),C=bWe({segment:n,finishProcessingFn:T,responseType:E.responseType}),P=t(E,C);P.addEventListener("progress",EWe({segment:n,progressFn:s,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:p})),S.push(P);const D={};return S.forEach(L=>{L.addEventListener("loadend",TWe({loadendState:D,abortFn:i}))}),()=>dO(S)},AWe=Pu("CodecUtils"),PWe=function(t){const e=t.attributes||{};if(e.CODECS)return Rc(e.CODECS)},Ore=(t,e)=>{const r=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&r.AUDIO&&t.mediaGroups.AUDIO[r.AUDIO]},kWe=(t,e)=>{if(!Ore(t,e))return!0;const r=e.attributes||{},n=t.mediaGroups.AUDIO[r.AUDIO];for(const i in n)if(!n[i].uri&&!n[i].playlists)return!0;return!1},ST=function(t){const e={};return t.forEach(({mediaType:r,type:n,details:i})=>{e[r]=e[r]||[],e[r].push(GJ(`${n}${i}`))}),Object.keys(e).forEach(function(r){if(e[r].length>1){AWe(`multiple ${r} codecs found as attributes: ${e[r].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[r]=null;return}e[r]=e[r][0]}),e},vV=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},u2=function(t,e){const r=e.attributes||{},n=ST(PWe(e)||[]);if(Ore(t,e)&&!n.audio&&!kWe(t,e)){const i=ST(XVe(t,r.AUDIO)||[]);i.audio&&(n.audio=i.audio)}return n},gx=Pu("PlaylistSelector"),_V=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},TT=function(t,e){if(!t)return"";const r=Ze.getComputedStyle(t);return r?r[e]:""},Tg=function(t,e){const r=t.slice();t.sort(function(n,i){const s=e(n,i);return s===0?r.indexOf(n)-r.indexOf(i):s})},M6=function(t,e){let r,n;return t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||Ze.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||Ze.Number.MAX_VALUE,r-n},IWe=function(t,e){let r,n;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||Ze.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||Ze.Number.MAX_VALUE,r===n&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:r-n};let Dre=function(t,e,r,n,i,s){if(!t)return;const o={bandwidth:e,width:r,height:n,limitRenditionByPlayerDimensions:i};let a=t.playlists;qa.isAudioOnly(t)&&(a=s.getAudioTrackPlaylists_(),o.audioOnly=!0);let l=a.map(P=>{let D;const L=P.attributes&&P.attributes.RESOLUTION&&P.attributes.RESOLUTION.width,j=P.attributes&&P.attributes.RESOLUTION&&P.attributes.RESOLUTION.height;return D=P.attributes&&P.attributes.BANDWIDTH,D=D||Ze.Number.MAX_VALUE,{bandwidth:D,width:L,height:j,playlist:P}});Tg(l,(P,D)=>P.bandwidth-D.bandwidth),l=l.filter(P=>!qa.isIncompatible(P.playlist));let u=l.filter(P=>qa.isEnabled(P.playlist));u.length||(u=l.filter(P=>!qa.isDisabled(P.playlist)));const d=u.filter(P=>P.bandwidth*_o.BANDWIDTH_VARIANCE<e);let f=d[d.length-1];const h=d.filter(P=>P.bandwidth===f.bandwidth)[0];if(i===!1){const P=h||u[0]||l[0];if(P&&P.playlist){let D="sortedPlaylistReps";return h&&(D="bandwidthBestRep"),u[0]&&(D="enabledPlaylistReps"),gx(`choosing ${_V(P)} using ${D} with options`,o),P.playlist}return gx("could not choose a playlist with options",o),null}const g=d.filter(P=>P.width&&P.height);Tg(g,(P,D)=>P.width-D.width);const p=g.filter(P=>P.width===r&&P.height===n);f=p[p.length-1];const v=p.filter(P=>P.bandwidth===f.bandwidth)[0];let b,S,T;v||(b=g.filter(P=>P.width>r||P.height>n),S=b.filter(P=>P.width===b[0].width&&P.height===b[0].height),f=S[S.length-1],T=S.filter(P=>P.bandwidth===f.bandwidth)[0]);let E;if(s.leastPixelDiffSelector){const P=g.map(D=>(D.pixelDiff=Math.abs(D.width-r)+Math.abs(D.height-n),D));Tg(P,(D,L)=>D.pixelDiff===L.pixelDiff?L.bandwidth-D.bandwidth:D.pixelDiff-L.pixelDiff),E=P[0]}const C=E||T||v||h||u[0]||l[0];if(C&&C.playlist){let P="sortedPlaylistReps";return E?P="leastPixelDiffRep":T?P="resolutionPlusOneRep":v?P="resolutionBestRep":h?P="bandwidthBestRep":u[0]&&(P="enabledPlaylistReps"),gx(`choosing ${_V(C)} using ${P} with options`,o),C.playlist}return gx("could not choose a playlist with options",o),null};const yV=function(){const t=this.useDevicePixelRatio&&Ze.devicePixelRatio||1;return Dre(this.playlists.main,this.systemBandwidth,parseInt(TT(this.tech_.el(),"width"),10)*t,parseInt(TT(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},OWe=function(t){let e=-1,r=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){const n=this.useDevicePixelRatio&&Ze.devicePixelRatio||1;return e<0&&(e=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(e=t*this.systemBandwidth+(1-t)*e,r=this.systemBandwidth),Dre(this.playlists.main,e,parseInt(TT(this.tech_.el(),"width"),10)*n,parseInt(TT(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},DWe=function(t){const{main:e,currentTime:r,bandwidth:n,duration:i,segmentDuration:s,timeUntilRebuffer:o,currentTimeline:a,syncController:l}=t,u=e.playlists.filter(p=>!qa.isIncompatible(p));let d=u.filter(qa.isEnabled);d.length||(d=u.filter(p=>!qa.isDisabled(p)));const h=d.filter(qa.hasAttribute.bind(null,"BANDWIDTH")).map(p=>{const b=l.getSyncPoint(p,i,a,r)?1:2,T=qa.estimateSegmentRequestTime(s,n,p)*b-o;return{playlist:p,rebufferingImpact:T}}),g=h.filter(p=>p.rebufferingImpact<=0);return Tg(g,(p,v)=>M6(v.playlist,p.playlist)),g.length?g[0]:(Tg(h,(p,v)=>p.rebufferingImpact-v.rebufferingImpact),h[0]||null)},MWe=function(){const t=this.playlists.main.playlists.filter(qa.isEnabled);return Tg(t,(r,n)=>M6(r,n)),t.filter(r=>!!u2(this.playlists.main,r).video)[0]||null},RWe=t=>{let e=0,r;return t.bytes&&(r=new Uint8Array(t.bytes),t.segments.forEach(n=>{r.set(n,e),e+=n.byteLength})),r},$We=function(t,e,r){if(!t[r]){e.trigger({type:"usage",name:"vhs-608"});let n=r;/^cc708_/.test(r)&&(n="SERVICE"+r.split("_")[1]);const i=e.textTracks().getTrackById(n);if(i)t[r]=i;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let o=r,a=r,l=!1;const u=s[n];u&&(o=u.label,a=u.language,l=u.default),t[r]=e.addRemoteTextTrack({kind:"captions",id:n,default:l,label:o,language:a},!1).track}}},LWe=function({inbandTextTracks:t,captionArray:e,timestampOffset:r}){if(!e)return;const n=Ze.WebKitDataCue||Ze.VTTCue;e.forEach(i=>{const s=i.stream;i.content?i.content.forEach(o=>{const a=new n(i.startTime+r,i.endTime+r,o.text);a.line=o.line,a.align="left",a.position=o.position,a.positionAlign="line-left",t[s].addCue(a)}):t[s].addCue(new n(i.startTime+r,i.endTime+r,i.text))})},FWe=function(t){Object.defineProperties(t.frame,{id:{get(){return Ft.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return Ft.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return Ft.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},NWe=({inbandTextTracks:t,metadataArray:e,timestampOffset:r,videoDuration:n})=>{if(!e)return;const i=Ze.WebKitDataCue||Ze.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(d=>{const f=d.cueTime+r;typeof f!="number"||Ze.isNaN(f)||f<0||!(f<1/0)||!d.frames||!d.frames.length||d.frames.forEach(h=>{const g=new i(f,f,h.value||h.url||h.data||"");g.frame=h,g.value=h,FWe(g),s.addCue(g)})}),!s.cues||!s.cues.length))return;const o=s.cues,a=[];for(let d=0;d<o.length;d++)o[d]&&a.push(o[d]);const l=a.reduce((d,f)=>{const h=d[f.startTime]||[];return h.push(f),d[f.startTime]=h,d},{}),u=Object.keys(l).sort((d,f)=>Number(d)-Number(f));u.forEach((d,f)=>{const h=l[d],g=isFinite(n)?n:d,p=Number(u[f+1])||g;h.forEach(v=>{v.endTime=p})})},BWe={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},UWe=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),VWe=({inbandTextTracks:t,dateRanges:e})=>{const r=t.metadataTrack_;if(!r)return;const n=Ze.WebKitDataCue||Ze.VTTCue;e.forEach(i=>{for(const s of Object.keys(i)){if(UWe.has(s))continue;const o=new n(i.startTime,i.endTime,"");o.id=i.id,o.type="com.apple.quicktime.HLS",o.value={key:BWe[s],data:i[s]},(s==="scte35Out"||s==="scte35In")&&(o.value.data=new Uint8Array(o.value.data.match(/[\da-f]{2}/gi)).buffer),r.addCue(o)}i.processDateRange()})},bV=(t,e,r)=>{t.metadataTrack_||(t.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,Ft.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},Cy=function(t,e,r){let n,i;if(r&&r.cues)for(n=r.cues.length;n--;)i=r.cues[n],i.startTime>=t&&i.endTime<=e&&r.removeCue(i)},zWe=function(t){const e=t.cues;if(!e)return;const r={};for(let n=e.length-1;n>=0;n--){const i=e[n],s=`${i.startTime}-${i.endTime}-${i.text}`;r[s]?t.removeCue(i):r[s]=i}},jWe=(t,e,r)=>{if(typeof e>"u"||e===null||!t.length)return[];const n=Math.ceil((e-r+3)*p0.ONE_SECOND_IN_TS);let i;for(i=0;i<t.length&&!(t[i].pts>n);i++);return t.slice(i)},HWe=(t,e,r)=>{if(!e.length)return t;if(r)return e.slice();const n=e[0].pts;let i=0;for(i;i<t.length&&!(t[i].pts>=n);i++);return t.slice(0,i).concat(e)},GWe=(t,e,r,n)=>{const i=Math.ceil((e-n)*p0.ONE_SECOND_IN_TS),s=Math.ceil((r-n)*p0.ONE_SECOND_IN_TS),o=t.slice();let a=t.length;for(;a--&&!(t[a].pts<=s););if(a===-1)return o;let l=a+1;for(;l--&&!(t[l].pts<=i););return l=Math.max(l,0),o.splice(l,a-l+1),o},WWe=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const r=Object.keys(t).sort(),n=Object.keys(e).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const s=r[i];if(s!==n[i]||t[s]!==e[s])return!1}return!0},Mre=22,qWe=function(t,e,r){e=e||[];const n=[];let i=0;for(let s=0;s<e.length;s++){const o=e[s];if(t===o.timeline&&(n.push(s),i+=o.duration,i>r))return s}return n.length===0?0:n[n.length-1]},Y_=1,XWe=500,xV=t=>typeof t=="number"&&isFinite(t),vx=1/60,YWe=(t,e,r)=>t!=="main"||!e||!r?null:!r.hasAudio&&!r.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,KWe=(t,e,r)=>{let n=e-_o.BACK_BUFFER_LENGTH;t.length&&(n=Math.max(n,t.start(0)));const i=e-r;return Math.min(i,n)},Fm=t=>{const{startOfSegment:e,duration:r,segment:n,part:i,playlist:{mediaSequence:s,id:o,segments:a=[]},mediaIndex:l,partIndex:u,timeline:d}=t,f=a.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=` with independent ${t.independent}`);const g=typeof u=="number",p=t.segment.uri?"segment":"pre-segment",v=g?ere({preloadSegment:n})-1:0;return`${p} [${s+l}/${s+f}]`+(g?` part [${u}/${v}]`:"")+` segment start/end [${n.start} => ${n.end}]`+(g?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${r}] timeline [${d}] selected by [${h}] playlist [${o}]`},wV=t=>`${t}TimingInfo`,ZWe=({segmentTimeline:t,currentTimeline:e,startOfSegment:r,buffered:n,overrideCheck:i})=>!i&&t===e?null:t<e?r:n.length?n.end(n.length-1):r,SV=({timelineChangeController:t,currentTimeline:e,segmentTimeline:r,loaderType:n,audioDisabled:i})=>{if(e===r)return!1;if(n==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==r}if(n==="main"&&i){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===r)}return!1},QWe=t=>{let e=0;return["video","audio"].forEach(function(r){const n=t[`${r}TimingInfo`];if(!n)return;const{start:i,end:s}=n;let o;typeof i=="bigint"||typeof s=="bigint"?o=Ze.BigInt(s)-Ze.BigInt(i):typeof i=="number"&&typeof s=="number"&&(o=s-i),typeof o<"u"&&o>e&&(e=o)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},TV=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+qc:!1,JWe=(t,e)=>{if(e!=="hls")return null;const r=QWe({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!r)return null;const n=t.playlist.targetDuration,i=TV({segmentDuration:r,maxDuration:n*2}),s=TV({segmentDuration:r,maxDuration:n}),o=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${r} when the reported duration is ${t.duration} and the target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||s?{severity:i?"warn":"info",message:o}:null};class fO extends Ft.EventTarget{constructor(e,r={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Pu(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(n){n!==this.state_&&(this.logger_(`${this.state_} -> ${n}`),this.state_=n,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}createTransmuxer_(){return E4.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&Ze.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,Ze.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&E4.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Jo();if(this.loaderType_==="main"){const{hasAudio:r,hasVideo:n,isMuxed:i}=e;if(n&&r&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,r=!1){if(!e)return null;const n=wT(e);let i=this.initSegments_[n];return r&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,r=!1){if(!e)return null;const n=gre(e);let i=this.keyCache_[n];this.cacheEncryptionKeys_&&r&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(i||e).resolvedUri};return i&&(s.bytes=i.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,r={}){if(!e)return;const n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=r,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(n&&(n.id?s=n.id:n.uri&&(s=n.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.syncController_.updateMediaSequenceMap(e,this.currentTime_(),this.loaderType_),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const o=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${o}]`),this.mediaIndex!==null)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=o,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(Ze.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}resyncLoader(){this.transmuxer_&&E4.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.shouldForceTimestampOffsetAfterResync_=!0,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,r,n=()=>{},i=!1){if(r===1/0&&(r=this.duration_()),r<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const o=()=>{s--,s===0&&n()};(i||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,r,o)),(i||this.loaderType_==="main")&&(this.gopBuffer_=GWe(this.gopBuffer_,e,r,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,r,o));for(const a in this.inbandTextTracks_)Cy(e,r,this.inbandTextTracks_[a]);Cy(e,r,this.segmentMetadataTrack_),o()}monitorBuffer_(){this.checkBufferTimeout_&&Ze.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Ze.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&Ze.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Ze.setTimeout(this.monitorBufferTick_.bind(this),XWe)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();e&&(typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,r=this.playlist_,n=this.partIndex){if(!r||!this.mediaSource_)return!1;const i=typeof e=="number"&&r.segments[e],s=e+1===r.segments.length,o=!i||!i.parts||n+1===i.parts.length;return r.endList&&this.mediaSource_.readyState==="open"&&s&&o}chooseNextRequest_(){const e=this.buffered_(),r=cV(e)||0,n=P6(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,s=n>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||i||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(a.isSyncRequest)a.mediaIndex=qWe(this.currentTimeline_,o,r),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${a.mediaIndex}`);else if(this.mediaIndex!==null){const h=o[this.mediaIndex],g=typeof this.partIndex=="number"?this.partIndex:-1;a.startOfSegment=h.end?h.end:r,h.parts&&h.parts[g+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=g+1):a.mediaIndex=this.mediaIndex+1}else{const{segmentIndex:h,startTime:g,partIndex:p}=qa.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?r:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});a.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${r}`:`currentTime ${this.currentTime_()}`,a.mediaIndex=h,a.startOfSegment=g,a.partIndex=p,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${a.mediaIndex} `)}const l=o[a.mediaIndex];let u=l&&typeof a.partIndex=="number"&&l.parts&&l.parts[a.partIndex];if(!l||typeof a.partIndex=="number"&&!u)return null;typeof a.partIndex!="number"&&l.parts&&(a.partIndex=0,u=l.parts[0]);const d=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&u&&!d&&!u.independent)if(a.partIndex===0){const h=o[a.mediaIndex-1],g=h.parts&&h.parts.length&&h.parts[h.parts.length-1];g&&g.independent&&(a.mediaIndex-=1,a.partIndex=h.parts.length-1,a.independent="previous segment")}else l.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");const f=this.mediaSource_&&this.mediaSource_.readyState==="ended";return a.mediaIndex>=o.length-1&&f&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,a.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(a))}generateSegmentInfo_(e){const{independent:r,playlist:n,mediaIndex:i,startOfSegment:s,isSyncRequest:o,partIndex:a,forceTimestampOffset:l,getMediaInfoForTime:u}=e,d=n.segments[i],f=typeof a=="number"&&d.parts[a],h={requestId:"segment-loader-"+Math.random(),uri:f&&f.resolvedUri||d.resolvedUri,mediaIndex:i,partIndex:f?a:null,isSyncRequest:o,startOfSegment:s,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:d.timeline,duration:f&&f.duration||d.duration,segment:d,part:f,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:r},g=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:d.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:g});const p=cV(this.sourceUpdater_.audioBuffered());return typeof p=="number"&&(h.audioAppendStart=p-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=jWe(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return ZWe(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const r=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,s=qa.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),o=yGe(this.buffered_(),r,this.vhs_.tech_.playbackRate())-1;if(s<=o)return;const a=DWe({main:this.vhs_.playlists.main,currentTime:r,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!a)return;const u=s-o-a.rebufferingImpact;let d=.5;o<=qc&&(d=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||u<d)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*_o.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Fm(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,r){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&this.trigger("progress")}handleTrackInfo_(e,r){this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(r)||(r=r||{},WWe(this.currentMediaInfo_,r)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=r,this.currentMediaInfo_=r,this.logger_("trackinfo update",r),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=r,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(e,r,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,o=wV(r);s[o]=s[o]||{},s[o][n]=i,this.logger_(`timinginfo: ${r} - ${n} - ${i}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(r.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,r));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};r.forEach(o=>{s[o.stream]=s[o.stream]||{startTime:1/0,captions:[],endTime:0};const a=s[o.stream];a.startTime=Math.min(a.startTime,o.startTime+i),a.endTime=Math.max(a.endTime,o.endTime+i),a.captions.push(o)}),Object.keys(s).forEach(o=>{const{startTime:a,endTime:l,captions:u}=s[o],d=this.inbandTextTracks_;this.logger_(`adding cues from ${a} -> ${l} for ${o}`),$We(d,this.vhs_.tech_,o),Cy(a,l,d[o]),LWe({captionArray:u,inbandTextTracks:d,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,r,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,r,n));return}this.addMetadataToTextTrack(n,r,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(r=>r())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(r=>r())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!SV({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,r=this.getCurrentMediaInfo_();if(!e||!r)return!1;const{hasAudio:n,hasVideo:i,isMuxed:s}=r;return!(i&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||SV({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,r));return}const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[wV(r.type)].start;else{const i=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&i&&i.hasVideo;let o;s&&(o=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:o,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,r.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==n.mediaIndex||i.partIndex!==n.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,r)}}updateAppendInitSegmentStatus(e,r){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[r]!==e.playlist&&(this.appendInitSegment_[r]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:r,map:n,playlist:i}){if(n){const s=wT(n);if(this.activeInitSegmentId_===s)return null;r=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=s}return r&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,r):null}handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n},i){const s=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+m0(s).join(", ")),o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+m0(o).join(", "));const a=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,u=o.length?o.start(0):0,d=o.length?o.end(o.length-1):0;if(l-a<=Y_&&d-u<=Y_){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${m0(s).join(", ")}, video buffer: ${m0(o).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:r,bytes:n}));const h=this.currentTime_()-Y_;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${h}`),this.remove(0,h,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Y_}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=Ze.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Y_*1e3)},!0)}handleAppendError_({segmentInfo:e,type:r,bytes:n},i){if(i){if(i.code===Mre){this.handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error(`${r} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:n,data:i,bytes:s}){if(!s){const o=[i];let a=i.byteLength;n&&(o.unshift(n),a+=n.byteLength),s=RWe({bytes:a,segments:o})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:r,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:r,bytes:s}))}handleSegmentTimingInfo_(e,r,n){if(!this.pendingSegment_||r!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,s=`${e}TimingInfo`;i[s]||(i[s]={}),i[s].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[s].transmuxedPresentationStart=n.start.presentation,i[s].transmuxedDecodeStart=n.start.decode,i[s].transmuxedPresentationEnd=n.end.presentation,i[s].transmuxedDecodeEnd=n.end.decode,i[s].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,r){const{type:n,data:i}=r;if(!i||!i.byteLength||n==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:n,initSegment:r.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:s,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const r=du({},e,{forceTimestampOffset:!0});du(e,this.generateSegmentInfo_(r)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const r=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,o=n||i&&s;this.logger_(`Requesting ${Fm(e)}`),r.map&&!r.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=CWe({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:a,level:l,stream:u})=>{this.logger_(`${Fm(e)} logged from transmuxer stream ${u} as a ${l}: ${a}`)}})}trimBackBuffer_(e){const r=KWe(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);r>0&&this.remove(0,r)}createSimplifiedSegmentObj_(e){const r=e.segment,n=e.part,i={resolvedUri:n?n.resolvedUri:r.resolvedUri,byterange:n?n.byterange:r.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},s=e.playlist.segments[e.mediaIndex-1];if(s&&s.timeline===r.timeline&&(s.videoTimingInfo?i.baseStartTime=s.videoTimingInfo.transmuxedDecodeEnd:s.audioTimingInfo&&(i.baseStartTime=s.audioTimingInfo.transmuxedDecodeEnd)),r.key){const o=r.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key=this.segmentKey(r.key),i.key.iv=o}return r.map&&(i.map=this.initSegmentForMap(r.map)),i}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,r){if(this.pendingSegment_.byteLength=r.bytesReceived,e<vx){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${vx}`);return}this.bandwidth=r.bandwidth,this.roundTrip=r.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,r,n){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,r,n));return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_||r.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Yc.ABORTED)return;if(this.pause(),e.code===Yc.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),i.endOfAllRequests=r.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=HWe(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const r=this.syncController_.mappingForTimeline(e);r!==null&&(this.timeMapping_=r)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:r,mediaIndex:n,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:s,useVideoTimingInfo:o,videoTimingInfo:a,audioTimingInfo:l}){if(typeof e<"u")return e;if(!o)return l.start;const u=r.segments[n-1];return n===0||!u||typeof u.start>"u"||u.end!==i+s?i:a.start}waitForAppendsToComplete_(e){const r=this.getCurrentMediaInfo_(e);if(!r){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:n,hasVideo:i,isMuxed:s}=r,o=this.loaderType_==="main"&&i,a=!this.audioDisabled_&&n&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}o&&e.waitingOnAppends++,a&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const r=YWe(this.loaderType_,this.getCurrentMediaInfo_(),e);return r?(this.error({message:r,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let r=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),r=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),r=!0),r&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:r,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:r&&typeof r.transmuxedDecodeStart=="number"?r.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const r=this.getMediaInfo_(),i=this.loaderType_==="main"&&r&&r.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=typeof i.end=="number"?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=JWe(e,this.sourceType_);if(r&&(r.severity==="warn"?Ft.log.warn(r.message):this.logger_(r.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Fm(e)}`);return}this.logger_(`Appended ${Fm(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,i=e.part,s=n.end&&this.currentTime_()-n.end>e.playlist.targetDuration*3,o=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(s||o){this.logger_(`bad ${s?"segment":"part"} ${Fm(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<vx){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${vx}`);return}const r=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-r)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const r=e.segment,n=r.start,i=r.end;if(!xV(n)||!xV(i))return;Cy(n,i,this.segmentMetadataTrack_);const s=Ze.WebKitDataCue||Ze.VTTCue,o={custom:r.custom,dateTimeObject:r.dateTimeObject,dateTimeString:r.dateTimeString,programDateTime:r.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},a=JSON.stringify(o),l=new s(n,i,a);l.value=o,this.segmentMetadataTrack_.addCue(l)}}function ef(){}const Rre=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},eqe=["video","audio"],hO=(t,e)=>{const r=e[`${t}Buffer`];return r&&r.updating||e.queuePending[t]},tqe=(t,e)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.type==="mediaSource")return null;if(n.type===t)return r}return null},Eg=(t,e)=>{if(e.queue.length===0)return;let r=0,n=e.queue[r];if(n.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),n.action(e),n.doneFn&&n.doneFn(),Eg("audio",e),Eg("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||hO(t,e))){if(n.type!==t){if(r=tqe(t,e.queue),r===null)return;n=e.queue[r]}if(e.queue.splice(r,1),e.queuePending[t]=n,n.action(t,e),!n.doneFn){e.queuePending[t]=null,Eg(t,e);return}}},$re=(t,e)=>{const r=e[`${t}Buffer`],n=Rre(t);r&&(r.removeEventListener("updateend",e[`on${n}UpdateEnd_`]),r.removeEventListener("error",e[`on${n}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Nc=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,dl={appendBuffer:(t,e,r)=>(n,i)=>{const s=i[`${n}Buffer`];if(Nc(i.mediaSource,s)){i.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${n}Buffer`);try{s.appendBuffer(t)}catch(o){i.logger_(`Error with code ${o.code} `+(o.code===Mre?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${n}Buffer`),i.queuePending[n]=null,r(o)}}},remove:(t,e)=>(r,n)=>{const i=n[`${r}Buffer`];if(Nc(n.mediaSource,i)){n.logger_(`Removing ${t} to ${e} from ${r}Buffer`);try{i.remove(t,e)}catch{n.logger_(`Remove ${t} to ${e} from ${r}Buffer failed`)}}},timestampOffset:t=>(e,r)=>{const n=r[`${e}Buffer`];Nc(r.mediaSource,n)&&(r.logger_(`Setting ${e}timestampOffset to ${t}`),n.timestampOffset=t)},callback:t=>(e,r)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(r){Ft.log.warn("Failed to call media source endOfStream",r)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(r){Ft.log.warn("Failed to set media source duration",r)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const r=e[`${t}Buffer`];if(Nc(e.mediaSource,r)){e.logger_(`calling abort on ${t}Buffer`);try{r.abort()}catch(n){Ft.log.warn(`Failed to abort on ${t}Buffer`,n)}}},addSourceBuffer:(t,e)=>r=>{const n=Rre(t),i=ib(e);r.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=r.mediaSource.addSourceBuffer(i);s.addEventListener("updateend",r[`on${n}UpdateEnd_`]),s.addEventListener("error",r[`on${n}Error_`]),r.codecs[t]=e,r[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const r=e[`${t}Buffer`];if($re(t,e),!!Nc(e.mediaSource,r)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(r)}catch(n){Ft.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,n)}}},changeType:t=>(e,r)=>{const n=r[`${e}Buffer`],i=ib(t);if(Nc(r.mediaSource,n)&&r.codecs[e]!==t){r.logger_(`changing ${e}Buffer codec from ${r.codecs[e]} to ${t}`);try{n.changeType(i),r.codecs[e]=t}catch(s){Ft.log.warn(`Failed to changeType on ${e}Buffer`,s)}}}},fl=({type:t,sourceUpdater:e,action:r,doneFn:n,name:i})=>{e.queue.push({type:t,action:r,doneFn:n,name:i}),Eg(t,e)},EV=(t,e)=>r=>{if(e.queuePending[t]){const n=e.queuePending[t].doneFn;e.queuePending[t]=null,n&&n(e[`${t}Error_`])}Eg(t,e)};class Lre extends Ft.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Eg("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Pu("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=EV("video",this),this.onAudioUpdateEnd_=EV("audio",this),this.onVideoError_=r=>{this.videoError_=r},this.onAudioError_=r=>{this.audioError_=r},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,r){fl({type:"mediaSource",sourceUpdater:this,action:dl.addSourceBuffer(e,r),name:"addSourceBuffer"})}abort(e){fl({type:e,sourceUpdater:this,action:dl.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){Ft.log.error("removeSourceBuffer is not supported!");return}fl({type:"mediaSource",sourceUpdater:this,action:dl.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!Ft.browser.IS_FIREFOX&&Ze.MediaSource&&Ze.MediaSource.prototype&&typeof Ze.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return Ze.SourceBuffer&&Ze.SourceBuffer.prototype&&typeof Ze.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,r){if(!this.canChangeType()){Ft.log.error("changeType is not supported!");return}fl({type:e,sourceUpdater:this,action:dl.changeType(r),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(r=>{const n=e[r];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(r,n);this.canChangeType()&&this.changeType(r,n)})}appendBuffer(e,r){const{segmentInfo:n,type:i,bytes:s}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,r]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const o=r;if(fl({type:i,sourceUpdater:this,action:dl.appendBuffer(s,n||{mediaIndex:-1},o),doneFn:r,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const a=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${a.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,a.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Nc(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Jo()}videoBuffered(){return Nc(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Jo()}buffered(){const e=Nc(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,r=Nc(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return r&&!e?this.audioBuffered():e&&!r?this.videoBuffered():_Ge(this.audioBuffered(),this.videoBuffered())}setDuration(e,r=ef){fl({type:"mediaSource",sourceUpdater:this,action:dl.duration(e),name:"duration",doneFn:r})}endOfStream(e=null,r=ef){typeof e!="string"&&(e=void 0),fl({type:"mediaSource",sourceUpdater:this,action:dl.endOfStream(e),name:"endOfStream",doneFn:r})}removeAudio(e,r,n=ef){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){n();return}fl({type:"audio",sourceUpdater:this,action:dl.remove(e,r),doneFn:n,name:"remove"})}removeVideo(e,r,n=ef){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){n();return}fl({type:"video",sourceUpdater:this,action:dl.remove(e,r),doneFn:n,name:"remove"})}updating(){return!!(hO("audio",this)||hO("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(fl({type:"audio",sourceUpdater:this,action:dl.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset!==e&&(fl({type:"video",sourceUpdater:this,action:dl.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&fl({type:"audio",sourceUpdater:this,action:dl.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&fl({type:"video",sourceUpdater:this,action:dl.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),eqe.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>$re(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const CV=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),rqe=t=>{const e=new Uint8Array(t);return Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")},AV=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class nqe extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class iqe extends fO{constructor(e,r={}){super(e,r),this.mediaSource_=null,this.subtitlesTrack_=null,this.loaderType_="subtitle",this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Jo();const e=this.subtitlesTrack_.cues,r=e[0].startTime,n=e[e.length-1].startTime;return Jo([[r,n]])}initSegmentForMap(e,r=!1){if(!e)return null;const n=wT(e);let i=this.initSegments_[n];if(r&&!i&&e.bytes){const s=AV.byteLength+e.bytes.byteLength,o=new Uint8Array(s);o.set(e.bytes),o.set(AV,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,r){Cy(e,r,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const r=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",r),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,r,n){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Yc.TIMEOUT&&this.handleTimeout_(),e.code===Yc.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),r.key&&this.segmentKey(r.key,!0),this.state="APPENDING",this.trigger("appending");const s=i.segment;if(s.map&&(s.map.bytes=r.map.bytes),i.bytes=r.bytes,typeof Ze.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,r,n),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(i)}catch(o){this.stopForError({message:o.message});return}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,i.cues.forEach(o=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new Ze.VTTCue(o.startTime,o.endTime,o.text):o)}),zWe(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let r,n=!1;if(typeof Ze.WebVTT!="function")throw new nqe;typeof Ze.TextDecoder=="function"?r=new Ze.TextDecoder("utf8"):(r=Ze.WebVTT.StringDecoder(),n=!0);const i=new Ze.WebVTT.Parser(Ze,Ze.vttjs,r);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=o=>{e.timestampmap=o},i.onparsingerror=o=>{Ft.log.warn("Error encountered when parsing cues: "+o.message)},e.segment.map){let o=e.segment.map.bytes;n&&(o=CV(o)),i.parse(o)}let s=e.bytes;n&&(s=CV(s)),i.parse(s),i.flush()}updateTimeMapping_(e,r,n){const i=e.segment;if(!r)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:s,LOCAL:o}=e.timestampmap,l=s/p0.ONE_SECOND_IN_TS-o+r.mapping;if(e.cues.forEach(u=>{const d=u.endTime-u.startTime,f=s===0?u.startTime+l:this.handleRollover_(u.startTime+l,r.time);u.startTime=Math.max(f,0),u.endTime=Math.max(f+d,0)}),!n.syncInfo){const u=e.cues[0].startTime,d=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(u,d-i.duration)}}}handleRollover_(e,r){if(r===null)return e;let n=e*p0.ONE_SECOND_IN_TS;const i=r*p0.ONE_SECOND_IN_TS;let s;for(i<n?s=-8589934592:s=8589934592;Math.abs(n-i)>4294967296;)n+=s;return n/p0.ONE_SECOND_IN_TS}}const sqe=function(t,e){const r=t.cues;for(let n=0;n<r.length;n++){const i=r[n];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},oqe=function(t,e,r=0){if(!t.segments)return;let n=r,i;for(let s=0;s<t.segments.length;s++){const o=t.segments[s];if(i||(i=sqe(e,n+o.duration/2)),i){if("cueIn"in o){i.endTime=n,i.adEndTime=n,n+=o.duration,i=null;continue}if(n<i.endTime){n+=o.duration;continue}i.endTime+=o.duration}else if("cueOut"in o&&(i=new Ze.VTTCue(n,n+o.duration,o.cueOut),i.adStartTime=n,i.adEndTime=n+parseFloat(o.cueOut),e.addCue(i)),"cueOutCont"in o){const[a,l]=o.cueOutCont.split("/").map(parseFloat);i=new Ze.VTTCue(n,n+o.duration,""),i.adStartTime=n-a,i.adEndTime=i.adStartTime+l,e.addCue(i)}n+=o.duration}},aqe=86400,C4=[{name:"VOD",run:(t,e,r,n,i)=>r!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,r,n,i,s)=>{if(!s)return null;const o=t.getMediaSequenceMap(s);if(!o||o.size===0||e.mediaSequence===void 0||!Array.isArray(e.segments)||!e.segments.length)return null;let a=e.mediaSequence,l=0;for(const u of e.segments){const d=o.get(a);if(!d)break;if(i>=d.start&&i<d.end){if(Array.isArray(u.parts)&&u.parts.length){let f=d.start,h=0;for(const g of u.parts){const p=f,v=p+g.duration;if(i>=p&&i<v)return{time:d.start,segmentIndex:l,partIndex:h};h++,f=v}}return{time:d.start,segmentIndex:l,partIndex:null}}l++,a++}return null}},{name:"ProgramDateTime",run:(t,e,r,n,i)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,o=null;const a=iO(e);i=i||0;for(let l=0;l<a.length;l++){const u=e.endList||i===0?l:a.length-(l+1),d=a[u],f=d.segment,h=t.timelineToDatetimeMappings[f.timeline];if(!h||!f.dateTimeObject)continue;let p=f.dateTimeObject.getTime()/1e3+h;if(f.parts&&typeof d.partIndex=="number")for(let b=0;b<d.partIndex;b++)p+=f.parts[b].duration;const v=Math.abs(i-p);if(o!==null&&(v===0||o<v))break;o=v,s={time:p,segmentIndex:d.segmentIndex,partIndex:d.partIndex}}return s}},{name:"Segment",run:(t,e,r,n,i)=>{let s=null,o=null;i=i||0;const a=iO(e);for(let l=0;l<a.length;l++){const u=e.endList||i===0?l:a.length-(l+1),d=a[u],f=d.segment,h=d.part&&d.part.start||f&&f.start;if(f.timeline===n&&typeof h<"u"){const g=Math.abs(i-h);if(o!==null&&o<g)break;(!s||o===null||o>=g)&&(o=g,s={time:h,segmentIndex:d.segmentIndex,partIndex:d.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,r,n,i)=>{let s=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let o=null;for(let a=0;a<e.discontinuityStarts.length;a++){const l=e.discontinuityStarts[a],u=e.discontinuitySequence+a+1,d=t.discontinuities[u];if(d){const f=Math.abs(i-d.time);if(o!==null&&o<f)break;(!s||o===null||o>=f)&&(o=f,s={time:d.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,r,n,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class lqe extends Ft.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.mediaSequenceStorage_=new Map,this.logger_=Pu("SyncController")}getMediaSequenceMap(e){return this.mediaSequenceStorage_.get(e)}updateMediaSequenceMap(e,r,n){if(e.mediaSequence===void 0||!Array.isArray(e.segments)||!e.segments.length)return;const i=this.getMediaSequenceMap(n),s=new Map;let o=e.mediaSequence,a;i?i.has(e.mediaSequence)?a=i.get(e.mediaSequence).start:(this.logger_(`MediaSequence sync for ${n} segment loader - received a gap between playlists.
Fallback base time to: ${r}.
Received media sequence: ${o}.
Current map: `,i),a=r):a=0,this.logger_(`MediaSequence sync for ${n} segment loader.
Received media sequence: ${o}.
base time is ${a}
Current map: `,i),e.segments.forEach(l=>{const u=a,d=u+l.duration,f={start:u,end:d};s.set(o,f),o++,a=d}),this.mediaSequenceStorage_.set(n,s)}getSyncPoint(e,r,n,i,s){if(r!==1/0)return C4.find(({name:l})=>l==="VOD").run(this,e,r);const o=this.runStrategies_(e,r,n,i,s);if(!o.length)return null;for(const a of o){const{syncPoint:l,strategy:u}=a,{segmentIndex:d,time:f}=l;if(d<0)continue;const h=e.segments[d],g=f,p=g+h.duration;if(this.logger_(`Strategy: ${u}. Current time: ${i}. selected segment: ${d}. Time: [${g} -> ${p}]}`),i>=g&&i<p)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(o,{key:"time",value:i})}getExpiredTime(e,r){if(!e||!e.segments)return null;const n=this.runStrategies_(e,r,e.discontinuitySequence,0,"main");if(!n.length)return null;const i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+a2({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,r,n,i,s){const o=[];for(let a=0;a<C4.length;a++){const l=C4[a],u=l.run(this,e,r,n,i,s);u&&(u.strategy=l.name,o.push({strategy:l.name,syncPoint:u}))}return o}selectSyncPoint_(e,r){let n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[r.key]-r.value),s=e[0].strategy;for(let o=1;o<e.length;o++){const a=Math.abs(e[o].syncPoint[r.key]-r.value);a<i&&(i=a,n=e[o].syncPoint,s=e[o].strategy)}return this.logger_(`syncPoint for [${r.key}: ${r.value}] chosen with strategy [${s}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+(typeof n.partIndex=="number"?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,r){const n=r.mediaSequence-e.mediaSequence;if(n>aqe){Ft.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);return}for(let i=n-1;i>=0;i--){const s=e.segments[i];if(s&&typeof s.start<"u"){r.syncInfo={mediaSequence:e.mediaSequence+i,time:s.start},this.logger_(`playlist refresh sync: [time:${r.syncInfo.time}, mediaSequence: ${r.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const r=e.segments[0],n=r.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[r.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:r}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,r),i=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const s=i.dateTimeObject;i.discontinuity&&r&&s&&(this.timelineToDatetimeMappings[i.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,r,n){const i=e.segment,s=e.part;let o=this.timelines[e.timeline],a,l;if(typeof e.timestampOffset=="number")o={time:e.startOfSegment,mapping:e.startOfSegment-r.start},n&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${o.time}] [mapping: ${o.mapping}]`)),a=e.startOfSegment,l=r.end+o.mapping;else if(o)a=r.start+o.mapping,l=r.end+o.mapping;else return!1;return s&&(s.start=a,s.end=l),(!i.start||a<i.start)&&(i.start=a),i.end=l,!0}saveDiscontinuitySyncInfo_(e){const r=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(r.discontinuityStarts&&r.discontinuityStarts.length)for(let i=0;i<r.discontinuityStarts.length;i++){const s=r.discontinuityStarts[i],o=r.discontinuitySequence+i+1,a=s-e.mediaIndex,l=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>l){let u;a<0?u=n.start-a2({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex,endIndex:s}):u=n.end+a2({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[o]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class uqe extends Ft.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:r,to:n}){return typeof r=="number"&&typeof n=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:r,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:r,to:n}){return typeof r=="number"&&typeof n=="number"&&(this.lastTimelineChanges_[e]={type:e,from:r,to:n},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const cqe=wre(Sre(function(){var t=function(){function v(){this.listeners={}}var b=v.prototype;return b.on=function(T,E){this.listeners[T]||(this.listeners[T]=[]),this.listeners[T].push(E)},b.off=function(T,E){if(!this.listeners[T])return!1;var C=this.listeners[T].indexOf(E);return this.listeners[T]=this.listeners[T].slice(0),this.listeners[T].splice(C,1),C>-1},b.trigger=function(T){var E=this.listeners[T];if(E)if(arguments.length===2)for(var C=E.length,P=0;P<C;++P)E[P].call(this,arguments[1]);else for(var D=Array.prototype.slice.call(arguments,1),L=E.length,j=0;j<L;++j)E[j].apply(this,D)},b.dispose=function(){this.listeners={}},b.pipe=function(T){this.on("data",function(E){T.push(E)})},v}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(v){return v.subarray(0,v.byteLength-v[v.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const r=function(){const v=[[[],[],[],[],[]],[[],[],[],[],[]]],b=v[0],S=v[1],T=b[4],E=S[4];let C,P,D;const L=[],j=[];let te,se,q,X,Q,$;for(C=0;C<256;C++)j[(L[C]=C<<1^(C>>7)*283)^C]=C;for(P=D=0;!T[P];P^=te||1,D=j[D]||1)for(X=D^D<<1^D<<2^D<<3^D<<4,X=X>>8^X&255^99,T[P]=X,E[X]=P,q=L[se=L[te=L[P]]],$=q*16843009^se*65537^te*257^P*16843008,Q=L[X]*257^X*16843008,C=0;C<4;C++)b[C][P]=Q=Q<<24^Q>>>8,S[C][X]=$=$<<24^$>>>8;for(C=0;C<5;C++)b[C]=b[C].slice(0),S[C]=S[C].slice(0);return v};let n=null;class i{constructor(b){n||(n=r()),this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];let S,T,E;const C=this._tables[0][4],P=this._tables[1],D=b.length;let L=1;if(D!==4&&D!==6&&D!==8)throw new Error("Invalid aes key size");const j=b.slice(0),te=[];for(this._key=[j,te],S=D;S<4*D+28;S++)E=j[S-1],(S%D===0||D===8&&S%D===4)&&(E=C[E>>>24]<<24^C[E>>16&255]<<16^C[E>>8&255]<<8^C[E&255],S%D===0&&(E=E<<8^E>>>24^L<<24,L=L<<1^(L>>7)*283)),j[S]=j[S-D]^E;for(T=0;S;T++,S--)E=j[T&3?S:S-4],S<=4||T<4?te[T]=E:te[T]=P[0][C[E>>>24]]^P[1][C[E>>16&255]]^P[2][C[E>>8&255]]^P[3][C[E&255]]}decrypt(b,S,T,E,C,P){const D=this._key[1];let L=b^D[0],j=E^D[1],te=T^D[2],se=S^D[3],q,X,Q;const $=D.length/4-2;let V,Y=4;const ee=this._tables[1],ae=ee[0],H=ee[1],J=ee[2],ie=ee[3],xe=ee[4];for(V=0;V<$;V++)q=ae[L>>>24]^H[j>>16&255]^J[te>>8&255]^ie[se&255]^D[Y],X=ae[j>>>24]^H[te>>16&255]^J[se>>8&255]^ie[L&255]^D[Y+1],Q=ae[te>>>24]^H[se>>16&255]^J[L>>8&255]^ie[j&255]^D[Y+2],se=ae[se>>>24]^H[L>>16&255]^J[j>>8&255]^ie[te&255]^D[Y+3],Y+=4,L=q,j=X,te=Q;for(V=0;V<4;V++)C[(3&-V)+P]=xe[L>>>24]<<24^xe[j>>16&255]<<16^xe[te>>8&255]<<8^xe[se&255]^D[Y++],q=L,L=j,j=te,te=se,se=q}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(b){this.jobs.push(b),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const o=function(v){return v<<24|(v&65280)<<8|(v&16711680)>>8|v>>>24},a=function(v,b,S){const T=new Int32Array(v.buffer,v.byteOffset,v.byteLength>>2),E=new i(Array.prototype.slice.call(b)),C=new Uint8Array(v.byteLength),P=new Int32Array(C.buffer);let D,L,j,te,se,q,X,Q,$;for(D=S[0],L=S[1],j=S[2],te=S[3],$=0;$<T.length;$+=4)se=o(T[$]),q=o(T[$+1]),X=o(T[$+2]),Q=o(T[$+3]),E.decrypt(se,q,X,Q,P,$),P[$]=o(P[$]^D),P[$+1]=o(P[$+1]^L),P[$+2]=o(P[$+2]^j),P[$+3]=o(P[$+3]^te),D=se,L=q,j=X,te=Q;return C};class l{constructor(b,S,T,E){const C=l.STEP,P=new Int32Array(b.buffer),D=new Uint8Array(b.byteLength);let L=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(P.subarray(L,L+C),S,T,D)),L=C;L<P.length;L+=C)T=new Uint32Array([o(P[L-4]),o(P[L-3]),o(P[L-2]),o(P[L-1])]),this.asyncStream_.push(this.decryptChunk_(P.subarray(L,L+C),S,T,D));this.asyncStream_.push(function(){E(null,e(D))})}static get STEP(){return 32e3}decryptChunk_(b,S,T,E){return function(){const C=a(b,S,T);E.set(C,b.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},d;typeof window<"u"?d=window:typeof u<"u"?d=u:typeof self<"u"?d=self:d={};var f=d,h=function(b){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(b):b&&b.buffer instanceof ArrayBuffer},g=f.BigInt||Number;g("0x1"),g("0x100"),g("0x10000"),g("0x1000000"),g("0x100000000"),g("0x10000000000"),g("0x1000000000000"),g("0x100000000000000"),g("0x10000000000000000"),function(){var v=new Uint16Array([65484]),b=new Uint8Array(v.buffer,v.byteOffset,v.byteLength);return b[0]===255?"big":b[0]===204?"little":"unknown"}();const p=function(v){const b={};return Object.keys(v).forEach(S=>{const T=v[S];h(T)?b[S]={bytes:T.buffer,byteOffset:T.byteOffset,byteLength:T.byteLength}:b[S]=T}),b};self.onmessage=function(v){const b=v.data,S=new Uint8Array(b.encrypted.bytes,b.encrypted.byteOffset,b.encrypted.byteLength),T=new Uint32Array(b.key.bytes,b.key.byteOffset,b.key.byteLength/4),E=new Uint32Array(b.iv.bytes,b.iv.byteOffset,b.iv.byteLength/4);new l(S,T,E,function(C,P){self.postMessage(p({source:b.source,decrypted:P}),[P.buffer])})}}));var dqe=xre(cqe);const fqe=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},Fre=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},pO=(t,e)=>{e.activePlaylistLoader=t,t.load()},hqe=(t,e)=>()=>{const{segmentLoaders:{[t]:r,main:n},mediaTypes:{[t]:i}}=e,s=i.activeTrack(),o=i.getActiveGroup(),a=i.activePlaylistLoader,l=i.lastGroup_;if(!(o&&l&&o.id===l.id)&&(i.lastGroup_=o,i.lastTrack_=s,Fre(r,i),!(!o||o.isMainPlaylist))){if(!o.playlistLoader){a&&n.resetEverything();return}r.resyncLoader(),pO(o.playlistLoader,i)}},pqe=(t,e)=>()=>{const{segmentLoaders:{[t]:r},mediaTypes:{[t]:n}}=e;n.lastGroup_=null,r.abort(),r.pause()},mqe=(t,e)=>()=>{const{mainPlaylistLoader:r,segmentLoaders:{[t]:n,main:i},mediaTypes:{[t]:s}}=e,o=s.activeTrack(),a=s.getActiveGroup(),l=s.activePlaylistLoader,u=s.lastTrack_;if(!(u&&o&&u.id===o.id)&&(s.lastGroup_=a,s.lastTrack_=o,Fre(n,s),!!a)){if(a.isMainPlaylist){if(!o||!u||o.id===u.id)return;const d=e.vhs.playlistController_,f=d.selectPlaylist();if(d.media()===f)return;s.logger_(`track change. Switching main audio from ${u.id} to ${o.id}`),r.pause(),i.resetEverything(),d.fastQualityChange_(f);return}if(t==="AUDIO"){if(!a.playlistLoader){i.setAudio(!0),i.resetEverything();return}n.setAudio(!0),i.setAudio(!1)}if(l===a.playlistLoader){pO(a.playlistLoader,s);return}n.track&&n.track(o),n.resetEverything(),pO(a.playlistLoader,s)}},ET={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:r},excludePlaylist:n}=e,i=r.activeTrack(),s=r.activeGroup(),o=(s.filter(l=>l.default)[0]||s[0]).id,a=r.tracks[o];if(i===a){n({error:{message:"Problem encountered loading the default audio track."}});return}Ft.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in r.tracks)r.tracks[l].enabled=r.tracks[l]===a;r.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:r}}=e;Ft.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const n=r.activeTrack();n&&(n.mode="disabled"),r.onTrackChanged()}},PV={AUDIO:(t,e,r)=>{if(!e)return;const{tech:n,requestOptions:i,segmentLoaders:{[t]:s}}=r;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,i),(!n.paused()||o.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),n.paused()||s.load()}),e.on("error",ET[t](t,r))},SUBTITLES:(t,e,r)=>{const{tech:n,requestOptions:i,segmentLoaders:{[t]:s},mediaTypes:{[t]:o}}=r;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,i),s.track(o.activeTrack()),(!n.paused()||a.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),n.paused()||s.load()}),e.on("error",ET[t](t,r))}},gqe={AUDIO:(t,e)=>{const{vhs:r,sourceType:n,segmentLoaders:{[t]:i},requestOptions:s,main:{mediaGroups:o},mediaTypes:{[t]:{groups:a,tracks:l,logger_:u}},mainPlaylistLoader:d}=e,f=m1(d.main);(!o[t]||Object.keys(o[t]).length===0)&&(o[t]={main:{default:{default:!0}}},f&&(o[t].main.default.playlists=d.main.playlists));for(const h in o[t]){a[h]||(a[h]=[]);for(const g in o[t][h]){let p=o[t][h][g],v;if(f?(u(`AUDIO group '${h}' label '${g}' is a main playlist`),p.isMainPlaylist=!0,v=null):n==="vhs-json"&&p.playlists?v=new ng(p.playlists[0],r,s):p.resolvedUri?v=new ng(p.resolvedUri,r,s):p.playlists&&n==="dash"?v=new cO(p.playlists[0],r,s,d):v=null,p=Ai({id:g,playlistLoader:v},p),PV[t](t,p.playlistLoader,e),a[h].push(p),typeof l[g]>"u"){const b=new Ft.AudioTrack({id:g,kind:fqe(p),enabled:!1,language:p.language,default:p.default,label:g});l[g]=b}}}i.on("error",ET[t](t,e))},SUBTITLES:(t,e)=>{const{tech:r,vhs:n,sourceType:i,segmentLoaders:{[t]:s},requestOptions:o,main:{mediaGroups:a},mediaTypes:{[t]:{groups:l,tracks:u}},mainPlaylistLoader:d}=e;for(const f in a[t]){l[f]||(l[f]=[]);for(const h in a[t][f]){if(!n.options_.useForcedSubtitles&&a[t][f][h].forced)continue;let g=a[t][f][h],p;if(i==="hls")p=new ng(g.resolvedUri,n,o);else if(i==="dash"){if(!g.playlists.filter(b=>b.excludeUntil!==1/0).length)return;p=new cO(g.playlists[0],n,o,d)}else i==="vhs-json"&&(p=new ng(g.playlists?g.playlists[0]:g.resolvedUri,n,o));if(g=Ai({id:h,playlistLoader:p},g),PV[t](t,g.playlistLoader,e),l[f].push(g),typeof u[h]>"u"){const v=r.addRemoteTextTrack({id:h,kind:"subtitles",default:g.default&&g.autoselect,language:g.language,label:h},!1).track;u[h]=v}}}s.on("error",ET[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:r,main:{mediaGroups:n},mediaTypes:{[t]:{groups:i,tracks:s}}}=e;for(const o in n[t]){i[o]||(i[o]=[]);for(const a in n[t][o]){const l=n[t][o][a];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=r.options_.vhs&&r.options_.vhs.captionServices||{};let d={label:a,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[d.instreamId]&&(d=Ai(d,u[d.instreamId])),d.default===void 0&&delete d.default,i[o].push(Ai({id:a},l)),typeof s[a]>"u"){const f=r.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;s[a]=f}}}}},Nre=(t,e)=>{for(let r=0;r<t.length;r++)if(O6(e,t[r])||t[r].playlists&&Nre(t[r].playlists,e))return!0;return!1},vqe=(t,e)=>r=>{const{mainPlaylistLoader:n,mediaTypes:{[t]:{groups:i}}}=e,s=n.media();if(!s)return null;let o=null;s.attributes[t]&&(o=i[s.attributes[t]]);const a=Object.keys(i);if(!o)if(t==="AUDIO"&&a.length>1&&m1(e.main))for(let l=0;l<a.length;l++){const u=i[a[l]];if(Nre(u,s)){o=u;break}}else i.main?o=i.main:a.length===1&&(o=i[a[0]]);return typeof r>"u"?o:r===null||!o?null:o.filter(l=>l.id===r.id)[0]||null},_qe={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].enabled)return r[n];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].mode==="showing"||r[n].mode==="hidden")return r[n];return null}},yqe=(t,{mediaTypes:e})=>()=>{const r=e[t].activeTrack();return r?e[t].activeGroup(r):null},bqe=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{gqe[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:r,tech:n,vhs:i,segmentLoaders:{["AUDIO"]:s,main:o}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=vqe(u,t),e[u].activeTrack=_qe[u](u,t),e[u].onGroupChanged=hqe(u,t),e[u].onGroupChanging=pqe(u,t),e[u].onTrackChanged=mqe(u,t),e[u].getActiveGroup=yqe(u,t)});const a=e.AUDIO.activeGroup();if(a){const u=(a.filter(f=>f.default)[0]||a[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(o.setAudio(!1),s.setAudio(!0)):o.setAudio(!0)}r.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),r.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(const u in e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[u])},xqe=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ef,activeTrack:ef,getActiveGroup:ef,onGroupChanged:ef,onTrackChanged:ef,lastTrack_:null,logger_:Pu(`MediaGroups[${e}]`)}}),t};class kV{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Ga(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(r=>[r.ID,r])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class wqe extends Ft.EventTarget{constructor(e,r){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new kV,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Pu("Content Steering"),this.xhr_=e,this.getBandwidth_=r}assignTagProperties(e,r){this.manifestType_=r.serverUri?"HLS":"DASH";const n=r.serverUri||r.serverURL;if(!n){this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),this.trigger("error");return}if(n.startsWith("data:")){this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1));return}this.steeringManifest.reloadUri=Ga(e,n),this.defaultPathway=r.pathwayId||r.defaultServiceLocation,this.queryBeforeStart=r.queryBeforeStart,this.proxyServerUrl_=r.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const r=this.steeringManifest.reloadUri;if(!r)return;const n=e?r:this.getRequestURI(r);if(!n){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}this.request_=this.xhr_({uri:n},(i,s)=>{if(i){if(s.status===410){this.logger_(`manifest request 410 ${i}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),this.excludedSteeringManifestURLs.add(n);return}if(s.status===429){const a=s.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${i}.`),this.logger_(`content steering will retry in ${a} seconds.`),this.startTTLTimeout_(parseInt(a,10));return}this.logger_(`manifest failed to load ${i}.`),this.startTTLTimeout_();return}const o=JSON.parse(this.request_.responseText);this.assignSteeringProperties_(o),this.startTTLTimeout_()})}setProxyServerUrl_(e){const r=new Ze.URL(e),n=new Ze.URL(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(r.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const r=JSON.parse(Ze.atob(e));this.assignSteeringProperties_(r)}setSteeringParams_(e){const r=new Ze.URL(e),n=this.getPathway(),i=this.getBandwidth_();if(n){const s=`_${this.manifestType_}_pathway`;r.searchParams.set(s,n)}if(i){const s=`_${this.manifestType_}_throughput`;r.searchParams.set(s,i)}return r.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(i=>{for(const s of i)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const r=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!r(i))return i}const n=this.setSteeringParams_(e);return r(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const r=e*1e3;this.ttlTimeout_=Ze.setTimeout(()=>{this.requestSteeringManifest()},r)}clearTTLTimeout_(){Ze.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new kV}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,r){return!r&&this.steeringManifest.reloadUri||r&&(Ga(e,r.serverURL)!==this.steeringManifest.reloadUri||r.defaultServiceLocation!==this.defaultPathway||r.queryBeforeStart!==this.queryBeforeStart||r.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const Sqe=10;let Fd;const Tqe=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Eqe=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},Cqe=function({currentPlaylist:t,buffered:e,currentTime:r,nextPlaylist:n,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:o,bufferBasedABR:a,log:l}){if(!n)return Ft.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${t&&t.id||"null"} -> ${n.id}`;if(!t)return l(`${u} as current playlist is not set`),!0;if(n.id===t.id)return!1;const d=!!rg(e,r).length;if(!t.endList)return!d&&typeof t.partTargetDuration=="number"?(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${u} as current playlist is live`),!0);const f=P6(e,r),h=a?_o.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:_o.MAX_BUFFER_LOW_WATER_LINE;if(o<h)return l(`${u} as duration < max low water line (${o} < ${h})`),!0;const g=n.attributes.BANDWIDTH,p=t.attributes.BANDWIDTH;if(g<p&&(!a||f<s)){let v=`${u} as next bandwidth < current bandwidth (${g} < ${p})`;return a&&(v+=` and forwardBuffer < bufferHighWaterLine (${f} < ${s})`),l(v),!0}if((!a||g>p)&&f>=i){let v=`${u} as forwardBuffer >= bufferLowWaterLine (${f} >= ${i})`;return a&&(v+=` and next bandwidth > current bandwidth (${g} > ${p})`),l(v),!0}return l(`not ${u} as no switching criteria met`),!1};class Aqe extends Ft.EventTarget{constructor(e){super();const{src:r,withCredentials:n,tech:i,bandwidth:s,externVhs:o,useCueTags:a,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:d,cacheEncryptionKeys:f,bufferBasedABR:h,leastPixelDiffSelector:g,captionServices:p}=e;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:v}=e;(v===null||typeof v>"u")&&(v=1/0),Fd=o,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!g,this.withCredentials=n,this.tech_=i,this.vhs_=i.vhs,this.sourceType_=d,this.useCueTags_=a,this.playlistExclusionDuration=l,this.maxPlaylistRetries=v,this.enableLowInitialPlaylist=u,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:v,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=xqe(),this.mediaSource=new Ze.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Jo(),this.hasPlayed_=!1,this.syncController_=new lqe(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new dqe,this.sourceUpdater_=new Lre(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new uqe,this.keyStatusMap_=new Map;const b={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:p,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:f,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new cO(r,this.vhs_,Ai(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new ng(r,this.vhs_,Ai(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new fO(Ai(b,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new fO(Ai(b,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new iqe(Ai(b,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((E,C)=>{function P(){i.off("vttjserror",D),E()}function D(){i.off("vttjsloaded",P),C()}i.one("vttjsloaded",P),i.one("vttjserror",D),i.addWebVttScript_()})}),e);const S=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new wqe(this.vhs_.xhr,S),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),Tqe.forEach(E=>{this[E+"_"]=Eqe.bind(this,E)}),this.logger_=Pu("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const T=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(T,()=>{const E=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-E,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),r=this.audioAppendsToLoadedData_();return e===-1||r===-1?-1:e+r}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,e)}switchMedia_(e,r,n){const i=this.media(),s=i&&(i.id||i.uri),o=e&&(e.id||e.uri);s&&s!==o&&(this.logger_(`switch media ${s} -> ${o} from ${r}`),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${r}`})),this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const r=this.mediaTypes_[e],n=r?r.activeGroup():null,i=this.contentSteeringController_.getPathway();if(n&&i){const o=(n.length?n[0].playlists:n.playlists).filter(a=>a.attributes.serviceLocation===i);o.length&&this.mediaTypes_[e].activePlaylistLoader.media(o[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=Ze.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(Ze.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),r=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return r;const n=e.mediaGroups.AUDIO,i=Object.keys(n);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const a=n.main||i.length&&n[i[0]];for(const l in a)if(a[l].default){s={label:l};break}}if(!s)return r;const o=[];for(const a in n)if(n[a][s.label]){const l=n[a][s.label];if(l.playlists&&l.playlists.length)o.push.apply(o,l.playlists);else if(l.uri)o.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const d=e.playlists[u];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===a&&o.push(d)}}return o.length?o:r}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const e=this.mainPlaylistLoader_.media(),r=e.targetDuration*1.5*1e3;sO(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,e.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),bqe({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let r;if(this.enableLowInitialPlaylist&&(r=this.selectInitialPlaylist()),r||(r=this.selectPlaylist()),!r||!this.shouldSwitchToMedia_(r)||(this.initialMedia_=r,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const e=this.mainPlaylistLoader_.media(),r=e.targetDuration*1.5*1e3;sO(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const e=this.mainPlaylistLoader_.media();if(e.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,r){const n=e.mediaGroups||{};let i=!0;const s=Object.keys(n.AUDIO);for(const o in n.AUDIO)for(const a in n.AUDIO[o])n.AUDIO[o][a].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Fd.Playlist.isAes(r)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(n.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const r=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),o=this.tech_.buffered();return Cqe({buffered:o,currentTime:n,currentPlaylist:r,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const r=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",r=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:Sqe}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const r=this.getCodecsOrExclude_();r&&this.sourceUpdater_.addOrChangeSourceBuffers(r)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.tech_.setCurrentTime(this.tech_.currentTime())})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const r=this.seekable();if(!r.length)return!1;const n=r.end(0);let i=n;if(e.start){const s=e.start.timeOffset;s<0?i=Math.max(n+s,r.start(0)):i=Math.min(n,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,r=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const r=this.duration();e[e.length-1].endTime=isNaN(r)||Math.abs(r)===1/0?Number.MAX_VALUE:r}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const r=this.mainSegmentLoader_.getCurrentMediaInfo_();!r||r.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const i=Fd.Playlist.playlistEnd(e,n),s=this.tech_.currentTime(),o=this.tech_.buffered();if(!o.length)return i-s<=Xc;const a=o.end(o.length-1);return a-s<=Xc&&i-a<=Xc}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:r={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||r.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,s=i.filter(TC),o=s.length===1&&s[0]===e;if(i.length===1&&n!==1/0)return Ft.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(o);if(o){if(this.main().contentSteering){const p=this.pathwayAttribute_(e),v=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(p),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(p)},v);return}let g=!1;i.forEach(p=>{if(p===e)return;const v=p.excludeUntil;typeof v<"u"&&v!==1/0&&(g=!0,delete p.excludeUntil)}),g&&(Ft.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let a;e.playlistErrors_>this.maxPlaylistRetries?a=1/0:a=Date.now()+n*1e3,e.excludeUntil=a,r.reason&&(e.lastExcludeReason_=r.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=r.internal?this.logger_:Ft.log.warn,d=r.message?" "+r.message:"";u(`${r.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${d} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const f=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=f;return this.switchMedia_(l,"exclude",o||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,r){const n=[],i=e==="all";(i||e==="main")&&n.push(this.mainPlaylistLoader_);const s=[];(i||e==="audio")&&s.push("AUDIO"),(i||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(o=>{const a=this.mediaTypes_[o]&&this.mediaTypes_[o].activePlaylistLoader;a&&n.push(a)}),["main","audio","subtitle"].forEach(o=>{const a=this[`${o}SegmentLoader_`];a&&(e===o||e==="all")&&n.push(a)}),n.forEach(o=>r.forEach(a=>{typeof o[a]=="function"&&o[a]()}))}setCurrentTime(e){const r=rg(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(r&&r.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Fd.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let r=this.mainPlaylistLoader_.media();if(!r)return;let n=this.syncController_.getExpiredTime(r,this.duration());if(n===null)return;const i=this.mainPlaylistLoader_.main,s=Fd.Playlist.seekable(r,n,Fd.Playlist.liveEdgeDelay(i,r));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(r,this.duration()),n===null||(e=Fd.Playlist.seekable(r,n,Fd.Playlist.liveEdgeDelay(i,r)),e.length===0)))return;let o,a;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=Jo([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a)&&(this.logger_(`seekable updated [${Qte(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const r=this.tech_.buffered();let n=Fd.Playlist.duration(this.mainPlaylistLoader_.media());r.length>0&&(n=Math.max(n,r.end(r.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const r=this.mediaTypes_[e].groups;for(const n in r)r[n].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,r=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!r||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},r=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=u2(this.main(),r),i={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||KVe),e.main.isMuxed&&(i.video+=`,${n.audio||e.main.audioCodec||h7}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||h7,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:r,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const o=(u,d)=>u?Xw(d):c4(d),a={};let l;if(["video","audio"].forEach(function(u){if(i.hasOwnProperty(u)&&!o(e[u].isFmp4,i[u])){const d=e[u].isFmp4?"browser":"muxer";a[d]=a[d]||[],a[d].push(i[u]),u==="audio"&&(l=d)}}),s&&l&&r.attributes.AUDIO){const u=r.attributes.AUDIO;this.main().playlists.forEach(d=>{(d.attributes&&d.attributes.AUDIO)===u&&d!==r&&(d.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(a).length){const u=Object.keys(a).reduce((d,f)=>(d&&(d+=", "),d+=`${f} does not support codec(s): "${a[f].join(",")}"`,d),"")+".";this.excludePlaylist({playlistToExclude:r,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(d=>{const f=(Rc(this.sourceUpdater_.codecs[d]||"")[0]||{}).type,h=(Rc(i[d]||"")[0]||{}).type;f&&h&&f.toLowerCase()!==h.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[d]}" -> "${i[d]}"`)}),u.length){this.excludePlaylist({playlistToExclude:r,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const r=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(r)}excludeUnsupportedVariants_(){const e=this.main().playlists,r=[];Object.keys(e).forEach(n=>{const i=e[n];if(r.indexOf(i.id)!==-1)return;r.push(i.id);const s=u2(this.main,i),o=[];s.audio&&!c4(s.audio)&&!Xw(s.audio)&&o.push(`audio codec ${s.audio}`),s.video&&!c4(s.video)&&!Xw(s.video)&&o.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&o.push(`text codec ${s.text}`),o.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${o.join(", ")}`))})}excludeIncompatibleVariants_(e){const r=[],n=this.main().playlists,i=ST(Rc(e)),s=vV(i),o=i.video&&Rc(i.video)[0]||null,a=i.audio&&Rc(i.audio)[0]||null;Object.keys(n).forEach(l=>{const u=n[l];if(r.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;r.push(u.id);const d=[],f=u2(this.mainPlaylistLoader_.main,u),h=vV(f);if(!(!f.audio&&!f.video)){if(h!==s&&d.push(`codec count "${h}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const g=f.video&&Rc(f.video)[0]||null,p=f.audio&&Rc(f.audio)[0]||null;g&&o&&g.type.toLowerCase()!==o.type.toLowerCase()&&d.push(`video codec "${g.type}" !== "${o.type}"`),p&&a&&p.type.toLowerCase()!==a.type.toLowerCase()&&d.push(`audio codec "${p.type}" !== "${a.type}"`)}d.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${d.join(" && ")}`))}})}updateAdCues_(e){let r=0;const n=this.seekable();n.length&&(r=n.start(0)),oqe(e,this.cueTagsTrack_,r)}goalBufferLength(){const e=this.tech_.currentTime(),r=_o.GOAL_BUFFER_LENGTH,n=_o.GOAL_BUFFER_LENGTH_RATE,i=Math.max(r,_o.MAX_GOAL_BUFFER_LENGTH);return Math.min(r+e*n,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),r=_o.BUFFER_LOW_WATER_LINE,n=_o.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(r,_o.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(r,_o.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(r+e*n,this.bufferBasedABR?s:i)}bufferHighWaterLine(){return _o.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){bV(this.inbandTextTracks_,"com.apple.streaming",this.tech_),VWe({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,r,n){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();bV(this.inbandTextTracks_,e,this.tech_),NWe({inbandTextTracks:this.inbandTextTracks_,metadataArray:r,timestampOffset:i,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const r of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(r));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const e=this.main();(this.contentSteeringController_.didDASHTagChange(e.uri,e.contentSteering)||(()=>{const i=this.contentSteeringController_.getAvailablePathways(),s=[];for(const o of e.playlists){const a=o.attributes.serviceLocation;if(a&&(s.push(a),!i.has(a)))return!0}return!!(!s.length&&i.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const n=this.main().playlists,i=new Set;let s=!1;Object.keys(n).forEach(o=>{const a=n[o],l=this.pathwayAttribute_(a),u=l&&e!==l;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!u&&(delete a.excludeUntil,delete a.lastExcludeReason_,s=!0);const f=!a.excludeUntil&&a.excludeUntil!==1/0;!i.has(a.id)&&u&&f&&(i.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_(`excluding ${a.id} for ${a.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(o=>{const a=this.mediaTypes_[o];if(a.activePlaylistLoader){const l=a.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const r=this.main().playlists,n=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(n&&n.size||i&&i.size){for(const[o,a]of n.entries())i.get(o)||(this.mainPlaylistLoader_.updateOrDeleteClone(a),this.contentSteeringController_.excludePathway(o));for(const[o,a]of i.entries()){const l=n.get(o);if(!l){r.filter(d=>d.attributes["PATHWAY-ID"]===a["BASE-ID"]).forEach(d=>{this.mainPlaylistLoader_.addClonePathway(a,d)}),this.contentSteeringController_.addAvailablePathway(o);continue}this.equalPathwayClones_(l,a)||(this.mainPlaylistLoader_.updateOrDeleteClone(a,!0),this.contentSteeringController_.addAvailablePathway(o))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,r){if(e["BASE-ID"]!==r["BASE-ID"]||e.ID!==r.ID||e["URI-REPLACEMENT"].HOST!==r["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,i=r["URI-REPLACEMENT"].PARAMS;for(const s in n)if(n[s]!==i[s])return!1;for(const s in i)if(n[s]!==i[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const r="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=this.mainPlaylistLoader_.getKeyIdSet(n);!i||!i.size||i.forEach(s=>{const o="usable",a=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===o,l=n.lastExcludeReason_===r&&n.excludeUntil===1/0;a?a&&l&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${s} is ${o}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==r&&(n.excludeUntil=1/0,n.lastExcludeReason_=r,this.logger_(`excluding playlist ${n.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${o}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=n&&n.attributes&&n.attributes.RESOLUTION&&n.attributes.RESOLUTION.height<720,s=n.excludeUntil===1/0&&n.lastExcludeReason_===r;i&&s&&(delete n.excludeUntil,Ft.log.warn(`enabling non-HD playlist ${n.id} because all playlists were excluded due to ${r} key IDs`))})}addKeyStatus_(e,r){const s=(typeof e=="string"?e:rqe(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${r}' with key ID ${s} added to the keyStatusMap`),this.keyStatusMap_.set(s,r)}updatePlaylistByKeyStatus(e,r){this.addKeyStatus_(e,r),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const Pqe=(t,e,r)=>n=>{const i=t.main.playlists[e],s=I6(i),o=TC(i);return typeof n>"u"?o:(n?delete i.disabled:i.disabled=!0,n!==o&&!s&&(r(),n?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),n)};class kqe{constructor(e,r,n){const{playlistController_:i}=e,s=i.fastQualityChange_.bind(i);if(r.attributes){const o=r.attributes.RESOLUTION;this.width=o&&o.width,this.height=o&&o.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=u2(i.main(),r),this.playlist=r,this.id=n,this.enabled=Pqe(e.playlists,r.id,s)}}const Iqe=function(t){t.representations=()=>{const e=t.playlistController_.main(),r=m1(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return r?r.filter(n=>!I6(n)).map((n,i)=>new kqe(t,n,n.id)):[]}},IV=["seeking","seeked","pause","playing","error"];class Oqe{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Pu("PlaybackWatcher"),this.logger_("initialize");const r=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),o=this.playlistController_,a=["main","subtitle","audio"],l={};a.forEach(d=>{l[d]={reset:()=>this.resetSegmentDownloads_(d),updateend:()=>this.checkSegmentDownloads_(d)},o[`${d}SegmentLoader_`].on("appendsdone",l[d].updateend),o[`${d}SegmentLoader_`].on("playlistupdate",l[d].reset),this.tech_.on(["seeked","seeking"],l[d].reset)});const u=d=>{["main","audio"].forEach(f=>{o[`${f}SegmentLoader_`][d]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(IV,s),this.tech_.on("canplay",n),this.tech_.one("play",r),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(IV,s),this.tech_.off("canplay",n),this.tech_.off("play",r),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(d=>{o[`${d}SegmentLoader_`].off("appendsdone",l[d].updateend),o[`${d}SegmentLoader_`].off("playlistupdate",l[d].reset),this.tech_.off(["seeked","seeking"],l[d].reset)}),this.checkCurrentTimeTimeout_&&Ze.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&Ze.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=Ze.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const r=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=r.buffered_()}checkSegmentDownloads_(e){const r=this.playlistController_,n=r[`${e}SegmentLoader_`],i=n.buffered_(),s=bGe(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,s){this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:m0(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&r.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===e&&(!r.length||e+Xc>=r.end(r.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const r=this.seekable(),n=this.tech_.currentTime(),i=this.afterSeekableWindow_(r,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(i&&(s=r.end(r.length-1)),this.beforeSeekableWindow_(r,n)){const p=r.start(0);s=p+(p===r.end(0)?0:Xc)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${Qte(r)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const o=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),l=o.audioBuffer?o.audioBuffered():null,u=o.videoBuffer?o.videoBuffered():null,d=this.media(),f=d.partTargetDuration?d.partTargetDuration:(d.targetDuration-qc)*2,h=[l,u];for(let p=0;p<h.length;p++){if(!h[p])continue;if(P6(h[p],n)<f)return!1}const g=mx(a,n);return g.length===0?!1:(s=g.start(0)+Xc,this.logger_(`Buffered region starts (${g.start(0)})  just beyond seek point (${n}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),r=this.tech_.buffered(),n=rg(r,e);if(n.length&&e+3<=n.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,r)){const a=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${r}. Seeking to live point (seekable end) ${a}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:r}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const o=mx(i,r);return o.length>0?(this.logger_(`Stopped at ${r} and seeking to ${o.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(r),!0):!1}afterSeekableWindow_(e,r,n,i=!1){if(!e.length)return!1;let s=e.end(e.length-1)+Xc;const o=!n.endList,a=typeof n.partTargetDuration=="number";return o&&(a||i)&&(s=e.end(e.length-1)+n.targetDuration*3),r>s}beforeSeekableWindow_(e,r){return!!(e.length&&e.start(0)>0&&r<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:r,currentTime:n}){if(!e)return;let i;if(e.length&&r.length){const s=rg(e,n-3),o=rg(e,n),a=rg(r,n);a.length&&!o.length&&s.length&&(i={start:s.end(0),end:a.end(0)})}else mx(e,n).length||(i=this.gapFromVideoUnderflow_(e,n));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${n}`),!0):!1}skipTheGap_(e){const r=this.tech_.buffered(),n=this.tech_.currentTime(),i=mx(r,n);this.resetTimeUpdate_(),!(i.length===0||n!==e)&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+qc),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(e,r){const n=vGe(e);for(let i=0;i<n.length;i++){const s=n.start(i),o=n.end(i);if(r-s<4&&r-s>2)return{start:s,end:o}}return null}}const Dqe={errorInterval:30,getSource(t){const r=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(r)}},Bre=function(t,e){let r=0,n=0;const i=Ai(Dqe,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){n&&t.currentTime(n)},o=function(d){d!=null&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(d),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},a=function(){if(Date.now()-r<i.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){Ft.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return r=Date.now(),i.getSource.call(t,o)},l=function(){t.off("loadedmetadata",s),t.off("error",a),t.off("dispose",l)},u=function(d){l(),Bre(t,d)};t.on("error",a),t.on("dispose",l),t.reloadSourceOnError=u},Mqe=function(t){Bre(this,t)};var Ure="3.10.0",Rqe="7.0.2",$qe="1.3.0",Lqe="7.1.0",Fqe="4.0.1";const ws={PlaylistLoader:ng,Playlist:qa,utils:GGe,STANDARD_PLAYLIST_SELECTOR:yV,INITIAL_PLAYLIST_SELECTOR:MWe,lastBandwidthSelector:yV,movingAverageBandwidthSelector:OWe,comparePlaylistBandwidth:M6,comparePlaylistResolution:IWe,xhr:pre()};Object.keys(_o).forEach(t=>{Object.defineProperty(ws,t,{get(){return Ft.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),_o[t]},set(e){if(Ft.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){Ft.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}_o[t]=e}})});const Vre="videojs-vhs",zre=function(t,e){const r=e.media();let n=-1;for(let i=0;i<t.length;i++)if(t[i].id===r.id){n=i;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},Nqe=function(t,e){e.representations().forEach(r=>{t.addQualityLevel(r)}),zre(t,e.playlists)};ws.canPlaySource=function(){return Ft.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const Bqe=(t,e,r)=>{if(!t)return t;let n={};e&&e.attributes&&e.attributes.CODECS&&(n=ST(Rc(e.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(n.audio=r.attributes.CODECS);const i=ib(n.video),s=ib(n.audio),o={};for(const a in t)o[a]={},s&&(o[a].audioContentType=s),i&&(o[a].videoContentType=i),e.contentProtection&&e.contentProtection[a]&&e.contentProtection[a].pssh&&(o[a].pssh=e.contentProtection[a].pssh),typeof t[a]=="string"&&(o[a].url=t[a]);return Ai(t,o)},Uqe=(t,e)=>t.reduce((r,n)=>{if(!n.contentProtection)return r;const i=e.reduce((s,o)=>{const a=n.contentProtection[o];return a&&a.pssh&&(s[o]={pssh:a.pssh}),s},{});return Object.keys(i).length&&r.push(i),r},[]),Vqe=({player:t,sourceKeySystems:e,audioMedia:r,mainPlaylists:n})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const i=r?n.concat([r]):n,s=Uqe(i,Object.keys(e)),o=[],a=[];return s.forEach(l=>{a.push(new Promise((u,d)=>{t.tech_.one("keysessioncreated",u)})),o.push(new Promise((u,d)=>{t.eme.initializeMediaKeys({keySystems:l},f=>{if(f){d(f);return}u()})}))}),Promise.race([Promise.all(o),Promise.race(a)])},zqe=({player:t,sourceKeySystems:e,media:r,audioMedia:n})=>{const i=Bqe(e,r,n);return i?(t.currentSource().keySystems=i,i&&!t.eme?(Ft.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},jre=()=>{if(!Ze.localStorage)return null;const t=Ze.localStorage.getItem(Vre);if(!t)return null;try{return JSON.parse(t)}catch{return null}},jqe=t=>{if(!Ze.localStorage)return!1;let e=jre();e=e?Ai(e,t):t;try{Ze.localStorage.setItem(Vre,JSON.stringify(e))}catch{return!1}return e},Hqe=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,Hre=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},Gre=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},Wre=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},qre=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};ws.supportsNativeHls=function(){if(!yr||!yr.createElement)return!1;const t=yr.createElement("video");return Ft.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(r){return/maybe|probably/i.test(t.canPlayType(r))}):!1}();ws.supportsNativeDash=function(){return!yr||!yr.createElement||!Ft.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(yr.createElement("video").canPlayType("application/dash+xml"))}();ws.supportsTypeNatively=t=>t==="hls"?ws.supportsNativeHls:t==="dash"?ws.supportsNativeDash:!1;ws.isSupported=function(){return Ft.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};ws.xhr.onRequest=function(t){Hre(ws.xhr,t)};ws.xhr.onResponse=function(t){Gre(ws.xhr,t)};ws.xhr.offRequest=function(t){Wre(ws.xhr,t)};ws.xhr.offResponse=function(t){qre(ws.xhr,t)};const Gqe=Ft.getComponent("Component");class Xre extends Gqe{constructor(e,r,n){if(super(r,n.vhs),typeof n.initialBandwidth=="number"&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=Pu("VhsHandler"),r.options_&&r.options_.playerId){const i=Ft.getPlayer(r.options_.playerId);this.player_=i}if(this.tech_=r,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(yr,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const s=yr.fullscreenElement||yr.webkitFullscreenElement||yr.mozFullScreenElement||yr.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Ai(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const r=jre();r&&r.bandwidth&&(this.options_.bandwidth=r.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),r&&r.throughput&&(this.options_.throughput=r.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=_o.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===_o.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(r=>{typeof this.source_[r]<"u"&&(this.options_[r]=this.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}setOptions(e={}){this.setOptions_(e)}src(e,r){if(!e)return;this.setOptions_(),this.options_.src=Hqe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=ws,this.options_.sourceType=qJ(r),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.playlistController_=new Aqe(this.options_);const n=Ai({liveRangeSafeTimeDelta:Xc},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new Oqe(n),this.playlistController_.on("error",()=>{const s=Ft.players[this.tech_.options_.playerId];let o=this.playlistController_.error;typeof o=="object"&&!o.code?o.code=3:typeof o=="string"&&(o={message:o,code:3}),s.error(o)});const i=this.options_.bufferBasedABR?ws.movingAverageBandwidthSelector(.55):ws.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=ws.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const o=Ze.navigator.connection||Ze.navigator.mozConnection||Ze.navigator.webkitConnection,a=1e7;if(this.options_.useNetworkInformationApi&&o){const l=o.downlink*1e3*1e3;l>=a&&s>=a?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let o;return this.throughput>0?o=1/this.throughput:o=0,Math.floor(1/(s+o))},set(){Ft.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>m0(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>m0(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&jqe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{Iqe(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=Ze.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),Vqe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(r=>{this.logger_("error while creating EME key session",r),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,r=zqe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",n=>{this.playlistController_.updatePlaylistByKeyStatus(n.keyId,n.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!r){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=Ft.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{Nqe(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{zre(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":Ure,"mux.js":Rqe,"mpd-parser":$qe,"m3u8-parser":Lqe,"aes-decrypter":Fqe}}version(){return this.constructor.version()}canChangeType(){return Lre.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&Ze.URL.revokeObjectURL&&(Ze.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,r){return QGe({playlist:this.playlistController_.media(),time:e,callback:r})}seekToProgramTime(e,r,n=!0,i=2){return yre({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:r})}setupXhrHooks_(){this.xhr.onRequest=e=>{Hre(this.xhr,e)},this.xhr.onResponse=e=>{Gre(this.xhr,e)},this.xhr.offRequest=e=>{Wre(this.xhr,e)},this.xhr.offResponse=e=>{qre(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}}const CT={name:"videojs-http-streaming",VERSION:Ure,canHandleSource(t,e={}){const r=Ai(Ft.options,e);return CT.canPlayType(t.type,r)},handleSource(t,e,r={}){const n=Ai(Ft.options,r);return e.vhs=new Xre(t,e,n),e.vhs.xhr=pre(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const r=qJ(t);if(!r)return"";const n=CT.getOverrideNative(e);return!ws.supportsTypeNatively(r)||n?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,r=!(Ft.browser.IS_ANY_SAFARI||Ft.browser.IS_IOS),{overrideNative:n=r}=e;return n}},Wqe=()=>Xw("avc1.4d400d,mp4a.40.2");Wqe()&&Ft.getTech("Html5").registerSourceHandler(CT,0);Ft.VhsHandler=Xre;Ft.VhsSourceHandler=CT;Ft.Vhs=ws;Ft.use||Ft.registerComponent("Vhs",ws);Ft.options.vhs=Ft.options.vhs||{};(!Ft.getPlugin||!Ft.getPlugin("reloadSourceOnError"))&&Ft.registerPlugin("reloadSourceOnError",Mqe);const qqe=rt({__name:"VideoPlayer",setup(t,{expose:e}){Un(()=>{n.value=Ft(r.value)}),Qh(()=>{n.value&&n.value.dispose()});const r=ye();let n=ye();return e({open:()=>{n.value||(n.value=Ft(r.value)),n.value&&n.value.load()},pause:()=>{n.value&&n.value.pause()},src:a=>{n.value&&n.value.src(a)}}),(a,l)=>(he(),Ue("video",{ref_key:"rVideoPlayer",ref:r,controls:"",class:"video-js vjs-default-skin"},null,512))}}),Xqe=He("div",{class:"el-upload__tip"}," upload anything ",-1),Yqe=He("span",null,"need to connect to s3 from other platform?",-1),Kqe={class:"dialog-footer"},Zqe=He("span",null,"need to save your s3 info on local device?",-1),Qqe={class:"dialog-footer"},Jqe=He("span",null,"need secret to load exist s3 Info",-1),eXe={class:"dialog-footer"},tXe=rt({__name:"Storage",setup(t,{expose:e}){const r=ye(null),n=ye(),i=ye(!1),s=ye(!1),o=ye(!1),a=ye(!1),l=ye(!1),u=ye(!1),d=ye(!1),f=ye(!1),h=ye(""),g=ye(!0),p=ye(!1),v=ye(!1),b=ye("");let S=()=>({accessKey:"",accessSecret:"",endpoint:"",region:"",platform:"default"}),T=vn(S());const P=vn({files:[],s3InfoList:[]}),D=ye([]),L={bucket:Pe.bucket,idToken:Pe.id_token,mode:"stream"},j={Authorization:"Bearer "+Pe.access_token},te=ot=>{let _e=ot.size/1024;return _e>1024?(_e=_e/1024,_e>1024?(_e=_e/1024,_e.toFixed(1)+"GB"):_e.toFixed(1)+"MB"):_e.toFixed(1)+"kb"},se=(ot,_e)=>{ot&&Dt()},q=async ot=>{await ti.prompt("keep the below empty if not","need encrypt by yourself?",{inputValue:"",confirmButtonText:"continue",showCancelButton:!1}).then(({value:_e,action:ze})=>{p.value=!0,b.value=_e})},X=(ot,_e)=>ti.confirm(`Cancel the transfer of ${ot.name} ?`).then(()=>!0,()=>!1),Q=async(ot,_e,ze,ke)=>{let me;if(g.value)me=await N7e(Pe.bucket,ot);else{const De={baseURL:Wt.storageUrl,url:"/storage/object",method:"POST",data:{bucket:Pe.bucket,key:ot,accessKey:Pe.accessKey,accessSecret:Pe.accessSecret,endpoint:Pe.endpoint,region:Pe.region,platform:Pe.platform,idToken:Pe.id_token,sha256:_e,partCount:ze,partNum:ke},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/json"}};await lr(De).then(function(Ae){me=Ae.data})}return me};async function $(ot,_e){await H();let ze=ot.file.name,ke;if(ke=await Q(ze,"","",""),ke){var De=Math.ceil(ot.file.size/_e);p.value&&b.value!=""&&(ze="encrypt-"+ot.file.name,ke=await _t(ze,ke));let Ae=0;for(const{index:Le,chunk:rr}of ie(ot.file,_e))rr.arrayBuffer().then(async function(c){let xr;if(v.value){const Yr=await UDe(c);if(xr=await Q(ze,Yr,De,Le),xr==""||xr==null)Ae++;else if(Pe.platform!=""&&Pe.platform!="default"&&Pe.platform!="cloudflare"&&ke!=xr)return;Ae==De&&ae(rr,ot.file.name,De,Le,ke,"")}if(p.value&&b.value!=""){const Yr=await wt(c,ot.file.name);ae(Yr,"encrypt-"+ot.file.name,De,Le,ke,"")}else ae(rr,ot.file.name,De,Le,ke,"")})}}const V=async()=>{g.value=!1,await ti.confirm("please choose download method",{confirmButtonText:"proxy",cancelButtonText:"direct"}).then(()=>{g.value=!1}).catch(()=>{g.value=!0})},Y=async()=>{b.value="",await ti.prompt("enter the secret you used when uploading before ","the file upload with secret?",{inputValue:"",confirmButtonText:"continue",showCancelButton:!1}).then(({value:ot,action:_e})=>{b.value=ot})},ee=(ot,_e,ze="application/octet-stream")=>{const ke=new Blob([ot],{type:ze});return new File([ke],_e,{type:ze})},ae=async(ot,_e,ze,ke,me,De)=>{if(g.value)try{L7e(ot,Pe.bucket,_e,me,ke,ze)}catch{await ti.confirm("something wrong with upload throgh direct, u can choose proxy and try again after login").then(()=>{g.value=!1}).catch(()=>{g.value=!0})}else J(ot,_e,ze,ke,me,De)},H=async()=>{v.value=!1,g.value||await ti.confirm("please select upload mode, stream mode can keep upload process(need login)",{confirmButtonText:"stream",cancelButtonText:"direct"}).then(()=>{v.value=!0}).catch(()=>{v.value=!1})},J=(ot,_e,ze,ke,me,De)=>{const Ae={baseURL:Wt.storageUrl,url:"/storage/object",method:"POST",data:{data:ot,bucket:Pe.bucket,key:_e,partCount:ze,partNum:ke,idToken:Pe.id_token,uploadId:me,accessKey:Pe.accessKey,accessSecret:Pe.accessSecret,endpoint:Pe.endpoint,region:Pe.region,platform:Pe.platform,offset:De},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"multipart/form-data"}};v.value&&(Ae.data.mode="stream"),lr(Ae).catch(function(Le){lr(Ae).catch(function(rr){lr(Ae).catch(function(c){B2({title:"Network Error",message:"please click upload and retry",duration:3e3})})})})};function*ie(ot,_e){let ze=0,ke=0;for(;ze<ot.size;){const me=ot.slice(ze,ze+_e);yield{index:ke,chunk:me},ze+=_e,ke++}}const xe=async ot=>{if(ot.file.size>1024*1024*5)await $(ot,1024*1024*5);else{let _e;p.value&&b.value!=""?await ot.file.arrayBuffer().then(async function(ze){const ke=await wt(ze,ot.file.name);_e=ee(ke,"encrypt-"+ot.file.name)}):_e=ot.file,g.value?z7e(Pe.bucket,ot.file.name,_e):vt(_e,"")}};let qe,et;const Je=async()=>{let ot;return await lr.get(Pe.endpoint).then(function(_e){(_e.headers["access-control-allow-origin"]=="*"||_e.headers["access-control-allow-origin"]==Wt.redirectUrl)&&(ot=!0)}).catch(()=>{}),ot},lt=async()=>{if(et>1)return!1;if(!qe){if(await Je())return!0;et++;try{const ot=await Re(Pe.bucket);if(ot&&ot.data&&ot.data.length>0)for(let _e of ot.data)_e.allowedOrigins&&_e.allowedOrigins.includes(Wt.redirectUrl)&&(qe=!0)}catch(ot){console.error(ot),qe=!1}}if(!qe){et++;const ot={baseURL:Wt.storageUrl,url:"/storage/object/cors",method:"PUT",data:{bucket:Pe.bucket,idToken:Pe.id_token,accessKey:Pe.accessKey,accessSecret:Pe.accessSecret,endpoint:Pe.endpoint,region:Pe.region,platform:Pe.platform,corsRules:[{allowedHeaders:["*"],allowedMethods:["GET","PUT","POST","DELETE"],allowedOrigins:[Wt.redirectUrl],exposeHeaders:["ETag"],maxAgeSeconds:3600}]},headers:{Authorization:"Bearer "+Pe.access_token}};await lr(ot).then(function(_e){_e.status==200&&(qe=!0)})}return qe},Re=async ot=>{const _e={baseURL:Wt.storageUrl,url:"/storage/object/cors",method:"POST",data:{bucket:ot,idToken:Pe.id_token,accessKey:Pe.accessKey,accessSecret:Pe.accessSecret,endpoint:Pe.endpoint,region:Pe.region,platform:Pe.platform},headers:{Authorization:"Bearer "+Pe.access_token}};return await lr(_e)},wt=async(ot,_e)=>{let ze;return ze=(await KA(ot,b.value,"AES-GCM")).cipher,ze},vt=(ot,_e)=>{const ze={baseURL:Wt.storageUrl,url:"/storage/object",method:"POST",data:{data:ot,key:_e,bucket:Pe.bucket,idToken:Pe.id_token,accessKey:Pe.accessKey,accessSecret:Pe.accessSecret,endpoint:Pe.endpoint,region:Pe.region,platform:Pe.platform},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"multipart/form-data"}};lr(ze)},pt=async()=>{if(T.platform=="default"?Pe.platform="":Pe.platform=T.platform,Pe.accessKey=T.accessKey,Pe.accessSecret=T.accessSecret,Pe.endpoint=T.endpoint,T.platform=="cloudflare"?(Pe.region="auto",T.region="auto"):Pe.region=T.region,T.accessSecret!=""){if(Pe.sub!=""){if(qe=!1,!await lt()){ti.alert("can not auto config cors, please try to config by maunal");return}}else if(!await Je()){ti.alert("the bucket is not support cors, please try to config by maunal or login for auto config");return}Pe.platform=="cloudflare"&&(Pe.endpoint=T.endpoint+"/"+Pe.sub),Jl(!0),await j7e()?(Pe.platform=="cloudflare"&&(Pe.endpoint=T.endpoint,Jl(!0)),o.value=!0):ti.alert("check failed, please ensure and try again")}else u.value=!1,a.value=!0,Dt()},Ut=async()=>{if(T.platform=="default"){ti.alert("please load first");return}o.value=!1;const ot=await Q1("s3",1,["s3","aes"]),_e=await KA(T.accessSecret,h.value,"AES-GCM"),ze=YA(_e.cipher);T.accessSecret=ze,await qA(ot,"aes","cipher-"+T.accessKey,ze,"readwrite",""),await qA(ot,"s3",T.accessKey,JSON.stringify(T),"readwrite","put"),await Ke(),f.value=!1,u.value=!1,a.value=!0,Object.assign(T,S())},yt=async ot=>{h.value&&ct(ot.accessKey,n),Pe.endpoint=ot.endpoint,Pe.region=ot.region,Pe.platform=ot.platform,Pe.accessKey=ot.accessKey,Pe.accessSecret||(h.value="",f.value=!0)},le=()=>{f.value=!1,h.value="",Pe.platform="",Dt(),a.value=!0},Oe=async()=>{o.value=!1,u.value=!1,Pe.accessKey=T.accessKey,Pe.endpoint=T.endpoint,Pe.region=T.region,Pe.platform=T.platform,await ct("",n),Object.assign(T,S())},nt=async(ot,_e)=>{const ze=await Q1("s3",1,["s3","aes"]);await XA(ze,"aes","cipher-"+_e.accessKey,"readwrite"),await XA(ze,"s3",_e.accessKey,"readwrite"),P.s3InfoList.splice(ot,1)},Ke=async()=>{const ot=await Q1("s3",1,["s3","aes"]),_e=await J1(ot,"s3","","readwrite","all");var ze=JSON.stringify(_e).replace(/"{/g,"{").replace(/}"/g,"}").replace(/\\/g,"");const ke=JSON.parse(ze);return P.s3InfoList=ke,ot},ct=async(ot,_e)=>{if(P.files=[],Pe.bucket||(Pe.bucket=Pe.sub),Pe.platform=="cloudflare"){if(Pe.sub!=""){if(!await lt()){ti.alert("something wrong with bucket, if the bucket not exist, please try again, or check bucket cors by maunal");return}}else if(!await Je()){ti.alert("the bucket is not support cors, please try to config by maunal or login for auto config");return}}if(_e&&_e){const ze=await Ke();if(P.s3InfoList.length>0){Pe.platform=="default"&&(Pe.platform=P.s3InfoList[0].platform,Pe.bucket=Pe.sub);let ke;if(ot?ke=await J1(ze,"aes","cipher-"+ot,"readwrite",""):ke=await J1(ze,"aes","cipher-"+P.s3InfoList[0].accessKey,"readwrite",""),ke)try{if(!h.value){f.value=!0,Pe.accessSecret="";return}const me=await zDe(VDe(ke),h.value,"AES-GCM"),De=new TextDecoder().decode(me);if(De&&(f.value=!1,Pe.accessSecret=De),Pe.accessSecret){if(P.s3InfoList.length>1)if(d.value)f.value=!1,s.value=!1;else{Pe.accessKey=P.s3InfoList[0].accessKey,Pe.platform=P.s3InfoList[0].platform,Pe.endpoint=P.s3InfoList[0].endpoint,Pe.region=P.s3InfoList[0].region,s.value=!0,d.value=!0,Jl(!0);return}P.s3InfoList.length==1&&(Pe.accessKey=P.s3InfoList[0].accessKey,Pe.platform=P.s3InfoList[0].platform,Pe.endpoint=P.s3InfoList[0].endpoint,Pe.region=P.s3InfoList[0].region,s.value=!1)}else Pe.platform="",Pe.accessKey="",Pe.endpoint="",Pe.region=""}catch{h.value&&(ti.alert("incorrect secret, will open default s3, please try again later by load button"),h.value="",f.value=!0,Pe.accessSecret="",Pe.platform="",Pe.accessKey="",Pe.endpoint="",Pe.region=""),d.value||(f.value=!1),a.value=!0,Dt();return}d.value=!0,a.value=!0,Dt(),Jl(!0)}else Pe.platform=="default"?(u.value=!0,Pe.platform=""):(a.value=!0,Dt(),u.value=!1)}},Ot=async()=>{d.value?(a.value=!0,Dt()):await ct("",n)},Dt=async()=>{let ot;if(g.value){const _e=await B7e(Pe.bucket);if(_e&&_e.length>0){const ze=_e.filter(ke=>!ke.key.startsWith(Pe.bucket));P.files=ze}ot=_e}else{const _e={baseURL:Wt.storageUrl,url:"/storage/object/list",method:"POST",data:{bucket:Pe.bucket,idToken:Pe.id_token,accessKey:Pe.accessKey,accessSecret:Pe.accessSecret,endpoint:Pe.endpoint,region:Pe.region,platform:Pe.platform},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/json"}};await lr(_e).then(function(ze){if(ze.data){const ke=ze.data;if(ke&&ke.length>0){const me=ke.filter(De=>!De.key.startsWith(Pe.bucket));P.files=me}}ot=ze.data})}return ot},_t=async(ot,_e)=>{let ze;const ke={baseURL:Wt.storageUrl,url:"/storage/object/abort",method:"POST",data:{bucket:Pe.bucket,key:ot,idToken:Pe.id_token,accessKey:Pe.accessKey,accessSecret:Pe.accessSecret,endpoint:Pe.endpoint,region:Pe.region,platform:Pe.platform,uploadId:_e},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/json"}};return await lr(ke).then(async function(){ze=await Q(ot,"","","")}),ze},Mt=async(ot,_e)=>{if(g.value)await V7e(Pe.bucket,_e.key)&&P.files.splice(ot,1);else{const ze={baseURL:Wt.storageUrl,url:"/storage/object/delete",method:"POST",data:{bucket:Pe.bucket,key:_e.key,idToken:Pe.id_token,accessKey:Pe.accessKey,accessSecret:Pe.accessSecret,endpoint:Pe.endpoint,region:Pe.region,platform:Pe.platform},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/json"}};lr(ze).then(function(ke){ke.status==200&&P.files.splice(ot,1)})}},Rt=ot=>{tt.value=ot,Zt.splice(0,Zt.length);for(let _e of tt.value)Zt.push(_e.key)},tt=ye([]),Zt=[],mt=async()=>{if(g.value){let ot=[];Zt.map(ze=>{const ke={Key:ze};ot.push(ke)}),(await U7e(Pe.bucket,ot)).length==Zt.length&&(Zt.forEach(function(ze,ke){P.files.forEach(function(me,De){ze===me.key&&P.files.splice(De,1)})}),P.files.length==0&&Dt())}else{const ot={baseURL:Wt.storageUrl,url:"/storage/object/delete",method:"POST",data:{bucket:Pe.bucket,key:Zt.toString(),idToken:Pe.id_token,accessKey:Pe.accessKey,accessSecret:Pe.accessSecret,endpoint:Pe.endpoint,region:Pe.region,platform:Pe.platform},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/json"}};lr(ot).then(function(_e){var ze=_e.data;ze==Zt.length&&(Zt.forEach(function(ke,me){P.files.forEach(function(De,Ae){ke===De.key&&P.files.splice(Ae,1)})}),P.files.length==0&&Dt())})}},Tt=async(ot,_e)=>{b.value="",ot.key.startsWith("encrypt-")&&await Y(),Pe.sub&&await V();let ze;if(b.value&&!g.value){const ke={baseURL:Wt.apiUrl,url:"/public/key",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};await lr(ke).then(async function(me){ze=me.data;const De=crypto.getRandomValues(new Uint8Array(16)),Ae=await KA(b.value,De,"AES-GCM");b.value=encodeURIComponent(YA(Ae.cipher));const Le={baseURL:Wt.messageUrl,url:"/message",method:"PUT",data:{key:ze,value:YA(De)}};await lr(Le).then(async function(rr){rr.status==200&&await mr(ot,ze,_e)})})}else await mr(ot,ze,_e)},mr=async(ot,_e,ze)=>{var me,De;let ke;if(g.value){if(b.value){const Ae=await Q1("s3",1,["s3","aes"]),Le=await I8(b.value,"AES-GCM");await J1(Ae,"aes","key-"+ot.key,"readwrite","")&&await XA(Ae,"aes","key-"+ot.key,"readwrite"),await qA(Ae,"aes","key-"+ot.key,Le,"readwrite","")}ke=await F7e(Pe.bucket,ot.key)}else if(await lr({method:"POST",url:Wt.storageUrl+"/storage/object/url",data:{bucket:Pe.bucket,key:ot.key,idToken:Pe.id_token,accessKey:Pe.accessKey,accessSecret:Pe.accessSecret,endpoint:Pe.endpoint,region:Pe.region,platform:Pe.platform,secret:_e},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/json"}}).then(async function(Ae){Ae.status==200&&(ke=Ae.data)}),ke&&b.value){let Ae=5242880;ke=ke+"&secret="+b.value+"&offset="+Ae}if(ke)if(ze){(me=r.value)==null||me.src({type:"video/mp4",src:ke}),(De=r.value)==null||De.open(),i.value=!0;return}else{const Ae=document.createElement("a");Ae.style.display="none",Ae.download=ot.key,g.value&&b.value?fetch(ke).then(async function(Le){Ae.href=URL.createObjectURL(await Le.blob()),document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(ke)}).catch(Le=>console.log(Le)):(Ae.href=ke,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae))}},Bt=()=>{var ot;(ot=r.value)==null||ot.open()};Gt(i,ot=>{var _e;ot||(_e=r.value)==null||_e.pause()});function Ir(ot){return Jr(ot.timestamp*1e3).format("YYYY-MM-DD HH:mm:ss")}return e({initS3:Ot}),(ot,_e)=>{const ze=Zn,ke=Wi,me=Yu,De=ba,Ae=UY,Le=Vu,rr=Fv,c=Sa,xr=as,Yr=yd;return he(),Ue(Ar,null,[N(De,{modelValue:y(a),"onUpdate:modelValue":_e[7]||(_e[7]=fe=>Kr(a)?a.value=fe:null),width:y(Ct).dialogWidth},{default:ne(()=>[N(ze,{type:"danger",onClick:_e[0]||(_e[0]=fe=>mt())},{default:ne(()=>[It("DeleteSelect")]),_:1}),N(ze,{type:"",onClick:_e[1]||(_e[1]=fe=>l.value=!0)},{default:ne(()=>[It("upload")]),_:1}),N(ze,{type:"",onClick:_e[2]||(_e[2]=fe=>u.value=!0)},{default:ne(()=>[It("connect")]),_:1}),N(ze,{type:"",onClick:_e[3]||(_e[3]=fe=>s.value=!0)},{default:ne(()=>[It("load")]),_:1}),N(ze,{onClick:_e[4]||(_e[4]=fe=>Dt())},{default:ne(()=>[It("refresh")]),_:1}),y(g)?(he(),At(ze,{key:0,type:"success",onClick:_e[5]||(_e[5]=fe=>g.value=!1)},{default:ne(()=>[It("mode: direct ")]),_:1})):xt("",!0),y(g)?xt("",!0):(he(),At(ze,{key:1,type:"primary",onClick:_e[6]||(_e[6]=fe=>g.value=!0)},{default:ne(()=>[It("mode: proxy ")]),_:1})),N(me,{data:y(P).files,onSelectionChange:Rt},{default:ne(()=>[N(ke,{type:"selection"}),N(ke,{property:"key",label:"file",width:"auto"}),N(ke,{property:"timestamp",label:"lastModified",formatter:Ir,sortable:""}),N(ke,{property:"size",label:"size",formatter:te}),N(ke,{label:"Operations"},{default:ne(fe=>[N(ze,{size:"small",type:"danger",onClick:w=>Mt(fe.$index,fe.row)},{default:ne(()=>[It("Delete")]),_:2},1032,["onClick"]),N(ze,{size:"small",type:"primary",onClick:w=>Tt(fe.row,!1)},{default:ne(()=>[It("Download")]),_:2},1032,["onClick"]),fe.row.key.endsWith("mp4")?(he(),At(ze,{key:0,size:"small",type:"primary",onClick:w=>(Tt(fe.row,!0),i.value=!0)},{default:ne(()=>[It("Preview")]),_:2},1032,["onClick"])):xt("",!0)]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),N(De,{modelValue:y(l),"onUpdate:modelValue":_e[9]||(_e[9]=fe=>Kr(l)?l.value=fe:null),width:y(Ct).dialogWidth},{default:ne(()=>[N(Ae,{"file-list":y(D),"onUpdate:fileList":_e[8]||(_e[8]=fe=>Kr(D)?D.value=fe:null),class:"upload-demo",headers:j,name:"data",data:L,"auto-upload":!0,multiple:"","before-upload":q,"before-remove":X,limit:10,"on-success":se,"http-request":xe},{tip:ne(()=>[Xqe]),default:ne(()=>[N(ze,{type:"primary"},{default:ne(()=>[It("Click to upload")]),_:1})]),_:1},8,["file-list"])]),_:1},8,["modelValue","width"]),N(De,{modelValue:y(s),"onUpdate:modelValue":_e[13]||(_e[13]=fe=>Kr(s)?s.value=fe:null),width:y(Ct).dialogWidth},{default:ne(()=>[N(ze,{type:"",onClick:_e[10]||(_e[10]=fe=>Ke())},{default:ne(()=>[It("refresh")]),_:1}),N(me,{data:y(P).s3InfoList},{default:ne(()=>[N(ke,{property:"accessKey",label:"accessKey"}),N(ke,{property:"accessSecret",label:"accessSecret"}),N(ke,{property:"endpoint",label:"endpoint"}),N(ke,{property:"region",label:"region"}),N(ke,{property:"platform",label:"platform"}),N(ke,{label:"Operations"},{default:ne(fe=>[N(ze,{size:"small",type:"danger",onClick:w=>nt(fe.$index,fe.row)},{default:ne(()=>[It("Delete")]),_:2},1032,["onClick"]),y(Pe).accessKey!=fe.row.accessKey?(he(),At(ze,{key:0,size:"small",type:"primary",onClick:w=>yt(fe.row)},{default:ne(()=>[It("select")]),_:2},1032,["onClick"])):xt("",!0),y(Pe).accessKey==fe.row.accessKey?(he(),At(ze,{key:1,size:"small",type:"info",onClick:_e[11]||(_e[11]=w=>(Dt(),a.value=!0,s.value=!1))},{default:ne(()=>[It("open")]),_:1})):xt("",!0),N(ze,{size:"small",type:"primary",onClick:_e[12]||(_e[12]=w=>(Kr(qe)?qe.value=!1:qe=!1,f.value=!0))},{default:ne(()=>[It("change bucket")]),_:1})]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),N(De,{modelValue:y(u),"onUpdate:modelValue":_e[21]||(_e[21]=fe=>Kr(u)?u.value=fe:null),width:y(Ct).dialogWidth,"align-center":""},{footer:ne(()=>[He("span",Kqe,[N(ze,{onClick:_e[19]||(_e[19]=fe=>(a.value=!0,u.value=!1))},{default:ne(()=>[It("Cancel")]),_:1}),N(ze,{type:"primary",onClick:_e[20]||(_e[20]=fe=>pt())},{default:ne(()=>[It(" confirm ")]),_:1})])]),default:ne(()=>[Yqe,N(Yr,{model:y(T)},{default:ne(()=>[N(c,{label:"platform","label-width":y(Ct).labelWidth},{default:ne(()=>[N(rr,{modelValue:y(T).platform,"onUpdate:modelValue":_e[14]||(_e[14]=fe=>y(T).platform=fe),placeholder:"default","allow-create":!0,filterable:!0},{default:ne(()=>[N(Le,{label:"cloudflare R2",value:"cloudflare"}),N(Le,{label:"synology C2",value:"c2"}),N(Le,{label:"oracle",value:"oracle"}),N(Le,{label:"minio",value:"minio"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),N(c,{label:"accessKey","label-width":y(Ct).labelWidth},{default:ne(()=>[N(xr,{modelValue:y(T).accessKey,"onUpdate:modelValue":_e[15]||(_e[15]=fe=>y(T).accessKey=fe)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(c,{label:"accessSecret","label-width":y(Ct).labelWidth},{default:ne(()=>[N(xr,{modelValue:y(T).accessSecret,"onUpdate:modelValue":_e[16]||(_e[16]=fe=>y(T).accessSecret=fe)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(c,{label:"endpoint","label-width":y(Ct).labelWidth},{default:ne(()=>[N(xr,{modelValue:y(T).endpoint,"onUpdate:modelValue":_e[17]||(_e[17]=fe=>y(T).endpoint=fe)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(c,{label:"region","label-width":y(Ct).labelWidth},{default:ne(()=>[N(xr,{modelValue:y(T).region,"onUpdate:modelValue":_e[18]||(_e[18]=fe=>y(T).region=fe)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),N(De,{modelValue:y(o),"onUpdate:modelValue":_e[24]||(_e[24]=fe=>Kr(o)?o.value=fe:null),width:y(Ct).dialogWidth,"align-center":""},{footer:ne(()=>[He("span",Qqe,[N(ze,{onClick:_e[22]||(_e[22]=fe=>Oe())},{default:ne(()=>[It("Cancel")]),_:1}),N(ze,{type:"primary",onClick:_e[23]||(_e[23]=fe=>f.value=!0)},{default:ne(()=>[It(" Confirm ")]),_:1})])]),default:ne(()=>[Zqe]),_:1},8,["modelValue","width"]),N(De,{modelValue:y(f),"onUpdate:modelValue":_e[30]||(_e[30]=fe=>Kr(f)?f.value=fe:null),width:y(Ct).dialogWidth,"align-center":""},{footer:ne(()=>[He("span",eXe,[N(ze,{onClick:_e[27]||(_e[27]=fe=>le())},{default:ne(()=>[It("Cancel")]),_:1}),N(ze,{type:"primary",onClick:_e[28]||(_e[28]=fe=>ct(y(Pe).accessKey,y(n)))},{default:ne(()=>[It("load")]),_:1}),N(ze,{type:"primary",onClick:_e[29]||(_e[29]=fe=>Ut())},{default:ne(()=>[It("save")]),_:1})])]),default:ne(()=>[Jqe,N(Yr,{model:y(T),ref_key:"secretformRef",ref:n},{default:ne(()=>[N(c,{label:"secret","label-width":y(Ct).labelWidth,required:!0},{default:ne(()=>[N(xr,{modelValue:y(h),"onUpdate:modelValue":_e[25]||(_e[25]=fe=>Kr(h)?h.value=fe:null)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(c,{label:"bucket","label-width":y(Ct).labelWidth,required:!0},{default:ne(()=>[N(xr,{modelValue:y(Pe).bucket,"onUpdate:modelValue":_e[26]||(_e[26]=fe=>y(Pe).bucket=fe)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),N(De,{modelValue:y(i),"onUpdate:modelValue":_e[32]||(_e[32]=fe=>Kr(i)?i.value=fe:null),width:y(Ct).dialogWidth,"align-center":""},{default:ne(()=>[N(ze,{type:"info",onClick:_e[31]||(_e[31]=fe=>Bt())},{default:ne(()=>[It("reload")]),_:1}),N(qqe,{ref_key:"player",ref:r},null,512)]),_:1},8,["modelValue","width"])],64)}}}),c2=/^[a-z0-9]+(-[a-z0-9]+)*$/,EC=(t,e,r,n="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:n,prefix:l,name:a};return e&&!Qw(u)?null:u}const s=i[0],o=s.split("-");if(o.length>1){const a={provider:n,prefix:o.shift(),name:o.join("-")};return e&&!Qw(a)?null:a}if(r&&n===""){const a={provider:n,prefix:"",name:s};return e&&!Qw(a,r)?null:a}return null},Qw=(t,e)=>t?!!((t.provider===""||t.provider.match(c2))&&(e&&t.prefix===""||t.prefix.match(c2))&&t.name.match(c2)):!1,Yre=Object.freeze({left:0,top:0,width:16,height:16}),AT=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),CC=Object.freeze({...Yre,...AT}),mO=Object.freeze({...CC,body:"",hidden:!1});function rXe(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(r.rotate=n),r}function OV(t,e){const r=rXe(t,e);for(const n in mO)n in AT?n in t&&!(n in r)&&(r[n]=AT[n]):n in e?r[n]=e[n]:n in t&&(r[n]=t[n]);return r}function nXe(t,e){const r=t.icons,n=t.aliases||Object.create(null),i=Object.create(null);function s(o){if(r[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=n[o]&&n[o].parent,l=a&&s(a);l&&(i[o]=[a].concat(l))}return i[o]}return(e||Object.keys(r).concat(Object.keys(n))).forEach(s),i}function iXe(t,e,r){const n=t.icons,i=t.aliases||Object.create(null);let s={};function o(a){s=OV(n[a]||i[a],s)}return o(e),r.forEach(o),OV(t,s)}function Kre(t,e){const r=[];if(typeof t!="object"||typeof t.icons!="object")return r;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),r.push(i)});const n=nXe(t);for(const i in n){const s=n[i];s&&(e(i,iXe(t,i,s)),r.push(i))}return r}const sXe={provider:"",aliases:{},not_found:{},...Yre};function A4(t,e){for(const r in e)if(r in t&&typeof t[r]!=typeof e[r])return!1;return!0}function Zre(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!A4(t,sXe))return null;const r=e.icons;for(const i in r){const s=r[i];if(!i.match(c2)||typeof s.body!="string"||!A4(s,mO))return null}const n=e.aliases||Object.create(null);for(const i in n){const s=n[i],o=s.parent;if(!i.match(c2)||typeof o!="string"||!r[o]&&!n[o]||!A4(s,mO))return null}return e}const DV=Object.create(null);function oXe(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Y0(t,e){const r=DV[t]||(DV[t]=Object.create(null));return r[e]||(r[e]=oXe(t,e))}function R6(t,e){return Zre(e)?Kre(e,(r,n)=>{n?t.icons[r]=n:t.missing.add(r)}):[]}function aXe(t,e,r){try{if(typeof r.body=="string")return t.icons[e]={...r},!0}catch{}return!1}let fb=!1;function Qre(t){return typeof t=="boolean"&&(fb=t),fb}function lXe(t){const e=typeof t=="string"?EC(t,!0,fb):t;if(e){const r=Y0(e.provider,e.prefix),n=e.name;return r.icons[n]||(r.missing.has(n)?null:void 0)}}function uXe(t,e){const r=EC(t,!0,fb);if(!r)return!1;const n=Y0(r.provider,r.prefix);return aXe(n,r.name,e)}function cXe(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),fb&&!e&&!t.prefix){let i=!1;return Zre(t)&&(t.prefix="",Kre(t,(s,o)=>{o&&uXe(s,o)&&(i=!0)})),i}const r=t.prefix;if(!Qw({provider:e,prefix:r,name:"a"}))return!1;const n=Y0(e,r);return!!R6(n,t)}const Jre=Object.freeze({width:null,height:null}),ene=Object.freeze({...Jre,...AT}),dXe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,fXe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function MV(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const n=t.split(dXe);if(n===null||!n.length)return t;const i=[];let s=n.shift(),o=fXe.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*e*r)/r)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");o=!o}}const hXe=t=>t==="unset"||t==="undefined"||t==="none";function pXe(t,e){const r={...CC,...t},n={...ene,...e},i={left:r.left,top:r.top,width:r.width,height:r.height};let s=r.body;[r,n].forEach(p=>{const v=[],b=p.hFlip,S=p.vFlip;let T=p.rotate;b?S?T+=2:(v.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),v.push("scale(-1 1)"),i.top=i.left=0):S&&(v.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),v.push("scale(1 -1)"),i.top=i.left=0);let E;switch(T<0&&(T-=Math.floor(T/4)*4),T=T%4,T){case 1:E=i.height/2+i.top,v.unshift("rotate(90 "+E.toString()+" "+E.toString()+")");break;case 2:v.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:E=i.width/2+i.left,v.unshift("rotate(-90 "+E.toString()+" "+E.toString()+")");break}T%2===1&&(i.left!==i.top&&(E=i.left,i.left=i.top,i.top=E),i.width!==i.height&&(E=i.width,i.width=i.height,i.height=E)),v.length&&(s='<g transform="'+v.join(" ")+'">'+s+"</g>")});const o=n.width,a=n.height,l=i.width,u=i.height;let d,f;o===null?(f=a===null?"1em":a==="auto"?u:a,d=MV(f,l/u)):(d=o==="auto"?l:o,f=a===null?MV(d,u/l):a==="auto"?u:a);const h={},g=(p,v)=>{hXe(v)||(h[p]=v.toString())};return g("width",d),g("height",f),h.viewBox=i.left.toString()+" "+i.top.toString()+" "+l.toString()+" "+u.toString(),{attributes:h,body:s}}const mXe=/\sid="(\S+)"/g,gXe="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let vXe=0;function _Xe(t,e=gXe){const r=[];let n;for(;n=mXe.exec(t);)r.push(n[1]);if(!r.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(s=>{const o=typeof e=="function"?e(s):e+(vXe++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const gO=Object.create(null);function yXe(t,e){gO[t]=e}function vO(t){return gO[t]||gO[""]}function $6(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const L6=Object.create(null),K_=["https://api.simplesvg.com","https://api.unisvg.com"],Jw=[];for(;K_.length>0;)K_.length===1||Math.random()>.5?Jw.push(K_.shift()):Jw.push(K_.pop());L6[""]=$6({resources:["https://api.iconify.design"].concat(Jw)});function bXe(t,e){const r=$6(e);return r===null?!1:(L6[t]=r,!0)}function F6(t){return L6[t]}const xXe=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let RV=xXe();function wXe(t,e){const r=F6(t);if(!r)return 0;let n;if(!r.maxURL)n=0;else{let i=0;r.resources.forEach(o=>{i=Math.max(i,o.length)});const s=e+".json?icons=";n=r.maxURL-i-r.path.length-s.length}return n}function SXe(t){return t===404}const TXe=(t,e,r)=>{const n=[],i=wXe(t,e),s="icons";let o={type:s,provider:t,prefix:e,icons:[]},a=0;return r.forEach((l,u)=>{a+=l.length+1,a>=i&&u>0&&(n.push(o),o={type:s,provider:t,prefix:e,icons:[]},a=l.length),o.icons.push(l)}),n.push(o),n};function EXe(t){if(typeof t=="string"){const e=F6(t);if(e)return e.path}return"/"}const CXe=(t,e,r)=>{if(!RV){r("abort",424);return}let n=EXe(e.provider);switch(e.type){case"icons":{const s=e.prefix,a=e.icons.join(","),l=new URLSearchParams({icons:a});n+=s+".json?"+l.toString();break}case"custom":{const s=e.uri;n+=s.slice(0,1)==="/"?s.slice(1):s;break}default:r("abort",400);return}let i=503;RV(t+n).then(s=>{const o=s.status;if(o!==200){setTimeout(()=>{r(SXe(o)?"abort":"next",o)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?r("abort",s):r("next",i)});return}setTimeout(()=>{r("success",s)})}).catch(()=>{r("next",i)})},AXe={prepare:TXe,send:CXe};function PXe(t){const e={loaded:[],missing:[],pending:[]},r=Object.create(null);t.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let n={provider:"",prefix:"",name:""};return t.forEach(i=>{if(n.name===i.name&&n.prefix===i.prefix&&n.provider===i.provider)return;n=i;const s=i.provider,o=i.prefix,a=i.name,l=r[s]||(r[s]=Object.create(null)),u=l[o]||(l[o]=Y0(s,o));let d;a in u.icons?d=e.loaded:o===""||u.missing.has(a)?d=e.missing:d=e.pending;const f={provider:s,prefix:o,name:a};d.push(f)}),e}function tne(t,e){t.forEach(r=>{const n=r.loaderCallbacks;n&&(r.loaderCallbacks=n.filter(i=>i.id!==e))})}function kXe(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let r=!1;const n=t.provider,i=t.prefix;e.forEach(s=>{const o=s.icons,a=o.pending.length;o.pending=o.pending.filter(l=>{if(l.prefix!==i)return!0;const u=l.name;if(t.icons[u])o.loaded.push({provider:n,prefix:i,name:u});else if(t.missing.has(u))o.missing.push({provider:n,prefix:i,name:u});else return r=!0,!0;return!1}),o.pending.length!==a&&(r||tne([t],s.id),s.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),s.abort))})}))}let IXe=0;function OXe(t,e,r){const n=IXe++,i=tne.bind(null,r,n);if(!e.pending.length)return i;const s={id:n,icons:e,callback:t,abort:i};return r.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(s)}),i}function DXe(t,e=!0,r=!1){const n=[];return t.forEach(i=>{const s=typeof i=="string"?EC(i,e,r):i;s&&n.push(s)}),n}var MXe={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function RXe(t,e,r,n){const i=t.resources.length,s=t.random?Math.floor(Math.random()*i):t.index;let o;if(t.random){let D=t.resources.slice(0);for(o=[];D.length>1;){const L=Math.floor(Math.random()*D.length);o.push(D[L]),D=D.slice(0,L).concat(D.slice(L+1))}o=o.concat(D)}else o=t.resources.slice(s).concat(t.resources.slice(0,s));const a=Date.now();let l="pending",u=0,d,f=null,h=[],g=[];typeof n=="function"&&g.push(n);function p(){f&&(clearTimeout(f),f=null)}function v(){l==="pending"&&(l="aborted"),p(),h.forEach(D=>{D.status==="pending"&&(D.status="aborted")}),h=[]}function b(D,L){L&&(g=[]),typeof D=="function"&&g.push(D)}function S(){return{startTime:a,payload:e,status:l,queriesSent:u,queriesPending:h.length,subscribe:b,abort:v}}function T(){l="failed",g.forEach(D=>{D(void 0,d)})}function E(){h.forEach(D=>{D.status==="pending"&&(D.status="aborted")}),h=[]}function C(D,L,j){const te=L!=="success";switch(h=h.filter(se=>se!==D),l){case"pending":break;case"failed":if(te||!t.dataAfterTimeout)return;break;default:return}if(L==="abort"){d=j,T();return}if(te){d=j,h.length||(o.length?P():T());return}if(p(),E(),!t.random){const se=t.resources.indexOf(D.resource);se!==-1&&se!==t.index&&(t.index=se)}l="completed",g.forEach(se=>{se(j)})}function P(){if(l!=="pending")return;p();const D=o.shift();if(D===void 0){if(h.length){f=setTimeout(()=>{p(),l==="pending"&&(E(),T())},t.timeout);return}T();return}const L={status:"pending",resource:D,callback:(j,te)=>{C(L,j,te)}};h.push(L),u++,f=setTimeout(P,t.rotate),r(D,e,L.callback)}return setTimeout(P),S}function rne(t){const e={...MXe,...t};let r=[];function n(){r=r.filter(a=>a().status==="pending")}function i(a,l,u){const d=RXe(e,a,l,(f,h)=>{n(),u&&u(f,h)});return r.push(d),d}function s(a){return r.find(l=>a(l))||null}return{query:i,find:s,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:n}}function $V(){}const P4=Object.create(null);function $Xe(t){if(!P4[t]){const e=F6(t);if(!e)return;const r=rne(e),n={config:e,redundancy:r};P4[t]=n}return P4[t]}function LXe(t,e,r){let n,i;if(typeof t=="string"){const s=vO(t);if(!s)return r(void 0,424),$V;i=s.send;const o=$Xe(t);o&&(n=o.redundancy)}else{const s=$6(t);if(s){n=rne(s);const o=t.resources?t.resources[0]:"",a=vO(o);a&&(i=a.send)}}return!n||!i?(r(void 0,424),$V):n.query(e,i,r)().abort}const LV="iconify2",hb="iconify",nne=hb+"-count",FV=hb+"-version",ine=36e5,FXe=168;function _O(t,e){try{return t.getItem(e)}catch{}}function N6(t,e,r){try{return t.setItem(e,r),!0}catch{}}function NV(t,e){try{t.removeItem(e)}catch{}}function yO(t,e){return N6(t,nne,e.toString())}function bO(t){return parseInt(_O(t,nne))||0}const AC={local:!0,session:!0},sne={local:new Set,session:new Set};let B6=!1;function NXe(t){B6=t}let _x=typeof window>"u"?{}:window;function one(t){const e=t+"Storage";try{if(_x&&_x[e]&&typeof _x[e].length=="number")return _x[e]}catch{}AC[t]=!1}function ane(t,e){const r=one(t);if(!r)return;const n=_O(r,FV);if(n!==LV){if(n){const a=bO(r);for(let l=0;l<a;l++)NV(r,hb+l.toString())}N6(r,FV,LV),yO(r,0);return}const i=Math.floor(Date.now()/ine)-FXe,s=a=>{const l=hb+a.toString(),u=_O(r,l);if(typeof u=="string"){try{const d=JSON.parse(u);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>i&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&e(d,a))return!0}catch{}NV(r,l)}};let o=bO(r);for(let a=o-1;a>=0;a--)s(a)||(a===o-1?(o--,yO(r,o)):sne[t].add(a))}function lne(){if(!B6){NXe(!0);for(const t in AC)ane(t,e=>{const r=e.data,n=e.provider,i=r.prefix,s=Y0(n,i);if(!R6(s,r).length)return!1;const o=r.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,o):o,!0})}}function BXe(t,e){const r=t.lastModifiedCached;if(r&&r>=e)return r===e;if(t.lastModifiedCached=e,r)for(const n in AC)ane(n,i=>{const s=i.data;return i.provider!==t.provider||s.prefix!==t.prefix||s.lastModified===e});return!0}function UXe(t,e){B6||lne();function r(n){let i;if(!AC[n]||!(i=one(n)))return;const s=sne[n];let o;if(s.size)s.delete(o=Array.from(s).shift());else if(o=bO(i),!yO(i,o+1))return;const a={cached:Math.floor(Date.now()/ine),provider:t.provider,data:e};return N6(i,hb+o.toString(),JSON.stringify(a))}e.lastModified&&!BXe(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),r("local")||r("session"))}function BV(){}function VXe(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,kXe(t)}))}function zXe(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:r,prefix:n}=t,i=t.iconsToLoad;delete t.iconsToLoad;let s;if(!i||!(s=vO(r)))return;s.prepare(r,n,i).forEach(a=>{LXe(r,a,l=>{if(typeof l!="object")a.icons.forEach(u=>{t.missing.add(u)});else try{const u=R6(t,l);if(!u.length)return;const d=t.pendingIcons;d&&u.forEach(f=>{d.delete(f)}),UXe(t,l)}catch(u){console.error(u)}VXe(t)})})}))}const jXe=(t,e)=>{const r=DXe(t,!0,Qre()),n=PXe(r);if(!n.pending.length){let l=!0;return e&&setTimeout(()=>{l&&e(n.loaded,n.missing,n.pending,BV)}),()=>{l=!1}}const i=Object.create(null),s=[];let o,a;return n.pending.forEach(l=>{const{provider:u,prefix:d}=l;if(d===a&&u===o)return;o=u,a=d,s.push(Y0(u,d));const f=i[u]||(i[u]=Object.create(null));f[d]||(f[d]=[])}),n.pending.forEach(l=>{const{provider:u,prefix:d,name:f}=l,h=Y0(u,d),g=h.pendingIcons||(h.pendingIcons=new Set);g.has(f)||(g.add(f),i[u][d].push(f))}),s.forEach(l=>{const{provider:u,prefix:d}=l;i[u][d].length&&zXe(l,i[u][d])}),e?OXe(e,n,s):BV};function HXe(t,e){const r={...t};for(const n in e){const i=e[n],s=typeof i;n in Jre?(i===null||i&&(s==="string"||s==="number"))&&(r[n]=i):s===typeof r[n]&&(r[n]=n==="rotate"?i%4:i)}return r}const GXe=/[\s,]+/;function WXe(t,e){e.split(GXe).forEach(r=>{switch(r.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function qXe(t,e=0){const r=t.replace(/^-?[0-9.]*/,"");function n(i){for(;i<0;)i+=4;return i%4}if(r===""){const i=parseInt(t);return isNaN(i)?0:n(i)}else if(r!==t){let i=0;switch(r){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(t.slice(0,t.length-r.length));return isNaN(s)?0:(s=s/i,s%1===0?n(s):0)}}return e}function XXe(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)r+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}function YXe(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function KXe(t){return"data:image/svg+xml,"+YXe(t)}function ZXe(t){return'url("'+KXe(t)+'")'}const UV={...ene,inline:!1},QXe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},JXe={display:"inline-block"},xO={backgroundColor:"currentColor"},une={backgroundColor:"transparent"},VV={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},zV={webkitMask:xO,mask:xO,background:une};for(const t in zV){const e=zV[t];for(const r in VV)e[t+r]=VV[r]}const eS={};["horizontal","vertical"].forEach(t=>{const e=t.slice(0,1)+"Flip";eS[t+"-flip"]=e,eS[t.slice(0,1)+"-flip"]=e,eS[t+"Flip"]=e});function jV(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const HV=(t,e)=>{const r=HXe(UV,e),n={...QXe},i=e.mode||"svg",s={},o=e.style,a=typeof o=="object"&&!(o instanceof Array)?o:{};for(let v in e){const b=e[v];if(b!==void 0)switch(v){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":r[v]=b===!0||b==="true"||b===1;break;case"flip":typeof b=="string"&&WXe(r,b);break;case"color":s.color=b;break;case"rotate":typeof b=="string"?r[v]=qXe(b):typeof b=="number"&&(r[v]=b);break;case"ariaHidden":case"aria-hidden":b!==!0&&b!=="true"&&delete n["aria-hidden"];break;default:{const S=eS[v];S?(b===!0||b==="true"||b===1)&&(r[S]=!0):UV[v]===void 0&&(n[v]=b)}}}const l=pXe(t,r),u=l.attributes;if(r.inline&&(s.verticalAlign="-0.125em"),i==="svg"){n.style={...s,...a},Object.assign(n,u);let v=0,b=e.id;return typeof b=="string"&&(b=b.replace(/-/g,"_")),n.innerHTML=_Xe(l.body,b?()=>b+"ID"+v++:"iconifyVue"),Tr("svg",n)}const{body:d,width:f,height:h}=t,g=i==="mask"||(i==="bg"?!1:d.indexOf("currentColor")!==-1),p=XXe(d,{...u,width:f+"",height:h+""});return n.style={...s,"--svg":ZXe(p),width:jV(u.width),height:jV(u.height),...JXe,...g?xO:une,...a},Tr("span",n)};Qre(!0);yXe("",AXe);if(typeof document<"u"&&typeof window<"u"){lne();const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,r="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!cXe(n))&&console.error(r)}catch{console.error(r)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let r in e){const n="IconifyProviders["+r+"] is invalid.";try{const i=e[r];if(typeof i!="object"||!i||i.resources===void 0)continue;bXe(r,i)||console.error(n)}catch{console.error(n)}}}}const eYe={...CC,body:""},tYe=rt({inheritAttrs:!1,data(){return{iconMounted:!1,counter:0}},mounted(){this._name="",this._loadingIcon=null,this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(t,e){if(typeof t=="object"&&t!==null&&typeof t.body=="string")return this._name="",this.abortLoading(),{data:t};let r;if(typeof t!="string"||(r=EC(t,!1,!0))===null)return this.abortLoading(),null;const n=lXe(r);if(!n)return(!this._loadingIcon||this._loadingIcon.name!==t)&&(this.abortLoading(),this._name="",n!==null&&(this._loadingIcon={name:t,abort:jXe([r],()=>{this.counter++})})),null;this.abortLoading(),this._name!==t&&(this._name=t,e&&e(t));const i=["iconify"];return r.prefix!==""&&i.push("iconify--"+r.prefix),r.provider!==""&&i.push("iconify--"+r.provider),{data:n,classes:i}}},render(){this.counter;const t=this.$attrs,e=this.iconMounted?this.getIcon(t.icon,t.onLoad):null;if(!e)return HV(eYe,t);let r=t;return e.classes&&(r={...t,class:(typeof t.class=="string"?t.class+" ":"")+e.classes.join(" ")}),HV({...CC,...e.data},r)}});/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function g1(t){return t+.5|0}const Sh=(t,e,r)=>Math.max(Math.min(t,r),e);function Ay(t){return Sh(g1(t*2.55),0,255)}function Dh(t){return Sh(g1(t*255),0,255)}function Zd(t){return Sh(g1(t/2.55)/100,0,1)}function GV(t){return Sh(g1(t*100),0,100)}const zl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wO=[..."0123456789ABCDEF"],rYe=t=>wO[t&15],nYe=t=>wO[(t&240)>>4]+wO[t&15],yx=t=>(t&240)>>4===(t&15),iYe=t=>yx(t.r)&&yx(t.g)&&yx(t.b)&&yx(t.a);function sYe(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&zl[t[1]]*17,g:255&zl[t[2]]*17,b:255&zl[t[3]]*17,a:e===5?zl[t[4]]*17:255}:(e===7||e===9)&&(r={r:zl[t[1]]<<4|zl[t[2]],g:zl[t[3]]<<4|zl[t[4]],b:zl[t[5]]<<4|zl[t[6]],a:e===9?zl[t[7]]<<4|zl[t[8]]:255})),r}const oYe=(t,e)=>t<255?e(t):"";function aYe(t){var e=iYe(t)?rYe:nYe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+oYe(t.a,e):void 0}const lYe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cne(t,e,r){const n=e*Math.min(r,1-r),i=(s,o=(s+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function uYe(t,e,r){const n=(i,s=(i+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function cYe(t,e,r){const n=cne(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function dYe(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}function U6(t){const r=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(r,n,i),o=Math.min(r,n,i),a=(s+o)/2;let l,u,d;return s!==o&&(d=s-o,u=a>.5?d/(2-s-o):d/(s+o),l=dYe(r,n,i,d,s),l=l*60+.5),[l|0,u||0,a]}function V6(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Dh)}function z6(t,e,r){return V6(cne,t,e,r)}function fYe(t,e,r){return V6(cYe,t,e,r)}function hYe(t,e,r){return V6(uYe,t,e,r)}function dne(t){return(t%360+360)%360}function pYe(t){const e=lYe.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Ay(+e[5]):Dh(+e[5]));const i=dne(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=fYe(i,s,o):e[1]==="hsv"?n=hYe(i,s,o):n=z6(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}function mYe(t,e){var r=U6(t);r[0]=dne(r[0]+e),r=z6(r),t.r=r[0],t.g=r[1],t.b=r[2]}function gYe(t){if(!t)return;const e=U6(t),r=e[0],n=GV(e[1]),i=GV(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${Zd(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const WV={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qV={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function vYe(){const t={},e=Object.keys(qV),r=Object.keys(WV);let n,i,s,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],i=0;i<r.length;i++)s=r[i],a=a.replace(s,WV[s]);s=parseInt(qV[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let bx;function _Ye(t){bx||(bx=vYe(),bx.transparent=[0,0,0,0]);const e=bx[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const yYe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function bYe(t){const e=yYe.exec(t);let r=255,n,i,s;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?Ay(o):Sh(o*255,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?Ay(n):Sh(n,0,255)),i=255&(e[4]?Ay(i):Sh(i,0,255)),s=255&(e[6]?Ay(s):Sh(s,0,255)),{r:n,g:i,b:s,a:r}}}function xYe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Zd(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const k4=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Nm=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function wYe(t,e,r){const n=Nm(Zd(t.r)),i=Nm(Zd(t.g)),s=Nm(Zd(t.b));return{r:Dh(k4(n+r*(Nm(Zd(e.r))-n))),g:Dh(k4(i+r*(Nm(Zd(e.g))-i))),b:Dh(k4(s+r*(Nm(Zd(e.b))-s))),a:t.a+r*(e.a-t.a)}}function xx(t,e,r){if(t){let n=U6(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=z6(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function fne(t,e){return t&&Object.assign(e||{},t)}function XV(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Dh(t[3]))):(e=fne(t,{r:0,g:0,b:0,a:1}),e.a=Dh(e.a)),e}function SYe(t){return t.charAt(0)==="r"?bYe(t):pYe(t)}class pb{constructor(e){if(e instanceof pb)return e;const r=typeof e;let n;r==="object"?n=XV(e):r==="string"&&(n=sYe(e)||_Ye(e)||SYe(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=fne(this._rgb);return e&&(e.a=Zd(e.a)),e}set rgb(e){this._rgb=XV(e)}rgbString(){return this._valid?xYe(this._rgb):void 0}hexString(){return this._valid?aYe(this._rgb):void 0}hslString(){return this._valid?gYe(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,i=e.rgb;let s;const o=r===s?.5:r,a=2*o-1,l=n.a-i.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,n.r=255&u*n.r+s*i.r+.5,n.g=255&u*n.g+s*i.g+.5,n.b=255&u*n.b+s*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=wYe(this._rgb,e._rgb,r)),this}clone(){return new pb(this.rgb)}alpha(e){return this._rgb.a=Dh(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=g1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return xx(this._rgb,2,e),this}darken(e){return xx(this._rgb,2,-e),this}saturate(e){return xx(this._rgb,1,e),this}desaturate(e){return xx(this._rgb,1,-e),this}rotate(e){return mYe(this._rgb,e),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Nd(){}const TYe=(()=>{let t=0;return()=>t++})();function os(t){return t===null||typeof t>"u"}function ys(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function bi(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function To(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function pl(t,e){return To(t)?t:e}function ni(t,e){return typeof t>"u"?e:t}const EYe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,hne=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function qi(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Oi(t,e,r,n){let i,s,o;if(ys(t))if(s=t.length,n)for(i=s-1;i>=0;i--)e.call(r,t[i],i);else for(i=0;i<s;i++)e.call(r,t[i],i);else if(bi(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(r,t[o[i]],o[i])}function PT(t,e){let r,n,i,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],s=e[r],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function kT(t){if(ys(t))return t.map(kT);if(bi(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=kT(t[r[i]]);return e}return t}function pne(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function CYe(t,e,r,n){if(!pne(t))return;const i=e[t],s=r[t];bi(i)&&bi(s)?mb(i,s,n):e[t]=kT(s)}function mb(t,e,r){const n=ys(e)?e:[e],i=n.length;if(!bi(t))return t;r=r||{};const s=r.merger||CYe;let o;for(let a=0;a<i;++a){if(o=n[a],!bi(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)s(l[u],t,o,r)}return t}function d2(t,e){return mb(t,e,{merger:AYe})}function AYe(t,e,r){if(!pne(t))return;const n=e[t],i=r[t];bi(n)&&bi(i)?d2(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=kT(i))}const YV={"":t=>t,x:t=>t.x,y:t=>t.y};function PYe(t){const e=t.split("."),r=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function kYe(t){const e=PYe(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function mv(t,e){return(YV[e]||(YV[e]=kYe(e)))(t)}function j6(t){return t.charAt(0).toUpperCase()+t.slice(1)}const IT=t=>typeof t<"u",Wh=t=>typeof t=="function",KV=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function IYe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ss=Math.PI,Vo=2*Ss,OYe=Vo+Ss,OT=Number.POSITIVE_INFINITY,DYe=Ss/180,xa=Ss/2,Ip=Ss/4,ZV=Ss*2/3,Th=Math.log10,gv=Math.sign;function f2(t,e,r){return Math.abs(t-e)<r}function QV(t){const e=Math.round(t);t=f2(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Th(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function MYe(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,s)=>i-s).pop(),e}function gb(t){return!isNaN(parseFloat(t))&&isFinite(t)}function RYe(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function mne(t,e,r){let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Gu(t){return t*(Ss/180)}function H6(t){return t*(180/Ss)}function JV(t){if(!To(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function $Ye(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*Ss&&(s+=Vo),{angle:s,distance:i}}function SO(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function LYe(t,e){return(t-e+OYe)%Vo-Ss}function Uu(t){return(t%Vo+Vo)%Vo}function DT(t,e,r,n){const i=Uu(t),s=Uu(e),o=Uu(r),a=Uu(s-i),l=Uu(o-i),u=Uu(i-s),d=Uu(i-o);return i===s||i===o||n&&s===o||a>l&&u<d}function eu(t,e,r){return Math.max(e,Math.min(r,t))}function FYe(t){return eu(t,-32768,32767)}function Py(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function G6(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,r(s)?i=s:n=s;return{lo:i,hi:n}}const g0=(t,e,r,n)=>G6(t,r,n?i=>{const s=t[i][e];return s<r||s===r&&t[i+1][e]===r}:i=>t[i][e]<r),NYe=(t,e,r)=>G6(t,r,n=>t[n][e]>=r);function BYe(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}const gne=["push","pop","shift","splice","unshift"];function UYe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),gne.forEach(r=>{const n="_onData"+j6(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...s)}),o}})})}function ez(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(gne.forEach(s=>{delete t[s]}),delete t._chartjs)}function VYe(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const vne=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function _ne(t,e){let r=[],n=!1;return function(...i){r=i,n||(n=!0,vne.call(window,()=>{n=!1,t.apply(e,r)}))}}function zYe(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const W6=t=>t==="start"?"left":t==="end"?"right":"center",Zo=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,jYe=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function HYe(t,e,r){const n=e.length;let i=0,s=n;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:u,max:d,minDefined:f,maxDefined:h}=o.getUserBounds();f&&(i=eu(Math.min(g0(a,l,u).lo,r?n:g0(e,l,o.getPixelForValue(u)).lo),0,n-1)),h?s=eu(Math.max(g0(a,o.axis,d,!0).hi+1,r?0:g0(e,l,o.getPixelForValue(d),!0).hi+1),i,n)-i:s=n-i}return{start:i,count:s}}function GYe(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),s}const wx=t=>t===0||t===1,tz=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Vo/r)),rz=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Vo/r)+1,h2={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*xa)+1,easeOutSine:t=>Math.sin(t*xa),easeInOutSine:t=>-.5*(Math.cos(Ss*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>wx(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>wx(t)?t:tz(t,.075,.3),easeOutElastic:t=>wx(t)?t:rz(t,.075,.3),easeInOutElastic(t){return wx(t)?t:t<.5?.5*tz(t*2,.1125,.45):.5+.5*rz(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-h2.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?h2.easeInBounce(t*2)*.5:h2.easeOutBounce(t*2-1)*.5+.5};function q6(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function nz(t){return q6(t)?t:new pb(t)}function I4(t){return q6(t)?t:new pb(t).saturate(.5).darken(.1).hexString()}const WYe=["x","y","borderWidth","radius","tension"],qYe=["color","borderColor","backgroundColor"];function XYe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:qYe},numbers:{type:"number",properties:WYe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function YYe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const iz=new Map;function KYe(t,e){e=e||{};const r=t+JSON.stringify(e);let n=iz.get(r);return n||(n=new Intl.NumberFormat(t,e),iz.set(r,n)),n}function v1(t,e,r){return KYe(e,r).format(t)}const yne={values(t){return ys(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let i,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=ZYe(t,r)}const o=Th(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),v1(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(Th(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?yne.numeric.call(this,t,e,r):""}};function ZYe(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var PC={formatters:yne};function QYe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:PC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const K0=Object.create(null),TO=Object.create(null);function p2(t,e){if(!e)return t;const r=e.split(".");for(let n=0,i=r.length;n<i;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function O4(t,e,r){return typeof e=="string"?mb(p2(t,e),r):mb(p2(t,""),e)}class JYe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>I4(i.backgroundColor),this.hoverBorderColor=(n,i)=>I4(i.borderColor),this.hoverColor=(n,i)=>I4(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return O4(this,e,r)}get(e){return p2(this,e)}describe(e,r){return O4(TO,e,r)}override(e,r){return O4(K0,e,r)}route(e,r,n,i){const s=p2(this,e),o=p2(this,n),a="_"+r;Object.defineProperties(s,{[a]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[a],u=o[i];return bi(l)?Object.assign({},u,l):ni(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(r=>r(this))}}var Is=new JYe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[XYe,YYe,QYe]);function eKe(t){return!t||os(t.size)||os(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function MT(t,e,r,n,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,r.push(i)),s>n&&(n=s),n}function tKe(t,e,r,n){n=n||{};let i=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const a=r.length;let l,u,d,f,h;for(l=0;l<a;l++)if(f=r[l],f!=null&&!ys(f))o=MT(t,i,s,o,f);else if(ys(f))for(u=0,d=f.length;u<d;u++)h=f[u],h!=null&&!ys(h)&&(o=MT(t,i,s,o,h));t.restore();const g=s.length/2;if(g>r.length){for(l=0;l<g;l++)delete i[s[l]];s.splice(0,g)}return o}function Op(t,e,r){const n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function sz(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function EO(t,e,r,n){bne(t,e,r,n,null)}function bne(t,e,r,n,i){let s,o,a,l,u,d,f,h;const g=e.pointStyle,p=e.rotation,v=e.radius;let b=(p||0)*DYe;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),g){default:i?t.ellipse(r,n,i/2,v,0,0,Vo):t.arc(r,n,v,0,Vo),t.closePath();break;case"triangle":d=i?i/2:v,t.moveTo(r+Math.sin(b)*d,n-Math.cos(b)*v),b+=ZV,t.lineTo(r+Math.sin(b)*d,n-Math.cos(b)*v),b+=ZV,t.lineTo(r+Math.sin(b)*d,n-Math.cos(b)*v),t.closePath();break;case"rectRounded":u=v*.516,l=v-u,o=Math.cos(b+Ip)*l,f=Math.cos(b+Ip)*(i?i/2-u:l),a=Math.sin(b+Ip)*l,h=Math.sin(b+Ip)*(i?i/2-u:l),t.arc(r-f,n-a,u,b-Ss,b-xa),t.arc(r+h,n-o,u,b-xa,b),t.arc(r+f,n+a,u,b,b+xa),t.arc(r-h,n+o,u,b+xa,b+Ss),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,d=i?i/2:l,t.rect(r-d,n-l,2*d,2*l);break}b+=Ip;case"rectRot":f=Math.cos(b)*(i?i/2:v),o=Math.cos(b)*v,a=Math.sin(b)*v,h=Math.sin(b)*(i?i/2:v),t.moveTo(r-f,n-a),t.lineTo(r+h,n-o),t.lineTo(r+f,n+a),t.lineTo(r-h,n+o),t.closePath();break;case"crossRot":b+=Ip;case"cross":f=Math.cos(b)*(i?i/2:v),o=Math.cos(b)*v,a=Math.sin(b)*v,h=Math.sin(b)*(i?i/2:v),t.moveTo(r-f,n-a),t.lineTo(r+f,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"star":f=Math.cos(b)*(i?i/2:v),o=Math.cos(b)*v,a=Math.sin(b)*v,h=Math.sin(b)*(i?i/2:v),t.moveTo(r-f,n-a),t.lineTo(r+f,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o),b+=Ip,f=Math.cos(b)*(i?i/2:v),o=Math.cos(b)*v,a=Math.sin(b)*v,h=Math.sin(b)*(i?i/2:v),t.moveTo(r-f,n-a),t.lineTo(r+f,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"line":o=i?i/2:Math.cos(b)*v,a=Math.sin(b)*v,t.moveTo(r-o,n-a),t.lineTo(r+o,n+a);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(b)*(i?i/2:v),n+Math.sin(b)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function nf(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function X6(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Y6(t){t.restore()}function rKe(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function nKe(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function iKe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),os(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function sKe(t,e,r,n,i){if(i.strikethrough||i.underline){const s=t.measureText(n),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,d=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function oKe(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Z0(t,e,r,n,i,s={}){const o=ys(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,iKe(t,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&oKe(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),os(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),sKe(t,r,n,u,s),n+=Number(i.lineHeight);t.restore()}function RT(t,e){const{x:r,y:n,w:i,h:s,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*Ss,Ss,!0),t.lineTo(r,n+s-o.bottomLeft),t.arc(r+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,Ss,xa,!0),t.lineTo(r+i-o.bottomRight,n+s),t.arc(r+i-o.bottomRight,n+s-o.bottomRight,o.bottomRight,xa,0,!0),t.lineTo(r+i,n+o.topRight),t.arc(r+i-o.topRight,n+o.topRight,o.topRight,0,-xa,!0),t.lineTo(r+o.topLeft,n)}const aKe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lKe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uKe(t,e){const r=(""+t).match(aKe);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const cKe=t=>+t||0;function xne(t,e){const r={},n=bi(e),i=n?Object.keys(e):e,s=bi(t)?n?o=>ni(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)r[o]=cKe(s(o));return r}function dKe(t){return xne(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Cg(t){return xne(t,["topLeft","topRight","bottomLeft","bottomRight"])}function na(t){const e=dKe(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function lo(t,e){t=t||{},e=e||Is.font;let r=ni(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=ni(t.style,e.style);n&&!(""+n).match(lKe)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:ni(t.family,e.family),lineHeight:uKe(ni(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:ni(t.weight,e.weight),string:""};return i.string=eKe(i),i}function Sx(t,e,r,n){let i=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),r!==void 0&&ys(a)&&(a=a[r%a.length],i=!1),a!==void 0))return n&&!i&&(n.cacheable=!1),a}function fKe(t,e,r){const{min:n,max:i}=t,s=hne(e,(i-n)/2),o=(a,l)=>r&&a===0?0:a+l;return{min:o(n,-Math.abs(s)),max:o(i,s)}}function op(t,e){return Object.assign(Object.create(t),e)}function K6(t,e=[""],r,n,i=()=>t[0]){const s=r||t;typeof n>"u"&&(n=Ene("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:i,override:a=>K6([a,...t],e,s,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Sne(a,l,()=>bKe(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return az(a).includes(l)},ownKeys(a){return az(a)},set(a,l,u){const d=a._storage||(a._storage=i());return a[l]=d[l]=u,delete a._keys,!0}})}function vv(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:wne(t,n),setContext:s=>vv(t,s,r,n),override:s=>vv(t.override(s),e,r,n)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return Sne(s,o,()=>pKe(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function wne(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:Wh(r)?r:()=>r,isIndexable:Wh(n)?n:()=>n}}const hKe=(t,e)=>t?t+j6(e):e,Z6=(t,e)=>bi(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Sne(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const n=r();return t[e]=n,n}function pKe(t,e,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:o}=t;let a=n[e];return Wh(a)&&o.isScriptable(e)&&(a=mKe(e,a,t,r)),ys(a)&&a.length&&(a=gKe(e,a,t,o.isIndexable)),Z6(e,a)&&(a=vv(a,i,s&&s[e],o)),a}function mKe(t,e,r,n){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=r;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||n);return a.delete(t),Z6(t,l)&&(l=Q6(i._scopes,i,t,l)),l}function gKe(t,e,r,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(bi(e[0])){const l=e,u=i._scopes.filter(d=>d!==l);e=[];for(const d of l){const f=Q6(u,i,t,d);e.push(vv(f,s,o&&o[t],a))}}return e}function Tne(t,e,r){return Wh(t)?t(e,r):t}const vKe=(t,e)=>t===!0?e:typeof t=="string"?mv(e,t):void 0;function _Ke(t,e,r,n,i){for(const s of e){const o=vKe(r,s);if(o){t.add(o);const a=Tne(o._fallback,r,i);if(typeof a<"u"&&a!==r&&a!==n)return a}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function Q6(t,e,r,n){const i=e._rootScopes,s=Tne(e._fallback,r,n),o=[...t,...i],a=new Set;a.add(n);let l=oz(a,o,r,s||r,n);return l===null||typeof s<"u"&&s!==r&&(l=oz(a,o,s,l,n),l===null)?!1:K6(Array.from(a),[""],i,s,()=>yKe(e,r,n))}function oz(t,e,r,n,i){for(;r;)r=_Ke(t,e,r,n,i);return r}function yKe(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return ys(i)&&bi(r)?r:i||{}}function bKe(t,e,r,n){let i;for(const s of e)if(i=Ene(hKe(s,t),r),typeof i<"u")return Z6(t,i)?Q6(r,n,t,i):i}function Ene(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function az(t){let e=t._keys;return e||(e=t._keys=xKe(t._scopes)),e}function xKe(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function wKe(t,e,r,n){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(n);let a,l,u,d;for(a=0,l=n;a<l;++a)u=a+r,d=e[u],o[a]={r:i.parse(mv(d,s),u)};return o}const SKe=Number.EPSILON||1e-14,_v=(t,e)=>e<t.length&&!t[e].skip&&t[e],Cne=t=>t==="x"?"y":"x";function TKe(t,e,r,n){const i=t.skip?e:t,s=e,o=r.skip?e:r,a=SO(s,i),l=SO(o,s);let u=a/(a+l),d=l/(a+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,h=n*d;return{previous:{x:s.x-f*(o.x-i.x),y:s.y-f*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function EKe(t,e,r){const n=t.length;let i,s,o,a,l,u=_v(t,0);for(let d=0;d<n-1;++d)if(l=u,u=_v(t,d+1),!(!l||!u)){if(f2(e[d],0,SKe)){r[d]=r[d+1]=0;continue}i=r[d]/e[d],s=r[d+1]/e[d],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),r[d]=i*o*e[d],r[d+1]=s*o*e[d])}}function CKe(t,e,r="x"){const n=Cne(r),i=t.length;let s,o,a,l=_v(t,0);for(let u=0;u<i;++u){if(o=a,a=l,l=_v(t,u+1),!a)continue;const d=a[r],f=a[n];o&&(s=(d-o[r])/3,a[`cp1${r}`]=d-s,a[`cp1${n}`]=f-s*e[u]),l&&(s=(l[r]-d)/3,a[`cp2${r}`]=d+s,a[`cp2${n}`]=f+s*e[u])}}function AKe(t,e="x"){const r=Cne(e),n=t.length,i=Array(n).fill(0),s=Array(n);let o,a,l,u=_v(t,0);for(o=0;o<n;++o)if(a=l,l=u,u=_v(t,o+1),!!l){if(u){const d=u[e]-l[e];i[o]=d!==0?(u[r]-l[r])/d:0}s[o]=a?u?gv(i[o-1])!==gv(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}EKe(t,i,s),CKe(t,s,e)}function Tx(t,e,r){return Math.max(Math.min(t,r),e)}function PKe(t,e){let r,n,i,s,o,a=nf(t[0],e);for(r=0,n=t.length;r<n;++r)o=s,s=a,a=r<n-1&&nf(t[r+1],e),s&&(i=t[r],o&&(i.cp1x=Tx(i.cp1x,e.left,e.right),i.cp1y=Tx(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Tx(i.cp2x,e.left,e.right),i.cp2y=Tx(i.cp2y,e.top,e.bottom)))}function kKe(t,e,r,n,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")AKe(t,i);else{let u=n?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=TKe(u,a,t[Math.min(s+1,o-(n?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&PKe(t,r)}function J6(){return typeof window<"u"&&typeof document<"u"}function e$(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function $T(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const kC=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function IKe(t,e){return kC(t).getPropertyValue(e)}const OKe=["top","right","bottom","left"];function k0(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const s=OKe[i];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const DKe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function MKe(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:i,offsetY:s}=n;let o=!1,a,l;if(DKe(i,s,t.target))a=i,l=s;else{const u=e.getBoundingClientRect();a=n.clientX-u.left,l=n.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function Gp(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,i=kC(r),s=i.boxSizing==="border-box",o=k0(i,"padding"),a=k0(i,"border","width"),{x:l,y:u,box:d}=MKe(t,r),f=o.left+(d&&a.left),h=o.top+(d&&a.top);let{width:g,height:p}=e;return s&&(g-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-f)/g*r.width/n),y:Math.round((u-h)/p*r.height/n)}}function RKe(t,e,r){let n,i;if(e===void 0||r===void 0){const s=e$(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const o=s.getBoundingClientRect(),a=kC(s),l=k0(a,"border","width"),u=k0(a,"padding");e=o.width-u.width-l.width,r=o.height-u.height-l.height,n=$T(a.maxWidth,s,"clientWidth"),i=$T(a.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||OT,maxHeight:i||OT}}const Ex=t=>Math.round(t*10)/10;function $Ke(t,e,r,n){const i=kC(t),s=k0(i,"margin"),o=$T(i.maxWidth,t,"clientWidth")||OT,a=$T(i.maxHeight,t,"clientHeight")||OT,l=RKe(t,e,r);let{width:u,height:d}=l;if(i.boxSizing==="content-box"){const h=k0(i,"border","width"),g=k0(i,"padding");u-=g.width+h.width,d-=g.height+h.height}return u=Math.max(0,u-s.width),d=Math.max(0,n?u/n:d-s.height),u=Ex(Math.min(u,o,l.maxWidth)),d=Ex(Math.min(d,a,l.maxHeight)),u&&!d&&(d=Ex(u/2)),(e!==void 0||r!==void 0)&&n&&l.height&&d>l.height&&(d=l.height,u=Ex(Math.floor(d*n))),{width:u,height:d}}function lz(t,e,r){const n=e||1,i=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=n,o.height=i,o.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const LKe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};J6()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function uz(t,e){const r=IKe(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Wp(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function FKe(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function NKe(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Wp(t,i,r),a=Wp(i,s,r),l=Wp(s,e,r),u=Wp(o,a,r),d=Wp(a,l,r);return Wp(u,d,r)}const BKe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},UKe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ag(t,e,r){return t?BKe(e,r):UKe()}function Ane(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Pne(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function kne(t){return t==="angle"?{between:DT,compare:LYe,normalize:Uu}:{between:Py,compare:(e,r)=>e-r,normalize:e=>e}}function cz({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function VKe(t,e,r){const{property:n,start:i,end:s}=r,{between:o,normalize:a}=kne(n),l=e.length;let{start:u,end:d,loop:f}=t,h,g;if(f){for(u+=l,d+=l,h=0,g=l;h<g&&o(a(e[u%l][n]),i,s);++h)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:f,style:t.style}}function zKe(t,e,r){if(!r)return[t];const{property:n,start:i,end:s}=r,o=e.length,{compare:a,between:l,normalize:u}=kne(n),{start:d,end:f,loop:h,style:g}=VKe(t,e,r),p=[];let v=!1,b=null,S,T,E;const C=()=>l(i,E,S)&&a(i,E)!==0,P=()=>a(s,S)===0||l(s,E,S),D=()=>v||C(),L=()=>!v||P();for(let j=d,te=d;j<=f;++j)T=e[j%o],!T.skip&&(S=u(T[n]),S!==E&&(v=l(S,i,s),b===null&&D()&&(b=a(S,i)===0?j:te),b!==null&&L()&&(p.push(cz({start:b,end:j,loop:h,count:o,style:g})),b=null),te=j,E=S));return b!==null&&p.push(cz({start:b,end:f,loop:h,count:o,style:g})),p}function jKe(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const s=zKe(n[i],t.points,e);s.length&&r.push(...s)}return r}function HKe(t,e,r,n){let i=0,s=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function GKe(t,e,r,n){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=r;++l){const u=t[l%i];u.skip||u.stop?a.skip||(n=!1,s.push({start:e%i,end:(l-1)%i,loop:n}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&s.push({start:e%i,end:o%i,loop:n}),s}function WKe(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=HKe(r,i,s,n);if(n===!0)return dz(t,[{start:o,end:a,loop:s}],r,e);const l=a<o?a+i:a,u=!!t._fullLoop&&o===0&&a===i-1;return dz(t,GKe(r,o,l,u),r,e)}function dz(t,e,r,n){return!n||!n.setContext||!r?e:qKe(t,e,r,n)}function qKe(t,e,r,n){const i=t._chart.getContext(),s=fz(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=r.length,u=[];let d=s,f=e[0].start,h=f;function g(p,v,b,S){const T=a?-1:1;if(p!==v){for(p+=l;r[p%l].skip;)p-=T;for(;r[v%l].skip;)v+=T;p%l!==v%l&&(u.push({start:p%l,end:v%l,loop:b,style:S}),d=S,f=v%l)}}for(const p of e){f=a?f:p.start;let v=r[f%l],b;for(h=f+1;h<=p.end;h++){const S=r[h%l];b=fz(n.setContext(op(i,{type:"segment",p0:v,p1:S,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),XKe(b,d)&&g(f,h-1,p.loop,d),v=S,d=b}f<h-1&&g(f,h-1,p.loop,d)}return u}function fz(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function XKe(t,e){if(!e)return!1;const r=[],n=function(i,s){return q6(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class YKe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){const s=r.listeners[i],o=r.duration;s.forEach(a=>a({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=vne.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Gd=new YKe;const hz="transparent",KKe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=nz(t||hz),i=n.valid&&nz(e||hz);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class ZKe{constructor(e,r,n,i){const s=r[n];i=Sx([e.to,i,s,e.from]);const o=Sx([e.from,s,i]);this._active=!0,this._fn=e.fn||KKe[e.type||typeof o],this._easing=h2[e.easing]||h2.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Sx([e.to,r,i,e.from]),this._from=Sx([e.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||r<n),!this._active){this._target[i]=a,this._notify(!0);return}if(r<0){this._target[i]=s;return}l=r/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}class Ine{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!bi(e))return;const r=Object.keys(Is.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!bi(s))return;const o={};for(const a of r)o[a]=s[a];(ys(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,r){const n=r.options,i=JKe(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&QKe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(r),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,r));continue}const d=r[u];let f=s[u];const h=n.get(u);if(f)if(h&&f.active()){f.update(h,d,a);continue}else f.cancel();if(!h||!h.duration){e[u]=d;continue}s[u]=f=new ZKe(h,e,u,d),i.push(f)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Gd.add(this._chart,n),!0}}function QKe(t,e){const r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=t[n[i]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function JKe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function pz(t,e){const r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function eZe(t,e,r){if(r===!1)return!1;const n=pz(t,r),i=pz(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function tZe(t){let e,r,n,i;return bi(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:t===!1}}function One(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)r.push(n[i].index);return r}function mz(t,e,r,n={}){const i=t.keys,s=n.mode==="single";let o,a,l,u;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===r){if(n.all)continue;break}u=t.values[l],To(u)&&(s||e===0||gv(e)===gv(u))&&(e+=u)}return e}}function rZe(t){const e=Object.keys(t),r=new Array(e.length);let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],r[n]={x:s,y:t[s]};return r}function gz(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function nZe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function iZe(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function sZe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function vz(t,e,r,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=t[i.index];if(r&&s>0||!r&&s<0)return i.index}return null}function _z(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:s,vScale:o,index:a}=n,l=s.axis,u=o.axis,d=nZe(s,o,n),f=e.length;let h;for(let g=0;g<f;++g){const p=e[g],{[l]:v,[u]:b}=p,S=p._stacks||(p._stacks={});h=S[u]=sZe(i,d,v),h[a]=b,h._top=vz(h,o,!0,n.type),h._bottom=vz(h,o,!1,n.type);const T=h._visualValues||(h._visualValues={});T[a]=b}}function D4(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function oZe(t,e){return op(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function aZe(t,e,r){return op(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Z_(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const M4=t=>t==="reset"||t==="none",yz=(t,e)=>e?t:Object.assign({},t),lZe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:One(r,!0),values:null};class I0{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=gz(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Z_(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(f,h,g,p)=>f==="x"?h:f==="r"?p:g,s=r.xAxisID=ni(n.xAxisID,D4(e,"x")),o=r.yAxisID=ni(n.yAxisID,D4(e,"y")),a=r.rAxisID=ni(n.rAxisID,D4(e,"r")),l=r.indexAxis,u=r.iAxisID=i(l,s,o,a),d=r.vAxisID=i(l,o,s,a);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(a),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ez(this._data,this),e._stacked&&Z_(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(bi(r))this._data=rZe(r);else if(n!==r){if(n){ez(n,this);const i=this._cachedMeta;Z_(i),i._parsed=[]}r&&Object.isExtensible(r)&&UYe(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=r._stacked;r._stacked=gz(r.vScale,r),r.stack!==n.stack&&(i=!0,Z_(r),r.stack=n.stack),this._resyncElements(e),(i||s!==r._stacked)&&_z(this,r._parsed)}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:o}=n,a=s.axis;let l=e===0&&r===i.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,f,h;if(this._parsing===!1)n._parsed=i,n._sorted=!0,h=i;else{ys(i[e])?h=this.parseArrayData(n,i,e,r):bi(i[e])?h=this.parseObjectData(n,i,e,r):h=this.parsePrimitiveData(n,i,e,r);const g=()=>f[a]===null||u&&f[a]<u[a];for(d=0;d<r;++d)n._parsed[d+e]=f=h[d],l&&(g()&&(l=!1),u=f);n._sorted=l}o&&_z(this,h)}parsePrimitiveData(e,r,n,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,u=s.getLabels(),d=s===o,f=new Array(i);let h,g,p;for(h=0,g=i;h<g;++h)p=h+n,f[h]={[a]:d||s.parse(u[p],p),[l]:o.parse(r[p],p)};return f}parseArrayData(e,r,n,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,u,d,f;for(l=0,u=i;l<u;++l)d=l+n,f=r[d],a[l]={x:s.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(e,r,n,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let d,f,h,g;for(d=0,f=i;d<f;++d)h=d+n,g=r[h],u[d]={x:s.parse(mv(g,a),h),y:o.parse(mv(g,l),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const i=this.chart,s=this._cachedMeta,o=r[e.axis],a={keys:One(i,!0),values:r._stacks[e.axis]._visualValues};return mz(a,o,s.index,{mode:n})}updateRangeFromParsed(e,r,n,i){const s=n[r.axis];let o=s===null?NaN:s;const a=i&&n._stacks[r.axis];i&&a&&(i.values=a,o=mz(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,o=i.length,a=this._getOtherScale(e),l=lZe(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=iZe(a);let h,g;function p(){g=i[h];const v=g[a.axis];return!To(g[e.axis])||d>v||f<v}for(h=0;h<o&&!(!p()&&(this.updateRangeFromParsed(u,e,g,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(u,e,g,l);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let i,s,o;for(i=0,s=r.length;i<s;++i)o=r[i][e.axis],To(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,i=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=tZe(ni(this.options.clip,eZe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],s=r.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,s,a,l),d=a;d<a+l;++d){const f=i[d];f.hidden||(f.active&&u?o.push(f):f.draw(e,s))}for(d=0;d<o.length;++d)o[d].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=aZe(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=oZe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const i=r==="active",s=this._cachedDataOpts,o=e+"-"+r,a=s[o],l=this.enableOptionSharing&&IT(n);if(a)return yz(a,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),d),g=Object.keys(Is.elements[e]),p=()=>this.getContext(n,i,r),v=u.resolveNamedOptions(h,g,p,f);return v.$shared&&(v.$shared=l,s[o]=Object.freeze(yz(v,l))),v}_resolveAnimations(e,r,n){const i=this.chart,s=this._cachedDataOpts,o=`animation-${r}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(e,n,r))}const u=new Ine(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||M4(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),i=this._sharedOptions,s=this.getSharedOptions(n),o=this.includeOptions(r,s)||s!==i;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:o}}updateElement(e,r,n,i){M4(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!M4(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;const s=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=n.length,s=r.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,r,n=!0){const i=this._cachedMeta,s=i.data,o=e+r;let a;const l=u=>{for(u.length+=r,a=u.length-1;a>=o;a--)u[a]=u[a-r]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,r);n._stacked&&Z_(n,i)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,i]=e;this[r](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}dn(I0,"defaults",{}),dn(I0,"datasetElementType",null),dn(I0,"dataElementType",null);function uZe(t,e,r){let n=1,i=1,s=0,o=0;if(e<Vo){const a=t,l=a+e,u=Math.cos(a),d=Math.sin(a),f=Math.cos(l),h=Math.sin(l),g=(E,C,P)=>DT(E,a,l,!0)?1:Math.max(C,C*r,P,P*r),p=(E,C,P)=>DT(E,a,l,!0)?-1:Math.min(C,C*r,P,P*r),v=g(0,u,f),b=g(xa,d,h),S=p(Ss,u,f),T=p(Ss+xa,d,h);n=(v-S)/2,i=(b-T)/2,s=-(v+S)/2,o=-(b+T)/2}return{ratioX:n,ratioY:i,offsetX:s,offsetY:o}}class ky extends I0{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let s=l=>+n[l];if(bi(n[e])){const{key:l="value"}=this._parsing;s=u=>+mv(n[u],l)}let o,a;for(o=e,a=e+r;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Gu(this.options.rotation-90)}_getCircumference(){return Gu(this.options.circumference)}_getRotationExtents(){let e=Vo,r=-Vo;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),r=Math.max(r,s+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(EYe(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:g,offsetX:p,offsetY:v}=uZe(f,d,l),b=(n.width-o)/h,S=(n.height-o)/g,T=Math.max(Math.min(b,S)/2,0),E=hne(this.options.radius,T),C=Math.max(E*l,0),P=(E-C)/this._getVisibleDatasetWeightTotal();this.offsetX=p*E,this.offsetY=v*E,i.total=this.calculateTotal(),this.outerRadius=E-P*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-P*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Vo)}updateElements(e,r,n,i){const s=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=s&&u.animateScale,g=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:v,includeOptions:b}=this._getSharedOptions(r,i);let S=this._getRotation(),T;for(T=0;T<r;++T)S+=this._circumference(T,s);for(T=r;T<r+n;++T){const E=this._circumference(T,s),C=e[T],P={x:d+this.offsetX,y:f+this.offsetY,startAngle:S,endAngle:S+E,circumference:E,outerRadius:p,innerRadius:g};b&&(P.options=v||this.resolveDataElementOptions(T,C.active?"active":i)),S+=E,this.updateElement(C,T,P,i)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,i;for(i=0;i<r.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!r[i].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Vo*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=v1(r._parsed[e],n.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,i=e.length;n<i;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(ni(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}dn(ky,"id","doughnut"),dn(ky,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),dn(ky,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),dn(ky,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return r.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class tS extends I0{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=r,o=this.chart._animationsDisabled;let{start:a,count:l}=HYe(r,i,o);this._drawStart=a,this._drawCount=l,GYe(r)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:u},e),this.updateElements(i,a,l,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,i),h=o.axis,g=a.axis,{spanGaps:p,segment:v}=this.options,b=gb(p)?p:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||s||i==="none",T=r+n,E=e.length;let C=r>0&&this.getParsed(r-1);for(let P=0;P<E;++P){const D=e[P],L=S?D:{};if(P<r||P>=T){L.skip=!0;continue}const j=this.getParsed(P),te=os(j[g]),se=L[h]=o.getPixelForValue(j[h],P),q=L[g]=s||te?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,j,l):j[g],P);L.skip=isNaN(se)||isNaN(q)||te,L.stop=P>0&&Math.abs(j[h]-C[h])>b,v&&(L.parsed=j,L.raw=u.data[P]),f&&(L.options=d||this.resolveDataElementOptions(P,D.active?"active":i)),S||this.updateElement(D,P,L,i),C=j}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}dn(tS,"id","line"),dn(tS,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),dn(tS,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class rS extends I0{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=v1(r._parsed[e].r,n.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,r,n,i){return wKe.bind(this)(e,r,n,i)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,i=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(i/2,0),o=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,r,n,i){const s=i==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,h=u.getIndexAngle(0)-.5*Ss;let g=h,p;const v=360/this.countVisibleElements();for(p=0;p<r;++p)g+=this._computeAngle(p,i,v);for(p=r;p<r+n;p++){const b=e[p];let S=g,T=g+this._computeAngle(p,i,v),E=o.getDataVisibility(p)?u.getDistanceFromCenterForValue(this.getParsed(p).r):0;g=T,s&&(l.animateScale&&(E=0),l.animateRotate&&(S=T=h));const C={x:d,y:f,innerRadius:0,outerRadius:E,startAngle:S,endAngle:T,options:this.resolveDataElementOptions(p,b.active?"active":i)};this.updateElement(b,p,C,i)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?Gu(this.resolveDataElementOptions(e,r).angle||n):0}}dn(rS,"id","polarArea"),dn(rS,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),dn(rS,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return r.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});function Dp(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class t${constructor(e){dn(this,"options");this.options=e||{}}static override(e){Object.assign(t$.prototype,e)}init(){}formats(){return Dp()}parse(){return Dp()}format(){return Dp()}add(){return Dp()}diff(){return Dp()}startOf(){return Dp()}endOf(){return Dp()}}var cZe={_date:t$};function dZe(t,e,r,n){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?NYe:g0;if(n){if(i._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=l(s,e,r-d),h=l(s,e,r+d);return{lo:f.lo,hi:h.hi}}}}else return l(s,e,r)}return{lo:0,hi:s.length-1}}function _1(t,e,r,n,i){const s=t.getSortedVisibleDatasetMetas(),o=r[e];for(let a=0,l=s.length;a<l;++a){const{index:u,data:d}=s[a],{lo:f,hi:h}=dZe(s[a],e,o,i);for(let g=f;g<=h;++g){const p=d[g];p.skip||n(p,u,g)}}}function fZe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,o=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function R4(t,e,r,n,i){const s=[];return!i&&!t.isPointInArea(e)||_1(t,r,e,function(a,l,u){!i&&!nf(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function hZe(t,e,r,n){let i=[];function s(o,a,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],n),{angle:f}=$Ye(o,{x:e.x,y:e.y});DT(f,u,d)&&i.push({element:o,datasetIndex:a,index:l})}return _1(t,r,e,s),i}function pZe(t,e,r,n,i,s){let o=[];const a=fZe(r);let l=Number.POSITIVE_INFINITY;function u(d,f,h){const g=d.inRange(e.x,e.y,i);if(n&&!g)return;const p=d.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!g)return;const b=a(e,p);b<l?(o=[{element:d,datasetIndex:f,index:h}],l=b):b===l&&o.push({element:d,datasetIndex:f,index:h})}return _1(t,r,e,u),o}function $4(t,e,r,n,i,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?hZe(t,e,r,i):pZe(t,e,r,n,i,s)}function bz(t,e,r,n,i){const s=[],o=r==="x"?"inXRange":"inYRange";let a=!1;return _1(t,r,e,(l,u,d)=>{l[o](e[r],i)&&(s.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(e.x,e.y,i))}),n&&!a?[]:s}var mZe={evaluateInteractionItems:_1,modes:{index(t,e,r,n){const i=Gp(e,t),s=r.axis||"x",o=r.includeInvisible||!1,a=r.intersect?R4(t,i,s,n,o):$4(t,i,s,!1,n,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,f=u.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,r,n){const i=Gp(e,t),s=r.axis||"xy",o=r.includeInvisible||!1;let a=r.intersect?R4(t,i,s,n,o):$4(t,i,s,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point(t,e,r,n){const i=Gp(e,t),s=r.axis||"xy",o=r.includeInvisible||!1;return R4(t,i,s,n,o)},nearest(t,e,r,n){const i=Gp(e,t),s=r.axis||"xy",o=r.includeInvisible||!1;return $4(t,i,s,r.intersect,n,o)},x(t,e,r,n){const i=Gp(e,t);return bz(t,i,"x",r.intersect,n)},y(t,e,r,n){const i=Gp(e,t);return bz(t,i,"y",r.intersect,n)}}};const Dne=["left","top","right","bottom"];function Q_(t,e){return t.filter(r=>r.pos===e)}function xz(t,e){return t.filter(r=>Dne.indexOf(r.pos)===-1&&r.box.axis===e)}function J_(t,e){return t.sort((r,n)=>{const i=e?n:r,s=e?r:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function gZe(t){const e=[];let r,n,i,s,o,a;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:r,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function vZe(t){const e={};for(const r of t){const{stack:n,pos:i,stackWeight:s}=r;if(!n||!Dne.includes(i))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function _Ze(t,e){const r=vZe(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=r[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*n:l&&e.availableWidth,a.height=i):(a.width=n,a.height=d?d*i:l&&e.availableHeight)}return r}function yZe(t){const e=gZe(t),r=J_(e.filter(u=>u.box.fullSize),!0),n=J_(Q_(e,"left"),!0),i=J_(Q_(e,"right")),s=J_(Q_(e,"top"),!0),o=J_(Q_(e,"bottom")),a=xz(e,"x"),l=xz(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Q_(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function wz(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function Mne(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function bZe(t,e,r,n){const{pos:i,box:s}=r,o=t.maxPadding;if(!bi(i)){r.size&&(t[i]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?s.height:s.width),r.size=f.size/f.count,t[i]+=r.size}s.getPadding&&Mne(o,s.getPadding());const a=Math.max(0,e.outerWidth-wz(o,t,"left","right")),l=Math.max(0,e.outerHeight-wz(o,t,"top","bottom")),u=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,r.horizontal?{same:u,other:d}:{same:d,other:u}}function xZe(t){const e=t.maxPadding;function r(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function wZe(t,e){const r=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],r[o])}),s}return n(t?["left","right"]:["top","bottom"])}function Iy(t,e,r,n){const i=[];let s,o,a,l,u,d;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,wZe(a.horizontal,e));const{same:f,other:h}=bZe(e,r,a,n);u|=f&&i.length,d=d||h,l.fullSize||i.push(a)}return u&&Iy(i,e,r,n)||d}function Cx(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function Sz(t,e,r,n){const i=r.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,u=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const f=e.w*d,h=u.size||l.height;IT(u.start)&&(o=u.start),l.fullSize?Cx(l,i.left,o,r.outerWidth-i.right-i.left,h):Cx(l,e.left+u.placed,o,f,h),u.start=o,u.placed+=f,o=l.bottom}else{const f=e.h*d,h=u.size||l.width;IT(u.start)&&(s=u.start),l.fullSize?Cx(l,s,i.top,h,r.outerHeight-i.bottom-i.top):Cx(l,s,e.top+u.placed,h,f),u.start=s,u.placed+=f,s=l.right}}e.x=s,e.y=o}var tu={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=na(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(r-i.height,0),a=yZe(t.boxes),l=a.vertical,u=a.horizontal;Oi(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=l.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},i);Mne(h,na(n));const g=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),p=_Ze(l.concat(u),f);Iy(a.fullSize,g,f,p),Iy(l,g,f,p),Iy(u,g,f,p)&&Iy(l,g,f,p),xZe(g),Sz(a.leftAndTop,g,f,p),g.x+=g.w,g.y+=g.h,Sz(a.rightAndBottom,g,f,p),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Oi(a.chartArea,v=>{const b=v.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Rne{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}updateConfig(e){}}class SZe extends Rne{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const nS="$chartjs",TZe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Tz=t=>t===null||t==="";function EZe(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[nS]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Tz(i)){const s=uz(t,"width");s!==void 0&&(t.width=s)}if(Tz(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=uz(t,"height");s!==void 0&&(t.height=s)}return t}const $ne=LKe?{passive:!0}:!1;function CZe(t,e,r){t&&t.addEventListener(e,r,$ne)}function AZe(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,$ne)}function PZe(t,e){const r=TZe[t.type]||t.type,{x:n,y:i}=Gp(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function LT(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function kZe(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||LT(a.addedNodes,n),o=o&&!LT(a.removedNodes,n);o&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function IZe(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||LT(a.removedNodes,n),o=o&&!LT(a.addedNodes,n);o&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const vb=new Map;let Ez=0;function Lne(){const t=window.devicePixelRatio;t!==Ez&&(Ez=t,vb.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function OZe(t,e){vb.size||window.addEventListener("resize",Lne),vb.set(t,e)}function DZe(t){vb.delete(t),vb.size||window.removeEventListener("resize",Lne)}function MZe(t,e,r){const n=t.canvas,i=n&&e$(n);if(!i)return;const s=_ne((a,l)=>{const u=i.clientWidth;r(a,l),u<i.clientWidth&&r()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||s(u,d)});return o.observe(i),OZe(t,s),o}function L4(t,e,r){r&&r.disconnect(),e==="resize"&&DZe(t)}function RZe(t,e,r){const n=t.canvas,i=_ne(s=>{t.ctx!==null&&r(PZe(s,t))},t);return CZe(n,e,i),i}class $Ze extends Rne{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(EZe(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[nS])return!1;const n=r[nS].initial;["height","width"].forEach(s=>{const o=n[s];os(o)?r.removeAttribute(s):r.setAttribute(s,o)});const i=n.style||{};return Object.keys(i).forEach(s=>{r.style[s]=i[s]}),r.width=r.width,delete r[nS],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const i=e.$proxies||(e.$proxies={}),o={attach:kZe,detach:IZe,resize:MZe}[r]||RZe;i[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:L4,detach:L4,resize:L4}[r]||AZe)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return $Ke(e,r,n,i)}isAttached(e){const r=e$(e);return!!(r&&r.isConnected)}}function LZe(t){return!J6()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?SZe:$Ze}var cw;let mm=(cw=class{constructor(){dn(this,"x");dn(this,"y");dn(this,"active",!1);dn(this,"options");dn(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return gb(this.x)&&gb(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}},dn(cw,"defaults",{}),dn(cw,"defaultRoutes"),cw);function FZe(t,e){const r=t.options.ticks,n=NZe(t),i=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?UZe(e):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>i)return VZe(e,u,s,o/i),u;const d=BZe(s,e,i);if(o>0){let f,h;const g=o>1?Math.round((l-a)/(o-1)):null;for(Ax(e,u,d,os(g)?0:a-g,a),f=0,h=o-1;f<h;f++)Ax(e,u,d,s[f],s[f+1]);return Ax(e,u,d,l,os(g)?e.length:l+g),u}return Ax(e,u,d),u}function NZe(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function BZe(t,e,r){const n=zZe(t),i=e.length/r;if(!n)return Math.max(i,1);const s=MYe(n);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function UZe(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function VZe(t,e,r,n){let i=0,s=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=r[i*n])}function Ax(t,e,r,n,i){const s=ni(n,0),o=Math.min(ni(i,t.length),t.length);let a=0,l,u,d;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),d=s;d<0;)a++,d=Math.round(s+a*r);for(u=Math.max(s,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(s+a*r))}function zZe(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const jZe=t=>t==="left"?"right":t==="right"?"left":t,Cz=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,Az=(t,e)=>Math.min(e||t,t);function Pz(t,e){const r=[],n=t.length/e,i=t.length;let s=0;for(;s<i;s+=n)r.push(t[Math.floor(s)]);return r}function HZe(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),u;if(!(r&&(n===1?u=Math.max(l-s,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-a||l>o+a)))return l}function GZe(t,e){Oi(t,r=>{const n=r.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete r.data[n[s]];n.splice(0,i)}})}function ey(t){return t.drawTicks?t.tickLength:0}function kz(t,e){if(!t.display)return 0;const r=lo(t.font,e),n=na(t.padding);return(ys(t.text)?t.text.length:1)*r.lineHeight+n.height}function WZe(t,e){return op(t,{scale:e,type:"scale"})}function qZe(t,e,r){return op(t,{tick:r,index:e,type:"tick"})}function XZe(t,e,r){let n=W6(t);return(r&&e!=="right"||!r&&e==="right")&&(n=jZe(n)),n}function YZe(t,e,r,n){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:d}=l;let f=0,h,g,p;const v=o-i,b=a-s;if(t.isHorizontal()){if(g=Zo(n,s,a),bi(r)){const S=Object.keys(r)[0],T=r[S];p=d[S].getPixelForValue(T)+v-e}else r==="center"?p=(u.bottom+u.top)/2+v-e:p=Cz(t,r,e);h=a-s}else{if(bi(r)){const S=Object.keys(r)[0],T=r[S];g=d[S].getPixelForValue(T)-b+e}else r==="center"?g=(u.left+u.right)/2-b+e:g=Cz(t,r,e);p=Zo(n,o,i),f=r==="left"?-xa:xa}return{titleX:g,titleY:p,maxWidth:h,rotation:f}}class gm extends mm{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=pl(e,Number.POSITIVE_INFINITY),r=pl(r,Number.NEGATIVE_INFINITY),n=pl(n,Number.POSITIVE_INFINITY),i=pl(i,Number.NEGATIVE_INFINITY),{min:pl(e,n),max:pl(r,i),minDefined:To(e),maxDefined:To(r)}}getMinMax(e){let{min:r,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:r,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),i||(r=Math.min(r,o.min)),s||(n=Math.max(n,o.max));return r=s&&r>n?n:r,n=i&&r>n?r:n,{min:pl(r,pl(n,r)),max:pl(n,pl(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){qi(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=fKe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Pz(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=FZe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){qi(this.options.afterUpdate,[this])}beforeSetDimensions(){qi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){qi(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),qi(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){qi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=qi(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){qi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){qi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=Az(this.ticks.length,e.ticks.maxTicksLimit),i=r.minRotation||0,s=r.maxRotation;let o=i,a,l,u;if(!this._isVisible()||!r.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,g=eu(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/n:g/(n-1),f+6>a&&(a=g/(n-(e.offset?.5:1)),l=this.maxHeight-ey(e.grid)-r.padding-kz(e.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),o=H6(Math.min(Math.asin(eu((d.highest.height+6)/a,-1,1)),Math.asin(eu(l/u,-1,1))-Math.asin(eu(h/u,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){qi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){qi(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=kz(i,r.options.font);if(a?(e.width=this.maxWidth,e.height=ey(s)+l):(e.height=this.maxHeight,e.width=ey(s)+l),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),g=n.padding*2,p=Gu(this.labelRotation),v=Math.cos(p),b=Math.sin(p);if(a){const S=n.mirror?0:b*f.width+v*h.height;e.height=Math.min(this.maxHeight,e.height+S+g)}else{const S=n.mirror?0:v*f.width+b*h.height;e.width=Math.min(this.maxWidth,e.width+S+g)}this._calculatePadding(u,d,b,v)}}this._handleMargins(),a?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,g=0;l?u?(h=i*e.width,g=n*r.height):(h=n*e.height,g=i*r.width):s==="start"?g=r.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,g=r.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let d=r.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=r.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){qi(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)os(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=Pz(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(r/Az(r,n));let u=0,d=0,f,h,g,p,v,b,S,T,E,C,P;for(f=0;f<r;f+=l){if(p=e[f].label,v=this._resolveTickFontOptions(f),i.font=b=v.string,S=s[b]=s[b]||{data:{},gc:[]},T=v.lineHeight,E=C=0,!os(p)&&!ys(p))E=MT(i,S.data,S.gc,E,p),C=T;else if(ys(p))for(h=0,g=p.length;h<g;++h)P=p[h],!os(P)&&!ys(P)&&(E=MT(i,S.data,S.gc,E,P),C+=T);o.push(E),a.push(C),u=Math.max(E,u),d=Math.max(C,d)}GZe(s,r);const D=o.indexOf(u),L=a.indexOf(d),j=te=>({width:o[te]||0,height:a[te]||0});return{first:j(0),last:j(r-1),widest:j(D),highest:j(L),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return FYe(this._alignToPixels?Op(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=qZe(this.getContext(),e,n))}return this.$context||(this.$context=WZe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=Gu(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=ey(s),g=[],p=a.setContext(this.getContext()),v=p.display?p.width:0,b=v/2,S=function(Y){return Op(n,Y,v)};let T,E,C,P,D,L,j,te,se,q,X,Q;if(o==="top")T=S(this.bottom),L=this.bottom-h,te=T-b,q=S(e.top)+b,Q=e.bottom;else if(o==="bottom")T=S(this.top),q=e.top,Q=S(e.bottom)-b,L=T+b,te=this.top+h;else if(o==="left")T=S(this.right),D=this.right-h,j=T-b,se=S(e.left)+b,X=e.right;else if(o==="right")T=S(this.left),se=e.left,X=S(e.right)-b,D=T+b,j=this.left+h;else if(r==="x"){if(o==="center")T=S((e.top+e.bottom)/2+.5);else if(bi(o)){const Y=Object.keys(o)[0],ee=o[Y];T=S(this.chart.scales[Y].getPixelForValue(ee))}q=e.top,Q=e.bottom,L=T+b,te=L+h}else if(r==="y"){if(o==="center")T=S((e.left+e.right)/2);else if(bi(o)){const Y=Object.keys(o)[0],ee=o[Y];T=S(this.chart.scales[Y].getPixelForValue(ee))}D=T-b,j=D-h,se=e.left,X=e.right}const $=ni(i.ticks.maxTicksLimit,f),V=Math.max(1,Math.ceil(f/$));for(E=0;E<f;E+=V){const Y=this.getContext(E),ee=s.setContext(Y),ae=a.setContext(Y),H=ee.lineWidth,J=ee.color,ie=ae.dash||[],xe=ae.dashOffset,qe=ee.tickWidth,et=ee.tickColor,Je=ee.tickBorderDash||[],lt=ee.tickBorderDashOffset;C=HZe(this,E,l),C!==void 0&&(P=Op(n,C,H),u?D=j=se=X=P:L=te=q=Q=P,g.push({tx1:D,ty1:L,tx2:j,ty2:te,x1:se,y1:q,x2:X,y2:Q,width:H,color:J,borderDash:ie,borderDashOffset:xe,tickWidth:qe,tickColor:et,tickBorderDash:Je,tickBorderDashOffset:lt}))}return this._ticksLength=f,this._borderValue=T,g}_computeLabelItems(e){const r=this.axis,n=this.options,{position:i,ticks:s}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:f}=s,h=ey(n.grid),g=h+d,p=f?-d:g,v=-Gu(this.labelRotation),b=[];let S,T,E,C,P,D,L,j,te,se,q,X,Q="middle";if(i==="top")D=this.bottom-p,L=this._getXAxisLabelAlignment();else if(i==="bottom")D=this.top+p,L=this._getXAxisLabelAlignment();else if(i==="left"){const V=this._getYAxisLabelAlignment(h);L=V.textAlign,P=V.x}else if(i==="right"){const V=this._getYAxisLabelAlignment(h);L=V.textAlign,P=V.x}else if(r==="x"){if(i==="center")D=(e.top+e.bottom)/2+g;else if(bi(i)){const V=Object.keys(i)[0],Y=i[V];D=this.chart.scales[V].getPixelForValue(Y)+g}L=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")P=(e.left+e.right)/2-g;else if(bi(i)){const V=Object.keys(i)[0],Y=i[V];P=this.chart.scales[V].getPixelForValue(Y)}L=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(l==="start"?Q="top":l==="end"&&(Q="bottom"));const $=this._getLabelSizes();for(S=0,T=a.length;S<T;++S){E=a[S],C=E.label;const V=s.setContext(this.getContext(S));j=this.getPixelForTick(S)+s.labelOffset,te=this._resolveTickFontOptions(S),se=te.lineHeight,q=ys(C)?C.length:1;const Y=q/2,ee=V.color,ae=V.textStrokeColor,H=V.textStrokeWidth;let J=L;o?(P=j,L==="inner"&&(S===T-1?J=this.options.reverse?"left":"right":S===0?J=this.options.reverse?"right":"left":J="center"),i==="top"?u==="near"||v!==0?X=-q*se+se/2:u==="center"?X=-$.highest.height/2-Y*se+se:X=-$.highest.height+se/2:u==="near"||v!==0?X=se/2:u==="center"?X=$.highest.height/2-Y*se:X=$.highest.height-q*se,f&&(X*=-1),v!==0&&!V.showLabelBackdrop&&(P+=se/2*Math.sin(v))):(D=j,X=(1-q)*se/2);let ie;if(V.showLabelBackdrop){const xe=na(V.backdropPadding),qe=$.heights[S],et=$.widths[S];let Je=X-xe.top,lt=0-xe.left;switch(Q){case"middle":Je-=qe/2;break;case"bottom":Je-=qe;break}switch(L){case"center":lt-=et/2;break;case"right":lt-=et;break;case"inner":S===T-1?lt-=et:S>0&&(lt-=et/2);break}ie={left:lt,top:Je,width:et+xe.width,height:qe+xe.height,color:V.backdropColor}}b.push({label:C,font:te,textOffset:X,options:{rotation:v,color:ee,strokeColor:ae,strokeWidth:H,textAlign:J,textBaseline:Q,translation:[P,D],backdrop:ie}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-Gu(this.labelRotation))return e==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let u,d;return r==="left"?i?(d=this.right+s,n==="near"?u="left":n==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,n==="near"?u="right":n==="center"?(u="center",d-=l/2):(u="left",d=this.left)):r==="right"?i?(d=this.left+s,n==="near"?u="right":n==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,n==="near"?u="left":n==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:i,width:s,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,s,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,o=i.length;s<o;++s){const l=i[s];r.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=Op(e,this.left,o)-o/2,d=Op(e,this.right,a)+a/2,f=h=l):(f=Op(e,this.top,o)-o/2,h=Op(e,this.bottom,a)+a/2,u=d=l),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,h),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&X6(n,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,u=o.label,d=o.textOffset;Z0(n,u,0,d,l,a)}i&&Y6(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const s=lo(n.font),o=na(n.padding),a=n.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||bi(r)?(l+=o.bottom,ys(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=YZe(this,l,r,a);Z0(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:XZe(a,r,i),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=ni(e.grid&&e.grid.z,-1),i=ni(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==gm.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,o;for(s=0,o=r.length;s<o;++s){const a=r[s];a[n]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return lo(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Px{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;QZe(r)&&(n=this.register(r));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,KZe(e,o,n),this.override&&Is.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in Is[i]&&(delete Is[i][n],this.override&&delete K0[n])}}function KZe(t,e,r){const n=mb(Object.create(null),[r?Is.get(r):{},Is.get(e),t.defaults]);Is.set(e,n),t.defaultRoutes&&ZZe(e,t.defaultRoutes),t.descriptors&&Is.describe(e,t.descriptors)}function ZZe(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),i=n.pop(),s=[t].concat(n).join("."),o=e[r].split("."),a=o.pop(),l=o.join(".");Is.route(s,i,l,a)})}function QZe(t){return"id"in t&&"defaults"in t}class JZe{constructor(){this.controllers=new Px(I0,"datasets",!0),this.elements=new Px(mm,"elements"),this.plugins=new Px(Object,"plugins"),this.scales=new Px(gm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Oi(i,o=>{const a=n||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,r,n){const i=j6(e);qi(n["before"+i],[],n),r[e](n),qi(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var Dc=new JZe;class eQe{constructor(){this._init=[]}notify(e,r,n,i){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,r,n,i){i=i||{};for(const s of e){const o=s.plugin,a=o[n],l=[r,i,s.options];if(qi(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){os(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,i=ni(n.options&&n.options.plugins,{}),s=tQe(n);return i===!1&&!r?[]:nQe(e,s,i,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}}function tQe(t){const e={},r=[],n=Object.keys(Dc.plugins.items);for(let s=0;s<n.length;s++)r.push(Dc.getPlugin(n[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function rQe(t,e){return!e&&t===!1?null:t===!0?{}:t}function nQe(t,{plugins:e,localIds:r},n,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,u=rQe(n[l],i);u!==null&&s.push({plugin:a,options:iQe(t.config,{plugin:a,local:r[l]},u,o)})}return s}function iQe(t,{plugin:e,local:r},n,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(n,s);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function CO(t,e){const r=Is.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function sQe(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function oQe(t,e){return t===e?"_index_":"_value_"}function Iz(t){if(t==="x"||t==="y"||t==="r")return t}function aQe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function AO(t,...e){if(Iz(t))return t;for(const r of e){const n=r.axis||aQe(r.position)||t.length>1&&Iz(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Oz(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function lQe(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return Oz(t,"x",r[0])||Oz(t,"y",r[0])}return{}}function uQe(t,e){const r=K0[t.type]||{scales:{}},n=e.scales||{},i=CO(t.type,e),s=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!bi(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=AO(o,a,lQe(o,t),Is.scales[a.type]),u=oQe(l,i),d=r.scales||{};s[o]=d2(Object.create(null),[{axis:l},a,d[l],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||CO(a,e),d=(K0[a]||{}).scales||{};Object.keys(d).forEach(f=>{const h=sQe(f,l),g=o[h+"AxisID"]||h;s[g]=s[g]||Object.create(null),d2(s[g],[{axis:h},n[g],d[f]])})}),Object.keys(s).forEach(o=>{const a=s[o];d2(a,[Is.scales[a.type],Is.scale])}),s}function Fne(t){const e=t.options||(t.options={});e.plugins=ni(e.plugins,{}),e.scales=uQe(t,e)}function Nne(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function cQe(t){return t=t||{},t.data=Nne(t.data),Fne(t),t}const Dz=new Map,Bne=new Set;function kx(t,e){let r=Dz.get(t);return r||(r=e(),Dz.set(t,r),Bne.add(r)),r}const ty=(t,e,r)=>{const n=mv(e,r);n!==void 0&&t.add(n)};class dQe{constructor(e){this._config=cQe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Nne(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Fne(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return kx(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return kx(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return kx(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return kx(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){const{options:i,type:s}=this,o=this._cachedScopes(e,n),a=o.get(r);if(a)return a;const l=new Set;r.forEach(d=>{e&&(l.add(e),d.forEach(f=>ty(l,e,f))),d.forEach(f=>ty(l,i,f)),d.forEach(f=>ty(l,K0[s]||{},f)),d.forEach(f=>ty(l,Is,f)),d.forEach(f=>ty(l,TO,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),Bne.has(r)&&o.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,K0[r]||{},Is.datasets[r]||{},{type:r},Is,TO]}resolveNamedOptions(e,r,n,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Mz(this._resolverCache,e,i);let l=o;if(hQe(o,r)){s.$shared=!1,n=Wh(n)?n():n;const u=this.createResolver(e,n,a);l=vv(o,n,u)}for(const u of r)s[u]=l[u];return s}createResolver(e,r,n=[""],i){const{resolver:s}=Mz(this._resolverCache,e,n);return bi(r)?vv(s,r,void 0,i):s}}function Mz(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let s=n.get(i);return s||(s={resolver:K6(e,r),subPrefixes:r.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,s)),s}const fQe=t=>bi(t)&&Object.getOwnPropertyNames(t).some(e=>Wh(t[e]));function hQe(t,e){const{isScriptable:r,isIndexable:n}=wne(t);for(const i of e){const s=r(i),o=n(i),a=(o||s)&&t[i];if(s&&(Wh(a)||fQe(a))||o&&ys(a))return!0}return!1}var pQe="4.4.2";const mQe=["top","bottom","left","right","chartArea"];function Rz(t,e){return t==="top"||t==="bottom"||mQe.indexOf(t)===-1&&e==="x"}function $z(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function Lz(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),qi(r&&r.onComplete,[t],e)}function gQe(t){const e=t.chart,r=e.options.animation;qi(r&&r.onProgress,[t],e)}function Une(t){return J6()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const iS={},Fz=t=>{const e=Une(t);return Object.values(iS).filter(r=>r.canvas===e).pop()};function vQe(t,e,r){const n=Object.keys(t);for(const i of n){const s=+i;if(s>=e){const o=t[i];delete t[i],(r>0||s>e)&&(t[s+r]=o)}}}function _Qe(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}function Ix(t,e,r){return t.options.clip?t[r]:e[r]}function yQe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Ix(r,e,"left"),right:Ix(r,e,"right"),top:Ix(n,e,"top"),bottom:Ix(n,e,"bottom")}:e}var nh;let IC=(nh=class{static register(...e){Dc.add(...e),Nz()}static unregister(...e){Dc.remove(...e),Nz()}constructor(e,r){const n=this.config=new dQe(r),i=Une(e),s=Fz(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||LZe(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,d=l&&l.width;if(this.id=TYe(),this.ctx=a,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new eQe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=zYe(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],iS[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Gd.listen(this,"complete",Lz),Gd.listen(this,"progress",gQe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:s}=this;return os(e)?r&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Dc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lz(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sz(this.canvas,this.ctx),this}stop(){return Gd.stop(this),this}resize(e,r){Gd.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,r,s),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,lz(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),qi(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Oi(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,i=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let s=[];r&&(s=s.concat(Object.keys(r).map(o=>{const a=r[o],l=AO(o,a),u=l==="r",d=l==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Oi(s,o=>{const a=o.options,l=a.id,u=AO(l,a),d=ni(a.type,o.dtype);(a.position===void 0||Rz(a.position,u)!==Rz(o.dposition))&&(a.position=o.dposition),i[l]=!0;let f=null;if(l in n&&n[l].type===d)f=n[l];else{const h=Dc.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(a,e)}),Oi(i,(o,a)=>{o||delete n[a]}),Oi(n,o=>{tu.configure(this,o,o.options),tu.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort($z("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,i)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const s=r[n];let o=this.getDatasetMeta(n);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=s.indexAxis||CO(a,this.options),o.order=s.order||0,o.index=n,o.label=""+s.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=Dc.getController(a),{datasetElementType:u,dataElementType:d}=Is.datasets[a];Object.assign(l,{dataElementType:Dc.getElement(d),datasetElementType:u&&Dc.getElement(u)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Oi(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Oi(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort($z("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Oi(this.scales,e=>{tu.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!KV(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of r){const o=n==="_removeElements"?-s:s;vQe(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=n(0);for(let s=1;s<r;s++)if(!KV(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;tu.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Oi(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Wh(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Gd.has(this)?this.attached&&!Gd.running(this)&&Gd.start(this):(this.draw(),Lz({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resize(n,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let i,s;for(i=0,s=r.length;i<s;++i){const o=r[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n=e._clip,i=!n.disabled,s=yQe(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&X6(r,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),e.controller.draw(),i&&Y6(r),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return nf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,i){const s=mZe.modes[r];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=op(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);IT(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(s,{visible:n}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Gd.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),sz(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete iS[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,o)=>{r.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Oi(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,u)=>{r.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(r.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",s),n("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",a)},r.isAttached(this.canvas)?a():o()}unbindEvents(){Oi(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Oi(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const i=n?"set":"remove";let s,o,a,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!PT(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const i=this.options.hover,s=(l,u)=>l.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=s(r,e),a=n?e:s(e,r);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:i=[],options:s}=this,o=r,a=this._getActiveElements(e,i,n,o),l=IYe(e),u=_Qe(e,this._lastEvent,n,l);n&&(this._lastEvent=null,qi(s.onHover,[e,a,this],this),l&&qi(s.onClick,[e,a,this],this));const d=!PT(a,i);return(d||r)&&(this._active=a,this._updateHoverStyles(a,i,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,i){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},dn(nh,"defaults",Is),dn(nh,"instances",iS),dn(nh,"overrides",K0),dn(nh,"registry",Dc),dn(nh,"version",pQe),dn(nh,"getChart",Fz),nh);function Nz(){return Oi(IC.instances,t=>t._plugins.invalidate())}function Vne(t,e,r=e){t.lineCap=ni(r.borderCapStyle,e.borderCapStyle),t.setLineDash(ni(r.borderDash,e.borderDash)),t.lineDashOffset=ni(r.borderDashOffset,e.borderDashOffset),t.lineJoin=ni(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ni(r.borderWidth,e.borderWidth),t.strokeStyle=ni(r.borderColor,e.borderColor)}function bQe(t,e,r){t.lineTo(r.x,r.y)}function xQe(t){return t.stepped?rKe:t.tension||t.cubicInterpolationMode==="monotone"?nKe:bQe}function zne(t,e,r={}){const n=t.length,{start:i=0,end:s=n-1}=r,{start:o,end:a}=e,l=Math.max(i,o),u=Math.min(s,a),d=i<o&&s<o||i>a&&s>a;return{count:n,start:l,loop:e.loop,ilen:u<l&&!d?n+u-l:u-l}}function wQe(t,e,r,n){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:u}=zne(i,r,n),d=xQe(s);let{move:f=!0,reverse:h}=n||{},g,p,v;for(g=0;g<=u;++g)p=i[(a+(h?u-g:g))%o],!p.skip&&(f?(t.moveTo(p.x,p.y),f=!1):d(t,v,p,h,s.stepped),v=p);return l&&(p=i[(a+(h?u:0))%o],d(t,v,p,h,s.stepped)),!!l}function SQe(t,e,r,n){const i=e.points,{count:s,start:o,ilen:a}=zne(i,r,n),{move:l=!0,reverse:u}=n||{};let d=0,f=0,h,g,p,v,b,S;const T=C=>(o+(u?a-C:C))%s,E=()=>{v!==b&&(t.lineTo(d,b),t.lineTo(d,v),t.lineTo(d,S))};for(l&&(g=i[T(0)],t.moveTo(g.x,g.y)),h=0;h<=a;++h){if(g=i[T(h)],g.skip)continue;const C=g.x,P=g.y,D=C|0;D===p?(P<v?v=P:P>b&&(b=P),d=(f*d+C)/++f):(E(),t.lineTo(C,P),p=D,f=0,v=b=P),S=P}E()}function PO(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?SQe:wQe}function TQe(t){return t.stepped?FKe:t.tension||t.cubicInterpolationMode==="monotone"?NKe:Wp}function EQe(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),Vne(t,e.options),t.stroke(i)}function CQe(t,e,r,n){const{segments:i,options:s}=e,o=PO(e);for(const a of i)Vne(t,s,a.style),t.beginPath(),o(t,e,a,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const AQe=typeof Path2D=="function";function PQe(t,e,r,n){AQe&&!e.options.segment?EQe(t,e,r,n):CQe(t,e,r,n)}class Oy extends mm{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;kKe(this._points,n,e,i,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=WKe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,i=e[r],s=this.points,o=jKe(this,{property:r,start:i,end:i});if(!o.length)return;const a=[],l=TQe(n);let u,d;for(u=0,d=o.length;u<d;++u){const{start:f,end:h}=o[u],g=s[f],p=s[h];if(g===p){a.push(g);continue}const v=Math.abs((i-g[r])/(p[r]-g[r])),b=l(g,p,v,n.stepped);b[r]=e[r],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,r,n){return PO(this)(e,this,r,n)}path(e,r,n){const i=this.segments,s=PO(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const a of i)o&=s(e,this,a,{start:r,end:r+n-1});return!!o}draw(e,r,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),PQe(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}dn(Oy,"id","line"),dn(Oy,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),dn(Oy,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),dn(Oy,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Bz(t,e,r,n){const i=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<i.radius+i.hitRadius}class sS extends mm{constructor(r){super();dn(this,"parsed");dn(this,"skip");dn(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(r-o,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return Bz(this,r,"x",n)}inYRange(r,n){return Bz(this,r,"y",n)}getCenterPoint(r){const{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){const i=this.options;this.skip||i.radius<.1||!nf(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,EO(r,i,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}dn(sS,"id","point"),dn(sS,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),dn(sS,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const kO=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Uz=kO.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function jne(t){return kO[t%kO.length]}function Hne(t){return Uz[t%Uz.length]}function kQe(t,e){return t.borderColor=jne(e),t.backgroundColor=Hne(e),++e}function IQe(t,e){return t.backgroundColor=t.data.map(()=>jne(e++)),e}function OQe(t,e){return t.backgroundColor=t.data.map(()=>Hne(e++)),e}function DQe(t){let e=0;return(r,n)=>{const i=t.getDatasetMeta(n).controller;i instanceof ky?e=IQe(r,e):i instanceof rS?e=OQe(r,e):i&&(e=kQe(r,e))}}function Vz(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function MQe(t){return t&&(t.borderColor||t.backgroundColor)}var RQe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:i}=t.config,{elements:s}=i;if(!r.forceOverride&&(Vz(n)||MQe(i)||s&&Vz(s)))return;const o=DQe(t);n.forEach(o)}};const zz=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},$Qe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class jz extends mm{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=qi(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=lo(n.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=zz(n,s);let u,d;r.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,s,a,l)+10):(d=this.maxHeight,u=this._fitCols(o,i,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+a;let f=e;s.textAlign="left",s.textBaseline="middle";let h=-1,g=-d;return this.legendItems.forEach((p,v)=>{const b=n+r/2+s.measureText(p.text).width;(v===0||u[u.length-1]+b+2*a>o)&&(f+=d,u[u.length-(v>0?0:1)]=0,g+=d,h++),l[v]={left:0,top:g,row:h,width:b,height:i},u[u.length-1]+=b+a}),f}_fitCols(e,r,n,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let f=a,h=0,g=0,p=0,v=0;return this.legendItems.forEach((b,S)=>{const{itemWidth:T,itemHeight:E}=LQe(n,r,s,b,i);S>0&&g+E+2*a>d&&(f+=h+a,u.push({width:h,height:g}),p+=h+a,v++,h=g=0),l[S]={left:p,top:g,col:v,width:T,height:E},h=Math.max(h,T),g+=E+a}),f+=h,u.push({width:h,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:s}}=this,o=Ag(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Zo(n,this.left+i,this.right-this.lineWidths[a]);for(const u of r)a!==u.row&&(a=u.row,l=Zo(n,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let a=0,l=Zo(n,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of r)u.col!==a&&(a=u.col,l=Zo(n,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;X6(e,this),this._draw(),Y6(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:i}=this,{align:s,labels:o}=e,a=Is.color,l=Ag(e.rtl,this.left,this.width),u=lo(o.font),{padding:d}=o,f=u.size,h=f/2;let g;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:p,boxHeight:v,itemHeight:b}=zz(o,f),S=function(D,L,j){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;i.save();const te=ni(j.lineWidth,1);if(i.fillStyle=ni(j.fillStyle,a),i.lineCap=ni(j.lineCap,"butt"),i.lineDashOffset=ni(j.lineDashOffset,0),i.lineJoin=ni(j.lineJoin,"miter"),i.lineWidth=te,i.strokeStyle=ni(j.strokeStyle,a),i.setLineDash(ni(j.lineDash,[])),o.usePointStyle){const se={radius:v*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:te},q=l.xPlus(D,p/2),X=L+h;bne(i,se,q,X,o.pointStyleWidth&&p)}else{const se=L+Math.max((f-v)/2,0),q=l.leftForLtr(D,p),X=Cg(j.borderRadius);i.beginPath(),Object.values(X).some(Q=>Q!==0)?RT(i,{x:q,y:se,w:p,h:v,radius:X}):i.rect(q,se,p,v),i.fill(),te!==0&&i.stroke()}i.restore()},T=function(D,L,j){Z0(i,j.text,D,L+b/2,u,{strikethrough:j.hidden,textAlign:l.textAlign(j.textAlign)})},E=this.isHorizontal(),C=this._computeTitleHeight();E?g={x:Zo(s,this.left+d,this.right-n[0]),y:this.top+d+C,line:0}:g={x:this.left+d,y:Zo(s,this.top+C+d,this.bottom-r[0].height),line:0},Ane(this.ctx,e.textDirection);const P=b+d;this.legendItems.forEach((D,L)=>{i.strokeStyle=D.fontColor,i.fillStyle=D.fontColor;const j=i.measureText(D.text).width,te=l.textAlign(D.textAlign||(D.textAlign=o.textAlign)),se=p+h+j;let q=g.x,X=g.y;l.setWidth(this.width),E?L>0&&q+se+d>this.right&&(X=g.y+=P,g.line++,q=g.x=Zo(s,this.left+d,this.right-n[g.line])):L>0&&X+P>this.bottom&&(q=g.x=q+r[g.line].width+d,g.line++,X=g.y=Zo(s,this.top+C+d,this.bottom-r[g.line].height));const Q=l.x(q);if(S(Q,X,D),q=jYe(te,q+p+h,E?q+se:this.right,e.rtl),T(l.x(q),X,D),E)g.x+=se+d;else if(typeof D.text!="string"){const $=u.lineHeight;g.y+=Gne(D,$)+d}else g.y+=P}),Pne(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=lo(r.font),i=na(r.padding);if(!r.display)return;const s=Ag(e.rtl,this.left,this.width),o=this.ctx,a=r.position,l=n.size/2,u=i.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=Zo(e.align,f,this.right-h);else{const p=this.columnSizes.reduce((v,b)=>Math.max(v,b.height),0);d=u+Zo(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const g=Zo(a,f,f+h);o.textAlign=s.textAlign(W6(a)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,Z0(o,r.text,g,d,n)}_computeTitleHeight(){const e=this.options.title,r=lo(e.font),n=na(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,i,s;if(Py(e,this.left,this.right)&&Py(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],Py(e,i.left,i.left+i.width)&&Py(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!BQe(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=$Qe(i,n);i&&!s&&qi(r.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&qi(r.onHover,[e,n,this],this)}else n&&qi(r.onClick,[e,n,this],this)}}function LQe(t,e,r,n,i){const s=FQe(n,t,e,r),o=NQe(i,n,e.lineHeight);return{itemWidth:s,itemHeight:o}}function FQe(t,e,r,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+r.size/2+n.measureText(i).width}function NQe(t,e,r){let n=t;return typeof e.text!="string"&&(n=Gne(e,r)),n}function Gne(t,e){const r=t.text?t.text.length:0;return e*r}function BQe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var UQe={id:"legend",_element:jz,start(t,e,r){const n=t.legend=new jz({ctx:t.ctx,options:r,chart:t});tu.configure(t,n,r),tu.addBox(t,n)},stop(t){tu.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;tu.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(r?0:void 0),d=na(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Wne extends mm{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const i=ys(n.text)?n.text.length:1;this._padding=na(n.padding);const s=i*lo(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:i,right:s,options:o}=this,a=o.align;let l=0,u,d,f;return this.isHorizontal()?(d=Zo(a,n,s),f=r+e,u=s-n):(o.position==="left"?(d=n+e,f=Zo(a,i,r),l=Ss*-.5):(d=s-e,f=Zo(a,r,i),l=Ss*.5),u=i-r),{titleX:d,titleY:f,maxWidth:u,rotation:l}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=lo(r.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);Z0(e,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:u,textAlign:W6(r.align),textBaseline:"middle",translation:[o,a]})}}function VQe(t,e){const r=new Wne({ctx:t.ctx,options:e,chart:t});tu.configure(t,r,e),tu.addBox(t,r),t.titleBlock=r}var zQe={id:"title",_element:Wne,start(t,e,r){VQe(t,r)},stop(t){const e=t.titleBlock;tu.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;tu.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dy={average(t){if(!t.length)return!1;let e,r,n=new Set,i=0,s=0;for(e=0,r=t.length;e<r;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++s}}return{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=SO(e,u);d<i&&(i=d,a=l)}}if(a){const l=a.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function Oc(t,e){return e&&(ys(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Wd(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function jQe(t,e){const{element:r,datasetIndex:n,index:i}=e,s=t.getDatasetMeta(n).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function Hz(t,e){const r=t.chart.ctx,{body:n,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=lo(e.bodyFont),u=lo(e.titleFont),d=lo(e.footerFont),f=s.length,h=i.length,g=n.length,p=na(e.padding);let v=p.height,b=0,S=n.reduce((C,P)=>C+P.before.length+P.lines.length+P.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,f&&(v+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),S){const C=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=g*C+(S-g)*l.lineHeight+(S-1)*e.bodySpacing}h&&(v+=e.footerMarginTop+h*d.lineHeight+(h-1)*e.footerSpacing);let T=0;const E=function(C){b=Math.max(b,r.measureText(C).width+T)};return r.save(),r.font=u.string,Oi(t.title,E),r.font=l.string,Oi(t.beforeBody.concat(t.afterBody),E),T=e.displayColors?o+2+e.boxPadding:0,Oi(n,C=>{Oi(C.before,E),Oi(C.lines,E),Oi(C.after,E)}),T=0,r.font=d.string,Oi(t.footer,E),r.restore(),b+=p.width,{width:b,height:v}}function HQe(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function GQe(t,e,r,n){const{x:i,width:s}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function WQe(t,e,r,n){const{x:i,width:s}=r,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return n==="center"?u=i<=(a+l)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),GQe(u,t,e,r)&&(u="center"),u}function Gz(t,e,r){const n=r.yAlign||e.yAlign||HQe(t,r);return{xAlign:r.xAlign||e.xAlign||WQe(t,e,r,n),yAlign:n}}function qQe(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function XQe(t,e,r){let{y:n,height:i}=t;return e==="top"?n+=r:e==="bottom"?n-=i+r:n-=i/2,n}function Wz(t,e,r,n){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=r,u=i+s,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:g}=Cg(o);let p=qQe(e,a);const v=XQe(e,l,u);return l==="center"?a==="left"?p+=u:a==="right"&&(p-=u):a==="left"?p-=Math.max(d,h)+i:a==="right"&&(p+=Math.max(f,g)+i),{x:eu(p,0,n.width-e.width),y:eu(v,0,n.height-e.height)}}function Ox(t,e,r){const n=na(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function qz(t){return Oc([],Wd(t))}function YQe(t,e,r){return op(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function Xz(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const qne={beforeTitle:Nd,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Nd,beforeBody:Nd,beforeLabel:Nd,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return os(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Nd,afterBody:Nd,beforeFooter:Nd,footer:Nd,afterFooter:Nd};function $a(t,e,r,n){const i=t[e].call(r,n);return typeof i>"u"?qne[e].call(r,n):i}class IO extends mm{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,s=new Ine(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=YQe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,i=$a(n,"beforeTitle",this,e),s=$a(n,"title",this,e),o=$a(n,"afterTitle",this,e);let a=[];return a=Oc(a,Wd(i)),a=Oc(a,Wd(s)),a=Oc(a,Wd(o)),a}getBeforeBody(e,r){return qz($a(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,i=[];return Oi(e,s=>{const o={before:[],lines:[],after:[]},a=Xz(n,s);Oc(o.before,Wd($a(a,"beforeLabel",this,s))),Oc(o.lines,$a(a,"label",this,s)),Oc(o.after,Wd($a(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,r){return qz($a(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,i=$a(n,"beforeFooter",this,e),s=$a(n,"footer",this,e),o=$a(n,"afterFooter",this,e);let a=[];return a=Oc(a,Wd(i)),a=Oc(a,Wd(s)),a=Oc(a,Wd(o)),a}_createItems(e){const r=this._active,n=this.chart.data,i=[],s=[],o=[];let a=[],l,u;for(l=0,u=r.length;l<u;++l)a.push(jQe(this.chart,r[l]));return e.filter&&(a=a.filter((d,f,h)=>e.filter(d,f,h,n))),e.itemSort&&(a=a.sort((d,f)=>e.itemSort(d,f,n))),Oi(a,d=>{const f=Xz(e.callbacks,d);i.push($a(f,"labelColor",this,d)),s.push($a(f,"labelPointStyle",this,d)),o.push($a(f,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,r){const n=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Dy[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=Hz(this,n),u=Object.assign({},a,l),d=Gz(this.chart,n,u),f=Wz(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,i){const s=this.getCaretPosition(e,n,i);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=Cg(a),{x:h,y:g}=e,{width:p,height:v}=r;let b,S,T,E,C,P;return s==="center"?(C=g+v/2,i==="left"?(b=h,S=b-o,E=C+o,P=C-o):(b=h+p,S=b+o,E=C-o,P=C+o),T=b):(i==="left"?S=h+Math.max(l,d)+o:i==="right"?S=h+p-Math.max(u,f)-o:S=this.caretX,s==="top"?(E=g,C=E-o,b=S-o,T=S+o):(E=g+v,C=E+o,b=S+o,T=S-o),P=E),{x1:b,x2:S,x3:T,y1:E,y2:C,y3:P}}drawTitle(e,r,n){const i=this.title,s=i.length;let o,a,l;if(s){const u=Ag(n.rtl,this.x,this.width);for(e.x=Ox(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",o=lo(n.titleFont),a=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,l=0;l<s;++l)r.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,r,n,i,s){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:u}=s,d=lo(s.bodyFont),f=Ox(this,"left",s),h=i.x(f),g=l<d.lineHeight?(d.lineHeight-l)/2:0,p=r.y+g;if(s.usePointStyle){const v={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(h,u)+u/2,S=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,EO(e,v,b,S),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,EO(e,v,b,S)}else{e.lineWidth=bi(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=i.leftForLtr(h,u),b=i.leftForLtr(i.xPlus(h,1),u-2),S=Cg(o.borderRadius);Object.values(S).some(T=>T!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,RT(e,{x:v,y:p,w:u,h:l,radius:S}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),RT(e,{x:b,y:p+1,w:u-2,h:l-2,radius:S}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,p,u,l),e.strokeRect(v,p,u,l),e.fillStyle=o.backgroundColor,e.fillRect(b,p+1,u-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:d}=n,f=lo(n.bodyFont);let h=f.lineHeight,g=0;const p=Ag(n.rtl,this.x,this.width),v=function(j){r.fillText(j,p.x(e.x+g),e.y+h/2),e.y+=h+s},b=p.textAlign(o);let S,T,E,C,P,D,L;for(r.textAlign=o,r.textBaseline="middle",r.font=f.string,e.x=Ox(this,b,n),r.fillStyle=n.bodyColor,Oi(this.beforeBody,v),g=a&&b!=="right"?o==="center"?u/2+d:u+2+d:0,C=0,D=i.length;C<D;++C){for(S=i[C],T=this.labelTextColors[C],r.fillStyle=T,Oi(S.before,v),E=S.lines,a&&E.length&&(this._drawColorBox(r,e,C,p,n),h=Math.max(f.lineHeight,l)),P=0,L=E.length;P<L;++P)v(E[P]),h=f.lineHeight;Oi(S.after,v)}g=0,h=f.lineHeight,Oi(this.afterBody,v),e.y-=s}drawFooter(e,r,n){const i=this.footer,s=i.length;let o,a;if(s){const l=Ag(n.rtl,this.x,this.width);for(e.x=Ox(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",o=lo(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,a=0;a<s;++a)r.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:d}=n,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:p}=Cg(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(a+f,l),o==="top"&&this.drawCaret(e,r,n,i),r.lineTo(a+u-h,l),r.quadraticCurveTo(a+u,l,a+u,l+h),o==="center"&&s==="right"&&this.drawCaret(e,r,n,i),r.lineTo(a+u,l+d-p),r.quadraticCurveTo(a+u,l+d,a+u-p,l+d),o==="bottom"&&this.drawCaret(e,r,n,i),r.lineTo(a+g,l+d),r.quadraticCurveTo(a,l+d,a,l+d-g),o==="center"&&s==="left"&&this.drawCaret(e,r,n,i),r.lineTo(a,l+f),r.quadraticCurveTo(a,l,a+f,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const o=Dy[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Hz(this,e),l=Object.assign({},o,this._size),u=Gz(r,e,l),d=Wz(e,l,u,r);(i._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=na(r.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,r),Ane(e,r.textDirection),s.y+=o.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),Pne(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,i=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!PT(n,i),o=this._positionChanged(i,r);(s||o)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,r,n),a=this._positionChanged(o,e),l=r||!PT(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return r.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:i,options:s}=this,o=Dy[s.position].call(this,e,r);return o!==!1&&(n!==o.x||i!==o.y)}}dn(IO,"positioners",Dy);var KQe={id:"tooltip",_element:IO,positioners:Dy,afterInit(t,e,r){r&&(t.tooltip=new IO({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qne},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const ZQe=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function QQe(t,e,r,n){const i=t.indexOf(e);if(i===-1)return ZQe(t,e,r,n);const s=t.lastIndexOf(e);return i!==s?r:i}const JQe=(t,e)=>t===null?null:eu(Math.round(t),0,e);function Yz(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class OO extends gm{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:i,label:s}of r)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(os(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:QQe(n,e,ni(r,e),this._addedLabels),JQe(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)i.push({value:o});return i}getLabelForValue(e){return Yz.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}dn(OO,"id","category"),dn(OO,"defaults",{ticks:{callback:Yz}});function eJe(t,e){const r=[],{bounds:i,step:s,min:o,max:a,precision:l,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=t,g=s||1,p=d-1,{min:v,max:b}=e,S=!os(o),T=!os(a),E=!os(u),C=(b-v)/(f+1);let P=QV((b-v)/p/g)*g,D,L,j,te;if(P<1e-14&&!S&&!T)return[{value:v},{value:b}];te=Math.ceil(b/P)-Math.floor(v/P),te>p&&(P=QV(te*P/p/g)*g),os(l)||(D=Math.pow(10,l),P=Math.ceil(P*D)/D),i==="ticks"?(L=Math.floor(v/P)*P,j=Math.ceil(b/P)*P):(L=v,j=b),S&&T&&s&&RYe((a-o)/s,P/1e3)?(te=Math.round(Math.min((a-o)/P,d)),P=(a-o)/te,L=o,j=a):E?(L=S?o:L,j=T?a:j,te=u-1,P=(j-L)/te):(te=(j-L)/P,f2(te,Math.round(te),P/1e3)?te=Math.round(te):te=Math.ceil(te));const se=Math.max(JV(P),JV(L));D=Math.pow(10,os(l)?se:l),L=Math.round(L*D)/D,j=Math.round(j*D)/D;let q=0;for(S&&(h&&L!==o?(r.push({value:o}),L<o&&q++,f2(Math.round((L+q*P)*D)/D,o,Kz(o,C,t))&&q++):L<o&&q++);q<te;++q){const X=Math.round((L+q*P)*D)/D;if(T&&X>a)break;r.push({value:X})}return T&&h&&j!==a?r.length&&f2(r[r.length-1].value,a,Kz(a,C,t))?r[r.length-1].value=a:r.push({value:a}):(!T||j===a)&&r.push({value:j}),r}function Kz(t,e,{horizontal:r,minRotation:n}){const i=Gu(n),s=(r?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class FT extends gm{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return os(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=r?i:l,a=l=>s=n?s:l;if(e){const l=gv(i),u=gv(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,o=eJe(i,s);return e.bounds==="ticks"&&mne(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-r)/Math.max(e.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return v1(e,this.chart.options.locale,this.options.ticks.format)}}class DO extends FT{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=To(e)?e:0,this.max=To(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=Gu(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}dn(DO,"id","linear"),dn(DO,"defaults",{ticks:{callback:PC.formatters.numeric}});const _b=t=>Math.floor(Th(t)),Mp=(t,e)=>Math.pow(10,_b(t)+e);function Zz(t){return t/Math.pow(10,_b(t))===1}function Qz(t,e,r){const n=Math.pow(10,r),i=Math.floor(t/n);return Math.ceil(e/n)-i}function tJe(t,e){const r=e-t;let n=_b(r);for(;Qz(t,e,n)>10;)n++;for(;Qz(t,e,n)<10;)n--;return Math.min(n,_b(t))}function rJe(t,{min:e,max:r}){e=pl(t.min,e);const n=[],i=_b(e);let s=tJe(e,r),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,u=Math.round((e-l)*o)/o,d=Math.floor((e-l)/a/10)*a*10;let f=Math.floor((u-d)/Math.pow(10,s)),h=pl(t.min,Math.round((l+d+f*Math.pow(10,s))*o)/o);for(;h<r;)n.push({value:h,major:Zz(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,o=s>=0?1:o),h=Math.round((l+d+f*Math.pow(10,s))*o)/o;const g=pl(t.max,h);return n.push({value:g,major:Zz(g),significand:f}),n}class Jz extends gm{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=FT.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return To(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=To(e)?Math.max(0,e):null,this.max=To(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!To(this._userMin)&&(this.min=e===Mp(this.min,0)?Mp(this.min,-1):Mp(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,i=this.max;const s=a=>n=e?n:a,o=a=>i=r?i:a;n===i&&(n<=0?(s(1),o(10)):(s(Mp(n,-1)),o(Mp(i,1)))),n<=0&&s(Mp(i,-1)),i<=0&&o(Mp(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=rJe(r,this);return e.bounds==="ticks"&&mne(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":v1(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Th(e),this._valueRange=Th(this.max)-Th(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Th(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}dn(Jz,"id","logarithmic"),dn(Jz,"defaults",{ticks:{callback:PC.formatters.logarithmic,major:{enabled:!0}}});function MO(t){const e=t.ticks;if(e.display&&t.display){const r=na(e.backdropPadding);return ni(e.font&&e.font.size,Is.font.size)+r.height}return 0}function nJe(t,e,r){return r=ys(r)?r:[r],{w:tKe(t,e.string,r),h:r.length*e.lineHeight}}function ej(t,e,r,n,i){return t===n||t===i?{start:e-r/2,end:e+r/2}:t<n||t>i?{start:e-r,end:e}:{start:e,end:e+r}}function iJe(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ss/s:0;for(let l=0;l<s;l++){const u=o.setContext(t.getPointLabelContext(l));i[l]=u.padding;const d=t.getPointPosition(l,t.drawingArea+i[l],a),f=lo(u.font),h=nJe(t.ctx,f,t._pointLabels[l]);n[l]=h;const g=Uu(t.getIndexAngle(l)+a),p=Math.round(H6(g)),v=ej(p,d.x,h.w,0,180),b=ej(p,d.y,h.h,90,270);sJe(r,e,g,v,b)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=lJe(t,n,i)}function sJe(t,e,r,n,i){const s=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let a=0,l=0;n.start<e.l?(a=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function oJe(t,e,r){const n=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=r,l=t.getPointPosition(e,n+i+o,s),u=Math.round(H6(Uu(l.angle+xa))),d=dJe(l.y,a.h,u),f=uJe(u),h=cJe(l.x,a.w,f);return{visible:!0,x:l.x,y:d,textAlign:f,left:h,top:d,right:h+a.w,bottom:d+a.h}}function aJe(t,e){if(!e)return!0;const{left:r,top:n,right:i,bottom:s}=t;return!(nf({x:r,y:n},e)||nf({x:r,y:s},e)||nf({x:i,y:n},e)||nf({x:i,y:s},e))}function lJe(t,e,r){const n=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:MO(s)/2,additionalAngle:o?Ss/i:0};let u;for(let d=0;d<i;d++){l.padding=r[d],l.size=e[d];const f=oJe(t,d,l);n.push(f),a==="auto"&&(f.visible=aJe(f,u),f.visible&&(u=f))}return n}function uJe(t){return t===0||t===180?"center":t<180?"left":"right"}function cJe(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function dJe(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function fJe(t,e,r){const{left:n,top:i,right:s,bottom:o}=r,{backdropColor:a}=e;if(!os(a)){const l=Cg(e.borderRadius),u=na(e.backdropPadding);t.fillStyle=a;const d=n-u.left,f=i-u.top,h=s-n+u.width,g=o-i+u.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),RT(t,{x:d,y:f,w:h,h:g,radius:l}),t.fill()):t.fillRect(d,f,h,g)}}function hJe(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=n.setContext(t.getPointLabelContext(i));fJe(r,o,s);const a=lo(o.font),{x:l,y:u,textAlign:d}=s;Z0(r,t._pointLabels[i],l,u+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function Xne(t,e,r,n){const{ctx:i}=t;if(r)i.arc(t.xCenter,t.yCenter,e,0,Vo);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function pJe(t,e,r,n,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!n||!a||!l||r<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),Xne(t,r,o,n),s.closePath(),s.stroke(),s.restore())}function mJe(t,e,r){return op(t,{label:r,index:e,type:"pointLabel"})}class Dx extends FT{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=na(MO(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=To(e)&&!isNaN(e)?e:0,this.max=To(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/MO(this.options))}generateTickLabels(e){FT.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const i=qi(this.options.pointLabels.callback,[r,n],this);return i||i===0?i:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?iJe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,i){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,i))}getIndexAngle(e){const r=Vo/(this._pointLabels.length||1),n=this.options.startAngle||0;return Uu(e*r+Gu(n))}getDistanceFromCenterForValue(e){if(os(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(os(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return mJe(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const i=this.getIndexAngle(e)-xa+n;return{x:Math.cos(i)*r+this.xCenter,y:Math.sin(i)*r+this.yCenter,angle:i}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:i,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Xne(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:i,border:s}=r,o=this._pointLabels.length;let a,l,u;if(r.pointLabels.display&&hJe(this,o),i.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const h=this.getContext(f),g=i.setContext(h),p=s.setContext(h);pJe(this,g,l,o,p)}}),n.display){for(e.save(),a=o-1;a>=0;a--){const d=n.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:h}=d;!h||!f||(e.lineWidth=h,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),u=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(l)),d=lo(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=d.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const f=na(u.backdropPadding);e.fillRect(-o/2-f.left,-s-d.size/2-f.top,o+f.width,d.size+f.height)}Z0(e,a.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}dn(Dx,"id","radialLinear"),dn(Dx,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:PC.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),dn(Dx,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),dn(Dx,"descriptors",{angleLines:{_fallback:"grid"}});const OC={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xa=Object.keys(OC);function tj(t,e){return t-e}function rj(t,e){if(os(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),To(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(i&&(o=i==="week"&&(gb(s)||s===!0)?r.startOf(o,"isoWeek",s):r.startOf(o,i)),+o)}function nj(t,e,r,n){const i=Xa.length;for(let s=Xa.indexOf(t);s<i-1;++s){const o=OC[Xa[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(a*o.size))<=n)return Xa[s]}return Xa[i-1]}function gJe(t,e,r,n,i){for(let s=Xa.length-1;s>=Xa.indexOf(r);s--){const o=Xa[s];if(OC[o].common&&t._adapter.diff(i,n,o)>=e-1)return o}return Xa[r?Xa.indexOf(r):0]}function vJe(t){for(let e=Xa.indexOf(t)+1,r=Xa.length;e<r;++e)if(OC[Xa[e]].common)return Xa[e]}function ij(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:i}=G6(r,e),s=r[n]>=e?r[n]:r[i];t[s]=!0}}function _Je(t,e,r,n){const i=t._adapter,s=+i.startOf(e[0].value,n),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,n))l=r[a],l>=0&&(e[l].major=!0);return e}function sj(t,e,r){const n=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,n.push({value:a,major:!1});return s===0||!r?n:_Je(t,n,i,r)}class NT extends gm{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),i=this._adapter=new cZe._date(e.adapters.date);i.init(r),d2(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:rj(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=To(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),s=To(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=BYe(i,s,o);return this._unit=r.unit||(n.autoSkip?nj(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):gJe(this,a.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:vJe(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),sj(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?r=1-i:r=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=eu(r,0,o),n=eu(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,i=this.options,s=i.time,o=s.unit||nj(s.minUnit,r,n,this._getLabelCapacity(r)),a=ni(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=gb(l)||l===!0,d={};let f=r,h,g;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":o),e.diff(n,r,o)>1e5*a)throw new Error(r+" and "+n+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,g=0;h<n;h=+e.add(h,a,o),g++)ij(d,h,p);return(h===n||i.bounds==="ticks"||g===1)&&ij(d,h,p),Object.keys(d).sort(tj).map(v=>+v)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const i=this.options.time.displayFormats,s=this._unit,o=r||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,i){const s=this.options,o=s.ticks.callback;if(o)return qi(o,[e,r,n],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&a[l],f=u&&a[u],h=n[r],g=u&&f&&h&&h.major;return this._adapter.format(e,i||(g?f:d))}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,i=Gu(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*s+a*o,h:n*o+a*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,sj(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)e=e.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)e.push(rj(this,i[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return VYe(e.sort(tj))}}dn(NT,"id","time"),dn(NT,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Mx(t,e,r){let n=0,i=t.length-1,s,o,a,l;r?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=g0(t,"pos",e)),{pos:s,time:a}=t[n],{pos:o,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=g0(t,"time",e)),{time:s,pos:a}=t[n],{time:o,pos:l}=t[i]);const u=o-s;return u?a+(l-a)*(e-s)/u:a}class oj extends NT{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Mx(r,this.min),this._tableRange=Mx(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,i=[],s=[];let o,a,l,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=r&&u<=n&&i.push(u);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],l=i[o-1],u=i[o],Math.round((d+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Mx(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Mx(this._table,n*this._tableRange+this._minPos,!0)}}dn(oj,"id","timeseries"),dn(oj,"defaults",NT.defaults);const Yne={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},yJe={ariaLabel:{type:String},ariaDescribedby:{type:String}},bJe={type:{type:String,required:!0},...Yne,...yJe},xJe=lW[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function Bm(t){return rE(t)?Hn(t):t}function wJe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return rE(e)?new Proxy(t,{}):t}function SJe(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function Kne(t,e){t.labels=e}function Zne(t,e,r){const n=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[r]===i[r]);return!s||!i.data||n.includes(s)?{...i}:(n.push(s),Object.assign(s,i),s)})}function TJe(t,e){const r={labels:[],datasets:[]};return Kne(r,t.labels),Zne(r,t.datasets,e),r}const EJe=rt({props:bJe,setup(t,e){let{expose:r,slots:n}=e;const i=ye(null),s=wa(null);r({chart:s});const o=()=>{if(!i.value)return;const{type:u,data:d,options:f,plugins:h,datasetIdKey:g}=t,p=TJe(d,g),v=wJe(p,d);s.value=new IC(i.value,{type:u,data:v,options:{...f},plugins:h})},a=()=>{const u=Hn(s.value);u&&(u.destroy(),s.value=null)},l=u=>{u.update(t.updateMode)};return Un(o),Vs(a),Gt([()=>t.options,()=>t.data],(u,d)=>{let[f,h]=u,[g,p]=d;const v=Hn(s.value);if(!v)return;let b=!1;if(f){const S=Bm(f),T=Bm(g);S&&S!==T&&(SJe(v,S),b=!0)}if(h){const S=Bm(h.labels),T=Bm(p.labels),E=Bm(h.datasets),C=Bm(p.datasets);S!==T&&(Kne(v.config.data,S),b=!0),E&&E!==C&&(Zne(v.config.data,E,t.datasetIdKey),b=!0)}b&&Hr(()=>{l(v)})},{deep:!0}),()=>Tr("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:i},[Tr("p",{},[n.default?n.default():""])])}});function CJe(t,e){return IC.register(e),rt({props:Yne,setup(r,n){let{expose:i}=n;const s=wa(null),o=a=>{s.value=a==null?void 0:a.chart};return i({chart:s}),()=>Tr(EJe,xJe({ref:o},{type:t,...r}))}})}const AJe=CJe("line",tS),Qne=t=>(LG("data-v-66c0ffa6"),t=t(),FG(),t),PJe={class:"dialog-footer"},kJe=["src"],IJe={class:"dialog-footer"},OJe={class:"dialog-footer"},DJe={class:"dialog-footer"},MJe=Qne(()=>He("span",null,"send email to add authenticator for new Device?",-1)),RJe={class:"dialog-footer"},$Je=Qne(()=>He("span",null,"redirect to refresh access?",-1)),LJe={class:"dialog-footer"},FJe=`
        <path class="path" d="
          M 30 15
          L 28 17
          M 25.61 25.61
          A 15 15, 0, 0, 1, 15 30
          A 15 15, 0, 1, 1, 27.99 7.5
          L 15 15
        " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
      `,NJe=rt({__name:"White",setup(t){const e=ye(null);IC.register(OO,DO,sS,Oy,zQe,KQe,UQe,RQe),window.onload=function(){r(),setInterval(()=>{r()},Wt.healthCheckDuration*1e3)};const r=()=>{const Q={baseURL:Wt.apiUrl,url:"/public/ip",method:"GET",headers:{}};lr(Q).then(function($){if($.status==200)s.value=!0;else{s.value=!1;const V=Jr().format("YYYY-MM-DD HH:mm:ss Z");let Y={};$.status==null?Y[V]="500":Y[V]=$.status;const ee={baseURL:Wt.statusUrl,url:"/status",method:"PUT",headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/x-www-form-urlencoded"},params:Y};lr(ee).then(function(ae){})}}).catch(function($){s.value=!1})},n=()=>{window.open(Wt.githubUrl,"_blank")},i=ye(null),s=ye(!1),o=ye(""),a=ye(""),l=ye(!1),u=ye(!1),d=ye(!1),f=ye(!1),h={responsive:!0,plugins:{title:{display:!0,text:"downtime"},legend:{display:!1}}};let g=()=>({datasets:[{data:[{}]}]}),p=vn(g());const v=async()=>{f.value=!1,Object.assign(p,g());const Q={baseURL:Wt.statusUrl,url:"/status",method:"GET",params:{limit:30},headers:{Authorization:"Bearer "+Pe.access_token}};await lr(Q).then(async function($){var V,Y;p.datasets[0].data=$.data,(Y=(V=e.value)==null?void 0:V.chart)==null||Y.update()}),f.value=!0};let S=vn((()=>({key:"",value:""}))());const T=()=>{var Q;(Q=i.value)==null||Q.initS3()},E=async Q=>{const $={baseURL:Wt.storageUrl,url:"/storage/object",method:"POST",data:{data:Q.file,bucket:Pe.sub,mode:"stream",idToken:Pe.id_token},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"multipart/form-data"}};lr($)},C=async(Q,$)=>{const V=await rI(Pe.sub);V.picture=$.name,V.username=Pe.sub,te(V),o.value=URL.createObjectURL($.raw),Dw.info("Avatar will update after next login")},P=Q=>{if(Q.type=="image/jpeg"||Q.type=="image/gif"||Q.type=="image/png"){if(Q.size/1024/1024>10)return Dw.error("Avatar picture size can not exceed 10MB!"),!1}else return Dw.error("not support "+Q.type),!1;return!0},D=async()=>{const Q=VY.service({fullscreen:!0}),$=await $De();if(Hr(()=>{Q.close()}),$==""||$==null){ti.alert("load user error, please try again later");return}gs.email=$.email,gs.nickName=$.nickName,gs.password=$.password,a.value=$.username,l.value=!0},L=()=>{const Q={baseURL:Wt.authUrl,url:"/email/verify",method:"POST",data:{username:Pe.sub},headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+Pe.access_token}};lr(Q)},j=()=>{const Q={baseURL:Wt.authUrl,url:"authenticator/add",method:"POST",data:{username:Pe.sub},headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+Pe.access_token}};lr(Q).then(async function($){const V=await gZ($.data),Y={baseURL:Wt.authUrl,url:"/finishAuth",method:"POST",data:{credname:Pe.sub,username:Pe.sub,credential:JSON.stringify(V)},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};lr(Y).then(function(ee){ee.data==200&&B2({title:"add authenticator success",message:"please logout and login again",duration:5e3})})})},te=Q=>{const $=new Map;for(let Y in no.value)Object.keys(La).indexOf(Y)>=0&&Y!="claim"&&Y!="username"?La[Y]=no.value[Y]:Y!="claims"&&no.value.hasOwnProperty(Y)&&$.set(Y,no.value[Y]);La.claims=JSON.stringify(Object.fromEntries($));const V={baseURL:Wt.authUrl,url:"auth/user/info",method:"POST",data:La,headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/json"}};Q!=""&&(V.data=Q),lr(V).then(function(Y){Y.status==200&&(Ct.userInfoForm=!1)})},se=()=>{no.value[S.key]=S.value,u.value=!1},q=Q=>{const $=new Map;if(Object.keys(La).indexOf(Q)>=0)ti.alert("unable to delete default claim");else{for(var V in no.value)V==Q&&delete no.value[Q],Object.keys(La).indexOf(V)>=0&&V!="claim"?La[V]=no.value[V]:V!="claims"&&no.value.hasOwnProperty(V)&&$.set(V,no.value[V]);La.claims=JSON.stringify(Object.fromEntries($));const Y={baseURL:Wt.authUrl,url:"auth/user/info",method:"POST",data:La,headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/json"}};lr(Y).then(function(ee){ee.status==200&&ti.alert("delete success")})}},X=Q=>{no.value=cg(),Object.assign(no,cg()),Object.assign(La,cg()),La.username=Q};return(Q,$)=>{const V=Zn,Y=ba,ee=Dr,ae=uX,H=Abe,J=as,ie=Sa,xe=yd,qe=UY,et=Dk;return he(),Ue(Ar,null,[N(Y,{modelValue:y(d),"onUpdate:modelValue":$[1]||($[1]=Je=>Kr(d)?d.value=Je:null),width:"75%"},{default:ne(()=>[N(V,{type:"primary",onClick:$[0]||($[0]=Je=>v())},{default:ne(()=>[It("refresh")]),_:1}),y(f)?(he(),At(y(AJe),{key:0,ref_key:"lineChart",ref:e,data:y(p),options:h},null,8,["data"])):xt("",!0)]),_:1},8,["modelValue"]),y(s)?(he(),At(ae,{key:0,class:"status","is-dot":!0,type:"success",onClick:$[2]||($[2]=Je=>(d.value=!0,v()))},{default:ne(()=>[N(ee,null,{default:ne(()=>[N(y(hF))]),_:1})]),_:1})):xt("",!0),y(s)?xt("",!0):(he(),At(ae,{key:1,class:"status","is-dot":!0,type:"warning",onClick:$[3]||($[3]=Je=>(d.value=!0,v()))},{default:ne(()=>[N(ee,null,{default:ne(()=>[N(y(hF))]),_:1})]),_:1})),N(ee,{class:"github",onClick:$[4]||($[4]=Je=>n())},{default:ne(()=>[N(y(tYe),{icon:"grommet-icons:github"})]),_:1}),N(ee,{class:"storage",onClick:$[5]||($[5]=Je=>T())},{default:ne(()=>[N(y(hve))]),_:1}),N(ee,{class:"phoneMode",onClick:y(hDe)},{default:ne(()=>[N(y(Nge))]),_:1},8,["onClick"]),y(Pe).sub?xt("",!0):(he(),At(H,{key:2,class:"whiteMode",icon:y(mve),size:"small",onClick:$[6]||($[6]=Je=>y(Ct).webauthnFormVisible=!0)},null,8,["icon"])),y(Pe).sub?(he(),At(H,{key:3,class:"whiteMode",size:"small",src:y(Pe).avatarUrl,fit:"fill",onClick:$[7]||($[7]=Je=>D())},null,8,["src"])):xt("",!0),y(Pe).sub?xt("",!0):(he(),At(ae,{key:4,class:"message","is-dot":y(Ct).isDot},{default:ne(()=>[N(ee,{onClick:$[8]||($[8]=Je=>(y(Ct).noticeDrawer=!0,y(vB)("",!1)))},{default:ne(()=>[N(y(pF))]),_:1})]),_:1},8,["is-dot"])),y(Pe).sub?(he(),At(ae,{key:5,class:"message","is-dot":y(Ct).isDot},{default:ne(()=>[N(ee,{onClick:$[9]||($[9]=Je=>(y(Ct).noticeDrawer=!0,y(vB)(y(Pe).sub,!1)))},{default:ne(()=>[N(y(pF))]),_:1})]),_:1},8,["is-dot"])):xt("",!0),N(Y,{modelValue:y(Ct).webauthnFormVisible,"onUpdate:modelValue":$[15]||($[15]=Je=>y(Ct).webauthnFormVisible=Je),width:"65%"},{footer:ne(()=>[He("span",PJe,[N(V,{onClick:$[12]||($[12]=Je=>y(Ct).loading=!1)},{default:ne(()=>[It("cancel")]),_:1}),N(V,{onClick:$[13]||($[13]=Je=>(y(Qk)(),y(Ct).loadingText="logining..."))},{default:ne(()=>[It("login")]),_:1}),N(V,{type:"primary",onClick:$[14]||($[14]=Je=>(y(gDe)(),y(Ct).loadingText="registering..."))},{default:ne(()=>[It(" register ")]),_:1})])]),default:ne(()=>[xn((he(),At(xe,{"element-loading-text":y(Ct).loadingText,"element-loading-spinner":FJe,"element-loading-svg-view-box":"-10, -10, 50, 50","element-loading-background":"rgba(122, 122, 122, 0.8)",onKeyup:$[11]||($[11]=Zi(yn(Je=>y(Qk)(),["prevent"]),["enter"])),"label-position":"left","label-width":"auto","fit-input-width":!0},{default:ne(()=>[N(ie,{label:"name","label-width":"auto"},{default:ne(()=>[N(J,{modelValue:y(Pe).username,"onUpdate:modelValue":$[10]||($[10]=Je=>y(Pe).username=Je)},null,8,["modelValue"])]),_:1})]),_:1},8,["element-loading-text"])),[[et,y(Ct).loading]])]),_:1},8,["modelValue"]),N(Y,{modelValue:y(l),"onUpdate:modelValue":$[25]||($[25]=Je=>Kr(l)?l.value=Je:null),width:y(Ct).dialogWidth},{footer:ne(()=>[He("span",IJe,[N(V,{onClick:$[22]||($[22]=Je=>l.value=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(V,{type:"primary",onClick:$[23]||($[23]=Je=>y(EZ)(y(gs),y(Pe).sub))},{default:ne(()=>[It(" Confirm ")]),_:1}),N(V,{type:"danger",onClick:$[24]||($[24]=Je=>y(bZ)())},{default:ne(()=>[It(" logout ")]),_:1})])]),default:ne(()=>[N(V,{type:"primary",onClick:$[16]||($[16]=Je=>j())},{default:ne(()=>[It("add authenticator")]),_:1}),N(V,{type:"primary",onClick:$[17]||($[17]=Je=>(y(rI)(y(a)),y(Ct).userInfoForm=!0))},{default:ne(()=>[It("userInfo")]),_:1}),N(xe,{model:y(gs)},{default:ne(()=>[N(ie,{label:"email","label-width":y(Ct).labelWidth,inline:!0},{default:ne(()=>[N(J,{modelValue:y(gs).email,"onUpdate:modelValue":$[18]||($[18]=Je=>y(gs).email=Je)},null,8,["modelValue"]),!y(Pe).email_verified&&y(gs).email!="null"?(he(),At(V,{key:0,type:"primary",onClick:$[19]||($[19]=Je=>L())},{default:ne(()=>[It("validate")]),_:1})):xt("",!0)]),_:1},8,["label-width"]),N(ie,{label:"nickName","label-width":y(Ct).labelWidth},{default:ne(()=>[N(J,{modelValue:y(gs).nickName,"onUpdate:modelValue":$[20]||($[20]=Je=>y(gs).nickName=Je)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(ie,{label:"password","label-width":y(Ct).labelWidth},{default:ne(()=>[N(J,{modelValue:y(gs).password,"onUpdate:modelValue":$[21]||($[21]=Je=>y(gs).password=Je)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(ie,{label:"avatar","label-width":y(Ct).labelWidth},{default:ne(()=>[N(qe,{class:"avatar-uploader","show-file-list":!1,"on-success":C,"before-upload":P,"http-request":E},{default:ne(()=>[y(o)?(he(),Ue("img",{key:0,src:y(o),class:"avatar"},null,8,kJe)):(he(),At(ee,{key:1,class:"avatar-uploader-icon"},{default:ne(()=>[N(y(_q))]),_:1}))]),_:1})]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),N(Y,{modelValue:y(Ct).userInfoForm,"onUpdate:modelValue":$[30]||($[30]=Je=>y(Ct).userInfoForm=Je),width:y(Ct).dialogWidth},{footer:ne(()=>[He("span",OJe,[N(V,{onClick:$[27]||($[27]=Je=>y(Ct).userInfoForm=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(V,{type:"primary",onClick:$[28]||($[28]=Je=>te(""))},{default:ne(()=>[It("Confirm")]),_:1}),N(V,{type:"primary",onClick:$[29]||($[29]=Je=>X(y(La).username))},{default:ne(()=>[It("Reset")]),_:1})])]),default:ne(()=>[N(V,{type:"",onClick:$[26]||($[26]=Je=>u.value=!0)},{default:ne(()=>[It("Add")]),_:1}),N(xe,{model:y(no)},{default:ne(()=>[(he(!0),Ue(Ar,null,xi(y(no),(Je,lt)=>(he(),At(ie,{key:lt,label:lt,"label-width":y(Ct).labelWidth},{default:ne(()=>[N(J,{modelValue:y(no)[lt],"onUpdate:modelValue":Re=>y(no)[lt]=Re},null,8,["modelValue","onUpdate:modelValue"]),Object.keys(y(La)).indexOf(lt)>=0?xt("",!0):(he(),At(V,{key:0,size:"small",type:"danger",onClick:Re=>q(lt)},{default:ne(()=>[It(" delete ")]),_:2},1032,["onClick"]))]),_:2},1032,["label","label-width"]))),128))]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),N(Y,{modelValue:y(u),"onUpdate:modelValue":$[35]||($[35]=Je=>Kr(u)?u.value=Je:null),width:y(Ct).dialogWidth},{footer:ne(()=>[He("span",DJe,[N(V,{onClick:$[33]||($[33]=Je=>u.value=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(V,{type:"primary",onClick:$[34]||($[34]=Je=>se())},{default:ne(()=>[It("Confirm")]),_:1})])]),default:ne(()=>[N(xe,null,{default:ne(()=>[N(ie,{label:"claimName","label-width":y(Ct).labelWidth},{default:ne(()=>[N(J,{modelValue:y(S).key,"onUpdate:modelValue":$[31]||($[31]=Je=>y(S).key=Je)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(ie,{label:"value","label-width":y(Ct).labelWidth},{default:ne(()=>[N(J,{modelValue:y(S).value,"onUpdate:modelValue":$[32]||($[32]=Je=>y(S).value=Je)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1})]),_:1},8,["modelValue","width"]),N(Y,{modelValue:y(Ct).tmpLogin,"onUpdate:modelValue":$[38]||($[38]=Je=>y(Ct).tmpLogin=Je),width:y(Ct).dialogWidth,"align-center":""},{footer:ne(()=>[He("span",RJe,[N(V,{onClick:$[36]||($[36]=Je=>y(Ct).tmpLogin=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(V,{type:"primary",onClick:$[37]||($[37]=Je=>y(_De)())},{default:ne(()=>[It(" Confirm ")]),_:1})])]),default:ne(()=>[MJe]),_:1},8,["modelValue","width"]),N(Y,{modelValue:y(Ct).refreshlogin,"onUpdate:modelValue":$[41]||($[41]=Je=>y(Ct).refreshlogin=Je),width:y(Ct).dialogWidth,"align-center":""},{footer:ne(()=>[He("span",LJe,[N(V,{onClick:$[39]||($[39]=Je=>y(Ct).refreshlogin=!1)},{default:ne(()=>[It("later")]),_:1}),N(V,{type:"primary",onClick:$[40]||($[40]=Je=>y(Lw)(y(Pe).sub))},{default:ne(()=>[It(" Confirm ")]),_:1})])]),default:ne(()=>[$Je]),_:1},8,["modelValue","width"]),N(Y,{modelValue:y(Ct).qrcode,"onUpdate:modelValue":$[42]||($[42]=Je=>y(Ct).qrcode=Je),width:y(Ct).dialogWidth},{default:ne(()=>[N(EDe,{value:y(Pe).qrcodeUrl,size:200,level:"H"},null,8,["value"])]),_:1},8,["modelValue","width"]),N(NDe),N(tXe,{ref_key:"storage",ref:i},null,512)],64)}}});const y1=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},BJe=y1(NJe,[["__scopeId","data-v-66c0ffa6"]]),UJe={class:"dialog-footer"},VJe=rt({__name:"Dark",setup(t){const e=()=>{const l={baseURL:"https://github.com/login/",url:"oauth/access_token",method:"POST",data:{code:Zg,client_id:Pe.client_id,client_secret:Pe.client_secret,redirect_uri:Wt.redirectUrl},headers:{"Content-Type":"application/x-www-form-urlencoded"}};lr(l).then(function(u){u.data.access_token!=""&&bh()})},r=()=>{const l={baseURL:Wt.authUrl,url:"/oauth2/token",method:"POST",data:{response_type:"token",client_id:Pe.client_id,redirect_uri:Wt.redirectUrl},headers:{"Content-Type":"application/x-www-form-urlencoded"}};lr(l).then(function(u){u.data.access_token!=""&&(Pe.refresh_token=u.data.refresh_token,Pe.grant_type="authorization_code",Pe.update(u.data.access_token,u.data.expires_in),bh(),vy())})},n=()=>{const l={baseURL:Wt.authUrl,url:"/oauth2/token",method:"POST",data:{grant_type:"authorization_code",code:Zg,redirect_uri:window.location.href.split("?")[0]},headers:{"Content-Type":"application/x-www-form-urlencoded"},auth:{username:Pe.client_id,password:Pe.client_secret}};lr(l).then(function(u){u.data.access_token!=""&&(Pe.refresh_token=u.data.refresh_token,Pe.grant_type="authorization_code",Pe.update(u.data.access_token,u.data.expires_in),bh(),vy())})},i=()=>{const l={baseURL:Wt.authUrl,url:"/userinfo",method:"POST",headers:{Authorization:"Bearer "+Pe.access_token},withCredentials:!0};lr(l)},s=()=>{const l={baseURL:Wt.authUrl,url:"/oauth2/token",method:"POST",data:{grant_type:"password",username:"",password:""},headers:{"Content-Type":"application/x-www-form-urlencoded"},auth:{username:Pe.client_id,password:Pe.client_secret}};lr(l).then(function(u){u.data.access_token!=""&&(Pe.refresh_token=u.data.refresh_token,Pe.grant_type="authorization_code",Pe.update(u.data.access_token,u.data.expires_in),bh(),vy())})},o=()=>{const l={baseURL:Wt.authUrl,url:"/oauth2/token",method:"POST",data:{grant_type:"client_credentials"},headers:{"Content-Type":"application/x-www-form-urlencoded"},auth:{username:Pe.client_id,password:Pe.client_secret}};lr(l).then(function(u){u.data.access_token!=""&&(Pe.grant_type="client_credentials",Pe.update(u.data.access_token,u.data.expires_in),bh(),vy())})},a=()=>{Ct.authFormVisible=!1,Pe.grant_type=="client_credentials"?o():Pe.grant_type=="password"?s():Pe.grant_type=="code"?n():Pe.grant_type=="token"?r():Pe.grant_type=="github"?e():Pe.grant_type=="pkce"?cZ():Pe.grant_type=="info"&&i()};return(l,u)=>(he(),Ue(Ar,null,[(he(),At(y(Zn),{key:0,id:"darkMode",size:"small",onClick:u[0]||(u[0]=d=>y(Ct).authFormVisible=!0)})),N(y(ba),{modelValue:y(Ct).authFormVisible,"onUpdate:modelValue":u[6]||(u[6]=d=>y(Ct).authFormVisible=d),width:"65%"},{footer:ne(()=>[He("span",UJe,[N(y(Zn),{onClick:u[4]||(u[4]=d=>y(Ct).authFormVisible=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(y(Zn),{type:"primary",onClick:u[5]||(u[5]=d=>a())},{default:ne(()=>[It(" Confirm ")]),_:1})])]),default:ne(()=>[N(y(yd),{"label-position":"left","label-width":"auto","fit-input-width":!0},{default:ne(()=>[N(y(Sa),{label:"type"},{default:ne(()=>[N(y(Fv),{modelValue:y(Pe).grant_type,"onUpdate:modelValue":u[1]||(u[1]=d=>y(Pe).grant_type=d),placeholder:"grant type"},{default:ne(()=>[N(y(Vu),{label:"Authorization Code",value:"code"}),N(y(Vu),{label:"Implicit",value:"token"}),N(y(Vu),{label:"Resource Owner Password Credentials",value:"password"}),N(y(Vu),{label:"Client Credentials",value:"client_credentials"}),N(y(Vu),{label:"github",value:"github"}),N(y(Vu),{label:"info",value:"info"})]),_:1},8,["modelValue"])]),_:1}),y(Pe).grant_type!="authorization_code"?(he(),At(y(Sa),{key:0,label:"client","label-width":"auto"},{default:ne(()=>[N(y(as),{modelValue:y(Pe).client_id,"onUpdate:modelValue":u[2]||(u[2]=d=>y(Pe).client_id=d),autocomplete:"off"},null,8,["modelValue"])]),_:1})):xt("",!0),y(Pe).grant_type!="authorization_code"?(he(),At(y(Sa),{key:1,label:"secret","label-width":"auto"},{default:ne(()=>[N(y(as),{modelValue:y(Pe).client_secret,"onUpdate:modelValue":u[3]||(u[3]=d=>y(Pe).client_secret=d),type:"password","show-password":!0,autocomplete:"off",onKeyup:Zi(a,["enter"])},null,8,["modelValue"])]),_:1})):xt("",!0)]),_:1})]),_:1},8,["modelValue"])],64))}});const zJe=y1(VJe,[["__scopeId","data-v-95d156fe"]]);const jJe={key:0},HJe={key:1},GJe={class:"dialog-footer"},Jne=rt({__name:"IP",setup(t,{expose:e}){const r=ye(!1),n=ye(!1),i=ye(""),o=vn({ips:[{}]}),a={pageNumber:1,pageSize:20,order:0},l=vn({address:"",black:""});function u(){r.value=!0}function d(){r.value=!1;const p={baseURL:Wt.apiUrl,url:"/ip",method:"PUT",params:{black:l.black,address:l.address},headers:{Authorization:"Bearer "+Pe.access_token}};lr(p).then(function(v){g("")})}const f=p=>{(p==""||p==null)&&(p=l.address);const v={baseURL:Wt.apiUrl,url:"/ip",method:"PATCH",params:{black:"",address:p,id:""},headers:{Authorization:"Bearer "+Pe.access_token}};lr(v).then(function(b){b.status==200&&(r.value=!1,g(""))})},h=(p,v,b,S)=>{var T="false";b=="false"&&(T="true");const E={baseURL:Wt.apiUrl,url:"/ip",method:"PATCH",params:{address:v,black:T,id:S},headers:{Authorization:"Bearer "+Pe.access_token}};lr(E).then(function(C){C.data=="UPDATED"&&g("")})},g=p=>{n.value=!0;const v={baseURL:Wt.apiUrl,url:"/ip",method:"GET",params:{black:"",pageNumber:a.pageNumber-1,pageSize:a.pageSize,order:a.order,id:p},headers:{Authorization:"Bearer "+Pe.access_token}};lr(v).then(function(b){b.status==200&&(o.ips=b.data.hits,i.value=b.data.scrollId)})};return e({ipList:g,ipBlock:h}),(p,v)=>{const b=Vu;return he(),Ue(Ar,null,[N(y(ba),{modelValue:y(n),"onUpdate:modelValue":v[2]||(v[2]=S=>Kr(n)?n.value=S:null),width:y(Ct).dialogWidth},{default:ne(()=>[N(y(Zn),{type:"",onClick:u},{default:ne(()=>[It("Update")]),_:1}),N(y(Zn),{type:"",onClick:v[0]||(v[0]=S=>g(""))},{default:ne(()=>[It("refresh")]),_:1}),N(y(Zn),{type:"",onClick:v[1]||(v[1]=S=>g(y(i)))},{default:ne(()=>[It("Next")]),_:1}),N(y(Yu),{data:y(o).ips},{default:ne(()=>[N(y(Wi),{property:"address",label:"address",width:"auto"}),N(y(Wi),{property:"black",label:"black",width:"100px"}),N(y(Wi),{property:"timestamp",label:"date",sortable:"",width:"auto"}),N(y(Wi),{label:"Operations"},{default:ne(S=>[N(y(Zn),{size:"small",type:"danger",onClick:T=>h(S.$index,S.row.address,S.row.black,S.row.id)},{default:ne(()=>[S.row.black=="false"?(he(),Ue("span",jJe,"block")):xt("",!0),S.row.black=="true"?(he(),Ue("span",HJe,"unblock")):xt("",!0)]),_:2},1032,["onClick"]),N(y(Zn),{size:"small",type:"danger",onClick:T=>f(S.row.address)},{default:ne(()=>[It("delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),N(y(ba),{modelValue:y(r),"onUpdate:modelValue":v[7]||(v[7]=S=>Kr(r)?r.value=S:null),width:y(Ct).dialogWidth},{footer:ne(()=>[He("span",GJe,[N(y(Zn),{onClick:v[5]||(v[5]=S=>r.value=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(y(Zn),{type:"danger",onClick:v[6]||(v[6]=S=>f(""))},{default:ne(()=>[It("delete")]),_:1}),N(y(Zn),{type:"primary",onClick:d},{default:ne(()=>[It(" Confirm ")]),_:1})])]),default:ne(()=>[N(y(yd),{model:y(l)},{default:ne(()=>[N(y(Sa),{label:"type","label-width":y(Ct).labelWidth},{default:ne(()=>[N(y(Fv),{modelValue:y(l).black,"onUpdate:modelValue":v[3]||(v[3]=S=>y(l).black=S),placeholder:""},{default:ne(()=>[N(b,{label:"white",value:"false"}),N(b,{label:"black",value:"true"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),N(y(Sa),{label:"address","label-width":y(Ct).labelWidth},{default:ne(()=>[N(y(as),{modelValue:y(l).address,"onUpdate:modelValue":v[4]||(v[4]=S=>y(l).address=S),autocomplete:"off",onKeyup:Zi(d,["enter"])},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"])],64)}}}),WJe={class:"dialog-footer"},qJe=rt({__name:"Record",setup(t,{expose:e}){const r=ye(!1),n=ye(!1),i=ye(""),s=ye(null),o=ye(""),a=[],l=ye(!1),u=vn({records:a}),d=vn({timestamp:"",id:"",accessPath:"",sourceIP:"",userAgent:"",requestHeader:{}}),f={pageNumber:1,pageSize:10,order:"0"},h=se=>{p.value=se,v.splice(0,v.length);for(let q of p.value)v.push(q.id)},g=(se,q,X,Q)=>{var $;($=s.value)==null||$.ipBlock(se,q,X,Q)},p=ye([]),v=[],b=()=>{const se={baseURL:Wt.apiUrl,url:"/record/"+v.toString(),method:"DELETE",headers:{Authorization:"Bearer "+Pe.access_token}};lr(se).then(function(q){q.status==200&&(v.forEach(function(X,Q){u.records.forEach(function($,V){X===$.id&&u.records.splice(V,1)})}),u.records.length==0&&(j.value!=""?te():D(f.order)))})},S=()=>{const se={baseURL:Wt.apiUrl,url:"/record/"+d.sourceIP,method:"DELETE",headers:{Authorization:"Bearer "+Pe.access_token}};lr(se).then(function(q){q.status==200&&(ti.alert("delete amount:"+q.data),D(f.order))})},T=se=>{n.value=!0,i.value=JSON.stringify(se.requestHeader,null,2)},E=(se,q)=>{const X={baseURL:Wt.apiUrl,url:"/record/"+q.id,method:"DELETE",headers:{Authorization:"Bearer "+Pe.access_token}};lr(X).then(function(Q){Q.status==200&&u.records.splice(se,1)})};function C(se){return Jr(se.timestamp).format("YYYY-MM-DD HH:mm:ss")}const P=async(se,q)=>{f.order=se,L(q)},D=async se=>{f.order=se,L("")},L=async se=>{l.value=!0;const q={baseURL:Wt.apiUrl,url:"/record",method:"GET",params:{pageNumber:f.pageNumber-1,pageSize:f.pageSize,order:f.order,id:se},headers:{Authorization:"Bearer "+Pe.access_token}};await lr(q).then(function(X){X.status==200&&(u.records=X.data.hits,o.value=X.data.scrollId)})},j=ye("");function te(){if(j.value!=""){const se={baseURL:Wt.apiUrl,url:"/record",method:"POST",data:{params:j.value,pageNumber:f.pageNumber-1,pageSize:f.pageSize,order:f.order},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/x-www-form-urlencoded"}};lr(se).then(function(q){q.status==200&&(u.records=q.data.hits,o.value=q.data.scrollId)})}else D(f.order)}return e({recordList:D}),(se,q)=>{const X=Zn,Q=Wi,$=as,V=Yu,Y=ba,ee=Sa,ae=yd;return he(),Ue(Ar,null,[N(Y,{modelValue:y(l),"onUpdate:modelValue":q[5]||(q[5]=H=>Kr(l)?l.value=H:null),width:y(Ct).dialogWidth},{default:ne(()=>[N(X,{type:"danger",onClick:q[0]||(q[0]=H=>b())},{default:ne(()=>[It("DeleteSelect")]),_:1}),N(X,{type:"",onClick:q[1]||(q[1]=H=>r.value=!0)},{default:ne(()=>[It("batch")]),_:1}),N(X,{type:"",onClick:q[2]||(q[2]=H=>D(f.order))},{default:ne(()=>[It("refresh")]),_:1}),N(X,{type:"",onClick:q[3]||(q[3]=H=>P(f.order,y(o)))},{default:ne(()=>[It("next")]),_:1}),N(V,{data:y(u).records,onSelectionChange:h},{default:ne(()=>[N(Q,{type:"selection"}),N(Q,{property:"accessPath",label:"path",width:"170px"}),N(Q,{property:"userAgent",label:"userAgent",width:"300px"}),N(Q,{property:"timestamp",label:"date",formatter:C,sortable:""}),N(Q,{property:"sourceIP",label:"address",width:"130px"}),N(Q,{align:"right"},{header:ne(()=>[N($,{modelValue:y(j),"onUpdate:modelValue":q[4]||(q[4]=H=>Kr(j)?j.value=H:null),size:"small",placeholder:"Type to search",onKeyup:Zi(te,["enter"])},null,8,["modelValue"])]),default:ne(H=>[N(X,{size:"small",type:"",onClick:J=>T(H.row)},{default:ne(()=>[It("headers")]),_:2},1032,["onClick"]),N(X,{size:"small",type:"danger",onClick:J=>E(H.$index,H.row)},{default:ne(()=>[It("Delete")]),_:2},1032,["onClick"]),N(X,{size:"small",type:"danger",onClick:J=>g(H.$index,H.row.sourceIP,"false","")},{default:ne(()=>[It("lock")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),N(Y,{modelValue:y(r),"onUpdate:modelValue":q[8]||(q[8]=H=>Kr(r)?r.value=H:null),width:y(Ct).dialogWidth},{footer:ne(()=>[He("span",WJe,[N(X,{onClick:q[7]||(q[7]=H=>r.value=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(X,{type:"danger",onClick:S},{default:ne(()=>[It("delete")]),_:1})])]),default:ne(()=>[N(ae,{model:y(d)},{default:ne(()=>[N(ee,{label:"address","label-width":y(Ct).labelWidth},{default:ne(()=>[N($,{modelValue:y(d).sourceIP,"onUpdate:modelValue":q[6]||(q[6]=H=>y(d).sourceIP=H),autocomplete:"off",onKeyup:Zi(S,["enter"])},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),N(Y,{modelValue:y(n),"onUpdate:modelValue":q[9]||(q[9]=H=>Kr(n)?n.value=H:null),width:y(Ct).dialogWidth},{default:ne(()=>[He("pre",null,hr(y(i)),1)]),_:1},8,["modelValue","width"]),N(Jne,{ref_key:"ip",ref:s},null,512)],64)}}});const XJe={class:"dialog-footer"},YJe={class:"dialog-footer"},KJe=rt({__name:"AuthClient",setup(t,{expose:e}){const r=ye(),n=ye(),i=ye(!1),s=ye(!1),o=ye(!1),a=ye(!1),d=vn({authclient:[{}],authclientRegister:[{}]}),f={pageNumber:1,pageSize:10},h={multiple:!0,expandTrigger:"hover"};let g=()=>({id:"",clientId:"",clientSecret:"",clientSecretExpiresAt:"",scopes:"",redirectUris:"",postLogoutRedirectUris:"",clientName:"",clientSettings:"",tokenSettings:"",authorizationGrantTypes:"",clientAuthenticationMethods:""}),p=()=>({registrationId:"",clientId:"",clientSecret:"",clientAuthenticationMethod:"",authorizationGrantType:"",scopes:"",redirectUri:"",clientName:"",authorizationUri:"",tokenUri:"",jwkSetUri:"",issuerUri:"",userInfoUri:"",authenticationMethod:"",userNameAttributeName:""}),v=vn(p()),b=vn(g());const S=[{value:"@class",label:"@class",children:[{value:"java.util.Collections$UnmodifiableMap",label:"java.util.Collections$UnmodifiableMap"}]},{value:"settings.token.authorization-code-time-to-live",label:"authorizationCodeTimeToLive",children:[{value:"java.time.Duration",label:"Duration",children:[{value:1800,label:"30min"},{value:7200,label:"2h"},{value:43200,label:"12h"}]}]},{value:"settings.token.access-token-time-to-live",label:"accessTokenTimeToLive",children:[{value:"java.time.Duration",label:"Duration",children:[{value:30,label:"30s"},{value:300,label:"5min"},{value:1200,label:"20min"},{value:86400,label:"24h"}]}]},{value:"settings.token.refresh-token-time-to-live",label:"refreshTokenTimeToLive",children:[{value:"java.time.Duration",label:"Duration",children:[{value:60,label:"1min"},{value:3600,label:"1h"},{value:18e3,label:"5h"},{value:36e3,label:"10h"}]}]},{value:"settings.token.access-token-format",label:"accessTokenFormat",children:[{value:"@class",label:"@class",children:[{value:"org.springframework.security.oauth2.server.authorization.settings.OAuth2TokenFormat",label:"OAuth2TokenFormat"}]},{value:"value",label:"value",children:[{value:"reference",label:"reference"},{value:"self-contained",label:"self-contained"}]}]},{value:"settings.token.reuse-refresh-tokens",label:"reuseRefreshTokens",children:[{value:"reuse-refresh-tokens-false",label:"false"},{value:"reuse-refresh-tokens-true",label:"true"}]},{value:"settings.token.id-token-signature-algorithm",label:"idTokenSignatureAlgorithm",children:[{value:"org.springframework.security.oauth2.jose.jws.SignatureAlgorithm",label:"SignatureAlgorithm",children:[{value:"RS256",label:"RS256"}]}]}],T=[{value:"@class",label:"@class",children:[{value:"java.util.Collections$UnmodifiableMap",label:"java.util.Collections$UnmodifiableMap"}]},{value:"settings.client.require-proof-key",label:"requireProofKey",children:[{value:"require-proof-key-true",label:"true"},{value:"require-proof-key-false",label:"false"}]},{value:"settings.client.token-endpoint-authentication-signing-algorithm",label:"signingAlgorithm",children:[{value:"RS256",label:"RS256"},{value:"RS384",label:"RS384"},{value:"RS512",label:"RS512"},{value:"ES256",label:"ES256"},{value:"ES384",label:"ES384"},{value:"ES512",label:"ES512"},{value:"PS256",label:"PS256"},{value:"PS384",label:"PS384"},{value:"PS512",label:"PS512"}]},{value:"settings.client.jwk-set-url",label:"jwkSetUrl",children:[{value:"https://auth-pre.elpsykongroo.com",label:"https://auth-pre.elpsykongroo.com"},{value:"https://auth.elpsykongroo.com",label:"https://auth.elpsykongroo.com"}]},{value:"settings.client.require-authorization-consent",label:"Consent",children:[{value:"require-authorization-consent-false",label:"false"},{value:"require-authorization-consent-true",label:"true"}]}];let E=ye([""]),C=ye("");const P=ye(new Array),D=ye(new Array),L=yt=>typeof yt=="object"&&!Array.isArray(yt)&&yt!==null,j=yt=>Array.isArray(yt)&&yt!==null,te=(yt,le,Oe)=>{L(le)?Object.entries(le).map(nt=>{Oe.push(nt[0]),te(yt,nt[1],Oe)}):j(le)?(Oe.push(le[0]),Oe.push(le[1])):Oe.push(q(yt,le))},se=(yt,le)=>{Object.entries(yt).map(Oe=>(le.push(Oe[0]),te(Oe[0],Oe[1],le),le))},q=(yt,le)=>{if(yt.includes(".")){const Oe=yt.split("."),nt=Oe.length;le==!0&&(le=Oe[nt-1]+"-true"),le==!1&&(le=Oe[nt-1]+"-false")}return le},X=yt=>{const Oe=yt.split("-").length,nt=yt.split("-")[Oe-1];return nt=="true"&&(yt=!0),nt=="false"&&(yt=!1),yt},Q=yt=>{const le=new Map;yt.map(Ke=>{if(Ke[0]=="settings.token.access-token-format"&&Ke.length>2)if(le.has(Ke[0])){const ct=le.get(Ke[0]),Ot=new Map;Ot.set(Ke[1],Ke[2]);const Dt=Object.fromEntries(Ot),_t=Object.assign(ct,Dt);le.set(Ke[0],_t)}else{const ct=new Map;ct.set(Ke[1],Ke[2]);const Ot=Object.fromEntries(ct);le.set(Ke[0],Ot)}else if(Ke.length>2){const ct=new Array;ct.push(Ke[1]),ct.push(Ke[2]),le.set(Ke[0],ct)}else(Ke.length=2)&&le.set(Ke[0],X(Ke[1]))});const Oe=Object.fromEntries(le);var nt=JSON.stringify(Oe);b.tokenSettings=nt},$=yt=>{const le=new Map;yt.map(Ke=>{if(Ke.length>2){const ct=new Map;ct.set(Ke[1],Ke[2]);const Ot=Object.fromEntries(ct);le.set(Ke[0],Ot)}else le.set(Ke[0],X(Ke[1]))});const Oe=Object.fromEntries(le);var nt=JSON.stringify(Oe);b.clientSettings=nt},V=(yt,le)=>{const Oe={baseURL:Wt.authUrl,url:"/auth/client/"+le.clientId,method:"DELETE",headers:{Authorization:"Bearer "+Pe.access_token}};lr(Oe).then(function(nt){nt.data>0&&d.authclient.splice(yt,1)})},Y=(yt,le)=>{const Oe={baseURL:Wt.authUrl,url:"/auth/client/register/"+le.registrationId,method:"DELETE",headers:{Authorization:"Bearer "+Pe.access_token}};lr(Oe).then(function(nt){nt.data>0&&d.authclientRegister.splice(yt,1)})},ee=yt=>{yt&&yt.validate(le=>{if(le){const Oe={baseURL:Wt.authUrl,url:"/auth/client",method:"PUT",data:b,headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/json"}};b.authorizationGrantTypes=E.value.toString(),b.clientSecret.startsWith("{bcrypt}")?lr(Oe).then(function(nt){nt.status==200&&(i.value=!1,J())}):Jk.hash(b.clientSecret,10).then(function(nt){b.clientSecret="{bcrypt}"+nt,lr(Oe).then(function(Ke){Ke.status==200&&(i.value=!1,J())})})}else return!1})},ae=yt=>{const le={uri:v.userInfoUri,authenticationMethod:v.authenticationMethod,userNameAttributeName:v.userNameAttributeName},Oe={authorizationUri:v.authorizationUri,tokenUri:v.tokenUri,jwkSetUri:v.jwkSetUri,issuerUri:v.issuerUri,configurationMetadata:new Map,userInfoEndpoint:le};let nt;v.scopes!=""&&(nt=v.scopes.split(","));const Ke={registrationId:v.registrationId,clientId:v.clientId,clientSecret:v.clientSecret,clientAuthenticationMethod:v.clientAuthenticationMethod,authorizationGrantType:v.authorizationGrantType,scopes:nt,redirectUri:v.redirectUri,clientName:v.clientName,providerDetails:Oe};yt&&yt.validate(ct=>{if(ct){const Ot={baseURL:Wt.authUrl,url:"/auth/client/register",method:"PUT",data:Ke,headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/json"}};v.clientSecret.startsWith("{bcrypt}")?lr(Ot).then(function(Dt){Dt.status==200&&(s.value=!1,H())}):Jk.hash(v.clientSecret,10).then(function(Dt){Ke.clientSecret="{bcrypt}"+Dt,lr(Ot).then(function(_t){_t.status==200&&(s.value=!1,H())})})}else return!1})},H=()=>{o.value=!0;const yt={baseURL:Wt.authUrl,url:"/auth/client/register",method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};lr(yt).then(function(le){d.authclientRegister=le.data})},J=()=>{a.value=!0;const yt={baseURL:Wt.authUrl,url:"/auth/client",method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};lr(yt).then(function(le){d.authclient=le.data})},ie=yt=>{if(yt==null||yt.resetFields(),vt.length>1)ti.alert("dont support batch update");else if(vt.length==1){const le=Je.value[0],Oe=new Array,nt=new Array;if(le.clientSettings!=""){const Ke=JSON.parse(le.clientSettings);se(Ke,Oe)}if(le.tokenSettings!=""){const Ke=JSON.parse(le.tokenSettings);se(Ke,nt)}P.value=Oe,D.value=nt,C.value=Jr.unix(parseInt(le.clientSecretExpiresAt,10)).format("YYYY-MM-DDTHH:mm:ss[Z]"),E.value=le.authorizationGrantTypes.split(","),Object.assign(b,Je.value[0]),i.value=!0}else Object.assign(b,g()),E.value=[],P.value=[],C.value="",D.value=[],i.value=!0},xe=yt=>{if(yt==null||yt.resetFields(),vt.length>1)ti.alert("dont support batch update");else if(vt.length==1){const le=qe.value[0];v.authorizationUri=le.providerDetails.authorizationUri,v.tokenUri=le.providerDetails.tokenUri,v.issuerUri=le.providerDetails.issuerUri,v.jwkSetUri=le.providerDetails.jwkSetUri,v.userNameAttributeName=le.providerDetails.userInfoEndpoint.userNameAttributeName,v.userInfoUri=le.providerDetails.userInfoEndpoint.uri,v.authenticationMethod=le.providerDetails.userInfoEndpoint.authenticationMethod,Object.assign(v,qe.value[0]),s.value=!0}else Object.assign(v,p()),s.value=!0},qe=ye([]),et=yt=>{qe.value=yt,vt.splice(0,vt.length);for(let le of qe.value)vt.push(le.clientId)},Je=ye([]),lt=yt=>{Je.value=yt,vt.splice(0,vt.length);for(let le of Je.value)vt.push(le.clientId)},Re=yt=>{f.pageNumber=yt,J()},wt=yt=>{J()},vt=[];function pt(yt){return Jr.unix(parseInt(yt.clientIdIssuedAt,10)).format("YYYY-MM-DDTHH:mm:ss[Z]")}function Ut(yt){return Jr.unix(parseInt(yt.clientSecretExpiresAt,10)).format("YYYY-MM-DDTHH:mm:ss[Z]")}return e({authClientList:J,authClientRegisterList:H}),(yt,le)=>{const Oe=yu,nt=$X,Ke=Sa,ct=Vu,Ot=Fv,Dt=as,_t=qxe,Mt=oY,Rt=GX,tt=yd,Zt=Zn,mt=ba,Tt=Wi,mr=Yu,Bt=ug,Ir=XM,ot=zX;return he(),Ue(Ar,null,[N(mt,{modelValue:i.value,"onUpdate:modelValue":le[14]||(le[14]=_e=>i.value=_e),width:y(Ct).dialogWidth},{footer:ne(()=>[He("span",XJe,[N(Zt,{onClick:le[12]||(le[12]=_e=>i.value=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(Zt,{type:"primary",onClick:le[13]||(le[13]=_e=>ee(r.value))},{default:ne(()=>[It(" Confirm ")]),_:1})])]),default:ne(()=>[N(tt,{ref_key:"clientformRef",ref:r,model:y(b),"inline-message":!0},{default:ne(()=>[N(Ke,{label:"GrantTypes","label-width":y(Ct).labelWidth},{default:ne(()=>[N(nt,{modelValue:y(E),"onUpdate:modelValue":le[0]||(le[0]=_e=>Kr(E)?E.value=_e:E=_e)},{default:ne(()=>[N(Oe,{label:"client_credentials"}),N(Oe,{label:"authorization_code"}),N(Oe,{label:"refresh_token"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"Methods","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Ot,{modelValue:y(b).clientAuthenticationMethods,"onUpdate:modelValue":le[1]||(le[1]=_e=>y(b).clientAuthenticationMethods=_e),placeholder:""},{default:ne(()=>[N(ct,{label:"client_secret_basic",value:"client_secret_basic"}),N(ct,{label:"client_secret_post",value:"client_secret_post"}),N(ct,{label:"private_key_jwt",value:"private_key_jwt"}),N(ct,{label:"client_secret_jwt",value:"client_secret_jwt"}),N(ct,{label:"none",value:"none"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"redirectUris","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Dt,{modelValue:y(b).redirectUris,"onUpdate:modelValue":le[2]||(le[2]=_e=>y(b).redirectUris=_e)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"logoutRedirectUris","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Dt,{modelValue:y(b).postLogoutRedirectUris,"onUpdate:modelValue":le[3]||(le[3]=_e=>y(b).postLogoutRedirectUris=_e)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"clientName","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Dt,{modelValue:y(b).clientName,"onUpdate:modelValue":le[4]||(le[4]=_e=>y(b).clientName=_e)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"scopes","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Dt,{modelValue:y(b).scopes,"onUpdate:modelValue":le[5]||(le[5]=_e=>y(b).scopes=_e)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{"label-width":y(Ct).labelWidth,label:"clientId",prop:"clientId",rules:[{required:!0,message:"clientId is required"}]},{default:ne(()=>[N(Dt,{modelValue:y(b).clientId,"onUpdate:modelValue":le[6]||(le[6]=_e=>y(b).clientId=_e),style:{width:"auto"}},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"clientSecret","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Dt,{modelValue:y(b).clientSecret,"onUpdate:modelValue":le[7]||(le[7]=_e=>y(b).clientSecret=_e),type:"password","show-password":!0,autocomplete:"off",onKeyup:le[8]||(le[8]=Zi(()=>{},["enter"]))},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"clientSettings","label-width":y(Ct).labelWidth},{default:ne(()=>[N(_t,{ref:"clientSet",modelValue:P.value,"onUpdate:modelValue":le[9]||(le[9]=_e=>P.value=_e),options:T,props:h,onChange:$,clearable:""},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"tokenSettings","label-width":y(Ct).labelWidth},{default:ne(()=>[N(_t,{ref:"tokenSet",modelValue:D.value,"onUpdate:modelValue":le[10]||(le[10]=_e=>D.value=_e),options:S,props:h,onChange:Q,clearable:""},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"SecretExpires"},{default:ne(()=>[N(Rt,{span:9},{default:ne(()=>[N(Mt,{ref:"datePicker",modelValue:y(b).clientSecretExpiresAt,"onUpdate:modelValue":le[11]||(le[11]=_e=>y(b).clientSecretExpiresAt=_e),type:"datetime",placeholder:y(C),"value-format":"YYYY-MM-DDTHH:mm:ss[Z]",format:"YYYY-MM-DDTHH:mm:ss[Z]"},null,8,["modelValue","placeholder"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),N(mt,{modelValue:a.value,"onUpdate:modelValue":le[16]||(le[16]=_e=>a.value=_e),width:y(Ct).dialogWidth},{default:ne(()=>[N(Zt,{type:"",onClick:le[15]||(le[15]=_e=>ie(r.value))},{default:ne(()=>[It("Add")]),_:1}),N(mr,{data:d.authclient,onSelectionChange:lt},{default:ne(()=>[N(Tt,{type:"selection"}),N(Tt,{property:"clientId",label:"Id",width:"60px"}),N(Tt,{property:"clientSecret",label:"Secret"}),N(Tt,{property:"clientName",label:"name"}),N(Tt,{property:"redirectUris",label:"redirectUris",width:"100px"}),N(Tt,{property:"postLogoutRedirectUris",label:"postLogoutRedirectUris",width:"100px"}),N(Tt,{property:"scopes",label:"scopes",width:"70px"}),N(Tt,{property:"clientAuthenticationMethods",label:"Methods",width:"60px"}),N(Tt,{property:"authorizationGrantTypes",label:"type",width:"70px"}),N(Tt,{property:"clientIdIssuedAt",label:"issused",formatter:pt,sortable:""}),N(Tt,{property:"clientSecretExpiresAt",label:"expire",formatter:Ut,sortable:""}),N(Tt,{property:"clientSettings",label:"clientSettings",width:"150px"}),N(Tt,{property:"tokenSettings",label:"tokenSettings",width:"300px"}),N(Tt,null,{default:ne(_e=>[N(Zt,{size:"small",type:"danger",onClick:ze=>V(_e.$index,_e.row)},{default:ne(()=>[It("Delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),N(Bt,{layout:"prev, pager, next, sizes",total:50,"current-page":f.pageNumber,"page-size":f.pageSize,"onUpdate:currentPage":Re,"onUpdate:pageSize":wt},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),N(mt,{modelValue:s.value,"onUpdate:modelValue":le[35]||(le[35]=_e=>s.value=_e),width:y(Ct).dialogWidth},{footer:ne(()=>[He("span",YJe,[N(Zt,{onClick:le[33]||(le[33]=_e=>s.value=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(Zt,{type:"primary",onClick:le[34]||(le[34]=_e=>ae(n.value))},{default:ne(()=>[It(" Confirm ")]),_:1})])]),default:ne(()=>[N(tt,{ref_key:"registerformRef",ref:n,model:y(v),"inline-message":!0},{default:ne(()=>[N(Ke,{label:"Types","label-width":y(Ct).labelWidth},{default:ne(()=>[N(ot,{modelValue:y(v).authorizationGrantType,"onUpdate:modelValue":le[17]||(le[17]=_e=>y(v).authorizationGrantType=_e)},{default:ne(()=>[N(Ir,{label:"client_credentials"},{default:ne(()=>[It("client_credentials")]),_:1}),N(Ir,{label:"authorization_code"},{default:ne(()=>[It("authorization_code")]),_:1}),N(Ir,{label:"refresh_token"},{default:ne(()=>[It("refresh_token")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"Methods","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Ot,{modelValue:y(v).clientAuthenticationMethod,"onUpdate:modelValue":le[18]||(le[18]=_e=>y(v).clientAuthenticationMethod=_e),placeholder:""},{default:ne(()=>[N(ct,{label:"client_secret_basic",value:"client_secret_basic"}),N(ct,{label:"client_secret_post",value:"client_secret_post"}),N(ct,{label:"private_key_jwt",value:"private_key_jwt"}),N(ct,{label:"client_secret_jwt",value:"client_secret_jwt"}),N(ct,{label:"none",value:"none"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"redirectUri","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Dt,{modelValue:y(v).redirectUri,"onUpdate:modelValue":le[19]||(le[19]=_e=>y(v).redirectUri=_e)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"clientName","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Dt,{modelValue:y(v).clientName,"onUpdate:modelValue":le[20]||(le[20]=_e=>y(v).clientName=_e)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"scopes","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Dt,{modelValue:y(v).scopes,"onUpdate:modelValue":le[21]||(le[21]=_e=>y(v).scopes=_e),placeholder:"openid"},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{"label-width":y(Ct).labelWidth,label:"registerId",prop:"registrationId",rules:[{required:!0,message:"registerId is required"}]},{default:ne(()=>[N(Dt,{modelValue:y(v).registrationId,"onUpdate:modelValue":le[22]||(le[22]=_e=>y(v).registrationId=_e),style:{width:"auto"}},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{"label-width":y(Ct).labelWidth,label:"clientId",prop:"clientId",rules:[{required:!0,message:"clientId is required"}]},{default:ne(()=>[N(Dt,{modelValue:y(v).clientId,"onUpdate:modelValue":le[23]||(le[23]=_e=>y(v).clientId=_e),style:{width:"auto"}},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"clientSecret","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Dt,{modelValue:y(v).clientSecret,"onUpdate:modelValue":le[24]||(le[24]=_e=>y(v).clientSecret=_e),type:"password","show-password":!0,autocomplete:"off",onKeyup:le[25]||(le[25]=Zi(()=>{},["enter"]))},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"authorizationUri","label-width":y(Ct).labelWidth,required:!0},{default:ne(()=>[N(Dt,{modelValue:y(v).authorizationUri,"onUpdate:modelValue":le[26]||(le[26]=_e=>y(v).authorizationUri=_e)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"tokenUri","label-width":y(Ct).labelWidth,required:!0},{default:ne(()=>[N(Dt,{modelValue:y(v).tokenUri,"onUpdate:modelValue":le[27]||(le[27]=_e=>y(v).tokenUri=_e)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"jwkSetUri","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Dt,{modelValue:y(v).jwkSetUri,"onUpdate:modelValue":le[28]||(le[28]=_e=>y(v).jwkSetUri=_e)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"issuerUri","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Dt,{modelValue:y(v).issuerUri,"onUpdate:modelValue":le[29]||(le[29]=_e=>y(v).issuerUri=_e)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"userInfoUri","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Dt,{modelValue:y(v).userInfoUri,"onUpdate:modelValue":le[30]||(le[30]=_e=>y(v).userInfoUri=_e)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"authenticationMethod","label-width":y(Ct).labelWidth,required:!0},{default:ne(()=>[N(Dt,{modelValue:y(v).authenticationMethod,"onUpdate:modelValue":le[31]||(le[31]=_e=>y(v).authenticationMethod=_e)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(Ke,{label:"userNameAttributeName","label-width":y(Ct).labelWidth},{default:ne(()=>[N(Dt,{modelValue:y(v).userNameAttributeName,"onUpdate:modelValue":le[32]||(le[32]=_e=>y(v).userNameAttributeName=_e)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),N(mt,{modelValue:o.value,"onUpdate:modelValue":le[37]||(le[37]=_e=>o.value=_e),width:y(Ct).dialogWidth},{default:ne(()=>[N(Zt,{type:"",onClick:le[36]||(le[36]=_e=>xe(n.value))},{default:ne(()=>[It("Add")]),_:1}),N(mr,{data:d.authclientRegister,onSelectionChange:et},{default:ne(()=>[N(Tt,{type:"selection"}),N(Tt,{property:"registrationId",label:"registrationId",width:"auto"}),N(Tt,{property:"clientId",label:"clientId",width:"auto"}),N(Tt,{property:"clientSecret",label:"clientSecret"}),N(Tt,{property:"clientName",label:"clientName"}),N(Tt,{property:"redirectUri",label:"redirectUri",width:"auto"}),N(Tt,{property:"scopes",label:"scopes",width:"auto"}),N(Tt,{property:"clientAuthenticationMethod",label:"Methods",width:"auto"}),N(Tt,{property:"authorizationGrantType",label:"type",width:"auto"}),N(Tt,null,{default:ne(_e=>[N(Zt,{size:"small",type:"danger",onClick:ze=>Y(_e.$index,_e.row)},{default:ne(()=>[It("Delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),N(Bt,{layout:"prev, pager, next, sizes",total:50,"current-page":f.pageNumber,"page-size":f.pageSize,"onUpdate:currentPage":Re,"onUpdate:pageSize":wt},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"])],64)}}});const ZJe={class:"dialog-footer"},eie=rt({__name:"Group",setup(t,{expose:e}){const r=ye([""]);let n=ye(""),i=ye(""),s=ye("");const o=()=>[{key:"",label:"",disabled:!1,checked:!1}],a=vn(o()),l=ye([{}]),u=ye([""]),d=vn({array:r,groups:l,transfer:a,left:u}),f=ye(!1),h=ye(!1),g=ye(!1),p=ye(!1),v=vn({name:""}),b={pageNumber:1,pageSize:20},S=$=>{s.value=$.username,d.transfer=o(),d.transfer.splice(0,1),d.array=[],g.value=!0,i.value=$.id,p.value=!0;const V={baseURL:Wt.authUrl,url:"auth/group",method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};lr(V).then(function(Y){let ee;Y.data.length>0&&(ee=Y.data);const ae={baseURL:Wt.authUrl,url:"auth/group/user/"+$.id,method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};lr(ae).then(function(H){const J=H.data;if(J.length>0)for(let ie of ee){let xe;for(let qe of J)qe.groupName==ie.groupName&&(xe=!0);xe?d.transfer.push({key:ie.groupName,label:ie.groupName,disabled:!0,checked:!0}):d.transfer.push({key:ie.groupName,label:ie.groupName,disabled:!1,checked:!0})}else for(let ie of ee)d.transfer.push({key:ie.groupName,label:ie.groupName,disabled:!1,checked:!0})})})},T=$=>{d.transfer=o(),d.transfer.splice(0,1),d.left=[],d.array=[],n.value=$.id,i.value="",p.value=!1,P($)},E=()=>{const $={baseURL:Wt.authUrl,url:"auth/group",method:"PUT",params:{name:v.name},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/x-www-form-urlencoded"}};lr($).then(function(V){V.status==200&&(D(),f.value=!1)})},C=($,V)=>{const Y={baseURL:Wt.authUrl,url:"auth/group/"+V.groupName,method:"DELETE",headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/x-www-form-urlencoded"}};lr(Y).then(function(ee){ee.status==200&&d.groups.splice($,1)})},P=$=>{const V={baseURL:Wt.authUrl,url:"auth/authority/group/"+$.groupName,method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};let Y=[],ee;lr(V).then(function(ae){ee=ae.data}).then(function(ae){const H={baseURL:Wt.authUrl,url:"/auth/authority",method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};lr(H).then(function(J){if(J.data.length>0){const ie=J.data;for(let xe=0;xe<ie.length;xe++)for(let qe=0;qe<ee.length;qe++)ee[qe].authority==ie[xe].authority&&(Y.push(xe),d.transfer.push({key:ie[xe].authority,label:ie[xe].authority,disabled:!0,checked:!0}),d.left.push(ie[xe].authority));for(let xe=0;xe<ie.length;xe++)Y.indexOf(xe)==-1&&d.transfer.push({key:ie[xe].authority,label:ie[xe].authority,disabled:!1,checked:!1})}g.value=!0})})},D=()=>{h.value=!0;const $={baseURL:Wt.authUrl,url:"auth/group",method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};lr($).then(function(V){d.groups=V.data})},L=()=>{if((n.value.length==0||i.value.length==0)&&s.value==""){ti.alert("please select some");return}j(n.value,i.value,p.value)},j=($,V,Y)=>{$.endsWith(",")&&($=$.slice(0,-1)),V.endsWith(",")&&(V=V.slice(0,-1));const ee={baseURL:Wt.authUrl,url:"auth/group/user",method:"POST",params:{groups:$,ids:V},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/x-www-form-urlencoded"}};Y?lr(ee).then(function(ae){ae.status==200&&(g.value=!1)}):te()},te=()=>{const $={baseURL:Wt.authUrl,url:"auth/authority/group",method:"POST",params:{authorities:i.value.slice(0,-1),ids:n.value},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/x-www-form-urlencoded"}};lr($).then(function(V){V.status==200&&(g.value=!1)})},se=($,V,Y)=>{i.value.length==36?n.value+=$+",":i.value+=$+","},q=$=>{b.pageNumber=$,D()},X=$=>{b.pageSize=$,D()},Q=()=>{const $=d.transfer;for(let V in $)$[V].disabled&&($[V].disabled=!1)};return e({groupList:D,updateGroup:j,userGroupList:S}),($,V)=>{const Y=Zn,ee=Wi,ae=Yu,H=ug,J=ba,ie=as,xe=Sa,qe=yd,et=yu,Je=$Y;return he(),Ue(Ar,null,[N(J,{modelValue:y(h),"onUpdate:modelValue":V[1]||(V[1]=lt=>Kr(h)?h.value=lt:null),width:y(Ct).dialogWidth},{default:ne(()=>[N(Y,{type:"",onClick:V[0]||(V[0]=lt=>f.value=!0)},{default:ne(()=>[It("add")]),_:1}),N(ae,{data:y(d).groups},{default:ne(()=>[N(ee,{property:"groupName",label:"groupName",width:"auto"}),N(ee,{label:"Operations"},{default:ne(lt=>[N(Y,{size:"small",type:"primary",onClick:Re=>T(lt.row)},{default:ne(()=>[It("alloacte authority")]),_:2},1032,["onClick"]),N(Y,{size:"small",type:"danger",onClick:Re=>C(lt.$index,lt.row)},{default:ne(()=>[It("delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),N(H,{layout:"prev, pager, next, sizes",total:50,"current-page":b.pageNumber,"page-size":b.pageSize,"onUpdate:currentPage":q,"onUpdate:pageSize":X},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),N(J,{modelValue:y(f),"onUpdate:modelValue":V[5]||(V[5]=lt=>Kr(f)?f.value=lt:null),width:y(Ct).dialogWidth},{footer:ne(()=>[He("span",ZJe,[N(Y,{onClick:V[3]||(V[3]=lt=>f.value=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(Y,{type:"primary",onClick:V[4]||(V[4]=lt=>E())},{default:ne(()=>[It("Confirm")]),_:1})])]),default:ne(()=>[N(qe,{model:y(v)},{default:ne(()=>[N(xe,{label:"name","label-width":y(Ct).labelWidth},{default:ne(()=>[N(ie,{modelValue:y(v).name,"onUpdate:modelValue":V[2]||(V[2]=lt=>y(v).name=lt)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),N(J,{modelValue:y(g),"onUpdate:modelValue":V[9]||(V[9]=lt=>Kr(g)?g.value=lt:null),width:y(Ct).dialogWidth},{default:ne(()=>[N(Je,{modelValue:y(d).array,"onUpdate:modelValue":V[8]||(V[8]=lt=>y(d).array=lt),style:{"text-align":"left",display:"inline-block"},filterable:!0,"button-texts":["remove","add"],"left-default-checked":y(d).left,data:y(d).transfer,onChange:se},{"scoped-slot":ne(({option:lt})=>[N(et,{modelValue:lt.checked,"onUpdate:modelValue":Re=>lt.checked=Re},{default:ne(()=>[It(hr(lt.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),"left-footer":ne(()=>[N(Y,{class:"transfer-footer",size:"small",onClick:V[6]||(V[6]=lt=>Q())},{default:ne(()=>[It("reset")]),_:1})]),"right-footer":ne(()=>[N(Y,{class:"transfer-footer",size:"small",onClick:V[7]||(V[7]=lt=>L())},{default:ne(()=>[It("update")]),_:1})]),_:1},8,["modelValue","left-default-checked","data"])]),_:1},8,["modelValue","width"])],64)}}}),QJe={class:"dialog-footer"},tie=rt({__name:"Authority",setup(t,{expose:e}){let r=ye(""),n=ye(""),i=ye("");const s=()=>[{key:"",label:"",disabled:!1,checked:!1}],o=vn(s()),a=ye([]),l=ye([{}]),u=ye([""]),d=vn({left:u,array:a,authorities:l,transfer:o}),f=ye(!1),h=ye(!1),g=ye(!1),p=ye(!1),v=vn({name:""}),b={pageNumber:1,pageSize:20},S=$=>{d.transfer=s(),d.transfer.splice(0,1),d.left=[],d.array=[],r.value=$.authority,n.value="",p.value=!1,te($)},T=()=>{h.value=!0;const $={baseURL:Wt.authUrl,url:"/auth/authority",method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};lr($).then(function(V){d.authorities=V.data})},E=$=>{r.value="",i.value=$.username,d.transfer=s(),d.transfer.splice(0,1),d.array=[],g.value=!0,n.value=$.id,p.value=!0;const V={baseURL:Wt.authUrl,url:"auth/authority",method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};lr(V).then(function(Y){let ee;Y.data.length>0&&(ee=Y.data);const ae={baseURL:Wt.authUrl,url:"auth/authority/user/"+$.id,method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};lr(ae).then(function(H){const J=H.data;if(J.length>0)for(let ie of ee){let xe;for(let qe of J)qe.name==ie.name&&(xe=!0);xe?d.transfer.push({key:ie.authority,label:ie.authority,disabled:!0,checked:!0}):d.transfer.push({key:ie.authority,label:ie.authority,disabled:!1,checked:!0})}else for(let ie of ee)d.transfer.push({key:ie.authority,label:ie.authority,disabled:!1,checked:!0})})})},C=()=>{const $={baseURL:Wt.authUrl,url:"auth/authority",method:"PUT",params:{name:v.name},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/x-www-form-urlencoded"}};lr($).then(function(V){(V.status=200)&&(T(),f.value=!1)})},P=($,V)=>{const Y={baseURL:Wt.authUrl,url:"auth/authority/"+V.authority,method:"DELETE",headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/x-www-form-urlencoded"}};lr(Y).then(function(ee){ee.status==200&&d.authorities.splice($,1)})},D=()=>{L(r.value,n.value,p.value)},L=($,V,Y)=>{$.endsWith(",")&&($=$.slice(0,-1)),V.endsWith(",")&&(V=V.slice(0,-1));const ee={baseURL:Wt.authUrl,url:"auth/authority/user",method:"POST",params:{authorities:$,ids:V},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/x-www-form-urlencoded"}};Y?lr(ee).then(function(ae){ae.status==200&&(g.value=!1)}):j($,V)},j=($,V)=>{const Y={baseURL:Wt.authUrl,url:"auth/authority/group",method:"POST",params:{authorities:$,ids:V},headers:{Authorization:"Bearer "+Pe.access_token,"Content-Type":"application/x-www-form-urlencoded"}};lr(Y).then(function(ee){ee.status==200&&(g.value=!1)})},te=$=>{const V={baseURL:Wt.authUrl,url:"auth/group/authority/"+$.authority,method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};let Y;lr(V).then(function(ee){Y=ee.data}).then(function(ee){const ae={baseURL:Wt.authUrl,url:"auth/group",method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};lr(ae).then(function(H){const J=H.data;let ie=[];for(let xe=0;xe<J.length;xe++)for(let qe=0;qe<Y.length;qe++)Y[qe].groupName==J[xe].groupName&&(ie.push(xe),d.transfer.push({key:J[xe].id,label:J[xe].groupName,disabled:!0,checked:!0}));for(let xe=0;xe<J.length;xe++)ie.indexOf(xe)==-1&&d.transfer.push({key:J[xe].id,label:J[xe].groupName,disabled:!1,checked:!1});g.value=!0})})},se=()=>{const $=d.transfer;for(let V in $)$[V].disabled&&($[V].disabled=!1)},q=($,V,Y)=>{n.value.length==36?r.value+=$+",":n.value+=$+","},X=$=>{b.pageNumber=$,T()},Q=$=>{b.pageSize=$,T()};return e({authorityList:T,updateAuthority:L,userAuthorityList:E}),($,V)=>{const Y=Zn,ee=Wi,ae=Yu,H=ug,J=ba,ie=as,xe=Sa,qe=yd,et=yu,Je=$Y;return he(),Ue(Ar,null,[N(J,{modelValue:y(h),"onUpdate:modelValue":V[1]||(V[1]=lt=>Kr(h)?h.value=lt:null),width:y(Ct).dialogWidth},{default:ne(()=>[N(Y,{type:"",onClick:V[0]||(V[0]=lt=>f.value=!0)},{default:ne(()=>[It("add")]),_:1}),N(ae,{data:y(d).authorities},{default:ne(()=>[N(ee,{property:"authority",label:"authority",width:"auto"}),N(ee,{label:"Operations"},{default:ne(lt=>[N(Y,{size:"small",type:"primary",onClick:Re=>S(lt.row)},{default:ne(()=>[It("alloacte group")]),_:2},1032,["onClick"]),N(Y,{size:"small",type:"danger",onClick:Re=>P(lt.$index,lt.row)},{default:ne(()=>[It("delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),N(H,{layout:"prev, pager, next, sizes",total:50,"current-page":b.pageNumber,"page-size":b.pageSize,"onUpdate:currentPage":X,"onUpdate:pageSize":Q},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),N(J,{modelValue:y(f),"onUpdate:modelValue":V[5]||(V[5]=lt=>Kr(f)?f.value=lt:null),width:y(Ct).dialogWidth},{footer:ne(()=>[He("span",QJe,[N(Y,{onClick:V[3]||(V[3]=lt=>f.value=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(Y,{type:"primary",onClick:V[4]||(V[4]=lt=>C())},{default:ne(()=>[It(" Confirm ")]),_:1})])]),default:ne(()=>[N(qe,{model:y(v)},{default:ne(()=>[N(xe,{label:"name","label-width":y(Ct).labelWidth},{default:ne(()=>[N(ie,{modelValue:y(v).name,"onUpdate:modelValue":V[2]||(V[2]=lt=>y(v).name=lt)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),N(J,{modelValue:y(g),"onUpdate:modelValue":V[9]||(V[9]=lt=>Kr(g)?g.value=lt:null),width:y(Ct).dialogWidth},{default:ne(()=>[N(Je,{style:{"text-align":"left",display:"inline-block"},modelValue:y(d).array,"onUpdate:modelValue":V[8]||(V[8]=lt=>y(d).array=lt),filterable:"","left-default-checked":y(d).left,"button-texts":["remove","add"],data:y(d).transfer,onChange:q},{"scoped-slot":ne(({option:lt})=>[N(et,{modelValue:lt.checked,"onUpdate:modelValue":Re=>lt.checked=Re},{default:ne(()=>[It(hr(lt.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),"left-footer":ne(()=>[N(Y,{class:"transfer-footer",size:"small",onClick:V[6]||(V[6]=lt=>se())},{default:ne(()=>[It("reset")]),_:1})]),"right-footer":ne(()=>[N(Y,{class:"transfer-footer",size:"small",onClick:V[7]||(V[7]=lt=>D())},{default:ne(()=>[It("update")]),_:1})]),_:1},8,["modelValue","left-default-checked","data"])]),_:1},8,["modelValue","width"])],64)}}}),JJe={key:0},eet={key:1},tet={class:"dialog-footer"},ret=rt({__name:"User",setup(t){const e=ye(null),r=ye(null),n={pageNumber:1,pageSize:20,order:0},i={pageNumber:1,pageSize:20},s={pageNumber:1,pageSize:20},o=ye(!1),a=ye(!1),l=ye(!1),u=ye([]),d=ye([{}]);let f=ye("");const h=ye([{}]),g=ye([{}]),p=vn({groups:h,authorities:g,transfer:d,array:u}),v=ee=>{var ae;(ae=e.value)==null||ae.userGroupList(ee)},b=ee=>{var ae;(ae=r.value)==null||ae.userAuthorityList(ee)},S=(ee,ae)=>{var H;(H=e.value)==null||H.updateGroup(ae.groupName,f.value,!0),p.groups.splice(ee,1)},T=(ee,ae)=>{var H;(H=r.value)==null||H.updateAuthority(ae.authority,f.value,!0),p.authorities.splice(ee,1)},E=ee=>{l.value=!0,f.value=ee.id;const ae={baseURL:Wt.authUrl,url:"auth/group/user/"+ee.id,method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};lr(ae).then(function(H){p.groups=H.data})},C=ee=>{a.value=!0,f.value=ee.id;const ae={baseURL:Wt.authUrl,url:"auth/user/authority/"+ee.username,method:"GET",headers:{Authorization:"Bearer "+Pe.access_token}};lr(ae).then(function(H){p.authorities=H.data})},P=ee=>{ee.locked=="true"?ee.locked="false":ee.locked="true";const ae={baseURL:Wt.authUrl,url:"auth/user",method:"POST",data:ee,headers:{Authorization:"Bearer "+Pe.access_token}};lr(ae).then(function(H){H.status==200&&L()})},D=()=>{$.length<1?ti.alert("please select someone to update"):$.length>1?ti.alert("dont support batch update"):(gs.email=$[0].email,gs.nickName=$[0].nickName,gs.password=$[0].password,o.value=!0)},L=async()=>{Ct.userTable=!0,za.users=await k8(n.pageNumber-1,n.pageSize,n.order)},j=ee=>{n.pageNumber=ee,L()},te=ee=>{n.pageSize=ee,L()},se=ee=>{i.pageNumber=ee},q=ee=>{i.pageSize=ee},X=ee=>{s.pageNumber=ee},Q=ee=>{s.pageSize=ee},$=[],V=ye([]),Y=ee=>{V.value=ee,$.splice(0,$.length);for(let ae of V.value)$.push(ae)};return(ee,ae)=>(he(),Ue(Ar,null,[N(y(ba),{modelValue:y(Ct).userTable,"onUpdate:modelValue":ae[1]||(ae[1]=H=>y(Ct).userTable=H),width:y(Ct).dialogWidth},{default:ne(()=>[N(y(Zn),{type:"",onClick:ae[0]||(ae[0]=H=>D())},{default:ne(()=>[It("update")]),_:1}),N(y(Yu),{data:y(za).users,onSelectionChange:Y},{default:ne(()=>[N(y(Wi),{type:"selection"}),N(y(Wi),{property:"username",label:"username"}),N(y(Wi),{property:"nickName",label:"nick"}),N(y(Wi),{property:"email",label:"email",width:"auto"}),N(y(Wi),{property:"password",label:"password"}),N(y(Wi),{property:"createTime",label:"createTime"}),N(y(Wi),{property:"updateTime",label:"updateTime"}),N(y(Wi),{label:"userInfo"},{default:ne(H=>[N(y(Zn),{size:"small",type:"info",onClick:J=>(y(rI)(H.row.username),y(Ct).userInfoForm=!0)},{default:ne(()=>[It("detail")]),_:2},1032,["onClick"])]),_:1}),N(y(Wi),{label:"permissions"},{default:ne(H=>[N(y(Zn),{size:"small",type:"info",onClick:J=>C(H.row)},{default:ne(()=>[It("authorities")]),_:2},1032,["onClick"])]),_:1}),N(y(Wi),{label:"groups"},{default:ne(H=>[N(y(Zn),{size:"small",type:"info",onClick:J=>E(H.row)},{default:ne(()=>[It("groups")]),_:2},1032,["onClick"])]),_:1}),N(y(Wi),{label:"Operations"},{default:ne(H=>[N(y(Zn),{size:"small",type:"danger",onClick:J=>P(H.row)},{default:ne(()=>[H.row.locked=="false"?(he(),Ue("span",JJe,"lock")):xt("",!0),H.row.locked=="true"?(he(),Ue("span",eet,"unlock")):xt("",!0)]),_:2},1032,["onClick"]),N(y(Zn),{size:"small",type:"",onClick:J=>b(H.row)},{default:ne(()=>[It("alloacte authority")]),_:2},1032,["onClick"]),N(y(Zn),{size:"small",type:"",onClick:J=>v(H.row)},{default:ne(()=>[It("alloacte group")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),N(y(ug),{layout:"prev, pager, next, sizes",total:50,"current-page":n.pageNumber,"page-size":n.pageSize,"onUpdate:currentPage":j,"onUpdate:pageSize":te},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),N(y(ba),{modelValue:y(o),"onUpdate:modelValue":ae[7]||(ae[7]=H=>Kr(o)?o.value=H:null),width:y(Ct).dialogWidth},{footer:ne(()=>[He("span",tet,[N(y(Zn),{onClick:ae[5]||(ae[5]=H=>o.value=!1)},{default:ne(()=>[It("Cancel")]),_:1}),N(y(Zn),{type:"primary",onClick:ae[6]||(ae[6]=H=>y(EZ)(y(gs),$[0].username))},{default:ne(()=>[It(" Confirm ")]),_:1})])]),default:ne(()=>[N(y(yd),{model:y(gs)},{default:ne(()=>[N(y(Sa),{label:"email","label-width":y(Ct).labelWidth},{default:ne(()=>[N(y(as),{modelValue:y(gs).email,"onUpdate:modelValue":ae[2]||(ae[2]=H=>y(gs).email=H)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(y(Sa),{label:"nickName","label-width":y(Ct).labelWidth},{default:ne(()=>[N(y(as),{modelValue:y(gs).nickName,"onUpdate:modelValue":ae[3]||(ae[3]=H=>y(gs).nickName=H)},null,8,["modelValue"])]),_:1},8,["label-width"]),N(y(Sa),{label:"password","label-width":y(Ct).labelWidth},{default:ne(()=>[N(y(as),{modelValue:y(gs).password,"onUpdate:modelValue":ae[4]||(ae[4]=H=>y(gs).password=H)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),N(eie,{ref_key:"group",ref:e},null,512),N(tie,{ref_key:"authority",ref:r},null,512),N(y(ba),{modelValue:y(a),"onUpdate:modelValue":ae[8]||(ae[8]=H=>Kr(a)?a.value=H:null),width:y(Ct).dialogWidth},{default:ne(()=>[N(y(Yu),{data:y(p).authorities},{default:ne(()=>[N(y(Wi),{property:"authority",label:"authority",width:"auto"}),N(y(Wi),{label:"Operations"},{default:ne(H=>[N(y(Zn),{size:"small",type:"danger",onClick:J=>T(H.index,H.row)},{default:ne(()=>[It("delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),N(y(ug),{layout:"prev, pager, next, sizes",total:50,"current-page":s.pageNumber,"page-size":s.pageSize,"onUpdate:currentPage":X,"onUpdate:pageSize":Q},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),N(y(ba),{modelValue:y(l),"onUpdate:modelValue":ae[9]||(ae[9]=H=>Kr(l)?l.value=H:null),width:y(Ct).dialogWidth},{default:ne(()=>[N(y(Yu),{data:y(p).groups},{default:ne(()=>[N(y(Wi),{property:"groupName",label:"groupName",width:"auto"}),N(y(Wi),{label:"Operations"},{default:ne(H=>[N(y(Zn),{size:"small",type:"danger",onClick:J=>S(H.index,H.row)},{default:ne(()=>[It("delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),N(y(ug),{layout:"prev, pager, next, sizes",total:50,"current-page":i.pageNumber,"page-size":i.pageSize,"onUpdate:currentPage":se,"onUpdate:pageSize":q},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"])],64))}}),Lf=t=>(LG("data-v-83783d20"),t=t(),FG(),t),net=Lf(()=>He("span",null,"Dashboard",-1)),iet=Lf(()=>He("span",null,"inside",-1)),set=Lf(()=>He("span",null,"outside",-1)),oet=Lf(()=>He("span",null,"Gateway",-1)),aet=Lf(()=>He("span",null,"record",-1)),uet=Lf(()=>He("span",null,"oauth2",-1)),cet=Lf(()=>He("span",null,"permission",-1)),det=Lf(()=>He("span",null,"Message",-1)),fet=Lf(()=>He("span",null,"status",-1)),het=rt({__name:"Dashboard",setup(t){const e=ye(null),r=ye(null),n=ye(null),i=ye(null),s=ye(null),o=ye(null),a=ye(!0),l=ye(!1),u=[],d=()=>{const C=[];C.push(Wt.apiUrl),C.push(Wt.authUrl),C.push(Wt.storageUrl),C.push(Wt.messageUrl),f.statuses=[];for(let P of C)lr({baseURL:P,url:"/actuator/health",method:"GET",headers:{}}).then(function(L){if(L.data.status=="UP"){const j={service:P,status:"online"};f.statuses.push(j)}else{const j={service:P,status:"offline"};f.statuses.push(j)}}).catch(function(L){const j={service:P,status:"offline"};f.statuses.push(j)})},f=vn({statuses:u}),h=()=>{var C;(C=e.value)==null||C.ipList()},g=()=>{var C;(C=r.value)==null||C.recordList("1")},p=()=>{var C;(C=r.value)==null||C.recordList("0")},v=()=>{var C;(C=n.value)==null||C.authClientList()},b=()=>{var C;(C=n.value)==null||C.authClientRegisterList()},S=()=>{var C;(C=i.value)==null||C.groupList()},T=()=>{var C;(C=s.value)==null||C.authorityList()},E=C=>{window.open("https://"+C+".elpsykongroo.com")};return(C,P)=>{const D=Dr,L=WTe,j=GTe,te=XTe,se=qTe,q=am,X=qn("router-view"),Q=bwe,$=ywe,V=Zn,Y=Wi,ee=Yu,ae=ba;return he(),Ue(Ar,null,[N($,{class:"layout-container-demo",style:{height:"100%"}},{default:ne(()=>[N(q,null,{default:ne(()=>[N(j,{class:"el-menu-vertical-demo",collapse:a.value,router:!1},{default:ne(()=>[N(L,{index:"0"},{default:ne(()=>[a.value?(he(),At(D,{key:0,onClick:P[0]||(P[0]=H=>a.value=!1)},{default:ne(()=>[N(y(kge))]),_:1})):xt("",!0),a.value?xt("",!0):(he(),At(D,{key:1,onClick:P[1]||(P[1]=H=>a.value=!0)},{default:ne(()=>[N(y(Oge))]),_:1}))]),_:1})]),_:1},8,["collapse"]),N(j,{class:"el-menu-vertical-demo",collapse:a.value,router:!0},{default:ne(()=>[N(te,{index:"1"},{title:ne(()=>[N(D,null,{default:ne(()=>[N(y(Vge))]),_:1}),net]),default:ne(()=>[N(te,{index:"1-1"},{title:ne(()=>[iet]),default:ne(()=>[N(L,{index:"1-1-1",route:"kubernetes"},{default:ne(()=>[It("Dash")]),_:1}),N(L,{index:"1-1-2",route:"harbor"},{default:ne(()=>[It("Harbor")]),_:1}),N(L,{index:"1-1-3",route:"kafka"},{default:ne(()=>[It("Kafka")]),_:1}),N(L,{index:"1-1-4",route:"kibana"},{default:ne(()=>[It("Kibana")]),_:1})]),_:1}),N(te,{index:"1-2"},{title:ne(()=>[set]),default:ne(()=>[N(L,{index:"1-2-1",onClick:P[2]||(P[2]=H=>E("linkerd"))},{default:ne(()=>[It("Linkerd")]),_:1}),N(L,{index:"1-2-2",onClick:P[3]||(P[3]=H=>E("minio"))},{default:ne(()=>[It("Minio")]),_:1}),N(L,{index:"1-2-3",onClick:P[4]||(P[4]=H=>E("argocd"))},{default:ne(()=>[It("Argocd")]),_:1}),N(L,{index:"1-2-4",onClick:P[5]||(P[5]=H=>E("vault"))},{default:ne(()=>[It("Vault")]),_:1})]),_:1})]),_:1})]),_:1},8,["collapse"]),N(j,{class:"el-menu-vertical-demo",collapse:a.value},{default:ne(()=>[N(te,{index:"2"},{title:ne(()=>[N(D,null,{default:ne(()=>[N(y(Yge))]),_:1}),oet]),default:ne(()=>[N(se,null,{default:ne(()=>[N(L,{index:"2-1",onClick:P[6]||(P[6]=H=>h())},{default:ne(()=>[It("ip")]),_:1})]),_:1}),N(te,{index:"2-2"},{title:ne(()=>[aet]),default:ne(()=>[N(L,{index:"2-2-1",onClick:P[7]||(P[7]=H=>g())},{default:ne(()=>[It("Asc")]),_:1}),N(L,{index:"2-2-2",onClick:P[8]||(P[8]=H=>p())},{default:ne(()=>[It("Desc")]),_:1})]),_:1}),N(te,{index:"2-3"},{title:ne(()=>[uet]),default:ne(()=>[N(L,{index:"2-3-1",onClick:P[9]||(P[9]=H=>v())},{default:ne(()=>[It("client")]),_:1}),N(L,{index:"2-3-2",onClick:P[10]||(P[10]=H=>b())},{default:ne(()=>[It("register")]),_:1})]),_:1}),N(te,{index:"2-4"},{title:ne(()=>[cet]),default:ne(()=>[N(L,{index:"2-4-1",onClick:P[11]||(P[11]=H=>(y(Ct).userTable=!0,y(k8)(0,10,0)))},{default:ne(()=>[It("user")]),_:1}),N(L,{index:"2-4-2",onClick:P[12]||(P[12]=H=>S())},{default:ne(()=>[It("group")]),_:1}),N(L,{index:"2-4-3",onClick:P[13]||(P[13]=H=>T())},{default:ne(()=>[It("authority")]),_:1})]),_:1})]),_:1}),N(te,{index:"3"},{title:ne(()=>[N(D,null,{default:ne(()=>[N(y(jge))]),_:1}),det]),default:ne(()=>[N(se,null,{default:ne(()=>[N(L,{index:"3-1",onClick:P[14]||(P[14]=H=>(y(Ct).noticeTable=!0,y(eI)([],"")))},{default:ne(()=>[It("notification")]),_:1}),N(L,{index:"3-2",onClick:P[15]||(P[15]=H=>(y(Ct).topicTable=!0,y(tI)()))},{default:ne(()=>[It("topic")]),_:1})]),_:1})]),_:1}),N(L,{index:"4"},{title:ne(()=>[fet]),default:ne(()=>[N(D,{onClick:P[16]||(P[16]=H=>(l.value=!0,d()))},{default:ne(()=>[N(y(Zge))]),_:1})]),_:1}),y(Pe).expires_in>0?(he(),At(L,{key:0,index:"5"},{title:ne(()=>[It(hr(y(Pe).expires_in)+"s",1)]),default:ne(()=>[N(D,null,{default:ne(()=>[N(y(dve))]),_:1})]),_:1})):xt("",!0),N(L,{index:"5-1"},{default:ne(()=>[N(D,{onClick:P[17]||(P[17]=H=>y(bZ)())},{default:ne(()=>[N(y(uve))]),_:1})]),_:1})]),_:1},8,["collapse"])]),_:1}),N(ret,{ref_key:"user",ref:o},null,512),N(Jne,{ref_key:"ip",ref:e},null,512),N(qJe,{ref_key:"record",ref:r},null,512),N(KJe,{ref_key:"authClient",ref:n},null,512),N(eie,{ref_key:"group",ref:i},null,512),N(tie,{ref_key:"authority",ref:s},null,512),N($,null,{default:ne(()=>[N(Q,null,{default:ne(()=>[N(X,{ref:"iframeView"},null,512)]),_:1})]),_:1})]),_:1}),N(ae,{modelValue:l.value,"onUpdate:modelValue":P[19]||(P[19]=H=>l.value=H),width:y(Ct).dialogWidth},{default:ne(()=>[N(V,{type:"",onClick:P[18]||(P[18]=H=>d())},{default:ne(()=>[It("refresh")]),_:1}),N(ee,{data:y(f).statuses},{default:ne(()=>[N(Y,{property:"service",label:"service"}),N(Y,{property:"status",label:"status"})]),_:1},8,["data"])]),_:1},8,["modelValue","width"])],64)}}});const rie=y1(het,[["__scopeId","data-v-83783d20"]]);const pet=["href"],met=rt({__name:"ClockIcon",props:{prefix:{type:String,default:"icon"},name:{type:String,required:!0}},setup(t){const e=t,r=pe(()=>`#${e.prefix}-${e.name}`);return(n,i)=>(he(),Ue("svg",null,[He("use",{href:r.value,class:"nixie-number-part"},null,8,pet)]))}}),get={class:"hidden-md-and-down"},vet=He("div",{id:"top-blank"},null,-1),_et={id:"nixietube-template",style:{display:"none"}},yet={id:"nixie-tube-[order]",class:"nixie-container"},bet=He("div",{class:"nixie-background"},null,-1),xet=He("div",{id:"clock-surface"},null,-1),wet=rt({__name:"Clock",setup(t){function e(){var C;for(var n=new Date,i=n.getHours(),s=n.getMinutes(),o=n.getSeconds(),a=Math.floor(i/10),l=i-10*a,u=Math.floor(s/10),d=s-10*u,f=Math.floor(o/10),h=o-10*f,g=[a,l,u,d,f,h],p=0;p<6;p++){var v=g[p],b="#nixie-tube-"+p,S=document.querySelectorAll(b+" .nixie-number"),T=b+" .nixie-number-"+v,E=document.querySelector(b+" .nixie-background");S.forEach(function(P){P.classList.contains("active")&&P.classList.remove("active")}),E!=null&&E.classList.contains("active")&&(E==null||E.classList.remove("active")),(C=document.querySelector(T))==null||C.classList.add("active"),E==null||E.classList.add("active")}}document.addEventListener("DOMContentLoaded",function(){r(6,2),e(),setInterval(e,1e3)});function r(n,i){var u,d,f;for(var s=(u=document.getElementById("nixietube-template"))==null?void 0:u.innerHTML,o,a="<div class='white-space'></div>",l=0;l<n;)i>0&&l%i==0&&l>0&&((d=document.getElementById("clock-surface"))==null||d.insertAdjacentHTML("beforeend",a)),o=s==null?void 0:s.replace("[order]",l+""),(f=document.getElementById("clock-surface"))==null||f.insertAdjacentHTML("beforeend",o),l++}return(n,i)=>{const s=met;return he(),Ue("div",get,[vet,He("div",_et,[He("div",yet,[bet,N(s,{class:"nixie-number nixie-number-0",name:"clock-0"}),N(s,{class:"nixie-number nixie-number-1",name:"clock-1"}),N(s,{class:"nixie-number nixie-number-2",name:"clock-2"}),N(s,{class:"nixie-number nixie-number-3",name:"clock-3"}),N(s,{class:"nixie-number nixie-number-4",name:"clock-4"}),N(s,{class:"nixie-number nixie-number-5",name:"clock-5"}),N(s,{class:"nixie-number nixie-number-6",name:"clock-6"}),N(s,{class:"nixie-number nixie-number-7",name:"clock-7"}),N(s,{class:"nixie-number nixie-number-8",name:"clock-8"}),N(s,{class:"nixie-number nixie-number-9",name:"clock-9"})])]),xet])}}});const Tet={class:"hidden-md-and-up"},Eet=rt({__name:"Home",setup(t){return(e,r)=>{const n=wet,i=rie;return he(),Ue(Ar,null,[N(n),He("div",Tet,[y(Pe).permission!=null&&y(Pe).permission.includes("admin")?(he(),At(i,{key:0})):xt("",!0)])],64)}}});(function(){var fe=!0;function t(){fe||(this._$MT=null,this._$5S=null,this._$NP=0,t._$42++,this._$5S=new xe(this))}t._$0s=1,t._$4s=2,t._$42=0,t._$62=function(w,k){try{if(k instanceof ArrayBuffer&&(k=new DataView(k)),!(k instanceof DataView))throw new mt("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var B=new Le(k),ce=B._$ST(),ve=B._$ST(),ue=B._$ST(),Ie;if(ce==109&&ve==111&&ue==99)Ie=B._$ST();else throw new mt("_$gi _$C _$li , _$Q0 _$P0.");if(B._$gr(Ie),Ie>ie._$T7){w._$NP|=t._$4s;var Me=ie._$T7,Se="_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+Me+" < _$f0 : "+Ie+` )@_$SS#loadModel()
`;throw new mt(Se)}var Be=B._$nP();if(Ie>=ie._$s7){var it=B._$9T(),ut=B._$9T();if(it!=-30584||ut!=-30584)throw w._$NP|=t._$0s,new mt("_$gi _$C _$li , _$0 _$6 _$Ui.")}w._$KS(Be);var ht=w.getModelContext();ht.setDrawParam(w.getDrawParam()),ht.init()}catch(je){o._$Rb(je)}},t.prototype._$KS=function(w){this._$MT=w},t.prototype.getModelImpl=function(){return this._$MT==null&&(this._$MT=new h,this._$MT._$zP()),this._$MT},t.prototype.getCanvasWidth=function(){return this._$MT==null?0:this._$MT.getCanvasWidth()},t.prototype.getCanvasHeight=function(){return this._$MT==null?0:this._$MT.getCanvasHeight()},t.prototype.getParamFloat=function(w){return typeof w!="number"&&(w=this._$5S.getParamIndex(f.getID(w))),this._$5S.getParamFloat(w)},t.prototype.setParamFloat=function(w,k,B){typeof w!="number"&&(w=this._$5S.getParamIndex(f.getID(w))),arguments.length<3&&(B=1),this._$5S.setParamFloat(w,this._$5S.getParamFloat(w)*(1-B)+k*B)},t.prototype.addToParamFloat=function(w,k,B){typeof w!="number"&&(w=this._$5S.getParamIndex(f.getID(w))),arguments.length<3&&(B=1),this._$5S.setParamFloat(w,this._$5S.getParamFloat(w)+k*B)},t.prototype.multParamFloat=function(w,k,B){typeof w!="number"&&(w=this._$5S.getParamIndex(f.getID(w))),arguments.length<3&&(B=1),this._$5S.setParamFloat(w,this._$5S.getParamFloat(w)*(1+(k-1)*B))},t.prototype.getParamIndex=function(w){return this._$5S.getParamIndex(f.getID(w))},t.prototype.loadParam=function(){this._$5S.loadParam()},t.prototype.saveParam=function(){this._$5S.saveParam()},t.prototype.init=function(){this._$5S.init()},t.prototype.update=function(){this._$5S.update()},t.prototype._$Rs=function(){return o._$li("_$60 _$PT _$Rs()"),-1},t.prototype._$Ds=function(w){o._$li(`_$60 _$PT _$SS#_$Ds() 
`)},t.prototype._$K2=function(){},t.prototype.draw=function(){},t.prototype.getModelContext=function(){return this._$5S},t.prototype._$s2=function(){return this._$NP},t.prototype._$P7=function(w,k,B,ce){var ve=-1,ue=0,Ie=this,Me=.5,Se=.15;if(B==0){for(var Be=0;Be<w.length;Be++){var it=w[Be],ut=k[Be],ht=Ie.getParamFloat(it)!=0;Ie.setPartsOpacity(ut,ht?1:0)}return}else if(w.length==1){var it=w[0],je=Ie.getParamFloat(it)!=0,ut=k[0],dt=Ie.getPartsOpacity(ut),at=B/ce;je?(dt+=at,dt>1&&(dt=1)):(dt-=at,dt<0&&(dt=0)),Ie.setPartsOpacity(ut,dt)}else{for(var Be=0;Be<w.length;Be++){var it=w[Be],ht=Ie.getParamFloat(it)!=0;if(ht){if(ve>=0)break;ve=Be;var ut=k[Be];ue=Ie.getPartsOpacity(ut),ue+=B/ce,ue>1&&(ue=1)}}ve<0&&(console.log("No _$wi _$q0/ _$U default[%s]",w[0]),ve=0,ue=1,Ie.loadParam(),Ie.setParamFloat(w[ve],ue),Ie.saveParam());for(var Be=0;Be<w.length;Be++){var ut=k[Be];if(ve==Be)Ie.setPartsOpacity(ut,ue);else{var Nt=Ie.getPartsOpacity(ut),jt;ue<Me?jt=ue*(Me-1)/Me+1:jt=(1-ue)*Me/(1-Me);{var zt=(1-jt)*(1-ue);zt>Se&&(jt=1-Se/(1-ue))}Nt>jt&&(Nt=jt),Ie.setPartsOpacity(ut,Nt)}}}},t.prototype.setPartsOpacity=function(w,k){typeof w!="number"&&(w=this._$5S.getPartsDataIndex(u.getID(w))),this._$5S.setPartsOpacity(w,k)},t.prototype.getPartsDataIndex=function(w){return w instanceof u||(w=u.getID(w)),this._$5S.getPartsDataIndex(w)},t.prototype.getPartsOpacity=function(w){return typeof w!="number"&&(w=this._$5S.getPartsDataIndex(u.getID(w))),w<0?0:this._$5S.getPartsOpacity(w)},t.prototype.getDrawParam=function(){},t.prototype.getDrawDataIndex=function(w){return this._$5S.getDrawDataIndex(ee.getID(w))},t.prototype.getDrawData=function(w){return this._$5S.getDrawData(w)},t.prototype.getTransformedPoints=function(w){var k=this._$5S._$C2(w);return k instanceof mr?k.getTransformedPoints():null},t.prototype.getIndexArray=function(w){if(w<0||w>=this._$5S._$aS.length)return null;var k=this._$5S._$aS[w];return k!=null&&k.getType()==Re._$wb&&k instanceof Tt?k.getIndexArray():null};function e(w){if(!fe){this.clipContextList=new Array,this.glcontext=w.gl,this.dp_webgl=w,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new P,tt.glContext.length>tt.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new Y,this.tmpMatrix2=new Y,this.tmpMatrixForMask=new Y,this.tmpMatrixForDraw=new Y,this.CHANNEL_COLORS=new Array;var k=new se;k=new se,k.r=0,k.g=0,k.b=0,k.a=1,this.CHANNEL_COLORS.push(k),k=new se,k.r=1,k.g=0,k.b=0,k.a=0,this.CHANNEL_COLORS.push(k),k=new se,k.r=0,k.g=1,k.b=0,k.a=0,this.CHANNEL_COLORS.push(k),k=new se,k.r=0,k.g=0,k.b=1,k.a=0,this.CHANNEL_COLORS.push(k);for(var B=0;B<this.CHANNEL_COLORS.length;B++)this.dp_webgl.setChannelFlagAsColor(B,this.CHANNEL_COLORS[B])}}e.CHANNEL_COUNT=4,e.RENDER_TEXTURE_USE_MIPMAP=!1,e.NOT_USED_FRAME=-100,e.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var w=this.CHANNEL_COLORS.length-1;w>=0;--w)this.CHANNEL_COLORS.splice(w,1);this.CHANNEL_COLORS=[]}this.releaseShader()},e.prototype.releaseShader=function(){for(var w=tt.frameBuffers.length,k=0;k<w;k++)this.gl.deleteFramebuffer(tt.frameBuffers[k].framebuffer);tt.frameBuffers=[],tt.glContext=[]},e.prototype.init=function(w,k,B){for(var ce=0;ce<k.length;ce++){var ve=k[ce].getClipIDList();if(ve!=null){var ue=this.findSameClip(ve);ue==null&&(ue=new r(this,w,ve),this.clipContextList.push(ue));var Ie=k[ce].getDrawDataID(),Me=w.getDrawDataIndex(Ie);ue.addClippedDrawData(Ie,Me);var Se=B[ce];Se.clipBufPre_clipContext=ue}}},e.prototype.getMaskRenderTexture=function(){var w=null;return w=this.dp_webgl.createFramebuffer(),tt.frameBuffers[this.dp_webgl.glno]=w,this.dp_webgl.glno},e.prototype.setupClip=function(w,k){for(var B=0,ce=0;ce<this.clipContextList.length;ce++){var ve=this.clipContextList[ce];this.calcClippedDrawTotalBounds(w,ve),ve.isUsing&&B++}if(B>0){var ue=k.gl.getParameter(k.gl.FRAMEBUFFER_BINDING),Ie=new Array(4);Ie[0]=0,Ie[1]=0,Ie[2]=k.gl.canvas.width,Ie[3]=k.gl.canvas.height,k.gl.viewport(0,0,tt.clippingMaskBufferSize,tt.clippingMaskBufferSize),this.setupLayoutBounds(B),k.gl.bindFramebuffer(k.gl.FRAMEBUFFER,tt.frameBuffers[this.curFrameNo].framebuffer),k.gl.clearColor(0,0,0,0),k.gl.clear(k.gl.COLOR_BUFFER_BIT);for(var ce=0;ce<this.clipContextList.length;ce++){var ve=this.clipContextList[ce],Me=ve.allClippedDrawRect;ve.layoutChannelNo;var Se=ve.layoutBounds,Be=.05;this.tmpBoundsOnModel._$jL(Me),this.tmpBoundsOnModel.expand(Me.width*Be,Me.height*Be);var it=Se.width/this.tmpBoundsOnModel.width,ut=Se.height/this.tmpBoundsOnModel.height;this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(Se.x,Se.y,0),this.tmpMatrix2.scale(it,ut,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(Se.x,Se.y,0),this.tmpMatrix2.scale(it,ut,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for(var ht=this.tmpMatrixForMask.getArray(),je=0;je<16;je++)ve.matrixForMask[je]=ht[je];for(var dt=this.tmpMatrixForDraw.getArray(),je=0;je<16;je++)ve.matrixForDraw[je]=dt[je];for(var at=ve.clippingMaskDrawIndexList.length,Nt=0;Nt<at;Nt++){var jt=ve.clippingMaskDrawIndexList[Nt],zt=w.getDrawData(jt),Xt=w._$C2(jt);k.setClipBufPre_clipContextForMask(ve),zt.draw(k,w,Xt)}}k.gl.bindFramebuffer(k.gl.FRAMEBUFFER,ue),k.setClipBufPre_clipContextForMask(null),k.gl.viewport(Ie[0],Ie[1],Ie[2],Ie[3])}},e.prototype.getColorBuffer=function(){return this.colorBuffer},e.prototype.findSameClip=function(w){for(var k=0;k<this.clipContextList.length;k++){var B=this.clipContextList[k],ce=B.clipIDList.length;if(ce==w.length){for(var ve=0,ue=0;ue<ce;ue++)for(var Ie=B.clipIDList[ue],Me=0;Me<ce;Me++)if(w[Me]==Ie){ve++;break}if(ve==ce)return B}}return null},e.prototype.calcClippedDrawTotalBounds=function(w,k){for(var B=w._$Ri.getModelImpl().getCanvasWidth(),ce=w._$Ri.getModelImpl().getCanvasHeight(),ve=B>ce?B:ce,ue=ve,Ie=ve,Me=0,Se=0,Be=k.clippedDrawContextList.length,it=0;it<Be;it++){var ut=k.clippedDrawContextList[it],ht=ut.drawDataIndex,je=w._$C2(ht);if(je._$yo()){for(var dt=je.getTransformedPoints(),at=dt.length,Nt=[],jt=[],zt=0,Xt=J._$i2;Xt<at;Xt+=J._$No)Nt[zt]=dt[Xt],jt[zt]=dt[Xt+1],zt++;var Er=Math.min.apply(null,Nt),or=Math.min.apply(null,jt),we=Math.max.apply(null,Nt),ur=Math.max.apply(null,jt);Er<ue&&(ue=Er),or<Ie&&(Ie=or),we>Me&&(Me=we),ur>Se&&(Se=ur)}}if(ue==ve)k.allClippedDrawRect.x=0,k.allClippedDrawRect.y=0,k.allClippedDrawRect.width=0,k.allClippedDrawRect.height=0,k.isUsing=!1;else{var Kt=Me-ue,Vn=Se-Ie;k.allClippedDrawRect.x=ue,k.allClippedDrawRect.y=Ie,k.allClippedDrawRect.width=Kt,k.allClippedDrawRect.height=Vn,k.isUsing=!0}},e.prototype.setupLayoutBounds=function(w){var k=w/e.CHANNEL_COUNT,B=w%e.CHANNEL_COUNT;k=~~k,B=~~B;for(var ce=0,ve=0;ve<e.CHANNEL_COUNT;ve++){var ue=k+(ve<B?1:0);if(ue!=0)if(ue==1){var Ie=this.clipContextList[ce++];Ie.layoutChannelNo=ve,Ie.layoutBounds.x=0,Ie.layoutBounds.y=0,Ie.layoutBounds.width=1,Ie.layoutBounds.height=1}else if(ue==2)for(var Me=0;Me<ue;Me++){var Se=Me%2,Be=0;Se=~~Se;var Ie=this.clipContextList[ce++];Ie.layoutChannelNo=ve,Ie.layoutBounds.x=Se*.5,Ie.layoutBounds.y=0,Ie.layoutBounds.width=.5,Ie.layoutBounds.height=1}else if(ue<=4)for(var Me=0;Me<ue;Me++){var Se=Me%2,Be=Me/2;Se=~~Se,Be=~~Be;var Ie=this.clipContextList[ce++];Ie.layoutChannelNo=ve,Ie.layoutBounds.x=Se*.5,Ie.layoutBounds.y=Be*.5,Ie.layoutBounds.width=.5,Ie.layoutBounds.height=.5}else if(ue<=9)for(var Me=0;Me<ue;Me++){var Se=Me%3,Be=Me/3;Se=~~Se,Be=~~Be;var Ie=this.clipContextList[ce++];Ie.layoutChannelNo=ve,Ie.layoutBounds.x=Se/3,Ie.layoutBounds.y=Be/3,Ie.layoutBounds.width=1/3,Ie.layoutBounds.height=1/3}else o._$li("_$6 _$0P mask count : %d",ue)}};function r(w,k,B){this.clipIDList=new Array,this.clipIDList=B,this.clippingMaskDrawIndexList=new Array;for(var ce=0;ce<B.length;ce++)this.clippingMaskDrawIndexList.push(k.getDrawDataIndex(B[ce]));this.clippedDrawContextList=new Array,this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new P,this.allClippedDrawRect=new P,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=w}r.prototype.addClippedDrawData=function(w,k){var B=new n(w,k);this.clippedDrawContextList.push(B)};function n(w,k){this._$gP=w,this.drawDataIndex=k}function i(){fe||(this.color=null)}function s(){fe||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}s._$JT=function(w,k,B){var ce=w/k,ve=B/k,ue=ve,Ie=1/3,Me=2/3,Se=1-(1-ve)*(1-ve),Be=1-(1-ue)*(1-ue),it=0,ut=(1-ve)*Ie*Se+(ue*Me+(1-ue)*Ie)*(1-Se),ht=(ue+(1-ue)*Me)*Be+(ve*Ie+(1-ve)*Me)*(1-Be),je=1,dt=je-3*ht+3*ut-it,at=3*ht-6*ut+3*it,Nt=3*ut-3*it,jt=it;if(ce<=0)return 0;if(ce>=1)return 1;var zt=ce,Xt=zt*zt,Er=zt*Xt,or=dt*Er+at*Xt+Nt*zt+jt;return or},s.prototype._$a0=function(){},s.prototype.setFadeIn=function(w){this._$dP=w},s.prototype.setFadeOut=function(w){this._$eo=w},s.prototype._$pT=function(w){this._$V0=w},s.prototype.getFadeOut=function(){return this._$eo},s.prototype._$4T=function(){return this._$eo},s.prototype._$mT=function(){return this._$V0},s.prototype.getDurationMSec=function(){return-1},s.prototype.getLoopDurationMSec=function(){return-1},s.prototype.updateParam=function(w,k){if(!(!k._$AT||k._$9L)){var B=X.getUserTimeMSec();if(k._$z2<0){k._$z2=B,k._$bs=B;var ce=this.getDurationMSec();k._$Do<0&&(k._$Do=ce<=0?-1:k._$z2+ce)}var ve=this._$V0,ue=this._$dP==0?1:Zt._$r2((B-k._$bs)/this._$dP),Ie=this._$eo==0||k._$Do<0?1:Zt._$r2((k._$Do-B)/this._$eo);ve=ve*ue*Ie,0<=ve&&ve<=1||console.log("### assert!! ### "),this.updateParamExe(w,B,ve,k),k._$Do>0&&k._$Do<B&&(k._$9L=!0)}},s.prototype.updateParamExe=function(w,k,B,ce){};function o(){}o._$8s=0,o._$fT=new Object,o.start=function(w){var k=o._$fT[w];k==null&&(k=new a,k._$r=w,o._$fT[w]=k),k._$0S=X.getSystemTimeMSec()},o.dump=function(w){var k=o._$fT[w];if(k!=null){var B=X.getSystemTimeMSec(),ce=B-k._$0S;return console.log(w+" : "+ce+"ms"),ce}else return-1},o.end=function(w){var k=o._$fT[w];if(k!=null){var B=X.getSystemTimeMSec();return B-k._$0S}else return-1},o._$li=function(w,k){console.log("_$li : "+w+`
`,k)},o._$Ji=function(w,k){console.log(w,k)},o._$dL=function(w,k){console.log(w,k),console.log(`
`)},o._$KL=function(w,k){for(var B=0;B<k;B++)B%16==0&&B>0?console.log(`
`):B%8==0&&B>0&&console.log("  "),console.log("%02X ",w[B]&255);console.log(`
`)},o._$nr=function(w,k,B){console.log(`%s
`,w);for(var ce=k.length,ve=0;ve<ce;++ve)console.log("%5d",k[ve]),console.log(`%s
`,B),console.log(",");console.log(`
`)},o._$Rb=function(w){console.log("dump exception : "+w),console.log("stack :: "+w.stack)};function a(){this._$r=null,this._$0S=null}function l(){fe||(this.x=null,this.y=null,this.width=null,this.height=null)}l.prototype._$8P=function(){return .5*(this.x+this.x+this.width)},l.prototype._$6P=function(){return .5*(this.y+this.y+this.height)},l.prototype._$EL=function(){return this.x+this.width},l.prototype._$5T=function(){return this.y+this.height},l.prototype._$jL=function(w,k,B,ce){this.x=w,this.y=k,this.width=B,this.height=ce},l.prototype._$jL=function(w){this.x=w.x,this.y=w.y,this.width=w.width,this.height=w.height};function u(w){fe||Ot.prototype.constructor.call(this,w)}u.prototype=new Ot,u._$tP=new Object,u._$27=function(){u._$tP.clear()},u.getID=function(w){var k=u._$tP[w];return k==null&&(k=new u(w),u._$tP[w]=k),k},u.prototype._$3s=function(){return new u};function d(){}function f(w){fe||Ot.prototype.constructor.call(this,w)}f.prototype=new Ot,f._$tP=new Object,f._$27=function(){f._$tP.clear()},f.getID=function(w){var k=f._$tP[w];return k==null&&(k=new f(w),f._$tP[w]=k),k},f.prototype._$3s=function(){return new f};function h(){fe||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,h._$42++)}h._$42=0,h.prototype._$zP=function(){this._$vo==null&&(this._$vo=new Dt),this._$F2==null&&(this._$F2=new Array)},h.prototype.getCanvasWidth=function(){return this._$ao},h.prototype.getCanvasHeight=function(){return this._$1S},h.prototype._$F0=function(w){this._$vo=w._$nP(),this._$F2=w._$nP(),this._$ao=w._$6L(),this._$1S=w._$6L()},h.prototype._$6S=function(w){this._$F2.push(w)},h.prototype._$Xr=function(){return this._$F2},h.prototype._$E2=function(){return this._$vo};function g(){fe||(this.p1=new p,this.p2=new p,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=new Array,this._$qP=new Array,this.setup(.3,.5,.1))}g.prototype.setup=function(w,k,B){this._$ks=this._$Yb(),this.p2._$xT(),arguments.length==3&&(this._$Fo=w,this._$L2=k,this.p1._$p=B,this.p2._$p=B,this.p2.y=w,this.setup())},g.prototype.getPhysicsPoint1=function(){return this.p1},g.prototype.getPhysicsPoint2=function(){return this.p2},g.prototype._$qr=function(){return this._$Db},g.prototype._$pr=function(w){this._$Db=w},g.prototype._$5r=function(){return this._$M2},g.prototype._$Cs=function(){return this._$9b},g.prototype._$Yb=function(){return-180*Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/Math.PI},g.prototype.addSrcParam=function(w,k,B,ce){var ve=new b(w,k,B,ce);this._$lL.push(ve)},g.prototype.addTargetParam=function(w,k,B,ce){var ve=new T(w,k,B,ce);this._$qP.push(ve)},g.prototype.update=function(w,k){if(this._$iP==0){this._$iP=this._$iT=k,this._$Fo=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));return}var B=(k-this._$iT)/1e3;if(B!=0){for(var ce=this._$lL.length-1;ce>=0;--ce){var ve=this._$lL[ce];ve._$oP(w,this)}this._$oo(w,B),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/B,this._$ks=this._$M2}for(var ce=this._$qP.length-1;ce>=0;--ce){var ue=this._$qP[ce];ue._$YS(w,this)}this._$iT=k},g.prototype._$oo=function(w,k){k<.033&&(k=.033);var B=1/k;this.p1.vx=(this.p1.x-this.p1._$s0)*B,this.p1.vy=(this.p1.y-this.p1._$70)*B,this.p1.ax=(this.p1.vx-this.p1._$7L)*B,this.p1.ay=(this.p1.vy-this.p1._$HL)*B,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT();var ce=-Math.atan2(this.p1.y-this.p2.y,this.p1.x-this.p2.x),ve,ue,Ie=Math.cos(ce),Me=Math.sin(ce),Se=9.8*this.p2._$p,Be=this._$Db*c._$bS,it=Se*Math.cos(ce-Be);ve=it*Me,ue=it*Ie;var ut=-this.p1.fx*Me*Me,ht=-this.p1.fy*Me*Ie,je=-this.p2.vx*this._$L2,dt=-this.p2.vy*this._$L2;this.p2.fx=ve+ut+je,this.p2.fy=ue+ht+dt,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*k,this.p2.vy+=this.p2.ay*k,this.p2.x+=this.p2.vx*k,this.p2.y+=this.p2.vy*k;var at=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/at,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/at,this.p2.vx=(this.p2.x-this.p2._$s0)*B,this.p2.vy=(this.p2.y-this.p2._$70)*B,this.p2._$xT()};function p(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}p.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy};function v(w,k,B){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=w,this.scale=k,this._$V0=B}v.prototype._$oP=function(w,k){};function b(w,k,B,ce){v.prototype.constructor.call(this,k,B,ce),this._$tL=null,this._$tL=w}b.prototype=new v,b.prototype._$oP=function(w,k){var B=this.scale*w.getParamFloat(this._$wL),ce=k.getPhysicsPoint1();switch(this._$tL){default:case g.Src.SRC_TO_X:ce.x=ce.x+(B-ce.x)*this._$V0;break;case g.Src.SRC_TO_Y:ce.y=ce.y+(B-ce.y)*this._$V0;break;case g.Src.SRC_TO_G_ANGLE:var ve=k._$qr();ve=ve+(B-ve)*this._$V0,k._$pr(ve);break}};function S(w,k,B){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=w,this.scale=k,this._$V0=B}S.prototype._$YS=function(w,k){};function T(w,k,B,ce){S.prototype.constructor.call(this,k,B,ce),this._$YP=null,this._$YP=w}T.prototype=new S,T.prototype._$YS=function(w,k){switch(this._$YP){default:case g.Target.TARGET_FROM_ANGLE:w.setParamFloat(this._$wL,this.scale*k._$5r(),this._$V0);break;case g.Target.TARGET_FROM_ANGLE_V:w.setParamFloat(this._$wL,this.scale*k._$Cs(),this._$V0);break}},g.Src=function(){},g.Src.SRC_TO_X="SRC_TO_X",g.Src.SRC_TO_Y="SRC_TO_Y",g.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",g.Target=function(){},g.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",g.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V";function E(){fe||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}E.prototype.init=function(w){this._$fL=w._$fL,this._$gL=w._$gL,this._$B0=w._$B0,this._$z0=w._$z0,this._$qT=w._$qT,this.reflectX=w.reflectX,this.reflectY=w.reflectY},E.prototype._$F0=function(w){this._$fL=w._$_T(),this._$gL=w._$_T(),this._$B0=w._$_T(),this._$z0=w._$_T(),this._$qT=w._$_T(),w.getFormatVersion()>=ie.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=w._$po(),this.reflectY=w._$po())},E.prototype._$e=function(){};var C=function(){};C._$ni=function(w,k,B,ce,ve,ue,Ie,Me,Se){var Be=Ie*ue-Me*ve;if(Be==0)return null;var it=((w-B)*ue-(k-ce)*ve)/Be,ut;return ve!=0?ut=(w-B-it*Ie)/ve:ut=(k-ce-it*Me)/ue,isNaN(ut)&&(ut=(w-B-it*Ie)/ve,isNaN(ut)&&(ut=(k-ce-it*Me)/ue),isNaN(ut)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+ve),console.log("v1x != 0 ? "+(ve!=0)))),Se==null?new Array(ut,it):(Se[0]=ut,Se[1]=it,Se)};function P(){fe||(this.x=null,this.y=null,this.width=null,this.height=null)}P.prototype._$8P=function(){return this.x+.5*this.width},P.prototype._$6P=function(){return this.y+.5*this.height},P.prototype._$EL=function(){return this.x+this.width},P.prototype._$5T=function(){return this.y+this.height},P.prototype._$jL=function(w,k,B,ce){this.x=w,this.y=k,this.width=B,this.height=ce},P.prototype._$jL=function(w){this.x=w.x,this.y=w.y,this.width=w.width,this.height=w.height},P.prototype.contains=function(w,k){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},P.prototype.expand=function(w,k){this.x-=w,this.y-=k,this.width+=w*2,this.height+=k*2};function D(){}D._$Z2=function(w,k,B,ce){var ve=k._$Q2(w,B),ue=w._$vs(),Ie=w._$Tr();if(k._$zr(ue,Ie,ve),ve<=0)return ce[ue[0]];if(ve==1){var Me=ce[ue[0]],Se=ce[ue[1]],Be=Ie[0];return Me+(Se-Me)*Be|0}else if(ve==2){var Me=ce[ue[0]],Se=ce[ue[1]],it=ce[ue[2]],ut=ce[ue[3]],Be=Ie[0],ht=Ie[1],je=Me+(Se-Me)*Be|0,dt=it+(ut-it)*Be|0;return je+(dt-je)*ht|0}else if(ve==3){var at=ce[ue[0]],Nt=ce[ue[1]],jt=ce[ue[2]],zt=ce[ue[3]],Xt=ce[ue[4]],Er=ce[ue[5]],or=ce[ue[6]],we=ce[ue[7]],Be=Ie[0],ht=Ie[1],ur=Ie[2],Me=at+(Nt-at)*Be|0,Se=jt+(zt-jt)*Be|0,it=Xt+(Er-Xt)*Be|0,ut=or+(we-or)*Be|0,je=Me+(Se-Me)*ht|0,dt=it+(ut-it)*ht|0;return je+(dt-je)*ur|0}else if(ve==4){var Kt=ce[ue[0]],Vn=ce[ue[1]],si=ce[ue[2]],_r=ce[ue[3]],Ei=ce[ue[4]],Zr=ce[ue[5]],Ur=ce[ue[6]],Qr=ce[ue[7]],rn=ce[ue[8]],en=ce[ue[9]],bn=ce[ue[10]],$r=ce[ue[11]],Gr=ce[ue[12]],ar=ce[ue[13]],Lr=ce[ue[14]],cn=ce[ue[15]],Be=Ie[0],ht=Ie[1],ur=Ie[2],yi=Ie[3],at=Kt+(Vn-Kt)*Be|0,Nt=si+(_r-si)*Be|0,jt=Ei+(Zr-Ei)*Be|0,zt=Ur+(Qr-Ur)*Be|0,Xt=rn+(en-rn)*Be|0,Er=bn+($r-bn)*Be|0,or=Gr+(ar-Gr)*Be|0,we=Lr+(cn-Lr)*Be|0,Me=at+(Nt-at)*ht|0,Se=jt+(zt-jt)*ht|0,it=Xt+(Er-Xt)*ht|0,ut=or+(we-or)*ht|0,je=Me+(Se-Me)*ur|0,dt=it+(ut-it)*ur|0;return je+(dt-je)*yi|0}else{for(var Ln=1<<ve,an=new Float32Array(Ln),Xn=0;Xn<Ln;Xn++){for(var Pt=Xn,ls=1,mi=0;mi<ve;mi++)ls*=Pt%2==0?1-Ie[mi]:Ie[mi],Pt/=2;an[Xn]=ls}for(var wi=new Float32Array(Ln),Si=0;Si<Ln;Si++)wi[Si]=ce[ue[Si]];for(var Io=0,Si=0;Si<Ln;Si++)Io+=an[Si]*wi[Si];return Io+.5|0}},D._$br=function(w,k,B,ce){var ve=k._$Q2(w,B),ue=w._$vs(),Ie=w._$Tr();if(k._$zr(ue,Ie,ve),ve<=0)return ce[ue[0]];if(ve==1){var Me=ce[ue[0]],Se=ce[ue[1]],Be=Ie[0];return Me+(Se-Me)*Be}else if(ve==2){var Me=ce[ue[0]],Se=ce[ue[1]],it=ce[ue[2]],ut=ce[ue[3]],Be=Ie[0],ht=Ie[1];return(1-ht)*(Me+(Se-Me)*Be)+ht*(it+(ut-it)*Be)}else if(ve==3){var je=ce[ue[0]],dt=ce[ue[1]],at=ce[ue[2]],Nt=ce[ue[3]],jt=ce[ue[4]],zt=ce[ue[5]],Xt=ce[ue[6]],Er=ce[ue[7]],Be=Ie[0],ht=Ie[1],or=Ie[2];return(1-or)*((1-ht)*(je+(dt-je)*Be)+ht*(at+(Nt-at)*Be))+or*((1-ht)*(jt+(zt-jt)*Be)+ht*(Xt+(Er-Xt)*Be))}else if(ve==4){var we=ce[ue[0]],ur=ce[ue[1]],Kt=ce[ue[2]],Vn=ce[ue[3]],si=ce[ue[4]],_r=ce[ue[5]],Ei=ce[ue[6]],Zr=ce[ue[7]],Ur=ce[ue[8]],Qr=ce[ue[9]],rn=ce[ue[10]],en=ce[ue[11]],bn=ce[ue[12]],$r=ce[ue[13]],Gr=ce[ue[14]],ar=ce[ue[15]],Be=Ie[0],ht=Ie[1],or=Ie[2],Lr=Ie[3];return(1-Lr)*((1-or)*((1-ht)*(we+(ur-we)*Be)+ht*(Kt+(Vn-Kt)*Be))+or*((1-ht)*(si+(_r-si)*Be)+ht*(Ei+(Zr-Ei)*Be)))+Lr*((1-or)*((1-ht)*(Ur+(Qr-Ur)*Be)+ht*(rn+(en-rn)*Be))+or*((1-ht)*(bn+($r-bn)*Be)+ht*(Gr+(ar-Gr)*Be)))}else{for(var cn=1<<ve,yi=new Float32Array(cn),Ln=0;Ln<cn;Ln++){for(var an=Ln,Xn=1,Pt=0;Pt<ve;Pt++)Xn*=an%2==0?1-Ie[Pt]:Ie[Pt],an/=2;yi[Ln]=Xn}for(var ls=new Float32Array(cn),mi=0;mi<cn;mi++)ls[mi]=ce[ue[mi]];for(var wi=0,mi=0;mi<cn;mi++)wi+=yi[mi]*ls[mi];return wi}},D._$Vr=function(w,k,B,ce,ve,ue,Ie,Me){var Se=k._$Q2(w,B),Be=w._$vs(),it=w._$Tr();k._$zr(Be,it,Se);var ut=ce*2,ht=Ie;if(Se<=0){var je=Be[0],dt=ve[je];if(Me==2&&Ie==0)X._$jT(dt,0,ue,0,ut);else for(var at=0;at<ut;)ue[ht]=dt[at++],ue[ht+1]=dt[at++],ht+=Me}else if(Se==1)for(var dt=ve[Be[0]],Nt=ve[Be[1]],jt=it[0],zt=1-jt,at=0;at<ut;)ue[ht]=dt[at]*zt+Nt[at]*jt,++at,ue[ht+1]=dt[at]*zt+Nt[at]*jt,++at,ht+=Me;else if(Se==2)for(var dt=ve[Be[0]],Nt=ve[Be[1]],Xt=ve[Be[2]],Er=ve[Be[3]],jt=it[0],or=it[1],zt=1-jt,we=1-or,ur=we*zt,Kt=we*jt,Vn=or*zt,si=or*jt,at=0;at<ut;)ue[ht]=ur*dt[at]+Kt*Nt[at]+Vn*Xt[at]+si*Er[at],++at,ue[ht+1]=ur*dt[at]+Kt*Nt[at]+Vn*Xt[at]+si*Er[at],++at,ht+=Me;else if(Se==3)for(var _r=ve[Be[0]],Ei=ve[Be[1]],Zr=ve[Be[2]],Ur=ve[Be[3]],Qr=ve[Be[4]],rn=ve[Be[5]],en=ve[Be[6]],bn=ve[Be[7]],jt=it[0],or=it[1],$r=it[2],zt=1-jt,we=1-or,Gr=1-$r,ar=Gr*we*zt,Lr=Gr*we*jt,cn=Gr*or*zt,yi=Gr*or*jt,Ln=$r*we*zt,an=$r*we*jt,Xn=$r*or*zt,Pt=$r*or*jt,at=0;at<ut;)ue[ht]=ar*_r[at]+Lr*Ei[at]+cn*Zr[at]+yi*Ur[at]+Ln*Qr[at]+an*rn[at]+Xn*en[at]+Pt*bn[at],++at,ue[ht+1]=ar*_r[at]+Lr*Ei[at]+cn*Zr[at]+yi*Ur[at]+Ln*Qr[at]+an*rn[at]+Xn*en[at]+Pt*bn[at],++at,ht+=Me;else if(Se==4)for(var ls=ve[Be[0]],mi=ve[Be[1]],wi=ve[Be[2]],Si=ve[Be[3]],Io=ve[Be[4]],jo=ve[Be[5]],eo=ve[Be[6]],zi=ve[Be[7]],Fi=ve[Be[8]],aa=ve[Be[9]],Ho=ve[Be[10]],fo=ve[Be[11]],Oo=ve[Be[12]],ho=ve[Be[13]],ln=ve[Be[14]],Rl=ve[Be[15]],jt=it[0],or=it[1],$r=it[2],Ia=it[3],zt=1-jt,we=1-or,Gr=1-$r,ol=1-Ia,ym=ol*Gr*we*zt,Oa=ol*Gr*we*jt,us=ol*Gr*or*zt,up=ol*Gr*or*jt,cp=ol*$r*we*zt,bm=ol*$r*we*jt,Bf=ol*$r*or*zt,dp=ol*$r*or*jt,wc=Ia*Gr*we*zt,$l=Ia*Gr*we*jt,Sc=Ia*Gr*or*zt,kd=Ia*Gr*or*jt,Id=Ia*$r*we*zt,Uf=Ia*$r*we*jt,Vf=Ia*$r*or*zt,fp=Ia*$r*or*jt,at=0;at<ut;)ue[ht]=ym*ls[at]+Oa*mi[at]+us*wi[at]+up*Si[at]+cp*Io[at]+bm*jo[at]+Bf*eo[at]+dp*zi[at]+wc*Fi[at]+$l*aa[at]+Sc*Ho[at]+kd*fo[at]+Id*Oo[at]+Uf*ho[at]+Vf*ln[at]+fp*Rl[at],++at,ue[ht+1]=ym*ls[at]+Oa*mi[at]+us*wi[at]+up*Si[at]+cp*Io[at]+bm*jo[at]+Bf*eo[at]+dp*zi[at]+wc*Fi[at]+$l*aa[at]+Sc*Ho[at]+kd*fo[at]+Id*Oo[at]+Uf*ho[at]+Vf*ln[at]+fp*Rl[at],++at,ht+=Me;else{for(var Ll=1<<Se,Od=new Float32Array(Ll),Dd=0;Dd<Ll;Dd++){for(var hp=Dd,Fl=1,Tc=0;Tc<Se;Tc++)Fl*=hp%2==0?1-it[Tc]:it[Tc],hp/=2;Od[Dd]=Fl}for(var ku=new Float32Array(Ll),js=0;js<Ll;js++)ku[js]=ve[Be[js]];for(var at=0;at<ut;){for(var pp=0,mp=0,Ec=at+1,js=0;js<Ll;js++)pp+=Od[js]*ku[js][at],mp+=Od[js]*ku[js][Ec];at+=2,ue[ht]=pp,ue[ht+1]=mp,ht+=Me}}};function L(){fe||(this.x=null,this.y=null)}L.prototype._$HT=function(w,k){this.x=w,this.y=k},L.prototype._$HT=function(w){this.x=w.x,this.y=w.y};function j(){fe||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=new Array)}j._$ur=-2,j._$ES=500,j._$wb=2,j._$8S=3,j._$52=j._$ES,j._$R2=j._$ES,j._$or=function(){return j._$52},j._$Pr=function(){return j._$R2},j.prototype.convertClipIDForV2_11=function(w){var k=[];return w==null||w.length==0?null:/,/.test(w)?(k=w.id.split(","),k):(k.push(w.id),k)},j.prototype._$F0=function(w){this._$gP=w._$nP(),this._$dr=w._$nP(),this._$GS=w._$nP(),this._$qb=w._$6L(),this._$Lb=w._$cS(),this._$mS=w._$Tb(),w.getFormatVersion()>=ie._$T7?(this.clipID=w._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},j.prototype.getClipIDList=function(){return this.clipIDList},j.prototype.init=function(w){},j.prototype._$Nr=function(w,k){if(k._$IS[0]=!1,k._$Us=D._$Z2(w,this._$GS,k._$IS,this._$Lb),!tt._$Zs){if(k._$IS[0])return}k._$7s=D._$br(w,this._$GS,k._$IS,this._$mS)},j.prototype._$2b=function(w,k){},j.prototype.getDrawDataID=function(){return this._$gP},j.prototype._$j2=function(w){this._$gP=w},j.prototype.getOpacity=function(w,k){return k._$7s},j.prototype._$zS=function(w,k){return k._$Us},j.prototype._$MS=function(w){for(var k=w.length-1;k>=0;--k){var B=w[k];B<j._$52?j._$52=B:B>j._$R2&&(j._$R2=B)}},j.prototype.getTargetBaseDataID=function(){return this._$dr},j.prototype._$gs=function(w){this._$dr=w},j.prototype._$32=function(){return this._$dr!=null&&this._$dr!=ke._$2o()},j.prototype.preDraw=function(w,k,B){},j.prototype.draw=function(w,k,B){},j.prototype.getType=function(){},j.prototype._$B2=function(w,k,B){};function te(){fe||(this._$Eb=te._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=te.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=new Array)}te._$ps=32,te.CLIPPING_PROCESS_NONE=0,te.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,te.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,te.CLIPPING_PROCESS_DRAW=3,te.CLIPPING_PROCESS_CLEAR_ALPHA=4,te.prototype.setChannelFlagAsColor=function(w,k){this.CHANNEL_COLORS[w]=k},te.prototype.getChannelFlagAsColor=function(w){return this.CHANNEL_COLORS[w]},te.prototype._$ZT=function(){},te.prototype._$Uo=function(w,k,B,ce,ve,ue,Ie){},te.prototype._$Rs=function(){return-1},te.prototype._$Ds=function(w){},te.prototype.setBaseColor=function(w,k,B,ce){w<0?w=0:w>1&&(w=1),k<0?k=0:k>1&&(k=1),B<0?B=0:B>1&&(B=1),ce<0?ce=0:ce>1&&(ce=1),this._$lT=w,this._$C0=k,this._$tT=B,this._$WL=ce},te.prototype._$WP=function(w){this.culling=w},te.prototype.setMatrix=function(w){for(var k=0;k<16;k++)this.matrix4x4[k]=w[k]},te.prototype._$IT=function(){return this.matrix4x4},te.prototype.setPremultipliedAlpha=function(w){this.premultipliedAlpha=w},te.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},te.prototype.setAnisotropy=function(w){this.anisotropy=w},te.prototype.getAnisotropy=function(){return this.anisotropy},te.prototype.getClippingProcess=function(){return this.clippingProcess},te.prototype.setClippingProcess=function(w){this.clippingProcess=w},te.prototype.setClipBufPre_clipContextForMask=function(w){this.clipBufPre_clipContextMask=w},te.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},te.prototype.setClipBufPre_clipContextForDraw=function(w){this.clipBufPre_clipContextDraw=w},te.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw};function se(){fe||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=tt.L2D_COLOR_BLEND_MODE_MULT)}function q(){fe||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}q._$ur=-2,q._$c2=1,q._$_b=2,q.prototype._$F0=function(w){this._$kP=w._$nP(),this._$dr=w._$nP()},q.prototype.readV2_opacity=function(w){w.getFormatVersion()>=ie.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=w._$Tb())},q.prototype.init=function(w){},q.prototype._$Nr=function(w,k){},q.prototype.interpolateOpacity=function(w,k,B,ce){this._$mS==null?B.setInterpolatedOpacity(1):B.setInterpolatedOpacity(D._$br(w,k,ce,this._$mS))},q.prototype._$2b=function(w,k){},q.prototype._$nb=function(w,k,B,ce,ve,ue,Ie){},q.prototype.getType=function(){},q.prototype._$gs=function(w){this._$dr=w},q.prototype._$a2=function(w){this._$kP=w},q.prototype.getTargetBaseDataID=function(){return this._$dr},q.prototype.getBaseDataID=function(){return this._$kP},q.prototype._$32=function(){return this._$dr!=null&&this._$dr!=ke._$2o()};function X(){}X._$W2=0,X._$CS=X._$W2,X._$Mo=function(){return!0},X._$XP=function(w){try{for(var k=getTimeMSec();getTimeMSec()-k<w;);}catch(B){B._$Rb()}},X.getUserTimeMSec=function(){return X._$CS==X._$W2?X.getSystemTimeMSec():X._$CS},X.setUserTimeMSec=function(w){X._$CS=w},X.updateUserTimeMSec=function(){return X._$CS=X.getSystemTimeMSec()},X.getTimeMSec=function(){return new Date().getTime()},X.getSystemTimeMSec=function(){return new Date().getTime()},X._$Q=function(w){},X._$jT=function(w,k,B,ce,ve){for(var ue=0;ue<ve;ue++)B[ce+ue]=w[k+ue]};function Q(){fe||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=Q._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}Q._$ds=-2,Q.prototype._$F0=function(w){this._$wL=w._$nP(),this._$VP=w._$6L(),this._$GP=w._$nP()},Q.prototype.getParamIndex=function(w){return this._$2r!=w&&(this._$8o=Q._$ds),this._$8o},Q.prototype._$Pb=function(w,k){this._$8o=w,this._$2r=k},Q.prototype.getParamID=function(){return this._$wL},Q.prototype._$yP=function(w){this._$wL=w},Q.prototype._$N2=function(){return this._$VP},Q.prototype._$d2=function(){return this._$GP},Q.prototype._$t2=function(w,k){this._$VP=w,this._$GP=k},Q.prototype._$Lr=function(){return this._$O2},Q.prototype._$wr=function(w){this._$O2=w},Q.prototype._$SL=function(){return this._$ri},Q.prototype._$AL=function(w){this._$ri=w};function $(){}$.startsWith=function(w,k,B){var ce=k+B.length;if(ce>=w.length)return!1;for(var ve=k;ve<ce;ve++)if($.getChar(w,ve)!=B.charAt(ve-k))return!1;return!0},$.getChar=function(w,k){return String.fromCharCode(w.getUint8(k))},$.createString=function(w,k,B){for(var ce=new ArrayBuffer(B*2),ve=new Uint16Array(ce),ue=0;ue<B;ue++)ve[ue]=w.getUint8(k+ue);return String.fromCharCode.apply(null,ve)},$._$LS=function(w,k,B,ce){w instanceof ArrayBuffer&&(w=new DataView(w));var ve=B,ue=!1,Ie=!1,Me=0,Se=$.getChar(w,ve);Se=="-"&&(ue=!0,ve++);for(var Be=!1;ve<k;ve++){switch(Se=$.getChar(w,ve),Se){case"0":Me=Me*10;break;case"1":Me=Me*10+1;break;case"2":Me=Me*10+2;break;case"3":Me=Me*10+3;break;case"4":Me=Me*10+4;break;case"5":Me=Me*10+5;break;case"6":Me=Me*10+6;break;case"7":Me=Me*10+7;break;case"8":Me=Me*10+8;break;case"9":Me=Me*10+9;break;case".":Ie=!0,ve++,Be=!0;break;default:Be=!0;break}if(Be)break}if(Ie)for(var it=.1,ut=!1;ve<k;ve++){switch(Se=$.getChar(w,ve),Se){case"0":break;case"1":Me+=it*1;break;case"2":Me+=it*2;break;case"3":Me+=it*3;break;case"4":Me+=it*4;break;case"5":Me+=it*5;break;case"6":Me+=it*6;break;case"7":Me+=it*7;break;case"8":Me+=it*8;break;case"9":Me+=it*9;break;default:ut=!0;break}if(it*=.1,ut)break}return ue&&(Me=-Me),ce[0]=ve,Me};function V(){fe||(this._$Ob=null)}V.prototype._$zP=function(){this._$Ob=new Array},V.prototype._$F0=function(w){this._$Ob=w._$nP()},V.prototype._$Ur=function(w){if(w._$WS())return!0;for(var k=w._$v2(),B=this._$Ob.length-1;B>=0;--B){var ce=this._$Ob[B].getParamIndex(k);if(ce==Q._$ds&&(ce=w.getParamIndex(this._$Ob[B].getParamID())),w._$Xb(ce))return!0}return!1},V.prototype._$Q2=function(w,k){for(var B=this._$Ob.length,ce=w._$v2(),ve=0,ue,Ie,Me=0;Me<B;Me++){var Se=this._$Ob[Me];if(ue=Se.getParamIndex(ce),ue==Q._$ds&&(ue=w.getParamIndex(Se.getParamID()),Se._$Pb(ue,ce)),ue<0)throw new Exception("err 23242 : "+Se.getParamID());var Be=ue<0?0:w.getParamFloat(ue);Ie=Se._$N2();var it=Se._$d2(),ut=-1,ht=0,je,dt;if(!(Ie<1))if(Ie==1)je=it[0],je-J._$J<Be&&Be<je+J._$J?(ut=0,ht=0):(ut=0,k[0]=!0);else if(je=it[0],Be<je-J._$J)ut=0,k[0]=!0;else if(Be<je+J._$J)ut=0;else{for(var at=!1,Nt=1;Nt<Ie;++Nt){if(dt=it[Nt],Be<dt+J._$J){dt-J._$J<Be?ut=Nt:(ut=Nt-1,ht=(Be-je)/(dt-je),ve++),at=!0;break}je=dt}at||(ut=Ie-1,ht=0,k[0]=!0)}Se._$wr(ut),Se._$AL(ht)}return ve},V.prototype._$zr=function(w,k,B){var ce=1<<B;ce+1>J._$Qb&&console.log(`err 23245
`);for(var ve=this._$Ob.length,ue=1,Ie=1,Me=0,Se=0;Se<ce;++Se)w[Se]=0;for(var Be=0;Be<ve;++Be){var it=this._$Ob[Be];if(it._$SL()==0){var ut=it._$Lr()*ue;if(ut<0&&tt._$3T)throw new Exception("err 23246");for(var Se=0;Se<ce;++Se)w[Se]+=ut}else{for(var ut=ue*it._$Lr(),ht=ue*(it._$Lr()+1),Se=0;Se<ce;++Se)w[Se]+=(Se/Ie|0)%2==0?ut:ht;k[Me++]=it._$SL(),Ie*=2}ue*=it._$N2()}w[ce]=65535,k[Me]=-1},V.prototype._$h2=function(w,k,B){for(var ce=new Float32Array(k),ve=0;ve<k;++ve)ce[ve]=B[ve];var ue=new Q;ue._$yP(w),ue._$t2(k,ce),this._$Ob.push(ue)},V.prototype._$J2=function(w){for(var k=w,B=this._$Ob.length,ce=0;ce<B;++ce){var ve=this._$Ob[ce],ue=ve._$N2(),Ie=k%ve._$N2(),Me=ve._$d2()[Ie];console.log("%s[%d]=%7.2f / ",ve.getParamID(),Ie,Me),k/=ue}console.log(`
`)},V.prototype.getParamCount=function(){return this._$Ob.length},V.prototype._$zs=function(){return this._$Ob};function Y(){this.m=new Float32Array(16),this.identity()}Y.prototype.identity=function(){for(var w=0;w<16;w++)this.m[w]=w%5==0?1:0},Y.prototype.getArray=function(){return this.m},Y.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},Y.prototype.setMatrix=function(w){if(!(w==null||w.length!=16))for(var k=0;k<16;k++)this.m[k]=w[k]},Y.prototype.mult=function(w,k,B){return k==null?null:(this==k?this.mult_safe(this.m,w.m,k.m,B):this.mult_fast(this.m,w.m,k.m,B),k)},Y.prototype.mult_safe=function(w,k,B,ce){if(w==B){var ve=new Array(16);this.mult_fast(w,k,ve,ce);for(var ue=15;ue>=0;--ue)B[ue]=ve[ue]}else this.mult_fast(w,k,B,ce)},Y.prototype.mult_fast=function(w,k,B,ce){ce?(B[0]=w[0]*k[0]+w[4]*k[1]+w[8]*k[2],B[4]=w[0]*k[4]+w[4]*k[5]+w[8]*k[6],B[8]=w[0]*k[8]+w[4]*k[9]+w[8]*k[10],B[12]=w[0]*k[12]+w[4]*k[13]+w[8]*k[14]+w[12],B[1]=w[1]*k[0]+w[5]*k[1]+w[9]*k[2],B[5]=w[1]*k[4]+w[5]*k[5]+w[9]*k[6],B[9]=w[1]*k[8]+w[5]*k[9]+w[9]*k[10],B[13]=w[1]*k[12]+w[5]*k[13]+w[9]*k[14]+w[13],B[2]=w[2]*k[0]+w[6]*k[1]+w[10]*k[2],B[6]=w[2]*k[4]+w[6]*k[5]+w[10]*k[6],B[10]=w[2]*k[8]+w[6]*k[9]+w[10]*k[10],B[14]=w[2]*k[12]+w[6]*k[13]+w[10]*k[14]+w[14],B[3]=B[7]=B[11]=0,B[15]=1):(B[0]=w[0]*k[0]+w[4]*k[1]+w[8]*k[2]+w[12]*k[3],B[4]=w[0]*k[4]+w[4]*k[5]+w[8]*k[6]+w[12]*k[7],B[8]=w[0]*k[8]+w[4]*k[9]+w[8]*k[10]+w[12]*k[11],B[12]=w[0]*k[12]+w[4]*k[13]+w[8]*k[14]+w[12]*k[15],B[1]=w[1]*k[0]+w[5]*k[1]+w[9]*k[2]+w[13]*k[3],B[5]=w[1]*k[4]+w[5]*k[5]+w[9]*k[6]+w[13]*k[7],B[9]=w[1]*k[8]+w[5]*k[9]+w[9]*k[10]+w[13]*k[11],B[13]=w[1]*k[12]+w[5]*k[13]+w[9]*k[14]+w[13]*k[15],B[2]=w[2]*k[0]+w[6]*k[1]+w[10]*k[2]+w[14]*k[3],B[6]=w[2]*k[4]+w[6]*k[5]+w[10]*k[6]+w[14]*k[7],B[10]=w[2]*k[8]+w[6]*k[9]+w[10]*k[10]+w[14]*k[11],B[14]=w[2]*k[12]+w[6]*k[13]+w[10]*k[14]+w[14]*k[15],B[3]=w[3]*k[0]+w[7]*k[1]+w[11]*k[2]+w[15]*k[3],B[7]=w[3]*k[4]+w[7]*k[5]+w[11]*k[6]+w[15]*k[7],B[11]=w[3]*k[8]+w[7]*k[9]+w[11]*k[10]+w[15]*k[11],B[15]=w[3]*k[12]+w[7]*k[13]+w[11]*k[14]+w[15]*k[15])},Y.prototype.translate=function(w,k,B){this.m[12]=this.m[0]*w+this.m[4]*k+this.m[8]*B+this.m[12],this.m[13]=this.m[1]*w+this.m[5]*k+this.m[9]*B+this.m[13],this.m[14]=this.m[2]*w+this.m[6]*k+this.m[10]*B+this.m[14],this.m[15]=this.m[3]*w+this.m[7]*k+this.m[11]*B+this.m[15]},Y.prototype.scale=function(w,k,B){this.m[0]*=w,this.m[4]*=k,this.m[8]*=B,this.m[1]*=w,this.m[5]*=k,this.m[9]*=B,this.m[2]*=w,this.m[6]*=k,this.m[10]*=B,this.m[3]*=w,this.m[7]*=k,this.m[11]*=B},Y.prototype.rotateX=function(w){var k=c.fcos(w),B=c._$9(w),ce=this.m[4];this.m[4]=ce*k+this.m[8]*B,this.m[8]=ce*-B+this.m[8]*k,ce=this.m[5],this.m[5]=ce*k+this.m[9]*B,this.m[9]=ce*-B+this.m[9]*k,ce=this.m[6],this.m[6]=ce*k+this.m[10]*B,this.m[10]=ce*-B+this.m[10]*k,ce=this.m[7],this.m[7]=ce*k+this.m[11]*B,this.m[11]=ce*-B+this.m[11]*k},Y.prototype.rotateY=function(w){var k=c.fcos(w),B=c._$9(w),ce=this.m[0];this.m[0]=ce*k+this.m[8]*-B,this.m[8]=ce*B+this.m[8]*k,ce=this.m[1],this.m[1]=ce*k+this.m[9]*-B,this.m[9]=ce*B+this.m[9]*k,ce=m[2],this.m[2]=ce*k+this.m[10]*-B,this.m[10]=ce*B+this.m[10]*k,ce=m[3],this.m[3]=ce*k+this.m[11]*-B,this.m[11]=ce*B+this.m[11]*k},Y.prototype.rotateZ=function(w){var k=c.fcos(w),B=c._$9(w),ce=this.m[0];this.m[0]=ce*k+this.m[4]*B,this.m[4]=ce*-B+this.m[4]*k,ce=this.m[1],this.m[1]=ce*k+this.m[5]*B,this.m[5]=ce*-B+this.m[5]*k,ce=this.m[2],this.m[2]=ce*k+this.m[6]*B,this.m[6]=ce*-B+this.m[6]*k,ce=this.m[3],this.m[3]=ce*k+this.m[7]*B,this.m[7]=ce*-B+this.m[7]*k};function ee(w){fe||Ot.prototype.constructor.call(this,w)}ee.prototype=new Ot,ee._$tP=new Object,ee._$27=function(){ee._$tP.clear()},ee.getID=function(w){var k=ee._$tP[w];return k==null&&(k=new ee(w),ee._$tP[w]=k),k},ee.prototype._$3s=function(){return new ee};function ae(){fe||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}ae._$kS=-1,ae._$pS=0,ae._$hb=1,ae.STATE_IDENTITY=0,ae._$gb=1,ae._$fo=2,ae._$go=4,ae.prototype.transform=function(w,k,B){var ce,ve,ue,Ie,Me,Se,Be=0,it=0;switch(this._$hi){default:return;case ae._$go|ae._$fo|ae._$gb:for(ce=this._$7,ve=this._$H,ue=this._$k,Ie=this._$f,Me=this._$g,Se=this._$w;--B>=0;){var ut=w[Be++],ht=w[Be++];k[it++]=ce*ut+ve*ht+ue,k[it++]=Ie*ut+Me*ht+Se}return;case ae._$go|ae._$fo:for(ce=this._$7,ve=this._$H,Ie=this._$f,Me=this._$g;--B>=0;){var ut=w[Be++],ht=w[Be++];k[it++]=ce*ut+ve*ht,k[it++]=Ie*ut+Me*ht}return;case ae._$go|ae._$gb:for(ve=this._$H,ue=this._$k,Ie=this._$f,Se=this._$w;--B>=0;){var ut=w[Be++];k[it++]=ve*w[Be++]+ue,k[it++]=Ie*ut+Se}return;case ae._$go:for(ve=this._$H,Ie=this._$f;--B>=0;){var ut=w[Be++];k[it++]=ve*w[Be++],k[it++]=Ie*ut}return;case ae._$fo|ae._$gb:for(ce=this._$7,ue=this._$k,Me=this._$g,Se=this._$w;--B>=0;)k[it++]=ce*w[Be++]+ue,k[it++]=Me*w[Be++]+Se;return;case ae._$fo:for(ce=this._$7,Me=this._$g;--B>=0;)k[it++]=ce*w[Be++],k[it++]=Me*w[Be++];return;case ae._$gb:for(ue=this._$k,Se=this._$w;--B>=0;)k[it++]=w[Be++]+ue,k[it++]=w[Be++]+Se;return;case ae.STATE_IDENTITY:(w!=k||Be!=it)&&X._$jT(w,Be,k,it,B*2);return}},ae.prototype.update=function(){this._$H==0&&this._$f==0?this._$7==1&&this._$g==1?this._$k==0&&this._$w==0?(this._$hi=ae.STATE_IDENTITY,this._$Z=ae._$pS):(this._$hi=ae._$gb,this._$Z=ae._$hb):this._$k==0&&this._$w==0?(this._$hi=ae._$fo,this._$Z=ae._$kS):(this._$hi=ae._$fo|ae._$gb,this._$Z=ae._$kS):this._$7==0&&this._$g==0?this._$k==0&&this._$w==0?(this._$hi=ae._$go,this._$Z=ae._$kS):(this._$hi=ae._$go|ae._$gb,this._$Z=ae._$kS):this._$k==0&&this._$w==0?(this._$hi=ae._$go|ae._$fo,this._$Z=ae._$kS):(this._$hi=ae._$go|ae._$fo|ae._$gb,this._$Z=ae._$kS)},ae.prototype._$RT=function(w){this._$IT(w);var k=w[0],B=w[2],ce=w[1],ve=w[3],ue=Math.sqrt(k*k+ce*ce),Ie=k*ve-B*ce;ue==0?tt._$so&&console.log("affine._$RT() / rt==0"):(w[0]=ue,w[1]=Ie/ue,w[2]=(ce*ve+k*B)/Ie,w[3]=Math.atan2(ce,k))},ae.prototype._$ho=function(w,k,B,ce){var ve=new Float32Array(6),ue=new Float32Array(6);w._$RT(ve),k._$RT(ue);var Ie=new Float32Array(6);Ie[0]=ve[0]+(ue[0]-ve[0])*B,Ie[1]=ve[1]+(ue[1]-ve[1])*B,Ie[2]=ve[2]+(ue[2]-ve[2])*B,Ie[3]=ve[3]+(ue[3]-ve[3])*B,Ie[4]=ve[4]+(ue[4]-ve[4])*B,Ie[5]=ve[5]+(ue[5]-ve[5])*B,ce._$CT(Ie)},ae.prototype._$CT=function(w){var k=Math.cos(w[3]),B=Math.sin(w[3]);this._$7=w[0]*k,this._$f=w[0]*B,this._$H=w[1]*(w[2]*k-B),this._$g=w[1]*(w[2]*B+k),this._$k=w[4],this._$w=w[5],this.update()},ae.prototype._$IT=function(w){w[0]=this._$7,w[1]=this._$f,w[2]=this._$H,w[3]=this._$g,w[4]=this._$k,w[5]=this._$w};function H(){fe||(s.prototype.constructor.call(this),this.motions=new Array,this._$7r=null,this._$7r=H._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}H.prototype=new s,H._$cs="VISIBLE:",H._$ar="LAYOUT:",H._$Co=0,H._$D2=[],H._$1T=1,H.loadMotion=function(w){var k=new H,B=[0],ce=w.length;k._$yT=0;for(var ve=0;ve<ce;++ve){var ue=w[ve]&255;if(!(ue==`
`||ue=="\r")){if(ue=="#"){for(;ve<ce&&!(w[ve]==`
`||w[ve]=="\r");++ve);continue}if(ue=="$"){for(var Ie=ve,Me=-1;ve<ce&&(ue=w[ve]&255,!(ue=="\r"||ue==`
`));++ve)if(ue=="="){Me=ve;break}if(Me>=0)for(Me==Ie+4&&w[Ie+1]=="f"&&w[Ie+2]=="p"&&w[Ie+3]=="s",ve=Me+1;ve<ce&&(ue=w[ve]&255,!(ue=="\r"||ue==`
`));++ve)ue==","||ue==" "||ue=="	"||($._$LS(w,ce,ve,B),ve=B[0]);for(;ve<ce&&!(w[ve]==`
`||w[ve]=="\r");++ve);continue}if("a"<=ue&&ue<="z"||"A"<=ue&&ue<="Z"||ue=="_"){for(var Ie=ve,Me=-1;ve<ce&&(ue=w[ve]&255,!(ue=="\r"||ue==`
`));++ve)if(ue=="="){Me=ve;break}if(Me>=0){var Se=new le;$.startsWith(w,Ie,H._$cs)?(Se._$RP=le._$hs,Se._$4P=new String(w,Ie,Me-Ie)):$.startsWith(w,Ie,H._$ar)?(Se._$4P=new String(w,Ie+7,Me-Ie-7),$.startsWith(w,Ie+7,"ANCHOR_X")?Se._$RP=le._$xs:$.startsWith(w,Ie+7,"ANCHOR_Y")?Se._$RP=le._$us:$.startsWith(w,Ie+7,"SCALE_X")?Se._$RP=le._$qs:$.startsWith(w,Ie+7,"SCALE_Y")?Se._$RP=le._$Ys:$.startsWith(w,Ie+7,"X")?Se._$RP=le._$ws:$.startsWith(w,Ie+7,"Y")&&(Se._$RP=le._$Ns)):(Se._$RP=le._$Fr,Se._$4P=new String(w,Ie,Me-Ie)),k.motions.push(Se);var Be=0;for(H._$D2.clear(),ve=Me+1;ve<ce&&(ue=w[ve]&255,!(ue=="\r"||ue==`
`));++ve)ue==","||ue==" "||ue=="	"||$._$LS(w,ce,ve,B);Se._$I0=H._$D2._$BL(),Be>k._$yT&&(k._$yT=Be)}}}}return k._$AS=1e3*k._$yT/k._$D0|0,k},H.prototype.getDurationMSec=function(){return this._$AS},H.prototype.dump=function(){for(var w=0;w<this.motions.length;w++){var k=this.motions[w];console.log("_$wL[%s] [%d]. ",k._$4P,k._$I0.length);for(var B=0;B<k._$I0.length&&B<10;B++)console.log("%5.2f ,",k._$I0[B]);console.log(`
`)}},H.prototype.updateParamExe=function(w,k,B,ce){for(var ve=k-ce._$z2,ue=ve*this._$D0/1e3,Ie=ue|0,Me=ue-Ie,Se=0;Se<this.motions.length;Se++){var Be=this.motions[Se],it=Be._$I0.length,ut=Be._$4P;if(Be._$RP==le._$hs){var ht=Be._$I0[Ie>=it?it-1:Ie];w.setParamFloat(ut,ht)}else if(!(le._$ws<=Be._$RP&&Be._$RP<=le._$Ys)){var je=w.getParamFloat(ut),dt=Be._$I0[Ie>=it?it-1:Ie],at=Be._$I0[Ie+1>=it?it-1:Ie+1],Nt=dt+(at-dt)*Me,jt=je+(Nt-je)*B;w.setParamFloat(ut,jt)}}Ie>=this._$yT&&(this._$E?(ce._$z2=k,this.loopFadeIn&&(ce._$bs=k)):ce._$9L=!0)},H.prototype._$r0=function(){return this._$E},H.prototype._$aL=function(w){this._$E=w},H.prototype.isLoopFadeIn=function(){return this.loopFadeIn},H.prototype.setLoopFadeIn=function(w){this.loopFadeIn=w},yt.prototype.clear=function(){this.size=0},yt.prototype.add=function(w){if(this._$P.length<=this.size){var k=new Float32Array(this.size*2);X._$jT(this._$P,0,k,0,this.size),this._$P=k}this._$P[this.size++]=w},yt.prototype._$BL=function(){var w=new Float32Array(this.size);return X._$jT(this._$P,0,w,0,this.size),w},le._$Fr=0,le._$hs=1,le._$ws=100,le._$Ns=101,le._$xs=102,le._$us=103,le._$qs=104,le._$Ys=105;function J(){}J._$Ms=1,J._$Qs=2,J._$i2=0,J._$No=2,J._$do=J._$Ms,J._$Ls=!0,J._$1r=5,J._$Qb=65,J._$J=1e-4,J._$FT=.001,J._$Ss=3;function ie(){}ie._$o7=6,ie._$S7=7,ie._$s7=8,ie._$77=9,ie.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,ie.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,ie._$T7=ie.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1,ie._$Is=-2004318072,ie._$h0=0,ie._$4L=23,ie._$7P=33,ie._$uT=function(w){console.log(`_$bo :: _$6 _$mo _$E0 : %d
`,w)},ie._$9o=function(w){if(w<40)return ie._$uT(w),null;if(w<50)return ie._$uT(w),null;if(w<60)return ie._$uT(w),null;if(w<100)switch(w){case 65:return new Oe;case 66:return new V;case 67:return new Q;case 68:return new Je;case 69:return new E;case 70:return new Tt;default:return ie._$uT(w),null}else if(w<150)switch(w){case 131:return new Mt;case 133:return new Ke;case 136:return new h;case 137:return new Dt;case 142:return new wt}return ie._$uT(w),null};function xe(w){fe||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=new Array(xe._$is),this._$_2=new Float32Array(xe._$is),this._$vr=new Float32Array(xe._$is),this._$Rr=new Float32Array(xe._$is),this._$Or=new Float32Array(xe._$is),this._$fs=new Float32Array(xe._$is),this._$Js=new Array(xe._$is),this._$3S=new Array,this._$aS=new Array,this._$Bo=null,this._$F2=new Array,this._$db=new Array,this._$8b=new Array,this._$Hr=new Array,this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(J._$Qb),this._$ZP=new Float32Array(J._$1r*2),this._$Ri=w,this._$b0=xe._$HP++,this.clipManager=null,this.dp_webgl=null)}xe._$HP=0,xe._$_0=!0,xe._$V2=-1,xe._$W0=-1,xe._$jr=!1,xe._$ZS=!0,xe._$tr=-1e6,xe._$lr=1e6,xe._$is=32,xe._$e=!1,xe.prototype.getDrawDataIndex=function(w){for(var k=this._$aS.length-1;k>=0;--k)if(this._$aS[k]!=null&&this._$aS[k].getDrawDataID()==w)return k;return-1},xe.prototype.getDrawData=function(w){if(w instanceof ee){if(this._$Bo==null){this._$Bo=new Object;for(var k=this._$aS.length,B=0;B<k;B++){var ce=this._$aS[B],ve=ce.getDrawDataID();ve!=null&&(this._$Bo[ve]=ce)}}return this._$Bo[id]}else return w<this._$aS.length?this._$aS[w]:null},xe.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),this._$Bo!=null&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},xe.prototype.init=function(){this._$co++,this._$F2.length>0&&this.release();for(var w=this._$Ri.getModelImpl(),k=w._$Xr(),B=k.length,ce=new Array,ve=new Array,ue=0;ue<B;++ue){var Ie=k[ue];this._$F2.push(Ie),this._$Hr.push(Ie.init(this));for(var Me=Ie.getBaseData(),Se=Me.length,Be=0;Be<Se;++Be)ce.push(Me[Be]);for(var Be=0;Be<Se;++Be){var it=Me[Be].init(this);it._$l2(ue),ve.push(it)}for(var ut=Ie.getDrawData(),ht=ut.length,Be=0;Be<ht;++Be){var je=ut[Be],dt=je.init(this);dt._$IP=ue,this._$aS.push(je),this._$8b.push(dt)}}for(var at=ce.length,Nt=ke._$2o();;){for(var jt=!1,ue=0;ue<at;++ue){var zt=ce[ue];if(zt!=null){var Xt=zt.getTargetBaseDataID();(Xt==null||Xt==Nt||this.getBaseDataIndex(Xt)>=0)&&(this._$3S.push(zt),this._$db.push(ve[ue]),ce[ue]=null,jt=!0)}}if(!jt)break}var Er=w._$E2();if(Er!=null){var or=Er._$1s();if(or!=null)for(var we=or.length,ue=0;ue<we;++ue){var ur=or[ue];ur!=null&&this._$02(ur.getParamID(),ur.getDefaultValue(),ur.getMinValue(),ur.getMaxValue())}}this.clipManager=new e(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},xe.prototype.update=function(){xe._$e&&o.start("_$zL");for(var w=this._$_2.length,k=0;k<w;k++)this._$_2[k]!=this._$vr[k]&&(this._$Js[k]=xe._$ZS,this._$vr[k]=this._$_2[k]);var B=!1,ce=this._$3S.length,ve=this._$aS.length,ue=Re._$or(),Ie=Re._$Pr(),Me=Ie-ue+1;(this._$Ws==null||this._$Ws.length<Me)&&(this._$Ws=new Int16Array(Me),this._$Vs=new Int16Array(Me));for(var k=0;k<Me;k++)this._$Ws[k]=xe._$V2,this._$Vs[k]=xe._$V2;(this._$Er==null||this._$Er.length<ve)&&(this._$Er=new Int16Array(ve));for(var k=0;k<ve;k++)this._$Er[k]=xe._$W0;xe._$e&&o.dump("_$zL"),xe._$e&&o.start("_$UL");for(var Se=null,Be=0;Be<ce;++Be){var it=this._$3S[Be],ut=this._$db[Be];try{it._$Nr(this,ut),it._$2b(this,ut)}catch(zt){Se==null&&(Se=zt)}}Se!=null&&xe._$_0&&o._$Rb(Se),xe._$e&&o.dump("_$UL"),xe._$e&&o.start("_$DL");for(var ht=null,je=0;je<ve;++je){var dt=this._$aS[je],at=this._$8b[je];try{if(dt._$Nr(this,at),at._$u2())continue;dt._$2b(this,at);var Nt=Math.floor(dt._$zS(this,at)-ue),jt;try{jt=this._$Vs[Nt]}catch(zt){console.log(`_$li :: %s / %s 				@@_$fS
`,zt.toString(),dt.getDrawDataID().toString()),Nt=Math.floor(dt._$zS(this,at)-ue);continue}jt==xe._$V2?this._$Ws[Nt]=je:this._$Er[jt]=je,this._$Vs[Nt]=je}catch(zt){ht==null&&(ht=zt,tt._$sT(tt._$H7))}}ht!=null&&xe._$_0&&o._$Rb(ht),xe._$e&&o.dump("_$DL"),xe._$e&&o.start("_$eL");for(var k=this._$Js.length-1;k>=0;k--)this._$Js[k]=xe._$jr;return this._$QT=!1,xe._$e&&o.dump("_$eL"),B},xe.prototype.preDraw=function(w){this.clipManager!=null&&(w._$ZT(),this.clipManager.setupClip(this,w))},xe.prototype.draw=function(w){if(this._$Ws==null){o._$li("call _$Ri.update() before _$Ri.draw() ");return}var k=this._$Ws.length;w._$ZT();for(var B=0;B<k;++B){var ce=this._$Ws[B];if(ce!=xe._$V2)do{var ve=this._$aS[ce],ue=this._$8b[ce];if(ue._$yo()){var Ie=ue._$IP,Me=this._$Hr[Ie];ue._$VS=Me.getPartsOpacity(),ve.draw(w,this,ue)}var Se=this._$Er[ce];if(Se<=ce||Se==xe._$W0)break;ce=Se}while(!0)}},xe.prototype.getParamIndex=function(w){for(var k=this._$pb.length-1;k>=0;--k)if(this._$pb[k]==w)return k;return this._$02(w,0,xe._$tr,xe._$lr)},xe.prototype._$BS=function(w){return this.getBaseDataIndex(w)},xe.prototype.getBaseDataIndex=function(w){for(var k=this._$3S.length-1;k>=0;--k)if(this._$3S[k]!=null&&this._$3S[k].getBaseDataID()==w)return k;return-1},xe.prototype._$UT=function(w,k){var B=new Float32Array(k);return X._$jT(w,0,B,0,w.length),B},xe.prototype._$02=function(w,k,B,ce){if(this._$qo>=this._$pb.length){var ve=this._$pb.length,ue=new Array(ve*2);X._$jT(this._$pb,0,ue,0,ve),this._$pb=ue,this._$_2=this._$UT(this._$_2,ve*2),this._$vr=this._$UT(this._$vr,ve*2),this._$Rr=this._$UT(this._$Rr,ve*2),this._$Or=this._$UT(this._$Or,ve*2);var Ie=new Array;X._$jT(this._$Js,0,Ie,0,ve),this._$Js=Ie}return this._$pb[this._$qo]=w,this._$_2[this._$qo]=k,this._$vr[this._$qo]=k,this._$Rr[this._$qo]=B,this._$Or[this._$qo]=ce,this._$Js[this._$qo]=xe._$ZS,this._$qo++},xe.prototype._$Zo=function(w,k){this._$3S[w]=k},xe.prototype.setParamFloat=function(w,k){k<this._$Rr[w]&&(k=this._$Rr[w]),k>this._$Or[w]&&(k=this._$Or[w]),this._$_2[w]=k},xe.prototype.loadParam=function(){var w=this._$_2.length;w>this._$fs.length&&(w=this._$fs.length),X._$jT(this._$fs,0,this._$_2,0,w)},xe.prototype.saveParam=function(){var w=this._$_2.length;w>this._$fs.length&&(this._$fs=new Float32Array(w)),X._$jT(this._$_2,0,this._$fs,0,w)},xe.prototype._$v2=function(){return this._$co},xe.prototype._$WS=function(){return this._$QT},xe.prototype._$Xb=function(w){return this._$Js[w]==xe._$ZS},xe.prototype._$vs=function(){return this._$Es},xe.prototype._$Tr=function(){return this._$ZP},xe.prototype.getBaseData=function(w){return this._$3S[w]},xe.prototype.getParamFloat=function(w){return this._$_2[w]},xe.prototype.getParamMax=function(w){return this._$Or[w]},xe.prototype.getParamMin=function(w){return this._$Rr[w]},xe.prototype.setPartsOpacity=function(w,k){var B=this._$Hr[w];B.setPartsOpacity(k)},xe.prototype.getPartsOpacity=function(w){var k=this._$Hr[w];return k.getPartsOpacity()},xe.prototype.getPartsDataIndex=function(w){for(var k=this._$F2.length-1;k>=0;--k)if(this._$F2[k]!=null&&this._$F2[k]._$p2()==w)return k;return-1},xe.prototype._$q2=function(w){return this._$db[w]},xe.prototype._$C2=function(w){return this._$8b[w]},xe.prototype._$Bb=function(w){return this._$Hr[w]},xe.prototype._$5s=function(w,k){for(var B=this._$Ws.length,ce=w,ve=0;ve<B;++ve){var ue=this._$Ws[ve];if(ue!=xe._$V2)do{var Ie=this._$8b[ue];Ie._$yo()&&(Ie._$GT()._$B2(this,Ie,ce),ce+=k);var Me=this._$Er[ue];if(Me<=ue||Me==xe._$W0)break;ue=Me}while(!0)}},xe.prototype.setDrawParam=function(w){this.dp_webgl=w},xe.prototype.getDrawParam=function(){return this.dp_webgl};function qe(){}qe._$0T=function(w){return qe._$0T(new _$5(w))},qe._$0T=function(w){if(!w.exists())throw new _$ls(w._$3b());for(var k=w.length(),B=new Int8Array(k),ce=new _$Xs(new _$kb(w),8192),ve,ue=0;(ve=ce.read(B,ue,k-ue))>0;)ue+=ve;return B},qe._$C=function(w){var k=null,B=null;try{k=w instanceof Array?w:new _$Xs(w,8192),B=new _$js;for(var ce=1e3,ve,ue=new Int8Array(ce);(ve=k.read(ue))>0;)B.write(ue,0,ve);return B._$TS()}finally{w!=null&&w.close(),B!=null&&(B.flush(),B.close())}};function et(){fe||(te.prototype.constructor.call(this),this._$sb=new Int32Array(et._$As),this._$U2=new Array,this.transform=null,this.gl=null,et._$NT==null&&(et._$NT=et._$9r(256),et._$vS=et._$9r(256),et._$no=et._$vb(256)))}et.prototype=new te,et._$As=32,et._$Gr=!1,et._$NT=null,et._$vS=null,et._$no=null,et._$9r=function(w){var k=new Float32Array(w);return k},et._$vb=function(w){var k=new Int16Array(w);return k},et._$cr=function(w,k){return w==null||w._$yL()<k.length?(w=et._$9r(k.length*2),w.put(k),w._$oT(0)):(w.clear(),w.put(k),w._$oT(0)),w},et._$mb=function(w,k){return w==null||w._$yL()<k.length?(w=et._$vb(k.length*2),w.put(k),w._$oT(0)):(w.clear(),w.put(k),w._$oT(0)),w},et._$Hs=function(){return et._$Gr},et._$as=function(w){et._$Gr=w},et.prototype.setGL=function(w){this.gl=w},et.prototype.setTransform=function(w){this.transform=w},et.prototype._$ZT=function(){},et.prototype._$Uo=function(w,k,B,ce,ve,ue,Ie,Me){if(!(ue<.01)){var Se=this._$U2[w],Be=ue>.9?tt.EXPAND_W:0;this.gl.drawElements(Se,B,ce,ve,ue,Be,this.transform,Me)}},et.prototype._$Rs=function(){throw new Error("_$Rs")},et.prototype._$Ds=function(w){throw new Error("_$Ds")},et.prototype._$K2=function(){for(var w=0;w<this._$sb.length;w++){var k=this._$sb[w];k!=0&&(this.gl._$Sr(1,this._$sb,w),this._$sb[w]=0)}},et.prototype.setTexture=function(w,k){this._$sb.length<w+1&&this._$nS(w),this._$sb[w]=k},et.prototype.setTexture=function(w,k){this._$sb.length<w+1&&this._$nS(w),this._$U2[w]=k},et.prototype._$nS=function(w){var k=Math.max(this._$sb.length*2,w+1+10),B=new Int32Array(k);X._$jT(this._$sb,0,B,0,this._$sb.length),this._$sb=B;var ce=new Array;X._$jT(this._$U2,0,ce,0,this._$U2.length),this._$U2=ce};function Je(){fe||(q.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}Je.prototype=new q,Je._$Xo=new Float32Array(2),Je._$io=new Float32Array(2),Je._$0o=new Float32Array(2),Je._$Lo=new Float32Array(2),Je._$To=new Float32Array(2),Je._$Po=new Float32Array(2),Je._$gT=new Array,Je.prototype._$zP=function(){this._$GS=new V,this._$GS._$zP(),this._$Y0=new Array},Je.prototype.getType=function(){return q._$c2},Je.prototype._$F0=function(w){q.prototype._$F0.call(this,w),this._$GS=w._$nP(),this._$Y0=w._$nP(),q.prototype.readV2_opacity.call(this,w)},Je.prototype.init=function(w){var k=new lt(this);return k._$Yr=new E,this._$32()&&(k._$Wr=new E),k},Je.prototype._$Nr=function(w,k){this!=k._$GT()&&console.log("### assert!! ### ");var B=k;if(this._$GS._$Ur(w)){var ce=Je._$gT;ce[0]=!1;var ve=this._$GS._$Q2(w,ce);k._$Ib(ce[0]),this.interpolateOpacity(w,this._$GS,k,ce);var ue=w._$vs(),Ie=w._$Tr();if(this._$GS._$zr(ue,Ie,ve),ve<=0){var ln=this._$Y0[ue[0]];B._$Yr.init(ln)}else if(ve==1){var ln=this._$Y0[ue[0]],Me=this._$Y0[ue[1]],Se=Ie[0];B._$Yr._$fL=ln._$fL+(Me._$fL-ln._$fL)*Se,B._$Yr._$gL=ln._$gL+(Me._$gL-ln._$gL)*Se,B._$Yr._$B0=ln._$B0+(Me._$B0-ln._$B0)*Se,B._$Yr._$z0=ln._$z0+(Me._$z0-ln._$z0)*Se,B._$Yr._$qT=ln._$qT+(Me._$qT-ln._$qT)*Se}else if(ve==2){var ln=this._$Y0[ue[0]],Me=this._$Y0[ue[1]],Be=this._$Y0[ue[2]],it=this._$Y0[ue[3]],Se=Ie[0],ut=Ie[1],ht=ln._$fL+(Me._$fL-ln._$fL)*Se,je=Be._$fL+(it._$fL-Be._$fL)*Se;B._$Yr._$fL=ht+(je-ht)*ut,ht=ln._$gL+(Me._$gL-ln._$gL)*Se,je=Be._$gL+(it._$gL-Be._$gL)*Se,B._$Yr._$gL=ht+(je-ht)*ut,ht=ln._$B0+(Me._$B0-ln._$B0)*Se,je=Be._$B0+(it._$B0-Be._$B0)*Se,B._$Yr._$B0=ht+(je-ht)*ut,ht=ln._$z0+(Me._$z0-ln._$z0)*Se,je=Be._$z0+(it._$z0-Be._$z0)*Se,B._$Yr._$z0=ht+(je-ht)*ut,ht=ln._$qT+(Me._$qT-ln._$qT)*Se,je=Be._$qT+(it._$qT-Be._$qT)*Se,B._$Yr._$qT=ht+(je-ht)*ut}else if(ve==3){var dt=this._$Y0[ue[0]],at=this._$Y0[ue[1]],Nt=this._$Y0[ue[2]],jt=this._$Y0[ue[3]],zt=this._$Y0[ue[4]],Xt=this._$Y0[ue[5]],Er=this._$Y0[ue[6]],or=this._$Y0[ue[7]],Se=Ie[0],ut=Ie[1],we=Ie[2],ht=dt._$fL+(at._$fL-dt._$fL)*Se,je=Nt._$fL+(jt._$fL-Nt._$fL)*Se,ur=zt._$fL+(Xt._$fL-zt._$fL)*Se,Kt=Er._$fL+(or._$fL-Er._$fL)*Se;B._$Yr._$fL=(1-we)*(ht+(je-ht)*ut)+we*(ur+(Kt-ur)*ut),ht=dt._$gL+(at._$gL-dt._$gL)*Se,je=Nt._$gL+(jt._$gL-Nt._$gL)*Se,ur=zt._$gL+(Xt._$gL-zt._$gL)*Se,Kt=Er._$gL+(or._$gL-Er._$gL)*Se,B._$Yr._$gL=(1-we)*(ht+(je-ht)*ut)+we*(ur+(Kt-ur)*ut),ht=dt._$B0+(at._$B0-dt._$B0)*Se,je=Nt._$B0+(jt._$B0-Nt._$B0)*Se,ur=zt._$B0+(Xt._$B0-zt._$B0)*Se,Kt=Er._$B0+(or._$B0-Er._$B0)*Se,B._$Yr._$B0=(1-we)*(ht+(je-ht)*ut)+we*(ur+(Kt-ur)*ut),ht=dt._$z0+(at._$z0-dt._$z0)*Se,je=Nt._$z0+(jt._$z0-Nt._$z0)*Se,ur=zt._$z0+(Xt._$z0-zt._$z0)*Se,Kt=Er._$z0+(or._$z0-Er._$z0)*Se,B._$Yr._$z0=(1-we)*(ht+(je-ht)*ut)+we*(ur+(Kt-ur)*ut),ht=dt._$qT+(at._$qT-dt._$qT)*Se,je=Nt._$qT+(jt._$qT-Nt._$qT)*Se,ur=zt._$qT+(Xt._$qT-zt._$qT)*Se,Kt=Er._$qT+(or._$qT-Er._$qT)*Se,B._$Yr._$qT=(1-we)*(ht+(je-ht)*ut)+we*(ur+(Kt-ur)*ut)}else if(ve==4){var Vn=this._$Y0[ue[0]],si=this._$Y0[ue[1]],_r=this._$Y0[ue[2]],Ei=this._$Y0[ue[3]],Zr=this._$Y0[ue[4]],Ur=this._$Y0[ue[5]],Qr=this._$Y0[ue[6]],rn=this._$Y0[ue[7]],en=this._$Y0[ue[8]],bn=this._$Y0[ue[9]],$r=this._$Y0[ue[10]],Gr=this._$Y0[ue[11]],ar=this._$Y0[ue[12]],Lr=this._$Y0[ue[13]],cn=this._$Y0[ue[14]],yi=this._$Y0[ue[15]],Se=Ie[0],ut=Ie[1],we=Ie[2],Ln=Ie[3],ht=Vn._$fL+(si._$fL-Vn._$fL)*Se,je=_r._$fL+(Ei._$fL-_r._$fL)*Se,ur=Zr._$fL+(Ur._$fL-Zr._$fL)*Se,Kt=Qr._$fL+(rn._$fL-Qr._$fL)*Se,an=en._$fL+(bn._$fL-en._$fL)*Se,Xn=$r._$fL+(Gr._$fL-$r._$fL)*Se,Pt=ar._$fL+(Lr._$fL-ar._$fL)*Se,ls=cn._$fL+(yi._$fL-cn._$fL)*Se;B._$Yr._$fL=(1-Ln)*((1-we)*(ht+(je-ht)*ut)+we*(ur+(Kt-ur)*ut))+Ln*((1-we)*(an+(Xn-an)*ut)+we*(Pt+(ls-Pt)*ut)),ht=Vn._$gL+(si._$gL-Vn._$gL)*Se,je=_r._$gL+(Ei._$gL-_r._$gL)*Se,ur=Zr._$gL+(Ur._$gL-Zr._$gL)*Se,Kt=Qr._$gL+(rn._$gL-Qr._$gL)*Se,an=en._$gL+(bn._$gL-en._$gL)*Se,Xn=$r._$gL+(Gr._$gL-$r._$gL)*Se,Pt=ar._$gL+(Lr._$gL-ar._$gL)*Se,ls=cn._$gL+(yi._$gL-cn._$gL)*Se,B._$Yr._$gL=(1-Ln)*((1-we)*(ht+(je-ht)*ut)+we*(ur+(Kt-ur)*ut))+Ln*((1-we)*(an+(Xn-an)*ut)+we*(Pt+(ls-Pt)*ut)),ht=Vn._$B0+(si._$B0-Vn._$B0)*Se,je=_r._$B0+(Ei._$B0-_r._$B0)*Se,ur=Zr._$B0+(Ur._$B0-Zr._$B0)*Se,Kt=Qr._$B0+(rn._$B0-Qr._$B0)*Se,an=en._$B0+(bn._$B0-en._$B0)*Se,Xn=$r._$B0+(Gr._$B0-$r._$B0)*Se,Pt=ar._$B0+(Lr._$B0-ar._$B0)*Se,ls=cn._$B0+(yi._$B0-cn._$B0)*Se,B._$Yr._$B0=(1-Ln)*((1-we)*(ht+(je-ht)*ut)+we*(ur+(Kt-ur)*ut))+Ln*((1-we)*(an+(Xn-an)*ut)+we*(Pt+(ls-Pt)*ut)),ht=Vn._$z0+(si._$z0-Vn._$z0)*Se,je=_r._$z0+(Ei._$z0-_r._$z0)*Se,ur=Zr._$z0+(Ur._$z0-Zr._$z0)*Se,Kt=Qr._$z0+(rn._$z0-Qr._$z0)*Se,an=en._$z0+(bn._$z0-en._$z0)*Se,Xn=$r._$z0+(Gr._$z0-$r._$z0)*Se,Pt=ar._$z0+(Lr._$z0-ar._$z0)*Se,ls=cn._$z0+(yi._$z0-cn._$z0)*Se,B._$Yr._$z0=(1-Ln)*((1-we)*(ht+(je-ht)*ut)+we*(ur+(Kt-ur)*ut))+Ln*((1-we)*(an+(Xn-an)*ut)+we*(Pt+(ls-Pt)*ut)),ht=Vn._$qT+(si._$qT-Vn._$qT)*Se,je=_r._$qT+(Ei._$qT-_r._$qT)*Se,ur=Zr._$qT+(Ur._$qT-Zr._$qT)*Se,Kt=Qr._$qT+(rn._$qT-Qr._$qT)*Se,an=en._$qT+(bn._$qT-en._$qT)*Se,Xn=$r._$qT+(Gr._$qT-$r._$qT)*Se,Pt=ar._$qT+(Lr._$qT-ar._$qT)*Se,ls=cn._$qT+(yi._$qT-cn._$qT)*Se,B._$Yr._$qT=(1-Ln)*((1-we)*(ht+(je-ht)*ut)+we*(ur+(Kt-ur)*ut))+Ln*((1-we)*(an+(Xn-an)*ut)+we*(Pt+(ls-Pt)*ut))}else{for(var mi=Math.pow(2,ve)|0,wi=new Float32Array(mi),Si=0;Si<mi;Si++){for(var Io=Si,jo=1,eo=0;eo<ve;eo++)jo*=Io%2==0?1-Ie[eo]:Ie[eo],Io/=2;wi[Si]=jo}for(var zi=new Array,Fi=0;Fi<mi;Fi++)zi[Fi]=this._$Y0[ue[Fi]];for(var aa=0,Ho=0,fo=0,Oo=0,ho=0,Fi=0;Fi<mi;Fi++)aa+=wi[Fi]*zi[Fi]._$fL,Ho+=wi[Fi]*zi[Fi]._$gL,fo+=wi[Fi]*zi[Fi]._$B0,Oo+=wi[Fi]*zi[Fi]._$z0,ho+=wi[Fi]*zi[Fi]._$qT;B._$Yr._$fL=aa,B._$Yr._$gL=Ho,B._$Yr._$B0=fo,B._$Yr._$z0=Oo,B._$Yr._$qT=ho}var ln=this._$Y0[ue[0]];B._$Yr.reflectX=ln.reflectX,B._$Yr.reflectY=ln.reflectY}},Je.prototype._$2b=function(w,k){this!=k._$GT()&&console.log("### assert!! ### ");var B=k;if(B._$hS(!0),!this._$32())B.setTotalScale_notForClient(B._$Yr._$B0),B.setTotalOpacity(B.getInterpolatedOpacity());else{var ce=this.getTargetBaseDataID();if(B._$8r==q._$ur&&(B._$8r=w.getBaseDataIndex(ce)),B._$8r<0)tt._$so&&o._$li("_$L _$0P _$G :: %s",ce),B._$hS(!1);else{var ve=w.getBaseData(B._$8r);if(ve!=null){var ue=w._$q2(B._$8r),Ie=Je._$Xo;Ie[0]=B._$Yr._$fL,Ie[1]=B._$Yr._$gL;var Me=Je._$io;Me[0]=0,Me[1]=-.1;var Se=ue._$GT().getType();Se==q._$c2?Me[1]=-10:Me[1]=-.1;var Be=Je._$0o;this._$Jr(w,ve,ue,Ie,Me,Be);var it=c._$92(Me,Be);ve._$nb(w,ue,Ie,Ie,1,0,2),B._$Wr._$fL=Ie[0],B._$Wr._$gL=Ie[1],B._$Wr._$B0=B._$Yr._$B0,B._$Wr._$z0=B._$Yr._$z0,B._$Wr._$qT=B._$Yr._$qT-it*c._$NS;var ut=ue.getTotalScale();B.setTotalScale_notForClient(ut*B._$Wr._$B0);var ht=ue.getTotalOpacity();B.setTotalOpacity(ht*B.getInterpolatedOpacity()),B._$Wr.reflectX=B._$Yr.reflectX,B._$Wr.reflectY=B._$Yr.reflectY,B._$hS(ue._$yo())}else B._$hS(!1)}}},Je.prototype._$nb=function(w,k,B,ce,ve,ue,Ie){this!=k._$GT()&&console.log("### assert!! ### ");for(var Me=k,Se=Me._$Wr!=null?Me._$Wr:Me._$Yr,Be=Math.sin(c._$bS*Se._$qT),it=Math.cos(c._$bS*Se._$qT),ut=Me.getTotalScale(),ht=Se.reflectX?-1:1,je=Se.reflectY?-1:1,dt=it*ut*ht,at=-Be*ut*je,Nt=Be*ut*ht,jt=it*ut*je,zt=Se._$fL,Xt=Se._$gL,Er,or,we=ve*Ie,ur=ue;ur<we;ur+=Ie)Er=B[ur],or=B[ur+1],ce[ur]=dt*Er+at*or+zt,ce[ur+1]=Nt*Er+jt*or+Xt},Je.prototype._$Jr=function(w,k,B,ce,ve,ue){k!=B._$GT()&&console.log("### assert!! ### ");var Ie=Je._$Lo;Je._$Lo[0]=ce[0],Je._$Lo[1]=ce[1],k._$nb(w,B,Ie,Ie,1,0,2);for(var Me=Je._$To,Se=Je._$Po,Be=10,it=1,ut=0;ut<Be;ut++){if(Se[0]=ce[0]+it*ve[0],Se[1]=ce[1]+it*ve[1],k._$nb(w,B,Se,Me,1,0,2),Me[0]-=Ie[0],Me[1]-=Ie[1],Me[0]!=0||Me[1]!=0){ue[0]=Me[0],ue[1]=Me[1];return}if(Se[0]=ce[0]-it*ve[0],Se[1]=ce[1]-it*ve[1],k._$nb(w,B,Se,Me,1,0,2),Me[0]-=Ie[0],Me[1]-=Ie[1],Me[0]!=0||Me[1]!=0){Me[0]=-Me[0],Me[0]=-Me[0],ue[0]=Me[0],ue[1]=Me[1];return}it*=.1}tt._$so&&console.log(`_$L0 to transform _$SP
`)};function lt(w){Rt.prototype.constructor.call(this,w),this._$8r=q._$ur,this._$Yr=null,this._$Wr=null}lt.prototype=new Rt;function Re(){fe||(j.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}Re.prototype=new j,Re._$ur=-2,Re._$ES=500,Re._$wb=2,Re._$8S=3,Re._$os=4,Re._$52=Re._$ES,Re._$R2=Re._$ES,Re._$Sb=function(w){for(var k=w.length-1;k>=0;--k){var B=w[k];B<Re._$52?Re._$52=B:B>Re._$R2&&(Re._$R2=B)}},Re._$or=function(){return Re._$52},Re._$Pr=function(){return Re._$R2},Re.prototype._$F0=function(w){this._$gP=w._$nP(),this._$dr=w._$nP(),this._$GS=w._$nP(),this._$qb=w._$6L(),this._$Lb=w._$cS(),this._$mS=w._$Tb(),w.getFormatVersion()>=ie._$T7?(this.clipID=w._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,Re._$Sb(this._$Lb)},Re.prototype.getClipIDList=function(){return this.clipIDList},Re.prototype._$Nr=function(w,k){if(k._$IS[0]=!1,k._$Us=D._$Z2(w,this._$GS,k._$IS,this._$Lb),!tt._$Zs){if(k._$IS[0])return}k._$7s=D._$br(w,this._$GS,k._$IS,this._$mS)},Re.prototype._$2b=function(w){},Re.prototype.getDrawDataID=function(){return this._$gP},Re.prototype._$j2=function(w){this._$gP=w},Re.prototype.getOpacity=function(w,k){return k._$7s},Re.prototype._$zS=function(w,k){return k._$Us},Re.prototype.getTargetBaseDataID=function(){return this._$dr},Re.prototype._$gs=function(w){this._$dr=w},Re.prototype._$32=function(){return this._$dr!=null&&this._$dr!=ke._$2o()},Re.prototype.getType=function(){};function wt(){fe||(this._$NL=null,this._$3S=null,this._$aS=null,wt._$42++)}wt._$42=0,wt.prototype._$1b=function(){return this._$3S},wt.prototype.getDrawDataList=function(){return this._$aS},wt.prototype._$F0=function(w){this._$NL=w._$nP(),this._$aS=w._$nP(),this._$3S=w._$nP()},wt.prototype._$kr=function(w){w._$Zo(this._$3S),w._$xo(this._$aS),this._$3S=null,this._$aS=null};function vt(){fe||(t.prototype.constructor.call(this),this._$zo=new et)}vt.prototype=new t,vt.loadModel=function(w){var k=new vt;return t._$62(k,w),k},vt.loadModel=function(w){var k=new vt;return t._$62(k,w),k},vt._$to=function(){var w=new vt;return w},vt._$er=function(w){var k=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(k.exists()==!1)throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+k._$PL());for(var B=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],ce=vt.loadModel(k._$3b()),ve=0;ve<B.length;ve++){var ue=new _$5(B[ve]);if(ue.exists()==!1)throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+ue._$PL());ce.setTexture(ve,_$nL._$_o(w,ue._$3b()))}return ce},vt.prototype.setGL=function(w){this._$zo.setGL(w)},vt.prototype.setTransform=function(w){this._$zo.setTransform(w)},vt.prototype.draw=function(){this._$5S.draw(this._$zo)},vt.prototype._$K2=function(){this._$zo._$K2()},vt.prototype.setTexture=function(w,k){this._$zo==null&&o._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(w,k)},vt.prototype.setTexture=function(w,k){this._$zo==null&&o._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(w,k)},vt.prototype._$Rs=function(){return this._$zo._$Rs()},vt.prototype._$Ds=function(w){this._$zo._$Ds(w)},vt.prototype.getDrawParam=function(){return this._$zo};function pt(){fe||(s.prototype.constructor.call(this),this.motions=new Array,this._$o2=null,this._$7r=pt._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}pt.prototype=new s,pt._$cs="VISIBLE:",pt._$ar="LAYOUT:",pt.MTN_PREFIX_FADEIN="FADEIN:",pt.MTN_PREFIX_FADEOUT="FADEOUT:",pt._$Co=0,pt._$1T=1,pt.loadMotion=function(w){var k=qe._$C(w),B=pt.loadMotion(k);return B};function Ut(w,k){return String.fromCharCode(w.getUint8(k))}pt.loadMotion=function(w){w instanceof ArrayBuffer&&(w=new DataView(w));var k=new pt,B=[0],ce=w.byteLength;k._$yT=0;for(var ve=0;ve<ce;++ve){var ue=Ut(w,ve),Ie=ue.charCodeAt(0);if(!(ue==`
`||ue=="\r")){if(ue=="#"){for(;ve<ce&&!(Ut(w,ve)==`
`||Ut(w,ve)=="\r");++ve);continue}if(ue=="$"){for(var Me=ve,Se=-1;ve<ce&&(ue=Ut(w,ve),!(ue=="\r"||ue==`
`));++ve)if(ue=="="){Se=ve;break}if(Se>=0)for(Se==Me+4&&Ut(w,Me+1)=="f"&&Ut(w,Me+2)=="p"&&Ut(w,Me+3)=="s",ve=Se+1;ve<ce&&(ue=Ut(w,ve),!(ue=="\r"||ue==`
`));++ve)ue==","||ue==" "||ue=="	"||($._$LS(w,ce,ve,B),ve=B[0]);for(;ve<ce&&!(Ut(w,ve)==`
`||Ut(w,ve)=="\r");++ve);continue}if(97<=Ie&&Ie<=122||65<=Ie&&Ie<=90||ue=="_"){for(var Me=ve,Se=-1;ve<ce&&(ue=Ut(w,ve),!(ue=="\r"||ue==`
`));++ve)if(ue=="="){Se=ve;break}if(Se>=0){var Be=new le;$.startsWith(w,Me,pt._$cs)?(Be._$RP=le._$hs,Be._$4P=$.createString(w,Me,Se-Me)):$.startsWith(w,Me,pt._$ar)?(Be._$4P=$.createString(w,Me+7,Se-Me-7),$.startsWith(w,Me+7,"ANCHOR_X")?Be._$RP=le._$xs:$.startsWith(w,Me+7,"ANCHOR_Y")?Be._$RP=le._$us:$.startsWith(w,Me+7,"SCALE_X")?Be._$RP=le._$qs:$.startsWith(w,Me+7,"SCALE_Y")?Be._$RP=le._$Ys:$.startsWith(w,Me+7,"X")?Be._$RP=le._$ws:$.startsWith(w,Me+7,"Y")&&(Be._$RP=le._$Ns)):(Be._$RP=le._$Fr,Be._$4P=$.createString(w,Me,Se-Me)),k.motions.push(Be);var it=0,ut=[];for(ve=Se+1;ve<ce&&(ue=Ut(w,ve),!(ue=="\r"||ue==`
`));++ve)ue==","||ue==" "||ue=="	"||$._$LS(w,ce,ve,B);Be._$I0=new Float32Array(ut),it>k._$yT&&(k._$yT=it)}}}}return k._$rr=1e3*k._$yT/k._$D0|0,k},pt.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},pt.prototype.getLoopDurationMSec=function(){return this._$rr},pt.prototype.dump=function(){for(var w=0;w<this.motions.length;w++){var k=this.motions[w];console.log("_$wL[%s] [%d]. ",k._$4P,k._$I0.length);for(var B=0;B<k._$I0.length&&B<10;B++)console.log("%5.2f ,",k._$I0[B]);console.log(`
`)}},pt.prototype.updateParamExe=function(w,k,B,ce){for(var ve=k-ce._$z2,ue=ve*this._$D0/1e3,Ie=ue|0,Me=ue-Ie,Se=0;Se<this.motions.length;Se++){var Be=this.motions[Se],it=Be._$I0.length,ut=Be._$4P;if(Be._$RP==le._$hs){var ht=Be._$I0[Ie>=it?it-1:Ie];w.setParamFloat(ut,ht)}else if(!(le._$ws<=Be._$RP&&Be._$RP<=le._$Ys)){var je=w.getParamIndex(ut),dt=w.getModelContext(),at=dt.getParamMax(je),Nt=dt.getParamMin(je),jt=.4,zt=jt*(at-Nt),Xt=dt.getParamFloat(je),Er=Be._$I0[Ie>=it?it-1:Ie],or=Be._$I0[Ie+1>=it?it-1:Ie+1],we;Er<or&&or-Er>zt||Er>or&&Er-or>zt?we=Er:we=Er+(or-Er)*Me;var ur=Xt+(we-Xt)*B;w.setParamFloat(ut,ur)}}Ie>=this._$yT&&(this._$E?(ce._$z2=k,this.loopFadeIn&&(ce._$bs=k)):ce._$9L=!0),this._$eP=B},pt.prototype._$r0=function(){return this._$E},pt.prototype._$aL=function(w){this._$E=w},pt.prototype._$S0=function(){return this._$D0},pt.prototype._$U0=function(w){this._$D0=w},pt.prototype.isLoopFadeIn=function(){return this.loopFadeIn},pt.prototype.setLoopFadeIn=function(w){this.loopFadeIn=w};function yt(){this._$P=new Float32Array(100),this.size=0}yt.prototype.clear=function(){this.size=0},yt.prototype.add=function(w){if(this._$P.length<=this.size){var k=new Float32Array(this.size*2);X._$jT(this._$P,0,k,0,this.size),this._$P=k}this._$P[this.size++]=w},yt.prototype._$BL=function(){var w=new Float32Array(this.size);return X._$jT(this._$P,0,w,0,this.size),w};function le(){this._$4P=null,this._$I0=null,this._$RP=null}le._$Fr=0,le._$hs=1,le._$ws=100,le._$Ns=101,le._$xs=102,le._$us=103,le._$qs=104,le._$Ys=105;function Oe(){fe||(q.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}Oe.prototype=new q,Oe._$gT=new Array,Oe.prototype._$zP=function(){this._$GS=new V,this._$GS._$zP()},Oe.prototype._$F0=function(w){q.prototype._$F0.call(this,w),this._$A=w._$6L(),this._$o=w._$6L(),this._$GS=w._$nP(),this._$Eo=w._$nP(),q.prototype.readV2_opacity.call(this,w)},Oe.prototype.init=function(w){var k=new nt(this),B=(this._$o+1)*(this._$A+1);return k._$Cr!=null&&(k._$Cr=null),k._$Cr=new Float32Array(B*2),k._$hr!=null&&(k._$hr=null),this._$32()?k._$hr=new Float32Array(B*2):k._$hr=null,k},Oe.prototype._$Nr=function(w,k){var B=k;if(this._$GS._$Ur(w)){var ce=this._$VT(),ve=Oe._$gT;ve[0]=!1,D._$Vr(w,this._$GS,ve,ce,this._$Eo,B._$Cr,0,2),k._$Ib(ve[0]),this.interpolateOpacity(w,this._$GS,k,ve)}},Oe.prototype._$2b=function(w,k){var B=k;if(B._$hS(!0),!this._$32())B.setTotalOpacity(B.getInterpolatedOpacity());else{var ce=this.getTargetBaseDataID();if(B._$8r==q._$ur&&(B._$8r=w.getBaseDataIndex(ce)),B._$8r<0)tt._$so&&o._$li("_$L _$0P _$G :: %s",ce),B._$hS(!1);else{var ve=w.getBaseData(B._$8r),ue=w._$q2(B._$8r);if(ve!=null&&ue._$yo()){var Ie=ue.getTotalScale();B.setTotalScale_notForClient(Ie);var Me=ue.getTotalOpacity();B.setTotalOpacity(Me*B.getInterpolatedOpacity()),ve._$nb(w,ue,B._$Cr,B._$hr,this._$VT(),0,2),B._$hS(!0)}else B._$hS(!1)}}},Oe.prototype._$nb=function(w,k,B,ce,ve,ue,Ie){{var Me=k,Se=Me._$hr!=null?Me._$hr:Me._$Cr;Oe.transformPoints_sdk2(B,ce,ve,ue,Ie,Se,this._$o,this._$A)}},Oe.transformPoints_sdk2=function(w,k,B,ce,ve,ue,Ie,Me){for(var Se=B*ve,Be,it,ut,ht=0,je=0,dt=0,at=0,Nt=0,jt=0,zt=!1,Xt=ce;Xt<Se;Xt+=ve){var Er,or,we,ur;if(we=w[Xt],ur=w[Xt+1],Er=we*Ie,or=ur*Me,Er<0||or<0||Ie<=Er||Me<=or){var Kt=Ie+1;if(!zt){zt=!0,ht=.25*(ue[(0+0*Kt)*2]+ue[(Ie+0*Kt)*2]+ue[(0+Me*Kt)*2]+ue[(Ie+Me*Kt)*2]),je=.25*(ue[(0+0*Kt)*2+1]+ue[(Ie+0*Kt)*2+1]+ue[(0+Me*Kt)*2+1]+ue[(Ie+Me*Kt)*2+1]);var Vn=ue[(Ie+Me*Kt)*2]-ue[(0+0*Kt)*2],si=ue[(Ie+Me*Kt)*2+1]-ue[(0+0*Kt)*2+1],_r=ue[(Ie+0*Kt)*2]-ue[(0+Me*Kt)*2],Ei=ue[(Ie+0*Kt)*2+1]-ue[(0+Me*Kt)*2+1];dt=(Vn+_r)*.5,at=(si+Ei)*.5,Nt=(Vn-_r)*.5,jt=(si-Ei)*.5,ht-=.5*(dt+Nt),je-=.5*(at+jt)}if(-2<we&&we<3&&-2<ur&&ur<3)if(we<=0)if(ur<=0){var Zr=ue[(0+0*Kt)*2],Ur=ue[(0+0*Kt)*2+1],Qr=ht-2*dt,rn=je-2*at,en=ht-2*Nt,bn=je-2*jt,$r=ht-2*dt-2*Nt,Gr=je-2*at-2*jt,ar=.5*(we- -2),Lr=.5*(ur- -2);ar+Lr<=1?(k[Xt]=$r+(en-$r)*ar+(Qr-$r)*Lr,k[Xt+1]=Gr+(bn-Gr)*ar+(rn-Gr)*Lr):(k[Xt]=Zr+(Qr-Zr)*(1-ar)+(en-Zr)*(1-Lr),k[Xt+1]=Ur+(rn-Ur)*(1-ar)+(bn-Ur)*(1-Lr))}else if(ur>=1){var en=ue[(0+Me*Kt)*2],bn=ue[(0+Me*Kt)*2+1],$r=ht-2*dt+1*Nt,Gr=je-2*at+1*jt,Zr=ht+3*Nt,Ur=je+3*jt,Qr=ht-2*dt+3*Nt,rn=je-2*at+3*jt,ar=.5*(we- -2),Lr=.5*(ur-1);ar+Lr<=1?(k[Xt]=$r+(en-$r)*ar+(Qr-$r)*Lr,k[Xt+1]=Gr+(bn-Gr)*ar+(rn-Gr)*Lr):(k[Xt]=Zr+(Qr-Zr)*(1-ar)+(en-Zr)*(1-Lr),k[Xt+1]=Ur+(rn-Ur)*(1-ar)+(bn-Ur)*(1-Lr))}else{var cn=or|0;cn==Me&&(cn=Me-1);var ar=.5*(we- -2),Lr=or-cn,yi=cn/Me,Ln=(cn+1)/Me,en=ue[(0+cn*Kt)*2],bn=ue[(0+cn*Kt)*2+1],Zr=ue[(0+(cn+1)*Kt)*2],Ur=ue[(0+(cn+1)*Kt)*2+1],$r=ht-2*dt+yi*Nt,Gr=je-2*at+yi*jt,Qr=ht-2*dt+Ln*Nt,rn=je-2*at+Ln*jt;ar+Lr<=1?(k[Xt]=$r+(en-$r)*ar+(Qr-$r)*Lr,k[Xt+1]=Gr+(bn-Gr)*ar+(rn-Gr)*Lr):(k[Xt]=Zr+(Qr-Zr)*(1-ar)+(en-Zr)*(1-Lr),k[Xt+1]=Ur+(rn-Ur)*(1-ar)+(bn-Ur)*(1-Lr))}else if(1<=we)if(ur<=0){var Qr=ue[(Ie+0*Kt)*2],rn=ue[(Ie+0*Kt)*2+1],Zr=ht+3*dt,Ur=je+3*at,$r=ht+1*dt-2*Nt,Gr=je+1*at-2*jt,en=ht+3*dt-2*Nt,bn=je+3*at-2*jt,ar=.5*(we-1),Lr=.5*(ur- -2);ar+Lr<=1?(k[Xt]=$r+(en-$r)*ar+(Qr-$r)*Lr,k[Xt+1]=Gr+(bn-Gr)*ar+(rn-Gr)*Lr):(k[Xt]=Zr+(Qr-Zr)*(1-ar)+(en-Zr)*(1-Lr),k[Xt+1]=Ur+(rn-Ur)*(1-ar)+(bn-Ur)*(1-Lr))}else if(ur>=1){var $r=ue[(Ie+Me*Kt)*2],Gr=ue[(Ie+Me*Kt)*2+1],en=ht+3*dt+1*Nt,bn=je+3*at+1*jt,Qr=ht+1*dt+3*Nt,rn=je+1*at+3*jt,Zr=ht+3*dt+3*Nt,Ur=je+3*at+3*jt,ar=.5*(we-1),Lr=.5*(ur-1);ar+Lr<=1?(k[Xt]=$r+(en-$r)*ar+(Qr-$r)*Lr,k[Xt+1]=Gr+(bn-Gr)*ar+(rn-Gr)*Lr):(k[Xt]=Zr+(Qr-Zr)*(1-ar)+(en-Zr)*(1-Lr),k[Xt+1]=Ur+(rn-Ur)*(1-ar)+(bn-Ur)*(1-Lr))}else{var cn=or|0;cn==Me&&(cn=Me-1);var ar=.5*(we-1),Lr=or-cn,yi=cn/Me,Ln=(cn+1)/Me,$r=ue[(Ie+cn*Kt)*2],Gr=ue[(Ie+cn*Kt)*2+1],Qr=ue[(Ie+(cn+1)*Kt)*2],rn=ue[(Ie+(cn+1)*Kt)*2+1],en=ht+3*dt+yi*Nt,bn=je+3*at+yi*jt,Zr=ht+3*dt+Ln*Nt,Ur=je+3*at+Ln*jt;ar+Lr<=1?(k[Xt]=$r+(en-$r)*ar+(Qr-$r)*Lr,k[Xt+1]=Gr+(bn-Gr)*ar+(rn-Gr)*Lr):(k[Xt]=Zr+(Qr-Zr)*(1-ar)+(en-Zr)*(1-Lr),k[Xt+1]=Ur+(rn-Ur)*(1-ar)+(bn-Ur)*(1-Lr))}else if(ur<=0){var an=Er|0;an==Ie&&(an=Ie-1);var ar=Er-an,Lr=.5*(ur- -2),Xn=an/Ie,Pt=(an+1)/Ie,Qr=ue[(an+0*Kt)*2],rn=ue[(an+0*Kt)*2+1],Zr=ue[(an+1+0*Kt)*2],Ur=ue[(an+1+0*Kt)*2+1],$r=ht+Xn*dt-2*Nt,Gr=je+Xn*at-2*jt,en=ht+Pt*dt-2*Nt,bn=je+Pt*at-2*jt;ar+Lr<=1?(k[Xt]=$r+(en-$r)*ar+(Qr-$r)*Lr,k[Xt+1]=Gr+(bn-Gr)*ar+(rn-Gr)*Lr):(k[Xt]=Zr+(Qr-Zr)*(1-ar)+(en-Zr)*(1-Lr),k[Xt+1]=Ur+(rn-Ur)*(1-ar)+(bn-Ur)*(1-Lr))}else if(ur>=1){var an=Er|0;an==Ie&&(an=Ie-1);var ar=Er-an,Lr=.5*(ur-1),Xn=an/Ie,Pt=(an+1)/Ie,$r=ue[(an+Me*Kt)*2],Gr=ue[(an+Me*Kt)*2+1],en=ue[(an+1+Me*Kt)*2],bn=ue[(an+1+Me*Kt)*2+1],Qr=ht+Xn*dt+3*Nt,rn=je+Xn*at+3*jt,Zr=ht+Pt*dt+3*Nt,Ur=je+Pt*at+3*jt;ar+Lr<=1?(k[Xt]=$r+(en-$r)*ar+(Qr-$r)*Lr,k[Xt+1]=Gr+(bn-Gr)*ar+(rn-Gr)*Lr):(k[Xt]=Zr+(Qr-Zr)*(1-ar)+(en-Zr)*(1-Lr),k[Xt+1]=Ur+(rn-Ur)*(1-ar)+(bn-Ur)*(1-Lr))}else System.err.printf(`_$li calc : %.4f , %.4f					@@BDBoxGrid
`,we,ur);else k[Xt]=ht+we*dt+ur*Nt,k[Xt+1]=je+we*at+ur*jt}else it=Er-(Er|0),ut=or-(or|0),Be=2*((Er|0)+(or|0)*(Ie+1)),it+ut<1?(k[Xt]=ue[Be]*(1-it-ut)+ue[Be+2]*it+ue[Be+2*(Ie+1)]*ut,k[Xt+1]=ue[Be+1]*(1-it-ut)+ue[Be+3]*it+ue[Be+2*(Ie+1)+1]*ut):(k[Xt]=ue[Be+2*(Ie+1)+2]*(it-1+ut)+ue[Be+2*(Ie+1)]*(1-it)+ue[Be+2]*(1-ut),k[Xt+1]=ue[Be+2*(Ie+1)+3]*(it-1+ut)+ue[Be+2*(Ie+1)+1]*(1-it)+ue[Be+3]*(1-ut))}},Oe.prototype.transformPoints_sdk1=function(w,k,B,ce,ve,ue,Ie){for(var Me=k,Se,Be,it=this._$o,ut=this._$A,ht=ve*Ie,je,dt,at,Nt,jt,zt=Me._$hr!=null?Me._$hr:Me._$Cr,Xt=ue;Xt<ht;Xt+=Ie)tt._$ts?(Se=B[Xt],Be=B[Xt+1],Se<0?Se=0:Se>1&&(Se=1),Be<0?Be=0:Be>1&&(Be=1),Se*=it,Be*=ut,je=Se|0,dt=Be|0,je>it-1&&(je=it-1),dt>ut-1&&(dt=ut-1),Nt=Se-je,jt=Be-dt,at=2*(je+dt*(it+1))):(Se=B[Xt]*it,Be=B[Xt+1]*ut,Nt=Se-(Se|0),jt=Be-(Be|0),at=2*((Se|0)+(Be|0)*(it+1))),Nt+jt<1?(ce[Xt]=zt[at]*(1-Nt-jt)+zt[at+2]*Nt+zt[at+2*(it+1)]*jt,ce[Xt+1]=zt[at+1]*(1-Nt-jt)+zt[at+3]*Nt+zt[at+2*(it+1)+1]*jt):(ce[Xt]=zt[at+2*(it+1)+2]*(Nt-1+jt)+zt[at+2*(it+1)]*(1-Nt)+zt[at+2]*(1-jt),ce[Xt+1]=zt[at+2*(it+1)+3]*(Nt-1+jt)+zt[at+2*(it+1)+1]*(1-Nt)+zt[at+3]*(1-jt))},Oe.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},Oe.prototype.getType=function(){return q._$_b};function nt(w){Rt.prototype.constructor.call(this,w),this._$8r=q._$ur,this._$Cr=null,this._$hr=null}nt.prototype=new Rt;function Ke(){fe||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,Ke._$42++)}Ke._$42=0,Ke.prototype._$zP=function(){this._$3S=new Array,this._$aS=new Array},Ke.prototype._$F0=function(w){this._$g0=w._$8L(),this.visible=w._$8L(),this._$NL=w._$nP(),this._$3S=w._$nP(),this._$aS=w._$nP()},Ke.prototype.init=function(w){var k=new ct(this);return k.setPartsOpacity(this.isVisible()?1:0),k},Ke.prototype._$6o=function(w){if(this._$3S==null)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(w)},Ke.prototype._$3o=function(w){if(this._$aS==null)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(w)},Ke.prototype._$Zo=function(w){this._$3S=w},Ke.prototype._$xo=function(w){this._$aS=w},Ke.prototype.isVisible=function(){return this.visible},Ke.prototype._$uL=function(){return this._$g0},Ke.prototype._$KP=function(w){this.visible=w},Ke.prototype._$ET=function(w){this._$g0=w},Ke.prototype.getBaseData=function(){return this._$3S},Ke.prototype.getDrawData=function(){return this._$aS},Ke.prototype._$p2=function(){return this._$NL},Ke.prototype._$ob=function(w){this._$NL=w},Ke.prototype.getPartsID=function(){return this._$NL},Ke.prototype._$MP=function(w){this._$NL=w};function ct(w){this._$VS=null,this._$e0=null,this._$e0=w}ct.prototype=new d,ct.prototype.getPartsOpacity=function(){return this._$VS},ct.prototype.setPartsOpacity=function(w){this._$VS=w};function Ot(w){fe||(this.id=w)}Ot._$L7=function(){f._$27(),ke._$27(),ee._$27(),u._$27()},Ot.prototype.toString=function(){return this.id};function Dt(){fe||(this._$4S=null)}Dt.prototype._$1s=function(){return this._$4S},Dt.prototype._$zP=function(){this._$4S=new Array},Dt.prototype._$F0=function(w){this._$4S=w._$nP()},Dt.prototype._$Ks=function(w){this._$4S.push(w)};function _t(w,k){this.canvas=w,this.context=k,this.viewport=new Array(0,0,w.width,w.height),this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}_t.tr=new ze,_t._$50=new ze,_t._$Ti=new Array(0,0),_t._$Pi=new Array(0,0),_t._$B=new Array(0,0),_t.prototype._$lP=function(w,k,B,ce){this.viewport=new Array(w,k,B,ce)},_t.prototype._$bL=function(){this.context.save();var w=this.viewport;w!=null&&(this.context.beginPath(),this.context._$Li(w[0],w[1],w[2],w[3]),this.context.clip())},_t.prototype._$ei=function(){this.context.restore()},_t.prototype.drawElements=function(w,k,B,ce,ve,ue,Ie,Me){try{ve!=this._$Qo&&(this._$Qo=ve,this.context.globalAlpha=ve);for(var Se=k.length,Be=w.width,it=w.height,ut=this.context,ht=this._$xP,je=this._$uP,dt=this._$6r,at=this._$3r,Nt=_t.tr,jt=_t._$Ti,zt=_t._$Pi,Xt=_t._$B,Er=0;Er<Se;Er+=3){ut.save();var or=k[Er],we=k[Er+1],ur=k[Er+2],Kt=ht+dt*B[or*2],Vn=je+at*B[or*2+1],si=ht+dt*B[we*2],_r=je+at*B[we*2+1],Ei=ht+dt*B[ur*2],Zr=je+at*B[ur*2+1];Ie&&(Ie._$PS(Kt,Vn,Xt),Kt=Xt[0],Vn=Xt[1],Ie._$PS(si,_r,Xt),si=Xt[0],_r=Xt[1],Ie._$PS(Ei,Zr,Xt),Ei=Xt[0],Zr=Xt[1]);var Ur=Be*ce[or*2],Qr=it-it*ce[or*2+1],rn=Be*ce[we*2],en=it-it*ce[we*2+1],bn=Be*ce[ur*2],$r=it-it*ce[ur*2+1],Gr=Math.atan2(en-Qr,rn-Ur),ar=Math.atan2(_r-Vn,si-Kt),Lr=si-Kt,cn=_r-Vn,yi=Math.sqrt(Lr*Lr+cn*cn),Ln=rn-Ur,an=en-Qr,Xn=Math.sqrt(Ln*Ln+an*an),Pt=yi/Xn;C._$ni(bn,$r,Ur,Qr,rn-Ur,en-Qr,-(en-Qr),rn-Ur,jt),C._$ni(Ei,Zr,Kt,Vn,si-Kt,_r-Vn,-(_r-Vn),si-Kt,zt);var ls=(zt[0]-jt[0])/jt[1],mi=Math.min(Ur,rn,bn),wi=Math.max(Ur,rn,bn),Si=Math.min(Qr,en,$r),Io=Math.max(Qr,en,$r),jo=Math.floor(mi),eo=Math.floor(Si),zi=Math.ceil(wi),Fi=Math.ceil(Io);Nt.identity(),Nt.translate(Kt,Vn),Nt.rotate(ar),Nt.scale(1,zt[1]/jt[1]),Nt.shear(ls,0),Nt.scale(Pt,Pt),Nt.rotate(-Gr),Nt.translate(-Ur,-Qr),Nt.setContext(ut);var aa=!0,Ho=1.2;if(ue||(ue=aa?Ho:0),tt.IGNORE_EXPAND&&(ue=0),tt.USE_CACHED_POLYGON_IMAGE){var fo=Me._$e0;if(fo.gl_cacheImage=fo.gl_cacheImage||{},!fo.gl_cacheImage[Er]){var Oo=_t.createCanvas(zi-jo,Fi-eo);tt.DEBUG_DATA.LDGL_CANVAS_MB=tt.DEBUG_DATA.LDGL_CANVAS_MB||0,tt.DEBUG_DATA.LDGL_CANVAS_MB+=(zi-jo)*(Fi-eo)*4;var ho=Oo.getContext("2d");ho.translate(-jo,-eo),_t.clip(ho,Nt,ue,yi,Ur,Qr,rn,en,bn,$r,Kt,Vn,si,_r,Ei,Zr),ho.drawImage(w,0,0),fo.gl_cacheImage[Er]={cacheCanvas:Oo,cacheContext:ho}}ut.drawImage(fo.gl_cacheImage[Er].cacheCanvas,jo,eo)}else tt.IGNORE_CLIP||_t.clip(ut,Nt,ue,yi,Ur,Qr,rn,en,bn,$r,Kt,Vn,si,_r,Ei,Zr),tt.USE_ADJUST_TRANSLATION&&(mi=0,wi=Be,Si=0,Io=it),ut.drawImage(w,mi,Si,wi-mi,Io-Si,mi,Si,wi-mi,Io-Si);ut.restore()}}catch(ln){o._$Rb(ln)}},_t.clip=function(w,k,B,ce,ve,ue,Ie,Me,Se,Be,it,ut,ht,je,dt,at){B>.02?_t.expandClip(w,k,B,ce,it,ut,ht,je,dt,at):_t.clipWithTransform(w,null,ve,ue,Ie,Me,Se,Be)},_t.expandClip=function(w,k,B,ce,ve,ue,Ie,Me,Se,Be){var it=Ie-ve,ut=Me-ue,ht=Se-ve,je=Be-ue,dt=it*je-ut*ht>0?B:-B,at=-ut,Nt=it,jt=Se-Ie,zt=Be-Me,Xt=-zt,Er=jt,or=Math.sqrt(jt*jt+zt*zt),we=-je,ur=ht,Kt=Math.sqrt(ht*ht+je*je),Vn=ve-dt*at/ce,si=ue-dt*Nt/ce,_r=Ie-dt*at/ce,Ei=Me-dt*Nt/ce,Zr=Ie-dt*Xt/or,Ur=Me-dt*Er/or,Qr=Se-dt*Xt/or,rn=Be-dt*Er/or,en=ve+dt*we/Kt,bn=ue+dt*ur/Kt,$r=Se+dt*we/Kt,Gr=Be+dt*ur/Kt,ar=_t._$50,Lr=k._$P2(ar);return Lr==null?!1:(_t.clipWithTransform(w,ar,Vn,si,_r,Ei,Zr,Ur,Qr,rn,$r,Gr,en,bn),!0)},_t.clipWithTransform=function(w,k,B,ce,ve,ue,Ie,Me){if(arguments.length<1+3*2){o._$li("err : @LDGL.clip()");return}if(!(arguments[1]instanceof ze)){o._$li("err : a[0] is _$6 LDTransform @LDGL.clip()");return}var Se=_t._$B,Be=k,it=arguments;if(w.beginPath(),Be){Be._$PS(it[2],it[3],Se),w.moveTo(Se[0],Se[1]);for(var ut=4;ut<it.length;ut+=2)Be._$PS(it[ut],it[ut+1],Se),w.lineTo(Se[0],Se[1])}else{w.moveTo(it[2],it[3]);for(var ut=4;ut<it.length;ut+=2)w.lineTo(it[ut],it[ut+1])}w.clip()},_t.createCanvas=function(w,k){var B=document.createElement("canvas");return B.setAttribute("width",w),B.setAttribute("height",k),B||o._$li("err : "+B),B},_t.dumpValues=function(){for(var w="",k=0;k<arguments.length;k++)w+="["+k+"]= "+arguments[k].toFixed(3)+" , ";console.log(w)};function Mt(){fe||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}Mt.prototype._$F0=function(w){this._$TT=w._$_T(),this._$LT=w._$_T(),this._$FS=w._$_T(),this._$wL=w._$nP()},Mt.prototype.getMinValue=function(){return this._$TT},Mt.prototype.getMaxValue=function(){return this._$LT},Mt.prototype.getDefaultValue=function(){return this._$FS},Mt.prototype.getParamID=function(){return this._$wL};function Rt(w){fe||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=w,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}Rt.prototype._$yo=function(){return this._$AT&&!this._$JS},Rt.prototype._$hS=function(w){this._$AT=w},Rt.prototype._$GT=function(){return this._$e0},Rt.prototype._$l2=function(w){this._$IP=w},Rt.prototype.getPartsIndex=function(){return this._$IP},Rt.prototype._$x2=function(){return this._$JS},Rt.prototype._$Ib=function(w){this._$JS=w},Rt.prototype.getTotalScale=function(){return this.totalScale},Rt.prototype.setTotalScale_notForClient=function(w){this.totalScale=w},Rt.prototype.getInterpolatedOpacity=function(){return this._$7s},Rt.prototype.setInterpolatedOpacity=function(w){this._$7s=w},Rt.prototype.getTotalOpacity=function(w){return this.totalOpacity},Rt.prototype.setTotalOpacity=function(w){this.totalOpacity=w};function tt(){}tt._$2s="2.1.00_1",tt._$Kr=201001e3,tt._$sP=!0,tt._$so=!0,tt._$cb=!1,tt._$3T=!0,tt._$Ts=!0,tt._$fb=!0,tt._$ts=!0,tt.L2D_DEFORMER_EXTEND=!0,tt._$Wb=!1,tt._$yr=!1,tt._$Zs=!1,tt.L2D_NO_ERROR=0,tt._$i7=1e3,tt._$9s=1001,tt._$es=1100,tt._$r7=2e3,tt._$07=2001,tt._$b7=2002,tt._$H7=4e3,tt.L2D_COLOR_BLEND_MODE_MULT=0,tt.L2D_COLOR_BLEND_MODE_ADD=1,tt.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,tt._$6b=!0,tt._$cT=0,tt.clippingMaskBufferSize=256,tt.glContext=new Array,tt.frameBuffers=new Array,tt.fTexture=new Array,tt.IGNORE_CLIP=!1,tt.IGNORE_EXPAND=!1,tt.EXPAND_W=2,tt.USE_ADJUST_TRANSLATION=!0,tt.USE_CANVAS_TRANSFORM=!0,tt.USE_CACHED_POLYGON_IMAGE=!1,tt.DEBUG_DATA={},tt.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},tt.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},tt.PROFILE_IOS_DEFAULT=tt.PROFILE_IOS_QUALITY,tt.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},tt.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},tt.initProfile=function(){Yr.isIOS()?tt.setupProfile(tt.PROFILE_IOS_DEFAULT):Yr.isAndroid()?tt.setupProfile(tt.PROFILE_ANDROID):tt.setupProfile(tt.PROFILE_DESKTOP)},tt.setupProfile=function(w,k){if(typeof w=="number")switch(w){case 9901:w=tt.PROFILE_IOS_SPEED;break;case 9902:w=tt.PROFILE_IOS_QUALITY;break;case 9903:w=tt.PROFILE_IOS_DEFAULT;break;case 9904:w=tt.PROFILE_ANDROID;break;case 9905:w=tt.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+w);break}arguments.length<2&&(k=!0),k&&console.log("profile : "+w.PROFILE_NAME);for(var B in w)tt[B]=w[B],k&&console.log("  ["+B+"] = "+w[B])},tt.init=function(){tt._$6b&&(console.log("Live2D %s",tt._$2s),tt._$6b=!1,tt.initProfile())},tt.getVersionStr=function(){return tt._$2s},tt.getVersionNo=function(){return tt._$Kr},tt._$sT=function(w){tt._$cT=w},tt.getError=function(){var w=tt._$cT;return tt._$cT=0,w},tt.dispose=function(){tt.glContext=[],tt.frameBuffers=[],tt.fTexture=[]},tt.setGL=function(w,k){var B=k||0;tt.glContext[B]=w},tt.getGL=function(w){return tt.glContext[w]},tt.setClippingMaskBufferSize=function(w){tt.clippingMaskBufferSize=w},tt.getClippingMaskBufferSize=function(){return tt.clippingMaskBufferSize},tt.deleteBuffer=function(w){var k=tt.getGL(w);k.deleteFramebuffer(tt.frameBuffers[w].framebuffer),delete tt.frameBuffers[w],delete tt.glContext[w]};function Zt(){}Zt._$r2=function(w){return w<0?0:w>1?1:.5-.5*Math.cos(w*c.PI_F)};function mt(w){fe||(this._$ib=w)}mt._$fr=-1,mt.prototype.toString=function(){return this._$ib};function Tt(){fe||(Re.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=Tt._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=Tt._$42++)}Tt.prototype=new Re,Tt._$42=0,Tt._$Os=30,Tt._$ms=0,Tt._$ns=1,Tt._$_s=2,Tt._$gT=new Array,Tt.prototype._$_S=function(w){this._$LP=w},Tt.prototype.getTextureNo=function(){return this._$LP},Tt.prototype._$ZL=function(){return this._$Qi},Tt.prototype._$H2=function(){return this._$JP},Tt.prototype.getNumPoints=function(){return this._$d0},Tt.prototype.getType=function(){return Re._$wb},Tt.prototype._$B2=function(w,k,B){var ce=k,ve=ce._$hr!=null?ce._$hr:ce._$Cr,ue=J._$do;switch(ue){default:case J._$Ms:throw new Error("_$L _$ro ");case J._$Qs:for(var Ie=this._$d0-1;Ie>=0;--Ie){var Me=Ie*J._$No;ve[Me+4]=B}break}},Tt.prototype._$zP=function(){this._$GS=new V,this._$GS._$zP()},Tt.prototype._$F0=function(w){Re.prototype._$F0.call(this,w),this._$LP=w._$6L(),this._$d0=w._$6L(),this._$Yo=w._$6L();var k=w._$nP();this._$BP=new Int16Array(this._$Yo*3);for(var B=this._$Yo*3-1;B>=0;--B)this._$BP[B]=k[B];if(this._$Eo=w._$nP(),this._$Qi=w._$nP(),w.getFormatVersion()>=ie._$s7){if(this._$JP=w._$6L(),this._$JP!=0){if(this._$JP&1){var ce=w._$6L();this._$5P==null&&(this._$5P=new Object),this._$5P._$Hb=parseInt(ce)}this._$JP&Tt._$Os?this._$6s=(this._$JP&Tt._$Os)>>1:this._$6s=Tt._$ms,this._$JP&32&&(this.culling=!1)}}else this._$JP=0},Tt.prototype.init=function(w){var k=new mr(this),B=this._$d0*J._$No,ce=this._$32();k._$Cr!=null&&(k._$Cr=null),k._$Cr=new Float32Array(B),k._$hr!=null&&(k._$hr=null),k._$hr=ce?new Float32Array(B):null;var ve=J._$do;switch(ve){default:case J._$Ms:if(J._$Ls)for(var ue=this._$d0-1;ue>=0;--ue){var Ie=ue<<1;this._$Qi[Ie+1]=1-this._$Qi[Ie+1]}break;case J._$Qs:for(var ue=this._$d0-1;ue>=0;--ue){var Ie=ue<<1,Me=ue*J._$No,Se=this._$Qi[Ie],Be=this._$Qi[Ie+1];k._$Cr[Me]=Se,k._$Cr[Me+1]=Be,k._$Cr[Me+4]=0,ce&&(k._$hr[Me]=Se,k._$hr[Me+1]=Be,k._$hr[Me+4]=0)}break}return k},Tt.prototype._$Nr=function(w,k){var B=k;if(this!=B._$GT()&&console.log("### assert!! ### "),!!this._$GS._$Ur(w)&&(Re.prototype._$Nr.call(this,w,B),!B._$IS[0])){var ce=Tt._$gT;ce[0]=!1,D._$Vr(w,this._$GS,ce,this._$d0,this._$Eo,B._$Cr,J._$i2,J._$No)}},Tt.prototype._$2b=function(w,k){try{this!=k._$GT()&&console.log("### assert!! ### ");var B=!1;k._$IS[0]&&(B=!0);var ce=k;if(!B&&(Re.prototype._$2b.call(this,w),this._$32())){var ve=this.getTargetBaseDataID();if(ce._$8r==Re._$ur&&(ce._$8r=w.getBaseDataIndex(ve)),ce._$8r<0)tt._$so&&o._$li("_$L _$0P _$G :: %s",ve);else{var ue=w.getBaseData(ce._$8r),Ie=w._$q2(ce._$8r);ue!=null&&!Ie._$x2()?(ue._$nb(w,Ie,ce._$Cr,ce._$hr,this._$d0,J._$i2,J._$No),ce._$AT=!0):ce._$AT=!1,ce.baseOpacity=Ie.getTotalOpacity()}}}catch(Me){throw Me}},Tt.prototype.draw=function(w,k,B){if(this!=B._$GT()&&console.log("### assert!! ### "),!B._$IS[0]){var ce=B,ve=this._$LP;ve<0&&(ve=1);var ue=this.getOpacity(k,ce)*B._$VS*B.baseOpacity,Ie=ce._$hr!=null?ce._$hr:ce._$Cr;w.setClipBufPre_clipContextForDraw(B.clipBufPre_clipContext),w._$WP(this.culling),w._$Uo(ve,3*this._$Yo,this._$BP,Ie,this._$Qi,ue,this._$6s,ce)}},Tt.prototype.dump=function(){console.log(`  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) 
`,this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { ");for(var w=0;w<this._$BP.length;w++)console.log("%5d ,",this._$BP[w]);console.log(`
  _$5i _$30`);for(var w=0;w<this._$Eo.length;w++){console.log(`
    _$30[%d] = `,w);for(var k=this._$Eo[w],B=0;B<k.length;B++)console.log("%6.2f, ",k[B])}console.log(`
`)},Tt.prototype._$72=function(w){return this._$5P==null?null:this._$5P[w]},Tt.prototype.getIndexArray=function(){return this._$BP};function mr(w){xr.prototype.constructor.call(this,w),this._$8r=Re._$ur,this._$Cr=null,this._$hr=null}mr.prototype=new xr,mr.prototype.getTransformedPoints=function(){return this._$hr!=null?this._$hr:this._$Cr};function Bt(){fe||(this.x=null,this.y=null)}Bt.prototype._$HT=function(w){this.x=w.x,this.y=w.y},Bt.prototype._$HT=function(w,k){this.x=w,this.y=k};function Ir(w){fe||(t.prototype.constructor.call(this),this.drawParamWebGL=new me(w),this.drawParamWebGL.setGL(tt.getGL(w)))}Ir.prototype=new t,Ir.loadModel=function(w){var k=new Ir;return t._$62(k,w),k},Ir.loadModel=function(w,k){var B=k||0,ce=new Ir(B);return t._$62(ce,w),ce},Ir._$to=function(){var w=new Ir;return w},Ir._$er=function(w){var k=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(k.exists()==!1)throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+k._$PL());for(var B=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],ce=Ir.loadModel(k._$3b()),ve=0;ve<B.length;ve++){var ue=new _$5(B[ve]);if(ue.exists()==!1)throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+ue._$PL());ce.setTexture(ve,_$nL._$_o(w,ue._$3b()))}return ce},Ir.prototype.setGL=function(w){tt.setGL(w)},Ir.prototype.setTransform=function(w){this.drawParamWebGL.setTransform(w)},Ir.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},Ir.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},Ir.prototype._$K2=function(){this.drawParamWebGL._$K2()},Ir.prototype.setTexture=function(w,k){this.drawParamWebGL==null&&o._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(w,k)},Ir.prototype.setTexture=function(w,k){this.drawParamWebGL==null&&o._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(w,k)},Ir.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},Ir.prototype._$Ds=function(w){this.drawParamWebGL._$Ds(w)},Ir.prototype.getDrawParam=function(){return this.drawParamWebGL},Ir.prototype.setMatrix=function(w){this.drawParamWebGL.setMatrix(w)},Ir.prototype.setPremultipliedAlpha=function(w){this.drawParamWebGL.setPremultipliedAlpha(w)},Ir.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},Ir.prototype.setAnisotropy=function(w){this.drawParamWebGL.setAnisotropy(w)},Ir.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()};function ot(){fe||(this.motions=null,this._$eb=!1,this.motions=new Array)}ot.prototype._$tb=function(){return this.motions},ot.prototype.startMotion=function(w,k){for(var B=null,ce=this.motions.length,ve=0;ve<ce;++ve)B=this.motions[ve],B!=null&&(B._$qS(B._$w0.getFadeOut()),this._$eb&&o._$Ji(`MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)
`,ce,B._$sr));if(w==null)return-1;B=new _e,B._$w0=w,this.motions.push(B);var ue=B._$sr;return this._$eb&&o._$Ji(`MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)
`,ce,ue),ue},ot.prototype.updateParam=function(w){try{for(var k=!1,B=0;B<this.motions.length;B++){var ce=this.motions[B];if(ce==null){this.motions.splice(B,1),B--;continue}var ve=ce._$w0;if(ve==null){this.motions=this.motions.splice(B,1),B--;continue}ve.updateParam(w,ce),k=!0,ce.isFinished()&&(this._$eb&&o._$Ji(`MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)
`,this.motions.length-1,ce._$sr),this.motions.splice(B,1),B--)}return k}catch(ue){return o._$li(ue),!0}},ot.prototype.isFinished=function(w){if(arguments.length>=1){for(var k=0;k<this.motions.length;k++){var B=this.motions[k];if(B!=null&&B._$sr==w&&!B.isFinished())return!1}return!0}else{for(var k=0;k<this.motions.length;k++){var B=this.motions[k];if(B==null){this.motions.splice(k,1),k--;continue}var ce=B._$w0;if(ce==null){this.motions.splice(k,1),k--;continue}if(!B.isFinished())return!1}return!0}},ot.prototype.stopAllMotions=function(){for(var w=0;w<this.motions.length;w++){var k=this.motions[w];if(k==null){this.motions.splice(w,1),w--;continue}var B=k._$w0;if(B==null){this.motions.splice(w,1),w--;continue}this.motions.splice(w,1),w--}},ot.prototype._$Zr=function(w){this._$eb=w},ot.prototype._$e=function(){console.log(`-- _$R --
`);for(var w=0;w<this.motions.length;w++){var k=this.motions[w],B=k._$w0;console.log(`MotionQueueEnt[%d] :: %s
`,this.motions.length,B.toString())}};function _e(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=_e._$Gs++}_e._$Gs=0,_e.prototype.isFinished=function(){return this._$9L},_e.prototype._$qS=function(w){var k=X.getUserTimeMSec(),B=k+w;(this._$Do<0||B<this._$Do)&&(this._$Do=B)},_e.prototype._$Bs=function(){return this._$sr};function ze(){this.m=new Array(1,0,0,0,1,0,0,0,1)}ze.prototype.setContext=function(w){var k=this.m;w.transform(k[0],k[1],k[3],k[4],k[6],k[7])},ze.prototype.toString=function(){for(var w="LDTransform { ",k=0;k<9;k++)w+=this.m[k].toFixed(2)+" ,";return w+=" }",w},ze.prototype.identity=function(){var w=this.m;w[0]=w[4]=w[8]=1,w[1]=w[2]=w[3]=w[5]=w[6]=w[7]=0},ze.prototype._$PS=function(w,k,B){B==null&&(B=new Array(0,0));var ce=this.m;return B[0]=ce[0]*w+ce[3]*k+ce[6],B[1]=ce[1]*w+ce[4]*k+ce[7],B},ze.prototype._$P2=function(w){w||(w=new ze);var k=this.m,B=k[0],ce=k[1],ve=k[2],ue=k[3],Ie=k[4],Me=k[5],Se=k[6],Be=k[7],it=k[8],ut=B*Ie*it+ce*Me*Se+ve*ue*Be-B*Me*Be-ve*Ie*Se-ce*ue*it;if(ut==0)return null;var ht=1/ut;return w.m[0]=ht*(Ie*it-Be*Me),w.m[1]=ht*(Be*ve-ce*it),w.m[2]=ht*(ce*Me-Ie*ve),w.m[3]=ht*(Se*Me-ue*it),w.m[4]=ht*(B*it-Se*ve),w.m[5]=ht*(ue*ve-B*Me),w.m[6]=ht*(ue*Be-Se*Ie),w.m[7]=ht*(Se*ce-B*Be),w.m[8]=ht*(B*Ie-ue*ce),w},ze.prototype.transform=function(w,k,B){B==null&&(B=new Array(0,0));var ce=this.m;return B[0]=ce[0]*w+ce[3]*k+ce[6],B[1]=ce[1]*w+ce[4]*k+ce[7],B},ze.prototype.translate=function(w,k){var B=this.m;B[6]=B[0]*w+B[3]*k+B[6],B[7]=B[1]*w+B[4]*k+B[7],B[8]=B[2]*w+B[5]*k+B[8]},ze.prototype.scale=function(w,k){var B=this.m;B[0]*=w,B[1]*=w,B[2]*=w,B[3]*=k,B[4]*=k,B[5]*=k},ze.prototype.shear=function(w,k){var B=this.m,ce=B[0]+B[3]*k,ve=B[1]+B[4]*k,ue=B[2]+B[5]*k;B[3]=B[0]*w+B[3],B[4]=B[1]*w+B[4],B[5]=B[2]*w+B[5],B[0]=ce,B[1]=ve,B[2]=ue},ze.prototype.rotate=function(w){var k=this.m,B=Math.cos(w),ce=Math.sin(w),ve=k[0]*B+k[3]*ce,ue=k[1]*B+k[4]*ce,Ie=k[2]*B+k[5]*ce;k[3]=-k[0]*ce+k[3]*B,k[4]=-k[1]*ce+k[4]*B,k[5]=-k[2]*ce+k[5]*B,k[0]=ve,k[1]=ue,k[2]=Ie},ze.prototype.concatenate=function(w){var k=this.m,B=w.m,ce=k[0]*B[0]+k[3]*B[1]+k[6]*B[2],ve=k[1]*B[0]+k[4]*B[1]+k[7]*B[2],ue=k[2]*B[0]+k[5]*B[1]+k[8]*B[2],Ie=k[0]*B[3]+k[3]*B[4]+k[6]*B[5],Me=k[1]*B[3]+k[4]*B[4]+k[7]*B[5],Se=k[2]*B[3]+k[5]*B[4]+k[8]*B[5],Be=k[0]*B[6]+k[3]*B[7]+k[6]*B[8],it=k[1]*B[6]+k[4]*B[7]+k[7]*B[8],ut=k[2]*B[6]+k[5]*B[7]+k[8]*B[8];m[0]=ce,m[1]=ve,m[2]=ue,m[3]=Ie,m[4]=Me,m[5]=Se,m[6]=Be,m[7]=it,m[8]=ut};function ke(w){fe||Ot.prototype.constructor.call(this,w)}ke.prototype=new Ot,ke._$eT=null,ke._$tP=new Object,ke._$2o=function(){return ke._$eT==null&&(ke._$eT=ke.getID("DST_BASE")),ke._$eT},ke._$27=function(){ke._$tP.clear(),ke._$eT=null},ke.getID=function(w){var k=ke._$tP[w];return k==null&&(k=new ke(w),ke._$tP[w]=k),k},ke.prototype._$3s=function(){return new ke};function me(w){fe||(te.prototype.constructor.call(this),this.textures=new Array,this.transform=null,this.gl=null,this.glno=w,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}me.prototype=new te,me._$9r=function(w){var k=new Float32Array(w);return k},me._$vb=function(w){var k=new Int16Array(w);return k},me._$cr=function(w,k){return w==null||w._$yL()<k.length?(w=me._$9r(k.length*2),w.put(k),w._$oT(0)):(w.clear(),w.put(k),w._$oT(0)),w},me._$mb=function(w,k){return w==null||w._$yL()<k.length?(w=me._$vb(k.length*2),w.put(k),w._$oT(0)):(w.clear(),w.put(k),w._$oT(0)),w},me._$Hs=function(){return this._$Gr},me._$as=function(w){this._$Gr=w},me.prototype.getGL=function(){return this.gl},me.prototype.setGL=function(w){this.gl=w},me.prototype.setTransform=function(w){this.transform=w},me.prototype._$ZT=function(){var w=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=w.getExtension("EXT_texture_filter_anisotropic")||w.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||w.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=w.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),w.disable(w.SCISSOR_TEST),w.disable(w.STENCIL_TEST),w.disable(w.DEPTH_TEST),w.frontFace(w.CW),w.enable(w.BLEND),w.colorMask(1,1,1,1),w.bindBuffer(w.ARRAY_BUFFER,null),w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,null)},me.prototype._$Uo=function(w,k,B,ce,ve,ue,Ie,Me){if(!(ue<.01&&this.clipBufPre_clipContextMask==null)){ue>.9&&tt.EXPAND_W;var Se=this.gl;if(this.gl==null)throw new Error("gl is null");var Be=!1,it=1,ut=1,ht=1,je=this._$C0*it*ue,dt=this._$tT*ut*ue,at=this._$WL*ht*ue,Nt=this._$lT*ue;if(this.clipBufPre_clipContextMask!=null){Se.frontFace(Se.CCW),Se.useProgram(this.shaderProgram),this._$vS=De(Se,this._$vS,ce),this._$no=Ae(Se,this._$no,B),Se.enableVertexAttribArray(this.a_position_Loc),Se.vertexAttribPointer(this.a_position_Loc,2,Se.FLOAT,!1,0,0),this._$NT=De(Se,this._$NT,ve),Se.activeTexture(Se.TEXTURE1),Se.bindTexture(Se.TEXTURE_2D,this.textures[w]),Se.uniform1i(this.s_texture0_Loc,1),Se.enableVertexAttribArray(this.a_texCoord_Loc),Se.vertexAttribPointer(this.a_texCoord_Loc,2,Se.FLOAT,!1,0,0),Se.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask);var jt=this.getClipBufPre_clipContextMask().layoutChannelNo,zt=this.getChannelFlagAsColor(jt);Se.uniform4f(this.u_channelFlag,zt.r,zt.g,zt.b,zt.a);var Xt=this.getClipBufPre_clipContextMask().layoutBounds;Se.uniform4f(this.u_baseColor_Loc,Xt.x*2-1,Xt.y*2-1,Xt._$EL()*2-1,Xt._$5T()*2-1),Se.uniform1i(this.u_maskFlag_Loc,!0)}else if(Be=this.getClipBufPre_clipContextDraw()!=null,Be){Se.useProgram(this.shaderProgramOff),this._$vS=De(Se,this._$vS,ce),this._$no=Ae(Se,this._$no,B),Se.enableVertexAttribArray(this.a_position_Loc_Off),Se.vertexAttribPointer(this.a_position_Loc_Off,2,Se.FLOAT,!1,0,0),this._$NT=De(Se,this._$NT,ve),Se.activeTexture(Se.TEXTURE1),Se.bindTexture(Se.TEXTURE_2D,this.textures[w]),Se.uniform1i(this.s_texture0_Loc_Off,1),Se.enableVertexAttribArray(this.a_texCoord_Loc_Off),Se.vertexAttribPointer(this.a_texCoord_Loc_Off,2,Se.FLOAT,!1,0,0),Se.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),Se.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),Se.activeTexture(Se.TEXTURE2),Se.bindTexture(Se.TEXTURE_2D,tt.fTexture[this.glno]),Se.uniform1i(this.s_texture1_Loc_Off,2);var jt=this.getClipBufPre_clipContextDraw().layoutChannelNo,zt=this.getChannelFlagAsColor(jt);Se.uniform4f(this.u_channelFlag_Loc_Off,zt.r,zt.g,zt.b,zt.a),Se.uniform4f(this.u_baseColor_Loc_Off,je,dt,at,Nt)}else Se.useProgram(this.shaderProgram),this._$vS=De(Se,this._$vS,ce),this._$no=Ae(Se,this._$no,B),Se.enableVertexAttribArray(this.a_position_Loc),Se.vertexAttribPointer(this.a_position_Loc,2,Se.FLOAT,!1,0,0),this._$NT=De(Se,this._$NT,ve),Se.activeTexture(Se.TEXTURE1),Se.bindTexture(Se.TEXTURE_2D,this.textures[w]),Se.uniform1i(this.s_texture0_Loc,1),Se.enableVertexAttribArray(this.a_texCoord_Loc),Se.vertexAttribPointer(this.a_texCoord_Loc,2,Se.FLOAT,!1,0,0),Se.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),Se.uniform4f(this.u_baseColor_Loc,je,dt,at,Nt),Se.uniform1i(this.u_maskFlag_Loc,!1);this.culling?this.gl.enable(Se.CULL_FACE):this.gl.disable(Se.CULL_FACE),this.gl.enable(Se.BLEND);var Er,or,we,ur;if(this.clipBufPre_clipContextMask!=null)Er=Se.ONE,or=Se.ONE_MINUS_SRC_ALPHA,we=Se.ONE,ur=Se.ONE_MINUS_SRC_ALPHA;else switch(Ie){case Tt._$ms:Er=Se.ONE,or=Se.ONE_MINUS_SRC_ALPHA,we=Se.ONE,ur=Se.ONE_MINUS_SRC_ALPHA;break;case Tt._$ns:Er=Se.ONE,or=Se.ONE,we=Se.ZERO,ur=Se.ONE;break;case Tt._$_s:Er=Se.DST_COLOR,or=Se.ONE_MINUS_SRC_ALPHA,we=Se.ZERO,ur=Se.ONE;break}Se.blendEquationSeparate(Se.FUNC_ADD,Se.FUNC_ADD),Se.blendFuncSeparate(Er,or,we,ur),this.anisotropyExt&&Se.texParameteri(Se.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy);var Kt=B.length;Se.drawElements(Se.TRIANGLES,Kt,Se.UNSIGNED_SHORT,0),Se.bindTexture(Se.TEXTURE_2D,null)}};function De(w,k,B){return k==null&&(k=w.createBuffer()),w.bindBuffer(w.ARRAY_BUFFER,k),w.bufferData(w.ARRAY_BUFFER,B,w.DYNAMIC_DRAW),k}function Ae(w,k,B){return k==null&&(k=w.createBuffer()),w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,k),w.bufferData(w.ELEMENT_ARRAY_BUFFER,B,w.DYNAMIC_DRAW),k}me.prototype._$Rs=function(){throw new Error("_$Rs")},me.prototype._$Ds=function(w){throw new Error("_$Ds")},me.prototype._$K2=function(){for(var w=0;w<this.textures.length;w++){var k=this.textures[w];k!=0&&(this.gl._$K2(1,this.textures,w),this.textures[w]=null)}},me.prototype.setTexture=function(w,k){this.textures[w]=k},me.prototype.initShader=function(){var w=this.gl;this.loadShaders2(),this.a_position_Loc=w.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=w.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=w.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=w.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=w.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=w.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=w.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=w.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=w.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"u_baseColor")},me.prototype.disposeShader=function(){var w=this.gl;this.shaderProgram&&(w.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(w.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},me.prototype.compileShader=function(w,k){var B=this.gl,ue,ce=k,ve=B.createShader(w);if(ve==null)return o._$Ji("_$L0 to create shader"),null;B.shaderSource(ve,ce),B.compileShader(ve);var ue=B.getShaderParameter(ve,B.COMPILE_STATUS);if(!ue){var Ie=B.getShaderInfoLog(ve);return o._$Ji("_$L0 to compile shader : "+Ie),B.deleteShader(ve),null}return ve},me.prototype.loadShaders2=function(){var w=this.gl;if(this.shaderProgram=w.createProgram(),!this.shaderProgram||(this.shaderProgramOff=w.createProgram(),!this.shaderProgramOff))return!1;var k="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}",B="precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}",ce="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}",ve="precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}";if(this.vertShader=this.compileShader(w.VERTEX_SHADER,k),!this.vertShader)return o._$Ji("Vertex shader compile _$li!"),!1;if(this.vertShaderOff=this.compileShader(w.VERTEX_SHADER,ce),!this.vertShaderOff)return o._$Ji("OffVertex shader compile _$li!"),!1;if(this.fragShader=this.compileShader(w.FRAGMENT_SHADER,B),!this.fragShader)return o._$Ji("Fragment shader compile _$li!"),!1;if(this.fragShaderOff=this.compileShader(w.FRAGMENT_SHADER,ve),!this.fragShaderOff)return o._$Ji("OffFragment shader compile _$li!"),!1;w.attachShader(this.shaderProgram,this.vertShader),w.attachShader(this.shaderProgram,this.fragShader),w.attachShader(this.shaderProgramOff,this.vertShaderOff),w.attachShader(this.shaderProgramOff,this.fragShaderOff),w.linkProgram(this.shaderProgram),w.linkProgram(this.shaderProgramOff);var ue=w.getProgramParameter(this.shaderProgram,w.LINK_STATUS);if(!ue){var Ie=w.getProgramInfoLog(this.shaderProgram);return o._$Ji("_$L0 to link program: "+Ie),this.vertShader&&(w.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(w.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(w.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(w.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(w.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(w.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1}return!0},me.prototype.createFramebuffer=function(){var w=this.gl,k=tt.clippingMaskBufferSize,B=w.createFramebuffer();w.bindFramebuffer(w.FRAMEBUFFER,B);var ce=w.createRenderbuffer();w.bindRenderbuffer(w.RENDERBUFFER,ce),w.renderbufferStorage(w.RENDERBUFFER,w.RGBA4,k,k),w.framebufferRenderbuffer(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.RENDERBUFFER,ce);var ve=w.createTexture();return w.bindTexture(w.TEXTURE_2D,ve),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,k,k,0,w.RGBA,w.UNSIGNED_BYTE,null),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,ve,0),w.bindTexture(w.TEXTURE_2D,null),w.bindRenderbuffer(w.RENDERBUFFER,null),w.bindFramebuffer(w.FRAMEBUFFER,null),tt.fTexture[this.glno]=ve,{framebuffer:B,renderbuffer:ce,texture:tt.fTexture[this.glno]}};function Le(w){fe||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=new Array,this._$T=w,this._$F=0)}Le.prototype._$fP=function(){var w=this._$ST(),k,B,ce;if(w&128)if((k=this._$ST())&128)if((B=this._$ST())&128){if((ce=this._$ST())&128)throw new mt("_$L _$0P  _");return(w&127)<<21|(k&127)<<14|(B&127)<<7|ce&255}else return(w&127)<<14|(k&127)<<7|B&255;else return(w&127)<<7|k&127;else return w&255},Le.prototype.getFormatVersion=function(){return this._$S2},Le.prototype._$gr=function(w){this._$S2=w},Le.prototype._$3L=function(){return this._$fP()},Le.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},Le.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},Le.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},Le.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},Le.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},Le.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new mt("_$L _$q read long")},Le.prototype._$po=function(){return this._$zT(),this._$T.getInt8(this._$F++)!=0};var rr=!0;Le.prototype._$bT=function(){this._$zT();var w=this._$3L(),k=null;if(rr)try{var B=new ArrayBuffer(w*2);k=new Uint16Array(B);for(var ce=0;ce<w;++ce)k[ce]=this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null,k)}catch{rr=!1}try{var ve=new Array;if(k==null)for(var ce=0;ce<w;++ce)ve[ce]=this._$T.getUint8(this._$F++);else for(var ce=0;ce<w;++ce)ve[ce]=k[ce];return String.fromCharCode.apply(null,ve)}catch(ue){console.log("read utf8 / _$rT _$L0 !! : "+ue)}},Le.prototype._$cS=function(){this._$zT();for(var w=this._$3L(),k=new Int32Array(w),B=0;B<w;B++)k[B]=this._$T.getInt32(this._$F),this._$F+=4;return k},Le.prototype._$Tb=function(){this._$zT();for(var w=this._$3L(),k=new Float32Array(w),B=0;B<w;B++)k[B]=this._$T.getFloat32(this._$F),this._$F+=4;return k},Le.prototype._$5b=function(){this._$zT();for(var w=this._$3L(),k=new Float64Array(w),B=0;B<w;B++)k[B]=this._$T.getFloat64(this._$F),this._$F+=8;return k},Le.prototype._$nP=function(){return this._$Jb(-1)},Le.prototype._$Jb=function(w){if(this._$zT(),w<0&&(w=this._$3L()),w==ie._$7P){var k=this._$6L();if(0<=k&&k<this._$Ko.length)return this._$Ko[k];throw new mt("_$sL _$4i @_$m0")}else{var B=this._$4b(w);return this._$Ko.push(B),B}},Le.prototype._$4b=function(w){if(w==0)return null;if(w==50){var k=this._$bT(),B=ee.getID(k);return B}else if(w==51){var k=this._$bT(),B=ke.getID(k);return B}else if(w==134){var k=this._$bT(),B=u.getID(k);return B}else if(w==60){var k=this._$bT(),B=f.getID(k);return B}if(w>=48){var ce=ie._$9o(w);return ce!=null?(ce._$F0(this),ce):null}switch(w){case 1:return this._$bT();case 10:return this._$6L(),new i;case 11:return new P(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new P(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new L(this._$mP(),this._$mP());case 14:return new L(this._$_T(),this._$_T());case 15:for(var ve=this._$3L(),B=new Array(ve),ue=0;ue<ve;ue++)B[ue]=this._$nP();return B;case 17:var B=new ae(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());return B;case 21:return new l(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new Bt(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new mt("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+w);default:throw new mt("_$6 _$q : _$nP() NO _$i : "+w)}},Le.prototype._$8L=function(){return this._$hL==0?this._$v0=this._$ST():this._$hL==8&&(this._$v0=this._$ST(),this._$hL=0),(this._$v0>>7-this._$hL++&1)==1},Le.prototype._$zT=function(){this._$hL!=0&&(this._$hL=0)};function c(){}c._$2S=Math.PI/180,c._$bS=Math.PI/180,c._$wS=180/Math.PI,c._$NS=180/Math.PI,c.PI_F=Math.PI,c._$kT=[0,.012368,.024734,.037097,.049454,.061803,.074143,.086471,.098786,.111087,.12337,.135634,.147877,.160098,.172295,.184465,.196606,.208718,.220798,.232844,.244854,.256827,.268761,.280654,.292503,.304308,.316066,.327776,.339436,.351044,.362598,.374097,.385538,.396921,.408243,.419502,.430697,.441826,.452888,.463881,.474802,.485651,.496425,.507124,.517745,.528287,.538748,.549126,.559421,.56963,.579752,.589785,.599728,.609579,.619337,.629,.638567,.648036,.657406,.666676,.675843,.684908,.693867,.70272,.711466,.720103,.72863,.737045,.745348,.753536,.76161,.769566,.777405,.785125,.792725,.800204,.807561,.814793,.821901,.828884,.835739,.842467,.849066,.855535,.861873,.868079,.874153,.880093,.885898,.891567,.897101,.902497,.907754,.912873,.917853,.922692,.92739,.931946,.936359,.940629,.944755,.948737,.952574,.956265,.959809,.963207,.966457,.96956,.972514,.97532,.977976,.980482,.982839,.985045,.987101,.989006,.990759,.992361,.993811,.995109,.996254,.997248,.998088,.998776,.999312,.999694,.999924,1],c._$92=function(w,k){var B=Math.atan2(w[1],w[0]),ce=Math.atan2(k[1],k[0]);return c._$tS(B,ce)},c._$tS=function(w,k){for(var B=w-k;B<-Math.PI;)B+=2*Math.PI;for(;B>Math.PI;)B-=2*Math.PI;return B},c._$9=function(w){return Math.sin(w)},c.fcos=function(w){return Math.cos(w)};function xr(w){fe||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=w)}xr.prototype._$u2=function(){return this._$IS[0]},xr.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},xr.prototype._$GT=function(){return this._$e0};function Yr(){}Yr._$W2=0,Yr.SYSTEM_INFO=null,Yr.USER_AGENT=navigator.userAgent,Yr.isIPhone=function(){return Yr.SYSTEM_INFO||Yr.setup(),Yr.SYSTEM_INFO._isIPhone},Yr.isIOS=function(){return Yr.SYSTEM_INFO||Yr.setup(),Yr.SYSTEM_INFO._isIPhone||Yr.SYSTEM_INFO._isIPad},Yr.isAndroid=function(){return Yr.SYSTEM_INFO||Yr.setup(),Yr.SYSTEM_INFO._isAndroid},Yr.getOSVersion=function(){return Yr.SYSTEM_INFO||Yr.setup(),Yr.SYSTEM_INFO.version},Yr.getOS=function(){return Yr.SYSTEM_INFO||Yr.setup(),Yr.SYSTEM_INFO._isIPhone||Yr.SYSTEM_INFO._isIPad?"iOS":Yr.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},Yr.setup=function(){var w=Yr.USER_AGENT;function k(ve,ue){for(var Ie=ve.substring(ue).split(/[ _,;\.]/),Me=0,Se=0;Se<=2&&!isNaN(Ie[Se]);Se++){var Be=parseInt(Ie[Se]);if(Be<0||Be>999){o._$li("err : "+Be+" @UtHtml5.setup()"),Me=0;break}Me+=Be*Math.pow(1e3,2-Se)}return Me}var B,ce=Yr.SYSTEM_INFO={userAgent:w};if((B=w.indexOf("iPhone OS "))>=0)ce.os="iPhone",ce._isIPhone=!0,ce.version=k(w,B+10);else if((B=w.indexOf("iPad"))>=0){if(B=w.indexOf("CPU OS"),B<0){o._$li(" err : "+w+" @UtHtml5.setup()");return}ce.os="iPad",ce._isIPad=!0,ce.version=k(w,B+7)}else(B=w.indexOf("Android"))>=0?(ce.os="Android",ce._isAndroid=!0,ce.version=k(w,B+8)):(ce.os="-",ce.version=-1)},window.UtSystem=X,window.UtDebug=o,window.LDTransform=ze,window.LDGL=_t,window.Live2D=tt,window.Live2DModelWebGL=Ir,window.Live2DModelJS=vt,window.Live2DMotion=pt,window.MotionQueueManager=ot,window.PhysicsHair=g,window.AMotion=s,window.PartsDataID=u,window.DrawDataID=ee,window.BaseDataID=ke,window.ParamID=f,tt.init();var fe=!1})();var RO;(function(t){var e=function(){function g(){}return g.getVersion=function(){return h.ccall("csmGetVersion","number",[],[])},g.getLatestMocVersion=function(){return h.ccall("csmGetLatestMocVersion","number",[],[])},g.getMocVersion=function(p,v){return h.ccall("csmGetMocVersion","number",["number","number"],[p,v])},g.getSizeofModel=function(p){return h.ccall("csmGetSizeofModel","number",["number"],[p])},g.reviveMocInPlace=function(p,v){return h.ccall("csmReviveMocInPlace","number",["number","number"],[p,v])},g.initializeModelInPlace=function(p,v,b){return h.ccall("csmInitializeModelInPlace","number",["number","number","number"],[p,v,b])},g.getParameterCount=function(p){return h.ccall("csmGetParameterCount","number",["number"],[p])},g.getParameterIds=function(p){return h.ccall("csmGetParameterIds","number",["number"],[p])},g.getParameterMinimumValues=function(p){return h.ccall("csmGetParameterMinimumValues","number",["number"],[p])},g.getParameterTypes=function(p){return h.ccall("csmGetParameterTypes","number",["number"],[p])},g.getParameterMaximumValues=function(p){return h.ccall("csmGetParameterMaximumValues","number",["number"],[p])},g.getParameterDefaultValues=function(p){return h.ccall("csmGetParameterDefaultValues","number",["number"],[p])},g.getParameterValues=function(p){return h.ccall("csmGetParameterValues","number",["number"],[p])},g.getParameterKeyCounts=function(p){return h.ccall("csmGetParameterKeyCounts","number",["number"],[p])},g.getParameterKeyValues=function(p){return h.ccall("csmGetParameterKeyValues","number",["number"],[p])},g.getPartCount=function(p){return h.ccall("csmGetPartCount","number",["number"],[p])},g.getPartIds=function(p){return h.ccall("csmGetPartIds","number",["number"],[p])},g.getPartOpacities=function(p){return h.ccall("csmGetPartOpacities","number",["number"],[p])},g.getPartParentPartIndices=function(p){return h.ccall("csmGetPartParentPartIndices","number",["number"],[p])},g.getDrawableCount=function(p){return h.ccall("csmGetDrawableCount","number",["number"],[p])},g.getDrawableIds=function(p){return h.ccall("csmGetDrawableIds","number",["number"],[p])},g.getDrawableConstantFlags=function(p){return h.ccall("csmGetDrawableConstantFlags","number",["number"],[p])},g.getDrawableDynamicFlags=function(p){return h.ccall("csmGetDrawableDynamicFlags","number",["number"],[p])},g.getDrawableTextureIndices=function(p){return h.ccall("csmGetDrawableTextureIndices","number",["number"],[p])},g.getDrawableDrawOrders=function(p){return h.ccall("csmGetDrawableDrawOrders","number",["number"],[p])},g.getDrawableRenderOrders=function(p){return h.ccall("csmGetDrawableRenderOrders","number",["number"],[p])},g.getDrawableOpacities=function(p){return h.ccall("csmGetDrawableOpacities","number",["number"],[p])},g.getDrawableMaskCounts=function(p){return h.ccall("csmGetDrawableMaskCounts","number",["number"],[p])},g.getDrawableMasks=function(p){return h.ccall("csmGetDrawableMasks","number",["number"],[p])},g.getDrawableVertexCounts=function(p){return h.ccall("csmGetDrawableVertexCounts","number",["number"],[p])},g.getDrawableVertexPositions=function(p){return h.ccall("csmGetDrawableVertexPositions","number",["number"],[p])},g.getDrawableVertexUvs=function(p){return h.ccall("csmGetDrawableVertexUvs","number",["number"],[p])},g.getDrawableIndexCounts=function(p){return h.ccall("csmGetDrawableIndexCounts","number",["number"],[p])},g.getDrawableIndices=function(p){return h.ccall("csmGetDrawableIndices","number",["number"],[p])},g.getDrawableMultiplyColors=function(p){return h.ccall("csmGetDrawableMultiplyColors","number",["number"],[p])},g.getDrawableScreenColors=function(p){return h.ccall("csmGetDrawableScreenColors","number",["number"],[p])},g.getDrawableParentPartIndices=function(p){return h.ccall("csmGetDrawableParentPartIndices","number",["number"],[p])},g.mallocMoc=function(p){return h.ccall("csmMallocMoc","number",["number"],[p])},g.mallocModelAndInitialize=function(p){return h.ccall("csmMallocModelAndInitialize","number",["number"],[p])},g.malloc=function(p){return h.ccall("csmMalloc","number",["number"],[p])},g.setLogFunction=function(p){h.ccall("csmSetLogFunction",null,["number"],[p])},g.updateModel=function(p){h.ccall("csmUpdateModel",null,["number"],[p])},g.readCanvasInfo=function(p,v,b,S){h.ccall("csmReadCanvasInfo",null,["number","number","number","number"],[p,v,b,S])},g.resetDrawableDynamicFlags=function(p){h.ccall("csmResetDrawableDynamicFlags",null,["number"],[p])},g.free=function(p){h.ccall("csmFree",null,["number"],[p])},g}();t.AlignofMoc=64,t.AlignofModel=16,t.MocVersion_Unknown=0,t.MocVersion_30=1,t.MocVersion_33=2,t.MocVersion_40=3,t.MocVersion_42=4,t.ParameterType_Normal=0,t.ParameterType_BlendShape=1;var r=function(){function g(){}return g.csmGetVersion=function(){return e.getVersion()},g.csmGetLatestMocVersion=function(){return e.getLatestMocVersion()},g.csmGetMocVersion=function(p,v){return e.getMocVersion(p._ptr,v.byteLength)},g}();t.Version=r;var n=function(){function g(){}return g.csmSetLogFunction=function(p){g.logFunction=p;var v=h.addFunction(g.wrapLogFunction,"vi");e.setLogFunction(v)},g.csmGetLogFunction=function(){return g.logFunction},g.wrapLogFunction=function(p){var v=h.UTF8ToString(p);g.logFunction(v)},g}();t.Logging=n;var i=function(){function g(p){var v=e.mallocMoc(p.byteLength);if(v){var b=new Uint8Array(h.HEAPU8.buffer,v,p.byteLength);b.set(new Uint8Array(p)),this._ptr=e.reviveMocInPlace(v,p.byteLength),this._ptr||e.free(v)}}return g.fromArrayBuffer=function(p){if(!p)return null;var v=new g(p);return v._ptr?v:null},g.prototype._release=function(){e.free(this._ptr),this._ptr=0},g}();t.Moc=i;var s=function(){function g(p){this._ptr=e.mallocModelAndInitialize(p._ptr),this._ptr&&(this.parameters=new a(this._ptr),this.parts=new l(this._ptr),this.drawables=new u(this._ptr),this.canvasinfo=new o(this._ptr))}return g.fromMoc=function(p){var v=new g(p);return v._ptr?v:null},g.prototype.update=function(){e.updateModel(this._ptr)},g.prototype.release=function(){e.free(this._ptr),this._ptr=0},g}();t.Model=s;var o=function(){function g(p){if(p){var v=new Float32Array(2),b=v.length*v.BYTES_PER_ELEMENT,S=e.malloc(b),T=new Uint8Array(h.HEAPU8.buffer,S,b);T.set(new Uint8Array(v.buffer));var E=new Float32Array(2),C=E.length*E.BYTES_PER_ELEMENT,P=e.malloc(C),D=new Uint8Array(h.HEAPU8.buffer,P,C);D.set(new Uint8Array(E.buffer));var L=new Float32Array(1),j=L.length*L.BYTES_PER_ELEMENT,te=e.malloc(j),se=new Uint8Array(h.HEAPU8.buffer,te,j);se.set(new Uint8Array(L.buffer)),e.readCanvasInfo(p,T.byteOffset,D.byteOffset,se.byteOffset),v=new Float32Array(T.buffer,T.byteOffset,T.length),E=new Float32Array(D.buffer,D.byteOffset,D.length),L=new Float32Array(se.buffer,se.byteOffset,se.length),this.CanvasWidth=v[0],this.CanvasHeight=v[1],this.CanvasOriginX=E[0],this.CanvasOriginY=E[1],this.PixelsPerUnit=L[0],e.free(T.byteOffset),e.free(D.byteOffset),e.free(se.byteOffset)}}return g}();t.CanvasInfo=o;var a=function(){function g(p){var v=0,b=null;this.count=e.getParameterCount(p),v=e.getParameterCount(p),this.ids=new Array(v);for(var S=new Uint32Array(h.HEAPU32.buffer,e.getParameterIds(p),v),T=0;T<S.length;T++)this.ids[T]=h.UTF8ToString(S[T]);v=e.getParameterCount(p),this.minimumValues=new Float32Array(h.HEAPF32.buffer,e.getParameterMinimumValues(p),v),v=e.getParameterCount(p),this.types=new Int32Array(h.HEAP32.buffer,e.getParameterTypes(p),v),v=e.getParameterCount(p),this.maximumValues=new Float32Array(h.HEAPF32.buffer,e.getParameterMaximumValues(p),v),v=e.getParameterCount(p),this.defaultValues=new Float32Array(h.HEAPF32.buffer,e.getParameterDefaultValues(p),v),v=e.getParameterCount(p),this.values=new Float32Array(h.HEAPF32.buffer,e.getParameterValues(p),v),v=e.getParameterCount(p),this.keyCounts=new Int32Array(h.HEAP32.buffer,e.getParameterKeyCounts(p),v),v=e.getParameterCount(p),b=new Int32Array(h.HEAP32.buffer,e.getParameterKeyCounts(p),v),this.keyValues=new Array(v);for(var E=new Uint32Array(h.HEAPU32.buffer,e.getParameterKeyValues(p),v),T=0;T<E.length;T++)this.keyValues[T]=new Float32Array(h.HEAPF32.buffer,E[T],b[T])}return g}();t.Parameters=a;var l=function(){function g(p){var v=0;this.count=e.getPartCount(p),v=e.getPartCount(p),this.ids=new Array(v);for(var b=new Uint32Array(h.HEAPU32.buffer,e.getPartIds(p),v),S=0;S<b.length;S++)this.ids[S]=h.UTF8ToString(b[S]);v=e.getPartCount(p),this.opacities=new Float32Array(h.HEAPF32.buffer,e.getPartOpacities(p),v),v=e.getPartCount(p),this.parentIndices=new Int32Array(h.HEAP32.buffer,e.getPartParentPartIndices(p),v)}return g}();t.Parts=l;var u=function(){function g(p){this._modelPtr=p;var v=0,b=null;this.count=e.getDrawableCount(p),v=e.getDrawableCount(p),this.ids=new Array(v);for(var S=new Uint32Array(h.HEAPU32.buffer,e.getDrawableIds(p),v),T=0;T<S.length;T++)this.ids[T]=h.UTF8ToString(S[T]);v=e.getDrawableCount(p),this.constantFlags=new Uint8Array(h.HEAPU8.buffer,e.getDrawableConstantFlags(p),v),v=e.getDrawableCount(p),this.dynamicFlags=new Uint8Array(h.HEAPU8.buffer,e.getDrawableDynamicFlags(p),v),v=e.getDrawableCount(p),this.textureIndices=new Int32Array(h.HEAP32.buffer,e.getDrawableTextureIndices(p),v),v=e.getDrawableCount(p),this.drawOrders=new Int32Array(h.HEAP32.buffer,e.getDrawableDrawOrders(p),v),v=e.getDrawableCount(p),this.renderOrders=new Int32Array(h.HEAP32.buffer,e.getDrawableRenderOrders(p),v),v=e.getDrawableCount(p),this.opacities=new Float32Array(h.HEAPF32.buffer,e.getDrawableOpacities(p),v),v=e.getDrawableCount(p),this.maskCounts=new Int32Array(h.HEAP32.buffer,e.getDrawableMaskCounts(p),v),v=e.getDrawableCount(p),this.vertexCounts=new Int32Array(h.HEAP32.buffer,e.getDrawableVertexCounts(p),v),v=e.getDrawableCount(p),this.indexCounts=new Int32Array(h.HEAP32.buffer,e.getDrawableIndexCounts(p),v),v=e.getDrawableCount(p),this.multiplyColors=new Float32Array(h.HEAPF32.buffer,e.getDrawableMultiplyColors(p),v*4),v=e.getDrawableCount(p),this.screenColors=new Float32Array(h.HEAPF32.buffer,e.getDrawableScreenColors(p),v*4),v=e.getDrawableCount(p),this.parentPartIndices=new Int32Array(h.HEAP32.buffer,e.getDrawableParentPartIndices(p),v),v=e.getDrawableCount(p),b=new Int32Array(h.HEAP32.buffer,e.getDrawableMaskCounts(p),v),this.masks=new Array(v);for(var E=new Uint32Array(h.HEAPU32.buffer,e.getDrawableMasks(p),v),T=0;T<E.length;T++)this.masks[T]=new Int32Array(h.HEAP32.buffer,E[T],b[T]);v=e.getDrawableCount(p),b=new Int32Array(h.HEAP32.buffer,e.getDrawableVertexCounts(p),v),this.vertexPositions=new Array(v);for(var C=new Uint32Array(h.HEAPU32.buffer,e.getDrawableVertexPositions(p),v),T=0;T<C.length;T++)this.vertexPositions[T]=new Float32Array(h.HEAPF32.buffer,C[T],b[T]*2);v=e.getDrawableCount(p),b=new Int32Array(h.HEAP32.buffer,e.getDrawableVertexCounts(p),v),this.vertexUvs=new Array(v);for(var P=new Uint32Array(h.HEAPU32.buffer,e.getDrawableVertexUvs(p),v),T=0;T<P.length;T++)this.vertexUvs[T]=new Float32Array(h.HEAPF32.buffer,P[T],b[T]*2);v=e.getDrawableCount(p),b=new Int32Array(h.HEAP32.buffer,e.getDrawableIndexCounts(p),v),this.indices=new Array(v);for(var D=new Uint32Array(h.HEAPU32.buffer,e.getDrawableIndices(p),v),T=0;T<D.length;T++)this.indices[T]=new Uint16Array(h.HEAPU16.buffer,D[T],b[T])}return g.prototype.resetDynamicFlags=function(){e.resetDrawableDynamicFlags(this._modelPtr)},g}();t.Drawables=u;var d=function(){function g(){}return g.hasBlendAdditiveBit=function(p){return(p&1)==1},g.hasBlendMultiplicativeBit=function(p){return(p&2)==2},g.hasIsDoubleSidedBit=function(p){return(p&4)==4},g.hasIsInvertedMaskBit=function(p){return(p&8)==8},g.hasIsVisibleBit=function(p){return(p&1)==1},g.hasVisibilityDidChangeBit=function(p){return(p&2)==2},g.hasOpacityDidChangeBit=function(p){return(p&4)==4},g.hasDrawOrderDidChangeBit=function(p){return(p&8)==8},g.hasRenderOrderDidChangeBit=function(p){return(p&16)==16},g.hasVertexPositionsDidChangeBit=function(p){return(p&32)==32},g.hasBlendColorDidChangeBit=function(p){return(p&64)==64},g}();t.Utils=d;var f=function(){var g=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(p){p=p||{};var v,b,se={};for(b in v=v||(p!==void 0?p:{}))v.hasOwnProperty(b)&&(se[b]=v[b]);var S,T,E,P=!1,C=typeof window=="object",Bt=typeof importScripts=="function",P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&!C&&!Bt,D=!C&&!P&&!Bt,L="",j=(P?(L=__dirname+"/",T=function(me,De){Zt(me)},E=function(me){return $((me=(me=T(me,!0)).buffer?me:new Uint8Array(me)).buffer),me},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(me){throw me}),process.on("unhandledRejection",Ut),v.inspect=function(){return"[Emscripten Module object]"}):D?(typeof read<"u"&&(T=function(me){var De=Zt(me);return De?Rt(De):read(me)}),E=function(me){var De;if(!(De=Zt(me))){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(me));$(typeof(De=read(me,"binary"))=="object")}return De},typeof print<"u"&&((console=typeof console>"u"?{}:console).log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(C||Bt)&&(Bt?L=self.location.href:document.currentScript&&(L=document.currentScript.src),L=(L=g||L).indexOf("blob:")!==0?L.substr(0,L.lastIndexOf("/")+1):"",T=function(me){try{var De=new XMLHttpRequest;return De.open("GET",me,!1),De.send(null),De.responseText}catch(Ae){if(me=Zt(me))return Rt(me);throw Ae}},Bt&&(E=function(me){try{var De=new XMLHttpRequest;return De.open("GET",me,!1),De.responseType="arraybuffer",De.send(null),new Uint8Array(De.response)}catch(Ae){if(me=Zt(me))return me;throw Ae}}),S=function(me){var De=yt,Ae=mt,Le=new XMLHttpRequest;Le.open("GET",De,!0),Le.responseType="arraybuffer",Le.onload=function(){var rr;Le.status==200||Le.status==0&&Le.response?Ae(Le.response):(rr=Zt(De))?Ae(rr.buffer):me()},Le.onerror=me,Le.send(null)}),v.print||console.log.bind(console)),te=v.printErr||console.warn.bind(console);for(b in se)se.hasOwnProperty(b)&&(v[b]=se[b]);var se=null,q=Array(1),X=0,Q=!1;function $(me,De){me||Ut("Assertion failed: "+De)}var V,Y,ee,ae,H=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function J(me,De,Ae){var Le=De+Ae;for(Ae=De;me[Ae]&&!(Le<=Ae);)++Ae;if(16<Ae-De&&me.subarray&&H)return H.decode(me.subarray(De,Ae));for(Le="";De<Ae;){var rr,c,xr=me[De++];128&xr?(rr=63&me[De++],(224&xr)==192?Le+=String.fromCharCode((31&xr)<<6|rr):(c=63&me[De++],(xr=(240&xr)==224?(15&xr)<<12|rr<<6|c:(7&xr)<<18|rr<<12|c<<6|63&me[De++])<65536?Le+=String.fromCharCode(xr):(xr-=65536,Le+=String.fromCharCode(55296|xr>>10,56320|1023&xr)))):Le+=String.fromCharCode(xr)}return Le}function ie(me,De){return me?J(ee,me,De):""}function xe(me){return 0<me%16777216&&(me+=16777216-me%16777216),me}function qe(me){V=me,v.HEAP8=Y=new Int8Array(me),v.HEAP16=new Int16Array(me),v.HEAP32=ae=new Int32Array(me),v.HEAPU8=ee=new Uint8Array(me),v.HEAPU16=new Uint16Array(me),v.HEAPU32=new Uint32Array(me),v.HEAPF32=new Float32Array(me),v.HEAPF64=new Float64Array(me)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le"),C=v.TOTAL_MEMORY||16777216;function et(me){for(;0<me.length;){var De,Ae=me.shift();typeof Ae=="function"?Ae():typeof(De=Ae.C)=="number"?Ae.w===void 0?v.dynCall_v(De):v.dynCall_vi(De,Ae.w):De(Ae.w===void 0?null:Ae.w)}}C=(V=v.buffer||new ArrayBuffer(C)).byteLength,qe(V),ae[1052]=5247296;var Je=[],lt=[],Re=[],wt=[];Math.imul&&Math.imul(4294967295,5)===-5||(Math.imul=function(me,De){var Ae=65535&me,Le=65535&De;return Ae*Le+((me>>>16)*Le+Ae*(De>>>16)<<16)|0}),Math.clz32||(Math.clz32=function(me){var De=32,Ae=me>>16;return Ae&&(De-=16,me=Ae),(Ae=me>>8)&&(De-=8,me=Ae),(Ae=me>>4)&&(De-=4,me=Ae),(Ae=me>>2)&&(De-=2,me=Ae),me>>1?De-2:De-me}),Math.trunc||(Math.trunc=function(me){return me<0?Math.ceil(me):Math.floor(me)});var vt=0,pt=null;function Ut(me){throw v.onAbort&&v.onAbort(me),j(me),te(me),Q=!0,"abort("+me+"). Build with -s ASSERTIONS=1 for more info."}v.preloadedImages={},v.preloadedAudios={};var yt=null,le="data:application/octet-stream;base64,";function Oe(me){return me.replace(/\b__Z[\w\d_]+/g,function(De){return De==De?De:De+" ["+De+"]"})}function nt(){var me=Error();if(!me.stack){try{throw Error(0)}catch(De){me=De}if(!me.stack)return"(no stack trace available)"}return me.stack.toString()}var Ke=[null,[],[]];function ct(me,De){var Ae=Ke[me];De===0||De===10?((me===1?j:te)(J(Ae,0)),Ae.length=0):Ae.push(De)}function Ot(me,De,Ae,Le){try{for(var rr=0,c=0;c<Ae;c++){for(var xr=ae[De+8*c>>2],Yr=ae[De+(8*c+4)>>2],fe=0;fe<Yr;fe++)ct(me,ee[xr+fe]);rr+=Yr}return ae[Le>>2]=rr,0}catch(w){return typeof FS<"u"&&w instanceof FS.A||Ut(w),w.B}}function Dt(){return Y.length}function _t(me){try{var De=new ArrayBuffer(me);if(De.byteLength==me)return new Int8Array(De).set(Y),Ir(De),qe(De),1}catch{}}var Mt=!(yt="data:application/octet-stream;base64,AAAAAAAAAAARAAoAERERAAAAAAUAAAAAAAAJAAAAAAsAAAAAAAAAABEADwoREREDCgcAARMJCwsAAAkGCwAACwAGEQAAABEREQAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAARAAoKERERAAoAAAIACQsAAAAJAAsAAAsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAA0AAAAEDQAAAAAJDgAAAAAADgAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAPAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAABISEgAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAoAAAAACgAAAAAJCwAAAAAACwAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAwAAAAACQwAAAAAAAwAAAwAADAxMjM0NTY3ODlBQkNERUYFAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAABgKAAAABAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAK/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBbiBlcnJvciBvY2N1cnJlZCBpbiB0aGUgaW50ZXJwb2xhdGlvbiBmb3IgYmxlbmQgc2hhcGVzLiBDb21iaW5hdGlvbkNvdW50IGlzICVkLgBbQ1NNXSBbRV1XYXJwRGVmb3JtZXI6OlRyYW5zZm9ybVRhcmdldCgpIGVycm9yLiBbJWRdIHAwMT0oJS40ZiAsICUuNGYpCgBbQ1NNXSBbRV1Jbml0aWFsaXplRGVmb3JtZXJzKCk6IFVua25vd24gRGVmb3JtZXIgVHlwZS4KAExpdmUyRCBDdWJpc20gU0RLIENvcmUgVmVyc2lvbiAlZC4lZC4lZABNT0MzAFtDU01dIFtFXWNzbVJldml2ZU1vY0luUGxhY2UgaXMgZmFpbGVkLiBDb3JydXB0ZWQgIG1vYzMgZmlsZS4KAFtDU01dIFtFXWNzbVJldml2ZU1vY0luUGxhY2UgaXMgZmFpbGVkLiBUaGUgQ29yZSB1bnN1cHBvcnQgbGF0ZXIgdGhhbiBtb2MzIHZlcjpbJWRdLiBUaGlzIG1vYzMgdmVyIGlzIFslZF0uCgBbQ1NNXSBbRV1jc21HZXRNb2NWZXJzaW9uIGlzIGZhaWxlZC4gQ29ycnVwdGVkIG1vYzMgZmlsZS4KAFtDU01dIFtFXSVzOiAlcwoAY3NtR2V0TW9jVmVyc2lvbgAiYWRkcmVzcyIgaXMgbnVsbC4AY3NtUmV2aXZlTW9jSW5QbGFjZQAiYWRkcmVzcyIgYWxpZ25tZW50IGlzIGludmFsaWQuACJzaXplIiBpcyBpbnZhbGlkLgBjc21SZWFkQ2FudmFzSW5mbwAibW9kZWwiIGlzIGludmFsaWQuACJvdXRTaXplSW5QaXhlbHMiIGlzIG51bGwuACJvdXRPcmlnaW5JblBpeGVscyIgaXMgbnVsbC4AIm91dFBpeGVsc1BlclVuaXQiIGlzIG51bGwuAGNzbUdldFNpemVvZk1vZGVsACJtb2MiIGlzIGludmFsaWQuAGNzbUluaXRpYWxpemVNb2RlbEluUGxhY2UAInNpemUiIGlzIGludmFsaWQAY3NtVXBkYXRlTW9kZWwAY3NtR2V0UGFyYW1ldGVyQ291bnQAY3NtR2V0UGFyYW1ldGVySWRzAGNzbUdldFBhcmFtZXRlclR5cGVzAGNzbUdldFBhcmFtZXRlck1pbmltdW1WYWx1ZXMAY3NtR2V0UGFyYW1ldGVyTWF4aW11bVZhbHVlcwBjc21HZXRQYXJhbWV0ZXJEZWZhdWx0VmFsdWVzAGNzbUdldFBhcmFtZXRlclZhbHVlcwBjc21HZXRQYXJ0Q291bnQAY3NtR2V0UGFydElkcwBjc21HZXRQYXJ0T3BhY2l0aWVzAGNzbUdldFBhcnRQYXJlbnRQYXJ0SW5kaWNlcwBjc21HZXREcmF3YWJsZUNvdW50AGNzbUdldERyYXdhYmxlSWRzAGNzbUdldERyYXdhYmxlQ29uc3RhbnRGbGFncwBjc21HZXREcmF3YWJsZUR5bmFtaWNGbGFncwBjc21HZXREcmF3YWJsZVRleHR1cmVJbmRpY2VzAGNzbUdldERyYXdhYmxlRHJhd09yZGVycwBjc21HZXREcmF3YWJsZVJlbmRlck9yZGVycwBjc21HZXREcmF3YWJsZU9wYWNpdGllcwBjc21HZXREcmF3YWJsZU1hc2tDb3VudHMAY3NtR2V0RHJhd2FibGVNYXNrcwBjc21HZXREcmF3YWJsZVZlcnRleENvdW50cwBjc21HZXREcmF3YWJsZVZlcnRleFBvc2l0aW9ucwBjc21HZXREcmF3YWJsZVZlcnRleFV2cwBjc21HZXREcmF3YWJsZUluZGV4Q291bnRzAGNzbUdldERyYXdhYmxlSW5kaWNlcwBjc21HZXREcmF3YWJsZU11bHRpcGx5Q29sb3JzAGNzbUdldERyYXdhYmxlU2NyZWVuQ29sb3JzAGNzbUdldERyYXdhYmxlUGFyZW50UGFydEluZGljZXMAY3NtUmVzZXREcmF3YWJsZUR5bmFtaWNGbGFncwBjc21HZXRQYXJhbWV0ZXJLZXlDb3VudHMAY3NtR2V0UGFyYW1ldGVyS2V5VmFsdWVzAFtDU01dIFtXXVJvdGF0aW9uRGVmb3JtZXI6IE5vdCBmb3VuZCB0cmFuc2Zvcm1lZCBEaXJlY3Rpb24uCgBbQ1NNXSBbRV1VcGRhdGVEZWZvcm1lckhpZXJhcmNoeSgpOiBVbmtub3duIERlZm9ybWVyIFR5cGUuCgAlcwoALSsgICAwWDB4AChudWxsKQAtMFgrMFggMFgtMHgrMHggMHgAaW5mAElORgBuYW4ATkFOAC4=");function Rt(me){for(var De=[],Ae=0;Ae<me.length;Ae++){var Le=me[Ae];255<Le&&(Mt&&$(!1,"Character code "+Le+" ("+String.fromCharCode(Le)+")  at offset "+Ae+" not in 0x00-0xFF."),Le&=255),De.push(String.fromCharCode(Le))}return De.join("")}var tt=typeof atob=="function"?atob:function(me){var De="",Ae=0;me=me.replace(/[^A-Za-z0-9\+\/=]/g,"");do var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(me.charAt(Ae++)),xr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(me.charAt(Ae++)),Le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(me.charAt(Ae++)),rr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(me.charAt(Ae++)),c=c<<2|xr>>4,xr=(15&xr)<<4|Le>>2,Yr=(3&Le)<<6|rr;while(De+=String.fromCharCode(c),Le!==64&&(De+=String.fromCharCode(xr)),rr!==64&&(De+=String.fromCharCode(Yr)),Ae<me.length);return De};function Zt(me){if(String.prototype.startsWith?me.startsWith(le):me.indexOf(le)===0){if(me=me.slice(le.length),typeof P=="boolean"&&P){try{var De=Buffer.from(me,"base64")}catch{De=new Buffer(me,"base64")}var Ae=new Uint8Array(De.buffer,De.byteOffset,De.byteLength)}else try{for(var Le=tt(me),rr=new Uint8Array(Le.length),De=0;De<Le.length;++De)rr[De]=Le.charCodeAt(De);Ae=rr}catch{throw Error("Converting base64 string to bytes failed.")}return Ae}}var mt,Tt,mr,Bt=function(me,De,Ae){var Le=new me.Int8Array(Ae),rr=new me.Int16Array(Ae),c=new me.Int32Array(Ae),xr=new me.Uint8Array(Ae),Yr=new me.Uint16Array(Ae),fe=new me.Float32Array(Ae),w=new me.Float64Array(Ae),k=0|De.v,B=me.Math.floor,ce=me.Math.pow,ve=me.Math.cos,ue=me.Math.sin,Ie=me.Math.atan2,Me=me.Math.imul,Se=me.Math.clz32,Be=De.a,it=De.b,ut=De.c,ht=De.d,je=De.e,dt=De.f,at=De.g,Nt=De.h,jt=De.i,zt=De.j,Xt=De.k,Er=De.l,or=De.m,we=4416;function ur(_){var x,O,oe,W,I,re,G,z,M,Z,ge,Ce,Ge,Te,Ne,Fe,be,st,gt=0,Xe=0,Et=0|c[(_|=0)+500>>2];if(!((0|Et)<=0)){G=0|c[_+504>>2],z=0|c[_+444>>2],O=0|c[_+536>>2],Xe=0;do if(oe=0|c[G+(24*Xe|0)+12>>2],W=0|c[z+(c[G+(24*Xe|0)+4>>2]<<2)>>2],I=0|c[z+(c[G+(24*Xe|0)+8>>2]<<2)>>2],re=0|c[G+(24*Xe|0)+16>>2],_=0|c[G+(24*Xe|0)+20>>2],x=+fe[O+(Xe<<2)>>2],0<(0|oe))for(gt=0;be=+fe[re+(gt<<2)>>2],Ce=+fe[re+((M=1|gt)<<2)>>2],Fe=(0|Yr[_+(gt<<1)>>1])<<1&65534,Ne=+fe[(st=W+(Fe<<2)|0)>>2],ge=+fe[(Fe=W+((1|Fe)<<2)|0)>>2],M=(0|Yr[_+(M<<1)>>1])<<1&65534,Te=+fe[(Ge=I+(M<<2)|0)>>2],Z=+fe[(M=I+((1|M)<<2)|0)>>2],fe[st>>2]=Ne+be*(Te-Ne)*x,fe[Fe>>2]=ge+be*(Z-ge)*x,fe[Ge>>2]=Te+Ce*(Ne-Te)*x,fe[M>>2]=Z+Ce*(ge-Z)*x,(0|(gt=gt+2|0))<(0|oe););while((0|(Xe=Xe+1|0))!=(0|Et))}}function Kt(_){var x=0|c[(_|=0)>>2];(0|xr[4+x>>0])<4||Vn(_,0|c[_+596>>2],0|c[_+600>>2],0|c[984+x>>2],0|c[_+152>>2],0|c[796+x>>2])}function Vn(_,x,O,oe,W,I){_|=0,oe|=0,W|=0,I|=0;var re,G,z,M,Z,ge,Ce,Ge,Te,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=we;if(we=we+16|0,Ge=Xe+8|0,Ce=Xe,ge=(O|=0)+(12*(x|=0)|0)|0,(0|x)<=0)we=Xe;else{do{x=0|c[O>>2],G=0|c[W+(x<<2)>>2],M=(x=0|c[I+(x<<2)>>2])<<1,gt=0|c[O+4>>2],Ne=0|c[O+8>>2],z=0|c[1028+(0|c[_>>2])>>2],Z=Ne+(48*gt|0)|0;e:do if(0<(0|gt)){if((0|x)<=0){for(;;)if(3<=(x=0|c[Ne+8>>2])>>>0&&(c[Ge>>2]=x,_r(0,784,Ge)),Z>>>0<=(Ne=Ne+48|0)>>>0)break e}do{Fe=oe+(c[Ne+4>>2]<<2)|0,x=0|c[Ne+8>>2];t:do if(0|x)switch(gt=z+(c[Fe+(c[Ne+12>>2]<<2)>>2]<<2)|0,0|x){case 1:for(Fe=Ne+20|0,x=Ne+44|0,be=0;fe[(st=G+(be<<2)|0)>>2]=+fe[st>>2]+ +fe[x>>2]*(+fe[gt+(be<<2)>>2]*+fe[Fe>>2]),(0|(be=be+1|0))!=(0|M););break;case 2:for(Fe=z+(c[Fe+(c[Ne+16>>2]<<2)>>2]<<2)|0,be=Ne+20|0,re=Ne+24|0,x=Ne+44|0,st=0;fe[(Te=G+(st<<2)|0)>>2]=+fe[Te>>2]+ +fe[x>>2]*(+fe[gt+(st<<2)>>2]*+fe[be>>2]+ +fe[Fe+(st<<2)>>2]*+fe[re>>2]),(0|(st=st+1|0))!=(0|M););break;default:c[Ce>>2]=x,_r(0,784,Ce);break t}while(0)}while((Ne=Ne+48|0)>>>0<Z>>>0)}while(0)}while((O=O+12|0)>>>0<ge>>>0);we=Xe}}function si(_){var x=0|c[(_|=0)>>2];(0|xr[4+x>>0])<4||Vn(_,0|c[_+604>>2],0|c[_+608>>2],0|c[1024+x>>2],0|c[_+444>>2],0|c[892+x>>2])}function _r(_,x,O){_|=0,x|=0,O|=0;var oe,W,I=we;we=we+272|0,_=I+16|0,W=I,we=((oe=0|c[904])&&(c[W>>2]=O,aa(_,x,W),Nl[1&oe](_)),I)}function Ei(_,x,O){O|=0;var oe,W=0,I=0,re=0,G=0,z=0,M=0,Z=0,ge=0,Ge=0,Ce=0,Ge=0|Le[(_|=0)+4>>0];if(c[(x|=0)>>2]=628,Ce=0|c[(ge=_+704|0)>>2],0<(0|(z=0|c[Ce>>2]))){for(W=0|c[_+1048>>2],I=0|c[_+720>>2],G=re=0;G=(1<<c[W+(c[I+(re<<2)>>2]<<2)>>2])+G|0,(0|(re=re+1|0))!=(0|z););W=G<<2}else W=0;if(c[x+4>>2]=12*z,c[x+8>>2]=c[Ce>>2]<<2,c[x+12>>2]=c[Ce>>2]<<2,c[x+16>>2]=c[Ce>>2]<<2,c[x+20>>2]=c[Ce>>2]<<2,c[x+24>>2]=c[Ce>>2]<<2,c[x+28>>2]=W,c[x+32>>2]=c[Ce>>2]<<2,c[x+36>>2]=W,c[x+40>>2]=W,c[x+44>>2]=c[(oe=Ce+4|0)>>2]<<5,c[x+48>>2]=c[oe>>2]<<2,c[x+52>>2]=c[oe>>2]<<2,c[x+56>>2]=c[oe>>2]<<2,c[x+60>>2]=c[oe>>2]<<4,c[x+64>>2]=c[oe>>2]<<4,0<(0|(Z=0|c[(oe=Ce+8|0)>>2]))){for(I=0|c[_+796>>2],re=0|c[_+1048>>2],G=0|c[_+780>>2],W=M=z=0;W=(15+(c[I+(z<<2)>>2]<<3)&-16)+W|0,M=(1<<c[re+(c[G+(z<<2)>>2]<<2)>>2])+M|0,(0|(z=z+1|0))!=(0|Z););I=M<<2}else W=I=0;if(c[x+68>>2]=24*Z,c[x+72>>2]=c[oe>>2]<<2,c[x+76>>2]=c[oe>>2]<<2,c[x+80>>2]=c[oe>>2]<<2,c[x+84>>2]=W,c[x+88>>2]=c[oe>>2]<<4,c[x+92>>2]=c[oe>>2]<<4,c[x+96>>2]=c[oe>>2]<<2,c[x+100>>2]=I,c[x+104>>2]=c[oe>>2]<<2,c[x+108>>2]=I,c[x+112>>2]=I,c[x+116>>2]=I,c[x+120>>2]=I,c[x+124>>2]=I,c[x+128>>2]=I,c[x+132>>2]=I,c[x+136>>2]=I,c[x+140>>2]=I,c[x+144>>2]=c[oe>>2]<<2,c[x+148>>2]=c[oe>>2]<<2,c[x+152>>2]=c[oe>>2]<<2,c[x+156>>2]=c[oe>>2]<<2,c[x+160>>2]=c[oe>>2]<<2,c[x+164>>2]=c[oe>>2]<<2,0<(0|(z=0|c[(M=Ce+12|0)>>2]))){for(W=0|c[_+1048>>2],I=0|c[_+812>>2],G=re=0;G=(1<<c[W+(c[I+(re<<2)>>2]<<2)>>2])+G|0,(0|(re=re+1|0))!=(0|z););W=G<<2}else W=0;if(c[x+168>>2]=12*z,c[x+172>>2]=c[M>>2]<<2,c[x+176>>2]=c[M>>2]<<2,c[x+180>>2]=c[M>>2]<<2,c[x+184>>2]=c[M>>2]<<2,c[x+188>>2]=c[M>>2]<<2,c[x+192>>2]=c[M>>2]<<2,c[x+196>>2]=c[M>>2]<<2,c[x+200>>2]=c[M>>2]<<2,c[x+204>>2]=c[M>>2]<<4,c[x+208>>2]=c[M>>2]<<4,c[x+212>>2]=c[M>>2]<<2,c[x+216>>2]=W,c[x+220>>2]=c[M>>2]<<2,c[x+224>>2]=W,c[x+228>>2]=W,c[x+232>>2]=W,c[x+236>>2]=W,c[x+240>>2]=W,c[x+244>>2]=W,c[x+248>>2]=W,c[x+252>>2]=W,c[x+256>>2]=W,c[x+260>>2]=W,c[x+264>>2]=W,c[x+268>>2]=W,c[x+272>>2]=c[M>>2]<<2,c[x+276>>2]=c[M>>2]<<2,c[x+280>>2]=c[M>>2]<<2,c[x+284>>2]=c[M>>2]<<2,c[x+288>>2]=c[M>>2]<<2,c[x+292>>2]=c[M>>2]<<2,0<(0|(Z=0|c[(oe=Ce+16|0)>>2]))){for(I=0|c[_+892>>2],re=0|c[_+1048>>2],G=0|c[_+852>>2],W=M=z=0;W=(15+(c[I+(z<<2)>>2]<<3)&-16)+W|0,M=(1<<c[re+(c[G+(z<<2)>>2]<<2)>>2])+M|0,(0|(z=z+1|0))!=(0|Z););I=M<<2}else W=I=0;if(c[x+296>>2]=20*Z,c[x+300>>2]=c[oe>>2]<<2,c[x+304>>2]=c[oe>>2],c[x+308>>2]=c[oe>>2]<<2,c[x+312>>2]=c[oe>>2]<<2,c[x+316>>2]=c[oe>>2]<<2,c[x+320>>2]=W,c[x+324>>2]=c[oe>>2]<<2,c[x+328>>2]=c[oe>>2]<<4,c[x+332>>2]=c[oe>>2]<<4,c[x+336>>2]=c[oe>>2]<<2,c[x+340>>2]=c[oe>>2]<<2,c[x+344>>2]=c[oe>>2]<<2,c[x+348>>2]=c[oe>>2]<<4,c[x+352>>2]=c[oe>>2]<<4,c[x+356>>2]=c[oe>>2]<<2,c[x+360>>2]=I,c[x+364>>2]=c[oe>>2]<<2,c[x+368>>2]=I,c[x+372>>2]=I,c[x+376>>2]=I,c[x+380>>2]=I,c[x+384>>2]=I,c[x+388>>2]=I,c[x+392>>2]=I,c[x+396>>2]=I,c[x+400>>2]=I,c[x+404>>2]=I,c[x+408>>2]=c[oe>>2]<<2,c[x+412>>2]=c[oe>>2]<<2,c[x+416>>2]=c[oe>>2]<<2,c[x+420>>2]=c[oe>>2]<<2,c[x+424>>2]=c[oe>>2]<<2,c[x+428>>2]=c[oe>>2]<<2,ge=0|c[ge>>2],c[x+432>>2]=52*(0|c[(I=ge+20|0)>>2]),W=(oe=3<(255&Ge))?0:c[I>>2]<<2,c[x+436>>2]=W,c[x+440>>2]=c[I>>2]<<2,c[x+444>>2]=28*(0|c[ge+52>>2]),0<(0|(z=0|c[Ce+48>>2]))){for(W=0|c[_+1048>>2],G=re=I=0;re=(Ge=0|c[W+(I<<2)>>2])+re|0,G=(1<<Ge)+G|0,(0|(I=I+1|0))!=(0|z););I=re<<2,W=G<<2}else W=I=0;if(c[x+448>>2]=36*z,c[x+452>>2]=I,c[x+456>>2]=W,c[x+460>>2]=W,c[x+488>>2]=28*(0|c[(I=Ce+72|0)>>2]),0<(0|(I=0|c[I>>2]))){for(re=0|c[_+1152>>2],G=0|c[_+1160>>2],W=0|c[_+1164>>2],Z=M=z=0;M=(0|M)<(0|(Ge=0|c[re+(z<<2)>>2]))?Ge:M,Z=(0|(Ge=(0|c[G+(z<<2)>>2])-(0|c[W+(z<<2)>>2])|0))<(0|Z)?Z:Ge+1|0,(0|(z=z+1|0))!=(0|I););I=M<<2,W=Z<<2}else W=I=0;if(c[x+492>>2]=c[Ce+76>>2]<<4,c[x+496>>2]=W,c[x+500>>2]=I,c[x+504>>2]=W,0<(0|(z=0|c[(M=Ce+80|0)>>2]))){for(W=0|c[_+1048>>2],I=0|c[_+1188>>2],G=re=0;G=(1<<c[W+(c[I+(re<<2)>>2]<<2)>>2])+G|0,(0|(re=re+1|0))!=(0|z););W=G<<2}else W=0;if(c[x+508>>2]=24*z,c[x+512>>2]=c[M>>2]<<2,c[x+516>>2]=c[M>>2]<<2,c[x+520>>2]=W,c[x+524>>2]=c[M>>2]<<2,c[x+528>>2]=W,c[x+532>>2]=W,oe){if(c[x+464>>2]=20*(0|c[ge+120>>2]),c[x+468>>2]=28*(0|c[ge+100>>2]),0<(0|(G=0|c[Ce+104>>2]))){for(W=0|c[_+1080>>2],re=I=0;re=(0|c[W+(I<<2)>>2])+re|0,(0|(I=I+1|0))!=(0|G););W=re<<2}else W=0;c[x+472>>2]=48*G,c[x+476>>2]=W,c[x+480>>2]=12*(0|c[ge+108>>2]),c[x+484>>2]=12*(0|c[ge+112>>2]),W=I=c[x+540>>2]=0}else{if(0<(0|(oe=0|c[(ge=Ce+20|0)>>2]))){M=0|c[_+948>>2],Z=0|c[_+952>>2],G=0|c[_+1036>>2],W=z=0;do if(_=0|c[Z+(z<<2)>>2],re=(I=G+(c[M+(z<<2)>>2]<<2)|0)+(_<<2)|0,0<(0|_))for(;W=(0|c[I>>2])+W|0,(I=I+4|0)>>>0<re>>>0;);while((0|(z=z+1|0))!=(0|oe))}else W=0;c[x+540>>2]=oe<<2,I=W<<2,W=c[ge>>2]<<2}for(c[x+536>>2]=W,c[x+544>>2]=I,I=W=0;I=(_=15+(0|c[(Ce=x+(W<<2)|0)>>2])&-16)+(c[Ce>>2]=I)|0,(0|(W=W+1|0))!=137;);c[O>>2]=I}function Zr(_,x,O){_|=0,x|=0,O|=0;var oe,W,I,re,G,z,M=0,Z=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=0,Et=0,qt=0,vr=0,Pr=0,nr=0,wr=0,br=0,kt=0,pr=0,Cr=0,gr=0,wn=0,_n=0,pn=0,ci=0,di=0,Qn=0,In=0,fi=0,Ni=0,oi=0,gi=0,tn=0,Sn=0,ft=0,ms=we;if(we=we+560|0,gr=ms+552|0,M=(be=ms)+556|0,Da(0|be,0,548),Ei(_,be,M),O>>>0<(M=0|c[M>>2])>>>0)return we=ms,(ft=0)|ft;if(Da(0|x,0,0|M),ft=x+(0|c[be>>2])|0,c[(W=ft+8|0)>>2]=x+(0|c[be+4>>2]),c[ft+40>>2]=x+(0|c[be+8>>2]),c[ft+44>>2]=x+(0|c[be+12>>2]),c[ft+48>>2]=x+(0|c[be+16>>2]),c[(pr=ft+52|0)>>2]=x+(0|c[be+20>>2]),c[(Cr=ft+16|0)>>2]=x+(0|c[be+24>>2]),c[ft+24>>2]=x+(0|c[be+28>>2]),c[ft+28>>2]=x+(0|c[be+32>>2]),c[ft+32>>2]=x+(0|c[be+36>>2]),c[ft+36>>2]=x+(0|c[be+40>>2]),ge=0|c[(Sn=_+704|0)>>2],c[(I=ft+308|0)>>2]=x+(0|c[be+44>>2]),c[ft+312>>2]=x+(0|c[be+48>>2]),c[ft+316>>2]=x+(0|c[be+52>>2]),c[ft+320>>2]=x+(0|c[be+56>>2]),c[ft+324>>2]=x+(0|c[be+60>>2]),c[ft+328>>2]=x+(0|c[be+64>>2]),c[(pn=ft+60|0)>>2]=x+(0|c[be+68>>2]),c[ft+144>>2]=x+(0|c[be+72>>2]),c[ft+148>>2]=x+(0|c[be+76>>2]),M=x+(0|c[be+80>>2])|0,c[(Ce=ft+152|0)>>2]=M,0<(0|(ge=0|c[ge+8>>2]))&&(Ge=x+(0|c[be+84>>2])|0,Te=_+796|0,c[M>>2]=Ge,(0|ge)!=1))for(M=0,Z=1,O=Ge;O=O+(15+(c[(0|c[Te>>2])+(M<<2)>>2]<<3)&-16)|0,c[(0|c[Ce>>2])+(Z<<2)>>2]=O,!((0|ge)<=(0|(M=Z+1|0)));)gi=Z,Z=M,M=gi;if(c[ft+156>>2]=x+(0|c[be+88>>2]),c[ft+160>>2]=x+(0|c[be+92>>2]),c[(wn=ft+68|0)>>2]=x+(0|c[be+96>>2]),c[ft+76>>2]=x+(0|c[be+100>>2]),c[ft+80>>2]=x+(0|c[be+104>>2]),c[ft+84>>2]=x+(0|c[be+108>>2]),c[ft+88>>2]=x+(0|c[be+112>>2]),c[ft+92>>2]=x+(0|c[be+116>>2]),c[ft+96>>2]=x+(0|c[be+120>>2]),c[ft+100>>2]=x+(0|c[be+124>>2]),c[ft+104>>2]=x+(0|c[be+128>>2]),c[ft+108>>2]=x+(0|c[be+132>>2]),c[ft+112>>2]=x+(0|c[be+136>>2]),c[ft+116>>2]=x+(0|c[be+140>>2]),c[ft+120>>2]=x+(0|c[be+144>>2]),c[ft+124>>2]=x+(0|c[be+148>>2]),c[ft+128>>2]=x+(0|c[be+152>>2]),c[ft+132>>2]=x+(0|c[be+156>>2]),c[ft+136>>2]=x+(0|c[be+160>>2]),c[ft+140>>2]=x+(0|c[be+164>>2]),c[(re=ft+168|0)>>2]=x+(0|c[be+168>>2]),c[ft+264>>2]=x+(0|c[be+172>>2]),c[ft+268>>2]=x+(0|c[be+176>>2]),c[ft+272>>2]=x+(0|c[be+180>>2]),c[ft+276>>2]=x+(0|c[be+184>>2]),c[ft+280>>2]=x+(0|c[be+188>>2]),c[ft+284>>2]=x+(0|c[be+192>>2]),c[ft+288>>2]=x+(0|c[be+196>>2]),c[ft+292>>2]=x+(0|c[be+200>>2]),c[ft+296>>2]=x+(0|c[be+204>>2]),c[ft+300>>2]=x+(0|c[be+208>>2]),c[(_n=ft+176|0)>>2]=x+(0|c[be+212>>2]),c[ft+184>>2]=x+(0|c[be+216>>2]),c[ft+188>>2]=x+(0|c[be+220>>2]),c[ft+192>>2]=x+(0|c[be+224>>2]),c[ft+196>>2]=x+(0|c[be+228>>2]),c[ft+200>>2]=x+(0|c[be+232>>2]),c[ft+204>>2]=x+(0|c[be+236>>2]),c[ft+208>>2]=x+(0|c[be+240>>2]),c[ft+212>>2]=x+(0|c[be+244>>2]),c[ft+216>>2]=x+(0|c[be+248>>2]),c[ft+220>>2]=x+(0|c[be+252>>2]),c[ft+224>>2]=x+(0|c[be+256>>2]),c[ft+228>>2]=x+(0|c[be+260>>2]),c[ft+232>>2]=x+(0|c[be+264>>2]),c[ft+236>>2]=x+(0|c[be+268>>2]),c[ft+240>>2]=x+(0|c[be+272>>2]),c[ft+244>>2]=x+(0|c[be+276>>2]),c[ft+248>>2]=x+(0|c[be+280>>2]),c[ft+252>>2]=x+(0|c[be+284>>2]),c[ft+256>>2]=x+(0|c[be+288>>2]),c[ft+260>>2]=x+(0|c[be+292>>2]),ge=0|c[Sn>>2],c[(di=ft+336|0)>>2]=x+(0|c[be+296>>2]),c[ft+424>>2]=x+(0|c[be+300>>2]),c[ft+432>>2]=x+(0|c[be+304>>2]),c[ft+436>>2]=x+(0|c[be+308>>2]),c[ft+440>>2]=x+(0|c[be+312>>2]),M=x+(0|c[be+316>>2])|0,c[(Ce=ft+444|0)>>2]=M,0<(0|(ge=0|c[ge+16>>2]))&&(Ne=x+(0|c[be+320>>2])|0,Fe=_+892|0,c[M>>2]=Ne,(0|ge)!=1))for(M=0,Z=1,O=Ne;O=O+(15+(c[(0|c[Fe>>2])+(M<<2)>>2]<<3)&-16)|0,c[(0|c[Ce>>2])+(Z<<2)>>2]=O,!((0|ge)<=(0|(M=Z+1|0)));)gi=Z,Z=M,M=gi;if(c[ft+448>>2]=x+(0|c[be+324>>2]),c[(Qn=ft+452|0)>>2]=x+(0|c[be+328>>2]),c[(In=ft+456|0)>>2]=x+(0|c[be+332>>2]),c[ft+460>>2]=x+(0|c[be+336>>2]),c[ft+464>>2]=x+(0|c[be+340>>2]),c[ft+468>>2]=x+(0|c[be+344>>2]),c[ft+472>>2]=x+(0|c[be+348>>2]),c[ft+476>>2]=x+(0|c[be+352>>2]),c[(ci=ft+344|0)>>2]=x+(0|c[be+356>>2]),c[ft+352>>2]=x+(0|c[be+360>>2]),c[ft+356>>2]=x+(0|c[be+364>>2]),c[ft+360>>2]=x+(0|c[be+368>>2]),c[ft+364>>2]=x+(0|c[be+372>>2]),c[ft+368>>2]=x+(0|c[be+376>>2]),c[ft+372>>2]=x+(0|c[be+380>>2]),c[ft+376>>2]=x+(0|c[be+384>>2]),c[ft+380>>2]=x+(0|c[be+388>>2]),c[ft+384>>2]=x+(0|c[be+392>>2]),c[ft+388>>2]=x+(0|c[be+396>>2]),c[ft+392>>2]=x+(0|c[be+400>>2]),c[ft+396>>2]=x+(0|c[be+404>>2]),c[ft+400>>2]=x+(0|c[be+408>>2]),c[ft+404>>2]=x+(0|c[be+412>>2]),c[ft+408>>2]=x+(0|c[be+416>>2]),c[ft+412>>2]=x+(0|c[be+420>>2]),c[ft+416>>2]=x+(0|c[be+424>>2]),c[ft+420>>2]=x+(0|c[be+428>>2]),br=0|c[be+436>>2],oe=0|c[be+440>>2],c[(gi=ft+544|0)>>2]=x+(0|c[be+432>>2]),c[(kt=ft+548|0)>>2]=x+br,c[(br=ft+552|0)>>2]=x+oe,c[(oe=ft+560|0)>>2]=x+(0|c[be+444>>2]),M=0|c[Sn>>2],ge=x+(0|c[be+448>>2])|0,c[(oi=ft+568|0)>>2]=ge,0<(0|(M=0|c[M+48>>2])))for(O=0|c[_+1048>>2],Ce=x+(0|c[be+452>>2])|0,Te=x+((Ge=0)|c[be+456>>2])|0,Fe=x+(0|c[be+460>>2])|0;c[ge+(36*Ge|0)>>2]=Ce,c[ge+(36*Ge|0)+16>>2]=Te,c[ge+(36*Ge|0)+20>>2]=Fe,Ne=1<<(Z=0|c[O+(Ge<<2)>>2]),(0|(Ge=Ge+1|0))!=(0|M);)Ce=Ce+(Z<<2)|0,Te=Te+(Ne<<2)|0,Fe=Fe+(Ne<<2)|0;if(M=0|c[Sn>>2],Z=x+(0|c[be+488>>2])|0,c[(G=ft+484|0)>>2]=Z,0<(0|(M=0|c[M+72>>2])))for(O=0|c[_+1152>>2],Ce=x+((ge=0)|c[be+492>>2])|0;Ce=(c[Z+(28*ge|0)+12>>2]=Ce)+(c[O+(ge<<2)>>2]<<4)|0,(0|(ge=ge+1|0))!=(0|M););if(c[ft+488>>2]=x+(0|c[be+496>>2]),c[ft+492>>2]=x+(0|c[be+500>>2]),c[ft+496>>2]=x+(0|c[be+504>>2]),c[(fi=ft+504|0)>>2]=x+(0|c[be+508>>2]),c[ft+536>>2]=x+(0|c[be+512>>2]),c[(Ni=ft+512|0)>>2]=x+(0|c[be+516>>2]),c[ft+520>>2]=x+(0|c[be+520>>2]),c[ft+524>>2]=x+(0|c[be+524>>2]),c[ft+528>>2]=x+(0|c[be+528>>2]),c[ft+532>>2]=x+(0|c[be+532>>2]),wr=3<(0|xr[(z=_+4|0)>>0])){if(c[ft+576>>2]=x+(0|c[be+464>>2]),c[ft+584>>2]=x+(0|c[be+468>>2]),M=0|c[be+476>>2],ge=0|c[Sn>>2],Ge=x+(0|c[be+472>>2])|0,c[ft+592>>2]=Ge,0<(0|(ge=0|c[ge+104>>2])))for(Ce=0|c[_+1080>>2],M=x+M|0,O=0;c[Ge+(48*O|0)+40>>2]=M,(0|(Z=O+1|0))!=(0|ge);)M=M+(c[Ce+(O<<2)>>2]<<2)|0,O=Z;c[ft+600>>2]=x+(0|c[be+480>>2]),c[ft+608>>2]=x+(0|c[be+484>>2]),O=0|c[Sn>>2],M=0|c[O+20>>2]}else if(O=0|c[be+536>>2],Z=0|c[be+544>>2],c[ft+616>>2]=x+(0|c[be+540>>2]),c[(be=ft+612|0)>>2]=x+O,O=0|c[Sn>>2],0<(0|(M=0|c[O+20>>2])))for(Te=_+948|0,Ne=_+952|0,Ge=_+1036|0,Ce=x+Z|(Fe=0);;){if(M=0|c[(0|c[Te>>2])+(Fe<<2)>>2],Z=(nr=0|c[(0|c[Ne>>2])+(Fe<<2)>>2])+M|0,0<(0|nr)){for(O=0|c[Ge>>2],ge=0;ge=(0|c[O+(M<<2)>>2])+ge|0,(0|(M=M+1|0))<(0|Z););M=(0|c[be>>2])+(Fe<<2)|0,ge?(O=Ce,Z=ge):tn=27}else M=(0|c[be>>2])+(Fe<<2)|0,tn=27;if((0|tn)==27&&(Z=O=tn=0),c[M>>2]=O,O=0|c[Sn>>2],(0|(M=0|c[O+20>>2]))<=(0|(Fe=Fe+1|0)))break;Ce=Ce+(Z<<2)|0}c[ft>>2]=_,c[ft+620>>2]=1,c[ft+624>>2]=1&Le[20+(0|c[_+708>>2])>>0],Ce=(c[ft+540>>2]=M)+-1|0;e:do if(0<(0|M)){if(x=0|c[gi>>2],st=0|c[_+928>>2],gt=0|c[_+924>>2],Et=0|c[_+936>>2],qt=0|c[_+932>>2],vr=0|c[_+940>>2],Pr=0|c[_+952>>2],nr=_+948|0,be=0|c[br>>2],Fe=ft+584|0,Ne=_+956|0,!wr)for(;;){if(c[x+(52*Ce|0)>>2]=0,c[x+(52*Ce|0)+4>>2]=c[(Z=st+(Ce<<2)|0)>>2],c[x+(52*Ce|0)+8>>2]=c[(br=gt+(Ce<<2)|0)>>2],fe[x+(52*Ce|0)+12>>2]=+fe[br>>2]-+fe[Z>>2],c[x+(52*Ce|0)+16>>2]=c[Et+(Ce<<2)>>2],c[x+(52*Ce|0)+44>>2]=c[(Z=qt+(Ce<<2)|0)>>2],Xe=+ce(.10000000149011612,0|c[vr+(Ce<<2)>>2]),fe[x+(52*Ce|0)+20>>2]=Xe,fe[x+(52*Ce|0)+24>>2]=1.5*Xe,br=0|c[Pr+(Ce<<2)>>2],ge=(c[x+(52*Ce|0)+32>>2]=br)?(0|c[oe>>2])+(28*(0|c[(0|c[nr>>2])+(Ce<<2)>>2])|0)|0:0,c[x+(52*Ce|0)+28>>2]=ge,c[x+(52*Ce|0)+48>>2]=1,c[be+(Ce<<2)>>2]=c[Z>>2],!(0<(0|Ce)))break e;Ce=Ce+-1|0}for(Ge=0|c[_+944>>2],Te=0|c[_+960>>2];c[x+(52*Ce|0)>>2]=c[Ge+(Ce<<2)>>2],c[x+(52*Ce|0)+4>>2]=c[(ge=st+(Ce<<2)|0)>>2],c[x+(52*Ce|0)+8>>2]=c[(br=gt+(Ce<<2)|0)>>2],fe[x+(52*Ce|0)+12>>2]=+fe[br>>2]-+fe[ge>>2],c[x+(52*Ce|0)+16>>2]=c[Et+(Ce<<2)>>2],c[x+(52*Ce|0)+44>>2]=c[(ge=qt+(Ce<<2)|0)>>2],Xe=+ce(.10000000149011612,0|c[vr+(Ce<<2)>>2]),fe[x+(52*Ce|0)+20>>2]=Xe,fe[x+(52*Ce|0)+24>>2]=1.5*Xe,br=0|c[Pr+(Ce<<2)>>2],Z=(c[x+(52*Ce|0)+32>>2]=br)?(0|c[oe>>2])+(28*(0|c[(0|c[nr>>2])+(Ce<<2)>>2])|0)|0:0,c[x+(52*Ce|0)+28>>2]=Z,br=0|c[Te+(Ce<<2)>>2],Z=(c[x+(52*Ce|0)+40>>2]=br)?(0|c[Fe>>2])+(28*(0|c[(0|c[Ne>>2])+(Ce<<2)>>2])|0)|0:0,c[x+(52*Ce|0)+36>>2]=Z,c[x+(52*Ce|0)+48>>2]=1,c[be+(Ce<<2)>>2]=c[ge>>2],0<(0|Ce);)Ce=Ce+-1|0}while(0);if(wr?(c[kt>>2]=c[_+944>>2],Ge=O,Te=_):(Da(0|c[kt>>2],0,M<<2|0),Te=0|c[ft>>2],Ge=0|c[Te+704>>2]),M=0|c[Ge+52>>2],0<(0|(c[ft+556>>2]=M)))for(O=0|c[oe>>2],Z=0|c[Te+1036>>2],ge=0|c[Te+1132>>2],Ce=0|c[Te+1032>>2];c[O+(28*(M=(kt=M)+-1|0)|0)>>2]=c[Z+(M<<2)>>2],c[O+(28*M|0)+4>>2]=ge+(c[Ce+(M<<2)>>2]<<2),c[O+(28*M|0)+8>>2]=0,fe[O+(28*M|0)+12>>2]=0,c[O+(28*M|0)+16>>2]=0,c[O+(28*M|0)+20>>2]=1,(c[O+(28*M|0)+24>>2]=1)<(0|kt););if(M=0|c[Ge+48>>2],0<(0|(c[ft+564>>2]=M))){Ne=Te+1048|0,Fe=Te+1040|0,Te=Te+1044|0;do if(Ge=M,O=0|c[oi>>2],Z=0|c[(0|c[Ne>>2])+((M=M+-1|0)<<2)>>2],0<(0|(c[O+(36*M|0)+4>>2]=Z)))for(ge=O+(36*M|0)|0,Ce=0;c[(0|c[ge>>2])+(Ce<<2)>>2]=(0|c[oe>>2])+(28*(0|c[(0|c[Fe>>2])+((0|c[(0|c[Te>>2])+(M<<2)>>2])+Ce<<2)>>2])|0),(0|(Ce=Ce+1|0))!=(0|Z););while(c[O+(36*M|0)+8>>2]=1<<Z,c[O+(36*M|0)+24>>2]=1,(c[O+(36*M|0)+28>>2]=1)<(0|Ge));st=0|c[ft>>2],Ge=0|c[st+704>>2]}else st=Te;if(O=0|c[Ge>>2],0<(0|(c[(x=ft+4|0)>>2]=O))){for(ge=0|c[W>>2],Fe=0|c[oi>>2],be=0|c[st+720>>2],Ce=0|c[st+740>>2],Te=0|c[st+736>>2],Ne=0|c[st+732>>2],M=0|c[pr>>2],Z=O;c[ge+(12*(Z=(pr=Z)+-1|0)|0)>>2]=Fe+(36*(0|c[be+(Z<<2)>>2])|0),c[ge+(12*Z|0)+4>>2]=c[Ce+(Z<<2)>>2],c[ge+(12*Z|0)+8>>2]=c[Te+(Z<<2)>>2],fe[M+(Z<<2)>>2]=0|c[Ne+(Z<<2)>>2]?1:0,1<(0|pr););for(Z=0|c[Cr>>2],M=0;pr=0|c[Fe+(36*(0|c[be+((O=(Cr=O)+-1|0)<<2)>>2])|0)+8>>2],M=(c[Z+(O<<2)>>2]=pr)+M|0,1<(0|Cr););O=0|c[x>>2]}else M=0;if(c[ft+20>>2]=M,c[ft+12>>2]=O,M=0|c[Ge+4>>2],0<(0|(c[ft+304>>2]=M))){Te=st+752|0,Fe=st+764|0,Ne=st+768|0,Ge=st+772|0,be=st+776|0,Ce=st+760|0;do switch(ge=M,O=0|c[I>>2],c[O+((M=M+-1|0)<<5)>>2]=(0|c[oi>>2])+(36*(0|c[(0|c[Te>>2])+(M<<2)>>2])|0),c[O+(M<<5)+4>>2]=c[(0|c[Fe>>2])+(M<<2)>>2],c[O+(M<<5)+8>>2]=c[(0|c[Ne>>2])+(M<<2)>>2],Cr=0|c[(0|c[Ge>>2])+(M<<2)>>2],c[O+(M<<5)+12>>2]=Cr,Z=0|c[(0|c[be>>2])+(M<<2)>>2],c[O+(M<<5)+16>>2]=Z,c[O+(M<<5)+28>>2]=c[(0|c[Ce>>2])+(M<<2)>>2],0|Cr){case 0:c[(0|c[pn>>2])+(24*Z|0)+20>>2]=M,c[O+(M<<5)+20>>2]=2,c[O+(M<<5)+24>>2]=2;break;case 1:c[(0|c[re>>2])+(12*Z|0)+8>>2]=M,c[O+(M<<5)+20>>2]=3,c[O+(M<<5)+24>>2]=3;break;default:_r(0,937,gr)}while(1<(0|ge));kt=0|c[ft>>2],wr=0|c[kt+704>>2]}else wr=Ge,kt=st;if(Z=0|c[wr+8>>2],M=(c[(x=ft+56|0)>>2]=Z)+-1|0,be=0<(0|Z))if(ge=0|c[pn>>2],Ce=0|c[oi>>2],Ge=0|c[kt+780>>2],Te=0|c[kt+800>>2],Ne=0|c[kt+804>>2],Fe=0|c[kt+796>>2],1<(0|xr[kt+4>>0]))for(O=0|c[kt+808>>2];c[ge+(24*M|0)>>2]=Ce+(36*(0|c[Ge+(M<<2)>>2])|0),c[ge+(24*M|0)+4>>2]=c[Te+(M<<2)>>2],c[ge+(24*M|0)+8>>2]=c[Ne+(M<<2)>>2],c[ge+(24*M|0)+16>>2]=c[Fe+(M<<2)>>2],c[ge+(24*M|0)+12>>2]=c[O+(M<<2)>>2],0<(0|M);)M=M+-1|0;else for(;c[ge+(24*M|0)>>2]=Ce+(36*(0|c[Ge+(M<<2)>>2])|0),c[ge+(24*M|0)+4>>2]=c[Te+(M<<2)>>2],c[ge+(24*M|0)+8>>2]=c[Ne+(M<<2)>>2],c[ge+(24*M|0)+16>>2]=c[Fe+(M<<2)>>2],(c[ge+(24*M|0)+12>>2]=0)<(0|M);)M=M+-1|0;if(O=0|c[wr+12>>2],0<(0|(c[(Ne=ft+164|0)>>2]=O)))for(M=0|c[re>>2],ge=0|c[oi>>2],Ce=0|c[kt+812>>2],Ge=0|c[kt+828>>2],Te=O;c[M+(12*(Te=(gr=Te)+-1|0)|0)>>2]=ge+(36*(0|c[Ce+(Te<<2)>>2])|0),c[M+(12*Te|0)+4>>2]=c[Ge+(Te<<2)>>2],1<(0|gr););if(be){for(ge=0|c[pn>>2],O=0|c[wn>>2],M=0;wn=0|c[8+(0|c[ge+(24*(Z=(pn=Z)+-1|0)|0)>>2])>>2],M=(c[O+(Z<<2)>>2]=wn)+M|0,1<(0|pn););Z=0|c[x>>2],O=0|c[Ne>>2]}else M=0;if(c[ft+72>>2]=M,c[ft+64>>2]=Z,0<(0|O)){for(ge=0|c[re>>2],Z=0|c[_n>>2],M=0;_n=0|c[8+(0|c[ge+(12*(O=(pn=O)+-1|0)|0)>>2])>>2],M=(c[Z+(O<<2)>>2]=_n)+M|0,1<(0|pn););O=0|c[Ne>>2]}else M=0;if(c[ft+180>>2]=M,c[ft+172>>2]=O,br=kt+704|0,M=0|c[wr+16>>2],0<(0|(c[(be=ft+332|0)>>2]=M))){for(O=0|c[di>>2],Ne=0|c[oi>>2],Fe=0|c[kt+852>>2],Z=0|c[kt+876>>2],ge=0|c[kt+880>>2],Ce=0|c[kt+892>>2],Ge=0|c[kt+872>>2],Te=M;c[O+(20*(Te=(di=Te)+-1|0)|0)>>2]=Ne+(36*(0|c[Fe+(Te<<2)>>2])|0),c[O+(20*Te|0)+4>>2]=c[Z+(Te<<2)>>2],c[O+(20*Te|0)+8>>2]=c[ge+(Te<<2)>>2],c[O+(20*Te|0)+16>>2]=c[Ce+(Te<<2)>>2],c[O+(20*Te|0)+12>>2]=c[Ge+(Te<<2)>>2],1<(0|di););for(O=0|c[ci>>2],Z=0;ci=0|c[Ne+(36*(0|c[Fe+((M=(di=M)+-1|0)<<2)>>2])|0)+8>>2],Z=(c[O+(M<<2)>>2]=ci)+Z|0,1<(0|di););if(M=0|c[be>>2],c[ft+348>>2]=Z,0<(0|(c[ft+340>>2]=M)))for(ge=0|c[Qn>>2],O=0|c[In>>2],Z=M<<2;fe[ge+((Z=(In=Z)+-4|0)<<2)>>2]=1,fe[ge+((di=In+-3|0)<<2)>>2]=1,fe[ge+((Qn=In+-2|0)<<2)>>2]=1,fe[ge+((In=In+-1|0)<<2)>>2]=1,fe[O+(Z<<2)>>2]=0,fe[O+(di<<2)>>2]=0,!(((fe[O+(Qn<<2)>>2]=0)|M)<=(fe[O+(In<<2)>>2]=1));)M=M+-1|0}else c[ft+348>>2]=0,c[ft+340>>2]=M;if(nr=0|c[wr+72>>2],0<(0|(c[ft+480>>2]=nr))){M=0|c[G>>2],O=0|c[kt+1152>>2],Z=0|c[kt+1156>>2],ge=0|c[kt+1160>>2],Ce=0|c[kt+1164>>2],Ge=0|c[kt+1148>>2],gt=kt+1172|0,qt=kt+1168|0,Et=kt+1176|0,vr=0;do if(Te=0|c[O+(vr<<2)>>2],c[M+(28*vr|0)+4>>2]=Te,c[M+(28*vr|0)>>2]=c[Z+(vr<<2)>>2],In=0|c[ge+(vr<<2)>>2],c[M+(28*vr|0)+16>>2]=In,Ne=0|c[Ce+(vr<<2)>>2],c[M+(28*vr|0)+20>>2]=Ne,c[M+(28*vr|0)+24>>2]=In+1-Ne,Ne=(c[M+(28*vr|0)+8>>2]=0)|c[Ge+(vr<<2)>>2],0<(0|Te))for(Fe=0|c[M+(28*vr|0)+12>>2],be=0|c[gt>>2],x=0|c[qt>>2],st=0|c[Et>>2],Pr=0;c[Fe+(Pr<<4)+4>>2]=c[be+((In=Pr+Ne|0)<<2)>>2],c[Fe+(Pr<<4)>>2]=c[x+(In<<2)>>2],c[Fe+(Pr<<4)+8>>2]=c[st+(In<<2)>>2],(0|(Pr=Pr+1|(c[Fe+(Pr<<4)+12>>2]=0)))!=(0|Te););while((0|(vr=vr+1|0))!=(0|nr))}O=0|c[wr+80>>2],c[(x=ft+500|0)>>2]=O;do if(0<(0|O)){for(Ne=0|c[fi>>2],Fe=0|c[oi>>2],be=0|c[kt+1188>>2],M=0|c[kt+1200>>2],Z=0|c[kt+1204>>2],ge=0|c[kt+1212>>2],Ce=0|c[kt+1216>>2],Ge=0|c[kt+1208>>2],Te=0|c[kt+1220>>2];c[Ne+(24*(O=(oi=O)+-1|0)|0)>>2]=Fe+(36*(0|c[be+(O<<2)>>2])|0),c[Ne+(24*O|0)+4>>2]=c[M+(O<<2)>>2],c[Ne+(24*O|0)+8>>2]=c[Z+(O<<2)>>2],c[Ne+(24*O|0)+12>>2]=c[ge+(O<<2)>>2],fi=0|c[Ge+(O<<2)>>2],c[Ne+(24*O|0)+16>>2]=Ce+(fi<<2),c[Ne+(24*O|0)+20>>2]=Te+(fi<<1),1<(0|oi););if((0|(O=0|c[x>>2]))<=0){M=0;break}for(Z=0|c[Ni>>2],M=0;Ni=0|c[Fe+(36*(0|c[be+((O=(oi=O)+-1|0)<<2)>>2])|0)+8>>2],M=(c[Z+(O<<2)>>2]=Ni)+M|0,1<(0|oi););O=0|c[x>>2]}else M=0;while(0);c[ft+516>>2]=M,c[ft+508>>2]=O;do if(3<(0|xr[z>>0])){if((255&(M=0|Le[kt+4>>0]))<4)break;if(O=0|c[wr+120>>2],0<(0|(c[ft+572>>2]=O)))for(Fe=0|c[ft+576>>2],Z=0|c[gi>>2],ge=0|c[kt+1112>>2],Ce=0|c[kt+1124>>2],Ge=0|c[kt+1116>>2],Te=0|c[kt+1128>>2],Ne=0|c[kt+1120>>2];c[Fe+(20*(O=(tn=O)+-1|0)|0)>>2]=Z+(52*(0|c[ge+(O<<2)>>2])|0),gi=0|c[Ge+(O<<2)>>2],c[Fe+(20*O|0)+4>>2]=Ce+(gi<<2),c[Fe+(20*O|0)+8>>2]=Te+(gi<<2),c[Fe+(20*O|0)+12>>2]=c[Ne+(O<<2)>>2],1<(0|tn););if(O=0|c[wr+100>>2],0<(0|(c[ft+580>>2]=O)))for(Z=0|c[ft+584>>2],ge=0|c[kt+1056>>2],Ce=0|c[kt+1132>>2],Ge=0|c[kt+1052>>2],Te=0|c[kt+1060>>2];c[Z+(28*(O=(tn=O)+-1|0)|0)>>2]=c[ge+(O<<2)>>2],c[Z+(28*O|0)+4>>2]=Ce+(c[Ge+(O<<2)>>2]<<2),c[Z+(28*O|0)+8>>2]=c[Te+(O<<2)>>2],c[Z+(28*O|0)+12>>2]=0,fe[Z+(28*O|0)+16>>2]=0,c[Z+(28*O|0)+20>>2]=1,(c[Z+(28*O|0)+24>>2]=1)<(0|tn););if(O=0|c[wr+104>>2],0<(0|(c[ft+588>>2]=O))){be=ft+592|0,st=ft+584|0,Fe=kt+1064|0,gt=kt+1068|0,Te=kt+1080|0,x=ft+576|0,Ne=kt+1108|0,Ge=kt+1076|0;do if(Ce=O,M=0|c[be>>2],c[M+(48*(O=O+-1|0)|0)>>2]=(0|c[st>>2])+(28*(0|c[(0|c[Fe>>2])+(O<<2)>>2])|0),c[M+(48*O|0)+4>>2]=c[(0|c[gt>>2])+(O<<2)>>2],c[M+(48*O|0)+8>>2]=0,c[M+(48*O|0)+28>>2]=1,c[M+(48*O|0)+32>>2]=1,ge=0|c[(0|c[Te>>2])+(O<<2)>>2],0<(0|(c[M+(48*O|0)+36>>2]=ge)))for(M=M+(48*O|0)+40|0,Z=0;c[(0|c[M>>2])+(Z<<2)>>2]=(0|c[x>>2])+(20*(0|c[(0|c[Ne>>2])+((0|c[(0|c[Ge>>2])+(O<<2)>>2])+Z<<2)>>2])|0),(0|(Z=Z+1|0))!=(0|ge););while(1<(0|Ce));Fe=0|c[ft>>2],M=0|Le[Fe+4>>0]}else Fe=kt;if(Ne=0|c[Sn>>2],O=0|c[Ne+108>>2],(255&M)<4)break;if(0<(0|(c[ft+596>>2]=O)))for(Z=0|c[ft+600>>2],ge=0|c[_+1084>>2],Ce=0|c[_+1092>>2],Ge=0|c[ft+592>>2],Te=0|c[_+1088>>2],M=O;c[Z+(12*(M=(Sn=M)+-1|0)|0)>>2]=c[ge+(M<<2)>>2],c[Z+(12*M|0)+4>>2]=c[Ce+(M<<2)>>2],c[Z+(12*M|0)+8>>2]=Ge+(48*(0|c[Te+(M<<2)>>2])|0),1<(0|Sn););if(M=0|c[Ne+112>>2],0<(0|(c[ft+604>>2]=M)))for(Z=0|c[ft+608>>2],ge=0|c[_+1096>>2],Ce=0|c[_+1104>>2],Ge=0|c[ft+592>>2],O=0|c[_+1100>>2];c[Z+(12*(M=(_=M)+-1|0)|0)>>2]=c[ge+(M<<2)>>2],c[Z+(12*M|0)+4>>2]=c[Ce+(M<<2)>>2],c[Z+(12*M|0)+8>>2]=Ge+(48*(0|c[O+(M<<2)>>2])|0),1<(0|_););if(Z=0|c[Fe+1132>>2],ge=0|c[20+(0|c[Fe+704>>2])>>2],Ce=ft+612|0,c[ft+616>>2]=c[Fe+972>>2],M=0|c[Fe+964>>2],c[Ce>>2]=M,(0|ge)<=0||(c[M>>2]=Z+(c[c[(O=Fe+968|0)>>2]>>2]<<2),(0|ge)==1))break;for(M=1;c[(0|c[Ce>>2])+(M<<2)>>2]=Z+(c[(0|c[O>>2])+(M<<2)>>2]<<2),(0|(M=M+1|0))!=(0|ge););}else{if((0|c[wr+20>>2])<=0)break;nr=kt+948|0,wr=kt+952|0,qt=ft+612|0,vr=kt+1032|0,Pr=kt+1036|0,st=kt+1132|0,gt=ft+616|0,Et=0;do{if(M=0|c[(0|c[nr>>2])+(Et<<2)>>2],be=(_=0|c[(0|c[wr>>2])+(Et<<2)>>2])+M|0,x=0|c[(0|c[qt>>2])+(Et<<2)>>2],0<(0|_)){Ne=0|c[vr>>2],Fe=0|c[Pr>>2],Te=M,M=0;do if(O=0|c[Ne+(Te<<2)>>2],Ge=(_=0|c[Fe+(Te<<2)>>2])+O|0,0<(0|_)){Ce=0|c[st>>2];do{Xe=+fe[Ce+(O<<2)>>2],Z=x+(M<<2)|0;e:do if(0<(0|M))for(ge=x;;){if(+fe[ge>>2]==Xe)break e;if(Z>>>0<=(ge=ge+4|0)>>>0){tn=146;break}}else tn=146;while(0)}while((0|tn)==146&&(tn=0,fe[Z>>2]=Xe,M=M+1|0),(0|(O=O+1|0))<(0|Ge))}while((0|(Te=Te+1|0))<(0|be))}else M=0;(function(ai,zn){ai|=0;var hi=0,nn=0,Do=0,Rd=0,yp=0,$d=0,Ma=0,Es=0,wm=0,Sm=0;we=(Sm=we)+208|0,Do=(zn|=0)<<2,c[($d=Es=(Ma=Sm)+192|0)>>2]=1,c[$d+4>>2]=0;e:do if(0|Do){for(c[Ma+4>>2]=4,c[Ma>>2]=4,hi=zn=4,nn=2;zn=zn+4+hi|0,(c[Ma+(nn<<2)>>2]=zn)>>>0<Do>>>0;)$d=hi,hi=zn,nn=nn+1|0,zn=$d;if(ai>>>0<(Rd=ai+Do+-4|0)>>>0){yp=Rd,$d=4+Es|0,hi=ai,nn=zn=1;do do if((3&zn|0)!=3){if((0|c[Ma+((Do=nn+-1|0)<<2)>>2])>>>0<(yp-hi|0)>>>0?$l(hi,nn,Ma):kd(hi,zn,0|c[$d>>2],nn,0,Ma),(0|nn)==1){Id(Es,1),nn=0;break}Id(Es,Do),nn=1;break}while($l(hi,nn,Ma),Sc(Es,2),nn=nn+2|0,0);while(zn=1|c[Es>>2],c[Es>>2]=zn,(hi=hi+4|0)>>>0<Rd>>>0);Do=0|c[(Rd=$d)>>2]}else Rd=4+Es|0,Do=0,hi=ai,nn=zn=1;for(kd(hi,zn,Do,nn,0,Ma),Do=4+Es|0;;){if((0|nn)==1&(0|zn)==1){if(!(0|c[Do>>2]))break e;wm=21}else(0|nn)<2?wm=21:(Id(Es,2),ai=nn+-2|0,c[Es>>2]=7^c[Es>>2],Sc(Es,1),kd(hi+(0-(0|c[Ma+(ai<<2)>>2]))+-4|0,0|c[Es>>2],0|c[Rd>>2],nn+-1|0,1,Ma),Id(Es,1),zn=1|c[Es>>2],c[Es>>2]=zn,kd(hi=hi+-4|0,zn,0|c[Rd>>2],ai,1,Ma),nn=ai);(0|wm)==21&&(ai=(wm=0)|Uf(Es),Sc(Es,ai),zn=0|c[Es>>2],hi=hi+-4|0,nn=ai+nn|0)}}while(0);we=Sm})(x,M),c[(0|c[gt>>2])+(Et<<2)>>2]=M,Et=Et+1|0}while((0|Et)<(0|c[20+(0|c[br>>2])>>2]))}while(0);return eo(ft),we=ms,0|ft}function Ur(_,x){return 0|((_=+fe[(_|=0)>>2])<(x=+fe[(x|=0)>>2])?-1:x<_&1)}function Qr(_){var x=0|Le[(_|=0)+4>>0];c[_+704>>2]=_+(0|c[_+64>>2]),c[_+708>>2]=_+(0|c[_+68>>2]),c[_+712>>2]=_+(0|c[_+72>>2]),c[_+716>>2]=_+(0|c[_+76>>2]),c[_+720>>2]=_+(0|c[_+80>>2]),c[_+724>>2]=_+(0|c[_+84>>2]),c[_+728>>2]=_+(0|c[_+88>>2]),c[_+732>>2]=_+(0|c[_+92>>2]),c[_+736>>2]=_+(0|c[_+96>>2]),c[_+740>>2]=_+(0|c[_+100>>2]),c[_+744>>2]=_+(0|c[_+104>>2]),c[_+748>>2]=_+(0|c[_+108>>2]),c[_+752>>2]=_+(0|c[_+112>>2]),c[_+756>>2]=_+(0|c[_+116>>2]),c[_+760>>2]=_+(0|c[_+120>>2]),c[_+764>>2]=_+(0|c[_+124>>2]),c[_+768>>2]=_+(0|c[_+128>>2]),c[_+772>>2]=_+(0|c[_+132>>2]),c[_+776>>2]=_+(0|c[_+136>>2]),c[_+780>>2]=_+(0|c[_+140>>2]),c[_+784>>2]=_+(0|c[_+144>>2]),c[_+788>>2]=_+(0|c[_+148>>2]),c[_+796>>2]=_+(0|c[_+152>>2]),c[_+800>>2]=_+(0|c[_+156>>2]),c[_+804>>2]=_+(0|c[_+160>>2]),c[_+812>>2]=_+(0|c[_+164>>2]),c[_+816>>2]=_+(0|c[_+168>>2]),c[_+820>>2]=_+(0|c[_+172>>2]),c[_+828>>2]=_+(0|c[_+176>>2]),c[_+832>>2]=_+(0|c[_+180>>2]),c[_+836>>2]=_+(0|c[_+184>>2]),c[_+840>>2]=_+(0|c[_+188>>2]),c[_+844>>2]=_+(0|c[_+192>>2]),c[_+848>>2]=_+(0|c[_+196>>2]),c[_+852>>2]=_+(0|c[_+200>>2]),c[_+856>>2]=_+(0|c[_+204>>2]),c[_+860>>2]=_+(0|c[_+208>>2]),c[_+868>>2]=_+(0|c[_+212>>2]),c[_+872>>2]=_+(0|c[_+216>>2]),c[_+876>>2]=_+(0|c[_+220>>2]),c[_+880>>2]=_+(0|c[_+224>>2]),c[_+884>>2]=_+(0|c[_+228>>2]),c[_+888>>2]=_+(0|c[_+232>>2]),c[_+892>>2]=_+(0|c[_+236>>2]),c[_+896>>2]=_+(0|c[_+240>>2]),c[_+900>>2]=_+(0|c[_+244>>2]),c[_+904>>2]=_+(0|c[_+248>>2]),c[_+908>>2]=_+(0|c[_+252>>2]),c[_+912>>2]=_+(0|c[_+256>>2]),c[_+916>>2]=_+(0|c[_+260>>2]),c[_+920>>2]=_+(0|c[_+264>>2]),c[_+924>>2]=_+(0|c[_+268>>2]),c[_+928>>2]=_+(0|c[_+272>>2]),c[_+932>>2]=_+(0|c[_+276>>2]),c[_+936>>2]=_+(0|c[_+280>>2]),c[_+940>>2]=_+(0|c[_+284>>2]),c[_+948>>2]=_+(0|c[_+288>>2]),c[_+952>>2]=_+(0|c[_+292>>2]),c[_+976>>2]=_+(0|c[_+296>>2]),c[_+980>>2]=_+(0|c[_+300>>2]),c[_+984>>2]=_+(0|c[_+304>>2]),c[_+988>>2]=_+(0|c[_+308>>2]),c[_+992>>2]=_+(0|c[_+312>>2]),c[_+996>>2]=_+(0|c[_+316>>2]),c[_+1e3>>2]=_+(0|c[_+320>>2]),c[_+1004>>2]=_+(0|c[_+324>>2]),c[_+1008>>2]=_+(0|c[_+328>>2]),c[_+1012>>2]=_+(0|c[_+332>>2]),c[_+1016>>2]=_+(0|c[_+336>>2]),c[_+1020>>2]=_+(0|c[_+340>>2]),c[_+1024>>2]=_+(0|c[_+344>>2]),c[_+1028>>2]=_+(0|c[_+348>>2]),c[_+1040>>2]=_+(0|c[_+352>>2]),c[_+1044>>2]=_+(0|c[_+356>>2]),c[_+1048>>2]=_+(0|c[_+360>>2]),c[_+1032>>2]=_+(0|c[_+364>>2]),c[_+1036>>2]=_+(0|c[_+368>>2]),c[_+1132>>2]=_+(0|c[_+372>>2]),c[_+1136>>2]=_+(0|c[_+376>>2]),c[_+1140>>2]=_+(0|c[_+380>>2]),c[_+1144>>2]=_+(0|c[_+384>>2]),c[_+1148>>2]=_+(0|c[_+388>>2]),c[_+1152>>2]=_+(0|c[_+392>>2]),c[_+1156>>2]=_+(0|c[_+396>>2]),c[_+1160>>2]=_+(0|c[_+400>>2]),c[_+1164>>2]=_+(0|c[_+404>>2]),c[_+1168>>2]=_+(0|c[_+408>>2]),c[_+1172>>2]=_+(0|c[_+412>>2]),c[_+1176>>2]=_+(0|c[_+416>>2]),c[_+1180>>2]=_+(0|c[_+420>>2]),c[_+1184>>2]=_+(0|c[_+424>>2]),c[_+1188>>2]=_+(0|c[_+428>>2]),c[_+1192>>2]=_+(0|c[_+432>>2]),c[_+1196>>2]=_+(0|c[_+436>>2]),c[_+1200>>2]=_+(0|c[_+440>>2]),c[_+1204>>2]=_+(0|c[_+444>>2]),c[_+1208>>2]=_+(0|c[_+448>>2]),c[_+1212>>2]=_+(0|c[_+452>>2]),c[_+1216>>2]=_+(0|c[_+456>>2]),c[_+1220>>2]=_+(0|c[_+460>>2]),c[_+1224>>2]=_+(0|c[_+464>>2]),(255&x)<=1||(c[_+808>>2]=_+(0|c[_+468>>2]),(255&x)<=3||(c[_+964>>2]=_+(0|c[_+472>>2]),c[_+968>>2]=_+(0|c[_+476>>2]),c[_+972>>2]=_+(0|c[_+480>>2]),c[_+792>>2]=_+(0|c[_+484>>2]),c[_+824>>2]=_+(0|c[_+488>>2]),c[_+864>>2]=_+(0|c[_+492>>2]),c[_+1228>>2]=_+(0|c[_+496>>2]),c[_+1232>>2]=_+(0|c[_+500>>2]),c[_+1236>>2]=_+(0|c[_+504>>2]),c[_+1240>>2]=_+(0|c[_+508>>2]),c[_+1244>>2]=_+(0|c[_+512>>2]),c[_+1248>>2]=_+(0|c[_+516>>2]),c[_+944>>2]=_+(0|c[_+520>>2]),c[_+956>>2]=_+(0|c[_+524>>2]),c[_+960>>2]=_+(0|c[_+528>>2]),c[_+1052>>2]=_+(0|c[_+532>>2]),c[_+1056>>2]=_+(0|c[_+536>>2]),c[_+1060>>2]=_+(0|c[_+540>>2]),c[_+1064>>2]=_+(0|c[_+544>>2]),c[_+1068>>2]=_+(0|c[_+548>>2]),c[_+1072>>2]=_+(0|c[_+552>>2]),c[_+1076>>2]=_+(0|c[_+556>>2]),c[_+1080>>2]=_+(0|c[_+560>>2]),c[_+1084>>2]=_+(0|c[_+564>>2]),c[_+1088>>2]=_+(0|c[_+568>>2]),c[_+1092>>2]=_+(0|c[_+572>>2]),c[_+1096>>2]=_+(0|c[_+576>>2]),c[_+1100>>2]=_+(0|c[_+580>>2]),c[_+1104>>2]=_+(0|c[_+584>>2]),c[_+1108>>2]=_+(0|c[_+588>>2]),c[_+1112>>2]=_+(0|c[_+592>>2]),c[_+1116>>2]=_+(0|c[_+596>>2]),c[_+1120>>2]=_+(0|c[_+600>>2]),c[_+1124>>2]=_+(0|c[_+604>>2]),c[_+1128>>2]=_+(0|c[_+608>>2])))}function rn(_){_|=0;var x,O,oe,W=0,I=0,re=0,G=0,z=0,M=0,Z=0,ge=0,Ce=0,Ge=0,Te=0,Ne=we;if(we=we+32|0,I=Ne+24|0,c[(Te=Ne)>>2]=4,c[Te+4>>2]=2,c[Te+8>>2]=2,function(Fe,be){Fe|=0,be|=0;var st=0,gt=0;we=(Fe=we)+272|0,st=Fe+16|0,c[(gt=Fe)>>2]=be,aa(st,993,gt),function(Xe){Xe|=0;var Et=0,qt=0;we=(Et=we)+16|0,c[(qt=Et)>>2]=Xe,function(vr,Pr,nr){vr|=0,Pr|=0,nr|=0,we=(Pr=we)+16|0,c[(vr=Pr)>>2]=nr,Ho(496,2518,vr),we=Pr}(0,0,qt),we=Et}(st),we=Fe}(0,Te),0|wc(_))return _r(0,1038,Ne+16|0),we=Ne,(Te=0)|Te;if(4<(255&(W=0|Le[(re=_+4|0)>>0])))return c[I>>2]=4,c[I+4>>2]=255&W,_r(0,1101,I),we=Ne,(Te=0)|Te;if(0|Le[(W=_+5|0)>>0]?(Xn(re,1),Pt(_+64|0,4,160),Le[W>>0]=0,Qr(_),W=0|Le[re>>0],Pt(0|c[(I=_+704|0)>>2],4,32),Xn(0|c[(Te=_+708|0)>>2],4),Xn(4+(0|c[Te>>2])|0,4),Xn(8+(0|c[Te>>2])|0,4),Xn(12+(0|c[Te>>2])|0,4),Xn(16+(0|c[Te>>2])|0,4),Xn(20+(0|c[Te>>2])|0,1),Pt(0|c[_+720>>2],4,0|c[c[I>>2]>>2]),Pt(0|c[_+724>>2],4,0|c[c[I>>2]>>2]),Pt(0|c[_+728>>2],4,0|c[c[I>>2]>>2]),Pt(0|c[_+732>>2],4,0|c[c[I>>2]>>2]),Pt(0|c[_+736>>2],4,0|c[c[I>>2]>>2]),Pt(0|c[_+740>>2],4,0|c[c[I>>2]>>2]),Pt(0|c[_+752>>2],4,0|c[4+(0|c[I>>2])>>2]),Pt(0|c[_+756>>2],4,0|c[4+(0|c[I>>2])>>2]),Pt(0|c[_+760>>2],4,0|c[4+(0|c[I>>2])>>2]),Pt(0|c[_+764>>2],4,0|c[4+(0|c[I>>2])>>2]),Pt(0|c[_+768>>2],4,0|c[4+(0|c[I>>2])>>2]),Pt(0|c[_+772>>2],4,0|c[4+(0|c[I>>2])>>2]),Pt(0|c[_+776>>2],4,0|c[4+(0|c[I>>2])>>2]),Pt(0|c[_+780>>2],4,0|c[8+(0|c[I>>2])>>2]),Pt(0|c[_+784>>2],4,0|c[8+(0|c[I>>2])>>2]),Pt(0|c[_+788>>2],4,0|c[8+(0|c[I>>2])>>2]),Pt(0|c[_+796>>2],4,0|c[8+(0|c[I>>2])>>2]),Pt(0|c[_+800>>2],4,0|c[8+(0|c[I>>2])>>2]),Pt(0|c[_+804>>2],4,0|c[8+(0|c[I>>2])>>2]),Pt(0|c[_+812>>2],4,0|c[12+(0|c[I>>2])>>2]),Pt(0|c[_+816>>2],4,0|c[12+(0|c[I>>2])>>2]),Pt(0|c[_+820>>2],4,0|c[12+(0|c[I>>2])>>2]),Pt(0|c[_+828>>2],4,0|c[12+(0|c[I>>2])>>2]),Pt(0|c[_+852>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+856>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+860>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+868>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+872>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+876>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+880>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+884>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+888>>2],1,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+892>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+896>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+900>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+904>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+908>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+912>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+924>>2],4,0|c[20+(0|c[I>>2])>>2]),Pt(0|c[_+928>>2],4,0|c[20+(0|c[I>>2])>>2]),Pt(0|c[_+932>>2],4,0|c[20+(0|c[I>>2])>>2]),Pt(0|c[_+936>>2],4,0|c[20+(0|c[I>>2])>>2]),Pt(0|c[_+940>>2],4,0|c[20+(0|c[I>>2])>>2]),Pt(0|c[_+948>>2],4,0|c[20+(0|c[I>>2])>>2]),Pt(0|c[_+952>>2],4,0|c[20+(0|c[I>>2])>>2]),Pt(0|c[_+976>>2],4,0|c[24+(0|c[I>>2])>>2]),Pt(0|c[_+980>>2],4,0|c[28+(0|c[I>>2])>>2]),Pt(0|c[_+984>>2],4,0|c[28+(0|c[I>>2])>>2]),Pt(0|c[_+988>>2],4,0|c[32+(0|c[I>>2])>>2]),Pt(0|c[_+992>>2],4,0|c[32+(0|c[I>>2])>>2]),Pt(0|c[_+996>>2],4,0|c[32+(0|c[I>>2])>>2]),Pt(0|c[_+1e3>>2],4,0|c[32+(0|c[I>>2])>>2]),Pt(0|c[_+1004>>2],4,0|c[32+(0|c[I>>2])>>2]),Pt(0|c[_+1008>>2],4,0|c[32+(0|c[I>>2])>>2]),Pt(0|c[_+1012>>2],4,0|c[32+(0|c[I>>2])>>2]),Pt(0|c[_+1016>>2],4,0|c[36+(0|c[I>>2])>>2]),Pt(0|c[_+1020>>2],4,0|c[36+(0|c[I>>2])>>2]),Pt(0|c[_+1024>>2],4,0|c[36+(0|c[I>>2])>>2]),Pt(0|c[_+1028>>2],4,0|c[40+(0|c[I>>2])>>2]),Pt(0|c[_+1040>>2],4,0|c[44+(0|c[I>>2])>>2]),Pt(0|c[_+1044>>2],4,0|c[48+(0|c[I>>2])>>2]),Pt(0|c[_+1048>>2],4,0|c[48+(0|c[I>>2])>>2]),Pt(0|c[_+1032>>2],4,0|c[52+(0|c[I>>2])>>2]),Pt(0|c[_+1036>>2],4,0|c[52+(0|c[I>>2])>>2]),Pt(0|c[_+1132>>2],4,0|c[56+(0|c[I>>2])>>2]),Pt(0|c[_+1136>>2],4,0|c[60+(0|c[I>>2])>>2]),Pt(0|c[_+1140>>2],2,0|c[64+(0|c[I>>2])>>2]),Pt(0|c[_+1144>>2],4,0|c[68+(0|c[I>>2])>>2]),Pt(0|c[_+1148>>2],4,0|c[72+(0|c[I>>2])>>2]),Pt(0|c[_+1152>>2],4,0|c[72+(0|c[I>>2])>>2]),Pt(0|c[_+1156>>2],4,0|c[72+(0|c[I>>2])>>2]),Pt(0|c[_+1160>>2],4,0|c[72+(0|c[I>>2])>>2]),Pt(0|c[_+1164>>2],4,0|c[72+(0|c[I>>2])>>2]),Pt(0|c[_+1168>>2],4,0|c[76+(0|c[I>>2])>>2]),Pt(0|c[_+1172>>2],4,0|c[76+(0|c[I>>2])>>2]),Pt(0|c[_+1176>>2],4,0|c[76+(0|c[I>>2])>>2]),Pt(0|c[_+1188>>2],4,0|c[80+(0|c[I>>2])>>2]),Pt(0|c[_+1192>>2],4,0|c[80+(0|c[I>>2])>>2]),Pt(0|c[_+1196>>2],4,0|c[80+(0|c[I>>2])>>2]),Pt(0|c[_+1200>>2],4,0|c[80+(0|c[I>>2])>>2]),Pt(0|c[_+1204>>2],4,0|c[80+(0|c[I>>2])>>2]),Pt(0|c[_+1208>>2],4,0|c[80+(0|c[I>>2])>>2]),Pt(0|c[_+1212>>2],4,0|c[80+(0|c[I>>2])>>2]),Pt(0|c[_+1216>>2],4,0|c[84+(0|c[I>>2])>>2]),Pt(0|c[_+1220>>2],2,0|c[84+(0|c[I>>2])>>2]),Pt(0|c[_+1224>>2],4,0|c[88+(0|c[I>>2])>>2]),1<(255&W)&&(Pt(0|c[_+808>>2],4,0|c[8+(0|c[I>>2])>>2]),3<(255&W))&&(Pt(0|c[_+968>>2],4,0|c[20+(0|c[I>>2])>>2]),Pt(0|c[_+972>>2],4,0|c[20+(0|c[I>>2])>>2]),Pt(0|c[_+792>>2],4,0|c[8+(0|c[I>>2])>>2]),Pt(0|c[_+824>>2],4,0|c[12+(0|c[I>>2])>>2]),Pt(0|c[_+864>>2],4,0|c[16+(0|c[I>>2])>>2]),Pt(0|c[_+1228>>2],4,0|c[92+(0|c[I>>2])>>2]),Pt(0|c[_+1232>>2],4,0|c[92+(0|c[I>>2])>>2]),Pt(0|c[_+1236>>2],4,0|c[92+(0|c[I>>2])>>2]),Pt(0|c[_+1240>>2],4,0|c[96+(0|c[I>>2])>>2]),Pt(0|c[_+1244>>2],4,0|c[96+(0|c[I>>2])>>2]),Pt(0|c[_+1248>>2],4,0|c[96+(0|c[I>>2])>>2]),Pt(0|c[_+944>>2],4,0|c[20+(0|c[I>>2])>>2]),Pt(0|c[_+956>>2],4,0|c[20+(0|c[I>>2])>>2]),Pt(0|c[_+960>>2],4,0|c[20+(0|c[I>>2])>>2]),Pt(0|c[_+1052>>2],4,0|c[100+(0|c[I>>2])>>2]),Pt(0|c[_+1056>>2],4,0|c[100+(0|c[I>>2])>>2]),Pt(0|c[_+1060>>2],4,0|c[100+(0|c[I>>2])>>2]),Pt(0|c[_+1064>>2],4,0|c[104+(0|c[I>>2])>>2]),Pt(0|c[_+1068>>2],4,0|c[104+(0|c[I>>2])>>2]),Pt(0|c[_+1072>>2],4,0|c[104+(0|c[I>>2])>>2]),Pt(0|c[_+1076>>2],4,0|c[104+(0|c[I>>2])>>2]),Pt(0|c[_+1080>>2],4,0|c[104+(0|c[I>>2])>>2]),Pt(0|c[_+1084>>2],4,0|c[108+(0|c[I>>2])>>2]),Pt(0|c[_+1088>>2],4,0|c[108+(0|c[I>>2])>>2]),Pt(0|c[_+1092>>2],4,0|c[108+(0|c[I>>2])>>2]),Pt(0|c[_+1096>>2],4,0|c[112+(0|c[I>>2])>>2]),Pt(0|c[_+1100>>2],4,0|c[112+(0|c[I>>2])>>2]),Pt(0|c[_+1104>>2],4,0|c[112+(0|c[I>>2])>>2]),Pt(0|c[_+1108>>2],4,0|c[116+(0|c[I>>2])>>2]),Pt(0|c[_+1112>>2],4,0|c[120+(0|c[I>>2])>>2]),Pt(0|c[_+1116>>2],4,0|c[120+(0|c[I>>2])>>2]),Pt(0|c[_+1120>>2],4,0|c[120+(0|c[I>>2])>>2]),Pt(0|c[_+1124>>2],4,0|c[124+(0|c[I>>2])>>2]),Pt(0|c[_+1128>>2],4,0|c[124+(0|c[I>>2])>>2]))):(Qr(_),I=_+704|0),0|c[905]||(c[905]=1),W=0|c[I>>2],0<(0|c[W>>2]))for(re=_+716|0,G=_+712|0,z=0;c[(0|c[G>>2])+(z<<2)>>2]=(0|c[re>>2])+(z<<6),W=0|c[I>>2],(0|(z=z+1|0))<(0|c[W>>2]););if(0<(0|c[W+4>>2]))for(re=_+748|0,G=_+744|0,z=0;c[(0|c[G>>2])+(z<<2)>>2]=(0|c[re>>2])+(z<<6),W=0|c[I>>2],(0|(z=z+1|0))<(0|c[W+4>>2]););if(0<(0|c[W+16>>2]))for(M=_+848|0,Z=_+832|0,Ge=_+1136|0,oe=_+896|0,Ce=_+836|0,ge=_+1140|0,x=_+900|0,O=_+840|0,re=_+1144|0,G=_+908|0,z=_+844|0,Te=0;c[(0|c[Z>>2])+(Te<<2)>>2]=(0|c[M>>2])+(Te<<6),c[(0|c[Ce>>2])+(Te<<2)>>2]=(0|c[Ge>>2])+(c[(0|c[oe>>2])+(Te<<2)>>2]<<2),c[(0|c[O>>2])+(Te<<2)>>2]=(0|c[ge>>2])+(c[(0|c[x>>2])+(Te<<2)>>2]<<1),c[(0|c[z>>2])+(Te<<2)>>2]=(0|c[re>>2])+(c[(0|c[G>>2])+(Te<<2)>>2]<<2),W=0|c[I>>2],(0|(Te=Te+1|0))<(0|c[W+16>>2]););if(0<(0|c[W+20>>2]))for(re=_+920|0,G=_+916|0,z=0;c[(0|c[G>>2])+(z<<2)>>2]=(0|c[re>>2])+(z<<6),W=0|c[I>>2],(0|(z=z+1|0))<(0|c[W+20>>2]););if(0<(0|c[W+80>>2]))for(re=_+1184|0,G=_+1180|0,z=0;c[(0|c[G>>2])+(z<<2)>>2]=(0|c[re>>2])+(z<<6),W=0|c[I>>2],(0|(z=z+1|0))<(0|c[W+80>>2]););if(1&Le[20+(0|c[_+708>>2])>>0]||(0|(ge=0|c[W+16>>2]))<=0)return we=Ne,0|(Te=_);W=0|c[_+1140>>2],I=0|c[_+900>>2],re=0|c[_+904>>2],z=0;do if(G=W+(c[I+(z<<2)>>2]<<1)|0,Z=(Te=0|c[re+(z<<2)>>2])+-1|0,1<(0|Te))for(M=0;Ge=0|rr[(Ce=G+(M<<1)|0)>>1],rr[Ce>>1]=0|rr[(Te=G+(M+2<<1)|0)>>1],rr[Te>>1]=Ge,(0|(M=M+3|0))<(0|Z););while((0|(z=z+1|0))!=(0|ge));I=0|c[_+1136>>2],re=0|c[_+896>>2],G=0|c[_+892>>2],M=0;do if(z=(W=I+(c[re+(M<<2)>>2]<<2)|0)+((Te=0|c[G+(M<<2)>>2])<<1<<2)|0,0<(0|Te))for(W=W+4|0;fe[W>>2]=1-+fe[W>>2],(W=W+8|0)>>>0<z>>>0;);while((0|(M=M+1|0))!=(0|ge));return we=Ne,0|_}function en(_){var x=we;return we=we+16|0,0|wc(_|=0)?(_r(0,1210,x),we=x,(_=0)|_):(_=0|xr[_+4>>0],we=x,0|_)}function bn(_){var x,O,oe,W,Z=0,M=0,I=0,re=0,G=0,z=0,M=(_|=0)+64|0,Z=_+144|0;if(ar(M,0|c[_+88>>2],0|c[_+148>>2],0|c[Z>>2]),cn(M,0|c[_+92>>2],0|c[_+152>>2],0|c[796+(0|c[_>>2])>>2],2,0|c[Z>>2]),!((0|xr[4+(0|c[_>>2])>>0])<4||(ar(M,0|c[_+96>>2],0|c[(W=_+120|0)>>2],0|c[Z>>2]),ar(M,0|c[_+100>>2],0|c[(I=_+124|0)>>2],0|c[Z>>2]),ar(M,0|c[_+104>>2],0|c[(re=_+128|0)>>2],0|c[Z>>2]),ar(M,0|c[_+108>>2],0|c[(x=_+132|0)>>2],0|c[Z>>2]),ar(M,0|c[_+112>>2],0|c[(O=_+136|0)>>2],0|c[Z>>2]),ar(M,0|c[_+116>>2],0|c[(oe=_+140|0)>>2],0|c[Z>>2]),Z=0|c[_+156>>2],M=0|c[W>>2],I=0|c[I>>2],re=0|c[re>>2],(0|(W=0|c[_+56>>2]))<=0))){for(z=G=0;c[Z+(G<<2)>>2]=c[M+(z<<2)>>2],c[Z+((1|G)<<2)>>2]=c[I+(z<<2)>>2],c[Z+((2|G)<<2)>>2]=c[re+(z<<2)>>2],(0|(z=z+1|0))!=(0|W);)G=G+4|0;for(z=0|c[_+160>>2],G=0|c[x>>2],re=0|c[O>>2],Z=0|c[oe>>2],I=M=0;c[z+(M<<2)>>2]=c[G+(I<<2)>>2],c[z+((1|M)<<2)>>2]=c[re+(I<<2)>>2],c[z+((2|M)<<2)>>2]=c[Z+(I<<2)>>2],(0|(I=I+1|0))!=(0|W);)M=M+4|0}}function $r(_){var x,O,oe,W,Z=0,M=0,I=0,re=0,G=0,z=0,M=(_|=0)+172|0,Z=_+264|0;if(ar(M,0|c[_+196>>2],0|c[_+268>>2],0|c[Z>>2]),ar(M,0|c[_+200>>2],0|c[_+284>>2],0|c[Z>>2]),ar(M,0|c[_+204>>2],0|c[_+276>>2],0|c[Z>>2]),ar(M,0|c[_+208>>2],0|c[_+280>>2],0|c[Z>>2]),ar(M,0|c[_+212>>2],0|c[_+272>>2],0|c[Z>>2]),!((0|xr[4+(0|c[_>>2])>>0])<4||(ar(M,0|c[_+216>>2],0|c[(W=_+240|0)>>2],0|c[Z>>2]),ar(M,0|c[_+220>>2],0|c[(I=_+244|0)>>2],0|c[Z>>2]),ar(M,0|c[_+224>>2],0|c[(re=_+248|0)>>2],0|c[Z>>2]),ar(M,0|c[_+228>>2],0|c[(x=_+252|0)>>2],0|c[Z>>2]),ar(M,0|c[_+232>>2],0|c[(O=_+256|0)>>2],0|c[Z>>2]),ar(M,0|c[_+236>>2],0|c[(oe=_+260|0)>>2],0|c[Z>>2]),Z=0|c[_+296>>2],M=0|c[W>>2],I=0|c[I>>2],re=0|c[re>>2],(0|(W=0|c[_+164>>2]))<=0))){for(z=G=0;c[Z+(G<<2)>>2]=c[M+(z<<2)>>2],c[Z+((1|G)<<2)>>2]=c[I+(z<<2)>>2],c[Z+((2|G)<<2)>>2]=c[re+(z<<2)>>2],(0|(z=z+1|0))!=(0|W);)G=G+4|0;for(z=0|c[_+300>>2],G=0|c[x>>2],re=0|c[O>>2],Z=0|c[oe>>2],I=M=0;c[z+(M<<2)>>2]=c[G+(I<<2)>>2],c[z+((1|M)<<2)>>2]=c[re+(I<<2)>>2],c[z+((2|M)<<2)>>2]=c[Z+(I<<2)>>2],(0|(I=I+1|0))!=(0|W);)M=M+4|0}}function Gr(_){var x,O,oe,W,Z=0,M=0,I=0,re=0,G=0,z=0,M=(_|=0)+340|0,Z=_+424|0;if(ar(M,0|c[_+364>>2],0|c[_+448>>2],0|c[Z>>2]),Lr(M,0|c[_+368>>2],0|c[_+440>>2],0|c[Z>>2]),cn(M,0|c[_+372>>2],0|c[_+444>>2],0|c[892+(0|c[_>>2])>>2],2,0|c[Z>>2]),!((0|xr[4+(0|c[_>>2])>>0])<4||(ar(M,0|c[_+376>>2],0|c[(W=_+400|0)>>2],0|c[Z>>2]),ar(M,0|c[_+380>>2],0|c[(I=_+404|0)>>2],0|c[Z>>2]),ar(M,0|c[_+384>>2],0|c[(re=_+408|0)>>2],0|c[Z>>2]),ar(M,0|c[_+388>>2],0|c[(x=_+412|0)>>2],0|c[Z>>2]),ar(M,0|c[_+392>>2],0|c[(O=_+416|0)>>2],0|c[Z>>2]),ar(M,0|c[_+396>>2],0|c[(oe=_+420|0)>>2],0|c[Z>>2]),Z=0|c[_+452>>2],M=0|c[W>>2],I=0|c[I>>2],re=0|c[re>>2],(0|(W=0|c[_+332>>2]))<=0))){for(z=G=0;c[Z+(G<<2)>>2]=c[M+(z<<2)>>2],c[Z+((1|G)<<2)>>2]=c[I+(z<<2)>>2],c[Z+((2|G)<<2)>>2]=c[re+(z<<2)>>2],(0|(z=z+1|0))!=(0|W);)G=G+4|0;for(z=0|c[_+456>>2],G=0|c[x>>2],re=0|c[O>>2],Z=0|c[oe>>2],I=M=0;c[z+(M<<2)>>2]=c[G+(I<<2)>>2],c[z+((1|M)<<2)>>2]=c[re+(I<<2)>>2],c[z+((2|M)<<2)>>2]=c[Z+(I<<2)>>2],(0|(I=I+1|0))!=(0|W);)M=M+4|0}}function ar(_,x,O,oe){x|=0,O|=0,oe|=0;var W,I,re,G=0,z=0,M=0,Z=0,ge=0,Ce=0;if(0<(0|(G=0|c[(_|=0)+8>>2])))for(z=0|c[_+20>>2],M=0|c[_+12>>2],Z=0;fe[M+(Z<<2)>>2]=+fe[x+(Z<<2)>>2]*+fe[z+(Z<<2)>>2],(0|(Z=Z+1|0))!=(0|G););if(!((0|(I=0|c[_>>2]))<=0))if(Ce=_+16|0,re=0|c[_+4>>2],W=_+12|0,oe)for(x=Z=0;;){if(0|c[oe>>2]){if(z=(_=0|c[(0|c[Ce>>2])+(x<<2)>>2])+Z|0,0<(0|_))for(G=0|c[W>>2],M=Z,ge=0;ge+=+fe[G+(M<<2)>>2],(0|(M=M+1|0))<(0|z););else ge=0;fe[O+(x<<2)>>2]=ge}if((0|(G=x+1|0))==(0|I))break;oe=oe+4|0,Z=(0|c[re+(x<<2)>>2])+Z|0,x=G}else for(Z=0|c[Ce>>2],_=x=0;;){if(z=(Ce=0|c[Z+(_<<2)>>2])+x|0,0<(0|Ce))for(G=0|c[W>>2],M=x,ge=0;ge+=+fe[G+(M<<2)>>2],(0|(M=M+1|0))<(0|z););else ge=0;if(fe[O+(_<<2)>>2]=ge,(0|(G=_+1|0))==(0|I))break;x=(0|c[re+(_<<2)>>2])+x|0,_=G}}function Lr(_,x,O,oe){x|=0,O|=0,oe|=0;var W,I,re=0,G=0,z=0,M=0,Z=0,ge=0;if(0<(0|(re=0|c[(_|=0)+8>>2])))for(G=0|c[_+20>>2],z=0|c[_+12>>2],M=0;fe[z+(M<<2)>>2]=+fe[x+(M<<2)>>2]*+fe[G+(M<<2)>>2],(0|(M=M+1|0))!=(0|re););if(!((0|(re=0|c[_>>2]))<=0))if(ge=_+16|0,W=0|c[_+4>>2],I=_+12|0,oe)for(x=M=0;;){if(0|c[oe>>2]){if(G=(z=0|c[(0|c[ge>>2])+(x<<2)>>2])+M|0,0<(0|z))for(re=0|c[I>>2],z=M,Z=0;Z+=+fe[re+(z<<2)>>2],(0|(z=z+1|0))<(0|G););else Z=0;c[O+(x<<2)>>2]=~~(Z+.0010000000474974513),re=0|c[_>>2]}if(!((0|(G=x+1|0))<(0|re)))break;oe=oe+4|0,M=(0|c[W+(x<<2)>>2])+M|0,x=G}else for(M=0|c[ge>>2],oe=x=0;;){if(G=(ge=0|c[M+(oe<<2)>>2])+x|0,0<(0|ge))for(re=0|c[I>>2],z=x,Z=0;Z+=+fe[re+(z<<2)>>2],(0|(z=z+1|0))<(0|G););else Z=0;if(c[O+(oe<<2)>>2]=~~(Z+.0010000000474974513),!((0|(re=oe+1|0))<(0|c[_>>2])))break;x=(0|c[W+(oe<<2)>>2])+x|0,oe=re}}function cn(_,x,O,oe,W,I){x|=0,O|=0,oe|=0,W|=0,I|=0;var re,G,z,M,Z,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=0|c[(_|=0)>>2];if(!((0|Xe)<=0))if(M=_+16|0,z=0|c[_+4>>2],G=_+20|0,re=W<<2,I)for(st=be=0;;){if(0|c[I>>2]&&(Te=0|c[O+(st<<2)>>2],_=0|c[oe+(st<<2)>>2],Fe=0|Me(_,W),Ne=(ge=0|c[(0|c[M>>2])+(st<<2)>>2])+be|0,(Ge=0<(0|Fe))&&Da(0|Te,0,0|Me(re,_)),0<(0|ge)&&(gt=0|c[G>>2],Ge))){ge=be;do for(_=0|c[x+(ge<<2)>>2],Ce=+fe[gt+(ge<<2)>>2],Ge=0;fe[(Z=Te+(Ge<<2)|0)>>2]=+fe[Z>>2]+Ce*+fe[_+(Ge<<2)>>2],(0|(Ge=Ge+1|0))!=(0|Fe););while((0|(ge=ge+1|0))<(0|Ne))}if((0|(_=st+1|0))==(0|Xe))break;I=I+4|0,be=(0|c[z+(st<<2)>>2])+be|0,st=_}else for(be=Fe=0;;){if(Ge=0|c[O+(be<<2)>>2],_=0|c[oe+(be<<2)>>2],Ne=0|Me(_,W),Te=(I=0|c[(0|c[M>>2])+(be<<2)>>2])+Fe|0,(ge=0<(0|Ne))&&Da(0|Ge,0,0|Me(re,_)),0<(0|I)&&(st=0|c[G>>2],ge)){I=Fe;do for(_=0|c[x+(I<<2)>>2],Ce=+fe[st+(I<<2)>>2],ge=0;fe[(gt=Ge+(ge<<2)|0)>>2]=+fe[gt>>2]+Ce*+fe[_+(ge<<2)>>2],(0|(ge=ge+1|0))!=(0|Ne););while((0|(I=I+1|0))<(0|Te))}if((0|(_=be+1|0))==(0|Xe))break;Fe=(0|c[z+(be<<2)>>2])+Fe|0,be=_}}function yi(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|function(oe){oe|=0;var W,I,re=we;return we=we+560|0,W=(I=re)+548|0,Da(0|I,0,548),Ei(oe,I,W),we=re,0|c[W>>2]}(_),we=O,0|x):(c[x>>2]=1515,c[x+4>>2]=1533,_r(0,1269,x),we=O,(x=0)|x)}function Ln(_,x,O){x|=0,O|=0;var oe,W,I=0,re=0,G=we;return we=we+32|0,re=G+24|0,W=G+16|0,I=G+8|0,oe=G,(_|=0)?x?((I=x)+15&-16|0)!=(0|I)?(c[W>>2]=1551,c[4+W>>2]=1342,_r(0,1269,W),we=G,(re=0)|re):(x=0|Zr(_,x,O))?(we=G,0|(re=x)):(c[re>>2]=1551,c[re+4>>2]=1577,_r(0,1269,re),we=G,(re=0)|re):(c[I>>2]=1551,c[I+4>>2]=1303,_r(0,1269,I),we=G,(re=0)|re):(c[oe>>2]=1551,c[oe+4>>2]=1533,_r(0,1269,oe),we=G,(re=0)|re)}function an(_,x,O,oe){if(O=+O,oe=+oe,(x=+Ie(+(x=+x),+(_=+_))-+Ie(+oe,+O))<-3.1415927410125732)for(;(x+=6.2831854820251465)<-3.1415927410125732;);if(!(3.1415927410125732<x))return+(O=x);for(;3.1415927410125732<(x+=-6.2831854820251465););return+x}function Xn(_,x){_|=0,x|=0;var O;if(!((x=_+x+-1|0)>>>0<=_>>>0))for(;O=0|Le[_>>0],Le[_>>0]=0|Le[x>>0],_=_+1|0,Le[x>>0]=O,_>>>0<(x=x+-1|0)>>>0;);}function Pt(_,x,O){_|=0,x|=0;var oe,W=0,I=0;if(O|=0)do if(O=O+-1|0,(I=_)>>>0<(W=(_=_+x|0)+-1|0)>>>0)for(;oe=0|Le[I>>0],Le[I>>0]=0|Le[W>>0],I=I+1|0,Le[W>>0]=oe,I>>>0<(W=W+-1|0)>>>0;);while(0|O)}function ls(_){var x,O,oe,W=0,I=0,re=0,G=0,Fe=0,be=0,st=0,z=0,Ne=0,M=0,Z=0,ge=0,Ce=0,Ge=0,Te=(W=0|c[(O=(_|=0)+336|0)>>2])+(20*(z=0|c[(oe=_+332|0)>>2])|0)|0,Ne=_+424|0,Fe=0|c[_+48>>2],be=0|c[_+316>>2],st=0|c[_+308>>2];if(0<(0|z))for(z=0|c[Ne>>2],re=0|c[_+448>>2],G=0|c[_+444>>2];0|c[z>>2]&&((0|(I=0|c[W+4>>2]))!=-1&&(fe[re>>2]=+fe[Fe+(I<<2)>>2]*+fe[re>>2]),(0|(I=0|c[W+8>>2]))!=-1&&(fe[re>>2]=+fe[be+(I<<2)>>2]*+fe[re>>2],Z=0|c[G>>2],Cc[3&c[st+(I<<5)+24>>2]](_,I,Z,Z,0|c[W+16>>2]))),!(Te>>>0<=(W=W+20|0)>>>0);)z=z+4|0,re=re+4|0,G=G+4|0;if(!((0|xr[4+(0|c[_>>2])>>0])<4||(st=(W=0|c[O>>2])+(20*(Z=0|c[oe>>2])|0)|0,Fe=0|c[_+324>>2],be=0|c[_+328>>2],(0|Z)<=0)))for(G=0|c[Ne>>2],I=W,re=0|c[_+452>>2],W=0|c[_+456>>2];0|c[G>>2]&&(0|(M=0|c[I+8>>2]))!=-1&&(ge=+fe[re>>2]*+fe[(oe=Fe+((Ne=M<<2)<<2)|0)>>2],fe[re>>2]=ge,Ce=+fe[(Z=re+4|0)>>2]*+fe[4+oe>>2],fe[Z>>2]=Ce,Ge=+fe[(_=re+8|0)>>2]*+fe[8+oe>>2],fe[re>>2]=ge<0?0:1<ge?1:ge,fe[Z>>2]=Ce<0?0:1<Ce?1:Ce,fe[_>>2]=Ge<0?0:1<Ge?1:Ge,fe[re+12>>2]=1,Ge=+fe[W>>2],Ce=+fe[(Ne=be+(Ne<<2)|0)>>2],fe[W>>2]=Ce=Ge+Ce-Ge*Ce,Ge=+fe[(_=W+4|0)>>2],ge=+fe[Ne+4>>2],fe[_>>2]=ge=Ge+ge-Ge*ge,x=(Ge=+fe[(Z=W+8|0)>>2])+(x=+fe[Ne+8>>2])-Ge*x,fe[W>>2]=Ce<0?0:1<Ce?1:Ce,fe[_>>2]=ge<0?0:1<ge?1:ge,fe[Z>>2]=x<0?0:1<x?1:x,fe[W+12>>2]=1),!(st>>>0<=(I=I+20|0)>>>0);)G=G+4|0,re=re+16|0,W=W+16|0}function mi(_){var x,O=0|c[(_|=0)+332>>2];0|c[_+428>>2]&&(al(0|c[_+460>>2],0|c[_+436>>2],0|(x=O<<2)),al(0|c[_+464>>2],0|c[_+440>>2],0|x),al(0|c[_+468>>2],0|c[_+448>>2],0|x),(0|xr[4+(0|c[_>>2])>>0])<=3||(al(0|c[_+472>>2],0|c[_+452>>2],0|(x=O<<4)),al(0|c[_+476>>2],0|c[_+456>>2],0|x)))}function wi(_){var x,O,oe,W,I,re,G,z,M,Z,ge,Et=0,gt=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0|Le[4+(0|c[(_|=0)>>2])>>0],Xe=0|c[_+332>>2],Et=_+428|0;if(0|c[_+620>>2]){if(!(((c[Et>>2]=0)|Xe)<=0))for(Ge=_+424|0,Te=_+432|0,Et=_+448|0,gt=0;Ce=0|c[(0|c[Ge>>2])+(gt<<2)>>2]&&+fe[(0|c[Et>>2])+(gt<<2)>>2]!=0?127:126,Le[(0|c[Te>>2])+gt>>0]=Ce,(0|(gt=gt+1|0))!=(0|Xe););}else if(0|c[Et>>2]){if(!(((c[Et>>2]=0)|Xe)<=0))if(oe=_+424|0,re=_+432|0,I=_+448|0,z=_+468|0,W=_+440|0,G=_+464|0,Z=_+436|0,M=_+460|0,x=_+452|0,Ne=_+472|0,O=_+456|0,Te=_+476|0,(255&gt)<=3)for(Et=0;Ne=(0|c[(0|c[oe>>2])+(Et<<2)>>2])==0,st=+fe[(0|c[I>>2])+(Et<<2)>>2],be=(0|c[re>>2])+Et|0,Fe=(1&Le[be>>0])==(Fe=st!=0&(1^Ne)&1)<<24>>24?Fe:2|Fe,Fe=st!=+fe[(0|c[z>>2])+(Et<<2)>>2]?4|Fe:Fe,Fe=(0|c[(0|c[W>>2])+(Et<<2)>>2])==(0|c[(0|c[G>>2])+(Et<<2)>>2])?Fe:8|Fe,Fe=(0|c[(0|c[Z>>2])+(Et<<2)>>2])==(0|c[(0|c[M>>2])+(Et<<2)>>2])?Fe:16|Fe,Le[be>>0]=Ne?Fe:32|Fe,(0|(Et=Et+1|0))!=(0|Xe););else for(Ge=Ce=0;ge=(0|c[(0|c[oe>>2])+(Ce<<2)>>2])==0,st=+fe[(0|c[I>>2])+(Ce<<2)>>2],gt=(0|c[re>>2])+Ce|0,Et=(1&Le[gt>>0])==(Et=st!=0&(1^ge)&1)<<24>>24?Et:2|Et,Et=st!=+fe[(0|c[z>>2])+(Ce<<2)>>2]?4|Et:Et,Et=(0|c[(0|c[W>>2])+(Ce<<2)>>2])==(0|c[(0|c[G>>2])+(Ce<<2)>>2])?Et:8|Et,Et=(0|c[(0|c[Z>>2])+(Ce<<2)>>2])==(0|c[(0|c[M>>2])+(Ce<<2)>>2])?Et:16|Et,Et=ge?Et:32|Et,ge=(0|c[x>>2])+(Ge<<2)|0,_=(0|c[Ne>>2])+(Ge<<2)|0,+fe[ge>>2]==+fe[_>>2]&&+fe[4+ge>>2]==+fe[_+4>>2]&&+fe[8+ge>>2]==+fe[_+8>>2]&&+fe[12+ge>>2]==+fe[_+12>>2]&&(Fe=(0|c[O>>2])+(Ge<<2)|0,be=(0|c[Te>>2])+(Ge<<2)|0,+fe[Fe>>2]==+fe[be>>2])&&+fe[Fe+4>>2]==+fe[be+4>>2]&&+fe[Fe+8>>2]==+fe[be+8>>2]&&+fe[Fe+12>>2]==+fe[be+12>>2]||(Et|=64),Le[gt>>0]=Et,(0|(Ce=Ce+1|0))!=(0|Xe);)Ge=Ge+4|0}else if(!((0|Xe)<=0))for(Ce=_+424|0,Ge=_+432|0,Et=_+448|0,gt=0;0|c[(0|c[Ce>>2])+(gt<<2)>>2]&&+fe[(0|c[Et>>2])+(gt<<2)>>2]!=0?(be=(0|c[Ge>>2])+gt|0,Le[be>>0]=1|Le[be>>0]):(be=(0|c[Ge>>2])+gt|0,Le[be>>0]=-2&Le[be>>0]),(0|(gt=gt+1|0))!=(0|Xe););}function Si(_){var x,O,oe,W,I,re,G,gr=0,z=0,M=0,Z=0,ge=0,Ce=0,Ge=0,Cr=0,wn=0,_n=0,pn=0,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=0,Et=0,qt=0,vr=0,Pr=0,nr=0,wr=0,br=0,kt=0,pr=0,Cr=0|c[(re=(_|=0)+60|0)>>2],gr=0|c[_>>2],wn=0|c[gr+784>>2],_n=0|c[(G=_+56|0)>>2],pn=0|c[gr+1028>>2];if(0<(0|_n)){for(st=_+80|0,Et=_+92|0,Xe=_+88|0,qt=_+84|0,gt=gr+984|0,ge=gr+980|0,Ge=Ce=0;;){if(Z=0|c[Cr+(24*Ce|0)>>2],(0|(nr=0|c[(gr=Z+24|0)>>2]||0|c[Z+28>>2]?15:nr))==15&&(c[((nr=0)|c[st>>2])+(Ce<<2)>>2]=c[(be=Z+12|0)>>2],0|c[gr>>2])&&(Te=0|c[wn+(Ce<<2)>>2],vr=(Ne=0|c[Z+16>>2])+((wr=0|c[be>>2])<<2)|0,0<(0|wr)))for(gr=Ne,z=(0|c[Xe>>2])+(Ge<<2)|0,M=(0|c[Et>>2])+(Ge<<2)|0;wr=(0|c[gr>>2])+Te|0,c[M>>2]=pn+(c[(0|c[gt>>2])+(wr<<2)>>2]<<2),c[z>>2]=c[(0|c[ge>>2])+(wr<<2)>>2],!(vr>>>0<=(gr=gr+4|0)>>>0);)z=z+4|0,M=M+4|0;if(0|c[Z+28>>2]&&(Pr=(Fe=0|c[Z+20>>2])+((wr=0|c[Z+12>>2])<<2)|0,0<(0|wr)))for(gr=(0|c[qt>>2])+(Ge<<2)|0,z=Fe;c[gr>>2]=c[z>>2],!(Pr>>>0<=(z=z+4|0)>>>0);)gr=gr+4|0;if((0|(Ce=Ce+1|0))==(0|_n))break;Ge=(0|c[Z+8>>2])+Ge|0}gr=0|c[_>>2]}if(!((0|xr[gr+4>>0])<4||(I=0|c[re>>2],wr=0|c[gr+792>>2],(0|(re=0|c[G>>2]))<=0)))for(O=_+96|0,x=_+100|0,G=_+104|0,W=_+108|0,oe=_+112|0,nr=_+116|0,vr=gr+1228|0,Et=gr+1232|0,Xe=gr+1236|0,Pr=gr+1240|0,qt=gr+1244|0,Cr=gr+1248|0,_n=wn=0;;){if(gr=0|c[I+(24*wn|0)>>2],0|c[gr+24>>2]&&(br=0|c[wr+(wn<<2)>>2],pr=(kt=0|c[gr+16>>2])+((_=0|c[gr+12>>2])<<2)|0,0<(0|_)))for(z=0|c[vr>>2],M=0|c[Et>>2],Z=0|c[Xe>>2],ge=0|c[Pr>>2],Ce=0|c[qt>>2],Ge=0|c[Cr>>2],pn=kt,Te=(0|c[G>>2])+(_n<<2)|0,Ne=(0|c[x>>2])+(_n<<2)|0,Fe=(0|c[O>>2])+(_n<<2)|0,be=(0|c[nr>>2])+(_n<<2)|0,st=(0|c[oe>>2])+(_n<<2)|0,gt=(0|c[W>>2])+(_n<<2)|0;_=(0|c[pn>>2])+br|0,c[Fe>>2]=c[z+(_<<2)>>2],c[Ne>>2]=c[M+(_<<2)>>2],c[Te>>2]=c[Z+(_<<2)>>2],c[gt>>2]=c[ge+(_<<2)>>2],c[st>>2]=c[Ce+(_<<2)>>2],c[be>>2]=c[Ge+(_<<2)>>2],!(pr>>>0<=(pn=pn+4|0)>>>0);)Te=Te+4|0,Ne=Ne+4|0,Fe=Fe+4|0,be=be+4|0,st=st+4|0,gt=gt+4|0;if((0|(wn=wn+1|0))==(0|re))break;_n=(0|c[gr+8>>2])+_n|0}}function Io(_){var x,O,oe,W,I,re,G=0,z=0,M=0,Z=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=0,ms=0,Et=0,qt=0,vr=0,Pr=0,nr=0,wr=0,br=0,kt=0,pr=0,Cr=0,gr=0,wn=0,_n=0,pn=0,ci=0,di=0,Qn=0,In=0,fi=0,Ni=0,oi=0,gi=0,tn=0,Sn=0|c[(_|=0)+168>>2],ft=0|c[_>>2],ms=0|c[816+ft>>2];if(0<(0|(Et=0|c[(re=_+164|0)>>2])))for(pr=_+188|0,nr=_+200|0,_n=_+204|0,ci=_+208|0,W=_+212|0,Cr=_+196|0,I=_+192|0,Pr=992+ft|0,wn=996+ft|0,pn=1e3+ft|0,oe=1004+ft|0,gr=988+ft|0,x=1008+ft|0,wr=_+288|0,O=1012+ft|0,br=_+292|0,In=Qn=0;;){if(qt=0|c[Sn+(12*Qn|0)>>2],(0|(fi=0|c[(G=qt+24|0)>>2]||0|c[qt+28>>2]?14:fi))==14&&(c[((fi=0)|c[pr>>2])+(Qn<<2)>>2]=c[(kt=qt+12|0)>>2],0|c[G>>2])){if(G=0|c[ms+(Qn<<2)>>2],Te=(z=0|c[qt+16>>2])+((Xe=0|c[kt>>2])<<2)|0,0<(0|Xe))for(M=0|c[Pr>>2],Z=0|c[wn>>2],ge=0|c[pn>>2],Ce=0|c[oe>>2],Ge=0|c[gr>>2],Ne=(0|c[nr>>2])+(In<<2)|0,Fe=z,be=(0|c[Cr>>2])+(In<<2)|0,st=(0|c[_n>>2])+(In<<2)|0,gt=(0|c[ci>>2])+(In<<2)|0,Xe=(0|c[W>>2])+(In<<2)|0;tn=(0|c[Fe>>2])+G|0,c[Ne>>2]=c[M+(tn<<2)>>2],c[st>>2]=c[Z+(tn<<2)>>2],c[gt>>2]=c[ge+(tn<<2)>>2],c[Xe>>2]=c[Ce+(tn<<2)>>2],c[be>>2]=c[Ge+(tn<<2)>>2],!(Te>>>0<=(Fe=Fe+4|0)>>>0);)Ne=Ne+4|0,be=be+4|0,st=st+4|0,gt=gt+4|0,Xe=Xe+4|0;tn=(0|c[z>>2])+G|0,c[(0|c[wr>>2])+(Qn<<2)>>2]=c[(0|c[x>>2])+(tn<<2)>>2],c[(0|c[br>>2])+(Qn<<2)>>2]=c[(0|c[O>>2])+(tn<<2)>>2]}if(0|c[qt+28>>2]&&(di=(vr=0|c[qt+20>>2])+((tn=0|c[qt+12>>2])<<2)|0,0<(0|tn)))for(G=(0|c[I>>2])+(In<<2)|0,z=vr;c[G>>2]=c[z>>2],!(di>>>0<=(z=z+4|0)>>>0);)G=G+4|0;if((0|(Qn=Qn+1|0))==(0|Et))break;In=(0|c[qt+8>>2])+In|0}if(!((0|xr[4+ft>>0])<4||(ci=0|c[824+ft>>2],(0|(pr=0|c[re>>2]))<=0)))for(wn=_+216|0,gr=_+220|0,Cr=_+224|0,pn=_+228|0,_n=_+232|0,kt=_+236|0,wr=1228+ft|0,Pr=1232+ft|0,vr=1236+ft|0,br=1240+ft|0,nr=1244+ft|0,Te=1248+ft|0,Fe=Ne=0;;){if(Ge=0|c[Sn+(12*Ne|0)>>2],0|c[Ge+24>>2]&&(oi=0|c[ci+(Ne<<2)>>2],gi=(Ni=0|c[Ge+16>>2])+((tn=0|c[Ge+12>>2])<<2)|0,0<(0|tn)))for(G=0|c[wr>>2],z=0|c[Pr>>2],M=0|c[vr>>2],Z=0|c[br>>2],ge=0|c[nr>>2],Ce=0|c[Te>>2],be=Ni,st=(0|c[Cr>>2])+(Fe<<2)|0,gt=(0|c[gr>>2])+(Fe<<2)|0,Xe=(0|c[wn>>2])+(Fe<<2)|0,ms=(0|c[kt>>2])+(Fe<<2)|0,Et=(0|c[_n>>2])+(Fe<<2)|0,qt=(0|c[pn>>2])+(Fe<<2)|0;tn=(0|c[be>>2])+oi|0,c[Xe>>2]=c[G+(tn<<2)>>2],c[gt>>2]=c[z+(tn<<2)>>2],c[st>>2]=c[M+(tn<<2)>>2],c[qt>>2]=c[Z+(tn<<2)>>2],c[Et>>2]=c[ge+(tn<<2)>>2],c[ms>>2]=c[Ce+(tn<<2)>>2],!(gi>>>0<=(be=be+4|0)>>>0);)st=st+4|0,gt=gt+4|0,Xe=Xe+4|0,ms=ms+4|0,Et=Et+4|0,qt=qt+4|0;if((0|(Ne=Ne+1|0))==(0|pr))break;Fe=(0|c[Ge+8>>2])+Fe|0}}function jo(_){var x,O,oe,W,gr=0,I=0,re=0,G=0,z=0,M=0,Z=0,ge=0,Cr=0,wn=0,_n=0,pn=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=0,Et=0,qt=0,vr=0,Pr=0,nr=0,wr=0,br=0,kt=0,pr=0,Cr=0|c[(oe=(_|=0)+336|0)>>2],gr=0|c[_>>2],wn=0|c[gr+856>>2],_n=0|c[(W=_+332|0)>>2],pn=0|c[gr+1028>>2];if(0<(0|_n)){for(Fe=_+356|0,Et=_+372|0,gt=_+364|0,be=_+368|0,qt=_+360|0,st=gr+1024|0,Xe=gr+1016|0,M=gr+1020|0,ge=Z=0;;){if(z=0|c[Cr+(20*Z|0)>>2],(0|(nr=0|c[(gr=z+24|0)>>2]||0|c[z+28>>2]?15:nr))==15&&(c[((nr=0)|c[Fe>>2])+(Z<<2)>>2]=c[(Ne=z+12|0)>>2],0|c[gr>>2])&&(Ce=0|c[wn+(Z<<2)>>2],vr=(Ge=0|c[z+16>>2])+((wr=0|c[Ne>>2])<<2)|0,0<(0|wr)))for(gr=(0|c[be>>2])+(ge<<2)|0,I=Ge,re=(0|c[gt>>2])+(ge<<2)|0,G=(0|c[Et>>2])+(ge<<2)|0;wr=(0|c[I>>2])+Ce|0,c[G>>2]=pn+(c[(0|c[st>>2])+(wr<<2)>>2]<<2),c[re>>2]=c[(0|c[Xe>>2])+(wr<<2)>>2],c[gr>>2]=c[(0|c[M>>2])+(wr<<2)>>2],!(vr>>>0<=(I=I+4|0)>>>0);)gr=gr+4|0,re=re+4|0,G=G+4|0;if(0|c[z+28>>2]&&(Pr=(Te=0|c[z+20>>2])+((wr=0|c[z+12>>2])<<2)|0,0<(0|wr)))for(gr=(0|c[qt>>2])+(ge<<2)|0,I=Te;c[gr>>2]=c[I>>2],!(Pr>>>0<=(I=I+4|0)>>>0);)gr=gr+4|0;if((0|(Z=Z+1|0))==(0|_n))break;ge=(0|c[z+8>>2])+ge|0}gr=0|c[_>>2]}if(!((0|xr[gr+4>>0])<4||(O=0|c[oe>>2],wr=0|c[gr+864>>2],(0|(vr=0|c[W>>2]))<=0)))for(oe=_+376|0,nr=_+380|0,Pr=_+384|0,x=_+388|0,W=_+392|0,qt=_+396|0,Xe=gr+1228|0,st=gr+1232|0,be=gr+1236|0,Et=gr+1240|0,gt=gr+1244|0,ge=gr+1248|0,wn=Cr=0;;){if(gr=0|c[O+(20*Cr|0)>>2],0|c[gr+24>>2]&&(br=0|c[wr+(Cr<<2)>>2],pr=(kt=0|c[gr+16>>2])+((_=0|c[gr+12>>2])<<2)|0,0<(0|_)))for(I=0|c[Xe>>2],re=0|c[st>>2],G=0|c[be>>2],z=0|c[Et>>2],M=0|c[gt>>2],Z=0|c[ge>>2],_n=kt,pn=(0|c[Pr>>2])+(wn<<2)|0,Ce=(0|c[nr>>2])+(wn<<2)|0,Ge=(0|c[oe>>2])+(wn<<2)|0,Te=(0|c[qt>>2])+(wn<<2)|0,Ne=(0|c[W>>2])+(wn<<2)|0,Fe=(0|c[x>>2])+(wn<<2)|0;_=(0|c[_n>>2])+br|0,c[Ge>>2]=c[I+(_<<2)>>2],c[Ce>>2]=c[re+(_<<2)>>2],c[pn>>2]=c[G+(_<<2)>>2],c[Fe>>2]=c[z+(_<<2)>>2],c[Ne>>2]=c[M+(_<<2)>>2],c[Te>>2]=c[Z+(_<<2)>>2],!(pr>>>0<=(_n=_n+4|0)>>>0);)pn=pn+4|0,Ce=Ce+4|0,Ge=Ge+4|0,Te=Te+4|0,Ne=Ne+4|0,Fe=Fe+4|0;if((0|(Cr=Cr+1|0))==(0|vr))break;wn=(0|c[gr+8>>2])+wn|0}}function eo(_){var x,O,oe,W=0;if(mi(_|=0),function(I){I|=0;var re=0,G=0,z=0,M=0,Z=0,ge=0,Ce=0,Ge=0;if(re=0|c[I+4>>2],Z=0|c[I>>2],ge=re+(52*Z|0)|0,!((0|Z)<=0))for(Z=0|c[I+12>>2];G=+fe[Z>>2],M=(0|c[re+16>>2])==0,I=re+4|0,G=M?(Ge=+fe[I>>2],Ce=+fe[re+8>>2],G<Ge?Ge:Ce<G?Ce:G):(Ge=+fe[re+12>>2],(Ce=+fe[I>>2])+Ge*((G=(G-Ce)/Ge)-(0|~~+B(+G)))),I=re+48|0,+fe[(z=re+44|0)>>2]!=G?(c[I>>2]=1,fe[z>>2]=G):c[I>>2]=0,M&&(fe[Z>>2]=G),!(ge>>>0<=(re=re+52|0)>>>0);)Z=Z+4|0}(_+540|0),function(I){I|=0;var re=0,G=0,z=0,M=0,Z=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=0,Et=0,qt=0,vr=0;if(re=0|c[I+544>>2],Fe=0|c[I+540>>2],Et=re+(52*Fe|0)|0,!((0|Fe)<=0)){Fe=(0|c[I+620>>2])==0;do e:do if(!(0|c[re>>2])&&(be=+fe[re+44>>2],st=+fe[re+20>>2],gt=+fe[re+24>>2],Xe=0|c[re+28>>2],Te=0|c[re+32>>2],qt=Xe+(28*Te|0)|0,0<(0|Te))){if(!Fe)for(Te=Xe;;){Z=0|c[Te>>2];do if(1<=(0|Z)){if(M=0|c[Te+4>>2],z=+fe[M>>2],G=z-st,(0|Z)==1){Z=!(be<st+z)|!(G<be),G=I=0,Ne=41;break}if(be<G){M=Te+16|0,ge=1,G=I=0,Ne=43;break}if(be<st+z)G=I=Z=0,Ne=41;else{for(I=1;G=+fe[M+(I<<2)>>2],!(be<st+G);){if(!((0|(I=I+1|0))<(0|Z))){Ne=40;break}z=G}if((0|Ne)==40){M=Te+16|0,I=Z+-(ge=1)|0,G=0,Ne=43;break}Ne=(G=G-st<be?Z=0:(I=I+-1|0,(G-=z)<gt?Z=0:(Z=0,(be-z)/G)),41)}}else G=I=Z=0,Ne=41;while(0);if((0|Ne)==41&&(Z|(Ne=0)==(0|c[(M=Te+16|0)>>2])?(ge=1&Z,Ne=43):(c[Te+24>>2]=1,c[Te+20>>2]=1,Ge=Te+8|0,Ce=Te+12|0,Z=0)),(0|Ne)==43&&(z=+fe[(Ce=Te+12|(Ne=0))>>2],vr=z!=G,Z=1&((0|c[(Ge=Te+8|0)>>2])!=(0|I)|vr&(G==0|z==0)),c[Te+24>>2]=1&vr,c[Te+20>>2]=Z,Z=ge),fe[Ce>>2]=G,c[Ge>>2]=I,c[M>>2]=Z,qt>>>0<=(Te=Te+28|0)>>>0)break e}if(!(0|c[re+48>>2])){for(I=Xe;;)if(c[I+24>>2]=0,c[I+20>>2]=0,qt>>>0<=(I=I+28|0)>>>0)break e}Te=Xe;do{Z=0|c[Te>>2];do if(1<=(0|Z)){if(M=0|c[Te+4>>2],z=+fe[M>>2],G=z-st,(0|Z)==1){Z=!(be<st+z)|!(G<be),G=I=0,Ne=24;break}if(be<G){M=Te+16|0,ge=1,G=I=0,Ne=26;break}if(be<st+z)G=I=Z=0,Ne=24;else{for(I=1;G=+fe[M+(I<<2)>>2],!(be<st+G);){if(!((0|(I=I+1|0))<(0|Z))){Ne=21;break}z=G}if((0|Ne)==21){M=Te+16|0,I=Z+-(ge=1)|0,G=0,Ne=26;break}Ne=(G=G-st<be?Z=0:(I=I+-1|0,(G-=z)<gt?Z=0:(Z=0,(be-z)/G)),24)}}else G=I=Z=0,Ne=24;while(0)}while((0|Ne)==24&&(Z|(Ne=0)==(0|c[(M=Te+16|0)>>2])?(ge=1&Z,Ne=26):(c[Te+24>>2]=1,c[Te+20>>2]=1,Ge=Te+8|0,Ce=Te+12|0,Z=0)),(0|Ne)==26&&(z=+fe[(Ce=Te+12|(Ne=0))>>2],vr=z!=G,Z=1&((0|c[(Ge=Te+8|0)>>2])!=(0|I)|vr&(G==0|z==0)),c[Te+24>>2]=1&vr,c[Te+20>>2]=Z,Z=ge),fe[Ce>>2]=G,c[Ge>>2]=I,c[M>>2]=Z,(Te=Te+28|0)>>>0<qt>>>0)}while(0);while((re=re+52|0)>>>0<Et>>>0)}}(_),zi(_),function(I){I|=0;var re=0,G=0,z=0,M=0,Z=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=0,Et=0,qt=0,vr=0,Pr=0,nr=0,wr=0,br=0;if(re=0|c[I+568>>2],st=0|c[I+564>>2],qt=re+(36*st|0)|0,!((0|st)<=0)){st=(0|c[I+620>>2])==0;do{be=0|c[re+4>>2];e:do if(0<(0|be))for(ge=0|c[re>>2],z=I=G=Ce=0;;){if(M=0|c[ge+(Ce<<2)>>2],0|c[M+16>>2]){z=1,I=G=0;break e}if(z=z||0|c[M+24>>2],I=I||0|c[M+20>>2],G=G+(+fe[M+12>>2]!=0&1)|0,(0|be)<=(0|(Ce=Ce+1|0))){ge=G,nr=11;break}}else z=I=ge=0,nr=11;while(0);e:do if((0|nr)==11)if(G=st?I:1,(nr=0)!=((I=st?z:1)|G|0)&&(Pr=1<<ge,c[re+12>>2]=Pr,gt=0|c[re>>2],Xe=0|c[re+16>>2],Et=0|c[re+20>>2],vr=Xe+(Pr<<2)|0,(0|ge)!=31)){for(Da(0|Xe,0,((z=Xe+4|0)>>>0<vr>>>0?vr:z)+~Xe+4&-4|0),z=Et+(Pr<<2)|0,M=Et;fe[M>>2]=1,(M=M+4|0)>>>0<z>>>0;);if(1<=(0|be)){if(!ge)for(ge=0,Ge=1;;){if(M=0|c[gt+(ge<<2)>>2],Ce=0|Me(0|c[M+8>>2],Ge),(Z=+fe[M+12>>2])==0)for(z=0;c[(Fe=Xe+(z<<2)|0)>>2]=(0|c[Fe>>2])+Ce,(0|(z=z+1|0))!=(0|Pr););else c[Xe>>2]=(0|c[Xe>>2])+Ce,fe[Et>>2]=(1-Z)*+fe[Et>>2];if(Ge=0|Me(0|c[M>>2],Ge),(0|(ge=ge+1|0))==(0|be)){z=0;break e}}Ne=0,Fe=z=1;do if(Te=0|c[gt+(Ne<<2)>>2],M=0|c[8+Te>>2],Ge=0|Me(M,Fe),(Z=+fe[(Ce=12+Te|0)>>2])==0)for(M=0;c[(Ce=Xe+(M<<2)|0)>>2]=(0|c[Ce>>2])+Ge,(0|(M=M+1|0))!=(0|Pr););else{for(ge=0|Me(M+1|0,Fe),c[Xe>>2]=(0|c[Xe>>2])+Ge,fe[Et>>2]=(1-Z)*+fe[Et>>2],M=1;Z=+fe[Ce>>2],br=(M&z|0)!=0,c[(wr=Xe+(M<<2)|0)>>2]=(br?ge:Ge)+(0|c[wr>>2]),fe[(wr=Et+(M<<2)|0)>>2]=(br?Z:1-Z)*+fe[wr>>2],(0|(M=M+1|0))!=(0|Pr););z<<=1}while(Fe=0|Me(0|c[Te>>2],Fe),(0|(Ne=Ne+1|0))!=(0|be));z=0}else z=0}else z=0;while(0)}while(c[re+28>>2]=I,c[re+24>>2]=G,c[re+32>>2]=z,(re=re+36|0)>>>0<qt>>>0)}}(_),Fi(_),O=0|c[_+4>>2],x=(W=0|c[_+52>>2])+(O<<2)|0,0<(0|O))for(;oe=+fe[W>>2],fe[W>>2]=oe<0?0:1<oe?1:oe,(W=W+4|0)>>>0<x>>>0;);(function(I,re,G){I|=0,re|=0,G|=0;var z=0,M=0;if(M=re+(12*I|0)|0,!((0|I)<=0))for(z=G;;){do if(0|c[re+8>>2]){if((0|(I=0|c[re+4>>2]))!=-1&&!(0|c[G+(I<<2)>>2])){I=0;break}I=(0|c[32+(0|c[re>>2])>>2])==0}else I=0;while(0);if(c[z>>2]=1&I,M>>>0<=(re=re+12|0)>>>0)break;z=z+4|0}})(O,0|c[_+8>>2],0|c[_+40>>2]),function(I){var re,G,z,M,Z,qt=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=0,Et=0|c[(I|=0)+8>>2],qt=0|c[I>>2],vr=0|c[qt+724>>2],Pr=0|c[I+4>>2];if(!((0|Pr)<=0))for(M=I+28|0,Z=I+36|0,z=I+32|0,G=qt+976|0,Ge=Ce=0;;){if(re=0|c[Et+(12*Ce|0)>>2],(0|(Xe=0|c[(I=24+re|0)>>2]||0|c[28+re>>2]?6:Xe))==6&&(c[((Xe=0)|c[M>>2])+(Ce<<2)>>2]=c[(be=12+re|0)>>2],0|c[I>>2])&&(Fe=0|c[vr+(Ce<<2)>>2],st=(Te=0|c[16+re>>2])+((ge=0|c[be>>2])<<2)|0,0<(0|ge)))for(I=0|c[G>>2],qt=(0|c[Z>>2])+(Ge<<2)|0,ge=Te;c[qt>>2]=c[I+((0|c[ge>>2])+Fe<<2)>>2],!(st>>>0<=(ge=ge+4|0)>>>0);)qt=qt+4|0;if(0|c[28+re>>2]&&(gt=(Ne=0|c[20+re>>2])+((ge=0|c[12+re>>2])<<2)|0,0<(0|ge)))for(I=(0|c[z>>2])+(Ge<<2)|0,qt=Ne;c[I>>2]=c[qt>>2],!(gt>>>0<=(qt=qt+4|0)>>>0);)I=I+4|0;if((0|(Ce=Ce+1|0))==(0|Pr))break;Ge=(0|c[8+re>>2])+Ge|0}}(_),function(I){Lr((I|=0)+12|0,0|c[I+36>>2],0|c[I+44>>2],0|c[I+40>>2])}(_),function(I){var re=0,G=0,z=0,M=0,Z=0,ge=0,Ce=0,Ge=0,Te=0;if(we=(Te=we)+16|0,Ge=Te,re=c[(I=I|0)+308>>2]|0,z=c[I+304>>2]|0,Ce=re+(z<<5)|0,M=c[I+40>>2]|0,Z=c[I+312>>2]|0,ge=c[I+144>>2]|0,G=c[I+264>>2]|0,(0|z)<=0)we=Te;else{for(z=Z;;){do if(0|c[re+28>>2]){if((0|(I=0|c[re+4>>2]))!=-1&&!(0|c[M+(I<<2)>>2])){I=0;break}if((0|(I=0|c[re+8>>2]))!=-1&&!(0|c[Z+(I<<2)>>2])){I=0;break}I=(0|c[32+(0|c[re>>2])>>2])==0}else I=0;while(0);switch(I&=1,c[z>>2]=I,0|c[re+12>>2]){case 0:c[ge+(c[re+16>>2]<<2)>>2]=I;break;case 1:c[G+(c[re+16>>2]<<2)>>2]=I;break;default:_r(0,2458,Ge)}if(Ce>>>0<=(re=re+32|0)>>>0)break;z=z+4|0}we=Te}}(_),Si(_),Io(_),bn(_),$r(_),function(I){I|=0;var re=0,G=0,z=0,M=0,Z=0;if(re=0|c[I+336>>2],G=0|c[I+332>>2],Z=re+(20*G|0)|0,z=0|c[I+40>>2],M=0|c[I+312>>2],!((0|G)<=0))for(G=0|c[I+424>>2];;){do if(0|c[re+12>>2]){if((0|(I=0|c[re+4>>2]))!=-1&&!(0|c[z+(I<<2)>>2])){I=0;break}if((0|(I=0|c[re+8>>2]))!=-1&&!(0|c[M+(I<<2)>>2])){I=0;break}I=(0|c[32+(0|c[re>>2])>>2])==0}else I=0;while(0);if(c[G>>2]=1&I,Z>>>0<=(re=re+20|0)>>>0)break;G=G+4|0}}(_),jo(_),Gr(_),function(I){var re,G,z,M,Z,qt=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=0,Et=0|c[(I|=0)+504>>2],qt=0|c[I>>2],vr=0|c[qt+1192>>2],Pr=0|c[I+500>>2];if(!((0|Pr)<=0))for(M=I+524|0,Z=I+532|0,z=I+528|0,G=qt+1224|0,Ge=Ce=0;;){if(re=0|c[Et+(24*Ce|0)>>2],(0|(Xe=0|c[(I=24+re|0)>>2]||0|c[28+re>>2]?6:Xe))==6&&(c[((Xe=0)|c[M>>2])+(Ce<<2)>>2]=c[(be=12+re|0)>>2],0|c[I>>2])&&(Fe=0|c[vr+(Ce<<2)>>2],st=(Te=0|c[16+re>>2])+((ge=0|c[be>>2])<<2)|0,0<(0|ge)))for(I=0|c[G>>2],qt=(0|c[Z>>2])+(Ge<<2)|0,ge=Te;c[qt>>2]=c[I+((0|c[ge>>2])+Fe<<2)>>2],!(st>>>0<=(ge=ge+4|0)>>>0);)qt=qt+4|0;if(0|c[28+re>>2]&&(gt=(Ne=0|c[20+re>>2])+((ge=0|c[12+re>>2])<<2)|0,0<(0|ge)))for(I=(0|c[z>>2])+(Ge<<2)|0,qt=Ne;c[I>>2]=c[qt>>2],!(gt>>>0<=(qt=qt+4|0)>>>0);)I=I+4|0;if((0|(Ce=Ce+1|0))==(0|Pr))break;Ge=(0|c[8+re>>2])+Ge|0}}(_),function(I){ar((I|=0)+508|0,0|c[I+532>>2],0|c[I+536>>2],0)}(_),Kt(_),si(_),function(I){var re=0,G=0,z=0,M=0,Z=0,ge=(re=0|c[(I|=0)+8>>2])+(12*(Z=0|c[I+4>>2])|0)|0,Ce=0|c[I+48>>2];if(!((0|Z)<=0))for(Z=0|c[I+40>>2],G=Ce,I=0|c[I+52>>2];0|c[Z>>2]&&(z=+fe[I>>2],fe[G>>2]=z,(0|(M=0|c[re+4>>2]))!=-1)&&(fe[G>>2]=z*+fe[Ce+(M<<2)>>2]),!(ge>>>0<=(re=re+12|0)>>>0);)Z=Z+4|0,G=G+4|0,I=I+4|0}(_),function(I){var re=0,G=0,z=0,M=0|c[(I|=0)+304>>2];if(!((0|M)<=0))for(re=0|c[I+312>>2],G=0|c[I+308>>2],z=0;0|c[re>>2]&&_p[3&c[G+20>>2]](I,z),(0|(z=z+1|0))!=(0|M);)re=re+4|0,G=G+32|0}(_),ls(_),ur(_),function(I){I|=0;var re,G,z=0,M=0,Z=0,ge=0,Ce=0;if(!(0|c[I+624>>2]||(re=(z=0|c[I+336>>2])+(20*(ge=0|c[I+332>>2])|0)|0,(0|ge)<=0)))for(ge=0|c[I+424>>2],I=0|c[I+444>>2];;){if(0|c[ge>>2]&&(Z=0|c[I>>2],Ce=(M=0|c[z+16>>2])<<1,0<(0|M)))for(M=1;fe[(G=Z+(M<<2)|0)>>2]=-+fe[G>>2],(0|(M=M+2|0))<(0|Ce););if(re>>>0<=(z=z+20|0)>>>0)break;ge=ge+4|0,I=I+4|0}}(_),function(I){I|=0;var re=0,G=0,z=0,M=0,Z=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=0,Et=0;if(Xe=0|c[I+480>>2],Et=0|c[I+484>>2],Ge=Et+(28*Xe|0)|0,re=0|c[I+440>>2],G=0|c[I+44>>2],z=0|c[I+40>>2],M=0|c[I+424>>2],!((0|Xe)<=0)){Te=Et;do if(0<(0|(Z=0|c[Te+4>>2])))for(ge=0|c[Te+12>>2],Ce=Te+20|0,Ne=0;gt=0|c[ge+(Ne<<4)+4>>2],st=(0|c[ge+(Ne<<4)>>2])==1,c[ge+(Ne<<4)+12>>2]=c[(0|c[(st?z:M)+(gt<<2)>>2]?(st?G:re)+(gt<<2)|0:Ce)>>2],(0|(Ne=Ne+1|0))!=(0|Z););while((Te=Te+28|0)>>>0<Ge>>>0);be=0|c[I+436>>2],st=I+488|0,gt=I+492|0,Ne=I+496|0,Fe=0;do{if(0<(0|c[(I=Et+(28*Fe|0)+24|0)>>2])){for(re=0|c[st>>2],z=0;c[re+(z<<2)>>2]=-1,z=z+1|0,G=0|c[I>>2],(0|z)<(0|G););if(0<(0|G))for(re=0|c[Ne>>2],G=0;c[re+(G<<2)>>2]=-1,(0|(G=G+1|0))<(0|c[I>>2]););}if(0<(0|c[(Te=Et+(28*Fe|0)+4|0)>>2])){for(Ge=0|c[gt>>2],G=0;c[Ge+(G<<2)>>2]=-1,G=G+1|0,re=0|c[Te>>2],(0|G)<(0|re););if(0<(0|re))for(z=0|c[Et+(28*Fe|0)+12>>2],Z=Et+(28*Fe|0)+20|0,M=0|c[Ne>>2],Ce=0;G=(0|c[z+(Ce<<4)+12>>2])-(0|c[Z>>2])|0,re=(0|(re=0|c[(ge=M+(G<<2)|0)>>2]))==-1?(0|c[st>>2])+(G<<2)|0:Ge+(re<<2)|0,c[re>>2]=Ce,(0|(Ce=(c[ge>>2]=Ce)+1|0))<(0|c[Te>>2]););}if(0<(0|(re=0|c[I>>2]))){Ce=0|c[st>>2],Ge=Et+(28*Fe|0)+12|0,G=(ge=0)|c[Et+(28*Fe|0)+8>>2];do if((0|(z=0|c[Ce+(ge<<2)>>2]))!=-1){for(M=0|c[Ge>>2],Z=0|c[gt>>2];re=(0|c[M+(z<<4)>>2])==1?(re=0|c[M+(z<<4)+8>>2],c[Et+(28*re|0)+8>>2]=G,0|c[Et+(28*re|0)>>2]):(c[be+(c[M+(z<<4)+4>>2]<<2)>>2]=G,1),G=re+G|0,!((0|(z=0|c[Z+((Te=z)<<2)>>2]))<=(0|Te)|(0|z)==-1););re=0|c[I>>2]}while((0|(ge=ge+1|0))<(0|re))}}while((0|(Fe=Fe+1|0))!=(0|Xe))}}(_),wi(_),c[_+620>>2]=0}function zi(_){_|=0;var x,O,oe=0,W=0,I=0,re=0,G=0,z=0,M=0,Z=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0,be=0;if(!((0|xr[4+(0|c[_>>2])>>0])<4||(O=(oe=0|c[_+544>>2])+(52*(x=0|c[_+540>>2])|0)|0,(0|x)<=0))){x=(0|c[_+620>>2])==0;do e:do if((0|c[oe>>2])==1&&(Te=+fe[oe+44>>2],Ne=0|c[oe+36>>2],M=0|c[oe+40>>2],Fe=Ne+(28*M|0)|0,0<(0|M))){if(!x)for(z=Ne;;){I=0|c[z>>2];do if(2<=(0|I)&&(Ce=0|c[z+4>>2],!(Te<=(Ge=+fe[Ce>>2])))){for(re=1,G=Ge;;){if(_=re+1|0,Te<(W=+fe[Ce+(re<<2)>>2])){M=25;break}if(!((0|_)<(0|I))){M=26;break}re=_,G=W}if((0|M)==25){_=re+-1|0,W=(Te-G)/(W-G);break}if((0|M)==26){_=I+-1|0,W=0;break}}else W=_=0;while(0);if(G=+fe[(re=z+16|0)>>2],I=1&((0|c[(M=z+12|0)>>2])!=(0|_)|(be=G!=W)&(W==0|G==0)),c[z+24>>2]=1&be,c[z+20>>2]=I,fe[re>>2]=W,c[M>>2]=_,Fe>>>0<=(z=z+28|0)>>>0)break e}if(!(0|c[oe+48>>2])){for(_=Ne;;)if(c[_+24>>2]=0,Fe>>>(c[_+20>>2]=0)<=(_=_+28|0)>>>0)break e}z=Ne;do{I=0|c[z>>2];do if(2<=(0|I)&&(Z=0|c[z+4>>2],!(Te<=(ge=+fe[Z>>2])))){for(re=1,G=ge;;){if(_=re+1|0,Te<(W=+fe[Z+(re<<2)>>2])){M=17;break}if(!((0|_)<(0|I))){M=18;break}re=_,G=W}if((0|M)==17){_=re+-1|0,W=(Te-G)/(W-G);break}if((0|M)==18){_=I+-1|0,W=0;break}}else W=_=0;while(0)}while(G=+fe[(M=z+16|0)>>2],re=1&((0|c[(be=z+12|0)>>2])!=(0|_)|(I=G!=W)&(W==0|G==0)),c[z+24>>2]=1&I,c[z+20>>2]=re,fe[M>>2]=W,c[be>>2]=_,(z=z+28|0)>>>0<Fe>>>0)}while(0);while((oe=oe+52|0)>>>0<O>>>0)}}function Fi(_){_|=0;var x,O,oe,W,I=0,re=0,G=0,z=0,M=0,Z=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0;if(!((0|xr[4+(0|c[_>>2])>>0])<4||(W=(I=0|c[_+592>>2])+(48*(oe=0|c[_+588>>2])|0)|0,(0|oe)<=0))){oe=(0|c[_+620>>2])==0;do{if(_=0|c[I>>2],G=oe?0|c[_+24>>2]:1,(Ce=oe?0|c[_+20>>2]:1)|G){ge=0|c[_+12>>2],re=+fe[_+16>>2],Z=(0|ge)==(0|(_=0|c[_+8>>2]));do if(re!=0){if(M=ge+1|0,Z){re=(G=_=c[I+8>>2]=1)-re,Z=11;break}_=(0|M)==(0|_)?1:2,Z=10;break}while(_=1&(1^Z),Z=10,0);(0|Z)==10&&(Z=0,c[I+8>>2]=_,G?(M=ge,_=Ce,Z=11):(M=ge,_=Ce,G=0)),(0|Z)==11&&(fe[I+20>>2]=1-re,fe[I+24>>2]=re),_?(c[I+12>>2]=M,c[I+16>>2]=M+1):_=0}else _=Ce;x=0|c[I+36>>2];e:do if(0<(0|x)){if(O=0|c[I+40>>2],!oe)for(Fe=0,re=1;;){Ne=0|c[O+(Fe<<2)>>2],Z=0|c[Ne+4>>2],ge=0|c[Ne+8>>2],Ce=0|c[Ne+12>>2],Te=+fe[44+(0|c[Ne>>2])>>2];do if(1<=(0|Ce)){if((0|Ce)==1){z=+fe[ge>>2];break}if(Te<=(z=+fe[Z>>2])){z=+fe[ge>>2];break}for(M=1;;){if(Te<(Ge=+fe[Z+(M<<2)>>2])){Z=40;break}if(!((0|(M=M+1|0))<(0|Ce))){Z=41;break}z=Ge}if((0|Z)==40){z=(1-(z=(Te-z)/(Ge-z)))*+fe[ge+(M+-1<<2)>>2]+z*+fe[ge+(M<<2)>>2];break}if((0|Z)==41){z=+fe[ge+(Ce+-1<<2)>>2];break}}else z=1;while(0);if(re=re<(fe[Ne+16>>2]=z)?re:z,(0|(Fe=Fe+1|0))==(0|x))break e}Fe=0,re=1;do if(Ne=0|c[O+(Fe<<2)>>2],M=0|c[Ne>>2],0|c[M+48>>2]){Z=0|c[Ne+4>>2],ge=0|c[Ne+8>>2],Ce=0|c[Ne+12>>2],Te=+fe[M+44>>2];do if(1<=(0|Ce)){if((0|Ce)==1){z=+fe[ge>>2];break}if(Te<=(z=+fe[Z>>2])){z=+fe[ge>>2];break}for(M=1;;){if(Te<(Ge=+fe[Z+(M<<2)>>2])){Z=28;break}if(!((0|(M=M+1|0))<(0|Ce))){Z=27;break}z=Ge}if((0|Z)==27){z=+fe[ge+(Ce+-1<<2)>>2];break}if((0|Z)==28){z=(1-(z=(Te-z)/(Ge-z)))*+fe[ge+(M+-1<<2)>>2]+z*+fe[ge+(M<<2)>>2];break}}else z=1;while(0);fe[Ne+16>>2]=z}else z=+fe[Ne+16>>2];while(re=re<z?re:z,(0|(Fe=Fe+1|0))!=(0|x))}else re=1;while(0)}while(fe[I+44>>2]=re,c[I+28>>2]=_,c[I+32>>2]=G,(I=I+48|0)>>>0<W>>>0)}}function aa(_,x,O){_|=0,x|=0,O|=0;var oe,W,I,re=0,G=we;we=we+144|0,al(0|(W=G),640,144),c[W+48>>2]=re=(re=-2-_|0)>>>0<256?re:256,c[(oe=W+20|0)>>2]=_,I=(c[W+44>>2]=_)+re|0,c[(_=W+16|0)>>2]=I,c[W+28>>2]=I,Ho(W,x,O),0|re&&(I=0|c[oe>>2],Le[I+(((0|I)==(0|c[_>>2]))<<31>>31)>>0]=0),we=G}function Ho(_,x,O){Oo(_|=0,x|=0,O|=0)}function fo(_,x,O,oe,W,I){_|=0,x=+x,O|=0,oe|=0,W|=0,I|=0;var re,G=0,z=0,M=0,Z=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=0,Et=0,qt=0,vr=0,Pr=0,nr=0,wr=0,br=0,kt=we;we=we+560|0,Z=kt+32|0,nr=(M=(wr=br=kt)+540|0)+12|(c[(be=kt+536|0)>>2]=0),Bf(x),vr=(0|(G=0|ut()))<0?(Bf(x=-x),G=0|ut(),Pr=1,2539):(Pr=(2049&W|0)!=0&1,2048&W|0?2542:1&W|0?2545:2540);do if(!0&(2146435072&G|0)==2146435072)br=(32&I|0)!=0,us(_,32,O,G=Pr+3|0,-65537&W),ln(_,vr,Pr),ln(_,x!=x|!1?br?2566:2570:br?2558:2562,3),us(_,32,O,G,8192^W);else{if((G=(Te=2*+dp(x,be))!=0)&&(c[be>>2]=(0|c[be>>2])-1),(0|(gt=32|I))==97){Ne=0|(Ce=32&I)?vr+9|0:vr,Ge=2|Pr,G=12-oe|0;do if(!(11<oe>>>0|(0|G)==0)){for(x=8;x*=16,(0|(G=G+-1|0))!=0;);if((0|Le[Ne>>0])==45){x=-(x+(-Te-x));break}x=Te+x-x;break}while(x=Te,0);for((0|(G=0|Oa(G=(0|(z=0|c[be>>2]))<0?0-z|0:z,((0|G)<0)<<31>>31,nr)))==(0|nr)&&(Le[(G=M+11|0)>>0]=48),Le[G+-1>>0]=43+(z>>31&2),Le[(ge=G+-2|0)>>0]=I+15,z=(0|oe)<1,M=(8&W|0)==0,G=br;Z=G+1|0,Le[G>>0]=Ce|xr[480+(Pr=~~x)>>0],x=16*(x-(0|Pr)),(Z-wr|0)!=1||M&z&x==0||(Le[Z>>0]=46,Z=G+2|0),x!=0;)G=Z;us(_,32,O,nr=(G=0|oe&&(-2-wr+Z|0)<(0|oe)?oe+2+(z=nr)-(M=ge)|0:(z=nr)-wr-(M=ge)+Z|0)+Ge|0,W),ln(_,Ne,Ge),us(_,48,O,nr,65536^W),ln(_,br,wr=Z-wr|0),us(_,48,G-(wr+(br=z-M|0))|0,0,0),ln(_,ge,br),us(_,32,O,nr,8192^W),G=nr;break}for(z=(0|oe)<0?6:oe,x=G?(M=(0|c[be>>2])-28|0,c[be>>2]=M,268435456*Te):(M=0|c[be>>2],Te),Z=re=(0|M)<0?Z:Z+288|0;c[Z>>2]=Et=~~x>>>0,Z=Z+4|0,(x=1e9*(x-(Et>>>0)))!=0;);if(Et=re,0<(0|M)){G=re;do{if(Ce=(0|M)<29?M:29,G>>>0<=(M=Z+-4|0)>>>0){for(ge=0;Fe=0|ku(0|(Fe=0|T1(0|c[M>>2],0,0|Ce)),0|ut(),0|ge,0),Xe=0|ku(0|Fe,0|(st=0|ut()),0|(Xe=0|Tc(0|(ge=0|Ec(0|Fe,0|st,1e9,0)),0|ut(),-1e9,-1)),0|ut()),ut(),c[M>>2]=Xe,G>>>0<=(M=M+-4|0)>>>0;);ge&&(c[(G=G+-4|0)>>2]=ge)}e:do if(G>>>0<Z>>>0)for(;;){if(0|c[(M=Z+-4|0)>>2])break e;if(!(G>>>0<M>>>0)){Z=M;break}Z=M}while(0)}while(M=(0|c[be>>2])-Ce|0,0<(0|(c[be>>2]=M)))}else G=re;if((0|M)<0){oe=1+((z+25|0)/9|0)|0,Fe=(0|gt)==102;do if(Ne=(0|(Ne=0-M|0))<9?Ne:9,G>>>0<Z>>>0){for(Ce=(1<<Ne)-1|0,ge=Ne?1e9>>>Ne:1e9,Ge=0,M=G;Xe=0|c[M>>2],c[M>>2]=(Ne?Xe>>>Ne:Xe)+Ge,Ge=0|Me(Xe&Ce,ge),(M=M+4|0)>>>0<Z>>>0;);G=0|c[G>>2]?G:G+4|0,Ge&&(c[Z>>2]=Ge,Z=Z+4|0)}else G=0|c[G>>2]?G:G+4|0;while(Z=(0|oe)<((Xe=Z-(M=Fe?re:G)|0)>>2|0)?M+(oe<<2)|0:Z,M=(0|c[be>>2])+Ne|0,(0|(c[be>>2]=M))<0);Fe=Z}else Fe=Z;if(G>>>0<Fe>>>0){if(M=9*((M=Et-G|0)>>2)|0,10<=(ge=0|c[G>>2])>>>0)for(Z=10;M=M+1|0,(Z=10*Z|0)>>>0<=ge>>>0;);}else M=0;if((0|(Z=z-((0|gt)==102?0:M)+(((st=(0|z)!=0)&(be=(0|gt)==103))<<31>>31)|0))<((9*((Xe=Fe-Et|0)>>2)|0)-9|0)){if(oe=re+4+((Z=(0|(Xe=Z+9216|0))/9|0)+-1024<<2)|0,(0|(Z=Xe+(0|Me(Z,-9))|0))<8)for(ge=10;ge=10*ge|0,(0|Z)<7;)Z=Z+1|0;else ge=10;if((Ge=(oe+4|0)==(0|Fe))&(0|(Ce=(Ce=0|c[oe>>2])-(Ne=0|Me(Z=(Ce>>>0)/(ge>>>0)|0,ge))|0))==0)Z=oe;else if(Te=1&Z|0?9007199254740994:9007199254740992,x=Ce>>>0<(Xe=ge>>>1)>>>0?.5:Ge&(0|Ce)==(0|Xe)?1:1.5,Pr&&(Te=(Xe=(0|Le[vr>>0])==45)?-Te:Te,x=Xe?-x:x),c[oe>>2]=Ne,Te+x!=Te){if(999999999<(c[oe>>2]=Xe=Ne+ge|0)>>>0)for(M=oe;(Z=M+-4|0)>>>(c[M>>2]=0)<G>>>0&&(c[(G=G+-4|0)>>2]=0),Xe=1+(0|c[Z>>2])|0,999999999<(c[Z>>2]=Xe)>>>0;)M=Z;else Z=oe;if(M=9*((M=Et-G|0)>>2)|0,10<=(Ce=0|c[G>>2])>>>0)for(ge=10;M=M+1|0,(ge=10*ge|0)>>>0<=Ce>>>0;);}else Z=oe;Xe=G,G=(gt=Z+4|0)>>>0<Fe>>>0?gt:Fe}else Xe=G,G=Fe;Ne=0-M|0;e:do if(Xe>>>0<G>>>0)for(;;){if(0|c[(Z=G+-4|0)>>2]){Fe=1,gt=G;break e}if(!(Xe>>>0<Z>>>0)){Fe=0,gt=Z;break}G=Z}else Fe=0,gt=G;while(0);do if(be){if(ge=(0|M)<(0|(G=z+(1&(1^st))|0))&-5<(0|M)?(z=G+-1-M|0,I+-1|0):(z=G+-1|0,I+-2|0),!(8&W)){if(Fe&&0|(qt=0|c[gt+-4>>2]))if((qt>>>0)%10|0)Z=0;else for(G=10,Z=0;Z=Z+1|0,!((qt>>>0)%((G=10*G|0)>>>0)|0););else Z=9;if(G=(9*((G=gt-Et|0)>>2)|0)-9|0,(32|ge)==102){z=(0|z)<(0|(I=0<(0|(I=G-Z|0))?I:0))?z:I;break}z=(0|z)<(0|(I=0<(0|(I=G+M-Z|0))?I:0))?z:I;break}}else ge=I;while(0);if(Ce=(oe=(0|z)!=0)?1:W>>>3&1,Ge=(32|ge)==102)G=(st=0)<(0|M)?M:0;else{if(((Z=nr)-(G=0|Oa(G=(0|M)<0?Ne:M,((0|G)<0)<<31>>31,nr))|0)<2)for(;Le[(G=G+-1|0)>>0]=48,(Z-G|0)<2;);Le[G+-1>>0]=43+(M>>31&2),Le[(G=G+-2|0)>>0]=ge,G=Z-(st=G)|0}if(us(_,32,O,G=Pr+1+z+Ce+G|0,W),ln(_,vr,Pr),us(_,48,O,G,65536^W),Ge){Ge=Ne=br+9|0,ge=br+8|0,Z=Ce=re>>>0<Xe>>>0?re:Xe;do if(M=0|Oa(0|c[Z>>2],0,Ne),(0|Z)==(0|Ce))(0|M)==(0|Ne)&&(Le[ge>>0]=48,M=ge);else if(br>>>0<M>>>0)for(Da(0|br,48,M-wr|0);br>>>0<(M=M+-1|0)>>>0;);while(ln(_,M,Ge-M|0),(Z=Z+4|0)>>>0<=re>>>0);if((8&W|0)==0&(1^oe)||ln(_,2574,1),Z>>>0<gt>>>0&0<(0|z))for(;;){if(br>>>0<(M=0|Oa(0|c[Z>>2],0,Ne))>>>0)for(Da(0|br,48,M-wr|0);br>>>0<(M=M+-1|0)>>>0;);if(ln(_,M,(0|z)<9?z:9),M=z+-9|0,!((Z=Z+4|0)>>>0<gt>>>0&9<(0|z))){z=M;break}z=M}us(_,48,z+9|0,9,0)}else{if(Xe>>>0<(oe=Fe?gt:Xe+4|0)>>>0&-1<(0|z)){be=(8&W|0)==0,Fe=Ne=br+9|0,ge=0-wr|0,Ge=br+8|0,Ce=Xe;do{(0|(M=0|Oa(0|c[Ce>>2],0,Ne)))==(0|Ne)&&(Le[Ge>>0]=48,M=Ge);do if((0|Ce)==(0|Xe)){if(Z=M+1|0,ln(_,M,1),be&(0|z)<1){M=Z;break}ln(_,2574,1),M=Z}else{if(M>>>0<=br>>>0)break;for(Da(0|br,48,M+ge|0);br>>>0<(M=M+-1|0)>>>0;);}while(0)}while(ln(_,M,(0|(wr=Fe-M|0))<(0|z)?wr:z),(Ce=Ce+4|0)>>>0<oe>>>0&-1<(0|(z=z-wr|0)))}us(_,48,z+18|0,18,0),ln(_,st,nr-st|0)}us(_,32,O,G,8192^W)}while(0);return we=kt,0|((0|G)<(0|O)?O:G)}function Oo(_,x,O){_|=0,x|=0,O|=0;var oe,W,I,re,G,z,M,Z,ge=0,Ce=0,Ge=we;for(we=we+224|0,G=Ge+208|0,M=Ge+80|0,Ce=(ge=Z=(z=Ge)+160|0)+40|0;(0|(ge=ge+4|(c[ge>>2]=0)))<(0|Ce););c[G>>2]=c[O>>2],0<=(0|ho(0,x,G,M,Z))&&(re=32&(O=0|c[_>>2]),(0|Le[_+74>>0])<1&&(c[_>>2]=-33&O),0|c[(Ce=_+48|0)>>2]?ho(_,x,G,M,Z):(O=0|c[(ge=_+44|0)>>2],c[ge>>2]=z,c[(oe=_+28|0)>>2]=z,c[(I=_+20|0)>>2]=z,c[Ce>>2]=80,c[(W=_+16|0)>>2]=z+80,ho(_,x,G,M,Z),0|O&&(Md[3&c[_+36>>2]](_,0,0),c[ge>>2]=O,c[Ce>>2]=0,c[W>>2]=0,c[oe>>2]=0,c[I>>2]=0)),c[_>>2]=c[_>>2]|re),we=Ge}function ho(_,x,O,oe,W){_|=0,O|=0,oe|=0,W|=0;var I,re,G,z,M,Z,ge,Ce,Ge,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=0,Et=0,qt=0,vr=0,Pr=0,nr=0,wr=0,br=we;we=we+64|0,Z=br+40|0,Ge=(re=br)+48|0,ge=br+60|0,c[(Ce=br+56|0)>>2]=x|=0,M=(0|_)!=0,z=I=re+40|0,re=re+39|0,G=4+Ge|0,be=Te=x=0;e:for(;;){do{do if(-1<(0|x)){if((2147483647-x|0)<(0|Te)){c[922]=61,x=-1;break}x=Te+x|0;break}while(0);if(Xe=0|c[Ce>>2],!((Te=0|Le[Xe>>0])<<24>>24)){nr=91;break e}Ne=Xe;t:for(;;){switch(Te<<24>>24){case 37:nr=10;break t;case 0:Te=Ne;break t}c[Ce>>2]=Pr=Ne+1|0,Te=0|Le[Pr>>0],Ne=Pr}t:do if((0|nr)==10){nr=0,Te=Fe=Ne;do if((0|Le[Fe+1>>0])!=37)break t;while(Te=Te+1|0,c[Ce>>2]=Fe=Fe+2|0,(0|Le[Fe>>0])==37)}while(0)}while(Te=Te-Xe|0,M&&ln(_,Xe,Te),(0|Te)!=0);if(Fe=0|c[Ce>>2],gt=0|Rl(Te=0|Le[Fe+1>>0])?(Ne=(gt=(0|Le[Fe+2>>0])==36)?3:1,qt=gt?Te+-48|0:-1,gt?1:be):(qt=-(Ne=1),be),c[Ce>>2]=Ne=Fe+Ne|0,31<(Fe=((Te=0|Le[Ne>>0])<<24>>24)-32|0)>>>0|(1<<Fe&75913|0)==0)st=0;else for(Te=0;;){if(be=1<<Fe|Te,c[Ce>>2]=Ne=Ne+1|0,31<(Fe=((Te=0|Le[Ne>>0])<<24>>24)-32|0)>>>0|(1<<Fe&75913|0)==0){st=be;break}Te=be}if(Te<<24>>24==42){if(0|Rl(Te=0|Le[(Fe=Ne+1|0)>>0])&&(0|Le[Ne+2>>0])==36)c[W+(Te+-48<<2)>>2]=10,be=1,Te=Ne+3|0,Ne=0|c[oe+((0|Le[Fe>>0])-48<<3)>>2];else{if(0|gt){x=-1;break}M?(be=3+(0|c[O>>2])&-4,Ne=0|c[be>>2],c[O>>2]=be+4,be=0,Te=Fe):(Te=Fe,Ne=be=0)}Fe=c[Ce>>2]=Te,Et=(vr=(0|Ne)<0)?8192|st:st,Pr=be,vr=vr?0-Ne|0:Ne}else{if((0|(Te=0|Ia(Ce)))<0){x=-1;break}Fe=0|c[Ce>>2],Et=st,Pr=gt,vr=Te}do if((0|Le[Fe>>0])==46){if((0|Le[(Te=Fe+1|0)>>0])!=42){c[Ce>>2]=Te,st=0|Ia(Ce),Te=0|c[Ce>>2];break}if(0|Rl(Ne=0|Le[(Te=Fe+2|0)>>0])&&(0|Le[Fe+3>>0])==36){c[W+(Ne+-48<<2)>>2]=10,st=0|c[oe+((0|Le[Te>>0])-48<<3)>>2],c[Ce>>2]=Te=Fe+4|0;break}if(0|Pr){x=-1;break e}M?(gt=3+(0|c[O>>2])&-4,Ne=0|c[gt>>2],c[O>>2]=gt+4):Ne=0,c[Ce>>2]=Te,st=Ne}else Te=Fe,st=-1;while(0);for(gt=0;;){if(57<((0|Le[Te>>0])-65|0)>>>0){x=-1;break e}if(c[Ce>>2]=Ne=Te+1|0,!(((be=255&(Fe=0|Le[(0|Le[Te>>0])-65+(16+(58*gt|0))>>0]))+-1|0)>>>0<8))break;Te=Ne,gt=be}if(!(Fe<<24>>24)){x=-1;break}Ne=-1<(0|qt);do if(Fe<<24>>24==19){if(Ne){x=-1;break e}nr=52}else{if(Ne){c[W+(qt<<2)>>2]=be,qt=0|c[(be=oe+(qt<<3)|0)+4>>2],c[(nr=Z)>>2]=c[be>>2],c[nr+4>>2]=qt,nr=52;break}if(!M){x=0;break e}ol(Z,be,O),nr=53}while(0);(0|nr)==52&&(nr=0,M?nr=53:Te=0);t:do if((0|nr)==53){Fe=(nr=0)!=(0|gt)&(15&(Fe=0|Le[Te>>0])|0)==3?-33&Fe:Fe,Te=-65537&Et,qt=8192&Et|0?Te:Et;r:do switch(0|Fe){case 110:switch((255&gt)<<24>>24){case 0:case 1:c[c[Z>>2]>>2]=x,Te=0;break t;case 2:Te=0|c[Z>>2],c[Te>>2]=x,c[Te+4>>2]=((0|x)<0)<<31>>31,Te=0;break t;case 3:rr[c[Z>>2]>>1]=x,Te=0;break t;case 4:Le[c[Z>>2]>>0]=x,Te=0;break t;case 6:c[c[Z>>2]>>2]=x,Te=0;break t;case 7:Te=0|c[Z>>2],c[Te>>2]=x,c[Te+4>>2]=((0|x)<0)<<31>>31,Te=0;break t;default:Te=0;break t}case 112:Te=8|qt,Ne=8<st>>>0?st:8,be=120,nr=65;break;case 88:case 120:Te=qt,Ne=st,be=Fe,nr=65;break;case 111:st=(8&(Te=qt)|0)==0|(0|(Fe=z-(gt=0|function(kt,pr,Cr){if(Cr|=0,!((0|(kt|=0))==0&(0|(pr|=0))==0))for(;Le[(Cr=Cr+-1|0)>>0]=7&kt|48,kt=0|xm(0|kt,0|pr,3),pr=0|ut(),!((0|kt)==0&(0|pr)==0););return 0|Cr}(Xe=0|c[(Et=Z)>>2],Et=0|c[Et+4>>2],I))|0))<(0|st)?st:Fe+1|0,Fe=0,Ne=2522,nr=71;break;case 105:case 100:if(Te=0|c[(Ne=Z)>>2],(0|(Ne=0|c[Ne+4>>2]))<0){Te=0|js(0,0,0|Te,0|Ne),Ne=0|ut(),c[(Fe=Z)>>2]=Te,c[Fe+4>>2]=Ne,Fe=1,be=2522,nr=70;break r}Fe=(2049&qt|0)!=0&1,be=2048&qt|0?2523:1&qt|0?2524:2522,nr=70;break r;case 117:Te=0|c[(Ne=Z)>>2],Ne=0|c[Ne+4>>2],Fe=0,be=2522,nr=70;break;case 99:Le[re>>0]=c[Z>>2],Xe=re,gt=Te,be=1,Fe=0,Ne=2522,Te=z;break;case 115:Xe=Et=0|(Et=0|c[Z>>2])?Et:2532,gt=Te,be=(wr=(0|(qt=0|function(kt,pr){kt|=0;var Cr=0,gr=0;Cr=(0|(pr|=0))!=0;n:do if(Cr&(3&kt|0)!=0)for(;;){if(!(0|Le[kt>>0]))break n;if(!((Cr=(0|(pr=pr+-1|0))!=0)&(3&(kt=kt+1|0)|0)!=0)){gr=5;break}}else gr=5;while(0);n:do if((0|gr)==5){do if(Cr){if(!(0|Le[kt>>0])){if(pr)break n;break}i:do if(3<pr>>>0)for(;;){if((-2139062144&(Cr=0|c[kt>>2])^-2139062144)&Cr+-16843009|0)break i;if(kt=kt+4|0,(pr=pr+-4|0)>>>0<=3){gr=11;break}}else gr=11;while(0);if((0|gr)==11&&!pr)break;for(;;){if(!(0|Le[kt>>0]))break n;if(!(pr=pr+-1|0))break;kt=kt+1|0}}while(0);kt=0}while(0);return 0|kt}(Et,st)))==0)?st:qt-Et|0,Fe=0,Ne=2522,Te=wr?Et+st|0:qt;break;case 67:c[Ge>>2]=c[Z>>2],c[G>>2]=0,Fe=c[Z>>2]=Ge,st=-1,nr=78;break;case 83:if(st){Fe=0|c[Z>>2],nr=78;break r}us(_,32,vr,0,qt),Te=0,nr=88;break r;case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:Te=0|fo(_,+w[Z>>3],vr,st,qt,Fe);break t;default:gt=qt,be=st,Fe=0,Ne=2522,Te=z}while(0);r:do if((0|nr)==65)gt=0|ym(Xe=0|c[(Et=Z)>>2],Et=0|c[Et+4>>2],I,32&be),st=Ne,Fe=(wr=(8&Te|0)==0|(0|Xe)==0&(0|Et)==0)?0:2,Ne=wr?2522:2522+(be>>>4)|0,nr=71;else if((0|nr)==70)gt=0|Oa(Xe=Te,Et=Ne,I),Te=qt,Ne=be,nr=71;else if((0|nr)==78){for(Te=nr=0,gt=Fe;Ne=0|c[gt>>2];){if((be=(0|(Ne=0|up(ge,Ne)))<0)|(st-Te|0)>>>0<Ne>>>0){nr=82;break}if(!((Te=Ne+Te|0)>>>0<st>>>0))break;gt=gt+4|0}if((0|nr)==82&&(nr=0,be)){x=-1;break e}if(us(_,32,vr,Te,qt),Te)for(be=0;;){if(!(Ne=0|c[Fe>>2])){nr=88;break r}if((0|Te)<(0|(be=(Ne=0|up(ge,Ne))+be|0))){nr=88;break r}if(ln(_,ge,Ne),Te>>>0<=be>>>0){nr=88;break}Fe=Fe+4|0}else Te=0,nr=88}while(0);if((0|nr)==71)wr=(nr=0)!=(0|st)|(be=(0|Xe)!=0|(0|Et)!=0),be=z-gt+(1&(1^be))|0,Xe=wr?gt:I,gt=-1<(0|st)?-65537&Te:Te,be=wr?(0|be)<(0|st)?st:be:0,Te=z;else if((0|nr)==88){nr=0,us(_,32,vr,Te,8192^qt),Te=(0|Te)<(0|vr)?vr:Te;break}us(_,32,Te=(0|vr)<(0|(wr=(Et=(0|be)<(0|(qt=Te-Xe|0))?qt:be)+Fe|0))?wr:vr,wr,gt),ln(_,Ne,Fe),us(_,48,Te,wr,65536^gt),us(_,48,Et,qt,0),ln(_,Xe,qt),us(_,32,Te,wr,8192^gt)}while(0);be=Pr}e:do if((0|nr)==91&&!_)if(be){for(x=1;Te=0|c[W+(x<<2)>>2];)if(ol(oe+(x<<3)|0,Te,O),10<=(x=x+1|0)>>>0){x=1;break e}for(Te=0;;){if(x=x+1|0,0|Te){x=-1;break e}if(10<=x>>>0){x=1;break e}Te=0|c[W+(x<<2)>>2]}}else x=0;while(0);return we=br,0|x}function ln(_,x,O){x|=0,O|=0,32&c[(_|=0)>>2]||bm(x,O,_)}function Rl(_){return((_|=0)+-48|0)>>>0<10|0}function Ia(_){var x=0,oe=0,O=0,oe=0|c[(_|=0)>>2];if(0|Rl((x=0|Le[oe>>0])<<24>>24))for(O=x,x=0;x=(10*x|0)-48+(O<<24>>24)|0,c[_>>2]=oe=oe+1|0,(0|Rl((O=0|Le[oe>>0])<<24>>24))!=0;);else x=0;return 0|x}function ol(_,x,O){_|=0,x|=0,O|=0;var oe,W=0,I=0;e:do if(x>>>0<=20)switch(0|x){case 9:W=3+(0|c[O>>2])&-4,x=0|c[W>>2],c[O>>2]=W+4,c[_>>2]=x;break e;case 10:W=3+(0|c[O>>2])&-4,x=0|c[W>>2],c[O>>2]=W+4,c[(W=_)>>2]=x,c[W+4>>2]=((0|x)<0)<<31>>31;break e;case 11:W=3+(0|c[O>>2])&-4,x=0|c[W>>2],c[O>>2]=W+4,c[(W=_)>>2]=x,c[W+4>>2]=0;break e;case 12:W=7+(0|c[O>>2])&-8,I=0|c[(x=W)>>2],x=0|c[x+4>>2],c[O>>2]=W+8,c[(W=_)>>2]=I,c[W+4>>2]=x;break e;case 13:I=3+(0|c[O>>2])&-4,W=0|c[I>>2],c[O>>2]=I+4,c[(I=_)>>2]=W=(65535&W)<<16>>16,c[I+4>>2]=((0|W)<0)<<31>>31;break e;case 14:I=3+(0|c[O>>2])&-4,W=0|c[I>>2],c[O>>2]=I+4,c[(I=_)>>2]=65535&W,c[I+4>>2]=0;break e;case 15:I=3+(0|c[O>>2])&-4,W=0|c[I>>2],c[O>>2]=I+4,c[(I=_)>>2]=W=(255&W)<<24>>24,c[I+4>>2]=((0|W)<0)<<31>>31;break e;case 16:I=3+(0|c[O>>2])&-4,W=0|c[I>>2],c[O>>2]=I+4,c[(I=_)>>2]=255&W,c[I+4>>2]=0;break e;case 17:I=7+(0|c[O>>2])&-8,oe=+w[I>>3],c[O>>2]=I+8,w[_>>3]=oe;break e;case 18:(function(re,G){re|=0;var z=7+(0|c[(G|=0)>>2])&-8,M=+w[z>>3];c[G>>2]=8+z,w[re>>3]=M})(_,O);break e;default:break e}while(0)}function ym(_,x,O,oe){if(O|=0,oe|=0,!((0|(_|=0))==0&(0|(x|=0))==0))for(;Le[(O=O+-1|0)>>0]=0|xr[480+(15&_)>>0]|oe,!((0|(_=0|xm(0|_,0|x,4)))==0&(0|(x=0|ut()))==0););return 0|O}function Oa(_,x,O){O|=0;var oe,W=0,I=0;if(0<(x|=0)>>>0|(0|x)==0&4294967295<(_|=0)>>>0)for(;I=0|ku(0|(oe=_),0|(W=x),0|(I=0|Tc(0|(_=0|Ec(0|_,0|x,10,0)),0|(x=0|ut()),-10,-1)),0|ut()),ut(),Le[(O=O+-1|0)>>0]=255&I|48,9<W>>>0|(0|W)==9&4294967295<oe>>>0;);if(_)for(;W=255&((I=_)+(0|Me(_=(_>>>0)/10|0,-10))|48),Le[(O=O+-1|0)>>0]=W,10<=I>>>0;);return 0|O}function us(_,x,O,oe,W){_|=0,x|=0;var I,re=we;if(we=we+256|0,I=re,(0|(oe|=0))<(0|(O|=0))&(73728&(W|=0)|0)==0){if(Da(0|I,x<<24>>24|0,0|((W=O-oe|0)>>>0<256?W:256)),255<W>>>0){for(oe=W;ln(_,I,256),255<(oe=oe+-256|0)>>>0;);W&=255}ln(_,I,W)}we=re}function up(_,x){return x|=0,0|(_=(_|=0)?0|cp(_,x):0)}function cp(_,x){_|=0,x|=0;do if(_){if(x>>>0<128){Le[_>>0]=x,_=1;break}if(!(0|c[916])){if((-128&x|0)==57216){Le[_>>0]=x,_=1;break}c[922]=25,_=-1;break}if(x>>>0<2048){Le[_>>0]=x>>>6|192,Le[_+1>>0]=63&x|128,_=2;break}if(x>>>0<55296|(-8192&x|0)==57344){Le[_>>0]=x>>>12|224,Le[_+1>>0]=x>>>6&63|128,Le[_+2>>0]=63&x|128,_=3;break}if((x+-65536|0)>>>0<1048576){Le[_>>0]=x>>>18|240,Le[_+1>>0]=x>>>12&63|128,Le[_+2>>0]=x>>>6&63|128,Le[_+3>>0]=63&x|128,_=4;break}c[922]=25,_=-1;break}while(_=1,0);return 0|_}function bm(_,x,O){_|=0,x|=0;var oe,W=0,I=0,re=0;(W=0|c[(I=(O|=0)+16|0)>>2])?re=5:0|function(G){var z=0,M=0;return M=0|Le[(z=74+(G|=0)|0)>>0],Le[z>>0]=255+M|M,z=8&(z=0|c[G>>2])?(c[G>>2]=32|z,-1):(c[G+8>>2]=0,c[G+4>>2]=0,z=0|c[G+44>>2],c[G+28>>2]=z,c[G+20>>2]=z,c[G+16>>2]=z+(0|c[G+48>>2]),0),0|z}(O)||(W=0|c[I>>2],re=5);e:do if((0|re)==5){if((W-(I=re=0|c[(oe=O+20|0)>>2])|0)>>>0<x>>>0){Md[3&c[O+36>>2]](O,_,x);break}t:do if((0|Le[O+75>>0])<0|(0|x)==0)W=x;else{for(re=x;(0|Le[_+(W=re+-1|0)>>0])!=10;){if(!W){W=x;break t}re=W}if((0|Md[3&c[O+36>>2]](O,_,re))>>>0<re>>>0)break e;I=0|c[oe>>2],W=x-re|0,_=_+re|0}while(0);al(0|I,0|_,0|W),c[oe>>2]=(0|c[oe>>2])+W}while(0)}function Bf(_){return w[k>>3]=_=+_,_=0|c[k>>2],it(0|c[k+4>>2]),0|_}function dp(_,x){x|=0;var O,oe,W=0;switch(w[k>>3]=_=+_,oe=0|xm(0|(W=0|c[k>>2]),0|(O=0|c[k+4>>2]),52),ut(),2047&oe){case 0:W=_!=0?(_=+dp(18446744073709552e3*_,x),(0|c[x>>2])-64|0):0,c[x>>2]=W;break;case 2047:break;default:c[x>>2]=(2047&oe)-1022,c[k>>2]=W,c[k+4>>2]=-2146435073&O|1071644672,_=+w[k>>3]}return+_}function wc(_){var x,W=0,O=0,oe=0,W=0|Le[(_|=0)>>0];e:do if(W<<24>>24)for(O=_,oe=4,_=1033;;){if(!(W<<24>>24==(x=0|Le[_>>0])<<24>>24&(0|(oe=oe+-1|0))!=0&x<<24>>24!=0))break e;if(_=_+1|0,!((W=0|Le[(O=O+1|0)>>0])<<24>>24)){W=0;break}}else W=0,_=1033;while(0);return(255&W)-(0|xr[_>>0])|0}function $l(_,x,O){x|=0,O|=0;var oe,W,I,re=0,G=0,z=we;we=we+240|0,c[(I=z)>>2]=_|=0;e:do if(1<(0|x))for(G=re=_,_=1;;){if(-1<(0|Ur(re,oe=(G=G+-4|0)+(0-(0|c[O+((W=x+-2|0)<<2)>>2]))|0))&&-1<(0|Ur(re,G))||(re=I+(_<<2)|0,_=_+1|0,(0|(x=-1<(0|Ur(oe,G))?(G=c[re>>2]=oe,x+-1|0):(c[re>>2]=G,W)))<=1))break e;re=0|c[I>>2]}else _=1;while(0);fp(I,_),we=z}function Sc(_,x){var O=0,oe=0,W=(_|=0)+4|0;31<(x|=0)>>>0?(O=0|c[W>>2],c[_>>2]=O,x=x+-32|(oe=c[W>>2]=0)):(O=0|c[_>>2],oe=0|c[W>>2]),c[_>>2]=oe<<32-x|(x?O>>>x:O),c[W>>2]=x?oe>>>x:oe}function kd(_,x,O,oe,W,I){_|=0,O|=0,oe|=0,W|=0,I|=0;var re,G,z,M=0,Z=0,ge=we;we=we+240|0,c[(G=(z=ge)+232|0)>>2]=x|=0,c[(re=4+G|0)>>2]=O,c[z>>2]=_;e:do if((0|x)!=1|(0|O)!=0&&(M=_+(0-(0|c[I+(oe<<2)>>2]))|0,1<=(0|Ur(M,_))))for(x=M,Z=1,M=(0|W)==0;;){if(M&1<(0|oe)){if(-1<(0|Ur(M=_+-4|0,x))){x=_,M=Z,O=10;break e}if(-1<(0|Ur(M+(0-(0|c[I+(oe+-2<<2)>>2]))|0,x))){x=_,M=Z,O=10;break e}}if(O=Z+1|0,c[z+(Z<<2)>>2]=x,Sc(G,W=0|Uf(G)),oe=W+oe|0,!((0|c[G>>2])!=1|(0|c[re>>2])!=0)){M=O,O=10;break e}if((0|Ur(M=x+(0-(0|c[I+(oe<<2)>>2]))|0,0|c[z>>2]))<1){M=O,O=10;break}_=x,x=M,Z=O,M=1}else O=9;while(0);(0|O)==9&&!(0|W)&&(x=_,M=1,O=10),(0|O)==10&&(fp(z,M),$l(x,oe,I)),we=ge}function Id(_,x){var O=0,oe=0,W=(_|=0)+4|0;31<(x|=0)>>>0?(O=0|c[_>>2],c[W>>2]=O,x=x+-32|(oe=c[_>>2]=0)):(O=0|c[W>>2],oe=0|c[_>>2]),c[W>>2]=((W=32-x|0)?oe>>>W:oe)|O<<x,c[_>>2]=oe<<x}function Uf(_){var x;return(x=0|Vf((0|c[(_|=0)>>2])-1|0))?0|x:0|(0|(_=0|Vf(0|c[_+4>>2]))?_+32|0:0)}function Vf(_){var x=0;if(_|=0)if(1&_)x=0;else for(x=0;x=x+1|0,!(2&_);)_>>>=1;else x=32;return 0|x}function fp(_,x){_|=0;var O,oe=0,W=we;if(we=we+256|0,oe=W,2<=(0|(x|=0)))for(al(0|(c[_+(x<<2)>>2]=oe),0|c[_>>2],4),oe=0;al(0|c[(O=_+(oe<<2)|0)>>2],0|c[_+((oe=oe+1|0)<<2)>>2],4),c[O>>2]=4+(0|c[O>>2]),(0|oe)!=(0|x););we=W}function Ll(_){_|=0;var x=0,O=0,oe=0,W=0,I=0,re=0,G=0,z=0,M=0,Z=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Fe=0,be=0,st=0,gt=0,Xe=0,Et=we;we=we+16|0,Ce=Et;do if(_>>>0<245){if(ge=0|c[923],3&(O=(_=(M=_>>>0<11?16:_+11&-8)>>>3)?ge>>>_:ge)|0)return _=0|c[(x=(W=3732+((oe=(1&O^1)+_|0)<<1<<2)|0)+8|0)>>2],(0|(O=0|c[(I=_+8|0)>>2]))==(0|W)?c[923]=ge&~(1<<oe):(c[O+12>>2]=W,c[x>>2]=O),c[_+4>>2]=3|(Xe=oe<<3),c[(Xe=_+Xe+4|0)>>2]=1|c[Xe>>2],we=Et,0|(Xe=I);if((Z=0|c[925])>>>0<M>>>0){if(0|O)return I=0|c[(x=(O=3732+((oe=((_=(oe=(G=(oe=((oe=O<<_&((oe=2<<_)|0-oe))&0-oe)-1|0)>>>12&16)?oe>>>G:oe)>>>5&8)|G|(I=(oe=_?oe>>>_:oe)>>>2&4)|(x=(oe=I?oe>>>I:oe)>>>1&2)|(O=(oe=x?oe>>>x:oe)>>>1&1))+(O?oe>>>O:oe)|0)<<1<<2)|0)+8|0)>>2],(0|(_=0|c[(G=I+8|0)>>2]))==(0|O)?c[923]=_=ge&~(1<<oe):(c[_+12>>2]=O,c[x>>2]=_,_=ge),re=(Xe=oe<<3)-M|0,c[I+4>>2]=3|M,c[(W=I+M|0)+4>>2]=1|re,c[I+Xe>>2]=re,0|Z&&(oe=0|c[928],O=3732+((x=Z>>>3)<<1<<2)|0,_=_&(x=1<<x)?0|c[(x=_=O+8|0)>>2]:(c[923]=_|x,x=O+8|0,O),c[x>>2]=oe,c[_+12>>2]=oe,c[oe+8>>2]=_,c[oe+12>>2]=O),c[925]=re,c[928]=W,we=Et,0|(Xe=G);if(I=0|c[924]){for(z=0|c[3996+(((oe=(z=(W=(z=(I&0-I)-1|0)>>>12&16)?z>>>W:z)>>>5&8)|W|(re=(z=oe?z>>>oe:z)>>>2&4)|(O=(z=re?z>>>re:z)>>>1&2)|(G=(z=O?z>>>O:z)>>>1&1))+(G?z>>>G:z)<<2)>>2],G=(-8&c[z+4>>2])-M|0,O=z;!(!(_=0|c[O+16>>2])&&!(_=0|c[O+20>>2]));)G=(re=(O=(-8&c[_+4>>2])-M|0)>>>0<G>>>0)?O:G,O=_,z=re?_:z;if(z>>>0<(re=z+M|0)>>>0){W=0|c[z+24>>2],x=0|c[z+12>>2];do if((0|x)==(0|z)){if(!(x=0|c[(_=z+20|0)>>2])&&!(x=0|c[(_=z+16|0)>>2])){O=0;break}for(;;)if(O=0|c[(oe=x+20|0)>>2])x=O,_=oe;else{if(!(O=0|c[(oe=x+16|0)>>2]))break;x=O,_=oe}c[_>>2]=0,O=x}else O=0|c[z+8>>2],c[O+12>>2]=x,c[x+8>>2]=O,O=x;while(0);do if(0|W){if(x=0|c[z+28>>2],(0|z)==(0|c[(_=3996+(x<<2)|0)>>2])){if(!(c[_>>2]=O)){c[924]=I&~(1<<x);break}}else if(!(c[((0|c[(Xe=W+16|0)>>2])==(0|z)?Xe:W+20|0)>>2]=O))break;c[O+24>>2]=W,0|(x=0|c[z+16>>2])&&(c[O+16>>2]=x,c[x+24>>2]=O),0|(x=0|c[z+20>>2])&&(c[O+20>>2]=x,c[x+24>>2]=O)}while(0);return G>>>0<16?(c[z+4>>2]=3|(Xe=G+M|0),c[(Xe=z+Xe+4|0)>>2]=1|c[Xe>>2]):(c[z+4>>2]=3|M,c[re+4>>2]=1|G,c[re+G>>2]=G,0|Z&&(oe=0|c[928],O=3732+((x=Z>>>3)<<1<<2)|0,_=(x=1<<x)&ge?0|c[(x=_=O+8|0)>>2]:(c[923]=x|ge,x=O+8|0,O),c[x>>2]=oe,c[_+12>>2]=oe,c[oe+8>>2]=_,c[oe+12>>2]=O),c[925]=G,c[928]=re),we=Et,0|(Xe=z+8|0)}ge=M}else ge=M}else ge=M}else if(_>>>0<=4294967231)if(M=-8&(_=_+11|0),oe=0|c[924]){O=0-M|0,z=(_>>>=8)?16777215<M>>>0?31:1&((Fe=(z=14-((G=(G=(z=_<<(ge=(ge=_+1048320|0)>>>16&8))+520192|0)>>>16&4)|ge|(Fe=(Fe=(z<<=G)+245760|0)>>>16&2))+((z<<=Fe)>>>15)|0)+7|0)?M>>>Fe:M)|z<<1:0,_=0|c[3996+(z<<2)>>2];e:do if(_)for(re=M<<(((W=0)|z)==31?0:25-(z>>>1)|0),G=_,_=0;;){if((I=(-8&c[G+4>>2])-M|0)>>>0<O>>>0){if(!I){O=0,_=W=G,Fe=65;break e}O=I,_=G}if(W=(0|(Fe=0|c[G+20>>2]))==0|(0|Fe)==(0|(G=0|c[G+16+(re>>>31<<2)>>2]))?W:Fe,!G){Fe=61;break}re<<=1}else _=W=0,Fe=61;while(0);if((0|Fe)==61){if((0|W)==0&(0|_)==0){if(!(_=((_=2<<z)|0-_)&oe)){ge=M;break}W=0|c[3996+(((re=(W=(G=(W=(_&0-_)-1|0)>>>12&16)?W>>>G:W)>>>5&8)|G|(z=(W=re?W>>>re:W)>>>2&4)|(ge=(W=z?W>>>z:W)>>>1&2)|(_=(W=ge?W>>>ge:W)>>>1&1))+(_?W>>>_:W)<<2)>>2],_=0}W?Fe=65:(G=O,I=_)}if((0|Fe)==65)for(;;){if(O=(I=(ge=(-8&c[W+4>>2])-M|0)>>>0<O>>>0)?ge:O,I=I?W:_,!(_=(_=0|c[W+16>>2])||0|c[W+20>>2])){G=O;break}W=_,_=I}if(0|I&&G>>>0<((0|c[925])-M|0)>>>0&&I>>>0<(Z=I+M|0)>>>0){re=0|c[I+24>>2],x=0|c[I+12>>2];do if((0|x)==(0|I)){if(!(x=0|c[(_=I+20|0)>>2])&&!(x=0|c[(_=I+16|0)>>2])){x=0;break}for(;;)if(O=0|c[(W=x+20|0)>>2])x=O,_=W;else{if(!(O=0|c[(W=x+16|0)>>2]))break;x=O,_=W}c[_>>2]=0}else Xe=0|c[I+8>>2],c[Xe+12>>2]=x,c[x+8>>2]=Xe;while(0);do if(re){if(_=0|c[I+28>>2],(0|I)==(0|c[(O=3996+(_<<2)|0)>>2])){if(!(c[O>>2]=x)){oe&=~(1<<_),c[924]=oe;break}}else if(!(c[((0|c[(Xe=re+16|0)>>2])==(0|I)?Xe:re+20|0)>>2]=x))break;c[x+24>>2]=re,0|(_=0|c[I+16>>2])&&(c[x+16>>2]=_,c[_+24>>2]=x),(_=0|c[I+20>>2])&&(c[x+20>>2]=_,c[_+24>>2]=x)}while(0);e:do if(G>>>0<16)c[I+4>>2]=3|(Xe=G+M|0),c[(Xe=I+Xe+4|0)>>2]=1|c[Xe>>2];else{if(c[I+4>>2]=3|M,c[Z+4>>2]=1|G,x=(c[Z+G>>2]=G)>>>3,G>>>0<256){O=3732+(x<<1<<2)|0,_=(_=0|c[923])&(x=1<<x)?0|c[(x=_=O+8|0)>>2]:(c[923]=_|x,x=O+8|0,O),c[x>>2]=Z,c[_+12>>2]=Z,c[Z+8>>2]=_,c[Z+12>>2]=O;break}if(x=3996+((O=(x=G>>>8)?16777215<G>>>0?31:1&((Xe=(O=14-((st=(st=(O=x<<(gt=(gt=x+1048320|0)>>>16&8))+520192|0)>>>16&4)|gt|(Xe=(Xe=(O<<=st)+245760|0)>>>16&2))+((O<<=Xe)>>>15)|0)+7|0)?G>>>Xe:G)|O<<1:0)<<2)|0,c[Z+28>>2]=O,c[(_=Z+16|0)+4>>2]=0,c[_>>2]=0,!(oe&(_=1<<O))){c[924]=oe|_,c[x>>2]=Z,c[Z+24>>2]=x,c[Z+12>>2]=Z,c[Z+8>>2]=Z;break}x=0|c[x>>2];t:do if((-8&c[x+4>>2]|0)!=(0|G)){for(oe=G<<((0|O)==31?0:25-(O>>>1)|0);_=0|c[(O=x+16+(oe>>>31<<2)|0)>>2];){if((-8&c[_+4>>2]|0)==(0|G)){x=_;break t}oe<<=1,x=_}c[O>>2]=Z,c[Z+24>>2]=x,c[Z+12>>2]=Z,c[Z+8>>2]=Z;break e}while(0);Xe=0|c[(gt=x+8|0)>>2],c[Xe+12>>2]=Z,c[gt>>2]=Z,c[Z+8>>2]=Xe,c[Z+12>>2]=x,c[Z+24>>2]=0}while(0);return we=Et,0|(Xe=I+8|0)}ge=M}else ge=M;else ge=-1;while(0);if(ge>>>0<=(O=0|c[925])>>>0)return x=0|c[928],15<(_=O-ge|0)>>>0?(c[928]=Xe=x+ge|0,c[925]=_,c[Xe+4>>2]=1|_,c[x+O>>2]=_,c[x+4>>2]=3|ge):(c[925]=0,c[928]=0,c[x+4>>2]=3|O,c[(Xe=x+O+4|0)>>2]=1|c[Xe>>2]),we=Et,0|(Xe=x+8|0);if(ge>>>0<(re=0|c[926])>>>0)return c[926]=st=re-ge|0,Xe=0|c[929],c[929]=gt=Xe+ge|0,c[gt+4>>2]=1|st,c[Xe+4>>2]=3|ge,we=Et,0|(Xe=Xe+8|0);if(G=ge+48|0,(M=(I=(_=0|c[1041]?0|c[1043]:(c[1043]=4096,c[1042]=4096,c[1044]=-1,c[1045]=-1,c[1046]=0,c[1034]=0,c[1041]=-16&Ce^1431655768,4096))+(z=ge+47|0)|0)&(oe=0-_|0))>>>0<=ge>>>0||0|(_=0|c[1033])&&(Ce=(Z=0|c[1031])+M|0)>>>0<=Z>>>0|_>>>0<Ce>>>0)return we=Et,(Xe=0)|Xe;e:do if(4&c[1034])x=0,Fe=143;else{O=0|c[929];t:do if(O){for(W=4140;!((_=0|c[W>>2])>>>0<=O>>>0&&(_+(0|c[(Ne=W+4|0)>>2])|0)>>>0>O>>>0);){if(!(_=0|c[W+8>>2])){Fe=128;break t}W=_}if((x=I-re&oe)>>>0<2147483647)if((0|(_=0|Fl(x)))==((0|c[W>>2])+(0|c[Ne>>2])|0)){if((0|_)!=-1){re=_,I=x,Fe=145;break e}}else oe=_,Fe=136;else x=0}else Fe=128;while(0);do if((0|Fe)==128)if((0|(O=0|Fl(0)))!=-1&&(x=O,Te=(x=((Te=(Ge=0|c[1042])+-1|0)&x|0?(Te+x&0-Ge)-x|0:0)+M|0)+(Ge=0|c[1031])|0,ge>>>0<x>>>0&x>>>0<2147483647)){if(0|(Ne=0|c[1033])&&Te>>>0<=Ge>>>0|Ne>>>0<Te>>>0){x=0;break}if((0|(_=0|Fl(x)))==(0|O)){re=O,I=x,Fe=145;break e}oe=_,Fe=136}else x=0;while(0);do if((0|Fe)==136){if(O=0-x|0,!(x>>>0<G>>>0&x>>>0<2147483647&(0|oe)!=-1)){if((0|oe)==-1){x=0;break}re=oe,I=x,Fe=145;break e}if(2147483647<=(_=z-x+(_=0|c[1043])&0-_)>>>0){re=oe,I=x,Fe=145;break e}if((0|Fl(_))==-1){Fl(O),x=0;break}re=oe,I=_+x|0,Fe=145;break e}while(0);c[1034]=4|c[1034],Fe=143}while(0);if((0|Fe)==143&&M>>>0<2147483647&&!((0|(be=0|Fl(M)))==-1|1^(st=(ge+40|0)>>>0<(gt=(Ne=0|Fl(0))-be|0)>>>0)|be>>>0<Ne>>>0&(0|be)!=-1&(0|Ne)!=-1^1)&&(re=be,I=st?gt:x,Fe=145),(0|Fe)==145){x=(0|c[1031])+I|0,(c[1031]=x)>>>0>(0|c[1032])>>>0&&(c[1032]=x),z=0|c[929];e:do if(z){for(W=4140;;){if((0|re)==((x=0|c[W>>2])+(_=0|c[(oe=W+4|0)>>2])|0)){Fe=154;break}if(!(O=0|c[W+8>>2]))break;W=O}if((0|Fe)==154&&!(8&c[W+12>>2]|0)&&z>>>0<re>>>0&x>>>0<=z>>>0){c[oe>>2]=_+I,gt=z+(st=7&(st=z+8|0)|0?0-st&7:0)|0,st=(Xe=(0|c[926])+I|0)-st|0,c[929]=gt,c[926]=st,c[gt+4>>2]=1|st,c[z+Xe+4>>2]=40,c[930]=c[1045];break}for(re>>>0<(0|c[927])>>>0&&(c[927]=re),O=re+I|0,_=4140;;){if((0|c[_>>2])==(0|O)){Fe=162;break}if(!(x=0|c[_+8>>2]))break;_=x}if((0|Fe)==162&&!(8&c[_+12>>2]|0)){c[_>>2]=re,c[(Z=_+4|0)>>2]=(0|c[Z>>2])+I,M=(Z=re+(7&(Z=re+8|0)|0?0-Z&7:0)|0)+ge|0,G=(x=O+(7&(x=O+8|0)|0?0-x&7:0)|0)-Z-ge|0,c[Z+4>>2]=3|ge;t:do if((0|z)==(0|x))Xe=(0|c[926])+G|0,c[926]=Xe,c[929]=M,c[M+4>>2]=1|Xe;else{if((0|c[928])==(0|x)){Xe=(0|c[925])+G|0,c[925]=Xe,c[928]=M,c[M+4>>2]=1|Xe,c[M+Xe>>2]=Xe;break}if((3&(_=0|c[x+4>>2])|0)==1){re=-8&_,oe=_>>>3;r:do{if(_>>>0<256){if(_=0|c[x+8>>2],(0|(O=0|c[x+12>>2]))==(0|_)){c[923]=c[923]&~(1<<oe);break}c[_+12>>2]=O,c[O+8>>2]=_;break}I=0|c[x+24>>2],_=0|c[x+12>>2];do if((0|_)==(0|x)){if(!(_=0|c[(O=(oe=x+16|0)+4|0)>>2])){if(!(_=0|c[oe>>2])){_=0;break}O=oe}for(;;)if(oe=0|c[(W=_+20|0)>>2])_=oe,O=W;else{if(!(oe=0|c[(W=_+16|0)>>2]))break;_=oe,O=W}c[O>>2]=0}else Xe=0|c[x+8>>2],c[Xe+12>>2]=_,c[_+8>>2]=Xe;while(0);if(!I)break;oe=3996+((O=0|c[x+28>>2])<<2)|0;do{if((0|c[oe>>2])==(0|x)){if(0|(c[oe>>2]=_))break;c[924]=c[924]&~(1<<O);break r}if(!(c[((0|c[(Xe=I+16|0)>>2])==(0|x)?Xe:I+20|0)>>2]=_))break r}while(0)}while(c[_+24>>2]=I,0|(O=0|c[(oe=x+16|0)>>2])&&(c[_+16>>2]=O,c[O+24>>2]=_),(O=0|c[oe+4>>2])&&(c[_+20>>2]=O,c[O+24>>2]=_,0));x=x+re|0,W=re+G|0}else W=G;if(c[(x=x+4|0)>>2]=-2&c[x>>2],c[M+4>>2]=1|W,x=(c[M+W>>2]=W)>>>3,W>>>0<256){O=3732+(x<<1<<2)|0,_=(_=0|c[923])&(x=1<<x)?0|c[(x=_=O+8|0)>>2]:(c[923]=_|x,x=O+8|0,O),c[x>>2]=M,c[_+12>>2]=M,c[M+8>>2]=_,c[M+12>>2]=O;break}x=W>>>8;do if(x){if(16777215<W>>>0){oe=31;break}oe=1&((Xe=(oe=14-((st=(st=(oe=x<<(gt=(gt=x+1048320|0)>>>16&8))+520192|0)>>>16&4)|gt|(Xe=(Xe=(oe<<=st)+245760|0)>>>16&2))+((oe<<=Xe)>>>15)|0)+7|0)?W>>>Xe:W)|oe<<1}else oe=0;while(0);if(_=3996+(oe<<2)|0,c[M+28>>2]=oe,c[(x=M+16|0)+4>>2]=0,!((x=(c[x>>2]=0)|c[924])&(O=1<<oe))){c[924]=x|O,c[_>>2]=M,c[M+24>>2]=_,c[M+12>>2]=M,c[M+8>>2]=M;break}x=0|c[_>>2];r:do if((-8&c[x+4>>2]|0)!=(0|W)){for(oe=W<<((0|oe)==31?0:25-(oe>>>1)|0);_=0|c[(O=x+16+(oe>>>31<<2)|0)>>2];){if((-8&c[_+4>>2]|0)==(0|W)){x=_;break r}oe<<=1,x=_}c[O>>2]=M,c[M+24>>2]=x,c[M+12>>2]=M,c[M+8>>2]=M;break t}while(0);Xe=0|c[(gt=x+8|0)>>2],c[Xe+12>>2]=M,c[gt>>2]=M,c[M+8>>2]=Xe,c[M+12>>2]=x,c[M+24>>2]=0}while(0);return we=Et,0|(Xe=Z+8|0)}for(_=4140;!((x=0|c[_>>2])>>>0<=z>>>0&&z>>>0<(Xe=x+(0|c[_+4>>2])|0)>>>0);)_=0|c[_+8>>2];for(x=(_=(_=(W=Xe+-47|0)+(7&(_=W+8|0)|0?0-_&7:0)|0)>>>0<(W=z+16|0)>>>0?z:_)+8|0,gt=re+(st=7&(st=re+8|0)|0?0-st&7:0)|0,st=(O=I+-40|0)-st|0,c[929]=gt,c[926]=st,c[gt+4>>2]=1|st,c[re+O+4>>2]=40,c[930]=c[1045],c[(O=_+4|0)>>2]=27,c[x>>2]=c[1035],c[x+4>>2]=c[1036],c[x+8>>2]=c[1037],c[x+12>>2]=c[1038],c[1035]=re,c[1036]=I,c[1038]=0,c[1037]=x,x=_+24|0;c[(x=(gt=x)+4|0)>>2]=7,(gt+8|0)>>>0<Xe>>>0;);if((0|_)!=(0|z)){if(I=_-z|0,c[O>>2]=-2&c[O>>2],c[z+4>>2]=1|I,x=(c[_>>2]=I)>>>3,I>>>0<256){O=3732+(x<<1<<2)|0,_=(_=0|c[923])&(x=1<<x)?0|c[(x=_=O+8|0)>>2]:(c[923]=_|x,x=O+8|0,O),c[x>>2]=z,c[_+12>>2]=z,c[z+8>>2]=_,c[z+12>>2]=O;break}if(O=3996+((oe=(x=I>>>8)?16777215<I>>>0?31:1&((Xe=(oe=14-((st=(st=(oe=x<<(gt=(gt=x+1048320|0)>>>16&8))+520192|0)>>>16&4)|gt|(Xe=(Xe=(oe<<=st)+245760|0)>>>16&2))+((oe<<=Xe)>>>15)|0)+7|0)?I>>>Xe:I)|oe<<1:0)<<2)|0,c[z+28>>2]=oe,c[z+20>>2]=0,!((x=(c[W>>2]=0)|c[924])&(_=1<<oe))){c[924]=x|_,c[O>>2]=z,c[z+24>>2]=O,c[z+12>>2]=z,c[z+8>>2]=z;break}x=0|c[O>>2];t:do if((-8&c[x+4>>2]|0)!=(0|I)){for(oe=I<<((0|oe)==31?0:25-(oe>>>1)|0);_=0|c[(O=x+16+(oe>>>31<<2)|0)>>2];){if((-8&c[_+4>>2]|0)==(0|I)){x=_;break t}oe<<=1,x=_}c[O>>2]=z,c[z+24>>2]=x,c[z+12>>2]=z,c[z+8>>2]=z;break e}while(0);Xe=0|c[(gt=x+8|0)>>2],c[Xe+12>>2]=z,c[gt>>2]=z,c[z+8>>2]=Xe,c[z+12>>2]=x,c[z+24>>2]=0}}else(0|(Xe=0|c[927]))==0|re>>>0<Xe>>>0&&(c[927]=re),c[1035]=re,c[1036]=I,c[1038]=0,c[932]=c[1041],c[931]=-1,c[936]=3732,c[935]=3732,c[938]=3740,c[937]=3740,c[940]=3748,c[939]=3748,c[942]=3756,c[941]=3756,c[944]=3764,c[943]=3764,c[946]=3772,c[945]=3772,c[948]=3780,c[947]=3780,c[950]=3788,c[949]=3788,c[952]=3796,c[951]=3796,c[954]=3804,c[953]=3804,c[956]=3812,c[955]=3812,c[958]=3820,c[957]=3820,c[960]=3828,c[959]=3828,c[962]=3836,c[961]=3836,c[964]=3844,c[963]=3844,c[966]=3852,c[965]=3852,c[968]=3860,c[967]=3860,c[970]=3868,c[969]=3868,c[972]=3876,c[971]=3876,c[974]=3884,c[973]=3884,c[976]=3892,c[975]=3892,c[978]=3900,c[977]=3900,c[980]=3908,c[979]=3908,c[982]=3916,c[981]=3916,c[984]=3924,c[983]=3924,c[986]=3932,c[985]=3932,c[988]=3940,c[987]=3940,c[990]=3948,c[989]=3948,c[992]=3956,c[991]=3956,c[994]=3964,c[993]=3964,c[996]=3972,c[995]=3972,c[998]=3980,c[997]=3980,gt=re+(st=7&(st=re+8|0)|0?0-st&7:0)|0,st=(Xe=I+-40|0)-st|0,c[929]=gt,c[926]=st,c[gt+4>>2]=1|st,c[re+Xe+4>>2]=40,c[930]=c[1045];while(0);if(ge>>>0<(x=0|c[926])>>>0)return c[926]=st=x-ge|0,Xe=0|c[929],c[929]=gt=Xe+ge|0,c[gt+4>>2]=1|st,c[Xe+4>>2]=3|ge,we=Et,0|(Xe=Xe+8|0)}return c[922]=48,we=Et,(Xe=0)|Xe}function Od(_){var x=0,O=0,oe=0,W=0,I=0,re=0,G=0,z=0,M=0;if(_|=0){oe=0|c[927],M=(O=_+-8|0)+(x=-8&(_=0|c[_+-4>>2]))|0;do if(1&_)z=G=O;else{if(W=0|c[O>>2],!(3&_)||(re=W+x|0,(I=O+(0-W)|0)>>>0<oe>>>0))return;if((0|c[928])==(0|I)){if((3&(_=0|c[(x=M+4|0)>>2])|0)==3)return c[925]=re,c[x>>2]=-2&_,c[I+4>>2]=1|re,void(c[I+re>>2]=re);z=G=I,x=re;break}if(O=W>>>3,W>>>0<256){if(_=0|c[I+8>>2],(0|(x=0|c[I+12>>2]))==(0|_)){c[923]=c[923]&~(1<<O),z=G=I,x=re;break}c[_+12>>2]=x,c[x+8>>2]=_,z=G=I,x=re;break}W=0|c[I+24>>2],_=0|c[I+12>>2];do if((0|_)==(0|I)){if(!(_=0|c[(x=(O=I+16|0)+4|0)>>2])){if(!(_=0|c[O>>2])){O=0;break}x=O}for(;;)if(O=0|c[(oe=_+20|0)>>2])_=O,x=oe;else{if(!(O=0|c[(oe=_+16|0)>>2]))break;_=O,x=oe}c[x>>2]=0,O=_}else O=0|c[I+8>>2],c[O+12>>2]=_,c[_+8>>2]=O,O=_;while(0);if(W){if(_=0|c[I+28>>2],(0|c[(x=3996+(_<<2)|0)>>2])==(0|I)){if(!(c[x>>2]=O)){c[924]=c[924]&~(1<<_),z=G=I,x=re;break}}else if(!(c[((0|c[(z=W+16|0)>>2])==(0|I)?z:W+20|0)>>2]=O)){z=G=I,x=re;break}c[O+24>>2]=W,0|(_=0|c[(x=I+16|0)>>2])&&(c[O+16>>2]=_,c[_+24>>2]=O),x=(z=G=((_=0|c[x+4>>2])&&(c[O+20>>2]=_,c[_+24>>2]=O),I),re)}else z=G=I,x=re}while(0);if(!(M>>>0<=G>>>0)&&1&(O=0|c[(_=M+4|0)>>2])){if(2&O)c[_>>2]=-2&O,c[z+4>>2]=1|x,W=c[G+x>>2]=x;else{if((0|c[929])==(0|M))return M=(0|c[926])+x|0,c[926]=M,c[929]=z,c[z+4>>2]=1|M,void((0|z)==(0|c[928])&&(c[928]=0,c[925]=0));if((0|c[928])==(0|M))return M=(0|c[925])+x|0,c[925]=M,c[928]=G,c[z+4>>2]=1|M,void(c[G+M>>2]=M);W=(-8&O)+x|0,oe=O>>>3;do{if(O>>>0<256){if(x=0|c[M+8>>2],(0|(_=0|c[M+12>>2]))==(0|x)){c[923]=c[923]&~(1<<oe);break}c[x+12>>2]=_,c[_+8>>2]=x;break}I=0|c[M+24>>2],_=0|c[M+12>>2];do if((0|_)==(0|M)){if(!(_=0|c[(x=(O=M+16|0)+4|0)>>2])){if(!(_=0|c[O>>2])){O=0;break}x=O}for(;;)if(O=0|c[(oe=_+20|0)>>2])_=O,x=oe;else{if(!(O=0|c[(oe=_+16|0)>>2]))break;_=O,x=oe}c[x>>2]=0,O=_}else O=0|c[M+8>>2],c[O+12>>2]=_,c[_+8>>2]=O,O=_;while(0);if(0|I){if(_=0|c[M+28>>2],(0|c[(x=3996+(_<<2)|0)>>2])==(0|M)){if(!(c[x>>2]=O)){c[924]=c[924]&~(1<<_);break}}else if(!(c[((0|c[(re=I+16|0)>>2])==(0|M)?re:I+20|0)>>2]=O))break;c[O+24>>2]=I,0|(_=0|c[(x=M+16|0)>>2])&&(c[O+16>>2]=_,c[_+24>>2]=O),0|(_=0|c[x+4>>2])&&(c[O+20>>2]=_,c[_+24>>2]=O)}}while(0);if(c[z+4>>2]=1|W,c[G+W>>2]=W,(0|z)==(0|c[928]))return void(c[925]=W)}if(_=W>>>3,W>>>0<256)return O=3732+(_<<1<<2)|0,x=(x=0|c[923])&(_=1<<_)?0|c[(_=x=O+8|0)>>2]:(c[923]=x|_,_=O+8|0,O),c[_>>2]=z,c[x+12>>2]=z,c[z+8>>2]=x,void(c[z+12>>2]=O);x=3996+((oe=(_=W>>>8)?16777215<W>>>0?31:1&((M=(oe=14-((re=(re=(oe=_<<(G=(G=_+1048320|0)>>>16&8))+520192|0)>>>16&4)|G|(M=(M=(oe<<=re)+245760|0)>>>16&2))+((oe<<=M)>>>15)|0)+7|0)?W>>>M:W)|oe<<1:0)<<2)|0,c[z+28>>2]=oe,c[z+20>>2]=0,_=(c[z+16>>2]=0)|c[924],O=1<<oe;e:do if(_&O){_=0|c[x>>2];t:do if((-8&c[_+4>>2]|0)!=(0|W)){for(oe=W<<((0|oe)==31?0:25-(oe>>>1)|0);x=0|c[(O=_+16+(oe>>>31<<2)|0)>>2];){if((-8&c[x+4>>2]|0)==(0|W)){_=x;break t}oe<<=1,_=x}c[O>>2]=z,c[z+24>>2]=_,c[z+12>>2]=z,c[z+8>>2]=z;break e}while(0);M=0|c[(G=_+8|0)>>2],c[M+12>>2]=z,c[G>>2]=z,c[z+8>>2]=M,c[z+12>>2]=_,c[z+24>>2]=0}else c[924]=_|O,c[x>>2]=z,c[z+24>>2]=x,c[z+12>>2]=z,c[z+8>>2]=z;while(0);if(M=(0|c[931])-1|0,!(0|(c[931]=M))){for(_=4148;_=0|c[_>>2];)_=_+8|0;c[931]=-1}}}}function Dd(_,x){var z=0,O=0,oe=0,W=0,I=0,re=0,G=0,G=(_|=0)+(x|=0)|0,z=0|c[_+4>>2];do if(1&z)re=_,_=x;else{if(O=0|c[_>>2],!(3&z))return;if(I=O+x|0,(0|c[928])==(0|(W=_+(0-O)|0))){if((3&(z=0|c[(_=G+4|0)>>2])|0)==3)return c[925]=I,c[_>>2]=-2&z,c[W+4>>2]=1|I,void(c[G>>2]=I);re=W,_=I;break}if(x=O>>>3,O>>>0<256){if(z=0|c[W+8>>2],(0|(_=0|c[W+12>>2]))==(0|z)){c[923]=c[923]&~(1<<x),re=W,_=I;break}c[z+12>>2]=_,c[_+8>>2]=z,re=W,_=I;break}oe=0|c[W+24>>2],z=0|c[W+12>>2];do if((0|z)==(0|W)){if(!(z=0|c[(_=(x=W+16|0)+4|0)>>2])){if(!(z=0|c[x>>2])){x=0;break}_=x}for(;;)if(x=0|c[(O=z+20|0)>>2])z=x,_=O;else{if(!(x=0|c[(O=z+16|0)>>2]))break;z=x,_=O}c[_>>2]=0,x=z}else x=0|c[W+8>>2],c[x+12>>2]=z,c[z+8>>2]=x,x=z;while(0);if(oe){if(z=0|c[W+28>>2],(0|c[(_=3996+(z<<2)|0)>>2])==(0|W)){if(!(c[_>>2]=x)){c[924]=c[924]&~(1<<z),re=W,_=I;break}}else if(!(c[((0|c[(re=oe+16|0)>>2])==(0|W)?re:oe+20|0)>>2]=x)){re=W,_=I;break}c[x+24>>2]=oe,0|(z=0|c[(_=W+16|0)>>2])&&(c[x+16>>2]=z,c[z+24>>2]=x),_=(re=((z=0|c[_+4>>2])&&(c[x+20>>2]=z,c[z+24>>2]=x),W),I)}else re=W,_=I}while(0);if(2&(x=0|c[(z=G+4|0)>>2]))c[z>>2]=-2&x,c[re+4>>2]=1|_,c[re+_>>2]=_;else{if((0|c[929])==(0|G))return G=(0|c[926])+_|0,c[926]=G,c[929]=re,c[re+4>>2]=1|G,void((0|re)==(0|c[928])&&(c[928]=0,c[925]=0));if((0|c[928])==(0|G))return G=(0|c[925])+_|0,c[925]=G,c[928]=re,c[re+4>>2]=1|G,void(c[re+G>>2]=G);W=(-8&x)+_|0,O=x>>>3;do{if(x>>>0<256){if(_=0|c[G+8>>2],(0|(z=0|c[G+12>>2]))==(0|_)){c[923]=c[923]&~(1<<O);break}c[_+12>>2]=z,c[z+8>>2]=_;break}oe=0|c[G+24>>2],z=0|c[G+12>>2];do if((0|z)==(0|G)){if(!(z=0|c[(_=(x=G+16|0)+4|0)>>2])){if(!(z=0|c[x>>2])){x=0;break}_=x}for(;;)if(x=0|c[(O=z+20|0)>>2])z=x,_=O;else{if(!(x=0|c[(O=z+16|0)>>2]))break;z=x,_=O}c[_>>2]=0,x=z}else x=0|c[G+8>>2],c[x+12>>2]=z,c[z+8>>2]=x,x=z;while(0);if(0|oe){if(z=0|c[G+28>>2],(0|c[(_=3996+(z<<2)|0)>>2])==(0|G)){if(!(c[_>>2]=x)){c[924]=c[924]&~(1<<z);break}}else if(!(c[((0|c[(I=oe+16|0)>>2])==(0|G)?I:oe+20|0)>>2]=x))break;c[x+24>>2]=oe,0|(z=0|c[(_=G+16|0)>>2])&&(c[x+16>>2]=z,c[z+24>>2]=x),0|(z=0|c[_+4>>2])&&(c[x+20>>2]=z,c[z+24>>2]=x)}}while(0);if(c[re+4>>2]=1|W,c[re+W>>2]=W,(0|re)==(0|c[928]))return void(c[925]=W);_=W}if(z=_>>>3,_>>>0<256)return x=3732+(z<<1<<2)|0,_=(_=0|c[923])&(z=1<<z)?0|c[(z=_=x+8|0)>>2]:(c[923]=_|z,z=x+8|0,x),c[z>>2]=re,c[_+12>>2]=re,c[re+8>>2]=_,void(c[re+12>>2]=x);if(x=3996+((oe=(z=_>>>8)?16777215<_>>>0?31:1&((G=(oe=14-((W=(W=(oe=z<<(I=(I=z+1048320|0)>>>16&8))+520192|0)>>>16&4)|I|(G=(G=(oe<<=W)+245760|0)>>>16&2))+((oe<<=G)>>>15)|0)+7|0)?_>>>G:_)|oe<<1:0)<<2)|0,c[re+28>>2]=oe,c[re+20>>2]=0,!((z=(c[re+16>>2]=0)|c[924])&(O=1<<oe)))return c[924]=z|O,c[x>>2]=re,c[re+24>>2]=x,c[re+12>>2]=re,void(c[re+8>>2]=re);z=0|c[x>>2];e:do if((-8&c[z+4>>2]|0)!=(0|_)){for(oe=_<<((0|oe)==31?0:25-(oe>>>1)|0);x=0|c[(O=z+16+(oe>>>31<<2)|0)>>2];){if((-8&c[x+4>>2]|0)==(0|_)){z=x;break e}oe<<=1,z=x}return c[O>>2]=re,c[re+24>>2]=z,c[re+12>>2]=re,void(c[re+8>>2]=re)}while(0);G=0|c[(I=z+8|0)>>2],c[G+12>>2]=re,c[I>>2]=re,c[re+8>>2]=G,c[re+12>>2]=z,c[re+24>>2]=0}function hp(_,x,O){_|=0;var oe;return(3&(x|=0)|0)!=0|(0|(oe=x>>>2))==0||1073741823+oe&oe|0?0|(_=28):!((-64-x|0)>>>0<(O|=0)>>>0)&&(x=0|function(W,I){I|=0;var re,G=0,z=0,M=0,Z=0,ge=0;if((G=16<(W|=0)>>>0?W:16)+-1&G)for(W=16;W>>>0<G>>>0;)W<<=1;else W=G;if((-64-W|0)>>>0<=I>>>0)return c[922]=48,(Z=0)|Z;if(!(G=0|Ll(12+(re=I>>>0<11?16:I+11&-8)+W|0)))return(Z=0)|Z;M=G+-8|0;do if(W+-1&G){if(z=15<((z=(G+W+-1&0-W)-8|0)-(I=M)|0)>>>0?z:z+W|0,G=(-8&(ge=0|c[(W=G+-4|0)>>2]))-(I=z-I|0)|0,3&ge){c[(ge=z+4|0)>>2]=G|1&c[ge>>2]|2,c[(G=z+G+4|0)>>2]=1|c[G>>2],c[W>>2]=I|1&c[W>>2]|2,c[ge>>2]=1|c[ge>>2],Dd(M,I),W=I=z;break}c[z>>2]=(0|c[M>>2])+I,c[z+4>>2]=G,W=I=z;break}while(W=I=M,0);return 3&(W=0|c[(G=W+4|0)>>2])|0&&(16+re|0)>>>0<(Z=-8&W)>>>0&&(ge=Z-re|0,M=I+re|0,c[G>>2]=re|1&W|2,c[M+4>>2]=3|ge,c[(Z=I+Z+4|0)>>2]=1|c[Z>>2],Dd(M,ge)),0|(ge=I+8|0)}(16<x>>>0?x:16,O))?(c[_>>2]=x,(_=0)|_):0|(_=48)}function Fl(_){var x,O=0;return(_=(x=0|c[(O=4208)>>2])+(_|=0)|0)>>>0>(0|Xt())>>>0&&!(0|or(0|_))?(c[922]=48,0|(O=-1)):(c[O>>2]=_,0|(O=x))}function Tc(_,x,O,oe){x|=0,oe|=0;var W=0,I=0;return O=0|function(re,G){var z,M,Z,ge;return re=((Z=0|Me(M=65535&(G|=0),z=65535&(re|=0)))>>>16)+(0|Me(M,ge=re>>>16))|0,G=0|Me(M=G>>>16,z),0|(it((re>>>16)+(0|Me(M,ge))+(((65535&re)+G|0)>>>16)|0),re+G<<16|65535&Z|0)}(W=_|=0,I=O|=0),_=0|ut(),0|(it((0|Me(x,I))+(0|Me(oe,W))+_|0&_|0),0|O)}function ku(_,x,O,oe){return 0|(it((x|=0)+(oe|=0)+((O=(_|=0)+(O|=0)>>>0)>>>0<_>>>0|0)>>>0|0),0|O)}function js(_,x,O,oe){return 0|(it(0|(oe=(x|=0)-(oe|=0)-((_|=0)>>>0<(O|=0)>>>0|0)>>>0)),_-O>>>0|0)}function pp(_){return 0|((_|=0)?31-(0|Se(_^_-1))|0:32)}function mp(_,x,O,oe,W){W|=0;var I=0,Ge=0,Te=0,re=0,G=0,Ce=0,z=0,M=0,Z=0,ge=0,Ce=_|=0,Ge=O|=0,Te=M=oe|=0;if(!(G=re=x|=0))return I=(0|W)!=0,Te?(I&&(c[W>>2]=0|_,c[W+4>>2]=0&x),(W=M=0)|(it(0|M),W)):(I&&(c[W>>2]=(Ce>>>0)%(Ge>>>0),c[W+4>>2]=0),W=(Ce>>>(M=0))/(Ge>>>0)>>>0,0|(it(0|M),W));I=(0|Te)==0;do{if(Ge){if(!I){if((I=(0|Se(0|Te))-(0|Se(0|G))|0)>>>0<=31){_=Ce>>>((Ge=z=I+1|0)>>>0)&(x=I-31>>31)|G<<(Te=31-I|0),x&=G>>>(z>>>0),I=0,Te=Ce<<Te;break}return W&&(c[W>>2]=0|_,c[W+4>>2]=re|0&x),(W=M=0)|(it(0|M),W)}if((I=Ge-1|0)&Ge|0){_=(z=32-(Te=33+(0|Se(0|Ge))-(0|Se(0|G))|0)|0)-1>>31&G>>>((Z=Te-32|0)>>>0)|(G<<z|Ce>>>((Ge=Te)>>>0))&(x=Z>>31),x&=G>>>(Te>>>0),I=Ce<<(ge=64-Te|0)&(re=z>>31),Te=(G<<ge|Ce>>>(Z>>>0))&re|Ce<<z&Te-33>>31;break}return 0|W&&(c[W>>2]=I&Ce,c[W+4>>2]=0),(0|Ge)==1?(ge=0|_,0|(it(0|(Z=re|0&x)),ge)):(Z=G>>>((ge=0|pp(0|Ge))>>>0)|0,ge=G<<32-ge|Ce>>>(ge>>>0)|0,0|(it(0|Z),ge))}if(I)return 0|W&&(c[W>>2]=(G>>>0)%(Ge>>>0),c[W+4>>2]=0),ge=(G>>>(Z=0))/(Ge>>>0)>>>0,0|(it(0|Z),ge);if(!Ce)return 0|W&&(c[W>>2]=0,c[W+4>>2]=(G>>>0)%(Te>>>0)),ge=(G>>>(Z=0))/(Te>>>0)>>>0,0|(it(0|Z),ge);if(!((I=Te-1|0)&Te))return 0|W&&(c[W>>2]=0|_,c[W+4>>2]=I&G|0&x),ge=G>>>(((Z=0)|pp(0|Te))>>>0),0|(it(0|Z),ge);if((I=(0|Se(0|Te))-(0|Se(0|G))|0)>>>0<=30){_=G<<(Te=31-I|0)|Ce>>>((Ge=x=I+1|0)>>>0),x=G>>>(x>>>0),I=0,Te=Ce<<Te;break}return W&&(c[W>>2]=0|_,c[W+4>>2]=re|0&x),(ge=Z=0)|(it(0|Z),ge)}while(0);if(Ge){for(G=0|ku(0|(z=0|O),0|(Ce=M|0&oe),-1,-1),O=0|ut(),re=Te,Te=0;re=I>>>31|(oe=re)<<1,I=Te|I<<1,js(0|G,0|O,0|(oe=_<<1|oe>>>31|0),0|(M=_>>>31|x<<1|0)),Te=1&(Z=(ge=0|ut())>>31|((0|ge)<0?-1:0)<<1),_=0|js(0|oe,0|M,Z&z|0,(((0|ge)<0?-1:0)>>31|((0|ge)<0?-1:0)<<1)&Ce|0),x=0|ut(),(0|(Ge=Ge-1|0))!=0;);G=re,re=0}else G=Te,Te=re=0;return(Ge=0)|W&&(c[W>>2]=_,c[W+4>>2]=x),ge=-2&(I<<1|0)|Te,0|(it(0|(Z=(0|I)>>>31|(G|Ge)<<1|0&(Ge<<1|I>>>31)|re)),ge)}function Ec(_,x,O,oe){return 0|mp(_|=0,x|=0,O|=0,oe|=0,0)}function xm(_,x,O){return _|=0,x|=0,(0|(O|=0))<32?(it(x>>>O|0),_>>>O|(x&(1<<O)-1)<<32-O):(it(0),x>>>O-32|0)}function T1(_,x,O){return _|=0,x|=0,(0|(O|=0))<32?(it(x<<O|(_&(1<<O)-1<<32-O)>>>32-O|0),_<<O):(it(_<<O-32|0),0)}function XC(){return 4208}function al(_,x,O){_|=0,x|=0;var oe,W,I;if(8192<=(0|(O|=0)))return Er(0|_,0|x,0|O),0|_;if(I=0|_,W=_+O|0,(3&_)==(3&x)){for(;3&_;){if(!O)return 0|I;Le[_>>0]=0|Le[x>>0],_=_+1|0,x=x+1|0,O=O-1|0}for(oe=(O=-4&W|0)-64|0;(0|_)<=(0|oe);)c[_>>2]=c[x>>2],c[_+4>>2]=c[x+4>>2],c[_+8>>2]=c[x+8>>2],c[_+12>>2]=c[x+12>>2],c[_+16>>2]=c[x+16>>2],c[_+20>>2]=c[x+20>>2],c[_+24>>2]=c[x+24>>2],c[_+28>>2]=c[x+28>>2],c[_+32>>2]=c[x+32>>2],c[_+36>>2]=c[x+36>>2],c[_+40>>2]=c[x+40>>2],c[_+44>>2]=c[x+44>>2],c[_+48>>2]=c[x+48>>2],c[_+52>>2]=c[x+52>>2],c[_+56>>2]=c[x+56>>2],c[_+60>>2]=c[x+60>>2],_=_+64|0,x=x+64|0;for(;(0|_)<(0|O);)c[_>>2]=c[x>>2],_=_+4|0,x=x+4|0}else for(O=W-4|0;(0|_)<(0|O);)Le[_>>0]=0|Le[x>>0],Le[_+1>>0]=0|Le[x+1>>0],Le[_+2>>0]=0|Le[x+2>>0],Le[_+3>>0]=0|Le[x+3>>0],_=_+4|0,x=x+4|0;for(;(0|_)<(0|W);)Le[_>>0]=0|Le[x>>0],_=_+1|0,x=x+1|0;return 0|I}function Da(_,x,O){var oe,W,I,re=(_|=0)+(O|=0)|0;if(x=(x|0)&255,67<=(0|O)){for(;3&_;)Le[_>>0]=x,_=_+1|0;for(I=x|x<<8|x<<16|x<<24,W=(oe=-4&re|0)-64|0;(0|_)<=(0|W);)c[_>>2]=I,c[_+4>>2]=I,c[_+8>>2]=I,c[_+12>>2]=I,c[_+16>>2]=I,c[_+20>>2]=I,c[_+24>>2]=I,c[_+28>>2]=I,c[_+32>>2]=I,c[_+36>>2]=I,c[_+40>>2]=I,c[_+44>>2]=I,c[_+48>>2]=I,c[_+52>>2]=I,c[_+56>>2]=I,c[_+60>>2]=I,_=_+64|0;for(;(0|_)<(0|oe);)c[_>>2]=I,_=_+4|0}for(;(0|_)<(0|re);)Le[_>>0]=x,_=_+1|0;return re-O|0}function gp(_){return Be(0),0}function zf(_,x,O,oe){return Be(2),0}var vp=[gp,function(_){return 0|ht(0,0|(_|=0))},function(_){return 0},gp],Md=[function(_,x,O){return Be(1),0},function(_,x,O){return 0|je(0,0|(_|=0),0|(x|=0),0|(O|=0))},function(_,x,O){x|=0,O|=0;var oe,W,I,re,G,z,M,Z=0,ge=0,Ce=0,Ge=0,Te=we;for(we=we+32|0,W=(ge=Te)+16|0,Z=0|c[(I=(_|=0)+28|0)>>2],c[ge>>2]=Z,Z=(0|c[(re=_+20|0)>>2])-Z|0,c[ge+4>>2]=Z,c[ge+8>>2]=x,oe=_+60|0,Z=Z+(c[ge+12>>(Ce=2)]=O)|0;;){if((0|Z)==(0|(x=0|function(Ne){return 0|(Ne=(Ne|=0)<<16>>16?(c[922]=65535&Ne,-1):0)}(0|zt(0|c[oe>>2],0|ge,0|Ce,0|W))?c[W>>2]=-1:0|c[W>>2]))){x=6;break}if((0|x)<0){x=8;break}Ge=0|c[ge+4>>2],c[(z=(G=Ge>>>0<x>>>0)?ge+8|0:ge)>>2]=(0|c[z>>2])+(Ge=x-(G?Ge:0)|0),c[(M=z+4|0)>>2]=(0|c[M>>2])-Ge,ge=z,Ce=Ce+(G<<31>>31)|0,Z=Z-x|0}return(0|x)==6?(Ge=0|c[_+44>>2],c[_+16>>2]=Ge+(0|c[_+48>>2]),c[I>>2]=Ge,c[re>>2]=Ge):(0|x)==8&&(c[_+16>>2]=0,c[I>>2]=0,c[re>>2]=0,c[_>>2]=32|c[_>>2],O=(0|Ce)==2?0:O-(0|c[ge+4>>2])|0),we=Te,0|O},function(_,x,O){var oe,W;return al(0|(W=0|c[(oe=(_|=0)+20|0)>>2]),0|(x|=0),0|(_=(O|=0)>>>0<(_=(0|c[_+16>>2])-W|0)>>>0?O:_)),c[oe>>2]=(0|c[oe>>2])+_,0|O}],ll=[zf,function(_,x,O,oe){return 0|dt(0,0|(_|=0),0|(x|=0),0|(O|=0),0|(oe|=0))},function(_,x,O,oe){return it(0),0},zf],Nl=[function(_){Be(3)},function(_){at(0,0|(_|=0))}],_p=[function(_,x){Be(4)},function(_,x){Nt(0,0|(_|=0),0|(x|=0))},function(_,x){var O,z=0,M=0,Z=0,oe=0,W=0,I=0,re=0,G=0,z=0|c[(O=(_|=0)+308|0)>>2],M=0|c[_+316>>2],Z=0|c[_+320>>2];(0|(oe=0|c[(W=z+((x|=0)<<5)+8|0)>>2]))==-1?(c[M+(x<<2)>>2]=c[(0|c[_+148>>2])+(c[z+(x<<5)+16>>2]<<2)>>2],fe[Z+(x<<2)>>2]=1):(re=0|c[(I=z+(x<<5)+16|0)>>2],G=0|c[(0|c[_+152>>2])+(re<<2)>>2],Cc[3&c[z+(oe<<5)+24>>2]](_,oe,G,G,0|c[(0|c[_+60>>2])+(24*re|0)+16>>2]),W=0|c[W>>2],fe[M+(x<<2)>>2]=+fe[(0|c[_+148>>2])+(c[I>>2]<<2)>>2]*+fe[M+(W<<2)>>2],c[Z+(x<<2)>>2]=c[Z+(W<<2)>>2]),(0|xr[4+(0|c[_>>2])>>0])<4||(z=0|c[O>>2],M=0|c[_+324>>2],O=0|c[_+328>>2],Z=x<<2,oe=c[z+(x<<5)+16>>2]<<2,(0|(z=0|c[z+(x<<5)+8>>2]))==-1?(z=0|c[_+156>>2],c[M+(Z<<2)>>2]=c[z+(oe<<2)>>2],c[M+((x=1|Z)<<2)>>2]=c[z+((W=1|oe)<<2)>>2],c[M+((G=2|Z)<<2)>>2]=c[z+((re=2|oe)<<2)>>2],fe[M+((z=3|Z)<<2)>>2]=1,I=0|c[_+160>>2],c[O+(Z<<2)>>2]=c[I+(oe<<2)>>2],c[O+(x<<2)>>2]=c[I+(W<<2)>>2],c[O+(G<<2)>>2]=c[I+(re<<2)>>2]):(re=z<<2,I=(0|c[_+156>>2])+(oe<<2)|0,fe[(z=M+(Z<<2)|0)>>2]=+fe[I>>2]*+fe[(G=M+(re<<2)|0)>>2],fe[z+4>>2]=+fe[I+4>>2]*+fe[G+4>>2],fe[z+8>>2]=+fe[I+8>>2]*+fe[G+8>>2],fe[M+((z=3|Z)<<2)>>2]=1,I=(0|c[_+160>>2])+(oe<<2)|0,x=+fe[I>>2],W=+fe[(re=O+(re<<2)|0)>>2],fe[(G=O+(Z<<2)|0)>>2]=x+W-x*W,W=+fe[I+4>>2],x=+fe[re+4>>2],fe[G+4>>2]=W+x-W*x,x=+fe[I+8>>2],W=+fe[re+8>>2],fe[G+8>>2]=x+W-x*W),fe[O+(z<<2)>>2]=1)},function(_,x){var O,oe,W,I,re,G,z,M,Z,ge,Ce,Ge,Te,Ne,Fe,be=0,st=0,gt=0,Xe=0,Et=0,qt=0,vr=0,Pr=0,nr=0,wr=0,br=0,kt=0,pr=0,Cr=we;if(we=we+48|0,z=Cr+8|0,re=Cr+40|0,I=Cr+32|0,W=(G=Cr)+24|0,kt=Cr+16|0,be=0|c[(Ce=(_|=0)+308|0)>>2],Z=0|c[_+316>>2],ge=0|c[_+320>>2],(0|(oe=0|c[(Ne=be+((x|=0)<<5)+8|0)>>2]))==-1)pr=0|c[be+(x<<5)+16>>2],c[Z+(x<<2)>>2]=c[(0|c[_+268>>2])+(pr<<2)>>2],c[ge+(x<<2)>>2]=c[(0|c[_+272>>2])+(pr<<2)>>2];else{for(M=0|c[(Fe=be+(x<<5)+16|0)>>2],Et=0|c[(0|c[(Ge=_+276|0)>>2])+(M<<2)>>2],c[kt>>2]=Et,M=0|c[(0|c[(Te=_+280|0)>>2])+(M<<2)>>2],c[(wr=kt+4|0)>>2]=M,br=(0|c[be+(oe<<5)+12>>2])==1?-10:-.10000000149011612,c[re>>2]=Et,c[(Et=4+re|0)>>2]=M,Cc[3&c[(M=be+(oe<<5)+24|0)>>2]](_,oe,re,I,1),gt=4+W|0,be=4+I|0,st=G+4|0,Xe=9,nr=1;fe[W>>2]=(Pr=0*nr)+ +fe[re>>2],fe[gt>>2]=(O=br*nr)+ +fe[Et>>2],Cc[3&c[M>>2]](_,oe,W,G,1),vr=+fe[G>>2]-+fe[I>>2],fe[G>>2]=vr,qt=+fe[st>>2]-+fe[be>>2],!(vr!=0|(fe[st>>2]=qt)!=0);){if(fe[W>>2]=+fe[re>>2]-Pr,fe[gt>>2]=+fe[Et>>2]-O,Cc[3&c[M>>2]](_,oe,W,G,1),qt=+fe[G>>2]-+fe[I>>2],fe[G>>2]=qt,Pr=+fe[st>>2]-+fe[be>>2],qt!=0|(fe[st>>2]=Pr)!=0){pr=6;break}if(!Xe){pr=8;break}Xe=Xe+-1|0,nr*=.10000000149011612}(0|pr)==6?(vr=-qt,qt=-Pr):(0|pr)==8&&(_r(0,2397,z),qt=vr=0),br=180*+an(0,br,vr,qt)/3.1415927410125732,Cc[3&c[M>>2]](_,0|c[Ne>>2],kt,kt,1),pr=0|c[Fe>>2],c[(0|c[Ge>>2])+(pr<<2)>>2]=c[kt>>2],c[(0|c[Te>>2])+(pr<<2)>>2]=c[wr>>2],kt=(0|c[_+284>>2])+(pr<<2)|0,fe[kt>>2]=+fe[kt>>2]-br,kt=0|c[Ne>>2],fe[Z+(x<<2)>>2]=+fe[(0|c[_+268>>2])+(pr<<2)>>2]*+fe[Z+(kt<<2)>>2],pr=(0|c[_+272>>2])+(pr<<2)|0,br=+fe[pr>>2]*+fe[ge+(kt<<2)>>2],fe[ge+(x<<2)>>2]=br,fe[pr>>2]=br}we=((0|xr[4+(0|c[_>>2])>>0])<4||(be=0|c[Ce>>2],st=0|c[_+324>>2],Et=0|c[_+328>>2],gt=x<<2,Xe=c[be+(x<<5)+16>>2]<<2,(0|(be=0|c[be+(x<<5)+8>>2]))==-1?(be=0|c[_+296>>2],c[st+(gt<<2)>>2]=c[be+(Xe<<2)>>2],c[st+((kt=1|gt)<<2)>>2]=c[be+((wr=1|Xe)<<2)>>2],c[st+((x=2|gt)<<2)>>2]=c[be+((pr=2|Xe)<<2)>>2],fe[st+((be=3|gt)<<2)>>2]=1,_=0|c[_+300>>2],c[Et+(gt<<2)>>2]=c[_+(Xe<<2)>>2],c[Et+(kt<<2)>>2]=c[_+(wr<<2)>>2],c[Et+(x<<2)>>2]=c[_+(pr<<2)>>2]):(kt=be<<2,pr=(0|c[_+296>>2])+(Xe<<2)|0,fe[(be=st+(gt<<2)|0)>>2]=+fe[pr>>2]*+fe[(x=st+(kt<<2)|0)>>2],fe[be+4>>2]=+fe[pr+4>>2]*+fe[x+4>>2],fe[be+8>>2]=+fe[pr+8>>2]*+fe[x+8>>2],fe[st+((be=3|gt)<<2)>>2]=1,pr=(0|c[_+300>>2])+(Xe<<2)|0,nr=+fe[pr>>2],br=+fe[(_=Et+(kt<<2)|0)>>2],fe[(x=Et+(gt<<2)|0)>>2]=nr+br-nr*br,br=+fe[pr+4>>2],nr=+fe[_+4>>2],fe[x+4>>2]=br+nr-br*nr,nr=+fe[pr+8>>2],br=+fe[_+8>>2],fe[x+8>>2]=nr+br-nr*br),fe[Et+(be<<2)>>2]=1),Cr)}],Cc=[function(_,x,O,oe,W){Be(5)},function(_,x,O,oe,W){jt(0,0|(_|=0),0|(x|=0),0|(O|=0),0|(oe|=0),0|(W|=0))},function(_,x,O,oe,W){O|=0,oe|=0;var I,re,G,z,M,Z,ge,Ce,Ge,Te,Ne,Fe,be,st,gt,Xe,Et,qt,vr,Pr,nr,wr,br,kt=0,pr=0,Cr=0,gr=0,wn=0,_n=0,pn=0,ci=0,di=0,Qn=0,In=0,fi=0,Ni=0,oi=0,gi=0,tn=0,Sn=0,ft=0,ms=0,ai=0,zn=0,hi=0,nn=0,Do=we;if(we=we+32|0,vr=Do,x=0|c[(0|c[(_|=0)+308>>2])+((x|=0)<<5)+16>>2],kt=0|c[_+60>>2],be=0|c[(0|c[_+152>>2])+(x<<2)>>2],st=0|c[kt+(24*x|0)+8>>2],gt=0|c[kt+(24*x|0)+4>>2],Xe=1+st|0,(0|(W|=0))<=0)we=Do;else{Et=0|st,qt=0|gt,Fe=(0|c[kt+(24*x|0)+12>>2])==0,re=be+(st<<3)|0,G=be+((Ge=0|Me(gt,Xe))<<3)|0,z=be+((Ce=Ge+st|0)<<3)|0,M=4+be|0,Z=be+(st<<3)+4|0,ge=be+(Ge<<3)+4|0,Ce=be+(Ce<<3)+4|0,Ne=st-1|0,Te=gt-1|0,fi=Ni=oi=gi=pr=Cr=In=Qn=di=ci=zn=ai=pn=_n=wn=gr=hi=ft=0;do{tn=(I=+fe[O+(hi<<3)>>2])*Et,ms=(Sn=+fe[O+(hi<<3)+4>>2])*qt,_=!(1<=I),kt=!(1<=Sn);do{if(kt&_&!(I<0)&!(Sn<0)){if(_=~~tn,x=(0|Me(Xe,kt=~~ms))+_|0,Cr=tn-(0|_),pr=ms-(0|kt),!Fe){fe[oe+(hi<<3)>>2]=(tn=1-pr)*((Sn=1-Cr)*+fe[be+(x<<3)>>2])+tn*(Cr*+fe[be+((nn=x+1|0)<<3)>>2])+pr*(Sn*+fe[be+((_=x+Xe|0)<<3)>>2])+pr*(Cr*+fe[be+((kt=_+1|0)<<3)>>2]),Sn=tn*(Sn*+fe[be+(x<<3)+4>>2])+tn*(Cr*+fe[be+(nn<<3)+4>>2])+pr*(Sn*+fe[be+(_<<3)+4>>2]),tn=pr*(Cr*+fe[be+(kt<<3)+4>>2]);break}if(Cr+pr<=1){fe[oe+(hi<<3)>>2]=(Sn=1-Cr-pr)*+fe[be+(x<<3)>>2]+Cr*+fe[be+((kt=x+1|0)<<3)>>2]+pr*+fe[be+((nn=x+Xe|0)<<3)>>2],Sn=Sn*+fe[be+(x<<3)+4>>2]+Cr*+fe[be+(kt<<3)+4>>2],tn=pr*+fe[be+(nn<<3)+4>>2];break}fe[oe+(hi<<3)>>2]=(ms=Cr+-1+pr)*+fe[be+((_=(kt=x+Xe|0)+1|0)<<3)>>2]+(Sn=1-Cr)*+fe[be+(kt<<3)>>2]+(tn=1-pr)*+fe[be+((nn=x+1|0)<<3)>>2],Sn=ms*+fe[be+(_<<3)+4>>2]+Sn*+fe[be+(kt<<3)+4>>2],tn*=+fe[be+(nn<<3)+4>>2];break}if(ft||(br=+fe[be>>2],wr=+fe[re>>2],nr=+fe[G>>2],ai=+fe[z>>2],Pr=+fe[M>>2],fi=(oi=+fe[Z>>2])-(gi=+fe[ge>>2]),ft=1,ai=.25*(br+wr+nr+ai)-.5*(br=ai-br),zn=.25*(Pr+oi+gi+(zn=+fe[Ce>>2]))-.5*(Pr=zn-Pr),gi=.5*((Ni=wr-nr)+br),oi=.5*(fi+Pr),Ni=.5*(br-Ni),fi=.5*(Pr-fi)),!(Sn<3&-2<I&I<3&-2<Sn)){fe[oe+(hi<<3)>>2]=Sn*Ni+(I*gi+ai),Sn*=fi,tn=I*oi+zn;break}do{if(I<=0){if(Sn<=0){gr=ai-(_n=2*Ni),wn=zn-(pn=2*fi),_n=(Qn=ai-2*gi)-_n,pn=(In=zn-2*oi)-pn,ci=+fe[be>>2],di=+fe[M>>2],Cr=.5*(2+I),pr=.5*(Sn+2);break}if(kt){pn=(pr=0|(kt=(0|gt)==(0|(kt=~~ms))?Te:kt))/qt,Cr=(0|(nn=kt+1|0))/qt,kt=0|Me(kt,Xe),nn=0|Me(nn,Xe),gr=+fe[be+(kt<<3)>>2],wn=+fe[be+(kt<<3)+4>>2],_n=pn*Ni+(Qn=ai-2*gi),pn=pn*fi+(In=zn-2*oi),ci=+fe[be+(nn<<3)>>2],di=+fe[be+(nn<<3)+4>>2],Qn=Cr*Ni+Qn,In=Cr*fi+In,Cr=.5*(2+I),pr=ms-pr;break}gr=+fe[G>>2],wn=+fe[ge>>2],_n=Ni+(Qn=ai-2*gi),pn=fi+(In=zn-2*oi),ci=(pr=3*Ni)+ai,di=(Cr=3*fi)+zn,Qn=pr+Qn,In=Cr+In,Cr=.5*(2+I),pr=.5*(Sn+-1);break}if(x=Sn<=0,_){if(x){gr=(wn=(0|(kt=(nn=(0|st)==(0|(nn=~~tn))?Ne:nn)+1|0))/Et)*gi+ai-(_n=2*Ni),wn=wn*oi+zn-(pn=2*fi),_n=(ci=(Cr=0|nn)/Et)*gi+ai-_n,pn=ci*oi+zn-pn,ci=+fe[be+(kt<<3)>>2],di=+fe[be+(kt<<3)+4>>2],Qn=+fe[be+(nn<<3)>>2],In=+fe[be+(nn<<3)+4>>2],Cr=tn-Cr,pr=.5*(Sn+2);break}if(kt){c[vr>>2]=hi,w[vr+8>>3]=I,w[vr+16>>3]=Sn,_r(0,865,vr);break}Cr=0|(nn=(0|st)==(0|(nn=~~tn))?Ne:nn),di=(0|(kt=nn+1|0))/Et,gr=+fe[be+((kt=kt+Ge|0)<<3)>>2],wn=+fe[be+(kt<<3)+4>>2],_n=+fe[be+((nn=nn+Ge|0)<<3)>>2],pn=+fe[be+(nn<<3)+4>>2],ci=(Qn=3*Ni)+(di*gi+ai),di=(pr=3*fi)+(di*oi+zn),Qn+=(In=Cr/Et)*gi+ai,In=pr+(In*oi+zn),Cr=tn-Cr,pr=.5*(Sn+-1);break}if(x){gr=(ci=3*gi+ai)-(_n=2*Ni),wn=(di=3*oi+zn)-(pn=2*fi),_n=gi+ai-_n,pn=oi+zn-pn,Qn=+fe[re>>2],In=+fe[Z>>2],Cr=.5*(I-1),pr=.5*(Sn+2);break}if(kt){wn=(pr=0|(kt=(0|gt)==(0|(kt=~~ms))?Te:kt))/qt,Qn=(0|(nn=kt+1|0))/qt,kt=(0|Me(kt,Xe))+st|0,nn=(0|Me(nn,Xe))+st|0,gr=wn*Ni+(ci=3*gi+ai),wn=wn*fi+(di=3*oi+zn),_n=+fe[be+(kt<<3)>>2],pn=+fe[be+(kt<<3)+4>>2],ci=Qn*Ni+ci,di=Qn*fi+di,Qn=+fe[be+(nn<<3)>>2],In=+fe[be+(nn<<3)+4>>2],Cr=.5*(I-1),pr=ms-pr;break}gr=Ni+(ci=3*gi+ai),wn=fi+(di=3*oi+zn),_n=+fe[z>>2],pn=+fe[Ce>>2],ci=(Qn=3*Ni)+ci,di=(In=3*fi)+di,Qn+=gi+ai,In+=oi+zn,Cr=.5*(I-1),pr=.5*(Sn+-1);break}while(0);if(Cr+pr<=1){fe[oe+(hi<<3)>>2]=_n+(gr-_n)*Cr+(Qn-_n)*pr,Sn=pn+(wn-pn)*Cr,tn=(In-pn)*pr;break}fe[oe+(hi<<3)>>2]=ci+(Qn-ci)*(Sn=1-Cr)+(gr-ci)*(tn=1-pr),Sn=di+(In-di)*Sn,tn*=wn-di;break}while(0)}while(fe[oe+(hi<<3)+4>>2]=Sn+tn,(0|(hi=hi+1|0))!=(0|W));we=Do}},function(_,x,O,oe,W){_|=0,x|=0,O|=0,oe|=0,W|=0;var I,re,G,z,M=0,Z=0,ge=0,Ce=0;if(x=0|c[(0|c[_+308>>2])+(x<<5)+16>>2],Z=3.1415927410125732*(+fe[(0|c[_+168>>2])+(12*x|0)+4>>2]+ +fe[(0|c[_+284>>2])+(x<<2)>>2])/180,M=+ue(Z),Z=+ve(Z),re=(Z*=I=+fe[(0|c[_+272>>2])+(x<<2)>>2])*(ge=0|c[(0|c[_+288>>2])+(x<<2)>>2]?-1:1),I=(M*=I)*(Ce=0|c[(0|c[_+292>>2])+(x<<2)>>2]?-1:1),ge*=M,Ce*=Z,Z=+fe[(0|c[_+276>>2])+(x<<2)>>2],M=+fe[(0|c[_+280>>2])+(x<<2)>>2],!((0|W)<=0))for(x=0;z=+fe[O+(x<<3)>>2],G=+fe[O+(x<<3)+4>>2],fe[oe+(x<<3)>>2]=re*z-I*G+Z,fe[oe+(x<<3)+4>>2]=ge*z+Ce*G+M,(0|(x=x+1|0))!=(0|W););}];return{___errno_location:function(){return 3688},___muldi3:Tc,___udivdi3:Ec,_bitshift64Lshr:xm,_bitshift64Shl:T1,_csmFree:function(_){Od(_|=0)},_csmGetDrawableConstantFlags:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[888+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=1896,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableCount:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+332>>2],we=O,0|x):(c[x>>2]=1858,c[x+4>>2]=1411,_r(0,1269,x),we=O,0|(x=-1))},_csmGetDrawableDrawOrders:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+440>>2],we=O,0|x):(c[x>>2]=1980,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableDynamicFlags:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+432>>2],we=O,0|x):(c[x>>2]=1924,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableIds:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[832+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=1878,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableIndexCounts:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[904+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=2182,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableIndices:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[840+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=2208,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableMaskCounts:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[912+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=2056,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableMasks:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[844+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=2081,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableMultiplyColors:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+452>>2],we=O,0|x):(c[x>>2]=2230,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableOpacities:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+448>>2],we=O,0|x):(c[x>>2]=2032,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableParentPartIndices:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[876+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=2286,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableRenderOrders:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+436>>2],we=O,0|x):(c[x>>2]=2005,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableScreenColors:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+456>>2],we=O,0|x):(c[x>>2]=2259,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableTextureIndices:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[884+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=1951,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableVertexCounts:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[892+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=2101,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableVertexPositions:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+444>>2],we=O,0|x):(c[x>>2]=2128,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetDrawableVertexUvs:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[836+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=2158,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetLatestMocVersion:function(){return 4},_csmGetMocVersion:function(_,x){x|=0;var O=we;return we=we+16|0,x=O,(_|=0)?(_=0|en(_),we=O,0|_):(c[x>>2]=1286,c[x+4>>2]=1303,_r(0,1269,x),we=O,(_=0)|_)},_csmGetParameterCount:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+540>>2],we=O,0|x):(c[x>>2]=1610,c[x+4>>2]=1411,_r(0,1269,x),we=O,0|(x=-1))},_csmGetParameterDefaultValues:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[932+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=1729,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetParameterIds:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[916+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=1631,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetParameterKeyCounts:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+616>>2],we=O,0|x):(c[x>>2]=2347,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetParameterKeyValues:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+612>>2],we=O,0|x):(c[x>>2]=2372,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetParameterMaximumValues:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[924+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=1700,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetParameterMinimumValues:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[928+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=1671,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetParameterTypes:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+548>>2],we=O,0|x):(c[x>>2]=1650,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetParameterValues:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+552>>2],we=O,0|x):(c[x>>2]=1758,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetPartCount:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+4>>2],we=O,0|x):(c[x>>2]=1780,c[x+4>>2]=1411,_r(0,1269,x),we=O,0|(x=-1))},_csmGetPartIds:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[712+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=1796,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetPartOpacities:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[_+52>>2],we=O,0|x):(c[x>>2]=1810,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetPartParentPartIndices:function(_){var x=0,O=we;return we=we+16|0,x=O,(_|=0)?(x=0|c[740+(0|c[_>>2])>>2],we=O,0|x):(c[x>>2]=1830,c[x+4>>2]=1411,_r(0,1269,x),we=O,(x=0)|x)},_csmGetSizeofModel:yi,_csmGetVersion:function(){return 67239938},_csmInitializeModelInPlace:Ln,_csmMalloc:function(_){return 0|Ll(_|=0)},_csmMallocMoc:function(_){var x,O=we;return we=we+16|0,hp(x=O,64,_|=0),we=O,0|c[x>>2]},_csmMallocModelAndInitialize:function(_){var x=0,O=0,oe=we;return we=we+16|0,x=oe,0|(_|=0)&&!(0|hp(x,16,O=0|yi(_)))?(x=0|Ln(_,_=0|c[x>>2],O))||(Od(_),x=0):x=0,we=oe,0|x},_csmReadCanvasInfo:function(_,x,O,oe){x|=0,O|=0,oe|=0;var W,I,re,G=0,z=we;if(we=we+32|0,I=z+24|0,G=z+16|0,re=z+8|0,W=z,_|=0)return x?O?void(we=(oe?(G=0|c[708+(0|c[_>>2])>>2],c[x>>2]=c[G+12>>2],c[x+4>>2]=c[G+16>>2],c[O>>2]=c[G+4>>2],c[O+4>>2]=c[G+8>>2],c[oe>>2]=c[G>>2]):(c[I>>2]=1393,c[4+I>>2]=1487,_r(0,1269,I)),z)):(c[G>>2]=1393,c[G+4>>2]=1458,_r(0,1269,G),void(we=z)):(c[re>>2]=1393,c[4+re>>2]=1431,_r(0,1269,re),void(we=z));c[W>>2]=1393,c[W+4>>2]=1411,_r(0,1269,W),we=z},_csmResetDrawableDynamicFlags:function(_){var x,O=we;we=we+16|0,x=O,we=((_|=0)?c[_+428>>2]=1:(c[x>>2]=2318,c[x+4>>2]=1411,_r(0,1269,x)),O)},_csmReviveMocInPlace:function(_,x){x|=0;var O,oe=0,W=0,I=we;return we=we+32|0,W=I+16|0,O=I+8|0,oe=I,(_|=0)?((oe=_)+63&-64|0)!=(0|oe)?(c[O>>2]=1322,c[4+O>>2]=1342,_r(0,1269,O),we=I,(W=0)|W):0|x&&(x+63&-64|0)==(0|x)?(W=0|rn(_),we=I,0|W):(c[W>>2]=1322,c[W+4>>2]=1374,_r(0,1269,W),we=I,(W=0)|W):(c[oe>>2]=1322,c[oe+4>>2]=1303,_r(0,1269,oe),we=I,(W=0)|W)},_csmSetLogFunction:function(_){c[904]=_|=0},_csmUpdateModel:function(_){var x,O=we;we=we+16|0,x=O,we=((_|=0)?eo(_):(c[x>>2]=1595,c[x+4>>2]=1411,_r(0,1269,x)),O)},_emscripten_get_sbrk_ptr:XC,_emscripten_replace_memory:function(_){return Le=new Int8Array(_),xr=new Uint8Array(_),rr=new Int16Array(_),Yr=new Uint16Array(_),c=new Int32Array(_),fe=new Float32Array(_),w=new Float64Array(_),!0},_free:Od,_i64Add:ku,_i64Subtract:js,_malloc:Ll,_memcpy:al,_memset:Da,dynCall_ii:function(_,x){return 0|vp[3&(_|=0)](0|(x|=0))},dynCall_iiii:function(_,x,O,oe){return 0|Md[3&(_|=0)](0|(x|=0),0|(O|=0),0|(oe|=0))},dynCall_iiiii:function(_,x,O,oe,W){return 0|ll[3&(_|=0)](0|(x|=0),0|(O|=0),0|(oe|=0),0|(W|=0))},dynCall_vi:function(_,x){Nl[1&(_|=0)](0|(x|=0))},dynCall_vii:function(_,x,O){_p[3&(_|=0)](0|(x|=0),0|(O|=0))},dynCall_viiiii:function(_,x,O,oe,W,I){Cc[3&(_|=0)](0|(x|=0),0|(O|=0),0|(oe|=0),0|(W|=0),0|(I|=0))},establishStackSpace:function(_,x){we=_|=0},stackAlloc:function(_){var x=we;return we=(we=we+(_|=0)|0)+15&-16,0|x},stackRestore:function(_){we=_|=0},stackSave:function(){return 0|we}}}({Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Float32Array,Float64Array},{a:Ut,b:function(me){X=me},c:function(){return X},d:function(me,De){return q[me](De)},e:function(me,De,Ae,Le){return q[me](De,Ae,Le)},f:function(me,De,Ae,Le,rr){return q[me](De,Ae,Le,rr)},g:function(me,De){q[me](De)},h:function(me,De,Ae){q[me](De,Ae)},i:function(me,De,Ae,Le,rr,c){q[me](De,Ae,Le,rr,c)},j:function(){return Ot.apply(null,arguments)},k:Dt,l:function(me,De,Ae){ee.set(ee.subarray(De,De+Ae),me)},m:function(me){if(2130706432<me)return!1;for(var De=Math.max(Dt(),16777216);De<me;)De=De<=536870912?xe(2*De):Math.min(xe((3*De+2147483648)/4),2130706432);return!!_t(De)},n:Ot,o:function(){Ut("OOM")},p:function(me){return me},q:Oe,r:_t,s:function(){var me=v._fflush;me&&me(0),Ke[1].length&&ct(1,10),Ke[2].length&&ct(2,10)},t:nt,u:function(){var me=nt();return v.extraStackTrace&&(me+=`
`+v.extraStackTrace()),Oe(me)},v:4400},V),Ir=(v.___errno_location=Bt.___errno_location,v.___muldi3=Bt.___muldi3,v.___udivdi3=Bt.___udivdi3,v._bitshift64Lshr=Bt._bitshift64Lshr,v._bitshift64Shl=Bt._bitshift64Shl,v._csmFree=Bt._csmFree,v._csmGetDrawableConstantFlags=Bt._csmGetDrawableConstantFlags,v._csmGetDrawableCount=Bt._csmGetDrawableCount,v._csmGetDrawableDrawOrders=Bt._csmGetDrawableDrawOrders,v._csmGetDrawableDynamicFlags=Bt._csmGetDrawableDynamicFlags,v._csmGetDrawableIds=Bt._csmGetDrawableIds,v._csmGetDrawableIndexCounts=Bt._csmGetDrawableIndexCounts,v._csmGetDrawableIndices=Bt._csmGetDrawableIndices,v._csmGetDrawableMaskCounts=Bt._csmGetDrawableMaskCounts,v._csmGetDrawableMasks=Bt._csmGetDrawableMasks,v._csmGetDrawableMultiplyColors=Bt._csmGetDrawableMultiplyColors,v._csmGetDrawableOpacities=Bt._csmGetDrawableOpacities,v._csmGetDrawableParentPartIndices=Bt._csmGetDrawableParentPartIndices,v._csmGetDrawableRenderOrders=Bt._csmGetDrawableRenderOrders,v._csmGetDrawableScreenColors=Bt._csmGetDrawableScreenColors,v._csmGetDrawableTextureIndices=Bt._csmGetDrawableTextureIndices,v._csmGetDrawableVertexCounts=Bt._csmGetDrawableVertexCounts,v._csmGetDrawableVertexPositions=Bt._csmGetDrawableVertexPositions,v._csmGetDrawableVertexUvs=Bt._csmGetDrawableVertexUvs,v._csmGetLatestMocVersion=Bt._csmGetLatestMocVersion,v._csmGetMocVersion=Bt._csmGetMocVersion,v._csmGetParameterCount=Bt._csmGetParameterCount,v._csmGetParameterDefaultValues=Bt._csmGetParameterDefaultValues,v._csmGetParameterIds=Bt._csmGetParameterIds,v._csmGetParameterKeyCounts=Bt._csmGetParameterKeyCounts,v._csmGetParameterKeyValues=Bt._csmGetParameterKeyValues,v._csmGetParameterMaximumValues=Bt._csmGetParameterMaximumValues,v._csmGetParameterMinimumValues=Bt._csmGetParameterMinimumValues,v._csmGetParameterTypes=Bt._csmGetParameterTypes,v._csmGetParameterValues=Bt._csmGetParameterValues,v._csmGetPartCount=Bt._csmGetPartCount,v._csmGetPartIds=Bt._csmGetPartIds,v._csmGetPartOpacities=Bt._csmGetPartOpacities,v._csmGetPartParentPartIndices=Bt._csmGetPartParentPartIndices,v._csmGetSizeofModel=Bt._csmGetSizeofModel,v._csmGetVersion=Bt._csmGetVersion,v._csmInitializeModelInPlace=Bt._csmInitializeModelInPlace,v._csmMalloc=Bt._csmMalloc,v._csmMallocMoc=Bt._csmMallocMoc,v._csmMallocModelAndInitialize=Bt._csmMallocModelAndInitialize,v._csmReadCanvasInfo=Bt._csmReadCanvasInfo,v._csmResetDrawableDynamicFlags=Bt._csmResetDrawableDynamicFlags,v._csmReviveMocInPlace=Bt._csmReviveMocInPlace,v._csmSetLogFunction=Bt._csmSetLogFunction,v._csmUpdateModel=Bt._csmUpdateModel,v._emscripten_get_sbrk_ptr=Bt._emscripten_get_sbrk_ptr,v._emscripten_replace_memory=Bt._emscripten_replace_memory),ot=(v._free=Bt._free,v._i64Add=Bt._i64Add,v._i64Subtract=Bt._i64Subtract,v._malloc=Bt._malloc,v._memcpy=Bt._memcpy,v._memset=Bt._memset,v.establishStackSpace=Bt.establishStackSpace,v.stackAlloc=Bt.stackAlloc),_e=v.stackRestore=Bt.stackRestore,ze=v.stackSave=Bt.stackSave;function ke(){function me(){if(!mr&&(mr=!0,!Q)){if(et(lt),et(Re),v.onRuntimeInitialized&&v.onRuntimeInitialized(),v.postRun)for(typeof v.postRun=="function"&&(v.postRun=[v.postRun]);v.postRun.length;){var De=v.postRun.shift();wt.unshift(De)}et(wt)}}if(!(0<vt)){if(v.preRun)for(typeof v.preRun=="function"&&(v.preRun=[v.preRun]);v.preRun.length;)(function(){var De=v.preRun.shift();Je.unshift(De)})();et(Je),0<vt||(v.setStatus?(v.setStatus("Running..."),setTimeout(function(){setTimeout(function(){v.setStatus("")},1),me()},1)):me())}}if(v.dynCall_ii=Bt.dynCall_ii,v.dynCall_iiii=Bt.dynCall_iiii,v.dynCall_iiiii=Bt.dynCall_iiiii,v.dynCall_vi=Bt.dynCall_vi,v.dynCall_vii=Bt.dynCall_vii,v.dynCall_viiiii=Bt.dynCall_viiiii,v.asm=Bt,v.ccall=function(me,De,Ae,Le){var rr={string:function(w){var k=0;if(w!=null&&w!==0){var B=1+(w.length<<2),ce=k=ot(B),ve=ee;if(0<B){for(var B=ce+B-1,ue=0;ue<w.length;++ue){var Ie=w.charCodeAt(ue);if((Ie=55296<=Ie&&Ie<=57343?65536+((1023&Ie)<<10)|1023&w.charCodeAt(++ue):Ie)<=127){if(B<=ce)break;ve[ce++]=Ie}else{if(Ie<=2047){if(B<=ce+1)break;ve[ce++]=192|Ie>>6}else{if(Ie<=65535){if(B<=ce+2)break;ve[ce++]=224|Ie>>12}else{if(B<=ce+3)break;ve[ce++]=240|Ie>>18,ve[ce++]=128|Ie>>12&63}ve[ce++]=128|Ie>>6&63}ve[ce++]=128|63&Ie}}ve[ce]=0}}return k},array:function(w){var k=ot(w.length);return Y.set(w,k),k}},c=function(w){var k=v["_"+w];return $(k,"Cannot call unknown function "+w+", make sure it is exported"),k}(me),xr=[];if(me=0,Le)for(var Yr=0;Yr<Le.length;Yr++){var fe=rr[Ae[Yr]];fe?(me===0&&(me=ze()),xr[Yr]=fe(Le[Yr])):xr[Yr]=Le[Yr]}return Ae=function(w){return De==="string"?ie(w):De==="boolean"?!!w:w}(Ae=c.apply(null,xr)),me!==0&&_e(me),Ae},v.UTF8ToString=ie,v.addFunction=function(me){for(var De=0;De<1;De++)if(!q[De])return q[De]=me,1+De;throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},yt&&((String.prototype.startsWith?yt.startsWith(le):yt.indexOf(le)===0)||(C=yt,yt=v.locateFile?v.locateFile(C,L):L+C),P||D?(Bt=E(yt),ee.set(Bt,8)):(vt++,v.monitorRunDependencies&&v.monitorRunDependencies(vt),mt=function(me){me.byteLength&&(me=new Uint8Array(me)),ee.set(me,8),v.memoryInitializerRequest&&delete v.memoryInitializerRequest.response,vt--,v.monitorRunDependencies&&v.monitorRunDependencies(vt),vt==0&&pt&&(me=pt,pt=null,me())},Tt=function(){S(function(){throw"could not load memory initializer "+yt})},(L=Zt(yt))?mt(L.buffer):v.memoryInitializerRequest?(C=function(){var me=v.memoryInitializerRequest,De=me.response;if(me.status!==200&&me.status!==0){if(!(De=Zt(v.memoryInitializerRequestURL)))return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+me.status+", retrying "+yt),void Tt();De=De.buffer}mt(De)},v.memoryInitializerRequest.response?setTimeout(C,0):v.memoryInitializerRequest.addEventListener("load",C)):Tt())),v.then=function(me){var De;return mr?me(v):(De=v.onRuntimeInitialized,v.onRuntimeInitialized=function(){De&&De(),me(v)}),v},pt=function me(){mr||ke(),mr||(pt=me)},v.run=ke,v.preInit)for(typeof v.preInit=="function"&&(v.preInit=[v.preInit]);0<v.preInit.length;)v.preInit.pop()();return ke(),p}}();typeof exports=="object"&&typeof module=="object"?module.exports=f:typeof define=="function"&&define.amd?define([],function(){return f}):typeof exports=="object"&&(exports._em_module=f);var h=f()})(RO||(RO={}));window.Live2DCubismCore=RO;function Cet(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function Aet(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var s=i.length;function o(l,u){if(u&&(typeof u=="object"||typeof u=="function")){var d=u.then;if(typeof d=="function"){d.call(u,function(f){o(l,f)},function(f){i[l]={status:"rejected",reason:f},--s===0&&r(i)});return}}i[l]={status:"fulfilled",value:u},--s===0&&r(i)}for(var a=0;a<i.length;a++)o(a,i[a])})}function nie(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}nie.prototype=Error.prototype;function Pet(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var s=[],o=0;o<i.length;o++)try{e.resolve(i[o]).then(r).catch(function(a){s.push(a),s.length===i.length&&n(new nie(s,"All promises were rejected"))})}catch(a){n(a)}})}var ket=setTimeout;function iie(t){return!!(t&&typeof t.length<"u")}function Iet(){}function Oet(t,e){return function(){t.apply(e,arguments)}}function Ts(t){if(!(this instanceof Ts))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],oie(t,this)}function sie(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,Ts._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?$O:yb)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){yb(e.promise,i);return}$O(e.promise,n)})}function $O(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof Ts){t._state=3,t._value=e,LO(t);return}else if(typeof r=="function"){oie(Oet(r,e),t);return}}t._state=1,t._value=e,LO(t)}catch(n){yb(t,n)}}function yb(t,e){t._state=2,t._value=e,LO(t)}function LO(t){t._state===2&&t._deferreds.length===0&&Ts._immediateFn(function(){t._handled||Ts._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)sie(t,t._deferreds[e]);t._deferreds=null}function Det(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function oie(t,e){var r=!1;try{t(function(n){r||(r=!0,$O(e,n))},function(n){r||(r=!0,yb(e,n))})}catch(n){if(r)return;r=!0,yb(e,n)}}Ts.prototype.catch=function(t){return this.then(null,t)};Ts.prototype.then=function(t,e){var r=new this.constructor(Iet);return sie(this,new Det(t,e,r)),r};Ts.prototype.finally=Cet;Ts.all=function(t){return new Ts(function(e,r){if(!iie(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function s(a,l){try{if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(d){s(a,d)},r);return}}n[a]=l,--i===0&&e(n)}catch(d){r(d)}}for(var o=0;o<n.length;o++)s(o,n[o])})};Ts.any=Pet;Ts.allSettled=Aet;Ts.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Ts?t:new Ts(function(e){e(t)})};Ts.reject=function(t){return new Ts(function(e,r){r(t)})};Ts.race=function(t){return new Ts(function(e,r){if(!iie(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)Ts.resolve(t[n]).then(e,r)})};Ts._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){ket(t,0)};Ts._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var aj=Object.getOwnPropertySymbols,Met=Object.prototype.hasOwnProperty,Ret=Object.prototype.propertyIsEnumerable;function $et(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Let(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Fet=Let()?Object.assign:function(t,e){for(var r,n=$et(t),i,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var o in r)Met.call(r,o)&&(n[o]=r[o]);if(aj){i=aj(r);for(var a=0;a<i.length;a++)Ret.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n};const Net=zs(Fet);/*!
 * @pixi/polyfill - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Ts);Object.assign||(Object.assign=Net);var Bet=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var Uet=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-Uet}}var F4=Date.now(),lj=["ms","moz","webkit","o"];for(var N4=0;N4<lj.length&&!globalThis.requestAnimationFrame;++N4){var B4=lj[N4];globalThis.requestAnimationFrame=globalThis[B4+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[B4+"CancelAnimationFrame"]||globalThis[B4+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=Bet+F4-e;return r<0&&(r=0),F4=e,globalThis.self.setTimeout(function(){F4=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/constants - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var hd;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(hd||(hd={}));var yv;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(yv||(yv={}));var bb;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(bb||(bb={}));var fn;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(fn||(fn={}));var ru;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(ru||(ru={}));var Sr;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Sr||(Sr={}));var Mh;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Mh||(Mh={}));var un;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(un||(un={}));var xb;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(xb||(xb={}));var Wu;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Wu||(Wu={}));var ec;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(ec||(ec={}));var Su;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Su||(Su={}));var Tu;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Tu||(Tu={}));var ql;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(ql||(ql={}));var wb;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(wb||(wb={}));var Ka;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Ka||(Ka={}));var Ls;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(Ls||(Ls={}));var FO;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(FO||(FO={}));var is;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(is||(is={}));var tc;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(tc||(tc={}));/*!
 * @pixi/settings - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var aie={createCanvas:function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,e){return fetch(t,e)}},U4=/iPhone/i,uj=/iPod/i,cj=/iPad/i,dj=/\biOS-universal(?:.+)Mac\b/i,V4=/\bAndroid(?:.+)Mobile\b/i,fj=/Android/i,Um=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Rx=/Silk/i,Bd=/Windows Phone/i,hj=/\bWindows(?:.+)ARM\b/i,pj=/BlackBerry/i,mj=/BB10/i,gj=/Opera Mini/i,vj=/\b(CriOS|Chrome)(?:.+)Mobile/i,_j=/Mobile(?:.+)Firefox\b/i,yj=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function Vet(t){return function(e){return e.test(t)}}function zet(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=Vet(r),s={apple:{phone:i(U4)&&!i(Bd),ipod:i(uj),tablet:!i(U4)&&(i(cj)||yj(e))&&!i(Bd),universal:i(dj),device:(i(U4)||i(uj)||i(cj)||i(dj)||yj(e))&&!i(Bd)},amazon:{phone:i(Um),tablet:!i(Um)&&i(Rx),device:i(Um)||i(Rx)},android:{phone:!i(Bd)&&i(Um)||!i(Bd)&&i(V4),tablet:!i(Bd)&&!i(Um)&&!i(V4)&&(i(Rx)||i(fj)),device:!i(Bd)&&(i(Um)||i(Rx)||i(V4)||i(fj))||i(/\bokhttp\b/i)},windows:{phone:i(Bd),tablet:i(hj),device:i(Bd)||i(hj)},other:{blackberry:i(pj),blackberry10:i(mj),opera:i(gj),firefox:i(_j),chrome:i(vj),device:i(pj)||i(mj)||i(gj)||i(_j)||i(vj)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}var nu=zet(globalThis.navigator);function jet(){return!nu.apple.device}function Het(t){var e=!0;if(nu.tablet||nu.phone){if(nu.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(nu.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}var Nr={ADAPTER:aie,MIPMAP_TEXTURES:Su.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:is.NONE,SPRITE_MAX_TEXTURES:Het(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:wb.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:ec.CLAMP,SCALE_MODE:Wu.LINEAR,PRECISION_VERTEX:Ka.HIGH,PRECISION_FRAGMENT:nu.apple.device?Ka.HIGH:Ka.MEDIUM,CAN_UPLOAD_SAME_BUFFER:jet(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},lie={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,h),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],g]:l._events[p].push(g):(l._events[p]=g,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,p=new Array(g);h<g;h++)p[h]=f[h].fn;return p},a.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,h,g,p){var v=r?r+u:u;if(!this._events[v])return!1;var b=this._events[v],S=arguments.length,T,E;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,g),!0;case 6:return b.fn.call(b.context,d,f,h,g,p),!0}for(E=1,T=new Array(S-1);E<S;E++)T[E-1]=arguments[E];b.fn.apply(b.context,T)}else{var C=b.length,P;for(E=0;E<C;E++)switch(b[E].once&&this.removeListener(u,b[E].fn,void 0,!0),S){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,d);break;case 3:b[E].fn.call(b[E].context,d,f);break;case 4:b[E].fn.call(b[E].context,d,f,h);break;default:if(!T)for(P=1,T=new Array(S-1);P<S;P++)T[P-1]=arguments[P];b[E].fn.apply(b[E].context,T)}}return!0},a.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,h){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var p=this._events[g];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&o(this,g);else{for(var v=0,b=[],S=p.length;v<S;v++)(p[v].fn!==d||h&&!p[v].once||f&&p[v].context!==f)&&b.push(p[v]);b.length?this._events[g]=b.length===1?b[0]:b:o(this,g)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(lie);var Get=lie.exports;const Ff=zs(Get);var r$={exports:{}};r$.exports=DC;r$.exports.default=DC;function DC(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=uie(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,d,f,h,g;if(n&&(s=Ket(t,e,s,r)),t.length>80*r){a=u=t[0],l=d=t[1];for(var p=r;p<i;p+=r)f=t[p],h=t[p+1],f<a&&(a=f),h<l&&(l=h),f>u&&(u=f),h>d&&(d=h);g=Math.max(u-a,d-l),g=g!==0?32767/g:0}return Sb(s,o,r,a,l,g,0),o}function uie(t,e,r,n,i){var s,o;if(i===UO(t,e,r,n)>0)for(s=e;s<r;s+=n)o=bj(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=bj(s,t[s],t[s+1],o);return o&&MC(o,o.next)&&(Eb(o),o=o.next),o}function Q0(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(MC(r,r.next)||bs(r.prev,r,r.next)===0)){if(Eb(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Sb(t,e,r,n,i,s,o){if(t){!o&&s&&ttt(t,n,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?qet(t,n,i,s):Wet(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),Eb(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=Xet(Q0(t),e,r),Sb(t,e,r,n,i,s,2)):o===2&&Yet(t,e,r,n,i,s):Sb(Q0(t),e,r,n,i,s,1);break}}}}function Wet(t){var e=t.prev,r=t,n=t.next;if(bs(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,l=r.y,u=n.y,d=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,h=i>s?i>o?i:o:s>o?s:o,g=a>l?a>u?a:u:l>u?l:u,p=n.next;p!==e;){if(p.x>=d&&p.x<=h&&p.y>=f&&p.y<=g&&ig(i,a,s,l,o,u,p.x,p.y)&&bs(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function qet(t,e,r,n){var i=t.prev,s=t,o=t.next;if(bs(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,d=i.y,f=s.y,h=o.y,g=a<l?a<u?a:u:l<u?l:u,p=d<f?d<h?d:h:f<h?f:h,v=a>l?a>u?a:u:l>u?l:u,b=d>f?d>h?d:h:f>h?f:h,S=NO(g,p,e,r,n),T=NO(v,b,e,r,n),E=t.prevZ,C=t.nextZ;E&&E.z>=S&&C&&C.z<=T;){if(E.x>=g&&E.x<=v&&E.y>=p&&E.y<=b&&E!==i&&E!==o&&ig(a,d,l,f,u,h,E.x,E.y)&&bs(E.prev,E,E.next)>=0||(E=E.prevZ,C.x>=g&&C.x<=v&&C.y>=p&&C.y<=b&&C!==i&&C!==o&&ig(a,d,l,f,u,h,C.x,C.y)&&bs(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;E&&E.z>=S;){if(E.x>=g&&E.x<=v&&E.y>=p&&E.y<=b&&E!==i&&E!==o&&ig(a,d,l,f,u,h,E.x,E.y)&&bs(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;C&&C.z<=T;){if(C.x>=g&&C.x<=v&&C.y>=p&&C.y<=b&&C!==i&&C!==o&&ig(a,d,l,f,u,h,C.x,C.y)&&bs(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Xet(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!MC(i,s)&&cie(i,n,n.next,s)&&Tb(i,s)&&Tb(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Eb(n),Eb(n.next),n=t=s),n=n.next}while(n!==t);return Q0(n)}function Yet(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&itt(o,a)){var l=die(o,a);o=Q0(o,o.next),l=Q0(l,l.next),Sb(o,e,r,n,i,s,0),Sb(l,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Ket(t,e,r,n){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:t.length,u=uie(t,a,l,n,!1),u===u.next&&(u.steiner=!0),i.push(ntt(u));for(i.sort(Zet),s=0;s<i.length;s++)r=Qet(i[s],r);return r}function Zet(t,e){return t.x-e.x}function Qet(t,e){var r=Jet(t,e);if(!r)return e;var n=die(r,t);return Q0(n,n.next),Q0(r,r.next)}function Jet(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,u=o.x,d=o.y,f=1/0,h;r=o;do n>=r.x&&r.x>=u&&n!==r.x&&ig(i<d?n:s,i,u,d,i<d?s:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),Tb(r,t)&&(h<f||h===f&&(r.x>o.x||r.x===o.x&&ett(o,r)))&&(o=r,f=h)),r=r.next;while(r!==l);return o}function ett(t,e){return bs(t.prev,t,e.prev)<0&&bs(e.next,t,t.next)<0}function ttt(t,e,r,n){var i=t;do i.z===0&&(i.z=NO(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,rtt(i)}function rtt(t){var e,r,n,i,s,o,a,l,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ,!!n);e++);for(l=u;a>0||l>0&&n;)a!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1);return t}function NO(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function ntt(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ig(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function itt(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!stt(t,e)&&(Tb(t,e)&&Tb(e,t)&&ott(t,e)&&(bs(t.prev,t,e.prev)||bs(t,e.prev,e))||MC(t,e)&&bs(t.prev,t,t.next)>0&&bs(e.prev,e,e.next)>0)}function bs(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function MC(t,e){return t.x===e.x&&t.y===e.y}function cie(t,e,r,n){var i=Lx(bs(t,e,r)),s=Lx(bs(t,e,n)),o=Lx(bs(r,n,t)),a=Lx(bs(r,n,e));return!!(i!==s&&o!==a||i===0&&$x(t,r,e)||s===0&&$x(t,n,e)||o===0&&$x(r,t,n)||a===0&&$x(r,e,n))}function $x(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Lx(t){return t>0?1:t<0?-1:0}function stt(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&cie(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Tb(t,e){return bs(t.prev,t,t.next)<0?bs(t,e,t.next)>=0&&bs(t,t.prev,e)>=0:bs(t,e,t.prev)<0||bs(t,t.next,e)<0}function ott(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function die(t,e){var r=new BO(t.i,t.x,t.y),n=new BO(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function bj(t,e,r,n){var i=new BO(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Eb(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function BO(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}DC.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(UO(t,0,s,r));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*r,d=a<l-1?e[a+1]*r:t.length;o-=Math.abs(UO(t,u,d,r))}var f=0;for(a=0;a<n.length;a+=3){var h=n[a]*r,g=n[a+1]*r,p=n[a+2]*r;f+=Math.abs((t[h]-t[p])*(t[g+1]-t[h+1])-(t[h]-t[g])*(t[p+1]-t[h+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function UO(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}DC.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var att=r$.exports;const n$=zs(att);var BT={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */BT.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Co=="object"&&Co;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,u=1,d=26,f=38,h=700,g=72,p=128,v="-",b=/^xn--/,S=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=l-u,P=Math.floor,D=String.fromCharCode,L;function j(J){throw new RangeError(E[J])}function te(J,ie){for(var xe=J.length,qe=[];xe--;)qe[xe]=ie(J[xe]);return qe}function se(J,ie){var xe=J.split("@"),qe="";xe.length>1&&(qe=xe[0]+"@",J=xe[1]),J=J.replace(T,".");var et=J.split("."),Je=te(et,ie).join(".");return qe+Je}function q(J){for(var ie=[],xe=0,qe=J.length,et,Je;xe<qe;)et=J.charCodeAt(xe++),et>=55296&&et<=56319&&xe<qe?(Je=J.charCodeAt(xe++),(Je&64512)==56320?ie.push(((et&1023)<<10)+(Je&1023)+65536):(ie.push(et),xe--)):ie.push(et);return ie}function X(J){return te(J,function(ie){var xe="";return ie>65535&&(ie-=65536,xe+=D(ie>>>10&1023|55296),ie=56320|ie&1023),xe+=D(ie),xe}).join("")}function Q(J){return J-48<10?J-22:J-65<26?J-65:J-97<26?J-97:l}function $(J,ie){return J+22+75*(J<26)-((ie!=0)<<5)}function V(J,ie,xe){var qe=0;for(J=xe?P(J/h):J>>1,J+=P(J/ie);J>C*d>>1;qe+=l)J=P(J/C);return P(qe+(C+1)*J/(J+f))}function Y(J){var ie=[],xe=J.length,qe,et=0,Je=p,lt=g,Re,wt,vt,pt,Ut,yt,le,Oe,nt;for(Re=J.lastIndexOf(v),Re<0&&(Re=0),wt=0;wt<Re;++wt)J.charCodeAt(wt)>=128&&j("not-basic"),ie.push(J.charCodeAt(wt));for(vt=Re>0?Re+1:0;vt<xe;){for(pt=et,Ut=1,yt=l;vt>=xe&&j("invalid-input"),le=Q(J.charCodeAt(vt++)),(le>=l||le>P((a-et)/Ut))&&j("overflow"),et+=le*Ut,Oe=yt<=lt?u:yt>=lt+d?d:yt-lt,!(le<Oe);yt+=l)nt=l-Oe,Ut>P(a/nt)&&j("overflow"),Ut*=nt;qe=ie.length+1,lt=V(et-pt,qe,pt==0),P(et/qe)>a-Je&&j("overflow"),Je+=P(et/qe),et%=qe,ie.splice(et++,0,Je)}return X(ie)}function ee(J){var ie,xe,qe,et,Je,lt,Re,wt,vt,pt,Ut,yt=[],le,Oe,nt,Ke;for(J=q(J),le=J.length,ie=p,xe=0,Je=g,lt=0;lt<le;++lt)Ut=J[lt],Ut<128&&yt.push(D(Ut));for(qe=et=yt.length,et&&yt.push(v);qe<le;){for(Re=a,lt=0;lt<le;++lt)Ut=J[lt],Ut>=ie&&Ut<Re&&(Re=Ut);for(Oe=qe+1,Re-ie>P((a-xe)/Oe)&&j("overflow"),xe+=(Re-ie)*Oe,ie=Re,lt=0;lt<le;++lt)if(Ut=J[lt],Ut<ie&&++xe>a&&j("overflow"),Ut==ie){for(wt=xe,vt=l;pt=vt<=Je?u:vt>=Je+d?d:vt-Je,!(wt<pt);vt+=l)Ke=wt-pt,nt=l-pt,yt.push(D($(pt+Ke%nt,0))),wt=P(Ke/nt);yt.push(D($(wt,0))),Je=V(xe,Oe,qe==et),xe=0,++qe}++xe,++ie}return yt.join("")}function ae(J){return se(J,function(ie){return b.test(ie)?Y(ie.slice(4).toLowerCase()):ie})}function H(J){return se(J,function(ie){return S.test(ie)?"xn--"+ee(ie):ie})}if(o={version:"1.4.1",ucs2:{decode:q,encode:X},decode:Y,encode:ee,toASCII:H,toUnicode:ae},n&&i)if(t.exports==n)i.exports=o;else for(L in o)o.hasOwnProperty(L)&&(n[L]=o[L]);else r.punycode=o})(Co)})(BT,BT.exports);var ltt=BT.exports,utt=Error,ctt=EvalError,dtt=RangeError,ftt=ReferenceError,fie=SyntaxError,b1=TypeError,htt=URIError,ptt=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},xj=typeof Symbol<"u"&&Symbol,mtt=ptt,gtt=function(){return typeof xj!="function"||typeof Symbol!="function"||typeof xj("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:mtt()},z4={__proto__:null,foo:{}},vtt=Object,_tt=function(){return{__proto__:z4}.foo===z4.foo&&!(z4 instanceof vtt)},ytt="Function.prototype.bind called on incompatible ",btt=Object.prototype.toString,xtt=Math.max,wtt="[object Function]",wj=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},Stt=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},Ttt=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Ett=function(e){var r=this;if(typeof r!="function"||btt.apply(r)!==wtt)throw new TypeError(ytt+r);for(var n=Stt(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,wj(n,arguments));return Object(d)===d?d:this}return r.apply(e,wj(n,arguments))},o=xtt(0,r.length-n.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+Ttt(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},Ctt=Ett,i$=Function.prototype.bind||Ctt,Att=Function.prototype.call,Ptt=Object.prototype.hasOwnProperty,ktt=i$,Itt=ktt.call(Att,Ptt),ei,Ott=utt,Dtt=ctt,Mtt=dtt,Rtt=ftt,bv=fie,Pg=b1,$tt=htt,hie=Function,j4=function(t){try{return hie('"use strict"; return ('+t+").constructor;")()}catch{}},O0=Object.getOwnPropertyDescriptor;if(O0)try{O0({},"")}catch{O0=null}var H4=function(){throw new Pg},Ltt=O0?function(){try{return arguments.callee,H4}catch{try{return O0(arguments,"callee").get}catch{return H4}}}():H4,Vm=gtt(),Ftt=_tt(),vo=Object.getPrototypeOf||(Ftt?function(t){return t.__proto__}:null),Km={},Ntt=typeof Uint8Array>"u"||!vo?ei:vo(Uint8Array),D0={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ei:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ei:ArrayBuffer,"%ArrayIteratorPrototype%":Vm&&vo?vo([][Symbol.iterator]()):ei,"%AsyncFromSyncIteratorPrototype%":ei,"%AsyncFunction%":Km,"%AsyncGenerator%":Km,"%AsyncGeneratorFunction%":Km,"%AsyncIteratorPrototype%":Km,"%Atomics%":typeof Atomics>"u"?ei:Atomics,"%BigInt%":typeof BigInt>"u"?ei:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ei:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ei:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ei:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Ott,"%eval%":eval,"%EvalError%":Dtt,"%Float32Array%":typeof Float32Array>"u"?ei:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ei:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ei:FinalizationRegistry,"%Function%":hie,"%GeneratorFunction%":Km,"%Int8Array%":typeof Int8Array>"u"?ei:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ei:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ei:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Vm&&vo?vo(vo([][Symbol.iterator]())):ei,"%JSON%":typeof JSON=="object"?JSON:ei,"%Map%":typeof Map>"u"?ei:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Vm||!vo?ei:vo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ei:Promise,"%Proxy%":typeof Proxy>"u"?ei:Proxy,"%RangeError%":Mtt,"%ReferenceError%":Rtt,"%Reflect%":typeof Reflect>"u"?ei:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ei:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Vm||!vo?ei:vo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ei:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Vm&&vo?vo(""[Symbol.iterator]()):ei,"%Symbol%":Vm?Symbol:ei,"%SyntaxError%":bv,"%ThrowTypeError%":Ltt,"%TypedArray%":Ntt,"%TypeError%":Pg,"%Uint8Array%":typeof Uint8Array>"u"?ei:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ei:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ei:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ei:Uint32Array,"%URIError%":$tt,"%WeakMap%":typeof WeakMap>"u"?ei:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ei:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ei:WeakSet};if(vo)try{null.error}catch(t){var Btt=vo(vo(t));D0["%Error.prototype%"]=Btt}var Utt=function t(e){var r;if(e==="%AsyncFunction%")r=j4("async function () {}");else if(e==="%GeneratorFunction%")r=j4("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=j4("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&vo&&(r=vo(i.prototype))}return D0[e]=r,r},Sj={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x1=i$,UT=Itt,Vtt=x1.call(Function.call,Array.prototype.concat),ztt=x1.call(Function.apply,Array.prototype.splice),Tj=x1.call(Function.call,String.prototype.replace),VT=x1.call(Function.call,String.prototype.slice),jtt=x1.call(Function.call,RegExp.prototype.exec),Htt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Gtt=/\\(\\)?/g,Wtt=function(e){var r=VT(e,0,1),n=VT(e,-1);if(r==="%"&&n!=="%")throw new bv("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new bv("invalid intrinsic syntax, expected opening `%`");var i=[];return Tj(e,Htt,function(s,o,a,l){i[i.length]=a?Tj(l,Gtt,"$1"):o||s}),i},qtt=function(e,r){var n=e,i;if(UT(Sj,n)&&(i=Sj[n],n="%"+i[0]+"%"),UT(D0,n)){var s=D0[n];if(s===Km&&(s=Utt(n)),typeof s>"u"&&!r)throw new Pg("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new bv("intrinsic "+e+" does not exist!")},o_=function(e,r){if(typeof e!="string"||e.length===0)throw new Pg("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Pg('"allowMissing" argument must be a boolean');if(jtt(/^%?[^%]*%?$/,e)===null)throw new bv("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Wtt(e),i=n.length>0?n[0]:"",s=qtt("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],ztt(n,Vtt([0,1],u)));for(var d=1,f=!0;d<n.length;d+=1){var h=n[d],g=VT(h,0,1),p=VT(h,-1);if((g==='"'||g==="'"||g==="`"||p==='"'||p==="'"||p==="`")&&g!==p)throw new bv("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),i+="."+h,o="%"+i+"%",UT(D0,o))a=D0[o];else if(a!=null){if(!(h in a)){if(!r)throw new Pg("base intrinsic for "+e+" exists, but the property is not available.");return}if(O0&&d+1>=n.length){var v=O0(a,h);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[h]}else f=UT(a,h),a=a[h];f&&!l&&(D0[o]=a)}}return a},pie={exports:{}},G4,Ej;function s$(){if(Ej)return G4;Ej=1;var t=o_,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return G4=e,G4}var Xtt=o_,oS=Xtt("%Object.getOwnPropertyDescriptor%",!0);if(oS)try{oS([],"length")}catch{oS=null}var mie=oS,Cj=s$(),Ytt=fie,zm=b1,Aj=mie,Ktt=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new zm("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new zm("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new zm("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new zm("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new zm("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new zm("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!Aj&&Aj(e,r);if(Cj)Cj(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:s===null&&l?l.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new Ytt("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},VO=s$(),gie=function(){return!!VO};gie.hasArrayLengthDefineBug=function(){if(!VO)return null;try{return VO([],"length",{value:1}).length!==1}catch{return!0}};var Ztt=gie,Qtt=o_,Pj=Ktt,Jtt=Ztt(),kj=mie,Ij=b1,ert=Qtt("%Math.floor%"),trt=function(e,r){if(typeof e!="function")throw new Ij("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||ert(r)!==r)throw new Ij("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&kj){var o=kj(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(Jtt?Pj(e,"length",r,!0,!0):Pj(e,"length",r)),e};(function(t){var e=i$,r=o_,n=trt,i=b1,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=s$(),u=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var g=a(e,o,arguments);return n(g,1+u(0,h.length-(arguments.length-1)),!0)};var d=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:d}):t.exports.apply=d})(pie);var rrt=pie.exports,vie=o_,_ie=rrt,nrt=_ie(vie("String.prototype.indexOf")),irt=function(e,r){var n=vie(e,!!r);return typeof n=="function"&&nrt(e,".prototype.")>-1?_ie(n):n},o$=typeof Map=="function"&&Map.prototype,W4=Object.getOwnPropertyDescriptor&&o$?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,zT=o$&&W4&&typeof W4.get=="function"?W4.get:null,Oj=o$&&Map.prototype.forEach,a$=typeof Set=="function"&&Set.prototype,q4=Object.getOwnPropertyDescriptor&&a$?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,jT=a$&&q4&&typeof q4.get=="function"?q4.get:null,Dj=a$&&Set.prototype.forEach,srt=typeof WeakMap=="function"&&WeakMap.prototype,m2=srt?WeakMap.prototype.has:null,ort=typeof WeakSet=="function"&&WeakSet.prototype,g2=ort?WeakSet.prototype.has:null,art=typeof WeakRef=="function"&&WeakRef.prototype,Mj=art?WeakRef.prototype.deref:null,lrt=Boolean.prototype.valueOf,urt=Object.prototype.toString,crt=Function.prototype.toString,drt=String.prototype.match,l$=String.prototype.slice,Eh=String.prototype.replace,frt=String.prototype.toUpperCase,Rj=String.prototype.toLowerCase,yie=RegExp.prototype.test,$j=Array.prototype.concat,Bc=Array.prototype.join,hrt=Array.prototype.slice,Lj=Math.floor,zO=typeof BigInt=="function"?BigInt.prototype.valueOf:null,X4=Object.getOwnPropertySymbols,jO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,xv=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ia=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===xv||"symbol")?Symbol.toStringTag:null,bie=Object.prototype.propertyIsEnumerable,Fj=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Nj(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||yie.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Lj(-t):Lj(t);if(n!==t){var i=String(n),s=l$.call(e,i.length+1);return Eh.call(i,r,"$&_")+"."+Eh.call(Eh.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Eh.call(e,r,"$&_")}var HO=P8,Bj=HO.custom,Uj=wie(Bj)?Bj:null,prt=function t(e,r,n,i){var s=r||{};if(gh(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(gh(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=gh(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(gh(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(gh(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Tie(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Nj(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?Nj(e,u):u}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return GO(e)?"[Array]":"[Object]";var f=Drt(s,n);if(typeof i>"u")i=[];else if(Sie(i,e)>=0)return"[Circular]";function h(Q,$,V){if($&&(i=hrt.call(i),i.push($)),V){var Y={depth:s.depth};return gh(s,"quoteStyle")&&(Y.quoteStyle=s.quoteStyle),t(Q,Y,n+1,i)}return t(Q,s,n+1,i)}if(typeof e=="function"&&!Vj(e)){var g=Srt(e),p=Fx(e,h);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(p.length>0?" { "+Bc.call(p,", ")+" }":"")}if(wie(e)){var v=xv?Eh.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):jO.call(e);return typeof e=="object"&&!xv?ry(v):v}if(krt(e)){for(var b="<"+Rj.call(String(e.nodeName)),S=e.attributes||[],T=0;T<S.length;T++)b+=" "+S[T].name+"="+xie(mrt(S[T].value),"double",s);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+="</"+Rj.call(String(e.nodeName))+">",b}if(GO(e)){if(e.length===0)return"[]";var E=Fx(e,h);return f&&!Ort(E)?"["+WO(E,f)+"]":"[ "+Bc.call(E,", ")+" ]"}if(vrt(e)){var C=Fx(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!bie.call(e,"cause")?"{ ["+String(e)+"] "+Bc.call($j.call("[cause]: "+h(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Bc.call(C,", ")+" }"}if(typeof e=="object"&&o){if(Uj&&typeof e[Uj]=="function"&&HO)return HO(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Trt(e)){var P=[];return Oj&&Oj.call(e,function(Q,$){P.push(h($,e,!0)+" => "+h(Q,e))}),zj("Map",zT.call(e),P,f)}if(Art(e)){var D=[];return Dj&&Dj.call(e,function(Q){D.push(h(Q,e))}),zj("Set",jT.call(e),D,f)}if(Ert(e))return Y4("WeakMap");if(Prt(e))return Y4("WeakSet");if(Crt(e))return Y4("WeakRef");if(yrt(e))return ry(h(Number(e)));if(xrt(e))return ry(h(zO.call(e)));if(brt(e))return ry(lrt.call(e));if(_rt(e))return ry(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Co)return"{ [object globalThis] }";if(!grt(e)&&!Vj(e)){var L=Fx(e,h),j=Fj?Fj(e)===Object.prototype:e instanceof Object||e.constructor===Object,te=e instanceof Object?"":"null prototype",se=!j&&ia&&Object(e)===e&&ia in e?l$.call(ap(e),8,-1):te?"Object":"",q=j||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",X=q+(se||te?"["+Bc.call($j.call([],se||[],te||[]),": ")+"] ":"");return L.length===0?X+"{}":f?X+"{"+WO(L,f)+"}":X+"{ "+Bc.call(L,", ")+" }"}return String(e)};function xie(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function mrt(t){return Eh.call(String(t),/"/g,"&quot;")}function GO(t){return ap(t)==="[object Array]"&&(!ia||!(typeof t=="object"&&ia in t))}function grt(t){return ap(t)==="[object Date]"&&(!ia||!(typeof t=="object"&&ia in t))}function Vj(t){return ap(t)==="[object RegExp]"&&(!ia||!(typeof t=="object"&&ia in t))}function vrt(t){return ap(t)==="[object Error]"&&(!ia||!(typeof t=="object"&&ia in t))}function _rt(t){return ap(t)==="[object String]"&&(!ia||!(typeof t=="object"&&ia in t))}function yrt(t){return ap(t)==="[object Number]"&&(!ia||!(typeof t=="object"&&ia in t))}function brt(t){return ap(t)==="[object Boolean]"&&(!ia||!(typeof t=="object"&&ia in t))}function wie(t){if(xv)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!jO)return!1;try{return jO.call(t),!0}catch{}return!1}function xrt(t){if(!t||typeof t!="object"||!zO)return!1;try{return zO.call(t),!0}catch{}return!1}var wrt=Object.prototype.hasOwnProperty||function(t){return t in this};function gh(t,e){return wrt.call(t,e)}function ap(t){return urt.call(t)}function Srt(t){if(t.name)return t.name;var e=drt.call(crt.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Sie(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Trt(t){if(!zT||!t||typeof t!="object")return!1;try{zT.call(t);try{jT.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Ert(t){if(!m2||!t||typeof t!="object")return!1;try{m2.call(t,m2);try{g2.call(t,g2)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Crt(t){if(!Mj||!t||typeof t!="object")return!1;try{return Mj.call(t),!0}catch{}return!1}function Art(t){if(!jT||!t||typeof t!="object")return!1;try{jT.call(t);try{zT.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Prt(t){if(!g2||!t||typeof t!="object")return!1;try{g2.call(t,g2);try{m2.call(t,m2)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function krt(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Tie(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Tie(l$.call(t,0,e.maxStringLength),e)+n}var i=Eh.call(Eh.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Irt);return xie(i,"single",e)}function Irt(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+frt.call(e.toString(16))}function ry(t){return"Object("+t+")"}function Y4(t){return t+" { ? }"}function zj(t,e,r,n){var i=n?WO(r,n):Bc.call(r,", ");return t+" ("+e+") {"+i+"}"}function Ort(t){for(var e=0;e<t.length;e++)if(Sie(t[e],`
`)>=0)return!1;return!0}function Drt(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Bc.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Bc.call(Array(e+1),r)}}function WO(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Bc.call(t,","+r)+`
`+e.prev}function Fx(t,e){var r=GO(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=gh(t,i)?e(t[i],t):""}var s=typeof X4=="function"?X4(t):[],o;if(xv){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)gh(t,l)&&(r&&String(Number(l))===l&&l<t.length||xv&&o["$"+l]instanceof Symbol||(yie.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof X4=="function")for(var u=0;u<s.length;u++)bie.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var Eie=o_,a_=irt,Mrt=prt,Rrt=b1,Nx=Eie("%WeakMap%",!0),Bx=Eie("%Map%",!0),$rt=a_("WeakMap.prototype.get",!0),Lrt=a_("WeakMap.prototype.set",!0),Frt=a_("WeakMap.prototype.has",!0),Nrt=a_("Map.prototype.get",!0),Brt=a_("Map.prototype.set",!0),Urt=a_("Map.prototype.has",!0),u$=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Vrt=function(t,e){var r=u$(t,e);return r&&r.value},zrt=function(t,e,r){var n=u$(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},jrt=function(t,e){return!!u$(t,e)},Hrt=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Rrt("Side channel does not contain "+Mrt(s))},get:function(s){if(Nx&&s&&(typeof s=="object"||typeof s=="function")){if(e)return $rt(e,s)}else if(Bx){if(r)return Nrt(r,s)}else if(n)return Vrt(n,s)},has:function(s){if(Nx&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Frt(e,s)}else if(Bx){if(r)return Urt(r,s)}else if(n)return jrt(n,s);return!1},set:function(s,o){Nx&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Nx),Lrt(e,s,o)):Bx?(r||(r=new Bx),Brt(r,s,o)):(n||(n={key:{},next:null}),zrt(n,s,o))}};return i},Grt=String.prototype.replace,Wrt=/%20/g,K4={RFC1738:"RFC1738",RFC3986:"RFC3986"},c$={default:K4.RFC3986,formatters:{RFC1738:function(t){return Grt.call(t,Wrt,"+")},RFC3986:function(t){return String(t)}},RFC1738:K4.RFC1738,RFC3986:K4.RFC3986},qrt=c$,Z4=Object.prototype.hasOwnProperty,i0=Array.isArray,kc=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Xrt=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(i0(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Cie=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Yrt=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(i0(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Z4.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return i0(e)&&!i0(r)&&(i=Cie(e,n)),i0(e)&&i0(r)?(r.forEach(function(s,o){if(Z4.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Z4.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Krt=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Zrt=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Qrt=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var u=o.charCodeAt(l);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===qrt.RFC1738&&(u===40||u===41)){a+=o.charAt(l);continue}if(u<128){a=a+kc[u];continue}if(u<2048){a=a+(kc[192|u>>6]+kc[128|u&63]);continue}if(u<55296||u>=57344){a=a+(kc[224|u>>12]+kc[128|u>>6&63]+kc[128|u&63]);continue}l+=1,u=65536+((u&1023)<<10|o.charCodeAt(l)&1023),a+=kc[240|u>>18]+kc[128|u>>12&63]+kc[128|u>>6&63]+kc[128|u&63]}return a},Jrt=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],d=o[u];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:u}),n.push(d))}return Xrt(r),e},ent=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},tnt=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},rnt=function(e,r){return[].concat(e,r)},nnt=function(e,r){if(i0(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Aie={arrayToObject:Cie,assign:Krt,combine:rnt,compact:Jrt,decode:Zrt,encode:Qrt,isBuffer:tnt,isRegExp:ent,maybeMap:nnt,merge:Yrt},Pie=Hrt,aS=Aie,v2=c$,int=Object.prototype.hasOwnProperty,kie={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},$c=Array.isArray,snt=Array.prototype.push,Iie=function(t,e){snt.apply(t,$c(e)?e:[e])},ont=Date.prototype.toISOString,jj=v2.default,io={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:aS.encode,encodeValuesOnly:!1,format:jj,formatter:v2.formatters[jj],indices:!1,serializeDate:function(e){return ont.call(e)},skipNulls:!1,strictNullHandling:!1},ant=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Q4={},lnt=function t(e,r,n,i,s,o,a,l,u,d,f,h,g,p,v,b,S,T){for(var E=e,C=T,P=0,D=!1;(C=C.get(Q4))!==void 0&&!D;){var L=C.get(e);if(P+=1,typeof L<"u"){if(L===P)throw new RangeError("Cyclic object value");D=!0}typeof C.get(Q4)>"u"&&(P=0)}if(typeof d=="function"?E=d(r,E):E instanceof Date?E=g(E):n==="comma"&&$c(E)&&(E=aS.maybeMap(E,function(J){return J instanceof Date?g(J):J})),E===null){if(o)return u&&!b?u(r,io.encoder,S,"key",p):r;E=""}if(ant(E)||aS.isBuffer(E)){if(u){var j=b?r:u(r,io.encoder,S,"key",p);return[v(j)+"="+v(u(E,io.encoder,S,"value",p))]}return[v(r)+"="+v(String(E))]}var te=[];if(typeof E>"u")return te;var se;if(n==="comma"&&$c(E))b&&u&&(E=aS.maybeMap(E,u)),se=[{value:E.length>0?E.join(",")||null:void 0}];else if($c(d))se=d;else{var q=Object.keys(E);se=f?q.sort(f):q}var X=l?r.replace(/\./g,"%2E"):r,Q=i&&$c(E)&&E.length===1?X+"[]":X;if(s&&$c(E)&&E.length===0)return Q+"[]";for(var $=0;$<se.length;++$){var V=se[$],Y=typeof V=="object"&&typeof V.value<"u"?V.value:E[V];if(!(a&&Y===null)){var ee=h&&l?V.replace(/\./g,"%2E"):V,ae=$c(E)?typeof n=="function"?n(Q,ee):Q:Q+(h?"."+ee:"["+ee+"]");T.set(e,P);var H=Pie();H.set(Q4,T),Iie(te,t(Y,ae,n,i,s,o,a,l,n==="comma"&&b&&$c(E)?null:u,d,f,h,g,p,v,b,S,H))}}return te},unt=function(e){if(!e)return io;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||io.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=v2.default;if(typeof e.format<"u"){if(!int.call(v2.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=v2.formatters[n],s=io.filter;(typeof e.filter=="function"||$c(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in kie?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=io.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:io.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:io.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:io.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:io.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?io.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:io.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:io.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:io.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:io.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:io.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:io.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:io.strictNullHandling}},cnt=function(t,e){var r=t,n=unt(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):$c(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=kie[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=Pie(),d=0;d<i.length;++d){var f=i[d];n.skipNulls&&r[f]===null||Iie(o,lnt(r[f],f,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var h=o.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),h.length>0?g+h:""},wv=Aie,qO=Object.prototype.hasOwnProperty,dnt=Array.isArray,$s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:wv.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},fnt=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Oie=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},hnt="utf8=%26%2310003%3B",pnt="utf8=%E2%9C%93",mnt=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===pnt?u="utf-8":o[l]===hnt&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var d=o[l],f=d.indexOf("]="),h=f===-1?d.indexOf("="):f+1,g,p;h===-1?(g=r.decoder(d,$s.decoder,u,"key"),p=r.strictNullHandling?null:""):(g=r.decoder(d.slice(0,h),$s.decoder,u,"key"),p=wv.maybeMap(Oie(d.slice(h+1),r),function(b){return r.decoder(b,$s.decoder,u,"value")})),p&&r.interpretNumericEntities&&u==="iso-8859-1"&&(p=fnt(p)),d.indexOf("[]=")>-1&&(p=dnt(p)?[p]:p);var v=qO.call(n,g);v&&r.duplicates==="combine"?n[g]=wv.combine(n[g],p):(!v||r.duplicates==="last")&&(n[g]=p)}return n},gnt=function(t,e,r,n){for(var i=n?e:Oie(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=r.decodeDotInKeys?l.replace(/%2E/g,"."):l,d=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(d)&&a!==u&&String(d)===u&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(o=[],o[d]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},vnt=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(s),u=l?s.slice(0,l.index):s,d=[];if(u){if(!n.plainObjects&&qO.call(Object.prototype,u)&&!n.allowPrototypes)return;d.push(u)}for(var f=0;n.depth>0&&(l=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&qO.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(l[1])}return l&&d.push("["+s.slice(l.index)+"]"),gnt(d,r,n,i)}},_nt=function(e){if(!e)return $s;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?$s.charset:e.charset,n=typeof e.duplicates>"u"?$s.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:$s.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:$s.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:$s.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:$s.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:$s.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:$s.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:$s.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:$s.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:$s.decoder,delimiter:typeof e.delimiter=="string"||wv.isRegExp(e.delimiter)?e.delimiter:$s.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:$s.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:$s.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:$s.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:$s.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:$s.strictNullHandling}},ynt=function(t,e){var r=_nt(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?mnt(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],l=vnt(a,n[a],r,typeof t=="string");i=wv.merge(i,l,r)}return r.allowSparse===!0?i:wv.compact(i)},bnt=cnt,xnt=ynt,wnt=c$,Snt={formats:wnt,parse:xnt,stringify:bnt},Tnt=ltt;function rc(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ent=/^([a-z0-9.+-]+:)/i,Cnt=/:[0-9]*$/,Ant=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Pnt=["<",">",'"',"`"," ","\r",`
`,"	"],knt=["{","}","|","\\","^","`"].concat(Pnt),XO=["'"].concat(knt),Hj=["%","/","?",";","#"].concat(XO),Gj=["/","?","#"],Int=255,Wj=/^[+a-z0-9A-Z_-]{0,63}$/,Ont=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Dnt={javascript:!0,"javascript:":!0},YO={javascript:!0,"javascript:":!0},kg={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},KO=Snt;function RC(t,e,r){if(t&&typeof t=="object"&&t instanceof rc)return t;var n=new rc;return n.parse(t,e,r),n}rc.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=Ant.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=KO.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=Ent.exec(a);if(u){u=u[0];var d=u.toLowerCase();this.protocol=d,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(u&&YO[u])&&(a=a.substr(2),this.slashes=!0)}if(!YO[u]&&(f||u&&!kg[u])){for(var h=-1,g=0;g<Gj.length;g++){var p=a.indexOf(Gj[g]);p!==-1&&(h===-1||p<h)&&(h=p)}var v,b;h===-1?b=a.lastIndexOf("@"):b=a.lastIndexOf("@",h),b!==-1&&(v=a.slice(0,b),a=a.slice(b+1),this.auth=decodeURIComponent(v)),h=-1;for(var g=0;g<Hj.length;g++){var p=a.indexOf(Hj[g]);p!==-1&&(h===-1||p<h)&&(h=p)}h===-1&&(h=a.length),this.host=a.slice(0,h),a=a.slice(h),this.parseHost(),this.hostname=this.hostname||"";var S=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!S)for(var T=this.hostname.split(/\./),g=0,E=T.length;g<E;g++){var C=T[g];if(C&&!C.match(Wj)){for(var P="",D=0,L=C.length;D<L;D++)C.charCodeAt(D)>127?P+="x":P+=C[D];if(!P.match(Wj)){var j=T.slice(0,g),te=T.slice(g+1),se=C.match(Ont);se&&(j.push(se[1]),te.unshift(se[2])),te.length&&(a="/"+te.join(".")+a),this.hostname=j.join(".");break}}}this.hostname.length>Int?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=Tnt.toASCII(this.hostname));var q=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+q,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Dnt[d])for(var g=0,E=XO.length;g<E;g++){var Q=XO[g];if(a.indexOf(Q)!==-1){var $=encodeURIComponent(Q);$===Q&&($=escape(Q)),a=a.split(Q).join($)}}var V=a.indexOf("#");V!==-1&&(this.hash=a.substr(V),a=a.slice(0,V));var Y=a.indexOf("?");if(Y!==-1?(this.search=a.substr(Y),this.query=a.substr(Y+1),e&&(this.query=KO.parse(this.query)),a=a.slice(0,Y)):e&&(this.search="",this.query={}),a&&(this.pathname=a),kg[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var q=this.pathname||"",ee=this.search||"";this.path=q+ee}return this.href=this.format(),this};function Mnt(t){return typeof t=="string"&&(t=RC(t)),t instanceof rc?t.format():rc.prototype.format.call(t)}rc.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=KO.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||kg[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};function Rnt(t,e){return RC(t,!1,!0).resolve(e)}rc.prototype.resolve=function(t){return this.resolveObject(RC(t,!1,!0)).format()};rc.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new rc;e.parse(t,!1,!0),t=e}for(var r=new rc,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return kg[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!kg[t.protocol]){for(var u=Object.keys(t),d=0;d<u.length;d++){var f=u[d];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!YO[t.protocol]){for(var E=(t.pathname||"").split("/");E.length&&!(t.host=E.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),E[0]!==""&&E.unshift(""),E.length<2&&E.unshift(""),r.pathname=E.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",g=r.search||"";r.path=h+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",b=v||p||r.host&&t.pathname,S=b,T=r.pathname&&r.pathname.split("/")||[],E=t.pathname&&t.pathname.split("/")||[],C=r.protocol&&!kg[r.protocol];if(C&&(r.hostname="",r.port=null,r.host&&(T[0]===""?T[0]=r.host:T.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(E[0]===""?E[0]=t.host:E.unshift(t.host)),t.host=null),b=b&&(E[0]===""||T[0]==="")),v)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,T=E;else if(E.length)T||(T=[]),T.pop(),T=T.concat(E),r.search=t.search,r.query=t.query;else if(t.search!=null){if(C){r.host=T.shift(),r.hostname=r.host;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var D=T.slice(-1)[0],L=(r.host||t.host||T.length>1)&&(D==="."||D==="..")||D==="",j=0,te=T.length;te>=0;te--)D=T[te],D==="."?T.splice(te,1):D===".."?(T.splice(te,1),j++):j&&(T.splice(te,1),j--);if(!b&&!S)for(;j--;j)T.unshift("..");b&&T[0]!==""&&(!T[0]||T[0].charAt(0)!=="/")&&T.unshift(""),L&&T.join("/").substr(-1)!=="/"&&T.push("");var se=T[0]===""||T[0]&&T[0].charAt(0)==="/";if(C){r.hostname=se?"":T.length?T.shift():"",r.host=r.hostname;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return b=b||r.host&&T.length,b&&!se&&T.unshift(""),T.length>0?r.pathname=T.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};rc.prototype.parseHost=function(){var t=this.host,e=Cnt.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var $nt=RC,Lnt=Rnt,Fnt=Mnt;/*!
 * @pixi/utils - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Kc={parse:$nt,format:Fnt,resolve:Lnt};function Ru(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function qj(t){var e=t.split("?")[0];return e.split("#")[0]}function Nnt(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Bnt(t,e,r){return t.replace(new RegExp(Nnt(e),"g"),r)}function Unt(t,e){for(var r="",n=0,i=-1,s=0,o,a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+t.slice(i+1,a):r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}var Die={toPosix:function(t){return Bnt(t,"\\","/")},isUrl:function(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:function(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol:function(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol:function(t){Ru(t),t=this.toPosix(t);var e="",r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){var s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute:function(t,e,r){if(this.isDataUrl(t))return t;var n=qj(this.toPosix(e??Nr.ADAPTER.getBaseUrl())),i=qj(this.toPosix(r??this.rootname(n)));if(Ru(t),t=this.toPosix(t),t.startsWith("/"))return Die.join(i,t.slice(1));var s=this.isAbsolute(t)?t:this.join(n,t);return s},normalize:function(t){if(t=this.toPosix(t),Ru(t),t.length===0)return".";var e="",r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));var n=t.endsWith("/");return t=Unt(t,!1),t.length>0&&n&&(t+="/"),r?"/"+t:e+t},isAbsolute:function(t){return Ru(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join:function(){for(var t=arguments,e,r=[],n=0;n<arguments.length;n++)r[n]=t[n];if(r.length===0)return".";for(var i,s=0;s<r.length;++s){var o=r[s];if(Ru(o),o.length>0)if(i===void 0)i=o;else{var a=(e=r[s-1])!==null&&e!==void 0?e:"";this.extname(a)?i+="/../"+o:i+="/"+o}}return i===void 0?".":this.normalize(i)},dirname:function(t){if(Ru(t),t.length===0)return".";t=this.toPosix(t);var e=t.charCodeAt(0),r=e===47,n=-1,i=!0,s=this.getProtocol(t),o=t;t=t.slice(s.length);for(var a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname:function(t){Ru(t),t=this.toPosix(t);var e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){var r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename:function(t,e){Ru(t),e&&Ru(e),t=this.toPosix(t);var r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){var l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname:function(t){Ru(t),t=this.toPosix(t);for(var e=-1,r=0,n=-1,i=!0,s=0,o=t.length-1;o>=0;--o){var a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse:function(t){Ru(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=this.toPosix(t);var r=t.charCodeAt(0),n=this.isAbsolute(t),i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;for(var s=-1,o=0,a=-1,l=!0,u=t.length-1,d=0;u>=i;--u){if(r=t.charCodeAt(u),r===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===46?s===-1?s=u:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||a===-1||d===0||d===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};Nr.RETINA_PREFIX=/@([0-9\.]+)x/;Nr.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ZO=!1,Xj="6.5.9";function Vnt(){ZO=!0}function Mie(t){var e;if(!ZO){if(Nr.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+Xj+" - ✰ "+t+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+Xj+" - "+t+" - http://www.pixijs.com/");ZO=!0}}var J4;function Rie(){return typeof J4>"u"&&(J4=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:Nr.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Nr.ADAPTER.getWebGLRenderingContext())return!1;var r=Nr.ADAPTER.createCanvas(),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),J4}var znt="#f0f8ff",jnt="#faebd7",Hnt="#00ffff",Gnt="#7fffd4",Wnt="#f0ffff",qnt="#f5f5dc",Xnt="#ffe4c4",Ynt="#000000",Knt="#ffebcd",Znt="#0000ff",Qnt="#8a2be2",Jnt="#a52a2a",eit="#deb887",tit="#5f9ea0",rit="#7fff00",nit="#d2691e",iit="#ff7f50",sit="#6495ed",oit="#fff8dc",ait="#dc143c",lit="#00ffff",uit="#00008b",cit="#008b8b",dit="#b8860b",fit="#a9a9a9",hit="#006400",pit="#a9a9a9",mit="#bdb76b",git="#8b008b",vit="#556b2f",_it="#ff8c00",yit="#9932cc",bit="#8b0000",xit="#e9967a",wit="#8fbc8f",Sit="#483d8b",Tit="#2f4f4f",Eit="#2f4f4f",Cit="#00ced1",Ait="#9400d3",Pit="#ff1493",kit="#00bfff",Iit="#696969",Oit="#696969",Dit="#1e90ff",Mit="#b22222",Rit="#fffaf0",$it="#228b22",Lit="#ff00ff",Fit="#dcdcdc",Nit="#f8f8ff",Bit="#daa520",Uit="#ffd700",Vit="#808080",zit="#008000",jit="#adff2f",Hit="#808080",Git="#f0fff0",Wit="#ff69b4",qit="#cd5c5c",Xit="#4b0082",Yit="#fffff0",Kit="#f0e68c",Zit="#fff0f5",Qit="#e6e6fa",Jit="#7cfc00",est="#fffacd",tst="#add8e6",rst="#f08080",nst="#e0ffff",ist="#fafad2",sst="#d3d3d3",ost="#90ee90",ast="#d3d3d3",lst="#ffb6c1",ust="#ffa07a",cst="#20b2aa",dst="#87cefa",fst="#778899",hst="#778899",pst="#b0c4de",mst="#ffffe0",gst="#00ff00",vst="#32cd32",_st="#faf0e6",yst="#ff00ff",bst="#800000",xst="#66cdaa",wst="#0000cd",Sst="#ba55d3",Tst="#9370db",Est="#3cb371",Cst="#7b68ee",Ast="#00fa9a",Pst="#48d1cc",kst="#c71585",Ist="#191970",Ost="#f5fffa",Dst="#ffe4e1",Mst="#ffe4b5",Rst="#ffdead",$st="#000080",Lst="#fdf5e6",Fst="#808000",Nst="#6b8e23",Bst="#ffa500",Ust="#ff4500",Vst="#da70d6",zst="#eee8aa",jst="#98fb98",Hst="#afeeee",Gst="#db7093",Wst="#ffefd5",qst="#ffdab9",Xst="#cd853f",Yst="#ffc0cb",Kst="#dda0dd",Zst="#b0e0e6",Qst="#800080",Jst="#663399",eot="#ff0000",tot="#bc8f8f",rot="#4169e1",not="#8b4513",iot="#fa8072",sot="#f4a460",oot="#2e8b57",aot="#fff5ee",lot="#a0522d",uot="#c0c0c0",cot="#87ceeb",dot="#6a5acd",fot="#708090",hot="#708090",pot="#fffafa",mot="#00ff7f",got="#4682b4",vot="#d2b48c",_ot="#008080",yot="#d8bfd8",bot="#ff6347",xot="#40e0d0",wot="#ee82ee",Sot="#f5deb3",Tot="#ffffff",Eot="#f5f5f5",Cot="#ffff00",Aot="#9acd32",Pot={aliceblue:znt,antiquewhite:jnt,aqua:Hnt,aquamarine:Gnt,azure:Wnt,beige:qnt,bisque:Xnt,black:Ynt,blanchedalmond:Knt,blue:Znt,blueviolet:Qnt,brown:Jnt,burlywood:eit,cadetblue:tit,chartreuse:rit,chocolate:nit,coral:iit,cornflowerblue:sit,cornsilk:oit,crimson:ait,cyan:lit,darkblue:uit,darkcyan:cit,darkgoldenrod:dit,darkgray:fit,darkgreen:hit,darkgrey:pit,darkkhaki:mit,darkmagenta:git,darkolivegreen:vit,darkorange:_it,darkorchid:yit,darkred:bit,darksalmon:xit,darkseagreen:wit,darkslateblue:Sit,darkslategray:Tit,darkslategrey:Eit,darkturquoise:Cit,darkviolet:Ait,deeppink:Pit,deepskyblue:kit,dimgray:Iit,dimgrey:Oit,dodgerblue:Dit,firebrick:Mit,floralwhite:Rit,forestgreen:$it,fuchsia:Lit,gainsboro:Fit,ghostwhite:Nit,goldenrod:Bit,gold:Uit,gray:Vit,green:zit,greenyellow:jit,grey:Hit,honeydew:Git,hotpink:Wit,indianred:qit,indigo:Xit,ivory:Yit,khaki:Kit,lavenderblush:Zit,lavender:Qit,lawngreen:Jit,lemonchiffon:est,lightblue:tst,lightcoral:rst,lightcyan:nst,lightgoldenrodyellow:ist,lightgray:sst,lightgreen:ost,lightgrey:ast,lightpink:lst,lightsalmon:ust,lightseagreen:cst,lightskyblue:dst,lightslategray:fst,lightslategrey:hst,lightsteelblue:pst,lightyellow:mst,lime:gst,limegreen:vst,linen:_st,magenta:yst,maroon:bst,mediumaquamarine:xst,mediumblue:wst,mediumorchid:Sst,mediumpurple:Tst,mediumseagreen:Est,mediumslateblue:Cst,mediumspringgreen:Ast,mediumturquoise:Pst,mediumvioletred:kst,midnightblue:Ist,mintcream:Ost,mistyrose:Dst,moccasin:Mst,navajowhite:Rst,navy:$st,oldlace:Lst,olive:Fst,olivedrab:Nst,orange:Bst,orangered:Ust,orchid:Vst,palegoldenrod:zst,palegreen:jst,paleturquoise:Hst,palevioletred:Gst,papayawhip:Wst,peachpuff:qst,peru:Xst,pink:Yst,plum:Kst,powderblue:Zst,purple:Qst,rebeccapurple:Jst,red:eot,rosybrown:tot,royalblue:rot,saddlebrown:not,salmon:iot,sandybrown:sot,seagreen:oot,seashell:aot,sienna:lot,silver:uot,skyblue:cot,slateblue:dot,slategray:fot,slategrey:hot,snow:pot,springgreen:mot,steelblue:got,tan:vot,teal:_ot,thistle:yot,tomato:bot,turquoise:xot,violet:wot,wheat:Sot,white:Tot,whitesmoke:Eot,yellow:Cot,yellowgreen:Aot};function J0(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function d$(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function f$(t){return typeof t=="string"&&(t=Pot[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function kot(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function Iot(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[fn.NORMAL_NPM]=fn.NORMAL,t[fn.ADD_NPM]=fn.ADD,t[fn.SCREEN_NPM]=fn.SCREEN,e[fn.NORMAL]=fn.NORMAL_NPM,e[fn.ADD]=fn.ADD_NPM,e[fn.SCREEN]=fn.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var h$=Iot();function p$(t,e){return h$[e?1:0][t]}function $ie(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function $C(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function m$(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function Lie(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function LC(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var Oot={Float32Array,Uint32Array,Int32Array,Uint8Array};function Dot(t,e){for(var r=0,n=0,i={},s=0;s<t.length;s++)n+=e[s],r+=t[s].length;for(var o=new ArrayBuffer(r*4),a=null,l=0,s=0;s<t.length;s++){var u=e[s],d=t[s],f=LC(d);i[f]||(i[f]=new Oot[f](o)),a=i[f];for(var h=0;h<d.length;h++){var g=(h/u|0)*n+l,p=h%u;a[g+p]=d[h]}l+=u}return new Float32Array(o)}function Cb(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function QO(t){return!(t&t-1)&&!!t}function JO(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function M0(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}}function v0(t){return t===0?0:t<0?-1:1}var Mot=0;function qh(){return++Mot}var Yj={};function Ca(t,e,r){if(r===void 0&&(r=3),!Yj[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),Yj[e]=!0}}var eD={},ja=Object.create(null),Wl=Object.create(null);function Rot(){var t;for(t in ja)ja[t].destroy();for(t in Wl)Wl[t].destroy()}function $ot(){var t;for(t in ja)delete ja[t];for(t in Wl)delete Wl[t]}var tD=function(){function t(e,r,n){this.canvas=Nr.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||Nr.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function Fie(t){var e=t.width,r=t.height,n=t.getContext("2d",{willReadFrequently:!0}),i=n.getImageData(0,0,e,r),s=i.data,o=s.length,a={top:null,left:null,right:null,bottom:null},l=null,u,d,f;for(u=0;u<o;u+=4)s[u+3]!==0&&(d=u/4%e,f=~~(u/4/e),a.top===null&&(a.top=f),(a.left===null||d<a.left)&&(a.left=d),(a.right===null||a.right<d)&&(a.right=d+1),(a.bottom===null||a.bottom<f)&&(a.bottom=f));return a.top!==null&&(e=a.right-a.left,r=a.bottom-a.top+1,l=n.getImageData(a.left,a.top,e,r)),{height:r,width:e,data:l}}var Nie=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Lot(t){var e=Nie.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var Ux;function Bie(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,Ux||(Ux=document.createElement("a")),Ux.href=t;var r=Kc.parse(Ux.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Ab(t,e){var r=Nr.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}const Fot=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Wl,CanvasRenderTarget:tD,DATA_URI:Nie,EventEmitter:Ff,ProgramCache:eD,TextureCache:ja,clearTextureCache:$ot,correctBlendMode:p$,createIndicesForQuads:Lie,decomposeDataUri:Lot,deprecation:Ca,destroyTextureCache:Rot,determineCrossOrigin:Bie,earcut:n$,getBufferType:LC,getResolutionOfUrl:Ab,hex2rgb:J0,hex2string:d$,interleaveTypedArrays:Dot,isMobile:nu,isPow2:QO,isWebGLSupported:Rie,log2:JO,nextPow2:Cb,path:Die,premultiplyBlendMode:h$,premultiplyRgba:$ie,premultiplyTint:$C,premultiplyTintToRgba:m$,removeItems:M0,rgb2hex:kot,sayHello:Mie,sign:v0,skipHello:Vnt,string2hex:f$,trimCanvas:Fie,uid:qh,url:Kc},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Pb=Math.PI*2,Uie=180/Math.PI,Vie=Math.PI/180,so;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(so||(so={}));var Vi=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Vx=[new Vi,new Vi,new Vi,new Vi],ui=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=so.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var s=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>s}var a=this.left,l=this.right,u=this.top,d=this.bottom;if(l<=a||d<=u)return!1;var f=Vx[0].set(e.left,e.top),h=Vx[1].set(e.left,e.bottom),g=Vx[2].set(e.right,e.top),p=Vx[3].set(e.right,e.bottom);if(g.x<=f.x||h.y<=f.y)return!1;var v=Math.sign(r.a*r.d-r.b*r.c);if(v===0||(r.apply(f,f),r.apply(h,h),r.apply(g,g),r.apply(p,p),Math.max(f.x,h.x,g.x,p.x)<=a||Math.min(f.x,h.x,g.x,p.x)>=l||Math.max(f.y,h.y,g.y,p.y)<=u||Math.min(f.y,h.y,g.y,p.y)>=d))return!1;var b=v*(h.y-f.y),S=v*(f.x-h.x),T=b*a+S*u,E=b*l+S*u,C=b*a+S*d,P=b*l+S*d;if(Math.max(T,E,C,P)<=b*f.x+S*f.y||Math.min(T,E,C,P)>=b*p.x+S*p.y)return!1;var D=v*(f.y-g.y),L=v*(g.x-f.x),j=D*a+L*u,te=D*l+L*u,se=D*a+L*d,q=D*l+L*d;return!(Math.max(j,te,se,q)<=D*f.x+L*f.y||Math.min(j,te,se,q)>=D*p.x+L*p.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),zie=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=so.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n},t.prototype.getBounds=function(){return new ui(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),jie=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=so.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new ui(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),_2=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var s=[],o=0,a=i.length;o<a;o++)s.push(i[o].x,i[o].y);i=s}this.points=i,this.type=so.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,s=0,o=i-1;s<i;o=s++){var a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],d=this.points[o*2+1],f=l>r!=d>r&&e<(u-a)*((r-l)/(d-l))+a;f&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),Hie=function(){function t(e,r,n,i,s){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),s===void 0&&(s=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=so.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),s=r-(this.y+n),o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),Ch=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),hs=function(){function t(e,r,n,i,s,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new Vi;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new Vi;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this},t.prototype.setTransform=function(e,r,n,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(n,r),u=Math.abs(a+l);return u<1e-5||Math.abs(Pb-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),qp=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Xp=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Yp=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Kp=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rD=[],Gie=[],zx=Math.sign;function Not(){for(var t=0;t<16;t++){var e=[];rD.push(e);for(var r=0;r<16;r++)for(var n=zx(qp[t]*qp[r]+Yp[t]*Xp[r]),i=zx(Xp[t]*qp[r]+Kp[t]*Xp[r]),s=zx(qp[t]*Yp[r]+Yp[t]*Kp[r]),o=zx(Xp[t]*Yp[r]+Kp[t]*Kp[r]),a=0;a<16;a++)if(qp[a]===n&&Xp[a]===i&&Yp[a]===s&&Kp[a]===o){e.push(a);break}}for(var t=0;t<16;t++){var l=new hs;l.set(qp[t],Xp[t],Yp[t],Kp[t],0,0),Gie.push(l)}}Not();var ds={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return qp[t]},uY:function(t){return Xp[t]},vX:function(t){return Yp[t]},vY:function(t){return Kp[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return rD[t][e]},sub:function(t,e){return rD[t][ds.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?ds.S:ds.N:Math.abs(e)*2<=Math.abs(t)?t>0?ds.E:ds.W:e>0?t>0?ds.SE:ds.SW:t>0?ds.NE:ds.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=Gie[ds.inv(e)];i.tx=r,i.ty=n,t.append(i)}},FC=function(){function t(){this.worldTransform=new hs,this.localTransform=new hs,this.position=new Ch(this.onChange,this,0,0),this.scale=new Ch(this.onChange,this,1,1),this.pivot=new Ch(this.onChange,this,0,0),this.skew=new Ch(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Nr.SORTABLE_CHILDREN=!1;var kb=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?ui.EMPTY:(e=e||new ui(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,s=e.c,o=e.d,a=e.tx,l=e.ty,u=n*r.x+s*r.y+a,d=i*r.x+o*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s},t.prototype.addFrame=function(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)},t.prototype.addFrameMatrix=function(e,r,n,i,s){var o=e.a,a=e.b,l=e.c,u=e.d,d=e.tx,f=e.ty,h=this.minX,g=this.minY,p=this.maxX,v=this.maxY,b=o*r+l*n+d,S=a*r+u*n+f;h=b<h?b:h,g=S<g?S:g,p=b>p?b:p,v=S>v?S:v,b=o*i+l*n+d,S=a*i+u*n+f,h=b<h?b:h,g=S<g?S:g,p=b>p?b:p,v=S>v?S:v,b=o*r+l*s+d,S=a*r+u*s+f,h=b<h?b:h,g=S<g?S:g,p=b>p?b:p,v=S>v?S:v,b=o*i+l*s+d,S=a*i+u*s+f,h=b<h?b:h,g=S<g?S:g,p=b>p?b:p,v=S>v?S:v,this.minX=h,this.minY=g,this.maxX=p,this.maxY=v},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,s=this.minY,o=this.maxX,a=this.maxY,l=r;l<n;l+=2){var u=e[l],d=e[l+1];i=u<i?u:i,s=d<s?d:s,o=u>o?u:o,a=d>a?d:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,s,o){s===void 0&&(s=0),o===void 0&&(o=s);for(var a=e.a,l=e.b,u=e.c,d=e.d,f=e.tx,h=e.ty,g=this.minX,p=this.minY,v=this.maxX,b=this.maxY,S=n;S<i;S+=2){var T=r[S],E=r[S+1],C=a*T+u*E+f,P=d*E+l*T+h;g=Math.min(g,C-s),v=Math.max(v,C+s),p=Math.min(p,P-o),b=Math.max(b,P+o)}this.minX=g,this.minY=p,this.maxX=v,this.maxY=b},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){var a=this.minX,l=this.minY,u=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>d?o:d}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){var a=this.minX,l=this.minY,u=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>d?o:d}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nD=function(t,e){return nD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},nD(t,e)};function g$(t,e){nD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Os=function(t){g$(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new FC,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new kb,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var s=n[i];Object.defineProperty(e.prototype,s,Object.getOwnPropertyDescriptor(r,s))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new ui),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new ui),r=this._localBoundsRect),this._localBounds||(this._localBounds=new kb);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=s,this._bounds.updateID+=this._boundsID-o,a},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,s){return n&&(r=n.toGlobal(r,i,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,s,o,a,l,u,d){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=1),o===void 0&&(o=0),a===void 0&&(a=0),l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=s||1,this.rotation=o,this.skew.x=a,this.skew.y=l,this.pivot.x=u,this.pivot.y=d,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new v$),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*Uie},set:function(r){this.transform.rotation=r*Vie},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=r,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),e}(Ff),v$=function(t){g$(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Os);Os.prototype.displayObjectUpdateTransform=Os.prototype.updateTransform;function Bot(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var Eu=function(t){g$(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=Nr.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var s=0;s<n.length;s++)this.addChild(n[s]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),s=this.getChildIndex(n);this.children[i]=n,this.children[s]=r,this.onChildrenChange(i<s?i:s)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);M0(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var s=0;s<n.length;s++)this.removeChild(n[s]);else{var o=n[0],a=this.children.indexOf(o);if(a===-1)return null;o.parent=null,o.transform._parentID=-1,M0(this.children,a,1),this._boundsID++,this.onChildrenChange(a),o.emit("removed",this),this.emit("childRemoved",o,this,a)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,M0(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,s=n,o=s-i,a;if(o>0&&o<=s){a=this.children.splice(i,o);for(var l=0;l<a.length;++l)a[l].parent=null,a[l].transform&&(a[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var l=0;l<a.length;++l)a[l].emit("removed",this),this.emit("childRemoved",a[l],this,l);return a}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var s=this.children[n];s._lastSortedIndex=n,!r&&s.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(Bot),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.isMaskData?n._mask.maskObject:n._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var s=0,o=this.children.length;s<o;++s){var a=this.children[s];a.visible&&a.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,s;if(this.cullArea?(i=this.cullArea,s=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,s))this._render(r);else if(this.cullArea)return;for(var o=0,a=this.children.length;o<a;++o){var l=this.children[o],u=l.cullable;l.cullable=u||!this.cullArea,l.render(r),l.cullable=u}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<n.length;s++)n[s].enabled&&this._enabledFilters.push(n[s])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Ls.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var s=0,a=this.children.length;s<a;++s)this.children[s].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var s=0;s<i.length;++s)i[s].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Os);Eu.prototype.containerUpdateTransform=Eu.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var y2=function(){return y2=Object.assign||function(e){for(var r=arguments,n,i=1,s=arguments.length;i<s;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},y2.apply(this,arguments)},Ri;(function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"})(Ri||(Ri={}));var Kj=function(t){if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var e=typeof t.extension!="object"?{type:t.extension}:t.extension;t=y2(y2({},e),{ref:t})}if(typeof t=="object")t=y2({},t);else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Pd={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(Kj).forEach(function(i){i.type.forEach(function(s){var o,a;return(a=(o=e._removeHandlers)[s])===null||a===void 0?void 0:a.call(o,i)})}),this},add:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(Kj).forEach(function(i){i.type.forEach(function(s){var o=e._addHandlers,a=e._queue;o[s]?o[s](i):(a[s]=a[s]||[],a[s].push(i))})}),this},handle:function(t,e,r){var n=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(n[t]||i[t])throw new Error("Extension type "+t+" already has a handler");n[t]=e,i[t]=r;var s=this._queue;return s[t]&&(s[t].forEach(function(o){return e(o)}),delete s[t]),this},handleByMap:function(t,e){return this.handle(t,function(r){e[r.name]=r.ref},function(r){delete e[r.name]})},handleByList:function(t,e){return this.handle(t,function(r){var n,i;e.includes(r.ref)||(e.push(r.ref),t===Ri.Loader&&((i=(n=r.ref).add)===null||i===void 0||i.call(n)))},function(r){var n=e.indexOf(r.ref);n!==-1&&e.splice(n,1)})}};/*!
 * @pixi/runner - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var yo=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");var u=this,d=u.name,f=u.items;this._aliasCount++;for(var h=0,g=f.length;h<g;h++)f[h][d](e,r,n,i,s,o,a,l);return f===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(yo.prototype,{dispatch:{value:yo.prototype.emit},run:{value:yo.prototype.emit}});/*!
 * @pixi/ticker - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Nr.TARGET_FPMS=.06;var pd;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(pd||(pd={}));var eP=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),bo=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new eP(null,null,1/0),this.deltaMS=1/Nr.TARGET_FPMS,this.elapsedMS=1/Nr.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=pd.NORMAL),this._addListener(new eP(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=pd.NORMAL),this._addListener(new eP(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Nr.TARGET_FPMS;for(var i=this._head,s=i.next;s;)s=s.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Nr.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Wie=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,pd.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?bo.shared:new bo,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t.extension=Ri.Application,t}();/*!
 * @pixi/core - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Nr.PREFER_ENV=nu.any?hd.WEBGL:hd.WEBGL2;Nr.STRICT_TEXTURE_CACHE=!1;var Ib=[];function NC(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=Ib.length-1;i>=0;--i){var s=Ib[i];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iD=function(t,e){return iD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},iD(t,e)};function Ji(t,e){iD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sD=function(){return sD=Object.assign||function(e){for(var r=arguments,n,i=1,s=arguments.length;i<s;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},sD.apply(this,arguments)};function Uot(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var em=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new yo("setRealSize"),this.onUpdate=new yo("update"),this.onError=new yo("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),vm=function(t){Ji(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,a)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var s=r.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Tu.UNPACK);var o=n.realWidth,a=n.realHeight;return i.width===o&&i.height===a?s.texSubImage2D(n.target,0,0,0,o,a,n.format,i.type,this.data):(i.width=o,i.height=a,s.texImage2D(n.target,0,i.internalFormat,o,a,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(em),Vot={scaleMode:Wu.NEAREST,format:Sr.RGBA,alphaMode:Tu.NPM},li=function(t){Ji(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var s=n.alphaMode,o=n.mipmap,a=n.anisotropicLevel,l=n.scaleMode,u=n.width,d=n.height,f=n.wrapMode,h=n.format,g=n.type,p=n.target,v=n.resolution,b=n.resourceOptions;return r&&!(r instanceof em)&&(r=NC(r,b),r.internal=!0),i.resolution=v||Nr.RESOLUTION,i.width=Math.round((u||0)*i.resolution)/i.resolution,i.height=Math.round((d||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:Nr.MIPMAP_TEXTURES,i.anisotropicLevel=a!==void 0?a:Nr.ANISOTROPIC_LEVEL,i._wrapMode=f||Nr.WRAP_MODE,i._scaleMode=l!==void 0?l:Nr.SCALE_MODE,i.format=h||Sr.RGBA,i.type=g||un.UNSIGNED_BYTE,i.target=p||Mh.TEXTURE_2D,i.alphaMode=s!==void 0?s:Tu.UNPACK,i.uid=qh(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=u>0&&d>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=QO(this.realWidth)&&QO(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Wl[this.cacheId],delete ja[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=Nr.STRICT_TEXTURE_CACHE);var s=typeof r=="string",o=null;if(s)o=r;else{if(!r._pixiId){var a=n&&n.pixiIdPrefix||"pixiid";r._pixiId=a+"_"+qh()}o=r._pixiId}var l=Wl[o];if(s&&i&&!l)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return l||(l=new e(r,n),l.cacheId=o,e.addToCache(l,o)),l},e.fromBuffer=function(r,n,i,s){r=r||new Float32Array(n*i*4);var o=new vm(r,{width:n,height:i}),a=r instanceof Float32Array?un.FLOAT:un.UNSIGNED_BYTE;return new e(o,Object.assign({},Vot,s||{width:n,height:i,type:a}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Wl[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Wl[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Wl[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Wl[r],n}}else if(r&&r.textureCacheIds){for(var s=0;s<r.textureCacheIds.length;++s)delete Wl[r.textureCacheIds[s]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(Ff),BC=function(t){Ji(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height;i=t.call(this,o,a)||this,i.items=[],i.itemDirtyIds=[];for(var l=0;l<r;l++){var u=new li;i.items.push(u),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof em?this.addResourceAt(r[i],i):this.addResourceAt(NC(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(s){return s.resource}).filter(function(s){return s}),i=n.map(function(s){return s.load()});return this._load=Promise.all(i).then(function(){var s=r.items[0],o=s.realWidth,a=s.realHeight;return r.resize(o,a),Promise.resolve(r)}),this._load},e}(em),_$=function(t){Ji(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height,l,u;return Array.isArray(r)?(l=r,u=r.length):u=r,i=t.call(this,u,{width:o,height:a})||this,l&&i.initFromArray(l,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=Mh.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var s=this,o=s.length,a=s.itemDirtyIds,l=s.items,u=r.gl;i.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var d=0;d<o;d++){var f=l[d];a[d]<f.dirtyId&&(a[d]=f.dirtyId,f.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,d,f.resource.width,f.resource.height,1,n.format,i.type,f.resource.source))}return!0},e}(BC),md=function(t){Ji(e,t);function e(r){var n=this,i=r,s=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,s,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=Bie(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,s){var o=r.gl,a=n.realWidth,l=n.realHeight;if(s=s||this.source,s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Tu.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===a&&i.height===l?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,s):(i.width=a,i.height=l,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,s)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(em),y$=function(t){Ji(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(md),b$=function(t){Ji(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height,l=s.autoLoad,u=s.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:a})||this;for(var d=0;d<e.SIDES;d++)i.items[d].target=Mh.TEXTURE_CUBE_MAP_POSITIVE_X+d;return i.linkBaseTexture=u!==!1,r&&i.initFromArray(r,n),l!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=Mh.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=Mh.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var s=this.itemDirtyIds,o=0;o<e.SIDES;o++){var a=this.items[o];(s[o]<a.dirtyId||i.dirtyId<n.dirtyId)&&(a.valid&&a.resource?(a.resource.upload(r,a,i),s[o]=a.dirtyId):s[o]<-1&&(r.gl.texImage2D(a.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),s[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(BC),UC=function(t){Ji(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var s=new Image;md.crossOrigin(s,r,n.crossorigin),s.src=r,r=s}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:Nr.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,s){var o=n.source;n.url=o.src;var a=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?a():(o.onload=a,o.onerror=function(l){s(l),n.onError.emit(l)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,s=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:s?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===null||r.alphaMode===Tu.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var s=!0,o=n._glTextures;for(var a in o){var l=o[a];if(l!==i&&l.dirtyId!==n.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(md),x$=function(t){Ji(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,Nr.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;md.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,s=n.height;if(!i||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,a=s*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/s*i,a=r._overrideHeight||r._overrideWidth/i*s),o=Math.round(o),a=Math.round(a);var l=r.source;l.width=o,l.height=a,l._pixiId="canvas_"+qh(),l.getContext("2d").drawImage(n,0,0,i,s,0,0,o,a),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&r.startsWith("data:image/svg+xml")||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(md),w$=function(t){Ji(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];md.crossOrigin(s,o,n.crossorigin);for(var a=0;a<r.length;++a){var l=document.createElement("source"),u=r[a],d=u.src,f=u.mime;d=d||r[a];var h=d.split("?").shift().toLowerCase(),g=h.slice(h.lastIndexOf(".")+1);f=f||e.MIME_TYPES[g]||"video/"+g,l.src=d,l.type=f,s.appendChild(l)}r=s}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=bo.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return!r.paused&&!r.ended&&this._isSourceReady()},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState>2},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(bo.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(bo.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(bo.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(bo.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(bo.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(md),S$=function(t){Ji(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&r instanceof ImageBitmap},e}(md);Ib.push(UC,S$,y$,w$,x$,vm,b$,_$);var qie={__proto__:null,Resource:em,BaseImageResource:md,INSTALLED:Ib,autoDetectResource:NC,AbstractMultiResource:BC,ArrayResource:_$,BufferResource:vm,CanvasResource:y$,CubeResource:b$,ImageResource:UC,SVGResource:x$,VideoResource:w$,ImageBitmapResource:S$},zot=function(t){Ji(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var s=r.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Tu.UNPACK);var o=n.realWidth,a=n.realHeight;return i.width===o&&i.height===a?s.texSubImage2D(n.target,0,0,0,o,a,n.format,i.type,this.data):(i.width=o,i.height=a,s.texImage2D(n.target,0,i.internalFormat,o,a,0,n.format,i.type,this.data)),!0},e}(vm),HT=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new yo("disposeFramebuffer"),this.multisample=is.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new li(null,{scaleMode:Wu.NEAREST,resolution:1,mipmap:Su.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new li(new zot(null,{width:this.width,height:this.height}),{scaleMode:Wu.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Su.OFF,format:Sr.DEPTH_COMPONENT,type:un.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(e/s,r/s)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),T$=function(t){Ji(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];r={width:i,height:s,scaleMode:o,resolution:a}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:is.NONE,n=t.call(this,null,r)||this,n.mipmap=Su.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new HT(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(li),E$=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,s=r.height;if(n){var o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;n=ds.add(n,ds.NW),this.x0=l+o*ds.uX(n),this.y0=u+a*ds.uY(n),n=ds.add(n,2),this.x1=l+o*ds.uX(n),this.y1=u+a*ds.uY(n),n=ds.add(n,2),this.x2=l+o*ds.uX(n),this.y2=u+a*ds.uY(n),n=ds.add(n,2),this.x3=l+o*ds.uX(n),this.y3=u+a*ds.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),Zj=new E$;function jx(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var An=function(t){Ji(e,t);function e(r,n,i,s,o,a){var l=t.call(this)||this;if(l.noFrame=!1,n||(l.noFrame=!0,n=new ui(0,0,1,1)),r instanceof e&&(r=r.baseTexture),l.baseTexture=r,l._frame=n,l.trim=s,l.valid=!1,l._uvs=Zj,l.uvMatrix=null,l.orig=i||n,l._rotate=Number(o||0),o===!0)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new Vi(a.x,a.y):new Vi(0,0),l._updateID=0,l.textureCacheIds=[],r.valid?l.noFrame?r.valid&&l.onBaseTextureUpdated(r):l.frame=n:r.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&r.on("update",l.onBaseTextureUpdated,l),l}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&ja[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===Zj&&(this._uvs=new E$),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=Nr.STRICT_TEXTURE_CACHE);var s=typeof r=="string",o=null;if(s)o=r;else if(r instanceof li){if(!r.cacheId){var a=n&&n.pixiIdPrefix||"pixiid";r.cacheId=a+"-"+qh(),li.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var a=n&&n.pixiIdPrefix||"pixiid";r._pixiId=a+"_"+qh()}o=r._pixiId}var l=ja[o];if(s&&i&&!l)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!l&&!(r instanceof li)?(n.resolution||(n.resolution=Ab(r)),l=new e(new li(r,n)),l.baseTexture.cacheId=o,li.addToCache(l.baseTexture,o),e.addToCache(l,o)):!l&&r instanceof li&&(l=new e(r),e.addToCache(l,o)),l},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),s=e.from(r,Object.assign({resourceOptions:i},n),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(function(){return Promise.resolve(s)})},e.fromBuffer=function(r,n,i,s){return new e(li.fromBuffer(r,n,i,s))},e.fromLoader=function(r,n,i,s){var o=new li(r,Object.assign({scaleMode:Nr.SCALE_MODE,resolution:Ab(n)},s)),a=o.resource;a instanceof UC&&(a.url=n);var l=new e(o);return i||(i=n),li.addToCache(l.baseTexture,i),e.addToCache(l,i),i!==n&&(li.addToCache(l.baseTexture,n),e.addToCache(l,n)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(u){l.baseTexture.once("loaded",function(){return u(l)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),ja[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),ja[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=ja[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete ja[r],n}}else if(r&&r.textureCacheIds){for(var s=0;s<r.textureCacheIds.length;++s)ja[r.textureCacheIds[s]]===r&&delete ja[r.textureCacheIds[s]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,s=r.width,o=r.height,a=n+s>this.baseTexture.width,l=i+o>this.baseTexture.height;if(a||l){var u=a&&l?"and":"or",d="X: "+n+" + "+s+" = "+(n+s)+" > "+this.baseTexture.width,f="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(d+" "+u+" "+f))}this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new li),jx(e._EMPTY),jx(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=Nr.ADAPTER.createCanvas(16,16),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(li.from(r)),jx(e._WHITE),jx(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(Ff),Xh=function(t){Ji(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var s=this.baseTexture.resolution,o=Math.round(r*s)/s,a=Math.round(n*s)/s;this.valid=o>0&&a>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=a,i&&this.baseTexture.resize(o,a),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],s=1;s<arguments.length;s++)i[s-1]=n[s];return typeof r=="number"&&(Ca("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new T$(r))},e}(An),Xie=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=is.NONE);var i=new T$(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Xh(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=is.NONE);var s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Cb(e),r=Cb(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);var o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||is.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),oD=function(){function t(e,r,n,i,s,o,a){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=un.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,s){return new t(e,r,n,i,s)},t}(),jot=0,Xs=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=jot++,this.disposeRunner=new yo("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===tc.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?tc.ELEMENT_ARRAY_BUFFER:tc.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),Hot={Float32Array,Uint32Array,Int32Array,Uint8Array};function Got(t,e){for(var r=0,n=0,i={},s=0;s<t.length;s++)n+=e[s],r+=t[s].length;for(var o=new ArrayBuffer(r*4),a=null,l=0,s=0;s<t.length;s++){var u=e[s],d=t[s],f=LC(d);i[f]||(i[f]=new Hot[f](o)),a=i[f];for(var h=0;h<d.length;h++){var g=(h/u|0)*n+l,p=h%u;a[g+p]=d[h]}l+=u}return new Float32Array(o)}var Qj={5126:4,5123:2,5121:1},Wot=0,qot={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},l_=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Wot++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new yo("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,s,o,a,l){if(n===void 0&&(n=0),i===void 0&&(i=!1),l===void 0&&(l=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Xs||(r instanceof Array&&(r=new Float32Array(r)),r=new Xs(r));var u=e.split("|");if(u.length>1){for(var d=0;d<u.length;d++)this.addAttribute(u[d],r,n,i,s);return this}var f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new oD(f,n,i,s,o,a,l),this.instanced=this.instanced||l,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof Xs||(e instanceof Array&&(e=new Uint16Array(e)),e=new Xs(e)),e.type=tc.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new Xs,i;for(i in this.attributes){var s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*Qj[s.type]/4),s.buffer=0}for(n.data=Got(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new Xs(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new oD(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=tc.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],s=[],o,a=0;a<e.length;a++){o=e[a];for(var l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(var a=0;a<o.buffers.length;a++)n[a]=new qot[LC(o.buffers[a].data)](i[a]),r.buffers[a]=new Xs(n[a]);for(var a=0;a<e.length;a++){o=e[a];for(var l=0;l<o.buffers.length;l++)n[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=tc.ELEMENT_ARRAY_BUFFER;for(var u=0,d=0,f=0,h=0,a=0;a<o.buffers.length;a++)if(o.buffers[a]!==o.indexBuffer){h=a;break}for(var a in o.attributes){var g=o.attributes[a];(g.buffer|0)===h&&(d+=g.size*Qj[g.type]/4)}for(var a=0;a<e.length;a++){for(var p=e[a].indexBuffer.data,l=0;l<p.length;l++)r.indexBuffer.data[l+f]+=u;u+=e[a].buffers[h].data.length/d,f+=p.length}}return r},t}(),Yie=function(t){Ji(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(l_),C$=function(t){Ji(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new Xs(r.vertices),r.uvBuffer=new Xs(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,s=0;return this.uvs[0]=i,this.uvs[1]=s,this.uvs[2]=i+n.width/r.width,this.uvs[3]=s,this.uvs[4]=i+n.width/r.width,this.uvs[5]=s+n.height/r.height,this.uvs[6]=i,this.uvs[7]=s+n.height/r.height,i=n.x,s=n.y,this.vertices[0]=i,this.vertices[1]=s,this.vertices[2]=i+n.width,this.vertices[3]=s,this.vertices[4]=i+n.width,this.vertices[5]=s+n.height,this.vertices[6]=i,this.vertices[7]=s+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(l_),Xot=0,Rh=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Xot++,this.static=!!r,this.ubo=!!n,e instanceof Xs?(this.buffer=e,this.buffer.type=tc.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Xs(new Float32Array(1)),this.buffer.type=tc.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),Kie=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=is.NONE,this.sourceFrame=new ui,this.destinationFrame=new ui,this.bindingSourceFrame=new ui,this.bindingDestinationFrame=new ui,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Hx=[new Vi,new Vi,new Vi,new Vi],tP=new hs,A$=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Xie,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Yie,this.quadUv=new C$,this.tempRect=new ui,this.activeState={},this.globalUniforms=new Rh({outputFrame:new ui,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,s=this.renderer,o=this.defaultFilterStack,a=this.statePool.pop()||new Kie,l=this.renderer.renderTexture,u=r[0].resolution,d=r[0].multisample,f=r[0].padding,h=r[0].autoFit,g=(n=r[0].legacy)!==null&&n!==void 0?n:!0,p=1;p<r.length;p++){var v=r[p];u=Math.min(u,v.resolution),d=Math.min(d,v.multisample),f=this.useMaxPadding?Math.max(f,v.padding):f+v.padding,h=h&&v.autoFit,g=g||((i=v.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=l.current),o.push(a),a.resolution=u,a.multisample=d,a.legacy=g,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(f);var b=this.tempRect.copyFrom(l.sourceFrame);s.projection.transform&&this.transformAABB(tP.copyFrom(s.projection.transform).invert(),b),h?(a.sourceFrame.fit(b),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(b)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,l.current?l.current.resolution:s.resolution,l.sourceFrame,l.destinationFrame,s.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,u,d),a.filters=r,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var S=this.tempRect;S.x=0,S.y=0,S.width=a.sourceFrame.width,S.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=s.projection.transform,s.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,S),s.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){var l=i.filterArea;l[0]=r.destinationFrame.width,l[1]=r.destinationFrame.height,l[2]=r.sourceFrame.x,l[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var u=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,u.renderTexture,ql.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var d=r.renderTexture,f=this.getOptimalFilterTexture(d.width,d.height,r.resolution);f.filterFrame=d.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(d.width,d.height,r.resolution),f.filterFrame=d.filterFrame),n[h].apply(this,d,f,ql.CLEAR,r);var g=d;d=f,f=g}n[h].apply(this,d,u.renderTexture,ql.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=ql.CLEAR);var n=this.renderer,i=n.renderTexture,s=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var a=s.stateId&1||this.forceClear;(r===ql.CLEAR||r===ql.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(ru.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(ru.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,s=n.destinationFrame,o=r._texture.orig,a=e.set(s.width,0,0,s.height,i.x,i.y),l=r.worldTransform.copyTo(hs.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/o.width,1/o.height),a.translate(r.anchor.x,r.anchor.y),a},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=is.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var s=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||is.NONE);return s.filterFrame=e.filterFrame,s},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=Hx[0],i=Hx[1],s=Hx[2],o=Hx[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);var a=Math.min(n.x,i.x,s.x,o.x),l=Math.min(n.y,i.y,s.y,o.y),u=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=l,r.width=u-a,r.height=d-l},t.prototype.roundFrame=function(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){var o=s.a,a=s.b,l=s.c,u=s.d;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?tP.copyFrom(s):tP.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}},t}(),w1=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),P$=function(){function t(e){this.renderer=e,this.emptyRenderer=new w1(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var s=e.elements,o=e.ids,a=e.count,l=0,u=0;u<a;u++){var d=s[u],f=d._batchLocation;if(f>=0&&f<i&&r[f]===d){o[u]=f;continue}for(;l<i;){var h=r[l];if(h&&h._batchEnabled===n&&h._batchLocation===l){l++;continue}o[u]=l,d._batchLocation=l,r[l]=d;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),Jj=0,k$=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Jj++},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Jj++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(Nr.PREFER_ENV>=hd.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){var r=this;e.preventDefault(),setTimeout(function(){r.gl.isContextLost()&&r.extensions.loseContext&&r.extensions.loseContext.restoreContext()},0)},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),Zie=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=is.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),Yot=new ui,I$=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new HT(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ui,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Nr.PREFER_ENV===hd.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var l=r.width>>n,u=r.height>>n,d=l/r.width;this.setViewport(r.x*d,r.y*d,l,u)}else{var l=e.width>>n,u=e.height>>n;this.setViewport(0,0,l,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,s){s===void 0&&(s=bb.COLOR|bb.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(s)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new Zie(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,s=i.length;r.drawBuffers||(s=Math.min(s,1));for(var o=0;o<s;o++){var a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures,o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var a=[],l=0;l<o;l++){var u=s[l],d=u.parentTextureArray||u;this.renderer.texture.bind(d,0),!(l===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,u.target,d._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+l))}if(a.length>1&&n.drawBuffers(a),e.depthTexture){var f=this.writeDepthTexture;if(f){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=is.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=is.NONE),n},t.prototype.blit=function(e,r,n){var i=this,s=i.current,o=i.renderer,a=i.gl,l=i.CONTEXT_UID;if(o.context.webGLVersion===2&&s){var u=s.glFramebuffers[l];if(u){if(!e){if(!u.msaaBuffer)return;var d=s.colorTextures[0];if(!d)return;u.blitFramebuffer||(u.blitFramebuffer=new HT(s.width,s.height),u.blitFramebuffer.addColorTexture(0,d)),e=u.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}r||(r=Yot,r.width=s.width,r.height=s.height),n||(n=r);var f=r.width===n.width&&r.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,u.framebuffer),a.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,f?a.NEAREST:a.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new ui},t.prototype.destroy=function(){this.renderer=null},t}(),rP={5126:4,5123:2,5121:1},O$=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;Nr.PREFER_ENV===hd.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(s){return n.bindVertexArrayOES(s)},e.deleteVertexArray=function(s){return n.deleteVertexArrayOES(s)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(s,o){return i.vertexAttribDivisorANGLE(s,o)},e.drawElementsInstanced=function(s,o,a,l,u){return i.drawElementsInstancedANGLE(s,o,a,l,u)},e.drawArraysInstanced=function(s,o,a,l){return i.drawArraysInstancedANGLE(s,o,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var s in i)if(!n[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,s=["g",e.id];for(var o in n)i[o]&&s.push(o,i[o].location);return s.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);var l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID],d=u[l];if(d)return u[a.id]=d,d;var f=e.buffers,h=e.attributes,g={},p={};for(var v in f)g[v]=0,p[v]=0;for(var v in h)!h[v].size&&a.attributeData[v]?h[v].size=a.attributeData[v].size:h[v].size||console.warn("PIXI Geometry attribute '"+v+"' size cannot be determined (likely the bound shader does not have the attribute)"),g[h[v].buffer]+=h[v].size*rP[h[v].type];for(var v in h){var b=h[v],S=b.size;b.stride===void 0&&(g[b.buffer]===S*rP[b.type]?b.stride=0:b.stride=g[b.buffer]),b.start===void 0&&(b.start=p[b.buffer],p[b.buffer]+=S*rP[b.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(var T=0;T<f.length;T++){var E=f[T];o.bind(E),n&&E._glBuffers[s].refCount++}return this.activateVao(e,a),this._activeVao=d,u[a.id]=d,u[l]=d,d},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=e.buffers,a=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(a)for(var l=0;l<o.length;l++){var u=o[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&a.dispose(o[l],r))}if(!r){for(var d in i)if(d[0]==="g"){var f=i[d];this._activeVao===f&&this.unbind(),s.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);var l=null;for(var u in a){var d=a[u],f=o[d.buffer],h=f._glBuffers[i];if(r.attributeData[u]){l!==h&&(s.bind(f),l=h);var g=r.attributeData[u].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(g,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var s=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),Qie=function(){function t(e){e===void 0&&(e=null),this.type=Ls.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Nr.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Ls.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function eH(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function tH(t,e){var r=t.getShaderSource(e).split(`
`).map(function(u,d){return d+": "+u}),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(function(u){return parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(u){return u&&!s[u]?(s[u]=!0,!0):!1}),a=[""];o.forEach(function(u){r[u-1]="%c"+r[u-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=r.join(`
`);a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function Kot(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||tH(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||tH(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function nP(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function Jie(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return nP(2*e);case"bvec3":return nP(3*e);case"bvec4":return nP(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var ese={},ny=ese;function tse(){if(ny===ese||ny&&ny.isContextLost()){var t=Nr.ADAPTER.createCanvas(),e=void 0;Nr.PREFER_ENV>=hd.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),ny=e}return ny}var Gx;function Zot(){if(!Gx){Gx=Ka.MEDIUM;var t=tse();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Gx=e.precision?Ka.HIGH:Ka.MEDIUM}}return Gx}function rH(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===Ka.HIGH&&r!==Ka.HIGH&&(n=Ka.MEDIUM),"precision "+n+` float;
`+t}else if(r!==Ka.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var Qot={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function rse(t){return Qot[t]}var Wx=null,nH={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function nse(t,e){if(!Wx){var r=Object.keys(nH);Wx={};for(var n=0;n<r.length;++n){var i=r[n];Wx[t[i]]=nH[i]}}return Wx[e]}var R0=[{test:function(t){return t.type==="float"&&t.size===1&&!t.isArray},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t,e){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0)},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],Jot={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},eat={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function tat(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var s=e[i];if(!s){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],a=!1,l=0;l<R0.length;l++)if(R0[l].test(s,o)){n.push(R0[l].code(i,o)),a=!0;break}if(!a){var u=s.size===1&&!s.isArray?Jot:eat,d=u[s.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+d+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var rat=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function nat(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function ise(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=rat.replace(/%forloop%/gi,nat(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var iy;function iat(){if(typeof iy=="boolean")return iy;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");iy=t({a:"b"},"a","b")===!0}catch{iy=!1}return iy}var sat=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,oat=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,aat=0,qx={},u_=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=aat++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),qx[n]?(qx[n]++,n+="-"+qx[n]):qx[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=rH(this.vertexSrc,Nr.PRECISION_VERTEX,Ka.HIGH),this.fragmentSrc=rH(this.fragmentSrc,Nr.PRECISION_FRAGMENT,Zot())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return oat},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return sat},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,s=eD[i];return s||(eD[i]=s=new t(e,r,n)),s},t}(),pf=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Rh?this.uniformGroup=r:this.uniformGroup=new Rh(r):this.uniformGroup=new Rh({}),this.disposeRunner=new yo("disposeShader")}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=u_.from(e,r);return new t(i,n)},t}(),iP=0,sP=1,oP=2,aP=3,lP=4,uP=5,lp=function(){function t(){this.data=0,this.blendMode=fn.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<iP)},set:function(e){!!(this.data&1<<iP)!==e&&(this.data^=1<<iP)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<sP)},set:function(e){!!(this.data&1<<sP)!==e&&(this.data^=1<<sP)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<oP)},set:function(e){!!(this.data&1<<oP)!==e&&(this.data^=1<<oP)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<aP)},set:function(e){!!(this.data&1<<aP)!==e&&(this.data^=1<<aP)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<uP)},set:function(e){!!(this.data&1<<uP)!==e&&(this.data^=1<<uP)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<lP)},set:function(e){!!(this.data&1<<lP)!==e&&(this.data^=1<<lP)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==fn.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),lat=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,uat=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Nf=function(t){Ji(e,t);function e(r,n,i){var s=this,o=u_.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return s=t.call(this,o,i)||this,s.padding=0,s.resolution=Nr.FILTER_RESOLUTION,s.multisample=Nr.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new lp,s}return e.prototype.apply=function(r,n,i,s,o){r.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return uat},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return lat},enumerable:!1,configurable:!0}),e}(pf),cat=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,dat=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,iH=new hs,VC=function(){function t(e,r){this._texture=e,this.mapCoord=new hs,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,s=r.trim;s&&(iH.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(iH));var o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(r._frame.x+l+u)/o.width,a[1]=(r._frame.y+l+u)/o.height,a[2]=(r._frame.x+r._frame.width-l+u)/o.width,a[3]=(r._frame.y+r._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),sse=function(t){Ji(e,t);function e(r,n,i){var s=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),s=t.call(this,r||cat,n||dat,i)||this,s.maskSprite=o,s.maskMatrix=new hs,s}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,s){var o=this._maskSprite,a=o._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new VC(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,r.applyFilter(this,n,i,s))},e}(Nf),D$=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new Qie;i.pooled=!0,i.maskObject=r,n=i}var s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(s),n._colorMask=s?s._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Ls.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Ls.SCISSOR:this.renderer.scissor.push(n);break;case Ls.STENCIL:this.renderer.stencil.push(n);break;case Ls.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Ls.COLOR:this.pushColorMask(n);break}n.type===Ls.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Ls.SCISSOR:this.renderer.scissor.pop(r);break;case Ls.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Ls.SPRITE:this.popSpriteMask(r);break;case Ls.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===Ls.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r?r.isSprite?e.type=Ls.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Ls.SCISSOR:e.type=Ls.STENCIL:e.type=Ls.COLOR},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,s=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new sse]));var a=this.renderer,l=a.renderTexture,u,d;if(l.current){var f=l.current;u=e.resolution||f.resolution,d=(r=e.multisample)!==null&&r!==void 0?r:f.multisample}else u=e.resolution||a.resolution,d=(n=e.multisample)!==null&&n!==void 0?n:a.multisample;o[0].resolution=u,o[0].multisample=d,o[0].maskSprite=i;var h=s.filterArea;s.filterArea=i.getBounds(!0),a.filter.push(s,o),s.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(e){var r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.popColorMask=function(e){var r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.destroy=function(){this.renderer=null},t}(),ose=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),sH=new hs,oH=[],M$=function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=Nr.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){var n;if(!r._scissorRectLocal){var i=r._scissorRect,s=r.maskObject,o=this.renderer,a=o.renderTexture,l=s.getBounds(!0,(n=oH.pop())!==null&&n!==void 0?n:new ui);this.roundFrameToPixels(l,a.current?a.current.resolution:o.resolution,a.sourceFrame,a.destinationFrame,o.projection.transform),i&&l.fit(i),r._scissorRectLocal=l}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,s=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,s,o){e.isMatrixRotated(o)||(o=o?sH.copyFrom(o):sH.identity(),o.translate(-i.x,-i.y).scale(s.width/i.width,s.height/i.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,r),r.fit(s),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;r&&oH.push(r._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(ose),R$=function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=Nr.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,s=r._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++;var o=r._colorMask;o!==0&&(r._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,s,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,o!==0&&(r._colorMask=o,i.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=i?i._colorMask:15;s!==0&&(i._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(i._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(ose),$$=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new hs,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),Rp=new ui,sy=new ui,L$=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ui,this.destinationFrame=new ui,this.viewportFrame=new ui}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Rp.width=e.frame.width,Rp.height=e.frame.height,r=Rp),n||(sy.x=e.frame.x,sy.y=e.frame.y,sy.width=r.width,sy.height=r.height,n=sy),o=s.framebuffer):(a=i.resolution,r||(Rp.width=i.screen.width,Rp.height=i.screen.height,r=Rp),n||(n=Rp,n.width=r.width,n.height=r.height));var l=this.viewportFrame;l.x=n.x*a,l.y=n.y*a,l.width=n.width*a,l.height=n.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,s=n.width!==i.width||n.height!==i.height;if(s){var o=this.viewportFrame,a=o.x,l=o.y,u=o.width,d=o.height;a=Math.round(a),l=Math.round(l),u=Math.round(u),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,u,d)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),s&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function fat(t,e,r,n,i){r.buffer.update(i)}var hat={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},ase={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function lse(t){for(var e=t.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,s=0;s<e.length;s++){var o=e[s];if(r=ase[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function use(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,s){return i.index-s.index}),r}function cse(t,e){if(!t.autoManage)return{size:0,syncFunc:fat};for(var r=use(t.uniforms,e),n=lse(r),i=n.uboElements,s=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],a=0;a<i.length;a++){for(var l=i[a],u=t.uniforms[l.data.name],d=l.data.name,f=!1,h=0;h<R0.length;h++){var g=R0[h];if(g.codeUbo&&g.test(l.data,u)){o.push("offset = "+l.offset/4+";",R0[h].codeUbo(l.data.name,u)),f=!0;break}}if(!f)if(l.data.size>1){var p=rse(l.data.type),v=Math.max(ase[l.data.type]/16,1),b=p/v,S=(4-b%4)%4;o.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+l.offset/4+`;

                t = 0;

                for(var i=0; i < `+l.data.size*v+`; i++)
                {
                    for(var j = 0; j < `+b+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+S+`;
                }

                `)}else{var T=hat[l.data.type];o.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+l.offset/4+`;
                `+T+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var pat=function(){function t(){}return t}(),dse=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function mat(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var s=e.getActiveAttrib(t,i);if(s.name.indexOf("gl_")!==0){var o=nse(e,s.type),a={type:o,name:s.name,size:rse(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}}return r}function gat(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=nse(e,s.type);r[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:Jie(l,s.size)}}return r}function fse(t,e){var r=eH(t,t.VERTEX_SHADER,e.vertexSrc),n=eH(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||Kot(t,i,r,n),e.attributeData=mat(i,t),e.uniformData=gat(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var s=Object.keys(e.attributeData);s.sort(function(d,f){return d>f?1:-1});for(var o=0;o<s.length;o++)e.attributeData[s[o]].location=o,t.bindAttribLocation(i,o,s[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var a={};for(var o in e.uniformData){var l=e.uniformData[o];a[o]={location:t.getUniformLocation(i,o),value:Jie(l.type,l.size)}}var u=new dse(i,a);return u}var vat=0,Xx={textureCount:0,uboCount:0},F$=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=vat++}return t.prototype.systemCheck=function(){if(!iat())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Xx.textureCount=0,Xx.uboCount=0,this.syncUniformGroup(e.uniformGroup,Xx)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=tat(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Xx,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),a=this._uboCache[o];if(a||(a=this._uboCache[o]=cse(e,this.shader.program.uniformData)),e.autoManage){var l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,s=[n+"-"];for(var o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=fse(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.disposeShader=function(e){this.shader===e&&(this.shader=null)},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function _at(t,e){return e===void 0&&(e=[]),e[fn.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.ADD]=[t.ONE,t.ONE],e[fn.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.NONE]=[0,0],e[fn.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[fn.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fn.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[fn.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[fn.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[fn.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[fn.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[fn.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[fn.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[fn.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[fn.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var yat=0,bat=1,xat=2,wat=3,Sat=4,Tat=5,N$=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=fn.NONE,this._blendEq=!1,this.map=[],this.map[yat]=this.setBlend,this.map[bat]=this.setOffset,this.map[xat]=this.setCullFace,this.map[wat]=this.setDepthTest,this.map[Sat]=this.setFrontFace,this.map[Tat]=this.setDepthMask,this.checks=[],this.defaultState=new lp,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=_at(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),B$=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Nr.GC_MAX_IDLE,this.checkCountMax=Nr.GC_MAX_CHECK_COUNT,this.mode=Nr.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==wb.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var s=r[i];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function Eat(t){var e,r,n,i,s,o,a,l,u,d,f,h,g,p,v,b,S,T,E,C,P,D,L;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?L=(e={},e[un.UNSIGNED_BYTE]=(r={},r[Sr.RGBA]=t.RGBA8,r[Sr.RGB]=t.RGB8,r[Sr.RG]=t.RG8,r[Sr.RED]=t.R8,r[Sr.RGBA_INTEGER]=t.RGBA8UI,r[Sr.RGB_INTEGER]=t.RGB8UI,r[Sr.RG_INTEGER]=t.RG8UI,r[Sr.RED_INTEGER]=t.R8UI,r[Sr.ALPHA]=t.ALPHA,r[Sr.LUMINANCE]=t.LUMINANCE,r[Sr.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[un.BYTE]=(n={},n[Sr.RGBA]=t.RGBA8_SNORM,n[Sr.RGB]=t.RGB8_SNORM,n[Sr.RG]=t.RG8_SNORM,n[Sr.RED]=t.R8_SNORM,n[Sr.RGBA_INTEGER]=t.RGBA8I,n[Sr.RGB_INTEGER]=t.RGB8I,n[Sr.RG_INTEGER]=t.RG8I,n[Sr.RED_INTEGER]=t.R8I,n),e[un.UNSIGNED_SHORT]=(i={},i[Sr.RGBA_INTEGER]=t.RGBA16UI,i[Sr.RGB_INTEGER]=t.RGB16UI,i[Sr.RG_INTEGER]=t.RG16UI,i[Sr.RED_INTEGER]=t.R16UI,i[Sr.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[un.SHORT]=(s={},s[Sr.RGBA_INTEGER]=t.RGBA16I,s[Sr.RGB_INTEGER]=t.RGB16I,s[Sr.RG_INTEGER]=t.RG16I,s[Sr.RED_INTEGER]=t.R16I,s),e[un.UNSIGNED_INT]=(o={},o[Sr.RGBA_INTEGER]=t.RGBA32UI,o[Sr.RGB_INTEGER]=t.RGB32UI,o[Sr.RG_INTEGER]=t.RG32UI,o[Sr.RED_INTEGER]=t.R32UI,o[Sr.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[un.INT]=(a={},a[Sr.RGBA_INTEGER]=t.RGBA32I,a[Sr.RGB_INTEGER]=t.RGB32I,a[Sr.RG_INTEGER]=t.RG32I,a[Sr.RED_INTEGER]=t.R32I,a),e[un.FLOAT]=(l={},l[Sr.RGBA]=t.RGBA32F,l[Sr.RGB]=t.RGB32F,l[Sr.RG]=t.RG32F,l[Sr.RED]=t.R32F,l[Sr.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,l),e[un.HALF_FLOAT]=(u={},u[Sr.RGBA]=t.RGBA16F,u[Sr.RGB]=t.RGB16F,u[Sr.RG]=t.RG16F,u[Sr.RED]=t.R16F,u),e[un.UNSIGNED_SHORT_5_6_5]=(d={},d[Sr.RGB]=t.RGB565,d),e[un.UNSIGNED_SHORT_4_4_4_4]=(f={},f[Sr.RGBA]=t.RGBA4,f),e[un.UNSIGNED_SHORT_5_5_5_1]=(h={},h[Sr.RGBA]=t.RGB5_A1,h),e[un.UNSIGNED_INT_2_10_10_10_REV]=(g={},g[Sr.RGBA]=t.RGB10_A2,g[Sr.RGBA_INTEGER]=t.RGB10_A2UI,g),e[un.UNSIGNED_INT_10F_11F_11F_REV]=(p={},p[Sr.RGB]=t.R11F_G11F_B10F,p),e[un.UNSIGNED_INT_5_9_9_9_REV]=(v={},v[Sr.RGB]=t.RGB9_E5,v),e[un.UNSIGNED_INT_24_8]=(b={},b[Sr.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,b),e[un.FLOAT_32_UNSIGNED_INT_24_8_REV]=(S={},S[Sr.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,S),e):L=(T={},T[un.UNSIGNED_BYTE]=(E={},E[Sr.RGBA]=t.RGBA,E[Sr.RGB]=t.RGB,E[Sr.ALPHA]=t.ALPHA,E[Sr.LUMINANCE]=t.LUMINANCE,E[Sr.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,E),T[un.UNSIGNED_SHORT_5_6_5]=(C={},C[Sr.RGB]=t.RGB,C),T[un.UNSIGNED_SHORT_4_4_4_4]=(P={},P[Sr.RGBA]=t.RGBA,P),T[un.UNSIGNED_SHORT_5_5_5_1]=(D={},D[Sr.RGBA]=t.RGBA,D),T),L}var lS=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=un.UNSIGNED_BYTE,this.internalFormat=Sr.RGBA,this.samplerType=0}return t}(),U$=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new li,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Eat(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new lS(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new lS(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<i.length;s++)i[s]===this.unknownTexture&&this.bind(null,s)}for(var s=0;s<i.length;s++)i[s]===e&&(this.currentLocation!==s&&(n.activeTexture(n.TEXTURE0+s),this.currentLocation=s),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[s]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,s=r.CONTEXT_UID;if(i)for(var o=e-1;o>=0;--o){var a=n[o];if(a){var l=a._glTextures[s];l.samplerType!==xb.FLOAT&&this.renderer.texture.unbind(a)}}},t.prototype.initTexture=function(e){var r=new lS(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===un.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==xb.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,s=e.realHeight,o=n.gl;(r.width!==i||r.height!==s||r.dirtyId<0)&&(r.width=i,r.height=s,o.texImage2D(e.target,0,r.internalFormat,i,s,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&M0(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Su.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=ec.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==Su.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Wu.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Wu.LINEAR){var s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Wu.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Wu.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),hse={__proto__:null,FilterSystem:A$,BatchSystem:P$,ContextSystem:k$,FramebufferSystem:I$,GeometrySystem:O$,MaskSystem:D$,ScissorSystem:M$,StencilSystem:R$,ProjectionSystem:$$,RenderTextureSystem:L$,ShaderSystem:F$,StateSystem:N$,TextureGCSystem:B$,TextureSystem:U$},cP=new hs,pse=function(t){Ji(e,t);function e(r,n){r===void 0&&(r=yv.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},Nr.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new ui(0,0,n.width,n.height),i.view=n.view||Nr.ADAPTER.createCanvas(),i.resolution=n.resolution||Nr.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(Ca("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,s=this.view.height/this.resolution;this.screen.width=i,this.screen.height=s,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=s+"px"),this.emit("resize",i,s)},e.prototype.generateTexture=function(r,n,i,s){n===void 0&&(n={}),typeof n=="number"&&(Ca("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:s});var o=n.region,a=Uot(n,["region"]);s=o||r.getLocalBounds(null,!0),s.width===0&&(s.width=1),s.height===0&&(s.height=1);var l=Xh.create(sD({width:s.width,height:s.height},a));return cP.tx=-s.x,cP.ty=-s.y,this.render(r,{renderTexture:l,clear:!1,transform:cP,skipUpdateTransform:!!r.parent}),l},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=yv.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=d$(r),J0(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(Ff),Cat=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),Aat=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,s=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,s.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,s=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,s=i.gl,o=i.CONTEXT_UID;n=n||0;var a=e._glBuffers[o]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,r||0,a.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,s=e._glBuffers[i];if(e._updateID!==s.updateID)if(s.updateID=e._updateID,n.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new Cat(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),V$=function(t){Ji(e,t);function e(r){var n=t.call(this,yv.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new yo("destroy"),contextChange:new yo("contextChange"),reset:new yo("reset"),update:new yo("update"),postrender:new yo("postrender"),prerender:new yo("prerender"),resize:new yo("resize")},n.runners.contextChange.add(n),n.globalUniforms=new Rh({projectionMatrix:new hs},!0),n.addSystem(D$,"mask").addSystem(k$,"context").addSystem(N$,"state").addSystem(F$,"shader").addSystem(U$,"texture").addSystem(Aat,"buffer").addSystem(O$,"geometry").addSystem(I$,"framebuffer").addSystem(M$,"scissor").addSystem(R$,"stencil").addSystem($$,"projection").addSystem(B$,"textureGC").addSystem(A$,"filter").addSystem(L$,"renderTexture").addSystem(P$,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,Mie(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(Rie())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=is.HIGH?this.multisample=is.HIGH:n>=is.MEDIUM?this.multisample=is.MEDIUM:n>=is.LOW?this.multisample=is.LOW:this.multisample=is.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var s in this.runners)this.runners[s].add(i);return this},e.prototype.render=function(r,n){var i,s,o,a;if(n&&(n instanceof Xh?(Ca("6.0.0","Renderer#render arguments changed, use options instead."),i=n,s=arguments[2],o=arguments[3],a=arguments[4]):(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!a){var l=r.enableTempParent();r.updateTransform(),r.disableTempParent(l)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(s!==void 0?s:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,s){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,s);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return Ca("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){Ca("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),Pd.add({name:r,type:Ri.RendererPlugin,ref:n})},e.__plugins={},e}(pse);Pd.handleByMap(Ri.RendererPlugin,V$.__plugins);function mse(t){return V$.create(t)}var Pat=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,kat=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,gse=Pat,z$=kat,Iat=function(){function t(e){Ca("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),GT=function(){function t(){this.texArray=null,this.blend=0,this.type=ru.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),WT=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),qT=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),vse=function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=lp.for2d(),n.size=Nr.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;Nr.PREFER_ENV===hd.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Nr.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=ise(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,s=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new GT);for(;n.length<s;)n.push(new WT);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,s=e._textureArrayPool,o=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,u=++li._globalBatch,d=0,f=s[0],h=0;o.copyBoundTextures(a,i);for(var g=0;g<this._bufferSize;++g){var p=n[g];n[g]=null,p._batchEnabled!==u&&(f.count>=i&&(o.boundArray(f,a,u,i),this.buildDrawCalls(f,h,g),h=g,f=s[++d],++u),p._batchEnabled=u,p.touched=l,f.elements[f.count++]=p)}f.count>0&&(o.boundArray(f,a,u,i),this.buildDrawCalls(f,h,this._bufferSize),++d,++u);for(var g=0;g<a.length;g++)a[g]=null;li._globalBatch=u},e.prototype.buildDrawCalls=function(r,n,i){var s=this,o=s._bufferedElements,a=s._attributeBuffer,l=s._indexBuffer,u=s.vertexSize,d=e._drawCallPool,f=this._dcIndex,h=this._aIndex,g=this._iIndex,p=d[f];p.start=this._iIndex,p.texArray=r;for(var v=n;v<i;++v){var b=o[v],S=b._texture.baseTexture,T=h$[S.alphaMode?1:0][b.blendMode];o[v]=null,n<v&&p.blend!==T&&(p.size=g-p.start,n=v,p=d[++f],p.texArray=r,p.start=g),this.packInterleavedGeometry(b,a,l,h,g),h+=b.vertexData.length/2*u,g+=b.indices.length,p.blend=T}n<i&&(p.size=g-p.start,++f),this._dcIndex=f,this._aIndex=h,this._iIndex=g},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,s=r._indexBuffer;Nr.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,s=n.state,o=e._drawCallPool,a=null,l=0;l<r;l++){var u=o[l],d=u.texArray,f=u.type,h=u.size,g=u.start,p=u.blend;a!==d&&(a=d,this.bindAndClearTexArray(d)),this.state.blendMode=p,s.set(this.state),i.drawElements(f,h,i.UNSIGNED_SHORT,g*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Nr.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=Cb(Math.ceil(r/8)),i=JO(n),s=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new qT(s*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=Cb(Math.ceil(r/12)),i=JO(n),s=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(s)),o},e.prototype.packInterleavedGeometry=function(r,n,i,s,o){for(var a=n.uint32View,l=n.float32View,u=s/this.vertexSize,d=r.uvs,f=r.indices,h=r.vertexData,g=r._texture.baseTexture._batchLocation,p=Math.min(r.worldAlpha,1),v=p<1&&r._texture.baseTexture.alphaMode?$C(r._tintRGB,p):r._tintRGB+(p*255<<24),b=0;b<h.length;b+=2)l[s++]=h[b],l[s++]=h[b+1],l[s++]=d[b],l[s++]=d[b+1],a[s++]=v,l[s++]=g;for(var b=0;b<f.length;b++)i[o++]=u+f[b]},e._drawCallPool=[],e._textureArrayPool=[],e}(w1),_se=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=Rh.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new u_(this.vertexSrc,i)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new hs,default:this.defaultGroupCache[e]};return new pf(this.programCache[e],s)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),j$=function(t){Ji(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new Xs(null,r,!1),n._indexBuffer=new Xs(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,un.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,un.FLOAT).addAttribute("aColor",n._buffer,4,!0,un.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,un.FLOAT).addIndex(n._indexBuffer),n}return e}(l_),aH=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,lH=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,yse=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:aH,fragment:lH,geometryClass:j$,vertexSize:6},e),n=r.vertex,i=r.fragment,s=r.vertexSize,o=r.geometryClass;return function(a){Ji(l,a);function l(u){var d=a.call(this,u)||this;return d.shaderGenerator=new _se(n,i),d.geometryClass=o,d.vertexSize=s,d}return l}(vse)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return aH},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return lH},enumerable:!1,configurable:!0}),t}(),H$=yse.create();Object.assign(H$,{extension:{name:"batch",type:Ri.RendererPlugin}});var bse={},Oat=function(t){Object.defineProperty(bse,t,{get:function(){return Ca("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),qie[t]}})};for(var G$ in qie)Oat(G$);var xse={},Dat=function(t){Object.defineProperty(xse,t,{get:function(){return Ca("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),hse[t]}})};for(var G$ in hse)Dat(G$);var Mat="6.5.9";/*!
 * @pixi/accessibility - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var wse={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Os.mixin(wse);var Rat=9,Yx=100,$at=0,Lat=0,uH=2,cH=1,Fat=-1e3,Nat=-1e3,Bat=2,Sse=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(nu.tablet||nu.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=Yx+"px",r.style.height=Yx+"px",r.style.position="absolute",r.style.top=$at+"px",r.style.left=Lat+"px",r.style.zIndex=uH.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=cH+"px",r.style.height=cH+"px",r.style.position="absolute",r.style.top=Fat+"px",r.style.left=Nat+"px",r.style.zIndex=Bat.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(nu.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,s=r.width,o=r.height,a=this.renderer,l=a.width,u=a.height,d=a.resolution,f=s/l*d,h=o/u*d,g=this.div;g.style.left=n+"px",g.style.top=i+"px",g.style.width=l+"px",g.style.height=u+"px";for(var p=0;p<this.children.length;p++){var v=this.children[p];if(v.renderId!==this.renderId)v._accessibleActive=!1,M0(this.children,p,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,p--;else{g=v._accessibleDiv;var b=v.hitArea,S=v.worldTransform;v.hitArea?(g.style.left=(S.tx+b.x*S.a)*f+"px",g.style.top=(S.ty+b.y*S.d)*h+"px",g.style.width=b.width*S.a*f+"px",g.style.height=b.height*S.d*h+"px"):(b=v.getBounds(),this.capHitArea(b),g.style.left=b.x*f+"px",g.style.top=b.y*h+"px",g.style.width=b.width*f+"px",g.style.height=b.height*h+"px",g.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(g.title=v.accessibleTitle),g.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&g.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==g.title||v.tabIndex!==g.tabIndex)&&(g.title=v.accessibleTitle,g.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(g))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=Yx+"px",r.style.height=Yx+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=uH.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===Rat&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t.extension={name:"accessibility",type:[Ri.RendererPlugin,Ri.CanvasRendererPlugin]},t}();/*!
 * @pixi/interaction - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var aD=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Vi,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lD=function(t,e){return lD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},lD(t,e)};function Uat(t,e){lD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Tse=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),uS=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),Vat=function(){function t(){this._tempPoint=new Vi}return t.prototype.recursiveFindHit=function(e,r,n,i,s){var o;if(!r||!r.visible)return!1;var a=e.data.global;s=r.interactive||s;var l=!1,u=s,d=!0;if(r.hitArea)i&&(r.worldTransform.applyInverse(a,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?l=!0:(i=!1,d=!1)),u=!1;else if(r._mask&&i){var f=r._mask.isMaskData?r._mask.maskObject:r._mask;f&&!(!((o=f.containsPoint)===null||o===void 0)&&o.call(f,a))&&(i=!1)}if(d&&r.interactiveChildren&&r.children)for(var h=r.children,g=h.length-1;g>=0;g--){var p=h[g],v=this.recursiveFindHit(e,p,n,i,u);if(v){if(!p.parent)continue;u=!1,v&&(e.target&&(i=!1),l=!0)}}return s&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(a)&&(l=!0),r.interactive&&(l&&!e.target&&(e.target=r),n&&n(e,r,!!l))),l},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),Ese={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Os.mixin(Ese);var Kx=1,Zx={target:null,data:{global:null}},Cse=function(t){Uat(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new aD,i.mouse.identifier=Kx,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Kx]=i.mouse,i.interactionDataPool=[],i.eventData=new Tse,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new Vat,i._tempDisplayObject=new v$,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return Zx.target=null,Zx.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(Zx,n,null,!0),Zx.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(bo.system.add(this.tickerUpdate,this,pd.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(bo.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var s;this.interactionDOMElement.parentElement?s=this.interactionDOMElement.getBoundingClientRect():s={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-s.left)*(this.interactionDOMElement.width/s.width)*o,r.y=(i-s.top)*(this.interactionDOMElement.height/s.height)*o},e.prototype.processInteractive=function(r,n,i,s){var o=this.search.findHit(r,n,i,s),a=this.delayedEvents;if(!a.length)return o;r.stopPropagationHint=!1;var l=a.length;this.delayedEvents=[];for(var u=0;u<l;u++){var d=a[u],f=d.displayObject,h=d.eventString,g=d.eventData;g.stopsPropagatingAt===f&&(g.stopPropagationHint=!0),this.dispatchEvent(f,h,g)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var s=n.length,o=0;o<s;o++){var a=n[o],l=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,l);if(u.data.originalEvent=r,this.processInteractive(u,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",u),a.pointerType==="touch")this.emit("touchstart",u);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var d=a.button===2;this.emit(d?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var s=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new uS(o)),this.dispatchEvent(n,"pointerdown",r),s.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var a=s.button===2;a?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,a?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){var s=this.normalizeToPointerData(r),o=s.length,a=r.target;r.composedPath&&r.composedPath().length>0&&(a=r.composedPath()[0]);for(var l=a!==this.interactionDOMElement?"outside":"",u=0;u<o;u++){var d=s[u],f=this.getInteractionDataForPointerId(d),h=this.configureInteractionEventForDOMEvent(this.eventData,d,f);if(h.data.originalEvent=r,this.processInteractive(h,this.lastObjectRendered,i,n||!l),this.emit(n?"pointercancel":"pointerup"+l,h),d.pointerType==="mouse"||d.pointerType==="pen"){var g=d.button===2;this.emit(g?"rightup"+l:"mouseup"+l,h)}else d.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+l,h),this.releaseInteractionDataForPointerId(d.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,s=r.data.identifier;n.trackedPointers[s]!==void 0&&(delete n.trackedPointers[s],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var s=r.data,o=r.data.identifier,a=n.trackedPointers[o],l=s.pointerType==="touch",u=s.pointerType==="mouse"||s.pointerType==="pen",d=!1;if(u){var f=s.button===2,h=uS.FLAGS,g=f?h.RIGHT_DOWN:h.LEFT_DOWN,p=a!==void 0&&a.flags&g;i?(this.dispatchEvent(n,f?"rightup":"mouseup",r),p&&(this.dispatchEvent(n,f?"rightclick":"click",r),d=!0)):p&&this.dispatchEvent(n,f?"rightupoutside":"mouseupoutside",r),a&&(f?a.rightDown=!1:a.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),l&&this.dispatchEvent(n,"touchend",r),a&&((!u||d)&&this.dispatchEvent(n,"pointertap",r),l&&(this.dispatchEvent(n,"tap",r),a.over=!1))):a&&(this.dispatchEvent(n,"pointerupoutside",r),l&&this.dispatchEvent(n,"touchendoutside",r)),a&&a.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,s=0;s<i;s++){var o=n[s],a=this.getInteractionDataForPointerId(o),l=this.configureInteractionEventForDOMEvent(this.eventData,o,a);l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),o.pointerType==="touch"&&this.emit("touchmove",l),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",l)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var s=r.data,o=s.pointerType==="touch",a=s.pointerType==="mouse"||s.pointerType==="pen";a&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),a&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,s);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(s.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var s=r.data,o=r.data.identifier,a=s.pointerType==="mouse"||s.pointerType==="pen",l=n.trackedPointers[o];i&&!l&&(l=n.trackedPointers[o]=new uS(o)),l!==void 0&&(i&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(n,"pointerover",r),a&&this.delayDispatchEvent(n,"mouseover",r)),a&&this.cursor===null&&(this.cursor=n.cursor)):l.over&&(l.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),a&&this.dispatchEvent(n,"mouseout",r),l.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0],s=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,s);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)}},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Kx||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new aD,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,s=r.changedTouches.length;i<s;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var a=r;typeof a.isPrimary>"u"&&(a.isPrimary=!0),typeof a.width>"u"&&(a.width=1),typeof a.height>"u"&&(a.height=1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="mouse"),typeof a.pointerId>"u"&&(a.pointerId=Kx),typeof a.pressure>"u"&&(a.pressure=.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),a.isNormalized=!0,n.push(a)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e.extension={name:"interaction",type:[Ri.RendererPlugin,Ri.CanvasRendererPlugin]},e}(Ff);/*!
 * @pixi/extract - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var zat=new ui,jat=4,Ase=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e,r){var n=this._rawPixels(e,r),i=n.pixels,s=n.width,o=n.height,a=n.flipY,l=new tD(s,o,1),u=l.context.getImageData(0,0,s,o);if(t.arrayPostDivide(i,u.data),l.context.putImageData(u,0,0),a){var d=new tD(l.width,l.height,1);d.context.scale(1,-1),d.context.drawImage(l.canvas,0,-o),l.destroy(),l=d}return l.canvas},t.prototype.pixels=function(e,r){var n=this._rawPixels(e,r).pixels;return t.arrayPostDivide(n,n),n},t.prototype._rawPixels=function(e,r){var n=this.renderer,i,s=!1,o,a=!1;if(e)if(e instanceof Xh)o=e;else{var l=n.context.webGLVersion>=2?n.multisample:is.NONE;if(o=this.renderer.generateTexture(e,{multisample:l}),l!==is.NONE){var u=Xh.create({width:o.width,height:o.height});n.framebuffer.bind(o.framebuffer),n.framebuffer.blit(u.framebuffer),n.framebuffer.bind(null),o.destroy(!0),o=u}a=!0}o?(i=o.baseTexture.resolution,r=r??o.frame,s=!1,n.renderTexture.bind(o)):(i=n.resolution,r||(r=zat,r.width=n.width,r.height=n.height),s=!0,n.renderTexture.bind(null));var d=Math.round(r.width*i),f=Math.round(r.height*i),h=new Uint8Array(jat*d*f),g=n.gl;return g.readPixels(Math.round(r.x*i),Math.round(r.y*i),d,f,g.RGBA,g.UNSIGNED_BYTE,h),a&&o.destroy(!0),{pixels:h,width:d,height:f,flipY:s}},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t.extension={name:"extract",type:Ri.RendererPlugin},t}();/*!
 * @pixi/loaders - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Qx=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function dH(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var tf=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof Qx))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return dH(this,new Qx(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return dH(this,new Qx(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof Qx))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function Pse(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},s=14;s--;)i[r.key[s]]=n[s]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,a,l){a&&(i[r.q.name][a]=l)}),i}var dP,Jx=null,Hat=0,fH=200,Gat=204,Wat=1223,qat=2;function hH(){}function pH(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function fP(t){return t.toString().replace("object ","")}var xs=function(){function t(e,r,n){if(this._dequeue=hH,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=hH,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new tf,this.onProgress=new tf,this.onComplete=new tf,this.onAfterMiddleware=new tf}return t.setExtensionLoadType=function(e,r){pH(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){pH(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof dP>"u"&&(dP=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),dP&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(fP(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(fP(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(fP(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?fH:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===Hat&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=fH:n===Wat&&(n=Gat);var i=n/100|0;if(i===qat)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(a){this.abort("Error trying to parse loaded json: "+a);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var s=new DOMParser;this.data=s.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(a){this.abort("Error trying to parse loaded xml: "+a);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,Jx||(Jx=document.createElement("a")),Jx.href=e;var n=Pse(Jx.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,s=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||s!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),s=e.indexOf("#"),o=Math.min(i>-1?i:e.length,s>-1?s:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,avif:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,avif:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(xs||(xs={}));function $p(){}function Xat(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var s=t;t=null,s.apply(this,n)}}var Yat=function(){function t(e,r){this.data=e,this.callback=r}return t}(),hP=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=$p,this.unsaturated=$p,this.empty=$p,this.drain=$p,this.error=$p,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,s,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var a=new Yat(i,typeof o=="function"?o:$p);s?n._tasks.unshift(a):n._tasks.push(a),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,Xat(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],s=0;s<arguments.length;s++)i[s]=n[s];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=$p,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var s=0,o=e.length;function a(l){if(l||s===o){n&&n(l);return}i?setTimeout(function(){r(e[s++],a)},1):r(e[s++],a)}a()},t.queue=function(e,r){return new t(e,r)},t}(),pP=100,Kat=/(#[\w-]+)?$/,Ob=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,u){return n._loadResource(l,u)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,u){return n._loadResource(l,u)},this._queue=hP.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new tf,this.onError=new tf,this.onLoad=new tf,this.onStart=new tf,this.onComplete=new tf;for(var i=0;i<t._plugins.length;++i){var s=t._plugins[i],o=s.pre,a=s.use;o&&this.pre(o),a&&this.use(a)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new xs(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var s=n.parentResource,o=[],a=0;a<s.children.length;++a)s.children[a].isComplete||o.push(s.children[a]);var l=s.progressChunk*(o.length+1),u=l/(o.length+2);s.children.push(this.resources[e]),s.progressChunk=u;for(var a=0;a<o.length;++a)o[a].progressChunk=u;this.resources[e].progressChunk=u}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(Ca("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=pP/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=Pse(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=Kat.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,hP.eachSeries(this._beforeMiddleware,function(i,s){i.call(n,e,function(){s(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=pP,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),hP.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(pP,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return Ca("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),Pd.add({type:Ri.Loader,ref:e}),t},t._plugins=[],t}();Pd.handleByList(Ri.Loader,Ob._plugins);Ob.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var s=0;s<e.length;++s)this.add(e[s]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var kse=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Ob.shared:new Ob},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.extension=Ri.Application,t}(),Ise=function(){function t(){}return t.add=function(){xs.setExtensionLoadType("svg",xs.LOAD_TYPE.XHR),xs.setExtensionXhrType("svg",xs.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===xs.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,s=e.name,o=e.metadata;An.fromLoader(n,i,s,o).then(function(a){e.texture=a,r()}).catch(r)}else r()},t.extension=Ri.Loader,t}(),Zat="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Qat(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=t.charCodeAt(r++)&255:n[s]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var s=0;s<i.length;++s)e+=Zat.charAt(i[s])}return e}function Jat(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===xs.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+Qat(t.xhr.responseText),t.type=xs.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=xs.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}var elt=function(){function t(){}return t.extension=Ri.Loader,t.use=Jat,t}();Pd.add(Ise,elt);/*!
 * @pixi/compressed-textures - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ki,Fn;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(Fn||(Fn={}));var Db=(ki={},ki[Fn.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,ki[Fn.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,ki[Fn.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,ki[Fn.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,ki[Fn.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,ki[Fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,ki[Fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,ki[Fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,ki[Fn.COMPRESSED_R11_EAC]=.5,ki[Fn.COMPRESSED_SIGNED_R11_EAC]=.5,ki[Fn.COMPRESSED_RG11_EAC]=1,ki[Fn.COMPRESSED_SIGNED_RG11_EAC]=1,ki[Fn.COMPRESSED_RGB8_ETC2]=.5,ki[Fn.COMPRESSED_RGBA8_ETC2_EAC]=1,ki[Fn.COMPRESSED_SRGB8_ETC2]=.5,ki[Fn.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,ki[Fn.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,ki[Fn.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,ki[Fn.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,ki[Fn.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,ki[Fn.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,ki[Fn.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,ki[Fn.COMPRESSED_RGB_ETC1_WEBGL]=.5,ki[Fn.COMPRESSED_RGB_ATC_WEBGL]=.5,ki[Fn.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,ki[Fn.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,ki[Fn.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,ki);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uD=function(t,e){return uD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},uD(t,e)};function Ose(t,e){uD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function tlt(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function rlt(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Dse=function(t){Ose(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,s,o;return typeof r=="string"?(s=r,o=new Uint8Array):(s=null,o=r),i=t.call(this,o,n)||this,i.origin=s,i.buffer=o?new qT(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return tlt(this,void 0,Promise,function(){var r,n,i;return rlt(this,function(s){switch(s.label){case 0:return[4,fetch(this.origin)];case 1:return r=s.sent(),[4,r.blob()];case 2:return n=s.sent(),[4,n.arrayBuffer()];case 3:return i=s.sent(),this.data=new Uint32Array(i),this.buffer=new qT(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(vm),XT=function(t){Ose(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var s=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var a=0,l=this.levels;a<l;a++){var u=this._levelBuffers[a],d=u.levelID,f=u.levelWidth,h=u.levelHeight,g=u.levelBuffer;s.compressedTexImage2D(s.TEXTURE_2D,d,this.format,f,h,0,g)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,s,o,a,l){for(var u=new Array(i),d=r.byteOffset,f=a,h=l,g=f+s-1&~(s-1),p=h+o-1&~(o-1),v=g*p*Db[n],b=0;b<i;b++)u[b]={levelID:b,levelWidth:i>1?f:g,levelHeight:i>1?h:p,levelBuffer:new Uint8Array(r.buffer,d,v)},d+=v,f=f>>1||1,h=h>>1||1,g=f+s-1&~(s-1),p=h+o-1&~(o-1),v=g*p*Db[n];return u},e}(Dse),Mse=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===xs.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var s=n.textures,o=void 0,a=void 0,l=0,u=s.length;l<u;l++){var d=s[l],f=d.src,h=d.format;if(h||(a=f),t.textureFormats[h]){o=f;break}}if(o=o||a,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var g={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=Kc.resolve(e.url.replace(i.baseUrl,""),o),v=n.cacheID;i.add(v,p,g,function(b){if(b.error){r(b.error);return}var S=b.texture,T=S===void 0?null:S,E=b.textures,C=E===void 0?{}:E;Object.assign(e,{texture:T,textures:C}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=Nr.ADAPTER.createCanvas(),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t.extension=Ri.Loader,t}();function Rse(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(s){return new An(new li(s,Object.assign({mipmap:Su.OFF,alphaMode:Tu.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(s,o){var a=s.baseTexture,l=t+"-"+(o+1);li.addToCache(a,l),An.addToCache(s,l),o===0&&(li.addToCache(a,t),An.addToCache(s,t),n.texture=s),n.textures[l]=s}),n}var oy,$u,mP=4,ew=124,nlt=32,mH=20,ilt=542327876,tw={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},slt={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},rw={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Bu;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Bu||(Bu={}));var cD;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(cD||(cD={}));var olt=1,alt=2,llt=4,ult=64,clt=512,dlt=131072,flt=827611204,hlt=861165636,plt=894720068,mlt=808540228,glt=4,vlt=(oy={},oy[flt]=Fn.COMPRESSED_RGBA_S3TC_DXT1_EXT,oy[hlt]=Fn.COMPRESSED_RGBA_S3TC_DXT3_EXT,oy[plt]=Fn.COMPRESSED_RGBA_S3TC_DXT5_EXT,oy),_lt=($u={},$u[Bu.DXGI_FORMAT_BC1_TYPELESS]=Fn.COMPRESSED_RGBA_S3TC_DXT1_EXT,$u[Bu.DXGI_FORMAT_BC1_UNORM]=Fn.COMPRESSED_RGBA_S3TC_DXT1_EXT,$u[Bu.DXGI_FORMAT_BC2_TYPELESS]=Fn.COMPRESSED_RGBA_S3TC_DXT3_EXT,$u[Bu.DXGI_FORMAT_BC2_UNORM]=Fn.COMPRESSED_RGBA_S3TC_DXT3_EXT,$u[Bu.DXGI_FORMAT_BC3_TYPELESS]=Fn.COMPRESSED_RGBA_S3TC_DXT5_EXT,$u[Bu.DXGI_FORMAT_BC3_UNORM]=Fn.COMPRESSED_RGBA_S3TC_DXT5_EXT,$u[Bu.DXGI_FORMAT_BC1_UNORM_SRGB]=Fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,$u[Bu.DXGI_FORMAT_BC2_UNORM_SRGB]=Fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,$u[Bu.DXGI_FORMAT_BC3_UNORM_SRGB]=Fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,$u);function $se(t){var e=new Uint32Array(t),r=e[0];if(r!==ilt)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,ew/Uint32Array.BYTES_PER_ELEMENT),i=n[tw.HEIGHT],s=n[tw.WIDTH],o=n[tw.MIPMAP_COUNT],a=new Uint32Array(t,tw.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,nlt/Uint32Array.BYTES_PER_ELEMENT),l=a[olt];if(l&llt){var u=a[slt.FOURCC];if(u!==mlt){var d=vlt[u],f=mP+ew,h=new Uint8Array(t,f),g=new XT(h,{format:d,width:s,height:i,levels:o});return[g]}var p=mP+ew,v=new Uint32Array(e.buffer,p,mH/Uint32Array.BYTES_PER_ELEMENT),b=v[rw.DXGI_FORMAT],S=v[rw.RESOURCE_DIMENSION],T=v[rw.MISC_FLAG],E=v[rw.ARRAY_SIZE],C=_lt[b];if(C===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+b);if(T===glt)throw new Error("DDSParser does not support cubemap textures");if(S===cD.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var P=new Array,D=mP+ew+mH;if(E===1)P.push(new Uint8Array(t,D));else{for(var L=Db[C],j=0,te=s,se=i,q=0;q<o;q++){var X=Math.max(1,te+3&-4),Q=Math.max(1,se+3&-4),$=X*Q*L;j+=$,te=te>>>1,se=se>>>1}for(var V=D,q=0;q<E;q++)P.push(new Uint8Array(t,V,j)),V+=j}return P.map(function(Y){return new XT(Y,{format:C,width:s,height:i,levels:o})})}throw l&ult?new Error("DDSParser does not support uncompressed texture data."):l&clt?new Error("DDSParser does not supported YUV uncompressed texture data."):l&dlt?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&alt?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var eh,Ud,ay,gH=[171,75,84,88,32,49,49,187,13,10,26,10],ylt=67305985,Lu={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},dD=64,fD=(eh={},eh[un.UNSIGNED_BYTE]=1,eh[un.UNSIGNED_SHORT]=2,eh[un.INT]=4,eh[un.UNSIGNED_INT]=4,eh[un.FLOAT]=4,eh[un.HALF_FLOAT]=8,eh),Lse=(Ud={},Ud[Sr.RGBA]=4,Ud[Sr.RGB]=3,Ud[Sr.RG]=2,Ud[Sr.RED]=1,Ud[Sr.LUMINANCE]=1,Ud[Sr.LUMINANCE_ALPHA]=2,Ud[Sr.ALPHA]=1,Ud),Fse=(ay={},ay[un.UNSIGNED_SHORT_4_4_4_4]=2,ay[un.UNSIGNED_SHORT_5_5_5_1]=2,ay[un.UNSIGNED_SHORT_5_6_5]=2,ay);function Nse(t,e,r){r===void 0&&(r=!1);var n=new DataView(e);if(!blt(t,n))return null;var i=n.getUint32(Lu.ENDIANNESS,!0)===ylt,s=n.getUint32(Lu.GL_TYPE,i),o=n.getUint32(Lu.GL_FORMAT,i),a=n.getUint32(Lu.GL_INTERNAL_FORMAT,i),l=n.getUint32(Lu.PIXEL_WIDTH,i),u=n.getUint32(Lu.PIXEL_HEIGHT,i)||1,d=n.getUint32(Lu.PIXEL_DEPTH,i)||1,f=n.getUint32(Lu.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(Lu.NUMBER_OF_FACES,i),g=n.getUint32(Lu.NUMBER_OF_MIPMAP_LEVELS,i),p=n.getUint32(Lu.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||d!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var v=4,b=4,S=l+3&-4,T=u+3&-4,E=new Array(f),C=l*u;s===0&&(C=S*T);var P;if(s!==0?fD[s]?P=fD[s]*Lse[o]:P=Fse[s]:P=Db[a],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var D=r?wlt(n,p,i):null,L=C*P,j=L,te=l,se=u,q=S,X=T,Q=dD+p,$=0;$<g;$++){for(var V=n.getUint32(Q,i),Y=Q+4,ee=0;ee<f;ee++){var ae=E[ee];ae||(ae=E[ee]=new Array(g)),ae[$]={levelID:$,levelWidth:g>1||s!==0?te:q,levelHeight:g>1||s!==0?se:X,levelBuffer:new Uint8Array(e,Y,j)},Y+=j}Q+=V+4,Q=Q%4!==0?Q+4-Q%4:Q,te=te>>1||1,se=se>>1||1,q=te+v-1&~(v-1),X=se+b-1&~(b-1),j=q*X*P}return s!==0?{uncompressed:E.map(function(H){var J=H[0].levelBuffer,ie=!1;return s===un.FLOAT?J=new Float32Array(H[0].levelBuffer.buffer,H[0].levelBuffer.byteOffset,H[0].levelBuffer.byteLength/4):s===un.UNSIGNED_INT?(ie=!0,J=new Uint32Array(H[0].levelBuffer.buffer,H[0].levelBuffer.byteOffset,H[0].levelBuffer.byteLength/4)):s===un.INT&&(ie=!0,J=new Int32Array(H[0].levelBuffer.buffer,H[0].levelBuffer.byteOffset,H[0].levelBuffer.byteLength/4)),{resource:new vm(J,{width:H[0].levelWidth,height:H[0].levelHeight}),type:s,format:ie?xlt(o):o}}),kvData:D}:{compressed:E.map(function(H){return new XT(null,{format:a,width:l,height:u,levels:g,levelBuffers:H})}),kvData:D}}function blt(t,e){for(var r=0;r<gH.length;r++)if(e.getUint8(r)!==gH[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0}function xlt(t){switch(t){case Sr.RGBA:return Sr.RGBA_INTEGER;case Sr.RGB:return Sr.RGB_INTEGER;case Sr.RG:return Sr.RG_INTEGER;case Sr.RED:return Sr.RED_INTEGER;default:return t}}function wlt(t,e,r){for(var n=new Map,i=0;i<e;){var s=t.getUint32(dD+i,r),o=dD+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),d=new DataView(t.buffer,o+l+1,s-l-1);n.set(u,d),i+=4+s+a}return n}xs.setExtensionXhrType("dds",xs.XHR_RESPONSE_TYPE.BUFFER);var Bse=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,Rse(e.name||e.url,$se(e.data),e.metadata))}catch(n){r(n);return}r()},t.extension=Ri.Loader,t}();xs.setExtensionXhrType("ktx",xs.XHR_RESPONSE_TYPE.BUFFER);var Use=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=Nse(n,e.data,this.loadKeyValueData),s=i.compressed,o=i.uncompressed,a=i.kvData;if(s){var l=Rse(n,s,e.metadata);if(a&&l.textures)for(var u in l.textures)l.textures[u].baseTexture.ktxKeyValueData=a;Object.assign(e,l)}else if(o){var d={};o.forEach(function(f,h){var g=new An(new li(f.resource,{mipmap:Su.OFF,alphaMode:Tu.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),p=n+"-"+(h+1);a&&(g.baseTexture.ktxKeyValueData=a),li.addToCache(g.baseTexture,p),An.addToCache(g,p),h===0&&(d[n]=g,li.addToCache(g.baseTexture,n),An.addToCache(g,n)),d[p]=g}),Object.assign(e,{textures:d})}}catch(f){r(f);return}r()},t.extension=Ri.Loader,t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hD=function(t,e){return hD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},hD(t,e)};function Vse(t,e){hD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Slt=function(t){Vse(e,t);function e(r,n,i,s){r===void 0&&(r=1500),i===void 0&&(i=16384),s===void 0&&(s=!1);var o=t.call(this)||this,a=16384;return i>a&&(i=a),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=fn.NORMAL,o.autoResize=s,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,J0(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Eu),vH=function(){function t(e,r,n){this.geometry=new l_,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||un.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new Xs(Lie(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new Xs(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new Xs(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===un.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===un.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===un.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===un.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),Tlt=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Elt=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,zse=function(t){Vse(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new hs,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:un.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=pf.from(Elt,Tlt,{}),n.state=lp.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,s=r._batchSize,o=this.renderer,a=n.length;if(a!==0){a>i&&!r.autoResize&&(a=i);var l=r._buffers;l||(l=r._buffers=this.generateBuffers(r));var u=n[0]._texture.baseTexture,d=u.alphaMode>0;this.state.blendMode=p$(r.blendMode,d),o.state.set(this.state);var f=o.gl,h=r.worldTransform.copyTo(this.tempMatrix);h.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=$ie(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,d),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);for(var g=!1,p=0,v=0;p<a;p+=s,v+=1){var b=a-p;b>s&&(b=s),v>=l.length&&l.push(this._generateOneMoreBuffer(r));var S=l[v];S.uploadDynamic(n,p,b);var T=r._bufferUpdateIDs[v]||0;g=g||S._updateID<T,g&&(S._updateID=r._updateID,S.uploadStatic(n,p,b)),o.geometry.bind(S.geometry),f.drawElements(f.TRIANGLES,b*6,f.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,s=r._batchSize,o=r._properties,a=0;a<i;a+=s)n.push(new vH(this.properties,o,s));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new vH(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,s,o,a){for(var l=0,u=0,d=0,f=0,h=0;h<i;++h){var g=r[n+h],p=g._texture,v=g.scale.x,b=g.scale.y,S=p.trim,T=p.orig;S?(u=S.x-g.anchor.x*T.width,l=u+S.width,f=S.y-g.anchor.y*T.height,d=f+S.height):(l=T.width*(1-g.anchor.x),u=T.width*-g.anchor.x,d=T.height*(1-g.anchor.y),f=T.height*-g.anchor.y),s[a]=u*v,s[a+1]=f*b,s[a+o]=l*v,s[a+o+1]=f*b,s[a+o*2]=l*v,s[a+o*2+1]=d*b,s[a+o*3]=u*v,s[a+o*3+1]=d*b,a+=o*4}},e.prototype.uploadPosition=function(r,n,i,s,o,a){for(var l=0;l<i;l++){var u=r[n+l].position;s[a]=u.x,s[a+1]=u.y,s[a+o]=u.x,s[a+o+1]=u.y,s[a+o*2]=u.x,s[a+o*2+1]=u.y,s[a+o*3]=u.x,s[a+o*3+1]=u.y,a+=o*4}},e.prototype.uploadRotation=function(r,n,i,s,o,a){for(var l=0;l<i;l++){var u=r[n+l].rotation;s[a]=u,s[a+o]=u,s[a+o*2]=u,s[a+o*3]=u,a+=o*4}},e.prototype.uploadUvs=function(r,n,i,s,o,a){for(var l=0;l<i;++l){var u=r[n+l]._texture._uvs;u?(s[a]=u.x0,s[a+1]=u.y0,s[a+o]=u.x1,s[a+o+1]=u.y1,s[a+o*2]=u.x2,s[a+o*2+1]=u.y2,s[a+o*3]=u.x3,s[a+o*3+1]=u.y3,a+=o*4):(s[a]=0,s[a+1]=0,s[a+o]=0,s[a+o+1]=0,s[a+o*2]=0,s[a+o*2+1]=0,s[a+o*3]=0,s[a+o*3+1]=0,a+=o*4)}},e.prototype.uploadTint=function(r,n,i,s,o,a){for(var l=0;l<i;++l){var u=r[n+l],d=u._texture.baseTexture.alphaMode>0,f=u.alpha,h=f<1&&d?$C(u._tintRGB,f):u._tintRGB+(f*255<<24);s[a]=h,s[a+o]=h,s[a+o*2]=h,s[a+o*3]=h,a+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e.extension={name:"particle",type:Ri.RendererPlugin},e}(w1);/*!
 * @pixi/graphics - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var jc;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(jc||(jc={}));var sf;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(sf||(sf={}));var Sv={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},W$=function(){function t(){this.color=16777215,this.alpha=1,this.texture=An.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=An.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pD=function(t,e){return pD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pD(t,e)};function q$(t,e){pD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function _H(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var s=0,o=0,a=t[i-2],l=t[i-1];o<i;o+=2){var u=t[o],d=t[o+1];s+=(u-a)*(d+l),a=u,l=d}if(!e&&s>0||e&&s<=0)for(var f=i/2,o=f+f%2;o<i;o+=2){var h=i-o-2,g=i-o-1,p=o,v=o+1;r=[t[p],t[h]],t[h]=r[0],t[p]=r[1],n=[t[v],t[g]],t[g]=n[0],t[v]=n[1]}}}var X$={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,s=e.indices;if(r.length>=6){_H(r,!1);for(var o=[],a=0;a<n.length;a++){var l=n[a];_H(l.points,!0),o.push(r.length/2),r=r.concat(l.points)}var u=n$(r,o,2);if(!u)return;for(var d=i.length/2,a=0;a<u.length;a+=3)s.push(u[a]+d),s.push(u[a+1]+d),s.push(u[a+2]+d);for(var a=0;a<r.length;a++)i.push(r[a])}}},Mb={build:function(t){var e=t.points,r,n,i,s,o,a;if(t.type===so.CIRC){var l=t.shape;r=l.x,n=l.y,o=a=l.radius,i=s=0}else if(t.type===so.ELIP){var u=t.shape;r=u.x,n=u.y,o=u.width,a=u.height,i=s=0}else{var d=t.shape,f=d.width/2,h=d.height/2;r=d.x+f,n=d.y+h,o=a=Math.max(0,Math.min(d.radius,Math.min(f,h))),i=f-o,s=h-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}var g=Math.ceil(2.3*Math.sqrt(o+a)),p=g*8+(i?4:0)+(s?4:0);if(e.length=p,p!==0){if(g===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}var v=0,b=g*4+(i?2:0)+2,S=b,T=p;{var E=i+o,C=s,P=r+E,D=r-E,L=n+C;if(e[v++]=P,e[v++]=L,e[--b]=L,e[--b]=D,s){var j=n-C;e[S++]=D,e[S++]=j,e[--T]=j,e[--T]=P}}for(var te=1;te<g;te++){var se=Math.PI/2*(te/g),E=i+Math.cos(se)*o,C=s+Math.sin(se)*a,P=r+E,D=r-E,L=n+C,j=n-C;e[v++]=P,e[v++]=L,e[--b]=L,e[--b]=D,e[S++]=D,e[S++]=j,e[--T]=j,e[--T]=P}{var E=i,C=s+a,P=r+E,D=r-E,L=n+C,j=n-C;e[v++]=P,e[v++]=L,e[--T]=j,e[--T]=P,i&&(e[v++]=D,e[v++]=L,e[--T]=j,e[--T]=D)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices;if(r.length!==0){var s=n.length/2,o=s,a,l;if(t.type!==so.RREC){var u=t.shape;a=u.x,l=u.y}else{var d=t.shape;a=d.x+d.width/2,l=d.y+d.height/2}var f=t.matrix;n.push(t.matrix?f.a*a+f.c*l+f.tx:a,t.matrix?f.b*a+f.d*l+f.ty:l),s++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(s++,o,s);i.push(o+1,o,s)}}},jse={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function jm(t,e,r){var n=e-t;return t+n*r}function nw(t,e,r,n,i,s,o){o===void 0&&(o=[]);for(var a=20,l=o,u=0,d=0,f=0,h=0,g=0,p=0,v=0,b=0;v<=a;++v)b=v/a,u=jm(t,r,b),d=jm(e,n,b),f=jm(r,i,b),h=jm(n,s,b),g=jm(u,f,b),p=jm(d,h,b),!(v===0&&l[l.length-2]===g&&l[l.length-1]===p)&&l.push(g,p);return l}var Hse={build:function(t){if(Rb.nextRoundedRectBehavior){Mb.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,s=e.width,o=e.height,a=Math.max(0,Math.min(e.radius,Math.min(s,o)/2));r.length=0,a?(nw(n,i+a,n,i,n+a,i,r),nw(n+s-a,i,n+s,i,n+s,i+a,r),nw(n+s,i+o-a,n+s,i+o,n+s-a,i+o,r),nw(n+a,i+o,n,i+o,n,i+o-a,r)):r.push(n,i,n+s,i,n+s,i+o,n,i+o)},triangulate:function(t,e){if(Rb.nextRoundedRectBehavior){Mb.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,s=n.length/2,o=n$(r,null,2),a=0,l=o.length;a<l;a+=3)i.push(o[a]+s),i.push(o[a+1]+s),i.push(o[a+2]+s);for(var a=0,l=r.length;a<l;a++)n.push(r[a],r[++a])}};function yH(t,e,r,n,i,s,o,a){var l=t-r*i,u=e-n*i,d=t+r*s,f=e+n*s,h,g;o?(h=n,g=-r):(h=-n,g=r);var p=l+h,v=u+g,b=d+h,S=f+g;return a.push(p,v),a.push(b,S),2}function Lp(t,e,r,n,i,s,o,a){var l=r-t,u=n-e,d=Math.atan2(l,u),f=Math.atan2(i-t,s-e);a&&d<f?d+=Math.PI*2:!a&&d>f&&(f+=Math.PI*2);var h=d,g=f-d,p=Math.abs(g),v=Math.sqrt(l*l+u*u),b=(15*p*Math.sqrt(v)/Math.PI>>0)+1,S=g/b;if(h+=S,a){o.push(t,e),o.push(r,n);for(var T=1,E=h;T<b;T++,E+=S)o.push(t,e),o.push(t+Math.sin(E)*v,e+Math.cos(E)*v);o.push(t,e),o.push(i,s)}else{o.push(r,n),o.push(t,e);for(var T=1,E=h;T<b;T++,E+=S)o.push(t+Math.sin(E)*v,e+Math.cos(E)*v),o.push(t,e);o.push(i,s),o.push(t,e)}return b*2}function Clt(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var s=t.lineStyle,o=new Vi(n[0],n[1]),a=new Vi(n[n.length-2],n[n.length-1]),l=r.type!==so.POLY||r.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));var d=(o.x+a.x)*.5,f=(a.y+o.y)*.5;n.unshift(d,f),n.push(d,f)}var h=e.points,g=n.length/2,p=n.length,v=h.length/2,b=s.width/2,S=b*b,T=s.miterLimit*s.miterLimit,E=n[0],C=n[1],P=n[2],D=n[3],L=0,j=0,te=-(C-D),se=E-P,q=0,X=0,Q=Math.sqrt(te*te+se*se);te/=Q,se/=Q,te*=b,se*=b;var $=s.alignment,V=(1-$)*2,Y=$*2;l||(s.cap===sf.ROUND?p+=Lp(E-te*(V-Y)*.5,C-se*(V-Y)*.5,E-te*V,C-se*V,E+te*Y,C+se*Y,h,!0)+2:s.cap===sf.SQUARE&&(p+=yH(E,C,te,se,V,Y,!0,h))),h.push(E-te*V,C-se*V),h.push(E+te*Y,C+se*Y);for(var ee=1;ee<g-1;++ee){E=n[(ee-1)*2],C=n[(ee-1)*2+1],P=n[ee*2],D=n[ee*2+1],L=n[(ee+1)*2],j=n[(ee+1)*2+1],te=-(C-D),se=E-P,Q=Math.sqrt(te*te+se*se),te/=Q,se/=Q,te*=b,se*=b,q=-(D-j),X=P-L,Q=Math.sqrt(q*q+X*X),q/=Q,X/=Q,q*=b,X*=b;var ae=P-E,H=C-D,J=P-L,ie=j-D,xe=ae*J+H*ie,qe=H*J-ie*ae,et=qe<0;if(Math.abs(qe)<.001*Math.abs(xe)){h.push(P-te*V,D-se*V),h.push(P+te*Y,D+se*Y),xe>=0&&(s.join===jc.ROUND?p+=Lp(P,D,P-te*V,D-se*V,P-q*V,D-X*V,h,!1)+4:p+=2,h.push(P-q*Y,D-X*Y),h.push(P+q*V,D+X*V));continue}var Je=(-te+E)*(-se+D)-(-te+P)*(-se+C),lt=(-q+L)*(-X+D)-(-q+P)*(-X+j),Re=(ae*lt-J*Je)/qe,wt=(ie*Je-H*lt)/qe,vt=(Re-P)*(Re-P)+(wt-D)*(wt-D),pt=P+(Re-P)*V,Ut=D+(wt-D)*V,yt=P-(Re-P)*Y,le=D-(wt-D)*Y,Oe=Math.min(ae*ae+H*H,J*J+ie*ie),nt=et?V:Y,Ke=Oe+nt*nt*S,ct=vt<=Ke;ct?s.join===jc.BEVEL||vt/S>T?(et?(h.push(pt,Ut),h.push(P+te*Y,D+se*Y),h.push(pt,Ut),h.push(P+q*Y,D+X*Y)):(h.push(P-te*V,D-se*V),h.push(yt,le),h.push(P-q*V,D-X*V),h.push(yt,le)),p+=2):s.join===jc.ROUND?et?(h.push(pt,Ut),h.push(P+te*Y,D+se*Y),p+=Lp(P,D,P+te*Y,D+se*Y,P+q*Y,D+X*Y,h,!0)+4,h.push(pt,Ut),h.push(P+q*Y,D+X*Y)):(h.push(P-te*V,D-se*V),h.push(yt,le),p+=Lp(P,D,P-te*V,D-se*V,P-q*V,D-X*V,h,!1)+4,h.push(P-q*V,D-X*V),h.push(yt,le)):(h.push(pt,Ut),h.push(yt,le)):(h.push(P-te*V,D-se*V),h.push(P+te*Y,D+se*Y),s.join===jc.ROUND?et?p+=Lp(P,D,P+te*Y,D+se*Y,P+q*Y,D+X*Y,h,!0)+2:p+=Lp(P,D,P-te*V,D-se*V,P-q*V,D-X*V,h,!1)+2:s.join===jc.MITER&&vt/S<=T&&(et?(h.push(yt,le),h.push(yt,le)):(h.push(pt,Ut),h.push(pt,Ut)),p+=2),h.push(P-q*V,D-X*V),h.push(P+q*Y,D+X*Y),p+=2)}E=n[(g-2)*2],C=n[(g-2)*2+1],P=n[(g-1)*2],D=n[(g-1)*2+1],te=-(C-D),se=E-P,Q=Math.sqrt(te*te+se*se),te/=Q,se/=Q,te*=b,se*=b,h.push(P-te*V,D-se*V),h.push(P+te*Y,D+se*Y),l||(s.cap===sf.ROUND?p+=Lp(P-te*(V-Y)*.5,D-se*(V-Y)*.5,P-te*V,D-se*V,P+te*Y,D+se*Y,h,!1)+2:s.cap===sf.SQUARE&&(p+=yH(P,D,te,se,V,Y,!1,h)));for(var Ot=e.indices,Dt=Sv.epsilon*Sv.epsilon,ee=v;ee<p+v-2;++ee)E=h[ee*2],C=h[ee*2+1],P=h[(ee+1)*2],D=h[(ee+1)*2+1],L=h[(ee+2)*2],j=h[(ee+2)*2+1],!(Math.abs(E*(D-j)+P*(j-C)+L*(C-D))<Dt)&&Ot.push(ee,ee+1,ee+2)}}function Alt(t,e){var r=0,n=t.shape,i=t.points||n.points,s=n.type!==so.POLY||n.closeStroke;if(i.length!==0){var o=e.points,a=e.indices,l=i.length/2,u=o.length/2,d=u;for(o.push(i[0],i[1]),r=1;r<l;r++)o.push(i[r*2],i[r*2+1]),a.push(d,d+1),d++;s&&a.push(d,u)}}function mD(t,e){t.lineStyle.native?Alt(t,e):Clt(t,e)}var gD=function(){function t(){}return t.curveTo=function(e,r,n,i,s,o){var a=o[o.length-2],l=o[o.length-1],u=l-r,d=a-e,f=i-r,h=n-e,g=Math.abs(u*h-d*f);if(g<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var p=u*u+d*d,v=f*f+h*h,b=u*f+d*h,S=s*Math.sqrt(p)/g,T=s*Math.sqrt(v)/g,E=S*b/p,C=T*b/v,P=S*h+T*d,D=S*f+T*u,L=d*(T+E),j=u*(T+E),te=h*(S+C),se=f*(S+C),q=Math.atan2(j-D,L-P),X=Math.atan2(se-D,te-P);return{cx:P+e,cy:D+r,radius:s,startAngle:q,endAngle:X,anticlockwise:d*f>h*u}},t.arc=function(e,r,n,i,s,o,a,l,u){for(var d=a-o,f=Sv._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/Pb)*40),h=d/(f*2),g=h*2,p=Math.cos(h),v=Math.sin(h),b=f-1,S=b%1/b,T=0;T<=b;++T){var E=T+S*T,C=h+o+g*E,P=Math.cos(C),D=-Math.sin(C);u.push((p*P+v*D)*s+n,(p*-D+v*P)*s+i)}},t}(),Gse=function(){function t(){}return t.curveLength=function(e,r,n,i,s,o,a,l){for(var u=10,d=0,f=0,h=0,g=0,p=0,v=0,b=0,S=0,T=0,E=0,C=0,P=e,D=r,L=1;L<=u;++L)f=L/u,h=f*f,g=h*f,p=1-f,v=p*p,b=v*p,S=b*e+3*v*f*n+3*p*h*s+g*a,T=b*r+3*v*f*i+3*p*h*o+g*l,E=P-S,C=D-T,P=S,D=T,d+=Math.sqrt(E*E+C*C);return d},t.curveTo=function(e,r,n,i,s,o,a){var l=a[a.length-2],u=a[a.length-1];a.length-=2;var d=Sv._segmentsCount(t.curveLength(l,u,e,r,n,i,s,o)),f=0,h=0,g=0,p=0,v=0;a.push(l,u);for(var b=1,S=0;b<=d;++b)S=b/d,f=1-S,h=f*f,g=h*f,p=S*S,v=p*S,a.push(g*l+3*h*S*e+3*f*p*n+v*s,g*u+3*h*S*r+3*f*p*i+v*o)},t}(),Wse=function(){function t(){}return t.curveLength=function(e,r,n,i,s,o){var a=e-2*n+s,l=r-2*i+o,u=2*n-2*e,d=2*i-2*r,f=4*(a*a+l*l),h=4*(a*u+l*d),g=u*u+d*d,p=2*Math.sqrt(f+h+g),v=Math.sqrt(f),b=2*f*v,S=2*Math.sqrt(g),T=h/v;return(b*p+v*h*(p-S)+(4*g*f-h*h)*Math.log((2*v+T+p)/(T+S)))/(4*b)},t.curveTo=function(e,r,n,i,s){for(var o=s[s.length-2],a=s[s.length-1],l=Sv._segmentsCount(t.curveLength(o,a,e,r,n,i)),u=0,d=0,f=1;f<=l;++f){var h=f/l;u=o+(e-o)*h,d=a+(r-a)*h,s.push(u+(e+(n-e)*h-u)*h,d+(r+(i-r)*h-d)*h)}},t}(),qse=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Fp,cS=(Fp={},Fp[so.POLY]=X$,Fp[so.CIRC]=Mb,Fp[so.ELIP]=Mb,Fp[so.RECT]=jse,Fp[so.RREC]=Hse,Fp),vD=[],My=[],_D=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Hm=new Vi,Xse=function(t){q$(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new kb,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),My.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),vD.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,s){n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=null);var o=new _D(r,n,i,s);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new _D(r,null,null,n),s=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=s.lineStyle,s.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var s=n[i];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(r,Hm):Hm.copyFrom(r),s.shape.contains(Hm.x,Hm.y))){var o=!1;if(s.holes)for(var a=0;a<s.holes.length;a++){var l=s.holes[a];if(l.shape.contains(Hm.x,Hm.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,n=this.graphicsData,i=null,s=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],s=i.style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var a=n[o],l=a.fillStyle,u=a.lineStyle,d=cS[a.type];d.build(a),a.matrix&&this.transformPoints(a.points,a.matrix),(l.visible||u.visible)&&this.processHoles(a.holes);for(var f=0;f<2;f++){var h=f===0?l:u;if(h.visible){var g=h.texture.baseTexture,p=this.indices.length,v=this.points.length/2;g.wrapMode=ec.REPEAT,f===0?this.processFill(a):this.processLine(a);var b=this.points.length/2-v;b!==0&&(i&&!this._compareStyles(s,h)&&(i.end(p,v),i=null),i||(i=vD.pop()||new qse,i.begin(h,p,v),this.batches.push(i),s=h),this.addUvs(this.points,r,h.texture,v,b,h.matrix))}}}var S=this.indices.length,T=this.points.length/2;if(i&&i.end(S,T),this.batches.length===0){this.batchable=!0;return}var E=T>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&E===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=E?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],s=i.fillStyle,o=i.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var s=r[n],o=0;o<s.size;o++){var a=s.start+o;this.indicesUint16[a]=this.indicesUint16[a]-s.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++li._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),My.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,s=this.textureIds,o=My.pop();o||(o=new GT,o.texArray=new WT),o.texArray.count=0,o.start=0,o.size=0,o.type=ru.TRIANGLES;var a=0,l=null,u=0,d=!1,f=ru.TRIANGLES,h=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var g=this.batches[n],p=8,v=g.style,b=v.texture.baseTexture;d!==!!v.native&&(d=!!v.native,f=d?ru.LINES:ru.TRIANGLES,l=null,a=p,r++),l!==b&&(l=b,b._batchEnabled!==r&&(a===p&&(r++,a=0,o.size>0&&(o=My.pop(),o||(o=new GT,o.texArray=new WT),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=f),b.touched=1,b._batchEnabled=r,b._batchLocation=a,b.wrapMode=ec.REPEAT,o.texArray.elements[o.texArray.count++]=b,a++)),o.size+=g.size,h+=g.size,u=b._batchLocation,this.addColors(i,v.color,v.alpha,g.attribSize,g.attribStart),this.addTextureIds(s,u,g.attribSize,g.attribStart)}li._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,s=this.textureIds,o=new ArrayBuffer(r.length*3*4),a=new Float32Array(o),l=new Uint32Array(o),u=0,d=0;d<r.length/2;d++)a[u++]=r[d*2],a[u++]=r[d*2+1],a[u++]=n[d*2],a[u++]=n[d*2+1],l[u++]=i[d],a[u++]=s[d];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)X$.triangulate(r,this);else{var n=cS[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){mD(r,this);for(var n=0;n<r.holes.length;n++)mD(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],s=cS[i.type];s.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds;r.clear(),r.addVertexData(this.points,0,this.points.length),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var s=r[i*2],o=r[i*2+1];r[i*2]=n.a*s+n.c*o+n.tx,r[i*2+1]=n.b*s+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,s,o){o===void 0&&(o=0);var a=(n>>16)+(n&65280)+((n&255)<<16),l=$C(a,i);r.length=Math.max(r.length,o+s);for(var u=0;u<s;u++)r[o+u]=l},e.prototype.addTextureIds=function(r,n,i,s){s===void 0&&(s=0),r.length=Math.max(r.length,s+i);for(var o=0;o<i;o++)r[s+o]=n},e.prototype.addUvs=function(r,n,i,s,o,a){a===void 0&&(a=null);for(var l=0,u=n.length,d=i.frame;l<o;){var f=r[(s+l)*2],h=r[(s+l)*2+1];if(a){var g=a.a*f+a.c*h+a.tx;h=a.b*f+a.d*h+a.ty,f=g}l++,n.push(f/d.width,h/d.height)}var p=i.baseTexture;(d.width<p.width||d.height<p.height)&&this.adjustUvs(n,i,u,o)},e.prototype.adjustUvs=function(r,n,i,s){for(var o=n.baseTexture,a=1e-6,l=i+s*2,u=n.frame,d=u.width/o.width,f=u.height/o.height,h=u.x/u.width,g=u.y/u.height,p=Math.floor(r[i]+a),v=Math.floor(r[i+1]+a),b=i+2;b<l;b+=2)p=Math.min(p,Math.floor(r[b]+a)),v=Math.min(v,Math.floor(r[b+1]+a));h-=p,g-=v;for(var b=i;b<l;b+=2)r[b]=(r[b]+h)*d,r[b+1]=(r[b+1]+g)*f},e.BATCHABLE_SIZE=100,e}(j$),Yse=function(t){q$(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=sf.BUTT,r.join=jc.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(W$),Plt=new Float32Array(3),gP={},Rb=function(t){q$(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new W$,n._lineStyle=new Yse,n._matrix=null,n._holeMode=!1,n.state=lp.for2d(),n._geometry=r||new Xse,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=fn.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,s,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:s,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:An.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:sf.BUTT,join:jc.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new _2,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new _2,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,s=i[i.length-2],o=i[i.length-1];return(s!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,s){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),Wse.curveTo(r,n,i,s,o),this},e.prototype.bezierCurveTo=function(r,n,i,s,o,a){return this._initCurve(),Gse.curveTo(r,n,i,s,o,a,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,s,o){this._initCurve(r,n);var a=this.currentPath.points,l=gD.curveTo(r,n,i,s,o,a);if(l){var u=l.cx,d=l.cy,f=l.radius,h=l.startAngle,g=l.endAngle,p=l.anticlockwise;this.arc(u,d,f,h,g,p)}return this},e.prototype.arc=function(r,n,i,s,o,a){if(a===void 0&&(a=!1),s===o)return this;!a&&o<=s?o+=Pb:a&&s<=o&&(s+=Pb);var l=o-s;if(l===0)return this;var u=r+Math.cos(s)*i,d=n+Math.sin(s)*i,f=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var g=Math.abs(h[h.length-2]-u),p=Math.abs(h[h.length-1]-d);g<f&&p<f||h.push(u,d)}else this.moveTo(u,d),h=this.currentPath.points;return gD.arc(u,d,r,n,i,s,o,a,h),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:An.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:An.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,s){return this.drawShape(new ui(r,n,i,s))},e.prototype.drawRoundedRect=function(r,n,i,s,o){return this.drawShape(new Hie(r,n,i,s,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new zie(r,n,i))},e.prototype.drawEllipse=function(r,n,i,s){return this.drawShape(new jie(r,n,i,s))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var s,o=!0,a=n[0];a.points?(o=a.closeStroke,s=a.points):Array.isArray(n[0])?s=n[0]:s=n;var l=new _2(s);return l.closeStroke=o,this.drawShape(l),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===so.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry;n.updateBatches(),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var s=0;s<i;s++){var o=r.batches[s],a=o.style.color,l=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),u=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),d=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),f={vertexData:l,blendMode:n,indices:d,uvs:u,_batchRGB:J0(a),_tintRGB:a,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=f}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var s=this.batches[n];s.worldAlpha=this.worldAlpha*s.alpha,r.plugins[this.pluginName].render(s)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,s=this.tint,o=this.worldAlpha,a=n.uniforms,l=i.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(s>>16&255)/255*o,a.tint[1]=(s>>8&255)/255*o,a.tint[2]=(s&255)/255*o,a.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var u=0,d=l.length;u<d;u++)this._renderDrawCallDirect(r,i.drawCalls[u])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,s=n.type,o=n.size,a=n.start,l=i.count,u=0;u<l;u++)r.texture.bind(i.elements[u],u);r.geometry.draw(s,o,a)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!gP[i]){for(var s=r.plugins[i].MAX_TEXTURES,o=new Int32Array(s),a=0;a<s;a++)o[a]=a;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new hs,default:Rh.from({uSamplers:o},!0)},u=r.plugins[i]._shader.program;gP[i]=new pf(u,l)}n=gP[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,s=n.minY,o=n.maxX,a=n.maxY;this._bounds.addFrame(this.transform,i,s,o,a)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=J0(this.tint,Plt),n=0;n<this.batches.length;n++){var i=this.batches[n],s=i._batchRGB,o=r[0]*s[0]*255,a=r[1]*s[1]*255,l=r[2]*s[2]*255,u=(o<<16)+(a<<8)+(l|0);i._tintRGB=(u>>16)+(u&65280)+((u&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,a=n.d,l=n.tx,u=n.ty,d=this._geometry.points,f=this.vertexData,h=0,g=0;g<d.length;g+=2){var p=d[g],v=d[g+1];f[h++]=i*p+o*v+l,f[h++]=a*v+s*p+u}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new Vi,e}(Eu),klt={buildPoly:X$,buildCircle:Mb,buildRectangle:jse,buildRoundedRectangle:Hse,buildLine:mD,ArcUtils:gD,BezierUtils:Gse,QuadraticUtils:Wse,BatchPart:qse,FILL_COMMANDS:cS,BATCH_POOL:vD,DRAW_CALL_POOL:My};/*!
 * @pixi/sprite - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yD=function(t,e){return yD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},yD(t,e)};function Ilt(t,e){yD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ly=new Vi,Olt=new Uint16Array([0,1,2,0,2,3]),c_=function(t){Ilt(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new Ch(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=fn.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||An.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=Olt,n.pluginName="batch",n.isSprite=!0,n._roundPixels=Nr.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=v0(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=v0(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,a=n.d,l=n.tx,u=n.ty,d=this.vertexData,f=r.trim,h=r.orig,g=this._anchor,p=0,v=0,b=0,S=0;if(f?(v=f.x-g._x*h.width,p=v+f.width,S=f.y-g._y*h.height,b=S+f.height):(v=-g._x*h.width,p=v+h.width,S=-g._y*h.height,b=S+h.height),d[0]=i*v+o*S+l,d[1]=a*S+s*v+u,d[2]=i*p+o*S+l,d[3]=a*S+s*p+u,d[4]=i*p+o*b+l,d[5]=a*b+s*p+u,d[6]=i*v+o*b+l,d[7]=a*b+s*v+u,this._roundPixels)for(var T=Nr.RESOLUTION,E=0;E<d.length;++E)d[E]=Math.round((d[E]*T|0)/T)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,s=this._anchor,o=this.transform.worldTransform,a=o.a,l=o.b,u=o.c,d=o.d,f=o.tx,h=o.ty,g=-s._x*i.width,p=g+i.width,v=-s._y*i.height,b=v+i.height;n[0]=a*g+u*v+f,n[1]=d*v+l*g+h,n[2]=a*p+u*v+f,n[3]=d*v+l*p+h,n[4]=a*p+u*b+f,n[5]=d*b+l*p+h,n[6]=a*g+u*b+f,n[7]=d*b+l*g+h},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new kb),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new ui),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,ly);var n=this._texture.orig.width,i=this._texture.orig.height,s=-n*this.anchor.x,o=0;return ly.x>=s&&ly.x<s+n&&(o=-i*this.anchor.y,ly.y>=o&&ly.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof An?r:An.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=v0(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=v0(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||An.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Eu);/*!
 * @pixi/text - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bD=function(t,e){return bD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},bD(t,e)};function Dlt(t,e){bD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Tv;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Tv||(Tv={}));var vP={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Tv.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Mlt=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],tm=function(){function t(e){this.styleID=0,this.reset(),yP(this,e,e)}return t.prototype.clone=function(){var e={};return yP(e,this,vP),new t(e)},t.prototype.reset=function(){yP(this,vP,vP)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=_P(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=_P(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){Rlt(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=_P(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Mlt.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function bH(t){return typeof t=="number"?d$(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function _P(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=bH(t[e]);return t}else return bH(t)}function Rlt(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function yP(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var iw={willReadFrequently:!0},xc=function(){function t(e,r,n,i,s,o,a,l,u){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=u}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var s=r.toFontString(),o=t.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var a=i.getContext("2d",iw);a.font=s;for(var l=n?t.wordWrap(e,r,i):e,u=l.split(/(?:\r\n|\r|\n)/),d=new Array(u.length),f=0,h=0;h<u.length;h++){var g=a.measureText(u[h]).width+(u[h].length-1)*r.letterSpacing;d[h]=g,f=Math.max(f,g)}var p=f+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var v=r.lineHeight||o.fontSize+r.strokeThickness,b=Math.max(v,o.fontSize+r.strokeThickness)+(u.length-1)*(v+r.leading);return r.dropShadow&&(b+=r.dropShadowDistance),new t(e,r,p,b,u,d,v+r.leading,f,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d",iw),s=0,o="",a="",l=Object.create(null),u=r.letterSpacing,d=r.whiteSpace,f=t.collapseSpaces(d),h=t.collapseNewlines(d),g=!f,p=r.wordWrapWidth+u,v=t.tokenize(e),b=0;b<v.length;b++){var S=v[b];if(t.isNewline(S)){if(!h){a+=t.addLine(o),g=!f,o="",s=0;continue}S=" "}if(f){var T=t.isBreakingSpace(S),E=t.isBreakingSpace(o[o.length-1]);if(T&&E)continue}var C=t.getFromCache(S,u,l,i);if(C>p)if(o!==""&&(a+=t.addLine(o),o="",s=0),t.canBreakWords(S,r.breakWords))for(var P=t.wordWrapSplit(S),D=0;D<P.length;D++){for(var L=P[D],j=1;P[D+j];){var te=P[D+j],se=L[L.length-1];if(!t.canBreakChars(se,te,S,D,r.breakWords))L+=te;else break;j++}D+=L.length-1;var q=t.getFromCache(L,u,l,i);q+s>p&&(a+=t.addLine(o),g=!1,o="",s=0),o+=L,s+=q}else{o.length>0&&(a+=t.addLine(o),o="",s=0);var X=b===v.length-1;a+=t.addLine(S,!X),g=!1,o="",s=0}else C+s>p&&(g=!1,a+=t.addLine(o),o="",s=0),(o.length>0||!t.isBreakingSpace(S)||g)&&(o+=S,s+=C)}return a+=t.addLine(o,!1),a},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var s=n[e];if(typeof s!="number"){var o=e.length*r;s=i.measureText(e).width+o,n[e]=s}return s},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var s=e[i],o=e[i+1];if(t.isBreakingSpace(s,o)||t.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,s){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var s=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width),a=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),l=Math.ceil(t.HEIGHT_MULTIPLIER*a);a=a*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,o,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);var u=i.getImageData(0,0,o,l).data,d=u.length,f=o*4,h=0,g=0,p=!1;for(h=0;h<a;++h){for(var v=0;v<f;v+=4)if(u[g+v]!==255){p=!0;break}if(!p)g+=f;else break}for(r.ascent=a-h,g=d-f,p=!1,h=l;h>a;--h){for(var v=0;v<f;v+=4)if(u[g+v]!==255){p=!0;break}if(!p)g-=f;else break}return r.descent=h-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d",iw);if(n&&n.measureText)return t.__canvas=r,r;e=Nr.ADAPTER.createCanvas()}catch{e=Nr.ADAPTER.createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d",iw)),t.__context},enumerable:!1,configurable:!0}),t}();xc._fonts={};xc.METRICS_STRING="|ÉqÅ";xc.BASELINE_SYMBOL="M";xc.BASELINE_MULTIPLIER=1.4;xc.HEIGHT_MULTIPLIER=2;xc._newlines=[10,13];xc._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var $lt={texture:!0,children:!1,baseTexture:!0},Y$=function(t){Dlt(e,t);function e(r,n,i){var s=this,o=!1;i||(i=Nr.ADAPTER.createCanvas(),o=!0),i.width=3,i.height=3;var a=An.from(i);return a.orig=new ui,a.trim=new ui,s=t.call(this,a)||this,s._ownCanvas=o,s.canvas=i,s.context=i.getContext("2d",{willReadFrequently:!0}),s._resolution=Nr.RESOLUTION,s._autoResolution=!0,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=r,s.style=n,s.localStyleID=-1,s}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,s=xc.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,a=s.height,l=s.lines,u=s.lineHeight,d=s.lineWidths,f=s.maxLineWidth,h=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var g,p,v=n.dropShadow?2:1,b=0;b<v;++b){var S=n.dropShadow&&b===0,T=S?Math.ceil(Math.max(1,a)+n.padding*2):0,E=T*this._resolution;if(S){i.fillStyle="black",i.strokeStyle="black";var C=n.dropShadowColor,P=J0(typeof C=="number"?C:f$(C)),D=n.dropShadowBlur*this._resolution,L=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+P[0]*255+","+P[1]*255+","+P[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=D,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*L,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*L+E}else i.fillStyle=this._generateFillStyle(n,l,s),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var j=(u-h.fontSize)/2;(!e.nextLineHeightBehavior||u-h.fontSize<0)&&(j=0);for(var te=0;te<l.length;te++)g=n.strokeThickness/2,p=n.strokeThickness/2+te*u+h.ascent+j,n.align==="right"?g+=f-d[te]:n.align==="center"&&(g+=(f-d[te])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(l[te],g+n.padding,p+n.padding-T,!0),n.fill&&this.drawLetterSpacing(l[te],g+n.padding,p+n.padding-T)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,s){s===void 0&&(s=!1);var o=this._style,a=o.letterSpacing,l=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(a===0||l){l&&(this.context.letterSpacing=a,this.context.textLetterSpacing=a),s?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var u=n,d=Array.from?Array.from(r):r.split(""),f=this.context.measureText(r).width,h=0,g=0;g<d.length;++g){var p=d[g];s?this.context.strokeText(p,u,i):this.context.fillText(p,u,i);for(var v="",b=g+1;b<d.length;++b)v+=d[b];h=this.context.measureText(v).width,u+=f-h+a,f=h}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=Fie(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,s=this._style,o=s.trim?0:s.padding,a=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),a.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var s=r.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;var o,a=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=this.canvas.width/this._resolution-a-l*2,d=this.canvas.height/this._resolution-a-l*2,f=s.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var g=f.length+1,p=1;p<g;++p)h.push(p/g);if(f.unshift(s[0]),h.unshift(0),f.push(s[s.length-1]),h.push(1),r.fillGradientType===Tv.LINEAR_VERTICAL){o=this.context.createLinearGradient(u/2,l,u/2,d+l);for(var v=i.fontProperties.fontSize+r.strokeThickness,p=0;p<n.length;p++){var b=i.lineHeight*(p-1)+v,S=i.lineHeight*p,T=S;p>0&&b>S&&(T=(S+b)/2);var E=S+v,C=i.lineHeight*(p+1),P=E;p+1<n.length&&C<E&&(P=(E+C)/2);for(var D=(P-T)/d,L=0;L<f.length;L++){var j=0;typeof h[L]=="number"?j=h[L]:j=L/f.length;var te=Math.min(1,Math.max(0,T/d+j*D));te=Number(te.toFixed(5)),o.addColorStop(te,f[L])}}}else{o=this.context.createLinearGradient(l,d/2,u+l,d/2);for(var se=f.length+1,q=1,p=0;p<f.length;p++){var X=void 0;typeof h[p]=="number"?X=h[p]:X=q/se,o.addColorStop(X,f[p]),q++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},$lt,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=v0(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=v0(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof tm?this._style=r:this._style=new tm(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(c_);/*!
 * @pixi/prepare - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Nr.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xD=function(t,e){return xD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},xD(t,e)};function Llt(t,e){xD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Kse=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function Flt(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof An){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function Nlt(t,e){if(t.baseTexture instanceof li){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Blt(t,e){if(t._texture&&t._texture instanceof An){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Ult(t,e){return e instanceof Y$?(e.updateText(!0),!0):!1}function Vlt(t,e){if(e instanceof tm){var r=e.toFontString();return xc.measureFont(r),!0}return!1}function zlt(t,e){if(t instanceof Y$){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function jlt(t,e){return t instanceof tm?(e.indexOf(t)===-1&&e.push(t),!0):!1}var Zse=function(){function t(e){var r=this;this.limiter=new Kse(Nr.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(zlt),this.registerFindHook(jlt),this.registerFindHook(Flt),this.registerFindHook(Nlt),this.registerFindHook(Blt),this.registerUploadHook(Ult),this.registerUploadHook(Vlt)}return t.prototype.upload=function(e,r){var n=this;return typeof e=="function"&&(r=e,e=null),r&&Ca("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){e&&n.add(e);var s=function(){r==null||r(),i()};n.queue.length?(n.completes.push(s),n.ticking||(n.ticking=!0,bo.system.addOnce(n.tick,n,pd.UTILITY))):s()})},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)bo.system.addOnce(this.tick,this,pd.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var n=0,i=s.length;n<i;n++)s[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof Eu)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&bo.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Qse(t,e){return e instanceof li?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Hlt(t,e){if(!(e instanceof Rb))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var s=n[i].style.texture;s&&Qse(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Glt(t,e){return t instanceof Rb?(e.push(t),!0):!1}var Jse=function(t){Llt(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(Glt),n.registerUploadHook(Qse),n.registerUploadHook(Hlt),n}return e.extension={name:"prepare",type:Ri.RendererPlugin},e}(Zse),Wlt=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var eoe=function(){function t(e,r,n){n===void 0&&(n=null),this.linkedSheets=[],this._texture=e instanceof An?e:null,this.baseTexture=e instanceof li?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=Ab(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){var r=this;return e&&Ca("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(n){r._callback=function(i){e==null||e(i),n(i)},r._batchIndex=0,r._frameKeys.length<=t.BATCH_SIZE?(r._processFrames(0),r._processAnimations(),r._parseComplete()):r._nextBatch()})},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){var a=null,l=null,u=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,d=new ui(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s.rotated?a=new ui(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new ui(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(l=new ui(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new An(this.baseTexture,a,d,l,s.rotated?2:0,s.anchor),An.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},t.BATCH_SIZE=1e3,t}(),toe=function(){function t(){}return t.use=function(e,r){var n,i,s=this,o=e.name+"_image";if(!e.data||e.type!==xs.TYPE.JSON||!e.data.frames||s.resources[o]){r();return}var a=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(a))for(var l=function(p){if(typeof p!="string")return"continue";var v=p.replace(".json",""),b=Kc.resolve(e.url.replace(s.baseUrl,""),p);if(s.resources[v]||Object.values(s.resources).some(function(T){return Kc.format(Kc.parse(T.url))===b}))return"continue";var S={crossOrigin:e.crossOrigin,loadType:xs.LOAD_TYPE.XHR,xhrType:xs.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};s.add(v,b,S)},u=0,d=a;u<d.length;u++){var f=d[u];l(f)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},g=t.getResourcePath(e,s.baseUrl);s.add(o,g,h,function(v){if(v.error){r(v.error);return}var b=new eoe(v.texture,e.data,e.url);b.parse().then(function(){e.spritesheet=b,e.textures=b.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:Kc.resolve(e.url.replace(r,""),e.data.meta.image)},t.extension=Ri.Loader,t}();/*!
 * @pixi/sprite-tiling - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wD=function(t,e){return wD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},wD(t,e)};function roe(t,e){wD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var uy=new Vi,qlt=function(t){roe(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var s=t.call(this,r)||this;return s.tileTransform=new FC,s._width=n,s._height=i,s.uvMatrix=s.texture.uvMatrix||new VC(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,s)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new ui),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,uy);var n=this._width,i=this._height,s=-n*this.anchor._x;if(uy.x>=s&&uy.x<s+n){var o=-i*this.anchor._y;if(uy.y>=o&&uy.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof An?r:An.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(c_),Xlt=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,xH=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Ylt=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Klt=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Zlt=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,sw=new hs,noe=function(t){roe(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new C$,n.state=lp.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=pf.from(xH,Xlt,n),this.shader=r.context.webGLVersion>1?pf.from(Klt,Zlt,n):pf.from(xH,Ylt,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,s=i.vertices;s[0]=s[6]=r._width*-r.anchor.x,s[1]=s[3]=r._height*-r.anchor.y,s[2]=s[4]=r._width*(1-r.anchor.x),s[5]=s[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,a=r.uvRespectAnchor?r.anchor.y:0;s=i.uvs,s[0]=s[6]=-o,s[1]=s[3]=-a,s[2]=s[4]=1-o,s[5]=s[7]=1-a,i.invalidate();var l=r._texture,u=l.baseTexture,d=u.alphaMode>0,f=r.tileTransform.localTransform,h=r.uvMatrix,g=u.isPowerOfTwo&&l.frame.width===u.width&&l.frame.height===u.height;g&&(u._glTextures[n.CONTEXT_UID]?g=u.wrapMode!==ec.CLAMP:u.wrapMode===ec.CLAMP&&(u.wrapMode=ec.REPEAT));var p=g?this.simpleShader:this.shader,v=l.width,b=l.height,S=r._width,T=r._height;sw.set(f.a*v/S,f.b*v/T,f.c*b/S,f.d*b/T,f.tx/S,f.ty/T),sw.invert(),g?sw.prepend(h.mapCoord):(p.uniforms.uMapCoord=h.mapCoord.toArray(!0),p.uniforms.uClampFrame=h.uClampFrame,p.uniforms.uClampOffset=h.uClampOffset),p.uniforms.uTransform=sw.toArray(!0),p.uniforms.uColor=m$(r.tint,r.worldAlpha,p.uniforms.uColor,d),p.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),p.uniforms.uSampler=l,n.shader.bind(p),n.geometry.bind(i),this.state.blendMode=p$(r.blendMode,d),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:"tilingSprite",type:Ri.RendererPlugin},e}(w1);/*!
 * @pixi/mesh - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SD=function(t,e){return SD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},SD(t,e)};function K$(t,e){SD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ioe=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),bP=new Vi,wH=new _2,Ev=function(t){K$(e,t);function e(r,n,i,s){s===void 0&&(s=ru.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||lp.for2d(),o.drawMode=s,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=Nr.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===ru.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var s=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[s]),r.plugins[s].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,s=n._updateID;if(!(s===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,a=o.a,l=o.b,u=o.c,d=o.d,f=o.tx,h=o.ty,g=this.vertexData,p=0;p<g.length/2;p++){var v=i[p*2],b=i[p*2+1];g[p*2]=a*v+u*b+f,g[p*2+1]=l*v+d*b+h}if(this._roundPixels)for(var S=Nr.RESOLUTION,p=0;p<g.length;++p)g[p]=Math.round((g[p]*S|0)/S);this.vertexDirty=s}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new ioe(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,bP);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=wH.points,s=this.geometry.getIndex().data,o=s.length,a=this.drawMode===4?3:1,l=0;l+2<o;l+=a){var u=s[l]*2,d=s[l+1]*2,f=s[l+2]*2;if(i[0]=n[u],i[1]=n[u+1],i[2]=n[d],i[3]=n[d+1],i[4]=n[f],i[5]=n[f+1],wH.contains(bP.x,bP.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Eu),Qlt=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Jlt=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Cv=function(t){K$(e,t);function e(r,n){var i=this,s={uSampler:r,alpha:1,uTextureMatrix:hs.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(s,n.uniforms),i=t.call(this,n.program||u_.from(Jlt,Qlt),s)||this,i._colorDirty=!1,i.uvMatrix=new VC(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;m$(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(pf),S1=function(t){K$(e,t);function e(r,n,i){var s=t.call(this)||this,o=new Xs(r),a=new Xs(n,!0),l=new Xs(i,!0,!0);return s.addAttribute("aVertexPosition",o,2,!1,un.FLOAT).addAttribute("aTextureCoord",a,2,!1,un.FLOAT).addIndex(l),s._updateId=-1,s}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(l_);/*!
 * @pixi/text-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TD=function(t,e){return TD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},TD(t,e)};function eut(t,e){TD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $b=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),soe=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var s=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var l in o){var u=o[l].split("="),d=u[0],f=u[1].replace(/"/gm,""),h=parseFloat(f),g=isNaN(h)?f:h;a[d]=g}n[s].push(a)}var p=new $b;return n.info.forEach(function(v){return p.info.push({face:v.face,size:parseInt(v.size,10)})}),n.common.forEach(function(v){return p.common.push({lineHeight:parseInt(v.lineHeight,10)})}),n.page.forEach(function(v){return p.page.push({id:parseInt(v.id,10),file:v.file})}),n.char.forEach(function(v){return p.char.push({id:parseInt(v.id,10),page:parseInt(v.page,10),x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xoffset:parseInt(v.xoffset,10),yoffset:parseInt(v.yoffset,10),xadvance:parseInt(v.xadvance,10)})}),n.kerning.forEach(function(v){return p.kerning.push({first:parseInt(v.first,10),second:parseInt(v.second,10),amount:parseInt(v.amount,10)})}),n.distanceField.forEach(function(v){return p.distanceField.push({distanceRange:parseInt(v.distanceRange,10),fieldType:v.fieldType})}),p},t}(),YT=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new $b,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField"),u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(var u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(var u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(var u=0;u<o.length;u++){var d=o[u];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var u=0;u<a.length;u++)r.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(var u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r},t}(),ooe=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return YT.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return YT.parse(r)},t}(),xP=[soe,YT,ooe];function Z$(t){for(var e=0;e<xP.length;e++)if(xP[e].test(t))return xP[e];return null}function tut(t,e,r,n,i,s){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var a,l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,d=t.width/n-l-u*2,f=t.height/n-l-u*2,h=o.slice(),g=r.fillGradientStops.slice();if(!g.length)for(var p=h.length+1,v=1;v<p;++v)g.push(v/p);if(h.unshift(o[0]),g.unshift(0),h.push(o[o.length-1]),g.push(1),r.fillGradientType===Tv.LINEAR_VERTICAL){a=e.createLinearGradient(d/2,u,d/2,f+u);for(var b=0,S=s.fontProperties.fontSize+r.strokeThickness,T=S/f,v=0;v<i.length;v++)for(var E=s.lineHeight*v,C=0;C<h.length;C++){var P=0;typeof g[C]=="number"?P=g[C]:P=C/h.length;var D=E/f+P*T,L=Math.max(b,D);L=Math.min(L,1),a.addColorStop(L,h[C]),b=L}}else{a=e.createLinearGradient(u,f/2,d+u,f/2);for(var j=h.length+1,te=1,v=0;v<h.length;v++){var se=void 0;typeof g[v]=="number"?se=g[v]:se=te/j,a.addColorStop(se,h[v]),te++}}return a}function rut(t,e,r,n,i,s,o){var a=r.text,l=r.fontProperties;e.translate(n,i),e.scale(s,s);var u=o.strokeThickness/2,d=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=tut(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){var f=o.dropShadowColor,h=J0(typeof f=="number"?f:f$(f)),g=o.dropShadowBlur*s,p=o.dropShadowDistance*s;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=g,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,d+r.lineHeight-l.descent),o.fill&&e.fillText(a,u,d+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function aoe(t){return Array.from?Array.from(t):t.split("")}function nut(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(var a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,aoe(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function dS(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var Kd=function(){function t(e,r,n){var i,s,o=e.info[0],a=e.common[0],l=e.page[0],u=e.distanceField[0],d=Ab(l.file),f={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=a.lineHeight/d,this.chars={},this.pageTextures=f;for(var h=0;h<e.page.length;h++){var g=e.page[h],p=g.id,v=g.file;f[p]=r instanceof Array?r[h]:r[v],u!=null&&u.fieldType&&u.fieldType!=="none"&&(f[p].baseTexture.alphaMode=Tu.NO_PREMULTIPLIED_ALPHA,f[p].baseTexture.mipmap=Su.OFF)}for(var h=0;h<e.char.length;h++){var b=e.char[h],p=b.id,S=b.page,T=e.char[h],E=T.x,C=T.y,P=T.width,D=T.height,L=T.xoffset,j=T.yoffset,te=T.xadvance;E/=d,C/=d,P/=d,D/=d,L/=d,j/=d,te/=d;var se=new ui(E+f[S].frame.x/d,C+f[S].frame.y/d,P,D);this.chars[p]={xOffset:L,yOffset:j,xAdvance:te,kerning:{},texture:new An(f[S].baseTexture,se),page:S}}for(var h=0;h<e.kerning.length;h++){var q=e.kerning[h],X=q.first,Q=q.second,$=q.amount;X/=d,Q/=d,$/=d,this.chars[Q]&&(this.chars[Q].kerning[X]=$)}this.distanceFieldRange=u==null?void 0:u.distanceRange,this.distanceFieldType=(s=(i=u==null?void 0:u.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&s!==void 0?s:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof $b)i=e;else{var s=Z$(e);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(e)}r instanceof An&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),s=i.chars,o=i.padding,a=i.resolution,l=i.textureWidth,u=i.textureHeight,d=nut(s),f=r instanceof tm?r:new tm(r),h=l,g=new $b;g.info[0]={face:f.fontFamily,size:f.fontSize},g.common[0]={lineHeight:f.fontSize};for(var p=0,v=0,b,S,T,E=0,C=[],P=0;P<d.length;P++){b||(b=Nr.ADAPTER.createCanvas(),b.width=l,b.height=u,S=b.getContext("2d"),T=new li(b,{resolution:a}),C.push(new An(T)),g.page.push({id:C.length-1,file:""}));var D=d[P],L=xc.measureText(D,f,!1,b),j=L.width,te=Math.ceil(L.height),se=Math.ceil((f.fontStyle==="italic"?2:1)*j);if(v>=u-te*a){if(v===0)throw new Error("[BitmapFont] textureHeight "+u+"px is too small "+("(fontFamily: '"+f.fontFamily+"', fontSize: "+f.fontSize+"px, char: '"+D+"')"));--P,b=null,S=null,T=null,v=0,p=0,E=0;continue}if(E=Math.max(te+L.fontProperties.descent,E),se*a+p>=h){if(p===0)throw new Error("[BitmapFont] textureWidth "+l+"px is too small "+("(fontFamily: '"+f.fontFamily+"', fontSize: "+f.fontSize+"px, char: '"+D+"')"));--P,v+=E*a,v=Math.ceil(v),p=0,E=0;continue}rut(b,S,L,p,v,a,f);var q=dS(L.text);g.char.push({id:q,page:C.length-1,x:p/a,y:v/a,width:se,height:te,xoffset:0,yoffset:0,xadvance:Math.ceil(j-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),p+=(se+2*o)*a,p=Math.ceil(p)}for(var P=0,X=d.length;P<X;P++)for(var Q=d[P],$=0;$<X;$++){var V=d[$],Y=S.measureText(Q).width,ee=S.measureText(V).width,ae=S.measureText(Q+V).width,H=ae-(Y+ee);H&&g.kerning.push({first:dS(Q),second:dS(V),amount:H})}var J=new t(g,C,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=J,J},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),iut=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,sut=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,SH=[],TH=[],EH=[],out=function(t){eut(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var s=Object.assign({},e.styleDefaults,n),o=s.align,a=s.tint,l=s.maxWidth,u=s.letterSpacing,d=s.fontName,f=s.fontSize;if(!Kd.available[d])throw new Error('Missing BitmapFont "'+d+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=a,i._font=void 0,i._fontName=d,i._fontSize=f,i.text=r,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=u,i._anchor=new Ch(function(){i.dirty=!0},i,0,0),i._roundPixels=Nr.ROUND_PIXELS,i.dirty=!0,i._resolution=Nr.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=Kd.available[this._fontName],i=this.fontSize,s=i/n.size,o=new Vi,a=[],l=[],u=[],d=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",f=aoe(d),h=this._maxWidth*n.size/i,g=n.distanceFieldType==="none"?SH:TH,p=null,v=0,b=0,S=0,T=-1,E=0,C=0,P=0,D=0,L=0;L<f.length;L++){var j=f[L],te=dS(j);if(/(?:\s)/.test(j)&&(T=L,E=v,D++),j==="\r"||j===`
`){l.push(v),u.push(-1),b=Math.max(b,v),++S,++C,o.x=0,o.y+=n.lineHeight,p=null,D=0;continue}var se=n.chars[te];if(se){p&&se.kerning[p]&&(o.x+=se.kerning[p]);var q=EH.pop()||{texture:An.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Vi};q.texture=se.texture,q.line=S,q.charCode=te,q.position.x=o.x+se.xOffset+this._letterSpacing/2,q.position.y=o.y+se.yOffset,q.prevSpaces=D,a.push(q),v=q.position.x+Math.max(se.xAdvance-se.xOffset,se.texture.orig.width),o.x+=se.xAdvance+this._letterSpacing,P=Math.max(P,se.yOffset+se.texture.height),p=te,T!==-1&&h>0&&o.x>h&&(++C,M0(a,1+T-C,1+L-T),L=T,T=-1,l.push(E),u.push(a.length>0?a[a.length-1].prevSpaces:0),b=Math.max(b,E),S++,o.x=0,o.y+=n.lineHeight,p=null,D=0)}}var X=f[f.length-1];X!=="\r"&&X!==`
`&&(/(?:\s)/.test(X)&&(v=E),l.push(v),b=Math.max(b,v),u.push(-1));for(var Q=[],L=0;L<=S;L++){var $=0;this._align==="right"?$=b-l[L]:this._align==="center"?$=(b-l[L])/2:this._align==="justify"&&($=u[L]<0?0:(b-l[L])/u[L]),Q.push($)}var V=a.length,Y={},ee=[],ae=this._activePagesMeshData;g.push.apply(g,ae);for(var L=0;L<V;L++){var H=a[L].texture,J=H.baseTexture.uid;if(!Y[J]){var ie=g.pop();if(!ie){var xe=new S1,qe=void 0,et=void 0;n.distanceFieldType==="none"?(qe=new Cv(An.EMPTY),et=fn.NORMAL):(qe=new Cv(An.EMPTY,{program:u_.from(sut,iut),uniforms:{uFWidth:0}}),et=fn.NORMAL_NPM);var Je=new Ev(xe,qe);Je.blendMode=et,ie={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Je,vertices:null,uvs:null,indices:null}}ie.index=0,ie.indexCount=0,ie.vertexCount=0,ie.uvsCount=0,ie.total=0;var lt=this._textureCache;lt[J]=lt[J]||new An(H.baseTexture),ie.mesh.texture=lt[J],ie.mesh.tint=this._tint,ee.push(ie),Y[J]=ie}Y[J].total++}for(var L=0;L<ae.length;L++)ee.indexOf(ae[L])===-1&&this.removeChild(ae[L].mesh);for(var L=0;L<ee.length;L++)ee[L].mesh.parent!==this&&this.addChild(ee[L].mesh);this._activePagesMeshData=ee;for(var L in Y){var ie=Y[L],Re=ie.total;if(!(((r=ie.indices)===null||r===void 0?void 0:r.length)>6*Re)||ie.vertices.length<Ev.BATCHABLE_SIZE*2)ie.vertices=new Float32Array(4*2*Re),ie.uvs=new Float32Array(4*2*Re),ie.indices=new Uint16Array(6*Re);else for(var wt=ie.total,vt=ie.vertices,pt=wt*4*2;pt<vt.length;pt++)vt[pt]=0;ie.mesh.size=6*Re}for(var L=0;L<V;L++){var j=a[L],Ut=j.position.x+Q[j.line]*(this._align==="justify"?j.prevSpaces:1);this._roundPixels&&(Ut=Math.round(Ut));var yt=Ut*s,le=j.position.y*s,H=j.texture,Oe=Y[H.baseTexture.uid],nt=H.frame,Ke=H._uvs,ct=Oe.index++;Oe.indices[ct*6+0]=0+ct*4,Oe.indices[ct*6+1]=1+ct*4,Oe.indices[ct*6+2]=2+ct*4,Oe.indices[ct*6+3]=0+ct*4,Oe.indices[ct*6+4]=2+ct*4,Oe.indices[ct*6+5]=3+ct*4,Oe.vertices[ct*8+0]=yt,Oe.vertices[ct*8+1]=le,Oe.vertices[ct*8+2]=yt+nt.width*s,Oe.vertices[ct*8+3]=le,Oe.vertices[ct*8+4]=yt+nt.width*s,Oe.vertices[ct*8+5]=le+nt.height*s,Oe.vertices[ct*8+6]=yt,Oe.vertices[ct*8+7]=le+nt.height*s,Oe.uvs[ct*8+0]=Ke.x0,Oe.uvs[ct*8+1]=Ke.y0,Oe.uvs[ct*8+2]=Ke.x1,Oe.uvs[ct*8+3]=Ke.y1,Oe.uvs[ct*8+4]=Ke.x2,Oe.uvs[ct*8+5]=Ke.y2,Oe.uvs[ct*8+6]=Ke.x3,Oe.uvs[ct*8+7]=Ke.y3}this._textWidth=b*s,this._textHeight=(o.y+n.lineHeight)*s;for(var L in Y){var ie=Y[L];if(this.anchor.x!==0||this.anchor.y!==0)for(var Ot=0,Dt=this._textWidth*this.anchor.x,_t=this._textHeight*this.anchor.y,Mt=0;Mt<ie.total;Mt++)ie.vertices[Ot++]-=Dt,ie.vertices[Ot++]-=_t,ie.vertices[Ot++]-=Dt,ie.vertices[Ot++]-=_t,ie.vertices[Ot++]-=Dt,ie.vertices[Ot++]-=_t,ie.vertices[Ot++]-=Dt,ie.vertices[Ot++]-=_t;this._maxLineHeight=P*s;var Rt=ie.mesh.geometry.getBuffer("aVertexPosition"),tt=ie.mesh.geometry.getBuffer("aTextureCoord"),Zt=ie.mesh.geometry.getIndex();Rt.data=ie.vertices,tt.data=ie.uvs,Zt.data=ie.indices,Rt.update(),tt.update(),Zt.update()}for(var L=0;L<a.length;L++)EH.push(a[L]);this._font=n,this.dirty=!1},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=Kd.available[this._fontName],i=n.distanceFieldRange,s=n.distanceFieldType,o=n.size;if(s!=="none")for(var a=this.worldTransform,l=a.a,u=a.b,d=a.c,f=a.d,h=Math.sqrt(l*l+u*u),g=Math.sqrt(d*d+f*f),p=(Math.abs(h)+Math.abs(g))/2,v=this.fontSize/o,b=0,S=this._activePagesMeshData;b<S.length;b++){var T=S[b];T.mesh.shader.uniforms.uFWidth=p*i*v*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){var r=Kd.available[this._fontName];if(!r)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==r&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!Kd.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){var r;return(r=this._fontSize)!==null&&r!==void 0?r:Kd.available[this._fontName].size},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache,i=Kd.available[this._fontName],s=i.distanceFieldType==="none"?SH:TH;s.push.apply(s,this._activePagesMeshData);for(var o=0,a=this._activePagesMeshData;o<a.length;o++){var l=a[o];this.removeChild(l.mesh)}this._activePagesMeshData=[],s.filter(function(f){return n[f.mesh.texture.baseTexture.uid]}).forEach(function(f){f.mesh.texture=An.EMPTY});for(var u in n){var d=n[u];d.destroy(),delete n[u]}this._font=null,this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Eu),loe=function(){function t(){}return t.add=function(){xs.setExtensionXhrType("fnt",xs.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=Z$(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),s=n.parse(e.data),o={},a=function(v){o[v.metadata.pageFile]=v.texture,Object.keys(o).length===s.page.length&&(e.bitmapFont=Kd.install(s,o,!0),r())},l=0;l<s.page.length;++l){var u=s.page[l].file,d=i+u,f=!1;for(var h in this.resources){var g=this.resources[h];if(g.url===d){g.metadata.pageFile=u,g.texture?a(g):g.onAfterMiddleware.add(a),f=!0;break}}if(!f){var p={crossOrigin:e.crossOrigin,loadType:xs.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(d,p,a)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t.extension=Ri.Loader,t}();/*!
 * @pixi/filter-alpha - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ED=function(t,e){return ED=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ED(t,e)};function aut(t,e){ED(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var lut=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,uut=function(t){aut(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,gse,lut,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(Nf);/*!
 * @pixi/filter-blur - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var CD=function(t,e){return CD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},CD(t,e)};function uoe(t,e){CD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cut=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function dut(t,e){var r=Math.ceil(t/2),n=cut,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",o-(r-1)+".0"),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var fut={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},hut=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function put(t){for(var e=fut[t],r=e.length,n=hut,i="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,a=0;a<t;a++){var l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var AD=function(t){uoe(e,t);function e(r,n,i,s,o){n===void 0&&(n=8),i===void 0&&(i=4),s===void 0&&(s=Nr.FILTER_RESOLUTION),o===void 0&&(o=5);var a=this,l=dut(o,r),u=put(o);return a=t.call(this,l,u)||this,a.horizontal=r,a.resolution=s,a._quality=0,a.quality=i,a.blur=n,a}return e.prototype.apply=function(r,n,i,s){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,s);else{var o=r.getFilterTexture(),a=r.renderer,l=n,u=o;this.state.blend=!1,r.applyFilter(this,l,u,ql.CLEAR);for(var d=1;d<this.passes-1;d++){r.bindAndClear(l,ql.BLIT),this.uniforms.uSampler=u;var f=u;u=l,l=f,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,u,i,s),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(Nf),mut=function(t){uoe(e,t);function e(r,n,i,s){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=Nr.FILTER_RESOLUTION),s===void 0&&(s=5);var o=t.call(this)||this;return o.blurXFilter=new AD(!0,r,n,i,s),o.blurYFilter=new AD(!1,r,n,i,s),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,s){var o=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(o&&a){var l=r.getFilterTexture();this.blurXFilter.apply(r,n,l,ql.CLEAR),this.blurYFilter.apply(r,l,i,s),r.returnFilterTexture(l)}else a?this.blurYFilter.apply(r,n,i,s):this.blurXFilter.apply(r,n,i,s)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e}(Nf);/*!
 * @pixi/filter-color-matrix - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var PD=function(t,e){return PD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},PD(t,e)};function gut(t,e){PD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vut=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,kD=function(t){gut(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,z$,vut,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,s=r>>8&255,o=r&255,a=[i/255,0,0,0,0,0,s/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),s=Math.sin(r),o=Math.sqrt,a=1/3,l=o(a),u=i+(1-i)*a,d=a*(1-i)-l*s,f=a*(1-i)+l*s,h=a*(1-i)+l*s,g=i+a*(1-i),p=a*(1-i)-l*s,v=a*(1-i)-l*s,b=a*(1-i)+l*s,S=i+a*(1-i),T=[u,d,f,0,0,h,g,p,0,0,v,b,S,0,0,0,0,0,1,0];this._loadMatrix(T,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,s=-.5*(i-1),o=[i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,s=(i-1)*-.5,o=[i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,s,o){r=r||.2,n=n||.15,i=i||16770432,s=s||3375104;var a=(i>>16&255)/255,l=(i>>8&255)/255,u=(i&255)/255,d=(s>>16&255)/255,f=(s>>8&255)/255,h=(s&255)/255,g=[.3,.59,.11,0,0,a,l,u,r,0,d,f,h,n,0,a-d,l-f,u-h,0,0];this._loadMatrix(g,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(Nf);kD.prototype.grayscale=kD.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ID=function(t,e){return ID=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ID(t,e)};function _ut(t,e){ID(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var yut=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,but=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,xut=function(t){_ut(e,t);function e(r,n){var i=this,s=new hs;return r.renderable=!1,i=t.call(this,but,yut,{mapSampler:r._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=s,n==null&&(n=20),i.scale=new Vi(n,n),i}return e.prototype.apply=function(r,n,i,s){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,a=Math.sqrt(o.a*o.a+o.b*o.b),l=Math.sqrt(o.c*o.c+o.d*o.d);a!==0&&l!==0&&(this.uniforms.rotation[0]=o.a/a,this.uniforms.rotation[1]=o.b/a,this.uniforms.rotation[2]=o.c/l,this.uniforms.rotation[3]=o.d/l),r.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e}(Nf);/*!
 * @pixi/filter-fxaa - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var OD=function(t,e){return OD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},OD(t,e)};function wut(t,e){OD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Sut=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,Tut=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,Eut=function(t){wut(e,t);function e(){return t.call(this,Sut,Tut)||this}return e}(Nf);/*!
 * @pixi/filter-noise - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var DD=function(t,e){return DD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},DD(t,e)};function Cut(t,e){DD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Aut=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,Put=function(t){Cut(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,z$,Aut,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e}(Nf);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var coe=new hs;Os.prototype._cacheAsBitmap=!1;Os.prototype._cacheData=null;Os.prototype._cacheAsBitmapResolution=null;Os.prototype._cacheAsBitmapMultisample=is.NONE;var kut=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(Os.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new kut),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});Os.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Os.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var s=this.filters[0].padding;i.pad(s)}i.ceil(Nr.RESOLUTION);var o=e.renderTexture.current,a=e.renderTexture.sourceFrame.clone(),l=e.renderTexture.destinationFrame.clone(),u=e.projection.transform,d=Xh.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),f="cacheAsBitmap_"+qh();this._cacheData.textureCacheId=f,li.addToCache(d.baseTexture,f),An.addToCache(d,f);var h=this.transform.localTransform.copyTo(coe).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:d,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=u,e.renderTexture.bind(o,a,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var g=new c_(d);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(i.x/i.width),g.anchor.y=-(i.y/i.height),g.alpha=n,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=g.containsPoint.bind(g)}};Os.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Os.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,s=e._projTransform;r.ceil(Nr.RESOLUTION);var o=Xh.create({width:r.width,height:r.height}),a="cacheAsBitmap_"+qh();this._cacheData.textureCacheId=a,li.addToCache(o.baseTexture,a),An.addToCache(o,a);var l=coe;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=r.x,l.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.context=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var u=new c_(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(r.x/r.width),u.anchor.y=-(r.y/r.height),u.alpha=n,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}};Os.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Os.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Os.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,li.removeFromCache(this._cacheData.textureCacheId),An.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Os.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Os.prototype.name=null;Eu.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var s=this.children[n];if(s.getChildByName){var o=s.getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Os.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new Vi),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/app - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var doe=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var s=r._resizeTo,o=s.clientWidth,a=s.clientHeight;n=o,i=a}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=Ri.Application,t}(),Q$=function(){function t(e){var r=this;this.stage=new Eu,e=Object.assign({forceCanvas:!1},e),this.renderer=mse(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){Ca("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),Pd.add({type:Ri.Application,ref:e})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(s){s.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}();Pd.handleByList(Ri.Application,Q$._plugins);Pd.add(doe);/*!
 * @pixi/mesh-extras - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var MD=function(t,e){return MD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},MD(t,e)};function d_(t,e){MD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var foe=function(t){d_(e,t);function e(r,n,i,s){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),s===void 0&&(s=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=s,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],s=[],o=this.segWidth-1,a=this.segHeight-1,l=this.width/o,u=this.height/a,d=0;d<r;d++){var f=d%this.segWidth,h=d/this.segWidth|0;n.push(f*l,h*u),i.push(f/o,h/a)}for(var g=o*a,d=0;d<g;d++){var p=d%o,v=d/o|0,b=v*this.segWidth+p,S=v*this.segWidth+p+1,T=(v+1)*this.segWidth+p,E=(v+1)*this.segWidth+p+1;s.push(b,S,T,S,E,T)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(S1),hoe=function(t){d_(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var s=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return s.points=n,s._width=r,s.textureScale=i,s.build(),s}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),s=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),s.data=new Uint16Array((r.length-1)*6));var o=i.data,a=s.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var l=0,u=r[0],d=this._width*this.textureScale,f=r.length,h=0;h<f;h++){var g=h*4;if(this.textureScale>0){var p=u.x-r[h].x,v=u.y-r[h].y,b=Math.sqrt(p*p+v*v);u=r[h],l+=b/d}else l=h/(f-1);o[g]=l,o[g+1]=0,o[g+2]=l,o[g+3]=1}for(var S=0,h=0;h<f-1;h++){var g=h*2;a[S++]=g,a[S++]=g+1,a[S++]=g+2,a[S++]=g+2,a[S++]=g+1,a[S++]=g+3}i.update(),s.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,s=0,o=0,a=this.buffers[0].data,l=r.length,u=0;u<l;u++){var d=r[u],f=u*4;u<r.length-1?i=r[u+1]:i=d,o=-(i.x-n.x),s=i.y-n.y;var h=Math.sqrt(s*s+o*o),g=this.textureScale>0?this.textureScale*this._width/2:this._width/2;s/=h,o/=h,s*=g,o*=g,a[f]=d.x+s,a[f+1]=d.y+o,a[f+2]=d.x-s,a[f+3]=d.y-o,n=d}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(S1),Iut=function(t){d_(e,t);function e(r,n,i){i===void 0&&(i=0);var s=this,o=new hoe(r.height,n,i),a=new Cv(r);return i>0&&(r.baseTexture.wrapMode=ec.REPEAT),s=t.call(this,o,a)||this,s.autoUpdate=!0,s}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(Ev),poe=function(t){d_(e,t);function e(r,n,i){var s=this,o=new foe(r.width,r.height,n,i),a=new Cv(An.WHITE);return s=t.call(this,o,a)||this,s.texture=r,s.autoResize=!0,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,s=n.height;this.autoResize&&(r.width!==i||r.height!==s)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(Ev),Out=function(t){d_(e,t);function e(r,n,i,s,o){r===void 0&&(r=An.EMPTY);var a=this,l=new S1(n,i,s);l.getBuffer("aVertexPosition").static=!1;var u=new Cv(r);return a=t.call(this,l,u,null,o)||this,a.autoUpdate=!0,a}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(Ev),ow=10,Dut=function(t){d_(e,t);function e(r,n,i,s,o){n===void 0&&(n=ow),i===void 0&&(i=ow),s===void 0&&(s=ow),o===void 0&&(o=ow);var a=t.call(this,An.WHITE,4,4)||this;return a._origWidth=r.orig.width,a._origHeight=r.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=n,a._rightWidth=s,a._topHeight=i,a._bottomHeight=o,a.texture=r,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,s=this._height>i?1:this._height/i,o=Math.min(n,s);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,s=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=s*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(poe);/*!
 * @pixi/sprite-animated - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var RD=function(t,e){return RD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},RD(t,e)};function Mut(t,e){RD(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Rut=function(t){Mut(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof An?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(bo.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(bo.shared.add(this.update,this,pd.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=n/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(An.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(An.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof An)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(bo.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(bo.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(c_);/*!
 * pixi.js - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Pd.add(Sse,Ase,Cse,zse,Jse,H$,noe,loe,Mse,Bse,Use,toe,Wie,kse);var $ut={AlphaFilter:uut,BlurFilter:mut,BlurFilterPass:AD,ColorMatrixFilter:kD,DisplacementFilter:xut,FXAAFilter:Eut,NoiseFilter:Put};const Lut=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return Tu},AbstractBatchRenderer:vse,AbstractMultiResource:BC,AbstractRenderer:pse,AccessibilityManager:Sse,AnimatedSprite:Rut,AppLoaderPlugin:kse,Application:Q$,ArrayResource:_$,Attribute:oD,get BLEND_MODES(){return fn},get BUFFER_BITS(){return bb},get BUFFER_TYPE(){return tc},BaseImageResource:md,BasePrepare:Zse,BaseRenderTexture:T$,BaseTexture:li,BatchDrawCall:GT,BatchGeometry:j$,BatchPluginFactory:yse,BatchRenderer:H$,BatchShaderGenerator:_se,BatchSystem:P$,BatchTextureArray:WT,BitmapFont:Kd,BitmapFontData:$b,BitmapFontLoader:loe,BitmapText:out,BlobResource:Dse,Bounds:kb,BrowserAdapter:aie,Buffer:Xs,BufferResource:vm,get CLEAR_MODES(){return ql},get COLOR_MASK_BITS(){return FO},CanvasResource:y$,Circle:zie,CompressedTextureLoader:Mse,CompressedTextureResource:XT,Container:Eu,ContextSystem:k$,CountLimiter:Kse,CubeResource:b$,DDSLoader:Bse,DEG_TO_RAD:Vie,get DRAW_MODES(){return ru},DisplayObject:Os,get ENV(){return hd},Ellipse:jie,get ExtensionType(){return Ri},Extract:Ase,get FORMATS(){return Sr},FORMATS_TO_COMPONENTS:Lse,FillStyle:W$,Filter:Nf,FilterState:Kie,FilterSystem:A$,Framebuffer:HT,FramebufferSystem:I$,get GC_MODES(){return wb},GLFramebuffer:Zie,GLProgram:dse,GLTexture:lS,GRAPHICS_CURVES:Sv,Geometry:l_,GeometrySystem:O$,Graphics:Rb,GraphicsData:_D,GraphicsGeometry:Xse,IGLUniformData:pat,INSTALLED:Ib,get INTERNAL_FORMATS(){return Fn},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Db,ImageBitmapResource:S$,ImageResource:UC,InteractionData:aD,InteractionEvent:Tse,InteractionManager:Cse,InteractionTrackingData:uS,KTXLoader:Use,get LINE_CAP(){return sf},get LINE_JOIN(){return jc},LineStyle:Yse,Loader:Ob,get LoaderResource(){return xs},get MASK_TYPES(){return Ls},get MIPMAP_MODES(){return Su},get MSAA_QUALITY(){return is},MaskData:Qie,MaskSystem:D$,Matrix:hs,Mesh:Ev,MeshBatchUvs:ioe,MeshGeometry:S1,MeshMaterial:Cv,NineSlicePlane:Dut,ObjectRenderer:w1,ObservablePoint:Ch,PI_2:Pb,get PRECISION(){return Ka},ParticleContainer:Slt,ParticleRenderer:zse,PlaneGeometry:foe,Point:Vi,Polygon:_2,Prepare:Jse,Program:u_,ProjectionSystem:$$,Quad:Yie,QuadUv:C$,RAD_TO_DEG:Uie,get RENDERER_TYPE(){return yv},Rectangle:ui,RenderTexture:Xh,RenderTexturePool:Xie,RenderTextureSystem:L$,Renderer:V$,ResizePlugin:doe,Resource:em,RopeGeometry:hoe,RoundedRectangle:Hie,Runner:yo,get SAMPLER_TYPES(){return xb},get SCALE_MODES(){return Wu},get SHAPES(){return so},SVGResource:x$,ScissorSystem:M$,Shader:pf,ShaderSystem:F$,SimpleMesh:Out,SimplePlane:poe,SimpleRope:Iut,Sprite:c_,SpriteMaskFilter:sse,Spritesheet:eoe,SpritesheetLoader:toe,State:lp,StateSystem:N$,StencilSystem:R$,System:Iat,get TARGETS(){return Mh},get TEXT_GRADIENT(){return Tv},get TYPES(){return un},TYPES_TO_BYTES_PER_COMPONENT:fD,TYPES_TO_BYTES_PER_PIXEL:Fse,TemporaryDisplayObject:v$,Text:Y$,TextFormat:soe,TextMetrics:xc,TextStyle:tm,Texture:An,TextureGCSystem:B$,TextureLoader:Ise,TextureMatrix:VC,TextureSystem:U$,TextureUvs:E$,Ticker:bo,TickerPlugin:Wie,TilingSprite:qlt,TilingSpriteRenderer:noe,TimeLimiter:Wlt,Transform:FC,get UPDATE_PRIORITY(){return pd},UniformGroup:Rh,VERSION:Mat,VideoResource:w$,ViewableBuffer:qT,get WRAP_MODES(){return ec},XMLFormat:YT,XMLStringFormat:ooe,accessibleTarget:wse,autoDetectFormat:Z$,autoDetectRenderer:mse,autoDetectResource:NC,checkMaxIfStatementsInShader:ise,createUBOElements:lse,defaultFilterVertex:z$,defaultVertex:gse,extensions:Pd,filters:$ut,generateProgram:fse,generateUniformBufferSync:cse,getTestContext:tse,getUBOData:use,graphicsUtils:klt,groupD8:ds,interactiveTarget:Ese,isMobile:nu,parseDDS:$se,parseKTX:Nse,resources:bse,settings:Nr,systems:xse,uniformParsers:R0,utils:Fot},Symbol.toStringTag,{value:"Module"}));var Np=Math.pow,vs=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{a(r.next(l))}catch(u){i(u)}},o=l=>{try{a(r.throw(l))}catch(u){i(u)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((r=r.apply(t,e)).next())});const CH=2,AH=2;var Lb;(t=>{t.supportMoreMaskDivisions=!0,t.setOpacityFromMotion=!1})(Lb||(Lb={}));var No;(t=>{t.LOG_LEVEL_VERBOSE=0,t.LOG_LEVEL_WARNING=1,t.LOG_LEVEL_ERROR=2,t.LOG_LEVEL_NONE=999,t.logLevel=t.LOG_LEVEL_WARNING,t.sound=!0,t.motionSync=!0,t.motionFadingDuration=500,t.idleMotionFadingDuration=2e3,t.expressionFadingDuration=500,t.preserveExpressionOnMotion=!0,t.cubism4=Lb})(No||(No={}));const Ui={log(t,...e){No.logLevel<=No.LOG_LEVEL_VERBOSE&&console.log(`[${t}]`,...e)},warn(t,...e){No.logLevel<=No.LOG_LEVEL_WARNING&&console.warn(`[${t}]`,...e)},error(t,...e){No.logLevel<=No.LOG_LEVEL_ERROR&&console.error(`[${t}]`,...e)}};function KT(t,e,r){return t<e?e:t>r?r:t}function Fut(t,e){return Math.random()*(e-t)+t}function cy(t,e,r,n,i){const s=e[n];s!==null&&typeof s===t&&(r[i]=s)}function dy(t,e,r,n,i){const s=e[n];Array.isArray(s)&&(r[i]=s.filter(o=>o!==null&&typeof o===t))}function moe(t,e){e.forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n))})})}function Nut(t){let e=t.lastIndexOf("/");return e!=-1&&(t=t.slice(0,e)),e=t.lastIndexOf("/"),e!==-1&&(t=t.slice(e+1)),t}function But(t,e){const r=t.indexOf(e);r!==-1&&t.splice(r,1)}class J$ extends Ff{constructor(e,r){super(),this.expressions=[],this.reserveExpressionIndex=-1,this.destroyed=!1,this.settings=e,this.tag=`ExpressionManager(${e.name})`}init(){this.defaultExpression=this.createExpression({},void 0),this.currentExpression=this.defaultExpression,this.stopAllExpressions()}loadExpression(e){return vs(this,null,function*(){if(!this.definitions[e]){Ui.warn(this.tag,`Undefined expression at [${e}]`);return}if(this.expressions[e]===null){Ui.warn(this.tag,`Cannot set expression at [${e}] because it's already failed in loading.`);return}if(this.expressions[e])return this.expressions[e];const r=yield this._loadExpression(e);return this.expressions[e]=r,r})}_loadExpression(e){throw new Error("Not implemented.")}setRandomExpression(){return vs(this,null,function*(){if(this.definitions.length){const e=[];for(let r=0;r<this.definitions.length;r++)this.expressions[r]!==null&&this.expressions[r]!==this.currentExpression&&r!==this.reserveExpressionIndex&&e.push(r);if(e.length){const r=Math.floor(Math.random()*e.length);return this.setExpression(r)}}return!1})}resetExpression(){this._setExpression(this.defaultExpression)}restoreExpression(){this._setExpression(this.currentExpression)}setExpression(e){return vs(this,null,function*(){if(typeof e!="number"&&(e=this.getExpressionIndex(e)),!(e>-1&&e<this.definitions.length)||e===this.expressions.indexOf(this.currentExpression))return!1;this.reserveExpressionIndex=e;const r=yield this.loadExpression(e);return!r||this.reserveExpressionIndex!==e?!1:(this.reserveExpressionIndex=-1,this.currentExpression=r,this._setExpression(r),!0)})}update(e,r){return this.isFinished()?!1:this.updateParameters(e,r)}destroy(){this.destroyed=!0,this.emit("destroy");const e=this;e.definitions=void 0,e.expressions=void 0}}const PH=.01,Uut=40/7.5,Vut=1/(.15*1e3);class zut{constructor(){this.targetX=0,this.targetY=0,this.x=0,this.y=0,this.vx=0,this.vy=0}focus(e,r,n=!1){this.targetX=KT(e,-1,1),this.targetY=KT(r,-1,1),n&&(this.x=this.targetX,this.y=this.targetY)}update(e){const r=this.targetX-this.x,n=this.targetY-this.y;if(Math.abs(r)<PH&&Math.abs(n)<PH)return;const i=Math.sqrt(Np(r,2)+Np(n,2)),s=Uut/(1e3/e);let o=s*(r/i)-this.vx,a=s*(n/i)-this.vy;const l=Math.sqrt(Np(o,2)+Np(a,2)),u=s*Vut*e;l>u&&(o*=u/l,a*=u/l),this.vx+=o,this.vy+=a;const d=Math.sqrt(Np(this.vx,2)+Np(this.vy,2)),f=.5*(Math.sqrt(Np(u,2)+8*u*i)-u);d>f&&(this.vx*=f/d,this.vy*=f/d),this.x+=this.vx,this.y+=this.vy}}class zC{constructor(e){this.json=e;let r=e.url;if(typeof r!="string")throw new TypeError("The `url` field in settings JSON must be defined as a string.");this.url=r,this.name=Nut(this.url)}resolveURL(e){return Kc.resolve(this.url,e)}replaceFiles(e){this.moc=e(this.moc,"moc"),this.pose!==void 0&&(this.pose=e(this.pose,"pose")),this.physics!==void 0&&(this.physics=e(this.physics,"physics"));for(let r=0;r<this.textures.length;r++)this.textures[r]=e(this.textures[r],`textures[${r}]`)}getDefinedFiles(){const e=[];return this.replaceFiles(r=>(e.push(r),r)),e}validateFiles(e){const r=(s,o)=>{const a=this.resolveURL(s);if(!e.includes(a)){if(o)throw new Error(`File "${s}" is defined in settings, but doesn't exist in given files`);return!1}return!0};return[this.moc,...this.textures].forEach(s=>r(s,!0)),this.getDefinedFiles().filter(s=>r(s,!1))}}var $D=(t=>(t[t.NONE=0]="NONE",t[t.IDLE=1]="IDLE",t[t.NORMAL=2]="NORMAL",t[t.FORCE=3]="FORCE",t))($D||{});class jut{constructor(){this.debug=!1,this.currentPriority=0,this.reservePriority=0}reserve(e,r,n){if(n<=0)return Ui.log(this.tag,"Cannot start a motion with MotionPriority.NONE."),!1;if(e===this.currentGroup&&r===this.currentIndex)return Ui.log(this.tag,"Motion is already playing.",this.dump(e,r)),!1;if(e===this.reservedGroup&&r===this.reservedIndex||e===this.reservedIdleGroup&&r===this.reservedIdleIndex)return Ui.log(this.tag,"Motion is already reserved.",this.dump(e,r)),!1;if(n===1){if(this.currentPriority!==0)return Ui.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(e,r)),!1;if(this.reservedIdleGroup!==void 0)return Ui.log(this.tag,"Cannot start idle motion because another idle motion has reserved.",this.dump(e,r)),!1;this.setReservedIdle(e,r)}else{if(n<3){if(n<=this.currentPriority)return Ui.log(this.tag,"Cannot start motion because another motion is playing as an equivalent or higher priority.",this.dump(e,r)),!1;if(n<=this.reservePriority)return Ui.log(this.tag,"Cannot start motion because another motion has reserved as an equivalent or higher priority.",this.dump(e,r)),!1}this.setReserved(e,r,n)}return!0}start(e,r,n,i){if(i===1){if(this.setReservedIdle(void 0,void 0),this.currentPriority!==0)return Ui.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(r,n)),!1}else{if(r!==this.reservedGroup||n!==this.reservedIndex)return Ui.log(this.tag,"Cannot start motion because another motion has taken the place.",this.dump(r,n)),!1;this.setReserved(void 0,void 0,0)}return e?(this.setCurrent(r,n,i),!0):!1}complete(){this.setCurrent(void 0,void 0,0)}setCurrent(e,r,n){this.currentPriority=n,this.currentGroup=e,this.currentIndex=r}setReserved(e,r,n){this.reservePriority=n,this.reservedGroup=e,this.reservedIndex=r}setReservedIdle(e,r){this.reservedIdleGroup=e,this.reservedIdleIndex=r}isActive(e,r){return e===this.currentGroup&&r===this.currentIndex||e===this.reservedGroup&&r===this.reservedIndex||e===this.reservedIdleGroup&&r===this.reservedIdleIndex}reset(){this.setCurrent(void 0,void 0,0),this.setReserved(void 0,void 0,0),this.setReservedIdle(void 0,void 0)}shouldRequestIdleMotion(){return this.currentGroup===void 0&&this.reservedIdleGroup===void 0}shouldOverrideExpression(){return!No.preserveExpressionOnMotion&&this.currentPriority>1}dump(e,r){if(this.debug){const n=["currentPriority","reservePriority","currentGroup","currentIndex","reservedGroup","reservedIndex","reservedIdleGroup","reservedIdleIndex"];return`
<Requested> group = "${e}", index = ${r}
`+n.map(i=>"["+i+"] "+this[i]).join(`
`)}return""}}const Hut="SoundManager",Gut=.5;class s0{static get volume(){return this._volume}static set volume(e){this._volume=(e>1?1:e<0?0:e)||0,this.audios.forEach(r=>r.volume=this._volume)}static add(e,r,n){const i=new Audio(e);return i.volume=this._volume,i.preload="auto",i.addEventListener("ended",()=>{this.dispose(i),r==null||r()}),i.addEventListener("error",s=>{this.dispose(i),Ui.warn(Hut,`Error occurred on "${e}"`,s.error),n==null||n(s.error)}),this.audios.push(i),i}static play(e){return new Promise((r,n)=>{var i;(i=e.play())==null||i.catch(s=>{e.dispatchEvent(new ErrorEvent("error",{error:s})),n(s)}),e.readyState===e.HAVE_ENOUGH_DATA?r():e.addEventListener("canplaythrough",r)})}static dispose(e){e.pause(),e.removeAttribute("src"),But(this.audios,e)}static destroy(){for(let e=this.audios.length-1;e>=0;e--)this.dispose(this.audios[e])}}s0.audios=[];s0._volume=Gut;class jC extends Ff{constructor(e,r){super(),this.motionGroups={},this.state=new jut,this.playing=!1,this.destroyed=!1,this.settings=e,this.tag=`MotionManager(${e.name})`,this.state.tag=this.tag}init(e){e!=null&&e.idleMotionGroup&&(this.groups.idle=e.idleMotionGroup),this.setupMotions(e),this.stopAllMotions()}setupMotions(e){for(const n of Object.keys(this.definitions))this.motionGroups[n]=[];let r;switch(e==null?void 0:e.motionPreload){case"NONE":return;case"ALL":r=Object.keys(this.definitions);break;case"IDLE":default:r=[this.groups.idle];break}for(const n of r)if(this.definitions[n])for(let i=0;i<this.definitions[n].length;i++)this.loadMotion(n,i).then()}loadMotion(e,r){return vs(this,null,function*(){var n;if(!((n=this.definitions[e])!=null&&n[r])){Ui.warn(this.tag,`Undefined motion at "${e}"[${r}]`);return}if(this.motionGroups[e][r]===null){Ui.warn(this.tag,`Cannot start motion at "${e}"[${r}] because it's already failed in loading.`);return}if(this.motionGroups[e][r])return this.motionGroups[e][r];const i=yield this._loadMotion(e,r);if(!this.destroyed)return this.motionGroups[e][r]=i??null,i})}_loadMotion(e,r){throw new Error("Not implemented.")}startMotion(e,r){return vs(this,arguments,function*(n,i,s=$D.NORMAL){var o;if(!this.state.reserve(n,i,s))return!1;const a=(o=this.definitions[n])==null?void 0:o[i];if(!a)return!1;this.currentAudio&&s0.dispose(this.currentAudio);let l;if(No.sound){const d=this.getSoundFile(a);if(d)try{l=s0.add(this.settings.resolveURL(d),()=>this.currentAudio=void 0,()=>this.currentAudio=void 0),this.currentAudio=l}catch(f){Ui.warn(this.tag,"Failed to create audio",d,f)}}const u=yield this.loadMotion(n,i);if(l){const d=s0.play(l).catch(f=>Ui.warn(this.tag,"Failed to play audio",l.src,f));No.motionSync&&(yield d)}return this.state.start(u,n,i,s)?(Ui.log(this.tag,"Start motion:",this.getMotionName(a)),this.emit("motionStart",n,i,l),this.state.shouldOverrideExpression()&&this.expressionManager&&this.expressionManager.resetExpression(),this.playing=!0,this._startMotion(u),!0):(l&&(s0.dispose(l),this.currentAudio=void 0),!1)})}startRandomMotion(e,r){return vs(this,null,function*(){const n=this.definitions[e];if(n!=null&&n.length){const i=[];for(let s=0;s<n.length;s++)this.motionGroups[e][s]!==null&&!this.state.isActive(e,s)&&i.push(s);if(i.length){const s=Math.floor(Math.random()*i.length);return this.startMotion(e,i[s],r)}}return!1})}stopAllMotions(){this._stopAllMotions(),this.state.reset(),this.currentAudio&&(s0.dispose(this.currentAudio),this.currentAudio=void 0)}update(e,r){var n;return this.isFinished()&&(this.playing&&(this.playing=!1,this.emit("motionFinish")),this.state.shouldOverrideExpression()&&((n=this.expressionManager)==null||n.restoreExpression()),this.state.complete(),this.state.shouldRequestIdleMotion()&&this.startRandomMotion(this.groups.idle,$D.IDLE)),this.updateParameters(e,r)}destroy(){var e;this.destroyed=!0,this.emit("destroy"),this.stopAllMotions(),(e=this.expressionManager)==null||e.destroy();const r=this;r.definitions=void 0,r.motionGroups=void 0}}const Wut={x:0,y:0,width:0,height:0};class goe extends Ff{constructor(){super(...arguments),this.focusController=new zut,this.originalWidth=0,this.originalHeight=0,this.width=0,this.height=0,this.localTransform=new hs,this.drawingMatrix=new hs,this.hitAreas={},this.textureFlipY=!1,this.viewport=[0,0,0,0],this.destroyed=!1}init(){this.setupLayout(),this.setupHitAreas()}setupLayout(){const e=this,r=this.getSize();e.originalWidth=r[0],e.originalHeight=r[1];const n=Object.assign({width:CH,height:AH},this.getLayout());this.localTransform.scale(n.width/CH,n.height/AH),e.width=this.originalWidth*this.localTransform.a,e.height=this.originalHeight*this.localTransform.d;const i=n.x!==void 0&&n.x-n.width/2||n.centerX!==void 0&&n.centerX||n.left!==void 0&&n.left-n.width/2||n.right!==void 0&&n.right+n.width/2||0,s=n.y!==void 0&&n.y-n.height/2||n.centerY!==void 0&&n.centerY||n.top!==void 0&&n.top-n.height/2||n.bottom!==void 0&&n.bottom+n.height/2||0;this.localTransform.translate(this.width*i,-this.height*s)}setupHitAreas(){const e=this.getHitAreaDefs().filter(r=>r.index>=0);for(const r of e)this.hitAreas[r.name]=r}hitTest(e,r){return Object.keys(this.hitAreas).filter(n=>this.isHit(n,e,r))}isHit(e,r,n){if(!this.hitAreas[e])return!1;const i=this.hitAreas[e].index,s=this.getDrawableBounds(i,Wut);return s.x<=r&&r<=s.x+s.width&&s.y<=n&&n<=s.y+s.height}getDrawableBounds(e,r){const n=this.getDrawableVertices(e);let i=n[0],s=n[0],o=n[1],a=n[1];for(let l=0;l<n.length;l+=2){const u=n[l],d=n[l+1];i=Math.min(u,i),s=Math.max(u,s),o=Math.min(d,o),a=Math.max(d,a)}return r??(r={}),r.x=i,r.y=o,r.width=s-i,r.height=a-o,r}updateTransform(e){this.drawingMatrix.copyFrom(e).append(this.localTransform)}update(e,r){this.focusController.update(e)}destroy(){this.destroyed=!0,this.emit("destroy"),this.motionManager.destroy(),this.motionManager=void 0}}const qut="XHRLoader";class kH extends Error{constructor(e,r,n,i=!1){super(e),this.url=r,this.status=n,this.aborted=i}}const pa=class{static createXHR(t,e,r,n,i){const s=new XMLHttpRequest;if(pa.allXhrSet.add(s),t){let o=pa.xhrMap.get(t);o?o.add(s):(o=new Set([s]),pa.xhrMap.set(t,o)),t.listeners("destroy").includes(pa.cancelXHRs)||t.once("destroy",pa.cancelXHRs)}return s.open("GET",e),s.responseType=r,s.onload=()=>{(s.status===200||s.status===0)&&s.response?n(s.response):s.onerror()},s.onerror=()=>{Ui.warn(qut,`Failed to load resource as ${s.responseType} (Status ${s.status}): ${e}`),i(new kH("Network error.",e,s.status))},s.onabort=()=>i(new kH("Aborted.",e,s.status,!0)),s.onloadend=()=>{var o;pa.allXhrSet.delete(s),t&&((o=pa.xhrMap.get(t))==null||o.delete(s))},s}static cancelXHRs(){var t;(t=pa.xhrMap.get(this))==null||t.forEach(e=>{e.abort(),pa.allXhrSet.delete(e)}),pa.xhrMap.delete(this)}static release(){pa.allXhrSet.forEach(t=>t.abort()),pa.allXhrSet.clear(),pa.xhrMap=new WeakMap}};let HC=pa;HC.xhrMap=new WeakMap;HC.allXhrSet=new Set;HC.loader=(t,e)=>new Promise((r,n)=>{pa.createXHR(t.target,t.settings?t.settings.resolveURL(t.url):t.url,t.type,s=>{t.result=s,r()},n).send()});function voe(t,e){let r=-1;return n(0);function n(i,s){if(s)return Promise.reject(s);if(i<=r)return Promise.reject(new Error("next() called multiple times"));r=i;const o=t[i];if(!o)return Promise.resolve();try{return Promise.resolve(o(e,n.bind(null,i+1)))}catch(a){return Promise.reject(a)}}}class Yh{static load(e){return voe(this.middlewares,e).then(()=>e.result)}}Yh.middlewares=[HC.loader];function Xut(t,e={}){var r;const n={resourceOptions:{crossorigin:e.crossOrigin}};if(An.fromURL)return An.fromURL(t,n).catch(o=>{if(o instanceof Error)throw o;const a=new Error("Texture loading error");throw a.event=o,a});n.resourceOptions.autoLoad=!1;const i=An.from(t,n);if(i.baseTexture.valid)return Promise.resolve(i);const s=i.baseTexture.resource;return(r=s._live2d_load)!=null||(s._live2d_load=new Promise((o,a)=>{const l=u=>{s.source.removeEventListener("error",l);const d=new Error("Texture loading error");d.event=u,a(d)};s.source.addEventListener("error",l),s.load().then(()=>o(i)).catch(l)})),s._live2d_load}const IH="Live2DFactory",_oe=(t,e)=>vs(void 0,null,function*(){if(typeof t.source=="string"){const r=yield Yh.load({url:t.source,type:"json",target:t.live2dModel});r.url=t.source,t.source=r,t.live2dModel.emit("settingsJSONLoaded",r)}return e()}),yoe=(t,e)=>vs(void 0,null,function*(){if(t.source instanceof zC)return t.settings=t.source,e();if(typeof t.source=="object"){const r=ps.findRuntime(t.source);if(r){const n=r.createModelSettings(t.source);return t.settings=n,t.live2dModel.emit("settingsLoaded",n),e()}}throw new TypeError("Unknown settings format.")}),boe=(t,e)=>{if(t.settings){const r=ps.findRuntime(t.settings);if(r)return r.ready().then(e)}return e()},xoe=(t,e)=>vs(void 0,null,function*(){yield e();const r=t.internalModel;if(r){const n=t.settings,i=ps.findRuntime(n);if(i){const s=[];n.pose&&s.push(Yh.load({settings:n,url:n.pose,type:"json",target:r}).then(o=>{r.pose=i.createPose(r.coreModel,o),t.live2dModel.emit("poseLoaded",r.pose)}).catch(o=>{t.live2dModel.emit("poseLoadError",o),Ui.warn(IH,"Failed to load pose.",o)})),n.physics&&s.push(Yh.load({settings:n,url:n.physics,type:"json",target:r}).then(o=>{r.physics=i.createPhysics(r.coreModel,o),t.live2dModel.emit("physicsLoaded",r.physics)}).catch(o=>{t.live2dModel.emit("physicsLoadError",o),Ui.warn(IH,"Failed to load physics.",o)})),s.length&&(yield Promise.all(s))}}}),woe=(t,e)=>vs(void 0,null,function*(){if(t.settings){const r=t.live2dModel,n=t.settings.textures.map(i=>{const s=t.settings.resolveURL(i);return Xut(s,{crossOrigin:t.options.crossOrigin})});if(yield e(),t.internalModel)r.internalModel=t.internalModel,r.emit("modelLoaded",t.internalModel);else throw new TypeError("Missing internal model.");r.textures=yield Promise.all(n),r.emit("textureLoaded",r.textures)}else throw new TypeError("Missing settings.")}),Soe=(t,e)=>vs(void 0,null,function*(){const r=t.settings;if(r instanceof zC){const n=ps.findRuntime(r);if(!n)throw new TypeError("Unknown model settings.");const i=yield Yh.load({settings:r,url:r.moc,type:"arraybuffer",target:t.live2dModel});if(!n.isValidMoc(i))throw new Error("Invalid moc data");const s=n.createCoreModel(i);return t.internalModel=n.createInternalModel(s,r,t.options),e()}throw new TypeError("Missing settings.")}),Ro=class{static registerRuntime(t){Ro.runtimes.push(t),Ro.runtimes.sort((e,r)=>r.version-e.version)}static findRuntime(t){for(const e of Ro.runtimes)if(e.test(t))return e}static setupLive2DModel(t,e,r){return vs(this,null,function*(){const n=new Promise(o=>t.once("textureLoaded",o)),i=new Promise(o=>t.once("modelLoaded",o)),s=Promise.all([n,i]).then(()=>t.emit("ready"));yield voe(Ro.live2DModelMiddlewares,{live2dModel:t,source:e,options:r||{}}),yield s,t.emit("load")})}static loadMotion(t,e,r){var n,i;const s=o=>t.emit("motionLoadError",e,r,o);try{const o=(n=t.definitions[e])==null?void 0:n[r];if(!o)return Promise.resolve(void 0);t.listeners("destroy").includes(Ro.releaseTasks)||t.once("destroy",Ro.releaseTasks);let a=Ro.motionTasksMap.get(t);a||(a={},Ro.motionTasksMap.set(t,a));let l=a[e];l||(l=[],a[e]=l);const u=t.getMotionFile(o);return(i=l[r])!=null||(l[r]=Yh.load({url:u,settings:t.settings,type:t.motionDataType,target:t}).then(d=>{var f;const h=(f=Ro.motionTasksMap.get(t))==null?void 0:f[e];h&&delete h[r];const g=t.createMotion(d,e,o);return t.emit("motionLoaded",e,r,g),g}).catch(d=>{Ui.warn(t.tag,`Failed to load motion: ${u}
`,d),s(d)})),l[r]}catch(o){Ui.warn(t.tag,`Failed to load motion at "${e}"[${r}]
`,o),s(o)}return Promise.resolve(void 0)}static loadExpression(t,e){var r;const n=i=>t.emit("expressionLoadError",e,i);try{const i=t.definitions[e];if(!i)return Promise.resolve(void 0);t.listeners("destroy").includes(Ro.releaseTasks)||t.once("destroy",Ro.releaseTasks);let s=Ro.expressionTasksMap.get(t);s||(s=[],Ro.expressionTasksMap.set(t,s));const o=t.getExpressionFile(i);return(r=s[e])!=null||(s[e]=Yh.load({url:o,settings:t.settings,type:"json",target:t}).then(a=>{const l=Ro.expressionTasksMap.get(t);l&&delete l[e];const u=t.createExpression(a,i);return t.emit("expressionLoaded",e,u),u}).catch(a=>{Ui.warn(t.tag,`Failed to load expression: ${o}
`,a),n(a)})),s[e]}catch(i){Ui.warn(t.tag,`Failed to load expression at [${e}]
`,i),n(i)}return Promise.resolve(void 0)}static releaseTasks(){this instanceof jC?Ro.motionTasksMap.delete(this):Ro.expressionTasksMap.delete(this)}};let ps=Ro;ps.runtimes=[];ps.urlToJSON=_oe;ps.jsonToSettings=yoe;ps.waitUntilReady=boe;ps.setupOptionals=xoe;ps.setupEssentials=woe;ps.createInternalModel=Soe;ps.live2DModelMiddlewares=[_oe,yoe,boe,xoe,woe,Soe];ps.motionTasksMap=new WeakMap;ps.expressionTasksMap=new WeakMap;jC.prototype._loadMotion=function(t,e){return ps.loadMotion(this,t,e)};J$.prototype._loadExpression=function(t){return ps.loadExpression(this,t)};class Yut{constructor(){this._autoInteract=!1}get autoInteract(){return this._autoInteract}set autoInteract(e){e!==this._autoInteract&&(e?this.on("pointertap",OH,this):this.off("pointertap",OH,this),this._autoInteract=e)}registerInteraction(e){e!==this.interactionManager&&(this.unregisterInteraction(),this._autoInteract&&e&&(this.interactionManager=e,e.on("pointermove",DH,this)))}unregisterInteraction(){var e;this.interactionManager&&((e=this.interactionManager)==null||e.off("pointermove",DH,this),this.interactionManager=void 0)}}function OH(t){this.tap(t.data.global.x,t.data.global.y)}function DH(t){this.focus(t.data.global.x,t.data.global.y)}class Kut extends FC{}const jl=new Vi,Zut=new hs;let th;class fS extends Eu{constructor(e){super(),this.tag="Live2DModel(uninitialized)",this.textures=[],this.transform=new Kut,this.anchor=new Ch(this.onAnchorChange,this,0,0),this.glContextID=-1,this.elapsedTime=performance.now(),this.deltaTime=0,this.wasUpdated=!1,this._autoUpdate=!1,this.once("modelLoaded",()=>this.init(e))}static from(e,r){const n=new this(r);return ps.setupLive2DModel(n,e,r).then(()=>n)}static fromSync(e,r){const n=new this(r);return ps.setupLive2DModel(n,e,r).then(r==null?void 0:r.onLoad).catch(r==null?void 0:r.onError),n}static registerTicker(e){th=e}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){var r;th||(th=(r=window.PIXI)==null?void 0:r.Ticker),e?this._destroyed||(th?(th.shared.add(this.onTickerUpdate,this),this._autoUpdate=!0):Ui.warn(this.tag,"No Ticker registered, please call Live2DModel.registerTicker(Ticker).")):(th==null||th.shared.remove(this.onTickerUpdate,this),this._autoUpdate=!1)}init(e){this.tag=`Live2DModel(${this.internalModel.settings.name})`;const r=Object.assign({autoUpdate:!0,autoInteract:!0},e);r.autoInteract&&(this.interactive=!0),this.autoInteract=r.autoInteract,this.autoUpdate=r.autoUpdate}onAnchorChange(){this.pivot.set(this.anchor.x*this.internalModel.width,this.anchor.y*this.internalModel.height)}motion(e,r,n){return r===void 0?this.internalModel.motionManager.startRandomMotion(e,n):this.internalModel.motionManager.startMotion(e,r,n)}expression(e){return this.internalModel.motionManager.expressionManager?e===void 0?this.internalModel.motionManager.expressionManager.setRandomExpression():this.internalModel.motionManager.expressionManager.setExpression(e):Promise.resolve(!1)}focus(e,r,n=!1){jl.x=e,jl.y=r,this.toModelPosition(jl,jl,!0);let i=jl.x/this.internalModel.originalWidth*2-1,s=jl.y/this.internalModel.originalHeight*2-1,o=Math.atan2(s,i);this.internalModel.focusController.focus(Math.cos(o),-Math.sin(o),n)}tap(e,r){const n=this.hitTest(e,r);n.length&&(Ui.log(this.tag,"Hit",n),this.emit("hit",n))}hitTest(e,r){return jl.x=e,jl.y=r,this.toModelPosition(jl,jl),this.internalModel.hitTest(jl.x,jl.y)}toModelPosition(e,r=e.clone(),n){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.transform.worldTransform.applyInverse(e,r),this.internalModel.localTransform.applyInverse(r,r),r}containsPoint(e){return this.getBounds(!0).contains(e.x,e.y)}_calculateBounds(){this._bounds.addFrame(this.transform,0,0,this.internalModel.width,this.internalModel.height)}onTickerUpdate(){this.update(th.shared.deltaMS)}update(e){this.deltaTime+=e,this.elapsedTime+=e,this.wasUpdated=!0}_render(e){if(this.registerInteraction(e.plugins.interaction),!this.wasUpdated)return;e.batch.reset(),e.geometry.reset(),e.shader.reset(),e.state.reset();let r=!1;this.glContextID!==e.CONTEXT_UID&&(this.glContextID=e.CONTEXT_UID,this.internalModel.updateWebGLContext(e.gl,this.glContextID),r=!0);for(let s=0;s<this.textures.length;s++){const o=this.textures[s];o.valid&&((r||!o.baseTexture._glTextures[this.glContextID])&&(e.gl.pixelStorei(WebGLRenderingContext.UNPACK_FLIP_Y_WEBGL,this.internalModel.textureFlipY),e.texture.bind(o.baseTexture,0)),this.internalModel.bindTexture(s,o.baseTexture._glTextures[this.glContextID].texture),o.baseTexture.touched=e.textureGC.count)}const n=e.framebuffer.viewport;this.internalModel.viewport=[n.x,n.y,n.width,n.height],this.deltaTime&&(this.internalModel.update(this.deltaTime,this.elapsedTime),this.deltaTime=0);const i=Zut.copyFrom(e.globalUniforms.uniforms.projectionMatrix).append(this.worldTransform);this.internalModel.updateTransform(i),this.internalModel.draw(e.gl),e.state.reset(),e.texture.reset()}destroy(e){this.emit("destroy"),this.autoUpdate=!1,this.unregisterInteraction(),e!=null&&e.texture&&this.textures.forEach(r=>r.destroy(e.baseTexture)),this.internalModel.destroy(),super.destroy(e)}}moe(fS,[Yut]);const Uc=class{static resolveURL(t,e){var r;const n=(r=Uc.filesMap[t])==null?void 0:r[e];if(n===void 0)throw new Error("Cannot find this file from uploaded files: "+e);return n}static upload(t,e){return vs(this,null,function*(){const r={};for(const n of e.getDefinedFiles()){const i=decodeURI(Kc.resolve(e.url,n)),s=t.find(o=>o.webkitRelativePath===i);s&&(r[n]=URL.createObjectURL(s))}Uc.filesMap[e._objectURL]=r})}static createSettings(t){return vs(this,null,function*(){const e=t.find(o=>o.name.endsWith("model.json")||o.name.endsWith("model3.json"));if(!e)throw new TypeError("Settings file not found");const r=yield Uc.readText(e),n=JSON.parse(r);n.url=e.webkitRelativePath;const i=ps.findRuntime(n);if(!i)throw new Error("Unknown settings JSON");const s=i.createModelSettings(n);return s._objectURL=URL.createObjectURL(e),s})}static readText(t){return vs(this,null,function*(){return new Promise((e,r)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=r,n.readAsText(t,"utf8")})})}};let e5=Uc;e5.filesMap={};e5.factory=(t,e)=>vs(void 0,null,function*(){if(Array.isArray(t.source)&&t.source[0]instanceof File){const r=t.source;let n=r.settings;if(!n)n=yield Uc.createSettings(r);else if(!n._objectURL)throw new Error('"_objectURL" must be specified in ModelSettings');n.validateFiles(r.map(i=>encodeURI(i.webkitRelativePath))),yield Uc.upload(r,n),n.resolveURL=function(i){return Uc.resolveURL(this._objectURL,i)},t.source=n,t.live2dModel.once("modelLoaded",i=>{i.once("destroy",function(){const s=this.settings._objectURL;if(URL.revokeObjectURL(s),Uc.filesMap[s])for(const o of Object.values(Uc.filesMap[s]))URL.revokeObjectURL(o);delete Uc.filesMap[s]})})}return e()});ps.live2DModelMiddlewares.unshift(e5.factory);const Va=class{static unzip(t,e){return vs(this,null,function*(){const r=yield Va.getFilePaths(t),n=[];for(const s of e.getDefinedFiles()){const o=decodeURI(Kc.resolve(e.url,s));r.includes(o)&&n.push(o)}const i=yield Va.getFiles(t,n);for(let s=0;s<i.length;s++){const o=n[s],a=i[s];Object.defineProperty(a,"webkitRelativePath",{value:o})}return i})}static createSettings(t){return vs(this,null,function*(){const r=(yield Va.getFilePaths(t)).find(o=>o.endsWith("model.json")||o.endsWith("model3.json"));if(!r)throw new Error("Settings file not found");const n=yield Va.readText(t,r);if(!n)throw new Error("Empty settings file: "+r);const i=JSON.parse(n);i.url=r;const s=ps.findRuntime(i);if(!s)throw new Error("Unknown settings JSON");return s.createModelSettings(i)})}static zipReader(t,e){return vs(this,null,function*(){throw new Error("Not implemented")})}static getFilePaths(t){return vs(this,null,function*(){throw new Error("Not implemented")})}static getFiles(t,e){return vs(this,null,function*(){throw new Error("Not implemented")})}static readText(t,e){return vs(this,null,function*(){throw new Error("Not implemented")})}static releaseReader(t){}};let GC=Va;GC.ZIP_PROTOCOL="zip://";GC.uid=0;GC.factory=(t,e)=>vs(void 0,null,function*(){const r=t.source;let n,i,s;if(typeof r=="string"&&(r.endsWith(".zip")||r.startsWith(Va.ZIP_PROTOCOL))?(r.startsWith(Va.ZIP_PROTOCOL)?n=r.slice(Va.ZIP_PROTOCOL.length):n=r,i=yield Yh.load({url:n,type:"blob",target:t.live2dModel})):Array.isArray(r)&&r.length===1&&r[0]instanceof File&&r[0].name.endsWith(".zip")&&(i=r[0],n=URL.createObjectURL(i),s=r.settings),i){if(!i.size)throw new Error("Empty zip file");const o=yield Va.zipReader(i,n);s||(s=yield Va.createSettings(o)),s._objectURL=Va.ZIP_PROTOCOL+Va.uid+"/"+s.url;const a=yield Va.unzip(o,s);a.settings=s,t.source=a,n.startsWith("blob:")&&t.live2dModel.once("modelLoaded",l=>{l.once("destroy",function(){URL.revokeObjectURL(n)})}),Va.releaseReader(o)}return e()});ps.live2DModelMiddlewares.unshift(GC.factory);if(!window.Live2D)throw new Error("Could not find Cubism 2 runtime. This plugin requires live2d.min.js to be loaded.");const Qut=Live2DMotion.prototype.updateParam;Live2DMotion.prototype.updateParam=function(t,e){Qut.call(this,t,e),e.isFinished()&&this.onFinishHandler&&(this.onFinishHandler(this),delete this.onFinishHandler)};class Jut extends AMotion{constructor(e){super(),this.params=[],this.setFadeIn(e.fade_in>0?e.fade_in:No.expressionFadingDuration),this.setFadeOut(e.fade_out>0?e.fade_out:No.expressionFadingDuration),Array.isArray(e.params)&&e.params.forEach(r=>{const n=r.calc||"add";if(n==="add"){const i=r.def||0;r.val-=i}else if(n==="mult"){const i=r.def||1;r.val/=i}this.params.push({calc:n,val:r.val,id:r.id})})}updateParamExe(e,r,n,i){this.params.forEach(s=>{e.setParamFloat(s.id,s.val*n)})}}class ect extends J${constructor(e,r){var n;super(e,r),this.queueManager=new MotionQueueManager,this.definitions=(n=this.settings.expressions)!=null?n:[],this.init()}isFinished(){return this.queueManager.isFinished()}getExpressionIndex(e){return this.definitions.findIndex(r=>r.name===e)}getExpressionFile(e){return e.file}createExpression(e,r){return new Jut(e)}_setExpression(e){return this.queueManager.startMotion(e)}stopAllExpressions(){this.queueManager.stopAllMotions()}updateParameters(e,r){return this.queueManager.updateParam(e)}}class tct extends jC{constructor(e,r){super(e,r),this.groups={idle:"idle"},this.motionDataType="arraybuffer",this.queueManager=new MotionQueueManager,this.definitions=this.settings.motions,this.init(r)}init(e){super.init(e),this.settings.expressions&&(this.expressionManager=new ect(this.settings,e))}isFinished(){return this.queueManager.isFinished()}createMotion(e,r,n){const i=Live2DMotion.loadMotion(e),s=r===this.groups.idle?No.idleMotionFadingDuration:No.motionFadingDuration;return i.setFadeIn(n.fade_in>0?n.fade_in:s),i.setFadeOut(n.fade_out>0?n.fade_out:s),i}getMotionFile(e){return e.file}getMotionName(e){return e.file}getSoundFile(e){return e.sound}_startMotion(e,r){return e.onFinishHandler=r,this.queueManager.stopAllMotions(),this.queueManager.startMotion(e)}_stopAllMotions(){this.queueManager.stopAllMotions()}updateParameters(e,r){return this.queueManager.updateParam(e)}destroy(){super.destroy(),this.queueManager=void 0}}class rct{constructor(e){this.coreModel=e,this.blinkInterval=4e3,this.closingDuration=100,this.closedDuration=50,this.openingDuration=150,this.eyeState=0,this.eyeParamValue=1,this.closedTimer=0,this.nextBlinkTimeLeft=this.blinkInterval,this.leftParam=e.getParamIndex("PARAM_EYE_L_OPEN"),this.rightParam=e.getParamIndex("PARAM_EYE_R_OPEN")}setEyeParams(e){this.eyeParamValue=KT(e,0,1),this.coreModel.setParamFloat(this.leftParam,this.eyeParamValue),this.coreModel.setParamFloat(this.rightParam,this.eyeParamValue)}update(e){switch(this.eyeState){case 0:this.nextBlinkTimeLeft-=e,this.nextBlinkTimeLeft<0&&(this.eyeState=1,this.nextBlinkTimeLeft=this.blinkInterval+this.closingDuration+this.closedDuration+this.openingDuration+Fut(0,2e3));break;case 1:this.setEyeParams(this.eyeParamValue+e/this.closingDuration),this.eyeParamValue<=0&&(this.eyeState=2,this.closedTimer=0);break;case 2:this.closedTimer+=e,this.closedTimer>=this.closedDuration&&(this.eyeState=3);break;case 3:this.setEyeParams(this.eyeParamValue+e/this.openingDuration),this.eyeParamValue>=1&&(this.eyeState=0)}}}const Bp=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class nct extends goe{constructor(e,r,n){super(),this.textureFlipY=!0,this.drawDataCount=0,this.disableCulling=!1,this.coreModel=e,this.settings=r,this.motionManager=new tct(r,n),this.eyeBlink=new rct(e),this.eyeballXParamIndex=e.getParamIndex("PARAM_EYE_BALL_X"),this.eyeballYParamIndex=e.getParamIndex("PARAM_EYE_BALL_Y"),this.angleXParamIndex=e.getParamIndex("PARAM_ANGLE_X"),this.angleYParamIndex=e.getParamIndex("PARAM_ANGLE_Y"),this.angleZParamIndex=e.getParamIndex("PARAM_ANGLE_Z"),this.bodyAngleXParamIndex=e.getParamIndex("PARAM_BODY_ANGLE_X"),this.breathParamIndex=e.getParamIndex("PARAM_BREATH"),this.init()}init(){super.init(),this.settings.initParams&&this.settings.initParams.forEach(({id:s,value:o})=>this.coreModel.setParamFloat(s,o)),this.settings.initOpacities&&this.settings.initOpacities.forEach(({id:s,value:o})=>this.coreModel.setPartsOpacity(s,o)),this.coreModel.saveParam();const e=this.coreModel.getModelContext()._$aS;e!=null&&e.length&&(this.drawDataCount=e.length);let r=this.coreModel.drawParamWebGL.culling;Object.defineProperty(this.coreModel.drawParamWebGL,"culling",{set:s=>r=s,get:()=>this.disableCulling?!1:r});const n=this.coreModel.getModelContext().clipManager,i=n.setupClip;n.setupClip=(s,o)=>{i.call(n,s,o),o.gl.viewport(...this.viewport)}}getSize(){return[this.coreModel.getCanvasWidth(),this.coreModel.getCanvasHeight()]}getLayout(){const e={};if(this.settings.layout)for(const r of Object.keys(this.settings.layout)){let n=r;r==="center_x"?n="centerX":r==="center_y"&&(n="centerY"),e[n]=this.settings.layout[r]}return e}updateWebGLContext(e,r){const n=this.coreModel.drawParamWebGL;n.firstDraw=!0,n.setGL(e),n.glno=r;for(const o in n)n.hasOwnProperty(o)&&n[o]instanceof WebGLBuffer&&(n[o]=null);const i=this.coreModel.getModelContext().clipManager;i.curFrameNo=r;const s=e.getParameter(e.FRAMEBUFFER_BINDING);i.getMaskRenderTexture(),e.bindFramebuffer(e.FRAMEBUFFER,s)}bindTexture(e,r){this.coreModel.setTexture(e,r)}getHitAreaDefs(){var e;return((e=this.settings.hitAreas)==null?void 0:e.map(r=>({id:r.id,name:r.name,index:this.coreModel.getDrawDataIndex(r.id)})))||[]}getDrawableIDs(){const e=this.coreModel.getModelContext(),r=[];for(let n=0;n<this.drawDataCount;n++){const i=e.getDrawData(n);i&&r.push(i.getDrawDataID().id)}return r}getDrawableIndex(e){return this.coreModel.getDrawDataIndex(e)}getDrawableVertices(e){if(typeof e=="string"&&(e=this.coreModel.getDrawDataIndex(e),e===-1))throw new TypeError("Unable to find drawable ID: "+e);return this.coreModel.getTransformedPoints(e).slice()}update(e,r){var n,i,s,o;super.update(e,r);const a=this.coreModel;this.emit("beforeMotionUpdate");const l=this.motionManager.update(this.coreModel,r);this.emit("afterMotionUpdate"),a.saveParam(),(n=this.motionManager.expressionManager)==null||n.update(a,r),l||(i=this.eyeBlink)==null||i.update(e),this.updateFocus(),this.updateNaturalMovements(e,r),(s=this.physics)==null||s.update(r),(o=this.pose)==null||o.update(e),this.emit("beforeModelUpdate"),a.update(),a.loadParam()}updateFocus(){this.coreModel.addToParamFloat(this.eyeballXParamIndex,this.focusController.x),this.coreModel.addToParamFloat(this.eyeballYParamIndex,this.focusController.y),this.coreModel.addToParamFloat(this.angleXParamIndex,this.focusController.x*30),this.coreModel.addToParamFloat(this.angleYParamIndex,this.focusController.y*30),this.coreModel.addToParamFloat(this.angleZParamIndex,this.focusController.x*this.focusController.y*-30),this.coreModel.addToParamFloat(this.bodyAngleXParamIndex,this.focusController.x*10)}updateNaturalMovements(e,r){const n=r/1e3*2*Math.PI;this.coreModel.addToParamFloat(this.angleXParamIndex,15*Math.sin(n/6.5345)*.5),this.coreModel.addToParamFloat(this.angleYParamIndex,8*Math.sin(n/3.5345)*.5),this.coreModel.addToParamFloat(this.angleZParamIndex,10*Math.sin(n/5.5345)*.5),this.coreModel.addToParamFloat(this.bodyAngleXParamIndex,4*Math.sin(n/15.5345)*.5),this.coreModel.setParamFloat(this.breathParamIndex,.5+.5*Math.sin(n/3.2345))}draw(e){const r=this.disableCulling;e.getParameter(e.FRAMEBUFFER_BINDING)&&(this.disableCulling=!0);const n=this.drawingMatrix;Bp[0]=n.a,Bp[1]=n.b,Bp[4]=n.c,Bp[5]=n.d,Bp[12]=n.tx,Bp[13]=n.ty,this.coreModel.setMatrix(Bp),this.coreModel.draw(),this.disableCulling=r}destroy(){super.destroy(),this.coreModel=void 0}}class b2 extends zC{constructor(e){if(super(e),this.motions={},!b2.isValidJSON(e))throw new TypeError("Invalid JSON.");this.moc=e.model,dy("string",e,this,"textures","textures"),this.copy(e)}static isValidJSON(e){var r;return!!e&&typeof e.model=="string"&&((r=e.textures)==null?void 0:r.length)>0&&e.textures.every(n=>typeof n=="string")}copy(e){cy("string",e,this,"name","name"),cy("string",e,this,"pose","pose"),cy("string",e,this,"physics","physics"),cy("object",e,this,"layout","layout"),cy("object",e,this,"motions","motions"),dy("object",e,this,"hit_areas","hitAreas"),dy("object",e,this,"expressions","expressions"),dy("object",e,this,"init_params","initParams"),dy("object",e,this,"init_opacities","initOpacities")}replaceFiles(e){super.replaceFiles(e);for(const[r,n]of Object.entries(this.motions))for(let i=0;i<n.length;i++)n[i].file=e(n[i].file,`motions.${r}[${i}].file`),n[i].sound!==void 0&&(n[i].sound=e(n[i].sound,`motions.${r}[${i}].sound`));if(this.expressions)for(let r=0;r<this.expressions.length;r++)this.expressions[r].file=e(this.expressions[r].file,`expressions[${r}].file`)}}const ict={x:PhysicsHair.Src.SRC_TO_X,y:PhysicsHair.Src.SRC_TO_Y,angle:PhysicsHair.Src.SRC_TO_G_ANGLE},sct={x:PhysicsHair.Src.SRC_TO_X,y:PhysicsHair.Src.SRC_TO_Y,angle:PhysicsHair.Src.SRC_TO_G_ANGLE};class oct{constructor(e,r){this.coreModel=e,this.physicsHairs=[],r.physics_hair&&(this.physicsHairs=r.physics_hair.map(n=>{const i=new PhysicsHair;return i.setup(n.setup.length,n.setup.regist,n.setup.mass),n.src.forEach(({id:s,ptype:o,scale:a,weight:l})=>{const u=ict[o];u&&i.addSrcParam(u,s,a,l)}),n.targets.forEach(({id:s,ptype:o,scale:a,weight:l})=>{const u=sct[o];u&&i.addTargetParam(u,s,a,l)}),i}))}update(e){this.physicsHairs.forEach(r=>r.update(this.coreModel,e))}}class MH{constructor(e){this.id=e,this.paramIndex=-1,this.partsIndex=-1,this.link=[]}initIndex(e){this.paramIndex=e.getParamIndex("VISIBLE:"+this.id),this.partsIndex=e.getPartsDataIndex(PartsDataID.getID(this.id)),e.setParamFloat(this.paramIndex,1)}}class act{constructor(e,r){this.coreModel=e,this.opacityAnimDuration=500,this.partsGroups=[],r.parts_visible&&(this.partsGroups=r.parts_visible.map(({group:n})=>n.map(({id:i,link:s})=>{const o=new MH(i);return s&&(o.link=s.map(a=>new MH(a))),o})),this.init())}init(){this.partsGroups.forEach(e=>{e.forEach(r=>{if(r.initIndex(this.coreModel),r.paramIndex>=0){const n=this.coreModel.getParamFloat(r.paramIndex)!==0;this.coreModel.setPartsOpacity(r.partsIndex,n?1:0),this.coreModel.setParamFloat(r.paramIndex,n?1:0),r.link.length>0&&r.link.forEach(i=>i.initIndex(this.coreModel))}})})}normalizePartsOpacityGroup(e,r){const n=this.coreModel,i=.5,s=.15;let o=1,a=e.findIndex(({paramIndex:l,partsIndex:u})=>u>=0&&n.getParamFloat(l)!==0);if(a>=0){const l=n.getPartsOpacity(e[a].partsIndex);o=KT(l+r/this.opacityAnimDuration,0,1)}else a=0,o=1;e.forEach(({partsIndex:l},u)=>{if(l>=0)if(a==u)n.setPartsOpacity(l,o);else{let d=n.getPartsOpacity(l),f;o<i?f=o*(i-1)/i+1:f=(1-o)*i/(1-i),(1-f)*(1-o)>s&&(f=1-s/(1-o)),d>f&&(d=f),n.setPartsOpacity(l,d)}})}copyOpacity(e){const r=this.coreModel;e.forEach(({partsIndex:n,link:i})=>{if(n>=0&&i){const s=r.getPartsOpacity(n);i.forEach(({partsIndex:o})=>{o>=0&&r.setPartsOpacity(o,s)})}})}update(e){this.partsGroups.forEach(r=>{this.normalizePartsOpacityGroup(r,e),this.copyOpacity(r)})}}ps.registerRuntime({version:2,test(t){return t instanceof b2||b2.isValidJSON(t)},ready(){return Promise.resolve()},isValidMoc(t){if(t.byteLength<3)return!1;const e=new Int8Array(t,0,3);return String.fromCharCode(...e)==="moc"},createModelSettings(t){return new b2(t)},createCoreModel(t){const e=Live2DModelWebGL.loadModel(t),r=Live2D.getError();if(r)throw r;return e},createInternalModel(t,e,r){return new nct(t,e,r)},createPose(t,e){return new act(t,e)},createPhysics(t,e){return new oct(t,e)}});if(!window.Live2DCubismCore)throw new Error("Could not find Cubism 4 runtime. This plugin requires live2dcubismcore.js to be loaded.");class Dn{constructor(e,r){this.x=e||0,this.y=r||0}add(e){const r=new Dn(0,0);return r.x=this.x+e.x,r.y=this.y+e.y,r}substract(e){const r=new Dn(0,0);return r.x=this.x-e.x,r.y=this.y-e.y,r}multiply(e){const r=new Dn(0,0);return r.x=this.x*e.x,r.y=this.y*e.y,r}multiplyByScaler(e){return this.multiply(new Dn(e,e))}division(e){const r=new Dn(0,0);return r.x=this.x/e.x,r.y=this.y/e.y,r}divisionByScalar(e){return this.division(new Dn(e,e))}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}getDistanceWith(e){return Math.sqrt((this.x-e.x)*(this.x-e.x)+(this.y-e.y)*(this.y-e.y))}dot(e){return this.x*e.x+this.y*e.y}normalize(){const e=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/e,this.y=this.y/e}isEqual(e){return this.x==e.x&&this.y==e.y}isNotEqual(e){return!this.isEqual(e)}}const hS=class{static range(t,e,r){return t<e?t=e:t>r&&(t=r),t}static sin(t){return Math.sin(t)}static cos(t){return Math.cos(t)}static abs(t){return Math.abs(t)}static sqrt(t){return Math.sqrt(t)}static cbrt(t){if(t===0)return t;let e=t;const r=e<0;r&&(e=-e);let n;return e===1/0?n=1/0:(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3),r?-n:n}static getEasingSine(t){return t<0?0:t>1?1:.5-.5*this.cos(t*Math.PI)}static max(t,e){return t>e?t:e}static min(t,e){return t>e?e:t}static degreesToRadian(t){return t/180*Math.PI}static radianToDegrees(t){return t*180/Math.PI}static directionToRadian(t,e){const r=Math.atan2(e.y,e.x),n=Math.atan2(t.y,t.x);let i=r-n;for(;i<-Math.PI;)i+=Math.PI*2;for(;i>Math.PI;)i-=Math.PI*2;return i}static directionToDegrees(t,e){const r=this.directionToRadian(t,e);let n=this.radianToDegrees(r);return e.x-t.x>0&&(n=-n),n}static radianToDirection(t){const e=new Dn;return e.x=this.sin(t),e.y=this.cos(t),e}static quadraticEquation(t,e,r){return this.abs(t)<hS.Epsilon?this.abs(e)<hS.Epsilon?-r:-r/e:-(e+this.sqrt(e*e-4*t*r))/(2*t)}static cardanoAlgorithmForBezier(t,e,r,n){if(this.sqrt(t)<hS.Epsilon)return this.range(this.quadraticEquation(e,r,n),0,1);const i=e/t,s=r/t,o=n/t,a=(3*s-i*i)/3,l=a/3,u=(2*i*i*i-9*i*s+27*o)/27,d=u/2,f=d*d+l*l*l,h=.5,g=h+.01;if(f<0){const T=-a/3,E=T*T*T,C=this.sqrt(E),P=-u/(2*C),D=this.range(P,-1,1),L=Math.acos(D),te=2*this.cbrt(C),se=te*this.cos(L/3)-i/3;if(this.abs(se-h)<g)return this.range(se,0,1);const q=te*this.cos((L+2*Math.PI)/3)-i/3;if(this.abs(q-h)<g)return this.range(q,0,1);const X=te*this.cos((L+4*Math.PI)/3)-i/3;return this.range(X,0,1)}if(f==0){let T;d<0?T=this.cbrt(-d):T=-this.cbrt(d);const E=2*T-i/3;if(this.abs(E-h)<g)return this.range(E,0,1);const C=-T-i/3;return this.range(C,0,1)}const p=this.sqrt(f),v=this.cbrt(p-d),b=this.cbrt(p+d),S=v-b-i/3;return this.range(S,0,1)}constructor(){}};let Yi=hS;Yi.Epsilon=1e-5;class iu{constructor(){this._tr=new Float32Array(16),this.loadIdentity()}static multiply(e,r,n){const i=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s=4;for(let o=0;o<s;++o)for(let a=0;a<s;++a)for(let l=0;l<s;++l)i[a+o*4]+=e[l+o*4]*r[a+l*4];for(let o=0;o<16;++o)n[o]=i[o]}loadIdentity(){const e=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(e)}setMatrix(e){for(let r=0;r<16;++r)this._tr[r]=e[r]}getArray(){return this._tr}getScaleX(){return this._tr[0]}getScaleY(){return this._tr[5]}getTranslateX(){return this._tr[12]}getTranslateY(){return this._tr[13]}transformX(e){return this._tr[0]*e+this._tr[12]}transformY(e){return this._tr[5]*e+this._tr[13]}invertTransformX(e){return(e-this._tr[12])/this._tr[0]}invertTransformY(e){return(e-this._tr[13])/this._tr[5]}translateRelative(e,r){const n=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,r,0,1]);iu.multiply(n,this._tr,this._tr)}translate(e,r){this._tr[12]=e,this._tr[13]=r}translateX(e){this._tr[12]=e}translateY(e){this._tr[13]=e}scaleRelative(e,r){const n=new Float32Array([e,0,0,0,0,r,0,0,0,0,1,0,0,0,0,1]);iu.multiply(n,this._tr,this._tr)}scale(e,r){this._tr[0]=e,this._tr[5]=r}multiplyByMatrix(e){iu.multiply(e.getArray(),this._tr,this._tr)}clone(){const e=new iu;for(let r=0;r<this._tr.length;r++)e._tr[r]=this._tr[r];return e}}class t5{initialize(e){this._model=e}drawModel(){this.getModel()!=null&&this.doDrawModel()}setMvpMatrix(e){this._mvpMatrix4x4.setMatrix(e.getArray())}getMvpMatrix(){return this._mvpMatrix4x4}setModelColor(e,r,n,i){e<0?e=0:e>1&&(e=1),r<0?r=0:r>1&&(r=1),n<0?n=0:n>1&&(n=1),i<0?i=0:i>1&&(i=1),this._modelColor.R=e,this._modelColor.G=r,this._modelColor.B=n,this._modelColor.A=i}getModelColor(){return Object.assign({},this._modelColor)}setIsPremultipliedAlpha(e){this._isPremultipliedAlpha=e}isPremultipliedAlpha(){return this._isPremultipliedAlpha}setIsCulling(e){this._isCulling=e}isCulling(){return this._isCulling}setAnisotropy(e){this._anisortopy=e}getAnisotropy(){return this._anisortopy}getModel(){return this._model}constructor(){this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisortopy=0,this._modelColor=new Ry,this._mvpMatrix4x4=new iu,this._mvpMatrix4x4.loadIdentity()}}var $h=(t=>(t[t.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",t[t.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",t[t.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative",t))($h||{});class Ry{constructor(){this.R=1,this.G=1,this.B=1,this.A=1}}let Ic=!1,Gm=!1,Wm;const wP={vertexOffset:0,vertexStep:2};class Fb{static startUp(e){if(Ic)return fy("CubismFramework.startUp() is already done."),Ic;if(Live2DCubismCore._isStarted)return Ic=!0,!0;if(Live2DCubismCore._isStarted=!0,Wm=e,Wm&&Live2DCubismCore.Logging.csmSetLogFunction(Wm.logFunction),Ic=!0,Ic){const r=Live2DCubismCore.Version.csmGetVersion(),n=(r&4278190080)>>24,i=(r&16711680)>>16,s=r&65535,o=r;fy("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+n).slice(-2),("00"+i).slice(-2),("0000"+s).slice(-4),o)}return fy("CubismFramework.startUp() is complete."),Ic}static cleanUp(){Ic=!1,Gm=!1,Wm=void 0}static initialize(){if(!Ic){$y("CubismFramework is not started.");return}if(Gm){$y("CubismFramework.initialize() skipped, already initialized.");return}Gm=!0,fy("CubismFramework.initialize() is complete.")}static dispose(){if(!Ic){$y("CubismFramework is not started.");return}if(!Gm){$y("CubismFramework.dispose() skipped, not initialized.");return}t5.staticRelease(),Gm=!1,fy("CubismFramework.dispose() is complete.")}static isStarted(){return Ic}static isInitialized(){return Gm}static coreLogFunction(e){Live2DCubismCore.Logging.csmGetLogFunction()&&Live2DCubismCore.Logging.csmGetLogFunction()(e)}static getLoggingLevel(){return Wm!=null?Wm.loggingLevel:_m.LogLevel_Off}constructor(){}}var _m=(t=>(t[t.LogLevel_Verbose=0]="LogLevel_Verbose",t[t.LogLevel_Debug=1]="LogLevel_Debug",t[t.LogLevel_Info=2]="LogLevel_Info",t[t.LogLevel_Warning=3]="LogLevel_Warning",t[t.LogLevel_Error=4]="LogLevel_Error",t[t.LogLevel_Off=5]="LogLevel_Off",t))(_m||{});const aw=()=>{};function RH(t,...e){WC.print(_m.LogLevel_Debug,"[CSM][D]"+t+`
`,e)}function fy(t,...e){WC.print(_m.LogLevel_Info,"[CSM][I]"+t+`
`,e)}function $y(t,...e){WC.print(_m.LogLevel_Warning,"[CSM][W]"+t+`
`,e)}function Zm(t,...e){WC.print(_m.LogLevel_Error,"[CSM][E]"+t+`
`,e)}class WC{static print(e,r,n){if(e<Fb.getLoggingLevel())return;const i=Fb.coreLogFunction;if(!i)return;const s=r.replace(/{(\d+)}/g,(o,a)=>n[a]);i(s)}static dumpBytes(e,r,n){for(let i=0;i<n;i++)i%16==0&&i>0?this.print(e,`
`):i%8==0&&i>0&&this.print(e,"  "),this.print(e,"{0} ",[r[i]&255]);this.print(e,`
`)}constructor(){}}class Toe{constructor(){this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=[]}release(){this._weight=0}updateParameters(e,r,n){if(!r.isAvailable()||r.isFinished())return;if(!r.isStarted()){r.setIsStarted(!0),r.setStartTime(n-this._offsetSeconds),r.setFadeInStartTime(n);const a=this.getDuration();r.getEndTime()<0&&r.setEndTime(a<=0?-1:r.getStartTime()+a)}let i=this._weight;const s=this._fadeInSeconds==0?1:Yi.getEasingSine((n-r.getFadeInStartTime())/this._fadeInSeconds),o=this._fadeOutSeconds==0||r.getEndTime()<0?1:Yi.getEasingSine((r.getEndTime()-n)/this._fadeOutSeconds);i=i*s*o,r.setState(n,i),this.doUpdateParameters(e,n,i,r),r.getEndTime()>0&&r.getEndTime()<n&&r.setIsFinished(!0)}setFadeInTime(e){this._fadeInSeconds=e}setFadeOutTime(e){this._fadeOutSeconds=e}getFadeOutTime(){return this._fadeOutSeconds}getFadeInTime(){return this._fadeInSeconds}setWeight(e){this._weight=e}getWeight(){return this._weight}getDuration(){return-1}getLoopDuration(){return-1}setOffsetTime(e){this._offsetSeconds=e}getFiredEvent(e,r){return this._firedEventValues}setFinishedMotionHandler(e){this._onFinishedMotion=e}getFinishedMotionHandler(){return this._onFinishedMotion}}const $H=1;class r5 extends Toe{constructor(){super(),this._parameters=[]}static create(e){const r=new r5,n=e.FadeInTime,i=e.FadeOutTime;r.setFadeInTime(n!==void 0?n:$H),r.setFadeOutTime(i!==void 0?i:$H);const s=e.Parameters||[];for(let o=0;o<s.length;++o){const a=s[o],l=a.Id,u=a.Value;let d;switch(a.Blend){case"Multiply":d=Zp.ExpressionBlendType_Multiply;break;case"Overwrite":d=Zp.ExpressionBlendType_Overwrite;break;case"Add":default:d=Zp.ExpressionBlendType_Add;break}const f={parameterId:l,blendType:d,value:u};r._parameters.push(f)}return r}doUpdateParameters(e,r,n,i){for(let s=0;s<this._parameters.length;++s){const o=this._parameters[s];switch(o.blendType){case Zp.ExpressionBlendType_Add:{e.addParameterValueById(o.parameterId,o.value,n);break}case Zp.ExpressionBlendType_Multiply:{e.multiplyParameterValueById(o.parameterId,o.value,n);break}case Zp.ExpressionBlendType_Overwrite:{e.setParameterValueById(o.parameterId,o.value,n);break}}}}}var Zp=(t=>(t[t.ExpressionBlendType_Add=0]="ExpressionBlendType_Add",t[t.ExpressionBlendType_Multiply=1]="ExpressionBlendType_Multiply",t[t.ExpressionBlendType_Overwrite=2]="ExpressionBlendType_Overwrite",t))(Zp||{});class lct{constructor(){this._autoDelete=!1,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this,this._fadeOutSeconds=0,this._isTriggeredFadeOut=!1}release(){this._autoDelete&&this._motion&&this._motion.release()}setFadeOut(e){this._fadeOutSeconds=e,this._isTriggeredFadeOut=!0}startFadeOut(e,r){const n=r+e;this._isTriggeredFadeOut=!0,(this._endTimeSeconds<0||n<this._endTimeSeconds)&&(this._endTimeSeconds=n)}isFinished(){return this._finished}isStarted(){return this._started}getStartTime(){return this._startTimeSeconds}getFadeInStartTime(){return this._fadeInStartTimeSeconds}getEndTime(){return this._endTimeSeconds}setStartTime(e){this._startTimeSeconds=e}setFadeInStartTime(e){this._fadeInStartTimeSeconds=e}setEndTime(e){this._endTimeSeconds=e}setIsFinished(e){this._finished=e}setIsStarted(e){this._started=e}isAvailable(){return this._available}setIsAvailable(e){this._available=e}setState(e,r){this._stateTimeSeconds=e,this._stateWeight=r}getStateTime(){return this._stateTimeSeconds}getStateWeight(){return this._stateWeight}getLastCheckEventSeconds(){return this._lastEventCheckSeconds}setLastCheckEventSeconds(e){this._lastEventCheckSeconds=e}isTriggeredFadeOut(){return this._isTriggeredFadeOut}getFadeOutSeconds(){return this._fadeOutSeconds}}class Eoe{constructor(){this._userTimeSeconds=0,this._eventCustomData=null,this._motions=[]}release(){for(let e=0;e<this._motions.length;++e)this._motions[e]&&this._motions[e].release();this._motions=void 0}startMotion(e,r,n){if(e==null)return uct;let i;for(let s=0;s<this._motions.length;++s)i=this._motions[s],i!=null&&i.setFadeOut(i._motion.getFadeOutTime());return i=new lct,i._autoDelete=r,i._motion=e,this._motions.push(i),i._motionQueueEntryHandle}isFinished(){let e=0;for(;e<this._motions.length;){const r=this._motions[e];if(r==null){this._motions.splice(e,1);continue}if(r._motion==null){r.release(),this._motions.splice(e,1);continue}if(!r.isFinished())return!1;e++}return!0}isFinishedByHandle(e){for(let r=0;r<this._motions.length;r++){const n=this._motions[r];if(n!=null&&n._motionQueueEntryHandle==e&&!n.isFinished())return!1}return!0}stopAllMotions(){for(let e=0;e<this._motions.length;e++){const r=this._motions[e];r!=null&&r.release()}this._motions=[]}getCubismMotionQueueEntry(e){return this._motions.find(r=>r!=null&&r._motionQueueEntryHandle==e)}setEventCallback(e,r=null){this._eventCallBack=e,this._eventCustomData=r}doUpdateMotion(e,r){let n=!1,i=0;for(;i<this._motions.length;){const s=this._motions[i];if(s==null){this._motions.splice(i,1);continue}const o=s._motion;if(o==null){s.release(),this._motions.splice(i,1);continue}o.updateParameters(e,s,r),n=!0;const a=o.getFiredEvent(s.getLastCheckEventSeconds()-s.getStartTime(),r-s.getStartTime());for(let l=0;l<a.length;++l)this._eventCallBack(this,a[l],this._eventCustomData);s.setLastCheckEventSeconds(r),s.isFinished()?(s.release(),this._motions.splice(i,1)):(s.isTriggeredFadeOut()&&s.startFadeOut(s.getFadeOutSeconds(),r),i++)}return n}}const uct=-1;class cct extends J${constructor(e,r){var n;super(e,r),this.queueManager=new Eoe,this.definitions=(n=e.expressions)!=null?n:[],this.init()}isFinished(){return this.queueManager.isFinished()}getExpressionIndex(e){return this.definitions.findIndex(r=>r.Name===e)}getExpressionFile(e){return e.File}createExpression(e,r){return r5.create(e)}_setExpression(e){return this.queueManager.startMotion(e,!1,performance.now())}stopAllExpressions(){this.queueManager.stopAllMotions()}updateParameters(e,r){return this.queueManager.doUpdateMotion(e,r)}}class Coe{constructor(e){this.groups=e.Groups,this.hitAreas=e.HitAreas,this.layout=e.Layout,this.moc=e.FileReferences.Moc,this.expressions=e.FileReferences.Expressions,this.motions=e.FileReferences.Motions,this.textures=e.FileReferences.Textures,this.physics=e.FileReferences.Physics,this.pose=e.FileReferences.Pose}getEyeBlinkParameters(){var e,r;return(r=(e=this.groups)==null?void 0:e.find(n=>n.Name==="EyeBlink"))==null?void 0:r.Ids}getLipSyncParameters(){var e,r;return(r=(e=this.groups)==null?void 0:e.find(n=>n.Name==="LipSync"))==null?void 0:r.Ids}}class Ig extends zC{constructor(e){if(super(e),!Ig.isValidJSON(e))throw new TypeError("Invalid JSON.");Object.assign(this,new Coe(e))}static isValidJSON(e){var r;return!!(e!=null&&e.FileReferences)&&typeof e.FileReferences.Moc=="string"&&((r=e.FileReferences.Textures)==null?void 0:r.length)>0&&e.FileReferences.Textures.every(n=>typeof n=="string")}replaceFiles(e){if(super.replaceFiles(e),this.motions)for(const[r,n]of Object.entries(this.motions))for(let i=0;i<n.length;i++)n[i].File=e(n[i].File,`motions.${r}[${i}].File`),n[i].Sound!==void 0&&(n[i].Sound=e(n[i].Sound,`motions.${r}[${i}].Sound`));if(this.expressions)for(let r=0;r<this.expressions.length;r++)this.expressions[r].File=e(this.expressions[r].File,`expressions[${r}].File`)}}moe(Ig,[Coe]);var Qp=(t=>(t[t.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",t[t.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",t[t.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity",t))(Qp||{}),Mc=(t=>(t[t.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",t[t.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",t[t.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",t[t.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped",t))(Mc||{});class ch{constructor(e=0,r=0){this.time=e,this.value=r}}class dct{constructor(){this.basePointIndex=0,this.segmentType=0}}class fct{constructor(){this.id="",this.type=0,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}}class hct{constructor(){this.fireTime=0,this.value=""}}class pct{constructor(){this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=[],this.segments=[],this.points=[],this.events=[]}}class Aoe{constructor(e){this._json=e}release(){this._json=void 0}getMotionDuration(){return this._json.Meta.Duration}isMotionLoop(){return this._json.Meta.Loop||!1}getEvaluationOptionFlag(e){return n5.EvaluationOptionFlag_AreBeziersRistricted==e?!!this._json.Meta.AreBeziersRestricted:!1}getMotionCurveCount(){return this._json.Meta.CurveCount}getMotionFps(){return this._json.Meta.Fps}getMotionTotalSegmentCount(){return this._json.Meta.TotalSegmentCount}getMotionTotalPointCount(){return this._json.Meta.TotalPointCount}getMotionFadeInTime(){return this._json.Meta.FadeInTime}getMotionFadeOutTime(){return this._json.Meta.FadeOutTime}getMotionCurveTarget(e){return this._json.Curves[e].Target}getMotionCurveId(e){return this._json.Curves[e].Id}getMotionCurveFadeInTime(e){return this._json.Curves[e].FadeInTime}getMotionCurveFadeOutTime(e){return this._json.Curves[e].FadeOutTime}getMotionCurveSegmentCount(e){return this._json.Curves[e].Segments.length}getMotionCurveSegment(e,r){return this._json.Curves[e].Segments[r]}getEventCount(){return this._json.Meta.UserDataCount||0}getTotalEventValueSize(){return this._json.Meta.TotalUserDataSize}getEventTime(e){return this._json.UserData[e].Time}getEventValue(e){return this._json.UserData[e].Value}}var n5=(t=>(t[t.EvaluationOptionFlag_AreBeziersRistricted=0]="EvaluationOptionFlag_AreBeziersRistricted",t))(n5||{});const mct="EyeBlink",gct="LipSync",vct="Model",_ct="Parameter",yct="PartOpacity",bct=!1;function Xl(t,e,r){const n=new ch;return n.time=t.time+(e.time-t.time)*r,n.value=t.value+(e.value-t.value)*r,n}function xct(t,e){let r=(e-t[0].time)/(t[1].time-t[0].time);return r<0&&(r=0),t[0].value+(t[1].value-t[0].value)*r}function wct(t,e){let r=(e-t[0].time)/(t[3].time-t[0].time);r<0&&(r=0);const n=Xl(t[0],t[1],r),i=Xl(t[1],t[2],r),s=Xl(t[2],t[3],r),o=Xl(n,i,r),a=Xl(i,s,r);return Xl(o,a,r).value}function Sct(t,e){const r=e,n=t[0].time,i=t[3].time,s=t[1].time,o=t[2].time,a=i-3*o+3*s-n,l=3*o-6*s+3*n,u=3*s-3*n,d=n-r,f=Yi.cardanoAlgorithmForBezier(a,l,u,d),h=Xl(t[0],t[1],f),g=Xl(t[1],t[2],f),p=Xl(t[2],t[3],f),v=Xl(h,g,f),b=Xl(g,p,f);return Xl(v,b,f).value}function Tct(t,e){return t[0].value}function Ect(t,e){return t[1].value}function SP(t,e,r){const n=t.curves[e];let i=-1;const s=n.baseSegmentIndex+n.segmentCount;let o=0;for(let l=n.baseSegmentIndex;l<s;++l)if(o=t.segments[l].basePointIndex+(t.segments[l].segmentType==Mc.CubismMotionSegmentType_Bezier?3:1),t.points[o].time>r){i=l;break}if(i==-1)return t.points[o].value;const a=t.segments[i];return a.evaluate(t.points.slice(a.basePointIndex),r)}class i5 extends Toe{constructor(){super(),this._eyeBlinkParameterIds=[],this._lipSyncParameterIds=[],this._sourceFrameRate=30,this._loopDurationSeconds=-1,this._isLoop=!1,this._isLoopFadeIn=!0,this._lastWeight=0}static create(e,r){const n=new i5;return n.parse(e),n._sourceFrameRate=n._motionData.fps,n._loopDurationSeconds=n._motionData.duration,n._onFinishedMotion=r,n}doUpdateParameters(e,r,n,i){this._modelCurveIdEyeBlink==null&&(this._modelCurveIdEyeBlink=mct),this._modelCurveIdLipSync==null&&(this._modelCurveIdLipSync=gct);let s=r-i.getStartTime();s<0&&(s=0);let o=Number.MAX_VALUE,a=Number.MAX_VALUE;const l=64;let u=0,d=0;this._eyeBlinkParameterIds.length>l&&RH("too many eye blink targets : {0}",this._eyeBlinkParameterIds.length),this._lipSyncParameterIds.length>l&&RH("too many lip sync targets : {0}",this._lipSyncParameterIds.length);const f=this._fadeInSeconds<=0?1:Yi.getEasingSine((r-i.getFadeInStartTime())/this._fadeInSeconds),h=this._fadeOutSeconds<=0||i.getEndTime()<0?1:Yi.getEasingSine((i.getEndTime()-r)/this._fadeOutSeconds);let g,p,v,b=s;if(this._isLoop)for(;b>this._motionData.duration;)b-=this._motionData.duration;const S=this._motionData.curves;for(p=0;p<this._motionData.curveCount&&S[p].type==Qp.CubismMotionCurveTarget_Model;++p)g=SP(this._motionData,p,b),S[p].id==this._modelCurveIdEyeBlink?a=g:S[p].id==this._modelCurveIdLipSync&&(o=g);for(;p<this._motionData.curveCount&&S[p].type==Qp.CubismMotionCurveTarget_Parameter;++p){if(v=e.getParameterIndex(S[p].id),v==-1)continue;const T=e.getParameterValueByIndex(v);if(g=SP(this._motionData,p,b),a!=Number.MAX_VALUE){for(let C=0;C<this._eyeBlinkParameterIds.length&&C<l;++C)if(this._eyeBlinkParameterIds[C]==S[p].id){g*=a,d|=1<<C;break}}if(o!=Number.MAX_VALUE){for(let C=0;C<this._lipSyncParameterIds.length&&C<l;++C)if(this._lipSyncParameterIds[C]==S[p].id){g+=o,u|=1<<C;break}}let E;if(S[p].fadeInTime<0&&S[p].fadeOutTime<0)E=T+(g-T)*n;else{let C,P;S[p].fadeInTime<0?C=f:C=S[p].fadeInTime==0?1:Yi.getEasingSine((r-i.getFadeInStartTime())/S[p].fadeInTime),S[p].fadeOutTime<0?P=h:P=S[p].fadeOutTime==0||i.getEndTime()<0?1:Yi.getEasingSine((i.getEndTime()-r)/S[p].fadeOutTime);const D=this._weight*C*P;E=T+(g-T)*D}e.setParameterValueByIndex(v,E,1)}{if(a!=Number.MAX_VALUE)for(let T=0;T<this._eyeBlinkParameterIds.length&&T<l;++T){const E=e.getParameterValueById(this._eyeBlinkParameterIds[T]);if(d>>T&1)continue;const C=E+(a-E)*n;e.setParameterValueById(this._eyeBlinkParameterIds[T],C)}if(o!=Number.MAX_VALUE)for(let T=0;T<this._lipSyncParameterIds.length&&T<l;++T){const E=e.getParameterValueById(this._lipSyncParameterIds[T]);if(u>>T&1)continue;const C=E+(o-E)*n;e.setParameterValueById(this._lipSyncParameterIds[T],C)}}for(;p<this._motionData.curveCount&&S[p].type==Qp.CubismMotionCurveTarget_PartOpacity;++p)if(g=SP(this._motionData,p,b),Lb.setOpacityFromMotion)e.setPartOpacityById(S[p].id,g);else{if(v=e.getParameterIndex(S[p].id),v==-1)continue;e.setParameterValueByIndex(v,g)}s>=this._motionData.duration&&(this._isLoop?(i.setStartTime(r),this._isLoopFadeIn&&i.setFadeInStartTime(r)):(this._onFinishedMotion&&this._onFinishedMotion(this),i.setIsFinished(!0))),this._lastWeight=n}setIsLoop(e){this._isLoop=e}isLoop(){return this._isLoop}setIsLoopFadeIn(e){this._isLoopFadeIn=e}isLoopFadeIn(){return this._isLoopFadeIn}getDuration(){return this._isLoop?-1:this._loopDurationSeconds}getLoopDuration(){return this._loopDurationSeconds}setParameterFadeInTime(e,r){const n=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==n[i].id){n[i].fadeInTime=r;return}}setParameterFadeOutTime(e,r){const n=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==n[i].id){n[i].fadeOutTime=r;return}}getParameterFadeInTime(e){const r=this._motionData.curves;for(let n=0;n<this._motionData.curveCount;++n)if(e==r[n].id)return r[n].fadeInTime;return-1}getParameterFadeOutTime(e){const r=this._motionData.curves;for(let n=0;n<this._motionData.curveCount;++n)if(e==r[n].id)return r[n].fadeOutTime;return-1}setEffectIds(e,r){this._eyeBlinkParameterIds=e,this._lipSyncParameterIds=r}release(){this._motionData=void 0}parse(e){this._motionData=new pct;let r=new Aoe(e);this._motionData.duration=r.getMotionDuration(),this._motionData.loop=r.isMotionLoop(),this._motionData.curveCount=r.getMotionCurveCount(),this._motionData.fps=r.getMotionFps(),this._motionData.eventCount=r.getEventCount();const n=r.getEvaluationOptionFlag(n5.EvaluationOptionFlag_AreBeziersRistricted),i=r.getMotionFadeInTime(),s=r.getMotionFadeOutTime();i!==void 0?this._fadeInSeconds=i<0?1:i:this._fadeInSeconds=1,s!==void 0?this._fadeOutSeconds=s<0?1:s:this._fadeOutSeconds=1,this._motionData.curves=Array.from({length:this._motionData.curveCount}).map(()=>new fct),this._motionData.segments=Array.from({length:r.getMotionTotalSegmentCount()}).map(()=>new dct),this._motionData.events=Array.from({length:this._motionData.eventCount}).map(()=>new hct),this._motionData.points=[];let o=0,a=0;for(let l=0;l<this._motionData.curveCount;++l){const u=this._motionData.curves[l];switch(r.getMotionCurveTarget(l)){case vct:u.type=Qp.CubismMotionCurveTarget_Model;break;case _ct:u.type=Qp.CubismMotionCurveTarget_Parameter;break;case yct:u.type=Qp.CubismMotionCurveTarget_PartOpacity;break;default:$y('Warning : Unable to get segment type from Curve! The number of "CurveCount" may be incorrect!')}u.id=r.getMotionCurveId(l),u.baseSegmentIndex=a;const d=r.getMotionCurveFadeInTime(l),f=r.getMotionCurveFadeOutTime(l);u.fadeInTime=d!==void 0?d:-1,u.fadeOutTime=f!==void 0?f:-1;for(let h=0;h<r.getMotionCurveSegmentCount(l);){switch(h==0?(this._motionData.segments[a].basePointIndex=o,this._motionData.points[o]=new ch(r.getMotionCurveSegment(l,h),r.getMotionCurveSegment(l,h+1)),o+=1,h+=2):this._motionData.segments[a].basePointIndex=o-1,r.getMotionCurveSegment(l,h)){case Mc.CubismMotionSegmentType_Linear:{this._motionData.segments[a].segmentType=Mc.CubismMotionSegmentType_Linear,this._motionData.segments[a].evaluate=xct,this._motionData.points[o]=new ch(r.getMotionCurveSegment(l,h+1),r.getMotionCurveSegment(l,h+2)),o+=1,h+=3;break}case Mc.CubismMotionSegmentType_Bezier:{this._motionData.segments[a].segmentType=Mc.CubismMotionSegmentType_Bezier,n||bct?this._motionData.segments[a].evaluate=wct:this._motionData.segments[a].evaluate=Sct,this._motionData.points[o]=new ch(r.getMotionCurveSegment(l,h+1),r.getMotionCurveSegment(l,h+2)),this._motionData.points[o+1]=new ch(r.getMotionCurveSegment(l,h+3),r.getMotionCurveSegment(l,h+4)),this._motionData.points[o+2]=new ch(r.getMotionCurveSegment(l,h+5),r.getMotionCurveSegment(l,h+6)),o+=3,h+=7;break}case Mc.CubismMotionSegmentType_Stepped:{this._motionData.segments[a].segmentType=Mc.CubismMotionSegmentType_Stepped,this._motionData.segments[a].evaluate=Tct,this._motionData.points[o]=new ch(r.getMotionCurveSegment(l,h+1),r.getMotionCurveSegment(l,h+2)),o+=1,h+=3;break}case Mc.CubismMotionSegmentType_InverseStepped:{this._motionData.segments[a].segmentType=Mc.CubismMotionSegmentType_InverseStepped,this._motionData.segments[a].evaluate=Ect,this._motionData.points[o]=new ch(r.getMotionCurveSegment(l,h+1),r.getMotionCurveSegment(l,h+2)),o+=1,h+=3;break}}++u.segmentCount,++a}this._motionData.curves.push(u)}for(let l=0;l<r.getEventCount();++l)this._motionData.events[l].fireTime=r.getEventTime(l),this._motionData.events[l].value=r.getEventValue(l);r.release()}getFiredEvent(e,r){this._firedEventValues.length=0;for(let n=0;n<this._motionData.eventCount;++n)this._motionData.events[n].fireTime>e&&this._motionData.events[n].fireTime<=r&&this._firedEventValues.push(this._motionData.events[n].value);return this._firedEventValues}}class Cct extends jC{constructor(e,r){var n;super(e,r),this.groups={idle:"Idle"},this.motionDataType="json",this.queueManager=new Eoe,this.definitions=(n=e.motions)!=null?n:{},this.eyeBlinkIds=e.getEyeBlinkParameters()||[],this.lipSyncIds=e.getLipSyncParameters()||[],this.init(r)}init(e){super.init(e),this.settings.expressions&&(this.expressionManager=new cct(this.settings,e)),this.queueManager.setEventCallback((r,n,i)=>{this.emit("motion:"+n)})}isFinished(){return this.queueManager.isFinished()}_startMotion(e,r){return e.setFinishedMotionHandler(r),this.queueManager.stopAllMotions(),this.queueManager.startMotion(e,!1,performance.now())}_stopAllMotions(){this.queueManager.stopAllMotions()}createMotion(e,r,n){const i=i5.create(e),s=new Aoe(e),o=(r===this.groups.idle?No.idleMotionFadingDuration:No.motionFadingDuration)/1e3;return s.getMotionFadeInTime()===void 0&&i.setFadeInTime(n.FadeInTime>0?n.FadeInTime:o),s.getMotionFadeOutTime()===void 0&&i.setFadeOutTime(n.FadeOutTime>0?n.FadeOutTime:o),i.setEffectIds(this.eyeBlinkIds,this.lipSyncIds),i}getMotionFile(e){return e.File}getMotionName(e){return e.File}getSoundFile(e){return e.Sound}updateParameters(e,r){return this.queueManager.doUpdateMotion(e,r)}destroy(){super.destroy(),this.queueManager.release(),this.queueManager=void 0}}const Act="ParamAngleX",Pct="ParamAngleY",kct="ParamAngleZ",Ict="ParamEyeBallX",Oct="ParamEyeBallY",Dct="ParamBodyAngleX",Mct="ParamBreath";class s5{constructor(){this._breathParameters=[],this._currentTime=0}static create(){return new s5}setParameters(e){this._breathParameters=e}getParameters(){return this._breathParameters}updateParameters(e,r){this._currentTime+=r;const n=this._currentTime*2*3.14159;for(let i=0;i<this._breathParameters.length;++i){const s=this._breathParameters[i];e.addParameterValueById(s.parameterId,s.offset+s.peak*Math.sin(n/s.cycle),s.weight)}}}class hy{constructor(e,r,n,i,s){this.parameterId=e??void 0,this.offset=r??0,this.peak=n??0,this.cycle=i??0,this.weight=s??0}}const LD=class{static create(t){return new LD(t)}setBlinkingInterval(t){this._blinkingIntervalSeconds=t}setBlinkingSetting(t,e,r){this._closingSeconds=t,this._closedSeconds=e,this._openingSeconds=r}setParameterIds(t){this._parameterIds=t}getParameterIds(){return this._parameterIds}updateParameters(t,e){this._userTimeSeconds+=e;let r,n=0;switch(this._blinkingState){case Gl.EyeState_Closing:n=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds,n>=1&&(n=1,this._blinkingState=Gl.EyeState_Closed,this._stateStartTimeSeconds=this._userTimeSeconds),r=1-n;break;case Gl.EyeState_Closed:n=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds,n>=1&&(this._blinkingState=Gl.EyeState_Opening,this._stateStartTimeSeconds=this._userTimeSeconds),r=0;break;case Gl.EyeState_Opening:n=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds,n>=1&&(n=1,this._blinkingState=Gl.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming()),r=n;break;case Gl.EyeState_Interval:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=Gl.EyeState_Closing,this._stateStartTimeSeconds=this._userTimeSeconds),r=1;break;case Gl.EyeState_First:default:this._blinkingState=Gl.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming(),r=1;break}LD.CloseIfZero||(r=-r);for(let i=0;i<this._parameterIds.length;++i)t.setParameterValueById(this._parameterIds[i],r)}constructor(t){var e,r;this._blinkingState=Gl.EyeState_First,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=[],t!=null&&(this._parameterIds=(r=(e=t.getEyeBlinkParameters())==null?void 0:e.slice())!=null?r:this._parameterIds)}determinNextBlinkingTiming(){const t=Math.random();return this._userTimeSeconds+t*(2*this._blinkingIntervalSeconds-1)}};let Poe=LD;Poe.CloseIfZero=!0;var Gl=(t=>(t[t.EyeState_First=0]="EyeState_First",t[t.EyeState_Interval=1]="EyeState_Interval",t[t.EyeState_Closing=2]="EyeState_Closing",t[t.EyeState_Closed=3]="EyeState_Closed",t[t.EyeState_Opening=4]="EyeState_Opening",t))(Gl||{});class FD{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}getRight(){return this.x+this.width}getBottom(){return this.y+this.height}setRect(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}expand(e,r){this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2}}const TP=4,Rct=10;let Up,Ly,ND;class EP{getChannelFlagAsColor(e){return this._channelColors[e]}getMaskRenderTexture(){let e=0;if(this._maskTexture&&this._maskTexture.texture!=0&&(this._maskTexture.frameNo=this._currentFrameNo,e=this._maskTexture.texture),e==0){const r=this._clippingMaskBufferSize;this._colorBuffer=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this._colorBuffer),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,r,r,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),e=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._colorBuffer,0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,ND),this._maskTexture=new $ct(this._currentFrameNo,e)}return e}setGL(e){this.gl=e}calcClippedDrawTotalBounds(e,r){let n=Number.MAX_VALUE,i=Number.MAX_VALUE,s=Number.MIN_VALUE,o=Number.MIN_VALUE;const a=r._clippedDrawableIndexList.length;for(let l=0;l<a;l++){const u=r._clippedDrawableIndexList[l],d=e.getDrawableVertexCount(u),f=e.getDrawableVertices(u);let h=Number.MAX_VALUE,g=Number.MAX_VALUE,p=Number.MIN_VALUE,v=Number.MIN_VALUE;const b=d*wP.vertexStep;for(let S=wP.vertexOffset;S<b;S+=wP.vertexStep){const T=f[S],E=f[S+1];T<h&&(h=T),T>p&&(p=T),E<g&&(g=E),E>v&&(v=E)}if(h!=Number.MAX_VALUE)if(h<n&&(n=h),g<i&&(i=g),p>s&&(s=p),v>o&&(o=v),n==Number.MAX_VALUE)r._allClippedDrawRect.x=0,r._allClippedDrawRect.y=0,r._allClippedDrawRect.width=0,r._allClippedDrawRect.height=0,r._isUsing=!1;else{r._isUsing=!0;const S=s-n,T=o-i;r._allClippedDrawRect.x=n,r._allClippedDrawRect.y=i,r._allClippedDrawRect.width=S,r._allClippedDrawRect.height=T}}}constructor(){this._maskRenderTexture=null,this._colorBuffer=null,this._currentFrameNo=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=[],this._clippingContextListForDraw=[],this._channelColors=[],this._tmpBoundsOnModel=new FD,this._tmpMatrix=new iu,this._tmpMatrixForMask=new iu,this._tmpMatrixForDraw=new iu;let e=new Ry;e.R=1,e.G=0,e.B=0,e.A=0,this._channelColors.push(e),e=new Ry,e.R=0,e.G=1,e.B=0,e.A=0,this._channelColors.push(e),e=new Ry,e.R=0,e.G=0,e.B=1,e.A=0,this._channelColors.push(e),e=new Ry,e.R=0,e.G=0,e.B=0,e.A=1,this._channelColors.push(e)}release(){var e,r,n;const i=this;for(let s=0;s<this._clippingContextListForMask.length;s++)this._clippingContextListForMask[s]&&((e=this._clippingContextListForMask[s])==null||e.release());i._clippingContextListForMask=void 0,i._clippingContextListForDraw=void 0,this._maskTexture&&((r=this.gl)==null||r.deleteFramebuffer(this._maskTexture.texture),i._maskTexture=void 0),i._channelColors=void 0,(n=this.gl)==null||n.deleteTexture(this._colorBuffer),this._colorBuffer=null}initialize(e,r,n,i){for(let s=0;s<r;s++){if(i[s]<=0){this._clippingContextListForDraw.push(null);continue}let o=this.findSameClip(n[s],i[s]);o==null&&(o=new Lct(this,n[s],i[s]),this._clippingContextListForMask.push(o)),o.addClippedDrawable(s),this._clippingContextListForDraw.push(o)}}setupClippingContext(e,r){this._currentFrameNo++;let n=0;for(let i=0;i<this._clippingContextListForMask.length;i++){const s=this._clippingContextListForMask[i];this.calcClippedDrawTotalBounds(e,s),s._isUsing&&n++}if(n>0){this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._maskRenderTexture=this.getMaskRenderTexture(),r.getMvpMatrix(),r.preDraw(),this.setupLayoutBounds(n),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTexture),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(let i=0;i<this._clippingContextListForMask.length;i++){const s=this._clippingContextListForMask[i],o=s._allClippedDrawRect,a=s._layoutBounds,l=.05;this._tmpBoundsOnModel.setRect(o),this._tmpBoundsOnModel.expand(o.width*l,o.height*l);const u=a.width/this._tmpBoundsOnModel.width,d=a.height/this._tmpBoundsOnModel.height;this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(a.x,a.y),this._tmpMatrix.scaleRelative(u,d),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(a.x,a.y),this._tmpMatrix.scaleRelative(u,d),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),s._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),s._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());const f=s._clippingIdCount;for(let h=0;h<f;h++){const g=s._clippingIdList[h];e.getDrawableDynamicFlagVertexPositionsDidChange(g)&&(r.setIsCulling(e.getDrawableCulling(g)!=!1),r.setClippingContextBufferForMask(s),r.drawMesh(e.getDrawableTextureIndices(g),e.getDrawableVertexIndexCount(g),e.getDrawableVertexCount(g),e.getDrawableVertexIndices(g),e.getDrawableVertices(g),e.getDrawableVertexUvs(g),e.getDrawableOpacity(g),$h.CubismBlendMode_Normal,!1))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,ND),r.setClippingContextBufferForMask(null),this.gl.viewport(Ly[0],Ly[1],Ly[2],Ly[3])}}findSameClip(e,r){for(let n=0;n<this._clippingContextListForMask.length;n++){const i=this._clippingContextListForMask[n],s=i._clippingIdCount;if(s!=r)continue;let o=0;for(let a=0;a<s;a++){const l=i._clippingIdList[a];for(let u=0;u<s;u++)if(e[u]==l){o++;break}}if(o==s)return i}return null}setupLayoutBounds(e){let r=e/TP,n=e%TP;r=~~r,n=~~n;let i=0;for(let s=0;s<TP;s++){const o=r+(s<n?1:0);if(o!=0)if(o==1){const a=this._clippingContextListForMask[i++];a._layoutChannelNo=s,a._layoutBounds.x=0,a._layoutBounds.y=0,a._layoutBounds.width=1,a._layoutBounds.height=1}else if(o==2)for(let a=0;a<o;a++){let l=a%2;l=~~l;const u=this._clippingContextListForMask[i++];u._layoutChannelNo=s,u._layoutBounds.x=l*.5,u._layoutBounds.y=0,u._layoutBounds.width=.5,u._layoutBounds.height=1}else if(o<=4)for(let a=0;a<o;a++){let l=a%2,u=a/2;l=~~l,u=~~u;const d=this._clippingContextListForMask[i++];d._layoutChannelNo=s,d._layoutBounds.x=l*.5,d._layoutBounds.y=u*.5,d._layoutBounds.width=.5,d._layoutBounds.height=.5}else if(o<=9)for(let a=0;a<o;a++){let l=a%3,u=a/3;l=~~l,u=~~u;const d=this._clippingContextListForMask[i++];d._layoutChannelNo=s,d._layoutBounds.x=l/3,d._layoutBounds.y=u/3,d._layoutBounds.width=1/3,d._layoutBounds.height=1/3}else if(Lb.supportMoreMaskDivisions&&o<=16)for(let a=0;a<o;a++){let l=a%4,u=a/4;l=~~l,u=~~u;const d=this._clippingContextListForMask[i++];d._layoutChannelNo=s,d._layoutBounds.x=l/4,d._layoutBounds.y=u/4,d._layoutBounds.width=1/4,d._layoutBounds.height=1/4}else Zm("not supported mask count : {0}",o)}}getColorBuffer(){return this._colorBuffer}getClippingContextListForDraw(){return this._clippingContextListForDraw}setClippingMaskBufferSize(e){this._clippingMaskBufferSize=e}getClippingMaskBufferSize(){return this._clippingMaskBufferSize}}class $ct{constructor(e,r){this.frameNo=e,this.texture=r}}class Lct{constructor(e,r,n){this._isUsing=!1,this._owner=e,this._clippingIdList=r,this._clippingIdCount=n,this._allClippedDrawRect=new FD,this._layoutBounds=new FD,this._clippedDrawableIndexList=[],this._matrixForMask=new iu,this._matrixForDraw=new iu}release(){const e=this;e._layoutBounds=void 0,e._allClippedDrawRect=void 0,e._clippedDrawableIndexList=void 0}addClippedDrawable(e){this._clippedDrawableIndexList.push(e)}getClippingManager(){return this._owner}setGl(e){this._owner.setGL(e)}}class Og{static getInstance(){return Up==null&&(Up=new Og),Up}static deleteInstance(){Up&&(Up.release(),Up=void 0)}constructor(){this._shaderSets=[]}release(){this.releaseShaderProgram()}setupShaderProgram(e,r,n,i,s,o,a,l,u,d,f,h,g){f||Zm("NoPremultipliedAlpha is not allowed"),this._shaderSets.length==0&&this.generateShaders();let p,v,b,S;const T=e.getClippingContextBufferForMask();if(T!=null){const E=this._shaderSets[Fy.ShaderNames_SetupMask];this.gl.useProgram(E.shaderProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.uniform1i(E.samplerTexture0Location,0),a.vertex==null&&(a.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(E.attributePositionLocation),this.gl.vertexAttribPointer(E.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),a.uv==null&&(a.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,o,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(E.attributeTexCoordLocation),this.gl.vertexAttribPointer(E.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0);const C=T._layoutChannelNo,P=T.getClippingManager().getChannelFlagAsColor(C);this.gl.uniform4f(E.uniformChannelFlagLocation,P.R,P.G,P.B,P.A),this.gl.uniformMatrix4fv(E.uniformClipMatrixLocation,!1,T._matrixForMask.getArray());const D=T._layoutBounds;this.gl.uniform4f(E.uniformBaseColorLocation,D.x*2-1,D.y*2-1,D.getRight()*2-1,D.getBottom()*2-1),p=this.gl.ZERO,v=this.gl.ONE_MINUS_SRC_COLOR,b=this.gl.ZERO,S=this.gl.ONE_MINUS_SRC_ALPHA}else{const E=e.getClippingContextBufferForDraw(),P=E!=null?g?2:1:0;let D;switch(u){case $h.CubismBlendMode_Normal:default:D=this._shaderSets[Fy.ShaderNames_NormalPremultipliedAlpha+P],p=this.gl.ONE,v=this.gl.ONE_MINUS_SRC_ALPHA,b=this.gl.ONE,S=this.gl.ONE_MINUS_SRC_ALPHA;break;case $h.CubismBlendMode_Additive:D=this._shaderSets[Fy.ShaderNames_AddPremultipliedAlpha+P],p=this.gl.ONE,v=this.gl.ONE,b=this.gl.ZERO,S=this.gl.ONE;break;case $h.CubismBlendMode_Multiplicative:D=this._shaderSets[Fy.ShaderNames_MultPremultipliedAlpha+P],p=this.gl.DST_COLOR,v=this.gl.ONE_MINUS_SRC_ALPHA,b=this.gl.ZERO,S=this.gl.ONE;break}if(this.gl.useProgram(D.shaderProgram),a.vertex==null&&(a.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(D.attributePositionLocation),this.gl.vertexAttribPointer(D.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),a.uv==null&&(a.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,o,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(D.attributeTexCoordLocation),this.gl.vertexAttribPointer(D.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),E!=null){this.gl.activeTexture(this.gl.TEXTURE1);const L=E.getClippingManager().getColorBuffer();this.gl.bindTexture(this.gl.TEXTURE_2D,L),this.gl.uniform1i(D.samplerTexture1Location,1),this.gl.uniformMatrix4fv(D.uniformClipMatrixLocation,!1,E._matrixForDraw.getArray());const j=E._layoutChannelNo,te=E.getClippingManager().getChannelFlagAsColor(j);this.gl.uniform4f(D.uniformChannelFlagLocation,te.R,te.G,te.B,te.A)}this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.uniform1i(D.samplerTexture0Location,0),this.gl.uniformMatrix4fv(D.uniformMatrixLocation,!1,h.getArray()),this.gl.uniform4f(D.uniformBaseColorLocation,d.R,d.G,d.B,d.A)}a.index==null&&(a.index=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,s,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(p,v,b,S)}releaseShaderProgram(){for(let e=0;e<this._shaderSets.length;e++)this.gl.deleteProgram(this._shaderSets[e].shaderProgram),this._shaderSets[e].shaderProgram=0;this._shaderSets=[]}generateShaders(){for(let e=0;e<Rct;e++)this._shaderSets.push({});this._shaderSets[0].shaderProgram=this.loadShaderProgram(Fct,Nct),this._shaderSets[1].shaderProgram=this.loadShaderProgram(Bct,Uct),this._shaderSets[2].shaderProgram=this.loadShaderProgram(LH,Vct),this._shaderSets[3].shaderProgram=this.loadShaderProgram(LH,zct),this._shaderSets[4].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[5].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[6].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[7].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[8].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[9].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[0].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_position"),this._shaderSets[0].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_texCoord"),this._shaderSets[0].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"s_texture0"),this._shaderSets[0].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_clipMatrix"),this._shaderSets[0].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_channelFlag"),this._shaderSets[0].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_baseColor"),this._shaderSets[1].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_position"),this._shaderSets[1].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_texCoord"),this._shaderSets[1].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"s_texture0"),this._shaderSets[1].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_matrix"),this._shaderSets[1].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_baseColor"),this._shaderSets[2].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_position"),this._shaderSets[2].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_texCoord"),this._shaderSets[2].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture0"),this._shaderSets[2].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture1"),this._shaderSets[2].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_matrix"),this._shaderSets[2].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_clipMatrix"),this._shaderSets[2].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_channelFlag"),this._shaderSets[2].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_baseColor"),this._shaderSets[3].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_position"),this._shaderSets[3].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_texCoord"),this._shaderSets[3].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture0"),this._shaderSets[3].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture1"),this._shaderSets[3].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_matrix"),this._shaderSets[3].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_clipMatrix"),this._shaderSets[3].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_channelFlag"),this._shaderSets[3].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_baseColor"),this._shaderSets[4].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_position"),this._shaderSets[4].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_texCoord"),this._shaderSets[4].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"s_texture0"),this._shaderSets[4].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_matrix"),this._shaderSets[4].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_baseColor"),this._shaderSets[5].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_position"),this._shaderSets[5].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_texCoord"),this._shaderSets[5].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture0"),this._shaderSets[5].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture1"),this._shaderSets[5].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_matrix"),this._shaderSets[5].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_clipMatrix"),this._shaderSets[5].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_channelFlag"),this._shaderSets[5].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_baseColor"),this._shaderSets[6].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_position"),this._shaderSets[6].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_texCoord"),this._shaderSets[6].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture0"),this._shaderSets[6].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture1"),this._shaderSets[6].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_matrix"),this._shaderSets[6].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_clipMatrix"),this._shaderSets[6].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_channelFlag"),this._shaderSets[6].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_baseColor"),this._shaderSets[7].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_position"),this._shaderSets[7].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_texCoord"),this._shaderSets[7].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"s_texture0"),this._shaderSets[7].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_matrix"),this._shaderSets[7].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_baseColor"),this._shaderSets[8].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_position"),this._shaderSets[8].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_texCoord"),this._shaderSets[8].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture0"),this._shaderSets[8].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture1"),this._shaderSets[8].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_matrix"),this._shaderSets[8].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_clipMatrix"),this._shaderSets[8].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_channelFlag"),this._shaderSets[8].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_baseColor"),this._shaderSets[9].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_position"),this._shaderSets[9].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_texCoord"),this._shaderSets[9].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture0"),this._shaderSets[9].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture1"),this._shaderSets[9].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_matrix"),this._shaderSets[9].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_clipMatrix"),this._shaderSets[9].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_channelFlag"),this._shaderSets[9].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_baseColor")}loadShaderProgram(e,r){let n=this.gl.createProgram(),i=this.compileShaderSource(this.gl.VERTEX_SHADER,e);if(!i)return Zm("Vertex shader compile error!"),0;let s=this.compileShaderSource(this.gl.FRAGMENT_SHADER,r);return s?(this.gl.attachShader(n,i),this.gl.attachShader(n,s),this.gl.linkProgram(n),this.gl.getProgramParameter(n,this.gl.LINK_STATUS)?(this.gl.deleteShader(i),this.gl.deleteShader(s),n):(Zm("Failed to link program: {0}",n),this.gl.deleteShader(i),this.gl.deleteShader(s),n&&this.gl.deleteProgram(n),0)):(Zm("Vertex shader compile error!"),0)}compileShaderSource(e,r){const n=r,i=this.gl.createShader(e);if(this.gl.shaderSource(i,n),this.gl.compileShader(i),!i){const o=this.gl.getShaderInfoLog(i);Zm("Shader compile log: {0} ",o)}return this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(this.gl.deleteShader(i),null)}setGl(e){this.gl=e}}var Fy=(t=>(t[t.ShaderNames_SetupMask=0]="ShaderNames_SetupMask",t[t.ShaderNames_NormalPremultipliedAlpha=1]="ShaderNames_NormalPremultipliedAlpha",t[t.ShaderNames_NormalMaskedPremultipliedAlpha=2]="ShaderNames_NormalMaskedPremultipliedAlpha",t[t.ShaderNames_NomralMaskedInvertedPremultipliedAlpha=3]="ShaderNames_NomralMaskedInvertedPremultipliedAlpha",t[t.ShaderNames_AddPremultipliedAlpha=4]="ShaderNames_AddPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlpha=5]="ShaderNames_AddMaskedPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlphaInverted=6]="ShaderNames_AddMaskedPremultipliedAlphaInverted",t[t.ShaderNames_MultPremultipliedAlpha=7]="ShaderNames_MultPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlpha=8]="ShaderNames_MultMaskedPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlphaInverted=9]="ShaderNames_MultMaskedPremultipliedAlphaInverted",t))(Fy||{});const Fct="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",Nct="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",Bct="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",LH="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",Uct="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;void main(){   gl_FragColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;}",Vct="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;void main(){   vec4 col_formask = texture2D(s_texture0 , v_texCoord) * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",zct="precision mediump float;varying vec2 v_texCoord;varying vec4 v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4 u_channelFlag;uniform vec4 u_baseColor;void main(){vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;col_formask = col_formask * (1.0 - maskVal);gl_FragColor = col_formask;}";class koe extends t5{constructor(){super(),this._clippingContextBufferForMask=null,this._clippingContextBufferForDraw=null,this._clippingManager=new EP,this.firstDraw=!0,this._textures={},this._sortedDrawableIndexList=[],this._bufferData={vertex:null,uv:null,index:null}}initialize(e){e.isUsingMasking()&&(this._clippingManager=new EP,this._clippingManager.initialize(e,e.getDrawableCount(),e.getDrawableMasks(),e.getDrawableMaskCounts()));for(let r=e.getDrawableCount()-1;r>=0;r--)this._sortedDrawableIndexList[r]=0;super.initialize(e)}bindTexture(e,r){this._textures[e]=r}getBindedTextures(){return this._textures}setClippingMaskBufferSize(e){this._clippingManager.release(),this._clippingManager=new EP,this._clippingManager.setClippingMaskBufferSize(e),this._clippingManager.initialize(this.getModel(),this.getModel().getDrawableCount(),this.getModel().getDrawableMasks(),this.getModel().getDrawableMaskCounts())}getClippingMaskBufferSize(){return this._clippingManager.getClippingMaskBufferSize()}release(){var e,r,n;const i=this;this._clippingManager.release(),i._clippingManager=void 0,(e=this.gl)==null||e.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,(r=this.gl)==null||r.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,(n=this.gl)==null||n.deleteBuffer(this._bufferData.index),this._bufferData.index=null,i._bufferData=void 0,i._textures=void 0}doDrawModel(){this.preDraw(),this._clippingManager!=null&&this._clippingManager.setupClippingContext(this.getModel(),this);const e=this.getModel().getDrawableCount(),r=this.getModel().getDrawableRenderOrders();for(let n=0;n<e;++n){const i=r[n];this._sortedDrawableIndexList[i]=n}for(let n=0;n<e;++n){const i=this._sortedDrawableIndexList[n];this.getModel().getDrawableDynamicFlagIsVisible(i)&&(this.setClippingContextBufferForDraw(this._clippingManager!=null?this._clippingManager.getClippingContextListForDraw()[i]:null),this.setIsCulling(this.getModel().getDrawableCulling(i)),this.drawMesh(this.getModel().getDrawableTextureIndices(i),this.getModel().getDrawableVertexIndexCount(i),this.getModel().getDrawableVertexCount(i),this.getModel().getDrawableVertexIndices(i),this.getModel().getDrawableVertices(i),this.getModel().getDrawableVertexUvs(i),this.getModel().getDrawableOpacity(i),this.getModel().getDrawableBlendMode(i),this.getModel().getDrawableInvertedMaskBit(i)))}}drawMesh(e,r,n,i,s,o,a,l,u){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW);const d=this.getModelColor();this.getClippingContextBufferForMask()==null&&(d.A*=a,this.isPremultipliedAlpha()&&(d.R*=d.A,d.G*=d.A,d.B*=d.A));let f=null;this._textures[e]!=null&&(f=this._textures[e]),Og.getInstance().setupShaderProgram(this,f,n,s,i,o,this._bufferData,a,l,d,this.isPremultipliedAlpha(),this.getMvpMatrix(),u),this.gl.drawElements(this.gl.TRIANGLES,r,this.gl.UNSIGNED_SHORT,0),this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)}static doStaticRelease(){Og.deleteInstance()}setRenderState(e,r){ND=e,Ly=r}preDraw(){this.firstDraw&&(this.firstDraw=!1,this._anisortopy=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null)}setClippingContextBufferForMask(e){this._clippingContextBufferForMask=e}getClippingContextBufferForMask(){return this._clippingContextBufferForMask}setClippingContextBufferForDraw(e){this._clippingContextBufferForDraw=e}getClippingContextBufferForDraw(){return this._clippingContextBufferForDraw}startUp(e){this.gl=e,this._clippingManager.setGL(e),Og.getInstance().setGl(e)}}t5.staticRelease=()=>{koe.doStaticRelease()};const FH=new iu;class jct extends goe{constructor(e,r,n){super(),this.lipSync=!0,this.breath=s5.create(),this.renderer=new koe,this.idParamAngleX=Act,this.idParamAngleY=Pct,this.idParamAngleZ=kct,this.idParamEyeBallX=Ict,this.idParamEyeBallY=Oct,this.idParamBodyAngleX=Dct,this.idParamBreath=Mct,this.pixelsPerUnit=1,this.centeringTransform=new hs,this.coreModel=e,this.settings=r,this.motionManager=new Cct(r,n),this.init()}init(){var e;super.init(),((e=this.settings.getEyeBlinkParameters())==null?void 0:e.length)>0&&(this.eyeBlink=Poe.create(this.settings)),this.breath.setParameters([new hy(this.idParamAngleX,0,15,6.5345,.5),new hy(this.idParamAngleY,0,8,3.5345,.5),new hy(this.idParamAngleZ,0,10,5.5345,.5),new hy(this.idParamBodyAngleX,0,4,15.5345,.5),new hy(this.idParamBreath,0,.5,3.2345,.5)]),this.renderer.initialize(this.coreModel),this.renderer.setIsPremultipliedAlpha(!0)}getSize(){return[this.coreModel.getModel().canvasinfo.CanvasWidth,this.coreModel.getModel().canvasinfo.CanvasHeight]}getLayout(){const e={};if(this.settings.layout)for(const r of Object.keys(this.settings.layout)){const n=r.charAt(0).toLowerCase()+r.slice(1);e[n]=this.settings.layout[r]}return e}setupLayout(){super.setupLayout(),this.pixelsPerUnit=this.coreModel.getModel().canvasinfo.PixelsPerUnit,this.centeringTransform.scale(this.pixelsPerUnit,this.pixelsPerUnit).translate(this.originalWidth/2,this.originalHeight/2)}updateWebGLContext(e,r){this.renderer.firstDraw=!0,this.renderer._bufferData={vertex:null,uv:null,index:null},this.renderer.startUp(e),this.renderer._clippingManager._currentFrameNo=r,this.renderer._clippingManager._maskTexture=void 0,Og.getInstance()._shaderSets=[]}bindTexture(e,r){this.renderer.bindTexture(e,r)}getHitAreaDefs(){var e,r;return(r=(e=this.settings.hitAreas)==null?void 0:e.map(n=>({id:n.Id,name:n.Name,index:this.coreModel.getDrawableIndex(n.Id)})))!=null?r:[]}getDrawableIDs(){return this.coreModel.getDrawableIds()}getDrawableIndex(e){return this.coreModel.getDrawableIndex(e)}getDrawableVertices(e){if(typeof e=="string"&&(e=this.coreModel.getDrawableIndex(e),e===-1))throw new TypeError("Unable to find drawable ID: "+e);const r=this.coreModel.getDrawableVertices(e).slice();for(let n=0;n<r.length;n+=2)r[n]=r[n]*this.pixelsPerUnit+this.originalWidth/2,r[n+1]=-r[n+1]*this.pixelsPerUnit+this.originalHeight/2;return r}updateTransform(e){this.drawingMatrix.copyFrom(this.centeringTransform).prepend(this.localTransform).prepend(e)}update(e,r){var n,i,s,o;super.update(e,r),e/=1e3,r/=1e3;const a=this.coreModel;this.emit("beforeMotionUpdate");const l=this.motionManager.update(this.coreModel,r);this.emit("afterMotionUpdate"),a.saveParameters(),(n=this.motionManager.expressionManager)==null||n.update(a,r),l||(i=this.eyeBlink)==null||i.updateParameters(a,e),this.updateFocus(),this.updateNaturalMovements(e*1e3,r*1e3),(s=this.physics)==null||s.evaluate(a,e),(o=this.pose)==null||o.updateParameters(a,e),this.emit("beforeModelUpdate"),a.update(),a.loadParameters()}updateFocus(){this.coreModel.addParameterValueById(this.idParamEyeBallX,this.focusController.x),this.coreModel.addParameterValueById(this.idParamEyeBallY,this.focusController.y),this.coreModel.addParameterValueById(this.idParamAngleX,this.focusController.x*30),this.coreModel.addParameterValueById(this.idParamAngleY,this.focusController.y*30),this.coreModel.addParameterValueById(this.idParamAngleZ,this.focusController.x*this.focusController.y*-30),this.coreModel.addParameterValueById(this.idParamBodyAngleX,this.focusController.x*10)}updateNaturalMovements(e,r){var n;(n=this.breath)==null||n.updateParameters(this.coreModel,e/1e3)}draw(e){const r=this.drawingMatrix,n=FH.getArray();n[0]=r.a,n[1]=r.b,n[4]=-r.c,n[5]=-r.d,n[12]=r.tx,n[13]=r.ty,this.renderer.setMvpMatrix(FH),this.renderer.setRenderState(e.getParameter(e.FRAMEBUFFER_BINDING),this.viewport),this.renderer.drawModel()}destroy(){super.destroy(),this.renderer.release(),this.coreModel.release(),this.renderer=void 0,this.coreModel=void 0}}let lw,NH=20;function Hct(){return Fb.isStarted()?Promise.resolve():(lw??(lw=new Promise((t,e)=>{function r(){try{Gct(),t()}catch(n){if(NH--,NH<0){const i=new Error("Failed to start up Cubism 4 framework.");i.cause=n,e(i);return}Ui.log("Cubism4","Startup failed, retrying 10ms later..."),setTimeout(r,10)}}r()})),lw)}function Gct(t){t=Object.assign({logFunction:console.log,loggingLevel:_m.LogLevel_Verbose},t),Fb.startUp(t),Fb.initialize()}const Wct=.001,BH=.5;class o5{static create(e){const r=new o5;typeof e.FadeInTime=="number"&&(r._fadeTimeSeconds=e.FadeInTime,r._fadeTimeSeconds<=0&&(r._fadeTimeSeconds=BH));const n=e.Groups,i=n.length;for(let s=0;s<i;++s){const o=n[s],a=o.length;let l=0;for(let u=0;u<a;++u){const d=o[u],f=new ZT;f.partId=d.Id;const h=d.Link;if(h){const g=h.length;for(let p=0;p<g;++p){const v=new ZT;v.partId=h[p],f.link.push(v)}}r._partGroups.push(f),++l}r._partGroupCounts.push(l)}return r}updateParameters(e,r){e!=this._lastModel&&this.reset(e),this._lastModel=e,r<0&&(r=0);let n=0;for(let i=0;i<this._partGroupCounts.length;i++){const s=this._partGroupCounts[i];this.doFade(e,r,n,s),n+=s}this.copyPartOpacities(e)}reset(e){let r=0;for(let n=0;n<this._partGroupCounts.length;++n){const i=this._partGroupCounts[n];for(let s=r;s<r+i;++s){this._partGroups[s].initialize(e);const o=this._partGroups[s].partIndex,a=this._partGroups[s].parameterIndex;if(!(o<0)){e.setPartOpacityByIndex(o,s==r?1:0),e.setParameterValueByIndex(a,s==r?1:0);for(let l=0;l<this._partGroups[s].link.length;++l)this._partGroups[s].link[l].initialize(e)}}r+=i}}copyPartOpacities(e){for(let r=0;r<this._partGroups.length;++r){const n=this._partGroups[r];if(n.link.length==0)continue;const i=this._partGroups[r].partIndex,s=e.getPartOpacityByIndex(i);for(let o=0;o<n.link.length;++o){const l=n.link[o].partIndex;l<0||e.setPartOpacityByIndex(l,s)}}}doFade(e,r,n,i){let s=-1,o=1;const a=.5,l=.15;for(let u=n;u<n+i;++u){const d=this._partGroups[u].partIndex,f=this._partGroups[u].parameterIndex;if(e.getParameterValueByIndex(f)>Wct){if(s>=0)break;s=u,o=e.getPartOpacityByIndex(d),o+=r/this._fadeTimeSeconds,o>1&&(o=1)}}s<0&&(s=0,o=1);for(let u=n;u<n+i;++u){const d=this._partGroups[u].partIndex;if(s==u)e.setPartOpacityByIndex(d,o);else{let f=e.getPartOpacityByIndex(d),h;o<a?h=o*(a-1)/a+1:h=(1-o)*a/(1-a),(1-h)*(1-o)>l&&(h=1-l/(1-o)),f>h&&(f=h),e.setPartOpacityByIndex(d,f)}}}constructor(){this._fadeTimeSeconds=BH,this._lastModel=void 0,this._partGroups=[],this._partGroupCounts=[]}}class ZT{constructor(e){this.parameterIndex=0,this.partIndex=0,this.partId="",this.link=[],e!=null&&this.assignment(e)}assignment(e){return this.partId=e.partId,this.link=e.link.map(r=>r.clone()),this}initialize(e){this.parameterIndex=e.getParameterIndex(this.partId),this.partIndex=e.getPartIndex(this.partId),e.setParameterValueByIndex(this.parameterIndex,1)}clone(){const e=new ZT;return e.partId=this.partId,e.parameterIndex=this.parameterIndex,e.partIndex=this.partIndex,e.link=this.link.map(r=>r.clone()),e}}class qct{update(){this._model.update(),this._model.drawables.resetDynamicFlags()}getCanvasWidth(){return this._model==null?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit}getCanvasHeight(){return this._model==null?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit}saveParameters(){const e=this._model.parameters.count,r=this._savedParameters.length;for(let n=0;n<e;++n)n<r?this._savedParameters[n]=this._parameterValues[n]:this._savedParameters.push(this._parameterValues[n])}getModel(){return this._model}getPartIndex(e){let r;const n=this._model.parts.count;for(r=0;r<n;++r)if(e==this._partIds[r])return r;return e in this._notExistPartId?this._notExistPartId[e]:(r=n+this._notExistPartId.length,this._notExistPartId[e]=r,this._notExistPartOpacities[r]=0,r)}getPartCount(){return this._model.parts.count}setPartOpacityByIndex(e,r){if(e in this._notExistPartOpacities){this._notExistPartOpacities[e]=r;return}aw(0<=e&&e<this.getPartCount()),this._partOpacities[e]=r}setPartOpacityById(e,r){const n=this.getPartIndex(e);n<0||this.setPartOpacityByIndex(n,r)}getPartOpacityByIndex(e){return e in this._notExistPartOpacities?this._notExistPartOpacities[e]:(aw(0<=e&&e<this.getPartCount()),this._partOpacities[e])}getPartOpacityById(e){const r=this.getPartIndex(e);return r<0?0:this.getPartOpacityByIndex(r)}getParameterIndex(e){let r;const n=this._model.parameters.count;for(r=0;r<n;++r)if(e==this._parameterIds[r])return r;return e in this._notExistParameterId?this._notExistParameterId[e]:(r=this._model.parameters.count+Object.keys(this._notExistParameterId).length,this._notExistParameterId[e]=r,this._notExistParameterValues[r]=0,r)}getParameterCount(){return this._model.parameters.count}getParameterMaximumValue(e){return this._model.parameters.maximumValues[e]}getParameterMinimumValue(e){return this._model.parameters.minimumValues[e]}getParameterDefaultValue(e){return this._model.parameters.defaultValues[e]}getParameterValueByIndex(e){return e in this._notExistParameterValues?this._notExistParameterValues[e]:(aw(0<=e&&e<this.getParameterCount()),this._parameterValues[e])}getParameterValueById(e){const r=this.getParameterIndex(e);return this.getParameterValueByIndex(r)}setParameterValueByIndex(e,r,n=1){if(e in this._notExistParameterValues){this._notExistParameterValues[e]=n==1?r:this._notExistParameterValues[e]*(1-n)+r*n;return}aw(0<=e&&e<this.getParameterCount()),this._model.parameters.maximumValues[e]<r&&(r=this._model.parameters.maximumValues[e]),this._model.parameters.minimumValues[e]>r&&(r=this._model.parameters.minimumValues[e]),this._parameterValues[e]=n==1?r:this._parameterValues[e]=this._parameterValues[e]*(1-n)+r*n}setParameterValueById(e,r,n=1){const i=this.getParameterIndex(e);this.setParameterValueByIndex(i,r,n)}addParameterValueByIndex(e,r,n=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)+r*n)}addParameterValueById(e,r,n=1){const i=this.getParameterIndex(e);this.addParameterValueByIndex(i,r,n)}multiplyParameterValueById(e,r,n=1){const i=this.getParameterIndex(e);this.multiplyParameterValueByIndex(i,r,n)}multiplyParameterValueByIndex(e,r,n=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)*(1+(r-1)*n))}getDrawableIds(){return this._drawableIds.slice()}getDrawableIndex(e){const r=this._model.drawables.count;for(let n=0;n<r;++n)if(this._drawableIds[n]==e)return n;return-1}getDrawableCount(){return this._model.drawables.count}getDrawableId(e){return this._model.drawables.ids[e]}getDrawableRenderOrders(){return this._model.drawables.renderOrders}getDrawableTextureIndices(e){return this._model.drawables.textureIndices[e]}getDrawableDynamicFlagVertexPositionsDidChange(e){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(r[e])}getDrawableVertexIndexCount(e){return this._model.drawables.indexCounts[e]}getDrawableVertexCount(e){return this._model.drawables.vertexCounts[e]}getDrawableVertices(e){return this.getDrawableVertexPositions(e)}getDrawableVertexIndices(e){return this._model.drawables.indices[e]}getDrawableVertexPositions(e){return this._model.drawables.vertexPositions[e]}getDrawableVertexUvs(e){return this._model.drawables.vertexUvs[e]}getDrawableOpacity(e){return this._model.drawables.opacities[e]}getDrawableCulling(e){const r=this._model.drawables.constantFlags;return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(r[e])}getDrawableBlendMode(e){const r=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(r[e])?$h.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(r[e])?$h.CubismBlendMode_Multiplicative:$h.CubismBlendMode_Normal}getDrawableInvertedMaskBit(e){const r=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasIsInvertedMaskBit(r[e])}getDrawableMasks(){return this._model.drawables.masks}getDrawableMaskCounts(){return this._model.drawables.maskCounts}isUsingMasking(){for(let e=0;e<this._model.drawables.count;++e)if(!(this._model.drawables.maskCounts[e]<=0))return!0;return!1}getDrawableDynamicFlagIsVisible(e){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasIsVisibleBit(r[e])}getDrawableDynamicFlagVisibilityDidChange(e){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(r[e])}getDrawableDynamicFlagOpacityDidChange(e){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasOpacityDidChangeBit(r[e])}getDrawableDynamicFlagRenderOrderDidChange(e){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(r[e])}loadParameters(){let e=this._model.parameters.count;const r=this._savedParameters.length;e>r&&(e=r);for(let n=0;n<e;++n)this._parameterValues[n]=this._savedParameters[n]}initialize(){this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;{const e=this._model.parameters.ids,r=this._model.parameters.count;for(let n=0;n<r;++n)this._parameterIds.push(e[n])}{const e=this._model.parts.ids,r=this._model.parts.count;for(let n=0;n<r;++n)this._partIds.push(e[n])}{const e=this._model.drawables.ids,r=this._model.drawables.count;for(let n=0;n<r;++n)this._drawableIds.push(e[n])}}constructor(e){this._model=e,this._savedParameters=[],this._parameterIds=[],this._drawableIds=[],this._partIds=[],this._notExistPartId={},this._notExistParameterId={},this._notExistParameterValues={},this._notExistPartOpacities={},this.initialize()}release(){this._model.release(),this._model=void 0}}class a5{static create(e){const r=Live2DCubismCore.Moc.fromArrayBuffer(e);if(r)return new a5(r);throw new Error("Unknown error")}createModel(){let e;const r=Live2DCubismCore.Model.fromMoc(this._moc);if(r)return e=new qct(r),++this._modelCount,e;throw new Error("Unknown error")}deleteModel(e){e!=null&&--this._modelCount}constructor(e){this._moc=e,this._modelCount=0}release(){this._moc._release(),this._moc=void 0}}var BD=(t=>(t[t.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter",t))(BD||{}),Jp=(t=>(t[t.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",t[t.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",t[t.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle",t))(Jp||{});class Xct{constructor(){this.initialPosition=new Dn(0,0),this.position=new Dn(0,0),this.lastPosition=new Dn(0,0),this.lastGravity=new Dn(0,0),this.force=new Dn(0,0),this.velocity=new Dn(0,0)}}class Yct{constructor(){this.normalizationPosition={},this.normalizationAngle={}}}class Kct{constructor(){this.source={}}}class Zct{constructor(){this.destination={},this.translationScale=new Dn(0,0)}}class Qct{constructor(){this.settings=[],this.inputs=[],this.outputs=[],this.particles=[],this.gravity=new Dn(0,0),this.wind=new Dn(0,0)}}class Jct{constructor(e){this._json=e}release(){this._json=void 0}getGravity(){const e=new Dn(0,0);return e.x=this._json.Meta.EffectiveForces.Gravity.X,e.y=this._json.Meta.EffectiveForces.Gravity.Y,e}getWind(){const e=new Dn(0,0);return e.x=this._json.Meta.EffectiveForces.Wind.X,e.y=this._json.Meta.EffectiveForces.Wind.Y,e}getSubRigCount(){return this._json.Meta.PhysicsSettingCount}getTotalInputCount(){return this._json.Meta.TotalInputCount}getTotalOutputCount(){return this._json.Meta.TotalOutputCount}getVertexCount(){return this._json.Meta.VertexCount}getNormalizationPositionMinimumValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Minimum}getNormalizationPositionMaximumValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Maximum}getNormalizationPositionDefaultValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Default}getNormalizationAngleMinimumValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Minimum}getNormalizationAngleMaximumValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Maximum}getNormalizationAngleDefaultValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Default}getInputCount(e){return this._json.PhysicsSettings[e].Input.length}getInputWeight(e,r){return this._json.PhysicsSettings[e].Input[r].Weight}getInputReflect(e,r){return this._json.PhysicsSettings[e].Input[r].Reflect}getInputType(e,r){return this._json.PhysicsSettings[e].Input[r].Type}getInputSourceId(e,r){return this._json.PhysicsSettings[e].Input[r].Source.Id}getOutputCount(e){return this._json.PhysicsSettings[e].Output.length}getOutputVertexIndex(e,r){return this._json.PhysicsSettings[e].Output[r].VertexIndex}getOutputAngleScale(e,r){return this._json.PhysicsSettings[e].Output[r].Scale}getOutputWeight(e,r){return this._json.PhysicsSettings[e].Output[r].Weight}getOutputDestinationId(e,r){return this._json.PhysicsSettings[e].Output[r].Destination.Id}getOutputType(e,r){return this._json.PhysicsSettings[e].Output[r].Type}getOutputReflect(e,r){return this._json.PhysicsSettings[e].Output[r].Reflect}getParticleCount(e){return this._json.PhysicsSettings[e].Vertices.length}getParticleMobility(e,r){return this._json.PhysicsSettings[e].Vertices[r].Mobility}getParticleDelay(e,r){return this._json.PhysicsSettings[e].Vertices[r].Delay}getParticleAcceleration(e,r){return this._json.PhysicsSettings[e].Vertices[r].Acceleration}getParticleRadius(e,r){return this._json.PhysicsSettings[e].Vertices[r].Radius}getParticlePosition(e,r){const n=new Dn(0,0);return n.x=this._json.PhysicsSettings[e].Vertices[r].Position.X,n.y=this._json.PhysicsSettings[e].Vertices[r].Position.Y,n}}const UH="X",VH="Y",zH="Angle",edt=5,Ioe=100,tdt=.001;class l5{static create(e){const r=new l5;return r.parse(e),r._physicsRig.gravity.y=0,r}evaluate(e,r){let n,i,s,o;const a=new Dn;let l,u,d,f,h,g,p,v;h=e.getModel().parameters.values,g=e.getModel().parameters.maximumValues,p=e.getModel().parameters.minimumValues,v=e.getModel().parameters.defaultValues;for(let b=0;b<this._physicsRig.subRigCount;++b){n={angle:0},a.x=0,a.y=0,l=this._physicsRig.settings[b],u=this._physicsRig.inputs.slice(l.baseInputIndex),d=this._physicsRig.outputs.slice(l.baseOutputIndex),f=this._physicsRig.particles.slice(l.baseParticleIndex);for(let S=0;S<l.inputCount;++S)i=u[S].weight/Ioe,u[S].sourceParameterIndex==-1&&(u[S].sourceParameterIndex=e.getParameterIndex(u[S].source.id)),u[S].getNormalizedParameterValue(a,n,h[u[S].sourceParameterIndex],p[u[S].sourceParameterIndex],g[u[S].sourceParameterIndex],v[u[S].sourceParameterIndex],l.normalizationPosition,l.normalizationAngle,u[S].reflect,i);s=Yi.degreesToRadian(-n.angle),a.x=a.x*Yi.cos(s)-a.y*Yi.sin(s),a.y=a.x*Yi.sin(s)+a.y*Yi.cos(s),pdt(f,l.particleCount,a,n.angle,this._options.wind,tdt*l.normalizationPosition.maximum,r,edt);for(let S=0;S<l.outputCount;++S){const T=d[S].vertexIndex;if(T<1||T>=l.particleCount)break;d[S].destinationParameterIndex==-1&&(d[S].destinationParameterIndex=e.getParameterIndex(d[S].destination.id));const E=new Dn;E.x=f[T].position.x-f[T-1].position.x,E.y=f[T].position.y-f[T-1].position.y,o=d[S].getValue(E,f,T,d[S].reflect,this._options.gravity);const C=d[S].destinationParameterIndex,P=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(h.subarray(C))):h.slice(C);mdt(P,p[C],g[C],o,d[S]);for(let D=C,L=0;D<h.length;D++,L++)h[D]=P[L]}}}setOptions(e){this._options=e}getOption(){return this._options}constructor(){this._options=new rdt,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0}release(){this._physicsRig=void 0}parse(e){this._physicsRig=new Qct;let r=new Jct(e);this._physicsRig.gravity=r.getGravity(),this._physicsRig.wind=r.getWind(),this._physicsRig.subRigCount=r.getSubRigCount();let n=0,i=0,s=0;for(let o=0;o<this._physicsRig.subRigCount;++o){const a=new Yct;a.normalizationPosition.minimum=r.getNormalizationPositionMinimumValue(o),a.normalizationPosition.maximum=r.getNormalizationPositionMaximumValue(o),a.normalizationPosition.defalut=r.getNormalizationPositionDefaultValue(o),a.normalizationAngle.minimum=r.getNormalizationAngleMinimumValue(o),a.normalizationAngle.maximum=r.getNormalizationAngleMaximumValue(o),a.normalizationAngle.defalut=r.getNormalizationAngleDefaultValue(o),a.inputCount=r.getInputCount(o),a.baseInputIndex=n,n+=a.inputCount;for(let l=0;l<a.inputCount;++l){const u=new Kct;switch(u.sourceParameterIndex=-1,u.weight=r.getInputWeight(o,l),u.reflect=r.getInputReflect(o,l),r.getInputType(o,l)){case UH:u.type=Jp.CubismPhysicsSource_X,u.getNormalizedParameterValue=ndt;break;case VH:u.type=Jp.CubismPhysicsSource_Y,u.getNormalizedParameterValue=idt;break;case zH:u.type=Jp.CubismPhysicsSource_Angle,u.getNormalizedParameterValue=sdt;break}u.source.targetType=BD.CubismPhysicsTargetType_Parameter,u.source.id=r.getInputSourceId(o,l),this._physicsRig.inputs.push(u)}a.outputCount=r.getOutputCount(o),a.baseOutputIndex=i,i+=a.outputCount;for(let l=0;l<a.outputCount;++l){const u=new Zct;switch(u.destinationParameterIndex=-1,u.vertexIndex=r.getOutputVertexIndex(o,l),u.angleScale=r.getOutputAngleScale(o,l),u.weight=r.getOutputWeight(o,l),u.destination.targetType=BD.CubismPhysicsTargetType_Parameter,u.destination.id=r.getOutputDestinationId(o,l),r.getOutputType(o,l)){case UH:u.type=Jp.CubismPhysicsSource_X,u.getValue=odt,u.getScale=ddt;break;case VH:u.type=Jp.CubismPhysicsSource_Y,u.getValue=adt,u.getScale=fdt;break;case zH:u.type=Jp.CubismPhysicsSource_Angle,u.getValue=ldt,u.getScale=hdt;break}u.reflect=r.getOutputReflect(o,l),this._physicsRig.outputs.push(u)}a.particleCount=r.getParticleCount(o),a.baseParticleIndex=s,s+=a.particleCount;for(let l=0;l<a.particleCount;++l){const u=new Xct;u.mobility=r.getParticleMobility(o,l),u.delay=r.getParticleDelay(o,l),u.acceleration=r.getParticleAcceleration(o,l),u.radius=r.getParticleRadius(o,l),u.position=r.getParticlePosition(o,l),this._physicsRig.particles.push(u)}this._physicsRig.settings.push(a)}this.initialize(),r.release()}initialize(){let e,r,n;for(let i=0;i<this._physicsRig.subRigCount;++i){r=this._physicsRig.settings[i],e=this._physicsRig.particles.slice(r.baseParticleIndex),e[0].initialPosition=new Dn(0,0),e[0].lastPosition=new Dn(e[0].initialPosition.x,e[0].initialPosition.y),e[0].lastGravity=new Dn(0,-1),e[0].lastGravity.y*=-1,e[0].velocity=new Dn(0,0),e[0].force=new Dn(0,0);for(let s=1;s<r.particleCount;++s)n=new Dn(0,0),n.y=e[s].radius,e[s].initialPosition=new Dn(e[s-1].initialPosition.x+n.x,e[s-1].initialPosition.y+n.y),e[s].position=new Dn(e[s].initialPosition.x,e[s].initialPosition.y),e[s].lastPosition=new Dn(e[s].initialPosition.x,e[s].initialPosition.y),e[s].lastGravity=new Dn(0,-1),e[s].lastGravity.y*=-1,e[s].velocity=new Dn(0,0),e[s].force=new Dn(0,0)}}}class rdt{constructor(){this.gravity=new Dn(0,0),this.wind=new Dn(0,0)}}function ndt(t,e,r,n,i,s,o,a,l,u){t.x+=u5(r,n,i,s,o.minimum,o.maximum,o.defalut,l)*u}function idt(t,e,r,n,i,s,o,a,l,u){t.y+=u5(r,n,i,s,o.minimum,o.maximum,o.defalut,l)*u}function sdt(t,e,r,n,i,s,o,a,l,u){e.angle+=u5(r,n,i,s,a.minimum,a.maximum,a.defalut,l)*u}function odt(t,e,r,n,i){let s=t.x;return n&&(s*=-1),s}function adt(t,e,r,n,i){let s=t.y;return n&&(s*=-1),s}function ldt(t,e,r,n,i){let s;return r>=2?i=e[r-1].position.substract(e[r-2].position):i=i.multiplyByScaler(-1),s=Yi.directionToRadian(i,t),n&&(s*=-1),s}function udt(t,e){return Math.abs(Math.max(t,e)-Math.min(t,e))}function cdt(t,e){return Math.min(t,e)+udt(t,e)/2}function ddt(t,e){return t.x}function fdt(t,e){return t.y}function hdt(t,e){return e}function pdt(t,e,r,n,i,s,o,a){let l,u,d,f,h=new Dn(0,0),g=new Dn(0,0),p=new Dn(0,0),v=new Dn(0,0);t[0].position=new Dn(r.x,r.y),l=Yi.degreesToRadian(n),f=Yi.radianToDirection(l),f.normalize();for(let b=1;b<e;++b)t[b].force=f.multiplyByScaler(t[b].acceleration).add(i),t[b].lastPosition=new Dn(t[b].position.x,t[b].position.y),u=t[b].delay*o*30,h=t[b].position.substract(t[b-1].position),d=Yi.directionToRadian(t[b].lastGravity,f)/a,h.x=Yi.cos(d)*h.x-h.y*Yi.sin(d),h.y=Yi.sin(d)*h.x+h.y*Yi.cos(d),t[b].position=t[b-1].position.add(h),g=t[b].velocity.multiplyByScaler(u),p=t[b].force.multiplyByScaler(u).multiplyByScaler(u),t[b].position=t[b].position.add(g).add(p),v=t[b].position.substract(t[b-1].position),v.normalize(),t[b].position=t[b-1].position.add(v.multiplyByScaler(t[b].radius)),Yi.abs(t[b].position.x)<s&&(t[b].position.x=0),u!=0&&(t[b].velocity=t[b].position.substract(t[b].lastPosition),t[b].velocity=t[b].velocity.divisionByScalar(u),t[b].velocity=t[b].velocity.multiplyByScaler(t[b].mobility)),t[b].force=new Dn(0,0),t[b].lastGravity=new Dn(f.x,f.y)}function mdt(t,e,r,n,i){let s,o,a;s=i.getScale(i.translationScale,i.angleScale),o=n*s,o<e?(o<i.valueBelowMinimum&&(i.valueBelowMinimum=o),o=e):o>r&&(o>i.valueExceededMaximum&&(i.valueExceededMaximum=o),o=r),a=i.weight/Ioe,a>=1||(o=t[0]*(1-a)+o*a),t[0]=o}function u5(t,e,r,n,i,s,o,a){let l=0;const u=Yi.max(r,e);u<t&&(t=u);const d=Yi.min(r,e);d>t&&(t=d);const f=Yi.min(i,s),h=Yi.max(i,s),g=o,p=cdt(d,u),v=t-p;switch(Math.sign(v)){case 1:{const b=h-g,S=u-p;S!=0&&(l=v*(b/S),l+=g);break}case-1:{const b=f-g,S=d-p;S!=0&&(l=v*(b/S),l+=g);break}case 0:{l=g;break}}return a?l:l*-1}ps.registerRuntime({version:4,ready:Hct,test(t){return t instanceof Ig||Ig.isValidJSON(t)},isValidMoc(t){if(t.byteLength<4)return!1;const e=new Int8Array(t,0,4);return String.fromCharCode(...e)==="MOC3"},createModelSettings(t){return new Ig(t)},createCoreModel(t){const e=a5.create(t);try{const r=e.createModel();return r.__moc=e,r}catch(r){try{e.release()}catch{}throw r}},createInternalModel(t,e,r){const n=new jct(t,e,r),i=t;return i.__moc&&(n.__moc=i.__moc,delete i.__moc,n.once("destroy",gdt)),n},createPhysics(t,e){return l5.create(e)},createPose(t,e){return o5.create(e)}});function gdt(){var t;(t=this.__moc)==null||t.release()}window.PIXI=Lut;const vdt=new Q$({view:document.getElementById("Kurisu"),autoStart:!0,resizeTo:window,backgroundAlpha:0}),_dt="/Rintaro/Rintaro.model3.json",ydt="/Christina/Christina.model3.json",bdt="/Mayuri/Mayuri.model3.json";xdt();let Na;async function xdt(){Na=await Promise.all([fS.from(ydt),fS.from(_dt),fS.from(bdt)]),Na.forEach(n=>{vdt.stage.addChild(n);const i=innerWidth*.4/n.width,s=innerHeight*.8/n.height;n.scale.set(Math.min(i,s)),n.y=innerHeight*.1,n.on("pointertap",()=>{Na[0].motion("tap")}),n.on("pointerleave",()=>{Na[0].motion("Idle")}),n.on("pointertap",()=>{Na[0].motion("tap")}),n.on("pointerupoutside",()=>{Na[0].motion("pose")})});const t=Na[2],e=Na[1],r=Na[0];r.x=(innerWidth-t.width-e.width-r.width)/3,e.x=r.x+r.width,t.x=e.x+e.width,Tdt(Na[0]),Na[0].on("pointertap",()=>{Na[0].motion("tap")})}var UD,$o={originScale:1,scale:1,pageX:0,pageY:0,pageX2:0,pageY2:0};document.addEventListener("touchstart",function(t){var e=t.touches,r=e[0],n=e[1];$o.pageX=r.pageX,$o.pageY=r.pageY,n!=null&&($o.pageX2=n.pageX,$o.pageY2=n.pageY),$o.originScale=$o.scale||1});document.addEventListener("touchmove",function(t){var e=t.touches,r=e[0],n=e[1];if(n!=null){$o.pageX2||($o.pageX2=n.pageX),$o.pageY2||($o.pageY2=n.pageY);var i=function(a,l){return Math.hypot(l.x-a.x,l.y-a.y)},s=i({x:r.pageX,y:r.pageY},{x:n.pageX,y:n.pageY})/i({x:$o.pageX,y:$o.pageY},{x:$o.pageX2,y:$o.pageY2}),o=$o.originScale*s;$o.scale=o,Na[0].scale.set($o.scale)}});function wdt(t){window.innerWidth<window.innerHeight?UD=.3:UD=.8;for(let e in t)Sdt(t[e])}const Sdt=t=>{t&&t.scale&&t.scale.set(UD)};window.onresize=function(){wdt(Na),Ct.width=window.innerWidth};function Tdt(t){t.buttonMode=!0,t.on("pointerdown",e=>{t.dragging=!0,t._pointerX=e.data.global.x-t.x,t._pointerY=e.data.global.y-t.y}),t.on("pointermove",e=>{t.dragging&&(t.position.x=e.data.global.x-t._pointerX,t.position.y=e.data.global.y-t._pointerY)}),t.on("pointerupoutside",()=>t.dragging=!1),t.on("pointerup",()=>t.dragging=!1)}const Edt=He("span",{class:"hidden-md-and-up"},"not support",-1),Cdt=rt({__name:"Tabs",setup(t){const e=ye("Home");return(r,n)=>{const i=Eet,s=PAe,o=rie,a=AAe;return he(),At(a,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=l=>e.value=l),type:"card"},{default:ne(()=>[N(s,{label:"Home",name:"Home"},{default:ne(()=>[N(i)]),_:1}),N(s,{label:"Labroom",name:"Labroom"}),y(Ct).width>768&&y(Pe).permission!=null&&y(Pe).permission.includes("admin")?(he(),At(s,{key:0,label:"Dashboard",name:"Dashboard"},{default:ne(()=>[N(o,{class:"hidden-sm-and-down"}),Edt]),_:1})):xt("",!0)]),_:1},8,["modelValue"])}}});const Adt={};function Pdt(t,e){const r=Cdt,n=GX,i=ewe;return he(),At(i,{gutter:10},{default:ne(()=>[N(n,{xs:24,sm:24,md:24,lg:24,xl:24},{default:ne(()=>[N(r)]),_:1})]),_:1})}const kdt=y1(Adt,[["render",Pdt]]);const Idt={};function Odt(t,e){const r=kdt,n=zJe,i=BJe;return he(),Ue(Ar,null,[N(r),N(n),N(i)],64)}const Ddt=y1(Idt,[["render",Odt]]);/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Qm=typeof document<"u";function Mdt(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ii=Object.assign;function CP(t,e){const r={};for(const n in e){const i=e[n];r[n]=cc(i)?i.map(t):t(i)}return r}const x2=()=>{},cc=Array.isArray,Ooe=/#/g,Rdt=/&/g,$dt=/\//g,Ldt=/=/g,Fdt=/\?/g,Doe=/\+/g,Ndt=/%5B/g,Bdt=/%5D/g,Moe=/%5E/g,Udt=/%60/g,Roe=/%7B/g,Vdt=/%7C/g,$oe=/%7D/g,zdt=/%20/g;function c5(t){return encodeURI(""+t).replace(Vdt,"|").replace(Ndt,"[").replace(Bdt,"]")}function jdt(t){return c5(t).replace(Roe,"{").replace($oe,"}").replace(Moe,"^")}function VD(t){return c5(t).replace(Doe,"%2B").replace(zdt,"+").replace(Ooe,"%23").replace(Rdt,"%26").replace(Udt,"`").replace(Roe,"{").replace($oe,"}").replace(Moe,"^")}function Hdt(t){return VD(t).replace(Ldt,"%3D")}function Gdt(t){return c5(t).replace(Ooe,"%23").replace(Fdt,"%3F")}function Wdt(t){return t==null?"":Gdt(t).replace($dt,"%2F")}function Nb(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const qdt=/\/$/,Xdt=t=>t.replace(qdt,"");function AP(t,e,r="/"){let n,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=Qdt(n??e,r),{fullPath:n+(s&&"?")+s+o,path:n,query:i,hash:Nb(o)}}function Ydt(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function jH(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Kdt(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&Av(e.matched[n],r.matched[i])&&Loe(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Av(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Loe(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Zdt(t[r],e[r]))return!1;return!0}function Zdt(t,e){return cc(t)?HH(t,e):cc(e)?HH(e,t):t===e}function HH(t,e){return cc(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function Qdt(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let s=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(o).join("/")}var Bb;(function(t){t.pop="pop",t.push="push"})(Bb||(Bb={}));var w2;(function(t){t.back="back",t.forward="forward",t.unknown=""})(w2||(w2={}));function Jdt(t){if(!t)if(Qm){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Xdt(t)}const eft=/^[^#]+#/;function tft(t,e){return t.replace(eft,"#")+e}function rft(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const qC=()=>({left:window.scrollX,top:window.scrollY});function nft(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=rft(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function GH(t,e){return(history.state?history.state.position-e:-1)+t}const zD=new Map;function ift(t,e){zD.set(t,e)}function sft(t){const e=zD.get(t);return zD.delete(t),e}let oft=()=>location.protocol+"//"+location.host;function Foe(t,e){const{pathname:r,search:n,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),jH(l,"")}return jH(r,t)+n+i}function aft(t,e,r,n){let i=[],s=[],o=null;const a=({state:h})=>{const g=Foe(t,location),p=r.value,v=e.value;let b=0;if(h){if(r.value=g,e.value=h,o&&o===p){o=null;return}b=v?h.position-v.position:0}else n(g);i.forEach(S=>{S(r.value,p,{delta:b,type:Bb.pop,direction:b?b>0?w2.forward:w2.back:w2.unknown})})};function l(){o=r.value}function u(h){i.push(h);const g=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(g),g}function d(){const{history:h}=window;h.state&&h.replaceState(Ii({},h.state,{scroll:qC()}),"")}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function WH(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?qC():null}}function lft(t){const{history:e,location:r}=window,n={value:Foe(t,r)},i={value:e.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,d){const f=t.indexOf("#"),h=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+l:oft()+t+l;try{e[d?"replaceState":"pushState"](u,"",h),i.value=u}catch(g){console.error(g),r[d?"replace":"assign"](h)}}function o(l,u){const d=Ii({},e.state,WH(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,d,!0),n.value=l}function a(l,u){const d=Ii({},i.value,e.state,{forward:l,scroll:qC()});s(d.current,d,!0);const f=Ii({},WH(n.value,l,null),{position:d.position+1},u);s(l,f,!1),n.value=l}return{location:n,state:i,push:a,replace:o}}function uft(t){t=Jdt(t);const e=lft(t),r=aft(t,e.state,e.location,e.replace);function n(s,o=!0){o||r.pauseListeners(),history.go(s)}const i=Ii({location:"",base:t,go:n,createHref:tft.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function cft(t){return typeof t=="string"||t&&typeof t=="object"}function Noe(t){return typeof t=="string"||typeof t=="symbol"}const rh={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Boe=Symbol("");var qH;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(qH||(qH={}));function Pv(t,e){return Ii(new Error,{type:t,[Boe]:!0},e)}function Vd(t,e){return t instanceof Error&&Boe in t&&(e==null||!!(t.type&e))}const XH="[^/]+?",dft={sensitive:!1,strict:!1,start:!0,end:!0},fft=/[.+*?^${}()[\]/\\]/g;function hft(t,e){const r=Ii({},dft,e),n=[];let i=r.start?"^":"";const s=[];for(const u of t){const d=u.length?[]:[90];r.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const h=u[f];let g=40+(r.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(fft,"\\$&"),g+=40;else if(h.type===1){const{value:p,repeatable:v,optional:b,regexp:S}=h;s.push({name:p,repeatable:v,optional:b});const T=S||XH;if(T!==XH){g+=10;try{new RegExp(`(${T})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${p}" (${T}): `+C.message)}}let E=v?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;f||(E=b&&u.length<2?`(?:/${E})`:"/"+E),b&&(E+="?"),i+=E,g+=20,b&&(g+=-8),v&&(g+=-20),T===".*"&&(g+=-50)}d.push(g)}n.push(d)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function a(u){const d=u.match(o),f={};if(!d)return null;for(let h=1;h<d.length;h++){const g=d[h]||"",p=s[h-1];f[p.name]=g&&p.repeatable?g.split("/"):g}return f}function l(u){let d="",f=!1;for(const h of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const g of h)if(g.type===0)d+=g.value;else if(g.type===1){const{value:p,repeatable:v,optional:b}=g,S=p in u?u[p]:"";if(cc(S)&&!v)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const T=cc(S)?S.join("/"):S;if(!T)if(b)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);d+=T}}return d||"/"}return{re:o,score:n,keys:s,parse:a,stringify:l}}function pft(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function mft(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const s=pft(n[r],i[r]);if(s)return s;r++}if(Math.abs(i.length-n.length)===1){if(YH(n))return 1;if(YH(i))return-1}return i.length-n.length}function YH(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const gft={type:0,value:""},vft=/[a-zA-Z0-9_]/;function _ft(t){if(!t)return[[]];if(t==="/")return[[gft]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${r})/"${u}": ${g}`)}let r=0,n=r;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",d="";function f(){u&&(r===0?s.push({type:0,value:u}):r===1||r===2||r===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),r=1):h();break;case 4:h(),r=n;break;case 1:l==="("?r=2:vft.test(l)?h():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:r=3:d+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),i}function yft(t,e,r){const n=hft(_ft(t.path),r),i=Ii(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function bft(t,e){const r=[],n=new Map;e=QH({strict:!1,end:!0,sensitive:!1},e);function i(d){return n.get(d)}function s(d,f,h){const g=!h,p=xft(d);p.aliasOf=h&&h.record;const v=QH(e,d),b=[p];if("alias"in d){const E=typeof d.alias=="string"?[d.alias]:d.alias;for(const C of E)b.push(Ii({},p,{components:h?h.record.components:p.components,path:C,aliasOf:h?h.record:p}))}let S,T;for(const E of b){const{path:C}=E;if(f&&C[0]!=="/"){const P=f.record.path,D=P[P.length-1]==="/"?"":"/";E.path=f.record.path+(C&&D+C)}if(S=yft(E,f,v),h?h.alias.push(S):(T=T||S,T!==S&&T.alias.push(S),g&&d.name&&!ZH(S)&&o(d.name)),p.children){const P=p.children;for(let D=0;D<P.length;D++)s(P[D],S,h&&h.children[D])}h=h||S,(S.record.components&&Object.keys(S.record.components).length||S.record.name||S.record.redirect)&&l(S)}return T?()=>{o(T)}:x2}function o(d){if(Noe(d)){const f=n.get(d);f&&(n.delete(d),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(d);f>-1&&(r.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return r}function l(d){let f=0;for(;f<r.length&&mft(d,r[f])>=0&&(d.record.path!==r[f].record.path||!Uoe(d,r[f]));)f++;r.splice(f,0,d),d.record.name&&!ZH(d)&&n.set(d.record.name,d)}function u(d,f){let h,g={},p,v;if("name"in d&&d.name){if(h=n.get(d.name),!h)throw Pv(1,{location:d});v=h.record.name,g=Ii(KH(f.params,h.keys.filter(T=>!T.optional).concat(h.parent?h.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),d.params&&KH(d.params,h.keys.map(T=>T.name))),p=h.stringify(g)}else if(d.path!=null)p=d.path,h=r.find(T=>T.re.test(p)),h&&(g=h.parse(p),v=h.record.name);else{if(h=f.name?n.get(f.name):r.find(T=>T.re.test(f.path)),!h)throw Pv(1,{location:d,currentLocation:f});v=h.record.name,g=Ii({},f.params,d.params),p=h.stringify(g)}const b=[];let S=h;for(;S;)b.unshift(S.record),S=S.parent;return{name:v,path:p,params:g,matched:b,meta:Sft(b)}}return t.forEach(d=>s(d)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function KH(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function xft(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:wft(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function wft(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function ZH(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Sft(t){return t.reduce((e,r)=>Ii(e,r.meta),{})}function QH(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function Uoe(t,e){return e.children.some(r=>r===t||Uoe(t,r))}function Tft(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(Doe," "),o=s.indexOf("="),a=Nb(o<0?s:s.slice(0,o)),l=o<0?null:Nb(s.slice(o+1));if(a in e){let u=e[a];cc(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function JH(t){let e="";for(let r in t){const n=t[r];if(r=Hdt(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(cc(n)?n.map(s=>s&&VD(s)):[n&&VD(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function Eft(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=cc(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const Cft=Symbol(""),eG=Symbol(""),d5=Symbol(""),Voe=Symbol(""),jD=Symbol("");function py(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function vh(t,e,r,n,i,s=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(Pv(4,{from:r,to:e})):h instanceof Error?l(h):cft(h)?l(Pv(2,{from:e,to:h})):(o&&n.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},d=s(()=>t.call(n&&n.instances[i],e,r,u));let f=Promise.resolve(d);t.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function PP(t,e,r,n,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Aft(l)){const d=(l.__vccOpts||l)[e];d&&s.push(vh(d,r,n,o,a,i))}else{let u=l();s.push(()=>u.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const f=Mdt(d)?d.default:d;o.components[a]=f;const g=(f.__vccOpts||f)[e];return g&&vh(g,r,n,o,a,i)()}))}}return s}function Aft(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function tG(t){const e=Mr(d5),r=Mr(Voe),n=pe(()=>e.resolve(y(t.to))),i=pe(()=>{const{matched:l}=n.value,{length:u}=l,d=l[u-1],f=r.matched;if(!d||!f.length)return-1;const h=f.findIndex(Av.bind(null,d));if(h>-1)return h;const g=rG(l[u-2]);return u>1&&rG(d)===g&&f[f.length-1].path!==g?f.findIndex(Av.bind(null,l[u-2])):h}),s=pe(()=>i.value>-1&&Oft(r.params,n.value.params)),o=pe(()=>i.value>-1&&i.value===r.matched.length-1&&Loe(r.params,n.value.params));function a(l={}){return Ift(l)?e[y(t.replace)?"replace":"push"](y(t.to)).catch(x2):Promise.resolve()}return{route:n,href:pe(()=>n.value.href),isActive:s,isExactActive:o,navigate:a}}const Pft=rt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:tG,setup(t,{slots:e}){const r=vn(tG(t)),{options:n}=Mr(d5),i=pe(()=>({[nG(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[nG(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&e.default(r);return t.custom?s:Tr("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},s)}}}),kft=Pft;function Ift(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Oft(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!cc(i)||i.length!==n.length||n.some((s,o)=>s!==i[o]))return!1}return!0}function rG(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const nG=(t,e,r)=>t??e??r,Dft=rt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Mr(jD),i=pe(()=>t.route||n.value),s=Mr(eG,0),o=pe(()=>{let u=y(s);const{matched:d}=i.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),a=pe(()=>i.value.matched[o.value]);_i(eG,pe(()=>o.value+1)),_i(Cft,a),_i(jD,i);const l=ye();return Gt(()=>[l.value,a.value,t.name],([u,d,f],[h,g,p])=>{d&&(d.instances[f]=u,g&&g!==d&&u&&u===h&&(d.leaveGuards.size||(d.leaveGuards=g.leaveGuards),d.updateGuards.size||(d.updateGuards=g.updateGuards))),u&&d&&(!g||!Av(d,g)||!h)&&(d.enterCallbacks[f]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=i.value,d=t.name,f=a.value,h=f&&f.components[d];if(!h)return iG(r.default,{Component:h,route:u});const g=f.props[d],p=g?g===!0?u.params:typeof g=="function"?g(u):g:null,b=Tr(h,Ii({},p,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(f.instances[d]=null)},ref:l}));return iG(r.default,{Component:b,route:u})||b}}});function iG(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Mft=Dft;function Rft(t){const e=bft(t.routes,t),r=t.parseQuery||Tft,n=t.stringifyQuery||JH,i=t.history,s=py(),o=py(),a=py(),l=wa(rh);let u=rh;Qm&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=CP.bind(null,Re=>""+Re),f=CP.bind(null,Wdt),h=CP.bind(null,Nb);function g(Re,wt){let vt,pt;return Noe(Re)?(vt=e.getRecordMatcher(Re),pt=wt):pt=Re,e.addRoute(pt,vt)}function p(Re){const wt=e.getRecordMatcher(Re);wt&&e.removeRoute(wt)}function v(){return e.getRoutes().map(Re=>Re.record)}function b(Re){return!!e.getRecordMatcher(Re)}function S(Re,wt){if(wt=Ii({},wt||l.value),typeof Re=="string"){const Oe=AP(r,Re,wt.path),nt=e.resolve({path:Oe.path},wt),Ke=i.createHref(Oe.fullPath);return Ii(Oe,nt,{params:h(nt.params),hash:Nb(Oe.hash),redirectedFrom:void 0,href:Ke})}let vt;if(Re.path!=null)vt=Ii({},Re,{path:AP(r,Re.path,wt.path).path});else{const Oe=Ii({},Re.params);for(const nt in Oe)Oe[nt]==null&&delete Oe[nt];vt=Ii({},Re,{params:f(Oe)}),wt.params=f(wt.params)}const pt=e.resolve(vt,wt),Ut=Re.hash||"";pt.params=d(h(pt.params));const yt=Ydt(n,Ii({},Re,{hash:jdt(Ut),path:pt.path})),le=i.createHref(yt);return Ii({fullPath:yt,hash:Ut,query:n===JH?Eft(Re.query):Re.query||{}},pt,{redirectedFrom:void 0,href:le})}function T(Re){return typeof Re=="string"?AP(r,Re,l.value.path):Ii({},Re)}function E(Re,wt){if(u!==Re)return Pv(8,{from:wt,to:Re})}function C(Re){return L(Re)}function P(Re){return C(Ii(T(Re),{replace:!0}))}function D(Re){const wt=Re.matched[Re.matched.length-1];if(wt&&wt.redirect){const{redirect:vt}=wt;let pt=typeof vt=="function"?vt(Re):vt;return typeof pt=="string"&&(pt=pt.includes("?")||pt.includes("#")?pt=T(pt):{path:pt},pt.params={}),Ii({query:Re.query,hash:Re.hash,params:pt.path!=null?{}:Re.params},pt)}}function L(Re,wt){const vt=u=S(Re),pt=l.value,Ut=Re.state,yt=Re.force,le=Re.replace===!0,Oe=D(vt);if(Oe)return L(Ii(T(Oe),{state:typeof Oe=="object"?Ii({},Ut,Oe.state):Ut,force:yt,replace:le}),wt||vt);const nt=vt;nt.redirectedFrom=wt;let Ke;return!yt&&Kdt(n,pt,vt)&&(Ke=Pv(16,{to:nt,from:pt}),ie(pt,pt,!0,!1)),(Ke?Promise.resolve(Ke):se(nt,pt)).catch(ct=>Vd(ct)?Vd(ct,2)?ct:J(ct):ae(ct,nt,pt)).then(ct=>{if(ct){if(Vd(ct,2))return L(Ii({replace:le},T(ct.to),{state:typeof ct.to=="object"?Ii({},Ut,ct.to.state):Ut,force:yt}),wt||nt)}else ct=X(nt,pt,!0,le,Ut);return q(nt,pt,ct),ct})}function j(Re,wt){const vt=E(Re,wt);return vt?Promise.reject(vt):Promise.resolve()}function te(Re){const wt=et.values().next().value;return wt&&typeof wt.runWithContext=="function"?wt.runWithContext(Re):Re()}function se(Re,wt){let vt;const[pt,Ut,yt]=$ft(Re,wt);vt=PP(pt.reverse(),"beforeRouteLeave",Re,wt);for(const Oe of pt)Oe.leaveGuards.forEach(nt=>{vt.push(vh(nt,Re,wt))});const le=j.bind(null,Re,wt);return vt.push(le),lt(vt).then(()=>{vt=[];for(const Oe of s.list())vt.push(vh(Oe,Re,wt));return vt.push(le),lt(vt)}).then(()=>{vt=PP(Ut,"beforeRouteUpdate",Re,wt);for(const Oe of Ut)Oe.updateGuards.forEach(nt=>{vt.push(vh(nt,Re,wt))});return vt.push(le),lt(vt)}).then(()=>{vt=[];for(const Oe of yt)if(Oe.beforeEnter)if(cc(Oe.beforeEnter))for(const nt of Oe.beforeEnter)vt.push(vh(nt,Re,wt));else vt.push(vh(Oe.beforeEnter,Re,wt));return vt.push(le),lt(vt)}).then(()=>(Re.matched.forEach(Oe=>Oe.enterCallbacks={}),vt=PP(yt,"beforeRouteEnter",Re,wt,te),vt.push(le),lt(vt))).then(()=>{vt=[];for(const Oe of o.list())vt.push(vh(Oe,Re,wt));return vt.push(le),lt(vt)}).catch(Oe=>Vd(Oe,8)?Oe:Promise.reject(Oe))}function q(Re,wt,vt){a.list().forEach(pt=>te(()=>pt(Re,wt,vt)))}function X(Re,wt,vt,pt,Ut){const yt=E(Re,wt);if(yt)return yt;const le=wt===rh,Oe=Qm?history.state:{};vt&&(pt||le?i.replace(Re.fullPath,Ii({scroll:le&&Oe&&Oe.scroll},Ut)):i.push(Re.fullPath,Ut)),l.value=Re,ie(Re,wt,vt,le),J()}let Q;function $(){Q||(Q=i.listen((Re,wt,vt)=>{if(!Je.listening)return;const pt=S(Re),Ut=D(pt);if(Ut){L(Ii(Ut,{replace:!0}),pt).catch(x2);return}u=pt;const yt=l.value;Qm&&ift(GH(yt.fullPath,vt.delta),qC()),se(pt,yt).catch(le=>Vd(le,12)?le:Vd(le,2)?(L(le.to,pt).then(Oe=>{Vd(Oe,20)&&!vt.delta&&vt.type===Bb.pop&&i.go(-1,!1)}).catch(x2),Promise.reject()):(vt.delta&&i.go(-vt.delta,!1),ae(le,pt,yt))).then(le=>{le=le||X(pt,yt,!1),le&&(vt.delta&&!Vd(le,8)?i.go(-vt.delta,!1):vt.type===Bb.pop&&Vd(le,20)&&i.go(-1,!1)),q(pt,yt,le)}).catch(x2)}))}let V=py(),Y=py(),ee;function ae(Re,wt,vt){J(Re);const pt=Y.list();return pt.length?pt.forEach(Ut=>Ut(Re,wt,vt)):console.error(Re),Promise.reject(Re)}function H(){return ee&&l.value!==rh?Promise.resolve():new Promise((Re,wt)=>{V.add([Re,wt])})}function J(Re){return ee||(ee=!Re,$(),V.list().forEach(([wt,vt])=>Re?vt(Re):wt()),V.reset()),Re}function ie(Re,wt,vt,pt){const{scrollBehavior:Ut}=t;if(!Qm||!Ut)return Promise.resolve();const yt=!vt&&sft(GH(Re.fullPath,0))||(pt||!vt)&&history.state&&history.state.scroll||null;return Hr().then(()=>Ut(Re,wt,yt)).then(le=>le&&nft(le)).catch(le=>ae(le,Re,wt))}const xe=Re=>i.go(Re);let qe;const et=new Set,Je={currentRoute:l,listening:!0,addRoute:g,removeRoute:p,hasRoute:b,getRoutes:v,resolve:S,options:t,push:C,replace:P,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:Y.add,isReady:H,install(Re){const wt=this;Re.component("RouterLink",kft),Re.component("RouterView",Mft),Re.config.globalProperties.$router=wt,Object.defineProperty(Re.config.globalProperties,"$route",{enumerable:!0,get:()=>y(l)}),Qm&&!qe&&l.value===rh&&(qe=!0,C(i.location).catch(Ut=>{}));const vt={};for(const Ut in rh)Object.defineProperty(vt,Ut,{get:()=>l.value[Ut],enumerable:!0});Re.provide(d5,wt),Re.provide(Voe,eM(vt)),Re.provide(jD,l);const pt=Re.unmount;et.add(Re),Re.unmount=function(){et.delete(Re),et.size<1&&(u=rh,Q&&Q(),Q=null,l.value=rh,qe=!1,ee=!1),pt()}}};function lt(Re){return Re.reduce((wt,vt)=>wt.then(()=>te(vt)),Promise.resolve())}return Je}function $ft(t,e){const r=[],n=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Av(u,a))?n.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Av(u,l))||i.push(l))}return[r,n,i]}const Lft="modulepreload",Fft=function(t){return"/"+t},sG={},uw=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=Fft(s),s in sG)return;sG[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Lft,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Nft={path:"/",children:[{path:"kubernetes",name:"kubernetes",component:()=>uw(()=>import("./Kubernetes-4203471d.js"),[])},{path:"kibana",name:"kibana",component:()=>uw(()=>import("./Kibana-2d66ac5e.js"),[])},{path:"harbor",name:"harbor",component:()=>uw(()=>import("./Harbor-9f98d2b1.js"),[])},{path:"kafka",name:"kafka",component:()=>uw(()=>import("./Kafka-aa4340e8.js"),[])}]},Bft=[Nft],Uft=Rft({history:uft(),routes:Bft});if(typeof window<"u"){let t=function(){var e=document.body,r=document.getElementById("__svg__icons__dom__");r||(r=document.createElementNS("http://www.w3.org/2000/svg","svg"),r.style.position="absolute",r.style.width="0",r.style.height="0",r.id="__svg__icons__dom__",r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),r.innerHTML=`<symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-0">
                <ellipse class="nixie-number-part" cx="128" cy="256" rx="115" ry="246" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-1">
                <line class="nixie-number-part" x1="128" y1="10" x2="66" y2="72" />
                <line class="nixie-number-part" x1="128" y1="492" x2="128" y2="10" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-2">
                <path class="nixie-number-part" d="M38.3,66.4C59.3,32,91.7,10,128,10c63.5,0,115,67.5,115,150.7s-51.5,150.7-115,150.7" />
                <path class="nixie-number-part" d="M13,496c0-102,51.5-184.7,115-184.7" />
                <line class="nixie-number-part" x1="13" y1="496" x2="227.3" y2="496" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-3">
                <path class="nixie-number-part" d="M22,410.8c16.8,46.4,57.9,86.3,106,85.9c59.7-0.5,115-63,115-140.6c0-74.1-50.4-126.7-93.5-138.1" />
                <line class="nixie-number-part" x1="149.5" y1="218" x2="243" y2="13" />
                <line class="nixie-number-part" x1="27.3" y1="13" x2="243" y2="13" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-4">
                <line class="nixie-number-part" x1="196.2" y1="13" x2="196.2" y2="496.7" />
                <line class="nixie-number-part" x1="196.2" y1="356.1" x2="22" y2="356.1" />
                <line class="nixie-number-part" x1="196.2" y1="13" x2="22" y2="356.1" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-5">
                <path class="nixie-number-part" d="M38.3,442.6C59.3,477,91.7,499,128,499c63.5,0,115-67.5,115-150.7s-51.5-150.7-115-150.7" />
                <path class="nixie-number-part" d="M13,13c0,102,51.5,184.7,115,184.7" />
                <line class="nixie-number-part" x1="13" y1="13" x2="227.3" y2="13" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-6">
                <circle class="nixie-number-part" cx="128" cy="384" r="115" />
                <line class="nixie-number-part" x1="18.6" y1="348.3" x2="120.2" y2="13" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-7">
                <line class="nixie-number-part" x1="15.5" y1="13" x2="240.5" y2="13" />
                <line class="nixie-number-part" x1="128" y1="496.7" x2="240.5" y2="13" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-8">
                <ellipse class="nixie-number-part" cx="128" cy="129" rx="99.2" ry="116" />
                <ellipse class="nixie-number-part" cx="128" cy="370.8" rx="112.5" ry="125.8" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-9">
                <circle class="nixie-number-part" cx="128" cy="128" r="115" />
                <line class="nixie-number-part" x1="237.4" y1="163.7" x2="135.8" y2="499" />
            </symbol>`,e.insertBefore(r,e.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t()}const zoe=SW(Ddt);zoe.use(Uft);zoe.mount("#app");export{He as a,Ue as c,rt as d,sn as n,he as o};
